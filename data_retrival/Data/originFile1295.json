{"items":[{"tags":["java","apache-poi","out-of-memory"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1380980516,"post_id":19192651,"comment_id":28407834,"body_markdown":"How much formatting / fancy stuff does your file have? And is there any chance you could arrange it so that new rows only need to go into new sheets?","body":"How much formatting / fancy stuff does your file have? And is there any chance you could arrange it so that new rows only need to go into new sheets?"},{"owner":{"account_id":358502,"reputation":7031,"user_id":699304,"accept_rate":86,"display_name":"Nicklas A."},"score":0,"creation_date":1381145352,"post_id":19192651,"comment_id":28450086,"body_markdown":"How of what we&#39;re writing is new cells and rows but we have to mark formulas as dirty or excel will display its own value. Perhaps it&#39;s worth looking into splitting it up into creation and updating and using SXSSF for creating only.","body":"How of what we&#39;re writing is new cells and rows but we have to mark formulas as dirty or excel will display its own value. Perhaps it&#39;s worth looking into splitting it up into creation and updating and using SXSSF for creating only."}],"answers":[{"tags":[],"owner":{"account_id":3053244,"reputation":347,"user_id":2587410,"accept_rate":44,"display_name":"ParoTech"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381123564,"creation_date":1381123564,"answer_id":19217612,"question_id":19192651,"body_markdown":"To handle large data with low memory, the best and I think the only option is SXSSF api-s. \r\nIf you need to read some data of the existing cells, I assume you do not need the entire 4M+ at the same time.\r\nIn such a case based on your application requirement, you can handle the window size yourself and keep in memory only the amount of data you need at a particular time.\r\nYou can start by looking at the example at :\r\nhttp://poi.apache.org/spreadsheet/how-to.html#sxssf\r\n\r\nSomething as \r\n\r\n    SXSSFWorkbook wb = new SXSSFWorkbook(-1); // turn off auto-flushing and accumulate all rows in memory\r\n    // manually control how rows are flushed to disk \r\n    if(rownum % NOR == 0) {\r\n    ((SXSSFSheet)sh).flushRows(NOR); // retain NOR last rows and flush all others\r\n\r\nHope this helps.","title":"Low memory writing/reading with Apache POI","body":"<p>To handle large data with low memory, the best and I think the only option is SXSSF api-s. \nIf you need to read some data of the existing cells, I assume you do not need the entire 4M+ at the same time.\nIn such a case based on your application requirement, you can handle the window size yourself and keep in memory only the amount of data you need at a particular time.\nYou can start by looking at the example at :\n<a href=\"http://poi.apache.org/spreadsheet/how-to.html#sxssf\" rel=\"noreferrer\">http://poi.apache.org/spreadsheet/how-to.html#sxssf</a></p>\n\n<p>Something as </p>\n\n<pre><code>SXSSFWorkbook wb = new SXSSFWorkbook(-1); // turn off auto-flushing and accumulate all rows in memory\n// manually control how rows are flushed to disk \nif(rownum % NOR == 0) {\n((SXSSFSheet)sh).flushRows(NOR); // retain NOR last rows and flush all others\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499424798,"creation_date":1499424798,"answer_id":44969009,"question_id":19192651,"body_markdown":"I used SAX parser to process events of the XML document presentation. This is\r\n\r\n\timport com.sun.org.apache.xerces.internal.parsers.SAXParser;\r\n\timport org.apache.poi.openxml4j.opc.PackageAccess;\r\n\timport org.apache.poi.ss.usermodel.Cell;\r\n\timport org.apache.poi.ss.usermodel.Row;\r\n\timport org.apache.poi.ss.usermodel.Sheet;\r\n\timport org.apache.poi.xssf.eventusermodel.XSSFReader;\r\n\timport org.apache.poi.xssf.model.SharedStringsTable;\r\n\timport org.apache.poi.openxml4j.opc.OPCPackage;\r\n\timport org.apache.poi.xssf.usermodel.XSSFRichTextString;\r\n\timport org.xml.sax.Attributes;\r\n\timport org.xml.sax.ContentHandler;\r\n\timport org.xml.sax.InputSource;\r\n\timport org.xml.sax.SAXException;\r\n\timport org.xml.sax.XMLReader;\r\n\timport org.xml.sax.helpers.DefaultHandler;\r\n\r\n\timport java.io.BufferedInputStream;\r\n\timport java.io.InputStream;\r\n\timport java.util.Collections;\r\n\timport java.util.Iterator;\r\n\timport java.util.LinkedList;\r\n\timport java.util.List;\r\n\r\n\r\n\tpublic class LowMemoryExcelFileReader {\r\n\r\n\t\tprivate String file;\r\n\r\n\t\tpublic LowMemoryExcelFileReader(String file) {\r\n\t\t\tthis.file = file;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;String[]&gt; read() {\r\n\t\t\ttry {\r\n\t\t\t\treturn processFirstSheet(file);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t   throw new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate List&lt;String []&gt; readSheet(Sheet sheet) {\r\n\t\t\tList&lt;String []&gt; res = new LinkedList&lt;&gt;();\r\n\t\t\tIterator&lt;Row&gt; rowIterator = sheet.rowIterator();\r\n\r\n\t\t\twhile (rowIterator.hasNext()) {\r\n\t\t\t\tRow row = rowIterator.next();\r\n\t\t\t\tint cellsNumber = row.getLastCellNum();\r\n\t\t\t\tString [] cellsValues = new String[cellsNumber];\r\n\r\n\t\t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n\t\t\t\tint cellIndex = 0;\r\n\r\n\t\t\t\twhile (cellIterator.hasNext()) {\r\n\t\t\t\t\tCell cell = cellIterator.next();\r\n\t\t\t\t\tcellsValues[cellIndex++] = cell.getStringCellValue();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tres.add(cellsValues);\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}\r\n\r\n\t\tpublic String getFile() {\r\n\t\t\treturn file;\r\n\t\t}\r\n\r\n\t\tpublic void setFile(String file) {\r\n\t\t\tthis.file = file;\r\n\t\t}\r\n\r\n\t\tprivate List&lt;String []&gt; processFirstSheet(String filename) throws Exception {\r\n\t\t\tOPCPackage pkg = OPCPackage.open(filename, PackageAccess.READ);\r\n\t\t\tXSSFReader r = new XSSFReader(pkg);\r\n\t\t\tSharedStringsTable sst = r.getSharedStringsTable();\r\n\r\n\t\t\tSheetHandler handler = new SheetHandler(sst);\r\n\t\t\tXMLReader parser = fetchSheetParser(handler);\r\n\t\t\tIterator&lt;InputStream&gt; sheetIterator = r.getSheetsData();\r\n\r\n\t\t\tif (!sheetIterator.hasNext()) {\r\n\t\t\t\treturn Collections.emptyList();\r\n\t\t\t}\r\n\r\n\t\t\tInputStream sheetInputStream = sheetIterator.next();\r\n\t\t\tBufferedInputStream bisSheet = new BufferedInputStream(sheetInputStream);\r\n\t\t\tInputSource sheetSource = new InputSource(bisSheet);\r\n\t\t\tparser.parse(sheetSource);\r\n\t\t\tList&lt;String []&gt; res = handler.getRowCache();\r\n\t\t\tbisSheet.close();\r\n\t\t\treturn res;\r\n\t\t}\r\n\r\n\t\tpublic XMLReader fetchSheetParser(ContentHandler handler) throws SAXException {\r\n\t\t\tXMLReader parser = new SAXParser();\r\n\t\t\tparser.setContentHandler(handler);\r\n\t\t\treturn parser;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * See org.xml.sax.helpers.DefaultHandler javadocs\r\n\t\t */\r\n\t\tprivate static class SheetHandler extends DefaultHandler {\r\n\r\n\t\t\tprivate static final String ROW_EVENT = &quot;row&quot;;\r\n\t\t\tprivate static final String CELL_EVENT = &quot;c&quot;;\r\n\r\n\t\t\tprivate SharedStringsTable sst;\r\n\t\t\tprivate String lastContents;\r\n\t\t\tprivate boolean nextIsString;\r\n\r\n\t\t\tprivate List&lt;String&gt; cellCache = new LinkedList&lt;&gt;();\r\n\t\t\tprivate List&lt;String[]&gt; rowCache = new LinkedList&lt;&gt;();\r\n\r\n\t\t\tprivate SheetHandler(SharedStringsTable sst) {\r\n\t\t\t\tthis.sst = sst;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void startElement(String uri, String localName, String name,\r\n\t\t\t\t\t\t\t\t\t Attributes attributes) throws SAXException {\r\n\t\t\t\t// c =&gt; cell\r\n\t\t\t\tif (CELL_EVENT.equals(name)) {\r\n\t\t\t\t\tString cellType = attributes.getValue(&quot;t&quot;);\r\n\t\t\t\t\tif(cellType != null &amp;&amp; cellType.equals(&quot;s&quot;)) {\r\n\t\t\t\t\t\tnextIsString = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextIsString = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (ROW_EVENT.equals(name)) {\r\n\t\t\t\t\tif (!cellCache.isEmpty()) {\r\n\t\t\t\t\t\trowCache.add(cellCache.toArray(new String[cellCache.size()]));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcellCache.clear();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Clear contents cache\r\n\t\t\t\tlastContents = &quot;&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void endElement(String uri, String localName, String name)\r\n\t\t\t\t\tthrows SAXException {\r\n\t\t\t\t// Process the last contents as required.\r\n\t\t\t\t// Do now, as characters() may be called more than once\r\n\t\t\t\tif(nextIsString) {\r\n\t\t\t\t\tint idx = Integer.parseInt(lastContents);\r\n\t\t\t\t\tlastContents = new XSSFRichTextString(sst.getEntryAt(idx)).toString();\r\n\t\t\t\t\tnextIsString = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// v =&gt; contents of a cell\r\n\t\t\t\t// Output after we&#39;ve seen the string contents\r\n\t\t\t\tif(name.equals(&quot;v&quot;)) {\r\n\t\t\t\t\tcellCache.add(lastContents);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpublic void characters(char[] ch, int start, int length)\r\n\t\t\t\t\tthrows SAXException {\r\n\t\t\t\tlastContents += new String(ch, start, length);\r\n\t\t\t}\r\n\r\n\t\t\tpublic List&lt;String[]&gt; getRowCache() {\r\n\t\t\t\treturn rowCache;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Low memory writing/reading with Apache POI","body":"<p>I used SAX parser to process events of the XML document presentation. This is</p>\n\n<pre><code>import com.sun.org.apache.xerces.internal.parsers.SAXParser;\nimport org.apache.poi.openxml4j.opc.PackageAccess;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.xssf.eventusermodel.XSSFReader;\nimport org.apache.poi.xssf.model.SharedStringsTable;\nimport org.apache.poi.openxml4j.opc.OPCPackage;\nimport org.apache.poi.xssf.usermodel.XSSFRichTextString;\nimport org.xml.sax.Attributes;\nimport org.xml.sax.ContentHandler;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.XMLReader;\nimport org.xml.sax.helpers.DefaultHandler;\n\nimport java.io.BufferedInputStream;\nimport java.io.InputStream;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\n\n\npublic class LowMemoryExcelFileReader {\n\n    private String file;\n\n    public LowMemoryExcelFileReader(String file) {\n        this.file = file;\n    }\n\n    public List&lt;String[]&gt; read() {\n        try {\n            return processFirstSheet(file);\n        } catch (Exception e) {\n           throw new RuntimeException(e);\n        }\n    }\n\n    private List&lt;String []&gt; readSheet(Sheet sheet) {\n        List&lt;String []&gt; res = new LinkedList&lt;&gt;();\n        Iterator&lt;Row&gt; rowIterator = sheet.rowIterator();\n\n        while (rowIterator.hasNext()) {\n            Row row = rowIterator.next();\n            int cellsNumber = row.getLastCellNum();\n            String [] cellsValues = new String[cellsNumber];\n\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n            int cellIndex = 0;\n\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                cellsValues[cellIndex++] = cell.getStringCellValue();\n            }\n\n            res.add(cellsValues);\n        }\n        return res;\n    }\n\n    public String getFile() {\n        return file;\n    }\n\n    public void setFile(String file) {\n        this.file = file;\n    }\n\n    private List&lt;String []&gt; processFirstSheet(String filename) throws Exception {\n        OPCPackage pkg = OPCPackage.open(filename, PackageAccess.READ);\n        XSSFReader r = new XSSFReader(pkg);\n        SharedStringsTable sst = r.getSharedStringsTable();\n\n        SheetHandler handler = new SheetHandler(sst);\n        XMLReader parser = fetchSheetParser(handler);\n        Iterator&lt;InputStream&gt; sheetIterator = r.getSheetsData();\n\n        if (!sheetIterator.hasNext()) {\n            return Collections.emptyList();\n        }\n\n        InputStream sheetInputStream = sheetIterator.next();\n        BufferedInputStream bisSheet = new BufferedInputStream(sheetInputStream);\n        InputSource sheetSource = new InputSource(bisSheet);\n        parser.parse(sheetSource);\n        List&lt;String []&gt; res = handler.getRowCache();\n        bisSheet.close();\n        return res;\n    }\n\n    public XMLReader fetchSheetParser(ContentHandler handler) throws SAXException {\n        XMLReader parser = new SAXParser();\n        parser.setContentHandler(handler);\n        return parser;\n    }\n\n    /**\n     * See org.xml.sax.helpers.DefaultHandler javadocs\n     */\n    private static class SheetHandler extends DefaultHandler {\n\n        private static final String ROW_EVENT = \"row\";\n        private static final String CELL_EVENT = \"c\";\n\n        private SharedStringsTable sst;\n        private String lastContents;\n        private boolean nextIsString;\n\n        private List&lt;String&gt; cellCache = new LinkedList&lt;&gt;();\n        private List&lt;String[]&gt; rowCache = new LinkedList&lt;&gt;();\n\n        private SheetHandler(SharedStringsTable sst) {\n            this.sst = sst;\n        }\n\n        public void startElement(String uri, String localName, String name,\n                                 Attributes attributes) throws SAXException {\n            // c =&gt; cell\n            if (CELL_EVENT.equals(name)) {\n                String cellType = attributes.getValue(\"t\");\n                if(cellType != null &amp;&amp; cellType.equals(\"s\")) {\n                    nextIsString = true;\n                } else {\n                    nextIsString = false;\n                }\n            } else if (ROW_EVENT.equals(name)) {\n                if (!cellCache.isEmpty()) {\n                    rowCache.add(cellCache.toArray(new String[cellCache.size()]));\n                }\n                cellCache.clear();\n            }\n\n            // Clear contents cache\n            lastContents = \"\";\n        }\n\n        public void endElement(String uri, String localName, String name)\n                throws SAXException {\n            // Process the last contents as required.\n            // Do now, as characters() may be called more than once\n            if(nextIsString) {\n                int idx = Integer.parseInt(lastContents);\n                lastContents = new XSSFRichTextString(sst.getEntryAt(idx)).toString();\n                nextIsString = false;\n            }\n\n            // v =&gt; contents of a cell\n            // Output after we've seen the string contents\n            if(name.equals(\"v\")) {\n                cellCache.add(lastContents);\n            }\n        }\n\n        public void characters(char[] ch, int start, int length)\n                throws SAXException {\n            lastContents += new String(ch, start, length);\n        }\n\n        public List&lt;String[]&gt; getRowCache() {\n            return rowCache;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":358502,"reputation":7031,"user_id":699304,"accept_rate":86,"display_name":"Nicklas A."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13673,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1654168166,"creation_date":1380932500,"question_id":19192651,"body_markdown":"I&#39;m trying to write a pretty large XLSX file (4M+ cells) and I&#39;m having some memory issues.\r\n\r\nI can&#39;t use SXSSF since I also need to read the existing cells in the template.\r\n\r\nIs there anything I can do to reduce the memory footprint?  \r\nPerhaps combine streaming reading and streaming writing?","title":"Low memory writing/reading with Apache POI","body":"<p>I'm trying to write a pretty large XLSX file (4M+ cells) and I'm having some memory issues.</p>\n\n<p>I can't use SXSSF since I also need to read the existing cells in the template.</p>\n\n<p>Is there anything I can do to reduce the memory footprint?<br>\nPerhaps combine streaming reading and streaming writing?</p>\n"},{"tags":["java","android","curl","adb","squid"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1654156289,"post_id":72466226,"comment_id":128025486,"body_markdown":"The error message comes from a Squid proxy, do you have a running Squid on your Android phone? If not I assume there is a proxy set in the Android network settings and the proxy is used even for 127.0.0.1 connections. For the request your Android phone then connects to the proxy and on the proxy 127.0.0.1 refers to the proxy server and not the server you are running locally on Android. You need to ignore the configured proxy in your Java/Kotlin code (as curl does by default).","body":"The error message comes from a Squid proxy, do you have a running Squid on your Android phone? If not I assume there is a proxy set in the Android network settings and the proxy is used even for 127.0.0.1 connections. For the request your Android phone then connects to the proxy and on the proxy 127.0.0.1 refers to the proxy server and not the server you are running locally on Android. You need to ignore the configured proxy in your Java/Kotlin code (as curl does by default)."},{"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"score":0,"creation_date":1654188610,"post_id":72466226,"comment_id":128037232,"body_markdown":"@Robert Do you know how I can ignore the proxy, or outright disable it on the phone?","body":"@Robert Do you know how I can ignore the proxy, or outright disable it on the phone?"}],"answers":[{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654108084,"creation_date":1654108084,"answer_id":72466521,"question_id":72466226,"body_markdown":"To perform network operations in your application, your manifest must include the following permissions:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\nSee https://developer.android.com/training/basics/network-ops/connecting","title":"HTTP request works in curl but fails with 503 in apps?","body":"<p>To perform network operations in your application, your manifest must include the following permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>See <a href=\"https://developer.android.com/training/basics/network-ops/connecting\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/network-ops/connecting</a></p>\n"},{"tags":[],"owner":{"account_id":10003350,"reputation":456,"user_id":7398620,"display_name":"Shubhendra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654168005,"creation_date":1654168005,"answer_id":72475230,"question_id":72466226,"body_markdown":"Have you added this IP in network_security_config.xml\r\n\r\nhttps://developer.android.com/training/articles/security-config","title":"HTTP request works in curl but fails with 503 in apps?","body":"<p>Have you added this IP in network_security_config.xml</p>\n<p><a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-config</a></p>\n"}],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654168005,"creation_date":1654106505,"question_id":72466226,"body_markdown":"I am hosting an api on my phone at localhost, and when I adb shell into the device at try a curl command to the localhost it works. But when I try to do it in java or kotlin the server returns a 503 and a weird error message in html?\r\n\r\nThis is the curl command: \r\n```\r\ncurl -X POST -H &quot;Content-Type: application/json&quot; --data &#39;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;web3_clientVersion&quot;,&quot;params&quot;:[],&quot;id&quot;:67}&#39; http://127.0.0.1:8545\r\n```\r\n\r\nThis is the html error page that I receive:\r\n[![Error Page][1]][1]\r\n\r\nAnd this is the code:\r\n```\r\n &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n &lt;html&gt;&lt;head&gt;\r\n &lt;meta type=&quot;copyright&quot; content=&quot;Copyright (C) 1996-2018 The Squid Software Foundation and contributors&quot;&gt;\r\n &lt;meta http-equiv=&quot;Content-Type&quot; CONTENT=&quot;text/html; charset=utf-8&quot;&gt;\r\n &lt;title&gt;ERROR: The requested URL could not be retrieved&lt;/title&gt;\r\n &lt;style type=&quot;text/css&quot;&gt;&lt;!-- \r\n  /*\r\n  * Copyright (C) 1996-2018 The Squid Software Foundation and contributors\r\n  *\r\n  * Squid software is distributed under GPLv2+ license and includes\r\n  * contributions from numerous individuals and organizations.\r\n  * Please see the COPYING and CONTRIBUTORS files for details.\r\n  */\r\n \r\n /*\r\n  Stylesheet for Squid Error pages\r\n  Adapted from design by Free CSS Templates\r\n  http://www.freecsstemplates.org\r\n  Released for free under a Creative Commons Attribution 2.5 License\r\n */\r\n \r\n /* Page basics */\r\n * {\r\n \tfont-family: verdana, sans-serif;\r\n }\r\n \r\n html body {\r\n \tmargin: 0;\r\n \tpadding: 0;\r\n \tbackground: #efefef;\r\n \tfont-size: 12px;\r\n \tcolor: #1e1e1e;\r\n }\r\n \r\n /* Page displayed title area */\r\n #titles {\r\n \tmargin-left: 15px;\r\n \tpadding: 10px;\r\n \tpadding-left: 100px;\r\n \tbackground: url(&#39;/squid-internal-static/icons/SN.png&#39;) no-repeat left;\r\n }\r\n \r\n /* initial title */\r\n #titles h1 {\r\n \tcolor: #000000;\r\n }\r\n #titles h2 {\r\n \tcolor: #000000;\r\n }\r\n \r\n /* special event: FTP success page titles */\r\n #titles ftpsuccess {\r\n \tbackground-color:#00ff00;\r\n \twidth:100%;\r\n }\r\n \r\n /* Page displayed body content area */\r\n #content {\r\n \tpadding: 10px;\r\n \tbackground: #ffffff;\r\n }\r\n \r\n /* General text */\r\n p {\r\n }\r\n \r\n /* error brief description */\r\n #error p {\r\n }\r\n \r\n /* some data which may have caused the problem */\r\n #data {\r\n }\r\n \r\n /* the error message received from the system or other software */\r\n #sysmsg {\r\n }\r\n \r\n pre {\r\n }\r\n \r\n /* special event: FTP / Gopher directory listing */\r\n #dirmsg {\r\n     font-family: courier, monospace;\r\n     color: black;\r\n     font-size: 10pt;\r\n }\r\n #dirlisting {\r\n     margin-left: 2%;\r\n     margin-right: 2%;\r\n }\r\n #dirlisting tr.entry td.icon,td.filename,td.size,td.date {\r\n     border-bottom: groove;\r\n }\r\n #dirlisting td.size {\r\n     width: 50px;\r\n     text-align: right;\r\n     padding-right: 5px;\r\n }\r\n \r\n /* horizontal lines */\r\n hr {\r\n \tmargin: 0;\r\n }\r\n \r\n /* page displayed footer area */\r\n #footer {\r\n \tfont-size: 9px;\r\n \tpadding-left: 10px;\r\n }\r\n \r\n \r\n body\r\n :lang(fa) { direction: rtl; font-size: 100%; font-family: Tahoma, Roya, sans-serif; float: right; }\r\n :lang(he) { direction: rtl; }\r\n  --&gt;&lt;/style&gt;\r\n &lt;/head&gt;&lt;body id=ERR_CONNECT_FAIL&gt;\r\n &lt;div id=&quot;titles&quot;&gt;\r\n &lt;h1&gt;ERROR&lt;/h1&gt;\r\n &lt;h2&gt;The requested URL could not be retrieved&lt;/h2&gt;\r\n &lt;/div&gt;\r\n &lt;hr&gt;\r\n \r\n &lt;div id=&quot;content&quot;&gt;\r\n &lt;p&gt;The following error was encountered while trying to retrieve the URL: &lt;a href=&quot;http://127.0.0.1:8545/&quot;&gt;http://127.0.0.1:8545/&lt;/a&gt;&lt;/p&gt;\r\n \r\n &lt;blockquote id=&quot;error&quot;&gt;\r\n &lt;p&gt;&lt;b&gt;Connection to 127.0.0.1 failed.&lt;/b&gt;&lt;/p&gt;\r\n &lt;/blockquote&gt;\r\n \r\n &lt;p id=&quot;sysmsg&quot;&gt;The system returned: &lt;i&gt;(111) Connection refused&lt;/i&gt;&lt;/p&gt;\r\n \r\n &lt;p&gt;The remote host or network may be down. Please try the request again.&lt;/p&gt;\r\n \r\n &lt;p&gt;Your cache administrator is &lt;a href=&quot;mailto:webmaster?subject=CacheErrorInfo%20-%20ERR_CONNECT_FAIL&amp;amp;body=CacheHost%3A%20lxasmap001.at.inside%0D%0AErrPage%3A%20ERR_CONNECT_FAIL%0D%0AErr%3A%20(111)%20Connection%20refused%0D%0ATimeStamp%3A%20Wed,%2001%20Jun%202022%2017%3A52%3A09%20GMT%0D%0A%0D%0AClientIP%3A%2010.52.113.145%0D%0AServerIP%3A%20127.0.0.1%0D%0A%0D%0AHTTP%20Request%3A%0D%0APOST%20%2F%20HTTP%2F1.1%0AContent-Type%3A%20application%2Fjson%0D%0AUser-Agent%3A%20Dalvik%2F2.1.0%20(Linux%3B%20U%3B%20Android%2012%3B%20Pixel%203%20Build%2FSP2A.220405.004)%0D%0AConnection%3A%20Keep-Alive%0D%0AAccept-Encoding%3A%20gzip%0D%0AContent-Length%3A%2067%0D%0AHost%3A%20127.0.0.1%3A8545%0D%0A%0D%0A%0D%0A&quot;&gt;webmaster&lt;/a&gt;.&lt;/p&gt;\r\n \r\n &lt;br&gt;\r\n &lt;/div&gt;\r\n \r\n &lt;hr&gt;\r\n &lt;div id=&quot;footer&quot;&gt;\r\n &lt;p&gt;Generated Wed, 01 Jun 2022 17:52:09 GMT by lxasmap001.at.inside (squid/4.4)&lt;/p&gt;\r\n &lt;!-- ERR_CONNECT_FAIL --&gt;\r\n &lt;/div&gt;\r\n &lt;/body&gt;&lt;/html&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFGdB.png","title":"HTTP request works in curl but fails with 503 in apps?","body":"<p>I am hosting an api on my phone at localhost, and when I adb shell into the device at try a curl command to the localhost it works. But when I try to do it in java or kotlin the server returns a 503 and a weird error message in html?</p>\n<p>This is the curl command:</p>\n<pre><code>curl -X POST -H &quot;Content-Type: application/json&quot; --data '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;web3_clientVersion&quot;,&quot;params&quot;:[],&quot;id&quot;:67}' http://127.0.0.1:8545\n</code></pre>\n<p>This is the html error page that I receive:\n<a href=\"https://i.stack.imgur.com/ZFGdB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFGdB.png\" alt=\"Error Page\" /></a></p>\n<p>And this is the code:</p>\n<pre><code> &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n &lt;html&gt;&lt;head&gt;\n &lt;meta type=&quot;copyright&quot; content=&quot;Copyright (C) 1996-2018 The Squid Software Foundation and contributors&quot;&gt;\n &lt;meta http-equiv=&quot;Content-Type&quot; CONTENT=&quot;text/html; charset=utf-8&quot;&gt;\n &lt;title&gt;ERROR: The requested URL could not be retrieved&lt;/title&gt;\n &lt;style type=&quot;text/css&quot;&gt;&lt;!-- \n  /*\n  * Copyright (C) 1996-2018 The Squid Software Foundation and contributors\n  *\n  * Squid software is distributed under GPLv2+ license and includes\n  * contributions from numerous individuals and organizations.\n  * Please see the COPYING and CONTRIBUTORS files for details.\n  */\n \n /*\n  Stylesheet for Squid Error pages\n  Adapted from design by Free CSS Templates\n  http://www.freecsstemplates.org\n  Released for free under a Creative Commons Attribution 2.5 License\n */\n \n /* Page basics */\n * {\n    font-family: verdana, sans-serif;\n }\n \n html body {\n    margin: 0;\n    padding: 0;\n    background: #efefef;\n    font-size: 12px;\n    color: #1e1e1e;\n }\n \n /* Page displayed title area */\n #titles {\n    margin-left: 15px;\n    padding: 10px;\n    padding-left: 100px;\n    background: url('/squid-internal-static/icons/SN.png') no-repeat left;\n }\n \n /* initial title */\n #titles h1 {\n    color: #000000;\n }\n #titles h2 {\n    color: #000000;\n }\n \n /* special event: FTP success page titles */\n #titles ftpsuccess {\n    background-color:#00ff00;\n    width:100%;\n }\n \n /* Page displayed body content area */\n #content {\n    padding: 10px;\n    background: #ffffff;\n }\n \n /* General text */\n p {\n }\n \n /* error brief description */\n #error p {\n }\n \n /* some data which may have caused the problem */\n #data {\n }\n \n /* the error message received from the system or other software */\n #sysmsg {\n }\n \n pre {\n }\n \n /* special event: FTP / Gopher directory listing */\n #dirmsg {\n     font-family: courier, monospace;\n     color: black;\n     font-size: 10pt;\n }\n #dirlisting {\n     margin-left: 2%;\n     margin-right: 2%;\n }\n #dirlisting tr.entry td.icon,td.filename,td.size,td.date {\n     border-bottom: groove;\n }\n #dirlisting td.size {\n     width: 50px;\n     text-align: right;\n     padding-right: 5px;\n }\n \n /* horizontal lines */\n hr {\n    margin: 0;\n }\n \n /* page displayed footer area */\n #footer {\n    font-size: 9px;\n    padding-left: 10px;\n }\n \n \n body\n :lang(fa) { direction: rtl; font-size: 100%; font-family: Tahoma, Roya, sans-serif; float: right; }\n :lang(he) { direction: rtl; }\n  --&gt;&lt;/style&gt;\n &lt;/head&gt;&lt;body id=ERR_CONNECT_FAIL&gt;\n &lt;div id=&quot;titles&quot;&gt;\n &lt;h1&gt;ERROR&lt;/h1&gt;\n &lt;h2&gt;The requested URL could not be retrieved&lt;/h2&gt;\n &lt;/div&gt;\n &lt;hr&gt;\n \n &lt;div id=&quot;content&quot;&gt;\n &lt;p&gt;The following error was encountered while trying to retrieve the URL: &lt;a href=&quot;http://127.0.0.1:8545/&quot;&gt;http://127.0.0.1:8545/&lt;/a&gt;&lt;/p&gt;\n \n &lt;blockquote id=&quot;error&quot;&gt;\n &lt;p&gt;&lt;b&gt;Connection to 127.0.0.1 failed.&lt;/b&gt;&lt;/p&gt;\n &lt;/blockquote&gt;\n \n &lt;p id=&quot;sysmsg&quot;&gt;The system returned: &lt;i&gt;(111) Connection refused&lt;/i&gt;&lt;/p&gt;\n \n &lt;p&gt;The remote host or network may be down. Please try the request again.&lt;/p&gt;\n \n &lt;p&gt;Your cache administrator is &lt;a href=&quot;mailto:webmaster?subject=CacheErrorInfo%20-%20ERR_CONNECT_FAIL&amp;amp;body=CacheHost%3A%20lxasmap001.at.inside%0D%0AErrPage%3A%20ERR_CONNECT_FAIL%0D%0AErr%3A%20(111)%20Connection%20refused%0D%0ATimeStamp%3A%20Wed,%2001%20Jun%202022%2017%3A52%3A09%20GMT%0D%0A%0D%0AClientIP%3A%2010.52.113.145%0D%0AServerIP%3A%20127.0.0.1%0D%0A%0D%0AHTTP%20Request%3A%0D%0APOST%20%2F%20HTTP%2F1.1%0AContent-Type%3A%20application%2Fjson%0D%0AUser-Agent%3A%20Dalvik%2F2.1.0%20(Linux%3B%20U%3B%20Android%2012%3B%20Pixel%203%20Build%2FSP2A.220405.004)%0D%0AConnection%3A%20Keep-Alive%0D%0AAccept-Encoding%3A%20gzip%0D%0AContent-Length%3A%2067%0D%0AHost%3A%20127.0.0.1%3A8545%0D%0A%0D%0A%0D%0A&quot;&gt;webmaster&lt;/a&gt;.&lt;/p&gt;\n \n &lt;br&gt;\n &lt;/div&gt;\n \n &lt;hr&gt;\n &lt;div id=&quot;footer&quot;&gt;\n &lt;p&gt;Generated Wed, 01 Jun 2022 17:52:09 GMT by lxasmap001.at.inside (squid/4.4)&lt;/p&gt;\n &lt;!-- ERR_CONNECT_FAIL --&gt;\n &lt;/div&gt;\n &lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","arrays","database","jtable"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654167675,"creation_date":1654167266,"answer_id":72475050,"question_id":72474815,"body_markdown":"At every iteration, you&#39;re creating a new matrix `data` with only the info of the last product iterated. This is why you&#39;re seeing only the last item. This is just a syntax problem.\r\n\r\nAssuming the `productList` already contains the results from your database, you could initialize the rows of your matrix `data` with the number of products in your list, while the number of columns with the fixed value 4, which is the number of fields you want to display (id, name, price and category).\r\n\r\n```\r\nArrayList&lt;Produkt&gt; productList;\r\n\r\nprivate void createTable() {\r\n    String col[] = {&quot;ID&quot;, &quot;name&quot;, &quot;price&quot;, &quot;category&quot;};\r\n    \r\n    //Initialize the number of rows of your matrix with the number of products in your list\r\n    Object[][] data = new Object[productList.size()][4];\r\n\r\n    //Copy every i-th product field in its corresponding column\r\n    for (int i = 0; i &lt; productList.size(); i++) {\r\n        data[i][0] = productList.get(i).getId();\r\n        data[i][1] = productList.get(i).getName();\r\n        data[i][2] = productList.get(i).getPrice();\r\n        data[i][3] = productList.get(i).getCategory();\r\n    }\r\n    \r\n    productTable.setModel(new DefaultTableModel(data, col));\r\n}\r\n```","title":"Fill JTable with data from database","body":"<p>At every iteration, you're creating a new matrix <code>data</code> with only the info of the last product iterated. This is why you're seeing only the last item. This is just a syntax problem.</p>\n<p>Assuming the <code>productList</code> already contains the results from your database, you could initialize the rows of your matrix <code>data</code> with the number of products in your list, while the number of columns with the fixed value 4, which is the number of fields you want to display (id, name, price and category).</p>\n<pre><code>ArrayList&lt;Produkt&gt; productList;\n\nprivate void createTable() {\n    String col[] = {&quot;ID&quot;, &quot;name&quot;, &quot;price&quot;, &quot;category&quot;};\n    \n    //Initialize the number of rows of your matrix with the number of products in your list\n    Object[][] data = new Object[productList.size()][4];\n\n    //Copy every i-th product field in its corresponding column\n    for (int i = 0; i &lt; productList.size(); i++) {\n        data[i][0] = productList.get(i).getId();\n        data[i][1] = productList.get(i).getName();\n        data[i][2] = productList.get(i).getPrice();\n        data[i][3] = productList.get(i).getCategory();\n    }\n    \n    productTable.setModel(new DefaultTableModel(data, col));\n}\n</code></pre>\n"}],"owner":{"account_id":22628969,"reputation":219,"user_id":16806651,"display_name":"Peloucvo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72475050,"answer_count":1,"score":2,"last_activity_date":1654167675,"creation_date":1654166180,"question_id":72474815,"body_markdown":"I need to create `JTable` with data loaded from database, but I am struggling with converting `ArrayList` to something, that supports table model.\r\n\r\nI need to store data like this:\r\n\r\n      loadProducts();\r\n        data = new Object[][]{\r\n                {1, &quot;Big Mac&quot;, 100, 1},\r\n                {2, &quot;McChicken&quot;, 40, 1},\r\n                {3, &quot;Cheese&quot;, 100, 1}\r\n    \r\n        };\r\n\r\nAnd than I use this function for creating table, but I get only last element from my database.\r\nHow can I store every row from database here?\r\n\r\n\r\n    ArrayList&lt;Produkt&gt; productList;\r\n    \r\n    private void createTable() {\r\n\r\n\r\n        String col[] = {&quot;ID&quot;, &quot;name&quot;, &quot;price&quot;, &quot;category&quot;};\r\n        Object[][] data = new Object[0][];\r\n\r\n        DefaultTableModel tableModel = new DefaultTableModel(col, 0);\r\n        productTable.setModel(tableModel);\r\n\r\n        for (int i = 0; i &lt; productList.size(); i++) {\r\n            int id = productList.get(i).getId();\r\n            String  name = productList.get(i).getName();\r\n            double price = productList.get(i).getPrice();\r\n            int category = prodcttList.get(i).getCategory();\r\n\r\n            data = new Object[][]{\r\n                    {id, name, price, category}\r\n            };\r\n\r\n        }\r\n        productsTable.setModel(new DefaultTableModel(\r\n                data, col));\r\n    }\r\n\r\n\r\n","title":"Fill JTable with data from database","body":"<p>I need to create <code>JTable</code> with data loaded from database, but I am struggling with converting <code>ArrayList</code> to something, that supports table model.</p>\n<p>I need to store data like this:</p>\n<pre><code>  loadProducts();\n    data = new Object[][]{\n            {1, &quot;Big Mac&quot;, 100, 1},\n            {2, &quot;McChicken&quot;, 40, 1},\n            {3, &quot;Cheese&quot;, 100, 1}\n\n    };\n</code></pre>\n<p>And than I use this function for creating table, but I get only last element from my database.\nHow can I store every row from database here?</p>\n<pre><code>ArrayList&lt;Produkt&gt; productList;\n\nprivate void createTable() {\n\n\n    String col[] = {&quot;ID&quot;, &quot;name&quot;, &quot;price&quot;, &quot;category&quot;};\n    Object[][] data = new Object[0][];\n\n    DefaultTableModel tableModel = new DefaultTableModel(col, 0);\n    productTable.setModel(tableModel);\n\n    for (int i = 0; i &lt; productList.size(); i++) {\n        int id = productList.get(i).getId();\n        String  name = productList.get(i).getName();\n        double price = productList.get(i).getPrice();\n        int category = prodcttList.get(i).getCategory();\n\n        data = new Object[][]{\n                {id, name, price, category}\n        };\n\n    }\n    productsTable.setModel(new DefaultTableModel(\n            data, col));\n}\n</code></pre>\n"},{"tags":["java","eclipse","spring","jmstemplate"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306868955,"creation_date":1306868955,"answer_id":6192312,"question_id":6192266,"body_markdown":"Firstly, your problem is to with how to use Eclipse, and attaching sources to your library dependencies.  This isn&#39;t a problem with `JmsTemplate` or Spring.\r\n\r\nHaving said that, you don&#39;t need to unit test `JmsTemplate` - it&#39;s already been unit tested by the Spring team. You can assume it works.\r\n\r\nIf your code is coupled to `JmsTemplate`, then consider refactoring it to depend on the `JmsOperations` interface instead. You can then mock or stub out that interface in your test.","title":"How do I debug JmsTemplate?","body":"<p>Firstly, your problem is to with how to use Eclipse, and attaching sources to your library dependencies.  This isn't a problem with <code>JmsTemplate</code> or Spring.</p>\n\n<p>Having said that, you don't need to unit test <code>JmsTemplate</code> - it's already been unit tested by the Spring team. You can assume it works.</p>\n\n<p>If your code is coupled to <code>JmsTemplate</code>, then consider refactoring it to depend on the <code>JmsOperations</code> interface instead. You can then mock or stub out that interface in your test.</p>\n"},{"tags":[],"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654167648,"creation_date":1654167648,"answer_id":72475148,"question_id":6192266,"body_markdown":"If a deeper introspection into your JMS-communication is needed:\r\n* add `logging.level.com.ibm.mq=TRACE` to your `application.properties`\r\n* add `-Dcom.ibm.msg.client.commonservices.trace.status=ON` to your java-startup-parameters\r\n\r\nThen check\r\n* your application-logfile\r\n* the application-start-directory, where you sould find a `*.TRC`-file with a lot of debug-information  \r\n\r\nsee: https://www.ibm.com/docs/en/ibm-mq/9.0?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property","title":"How do I debug JmsTemplate?","body":"<p>If a deeper introspection into your JMS-communication is needed:</p>\n<ul>\n<li>add <code>logging.level.com.ibm.mq=TRACE</code> to your <code>application.properties</code></li>\n<li>add <code>-Dcom.ibm.msg.client.commonservices.trace.status=ON</code> to your java-startup-parameters</li>\n</ul>\n<p>Then check</p>\n<ul>\n<li>your application-logfile</li>\n<li>the application-start-directory, where you sould find a <code>*.TRC</code>-file with a lot of debug-information</li>\n</ul>\n<p>see: <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.0?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.0?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property</a></p>\n"}],"owner":{"account_id":163079,"reputation":7702,"user_id":384964,"accept_rate":73,"display_name":"oky_sabeni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1625,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1654167648,"creation_date":1306868702,"question_id":6192266,"body_markdown":"I am using SpringsourceTool and the Spring framework. \r\n\r\nI have some code that uses `JmsTemplate` to send messages via `convertAndSend(Object)`. I want to debug it as a JUnit test. So, for the test class, I select `Run-&gt;Debug As-&gt;JUnit Test`.\r\n\r\nI set a breakpoint and was able to closely follow the trace until I hit `jmsTemplate.convertAndSend(obj)` in which case when I hit `Step Into (F5)`, I get a \r\n\r\n    Source not found.\r\n    Edit Source Lookup Path\r\n\r\nThanks!","title":"How do I debug JmsTemplate?","body":"<p>I am using SpringsourceTool and the Spring framework. </p>\n\n<p>I have some code that uses <code>JmsTemplate</code> to send messages via <code>convertAndSend(Object)</code>. I want to debug it as a JUnit test. So, for the test class, I select <code>Run-&gt;Debug As-&gt;JUnit Test</code>.</p>\n\n<p>I set a breakpoint and was able to closely follow the trace until I hit <code>jmsTemplate.convertAndSend(obj)</code> in which case when I hit <code>Step Into (F5)</code>, I get a </p>\n\n<pre><code>Source not found.\nEdit Source Lookup Path\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","java-8","java-time"],"comments":[{"owner":{"account_id":3339622,"reputation":3025,"user_id":2806163,"accept_rate":61,"display_name":"Daksh Shah"},"score":1,"creation_date":1396938960,"post_id":22929237,"comment_id":35001310,"body_markdown":"Have you read http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate ?","body":"Have you read <a href=\"http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\" title=\"convert java util date to java time localdate\">stackoverflow.com/questions/21242110/&hellip;</a> ?"},{"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"score":2,"creation_date":1480969121,"post_id":22929237,"comment_id":69174779,"body_markdown":"**LGoodDatePicker** natively uses the java.time package (aka Java 8 time, or [JSR-310](http://www.threeten.org/). Specifically, LGoodDatePicker uses a &quot;java.time.LocalDate&quot; to store the date values. Screenshots and a demo are at the [Project Homepage](https://github.com/LGoodDatePicker/LGoodDatePicker).","body":"<b>LGoodDatePicker</b> natively uses the java.time package (aka Java 8 time, or <a href=\"http://www.threeten.org/\" rel=\"nofollow noreferrer\">JSR-310</a>. Specifically, LGoodDatePicker uses a &quot;java.time.LocalDate&quot; to store the date values. Screenshots and a demo are at the <a href=\"https://github.com/LGoodDatePicker/LGoodDatePicker\" rel=\"nofollow noreferrer\">Project Homepage</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1569964077,"post_id":22929237,"comment_id":102763832,"body_markdown":"More answers can be found on: [*LocalDate to java.util.Date and vice versa simplest conversion?*](https://stackoverflow.com/q/33066904/642706)","body":"More answers can be found on: <a href=\"https://stackoverflow.com/q/33066904/642706\"><i>LocalDate to java.util.Date and vice versa simplest conversion?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":671,"is_accepted":true,"score":670,"last_activity_date":1396939169,"creation_date":1396939169,"answer_id":22929420,"question_id":22929237,"body_markdown":"    Date date = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\r\nThat assumes your date chooser uses the system default timezone to transform dates into strings.","title":"Convert java.time.LocalDate into java.util.Date type","body":"<pre><code>Date date = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n</code></pre>\n\n<p>That assumes your date chooser uses the system default timezone to transform dates into strings.</p>\n"},{"tags":[],"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1519811490,"creation_date":1396939210,"answer_id":22929435,"question_id":22929237,"body_markdown":"In order to create a _java.util.Date_ from a _java.time.LocalDate_, you have to\r\n\r\n- add a time to the _LocalDate_\r\n- interpret the date and time within a time zone\r\n- get the number of seconds / milliseconds since _epoch_\r\n- create a _java.util.Date_\r\n\r\nThe code might look as follows:\r\n\r\n    LocalDate localDate = LocalDate.now();\r\n    Date date = new Date(localDate.atStartOfDay(ZoneId.of(&quot;America/New_York&quot;)).toEpochSecond() * 1000);\r\n","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>In order to create a <em>java.util.Date</em> from a <em>java.time.LocalDate</em>, you have to</p>\n\n<ul>\n<li>add a time to the <em>LocalDate</em></li>\n<li>interpret the date and time within a time zone</li>\n<li>get the number of seconds / milliseconds since <em>epoch</em></li>\n<li>create a <em>java.util.Date</em></li>\n</ul>\n\n<p>The code might look as follows:</p>\n\n<pre><code>LocalDate localDate = LocalDate.now();\nDate date = new Date(localDate.atStartOfDay(ZoneId.of(\"America/New_York\")).toEpochSecond() * 1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":941886,"reputation":2346,"user_id":969833,"accept_rate":100,"display_name":"Kevin Sadler"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1434584023,"creation_date":1417517329,"answer_id":27247511,"question_id":22929237,"body_markdown":"java.time has the Temporal interface which you can use to create Instant objects from most of the the time classes. Instant represents milliseconds on the timeline in the Epoch - the base reference for all other dates and times.\r\n\r\nWe need to convert the Date into a ZonedDateTime, with a Time and a Zone, to do the conversion:\r\n\r\n    LocalDate ldate = ...;\r\n    Instant instant = Instant.from(ldate.atStartOfDay(ZoneId.of(&quot;GMT&quot;)));\r\n    Date date = Date.from(instant);\r\n\r\n\r\n","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>java.time has the Temporal interface which you can use to create Instant objects from most of the the time classes. Instant represents milliseconds on the timeline in the Epoch - the base reference for all other dates and times.</p>\n\n<p>We need to convert the Date into a ZonedDateTime, with a Time and a Zone, to do the conversion:</p>\n\n<pre><code>LocalDate ldate = ...;\nInstant instant = Instant.from(ldate.atStartOfDay(ZoneId.of(\"GMT\")));\nDate date = Date.from(instant);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":1,"up_vote_count":137,"is_accepted":false,"score":136,"last_activity_date":1418657901,"creation_date":1417808050,"answer_id":27323328,"question_id":22929237,"body_markdown":"Here&#39;s a utility class I use to convert the newer `java.time` classes to `java.util.Date` objects and vice versa: \r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.util.Date;\r\n\r\n    public class DateUtils {\r\n\r\n      public static Date asDate(LocalDate localDate) {\r\n        return Date.from(localDate.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\r\n      }\r\n\r\n      public static Date asDate(LocalDateTime localDateTime) {\r\n        return Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());\r\n      }\r\n\r\n      public static LocalDate asLocalDate(Date date) {\r\n        return Instant.ofEpochMilli(date.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\r\n      }\r\n\r\n      public static LocalDateTime asLocalDateTime(Date date) {\r\n        return Instant.ofEpochMilli(date.getTime()).atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n      }\r\n    }\r\n\r\nEdited based on @Oliv comment.","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>Here's a utility class I use to convert the newer <code>java.time</code> classes to <code>java.util.Date</code> objects and vice versa: </p>\n\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Date;\n\npublic class DateUtils {\n\n  public static Date asDate(LocalDate localDate) {\n    return Date.from(localDate.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\n  }\n\n  public static Date asDate(LocalDateTime localDateTime) {\n    return Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());\n  }\n\n  public static LocalDate asLocalDate(Date date) {\n    return Instant.ofEpochMilli(date.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\n  }\n\n  public static LocalDateTime asLocalDateTime(Date date) {\n    return Instant.ofEpochMilli(date.getTime()).atZone(ZoneId.systemDefault()).toLocalDateTime();\n  }\n}\n</code></pre>\n\n<p>Edited based on @Oliv comment.</p>\n"},{"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"down_vote_count":12,"up_vote_count":121,"is_accepted":false,"score":109,"last_activity_date":1615798282,"creation_date":1424184360,"answer_id":28564046,"question_id":22929237,"body_markdown":"**Disclaimer:** For illustrating existing java apis only. Should not be used in production code.\r\n\r\nYou can use `java.sql.Date.valueOf()` method as:\r\n\r\n    Date date = java.sql.Date.valueOf(localDate);\r\n\r\nNo need to add time and time zone info here because they are taken implicitly.  \r\nSee [https://stackoverflow.com/questions/33066904/simpliest-java8-localdate-to-java-util-date-conversion-and-vice-versa][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33066904/simpliest-java8-localdate-to-java-util-date-conversion-and-vice-versa","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p><strong>Disclaimer:</strong> For illustrating existing java apis only. Should not be used in production code.</p>\n<p>You can use <code>java.sql.Date.valueOf()</code> method as:</p>\n<pre><code>Date date = java.sql.Date.valueOf(localDate);\n</code></pre>\n<p>No need to add time and time zone info here because they are taken implicitly.<br />\nSee <a href=\"https://stackoverflow.com/questions/33066904/simpliest-java8-localdate-to-java-util-date-conversion-and-vice-versa\">LocalDate to java.util.Date and vice versa simplest conversion?</a></p>\n"},{"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1426971781,"creation_date":1426971781,"answer_id":29188014,"question_id":22929237,"body_markdown":"This works for me:\r\n\r\n    java.util.Date d = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(localDate.toString());\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\r\n","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>This works for me:</p>\n\n<pre><code>java.util.Date d = new SimpleDateFormat(\"yyyy-MM-dd\").parse(localDate.toString());\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--</a></p>\n"},{"tags":[],"owner":{"account_id":1298980,"reputation":1,"user_id":1249282,"display_name":"William Nguyen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456134143,"creation_date":1455704006,"answer_id":35453686,"question_id":22929237,"body_markdown":"    public static Date convertToTimeZone(Date date, String tzFrom, String tzTo) {\r\n        return Date.from(LocalDateTime.ofInstant(date.toInstant(), ZoneId.of(tzTo)).atZone(ZoneId.of(tzFrom)).toInstant());\r\n    } ","title":"Convert java.time.LocalDate into java.util.Date type","body":"<pre><code>public static Date convertToTimeZone(Date date, String tzFrom, String tzTo) {\n    return Date.from(LocalDateTime.ofInstant(date.toInstant(), ZoneId.of(tzTo)).atZone(ZoneId.of(tzFrom)).toInstant());\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4082907,"reputation":107,"user_id":3838031,"display_name":"Artur Luiz Oliveira"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1458010732,"creation_date":1458010732,"answer_id":36001898,"question_id":22929237,"body_markdown":"Simple\r\n\r\n    public Date convertFrom(LocalDate date) {\r\n        return java.sql.Timestamp.valueOf(date.atStartOfDay());\r\n    }","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>Simple</p>\n\n<pre><code>public Date convertFrom(LocalDate date) {\n    return java.sql.Timestamp.valueOf(date.atStartOfDay());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448833,"reputation":4580,"user_id":843273,"accept_rate":62,"display_name":"gyoder"},"down_vote_count":6,"up_vote_count":17,"is_accepted":false,"score":11,"last_activity_date":1524168350,"creation_date":1523459060,"answer_id":49778547,"question_id":22929237,"body_markdown":"**Kotlin Solution:**\r\n\r\n1) Paste this extension function somewhere.\r\n\r\n    fun LocalDate.toDate(): Date = Date.from(this.atStartOfDay(ZoneId.systemDefault()).toInstant())\r\n\r\n2) Use it, and never google this again.\r\n\r\n    val myDate = myLocalDate.toDate()\r\n\r\n","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p><strong>Kotlin Solution:</strong></p>\n\n<p>1) Paste this extension function somewhere.</p>\n\n<pre><code>fun LocalDate.toDate(): Date = Date.from(this.atStartOfDay(ZoneId.systemDefault()).toInstant())\n</code></pre>\n\n<p>2) Use it, and never google this again.</p>\n\n<pre><code>val myDate = myLocalDate.toDate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7326184,"reputation":420,"user_id":5580515,"display_name":"Mahendra Sri Dayarathna"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1539844844,"creation_date":1539844844,"answer_id":52868320,"question_id":22929237,"body_markdown":"    java.util.Date.from(localDate.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());","title":"Convert java.time.LocalDate into java.util.Date type","body":"<pre><code>java.util.Date.from(localDate.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13084532,"reputation":307,"user_id":9453953,"display_name":"redd77"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606310173,"creation_date":1606310173,"answer_id":65005454,"question_id":22929237,"body_markdown":"        LocalDate date = LocalDate.now();\r\n    \tDateFormat formatter = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);\r\n    \ttry {\r\n\t\t\tDate utilDate= formatter.parse(date.toString());\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// handle exception\r\n\t\t}","title":"Convert java.time.LocalDate into java.util.Date type","body":"<pre><code>    LocalDate date = LocalDate.now();\n    DateFormat formatter = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);\n    try {\n        Date utilDate= formatter.parse(date.toString());\n    } catch (ParseException e) {\n        // handle exception\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22443810,"reputation":13,"user_id":16647964,"display_name":"Aza M."},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1643797471,"creation_date":1643797471,"answer_id":70953921,"question_id":22929237,"body_markdown":"    localDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));","title":"Convert java.time.LocalDate into java.util.Date type","body":"<pre><code>localDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128862,"reputation":7,"user_id":327015,"display_name":"Nicolay"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1654167592,"creation_date":1654167592,"answer_id":72475132,"question_id":22929237,"body_markdown":"Try this:\r\n\r\n```java\r\npublic Date convertFrom(LocalDate date) {\r\n    return Date.valueOf(date);\r\n}\r\n```","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Date convertFrom(LocalDate date) {\n    return Date.valueOf(date);\n}\n</code></pre>\n"}],"owner":{"account_id":4293962,"reputation":4708,"user_id":3509494,"accept_rate":75,"display_name":"Kavinda Gehan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563983,"favorite_count":0,"down_vote_count":1,"up_vote_count":458,"accepted_answer_id":22929420,"answer_count":13,"score":457,"last_activity_date":1654167592,"creation_date":1396938586,"question_id":22929237,"body_markdown":"I want to convert [`java.time.LocalDate`][1] into [`java.util.Date`][2] type. Because I want to set the date into `JDateChooser`. Or is there any date chooser that supports [`java.time`][3] dates?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Convert java.time.LocalDate into java.util.Date type","body":"<p>I want to convert <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\"><code>java.time.LocalDate</code></a> into <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\"><code>java.util.Date</code></a> type. Because I want to set the date into <code>JDateChooser</code>. Or is there any date chooser that supports <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\"><code>java.time</code></a> dates?</p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1654166896,"creation_date":1502801117,"answer_id":45693117,"question_id":45691471,"body_markdown":"SFTP protocol mandates that `/` must be used as a path separator. \r\n\r\nSee [SFTP specification](https://datatracker.ietf.org/doc/html/draft-ietf-secsh-filexfer-13):\r\n\r\n&gt;   This protocol represents file names as strings.  File names are\r\n   assumed to use the slash (&#39;/&#39;) character as a directory separator.\r\n&gt; \r\n&gt;   File names starting with a slash are &quot;absolute&quot;, and are relative to\r\n   the root of the file system.  Names starting with any other character\r\n   are relative to the user&#39;s default directory (home directory).  Note\r\n   that identifying the user is assumed to take place outside of this\r\n   protocol.\r\n\r\n---\r\n\r\nIt&#39;s the SFTP server that maps real OS-specific paths on the server&#39;s file system to a syntax, that conforms to SFTP specification.\r\n\r\nYou have to use the syntax, that the server&#39;s authors have chosen to use.\r\n\r\nSo in all cases you have to map the `\\` to `/`.\r\n\r\nAnd you may need to remove the `:`. Though that can actually be configurable. Many (particularly Windows) SFTP servers have a configuration, that allows you to map a virtual SFTP path to a real path. In that case, you may be able to map `/C:/` to `C:\\`. \r\n\r\n*In any case, your question is actually not about JSch, let alone Java, but about your SFTP server.*\r\n\r\nSee also FAQ for *my* WinSCP SFTP client: [How do I change drive on the remote panel?](https://winscp.net/eng/docs/faq_remote_drive)","title":"SFTP path format versus local path format","body":"<p>SFTP protocol mandates that <code>/</code> must be used as a path separator.</p>\n<p>See <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-secsh-filexfer-13\" rel=\"nofollow noreferrer\">SFTP specification</a>:</p>\n<blockquote>\n<p>This protocol represents file names as strings.  File names are\nassumed to use the slash ('/') character as a directory separator.</p>\n<p>File names starting with a slash are &quot;absolute&quot;, and are relative to\nthe root of the file system.  Names starting with any other character\nare relative to the user's default directory (home directory).  Note\nthat identifying the user is assumed to take place outside of this\nprotocol.</p>\n</blockquote>\n<hr />\n<p>It's the SFTP server that maps real OS-specific paths on the server's file system to a syntax, that conforms to SFTP specification.</p>\n<p>You have to use the syntax, that the server's authors have chosen to use.</p>\n<p>So in all cases you have to map the <code>\\</code> to <code>/</code>.</p>\n<p>And you may need to remove the <code>:</code>. Though that can actually be configurable. Many (particularly Windows) SFTP servers have a configuration, that allows you to map a virtual SFTP path to a real path. In that case, you may be able to map <code>/C:/</code> to <code>C:\\</code>.</p>\n<p><em>In any case, your question is actually not about JSch, let alone Java, but about your SFTP server.</em></p>\n<p>See also FAQ for <em>my</em> WinSCP SFTP client: <a href=\"https://winscp.net/eng/docs/faq_remote_drive\" rel=\"nofollow noreferrer\">How do I change drive on the remote panel?</a></p>\n"}],"owner":{"account_id":8796640,"reputation":91,"user_id":6574338,"accept_rate":100,"display_name":"plz_do_the_needful"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13300,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45693117,"answer_count":1,"score":6,"last_activity_date":1654166896,"creation_date":1502794640,"question_id":45691471,"body_markdown":"I&#39;m writing some Java code (using JSch library) to SFTP into a remote Windows machine and copy a file to my local Windows folder.\r\n\r\nWhen specifying the path to the file on the remote machine, I&#39;m forced to specify the path in the format `/C/temp/myfile.txt` instead of `C:\\temp\\myfile.txt`.\r\n\r\nQuestions:\r\n\r\n1. Could you tell me what this format is? Is there a name for it?\r\n\r\n2. Could you tell me if it&#39;s possible to use any other format for the path? I&#39;d like to be able to specify the path as `C:\\temp\\myfile.txt`, so it&#39;s not apparent to the users whether the file is being SFTP&#39;d from a remote machine at all. I&#39;m guessing I&#39;d have to parse/split/replace characters in the path as the FTP get command wouldn&#39;t understand this path format.\r\n\r\nthanks.\r\n\r\n","title":"SFTP path format versus local path format","body":"<p>I'm writing some Java code (using JSch library) to SFTP into a remote Windows machine and copy a file to my local Windows folder.</p>\n\n<p>When specifying the path to the file on the remote machine, I'm forced to specify the path in the format <code>/C/temp/myfile.txt</code> instead of <code>C:\\temp\\myfile.txt</code>.</p>\n\n<p>Questions:</p>\n\n<ol>\n<li><p>Could you tell me what this format is? Is there a name for it?</p></li>\n<li><p>Could you tell me if it's possible to use any other format for the path? I'd like to be able to specify the path as <code>C:\\temp\\myfile.txt</code>, so it's not apparent to the users whether the file is being SFTP'd from a remote machine at all. I'm guessing I'd have to parse/split/replace characters in the path as the FTP get command wouldn't understand this path format.</p></li>\n</ol>\n\n<p>thanks.</p>\n"},{"tags":["java","benchmarking","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654166742,"creation_date":1654166742,"answer_id":72474943,"question_id":72047494,"body_markdown":"You can try something like\r\n```java\r\nfinal Options options = new OptionsBuilder().build();\r\nCollection&lt;RunResult&gt; runResults = new Runner(options).run();\r\nrunResults.forEach(runResult -&gt; {\r\n  BenchmarkResult aggregatedResult = runResult.getAggregatedResult();\r\n  Result primaryResult = runResult.getPrimaryResult();\r\n  // ...\r\n});\r\n```","title":"How to retrieve benchmark JMH result as Java object after execution?","body":"<p>You can try something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Options options = new OptionsBuilder().build();\nCollection&lt;RunResult&gt; runResults = new Runner(options).run();\nrunResults.forEach(runResult -&gt; {\n  BenchmarkResult aggregatedResult = runResult.getAggregatedResult();\n  Result primaryResult = runResult.getPrimaryResult();\n  // ...\n});\n</code></pre>\n"}],"owner":{"account_id":17628000,"reputation":65,"user_id":12792687,"display_name":"Florian Cousin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72474943,"answer_count":1,"score":3,"last_activity_date":1654166742,"creation_date":1651164601,"question_id":72047494,"body_markdown":"I have a project in which I wrote a benchmark function with JMH library : \r\n```java\r\n  @Benchmark\r\n  @Fork(value = 2, warmups = 1)\r\n  @Measurement(iterations = 3, time = 5)\r\n  @Warmup(iterations = 2, time = 5)\r\n  @BenchmarkMode(Mode.AverageTime)\r\n  public Collection&lt;List&lt;String&gt;&gt; benchmark(final MyState myState) {\r\n    return myState.field.execute();\r\n  }\r\n```\r\n\r\nI launch this benchmark with\r\n```java\r\n  public static void main(final String[] args) throws RunnerException {\r\n    final Options options = new OptionsBuilder().build();\r\n    new Runner(options).run();\r\n  }\r\n```\r\n\r\nI would like to retrieve the benchmark result as a Java object ([BenchmarkTaskResult](http://javadox.com/org.openjdk.jmh/jmh-core/1.11.1/org/openjdk/jmh/results/BenchmarkTaskResult.html) for example).\r\n\r\nOne solution would be to output the result as a json like this :\r\n```java\r\n  public static void main(final String[] args) throws RunnerException {\r\n    final Options options =\r\n        new OptionsBuilder().result(result.json).resultFormat(ResultFormatType.JSON).build();\r\n    new Runner(options).run();\r\n  }\r\n```\r\nAnd then deserialize the json file to put it in a Java object.\r\n\r\nIs there a way to retrieve the benchmark result directly in a Java object without having to deserialise anything ?","title":"How to retrieve benchmark JMH result as Java object after execution?","body":"<p>I have a project in which I wrote a benchmark function with JMH library :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Benchmark\n  @Fork(value = 2, warmups = 1)\n  @Measurement(iterations = 3, time = 5)\n  @Warmup(iterations = 2, time = 5)\n  @BenchmarkMode(Mode.AverageTime)\n  public Collection&lt;List&lt;String&gt;&gt; benchmark(final MyState myState) {\n    return myState.field.execute();\n  }\n</code></pre>\n<p>I launch this benchmark with</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(final String[] args) throws RunnerException {\n    final Options options = new OptionsBuilder().build();\n    new Runner(options).run();\n  }\n</code></pre>\n<p>I would like to retrieve the benchmark result as a Java object (<a href=\"http://javadox.com/org.openjdk.jmh/jmh-core/1.11.1/org/openjdk/jmh/results/BenchmarkTaskResult.html\" rel=\"nofollow noreferrer\">BenchmarkTaskResult</a> for example).</p>\n<p>One solution would be to output the result as a json like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(final String[] args) throws RunnerException {\n    final Options options =\n        new OptionsBuilder().result(result.json).resultFormat(ResultFormatType.JSON).build();\n    new Runner(options).run();\n  }\n</code></pre>\n<p>And then deserialize the json file to put it in a Java object.</p>\n<p>Is there a way to retrieve the benchmark result directly in a Java object without having to deserialise anything ?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":11649747,"reputation":730,"user_id":8531391,"display_name":"Chris Papantonis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584515113,"creation_date":1584515113,"answer_id":60734848,"question_id":60734795,"body_markdown":"You need to reload current user information. You see the data of the user your have from authentication are old and you need to retrieve the latest. Use the `reload()` method for that.","title":"On every call of isEmailVerified() returning the false condition, Even after email verified","body":"<p>You need to reload current user information. You see the data of the user your have from authentication are old and you need to retrieve the latest. Use the <code>reload()</code> method for that.</p>\n"},{"tags":[],"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584516741,"creation_date":1584516741,"answer_id":60735131,"question_id":60734795,"body_markdown":"How i solved the error.\r\n\r\n    private void isEmailVerified()\r\n    {\r\n        mAuth.getCurrentUser().reload().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                if (mAuth.getCurrentUser()!=null)\r\n                {\r\n                    boolean isEmailVerified = mAuth.getCurrentUser().isEmailVerified();\r\n                    if (isEmailVerified)\r\n                    {\r\n                        Toast.makeText(getApplicationContext(), &quot;Your email has been verified, Now you can login.&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    else\r\n                    {\r\n                        sendVerificationEmail();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }","title":"On every call of isEmailVerified() returning the false condition, Even after email verified","body":"<p>How i solved the error.</p>\n\n<pre><code>private void isEmailVerified()\n{\n    mAuth.getCurrentUser().reload().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void aVoid) {\n            if (mAuth.getCurrentUser()!=null)\n            {\n                boolean isEmailVerified = mAuth.getCurrentUser().isEmailVerified();\n                if (isEmailVerified)\n                {\n                    Toast.makeText(getApplicationContext(), \"Your email has been verified, Now you can login.\", Toast.LENGTH_LONG).show();\n                }\n                else\n                {\n                    sendVerificationEmail();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18786702,"reputation":59,"user_id":13700145,"display_name":"24Doggi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654166565,"creation_date":1654166565,"answer_id":72474894,"question_id":60734795,"body_markdown":"I used  the following line to solve this problem\r\n\r\n`await FirebaseAuth.instance.currentUser!.reload();`","title":"On every call of isEmailVerified() returning the false condition, Even after email verified","body":"<p>I used  the following line to solve this problem</p>\n<p><code>await FirebaseAuth.instance.currentUser!.reload();</code></p>\n"}],"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60735131,"answer_count":3,"score":1,"last_activity_date":1654166565,"creation_date":1584514844,"question_id":60734795,"body_markdown":"What actually i am doing here, When a user login to their account, Then i am checking that whatever they had verified their email address or not, If not then i am starting the `EmailVerificationActivity`.\r\nFrom where when user click on **SEND VERIFICATION EMAIL** Button an Email Verification code will be sent to user&#39;s email address.\r\n\r\n[![User is sending email verification link][1]][1]\r\n\r\nafter that when user successfully verified their email address, when they click **SEND VERIFICATION LINK** Button again.\r\n\r\nInstead of showing toast message \r\n`Toast.makeText(this, &quot;Your email has been verified, Now you can login.&quot;, Toast.LENGTH_LONG).show();`,\r\nsending the Email Verification link again.\r\n\r\n[![sending email verification link again][2]][2]\r\n\r\n&gt; Why `isEmailVerified()` returning the `false` condition.\r\n\r\n\r\nThis is my **EmailVerificationActivity**\r\n\r\n    package com.socialcodia.sherewatan;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    \r\n    public class EmailVerificationActivity extends AppCompatActivity {\r\n    \r\n        private TextView tvEmailAddress;\r\n        private Button btnSendVerificationEmail, btnSignOut;\r\n    \r\n        //Firebase\r\n        FirebaseAuth mAuth;\r\n        FirebaseUser mUser;\r\n    \r\n        String email;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_email_verification);\r\n    \r\n            //Init\r\n            tvEmailAddress = findViewById(R.id.tvEmailAddress);\r\n            btnSendVerificationEmail = findViewById(R.id.btnSendVerificationEmail);\r\n            btnSignOut = findViewById(R.id.btnSignOut);\r\n    \r\n            //Firebase Init\r\n            mAuth = FirebaseAuth.getInstance();\r\n            mUser = mAuth.getCurrentUser();\r\n    \r\n    \t\t// get and set email address\r\n            email = mUser.getEmail();\r\n            tvEmailAddress.setText(email);\r\n    \r\n            btnSignOut.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    signOut();\r\n                }\r\n            });\r\n    \r\n            btnSendVerificationEmail.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    isEmailVerified();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void isEmailVerified()\r\n        {\r\n            if (mAuth.getCurrentUser()!=null)\r\n            {\r\n                boolean isEmailVerified = mAuth.getCurrentUser().isEmailVerified();\r\n                if (isEmailVerified)\r\n                {\r\n                    Toast.makeText(this, &quot;Your email has been verified, Now you can login.&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n                else\r\n                {\r\n                    sendVerificationEmail();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void sendVerificationEmail()\r\n        {\r\n            mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful())\r\n                    {\r\n                        Toast.makeText(EmailVerificationActivity.this, &quot;Email verification link has been sent&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else\r\n                    {\r\n                        Toast.makeText(EmailVerificationActivity.this, &quot;Oops! Failed to send email verification link&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void sendToLoginWithEmail()\r\n        {\r\n            Intent intent= new Intent(getApplicationContext(),LoginActivity.class);\r\n            intent.putExtra(&quot;email&quot;,email);\r\n            startActivity(intent);\r\n    \t\tfinish();\r\n        }\r\n    \r\n        private void signOut()\r\n        {\r\n            mAuth.signOut();\r\n            sendToLoginWithEmail();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Up0v.gif\r\n  [2]: https://i.stack.imgur.com/XhLMq.gif","title":"On every call of isEmailVerified() returning the false condition, Even after email verified","body":"<p>What actually i am doing here, When a user login to their account, Then i am checking that whatever they had verified their email address or not, If not then i am starting the <code>EmailVerificationActivity</code>.\nFrom where when user click on <strong>SEND VERIFICATION EMAIL</strong> Button an Email Verification code will be sent to user's email address.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Up0v.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Up0v.gif\" alt=\"User is sending email verification link\"></a></p>\n\n<p>after that when user successfully verified their email address, when they click <strong>SEND VERIFICATION LINK</strong> Button again.</p>\n\n<p>Instead of showing toast message \n<code>Toast.makeText(this, \"Your email has been verified, Now you can login.\", Toast.LENGTH_LONG).show();</code>,\nsending the Email Verification link again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XhLMq.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XhLMq.gif\" alt=\"sending email verification link again\"></a></p>\n\n<blockquote>\n  <p>Why <code>isEmailVerified()</code> returning the <code>false</code> condition.</p>\n</blockquote>\n\n<p>This is my <strong>EmailVerificationActivity</strong></p>\n\n<pre><code>package com.socialcodia.sherewatan;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class EmailVerificationActivity extends AppCompatActivity {\n\n    private TextView tvEmailAddress;\n    private Button btnSendVerificationEmail, btnSignOut;\n\n    //Firebase\n    FirebaseAuth mAuth;\n    FirebaseUser mUser;\n\n    String email;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_email_verification);\n\n        //Init\n        tvEmailAddress = findViewById(R.id.tvEmailAddress);\n        btnSendVerificationEmail = findViewById(R.id.btnSendVerificationEmail);\n        btnSignOut = findViewById(R.id.btnSignOut);\n\n        //Firebase Init\n        mAuth = FirebaseAuth.getInstance();\n        mUser = mAuth.getCurrentUser();\n\n        // get and set email address\n        email = mUser.getEmail();\n        tvEmailAddress.setText(email);\n\n        btnSignOut.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                signOut();\n            }\n        });\n\n        btnSendVerificationEmail.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                isEmailVerified();\n            }\n        });\n    }\n\n    private void isEmailVerified()\n    {\n        if (mAuth.getCurrentUser()!=null)\n        {\n            boolean isEmailVerified = mAuth.getCurrentUser().isEmailVerified();\n            if (isEmailVerified)\n            {\n                Toast.makeText(this, \"Your email has been verified, Now you can login.\", Toast.LENGTH_LONG).show();\n            }\n            else\n            {\n                sendVerificationEmail();\n            }\n        }\n    }\n\n    private void sendVerificationEmail()\n    {\n        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful())\n                {\n                    Toast.makeText(EmailVerificationActivity.this, \"Email verification link has been sent\", Toast.LENGTH_SHORT).show();\n                }\n                else\n                {\n                    Toast.makeText(EmailVerificationActivity.this, \"Oops! Failed to send email verification link\", Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n\n    private void sendToLoginWithEmail()\n    {\n        Intent intent= new Intent(getApplicationContext(),LoginActivity.class);\n        intent.putExtra(\"email\",email);\n        startActivity(intent);\n        finish();\n    }\n\n    private void signOut()\n    {\n        mAuth.signOut();\n        sendToLoginWithEmail();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654166462,"creation_date":1654165836,"answer_id":72474732,"question_id":72473662,"body_markdown":"You can set exchange properties on route(s). Then you can evaluate the values inside filter or choice to branch or alter the routing logic. I would advice against anything more complex than this to avoid unnecessary coupling between routes.\r\n\r\n**Example:** \r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.apache.camel.RoutesBuilder;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.test.junit4.CamelTestSupport;\r\nimport org.junit.Test;\r\n\r\npublic class ExampleRouteTests extends CamelTestSupport {\r\n\r\n    @Test\r\n    public void shouldReturnSentBody() throws Exception {\r\n     \r\n        final String testMessage = &quot;AAAA&quot;;\r\n\r\n        MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n        resultMockEndpoint.expectedMessageCount(1);\r\n        resultMockEndpoint.message(0).body().isEqualTo(testMessage);\r\n\r\n        template.sendBody(&quot;direct:a&quot;, testMessage);\r\n\r\n        resultMockEndpoint.assertIsSatisfied();\r\n    }\r\n\r\n    @Test\r\n    public void shouldReturnBBBB() throws Exception {\r\n     \r\n        MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n        resultMockEndpoint.expectedMessageCount(1);\r\n        resultMockEndpoint.message(0).body().isEqualTo(&quot;BBBB&quot;);\r\n\r\n        template.sendBody(&quot;direct:b&quot;, null);\r\n\r\n        resultMockEndpoint.assertIsSatisfied();\r\n    }\r\n\r\n    @Override\r\n    protected RoutesBuilder createRouteBuilder() throws Exception {\r\n        return new RouteBuilder() {\r\n\r\n            @Override\r\n            public void configure() throws Exception {\r\n    \r\n\r\n                from(&quot;direct:a&quot;)\r\n                    .setProperty(&quot;From&quot;, constant(&quot;A&quot;))\r\n                    .to(&quot;direct:c&quot;);\r\n                    \r\n                from(&quot;direct:b&quot;)\r\n                    .setProperty(&quot;From&quot;, constant(&quot;B&quot;))\r\n                    .to(&quot;direct:c&quot;);\r\n\r\n                from(&quot;direct:c&quot;)\r\n                    .filter(exchangeProperty(&quot;From&quot;).isNotEqualTo(&quot;A&quot;))\r\n                        .log(&quot;Processing message&quot;)\r\n                        .setBody(constant(&quot;BBBB&quot;))\r\n                    .end()\r\n                    .log(&quot;body: ${body}&quot;)\r\n                    .to(&quot;mock:result&quot;);\r\n                \r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Camel: Omitting parts of a route depending on where the message comes from","body":"<p>You can set exchange properties on route(s). Then you can evaluate the values inside filter or choice to branch or alter the routing logic. I would advice against anything more complex than this to avoid unnecessary coupling between routes.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.apache.camel.RoutesBuilder;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.junit4.CamelTestSupport;\nimport org.junit.Test;\n\npublic class ExampleRouteTests extends CamelTestSupport {\n\n    @Test\n    public void shouldReturnSentBody() throws Exception {\n     \n        final String testMessage = &quot;AAAA&quot;;\n\n        MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        resultMockEndpoint.expectedMessageCount(1);\n        resultMockEndpoint.message(0).body().isEqualTo(testMessage);\n\n        template.sendBody(&quot;direct:a&quot;, testMessage);\n\n        resultMockEndpoint.assertIsSatisfied();\n    }\n\n    @Test\n    public void shouldReturnBBBB() throws Exception {\n     \n        MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        resultMockEndpoint.expectedMessageCount(1);\n        resultMockEndpoint.message(0).body().isEqualTo(&quot;BBBB&quot;);\n\n        template.sendBody(&quot;direct:b&quot;, null);\n\n        resultMockEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RoutesBuilder createRouteBuilder() throws Exception {\n        return new RouteBuilder() {\n\n            @Override\n            public void configure() throws Exception {\n    \n\n                from(&quot;direct:a&quot;)\n                    .setProperty(&quot;From&quot;, constant(&quot;A&quot;))\n                    .to(&quot;direct:c&quot;);\n                    \n                from(&quot;direct:b&quot;)\n                    .setProperty(&quot;From&quot;, constant(&quot;B&quot;))\n                    .to(&quot;direct:c&quot;);\n\n                from(&quot;direct:c&quot;)\n                    .filter(exchangeProperty(&quot;From&quot;).isNotEqualTo(&quot;A&quot;))\n                        .log(&quot;Processing message&quot;)\n                        .setBody(constant(&quot;BBBB&quot;))\n                    .end()\n                    .log(&quot;body: ${body}&quot;)\n                    .to(&quot;mock:result&quot;);\n                \n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25454142,"reputation":3,"user_id":19255061,"display_name":"carogod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72474732,"answer_count":1,"score":0,"last_activity_date":1654166462,"creation_date":1654161119,"question_id":72473662,"body_markdown":"I have two routes:\r\n```\r\n.from(&quot;A&quot;)\r\n.to(&quot;C&quot;)\r\n.to(&quot;B&quot;);\r\n\r\n.from(&quot;C&quot;)\r\n*some processing logic*\r\n.to(&quot;D&quot;);\r\n```\r\n\r\nIs it possible to build the second route such that:\r\n- when the message comes from the first route, some or all parts of the logic are ommited;\r\n- when the message comes to the second route directly, the logic is used?\r\n","title":"Camel: Omitting parts of a route depending on where the message comes from","body":"<p>I have two routes:</p>\n<pre><code>.from(&quot;A&quot;)\n.to(&quot;C&quot;)\n.to(&quot;B&quot;);\n\n.from(&quot;C&quot;)\n*some processing logic*\n.to(&quot;D&quot;);\n</code></pre>\n<p>Is it possible to build the second route such that:</p>\n<ul>\n<li>when the message comes from the first route, some or all parts of the logic are ommited;</li>\n<li>when the message comes to the second route directly, the logic is used?</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654151812,"post_id":72471711,"comment_id":128024075,"body_markdown":"read your input in a list or array. sort it. Print the ten highest.","body":"read your input in a list or array. sort it. Print the ten highest."},{"owner":{"account_id":23932518,"reputation":64,"user_id":17926794,"display_name":"joker"},"score":0,"creation_date":1654151852,"post_id":72471711,"comment_id":128024089,"body_markdown":"sorry bro i don&#39;t know how to do shot  need help in it.","body":"sorry bro i don&#39;t know how to do shot  need help in it."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654152250,"post_id":72471711,"comment_id":128024216,"body_markdown":"@joker saying that comes close to &quot;do it for me&quot;. That&#39;s not what SO is for","body":"@joker saying that comes close to &quot;do it for me&quot;. That&#39;s not what SO is for"},{"owner":{"account_id":9437851,"reputation":157,"user_id":7019324,"display_name":"Stijn Dejongh"},"score":1,"creation_date":1654152265,"post_id":72471711,"comment_id":128024224,"body_markdown":"Does this answer your question? [Sort an array in Java](https://stackoverflow.com/questions/8938235/sort-an-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8938235/sort-an-array-in-java\">Sort an array in Java</a>"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1654152353,"post_id":72471711,"comment_id":128024264,"body_markdown":"Always check existing answers before asking new one.","body":"Always check existing answers before asking new one."}],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654164445,"creation_date":1654164445,"answer_id":72474427,"question_id":72471711,"body_markdown":"You have to apply [**Selection Sort**][1] on your array then printout highest `n` number from array.\r\n\r\n```\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint n;\r\n\t\tint howMuch;\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter the number of elements in the array: &quot;);\r\n\t\tn = s.nextInt();\r\n\t\t\r\n\t\tint arr[] = new int[n];\r\n\t\tSystem.out.println(&quot;Enter the elements of array: &quot;);\r\n\t\tfor(int i = 0; i &lt; n; i++)\r\n\t\t{\r\n\t\t\tarr[i] = s.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; arr.length - 1; i++)\r\n\t\t{\r\n\t\t    int max = i;\r\n\t\t    for(int j = i + 1; j &lt; arr.length; j++)\r\n\t\t    {\r\n\t\t        if (arr[j] &gt; arr[max]) {\r\n                    max = j;\r\n                }\r\n\t\t    }\r\n\t\t    int temp = arr[i];\r\n            arr[i] = arr[max];\r\n            arr[max] = temp;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;How many maximum number you have to print: &quot;);\r\n\t\thowMuch = s.nextInt();\r\n\t\t\r\n\t\tif(howMuch &lt; arr.length)\r\n\t\t{\r\n    \t\tfor(int i = 0; i &lt; howMuch; i++)\r\n    \t\t{\r\n    \t\t    System.out.print(arr[i] + &quot; &quot;);\r\n    \t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t    System.out.println(&quot;Please insert valid number because you have &quot; + arr.length + &quot; elements in your array&quot;);\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.programiz.com/dsa/selection-sort#code","title":"How to get largest n element from array?","body":"<p>You have to apply <a href=\"https://www.programiz.com/dsa/selection-sort#code\" rel=\"nofollow noreferrer\"><strong>Selection Sort</strong></a> on your array then printout highest <code>n</code> number from array.</p>\n<pre><code>import java.util.*;\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        int n;\n        int howMuch;\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter the number of elements in the array: &quot;);\n        n = s.nextInt();\n        \n        int arr[] = new int[n];\n        System.out.println(&quot;Enter the elements of array: &quot;);\n        for(int i = 0; i &lt; n; i++)\n        {\n            arr[i] = s.nextInt();\n        }\n        \n        for(int i = 0; i &lt; arr.length - 1; i++)\n        {\n            int max = i;\n            for(int j = i + 1; j &lt; arr.length; j++)\n            {\n                if (arr[j] &gt; arr[max]) {\n                    max = j;\n                }\n            }\n            int temp = arr[i];\n            arr[i] = arr[max];\n            arr[max] = temp;\n        }\n        \n        System.out.println(&quot;How many maximum number you have to print: &quot;);\n        howMuch = s.nextInt();\n        \n        if(howMuch &lt; arr.length)\n        {\n            for(int i = 0; i &lt; howMuch; i++)\n            {\n                System.out.print(arr[i] + &quot; &quot;);\n            }\n        }\n        else\n        {\n            System.out.println(&quot;Please insert valid number because you have &quot; + arr.length + &quot; elements in your array&quot;);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21647900,"reputation":61,"user_id":15968954,"display_name":"Yuanhao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654166231,"creation_date":1654166208,"answer_id":72474823,"question_id":72471711,"body_markdown":"https://stackoverflow.com/a/72474427/15968954&lt;br&gt;\r\nThis answer is Selection Sort, I think it&#39;s may difficult for you.&lt;br&gt;\r\nMaybe this code segment will help you.\r\n```\r\nimport java.util.*;\r\npublic class anna\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        int n, max;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the number of elements in the array:&quot;);\r\n        n = sc.nextInt();\r\n        int arr[] = new int[n];\r\n        System.out.println(&quot;Enter the elements of array:&quot;);\r\n        for(int i = 0; i &lt; n; i++)\r\n        {\r\n            arr[i] = s.nextInt();\r\n        }\r\n\r\n        // Sort Array\r\n        Arrays.sort(arr);\r\n        int k = sc.nextInt();\r\n        System.out.println(&quot;Largest k Maximum value in the array is:&quot; + arr[k - 1]);\r\n    }\r\n}\r\n```\r\nIf you are a new learner, I suggest that you can more exercise through OJ.","title":"How to get largest n element from array?","body":"<p><a href=\"https://stackoverflow.com/a/72474427/15968954\">https://stackoverflow.com/a/72474427/15968954</a><br>\nThis answer is Selection Sort, I think it's may difficult for you.<br>\nMaybe this code segment will help you.</p>\n<pre><code>import java.util.*;\npublic class anna\n{\n    public static void main(String[] args)\n    {\n        int n, max;\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the number of elements in the array:&quot;);\n        n = sc.nextInt();\n        int arr[] = new int[n];\n        System.out.println(&quot;Enter the elements of array:&quot;);\n        for(int i = 0; i &lt; n; i++)\n        {\n            arr[i] = s.nextInt();\n        }\n\n        // Sort Array\n        Arrays.sort(arr);\n        int k = sc.nextInt();\n        System.out.println(&quot;Largest k Maximum value in the array is:&quot; + arr[k - 1]);\n    }\n}\n</code></pre>\n<p>If you are a new learner, I suggest that you can more exercise through OJ.</p>\n"}],"owner":{"account_id":23932518,"reputation":64,"user_id":17926794,"display_name":"joker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72474427,"answer_count":2,"score":0,"last_activity_date":1654166231,"creation_date":1654151739,"question_id":72471711,"body_markdown":"I want to get larget `n` number of elements from array. Here down is my program that prints only maximum number from array but I want to print higest `10` elements or `n` elements from array that depends on user how many higest number he want to print from the array.\r\n\r\n```\r\nimport java.util.*;\r\npublic class anna\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint n, max;\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter the number of elements in the array:&quot;);\r\n\t\tn = s.nextInt();\r\n\t\tint a[] = new int[n];\r\n\t\tSystem.out.println(&quot;Enter the elements of array:&quot;);\r\n\t\tfor(int i = 0; i &lt; n; i++)\r\n\t\t{\r\n\t\t\ta[i] = s.nextInt();\r\n\t\t}\r\n\t\tmax = a[0];\r\n\t\tfor(int i = 0; i &lt; n; i++)\r\n\t\t{\r\n\t\t\tif(max &lt; a[i])\r\n\t\t\t{\r\n\t\t\t\tmax = a[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Maximum value in the array is:&quot;+max);\r\n\t}\r\n}\r\n```","title":"How to get largest n element from array?","body":"<p>I want to get larget <code>n</code> number of elements from array. Here down is my program that prints only maximum number from array but I want to print higest <code>10</code> elements or <code>n</code> elements from array that depends on user how many higest number he want to print from the array.</p>\n<pre><code>import java.util.*;\npublic class anna\n{\n    public static void main(String[] args)\n    {\n        int n, max;\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter the number of elements in the array:&quot;);\n        n = s.nextInt();\n        int a[] = new int[n];\n        System.out.println(&quot;Enter the elements of array:&quot;);\n        for(int i = 0; i &lt; n; i++)\n        {\n            a[i] = s.nextInt();\n        }\n        max = a[0];\n        for(int i = 0; i &lt; n; i++)\n        {\n            if(max &lt; a[i])\n            {\n                max = a[i];\n            }\n        }\n        System.out.println(&quot;Maximum value in the array is:&quot;+max);\n    }\n}\n</code></pre>\n"},{"tags":["java","wav"],"comments":[{"owner":{"account_id":1841280,"reputation":2686,"user_id":1670616,"display_name":"sgpalit"},"score":0,"creation_date":1654119483,"post_id":72468208,"comment_id":128018743,"body_markdown":"I can not see any problem except that you encrypt blocks in 16 bytes but decrypt it back full..","body":"I can not see any problem except that you encrypt blocks in 16 bytes but decrypt it back full.."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654123543,"creation_date":1654123543,"answer_id":72468796,"question_id":72468208,"body_markdown":"1. Create separate methods: One to load audio, one to encrypt, one to decrypt, one to play the audio.\r\n2. Create unit tests so you can verify encryption and decryption (the value after decrypt must be the same as before encryption)\r\n3. You probably have working code to load and play audio already\r\n4. Put all four method calls into your test application and see if it still can play a sound\r\n\r\nThis will not solve your problem but give you a structured and maintainable approach. Very likely your encryption does not match the decryption.\r\n\r\nYou may want to replace your crypto efforts with [Apache commons-crypto][1].\r\nLook at their example for [encryption/decryption of byte array][2]. But since you want to stream the results, it may be even better to look at [encryption/decryption of byte stream][3].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-crypto/userguide.html\r\n  [2]: https://commons.apache.org/proper/commons-crypto/xref-test/org/apache/commons/crypto/examples/CipherByteArrayExample.html\r\n  [3]: https://commons.apache.org/proper/commons-crypto/xref-test/org/apache/commons/crypto/examples/StreamExample.html","title":"byte array to wav file","body":"<ol>\n<li>Create separate methods: One to load audio, one to encrypt, one to decrypt, one to play the audio.</li>\n<li>Create unit tests so you can verify encryption and decryption (the value after decrypt must be the same as before encryption)</li>\n<li>You probably have working code to load and play audio already</li>\n<li>Put all four method calls into your test application and see if it still can play a sound</li>\n</ol>\n<p>This will not solve your problem but give you a structured and maintainable approach. Very likely your encryption does not match the decryption.</p>\n<p>You may want to replace your crypto efforts with <a href=\"https://commons.apache.org/proper/commons-crypto/userguide.html\" rel=\"nofollow noreferrer\">Apache commons-crypto</a>.\nLook at their example for <a href=\"https://commons.apache.org/proper/commons-crypto/xref-test/org/apache/commons/crypto/examples/CipherByteArrayExample.html\" rel=\"nofollow noreferrer\">encryption/decryption of byte array</a>. But since you want to stream the results, it may be even better to look at <a href=\"https://commons.apache.org/proper/commons-crypto/xref-test/org/apache/commons/crypto/examples/StreamExample.html\" rel=\"nofollow noreferrer\">encryption/decryption of byte stream</a>.</p>\n"}],"owner":{"account_id":19984808,"reputation":3,"user_id":14647151,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72468796,"answer_count":1,"score":0,"last_activity_date":1654166094,"creation_date":1654118624,"question_id":72468208,"body_markdown":"EDIT: Thanks everyone! The problem was we had to decrypt block by block and save the original file format.\r\n\r\nI&#39;m trying to encrypt a sound file by blocks of 16 bytes size. Then decrypt it back and output the decrypted file.\r\nThe problem it throws &quot;Stream of unsupported format&quot; exception to the decrypted file I&#39;m trying to save.\r\n\r\n\r\n    public class Main {\r\n\tpublic static void main(String[] args)\r\n\t\t\tthrows InvalidKeyException, UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n\r\n\t\tFile decryptedFile = new File(&quot;dec.wav&quot;);\r\n\t\tFile soundFile = new File(&quot;C:\\\\Users\\\\Daniel\\\\Desktop\\\\FROG1\\\\peeper5sec.wav&quot;);\r\n\t\tString k = &quot;KEY&quot;;\r\n\t\tbyte[] key = k.getBytes();\r\n\t\t\r\n\t\tObject keyKey=frog_Algorithm.makeKey(key);\r\n\r\n\t\tAudioInputStream st = AudioSystem.getAudioInputStream(soundFile);\r\n\t\tbyte[][] fileInByte = split(st.readAllBytes(),16);\r\n\t\t\r\n\t\tif (fileInByte == null)\r\n\t\t\tfileInByte[0] = st.readAllBytes();\r\n\r\n\t\tbyte enc[]=null;\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\r\n\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; fileInByte.length; i++) {\r\n\t\t\tbyte tmp3[]=frog_Algorithm.blockEncrypt(fileInByte[i], 0, keyKey);\r\n\t\t\toutputStream.write(tmp3);\r\n\t\t}\r\n\t\tenc=outputStream.toByteArray();\r\n\t\t\r\n\t\t\r\n\t\t\t\t\r\n\t\tFileOutputStream fos=new FileOutputStream(decryptedFile.getAbsolutePath());\r\n\t\t\r\n\t\t//fos.AudioSystem.write(frog_Algorithm.blockDecrypt(enc, 0,keyKey));\r\n\t\t //fos.close();\r\n\t\tbyte[] dec=frog_Algorithm.blockDecrypt(enc, 0,keyKey);\r\n\t\tfor (int i = 0; i &lt; dec.length; i++) {\r\n\t\t\tfos.write(dec[i]);\r\n\t\t}\r\n\r\n\t\tByteArrayInputStream bais = new ByteArrayInputStream(dec);\r\n\t\tAudioInputStream stream = AudioSystem.getAudioInputStream(bais);\r\n\t\t\r\n\t\t AudioSystem.write(stream, getAudioFileFormat(stream), decryptedFile);\r\n\r\n\r\nHelp?","title":"byte array to wav file","body":"<p>EDIT: Thanks everyone! The problem was we had to decrypt block by block and save the original file format.</p>\n<p>I'm trying to encrypt a sound file by blocks of 16 bytes size. Then decrypt it back and output the decrypted file.\nThe problem it throws &quot;Stream of unsupported format&quot; exception to the decrypted file I'm trying to save.</p>\n<pre><code>public class Main {\npublic static void main(String[] args)\n        throws InvalidKeyException, UnsupportedAudioFileException, IOException, LineUnavailableException {\n\n    File decryptedFile = new File(&quot;dec.wav&quot;);\n    File soundFile = new File(&quot;C:\\\\Users\\\\Daniel\\\\Desktop\\\\FROG1\\\\peeper5sec.wav&quot;);\n    String k = &quot;KEY&quot;;\n    byte[] key = k.getBytes();\n    \n    Object keyKey=frog_Algorithm.makeKey(key);\n\n    AudioInputStream st = AudioSystem.getAudioInputStream(soundFile);\n    byte[][] fileInByte = split(st.readAllBytes(),16);\n    \n    if (fileInByte == null)\n        fileInByte[0] = st.readAllBytes();\n\n    byte enc[]=null;\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\n\n    \n    for (int i = 0; i &lt; fileInByte.length; i++) {\n        byte tmp3[]=frog_Algorithm.blockEncrypt(fileInByte[i], 0, keyKey);\n        outputStream.write(tmp3);\n    }\n    enc=outputStream.toByteArray();\n    \n    \n            \n    FileOutputStream fos=new FileOutputStream(decryptedFile.getAbsolutePath());\n    \n    //fos.AudioSystem.write(frog_Algorithm.blockDecrypt(enc, 0,keyKey));\n     //fos.close();\n    byte[] dec=frog_Algorithm.blockDecrypt(enc, 0,keyKey);\n    for (int i = 0; i &lt; dec.length; i++) {\n        fos.write(dec[i]);\n    }\n\n    ByteArrayInputStream bais = new ByteArrayInputStream(dec);\n    AudioInputStream stream = AudioSystem.getAudioInputStream(bais);\n    \n     AudioSystem.write(stream, getAudioFileFormat(stream), decryptedFile);\n</code></pre>\n<p>Help?</p>\n"},{"tags":["java","logging","groovy","jedox"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1633006878,"post_id":69390681,"comment_id":122650692,"body_markdown":"according to official doc https://knowledgebase.jedox.com/on-prem/logs.htm#Integrator there is a logger configuration in jedox.  usually it allows you to setup additional log files. in yur case you could store all warnings+ into a separate file where you could search...","body":"according to official doc <a href=\"https://knowledgebase.jedox.com/on-prem/logs.htm#Integrator\" rel=\"nofollow noreferrer\">knowledgebase.jedox.com/on-prem/logs.htm#Integrator</a> there is a logger configuration in jedox.  usually it allows you to setup additional log files. in yur case you could store all warnings+ into a separate file where you could search..."},{"owner":{"account_id":14029358,"reputation":908,"user_id":10133620,"display_name":"bosskay972"},"score":0,"creation_date":1633007907,"post_id":69390681,"comment_id":122651157,"body_markdown":"How do I store all those logs in a file ?","body":"How do I store all those logs in a file ?"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1633008054,"post_id":69390681,"comment_id":122651231,"body_markdown":"i&#39;m just reading doc that is saying that logs already in the file. i don&#39;t have jedox in my hands. you have to go to jedox server check corresponding logging config that should point to a file with logs.","body":"i&#39;m just reading doc that is saying that logs already in the file. i don&#39;t have jedox in my hands. you have to go to jedox server check corresponding logging config that should point to a file with logs."},{"owner":{"account_id":14029358,"reputation":908,"user_id":10133620,"display_name":"bosskay972"},"score":0,"creation_date":1633008746,"post_id":69390681,"comment_id":122651558,"body_markdown":"In fact there is a logfile but on jedox cloud instance this file isn&#39;t available in the cloud sever, it&#39;s only available on another website by clicking on a button to download it. So I can request this logfile.","body":"In fact there is a logfile but on jedox cloud instance this file isn&#39;t available in the cloud sever, it&#39;s only available on another website by clicking on a button to download it. So I can request this logfile."}],"answers":[{"tags":[],"owner":{"account_id":25454815,"reputation":1,"user_id":19255639,"display_name":"RKa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654165726,"creation_date":1654165726,"answer_id":72474708,"question_id":69390681,"body_markdown":"The Jedox ETL - Integrator comes with an own API, where the logger is an additional class.\r\nIf you are working with the Groovy Job envrionment, than you have full access to all of the Classes and Methods. In your case the State Class would be helpful to get all Wanrnings or Errors of your current job/subjob. You can write the state items them to a seperate File or collect them into a Varialbe for further useage, as a example. The target can be a file, database or even a jedox olap cube.  \r\n\r\nStarting Point of the Groovy Scripting API:\r\nhttps://knowledgebase.jedox.com/integration/integrator-scripting-api.htm\r\n\r\nHere is API Documentation of all Jedox ETL Classes:\r\nhttps://software.jedox.com/doc/2022_2/jedox_integrator_scripting_api_doc_2022_2/com/jedox/etl/components/scriptapi/package-summary.html\r\n \r\n","title":"Is it possible to retrieve all logs messages store them into a file or show them at the end of an ETL Job?","body":"<p>The Jedox ETL - Integrator comes with an own API, where the logger is an additional class.\nIf you are working with the Groovy Job envrionment, than you have full access to all of the Classes and Methods. In your case the State Class would be helpful to get all Wanrnings or Errors of your current job/subjob. You can write the state items them to a seperate File or collect them into a Varialbe for further useage, as a example. The target can be a file, database or even a jedox olap cube.</p>\n<p>Starting Point of the Groovy Scripting API:\n<a href=\"https://knowledgebase.jedox.com/integration/integrator-scripting-api.htm\" rel=\"nofollow noreferrer\">https://knowledgebase.jedox.com/integration/integrator-scripting-api.htm</a></p>\n<p>Here is API Documentation of all Jedox ETL Classes:\n<a href=\"https://software.jedox.com/doc/2022_2/jedox_integrator_scripting_api_doc_2022_2/com/jedox/etl/components/scriptapi/package-summary.html\" rel=\"nofollow noreferrer\">https://software.jedox.com/doc/2022_2/jedox_integrator_scripting_api_doc_2022_2/com/jedox/etl/components/scriptapi/package-summary.html</a></p>\n"},{"tags":[],"owner":{"account_id":25454815,"reputation":1,"user_id":19255639,"display_name":"RKa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654165959,"creation_date":1654165959,"answer_id":72474762,"question_id":69390681,"body_markdown":"How do I store all those logs in a file ?\r\nIn Jedox you can create a new File-Load, which can be triggered by the &#39;main&#39; groovy job. \r\nA good point to start is here:\r\nhttps://knowledgebase.jedox.com/integration/loads/file-load.htm\r\n","title":"Is it possible to retrieve all logs messages store them into a file or show them at the end of an ETL Job?","body":"<p>How do I store all those logs in a file ?\nIn Jedox you can create a new File-Load, which can be triggered by the 'main' groovy job.\nA good point to start is here:\n<a href=\"https://knowledgebase.jedox.com/integration/loads/file-load.htm\" rel=\"nofollow noreferrer\">https://knowledgebase.jedox.com/integration/loads/file-load.htm</a></p>\n"}],"owner":{"account_id":14029358,"reputation":908,"user_id":10133620,"display_name":"bosskay972"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654165959,"creation_date":1632998111,"question_id":69390681,"body_markdown":"**Introduction :**\r\n\r\nI work on a tool called Jedox. In this tool there is an ETL. This ETL can run job(job allow to execute multiple step from the ETL, by step I mean a set of operation on a table(most of the time)). Some jobs can just launch successively different step from etl, but there is another type of job than can run script. I try to run a job that use Groovy language. This language is very similar to Java, the two language share many similarity. \r\n\r\n**Context :**\r\n\r\nDuring the run, the ETL show message logs on a console. I can also print some message myself. Ex `LOG.info(&quot;hello&quot;)` will print `Hello` in the ETL Jedox Console. LOG is an object from the class ETLLogger. It&#39;s a specific class from Jedox library.\r\n\r\n**Question :** \r\n\r\n 1. With this logger, how can I get messages logs printed during the\r\n    job&#39;s run ?\r\n 2. With another Logger(from log4j for example) is it possible to get\r\n    ALL logs message printed during a process ?\r\n\r\n**Goal :**\r\n\r\nI want those logs messages to print all the warnings happened during the job at the END of the job, because jedox console is very glitchy and I can&#39;t retrieve decent data from a simple copy and paste. Furthermore, if a just copy/paste all logs I had select only warning message manually. And if it&#39;s possible I want to write the logs that interest me in a file, it would be great !\r\n\r\n**Bonus :**\r\nHere&#39;s a visual of Jedox ETL Console.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DbUkw.png","title":"Is it possible to retrieve all logs messages store them into a file or show them at the end of an ETL Job?","body":"<p><strong>Introduction :</strong></p>\n<p>I work on a tool called Jedox. In this tool there is an ETL. This ETL can run job(job allow to execute multiple step from the ETL, by step I mean a set of operation on a table(most of the time)). Some jobs can just launch successively different step from etl, but there is another type of job than can run script. I try to run a job that use Groovy language. This language is very similar to Java, the two language share many similarity.</p>\n<p><strong>Context :</strong></p>\n<p>During the run, the ETL show message logs on a console. I can also print some message myself. Ex <code>LOG.info(&quot;hello&quot;)</code> will print <code>Hello</code> in the ETL Jedox Console. LOG is an object from the class ETLLogger. It's a specific class from Jedox library.</p>\n<p><strong>Question :</strong></p>\n<ol>\n<li>With this logger, how can I get messages logs printed during the\njob's run ?</li>\n<li>With another Logger(from log4j for example) is it possible to get\nALL logs message printed during a process ?</li>\n</ol>\n<p><strong>Goal :</strong></p>\n<p>I want those logs messages to print all the warnings happened during the job at the END of the job, because jedox console is very glitchy and I can't retrieve decent data from a simple copy and paste. Furthermore, if a just copy/paste all logs I had select only warning message manually. And if it's possible I want to write the logs that interest me in a file, it would be great !</p>\n<p><strong>Bonus :</strong>\nHere's a visual of Jedox ETL Console.\n<a href=\"https://i.stack.imgur.com/DbUkw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DbUkw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","rest","blob"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1654170746,"post_id":72474736,"comment_id":128030266,"body_markdown":"Take a look at https://stackoverflow.com/a/70444557/7726319","body":"Take a look at <a href=\"https://stackoverflow.com/a/70444557/7726319\">stackoverflow.com/a/70444557/7726319</a>"},{"owner":{"account_id":1830919,"reputation":730,"user_id":1662332,"accept_rate":54,"display_name":"Giacomo Bartoli"},"score":1,"creation_date":1656089549,"post_id":72474736,"comment_id":128494768,"body_markdown":"@Vedha Not sure it is possible. You can return either a byte[] or Base64 that will be rendered as PDF directly from the browser.\nIn case of byte[] you simply add it to the content of the response, in case of Base64 you need to decode it.","body":"@Vedha Not sure it is possible. You can return either a byte[] or Base64 that will be rendered as PDF directly from the browser. In case of byte[] you simply add it to the content of the response, in case of Base64 you need to decode it."},{"owner":{"account_id":14726577,"reputation":43,"user_id":10635302,"display_name":"Vedha"},"score":0,"creation_date":1657864501,"post_id":72474736,"comment_id":128915604,"body_markdown":"@GiacomoBartoli - Thanks. I have tried to return it as byte[] and it&#39;s working fine.","body":"@GiacomoBartoli - Thanks. I have tried to return it as byte[] and it&#39;s working fine."}],"owner":{"account_id":14726577,"reputation":43,"user_id":10635302,"display_name":"Vedha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654165845,"creation_date":1654165845,"question_id":72474736,"body_markdown":"I have a data base table where the files have been stored as a BLOB. Now, I need to have a spring boot java API which will download the file and return to front end of the application (node js). Please help me to get this done. \r\n\r\nnote : the file format can be anything (txt, pdf , xls and etc ).\r\n\r\nany kind of help or suggestion is appreciated. Thanks in Advance !","title":"How to return a blob file from spring boot rest API?","body":"<p>I have a data base table where the files have been stored as a BLOB. Now, I need to have a spring boot java API which will download the file and return to front end of the application (node js). Please help me to get this done.</p>\n<p>note : the file format can be anything (txt, pdf , xls and etc ).</p>\n<p>any kind of help or suggestion is appreciated. Thanks in Advance !</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652960810,"post_id":72303915,"comment_id":127737117,"body_markdown":"Remove `Student() { ... }`, and then remove `void` from `void Student() { ... }`.","body":"Remove <code>Student() { ... }</code>, and then remove <code>void</code> from <code>void Student() { ... }</code>."},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":2,"creation_date":1652960920,"post_id":72303915,"comment_id":127737151,"body_markdown":"I cannot reproduce your error, can you please include the entire callstack into the question?","body":"I cannot reproduce your error, can you please include the entire callstack into the question?"},{"owner":{"account_id":8487231,"reputation":405,"user_id":6364918,"display_name":"longroad"},"score":0,"creation_date":1652960980,"post_id":72303915,"comment_id":127737178,"body_markdown":"Add error stack in description. Thx","body":"Add error stack in description. Thx"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":4,"creation_date":1652961281,"post_id":72303915,"comment_id":127737278,"body_markdown":"The real answer: because syntax matters. Every character you put into your code matters. A constructor is NOT a method. Pick up a good book and LEARN these things. There is no point in trying to learn language syntax by *experimenting*.","body":"The real answer: because syntax matters. Every character you put into your code matters. A constructor is NOT a method. Pick up a good book and LEARN these things. There is no point in trying to learn language syntax by <i>experimenting</i>."},{"owner":{"account_id":20952265,"reputation":39,"user_id":15393665,"display_name":"SOUE77"},"score":0,"creation_date":1652976563,"post_id":72303915,"comment_id":127743738,"body_markdown":"There was no mistake. it was a bad example because, the was to mix this java file with other an other java file containing already an other Student java file, and the JVM was loading the wrong .class file.","body":"There was no mistake. it was a bad example because, the was to mix this java file with other an other java file containing already an other Student java file, and the JVM was loading the wrong .class file."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652962043,"creation_date":1652962043,"answer_id":72304266,"question_id":72303915,"body_markdown":"As there are so many bad answers:\r\n\r\nIt boils down to simply use correct syntax for the Student class constructors:\r\n\r\n    class Student {\r\n        String name;\r\n        int age;\r\n    \r\n        Student() {\r\n          this(&quot;James&quot;, 25);\r\n        }\r\n\r\n        Student(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\nNote: the &quot;runtime error&quot; is most likely an artefact of the whole code NOT compiling, and your IDE doing the wrong thing.","title":"Java : constructor error &quot;method &#39;void &lt;init&gt;()&#39; not found&quot;","body":"<p>As there are so many bad answers:</p>\n<p>It boils down to simply use correct syntax for the Student class constructors:</p>\n<pre><code>class Student {\n    String name;\n    int age;\n\n    Student() {\n      this(&quot;James&quot;, 25);\n    }\n\n    Student(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>Note: the &quot;runtime error&quot; is most likely an artefact of the whole code NOT compiling, and your IDE doing the wrong thing.</p>\n"},{"tags":[],"owner":{"account_id":20952265,"reputation":39,"user_id":15393665,"display_name":"SOUE77"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652976735,"creation_date":1652976735,"answer_id":72307853,"question_id":72303915,"body_markdown":"There was no mistake. it was a bad example because, the was to mix this java file with other an other java file containing already an other Student java file, and the JVM was loading the wrong .class file.","title":"Java : constructor error &quot;method &#39;void &lt;init&gt;()&#39; not found&quot;","body":"<p>There was no mistake. it was a bad example because, the was to mix this java file with other an other java file containing already an other Student java file, and the JVM was loading the wrong .class file.</p>\n"}],"owner":{"account_id":20952265,"reputation":39,"user_id":15393665,"display_name":"SOUE77"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2054,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1685208346,"answer_count":2,"score":-4,"last_activity_date":1654165794,"creation_date":1652960471,"question_id":72303915,"body_markdown":"In main method, I create a new object with a non-argument constructor. But I have runtime error on this line.\r\n\r\nCould you please explain why?\r\n\r\n```\r\nclass Student {\r\n    String name;\r\n    int age;\r\n\r\n    Student() {\r\n        Student();\r\n    }\r\n\r\n    void Student() {\r\n        Student(&quot;James&quot;, 25);\r\n    }\r\n\r\n    void Student(String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\n\r\npublic class Test_03_09 {\r\n    public static void main(String[] args) {\r\n        Student s = new Student(); // Runtime error\r\n        System.out.println(s.name + &quot;:&quot; + s.age); \r\n    }\r\n}\r\n```","title":"Java : constructor error &quot;method &#39;void &lt;init&gt;()&#39; not found&quot;","body":"<p>In main method, I create a new object with a non-argument constructor. But I have runtime error on this line.</p>\n<p>Could you please explain why?</p>\n<pre><code>class Student {\n    String name;\n    int age;\n\n    Student() {\n        Student();\n    }\n\n    void Student() {\n        Student(&quot;James&quot;, 25);\n    }\n\n    void Student(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\npublic class Test_03_09 {\n    public static void main(String[] args) {\n        Student s = new Student(); // Runtime error\n        System.out.println(s.name + &quot;:&quot; + s.age); \n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","parameters","qr-code","birt"],"answers":[{"tags":[],"owner":{"account_id":3349759,"reputation":2483,"user_id":2814025,"display_name":"hvb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654076071,"creation_date":1654076071,"answer_id":72459559,"question_id":72459061,"body_markdown":"You could use a simple scripted data set which is based on the array result of xxx.split(&quot;,&quot;). The data set should return one string for each item in the CSV string.\r\nThen you can use a list or table to output a QR code for each item.\r\n\r\nYou&#39;ll need a two variables: one to store the array and another one to store the current index.","title":"Get parameter values out of the QR code URL","body":"<p>You could use a simple scripted data set which is based on the array result of xxx.split(&quot;,&quot;). The data set should return one string for each item in the CSV string.\nThen you can use a list or table to output a QR code for each item.</p>\n<p>You'll need a two variables: one to store the array and another one to store the current index.</p>\n"}],"owner":{"account_id":15941645,"reputation":124,"user_id":11503313,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654123235,"accepted_answer_id":72459559,"answer_count":1,"score":0,"last_activity_date":1654165462,"creation_date":1654073954,"question_id":72459061,"body_markdown":"I have troubles with passing parameter into the QR code URL. When I put the asset number value into the parameter eg. 1004,1005 the URL ending looks like this: ...assetnum=1004,1005 (which is perfectly correct). On my report I want to generate two QR codes - in this case two seperate QR codes...one with assetnum=1004 and the second with assetnum=1005.\r\nI appreciate all the responses.\r\n\r\nvar link = &quot;https://quickchart.io/qr?text=test%2Fmaximo%2Fui%2Fmaximo.jsp%3Fevent%3Dloadapp%26value%3Dmxkcreatesrm%26additionalevent%3Dinsert%26additionaleventvalue%3Dassetnum=&quot;1004,1005&quot;&amp;size=200&quot;;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pA3WG.png","title":"Get parameter values out of the QR code URL","body":"<p>I have troubles with passing parameter into the QR code URL. When I put the asset number value into the parameter eg. 1004,1005 the URL ending looks like this: ...assetnum=1004,1005 (which is perfectly correct). On my report I want to generate two QR codes - in this case two seperate QR codes...one with assetnum=1004 and the second with assetnum=1005.\nI appreciate all the responses.</p>\n<p>var link = &quot;https://quickchart.io/qr?text=test%2Fmaximo%2Fui%2Fmaximo.jsp%3Fevent%3Dloadapp%26value%3Dmxkcreatesrm%26additionalevent%3Dinsert%26additionaleventvalue%3Dassetnum=&quot;1004,1005&quot;&amp;size=200&quot;;</p>\n"},{"tags":["java","testing","benchmarking","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654165291,"creation_date":1654165291,"answer_id":72474605,"question_id":72275708,"body_markdown":"I think it tested nothing particular as the benchmarking method it empty. The numbers you are seeing are the the costs of the method invocation.","title":"JMH Benchmark first approach","body":"<p>I think it tested nothing particular as the benchmarking method it empty. The numbers you are seeing are the the costs of the method invocation.</p>\n"}],"owner":{"account_id":25314483,"reputation":65,"user_id":19136791,"display_name":"Robi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72474605,"answer_count":1,"score":1,"last_activity_date":1654165291,"creation_date":1652797156,"question_id":72275708,"body_markdown":"I am approaching for the first time the benchmark tests for my thesis work and I&#39;m studying JMH.\r\nI&#39;m using the https://github.com/spring-petclinic/spring-petclinic-rest code to do some tests.\r\nAfter initializing JMH I obtained the class:\r\n\r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    \r\n    public class MyBenchmark {\r\n    \r\n        @Benchmark\r\n        public void testMethod() {\r\n            // This is a demo/sample template for building your JMH benchmarks. Edit as needed.\r\n            // Put your benchmark code here.\r\n    \r\n        }\r\n   \r\n    }\r\n\r\nIf I run `mvn clean package` it generates the `target/spring-petclinic-rest-2.6.2-perf-tests.jar` file and if I do `java -jar target/spring-petclinic-rest-2.6.2-perf-tests.jar` I obtain some results.\r\n\r\nMy question is, with this simple *MyBenchmark* class with the empty *testMethod* method, what is this benchmark test applied to? What code did he test?\r\n\r\nThank you in advance.","title":"JMH Benchmark first approach","body":"<p>I am approaching for the first time the benchmark tests for my thesis work and I'm studying JMH.\nI'm using the <a href=\"https://github.com/spring-petclinic/spring-petclinic-rest\" rel=\"nofollow noreferrer\">https://github.com/spring-petclinic/spring-petclinic-rest</a> code to do some tests.\nAfter initializing JMH I obtained the class:</p>\n<pre><code>import org.openjdk.jmh.annotations.Benchmark;\n\npublic class MyBenchmark {\n\n    @Benchmark\n    public void testMethod() {\n        // This is a demo/sample template for building your JMH benchmarks. Edit as needed.\n        // Put your benchmark code here.\n\n    }\n\n}\n</code></pre>\n<p>If I run <code>mvn clean package</code> it generates the <code>target/spring-petclinic-rest-2.6.2-perf-tests.jar</code> file and if I do <code>java -jar target/spring-petclinic-rest-2.6.2-perf-tests.jar</code> I obtain some results.</p>\n<p>My question is, with this simple <em>MyBenchmark</em> class with the empty <em>testMethod</em> method, what is this benchmark test applied to? What code did he test?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1654164927,"post_id":72474473,"comment_id":128028290,"body_markdown":"Just to clarify: you tried `(?!^(.)\\1*$)` to solve this, right?","body":"Just to clarify: you tried <code>(?!^(.)\\1*$)</code> to solve this, right?"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1654165709,"post_id":72474473,"comment_id":128028536,"body_markdown":"Yes @WiktorStribiew","body":"Yes @WiktorStribiew"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654165252,"creation_date":1654165252,"answer_id":72474594,"question_id":72474473,"body_markdown":"You can use\r\n```none\r\n^[A-Z](?!\\D*(\\d)(?:\\D*\\1)+\\D*$)(?=.{2,15}$)[A-Z0-9]*(?:-[A-Z0-9]*){0,2}[A-Z0-9]+$\r\n```\r\nSee the [regex demo][1]. Inside the code, in your string literals, make sure you escape backslashes twice.\r\n\r\n*Details*:\r\n\r\n - `^`  - start of string\r\n - `[A-Z]` - an uppercase ASCII letter\r\n - `(?!\\D*(\\d)(?:\\D*\\1)+\\D*$)` - the string cannot contain only identical digits\r\n - `(?=.{2,15}$)` - there must be 2 to 15 chars other than line break chars to the right of the current position\r\n - `[A-Z0-9]*` - zero or more ASCII uppercase letters/digits\r\n - `(?:-[A-Z0-9]*){0,2}` - zero, one or two occurrences of `-` and then zero or more ASCII uppercas eletters/digits\r\n - `[A-Z0-9]+` - one or more ASCII uppercase letters/digits\r\n - `$` - end of string.\r\n`\r\n\r\n  [1]: https://regex101.com/r/DCMZmn/1","title":"how to create a regular expression to validate the numbers are not same even separated by hyphen (-) or Alpha Numeric","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[A-Z](?!\\D*(\\d)(?:\\D*\\1)+\\D*$)(?=.{2,15}$)[A-Z0-9]*(?:-[A-Z0-9]*){0,2}[A-Z0-9]+$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/DCMZmn/1\" rel=\"nofollow noreferrer\">regex demo</a>. Inside the code, in your string literals, make sure you escape backslashes twice.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code>  - start of string</li>\n<li><code>[A-Z]</code> - an uppercase ASCII letter</li>\n<li><code>(?!\\D*(\\d)(?:\\D*\\1)+\\D*$)</code> - the string cannot contain only identical digits</li>\n<li><code>(?=.{2,15}$)</code> - there must be 2 to 15 chars other than line break chars to the right of the current position</li>\n<li><code>[A-Z0-9]*</code> - zero or more ASCII uppercase letters/digits</li>\n<li><code>(?:-[A-Z0-9]*){0,2}</code> - zero, one or two occurrences of <code>-</code> and then zero or more ASCII uppercas eletters/digits</li>\n<li><code>[A-Z0-9]+</code> - one or more ASCII uppercase letters/digits</li>\n<li><code>$</code> - end of string.\n`</li>\n</ul>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72474594,"answer_count":1,"score":1,"last_activity_date":1654165252,"creation_date":1654164674,"question_id":72474473,"body_markdown":"Requirement is : Field is made of 1 alpha character followed by 15 alpha numeric characters including maximum 2 hyphens (-)\r\n\r\nRegex:``` ^(?!^(.)\\\\1*$)([A-Z]{1}(?=[A-Z0-9-]{2,15}$)[A-Z0-9]*(?:\\\\-[A-Z0-9]*){0,2}[A-Z0-9]+$) ```\r\n\r\nAbove Regex is working fine but as the requirement it&#39;s not allowed the duplicate numbers like ```1) N000000000000000 \r\n2)N000000-0000-0 ```\r\n\r\nthe above 2 values not to allow as its has the same digit as &quot;0&quot;.\r\n","title":"how to create a regular expression to validate the numbers are not same even separated by hyphen (-) or Alpha Numeric","body":"<p>Requirement is : Field is made of 1 alpha character followed by 15 alpha numeric characters including maximum 2 hyphens (-)</p>\n<p>Regex:<code>^(?!^(.)\\\\1*$)([A-Z]{1}(?=[A-Z0-9-]{2,15}$)[A-Z0-9]*(?:\\\\-[A-Z0-9]*){0,2}[A-Z0-9]+$)</code></p>\n<p>Above Regex is working fine but as the requirement it's not allowed the duplicate numbers like <code>1) N000000000000000  2)N000000-0000-0 </code></p>\n<p>the above 2 values not to allow as its has the same digit as &quot;0&quot;.</p>\n"},{"tags":["java","command-line-interface","locale","javadoc"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654165099,"creation_date":1654164430,"answer_id":72474424,"question_id":72474357,"body_markdown":"```bash\r\njavadoc -locale en_US Main.java\r\n```\r\nSee the [official documentation](https://docs.oracle.com/en/java/javase/18/docs/specs/man/javadoc.html) of the command.\r\n\r\nIn particular the section about the `-locale` option:\r\n&gt; `-locale name`\r\n&gt;\r\n&gt; Specifies the locale that the javadoc tool uses when it generates documentation. The argument is the name of the locale, as described in `java.util.Locale` [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Locale.html), such as **en_US** (English, United States) or **en_US_WIN** (Windows variant).\r\n&gt;\r\n&gt; Specifying a locale causes the javadoc tool to choose the resource files of that locale for messages such as strings in the navigation bar, headings for lists and tables, help file contents, comments in the *stylesheet.css* file, and so on. It also specifies the sorting order for lists sorted alphabetically, and the sentence separator to determine the end of the first sentence. The `-locale` option doesn&#39;t determine the locale of the documentation comment text specified in the source files of the documented classes.","title":"How to change the language used by javadoc?","body":"<pre class=\"lang-bash prettyprint-override\"><code>javadoc -locale en_US Main.java\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/javadoc.html\" rel=\"nofollow noreferrer\">official documentation</a> of the command.</p>\n<p>In particular the section about the <code>-locale</code> option:</p>\n<blockquote>\n<p><code>-locale name</code></p>\n<p>Specifies the locale that the javadoc tool uses when it generates documentation. The argument is the name of the locale, as described in <code>java.util.Locale</code> <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\">documentation</a>, such as <strong>en_US</strong> (English, United States) or <strong>en_US_WIN</strong> (Windows variant).</p>\n<p>Specifying a locale causes the javadoc tool to choose the resource files of that locale for messages such as strings in the navigation bar, headings for lists and tables, help file contents, comments in the <em>stylesheet.css</em> file, and so on. It also specifies the sorting order for lists sorted alphabetically, and the sentence separator to determine the end of the first sentence. The <code>-locale</code> option doesn't determine the locale of the documentation comment text specified in the source files of the documented classes.</p>\n</blockquote>\n"}],"owner":{"account_id":25454556,"reputation":11,"user_id":19255424,"display_name":"RR Carol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654165099,"creation_date":1654164132,"question_id":72474357,"body_markdown":"I tried to generate javadoc using the command line tool, i.e.:\r\n```shell\r\njavadoc Main.java\r\n```\r\n\r\nBut the resulting documentation is in Chinese for me.\r\n\r\nHow can I change the language to, lets say English?","title":"How to change the language used by javadoc?","body":"<p>I tried to generate javadoc using the command line tool, i.e.:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javadoc Main.java\n</code></pre>\n<p>But the resulting documentation is in Chinese for me.</p>\n<p>How can I change the language to, lets say English?</p>\n"},{"tags":["java","rest","jax-rs"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1347955461,"post_id":11552248,"comment_id":16778417,"body_markdown":"possible duplicate of [When to use pathParams or QueryParams](http://stackoverflow.com/questions/6345769/when-to-use-pathparams-or-queryparams)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6345769/when-to-use-pathparams-or-queryparams\">When to use pathParams or QueryParams</a>"}],"answers":[{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1347955425,"creation_date":1342658119,"answer_id":11552385,"question_id":11552248,"body_markdown":"I personally used the approach of &quot;if it makes sense for the user to bookmark a URLwhich includes these parameters then use PathParam&quot;.\r\n\r\nFor instance, if the URL for a user profile includes some profile id parameter, since this can be bookmarked by the user and/or emailed around, I would include that profile id as a path parameter. Also, another considerent to this is that the page denoted by the URL which includes the path param doesn&#39;t change -- the user will set up his/her profile, save it, and then unlikely to change that much from there on; this means webcrawlers/search engines/browsers/etc can cache this page nicely based on the path. \r\n\r\nIf a parameter passed in the URL is likely to change the page layout/content then I&#39;d use that as a queryparam. For instance, if the profile URL supports a parameter which specifies whether to show the user email or not, I would consider that to be a query param. (I know, arguably, you could say that the `&amp;noemail=1` or whatever parameter it is can be used as a path param and generates 2 separate pages -- one with the email on it, one without it -- but logically that&#39;s not the case: it is still the same page with or without certain attributes shown.\r\n\r\nHope this helps -- I appreciate the explanation might be a bit fuzzy :)","title":"When to use @QueryParam vs @PathParam","body":"<p>I personally used the approach of \"if it makes sense for the user to bookmark a URLwhich includes these parameters then use PathParam\".</p>\n\n<p>For instance, if the URL for a user profile includes some profile id parameter, since this can be bookmarked by the user and/or emailed around, I would include that profile id as a path parameter. Also, another considerent to this is that the page denoted by the URL which includes the path param doesn't change -- the user will set up his/her profile, save it, and then unlikely to change that much from there on; this means webcrawlers/search engines/browsers/etc can cache this page nicely based on the path. </p>\n\n<p>If a parameter passed in the URL is likely to change the page layout/content then I'd use that as a queryparam. For instance, if the profile URL supports a parameter which specifies whether to show the user email or not, I would consider that to be a query param. (I know, arguably, you could say that the <code>&amp;noemail=1</code> or whatever parameter it is can be used as a path param and generates 2 separate pages -- one with the email on it, one without it -- but logically that's not the case: it is still the same page with or without certain attributes shown.</p>\n\n<p>Hope this helps -- I appreciate the explanation might be a bit fuzzy :)</p>\n"},{"tags":[],"owner":{"account_id":342995,"reputation":1317,"user_id":674446,"display_name":"Chandra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1342658620,"creation_date":1342658620,"answer_id":11552449,"question_id":11552248,"body_markdown":"You can use query parameters for filtering and path parameters for grouping. The following link has good info on this [When to use pathParams or QueryParams][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6345769/when-to-use-pathparams-or-queryparams","title":"When to use @QueryParam vs @PathParam","body":"<p>You can use query parameters for filtering and path parameters for grouping. The following link has good info on this <a href=\"https://stackoverflow.com/questions/6345769/when-to-use-pathparams-or-queryparams\">When to use pathParams or QueryParams</a></p>\n"},{"tags":[],"owner":{"account_id":1668716,"reputation":2369,"user_id":1535606,"accept_rate":21,"display_name":"Arun Chandrasekaran"},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1342660450,"creation_date":1342660450,"answer_id":11552665,"question_id":11552248,"body_markdown":"This is what I do.\r\n\r\nIf there is a scenario to retrieve a record based on id, for example you need to get the details of the employee whose id is 15, then you can have resource with @PathParam.\r\n\r\n    GET /employee/{id}\r\n\r\nIf there is a scenario where you need to get the details of all employees but only 10 at a time, you may use query param\r\n\r\n    GET /employee?start=1&amp;size=10\r\n\r\nThis says that starting employee id 1 get ten records.\r\n\r\nTo summarize, use @PathParam for retrieval based on id. User @QueryParam for filter or if you have any fixed list of options that user can pass.","title":"When to use @QueryParam vs @PathParam","body":"<p>This is what I do.</p>\n\n<p>If there is a scenario to retrieve a record based on id, for example you need to get the details of the employee whose id is 15, then you can have resource with @PathParam.</p>\n\n<pre><code>GET /employee/{id}\n</code></pre>\n\n<p>If there is a scenario where you need to get the details of all employees but only 10 at a time, you may use query param</p>\n\n<pre><code>GET /employee?start=1&amp;size=10\n</code></pre>\n\n<p>This says that starting employee id 1 get ten records.</p>\n\n<p>To summarize, use @PathParam for retrieval based on id. User @QueryParam for filter or if you have any fixed list of options that user can pass.</p>\n"},{"tags":[],"owner":{"account_id":900623,"reputation":14220,"user_id":936869,"accept_rate":81,"display_name":"theon"},"down_vote_count":0,"up_vote_count":327,"is_accepted":true,"score":327,"last_activity_date":1574564107,"creation_date":1342730964,"answer_id":11569077,"question_id":11552248,"body_markdown":"REST may not be a standard as such, but reading up on general REST documentation and blog posts should give you some guidelines for a good way to structure API URLs. Most rest APIs tend to only have resource names and resource IDs in the path. Such as:\r\n\r\n    /departments/{dept}/employees/{id}\r\n\r\nSome REST APIs use query strings for filtering, pagination and sorting, but Since REST isn&#39;t a strict standard I&#39;d recommend checking some REST APIs out there such as [github][1] and [stackoverflow][2] and see what could work well for your use case. \r\n\r\nI&#39;d recommend putting any required parameters in the path, and any optional parameters should certainly be query string parameters. Putting optional parameters in the path will end up getting really messy when trying to write URL handlers that match different combinations. \r\n\r\n  [1]: http://developer.github.com/v3/repos/\r\n  [2]: https://api.stackexchange.com/docs","title":"When to use @QueryParam vs @PathParam","body":"<p>REST may not be a standard as such, but reading up on general REST documentation and blog posts should give you some guidelines for a good way to structure API URLs. Most rest APIs tend to only have resource names and resource IDs in the path. Such as:</p>\n\n<pre><code>/departments/{dept}/employees/{id}\n</code></pre>\n\n<p>Some REST APIs use query strings for filtering, pagination and sorting, but Since REST isn't a strict standard I'd recommend checking some REST APIs out there such as <a href=\"http://developer.github.com/v3/repos/\" rel=\"noreferrer\">github</a> and <a href=\"https://api.stackexchange.com/docs\">stackoverflow</a> and see what could work well for your use case. </p>\n\n<p>I'd recommend putting any required parameters in the path, and any optional parameters should certainly be query string parameters. Putting optional parameters in the path will end up getting really messy when trying to write URL handlers that match different combinations. </p>\n"},{"tags":[],"owner":{"account_id":368661,"reputation":4178,"user_id":715608,"accept_rate":55,"display_name":"SGT Grumpy Pants"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1476540998,"creation_date":1364997625,"answer_id":15789495,"question_id":11552248,"body_markdown":"I think that if the parameter identifies a specific entity you should use a path variable. For example, to get all the posts on my blog I request\r\n\r\n    GET: myserver.com/myblog/posts\r\n\r\nto get the post with id = 123, I would request\r\n\r\n    GET: myserver.com/myblog/posts/123\r\n\r\nbut to filter my list of posts, and get all posts since Jan 1, 2013, I would request\r\n\r\n    GET: myserver.com/myblog/posts?since=2013-01-01\r\n\r\nIn the first example &quot;posts&quot; identifies a specific entity (the entire collection of blog posts).  In the second example, &quot;123&quot; also represents a specific entity (a single blog post).  But in the last example, the parameter &quot;since=2013-01-01&quot; is a request to filter the posts collection not a specific entity.  Pagination and ordering would be another good example, i.e.\r\n\r\n    GET: myserver.com/myblog/posts?page=2&amp;order=backward\r\n\r\nHope that helps. :-)","title":"When to use @QueryParam vs @PathParam","body":"<p>I think that if the parameter identifies a specific entity you should use a path variable. For example, to get all the posts on my blog I request</p>\n\n<pre><code>GET: myserver.com/myblog/posts\n</code></pre>\n\n<p>to get the post with id = 123, I would request</p>\n\n<pre><code>GET: myserver.com/myblog/posts/123\n</code></pre>\n\n<p>but to filter my list of posts, and get all posts since Jan 1, 2013, I would request</p>\n\n<pre><code>GET: myserver.com/myblog/posts?since=2013-01-01\n</code></pre>\n\n<p>In the first example \"posts\" identifies a specific entity (the entire collection of blog posts).  In the second example, \"123\" also represents a specific entity (a single blog post).  But in the last example, the parameter \"since=2013-01-01\" is a request to filter the posts collection not a specific entity.  Pagination and ordering would be another good example, i.e.</p>\n\n<pre><code>GET: myserver.com/myblog/posts?page=2&amp;order=backward\n</code></pre>\n\n<p>Hope that helps. :-)</p>\n"},{"tags":[],"owner":{"account_id":166535,"reputation":8325,"user_id":390722,"accept_rate":67,"display_name":"Michael M"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1400087444,"creation_date":1400087444,"answer_id":23661003,"question_id":11552248,"body_markdown":"As theon noted, REST is not a standard. However, if you are looking to implement a standards based URI convention, you might consider the [oData URI convention](http://www.odata.org/documentation/odata-version-2-0/uri-conventions). Ver 4 has been [approved as an OASIS standard](http://www.odata.org/blog/status-updates-of-odata-libraries-that-support-odata-version-4-0/) and libraries exists for oData for various languages including Java via [Apache Olingo](http://olingo.incubator.apache.org/). Don&#39;t let the fact that it&#39;s a spawn from Microsoft put you off since it&#39;s [gained support from other industry player&#39;s as well](https://www.oasis-open.org/news/pr/oasis-approves-odata-4-0-standards-for-an-open-programmable-web), which include Red Hat, Citrix, IBM, Blackberry, Drupal, Netflix Facebook and SAP\r\n\r\n[More adopters are listed here](http://chriswoodruff.com/2012/05/24/the-great-ecosystem-of-the-open-data-protocol-odata/)","title":"When to use @QueryParam vs @PathParam","body":"<p>As theon noted, REST is not a standard. However, if you are looking to implement a standards based URI convention, you might consider the <a href=\"http://www.odata.org/documentation/odata-version-2-0/uri-conventions\" rel=\"nofollow\">oData URI convention</a>. Ver 4 has been <a href=\"http://www.odata.org/blog/status-updates-of-odata-libraries-that-support-odata-version-4-0/\" rel=\"nofollow\">approved as an OASIS standard</a> and libraries exists for oData for various languages including Java via <a href=\"http://olingo.incubator.apache.org/\" rel=\"nofollow\">Apache Olingo</a>. Don't let the fact that it's a spawn from Microsoft put you off since it's <a href=\"https://www.oasis-open.org/news/pr/oasis-approves-odata-4-0-standards-for-an-open-programmable-web\" rel=\"nofollow\">gained support from other industry player's as well</a>, which include Red Hat, Citrix, IBM, Blackberry, Drupal, Netflix Facebook and SAP</p>\n\n<p><a href=\"http://chriswoodruff.com/2012/05/24/the-great-ecosystem-of-the-open-data-protocol-odata/\" rel=\"nofollow\">More adopters are listed here</a></p>\n"},{"tags":[],"owner":{"account_id":922146,"reputation":4619,"user_id":953628,"accept_rate":50,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409151282,"creation_date":1409151282,"answer_id":25530455,"question_id":11552248,"body_markdown":"The reason is actually very simple. When using a query parameter you can take in characters such as &quot;/&quot; and your client does not need to html encode them. There are other reasons but that is a simple example. As for when to use a path variable. I would say whenever you are dealing with ids or if the path variable is a direction for a query.","title":"When to use @QueryParam vs @PathParam","body":"<p>The reason is actually very simple. When using a query parameter you can take in characters such as \"/\" and your client does not need to html encode them. There are other reasons but that is a simple example. As for when to use a path variable. I would say whenever you are dealing with ids or if the path variable is a direction for a query.</p>\n"},{"tags":[],"owner":{"display_name":"user4374220"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418906505,"creation_date":1418905677,"answer_id":27546627,"question_id":11552248,"body_markdown":"I am giving one exapmle to undersand when do we use `@Queryparam` and `@pathparam`\r\n    \r\nFor example I am taking one resouce is `carResource` class\r\n    \r\nIf you want to make the inputs of your resouce method manadatory then use the param type as `@pathaparam`, if the inputs of your resource method should be optional then keep that param type as `@QueryParam` param\r\n\r\n    @Path(&quot;/car&quot;)\r\n    class CarResource\r\n    {\r\n    \t@Get\r\n    \t@produces(&quot;text/plain&quot;)\r\n    \t@Path(&quot;/search/{carmodel}&quot;)\r\n    \tpublic String getCarSearch(@PathParam(&quot;carmodel&quot;)String model,@QueryParam(&quot;carcolor&quot;)String color) {\r\n    \t\t//logic for getting cars based on carmodel and color\r\n    \t\t\t-----\r\n    \t\treturn cars\r\n    \t}\r\n    }\r\n    \r\nFor this resouce pass the request\r\n\r\n    req uri ://address:2020/carWeb/car/search/swift?carcolor=red\r\n    \r\nIf you give req like this the resouce will gives the based car model and color\r\n    \r\n     req uri://address:2020/carWeb/car/search/swift\r\n\r\nIf you give req like this the resoce method will display only swift model based car\r\n    \r\n    req://address:2020/carWeb/car/search?carcolor=red\r\n    \r\nIf you give like this we will get ResourceNotFound exception because in the car resouce class I declared carmodel as `@pathPram` that is you must and should give the carmodel as reQ uri otherwise it will not pass the req to resouce but if you don&#39;t pass the color also it will pass the req to resource why because the color is `@quetyParam` it is optional in req.","title":"When to use @QueryParam vs @PathParam","body":"<p>I am giving one exapmle to undersand when do we use <code>@Queryparam</code> and <code>@pathparam</code></p>\n\n<p>For example I am taking one resouce is <code>carResource</code> class</p>\n\n<p>If you want to make the inputs of your resouce method manadatory then use the param type as <code>@pathaparam</code>, if the inputs of your resource method should be optional then keep that param type as <code>@QueryParam</code> param</p>\n\n<pre><code>@Path(\"/car\")\nclass CarResource\n{\n    @Get\n    @produces(\"text/plain\")\n    @Path(\"/search/{carmodel}\")\n    public String getCarSearch(@PathParam(\"carmodel\")String model,@QueryParam(\"carcolor\")String color) {\n        //logic for getting cars based on carmodel and color\n            -----\n        return cars\n    }\n}\n</code></pre>\n\n<p>For this resouce pass the request</p>\n\n<pre><code>req uri ://address:2020/carWeb/car/search/swift?carcolor=red\n</code></pre>\n\n<p>If you give req like this the resouce will gives the based car model and color</p>\n\n<pre><code> req uri://address:2020/carWeb/car/search/swift\n</code></pre>\n\n<p>If you give req like this the resoce method will display only swift model based car</p>\n\n<pre><code>req://address:2020/carWeb/car/search?carcolor=red\n</code></pre>\n\n<p>If you give like this we will get ResourceNotFound exception because in the car resouce class I declared carmodel as <code>@pathPram</code> that is you must and should give the carmodel as reQ uri otherwise it will not pass the req to resouce but if you don't pass the color also it will pass the req to resource why because the color is <code>@quetyParam</code> it is optional in req.</p>\n"},{"tags":[],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1423818699,"creation_date":1423818699,"answer_id":28495999,"question_id":11552248,"body_markdown":"It&#39;s a very interesting question.\r\n\r\nYou can use both of them, there&#39;s not any strict rule about this subject, but using URI path variables has some advantages:\r\n\r\n- *Cache*:\r\nMost of the web cache services on the internet don&#39;t cache GET request when they contains query parameters.\r\nThey do that because there are a lot of RPC systems using GET requests to change data in the server (fail!! Get must be a safe method)\r\n\r\nBut if you use path variables, all of this services can cache your GET requests.\r\n\r\n- *Hierarchy*:\r\nThe path variables can represent hierarchy: \r\n/City/Street/Place\r\n\r\nIt gives the user more information about the structure of the data.\r\n\r\nBut if your data doesn&#39;t have any hierarchy relation you can still use Path variables, using comma or semi-colon:\r\n\r\n/City/longitude,latitude\r\n\r\nAs a rule, use comma when the ordering of the parameters matter, use semi-colon when the ordering doesn&#39;t matter:\r\n\r\n/IconGenerator/red;blue;green\r\n\r\nApart of those reasons, there are some cases when it&#39;s very common to use query string variables:\r\n\r\n- When you need the browser to automatically put HTML form variables into the URI\r\n- When you are dealing with algorithm. For example the google engine use query strings:\r\n\r\nhttp:// www.google.com/search?q=rest\r\n\r\nTo sum up, there&#39;s not any strong reason to use one of this methods but whenever you can, use URI variables.\r\n\r\n","title":"When to use @QueryParam vs @PathParam","body":"<p>It's a very interesting question.</p>\n\n<p>You can use both of them, there's not any strict rule about this subject, but using URI path variables has some advantages:</p>\n\n<ul>\n<li><em>Cache</em>:\nMost of the web cache services on the internet don't cache GET request when they contains query parameters.\nThey do that because there are a lot of RPC systems using GET requests to change data in the server (fail!! Get must be a safe method)</li>\n</ul>\n\n<p>But if you use path variables, all of this services can cache your GET requests.</p>\n\n<ul>\n<li><em>Hierarchy</em>:\nThe path variables can represent hierarchy: \n/City/Street/Place</li>\n</ul>\n\n<p>It gives the user more information about the structure of the data.</p>\n\n<p>But if your data doesn't have any hierarchy relation you can still use Path variables, using comma or semi-colon:</p>\n\n<p>/City/longitude,latitude</p>\n\n<p>As a rule, use comma when the ordering of the parameters matter, use semi-colon when the ordering doesn't matter:</p>\n\n<p>/IconGenerator/red;blue;green</p>\n\n<p>Apart of those reasons, there are some cases when it's very common to use query string variables:</p>\n\n<ul>\n<li>When you need the browser to automatically put HTML form variables into the URI</li>\n<li>When you are dealing with algorithm. For example the google engine use query strings:</li>\n</ul>\n\n<p>http:// www.google.com/search?q=rest</p>\n\n<p>To sum up, there's not any strong reason to use one of this methods but whenever you can, use URI variables.</p>\n"},{"tags":[],"owner":{"account_id":3133980,"reputation":45,"user_id":2650920,"display_name":"Amlesh Kumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1539633649,"creation_date":1453377792,"answer_id":34923328,"question_id":11552248,"body_markdown":"1. `@QueryParam` can be conveniently used with the Default Value annotation so that you can avoid a null pointer exception if no query parameter is passed.\r\n\r\nWhen you want to parse query parameters from a GET request, you can simply define respective parameter to the method that will handle the GET request  and annotate them with `@QueryParam` annotation\r\n\r\n2. `@PathParam` extracts the URI values and matches to `@Path`. And hence gets the input parameter. \r\n2.1 `@PathParam` can be more than one and is set to methods arguments\r\n\r\n    \r\n   \r\n\r\n        @Path(&quot;/rest&quot;)\r\n        public class Abc {\r\n    \r\n    \t    @GET\r\n    \t    @Path(&quot;/msg/{p0}/{p1}&quot;)\r\n            @Produces(&quot;text/plain&quot;)\r\n    \t    public String add(@PathParam(&quot;p0&quot;) Integer param1, @PathParam(&quot;p1&quot;)  Integer param2 )\r\n            {\r\n    \t\t    return String.valueOf(param1+param2);\r\n    \t    }\r\n        } \r\n\r\n\r\nIn the above example,  \r\n`http://localhost:8080/Restr/rest/msg/{p0}/{p1}`,  \r\n`p0` matches `param1` and `p1` matches `param2`. So for the URI  \r\n`http://localhost:8080/Restr/rest/msg/4/6`,  \r\nwe get the result `10`. \r\n\r\nIn REST Service, JAX-RS provides `@QueryParam` and `@FormParam` both for accepting data from HTTP request. An HTTP form can be submitted by different methods like GET and POST.\r\n\r\n`@QueryParam` : Accepts GET request and reads data from query string.\r\n\r\n`@FormParam`: Accepts POST request and fetches data from HTML form or any request of the media \r\n","title":"When to use @QueryParam vs @PathParam","body":"<ol>\n<li><code>@QueryParam</code> can be conveniently used with the Default Value annotation so that you can avoid a null pointer exception if no query parameter is passed.</li>\n</ol>\n\n<p>When you want to parse query parameters from a GET request, you can simply define respective parameter to the method that will handle the GET request  and annotate them with <code>@QueryParam</code> annotation</p>\n\n<ol start=\"2\">\n<li><p><code>@PathParam</code> extracts the URI values and matches to <code>@Path</code>. And hence gets the input parameter. \n2.1 <code>@PathParam</code> can be more than one and is set to methods arguments</p>\n\n<pre><code>@Path(\"/rest\")\npublic class Abc {\n\n    @GET\n    @Path(\"/msg/{p0}/{p1}\")\n    @Produces(\"text/plain\")\n    public String add(@PathParam(\"p0\") Integer param1, @PathParam(\"p1\")  Integer param2 )\n    {\n        return String.valueOf(param1+param2);\n    }\n} \n</code></pre></li>\n</ol>\n\n<p>In the above example,<br>\n<code>http://localhost:8080/Restr/rest/msg/{p0}/{p1}</code>,<br>\n<code>p0</code> matches <code>param1</code> and <code>p1</code> matches <code>param2</code>. So for the URI<br>\n<code>http://localhost:8080/Restr/rest/msg/4/6</code>,<br>\nwe get the result <code>10</code>. </p>\n\n<p>In REST Service, JAX-RS provides <code>@QueryParam</code> and <code>@FormParam</code> both for accepting data from HTTP request. An HTTP form can be submitted by different methods like GET and POST.</p>\n\n<p><code>@QueryParam</code> : Accepts GET request and reads data from query string.</p>\n\n<p><code>@FormParam</code>: Accepts POST request and fetches data from HTML form or any request of the media </p>\n"},{"tags":[],"owner":{"account_id":1527713,"reputation":356,"user_id":1458506,"display_name":"Matthew Slyman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461174049,"creation_date":1461174049,"answer_id":36751292,"question_id":11552248,"body_markdown":"[From Wikipedia: Uniform Resource Locator](https://en.wikipedia.org/wiki/Uniform_Resource_Locator)\r\n\r\n**A path**, which contains data, *usually organized in hierarchical form*, that appears as a sequence of segments separated by slashes.\r\n\r\n**An optional query**, separated from the preceding part by a question mark (?), containing a query string of *non-hierarchical data*.\r\n\r\n According with the conceptual design of the URL, we might implement a PathParam for hierarchical data/directives/locator components, or implement a QueryParam when the data are not hierarchical. This makes sense because paths are naturally ordered, whereas queries contain variables which may be ordered arbitrarily (unordered variable/value pairs).\r\n\r\nA previous commenter wrote,\r\n\r\n&gt; I think that if the parameter identifies a specific entity you should use a path variable.\r\n\r\nAnother wrote,\r\n\r\n&gt; Use @PathParam for retrieval based on id. User @QueryParam for filter or if you have any fixed list of options that user can pass.\r\n\r\nAnother,\r\n\r\n&gt; I&#39;d recommend putting any required parameters in the path, and any optional parameters should certainly be query string parameters.\r\n\r\n However, one might implement a flexible, non-hierarchical system for identifying specific entities! One might have multiple unique indexes on an SQL table, and allow entities to be identified using any combination of fields that comprise a unique index! Different combinations (perhaps also ordered differently), might be used for links from various related entities (referrers). In this case, we might be dealing with non-hierarchical data, used to identify individual entities  or in other cases, might only specify certain variables/fields  certain components of unique indexes  and retrieve a list/set of records. In such cases, it might be easier, more logical and reasonable to implement the URLs as QueryParams!\r\n\r\nCould a long hexadecimal string dilute/diminish the value of keywords in the rest of the path? It might be worth [considering the potential SEO implications of placing variables/values in the path, or in the query](https://webmasters.stackexchange.com/questions/51/why-is-it-preferable-to-use-paths-with-slashes-instead-of-query-string-variables), and the human-interface implications of whether we want users to be able to traverse/explore the hierarchy of URLs by editing the contents of the address bar. My 404 Not Found page uses SSI variables to automatically redirect broken URLs to their parent! Search robots might also traverse the path hierarchy.\r\nOn the other hand, personally, when I share URLs on social media, I manually strip out any private unique identifiers  typically by truncating the query from the URL, leaving only the path: in this case, there is some utility in placing unique identifiers in the path rather than in the query. Whether we want to facilitate the use of path components as a crude user-interface, perhaps depends on whether the data/components are human-readable or not. The question of human-readability relates somewhat to the question of hierarchy: often, data that may be expressed as human-readable keywords are also hierarchical; while hierarchical data may often be expressed as human-readable keywords. (Search engines themselves might be defined as augmenting the use of URLs as a user-interface.) Hierarchies of keywords or directives might not be strictly ordered, but they are usually close enough that we can cover alternative cases in the path, and [label one option as the &quot;canonical&quot; case](https://support.google.com/webmasters/answer/139066?hl=en).\r\n\r\nThere are fundamentally several kinds of questions we might answer with the URL for each request:\r\n\r\n 1. What kind of record/ thing are we requesting/ serving?\r\n 2. Which one(s) are we interested in?\r\n 3. How do we want to present the information/ records?\r\n\r\nQ1 is almost certainly best covered by the path, or by PathParams.\r\nQ3 (which is probably controlled via a set of arbitrarily ordered optional parameters and default values); is almost certainly best covered by QueryParams.\r\nQ2: It depends","title":"When to use @QueryParam vs @PathParam","body":"<p><a href=\"https://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"noreferrer\">From Wikipedia: Uniform Resource Locator</a></p>\n\n<p><strong>A path</strong>, which contains data, <em>usually organized in hierarchical form</em>, that appears as a sequence of segments separated by slashes.</p>\n\n<p><strong>An optional query</strong>, separated from the preceding part by a question mark (?), containing a query string of <em>non-hierarchical data</em>.</p>\n\n<p> According with the conceptual design of the URL, we might implement a PathParam for hierarchical data/directives/locator components, or implement a QueryParam when the data are not hierarchical. This makes sense because paths are naturally ordered, whereas queries contain variables which may be ordered arbitrarily (unordered variable/value pairs).</p>\n\n<p>A previous commenter wrote,</p>\n\n<blockquote>\n  <p>I think that if the parameter identifies a specific entity you should use a path variable.</p>\n</blockquote>\n\n<p>Another wrote,</p>\n\n<blockquote>\n  <p>Use @PathParam for retrieval based on id. User @QueryParam for filter or if you have any fixed list of options that user can pass.</p>\n</blockquote>\n\n<p>Another,</p>\n\n<blockquote>\n  <p>I'd recommend putting any required parameters in the path, and any optional parameters should certainly be query string parameters.</p>\n</blockquote>\n\n<p> However, one might implement a flexible, non-hierarchical system for identifying specific entities! One might have multiple unique indexes on an SQL table, and allow entities to be identified using any combination of fields that comprise a unique index! Different combinations (perhaps also ordered differently), might be used for links from various related entities (referrers). In this case, we might be dealing with non-hierarchical data, used to identify individual entities  or in other cases, might only specify certain variables/fields  certain components of unique indexes  and retrieve a list/set of records. In such cases, it might be easier, more logical and reasonable to implement the URLs as QueryParams!</p>\n\n<p>Could a long hexadecimal string dilute/diminish the value of keywords in the rest of the path? It might be worth <a href=\"https://webmasters.stackexchange.com/questions/51/why-is-it-preferable-to-use-paths-with-slashes-instead-of-query-string-variables\">considering the potential SEO implications of placing variables/values in the path, or in the query</a>, and the human-interface implications of whether we want users to be able to traverse/explore the hierarchy of URLs by editing the contents of the address bar. My 404 Not Found page uses SSI variables to automatically redirect broken URLs to their parent! Search robots might also traverse the path hierarchy.\nOn the other hand, personally, when I share URLs on social media, I manually strip out any private unique identifiers  typically by truncating the query from the URL, leaving only the path: in this case, there is some utility in placing unique identifiers in the path rather than in the query. Whether we want to facilitate the use of path components as a crude user-interface, perhaps depends on whether the data/components are human-readable or not. The question of human-readability relates somewhat to the question of hierarchy: often, data that may be expressed as human-readable keywords are also hierarchical; while hierarchical data may often be expressed as human-readable keywords. (Search engines themselves might be defined as augmenting the use of URLs as a user-interface.) Hierarchies of keywords or directives might not be strictly ordered, but they are usually close enough that we can cover alternative cases in the path, and <a href=\"https://support.google.com/webmasters/answer/139066?hl=en\" rel=\"noreferrer\">label one option as the \"canonical\" case</a>.</p>\n\n<p>There are fundamentally several kinds of questions we might answer with the URL for each request:</p>\n\n<ol>\n<li>What kind of record/ thing are we requesting/ serving?</li>\n<li>Which one(s) are we interested in?</li>\n<li>How do we want to present the information/ records?</li>\n</ol>\n\n<p>Q1 is almost certainly best covered by the path, or by PathParams.\nQ3 (which is probably controlled via a set of arbitrarily ordered optional parameters and default values); is almost certainly best covered by QueryParams.\nQ2: It depends</p>\n"},{"tags":[],"owner":{"account_id":899108,"reputation":1915,"user_id":935715,"display_name":"Steve Mitchell"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1512570439,"creation_date":1512566673,"answer_id":47675437,"question_id":11552248,"body_markdown":"You can support both query parameters and path parameters, e.g., in the case of aggregation of resources -- when the collection of sub-resources makes sense on its own.\r\n\r\n    /departments/{id}/employees\r\n    /employees?dept=id\r\n\r\nQuery parameters can support hierarchical and non-hierarchical subsetting; path parameters are hierarchical only.\r\n\r\nResources can exhibit multiple hierarchies.  Support short paths if you will be querying broad sub-collections that cross hierarchical boundaries.\r\n\r\n    /inventory?make=toyota&amp;model=corolla\r\n    /inventory?year=2014\r\n\r\nUse query parameters to combine orthogonal hierarchies.\r\n\r\n    /inventory/makes/toyota/models/corolla?year=2014\r\n    /inventory/years/2014?make=toyota&amp;model=corolla\r\n    /inventory?make=toyota&amp;model=corolla&amp;year=2014\r\n\r\nUse only path parameters in the case of composition -- when a resource doesn&#39;t make sense divorced from its parent, and the global collection of all children is not a useful resource in itself.\r\n\r\n    /words/{id}/definitions\r\n    /definitions?word=id   // not useful","title":"When to use @QueryParam vs @PathParam","body":"<p>You can support both query parameters and path parameters, e.g., in the case of aggregation of resources -- when the collection of sub-resources makes sense on its own.</p>\n\n<pre><code>/departments/{id}/employees\n/employees?dept=id\n</code></pre>\n\n<p>Query parameters can support hierarchical and non-hierarchical subsetting; path parameters are hierarchical only.</p>\n\n<p>Resources can exhibit multiple hierarchies.  Support short paths if you will be querying broad sub-collections that cross hierarchical boundaries.</p>\n\n<pre><code>/inventory?make=toyota&amp;model=corolla\n/inventory?year=2014\n</code></pre>\n\n<p>Use query parameters to combine orthogonal hierarchies.</p>\n\n<pre><code>/inventory/makes/toyota/models/corolla?year=2014\n/inventory/years/2014?make=toyota&amp;model=corolla\n/inventory?make=toyota&amp;model=corolla&amp;year=2014\n</code></pre>\n\n<p>Use only path parameters in the case of composition -- when a resource doesn't make sense divorced from its parent, and the global collection of all children is not a useful resource in itself.</p>\n\n<pre><code>/words/{id}/definitions\n/definitions?word=id   // not useful\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11611560,"reputation":11,"user_id":8505639,"display_name":"ArulRajP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586859011,"creation_date":1519263159,"answer_id":48918227,"question_id":11552248,"body_markdown":"In nutshell, \r\n\r\n`@Pathparam` works for value passing through both Resources and Query String\r\n\r\n * `/user/1`\r\n * `/user?id=1`\r\n\r\n`@Queryparam` works for value passing only Query String\r\n\r\n   * `/user?id=1`\r\n","title":"When to use @QueryParam vs @PathParam","body":"<p>In nutshell, </p>\n\n<p><code>@Pathparam</code> works for value passing through both Resources and Query String</p>\n\n<ul>\n<li><code>/user/1</code></li>\n<li><code>/user?id=1</code></li>\n</ul>\n\n<p><code>@Queryparam</code> works for value passing only Query String</p>\n\n<ul>\n<li><code>/user?id=1</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7246067,"reputation":783,"user_id":5527914,"accept_rate":75,"display_name":"Harleen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598854848,"creation_date":1598854848,"answer_id":63665762,"question_id":11552248,"body_markdown":"Before talking about QueryParam &amp; PathParam. Let&#39;s first understand the URL &amp; its components. URL consists of endpoint + resource + queryParam/ PathParam.\r\n\r\nFor Example,\r\n\r\n    URL: https://app.orderservice.com/order?order=12345678\r\nor\r\n\r\n    URL: https://app.orderservice.com/orders/12345678\r\n\r\nwhere\r\n\r\nendpoint: https://app.orderservice.com\r\n\r\nresource: orders\r\n\r\nqueryParam: order=12345678\r\n\r\nPathParam: 12345678\r\n\r\n\r\n`@QueryParam:`\r\n\r\n \r\nQueryParam is used when the requirement is to filter the request based on certain criteria/criterias. The criteria is specified with ? after the resource in URL. Multiple filter criterias can be specified in the queryParam by using &amp; symbol.\r\n\r\nFor Example:\r\n\r\n&gt; `https://app.orderservice.com/orders?order=12345678 &amp; customername=X`\r\n\r\n\r\n`@PathParam:`\r\n\r\nPathParam is used when the requirement is to select the particular order based on guid/id. PathParam is the part of the resource in URL.\r\n\r\nFor Example:\r\n\r\n \r\n\r\n&gt; `https://app.orderservice.com/orders/12345678`\r\n\r\n","title":"When to use @QueryParam vs @PathParam","body":"<p>Before talking about QueryParam &amp; PathParam. Let's first understand the URL &amp; its components. URL consists of endpoint + resource + queryParam/ PathParam.</p>\n<p>For Example,</p>\n<pre><code>URL: https://app.orderservice.com/order?order=12345678\n</code></pre>\n<p>or</p>\n<pre><code>URL: https://app.orderservice.com/orders/12345678\n</code></pre>\n<p>where</p>\n<p>endpoint: <a href=\"https://app.orderservice.com\" rel=\"noreferrer\">https://app.orderservice.com</a></p>\n<p>resource: orders</p>\n<p>queryParam: order=12345678</p>\n<p>PathParam: 12345678</p>\n<p><code>@QueryParam:</code></p>\n<p>QueryParam is used when the requirement is to filter the request based on certain criteria/criterias. The criteria is specified with ? after the resource in URL. Multiple filter criterias can be specified in the queryParam by using &amp; symbol.</p>\n<p>For Example:</p>\n<blockquote>\n<p><code>https://app.orderservice.com/orders?order=12345678 &amp; customername=X</code></p>\n</blockquote>\n<p><code>@PathParam:</code></p>\n<p>PathParam is used when the requirement is to select the particular order based on guid/id. PathParam is the part of the resource in URL.</p>\n<p>For Example:</p>\n<blockquote>\n<p><code>https://app.orderservice.com/orders/12345678</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11371379,"reputation":721,"user_id":8336869,"display_name":"Piaget Hadzizi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605866371,"creation_date":1605866371,"answer_id":64927352,"question_id":11552248,"body_markdown":"For resource names and IDs, I use `@PathParams`. For optional variables, I use `@QueryParams`","title":"When to use @QueryParam vs @PathParam","body":"<p>For resource names and IDs, I use <code>@PathParams</code>. For optional variables, I use <code>@QueryParams</code></p>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625470370,"creation_date":1625470370,"answer_id":68252224,"question_id":11552248,"body_markdown":"As per my understanding: \r\n1. Use `@PathParam` - when it is a mandatory item such as an Id\r\n\r\n    GET /balloon/{id}\r\n\r\n2. Use `@QueryParam` - when you have the exact resource but need to filter that on some optional traits such as color, size, etc.\r\n\r\n    GET /balloon/123?color=red&amp;size=large ","title":"When to use @QueryParam vs @PathParam","body":"<p>As per my understanding:</p>\n<ol>\n<li><p>Use <code>@PathParam</code> - when it is a mandatory item such as an Id</p>\n<p>GET /balloon/{id}</p>\n</li>\n<li><p>Use <code>@QueryParam</code> - when you have the exact resource but need to filter that on some optional traits such as color, size, etc.</p>\n<p>GET /balloon/123?color=red&amp;size=large</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16099128,"reputation":81,"user_id":11620422,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627019970,"creation_date":1627019970,"answer_id":68494668,"question_id":11552248,"body_markdown":"PATH PARAMETER -\r\nPath Parameter is a variable in URL path that helps to point some specific resource.\r\n                                                                              \r\n    Example - https://sitename.com/questions/115\r\nHere, if 115 is a path parameter it can be changed with other valid number to fetch/point to some other resource on the same application.\r\n\r\nQUERY PARAMETER -\r\nQuery Parameters are variables in URL path that filter some particular resources from the list.\r\n                                                                              \r\n    Example - https://sitename.com/questions/115?qp1=val1&amp;qp2=val2&amp;qp3=val3\r\nHere qp1, qp2 and qp3 are Query Variables with their values as val1, val2 and val3. These can be used to apply as filters while fetching/saving our data. Query variables are always appended in URL after a question Mark(?).","title":"When to use @QueryParam vs @PathParam","body":"<p>PATH PARAMETER -\nPath Parameter is a variable in URL path that helps to point some specific resource.</p>\n<pre><code>Example - https://sitename.com/questions/115\n</code></pre>\n<p>Here, if 115 is a path parameter it can be changed with other valid number to fetch/point to some other resource on the same application.</p>\n<p>QUERY PARAMETER -\nQuery Parameters are variables in URL path that filter some particular resources from the list.</p>\n<pre><code>Example - https://sitename.com/questions/115?qp1=val1&amp;qp2=val2&amp;qp3=val3\n</code></pre>\n<p>Here qp1, qp2 and qp3 are Query Variables with their values as val1, val2 and val3. These can be used to apply as filters while fetching/saving our data. Query variables are always appended in URL after a question Mark(?).</p>\n"},{"tags":[],"owner":{"account_id":7601304,"reputation":7828,"user_id":5765795,"accept_rate":73,"display_name":"Sangwin Gawande"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654164977,"creation_date":1654164977,"answer_id":72474531,"question_id":11552248,"body_markdown":"I prefer following : \r\n\r\n**@PathParam**\r\n\r\nWhen it&#39;s required parameters such as ID, productNo\r\n\r\n    GET /user/details/{ID}\r\n    GET /products/{company}/{productNo}\r\n\r\n\r\n**@QueryParam**\r\n\r\nWhen you need to pass optional parameters such as filters, online state and They can be `null`\r\n\r\n    GET /user/list?country=USA&amp;status=online\r\n    GET /products/list?sort=ASC \r\n\r\nWhen Used both \r\n\r\n    GET /products/{company}/list?sort=ASC \r\n","title":"When to use @QueryParam vs @PathParam","body":"<p>I prefer following :</p>\n<p><strong>@PathParam</strong></p>\n<p>When it's required parameters such as ID, productNo</p>\n<pre><code>GET /user/details/{ID}\nGET /products/{company}/{productNo}\n</code></pre>\n<p><strong>@QueryParam</strong></p>\n<p>When you need to pass optional parameters such as filters, online state and They can be <code>null</code></p>\n<pre><code>GET /user/list?country=USA&amp;status=online\nGET /products/list?sort=ASC \n</code></pre>\n<p>When Used both</p>\n<pre><code>GET /products/{company}/list?sort=ASC \n</code></pre>\n"}],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562512,"favorite_count":0,"down_vote_count":1,"up_vote_count":352,"accepted_answer_id":11569077,"answer_count":18,"score":351,"last_activity_date":1654164977,"creation_date":1342657137,"question_id":11552248,"body_markdown":"I am not asking the question that is already asked here:\r\nhttps://stackoverflow.com/questions/5579744/what-is-the-difference-between-pathparam-and-queryparam\r\n\r\nThis is a &quot;best practices&quot; or convention question.\r\n\r\nWhen would you use `@PathParam` vs `@QueryParam`.\r\n\r\nWhat I can think of that the decision might be using the two to differentiate the information pattern. Let me illustrate below my LTPO - less than perfect observation.\r\n\r\nPathParam use could be reserved for information category, which would fall nicely into a branch of an information tree. PathParam could be used to drill down to entity class hierarchy.\r\n\r\nWhereas, QueryParam could be reserved for specifying attributes to locate the instance of a class.\r\n\r\nFor example,\r\n\r\n- `/Vehicle/Car?registration=123`\r\n- `/House/Colonial?region=newengland`\r\n\r\n`/category?instance`\r\n\r\n\t@GET\r\n\t@Path(&quot;/employee/{dept}&quot;)\r\n\tPatient getEmployee(@PathParam(&quot;dept&quot;)Long dept, @QueryParam(&quot;id&quot;)Long id) ;\r\n\r\nvs `/category/instance`\r\n\r\n\r\n\t@GET\r\n\t@Path(&quot;/employee/{dept}/{id}&quot;)\r\n\tPatient getEmployee(@PathParam(&quot;dept&quot;)Long dept, @PathParam(&quot;id&quot;)Long id) ;\r\n\r\nvs `?category+instance`\r\n\r\n\t@GET\r\n\t@Path(&quot;/employee&quot;)\r\n\tPatient getEmployee(@QueryParam(&quot;dept&quot;)Long dept, @QueryParam(&quot;id&quot;)Long id) ;\r\n\r\n\r\nI don&#39;t think there is a standard convention of doing it. Is there? However, I would like to hear of how people use PathParam vs QueryParam to differentiate their information like I exemplified above. I would also love to hear the reason behind the practice.","title":"When to use @QueryParam vs @PathParam","body":"<p>I am not asking the question that is already asked here:\n<a href=\"https://stackoverflow.com/questions/5579744/what-is-the-difference-between-pathparam-and-queryparam\">What is the difference between @PathParam and @QueryParam</a></p>\n\n<p>This is a \"best practices\" or convention question.</p>\n\n<p>When would you use <code>@PathParam</code> vs <code>@QueryParam</code>.</p>\n\n<p>What I can think of that the decision might be using the two to differentiate the information pattern. Let me illustrate below my LTPO - less than perfect observation.</p>\n\n<p>PathParam use could be reserved for information category, which would fall nicely into a branch of an information tree. PathParam could be used to drill down to entity class hierarchy.</p>\n\n<p>Whereas, QueryParam could be reserved for specifying attributes to locate the instance of a class.</p>\n\n<p>For example,</p>\n\n<ul>\n<li><code>/Vehicle/Car?registration=123</code></li>\n<li><code>/House/Colonial?region=newengland</code></li>\n</ul>\n\n<p><code>/category?instance</code></p>\n\n<pre><code>@GET\n@Path(\"/employee/{dept}\")\nPatient getEmployee(@PathParam(\"dept\")Long dept, @QueryParam(\"id\")Long id) ;\n</code></pre>\n\n<p>vs <code>/category/instance</code></p>\n\n<pre><code>@GET\n@Path(\"/employee/{dept}/{id}\")\nPatient getEmployee(@PathParam(\"dept\")Long dept, @PathParam(\"id\")Long id) ;\n</code></pre>\n\n<p>vs <code>?category+instance</code></p>\n\n<pre><code>@GET\n@Path(\"/employee\")\nPatient getEmployee(@QueryParam(\"dept\")Long dept, @QueryParam(\"id\")Long id) ;\n</code></pre>\n\n<p>I don't think there is a standard convention of doing it. Is there? However, I would like to hear of how people use PathParam vs QueryParam to differentiate their information like I exemplified above. I would also love to hear the reason behind the practice.</p>\n"},{"tags":["java","corda"],"comments":[{"owner":{"account_id":12176414,"reputation":65,"user_id":8889371,"display_name":"Sameer Hameed"},"score":0,"creation_date":1530617158,"post_id":51150203,"comment_id":89290049,"body_markdown":"One point 1- I guess I&#39;m good as once upload is done - file is available on http://localhost:port/HasId but i&#39;m still struggling with how the file would be available  to other interested nodes.","body":"One point 1- I guess I&#39;m good as once upload is done - file is available on <a href=\"http://localhost:port/HasId\" rel=\"nofollow noreferrer\">localhost:port/HasId</a> but i&#39;m still struggling with how the file would be available  to other interested nodes."}],"answers":[{"tags":[],"owner":{"account_id":5866112,"reputation":22870,"user_id":4620025,"accept_rate":61,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1530620612,"creation_date":1530620612,"answer_id":51154574,"question_id":51150203,"body_markdown":"1) Attachments are stored in the node&#39;s database, in the NODE_ATTACHMENTS table. You cannot specify a custom location.\r\n\r\n2) You add an attachment to a transaction by hash:\r\n\r\n\t@InitiatingFlow\r\n\t@StartableByRPC\r\n\tclass AddAttachmentFlow(private val attachmentHashString: String) : FlowLogic&lt;SignedTransaction&gt;() {\r\n\r\n\t    @Suspendable\r\n\t    override fun call(): SignedTransaction {\r\n\t        val notary: Party = TODO(&quot;Pick a notary.&quot;)\r\n\t        \r\n\t        val attachmentHash = SecureHash.parse(attachmentHashString)\r\n\r\n\t        val txBuilder = TransactionBuilder(notary)\r\n\t        txBuilder.addAttachment(attachmentHash)\r\n\r\n\t        TODO(&quot;Finish building transaction and gathering required signatures.&quot;)\r\n\t    }\r\n\t}","title":"Corda custom file upload endpoint","body":"<p>1) Attachments are stored in the node's database, in the NODE_ATTACHMENTS table. You cannot specify a custom location.</p>\n\n<p>2) You add an attachment to a transaction by hash:</p>\n\n<pre><code>@InitiatingFlow\n@StartableByRPC\nclass AddAttachmentFlow(private val attachmentHashString: String) : FlowLogic&lt;SignedTransaction&gt;() {\n\n    @Suspendable\n    override fun call(): SignedTransaction {\n        val notary: Party = TODO(\"Pick a notary.\")\n\n        val attachmentHash = SecureHash.parse(attachmentHashString)\n\n        val txBuilder = TransactionBuilder(notary)\n        txBuilder.addAttachment(attachmentHash)\n\n        TODO(\"Finish building transaction and gathering required signatures.\")\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12176414,"reputation":65,"user_id":8889371,"display_name":"Sameer Hameed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51154574,"answer_count":1,"score":1,"last_activity_date":1654164944,"creation_date":1530607389,"question_id":51150203,"body_markdown":"This is in continuation of my [previous post][1]. I have been able to call in-build endpoint for Corda attachment upload but I&#39;m not sure how -\r\n\r\n1) Where is this file uploaded (what if I want to store it at some specific location)?\r\n\r\nand \r\n\r\n2) How can I add this attachment to transaction so that it is available for other nodes?\r\n\r\nI guess we need custom endpoint for these, so that I can upload the file to a given location and then pass the attachment(and it&#39;s hash code) in transactions.\r\n\r\nPlease assist.\r\n\r\n  [1]: https://stackoverflow.com/questions/51087768/corda-attachment-upload/51099607?noredirect=1#comment89282697_51099607","title":"Corda custom file upload endpoint","body":"<p>This is in continuation of my <a href=\"https://stackoverflow.com/questions/51087768/corda-attachment-upload/51099607?noredirect=1#comment89282697_51099607\">previous post</a>. I have been able to call in-build endpoint for Corda attachment upload but I'm not sure how -</p>\n\n<p>1) Where is this file uploaded (what if I want to store it at some specific location)?</p>\n\n<p>and </p>\n\n<p>2) How can I add this attachment to transaction so that it is available for other nodes?</p>\n\n<p>I guess we need custom endpoint for these, so that I can upload the file to a given location and then pass the attachment(and it's hash code) in transactions.</p>\n\n<p>Please assist.</p>\n"},{"tags":["java","linux","file","permissions","websphere-liberty"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1654165584,"post_id":72474506,"comment_id":128028499,"body_markdown":"Please share more information, what have you did so far, snippets if you have etc..","body":"Please share more information, what have you did so far, snippets if you have etc.."},{"owner":{"account_id":3592862,"reputation":53,"user_id":2998464,"display_name":"Amando dos Santos Neto"},"score":0,"creation_date":1654169628,"post_id":72474506,"comment_id":128029836,"body_markdown":"From the UI, when the user tries to save the new folder, I do a check on it using java nio.\nThis is when I get the folder does not exist. \nIf I check if the file exist and then it it has read/write permission. But the error starts from checking if the folder exists. Let me know if you need more details.","body":"From the UI, when the user tries to save the new folder, I do a check on it using java nio. This is when I get the folder does not exist.  If I check if the file exist and then it it has read/write permission. But the error starts from checking if the folder exists. Let me know if you need more details."}],"owner":{"account_id":3592862,"reputation":53,"user_id":2998464,"display_name":"Amando dos Santos Neto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654164876,"creation_date":1654164876,"question_id":72474506,"body_markdown":"I have this IBM Liberty webserver running on a Linux environment under a user call appserver.\r\nI want to create a new folder outside the application structure and access it from Web UI.\r\n\r\nThe issue I&#180;m having is, upon creation the new folder is not visible to the web server, forcing me to restart the web server. \r\nThe new folder is created with permission 770 and the user that creates the new folder is part of the same appserver group. This is an example of a new folder created by a given user, i.e: /home/someuser/import\r\n\r\nOn UI, I select this folder but upon verification, the folder does not exist. But if I restart the web server, the folder becomes accessible.\r\n\r\nIs there any way I can get this to work without restarting the webserver and changing the folder permission(770)?\r\n","title":"Creating a new folder and access it via web application","body":"<p>I have this IBM Liberty webserver running on a Linux environment under a user call appserver.\nI want to create a new folder outside the application structure and access it from Web UI.</p>\n<p>The issue Im having is, upon creation the new folder is not visible to the web server, forcing me to restart the web server.\nThe new folder is created with permission 770 and the user that creates the new folder is part of the same appserver group. This is an example of a new folder created by a given user, i.e: /home/someuser/import</p>\n<p>On UI, I select this folder but upon verification, the folder does not exist. But if I restart the web server, the folder becomes accessible.</p>\n<p>Is there any way I can get this to work without restarting the webserver and changing the folder permission(770)?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","multipart"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654005688,"post_id":72449159,"comment_id":127985729,"body_markdown":"Disable file uploading, which by default will parse the multipart request.","body":"Disable file uploading, which by default will parse the multipart request."},{"owner":{"account_id":5074905,"reputation":31,"user_id":4072574,"display_name":"Eddy Bella"},"score":0,"creation_date":1654007889,"post_id":72449159,"comment_id":127986816,"body_markdown":"Hey but I want also to use a controller with MultipartFile. How do I do that without file uploading? If I disable it spring boot wants me to specificy a configuration to process the parts of the controller.","body":"Hey but I want also to use a controller with MultipartFile. How do I do that without file uploading? If I disable it spring boot wants me to specificy a configuration to process the parts of the controller."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654065289,"creation_date":1654065289,"answer_id":72457379,"question_id":72449159,"body_markdown":"You can explicitly configure the `StandardServletMultipartResolver` to be aligned strictly with the servlet spec. Which means it will only parse `multipart/form-data` and leaves everything else untouched. By default this property is set to `false`. \r\n\r\nTo enable add a bean to configure this. \r\n\r\n```java\r\n@Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\r\npublic StandardServletMultipartResolver multipartResolver(MultipartProperties multipartProperties) {\r\n  StandardServletMultipartResolver multipartResolver = new StandardServletMultipartResolver();\r\n  multipartResolver.setStrictServletCompliance(true);\r\n  multipartResolver.setResolveLazily(multipartProperties.isResolveLazily());\r\n  return multipartResolver;\r\n}\r\n```\r\n\r\nThis will now let the `StandardServletMultipartResolver` parse `multipart/form-data` and leave all other `multipart/*` stuff alone for handling in the controller. ","title":"Multipart/Mixed in Spring Boot 2.7.0","body":"<p>You can explicitly configure the <code>StandardServletMultipartResolver</code> to be aligned strictly with the servlet spec. Which means it will only parse <code>multipart/form-data</code> and leaves everything else untouched. By default this property is set to <code>false</code>.</p>\n<p>To enable add a bean to configure this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\npublic StandardServletMultipartResolver multipartResolver(MultipartProperties multipartProperties) {\n  StandardServletMultipartResolver multipartResolver = new StandardServletMultipartResolver();\n  multipartResolver.setStrictServletCompliance(true);\n  multipartResolver.setResolveLazily(multipartProperties.isResolveLazily());\n  return multipartResolver;\n}\n</code></pre>\n<p>This will now let the <code>StandardServletMultipartResolver</code> parse <code>multipart/form-data</code> and leave all other <code>multipart/*</code> stuff alone for handling in the controller.</p>\n"}],"owner":{"account_id":5074905,"reputation":31,"user_id":4072574,"display_name":"Eddy Bella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654164343,"creation_date":1654005479,"question_id":72449159,"body_markdown":"i&#39;ve got problems create an endpoint in Spring Boot, which accepts Multipart/Mixed. The http request doesn&#39;t seem to even reach the controller. I tried the following http request in a new Spring Boot Project (v.2.7.0):\r\n\r\n------------------\r\n\r\nEdit (Changed Code): I made a new Project with the following Code, as M. Deinum suggested:\r\n\r\n    @SpringBootApplication\r\n    public class MultiparttestApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MultiparttestApplication.class, args);\r\n        }\r\n    \r\n        @Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\r\n        public StandardServletMultipartResolver multipartResolver() {\r\n            StandardServletMultipartResolver multipartResolver = new StandardServletMultipartResolver();\r\n            multipartResolver.setStrictServletCompliance(true);\r\n            multipartResolver.setResolveLazily(true);\r\n            return multipartResolver;\r\n        }\r\n    }\r\n\r\nThe Controller:\r\n\r\n\r\n    @Controller\r\n    public class MultipartTest {\r\n    \r\n        @PostMapping(path=&quot;multipartTest&quot;, consumes = MediaType.MULTIPART_MIXED_VALUE)\r\n        public ResponseEntity&lt;Void&gt; multipart(@RequestPart User user) {\r\n            System.out.println(user.getName());\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe Request:\r\n\r\n    POST http://localhost:8080/multipartTest\r\n    Content-Type: multipart/mixed; boundary=WebAppBoundary\r\n    \r\n    --WebAppBoundary\r\n    Content-Type: application/json\r\n    \r\n    {\r\n      &quot;name&quot;: &quot;Heidi&quot;\r\n    }\r\n    \r\n    --WebAppBoundary--\r\n\r\n\r\nBut I still get the same error:\r\n\r\n    2022-06-02 11:59:07.551 ERROR 13852 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadException: Stream ended unexpectedly] with root cause\r\n    \r\n    org.apache.tomcat.util.http.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly\r\n    \tat org.apache.tomcat.util.http.fileupload.MultipartStream.readHeaders(MultipartStream.java:520) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem(FileItemIteratorImpl.java:243) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.&lt;init&gt;(FileItemIteratorImpl.java:142) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:252) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:276) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.connector.Request.parseParts(Request.java:2932) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.connector.Request.getParts(Request.java:2834) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:72) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.multipart.support.MultipartResolutionDelegate.asMultipartHttpServletRequest(MultipartResolutionDelegate.java:82) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.multipart.support.RequestPartServletServerHttpRequest.&lt;init&gt;(RequestPartServletServerHttpRequest.java:68) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestPartMethodArgumentResolver.resolveArgument(RequestPartMethodArgumentResolver.java:139) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\nAny help or hints would be great. \r\nThank you.\r\n","title":"Multipart/Mixed in Spring Boot 2.7.0","body":"<p>i've got problems create an endpoint in Spring Boot, which accepts Multipart/Mixed. The http request doesn't seem to even reach the controller. I tried the following http request in a new Spring Boot Project (v.2.7.0):</p>\n<hr />\n<p>Edit (Changed Code): I made a new Project with the following Code, as M. Deinum suggested:</p>\n<pre><code>@SpringBootApplication\npublic class MultiparttestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MultiparttestApplication.class, args);\n    }\n\n    @Bean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)\n    public StandardServletMultipartResolver multipartResolver() {\n        StandardServletMultipartResolver multipartResolver = new StandardServletMultipartResolver();\n        multipartResolver.setStrictServletCompliance(true);\n        multipartResolver.setResolveLazily(true);\n        return multipartResolver;\n    }\n}\n</code></pre>\n<p>The Controller:</p>\n<pre><code>@Controller\npublic class MultipartTest {\n\n    @PostMapping(path=&quot;multipartTest&quot;, consumes = MediaType.MULTIPART_MIXED_VALUE)\n    public ResponseEntity&lt;Void&gt; multipart(@RequestPart User user) {\n        System.out.println(user.getName());\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<p>The Request:</p>\n<pre><code>POST http://localhost:8080/multipartTest\nContent-Type: multipart/mixed; boundary=WebAppBoundary\n\n--WebAppBoundary\nContent-Type: application/json\n\n{\n  &quot;name&quot;: &quot;Heidi&quot;\n}\n\n--WebAppBoundary--\n</code></pre>\n<p>But I still get the same error:</p>\n<pre><code>2022-06-02 11:59:07.551 ERROR 13852 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadException: Stream ended unexpectedly] with root cause\n\norg.apache.tomcat.util.http.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly\n    at org.apache.tomcat.util.http.fileupload.MultipartStream.readHeaders(MultipartStream.java:520) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem(FileItemIteratorImpl.java:243) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.&lt;init&gt;(FileItemIteratorImpl.java:142) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:252) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:276) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2932) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2834) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:72) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.multipart.support.MultipartResolutionDelegate.asMultipartHttpServletRequest(MultipartResolutionDelegate.java:82) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.multipart.support.RequestPartServletServerHttpRequest.&lt;init&gt;(RequestPartServletServerHttpRequest.java:68) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestPartMethodArgumentResolver.resolveArgument(RequestPartMethodArgumentResolver.java:139) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>Any help or hints would be great.\nThank you.</p>\n"},{"tags":["java","maven","jboss"],"comments":[{"owner":{"account_id":14180966,"reputation":770,"user_id":10244606,"display_name":"Guokas"},"score":0,"creation_date":1591779794,"post_id":62299435,"comment_id":110182845,"body_markdown":"can you show your settings file contents?","body":"can you show your settings file contents?"},{"owner":{"account_id":15683450,"reputation":47,"user_id":11791924,"display_name":"FPS Bard"},"score":0,"creation_date":1591780466,"post_id":62299435,"comment_id":110183197,"body_markdown":"it is default mvn settings.xml","body":"it is default mvn settings.xml"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1591781812,"post_id":62299435,"comment_id":110183863,"body_markdown":"Remote the mentioned repositories from your pom file...","body":"Remote the mentioned repositories from your pom file..."},{"owner":{"account_id":15683450,"reputation":47,"user_id":11791924,"display_name":"FPS Bard"},"score":0,"creation_date":1591782290,"post_id":62299435,"comment_id":110184131,"body_markdown":"but this repositories defined by wildfly quickstart. \nand what exactly should I replace them with","body":"but this repositories defined by wildfly quickstart.  and what exactly should I replace them with"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1591789033,"post_id":62299435,"comment_id":110187777,"body_markdown":"Define a correct `settings.xml` and redirect all request via a repository manager. That&#39;s the issue with repositories defined in pom.xml files...","body":"Define a correct <code>settings.xml</code> and redirect all request via a repository manager. That&#39;s the issue with repositories defined in pom.xml files..."}],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1591784771,"creation_date":1591784771,"answer_id":62301277,"question_id":62299435,"body_markdown":"You need to use SSL replace http with https in your urls.","title":"Current maven session contains banned plugin repository urls, please double check your pom or settings.xml","body":"<p>You need to use SSL replace http with https in your urls.</p>\n"},{"tags":[],"owner":{"account_id":15879510,"reputation":1,"user_id":11457649,"display_name":"Sarfaraz Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654164266,"creation_date":1654163677,"answer_id":72474262,"question_id":62299435,"body_markdown":"\r\n\r\n[ISSUE]\r\nWe are facing the BannedRepositories error while building the mvn project.\r\n~~~\r\norg.apache.maven.plugins.enforcer.BannedRepositories failed with message:\r\nCurrent maven session contains banned repository urls\r\n~~~\r\n\r\n[ANSWER]\r\n\r\n~~~\r\nWe need to check the repository&#39;s URL in the settings.xml whether it is HTTP or HTTPS:\r\nSo, You should replace HTTP with HTTPS in your URLs as shown below.\r\n\r\n------------------\r\n&lt;repository&gt;\r\n          &lt;id&gt;redhat-ga-repository&lt;/id&gt;\r\n          &lt;name&gt;Your XYZ repository&lt;/name&gt;\r\n          &lt;url&gt;https://maven.repository.xxx.com/ga/&lt;/url&gt;\r\n&lt;/repository&gt;\r\n---------------------\r\n~~~","title":"Current maven session contains banned plugin repository urls, please double check your pom or settings.xml","body":"<p>[ISSUE]\nWe are facing the BannedRepositories error while building the mvn project.</p>\n<pre><code>org.apache.maven.plugins.enforcer.BannedRepositories failed with message:\nCurrent maven session contains banned repository urls\n</code></pre>\n<p>[ANSWER]</p>\n<pre><code>We need to check the repository's URL in the settings.xml whether it is HTTP or HTTPS:\nSo, You should replace HTTP with HTTPS in your URLs as shown below.\n\n------------------\n&lt;repository&gt;\n          &lt;id&gt;redhat-ga-repository&lt;/id&gt;\n          &lt;name&gt;Your XYZ repository&lt;/name&gt;\n          &lt;url&gt;https://maven.repository.xxx.com/ga/&lt;/url&gt;\n&lt;/repository&gt;\n---------------------\n</code></pre>\n"}],"owner":{"account_id":15683450,"reputation":47,"user_id":11791924,"display_name":"FPS Bard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2865,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62301277,"answer_count":2,"score":3,"last_activity_date":1654164266,"creation_date":1591778878,"question_id":62299435,"body_markdown":"I tryed to deploy wildfly quickstart 17.0.0 final. But i had some problems with maven. \r\n\r\n    [WARNING] Rule 0: org.apache.maven.plugins.enforcer.BannedRepositories failed with message:\r\n    Current maven session contains banned repository urls, please double check your pom or settings.xml:\r\n    jboss-earlyaccess-repository - http://maven.repository.redhat.com/earlyaccess/all/\r\n    jboss-ga-repository - http://maven.repository.redhat.com/techpreview/all\r\n    \r\n     Current maven session contains banned plugin repository urls, please double check your pom or settings.xml:\r\n    jboss-earlyaccess-plugin-repository - http://maven.repository.redhat.com/earlyaccess/all/\r\n    jboss-ga-plugin-repository - http://maven.repository.redhat.com/techpreview/all\r\n\r\nI dont know what should i do. \r\n\r\nIf you need any other information, plz let me know. \r\n","title":"Current maven session contains banned plugin repository urls, please double check your pom or settings.xml","body":"<p>I tryed to deploy wildfly quickstart 17.0.0 final. But i had some problems with maven. </p>\n\n<pre><code>[WARNING] Rule 0: org.apache.maven.plugins.enforcer.BannedRepositories failed with message:\nCurrent maven session contains banned repository urls, please double check your pom or settings.xml:\njboss-earlyaccess-repository - http://maven.repository.redhat.com/earlyaccess/all/\njboss-ga-repository - http://maven.repository.redhat.com/techpreview/all\n\n Current maven session contains banned plugin repository urls, please double check your pom or settings.xml:\njboss-earlyaccess-plugin-repository - http://maven.repository.redhat.com/earlyaccess/all/\njboss-ga-plugin-repository - http://maven.repository.redhat.com/techpreview/all\n</code></pre>\n\n<p>I dont know what should i do. </p>\n\n<p>If you need any other information, plz let me know. </p>\n"},{"tags":["java","csv","filewriter","writer"],"comments":[{"owner":{"account_id":13462587,"reputation":693,"user_id":9714060,"display_name":"Naveen Kulkarni"},"score":0,"creation_date":1654162983,"post_id":72474006,"comment_id":128027616,"body_markdown":"Have you seen this ?https://stackoverflow.com/questions/1062113/fastest-way-to-write-huge-data-in-text-file-java","body":"Have you seen this ?<a href=\"https://stackoverflow.com/questions/1062113/fastest-way-to-write-huge-data-in-text-file-java\" title=\"fastest way to write huge data in text file java\">stackoverflow.com/questions/1062113/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654163130,"post_id":72474006,"comment_id":128027663,"body_markdown":"1000 records per file is pretty small. So you are producing 100 files. Why? Why not 10 files with 10,000 records each? Or *one* file with all 100,000 records? What exactly is the point of this? And why `while` instead of `if`? And why build up `line` in memory instead of writing each column separately? Are you sure this code works correctly?","body":"1000 records per file is pretty small. So you are producing 100 files. Why? Why not 10 files with 10,000 records each? Or <i>one</i> file with all 100,000 records? What exactly is the point of this? And why <code>while</code> instead of <code>if</code>? And why build up <code>line</code> in memory instead of writing each column separately? Are you sure this code works correctly?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654164083,"post_id":72474006,"comment_id":128027989,"body_markdown":"You are creating a lot of garbage with all those intermediate `String` that are being created. You also might want to increase the JDBC fetch size to improve performance, next why the use of an `AtomicInteger` it doesn&#39;t add anything here as the code isn&#39;t multithreaded, just use a simple counter. Finally writing files to the file system is slow (dead slow) so also make sure that nothing is preventing you from writing in full speed, like a virusscanner on your system.","body":"You are creating a lot of garbage with all those intermediate <code>String</code> that are being created. You also might want to increase the JDBC fetch size to improve performance, next why the use of an <code>AtomicInteger</code> it doesn&#39;t add anything here as the code isn&#39;t multithreaded, just use a simple counter. Finally writing files to the file system is slow (dead slow) so also make sure that nothing is preventing you from writing in full speed, like a virusscanner on your system."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":2,"creation_date":1654164945,"post_id":72474006,"comment_id":128028295,"body_markdown":"Did you run your program under a profiler, spotting where you really spend the majority of time? Guessing the cause of performance problems is very likely to fail.","body":"Did you run your program under a profiler, spotting where you really spend the majority of time? Guessing the cause of performance problems is very likely to fail."}],"owner":{"account_id":19295415,"reputation":21,"user_id":14104476,"display_name":"Sriram Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654164167,"creation_date":1654162647,"question_id":72474006,"body_markdown":"Taking a too long time to write the data in the CSV file in java. Here I am writing the data into the CSV file. 100,000 records it takes 1hr 10 minutes to write into a csv file.\r\nBut query takes 2 minutes to fetch 100,000 record.\r\n\r\n```java\r\ntry {\r\n    writer = new BufferedWriter(new FileWriter(csvFilename));\r\n    con = DriverManager.getConnection(&quot;url&quot;, &quot;Username&quot;, &quot;pwd&quot;);\r\n    stmt = con.createStatement();\r\n    try {\r\n        rs = stmt.executeQuery(SQL);\r\n    } catch (SQLException er) {\r\n        logger.info(&quot; SQL error {}&quot; + er);\r\n    }\r\n\r\n    while(rs.next()) {\r\n        //Here splitting the data into 1000 records for each file\r\n        String line =  Objects.toString(rs.getString(1),&quot;&quot;) + &quot;,&quot; + Objects.toString(rs.getString(2),&quot;&quot;) + &quot;,&quot; + rs.getString(3) + &quot;,&quot; + Objects.toString(rs.getString(4),&quot;&quot;);\r\n        writer.write(line);\r\n        writer.newLine();\r\n        success.incrementAndGet();\r\n\r\n        while(success.get()&gt;1000) {\r\n            writer.close();\r\n            File f = new File(&quot;/Users/xxx/Documents/Deployments/&quot;+filecount+&quot;CSVTaskFileUnion.csv&quot;);\r\n            writer = new BufferedWriter(new FileWriter(f));\r\n            filecount.incrementAndGet();\r\n            success.set(0);\r\n        }\r\n    }\r\n}\r\ncatch (Exception e)\r\n{\r\n    logger.info(&quot;exception : {}&quot; , e.getMessage());\r\n}\r\nfinally\r\n{\r\n    if(rs!=null)\r\n        rs.close();\r\n        if(con!=null)\r\n            con.close();\r\n            writer.flush();\r\n            writer.close();\r\n        }\r\n```","title":"Taking too long time for writing the data in CSV file in java","body":"<p>Taking a too long time to write the data in the CSV file in java. Here I am writing the data into the CSV file. 100,000 records it takes 1hr 10 minutes to write into a csv file.\nBut query takes 2 minutes to fetch 100,000 record.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    writer = new BufferedWriter(new FileWriter(csvFilename));\n    con = DriverManager.getConnection(&quot;url&quot;, &quot;Username&quot;, &quot;pwd&quot;);\n    stmt = con.createStatement();\n    try {\n        rs = stmt.executeQuery(SQL);\n    } catch (SQLException er) {\n        logger.info(&quot; SQL error {}&quot; + er);\n    }\n\n    while(rs.next()) {\n        //Here splitting the data into 1000 records for each file\n        String line =  Objects.toString(rs.getString(1),&quot;&quot;) + &quot;,&quot; + Objects.toString(rs.getString(2),&quot;&quot;) + &quot;,&quot; + rs.getString(3) + &quot;,&quot; + Objects.toString(rs.getString(4),&quot;&quot;);\n        writer.write(line);\n        writer.newLine();\n        success.incrementAndGet();\n\n        while(success.get()&gt;1000) {\n            writer.close();\n            File f = new File(&quot;/Users/xxx/Documents/Deployments/&quot;+filecount+&quot;CSVTaskFileUnion.csv&quot;);\n            writer = new BufferedWriter(new FileWriter(f));\n            filecount.incrementAndGet();\n            success.set(0);\n        }\n    }\n}\ncatch (Exception e)\n{\n    logger.info(&quot;exception : {}&quot; , e.getMessage());\n}\nfinally\n{\n    if(rs!=null)\n        rs.close();\n        if(con!=null)\n            con.close();\n            writer.flush();\n            writer.close();\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"score":0,"creation_date":1654158487,"post_id":72472635,"comment_id":128026183,"body_markdown":"Does this answer your question? [What&#39;s the best way to get the current URL in Spring MVC?](https://stackoverflow.com/questions/1490821/whats-the-best-way-to-get-the-current-url-in-spring-mvc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1490821/whats-the-best-way-to-get-the-current-url-in-spring-mvc\">What&#39;s the best way to get the current URL in Spring MVC?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25434759,"reputation":146,"user_id":19238643,"display_name":"Christoph Kronberger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654164102,"creation_date":1654157985,"answer_id":72472953,"question_id":72472635,"body_markdown":"You can use Thymeleaf to render your Html and save it temporary with a unique name.\r\n\r\n[How to do it exactly is described here][1]\r\n\r\nNow you need a @Controller with a @Getmapping. \r\n\r\n     @GetMapping(&quot;/htmls/{unique}&quot;)\r\n     @ResponseBody \r\n     public String ResponsePerson(\r\n     @PathVariable(&quot;unique&quot;) String unique) {\r\n        \r\n       return htmlString\r\n    }\r\nYou can get the Html String in diff. Ways.\r\nOne example way is:\r\n\r\n\r\n    File htmlFile = new File(&quot;src/main/ress/htmls/&quot;+unique+&quot;html&quot;);\r\n    String htmlString = FileUtils.readFileToString(htmlFile, \r\n                                                   StandardCharsets.UTF_8);\r\n\r\n\r\n\r\nYour link should look like: `http//:yor.ip.adress:8080/htmls/unique`\r\n\r\nEdit: Sorry forgot to add the @ResponseBody Annotation.\r\nYou need that to bind the returned String to the Web Response Body.\r\n\r\n  [1]: https://stackoverflow.com/questions/46962612/get-raw-html-from-the-controller-spring-thymeleaf","title":"get url of dynamic html template in spring boot rest controller","body":"<p>You can use Thymeleaf to render your Html and save it temporary with a unique name.</p>\n<p><a href=\"https://stackoverflow.com/questions/46962612/get-raw-html-from-the-controller-spring-thymeleaf\">How to do it exactly is described here</a></p>\n<p>Now you need a @Controller with a @Getmapping.</p>\n<pre><code> @GetMapping(&quot;/htmls/{unique}&quot;)\n @ResponseBody \n public String ResponsePerson(\n @PathVariable(&quot;unique&quot;) String unique) {\n    \n   return htmlString\n}\n</code></pre>\n<p>You can get the Html String in diff. Ways.\nOne example way is:</p>\n<pre><code>File htmlFile = new File(&quot;src/main/ress/htmls/&quot;+unique+&quot;html&quot;);\nString htmlString = FileUtils.readFileToString(htmlFile, \n                                               StandardCharsets.UTF_8);\n</code></pre>\n<p>Your link should look like: <code>http//:yor.ip.adress:8080/htmls/unique</code></p>\n<p>Edit: Sorry forgot to add the @ResponseBody Annotation.\nYou need that to bind the returned String to the Web Response Body.</p>\n"}],"owner":{"account_id":22115548,"reputation":39,"user_id":16369705,"display_name":"Whiteox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654164102,"creation_date":1654156629,"question_id":72472635,"body_markdown":"I want to send dynamic rendered html template and send its url as a message to the phone,( I have an api for that )\r\nI am using Model and View and setting the dynamic data but how do I get its dynamic urls what are the approaches to achieve that\r\n","title":"get url of dynamic html template in spring boot rest controller","body":"<p>I want to send dynamic rendered html template and send its url as a message to the phone,( I have an api for that )\nI am using Model and View and setting the dynamic data but how do I get its dynamic urls what are the approaches to achieve that</p>\n"},{"tags":["java","android","gradle","react-native"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1615442415,"post_id":66568709,"comment_id":117693269,"body_markdown":"que: 1. what OS are you working on (you seem to mix both macOS &amp; Windows paths) ? 2. is java installed on your machine ? where did you install JDK ?","body":"que: 1. what OS are you working on (you seem to mix both macOS &amp; Windows paths) ? 2. is java installed on your machine ? where did you install JDK ?"},{"owner":{"account_id":18882888,"reputation":153,"user_id":13774925,"display_name":"Shoubhik Raj"},"score":0,"creation_date":1615700323,"post_id":66568709,"comment_id":117769707,"body_markdown":"it&#39;s windows :) btw I&#39;ve fixed it . Thank you so much","body":"it&#39;s windows :) btw I&#39;ve fixed it . Thank you so much"},{"owner":{"account_id":1507753,"reputation":2107,"user_id":1410728,"accept_rate":86,"display_name":"thecoolmacdude"},"score":0,"creation_date":1626972936,"post_id":66568709,"comment_id":121040552,"body_markdown":"@ShoubhikRaj How did you fix it? I have the same issue.","body":"@ShoubhikRaj How did you fix it? I have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":17658167,"reputation":1,"user_id":12817233,"display_name":"shiza saleem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654164004,"creation_date":1654164004,"answer_id":72474329,"question_id":66568709,"body_markdown":"Just comment the mentioned line in gradle.properties\r\nIt is the JDK path for macOS and do not support Windows OS.\r\n","title":"fix error : Value &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home&#39; given for org.gradle.java.home Gradle property is invalid","body":"<p>Just comment the mentioned line in gradle.properties\nIt is the JDK path for macOS and do not support Windows OS.</p>\n"}],"owner":{"account_id":18882888,"reputation":153,"user_id":13774925,"display_name":"Shoubhik Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1804,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654164004,"creation_date":1615392973,"question_id":66568709,"body_markdown":"Whenever i&#39;m trying to run my react native application with this command `react-native run-android` getting this error : \r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Value &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan \r\n    to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup. Run CLI with --verbose flag for more details.\r\n    Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\n\r\nMy Paths in environment variables are correct and are as follows : \r\n\r\nSystem variables - \r\n***JAVA_HOME - C:\\Program Files\\Java\\jdk1.8.0_281\\bin***\r\n\r\nI even tried to change a line in `/android/gradle.properties` as - \r\n1. `org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_211.jdk/Contents/Home`\r\n2. `org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home`\r\n3. `org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_281`\r\n\r\nBUT NONE OF THE ABOVE ARE WORKING\r\n\r\non opening android folder in Android Studio, getting same error - Value `&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)`\r\n\r\n***Please help me***\r\n","title":"fix error : Value &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home&#39; given for org.gradle.java.home Gradle property is invalid","body":"<p>Whenever i'm trying to run my react native application with this command <code>react-native run-android</code> getting this error :</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nValue '/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home' given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan \nto get full insights.\n\n* Get more help at https://help.gradle.org\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup. Run CLI with --verbose flag for more details.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n</code></pre>\n<p>My Paths in environment variables are correct and are as follows :</p>\n<p>System variables -\n<em><strong>JAVA_HOME - C:\\Program Files\\Java\\jdk1.8.0_281\\bin</strong></em></p>\n<p>I even tried to change a line in <code>/android/gradle.properties</code> as -</p>\n<ol>\n<li><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_211.jdk/Contents/Home</code></li>\n<li><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home</code></li>\n<li><code>org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_281</code></li>\n</ol>\n<p>BUT NONE OF THE ABOVE ARE WORKING</p>\n<p>on opening android folder in Android Studio, getting same error - Value <code>'/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home' given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)</code></p>\n<p><em><strong>Please help me</strong></em></p>\n"},{"tags":["java","automated-tests","apache-kafka"],"comments":[{"owner":{"account_id":187725,"reputation":3293,"user_id":425997,"accept_rate":50,"display_name":"David"},"score":1,"creation_date":1447104000,"post_id":30161235,"comment_id":55011405,"body_markdown":"In my experience so far, testing a kafka-based system in standalone environment (single kafka broker, single zookeeper, single partition, few consumers/producers running sequentially/synchronously) works fine. You may run into synchronization and timing issues with offsets and all in a live environment where your system produces &amp; consumes in real time and you&#39;re trying to tap into the bus to validate the data going through it. That&#39;s for the case wehre live env has multiple brokers, zookeepers, partitions, producers &amp; consumers, and possibly asynchronous flow.","body":"In my experience so far, testing a kafka-based system in standalone environment (single kafka broker, single zookeeper, single partition, few consumers/producers running sequentially/synchronously) works fine. You may run into synchronization and timing issues with offsets and all in a live environment where your system produces &amp; consumes in real time and you&#39;re trying to tap into the bus to validate the data going through it. That&#39;s for the case wehre live env has multiple brokers, zookeepers, partitions, producers &amp; consumers, and possibly asynchronous flow."}],"answers":[{"tags":[],"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Pawe Szymczyk"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1431373236,"creation_date":1431373236,"answer_id":30176281,"question_id":30161235,"body_markdown":"You can start Kafka programmatically in your integration test, Kafka uses Zookeeper so firsly look at Zookeeper [TestingServer][1] - instance of this class creates and starts the Zk server using the given port.\r\n\r\nNext look at [KafkaServerStartable.scala][2], you have to provide configuration that points to your in memory Zk server and invoke `startup()` method, here is some code:\r\n\r\n\r\n    import kafka.server.KafkaConfig; \r\n    import kafka.server.KafkaServerStartable;\r\n    import java.util.Properties;\r\n\r\n    public KafkaTest() {\r\n        Properties properties = createProperties();\r\n        KafkaConfig kafkaConfig = new KafkaConfig(properties);\r\n        KafkaServerStartable kafka = new KafkaServerStartable(kafkaConfig);\r\n        kafka.startup();\r\n    }\r\n\r\nHope these help:)\r\n\r\n  [1]: https://github.com/apache/curator/blob/master/curator-test/src/main/java/org/apache/curator/test/TestingServer.java\r\n  [2]: https://github.com/apache/kafka/blob/7130da90a9ee9e6fb4beb2a2a6ab05c06c9bfac4/core/src/main/scala/kafka/server/KafkaServerStartable.scala","title":"How to automate Kafka Testing","body":"<p>You can start Kafka programmatically in your integration test, Kafka uses Zookeeper so firsly look at Zookeeper <a href=\"https://github.com/apache/curator/blob/master/curator-test/src/main/java/org/apache/curator/test/TestingServer.java\" rel=\"noreferrer\">TestingServer</a> - instance of this class creates and starts the Zk server using the given port.</p>\n\n<p>Next look at <a href=\"https://github.com/apache/kafka/blob/7130da90a9ee9e6fb4beb2a2a6ab05c06c9bfac4/core/src/main/scala/kafka/server/KafkaServerStartable.scala\" rel=\"noreferrer\">KafkaServerStartable.scala</a>, you have to provide configuration that points to your in memory Zk server and invoke <code>startup()</code> method, here is some code:</p>\n\n<pre><code>import kafka.server.KafkaConfig; \nimport kafka.server.KafkaServerStartable;\nimport java.util.Properties;\n\npublic KafkaTest() {\n    Properties properties = createProperties();\n    KafkaConfig kafkaConfig = new KafkaConfig(properties);\n    KafkaServerStartable kafka = new KafkaServerStartable(kafkaConfig);\n    kafka.startup();\n}\n</code></pre>\n\n<p>Hope these help:)</p>\n"},{"tags":[],"owner":{"account_id":12533796,"reputation":51,"user_id":9121086,"display_name":"Sidd Gautama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652379190,"creation_date":1550870813,"answer_id":54835419,"question_id":30161235,"body_markdown":"You can go for integration-testing or end-to-end testing by bringing up Kafka in a `docker` container. If you use *Apache* `kafka-clients:2.1.0`, then you don&#39;t need to deal with *ZooKeeper* at the API level while producing or consuming the records. \r\n\r\nDockerizing Kafka, and testing helps to cover the scenarios in a single node as well as multi-node Kafka cluster. This way you don&#39;t have to test against Mock/In-Memory Kafka once, then real Kafka later. This can be done using [TestContainers](https://www.testcontainers.org/modules/kafka/).\r\n\r\nIf you have too many test scenarios to cover, you can go for [Kafka Declarative Testing](https://github.com/authorjapps/hello-kafka-stream-testing#kafka-testing-hello-world-examples) like `docker-compose` style, by which you can eliminate the Kafka client API coding. \r\n\r\nCheckout some handy examples here for validating [produce](https://github.com/authorjapps/hello-kafka-stream-testing/tree/master/src/test/resources/kafka/produce) and [consume](https://github.com/authorjapps/hello-kafka-stream-testing/tree/master/src/test/resources/kafka/consume).\r\n\r\nTestContainers project also supports docker-compose. ","title":"How to automate Kafka Testing","body":"<p>You can go for integration-testing or end-to-end testing by bringing up Kafka in a <code>docker</code> container. If you use <em>Apache</em> <code>kafka-clients:2.1.0</code>, then you don't need to deal with <em>ZooKeeper</em> at the API level while producing or consuming the records.</p>\n<p>Dockerizing Kafka, and testing helps to cover the scenarios in a single node as well as multi-node Kafka cluster. This way you don't have to test against Mock/In-Memory Kafka once, then real Kafka later. This can be done using <a href=\"https://www.testcontainers.org/modules/kafka/\" rel=\"nofollow noreferrer\">TestContainers</a>.</p>\n<p>If you have too many test scenarios to cover, you can go for <a href=\"https://github.com/authorjapps/hello-kafka-stream-testing#kafka-testing-hello-world-examples\" rel=\"nofollow noreferrer\">Kafka Declarative Testing</a> like <code>docker-compose</code> style, by which you can eliminate the Kafka client API coding.</p>\n<p>Checkout some handy examples here for validating <a href=\"https://github.com/authorjapps/hello-kafka-stream-testing/tree/master/src/test/resources/kafka/produce\" rel=\"nofollow noreferrer\">produce</a> and <a href=\"https://github.com/authorjapps/hello-kafka-stream-testing/tree/master/src/test/resources/kafka/consume\" rel=\"nofollow noreferrer\">consume</a>.</p>\n<p>TestContainers project also supports docker-compose.</p>\n"},{"tags":[],"owner":{"account_id":7838492,"reputation":332,"user_id":5925582,"display_name":"Marcelo Xavier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597088245,"creation_date":1597088245,"answer_id":63346890,"question_id":30161235,"body_markdown":"As I understood you want to implement end to end tests starting from messages. Me and some people from recently made a research for libraries, tools and frameworks to test Event-driven systems using Kafka.\r\n\r\nWe found Zerocode which is an automated API testing using declarative language like JSON or YAML. It support REST, SOAP and what we are interested, Messaging. It sends and consumes messages from topics and make assertions in the end, easy to learn and use. Here is the link for more details [Zerocode][1]. It seems like a good option although we are starting using it.\r\n\r\nYou will need to have Kafka brokers and the dependencies running to make this solution to work, but nothing like a docker compose and/or some scripts to bring a environment for tests.\r\n\r\nAnother way is to implement your own project with Kafka libraries and use the libraries to send and receive messages in the tests.\r\n\r\nUnfortunately we couldn&#39;t find more options available out there. Kafka has a proposition to create a [test kit][2] but it&#39;s not in progress yet.\r\n\r\n\r\n  [1]: https://github.com/authorjapps/zerocode\r\n  [2]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-139%3A+Kafka+TestKit+library","title":"How to automate Kafka Testing","body":"<p>As I understood you want to implement end to end tests starting from messages. Me and some people from recently made a research for libraries, tools and frameworks to test Event-driven systems using Kafka.</p>\n<p>We found Zerocode which is an automated API testing using declarative language like JSON or YAML. It support REST, SOAP and what we are interested, Messaging. It sends and consumes messages from topics and make assertions in the end, easy to learn and use. Here is the link for more details <a href=\"https://github.com/authorjapps/zerocode\" rel=\"nofollow noreferrer\">Zerocode</a>. It seems like a good option although we are starting using it.</p>\n<p>You will need to have Kafka brokers and the dependencies running to make this solution to work, but nothing like a docker compose and/or some scripts to bring a environment for tests.</p>\n<p>Another way is to implement your own project with Kafka libraries and use the libraries to send and receive messages in the tests.</p>\n<p>Unfortunately we couldn't find more options available out there. Kafka has a proposition to create a <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-139%3A+Kafka+TestKit+library\" rel=\"nofollow noreferrer\">test kit</a> but it's not in progress yet.</p>\n"},{"tags":[],"owner":{"account_id":4731477,"reputation":501,"user_id":3866583,"display_name":"Konstantin M&#246;llers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654163927,"creation_date":1654163927,"answer_id":72474315,"question_id":30161235,"body_markdown":"Unfortunately, the approach described by Pavel does not work for Kafka 2.8+ anymore. However, I could make our end-to-end tests with Kafka 3.2 work using the approach taken by [KarelDB][1]:\r\n\r\n    Properties props = TestUtils.createBrokerConfig(\r\n            brokerId,\r\n            zkConnect,\r\n            false,\r\n            false,\r\n            TestUtils.RandomPort(),\r\n            noInterBrokerSecurityProtocol,\r\n            noFile,\r\n            EMPTY_SASL_PROPERTIES,\r\n            true,\r\n            false,\r\n            TestUtils.RandomPort(),\r\n            false,\r\n            TestUtils.RandomPort(),\r\n            false,\r\n            TestUtils.RandomPort(),\r\n            Option.&lt;String&gt;empty(),\r\n            1,\r\n            false,\r\n            1,\r\n            (short) 1\r\n    );\r\n    KafkaConfig config = KafkaConfig.fromProps(props);\r\n    KafkaServer server = TestUtils.createServer(config, Time.SYSTEM);\r\n\r\n    // `createServer` will also start your Kafka server.\r\n\r\n    // To shutdown:\r\n    server.shutdown();\r\n\r\n\r\n  [1]: https://github.com/rayokota/kareldb/blob/master/kareldb-core/src/test/java/io/kareldb/utils/ClusterTestHarness.java","title":"How to automate Kafka Testing","body":"<p>Unfortunately, the approach described by Pavel does not work for Kafka 2.8+ anymore. However, I could make our end-to-end tests with Kafka 3.2 work using the approach taken by <a href=\"https://github.com/rayokota/kareldb/blob/master/kareldb-core/src/test/java/io/kareldb/utils/ClusterTestHarness.java\" rel=\"nofollow noreferrer\">KarelDB</a>:</p>\n<pre><code>Properties props = TestUtils.createBrokerConfig(\n        brokerId,\n        zkConnect,\n        false,\n        false,\n        TestUtils.RandomPort(),\n        noInterBrokerSecurityProtocol,\n        noFile,\n        EMPTY_SASL_PROPERTIES,\n        true,\n        false,\n        TestUtils.RandomPort(),\n        false,\n        TestUtils.RandomPort(),\n        false,\n        TestUtils.RandomPort(),\n        Option.&lt;String&gt;empty(),\n        1,\n        false,\n        1,\n        (short) 1\n);\nKafkaConfig config = KafkaConfig.fromProps(props);\nKafkaServer server = TestUtils.createServer(config, Time.SYSTEM);\n\n// `createServer` will also start your Kafka server.\n\n// To shutdown:\nserver.shutdown();\n</code></pre>\n"}],"owner":{"account_id":4921086,"reputation":407,"user_id":3963648,"accept_rate":55,"display_name":"Alpana Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37175,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30176281,"answer_count":4,"score":8,"last_activity_date":1654163927,"creation_date":1431327090,"question_id":30161235,"body_markdown":"We have developed a system using kafka to queue the data and later consume that data to place orders for users.  \r\nWe have tested certain things manually, but now our aim is automate the process.  \r\nIs there any client available to test it? I found out ways to Unit test it using kafka client itself, but my aim is to test the system as whole.\r\n\r\n\r\nEDIT: our purpose is just API testing i.e., just the back-end, not the UI","title":"How to automate Kafka Testing","body":"<p>We have developed a system using kafka to queue the data and later consume that data to place orders for users.<br />\nWe have tested certain things manually, but now our aim is automate the process.<br />\nIs there any client available to test it? I found out ways to Unit test it using kafka client itself, but my aim is to test the system as whole.</p>\n<p>EDIT: our purpose is just API testing i.e., just the back-end, not the UI</p>\n"},{"tags":["java","maven","manifest"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1654087788,"post_id":72461442,"comment_id":128007991,"body_markdown":"I doubt you can use a classpath in this way. If I were you, I would just do it like everybody else.","body":"I doubt you can use a classpath in this way. If I were you, I would just do it like everybody else."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1654116759,"post_id":72461442,"comment_id":128018066,"body_markdown":"(1) You _are_ running this with `java -jar jarfile` right? (2) MANIFEST.MF has an empty line after the Class-path: line -- i.e. you have end-of-line LF/CRLF then _another_ LF/CRLF? (3) Are you actually running on Java 7? Except paid updates starting around 7u150 IIRC, it doesn&#39;t support client TLS protocols above 1.0, which is now considered insecure, and most servers today including repo1.maven.org don&#39;t accept anything below 1.2; try `keytool -printcert -v -sslserver repo1.maven.org` from your runtime environment.","body":"(1) You <i>are</i> running this with <code>java -jar jarfile</code> right? (2) MANIFEST.MF has an empty line after the Class-path: line -- i.e. you have end-of-line LF/CRLF then <i>another</i> LF/CRLF? (3) Are you actually running on Java 7? Except paid updates starting around 7u150 IIRC, it doesn&#39;t support client TLS protocols above 1.0, which is now considered insecure, and most servers today including repo1.maven.org don&#39;t accept anything below 1.2; try <code>keytool -printcert -v -sslserver repo1.maven.org</code> from your runtime environment."}],"owner":{"account_id":20178032,"reputation":61,"user_id":14799209,"display_name":"harshit srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654163694,"creation_date":1654084478,"question_id":72461442,"body_markdown":"My idea is to create a jar file with classes and manifest with jar dependencies over the network.\r\nNow for this, I created a small java class and added some libs like Lombok and slf4j API, while building the classes I got the class files and created a manual manifest file as below:\r\n \r\nManifest-Version: 1.0\r\nCreated-By: 1.7.0_06 (Oracle Corporation)\r\nMain-Class: packagemain.MainClass\r\nClass-Path: https://repo1.maven.org/maven2/org/projectlombok/lombok/1.18.8/lombok-1.18.8.jar https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.7.21/slf4j-simple-1.7.21.jar https://repo1.maven.org/maven2/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar\r\n\r\n\r\nI added the jar links online directly to classpath in manifest and I packed these files into a jar by using the command: \r\njar cfvm myJar.jar MANIFEST.MF *\r\n\r\n**Now while running I am still getting the error as below:**\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat packagemain.MainClass.&lt;clinit&gt;(MainClass.java:8)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n\r\n\r\nCan anyone help me and let me know what am i doing wrong.\r\n","title":"how to add online jars to manifest classpath","body":"<p>My idea is to create a jar file with classes and manifest with jar dependencies over the network.\nNow for this, I created a small java class and added some libs like Lombok and slf4j API, while building the classes I got the class files and created a manual manifest file as below:</p>\n<p>Manifest-Version: 1.0\nCreated-By: 1.7.0_06 (Oracle Corporation)\nMain-Class: packagemain.MainClass\nClass-Path: <a href=\"https://repo1.maven.org/maven2/org/projectlombok/lombok/1.18.8/lombok-1.18.8.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/projectlombok/lombok/1.18.8/lombok-1.18.8.jar</a> <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.7.21/slf4j-simple-1.7.21.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.7.21/slf4j-simple-1.7.21.jar</a> <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar</a></p>\n<p>I added the jar links online directly to classpath in manifest and I packed these files into a jar by using the command:\njar cfvm myJar.jar MANIFEST.MF *</p>\n<p><strong>Now while running I am still getting the error as below:</strong></p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\nat packagemain.MainClass.(MainClass.java:8)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 1 more</p>\n<p>Can anyone help me and let me know what am i doing wrong.</p>\n"},{"tags":["java","button","selenium-webdriver"],"comments":[{"owner":{"account_id":3851133,"reputation":673,"user_id":3191303,"display_name":"AWinkle"},"score":1,"creation_date":1495228120,"post_id":44078391,"comment_id":75182016,"body_markdown":"Welcome to [Stack Overflow](http://stackoverflow.com)! At this site you are expected to try to **write the code yourself**. After [doing more research](http://meta.stackoverflow.com/questions/261592) if you have a problem you can **post what you&#39;ve tried** with a **clear explanation of what isn&#39;t working** and providing a **[Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)**. I suggest reading [How to Ask a good question](http://stackoverflow.com/questions/how-to-ask). Also, be sure to take the [tour](http://stackoverflow.com/tour)","body":"Welcome to <a href=\"http://stackoverflow.com\">Stack Overflow</a>! At this site you are expected to try to <b>write the code yourself</b>. After <a href=\"http://meta.stackoverflow.com/questions/261592\">doing more research</a> if you have a problem you can <b>post what you&#39;ve tried</b> with a <b>clear explanation of what isn&#39;t working</b> and providing a <b><a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a></b>. I suggest reading <a href=\"http://stackoverflow.com/questions/how-to-ask\">How to Ask a good question</a>. Also, be sure to take the <a href=\"http://stackoverflow.com/tour\">tour</a>"}],"answers":[{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540811408,"creation_date":1495225335,"answer_id":44078438,"question_id":44078391,"body_markdown":"You have to change the properties in the html side after doing click with selenium, but you can&#39;t do it with selenium itself, selenium only does what you tell it to do, but if you want change in your UI or your behavior you must have to write code for it.","title":"How to enable a disabled button in Java for Selenium webdriver?","body":"<p>You have to change the properties in the html side after doing click with selenium, but you can't do it with selenium itself, selenium only does what you tell it to do, but if you want change in your UI or your behavior you must have to write code for it.</p>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495474895,"creation_date":1495255715,"answer_id":44082024,"question_id":44078391,"body_markdown":"you can do this in selenium USING **JavascriptExecutor**  as below:\r\n\r\n    WebElement yourButton= driver.findElement(By.name(&quot;shippingAddress_save&quot;));\r\n    \r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;arguments[0].removeAttribute(&#39;disabled&#39;,&#39;disabled&#39;)&quot;,yourButton);\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n    wait.until(ExpectedConditions.elementToBeClickable(yourButton));\r\n    \r\n    yourButton.click();","title":"How to enable a disabled button in Java for Selenium webdriver?","body":"<p>you can do this in selenium USING <strong>JavascriptExecutor</strong>  as below:</p>\n\n<pre><code>WebElement yourButton= driver.findElement(By.name(\"shippingAddress_save\"));\n\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"arguments[0].removeAttribute('disabled','disabled')\",yourButton);\n\nWebDriverWait wait = new WebDriverWait(driver, 20);\nwait.until(ExpectedConditions.elementToBeClickable(yourButton));\n\nyourButton.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21844651,"reputation":1,"user_id":16137703,"display_name":"Deepali Chadokar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654163471,"creation_date":1654163471,"answer_id":72474207,"question_id":44078391,"body_markdown":"you can check the below code :\r\n\r\n\r\n`WebElement element=driver.Find(By.xpath(&quot;your locator xpath&quot;));\r\n  JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;arguments[0].removeAttribute(&#39;disabled&#39;,&#39;disabled&#39;)&quot;,element);\r\n   `\r\n   ","title":"How to enable a disabled button in Java for Selenium webdriver?","body":"<p>you can check the below code :</p>\n<p><code>WebElement element=driver.Find(By.xpath(&quot;your locator xpath&quot;)); JavascriptExecutor js = (JavascriptExecutor) driver; js.executeScript(&quot;arguments[0].removeAttribute('disabled','disabled')&quot;,element); </code></p>\n"}],"owner":{"account_id":10937358,"reputation":21,"user_id":8038575,"display_name":"kristina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9978,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1654163471,"creation_date":1495225137,"question_id":44078391,"body_markdown":"I want to disable the button before clicking on it, here is what I have:\r\n\r\n&lt;!-- language: html --&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; name=&quot;shippingAddress_save&quot; value=&quot;Continue to Billing &gt;&quot; disabled=&quot;disabled&quot;&gt;\r\n\r\n\r\n","title":"How to enable a disabled button in Java for Selenium webdriver?","body":"<p>I want to disable the button before clicking on it, here is what I have:</p>\n\n<pre><code>&lt;button type=\"submit\" name=\"shippingAddress_save\" value=\"Continue to Billing &gt;\" disabled=\"disabled\"&gt;\n</code></pre>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654116257,"post_id":72467586,"comment_id":128017913,"body_markdown":"Probably... but it depends... are the external tasks on different machines? Then your threads are I/O bound and shouldn&#39;t consume CPU while doing network I/O, and a different number of threads won&#39;t change CPU use. So what is your real question? How to reduce CPU load? IMHO your question needs more details; see [ask].","body":"Probably... but it depends... are the external tasks on different machines? Then your threads are I/O bound and shouldn&#39;t consume CPU while doing network I/O, and a different number of threads won&#39;t change CPU use. So what is your real question? How to reduce CPU load? IMHO your question needs more details; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":6598439,"reputation":131,"user_id":5097454,"display_name":"Venkat Adapa"},"score":0,"creation_date":1654264769,"post_id":72467586,"comment_id":128056373,"body_markdown":"Thanks for the reply. Yes! External tasks are in different machine My Threads make a network I/O, Thread will assigned to the task only after a new event was raised. if more events are arrived then my tasks are queued-up! My Question here is - if I have better delay strategy does it reduce the CPU utilization ? So I can define optimum pool size","body":"Thanks for the reply. Yes! External tasks are in different machine My Threads make a network I/O, Thread will assigned to the task only after a new event was raised. if more events are arrived then my tasks are queued-up! My Question here is - if I have better delay strategy does it reduce the CPU utilization ? So I can define optimum pool size"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654162913,"creation_date":1654160916,"answer_id":72473610,"question_id":72467586,"body_markdown":"Putting your threads to sleep will probably reduce the CPU utilization, but since in the executor framework a `ThreadPoolExecutor` does not implement a work-stealing algorithm, once the `MaximumPoolSize` threshold has been reached with every thread busy in a task, it doesn&#39;t matter whether they&#39;re sleeping or not, those threads have already committed to those tasks and they will keep executing them until their termination (abruptly or with success). This means that they won&#39;t release the sleeping tasks in favor of the ones queuing up and ready to be executed.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\r\n\r\nHowever, since in your question you mentioned\r\n\r\n&gt; The Job of each thread is identical and &lt;b&gt;polls the status&lt;/b&gt; of the external task and Each thread has sleeping time.\r\n\r\nIt sounds like you need to check whether a particular event has occurred every *x* seconds. To optimize the execution, you could use a `ScheduledThreadPoolExecutor` instead, where n `Runnable` are scheduled with the `scheduleWithFixedDelay` method to check every *x* seconds if the particular condition is met.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n\r\nHere is a rough implementation with a `ScheduledThreadPoolExecutor` where each task identified with an id checks every *x* seconds for a particular condition to happen (the creation of a folder with their same id).\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ScheduledThreadPoolExecutor pool = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(2);\r\n        int numTasks = 16;\r\n\r\n        //ConcurrentHashMap shared among the submitted tasks where each Task updates its corresponding outcome to true as soon as the folder has been created\r\n        ConcurrentHashMap&lt;Integer, Boolean&gt; mapResult = new ConcurrentHashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; numTasks; i++) {\r\n            mapResult.put(i, false);\r\n        }\r\n\r\n        //Scheduling each tasks and keeping the ScheduledFuture returned by each submitted task in a local Map\r\n        ScheduledFuture&lt;?&gt; schedFut;\r\n        Map&lt;Integer, ScheduledFuture&lt;?&gt;&gt; mapTasks = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; numTasks; i++) {\r\n            schedFut = pool.scheduleWithFixedDelay(new MyTask(i, mapResult), i * 20, 3000, TimeUnit.MILLISECONDS);\r\n            mapTasks.put(i, schedFut);\r\n        }\r\n\r\n        //Checking whether all the tasks have completed their verification\r\n        while (!mapTasks.values().stream().allMatch(v -&gt; v.isCancelled())) {\r\n            for (Integer key : mapTasks.keySet()) {\r\n                //Canceling the i-th task scheduling if:\r\n                //  - Its result is positive (i.e. its verification is terminated)\r\n                //  - The task hasn&#39;t been canceled already\r\n                if (mapResult.get(key) &amp;&amp; !mapTasks.get(key).isCancelled()) {\r\n                    schedFut = mapTasks.get(key);\r\n                    schedFut.cancel(true);\r\n                }\r\n            }\r\n\r\n            //... eventually adding a sleep to check whether the tasks have completed every x seconds ...\r\n        }\r\n\r\n        pool.shutdown();\r\n    }\r\n}\r\n\r\nclass MyTask implements Runnable {\r\n    private int num;\r\n    private ConcurrentHashMap mapRes;\r\n\r\n    public MyTask(int num, ConcurrentHashMap mapRes) {\r\n        this.num = num;\r\n        this.mapRes = mapRes;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Task &quot; + num + &quot; is checking whether the folder exists: &quot; + Files.exists(Path.of(&quot;./&quot; + num)));\r\n        if (Files.exists(Path.of(&quot;./&quot; + num))) {\r\n            mapRes.replace(num, true);\r\n        }\r\n    }\r\n}\r\n```","title":"How resource effective in Java Executor framework","body":"<p>Putting your threads to sleep will probably reduce the CPU utilization, but since in the executor framework a <code>ThreadPoolExecutor</code> does not implement a work-stealing algorithm, once the <code>MaximumPoolSize</code> threshold has been reached with every thread busy in a task, it doesn't matter whether they're sleeping or not, those threads have already committed to those tasks and they will keep executing them until their termination (abruptly or with success). This means that they won't release the sleeping tasks in favor of the ones queuing up and ready to be executed.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html</a></p>\n<p>However, since in your question you mentioned</p>\n<blockquote>\n<p>The Job of each thread is identical and <b>polls the status</b> of the external task and Each thread has sleeping time.</p>\n</blockquote>\n<p>It sounds like you need to check whether a particular event has occurred every <em>x</em> seconds. To optimize the execution, you could use a <code>ScheduledThreadPoolExecutor</code> instead, where n <code>Runnable</code> are scheduled with the <code>scheduleWithFixedDelay</code> method to check every <em>x</em> seconds if the particular condition is met.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)</a></p>\n<p>Here is a rough implementation with a <code>ScheduledThreadPoolExecutor</code> where each task identified with an id checks every <em>x</em> seconds for a particular condition to happen (the creation of a folder with their same id).</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ScheduledThreadPoolExecutor pool = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(2);\n        int numTasks = 16;\n\n        //ConcurrentHashMap shared among the submitted tasks where each Task updates its corresponding outcome to true as soon as the folder has been created\n        ConcurrentHashMap&lt;Integer, Boolean&gt; mapResult = new ConcurrentHashMap&lt;&gt;();\n        for (int i = 0; i &lt; numTasks; i++) {\n            mapResult.put(i, false);\n        }\n\n        //Scheduling each tasks and keeping the ScheduledFuture returned by each submitted task in a local Map\n        ScheduledFuture&lt;?&gt; schedFut;\n        Map&lt;Integer, ScheduledFuture&lt;?&gt;&gt; mapTasks = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; numTasks; i++) {\n            schedFut = pool.scheduleWithFixedDelay(new MyTask(i, mapResult), i * 20, 3000, TimeUnit.MILLISECONDS);\n            mapTasks.put(i, schedFut);\n        }\n\n        //Checking whether all the tasks have completed their verification\n        while (!mapTasks.values().stream().allMatch(v -&gt; v.isCancelled())) {\n            for (Integer key : mapTasks.keySet()) {\n                //Canceling the i-th task scheduling if:\n                //  - Its result is positive (i.e. its verification is terminated)\n                //  - The task hasn't been canceled already\n                if (mapResult.get(key) &amp;&amp; !mapTasks.get(key).isCancelled()) {\n                    schedFut = mapTasks.get(key);\n                    schedFut.cancel(true);\n                }\n            }\n\n            //... eventually adding a sleep to check whether the tasks have completed every x seconds ...\n        }\n\n        pool.shutdown();\n    }\n}\n\nclass MyTask implements Runnable {\n    private int num;\n    private ConcurrentHashMap mapRes;\n\n    public MyTask(int num, ConcurrentHashMap mapRes) {\n        this.num = num;\n        this.mapRes = mapRes;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Task &quot; + num + &quot; is checking whether the folder exists: &quot; + Files.exists(Path.of(&quot;./&quot; + num)));\n        if (Files.exists(Path.of(&quot;./&quot; + num))) {\n            mapRes.replace(num, true);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6598439,"reputation":131,"user_id":5097454,"display_name":"Venkat Adapa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654162913,"creation_date":1654114615,"question_id":72467586,"body_markdown":"I am using the java executor service to create the threadPool. The Job of each thread is identical and polls the status of the external task and Each thread has sleeping time. Let&#39;s say the size of the thread pool is N, Out N, K threads are currently engaged and CPU utilization has reached the maximum, for the K+1 thread doesn&#39;t have resource availability. Threads that are in sleeping mode, would reduce the CPU utilization and do the other threads have the resource availability?","title":"How resource effective in Java Executor framework","body":"<p>I am using the java executor service to create the threadPool. The Job of each thread is identical and polls the status of the external task and Each thread has sleeping time. Let's say the size of the thread pool is N, Out N, K threads are currently engaged and CPU utilization has reached the maximum, for the K+1 thread doesn't have resource availability. Threads that are in sleeping mode, would reduce the CPU utilization and do the other threads have the resource availability?</p>\n"},{"tags":["java","multithreading","executorservice","java-17"],"answers":[{"tags":[],"owner":{"account_id":14957510,"reputation":141,"user_id":10798322,"display_name":"Yevgeniy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653861311,"creation_date":1653861311,"answer_id":72427545,"question_id":72426404,"body_markdown":"EDIT: I just posted this answer and realized that you seem to be using that code to emulate real user interactions with some system. I would strongly recommend just using a load testing utility for that, rather than trying to come up with your own. However, in that case just using a CachedThreadPool might do the trick, although probably not a very robust or scalable solution.\r\n\r\nThread.sleep() behavior here is working as intended: it suspends the thread to let the CPU execute other threads.\r\nNote that in this state a thread can be interrupted for a number of reasons unrelated to your code, and in that case your Task returns `false`: I&#39;m assuming you actually have some retry logic down the line.\r\n\r\nSo you want two mutually exclusive things: on the one hand, if the document isn&#39;t ready, the thread should be free to do something else, but should somehow return and check that document&#39;s status again in 10 seconds.\r\n\r\nThat means you have to choose: \r\n * You definitely need that once-every-10-seconds check for each document - in that case, maybe use a cachedThreadPool and have it generate as many threads as necessary, just keep in mind that you&#39;ll carry the overhead for numerous threads doing virtually nothing.\r\n\r\n* Or, you can first initiate that asynchronous document creation process and then only check for status in your callables, retrying as needed. \r\n\r\nSomething like:\r\n    \r\n\r\n\r\n    public class Task implements Callable&lt;Boolean&gt; {\r\n        private final ReportClient client;\r\n        private final UUID uuid;\r\n        // all args constructor omitted for brevity\r\n        @Override\r\n        public Boolean call() {\r\n            GetStatusResponse status = client.getStatus(uuid);\r\n            if (Status.PENDING.equals(status.status())) {\r\n                final var document = client.getReport(uuid);\r\n                return Boolean.TRUE;\r\n            } else {\r\n                return Boolean.FALSE; //retry next time\r\n            }\r\n        }\r\n    }\r\n\r\n    List&lt;Callable&lt;Boolean&gt;&gt; callableTasks = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; 100; i++) { \r\n        var uuid = client.createDocument(documentId); //not sure where documentId comes from here in your code\r\n        callableTasks.add(new Task(client, uuid));\r\n    }\r\n\r\n    List&lt;Future&lt;Boolean&gt;&gt; results = SERVICE.invokeAll(callableTasks); \r\n    // retry logic until all results come back as `true` here\r\n\r\nThis assumes that `createDocument` is relatively efficient, but that stage can be parallelized just as well, you just need to use a separate list of `Runnable` tasks and invoke them using the executor service.\r\nNote that we also assume that the document&#39;s status will indeed eventually change to something other than PENDING, and that might very well not be the case. You might want to have a timeout for retries.","title":"Execution of Tasks in ExecutorService without Thread pauses","body":"<p>EDIT: I just posted this answer and realized that you seem to be using that code to emulate real user interactions with some system. I would strongly recommend just using a load testing utility for that, rather than trying to come up with your own. However, in that case just using a CachedThreadPool might do the trick, although probably not a very robust or scalable solution.</p>\n<p>Thread.sleep() behavior here is working as intended: it suspends the thread to let the CPU execute other threads.\nNote that in this state a thread can be interrupted for a number of reasons unrelated to your code, and in that case your Task returns <code>false</code>: I'm assuming you actually have some retry logic down the line.</p>\n<p>So you want two mutually exclusive things: on the one hand, if the document isn't ready, the thread should be free to do something else, but should somehow return and check that document's status again in 10 seconds.</p>\n<p>That means you have to choose:</p>\n<ul>\n<li><p>You definitely need that once-every-10-seconds check for each document - in that case, maybe use a cachedThreadPool and have it generate as many threads as necessary, just keep in mind that you'll carry the overhead for numerous threads doing virtually nothing.</p>\n</li>\n<li><p>Or, you can first initiate that asynchronous document creation process and then only check for status in your callables, retrying as needed.</p>\n</li>\n</ul>\n<p>Something like:</p>\n<pre><code>public class Task implements Callable&lt;Boolean&gt; {\n    private final ReportClient client;\n    private final UUID uuid;\n    // all args constructor omitted for brevity\n    @Override\n    public Boolean call() {\n        GetStatusResponse status = client.getStatus(uuid);\n        if (Status.PENDING.equals(status.status())) {\n            final var document = client.getReport(uuid);\n            return Boolean.TRUE;\n        } else {\n            return Boolean.FALSE; //retry next time\n        }\n    }\n}\n\nList&lt;Callable&lt;Boolean&gt;&gt; callableTasks = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; 100; i++) { \n    var uuid = client.createDocument(documentId); //not sure where documentId comes from here in your code\n    callableTasks.add(new Task(client, uuid));\n}\n\nList&lt;Future&lt;Boolean&gt;&gt; results = SERVICE.invokeAll(callableTasks); \n// retry logic until all results come back as `true` here\n</code></pre>\n<p>This assumes that <code>createDocument</code> is relatively efficient, but that stage can be parallelized just as well, you just need to use a separate list of <code>Runnable</code> tasks and invoke them using the executor service.\nNote that we also assume that the document's status will indeed eventually change to something other than PENDING, and that might very well not be the case. You might want to have a timeout for retries.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653864236,"creation_date":1653863920,"answer_id":72427742,"question_id":72426404,"body_markdown":"The [Answer by Yevgeniy][1] looks correct, regarding Java today. You want to have your cake and eat it too, in that you want a thread to sleep before repeating a task but you also want that thread to do other work. That is not possible today, but may be in the future.\r\n\r\n# *Project Loom*\r\n\r\nIn current Java, a Java thread is mapped directly to a host [OS][2] thread. In all common OSes such as macOS, BSD, Linux, Windows, and such, when code executing in a host thread blocks (stops to wait for sleep, or storage I/O, or network I/O, etc.) the thread too blocks. The blocked thread suspends, and the host OS generally runs another thread on that otherwise unused core. But the crucial point is that the suspended thread performs no further work until your blocking call to sleep returns. \r\n\r\nThis picture may change in the not-so-distant future. [*Project Loom*][3] seeks to add [virtual threads][4] to the concurrency facilities in Java. \r\n\r\nIn this new technology, many Java virtual threads are mapped to each host OS thread. Juggling the many Java virtual threads is managed by the JVM rather than by the OS. When the JVM detects a virtual threads executing code is blocking, that virtual thread is &quot;parked&quot;, set aside by the JVM, with another virtual thread swapped out for execution on that &quot;real&quot; host OS thread. When the other thread returns from its blocking call, it can be reassigned to a &quot;real&quot; host OS thread for further execution. Under *Project Loom*, the host OS threads are kept busy, never idled while any pending virtual thread has work to do.\r\n\r\nThis swapping between virtual threads is highly efficient, so that thousands, even millions, of threads can be running at a time on conventional computer hardware. \r\n\r\nUsing virtual threads, your code will indeed work as you had hoped: A blocking call in Java will not block the host OS thread. But virtual threads are experimental, still in development, scheduled as a [preview feature][5] in [Java 19][6]. Early-access builds of Java 19 with Loom technology included are [available now][7] for you to try. But for production deployment today, you&#39;ll need to follow the advice in the Answer by Yevgeniy.\r\n\r\n\r\n----------\r\n\r\n\r\nTake my coverage here with a grain of salt, as I am not an expert on concurrency. You can hear it from the actual experts, in the articles, interviews, and presentations by members of the *Project Loom* team including Ron Pressler and Alan Bateman. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72427545/642706\r\n  [2]: https://en.wikipedia.org/wiki/Operating_system\r\n  [3]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [4]: https://openjdk.java.net/jeps/425\r\n  [5]: https://openjdk.java.net/jeps/12\r\n  [6]: https://en.wikipedia.org/wiki/Java_version_history#Java_19\r\n  [7]: https://jdk.java.net/loom/","title":"Execution of Tasks in ExecutorService without Thread pauses","body":"<p>The <a href=\"https://stackoverflow.com/a/72427545/642706\">Answer by Yevgeniy</a> looks correct, regarding Java today. You want to have your cake and eat it too, in that you want a thread to sleep before repeating a task but you also want that thread to do other work. That is not possible today, but may be in the future.</p>\n<h1><em>Project Loom</em></h1>\n<p>In current Java, a Java thread is mapped directly to a host <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">OS</a> thread. In all common OSes such as macOS, BSD, Linux, Windows, and such, when code executing in a host thread blocks (stops to wait for sleep, or storage I/O, or network I/O, etc.) the thread too blocks. The blocked thread suspends, and the host OS generally runs another thread on that otherwise unused core. But the crucial point is that the suspended thread performs no further work until your blocking call to sleep returns.</p>\n<p>This picture may change in the not-so-distant future. <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a> seeks to add <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> to the concurrency facilities in Java.</p>\n<p>In this new technology, many Java virtual threads are mapped to each host OS thread. Juggling the many Java virtual threads is managed by the JVM rather than by the OS. When the JVM detects a virtual threads executing code is blocking, that virtual thread is &quot;parked&quot;, set aside by the JVM, with another virtual thread swapped out for execution on that &quot;real&quot; host OS thread. When the other thread returns from its blocking call, it can be reassigned to a &quot;real&quot; host OS thread for further execution. Under <em>Project Loom</em>, the host OS threads are kept busy, never idled while any pending virtual thread has work to do.</p>\n<p>This swapping between virtual threads is highly efficient, so that thousands, even millions, of threads can be running at a time on conventional computer hardware.</p>\n<p>Using virtual threads, your code will indeed work as you had hoped: A blocking call in Java will not block the host OS thread. But virtual threads are experimental, still in development, scheduled as a <a href=\"https://openjdk.java.net/jeps/12\" rel=\"nofollow noreferrer\">preview feature</a> in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_19\" rel=\"nofollow noreferrer\">Java 19</a>. Early-access builds of Java 19 with Loom technology included are <a href=\"https://jdk.java.net/loom/\" rel=\"nofollow noreferrer\">available now</a> for you to try. But for production deployment today, you'll need to follow the advice in the Answer by Yevgeniy.</p>\n<hr />\n<p>Take my coverage here with a grain of salt, as I am not an expert on concurrency. You can hear it from the actual experts, in the articles, interviews, and presentations by members of the <em>Project Loom</em> team including Ron Pressler and Alan Bateman.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654162555,"creation_date":1653900564,"answer_id":72431584,"question_id":72426404,"body_markdown":"In your case, it seems like you need to check if a certain condition is met every x seconds. In fact, from your code the document generation seems asynchronous and what the Task keeps doing after that is just is waiting for the document generation to happen.\r\n\r\nYou could launch every document generation from your Thread-Main and use a `ScheduledThreadPoolExecutor` to verify every x seconds whether the document generation has been completed. At that point, you retrieve the result and cancel the corresponding Task&#39;s scheduling.\r\n\r\nBasically, one `ConcurrentHashMap` is shared among the thread-main and the Tasks you&#39;ve scheduled (mapRes), while the other, mapTask, is just used locally within the thread-main to keep track of the `ScheduledFuture` returned by every `Task`.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ScheduledThreadPoolExecutor pool = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(8);\r\n\r\n        //ConcurrentHashMap shared among the submitted tasks where each Task updates its corresponding outcome to true as soon as the document has been produced\r\n        ConcurrentHashMap&lt;Integer, Boolean&gt; mapRes = new ConcurrentHashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            mapRes.put(i, false);\r\n        }\r\n\r\n        String uuid;\r\n        ScheduledFuture&lt;?&gt; schedFut;\r\n\r\n        //HashMap containing the ScheduledFuture returned by scheduling each Task to cancel their repetition as soon as the document has been produced\r\n        Map&lt;String, ScheduledFuture&lt;?&gt;&gt; mapTask = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            //Starting the document generation from the thread-main\r\n            uuid = client.createDocument(documentId);\r\n\r\n            //Scheduling each Task 10 seconds apart from one another and with an initial delay of i*10 to not start all of them at the same time\r\n            schedFut = pool.scheduleWithFixedDelay(new Task(client, uuid, mapRes), i * 10, 10000, TimeUnit.MILLISECONDS);\r\n\r\n            //Adding the ScheduledFuture to the map\r\n            mapTask.put(uuid, schedFut);\r\n        }\r\n\r\n        //Keep checking the outcome of each task until all of them have been canceled due to completion\r\n        while (!mapTasks.values().stream().allMatch(v -&gt; v.isCancelled())) {\r\n            for (Integer key : mapTasks.keySet()) {\r\n                //Canceling the i-th task scheduling if:\r\n                //  - Its result is positive (i.e. its verification is terminated)\r\n                //  - The task hasn&#39;t been canceled already\r\n                if (mapRes.get(key) &amp;&amp; !mapTasks.get(key).isCancelled()) {\r\n                    schedFut = mapTasks.get(key);\r\n                    schedFut.cancel(true);\r\n                }\r\n            }\r\n\r\n            //... eventually adding a sleep to check the completion every x seconds ...\r\n        }\r\n\r\n        pool.shutdown();\r\n    }\r\n}\r\n\r\nclass Task implements Runnable {\r\n\r\n    private final ReportClient client;\r\n    private final String uuid;\r\n\r\n    private final ConcurrentHashMap mapRes;\r\n\r\n    public Task(ReportClient client, String uuid, ConcurrentHashMap mapRes) {\r\n        this.client = client;\r\n        this.uuid = uuid;\r\n        this.mapRes = mapRes;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        //This is taken form your code and I&#39;m assuming that if it&#39;s not pending then it&#39;s completed\r\n        if (!Status.PENDING.equals(client.getStatus(uuid).status())) {\r\n            mapRes.replace(uuid, true);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tested your case locally, by emulating a scenario where n `Tasks` wait for a folder with their same id to be created (or uuid in your case). I&#39;ll post it right here as a sample in case you&#39;d like to try something simpler first.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ScheduledThreadPoolExecutor pool = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(2);\r\n\r\n        ConcurrentHashMap&lt;Integer, Boolean&gt; mapRes = new ConcurrentHashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            mapRes.put(i, false);\r\n        }\r\n\r\n        ScheduledFuture&lt;?&gt; schedFut;\r\n        Map&lt;Integer, ScheduledFuture&lt;?&gt;&gt; mapTasks = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            schedFut = pool.scheduleWithFixedDelay(new MyTask(i, mapRes), i * 20, 3000, TimeUnit.MILLISECONDS);\r\n            mapTasks.put(i, schedFut);\r\n        }\r\n\r\n        while (!mapTasks.values().stream().allMatch(v -&gt; v.isCancelled())) {\r\n            for (Integer key : mapTasks.keySet()) {\r\n                if (mapRes.get(key) &amp;&amp; !mapTasks.get(key).isCancelled()) {\r\n                    schedFut = mapTasks.get(key);\r\n                    schedFut.cancel(true);\r\n                }\r\n            }\r\n        }\r\n\r\n        pool.shutdown();\r\n    }\r\n}\r\n\r\nclass MyTask implements Runnable {\r\n    private int num;\r\n    private ConcurrentHashMap mapRes;\r\n\r\n    public MyTask(int num, ConcurrentHashMap mapRes) {\r\n        this.num = num;\r\n        this.mapRes = mapRes;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Task &quot; + num + &quot; is checking whether the folder exists: &quot; + Files.exists(Path.of(&quot;./&quot; + num)));\r\n        if (Files.exists(Path.of(&quot;./&quot; + num))) {\r\n            mapRes.replace(num, true);\r\n        }\r\n    }\r\n}\r\n```","title":"Execution of Tasks in ExecutorService without Thread pauses","body":"<p>In your case, it seems like you need to check if a certain condition is met every x seconds. In fact, from your code the document generation seems asynchronous and what the Task keeps doing after that is just is waiting for the document generation to happen.</p>\n<p>You could launch every document generation from your Thread-Main and use a <code>ScheduledThreadPoolExecutor</code> to verify every x seconds whether the document generation has been completed. At that point, you retrieve the result and cancel the corresponding Task's scheduling.</p>\n<p>Basically, one <code>ConcurrentHashMap</code> is shared among the thread-main and the Tasks you've scheduled (mapRes), while the other, mapTask, is just used locally within the thread-main to keep track of the <code>ScheduledFuture</code> returned by every <code>Task</code>.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ScheduledThreadPoolExecutor pool = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(8);\n\n        //ConcurrentHashMap shared among the submitted tasks where each Task updates its corresponding outcome to true as soon as the document has been produced\n        ConcurrentHashMap&lt;Integer, Boolean&gt; mapRes = new ConcurrentHashMap&lt;&gt;();\n        for (int i = 0; i &lt; 100; i++) {\n            mapRes.put(i, false);\n        }\n\n        String uuid;\n        ScheduledFuture&lt;?&gt; schedFut;\n\n        //HashMap containing the ScheduledFuture returned by scheduling each Task to cancel their repetition as soon as the document has been produced\n        Map&lt;String, ScheduledFuture&lt;?&gt;&gt; mapTask = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; 100; i++) {\n            //Starting the document generation from the thread-main\n            uuid = client.createDocument(documentId);\n\n            //Scheduling each Task 10 seconds apart from one another and with an initial delay of i*10 to not start all of them at the same time\n            schedFut = pool.scheduleWithFixedDelay(new Task(client, uuid, mapRes), i * 10, 10000, TimeUnit.MILLISECONDS);\n\n            //Adding the ScheduledFuture to the map\n            mapTask.put(uuid, schedFut);\n        }\n\n        //Keep checking the outcome of each task until all of them have been canceled due to completion\n        while (!mapTasks.values().stream().allMatch(v -&gt; v.isCancelled())) {\n            for (Integer key : mapTasks.keySet()) {\n                //Canceling the i-th task scheduling if:\n                //  - Its result is positive (i.e. its verification is terminated)\n                //  - The task hasn't been canceled already\n                if (mapRes.get(key) &amp;&amp; !mapTasks.get(key).isCancelled()) {\n                    schedFut = mapTasks.get(key);\n                    schedFut.cancel(true);\n                }\n            }\n\n            //... eventually adding a sleep to check the completion every x seconds ...\n        }\n\n        pool.shutdown();\n    }\n}\n\nclass Task implements Runnable {\n\n    private final ReportClient client;\n    private final String uuid;\n\n    private final ConcurrentHashMap mapRes;\n\n    public Task(ReportClient client, String uuid, ConcurrentHashMap mapRes) {\n        this.client = client;\n        this.uuid = uuid;\n        this.mapRes = mapRes;\n    }\n\n    @Override\n    public void run() {\n        //This is taken form your code and I'm assuming that if it's not pending then it's completed\n        if (!Status.PENDING.equals(client.getStatus(uuid).status())) {\n            mapRes.replace(uuid, true);\n        }\n    }\n}\n</code></pre>\n<p>I've tested your case locally, by emulating a scenario where n <code>Tasks</code> wait for a folder with their same id to be created (or uuid in your case). I'll post it right here as a sample in case you'd like to try something simpler first.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ScheduledThreadPoolExecutor pool = (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(2);\n\n        ConcurrentHashMap&lt;Integer, Boolean&gt; mapRes = new ConcurrentHashMap&lt;&gt;();\n        for (int i = 0; i &lt; 16; i++) {\n            mapRes.put(i, false);\n        }\n\n        ScheduledFuture&lt;?&gt; schedFut;\n        Map&lt;Integer, ScheduledFuture&lt;?&gt;&gt; mapTasks = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; 16; i++) {\n            schedFut = pool.scheduleWithFixedDelay(new MyTask(i, mapRes), i * 20, 3000, TimeUnit.MILLISECONDS);\n            mapTasks.put(i, schedFut);\n        }\n\n        while (!mapTasks.values().stream().allMatch(v -&gt; v.isCancelled())) {\n            for (Integer key : mapTasks.keySet()) {\n                if (mapRes.get(key) &amp;&amp; !mapTasks.get(key).isCancelled()) {\n                    schedFut = mapTasks.get(key);\n                    schedFut.cancel(true);\n                }\n            }\n        }\n\n        pool.shutdown();\n    }\n}\n\nclass MyTask implements Runnable {\n    private int num;\n    private ConcurrentHashMap mapRes;\n\n    public MyTask(int num, ConcurrentHashMap mapRes) {\n        this.num = num;\n        this.mapRes = mapRes;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Task &quot; + num + &quot; is checking whether the folder exists: &quot; + Files.exists(Path.of(&quot;./&quot; + num)));\n        if (Files.exists(Path.of(&quot;./&quot; + num))) {\n            mapRes.replace(num, true);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13007999,"reputation":33,"user_id":9401964,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72427545,"answer_count":3,"score":3,"last_activity_date":1654162555,"creation_date":1653849969,"question_id":72426404,"body_markdown":"I have a thread pool with 8 threads\r\n\r\n```java\r\nprivate static final ExecutorService SERVICE = Executors.newFixedThreadPool(8);\r\n```\r\n\r\nMy mechanism emulating the work of 100 user (100 Tasks):\r\n\r\n```java\r\nList&lt;Callable&lt;Boolean&gt;&gt; callableTasks = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; 100; i++) { // Number of users == 100\r\n\tcallableTasks.add(new Task(client));\r\n}\r\nSERVICE.invokeAll(callableTasks);\r\nSERVICE.shutdown();\r\n```\r\n\r\nThe user performs the Task of generating a document.\r\n\r\n 1. Get UUID of Task;\r\n 2. Get Task status every 10 seconds;\r\n 3. If Task is ready get document.\r\n\r\n```java\r\npublic class Task implements Callable&lt;Boolean&gt; {\r\n\r\n    private final ReportClient client;\r\n\r\n    public Task(ReportClient client) {\r\n        this.client = client;\r\n    }\r\n\r\n    @Override\r\n    public Boolean call() {\r\n        final var uuid = client.createDocument(documentId);\r\n        GetStatusResponse status = null;\r\n        do {\r\n            try {\r\n                Thread.sleep(10000); // This stop current thread, but not a Task!!!!\r\n            } catch (InterruptedException e) {\r\n                return Boolean.FALSE;\r\n            }\r\n            status = client.getStatus(uuid);\r\n        } while (Status.PENDING.equals(status.status()));\r\n        final var document = client.getReport(uuid);\r\n        return Boolean.TRUE;\r\n    }\r\n}\r\n```\r\n\r\nI want to give the idle time (10 seconds) to another task. But when the command **Thread.sleep(10000);** is called, the current thread suspends its execution. First 8 Tasks are suspended and 92 Tasks are pending 10 seconds. How can I do 100 Tasks in progress at the same time?","title":"Execution of Tasks in ExecutorService without Thread pauses","body":"<p>I have a thread pool with 8 threads</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final ExecutorService SERVICE = Executors.newFixedThreadPool(8);\n</code></pre>\n<p>My mechanism emulating the work of 100 user (100 Tasks):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Callable&lt;Boolean&gt;&gt; callableTasks = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; 100; i++) { // Number of users == 100\n    callableTasks.add(new Task(client));\n}\nSERVICE.invokeAll(callableTasks);\nSERVICE.shutdown();\n</code></pre>\n<p>The user performs the Task of generating a document.</p>\n<ol>\n<li>Get UUID of Task;</li>\n<li>Get Task status every 10 seconds;</li>\n<li>If Task is ready get document.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Task implements Callable&lt;Boolean&gt; {\n\n    private final ReportClient client;\n\n    public Task(ReportClient client) {\n        this.client = client;\n    }\n\n    @Override\n    public Boolean call() {\n        final var uuid = client.createDocument(documentId);\n        GetStatusResponse status = null;\n        do {\n            try {\n                Thread.sleep(10000); // This stop current thread, but not a Task!!!!\n            } catch (InterruptedException e) {\n                return Boolean.FALSE;\n            }\n            status = client.getStatus(uuid);\n        } while (Status.PENDING.equals(status.status()));\n        final var document = client.getReport(uuid);\n        return Boolean.TRUE;\n    }\n}\n</code></pre>\n<p>I want to give the idle time (10 seconds) to another task. But when the command <strong>Thread.sleep(10000);</strong> is called, the current thread suspends its execution. First 8 Tasks are suspended and 92 Tasks are pending 10 seconds. How can I do 100 Tasks in progress at the same time?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1654067247,"post_id":72457543,"comment_id":128000580,"body_markdown":"Can you show how you are creating the consumer?","body":"Can you show how you are creating the consumer?"},{"owner":{"account_id":13789522,"reputation":67,"user_id":10857968,"display_name":"Raghav"},"score":0,"creation_date":1654067596,"post_id":72457543,"comment_id":128000681,"body_markdown":"Hi, i am using spring-kafka. I have added necessary edits.","body":"Hi, i am using spring-kafka. I have added necessary edits."},{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1654068137,"post_id":72457543,"comment_id":128000872,"body_markdown":"put a breakpoint on your print statement. Are you actually entering the listener, since no topics are actually put into the kafka listener annotation","body":"put a breakpoint on your print statement. Are you actually entering the listener, since no topics are actually put into the kafka listener annotation"},{"owner":{"account_id":13789522,"reputation":67,"user_id":10857968,"display_name":"Raghav"},"score":0,"creation_date":1654068266,"post_id":72457543,"comment_id":128000926,"body_markdown":"Hi, I actually removed the topic names but I am able to consume a message correctly from Kafka. I have edited some dummy variables for the same.","body":"Hi, I actually removed the topic names but I am able to consume a message correctly from Kafka. I have edited some dummy variables for the same."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1654091418,"post_id":72457543,"comment_id":128009287,"body_markdown":"You need to use Boot&#39;s auto configured meter registry instead of creating a new `SimpleMeterRegistry`.","body":"You need to use Boot&#39;s auto configured meter registry instead of creating a new <code>SimpleMeterRegistry</code>."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654091370,"creation_date":1654091370,"answer_id":72462992,"question_id":72457543,"body_markdown":"    cf.addListener(new MicrometerConsumerListener&lt;&gt;(new SimpleMeterRegistry()));\r\n\r\nYou are adding the meters to a different registry.\r\n\r\nUse Boot&#39;s auto-configured meter registry instead.","title":"spring-kafka metrics not available","body":"<pre><code>cf.addListener(new MicrometerConsumerListener&lt;&gt;(new SimpleMeterRegistry()));\n</code></pre>\n<p>You are adding the meters to a different registry.</p>\n<p>Use Boot's auto-configured meter registry instead.</p>\n"}],"owner":{"account_id":13789522,"reputation":67,"user_id":10857968,"display_name":"Raghav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72462992,"answer_count":1,"score":0,"last_activity_date":1654162552,"creation_date":1654066752,"question_id":72457543,"body_markdown":"I am using spring-kafka 2.8.1 and spring boot 2.6.7     \r\nI am able to get spring_kafka_listener metrics but not the kafka_consumer metrics[messages received, lag, offsets etc].    \r\nI am creating kafka consumer using DefaultKafkaConsumerFactory as below:\r\n\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, ...);\r\n    props.put(ConsumerConfig.CLIENT_ID_CONFIG, config.getConsumerName());\r\n    ........\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, config.getGroupId());\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, config.getKeyDeserializer());\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, config.getValueDeserializer());\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, config.getEnableAutoCommit());\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n\r\nI did went through the spring-kafka docs, I believe an addition of MicrometerConsumerListener is requried. But I am not able to make it work.    \r\nCan someone help in this? \r\nThanks!    \r\n\r\nEDIT:\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; \r\n      kafkaListenerContainerFactory() {\r\n   \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }         \r\n\r\n        @KafkaListener(topics = &quot;tempTopic&quot;, groupId = &quot;tempGroup&quot;)\r\n    public void listenGroup(String message) {\r\n        System.out.println(&quot;Received Message: &quot; + message);\r\n    }\r\n\r\n\r\nEDIT: \r\nI have tried using this config, but still not coming.\r\n\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, ...);\r\n    props.put(ConsumerConfig.CLIENT_ID_CONFIG, config.getConsumerName());\r\n    ........\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, config.getGroupId());\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, config.getKeyDeserializer());\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, config.getValueDeserializer());\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, config.getEnableAutoCommit());\r\n\r\n    ConsumerFactory&lt;Object,Object&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n    cf.addListener(new MicrometerConsumerListener&lt;&gt;(new SimpleMeterRegistry()));\r\n    return cf;\r\n\r\nEDIT:\r\n\r\n    \r\n    private MeterRegistry meterRegistry;\r\n\r\n    @Inject\r\n    public KafkaConfiguration(MeterRegistry meterRegsitry){\r\n    this.meterRegistry = meterRegistry;\r\n    }\r\n     {   props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, ...);\r\n        props.put(ConsumerConfig.CLIENT_ID_CONFIG, config.getConsumerName());\r\n        ........\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, config.getGroupId());\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, config.getKeyDeserializer());\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, config.getValueDeserializer());\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, config.getEnableAutoCommit());\r\n        \r\n    ConsumerFactory&lt;Object,Object&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n    cf.addListener(new MicrometerConsumerListener&lt;&gt;(meterRegistry));\r\n    return cf;\r\n    }\r\n\r\n","title":"spring-kafka metrics not available","body":"<p>I am using spring-kafka 2.8.1 and spring boot 2.6.7<br />\nI am able to get spring_kafka_listener metrics but not the kafka_consumer metrics[messages received, lag, offsets etc].<br />\nI am creating kafka consumer using DefaultKafkaConsumerFactory as below:</p>\n<pre><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, ...);\nprops.put(ConsumerConfig.CLIENT_ID_CONFIG, config.getConsumerName());\n........\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, config.getGroupId());\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, config.getKeyDeserializer());\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, config.getValueDeserializer());\nprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, config.getEnableAutoCommit());\nreturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\n</code></pre>\n<p>I did went through the spring-kafka docs, I believe an addition of MicrometerConsumerListener is requried. But I am not able to make it work.<br />\nCan someone help in this?\nThanks!</p>\n<p>EDIT:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; \n  kafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n      new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n}         \n\n    @KafkaListener(topics = &quot;tempTopic&quot;, groupId = &quot;tempGroup&quot;)\npublic void listenGroup(String message) {\n    System.out.println(&quot;Received Message: &quot; + message);\n}\n</code></pre>\n<p>EDIT:\nI have tried using this config, but still not coming.</p>\n<pre><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, ...);\nprops.put(ConsumerConfig.CLIENT_ID_CONFIG, config.getConsumerName());\n........\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, config.getGroupId());\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, config.getKeyDeserializer());\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, config.getValueDeserializer());\nprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, config.getEnableAutoCommit());\n\nConsumerFactory&lt;Object,Object&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(config);\ncf.addListener(new MicrometerConsumerListener&lt;&gt;(new SimpleMeterRegistry()));\nreturn cf;\n</code></pre>\n<p>EDIT:</p>\n<pre><code>private MeterRegistry meterRegistry;\n\n@Inject\npublic KafkaConfiguration(MeterRegistry meterRegsitry){\nthis.meterRegistry = meterRegistry;\n}\n {   props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, ...);\n    props.put(ConsumerConfig.CLIENT_ID_CONFIG, config.getConsumerName());\n    ........\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, config.getGroupId());\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, config.getKeyDeserializer());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, config.getValueDeserializer());\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, config.getEnableAutoCommit());\n    \nConsumerFactory&lt;Object,Object&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(config);\ncf.addListener(new MicrometerConsumerListener&lt;&gt;(meterRegistry));\nreturn cf;\n}\n</code></pre>\n"},{"tags":["java","web-services","rest","tomcat","jersey"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1401396696,"post_id":23942745,"comment_id":36879864,"body_markdown":"It probably belongs in request scope (see the JEE documentation)","body":"It probably belongs in request scope (see the JEE documentation)"}],"answers":[{"tags":[],"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401399679,"creation_date":1401399295,"answer_id":23943402,"question_id":23942745,"body_markdown":"You can store it in [ThreadLocal][1]. But you have to be careful with it. You would need to store it on receiving the request and clear it up when returning the response. You would probably want to write static utility methods to store and retrieve request id something like that: \r\n\r\n    public class RequestIdUtil {\r\n    \r\n    \tprivate static final ThreadLocal&lt;String&gt; requestIdHolder = new ThreadLocal&lt;String&gt;();\r\n    \r\n    \tprivate RequestIdUtil() {\r\n    \t\t// to prevent initialization\r\n    \t}\r\n    \r\n    \tpublic static void setRequestId(String requestId) {\r\n    \t\trequestIdHolder.set(requestId);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @return requestId\r\n    \t *         \r\n    \t */\r\n    \tpublic static String getRequestId() {\r\n    \t\treturn requestIdHolder.get();\r\n    \t}\r\n    \r\n    \tpublic static void remove() {\r\n    \t\trequestIdHolder.remove();\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nIn this example remove needs to be called in the end of processing of every request even if Exception is thrown. \r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html","title":"Where should I store a variable that I want to access throughout my Tomcat REST ws?","body":"<p>You can store it in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow\">ThreadLocal</a>. But you have to be careful with it. You would need to store it on receiving the request and clear it up when returning the response. You would probably want to write static utility methods to store and retrieve request id something like that: </p>\n\n<pre><code>public class RequestIdUtil {\n\n    private static final ThreadLocal&lt;String&gt; requestIdHolder = new ThreadLocal&lt;String&gt;();\n\n    private RequestIdUtil() {\n        // to prevent initialization\n    }\n\n    public static void setRequestId(String requestId) {\n        requestIdHolder.set(requestId);\n    }\n\n    /**\n     * \n     * @return requestId\n     *         \n     */\n    public static String getRequestId() {\n        return requestIdHolder.get();\n    }\n\n    public static void remove() {\n        requestIdHolder.remove();\n    }\n\n\n\n}\n</code></pre>\n\n<p>In this example remove needs to be called in the end of processing of every request even if Exception is thrown. </p>\n"}],"owner":{"account_id":1407377,"reputation":2707,"user_id":1334713,"accept_rate":89,"display_name":"Silent User"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654162323,"creation_date":1401396552,"question_id":23942745,"body_markdown":"I have a REST web service running in Tomcat version 7 using Jersey 1.18. Each request that comes in has a custom header called &#39;request-id&#39;. I would like to store this request id in some place so that all classes have access to this request id and can use it for logging.\r\n\r\nThe main thing is, this has to be on a per request basis. The request-id for request A is different than that of request B.\r\n\r\nWhere can I store such a variable? Some sort of a Context which is valid on a per request basis.\r\n","title":"Where should I store a variable that I want to access throughout my Tomcat REST ws?","body":"<p>I have a REST web service running in Tomcat version 7 using Jersey 1.18. Each request that comes in has a custom header called 'request-id'. I would like to store this request id in some place so that all classes have access to this request id and can use it for logging.</p>\n<p>The main thing is, this has to be on a per request basis. The request-id for request A is different than that of request B.</p>\n<p>Where can I store such a variable? Some sort of a Context which is valid on a per request basis.</p>\n"},{"tags":["java","arrays","file","split"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654151084,"post_id":72471497,"comment_id":128023829,"body_markdown":"&quot;but it doesn&#39;t work&quot; Can you be more specific there? What result did you expect? What result did you get? Do you get an error? have you tried debugging your code?","body":"&quot;but it doesn&#39;t work&quot; Can you be more specific there? What result did you expect? What result did you get? Do you get an error? have you tried debugging your code?"},{"owner":{"account_id":24846776,"reputation":1,"user_id":18724228,"display_name":"Bella"},"score":0,"creation_date":1654151161,"post_id":72471497,"comment_id":128023856,"body_markdown":"@Stultuske I got indexoutofBound execption on the line with \ncategory = bookText[1].split(&quot;: &quot;)[1]; \nIf I remeber right.","body":"@Stultuske I got indexoutofBound execption on the line with  category = bookText[1].split(&quot;: &quot;)[1];  If I remeber right."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654151559,"post_id":72471497,"comment_id":128023987,"body_markdown":"&quot;If I remember right&quot;, just copy paste the error. IndexOutOfBounds means you are trying to get an element that doesn&#39;t exist. Might be bookText[1], might be the result of that split[1].","body":"&quot;If I remember right&quot;, just copy paste the error. IndexOutOfBounds means you are trying to get an element that doesn&#39;t exist. Might be bookText[1], might be the result of that split[1]."},{"owner":{"account_id":24846776,"reputation":1,"user_id":18724228,"display_name":"Bella"},"score":0,"creation_date":1654152036,"post_id":72471497,"comment_id":128024155,"body_markdown":"@Stultuske I got &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1&quot; at category = bookText[1].split(&quot;: &quot;)[1];","body":"@Stultuske I got &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1&quot; at category = bookText[1].split(&quot;: &quot;)[1];"},{"owner":{"account_id":15290196,"reputation":213,"user_id":11031940,"display_name":"Clifford Cheefoon"},"score":2,"creation_date":1654152196,"post_id":72471497,"comment_id":128024202,"body_markdown":"The main issue here is that you are reading the files one line at a time, but you are processing content as if you are reading one book at a time.\n\nYour code should have the following steps:\n\n1.Read the ENTIRE file into a string\n\n2. Separate the string from step 1 into an array of strings, each string in the array representing data for one book.\n\n3. For each book string, evaluate the different properties and create its BookClass equivalent.","body":"The main issue here is that you are reading the files one line at a time, but you are processing content as if you are reading one book at a time.  Your code should have the following steps:  1.Read the ENTIRE file into a string  2. Separate the string from step 1 into an array of strings, each string in the array representing data for one book.  3. For each book string, evaluate the different properties and create its BookClass equivalent."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654152306,"post_id":72471497,"comment_id":128024243,"body_markdown":"@Bella that error says it all: you are trying to get the second element of an array that only contains one element","body":"@Bella that error says it all: you are trying to get the second element of an array that only contains one element"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1654152341,"post_id":72471497,"comment_id":128024258,"body_markdown":"The last field of your input data, `itemsInStock` is inconsistent, using one character (COLON) as a delimiter rather than two (COLON &amp; SPACE). Is that correct, or is that a typo?","body":"The last field of your input data, <code>itemsInStock</code> is inconsistent, using one character (COLON) as a delimiter rather than two (COLON &amp; SPACE). Is that correct, or is that a typo?"},{"owner":{"account_id":24846776,"reputation":1,"user_id":18724228,"display_name":"Bella"},"score":0,"creation_date":1654158070,"post_id":72471497,"comment_id":128026040,"body_markdown":"Thank you very much @Clifford Cheefoon First I will try to find out how I should do to read the ENTIRE file into a string. And then how to do the other steps.","body":"Thank you very much @Clifford Cheefoon First I will try to find out how I should do to read the ENTIRE file into a string. And then how to do the other steps."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654153861,"creation_date":1654152692,"answer_id":72471860,"question_id":72471497,"body_markdown":"# Faulty index numbering\r\n\r\nOne specific problem is that your index counting is incorrect. Rather than use indexes of 0 to 7, you use 0 to 8 while skipping # 6.\r\n\r\n# Alternative implementation\r\n\r\nHere is my implementation. A bit more concise and simpler, though basically the same idea as yours. I assume the entire data file can fit in memory.\r\n\r\nLet&#39;s define your input data as a string, for simplicity.\r\n\r\nI corrected the last field of each book to use a COLON SPACE as delimiter rather than just COLON. \r\n\r\n```java\r\nString input =\r\n        &quot;&quot;&quot;\r\n        ISBN: 9781119846475\r\n        category: Computers\r\n        author: Andy Rathbone\r\n        title: Windows 11 For Dummies\r\n        language: English\r\n        pages: 464\r\n        price: 25\r\n        itemsInStock: 24\r\n                        \r\n        ISBN: 9781118506851\r\n        category: Music\r\n        author: Alistair Wood\r\n        title: Ukulele Exercises For Dummies\r\n        language: English\r\n        pages: 272\r\n        price: 23\r\n        itemsInStock: 5\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nDefine a class as a [record][1] to hold the data parsed from each book entry.\r\n\r\n```java\r\nrecord Book(\r\n        String isbn ,\r\n        String category ,\r\n        String author ,\r\n        String title ,\r\n        String language ,\r\n        int pages ,\r\n        BigDecimal price ,\r\n        int itemsInStock\r\n\r\n) { }\r\n```\r\n\r\nSplit the overall input string into an array of strings. Each string represents one book.\r\n\r\n```java\r\nString[] bookInputs = input.split( &quot;\\n\\n&quot; );\r\n```\r\n\r\nMake a list where we will store our resulting `Book` objects.\r\n\r\n```java\r\nList &lt; Book &gt; books = new ArrayList &lt;&gt;( bookInputs.length );\r\n```\r\n\r\nGive a name to the COLON &amp; SPACE characters delimiting the key-value pair in each line.\r\n\r\n```java\r\nfinal String FIELD_DELIMITER = &quot;: &quot;;\r\n```\r\n\r\nLoop each book entry string. Split into individual lines.\r\n\r\nEach line is a key-value pairing, delimited by a pair of characters, COLON &amp; SPACE. So split on that pair. We always want the second item of that pair. With annoying zero-based index counting, that means we always want index `1`. \r\n\r\n```java\r\nfor ( String bookInput : bookInputs )\r\n{\r\n    String[] lines = bookInput.split( &quot;\\n&quot; );\r\n    Book book =\r\n            new Book(\r\n                    lines[ 0 ].split( FIELD_DELIMITER )[ 1 ] ,\r\n                    lines[ 1 ].split( FIELD_DELIMITER )[ 1 ] ,\r\n                    lines[ 2 ].split( FIELD_DELIMITER )[ 1 ] ,\r\n                    lines[ 3 ].split( FIELD_DELIMITER )[ 1 ] ,\r\n                    lines[ 4 ].split( FIELD_DELIMITER )[ 1 ] ,\r\n                    Integer.parseInt( lines[ 5 ].split( FIELD_DELIMITER )[ 1 ] ) ,\r\n                    new BigDecimal( lines[ 6 ].split( FIELD_DELIMITER )[ 1 ] ) ,\r\n                    Integer.parseInt( lines[ 7 ].split( FIELD_DELIMITER )[ 1 ] )\r\n            );\r\n    books.add( book );\r\n}\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;books = &quot; + books );\r\n```\r\n\r\n&gt;books = [Book[isbn=9781119846475, category=Computers, author=Andy Rathbone, title=Windows 11 For Dummies, language=English, pages=464, price=25, itemsInStock=24], Book[isbn=9781118506851, category=Music, author=Alistair Wood, title=Ukulele Exercises For Dummies, language=English, pages=272, price=23, itemsInStock=5]]\r\n\r\nThis code is for demonstration only. In real work I would do a bunch of data validation. \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"How to split text from file into an array","body":"<h1>Faulty index numbering</h1>\n<p>One specific problem is that your index counting is incorrect. Rather than use indexes of 0 to 7, you use 0 to 8 while skipping # 6.</p>\n<h1>Alternative implementation</h1>\n<p>Here is my implementation. A bit more concise and simpler, though basically the same idea as yours. I assume the entire data file can fit in memory.</p>\n<p>Let's define your input data as a string, for simplicity.</p>\n<p>I corrected the last field of each book to use a COLON SPACE as delimiter rather than just COLON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input =\n        &quot;&quot;&quot;\n        ISBN: 9781119846475\n        category: Computers\n        author: Andy Rathbone\n        title: Windows 11 For Dummies\n        language: English\n        pages: 464\n        price: 25\n        itemsInStock: 24\n                        \n        ISBN: 9781118506851\n        category: Music\n        author: Alistair Wood\n        title: Ukulele Exercises For Dummies\n        language: English\n        pages: 272\n        price: 23\n        itemsInStock: 5\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Define a class as a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> to hold the data parsed from each book entry.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Book(\n        String isbn ,\n        String category ,\n        String author ,\n        String title ,\n        String language ,\n        int pages ,\n        BigDecimal price ,\n        int itemsInStock\n\n) { }\n</code></pre>\n<p>Split the overall input string into an array of strings. Each string represents one book.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] bookInputs = input.split( &quot;\\n\\n&quot; );\n</code></pre>\n<p>Make a list where we will store our resulting <code>Book</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Book &gt; books = new ArrayList &lt;&gt;( bookInputs.length );\n</code></pre>\n<p>Give a name to the COLON &amp; SPACE characters delimiting the key-value pair in each line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String FIELD_DELIMITER = &quot;: &quot;;\n</code></pre>\n<p>Loop each book entry string. Split into individual lines.</p>\n<p>Each line is a key-value pairing, delimited by a pair of characters, COLON &amp; SPACE. So split on that pair. We always want the second item of that pair. With annoying zero-based index counting, that means we always want index <code>1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( String bookInput : bookInputs )\n{\n    String[] lines = bookInput.split( &quot;\\n&quot; );\n    Book book =\n            new Book(\n                    lines[ 0 ].split( FIELD_DELIMITER )[ 1 ] ,\n                    lines[ 1 ].split( FIELD_DELIMITER )[ 1 ] ,\n                    lines[ 2 ].split( FIELD_DELIMITER )[ 1 ] ,\n                    lines[ 3 ].split( FIELD_DELIMITER )[ 1 ] ,\n                    lines[ 4 ].split( FIELD_DELIMITER )[ 1 ] ,\n                    Integer.parseInt( lines[ 5 ].split( FIELD_DELIMITER )[ 1 ] ) ,\n                    new BigDecimal( lines[ 6 ].split( FIELD_DELIMITER )[ 1 ] ) ,\n                    Integer.parseInt( lines[ 7 ].split( FIELD_DELIMITER )[ 1 ] )\n            );\n    books.add( book );\n}\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;books = &quot; + books );\n</code></pre>\n<blockquote>\n<p>books = [Book[isbn=9781119846475, category=Computers, author=Andy Rathbone, title=Windows 11 For Dummies, language=English, pages=464, price=25, itemsInStock=24], Book[isbn=9781118506851, category=Music, author=Alistair Wood, title=Ukulele Exercises For Dummies, language=English, pages=272, price=23, itemsInStock=5]]</p>\n</blockquote>\n<p>This code is for demonstration only. In real work I would do a bunch of data validation.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654162197,"creation_date":1654162197,"answer_id":72473917,"question_id":72471497,"body_markdown":"As its name implies, `reader.readLine()` reads one line of text, so there is no `&quot;\\n&quot;` in the line that it returns.\r\n\r\nI would do something like this:\r\n\r\n    private static final Pattern RE = Pattern.compile(&quot;^\\\\s*([^\\\\s:]+)\\\\s*:\\\\s*(.+)$&quot;);\r\n\r\n...\r\n\r\n        List&lt;BookClass&gt; bookList = new ArrayList&lt;&gt;();\r\n        String bookInfo = &quot;books.txt&quot;;\r\n        try (FileInputStream stream = new FileInputStream(bookInfo);\r\n                Reader reader = new InputStreamReader(stream, &quot;UTF-8&quot;);\r\n                    BufferedReader in = new BufferedReader(reader)) {\r\n            Map&lt;String,String&gt; currentBook = new HashMap&lt;&gt;();\r\n            String line;            \r\n            while ((line = in.readLine()) != null) {\r\n                if (line.trim().length() == 0) {\r\n                    // empty line: record separator\r\n                    if (!currentBook.isEmpty()) {\r\n                        BookClass bookObj = makeBook(currentBook);\r\n                        bookList.add(bookObj);\r\n                        currentBook.clear();\r\n                    }\r\n                } else {\r\n                    Matcher matcher = RE.matcher(line);\r\n                    if (matcher.matches()) {\r\n                        currentBook.put(matcher.group(1), matcher.group(2));\r\n                    }\r\n                }\r\n            }\r\n            if (!currentBook.isEmpty()) {\r\n                BookClass bookObj = makeBook(currentBook);\r\n                bookList.add(bookObj);\r\n            }\r\n            System.out.println(bookList);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n...\r\n\r\n    private static BookClass makeBook(Map&lt;String, String&gt; currentBook) {\r\n        BookClass bookObj = new BookClass(\r\n                currentBook.get(&quot;ISBN&quot;),\r\n                currentBook.get(&quot;category&quot;),\r\n                currentBook.get(&quot;author&quot;),\r\n                currentBook.get(&quot;title&quot;),\r\n                currentBook.get(&quot;language&quot;),\r\n                Integer.parseInt(currentBook.get(&quot;pages&quot;)),\r\n                Double.parseDouble(currentBook.get(&quot;price&quot;)),\r\n                Integer.parseInt(currentBook.get(&quot;itemsInStock&quot;)));\r\n        return bookObj;\r\n    }\r\n","title":"How to split text from file into an array","body":"<p>As its name implies, <code>reader.readLine()</code> reads one line of text, so there is no <code>&quot;\\n&quot;</code> in the line that it returns.</p>\n<p>I would do something like this:</p>\n<pre><code>private static final Pattern RE = Pattern.compile(&quot;^\\\\s*([^\\\\s:]+)\\\\s*:\\\\s*(.+)$&quot;);\n</code></pre>\n<p>...</p>\n<pre><code>    List&lt;BookClass&gt; bookList = new ArrayList&lt;&gt;();\n    String bookInfo = &quot;books.txt&quot;;\n    try (FileInputStream stream = new FileInputStream(bookInfo);\n            Reader reader = new InputStreamReader(stream, &quot;UTF-8&quot;);\n                BufferedReader in = new BufferedReader(reader)) {\n        Map&lt;String,String&gt; currentBook = new HashMap&lt;&gt;();\n        String line;            \n        while ((line = in.readLine()) != null) {\n            if (line.trim().length() == 0) {\n                // empty line: record separator\n                if (!currentBook.isEmpty()) {\n                    BookClass bookObj = makeBook(currentBook);\n                    bookList.add(bookObj);\n                    currentBook.clear();\n                }\n            } else {\n                Matcher matcher = RE.matcher(line);\n                if (matcher.matches()) {\n                    currentBook.put(matcher.group(1), matcher.group(2));\n                }\n            }\n        }\n        if (!currentBook.isEmpty()) {\n            BookClass bookObj = makeBook(currentBook);\n            bookList.add(bookObj);\n        }\n        System.out.println(bookList);\n    } catch (IOException ex) {\n        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n<p>...</p>\n<pre><code>private static BookClass makeBook(Map&lt;String, String&gt; currentBook) {\n    BookClass bookObj = new BookClass(\n            currentBook.get(&quot;ISBN&quot;),\n            currentBook.get(&quot;category&quot;),\n            currentBook.get(&quot;author&quot;),\n            currentBook.get(&quot;title&quot;),\n            currentBook.get(&quot;language&quot;),\n            Integer.parseInt(currentBook.get(&quot;pages&quot;)),\n            Double.parseDouble(currentBook.get(&quot;price&quot;)),\n            Integer.parseInt(currentBook.get(&quot;itemsInStock&quot;)));\n    return bookObj;\n}\n</code></pre>\n"}],"owner":{"account_id":24846776,"reputation":1,"user_id":18724228,"display_name":"Bella"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654162197,"creation_date":1654150620,"question_id":72471497,"body_markdown":"I want to read from a text file which contains information about books. The information about the book should be put in an array. I understand I need to split.  \r\n\r\nThe content in the text file looks like:\r\n```none\r\nISBN: 9781119846475\r\ncategory: Computers\r\nauthor: Andy Rathbone\r\ntitle: Windows 11 For Dummies\r\nlanguage: English\r\npages: 464\r\nprice: 25\r\nitemsInStock:24\r\n\r\nISBN: 9781118506851\r\ncategory: Music\r\nauthor: Alistair Wood\r\ntitle: Ukulele Exercises For Dummies\r\nlanguage: English\r\npages: 272\r\nprice: 23\r\nitemsInStock:5\r\n```\r\n\r\nI have tried something like this, but it doesn&#39;t work and I feel I&#39;m thinking wrong.\r\n```java\r\nBookClass bookArray [] = new BookClass[10];\r\ntry {\r\n    String bookInfo = &quot;books.txt&quot;;\r\n    String line =&quot;&quot;;\t\t\t\r\n    BufferedReader reader = new BufferedReader(new FileReader (bookInfo));\r\n            \r\n    while ((line = reader.readLine()) != null) {\t\r\n        String[] bookText = line.split(&quot;//n &quot;);\t\t\r\n        ISBN = bookText[0].split(&quot;: &quot;)[1];\t\t\r\n        category = bookText[1].split(&quot;: &quot;)[1];\r\n        author = bookText[2].split(&quot;: &quot;)[1];\r\n        title = bookText[3].split(&quot;: &quot;)[1];\r\n        language = bookText[4].split(&quot;: &quot;)[1];\r\n\t\tpages = bookText[5].split(&quot;: &quot;)\r\n        price =  Integer.parseInt(bookText[7].split(&quot;: &quot;)[1]);\r\n        itemesInStock =  Integer.parseInt(bookText[8].split(&quot;: &quot;)[1]);\r\n\r\n        BookClass bookObj = new BookClass(ISBN, category, author, title, language, pages,         \t\t\t \r\n                                        price, itemesInStock);\r\n        bookArray[counter] = bookObj;\r\n        counter += 1;\r\n    }\r\n    reader.close();\r\n}\r\n```\r\n","title":"How to split text from file into an array","body":"<p>I want to read from a text file which contains information about books. The information about the book should be put in an array. I understand I need to split.</p>\n<p>The content in the text file looks like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ISBN: 9781119846475\ncategory: Computers\nauthor: Andy Rathbone\ntitle: Windows 11 For Dummies\nlanguage: English\npages: 464\nprice: 25\nitemsInStock:24\n\nISBN: 9781118506851\ncategory: Music\nauthor: Alistair Wood\ntitle: Ukulele Exercises For Dummies\nlanguage: English\npages: 272\nprice: 23\nitemsInStock:5\n</code></pre>\n<p>I have tried something like this, but it doesn't work and I feel I'm thinking wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BookClass bookArray [] = new BookClass[10];\ntry {\n    String bookInfo = &quot;books.txt&quot;;\n    String line =&quot;&quot;;            \n    BufferedReader reader = new BufferedReader(new FileReader (bookInfo));\n            \n    while ((line = reader.readLine()) != null) {    \n        String[] bookText = line.split(&quot;//n &quot;);     \n        ISBN = bookText[0].split(&quot;: &quot;)[1];      \n        category = bookText[1].split(&quot;: &quot;)[1];\n        author = bookText[2].split(&quot;: &quot;)[1];\n        title = bookText[3].split(&quot;: &quot;)[1];\n        language = bookText[4].split(&quot;: &quot;)[1];\n        pages = bookText[5].split(&quot;: &quot;)\n        price =  Integer.parseInt(bookText[7].split(&quot;: &quot;)[1]);\n        itemesInStock =  Integer.parseInt(bookText[8].split(&quot;: &quot;)[1]);\n\n        BookClass bookObj = new BookClass(ISBN, category, author, title, language, pages,                    \n                                        price, itemesInStock);\n        bookArray[counter] = bookObj;\n        counter += 1;\n    }\n    reader.close();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1654161911,"post_id":72473824,"comment_id":128027265,"body_markdown":"As [documented](https://docs.oracle.com/javase/10/docs/api/java/io/BufferedReader.html#readLine()), `BufferedReader` returns null at the end of the stream - in this case, if the socket has been closed. You haven&#39;t presented us enough context to know why that would be unexpected.","body":"As <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">documented</a>, <code>BufferedReader</code> returns null at the end of the stream - in this case, if the socket has been closed. You haven&#39;t presented us enough context to know why that would be unexpected."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654162063,"post_id":72473824,"comment_id":128027315,"body_markdown":"Also it is *never* a good idea to not do anything with the Exception that was caught in a `catch` block. At least call `e.printStackTrace()`.","body":"Also it is <i>never</i> a good idea to not do anything with the Exception that was caught in a <code>catch</code> block. At least call <code>e.printStackTrace()</code>."},{"owner":{"account_id":23094201,"reputation":29,"user_id":19240077,"display_name":"David Shamsani"},"score":0,"creation_date":1654162154,"post_id":72473824,"comment_id":128027350,"body_markdown":"I have 1000 lines of code there, the problem is only in this place, this is the button to which we assign the action. I&#39;m not closing the socket in the code, it&#39;s a separate method","body":"I have 1000 lines of code there, the problem is only in this place, this is the button to which we assign the action. I&#39;m not closing the socket in the code, it&#39;s a separate method"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1654162794,"post_id":72473824,"comment_id":128027557,"body_markdown":"It would be the *other end* of the connection that&#39;s closing the socket. No-one is suggesting that you post 1000 lines of code, but you haven&#39;t explained enough about the app to tell us why you think it&#39;s unreasonable for `BufferedReader.readLine` to return null.","body":"It would be the <i>other end</i> of the connection that&#39;s closing the socket. No-one is suggesting that you post 1000 lines of code, but you haven&#39;t explained enough about the app to tell us why you think it&#39;s unreasonable for <code>BufferedReader.readLine</code> to return null."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654162880,"post_id":72473824,"comment_id":128027583,"body_markdown":"As @JonSkeet says, you need `while ((msgFromServ = br.readLine()) != null &amp;&amp; !(msgFromServer.equals(&quot;exit&quot;)))`","body":"As @JonSkeet says, you need <code>while ((msgFromServ = br.readLine()) != null &amp;&amp; !(msgFromServer.equals(&quot;exit&quot;)))</code>"}],"owner":{"account_id":23094201,"reputation":29,"user_id":19240077,"display_name":"David Shamsani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654161892,"creation_date":1654161789,"question_id":72473824,"body_markdown":"BufferedReader returns null and i don&#39;t understand why.\r\nI have a ClientServer app with GUI interface and it works good, but in this method\r\nidk why in loop msgFromServer has value = null because br.readline() returns it.\r\n\r\n          try {\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(sock.getInputStream()));\r\n            PrintWriter pw = new PrintWriter(sock.getOutputStream(), true);\r\n            pw.println(&quot;refreshRoomOnClient&quot;); \r\n            countClientInRoomFromServer = br.readLine(); \r\n            lblCountClientInRoom.setText(&quot;Clients in the room: &quot; + countClientInRoomFromServer);\r\n            pw.println(txtNameRoom.getText());\r\n            listModelRoom.removeAllElements();\r\n            int size_listModelRoom = listModelRoom.size();\r\n            String msgFromServ;\r\n              while (!&quot;exit&quot;.equals(msgFromServ = br.readLine())) {\r\n                System.out.println(msgFromServ);\r\n                if (&quot;Cant find File&quot;.equals(msgFromServ)) {\r\n                    txtLogs.append(&quot;Can&#39;t find files&quot; + &quot;\\n&quot;);\r\n                    break;\r\n                } else if (&quot;error&quot;.equals(msgFromServ)) {\r\n                    txtLogs.append(&quot;Error reading&quot; + &quot;\\n&quot;);\r\n                    break;\r\n                }\r\n                listModelRoom.insertElementAt(msgFromServ, size_listModelRoom);\r\n            }\r\n          } catch (IOException ex) {\r\n            txtLogs.append(&quot;btnRefreshCountClientInRoomActionPerformed...&quot; + &quot;\\n&quot;);\r\n        }","title":"BufferedReader.readline() returns null","body":"<p>BufferedReader returns null and i don't understand why.\nI have a ClientServer app with GUI interface and it works good, but in this method\nidk why in loop msgFromServer has value = null because br.readline() returns it.</p>\n<pre><code>      try {\n        BufferedReader br = new BufferedReader(new InputStreamReader(sock.getInputStream()));\n        PrintWriter pw = new PrintWriter(sock.getOutputStream(), true);\n        pw.println(&quot;refreshRoomOnClient&quot;); \n        countClientInRoomFromServer = br.readLine(); \n        lblCountClientInRoom.setText(&quot;Clients in the room: &quot; + countClientInRoomFromServer);\n        pw.println(txtNameRoom.getText());\n        listModelRoom.removeAllElements();\n        int size_listModelRoom = listModelRoom.size();\n        String msgFromServ;\n          while (!&quot;exit&quot;.equals(msgFromServ = br.readLine())) {\n            System.out.println(msgFromServ);\n            if (&quot;Cant find File&quot;.equals(msgFromServ)) {\n                txtLogs.append(&quot;Can't find files&quot; + &quot;\\n&quot;);\n                break;\n            } else if (&quot;error&quot;.equals(msgFromServ)) {\n                txtLogs.append(&quot;Error reading&quot; + &quot;\\n&quot;);\n                break;\n            }\n            listModelRoom.insertElementAt(msgFromServ, size_listModelRoom);\n        }\n      } catch (IOException ex) {\n        txtLogs.append(&quot;btnRefreshCountClientInRoomActionPerformed...&quot; + &quot;\\n&quot;);\n    }\n</code></pre>\n"},{"tags":["java","json","spring","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":9661816,"reputation":11,"user_id":7169633,"display_name":"AlbiKai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654090783,"creation_date":1654090686,"answer_id":72462801,"question_id":72462714,"body_markdown":"You can create a wrapper class that match the json response : an object with only one  attribute named &quot;data&quot; type of desire final class (or a list) and use it in the exchange method.\r\n\r\n    public class wrapper {\r\n        \r\n        YourClass data;\r\n    }\r\n\r\n","title":"How can I associate JSON object of the api response to java classes when having the intermediate json &quot;data&quot; attribute?","body":"<p>You can create a wrapper class that match the json response : an object with only one  attribute named &quot;data&quot; type of desire final class (or a list) and use it in the exchange method.</p>\n<pre><code>public class wrapper {\n    \n    YourClass data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18829197,"reputation":1,"user_id":13733400,"display_name":"Baptiste Houques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654161783,"creation_date":1654161783,"answer_id":72473821,"question_id":72462714,"body_markdown":"I gave up with the Wrapper etc...\r\nI just pass a String class and work with it in my controllers to delete this &quot;data&quot; property and map the string with a class.\r\n\r\nService : \r\n\r\n        public String callAPI(String url, HttpMethod httpMethod, Object body, MultiValueMap&lt;String, String&gt; headers) {\r\n            final RestTemplate rt = new RestTemplate();\r\n            try {\r\n                HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n                rt.setRequestFactory(requestFactory);\r\n                final HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n                final ResponseEntity&lt;String&gt; response = rt.exchange(url, httpMethod, request, String.class);\r\n                if (response.getStatusCode().equals(HttpStatus.OK)) {\r\n                    return response.getBody();\r\n                }\r\n                else return response.getStatusCode().toString();\r\n            } catch (final Exception e) {\r\n                System.out.println(e);\r\n                return null;\r\n            }\r\n        }\r\n\r\nOne controller :\r\n\r\n        public List&lt;BlocInformation&gt; getBlocInformation() {\r\n            String url = &quot;http://localhost:8055/items/bloc_information/?fields=*,Erreur_Bloc.*&quot;;\r\n            final RestAPIService blocService = new RestAPIService();\r\n            String response = blocService.callAPI(url, HttpMethod.GET, null, null);\r\n            if (response != null) {\r\n                String result = response.substring(8, response.length() - 1);\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                List&lt;BlocInformation&gt; blocInformationList = null;\r\n                try {\r\n                    blocInformationList = Arrays.asList(mapper.readValue(result, BlocInformation[].class));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return blocInformationList;\r\n            }\r\n            return null;\r\n        }","title":"How can I associate JSON object of the api response to java classes when having the intermediate json &quot;data&quot; attribute?","body":"<p>I gave up with the Wrapper etc...\nI just pass a String class and work with it in my controllers to delete this &quot;data&quot; property and map the string with a class.</p>\n<p>Service :</p>\n<pre><code>    public String callAPI(String url, HttpMethod httpMethod, Object body, MultiValueMap&lt;String, String&gt; headers) {\n        final RestTemplate rt = new RestTemplate();\n        try {\n            HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n            rt.setRequestFactory(requestFactory);\n            final HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(body, headers);\n            final ResponseEntity&lt;String&gt; response = rt.exchange(url, httpMethod, request, String.class);\n            if (response.getStatusCode().equals(HttpStatus.OK)) {\n                return response.getBody();\n            }\n            else return response.getStatusCode().toString();\n        } catch (final Exception e) {\n            System.out.println(e);\n            return null;\n        }\n    }\n</code></pre>\n<p>One controller :</p>\n<pre><code>    public List&lt;BlocInformation&gt; getBlocInformation() {\n        String url = &quot;http://localhost:8055/items/bloc_information/?fields=*,Erreur_Bloc.*&quot;;\n        final RestAPIService blocService = new RestAPIService();\n        String response = blocService.callAPI(url, HttpMethod.GET, null, null);\n        if (response != null) {\n            String result = response.substring(8, response.length() - 1);\n            ObjectMapper mapper = new ObjectMapper();\n            List&lt;BlocInformation&gt; blocInformationList = null;\n            try {\n                blocInformationList = Arrays.asList(mapper.readValue(result, BlocInformation[].class));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return blocInformationList;\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":18829197,"reputation":1,"user_id":13733400,"display_name":"Baptiste Houques"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72473821,"answer_count":2,"score":0,"last_activity_date":1654161783,"creation_date":1654090231,"question_id":72462714,"body_markdown":"Thank you for clicking here.\r\nI have an JSON REST API (providing by Directus CMS). All API responses contains a json object with a &quot;data&quot; attribute containing what I want.\r\n\r\n    {\r\n        &quot;data&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;status&quot;: &quot;published&quot;,\r\n            &quot;sort&quot;: null,\r\n            &quot;user_created&quot;: &quot;5a91c184-908d-465e-a7d5-4b648029bbe0&quot;,\r\n            &quot;date_created&quot;: &quot;2022-04-26T09:43:37.000Z&quot;,\r\n            &quot;user_updated&quot;: &quot;5a91c184-908d-465e-a7d5-4b648029bbe0&quot;,\r\n            &quot;date_updated&quot;: &quot;2022-05-30T14:23:50.000Z&quot;,\r\n            &quot;Titre&quot;: &quot;R&#233;seaux Sociaux&quot;,\r\n            &quot;Description&quot;: &quot;Retrouvez les derni&#232;res news en direct sur nos r&#233;seaux sociaux!&quot;,\r\n            &quot;Lien&quot;: &quot;https://www.instagram.com/univlorraine/&quot;,\r\n            &quot;ImageArrierePlan&quot;: &quot;f23ffd53-7244-4439-a8cf-41bd0fd3aa72&quot;,\r\n            &quot;Erreur_Bloc&quot;: null\r\n        }\r\n    }\r\n\r\nThis data attribute can be a object or a list of objects depending the request.\r\n\r\nI have a Java Spring application with a service consuming the API. I&#39;m using RestTemplate with exchange method.\r\n\r\n    public Object callAPI(String url, HttpMethod httpMethod, Object body, MultiValueMap&lt;String, String&gt; headers, Class&lt;?&gt; classe) {\r\n        final RestTemplate rt = new RestTemplate();\r\n        try {\r\n            HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n            rt.setRequestFactory(requestFactory);\r\n            final HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n            final ResponseEntity&lt;?&gt; response = rt.exchange(url, httpMethod, request, classe);\r\n            if (response.getStatusCode().equals(HttpStatus.OK)) {\r\n                return response.getBody();\r\n            }\r\n            else return response.getStatusCode();\r\n        } catch (final Exception e) {\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\nIn the exchange method I pass an existing class to directly link response data with the provided class.\r\nThe probleme is that I have this data attribute which prevents me from linking the data.\r\n\r\nDoes anyone have a solution to this probleme please?\r\n\r\n**----UPDATE----**\r\n\r\nThanks to the response of AlbiKai, I created a generic Wrapper class :\r\n\r\n    public class Wrapper&lt;T&gt; {\r\n        private T data;\r\n\r\n        public void set(T data) {\r\n            this.data = data;\r\n        }\r\n\r\n        public T get() {\r\n            return data;\r\n        }\r\n    }\r\n\r\nI then tried to put this Wrapper in the exchange :\r\n\r\n        public &lt;classe&gt; Object callAPI(String url, HttpMethod httpMethod, Object body, MultiValueMap&lt;String, String&gt; headers, Class&lt;?&gt; classe) {\r\n            final RestTemplate rt = new RestTemplate();\r\n            try {\r\n                HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n                rt.setRequestFactory(requestFactory);\r\n                final HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n                final ResponseEntity&lt;?&gt; response = rt.exchange(url, httpMethod, request, Wrapper&lt;classe&gt;.class);\r\n\r\nBut I get the error &quot;Cannot select from parameterized type&quot; on the Wrapper :/\r\n","title":"How can I associate JSON object of the api response to java classes when having the intermediate json &quot;data&quot; attribute?","body":"<p>Thank you for clicking here.\nI have an JSON REST API (providing by Directus CMS). All API responses contains a json object with a &quot;data&quot; attribute containing what I want.</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;id&quot;: 1,\n        &quot;status&quot;: &quot;published&quot;,\n        &quot;sort&quot;: null,\n        &quot;user_created&quot;: &quot;5a91c184-908d-465e-a7d5-4b648029bbe0&quot;,\n        &quot;date_created&quot;: &quot;2022-04-26T09:43:37.000Z&quot;,\n        &quot;user_updated&quot;: &quot;5a91c184-908d-465e-a7d5-4b648029bbe0&quot;,\n        &quot;date_updated&quot;: &quot;2022-05-30T14:23:50.000Z&quot;,\n        &quot;Titre&quot;: &quot;Rseaux Sociaux&quot;,\n        &quot;Description&quot;: &quot;Retrouvez les dernires news en direct sur nos rseaux sociaux!&quot;,\n        &quot;Lien&quot;: &quot;https://www.instagram.com/univlorraine/&quot;,\n        &quot;ImageArrierePlan&quot;: &quot;f23ffd53-7244-4439-a8cf-41bd0fd3aa72&quot;,\n        &quot;Erreur_Bloc&quot;: null\n    }\n}\n</code></pre>\n<p>This data attribute can be a object or a list of objects depending the request.</p>\n<p>I have a Java Spring application with a service consuming the API. I'm using RestTemplate with exchange method.</p>\n<pre><code>public Object callAPI(String url, HttpMethod httpMethod, Object body, MultiValueMap&lt;String, String&gt; headers, Class&lt;?&gt; classe) {\n    final RestTemplate rt = new RestTemplate();\n    try {\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        rt.setRequestFactory(requestFactory);\n        final HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(body, headers);\n        final ResponseEntity&lt;?&gt; response = rt.exchange(url, httpMethod, request, classe);\n        if (response.getStatusCode().equals(HttpStatus.OK)) {\n            return response.getBody();\n        }\n        else return response.getStatusCode();\n    } catch (final Exception e) {\n        System.out.println(e);\n        return null;\n    }\n}\n</code></pre>\n<p>In the exchange method I pass an existing class to directly link response data with the provided class.\nThe probleme is that I have this data attribute which prevents me from linking the data.</p>\n<p>Does anyone have a solution to this probleme please?</p>\n<p><strong>----UPDATE----</strong></p>\n<p>Thanks to the response of AlbiKai, I created a generic Wrapper class :</p>\n<pre><code>public class Wrapper&lt;T&gt; {\n    private T data;\n\n    public void set(T data) {\n        this.data = data;\n    }\n\n    public T get() {\n        return data;\n    }\n}\n</code></pre>\n<p>I then tried to put this Wrapper in the exchange :</p>\n<pre><code>    public &lt;classe&gt; Object callAPI(String url, HttpMethod httpMethod, Object body, MultiValueMap&lt;String, String&gt; headers, Class&lt;?&gt; classe) {\n        final RestTemplate rt = new RestTemplate();\n        try {\n            HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n            rt.setRequestFactory(requestFactory);\n            final HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(body, headers);\n            final ResponseEntity&lt;?&gt; response = rt.exchange(url, httpMethod, request, Wrapper&lt;classe&gt;.class);\n</code></pre>\n<p>But I get the error &quot;Cannot select from parameterized type&quot; on the Wrapper :/</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":2736688,"reputation":8473,"user_id":2359227,"display_name":"Tomer Shetah"},"score":0,"creation_date":1600763217,"post_id":64000519,"comment_id":113182443,"body_markdown":"How are you deserializing the json? Can you add that logic there?","body":"How are you deserializing the json? Can you add that logic there?"},{"owner":{"account_id":8975093,"reputation":2272,"user_id":6692256,"display_name":"Alex Ciocan"},"score":0,"creation_date":1600774847,"post_id":64000519,"comment_id":113188128,"body_markdown":"Lookup this answer https://stackoverflow.com/questions/38071243/jackson-serializer-cover-string-null-to-empty-string-and-keep-object-null-is","body":"Lookup this answer <a href=\"https://stackoverflow.com/questions/38071243/jackson-serializer-cover-string-null-to-empty-string-and-keep-object-null-is\" title=\"jackson serializer cover string null to empty string and keep object null is\">stackoverflow.com/questions/38071243/&hellip;</a>"},{"owner":{"account_id":16175606,"reputation":113,"user_id":11678362,"display_name":"Vodka"},"score":0,"creation_date":1600779538,"post_id":64000519,"comment_id":113190496,"body_markdown":"@TomerShetah im using ObjectMapper.valueToTree, it still get null. im using class and then return to controller still get null too.","body":"@TomerShetah im using ObjectMapper.valueToTree, it still get null. im using class and then return to controller still get null too."}],"answers":[{"tags":[],"owner":{"account_id":4754242,"reputation":883,"user_id":3843392,"display_name":"jumb0jet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600726831,"creation_date":1600726831,"answer_id":64000674,"question_id":64000519,"body_markdown":"You can override default `ObjectMapper` (provided by Spring Boot auto-configuration) and configure globally format to use for properties of type `String`.\r\n\r\n```java\r\n@Configuration\r\npublic class JacksonConfiguration {\r\n\r\n    @Bean\r\n    ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\r\n        final var objectMapper = builder.createXmlMapper(false).build();\r\n        objectMapper.configOverride(String.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\r\n        return objectMapper;\r\n    }\r\n\r\n}\r\n```","title":"Change JSON value from null to empty String","body":"<p>You can override default <code>ObjectMapper</code> (provided by Spring Boot auto-configuration) and configure globally format to use for properties of type <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JacksonConfiguration {\n\n    @Bean\n    ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        final var objectMapper = builder.createXmlMapper(false).build();\n        objectMapper.configOverride(String.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n        return objectMapper;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635213,"reputation":1,"user_id":3030484,"display_name":"user3030484"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647371760,"creation_date":1647371760,"answer_id":71487780,"question_id":64000519,"body_markdown":"    DefaultSerializerProvider.Impl sp = new DefaultSerializerProvider.Impl();\r\n    sp.setNullValueSerializer(new NullSerializer());\r\n    new ObjectMapper().setSerializerProvider(sp)...\r\n\r\nWhere\r\n\r\n    public class NullSerializer extends JsonSerializer&lt;Object&gt; {\r\n        @Override\r\n        public void serialize(Object o, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n            jsonGenerator.writeString(&quot;&quot;);\r\n        }\r\n    }","title":"Change JSON value from null to empty String","body":"<pre><code>DefaultSerializerProvider.Impl sp = new DefaultSerializerProvider.Impl();\nsp.setNullValueSerializer(new NullSerializer());\nnew ObjectMapper().setSerializerProvider(sp)...\n</code></pre>\n<p>Where</p>\n<pre><code>public class NullSerializer extends JsonSerializer&lt;Object&gt; {\n    @Override\n    public void serialize(Object o, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeString(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25454118,"reputation":1,"user_id":19255042,"display_name":"Th&#244;ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654161749,"creation_date":1654160556,"answer_id":72473535,"question_id":64000519,"body_markdown":"You can solve it more easily by handling json string:\r\n \r\n\r\n    jsonString = jsonString.replaceAll(&quot;null,&quot;, &quot;&#39;&#39;,&quot;);","title":"Change JSON value from null to empty String","body":"<p>You can solve it more easily by handling json string:</p>\n<pre><code>jsonString = jsonString.replaceAll(&quot;null,&quot;, &quot;'',&quot;);\n</code></pre>\n"}],"owner":{"account_id":16175606,"reputation":113,"user_id":11678362,"display_name":"Vodka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1654161749,"creation_date":1600725607,"question_id":64000519,"body_markdown":"im making a rest controller which return json. i get this data from database, mapping in to java class using setter getter.\r\n\r\n    {\r\n      &quot;example&quot;: null,\r\n      &quot;this&quot;: null,\r\n      &quot;is&quot;: null,\r\n      &quot;only&quot;: null,\r\n      &quot;example&quot;: null,\r\n      &quot;foo&quot;: null,\r\n      &quot;bar&quot;: null,\r\n      &quot;blabla&quot;: null,\r\n      &quot;lala&quot;: null\r\n    } \r\n\r\nits because the data in database not present. but i want the data to be like this:\r\n\r\n    {\r\n          &quot;example&quot;: &quot;&quot;    ,\r\n          &quot;this&quot;: &quot;&quot;,\r\n          &quot;is&quot;: &quot;&quot;,\r\n          &quot;only&quot;: &quot;&quot;,\r\n          &quot;example&quot;: &quot;&quot;,\r\n          &quot;foo&quot;: &quot;&quot;,\r\n          &quot;bar&quot;: &quot;&quot;,\r\n          &quot;blabla&quot;: &quot;&quot;,\r\n          &quot;lala&quot;: &quot;&quot;\r\n     }\r\n\r\ni have more than 100 fields. so i think its not good to use if else in every variable.\r\n\r\n","title":"Change JSON value from null to empty String","body":"<p>im making a rest controller which return json. i get this data from database, mapping in to java class using setter getter.</p>\n<pre><code>{\n  &quot;example&quot;: null,\n  &quot;this&quot;: null,\n  &quot;is&quot;: null,\n  &quot;only&quot;: null,\n  &quot;example&quot;: null,\n  &quot;foo&quot;: null,\n  &quot;bar&quot;: null,\n  &quot;blabla&quot;: null,\n  &quot;lala&quot;: null\n} \n</code></pre>\n<p>its because the data in database not present. but i want the data to be like this:</p>\n<pre><code>{\n      &quot;example&quot;: &quot;&quot;    ,\n      &quot;this&quot;: &quot;&quot;,\n      &quot;is&quot;: &quot;&quot;,\n      &quot;only&quot;: &quot;&quot;,\n      &quot;example&quot;: &quot;&quot;,\n      &quot;foo&quot;: &quot;&quot;,\n      &quot;bar&quot;: &quot;&quot;,\n      &quot;blabla&quot;: &quot;&quot;,\n      &quot;lala&quot;: &quot;&quot;\n }\n</code></pre>\n<p>i have more than 100 fields. so i think its not good to use if else in every variable.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18770344,"reputation":26,"user_id":13687301,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654161251,"creation_date":1654161251,"answer_id":72473695,"question_id":71519709,"body_markdown":"I see this warning every time i compile and everything works fine. It&#39;s warning, not error, so don&#39;t worry.\r\n\r\n&gt; Task :app:compileDebugJavaWithJavac Note: Some input files use or override a deprecated API. Note: Recompile with -Xlint:deprecation for details.\r\n\r\n-this means that you use some deprecated functions and it may not work\r\n\r\nAnd for this:\r\n\r\n&gt; The curious thing is that on the second compile, these warnings disappear. I don&#180;t understand it.\r\n\r\nIf it works, don&#39;t touch it &#128521;","title":"Are these warnings a big problem on Android Studio?","body":"<p>I see this warning every time i compile and everything works fine. It's warning, not error, so don't worry.</p>\n<blockquote>\n<p>Task :app:compileDebugJavaWithJavac Note: Some input files use or override a deprecated API. Note: Recompile with -Xlint:deprecation for details.</p>\n</blockquote>\n<p>-this means that you use some deprecated functions and it may not work</p>\n<p>And for this:</p>\n<blockquote>\n<p>The curious thing is that on the second compile, these warnings disappear. I dont understand it.</p>\n</blockquote>\n<p>If it works, don't touch it </p>\n"}],"owner":{"account_id":24238845,"reputation":93,"user_id":18191534,"display_name":"Tanque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654161251,"creation_date":1647555734,"question_id":71519709,"body_markdown":"So when I compile the project for the first time the following warnings appear: \r\n&gt; Task :app:compileDebugJavaWithJavac\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nThe curious thing is that on the second compile, these warnings disappear. I don&#180;t understand it.","title":"Are these warnings a big problem on Android Studio?","body":"<p>So when I compile the project for the first time the following warnings appear:</p>\n<blockquote>\n<p>Task :app:compileDebugJavaWithJavac\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.</p>\n</blockquote>\n<p>The curious thing is that on the second compile, these warnings disappear. I dont understand it.</p>\n"},{"tags":["java","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654159639,"post_id":72472564,"comment_id":128026583,"body_markdown":"Setting `value` when using `form:path` won&#39;t work. As the value from `payment.getAmount` will override the `value` set.  If you want to set a default you have to set that in the controller in the GET request when constructing the object. If you check the HTML that is generated you will see that the `value` for the hidden field is something else then 10.","body":"Setting <code>value</code> when using <code>form:path</code> won&#39;t work. As the value from <code>payment.getAmount</code> will override the <code>value</code> set.  If you want to set a default you have to set that in the controller in the GET request when constructing the object. If you check the HTML that is generated you will see that the <code>value</code> for the hidden field is something else then 10."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1654160379,"post_id":72472564,"comment_id":128026808,"body_markdown":"I was following this link : https://www.tutorialspoint.com/springmvc/springmvc_hidden.htm","body":"I was following this link : <a href=\"https://www.tutorialspoint.com/springmvc/springmvc_hidden.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/springmvc/springmvc_hidden.htm</a>"},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1654160670,"post_id":72472564,"comment_id":128026907,"body_markdown":"and how come I am able to get card_number value in controller from same jsp, when it is not hidden.","body":"and how come I am able to get card_number value in controller from same jsp, when it is not hidden."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1654160761,"post_id":72472564,"comment_id":128026925,"body_markdown":"instead of hidden if I mark the field readonly, I am getting all values. Why is it not possible for hidden fields then?","body":"instead of hidden if I mark the field readonly, I am getting all values. Why is it not possible for hidden fields then?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654160966,"post_id":72472564,"comment_id":128026992,"body_markdown":"That does not have a `value` set in the JSP, that gets the value that has been set in the controller on your `Payment`. Making it a regular input instead of using `form:hidden` bypasses the fact that spring uses `paymet.getAmount()` to determine the initial value to set on the field.","body":"That does not have a <code>value</code> set in the JSP, that gets the value that has been set in the controller on your <code>Payment</code>. Making it a regular input instead of using <code>form:hidden</code> bypasses the fact that spring uses <code>paymet.getAmount()</code> to determine the initial value to set on the field."},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1654161241,"post_id":72472564,"comment_id":128027068,"body_markdown":"ok. Will this work - `&lt;input type=&quot;text&quot; name=&quot;amount&quot; hidden=&quot;true&quot; value=&quot;10&quot;&gt;`","body":"ok. Will this work - <code>&lt;input type=&quot;text&quot; name=&quot;amount&quot; hidden=&quot;true&quot; value=&quot;10&quot;&gt;</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654161337,"post_id":72472564,"comment_id":128027101,"body_markdown":"Yes as that as well bypassed springs form tags, but as stated ifyou want a default just set it in the controller where you prepare the `Payment` in the `@GetMapping` probably.","body":"Yes as that as well bypassed springs form tags, but as stated ifyou want a default just set it in the controller where you prepare the <code>Payment</code> in the <code>@GetMapping</code> probably."},{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1654174928,"post_id":72472564,"comment_id":128031883,"body_markdown":"Does your `Payment` class have an attribute of `amount` with relevant getter and setter methods?","body":"Does your <code>Payment</code> class have an attribute of <code>amount</code> with relevant getter and setter methods?"},{"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"score":0,"creation_date":1654842820,"post_id":72472564,"comment_id":128192933,"body_markdown":"finally I had to use inline css style `display:none`. very strange issue with spring mvc. hidden should be treated invisible to UI but it definitely should wire with controller model attribute","body":"finally I had to use inline css style <code>display:none</code>. very strange issue with spring mvc. hidden should be treated invisible to UI but it definitely should wire with controller model attribute"}],"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654160985,"creation_date":1654156345,"question_id":72472564,"body_markdown":"I testing my payment related code with hidden amount value that I will receive from user but I am not able to get `&lt;form:hidden&gt;` fields value to my action controller.\\\r\nI am able to get rest other fields but not getting hidden field.\r\n    \r\n **JSP form**\r\n\r\n```\r\n &lt;form:form id=&quot;frmCard&quot; method=&quot;post&quot; action=&quot;${payment_url}&quot;\r\n\talign=&quot;center&quot; modelAttribute=&quot;payment&quot;&gt;\r\n\t&lt;div id=&quot;my-card&quot; class=&quot;card-js&quot;  data-capture-name=&quot;true&quot;\r\n\t\tdata-icon-colour=&quot;#337ab7&quot;&gt;\r\n\r\n\t&lt;form:input path=&quot;card_number&quot; class=&quot;card-number&quot; placeholder=&quot;Card Number&quot; /&gt;\r\n\t&lt;form:input path=&quot;card_name&quot; class=&quot;name englishonly&quot; placeholder=&quot;Name On Card&quot; maxlength=&quot;21&quot; /&gt;\r\n\t&lt;form:input path=&quot;card_expiry_month&quot; class=&quot;expiry-month&quot; /&gt;\r\n\t&lt;form:input path=&quot;card_expiry_year&quot; class=&quot;expiry-year&quot; /&gt;\r\n\t&lt;form:input path=&quot;card_cvc&quot; class=&quot;cvc&quot; /&gt;\r\n\t\t\t\r\n\t&lt;form:hidden path=&quot;amount&quot; value=&quot;10&quot; /&gt; &lt;-------------------THIS Field\r\n\t&lt;p&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;img src=&quot;../img/cards.png&quot;&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;p&gt;\r\n\t&lt;input type=&quot;submit&quot; name=&quot;Pay&quot; /&gt;\r\n&lt;/form:form&gt;\r\n```\r\n\r\n**Controller method**\r\n``` \r\n@PostMapping(&quot;/addPayment&quot;)\r\npublic String payment(@ModelAttribute(&quot;payment&quot;) Payment payment ) {\r\n\tSystem.out.println(&quot;&quot;+payment.getCard_number()); // getting value\r\n\tSystem.out.println(&quot;$ &quot;+payment.getAmount()); // not getting value\r\n\tString status = &quot;error&quot;;\r\n\ttry {\r\n\t\tstatus = paymentService.process(payment);\r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn status;\r\n}\r\n```\r\n how do I make this work. \r\n\r\n***edit***\r\n\r\nIf I mark fields `readonly` instead of `&lt;form:hidden&gt;` then there is no problem and I am getting all fields. Why am I not getting values from hidden fields then in my controller. Can someone explain..","title":"Not able to get hidden field value from `jsp` to `spring mvc controller`","body":"<p>I testing my payment related code with hidden amount value that I will receive from user but I am not able to get <code>&lt;form:hidden&gt;</code> fields value to my action controller.<br />\nI am able to get rest other fields but not getting hidden field.</p>\n<p><strong>JSP form</strong></p>\n<pre><code> &lt;form:form id=&quot;frmCard&quot; method=&quot;post&quot; action=&quot;${payment_url}&quot;\n    align=&quot;center&quot; modelAttribute=&quot;payment&quot;&gt;\n    &lt;div id=&quot;my-card&quot; class=&quot;card-js&quot;  data-capture-name=&quot;true&quot;\n        data-icon-colour=&quot;#337ab7&quot;&gt;\n\n    &lt;form:input path=&quot;card_number&quot; class=&quot;card-number&quot; placeholder=&quot;Card Number&quot; /&gt;\n    &lt;form:input path=&quot;card_name&quot; class=&quot;name englishonly&quot; placeholder=&quot;Name On Card&quot; maxlength=&quot;21&quot; /&gt;\n    &lt;form:input path=&quot;card_expiry_month&quot; class=&quot;expiry-month&quot; /&gt;\n    &lt;form:input path=&quot;card_expiry_year&quot; class=&quot;expiry-year&quot; /&gt;\n    &lt;form:input path=&quot;card_cvc&quot; class=&quot;cvc&quot; /&gt;\n            \n    &lt;form:hidden path=&quot;amount&quot; value=&quot;10&quot; /&gt; &lt;-------------------THIS Field\n    &lt;p&gt;\n        &lt;div&gt;\n            &lt;img src=&quot;../img/cards.png&quot;&gt;\n        &lt;/div&gt;\n    &lt;p&gt;\n    &lt;input type=&quot;submit&quot; name=&quot;Pay&quot; /&gt;\n&lt;/form:form&gt;\n</code></pre>\n<p><strong>Controller method</strong></p>\n<pre><code>@PostMapping(&quot;/addPayment&quot;)\npublic String payment(@ModelAttribute(&quot;payment&quot;) Payment payment ) {\n    System.out.println(&quot;&quot;+payment.getCard_number()); // getting value\n    System.out.println(&quot;$ &quot;+payment.getAmount()); // not getting value\n    String status = &quot;error&quot;;\n    try {\n        status = paymentService.process(payment);\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return status;\n}\n</code></pre>\n<p>how do I make this work.</p>\n<p><em><strong>edit</strong></em></p>\n<p>If I mark fields <code>readonly</code> instead of <code>&lt;form:hidden&gt;</code> then there is no problem and I am getting all fields. Why am I not getting values from hidden fields then in my controller. Can someone explain..</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1654159858,"post_id":72410785,"comment_id":128026648,"body_markdown":"Excellent question. +1 for you for a thoughtful question","body":"Excellent question. +1 for you for a thoughtful question"}],"answers":[{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653684834,"creation_date":1653684834,"answer_id":72410979,"question_id":72410785,"body_markdown":"Considering your example is a unit test, the *real* `HappyService` should not even be in this equation and should be mocked. So if you were writing a test for the controller facade, you&#39;d essentially be testing that it \r\n\r\nA. Calls `HappyService`, given ID X, Y is returned\r\n\r\nB. Calls `HappyService`, given ID X, exception is thrown and propagated.\r\n\r\n\r\nHowever a unit test is quite pointless for controllers whose only job is to forward a call to a service. There is a better way to test controllers where a web server is brought up and the test is performed against your Spring context to the extent that you choose, allowing you to test the controller by making HTTP requests to it and checking its output that way. This approach is outlined in [Testing the Web Layer][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web/","title":"In Spring Boot what should I test in rest controller?","body":"<p>Considering your example is a unit test, the <em>real</em> <code>HappyService</code> should not even be in this equation and should be mocked. So if you were writing a test for the controller facade, you'd essentially be testing that it</p>\n<p>A. Calls <code>HappyService</code>, given ID X, Y is returned</p>\n<p>B. Calls <code>HappyService</code>, given ID X, exception is thrown and propagated.</p>\n<p>However a unit test is quite pointless for controllers whose only job is to forward a call to a service. There is a better way to test controllers where a web server is brought up and the test is performed against your Spring context to the extent that you choose, allowing you to test the controller by making HTTP requests to it and checking its output that way. This approach is outlined in <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">Testing the Web Layer</a>.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654160770,"creation_date":1654159181,"answer_id":72473220,"question_id":72410785,"body_markdown":"For this layer of application there is a specific type of testing. It is called MVC testing and for this you mock your service with some specific response for some specific input and you verify with a test that the Controller behaves as expected. \r\n\r\nSee the following example \r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class TestingWebApplicationTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate MockMvc mockMvc;\r\n\r\n        @MockBean\r\n\t    private HappyService service;\r\n    \r\n    \t@Test\r\n    \tpublic void shouldReturnMessage() throws Exception {\r\n            when(service.getById(1)).thenReturn(&quot;Happy Response 1&quot;);\r\n  \r\n    \t\tthis.mockMvc.perform(get(&quot;/happy/1&quot;))\r\n                        .andExpect(status().isOk())\r\n                        .andExpect(content()\r\n                      .string(containsString(&quot;Happy Response 1&quot;)));\r\n    \t}\r\n    }\r\n\r\nThis is a type of test that simulates, what the client will receive from controller http status code, http headers, http body content etc...\r\n\r\nSpring Boot already includes support for this MockMvc testing via the dependency \r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;","title":"In Spring Boot what should I test in rest controller?","body":"<p>For this layer of application there is a specific type of testing. It is called MVC testing and for this you mock your service with some specific response for some specific input and you verify with a test that the Controller behaves as expected.</p>\n<p>See the following example</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class TestingWebApplicationTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private HappyService service;\n\n    @Test\n    public void shouldReturnMessage() throws Exception {\n        when(service.getById(1)).thenReturn(&quot;Happy Response 1&quot;);\n\n        this.mockMvc.perform(get(&quot;/happy/1&quot;))\n                    .andExpect(status().isOk())\n                    .andExpect(content()\n                  .string(containsString(&quot;Happy Response 1&quot;)));\n    }\n}\n</code></pre>\n<p>This is a type of test that simulates, what the client will receive from controller http status code, http headers, http body content etc...</p>\n<p>Spring Boot already includes support for this MockMvc testing via the dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654159824,"creation_date":1654159824,"answer_id":72473366,"question_id":72410785,"body_markdown":"There are different types of testing. You are talking about unit testing. In Unit testing you need to strive to break the code to the smallest logical blocks (units) and test them each with a separate unit test. As you mentioned, you already tested internal logic of your controller elsewhere. And that is correct. Testing a controller itself in unit testing doesn&#39;t make much sense at all. So, the answer to your question - no controller itself should not be tested in Unit Testing. There other types of tests such as load (stress) test, Functional tests etc. Controller should be tested in Functional testing where you test the entire logical path rather then the smallest logical unit. I won&#39;t get into details how it is done here, but controller basic functionality test is part of functional test and not unit test.","title":"In Spring Boot what should I test in rest controller?","body":"<p>There are different types of testing. You are talking about unit testing. In Unit testing you need to strive to break the code to the smallest logical blocks (units) and test them each with a separate unit test. As you mentioned, you already tested internal logic of your controller elsewhere. And that is correct. Testing a controller itself in unit testing doesn't make much sense at all. So, the answer to your question - no controller itself should not be tested in Unit Testing. There other types of tests such as load (stress) test, Functional tests etc. Controller should be tested in Functional testing where you test the entire logical path rather then the smallest logical unit. I won't get into details how it is done here, but controller basic functionality test is part of functional test and not unit test.</p>\n"}],"owner":{"account_id":23071226,"reputation":197,"user_id":17184900,"display_name":"AmILostYet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2209,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72473220,"answer_count":3,"score":5,"last_activity_date":1654160770,"creation_date":1653683455,"question_id":72410785,"body_markdown":"  I have a hypothetical rest end point.\r\n\r\n      @GetMapping(value = &quot;/happy/{happyId}&quot;,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public Response&lt;?&gt; getHappy(@PathVariable Long happyId) {\r\n            Response response = new Response();\r\n            response.update(happyService.getById(happyId));\r\n            return response;\r\n        }\r\n\r\nIn this code, happyService could throw UnhappyException if id does not exist, and this code is tested in another place, eg) **HappyServiceTest**. \r\n\r\nNow, let say if I want to test my rest controller, should I also be testing the exception flow? Or is this unnecessary?\r\n\r\neg) \r\n  \r\n\r\n        HappyRestControlerTest.java\r\n        @Test\r\n        void testUnHappy() {\r\n          ...\r\n           assertThrows(UnhappyException.class () -&gt; {happyService.getById(-1L)});\r\n        }\r\n        Is this unnecessary test since I tested the behaviour of happyService in HappyServiceTest?\r\n \r\n\r\n","title":"In Spring Boot what should I test in rest controller?","body":"<p>I have a hypothetical rest end point.</p>\n<pre><code>  @GetMapping(value = &quot;/happy/{happyId}&quot;,\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    public Response&lt;?&gt; getHappy(@PathVariable Long happyId) {\n        Response response = new Response();\n        response.update(happyService.getById(happyId));\n        return response;\n    }\n</code></pre>\n<p>In this code, happyService could throw UnhappyException if id does not exist, and this code is tested in another place, eg) <strong>HappyServiceTest</strong>.</p>\n<p>Now, let say if I want to test my rest controller, should I also be testing the exception flow? Or is this unnecessary?</p>\n<p>eg)</p>\n<pre><code>    HappyRestControlerTest.java\n    @Test\n    void testUnHappy() {\n      ...\n       assertThrows(UnhappyException.class () -&gt; {happyService.getById(-1L)});\n    }\n    Is this unnecessary test since I tested the behaviour of happyService in HappyServiceTest?\n</code></pre>\n"},{"tags":["java","android","serial-port"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654160777,"post_id":72473490,"comment_id":128026931,"body_markdown":"Try to convert 0xFA to decimal, using [Two&#39;s complement](https://en.wikipedia.org/wiki/Two&#39;s_complement)","body":"Try to convert 0xFA to decimal, using <a href=\"https://en.wikipedia.org/wiki/Two&#39;s_complement\" rel=\"nofollow noreferrer\">Two&#39;s complement</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1654160861,"post_id":72473490,"comment_id":128026963,"body_markdown":"Or, more trivially, try `System.out.println((byte)0xFA);`","body":"Or, more trivially, try <code>System.out.println((byte)0xFA);</code>"}],"owner":{"account_id":1631718,"reputation":6686,"user_id":1506104,"accept_rate":64,"display_name":"user1506104"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654160372,"creation_date":1654160372,"question_id":72473490,"body_markdown":"I have this data:\r\n\r\n    byte STX = (byte) 0xFA;\r\n\r\nWhen I send this thru my serial connection, the receiving end correctly interprets the data as `0xFA`. My question is, isn&#39;t `byte` supposed to carry data from -128 to 127 only? Doing the cast to `byte` in my code above should result to a loss of information right? How is it possible that the receiving end still receives the correct information? ","title":"Send a data of type &#39;short&#39; to another end of serial connection","body":"<p>I have this data:</p>\n<pre><code>byte STX = (byte) 0xFA;\n</code></pre>\n<p>When I send this thru my serial connection, the receiving end correctly interprets the data as <code>0xFA</code>. My question is, isn't <code>byte</code> supposed to carry data from -128 to 127 only? Doing the cast to <code>byte</code> in my code above should result to a loss of information right? How is it possible that the receiving end still receives the correct information?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":1,"creation_date":1654160252,"post_id":72473332,"comment_id":128026763,"body_markdown":"Does this answer your question? [Getting the index of the returned max or min item using max()/min() on a list](https://stackoverflow.com/questions/2474015/getting-the-index-of-the-returned-max-or-min-item-using-max-min-on-a-list)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2474015/getting-the-index-of-the-returned-max-or-min-item-using-max-min-on-a-list\">Getting the index of the returned max or min item using max()/min() on a list</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654160527,"post_id":72473332,"comment_id":128026869,"body_markdown":"There is no need to count indices until you find a value that you found in a previous loop. Whenever you set `smallest` or `largest`, the value of `i` is what you&#39;re looking for.","body":"There is no need to count indices until you find a value that you found in a previous loop. Whenever you set <code>smallest</code> or <code>largest</code>, the value of <code>i</code> is what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654160103,"creation_date":1654160103,"answer_id":72473426,"question_id":72473332,"body_markdown":"If you want also indexes of biggest and smallest, why dont you do it in one loop? eg:\r\n\r\n    public class practice\r\n    {\r\n        public int[] minMax(int[] num) {  \r\n          int smallest = num[0];\r\n          int largest = num[0];\r\n          int countsmall = 0;\r\n          int countlarge = 0;\r\n          for (int i = 0; i &lt; num.length; i++){\r\n            if (num[i] &lt; smallest) {\r\n                smallest = num[i];\r\n                countsmall=i;\r\n            }\r\n            if (num[i] &gt; largest) {\r\n                largest = num[i];\r\n                countlarge=i;\r\n            }\r\n          }\r\n        \r\n          int array[] = {countsmall,countlarge};\r\n          return array;\r\n        }\r\n    }","title":"finding the index of max and min in an array","body":"<p>If you want also indexes of biggest and smallest, why dont you do it in one loop? eg:</p>\n<pre><code>public class practice\n{\n    public int[] minMax(int[] num) {  \n      int smallest = num[0];\n      int largest = num[0];\n      int countsmall = 0;\n      int countlarge = 0;\n      for (int i = 0; i &lt; num.length; i++){\n        if (num[i] &lt; smallest) {\n            smallest = num[i];\n            countsmall=i;\n        }\n        if (num[i] &gt; largest) {\n            largest = num[i];\n            countlarge=i;\n        }\n      }\n    \n      int array[] = {countsmall,countlarge};\n      return array;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25438958,"reputation":3,"user_id":19242240,"display_name":"blackpanther"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72473426,"answer_count":1,"score":-2,"last_activity_date":1654160103,"creation_date":1654159667,"question_id":72473332,"body_markdown":"This is my code. I am using the bluej IDE. \r\n\r\n        public class practice\r\n        {\r\n    public int[] minMax(int[] num) {  \r\n    int smallest = num[0];\r\n    int largest = num[0];\r\n    int countsmall = 0;\r\n    int countlarge = 0;\r\n    for (int i = 0; i &lt;= num.length - 1; i++){\r\n        if (num[i] &lt; smallest) smallest = num[i];\r\n        if (num[i] &gt; largest) largest = num[i];\r\n    }\r\n    for (int i = 0; i &lt;= num.length - 1; i++){\r\n        if (num[i] != smallest) countsmall++;\r\n        if (num[i] != largest) countlarge++;\r\n    }\r\n    int array[] = {countsmall,countlarge};\r\n    return array;\r\n    }\r\n    }\r\nI am trying to find the minimum and maximum value in an array which I successfully did. After that,I am trying to find its index. I created a variable count, and then went through the array. If that item in the array does not equal the minimum or maximum value, count+= count. However, for some reason its not working. The code compiles but returns the wrong value. Keep in mind I am not allowed to use java libraries. Any help would be much appreciated, thanks. \r\n\r\n","title":"finding the index of max and min in an array","body":"<p>This is my code. I am using the bluej IDE.</p>\n<pre><code>    public class practice\n    {\npublic int[] minMax(int[] num) {  \nint smallest = num[0];\nint largest = num[0];\nint countsmall = 0;\nint countlarge = 0;\nfor (int i = 0; i &lt;= num.length - 1; i++){\n    if (num[i] &lt; smallest) smallest = num[i];\n    if (num[i] &gt; largest) largest = num[i];\n}\nfor (int i = 0; i &lt;= num.length - 1; i++){\n    if (num[i] != smallest) countsmall++;\n    if (num[i] != largest) countlarge++;\n}\nint array[] = {countsmall,countlarge};\nreturn array;\n}\n}\n</code></pre>\n<p>I am trying to find the minimum and maximum value in an array which I successfully did. After that,I am trying to find its index. I created a variable count, and then went through the array. If that item in the array does not equal the minimum or maximum value, count+= count. However, for some reason its not working. The code compiles but returns the wrong value. Keep in mind I am not allowed to use java libraries. Any help would be much appreciated, thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654159939,"creation_date":1654159939,"answer_id":72473383,"question_id":72473033,"body_markdown":"You should use `ScheduledTaskRegistrar` rather than calling `TaskScheduler` directly. For the cron task the corresponding method is `addCronTask()`.\r\n\r\nReferences: \r\n- https://github.com/spring-projects/spring-boot/issues/8831#issuecomment-575886881\r\n- https://dzone.com/articles/multiple-cron-task-with-spring-boot-scheduler\r\n","title":"Sring actuator system status missing scheduler data when schedulers are added programatically","body":"<p>You should use <code>ScheduledTaskRegistrar</code> rather than calling <code>TaskScheduler</code> directly. For the cron task the corresponding method is <code>addCronTask()</code>.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/8831#issuecomment-575886881\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/8831#issuecomment-575886881</a></li>\n<li><a href=\"https://dzone.com/articles/multiple-cron-task-with-spring-boot-scheduler\" rel=\"nofollow noreferrer\">https://dzone.com/articles/multiple-cron-task-with-spring-boot-scheduler</a></li>\n</ul>\n"}],"owner":{"account_id":1374661,"reputation":139,"user_id":18631004,"display_name":"Frankio1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72473383,"answer_count":1,"score":0,"last_activity_date":1654159939,"creation_date":1654158344,"question_id":72473033,"body_markdown":"I am using Java 11, Spring Boot. I had my schedulers running with `@Scheduled` annotation and they appeared in Actuator page: `#/administration/systemstatus` automatically. But since now I have to provide possibility to schedule a task forcibly from UI I have to invoke `schedule` operation on `TaskScheduler` for such task for current time and after it ends, I have to again schedule such task according to some cron expression from application.properties (because schedule operations changes the scheduled time and I tasks generally have to be working on specified cron times and only sometimes will be additionally triggered by user form UI). That lead me to write my own scheduling component as I found it impossible to do all of this with @Schedule annotation. But as a side effect I don&#39;t have data about tasks and their cron expressions in actuator systemstatus. Below is the code, I include only a part that adds tasks to scheduler when application is deployed. I am not adding reschedule operations. Do u know how to repair the actuator data ?\r\n\r\n\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class MyTaskService {\r\n    \r\n        private final TaskScheduler scheduler;\r\n        private final List&lt;CustomTask&gt; taskList; //runnable tasks\r\n        private final RunningTasksFutureHolder runningTasksFutureHolder;\r\n    \r\n        public MyTaskService(TaskScheduler scheduler,\r\n                                   List&lt;CustomTask&gt; taskList,\r\n                                   RunningTasksFutureHolder runningTasksFutureHolder) {\r\n            this.scheduler = scheduler;\r\n            this.taskList = taskList;\r\n            this.runningTasksFutureHolder = runningTasksFutureHolder;\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void afterLoad() {\r\n            askList.forEach(this::addTaskToScheduler);\r\n        }\r\n    \r\n        public void addTaskToScheduler(CustomTask task) {\r\n    \t//here tasks are added to scheduler and they are not visible in actuator\r\n            ScheduledFuture&lt;?&gt; scheduledTask = scheduler.schedule(task, new CronTrigger(task.getCronExpression()));\r\n            runningTasksFutureHolder.add(task.getTaskType(), scheduledTask);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulingConfig implements SchedulingConfigurer {\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            //do nothing here\r\n        }\r\n    \r\n        @Bean\r\n        public TaskScheduler poolScheduler() {\r\n            ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n            scheduler.setThreadNamePrefix(&quot;ThreadPoolTaskScheduler&quot;);\r\n            scheduler.setPoolSize(5);\r\n            scheduler.initialize();\r\n            return scheduler;\r\n        }\r\n    }","title":"Sring actuator system status missing scheduler data when schedulers are added programatically","body":"<p>I am using Java 11, Spring Boot. I had my schedulers running with <code>@Scheduled</code> annotation and they appeared in Actuator page: <code>#/administration/systemstatus</code> automatically. But since now I have to provide possibility to schedule a task forcibly from UI I have to invoke <code>schedule</code> operation on <code>TaskScheduler</code> for such task for current time and after it ends, I have to again schedule such task according to some cron expression from application.properties (because schedule operations changes the scheduled time and I tasks generally have to be working on specified cron times and only sometimes will be additionally triggered by user form UI). That lead me to write my own scheduling component as I found it impossible to do all of this with @Schedule annotation. But as a side effect I don't have data about tasks and their cron expressions in actuator systemstatus. Below is the code, I include only a part that adds tasks to scheduler when application is deployed. I am not adding reschedule operations. Do u know how to repair the actuator data ?</p>\n<pre><code>@Component\n@Slf4j\npublic class MyTaskService {\n\n    private final TaskScheduler scheduler;\n    private final List&lt;CustomTask&gt; taskList; //runnable tasks\n    private final RunningTasksFutureHolder runningTasksFutureHolder;\n\n    public MyTaskService(TaskScheduler scheduler,\n                               List&lt;CustomTask&gt; taskList,\n                               RunningTasksFutureHolder runningTasksFutureHolder) {\n        this.scheduler = scheduler;\n        this.taskList = taskList;\n        this.runningTasksFutureHolder = runningTasksFutureHolder;\n    }\n\n    @PostConstruct\n    public void afterLoad() {\n        askList.forEach(this::addTaskToScheduler);\n    }\n\n    public void addTaskToScheduler(CustomTask task) {\n    //here tasks are added to scheduler and they are not visible in actuator\n        ScheduledFuture&lt;?&gt; scheduledTask = scheduler.schedule(task, new CronTrigger(task.getCronExpression()));\n        runningTasksFutureHolder.add(task.getTaskType(), scheduledTask);\n    }\n\n}\n\n\n\n\n\n@Configuration\n@EnableScheduling\npublic class SchedulingConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        //do nothing here\n    }\n\n    @Bean\n    public TaskScheduler poolScheduler() {\n        ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n        scheduler.setThreadNamePrefix(&quot;ThreadPoolTaskScheduler&quot;);\n        scheduler.setPoolSize(5);\n        scheduler.initialize();\n        return scheduler;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","tomcat","web-applications","tomcat9"],"comments":[{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1571999165,"post_id":58556243,"comment_id":103432682,"body_markdown":"Do you need the jar to be the same instance, like, for having common variables at runtime?","body":"Do you need the jar to be the same instance, like, for having common variables at runtime?"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1572000070,"post_id":58556243,"comment_id":103433078,"body_markdown":"@CarlosL&#243;pezMar&#237; Hello, yes I do. There are plenty of objects that are created during run time by either WARs which needs to be saved. Previously i had it in each of the WAR&#39;s class path and they all instantiated their own objects, so nothing persisted.","body":"@CarlosL&#243;pezMar&#237; Hello, yes I do. There are plenty of objects that are created during run time by either WARs which needs to be saved. Previously i had it in each of the WAR&#39;s class path and they all instantiated their own objects, so nothing persisted."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1572002538,"post_id":58556243,"comment_id":103434248,"body_markdown":"You mean you need some more info?","body":"You mean you need some more info?"},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1572002650,"post_id":58556243,"comment_id":103434308,"body_markdown":"I&#39;m adding the dependency into the tomcat/lib folder and deleting the jar in my .m2 and it stills downloading the source into my repository... Deleting &quot;scoped&quot; prevents the dependency to download and it is getting read from the lib folder...","body":"I&#39;m adding the dependency into the tomcat/lib folder and deleting the jar in my .m2 and it stills downloading the source into my repository... Deleting &quot;scoped&quot; prevents the dependency to download and it is getting read from the lib folder..."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1572003642,"post_id":58556243,"comment_id":103434759,"body_markdown":"Maybe a reading permissions issue?","body":"Maybe a reading permissions issue?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1572006547,"post_id":58556243,"comment_id":103436128,"body_markdown":"WAR files do not support jars inside jars.  You need another solution.","body":"WAR files do not support jars inside jars.  You need another solution."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1572008073,"post_id":58556243,"comment_id":103436884,"body_markdown":"The JARs are inside JAR, not WAR, C.jar to be specific.","body":"The JARs are inside JAR, not WAR, C.jar to be specific."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1572018196,"post_id":58556243,"comment_id":103442397,"body_markdown":"Jar files cannot contain Jar files without some very serious class loader work.  This simply will not work.","body":"Jar files cannot contain Jar files without some very serious class loader work.  This simply will not work."}],"answers":[{"tags":[],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572856456,"creation_date":1572856456,"answer_id":58689661,"question_id":58556243,"body_markdown":"I had the scanManifest setting under JARScanner set to true in the context.xml of Tomcat. I set it to false and the error went away.\r\n\r\n    &lt;JarScanner scanAllDirectories=&quot;true&quot; scanAllFiles=&quot;true&quot; scanBootstrapClassPath=&quot;true&quot; scanClassPath=&quot;true&quot; scanManifest=&quot;false&quot; /&gt;","title":"Tomcat Isn&#39;t Scanning JARs Within JARs","body":"<p>I had the scanManifest setting under JARScanner set to true in the context.xml of Tomcat. I set it to false and the error went away.</p>\n\n<pre><code>&lt;JarScanner scanAllDirectories=\"true\" scanAllFiles=\"true\" scanBootstrapClassPath=\"true\" scanClassPath=\"true\" scanManifest=\"false\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654159888,"creation_date":1654153534,"answer_id":72471993,"question_id":58556243,"body_markdown":"for embedded tomcat (in spring or spring boot) add property\r\n\r\n    server:\r\n      tomcat:\r\n        additional-tld-skip-patterns: &quot;*.jar&quot;\r\n\r\nor exactly define file name `logback-classic-1.1.3.jar`","title":"Tomcat Isn&#39;t Scanning JARs Within JARs","body":"<p>for embedded tomcat (in spring or spring boot) add property</p>\n<pre><code>server:\n  tomcat:\n    additional-tld-skip-patterns: &quot;*.jar&quot;\n</code></pre>\n<p>or exactly define file name <code>logback-classic-1.1.3.jar</code></p>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58689661,"answer_count":2,"score":1,"last_activity_date":1654159888,"creation_date":1571997351,"question_id":58556243,"body_markdown":"I have two WebApps (say, A.war and B.war) that rely on some common piece of code (say C.jar) to exchange information. So what I did in the two webapps&#39; POM file I added the JAR with the scope &quot;provided&quot;.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;some.web.app&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;C&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;type&gt;jar&lt;/type&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I copied the C.jar into the Tomcat&#39;s lib folder, so that it will be shared. So when I try to deploy any of the war file, by copying the war file to the webapps folder and starting Tomcat, I see a bunch of missing JAR errors on startup:\r\n\r\n    25-Oct-2019 15:07:43.752 WARNING [main] org.apache.tomcat.util.scan.StandardJarScanner.processURLs Failed to scan [file:/H:/apache-tomcat-9.0.27/lib/logback-classic-1.1.3.jar] from classloader hierarchy\r\n    \tjava.io.FileNotFoundException: H:\\apache-tomcat-9.0.27\\lib\\logback-classic-1.1.3.jar (The system cannot find the file specified)\r\n    \t\tat java.util.zip.ZipFile.open(Native Method)\r\n    \t\tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n\r\nBut all the JARs that Tomcat is complaining about are in a &quot;lib&quot; folder of C.jar. Is there a way to make Tomcat scan JARs inside the C.jar. I am not sure if what I am doing is right in the first place. I have played around with Tomcat/Maven before, but never in this detail. Any help would be appreciated.\r\n\r\n","title":"Tomcat Isn&#39;t Scanning JARs Within JARs","body":"<p>I have two WebApps (say, A.war and B.war) that rely on some common piece of code (say C.jar) to exchange information. So what I did in the two webapps' POM file I added the JAR with the scope \"provided\".</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;some.web.app&lt;/groupId&gt;\n    &lt;artifactId&gt;C&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And I copied the C.jar into the Tomcat's lib folder, so that it will be shared. So when I try to deploy any of the war file, by copying the war file to the webapps folder and starting Tomcat, I see a bunch of missing JAR errors on startup:</p>\n\n<pre><code>25-Oct-2019 15:07:43.752 WARNING [main] org.apache.tomcat.util.scan.StandardJarScanner.processURLs Failed to scan [file:/H:/apache-tomcat-9.0.27/lib/logback-classic-1.1.3.jar] from classloader hierarchy\n    java.io.FileNotFoundException: H:\\apache-tomcat-9.0.27\\lib\\logback-classic-1.1.3.jar (The system cannot find the file specified)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n</code></pre>\n\n<p>But all the JARs that Tomcat is complaining about are in a \"lib\" folder of C.jar. Is there a way to make Tomcat scan JARs inside the C.jar. I am not sure if what I am doing is right in the first place. I have played around with Tomcat/Maven before, but never in this detail. Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1654153502,"post_id":72471938,"comment_id":128024631,"body_markdown":"Your concrete classes should have generic parameters on them; just `class BService implements Service&lt;B&gt;`.","body":"Your concrete classes should have generic parameters on them; just <code>class BService implements Service&lt;B&gt;</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1654153825,"post_id":72471938,"comment_id":128024730,"body_markdown":"How would spring know the type of response in `SomeService`? Just by looking at the code I as a human wouldn&#39;t be able to tell so how should a machine be able to? Also note that due to type erasure the type of `T` in `SomeService` would very likely not be known at runtime.","body":"How would spring know the type of response in <code>SomeService</code>? Just by looking at the code I as a human wouldn&#39;t be able to tell so how should a machine be able to? Also note that due to type erasure the type of <code>T</code> in <code>SomeService</code> would very likely not be known at runtime."},{"owner":{"account_id":10113637,"reputation":29,"user_id":7473030,"display_name":"Hindol Dey"},"score":0,"creation_date":1654154377,"post_id":72471938,"comment_id":128024890,"body_markdown":"Is there any way I can dynamically invoke the corresponding validator class inside `SomeService`?","body":"Is there any way I can dynamically invoke the corresponding validator class inside <code>SomeService</code>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1654162494,"post_id":72471938,"comment_id":128027452,"body_markdown":"Why are you defining `AValidationService` and `BValidationService` with a generic parameter? why not `class AValidationService implements ValidationService&lt;ResponseA&gt;`?","body":"Why are you defining <code>AValidationService</code> and <code>BValidationService</code> with a generic parameter? why not <code>class AValidationService implements ValidationService&lt;ResponseA&gt;</code>?"},{"owner":{"account_id":10113637,"reputation":29,"user_id":7473030,"display_name":"Hindol Dey"},"score":0,"creation_date":1654195808,"post_id":72471938,"comment_id":128039650,"body_markdown":"Thank you @MauricePerry for pointing it out. It was a typo from my end.","body":"Thank you @MauricePerry for pointing it out. It was a typo from my end."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654159560,"creation_date":1654158114,"answer_id":72472986,"question_id":72471938,"body_markdown":"Hope that I understood your requirements.\r\n\r\nYou can not automatically inject, when you have (2) of the same kind.  In this case ValidationService.\r\n\r\nYou could inject `@ValidationServiceA`, or `@ValidationServiceB`, or a `List&lt;ValidationServiceI&gt;` and then return the one you want based on a `&lt;T&gt; type` you care about:\r\n\r\nThe solution below highlights that.\r\n\r\nThe method `getGenericParameter()` is used to return the `&lt;T&gt;` parameter.  This is to avoid the use of Reflection.\r\n\r\n\r\nThe method `methodWhichDeterminesWhichServiceToUseBasedOnResponseType` to used to determine which ValidationService&lt;T&gt; to use based on the input &lt;T&gt; that you require.\r\n\r\n\r\nYou can find the complete solution below, including a verification Test.\r\n\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class ValidationServiceA implements ValidationServiceI&lt;ResponseA&gt;{\r\n    \r\n        @Override public Class&lt;ResponseA&gt; getGenericParameter() {\r\n            return ResponseA.class;\r\n        }\r\n    \r\n        public void print(){\r\n            System.out.println(&quot;Service A&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n----------\r\n    \r\n    \r\n       @Service\r\n    public class ValidationServiceB implements ValidationServiceI&lt;ResponseB&gt;{\r\n    \r\n        @Override public Class&lt;ResponseB&gt; getGenericParameter() {\r\n            return ResponseB.class;\r\n        }\r\n    \r\n    \r\n        public void print(){\r\n            System.out.println(&quot;Service B&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n----------\r\n    \r\n        public interface ValidationServiceI&lt;T&gt;{\r\n        \r\n            Class&lt;T&gt; getGenericParameter();\r\n        \r\n            void print();\r\n        \r\n        }\r\n    \r\n----------\r\n    \r\n    @Service\r\n    public class ServiceWhichCallsOthers {\r\n    \r\n        @Autowired\r\n        private List&lt;ValidationServiceI&gt; validationServices;\r\n    \r\n        public &lt;T&gt; ValidationServiceI&lt;T&gt; methodWhichDeterminesWhichServiceToUseBasedOnResponseType(T responseType){\r\n    \r\n            Optional&lt;ValidationServiceI&gt; validationServiceSupportingResponse = validationServices.stream().filter(validationServiceI -&gt; validationServiceI.getGenericParameter().equals(responseType)).findFirst();\r\n    \r\n            return validationServiceSupportingResponse.get();\r\n        }\r\n    \r\n        public void callValidationServiceA(){\r\n            methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseA.class).print();\r\n        }\r\n    \r\n        public void callValidationServiceB(){\r\n            methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseB.class).print();\r\n        }\r\n    \r\n    }\r\n    \r\n----------\r\n        \r\n    \r\n    @SpringBootTest\r\n    public class ServiceWhichCallsOthersIT {\r\n    \r\n        @Autowired\r\n        private ServiceWhichCallsOthers serviceWhichCallsOthers;\r\n    \r\n        @Test\r\n        public void validateBasedOnResponseType(){\r\n    \r\n            Assertions.assertEquals(ValidationServiceA.class, serviceWhichCallsOthers.methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseA.class).getClass());\r\n            Assertions.assertEquals(ValidationServiceB.class, serviceWhichCallsOthers.methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseB.class).getClass());\r\n    \r\n    \r\n            serviceWhichCallsOthers.callValidationServiceA();\r\n            serviceWhichCallsOthers.callValidationServiceB();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"How to automatically inject implementation based on Generics","body":"<p>Hope that I understood your requirements.</p>\n<p>You can not automatically inject, when you have (2) of the same kind.  In this case ValidationService.</p>\n<p>You could inject <code>@ValidationServiceA</code>, or <code>@ValidationServiceB</code>, or a <code>List&lt;ValidationServiceI&gt;</code> and then return the one you want based on a <code>&lt;T&gt; type</code> you care about:</p>\n<p>The solution below highlights that.</p>\n<p>The method <code>getGenericParameter()</code> is used to return the <code>&lt;T&gt;</code> parameter.  This is to avoid the use of Reflection.</p>\n<p>The method <code>methodWhichDeterminesWhichServiceToUseBasedOnResponseType</code> to used to determine which ValidationService to use based on the input  that you require.</p>\n<p>You can find the complete solution below, including a verification Test.</p>\n<pre><code>import org.springframework.stereotype.Service;\n\n@Service\npublic class ValidationServiceA implements ValidationServiceI&lt;ResponseA&gt;{\n\n    @Override public Class&lt;ResponseA&gt; getGenericParameter() {\n        return ResponseA.class;\n    }\n\n    public void print(){\n        System.out.println(&quot;Service A&quot;);\n    }\n}\n</code></pre>\n<hr />\n<pre><code>   @Service\npublic class ValidationServiceB implements ValidationServiceI&lt;ResponseB&gt;{\n\n    @Override public Class&lt;ResponseB&gt; getGenericParameter() {\n        return ResponseB.class;\n    }\n\n\n    public void print(){\n        System.out.println(&quot;Service B&quot;);\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>    public interface ValidationServiceI&lt;T&gt;{\n    \n        Class&lt;T&gt; getGenericParameter();\n    \n        void print();\n    \n    }\n</code></pre>\n<hr />\n<pre><code>@Service\npublic class ServiceWhichCallsOthers {\n\n    @Autowired\n    private List&lt;ValidationServiceI&gt; validationServices;\n\n    public &lt;T&gt; ValidationServiceI&lt;T&gt; methodWhichDeterminesWhichServiceToUseBasedOnResponseType(T responseType){\n\n        Optional&lt;ValidationServiceI&gt; validationServiceSupportingResponse = validationServices.stream().filter(validationServiceI -&gt; validationServiceI.getGenericParameter().equals(responseType)).findFirst();\n\n        return validationServiceSupportingResponse.get();\n    }\n\n    public void callValidationServiceA(){\n        methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseA.class).print();\n    }\n\n    public void callValidationServiceB(){\n        methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseB.class).print();\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>@SpringBootTest\npublic class ServiceWhichCallsOthersIT {\n\n    @Autowired\n    private ServiceWhichCallsOthers serviceWhichCallsOthers;\n\n    @Test\n    public void validateBasedOnResponseType(){\n\n        Assertions.assertEquals(ValidationServiceA.class, serviceWhichCallsOthers.methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseA.class).getClass());\n        Assertions.assertEquals(ValidationServiceB.class, serviceWhichCallsOthers.methodWhichDeterminesWhichServiceToUseBasedOnResponseType(ResponseB.class).getClass());\n\n\n        serviceWhichCallsOthers.callValidationServiceA();\n        serviceWhichCallsOthers.callValidationServiceB();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10113637,"reputation":29,"user_id":7473030,"display_name":"Hindol Dey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72472986,"answer_count":1,"score":0,"last_activity_date":1654159560,"creation_date":1654153170,"question_id":72471938,"body_markdown":"I have a Service class defined like this,\r\n\r\n```\r\n@RequiredArgsConstructor\r\nclass SomeService&lt;T extends AbstractResponse&gt; {\r\n    private final ValidationService&lt;T&gt; validationService;\r\n    ....\r\n}\r\n```\r\nAnd I have two kinds of ```AbstractResponse```, ```ResponseA``` and ```ResponseB``` and have a validation service defined for both of them.\r\n\r\n```\r\n@Service(&quot;aValidationService&quot;);\r\nclass AValidationService&lt;ResponseA&gt; implements ValidationService&lt;ResponseA&gt; {\r\n    ....\r\n}\r\n```\r\nand\r\n```\r\n@Service(&quot;ValidationService&quot;);\r\nclass BValidationService&lt;ResponseB&gt; implements ValidationService&lt;ResponseB&gt; {\r\n    ....\r\n}\r\n```\r\n\r\nRight now spring is throwing an error because it&#39;s not able to deduce the implementation of ```ValidationService``` to use in ```SomeService``` as there are two implementations of it. How do I make spring deduce the correct implementation based on the type of AbstractResponse?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to automatically inject implementation based on Generics","body":"<p>I have a Service class defined like this,</p>\n<pre><code>@RequiredArgsConstructor\nclass SomeService&lt;T extends AbstractResponse&gt; {\n    private final ValidationService&lt;T&gt; validationService;\n    ....\n}\n</code></pre>\n<p>And I have two kinds of <code>AbstractResponse</code>, <code>ResponseA</code> and <code>ResponseB</code> and have a validation service defined for both of them.</p>\n<pre><code>@Service(&quot;aValidationService&quot;);\nclass AValidationService&lt;ResponseA&gt; implements ValidationService&lt;ResponseA&gt; {\n    ....\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Service(&quot;ValidationService&quot;);\nclass BValidationService&lt;ResponseB&gt; implements ValidationService&lt;ResponseB&gt; {\n    ....\n}\n</code></pre>\n<p>Right now spring is throwing an error because it's not able to deduce the implementation of <code>ValidationService</code> to use in <code>SomeService</code> as there are two implementations of it. How do I make spring deduce the correct implementation based on the type of AbstractResponse?</p>\n"},{"tags":["java","jdbc","resultset"],"comments":[{"owner":{"account_id":1472757,"reputation":519,"user_id":1383880,"display_name":"CannedMoose"},"score":2,"creation_date":1654159234,"post_id":72473125,"comment_id":128026452,"body_markdown":"Doesn&#39;t `if(theValue==null)` do what you are looking for?","body":"Doesn&#39;t <code>if(theValue==null)</code> do what you are looking for?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654329395,"post_id":72473125,"comment_id":128069157,"body_markdown":"As CannedMoose suggests, you only really need to call `wasNull()` when using the primitive getters for boolean, short, int and long. When using `getObject`, you can just check the returned value for `null`.","body":"As CannedMoose suggests, you only really need to call <code>wasNull()</code> when using the primitive getters for boolean, short, int and long. When using <code>getObject</code>, you can just check the returned value for <code>null</code>."},{"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"score":0,"creation_date":1654424653,"post_id":72473125,"comment_id":128083386,"body_markdown":"Maybe, but checking null for the return value of getObject() still requires getObject() works for all columns, so the question still remains. Besides, wasNull() is more convenient. Otherwise, you have to write a if statement or something like isValueNull = (theValue == null);","body":"Maybe, but checking null for the return value of getObject() still requires getObject() works for all columns, so the question still remains. Besides, wasNull() is more convenient. Otherwise, you have to write a if statement or something like isValueNull = (theValue == null);"}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654159244,"creation_date":1654159244,"answer_id":72473240,"question_id":72473125,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\r\n\r\nThe universal way to check if last value from resultSet was null is to check rs.wasNull();\r\n\r\nYes, wasNull indicates whether the value was NULL.\r\n\r\nYes, getObject works on all columns.\r\n","title":"Is there a universal way to check NULL in ResultSet?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html</a></p>\n<p>The universal way to check if last value from resultSet was null is to check rs.wasNull();</p>\n<p>Yes, wasNull indicates whether the value was NULL.</p>\n<p>Yes, getObject works on all columns.</p>\n"}],"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654159244,"creation_date":1654158749,"question_id":72473125,"body_markdown":"In Java, is there a universal way to check NULL in a ResultSet (java.sql.ResultSet)?\r\n\r\nThe ResultSet interface does not have a direct method to check NULL. The closest thing is the wasNull() method. So, I have come up with this idea:\r\n\r\n```\r\nResultSet rs;    //the ResultSet object\r\nObject theValue;\r\nboolean isValueNull;\r\n\r\ntheValue = rs.getObject(&quot;MY_COLUMN&quot;);\r\nisValueNull = rs.wasNull();\r\n```\r\n\r\nAfter executing the code, isValueNull should indicate whether the value is NULL.\r\n\r\nBut, there is a question: Does rs.getObject(...) work for all columns? By contrast, if you call rs.getBigDecimal(...) on a string column, an exception may occur. I guess that rs.getObject(...) works for all columns, but I am not sure.\r\n\r\n","title":"Is there a universal way to check NULL in ResultSet?","body":"<p>In Java, is there a universal way to check NULL in a ResultSet (java.sql.ResultSet)?</p>\n<p>The ResultSet interface does not have a direct method to check NULL. The closest thing is the wasNull() method. So, I have come up with this idea:</p>\n<pre><code>ResultSet rs;    //the ResultSet object\nObject theValue;\nboolean isValueNull;\n\ntheValue = rs.getObject(&quot;MY_COLUMN&quot;);\nisValueNull = rs.wasNull();\n</code></pre>\n<p>After executing the code, isValueNull should indicate whether the value is NULL.</p>\n<p>But, there is a question: Does rs.getObject(...) work for all columns? By contrast, if you call rs.getBigDecimal(...) on a string column, an exception may occur. I guess that rs.getObject(...) works for all columns, but I am not sure.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":3,"creation_date":1243524049,"post_id":921384,"comment_id":729315,"body_markdown":"Heh, all answers were within the same minute.","body":"Heh, all answers were within the same minute."},{"owner":{"account_id":269319,"reputation":10479,"user_id":558592,"accept_rate":82,"display_name":"Kevin Ji"},"score":1,"creation_date":1324516317,"post_id":921384,"comment_id":10667566,"body_markdown":"Ah, PHP with its cluttered global namespace. The good old days...","body":"Ah, PHP with its cluttered global namespace. The good old days..."},{"owner":{"account_id":92401,"reputation":8338,"user_id":253254,"accept_rate":86,"display_name":"Joshua Burns"},"score":2,"creation_date":1329510829,"post_id":921384,"comment_id":11781013,"body_markdown":"i think he means php&#39;s count() not array_size()","body":"i think he means php&#39;s count() not array_size()"}],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1243523836,"creation_date":1243523836,"answer_id":921409,"question_id":921384,"body_markdown":"    array.length\r\n\r\nIt is actually a final member of the array, not a method.","title":"Java String array: is there a size of method?","body":"<pre><code>array.length\n</code></pre>\n\n<p>It is actually a final member of the array, not a method.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1243523841,"creation_date":1243523841,"answer_id":921410,"question_id":921384,"body_markdown":"array.length final property\r\n\r\nit is public and final property. It is final because arrays in Java are immutable by size (but mutable by element&#39;s value) ","title":"Java String array: is there a size of method?","body":"<p>array.length final property</p>\n\n<p>it is public and final property. It is final because arrays in Java are immutable by size (but mutable by element's value) </p>\n"},{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":292,"is_accepted":true,"score":292,"last_activity_date":1324582483,"creation_date":1243523846,"answer_id":921412,"question_id":921384,"body_markdown":"Yes, `.length` (property-like, not a method):\r\n\r\n    String[] array = new String[10];\r\n    int size = array.length;\r\n","title":"Java String array: is there a size of method?","body":"<p>Yes, <code>.length</code> (property-like, not a method):</p>\n\n<pre><code>String[] array = new String[10];\nint size = array.length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1243523854,"creation_date":1243523854,"answer_id":921413,"question_id":921384,"body_markdown":"Arrays are objects and they have a length field.\r\n\r\nString[] haha = {&quot;olle&quot;, &quot;bulle&quot;};\r\n\r\nhaha.length would be 2","title":"Java String array: is there a size of method?","body":"<p>Arrays are objects and they have a length field.</p>\n\n<p>String[] haha = {\"olle\", \"bulle\"};</p>\n\n<p>haha.length would be 2</p>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1243523892,"creation_date":1243523892,"answer_id":921421,"question_id":921384,"body_markdown":"In java there is a `length` field that you can use on any array to find out it&#39;s size:\r\n\r\n\t\tString[] s = new String[10];\r\n\t\tSystem.out.println(s.length);","title":"Java String array: is there a size of method?","body":"<p>In java there is a <code>length</code> field that you can use on any array to find out it's size:</p>\n\n<pre><code>    String[] s = new String[10];\n    System.out.println(s.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15201,"reputation":10627,"user_id":31884,"accept_rate":89,"display_name":"Simon Groenewolt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243524426,"creation_date":1243524426,"answer_id":921480,"question_id":921384,"body_markdown":"Not really the answer to your question, but if you want to have something like an array that can grow and shrink you should not use an array in java. You are probably best of by using &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html&quot;&gt;ArrayList&lt;/a&gt; or another List implementation.\r\n\r\nYou can then call size() on it to get it&#39;s size.","title":"Java String array: is there a size of method?","body":"<p>Not really the answer to your question, but if you want to have something like an array that can grow and shrink you should not use an array in java. You are probably best of by using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> or another List implementation.</p>\n\n<p>You can then call size() on it to get it's size.</p>\n"},{"tags":[],"owner":{"account_id":560337,"reputation":685,"user_id":95603,"display_name":"Tim H"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1243526015,"creation_date":1243526015,"answer_id":921645,"question_id":921384,"body_markdown":"The answer is &quot;All of them&quot;. A java array is allocated with a fixed number of element slots. The &quot;length&quot; attribute will tell you how many. That number is immutable for the life of the array. For a resizable equivalent, you need one of the java.util.List classes - where you can use the size() method to find out how many elements are in use.\r\n\r\nHowever, there&#39;s &quot;In use&quot; and then there&#39;s *In Use*. In an class object array, you can have element slots whose elements are null objects, so even though they count in the length attribute, but most people&#39;s definitions, they&#39;re not in use (YMMV, depending on the application). There&#39;s no builtin function for returning the null/non-null counts.\r\n\r\nList objects have yet another definition of &quot;In Use&quot;. To avoid excessive creation/destruction of the underlying storage structures, there&#39;s typically some padding in these classes. It&#39;s used internally, but isn&#39;t counted in the returned size() method. And if you attempt to access those items without expanding the List (via the add methods), you&#39;ll get an illegal index exception.\r\n\r\nSo for Lists, you can have &quot;In Use&quot; for non-null, committed elements, All committed elements (including null elements), or All elements, including the expansion space presently allocated.","title":"Java String array: is there a size of method?","body":"<p>The answer is \"All of them\". A java array is allocated with a fixed number of element slots. The \"length\" attribute will tell you how many. That number is immutable for the life of the array. For a resizable equivalent, you need one of the java.util.List classes - where you can use the size() method to find out how many elements are in use.</p>\n\n<p>However, there's \"In use\" and then there's <em>In Use</em>. In an class object array, you can have element slots whose elements are null objects, so even though they count in the length attribute, but most people's definitions, they're not in use (YMMV, depending on the application). There's no builtin function for returning the null/non-null counts.</p>\n\n<p>List objects have yet another definition of \"In Use\". To avoid excessive creation/destruction of the underlying storage structures, there's typically some padding in these classes. It's used internally, but isn't counted in the returned size() method. And if you attempt to access those items without expanding the List (via the add methods), you'll get an illegal index exception.</p>\n\n<p>So for Lists, you can have \"In Use\" for non-null, committed elements, All committed elements (including null elements), or All elements, including the expansion space presently allocated.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1243544472,"creation_date":1243544472,"answer_id":923173,"question_id":921384,"body_markdown":"If you want a function to do this\r\n\r\n    Object array = new String[10];\r\n    int size = Array.getlength(array);\r\n\r\nThis can be useful if you don&#39;t know what type of array you have e.g. int[], byte[] or Object[].\r\n","title":"Java String array: is there a size of method?","body":"<p>If you want a function to do this</p>\n\n<pre><code>Object array = new String[10];\nint size = Array.getlength(array);\n</code></pre>\n\n<p>This can be useful if you don't know what type of array you have e.g. int[], byte[] or Object[].</p>\n"},{"tags":[],"owner":{"account_id":1041406,"reputation":21,"user_id":1047375,"display_name":"vidyasagar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321426004,"creation_date":1321425223,"answer_id":8147654,"question_id":921384,"body_markdown":"All the above answers are proper. The important thing to observe is arrays have length attribute but not length method. Whenever you use strings and arrays in java the three basic models you might face are:\r\n\r\n 1. String s=new String(&quot;vidyasagar&quot;);        \r\nSystem.out.println(s.length());  // In this case we are using only\r\nString. No length attribute for Strings. we have to  use length()\r\nmethod.\r\n 2. int[] s=new int[10];    System.out.println(s.length);   //here we\r\nuse length attribute of arrays.\r\n 3. String[] s=new String[10];   \r\nSystem.out.println(s.length);   // Here even though data type is\r\nString, it&#39;s not a single String. s is a reference for  array of\r\nStrings. So    we use length attribute of arrays to      express how\r\nmany strings can fit in that array.","title":"Java String array: is there a size of method?","body":"<p>All the above answers are proper. The important thing to observe is arrays have length attribute but not length method. Whenever you use strings and arrays in java the three basic models you might face are:</p>\n\n<ol>\n<li>String s=new String(\"vidyasagar\");<br>\nSystem.out.println(s.length());  // In this case we are using only\nString. No length attribute for Strings. we have to  use length()\nmethod.</li>\n<li>int[] s=new int[10];    System.out.println(s.length);   //here we\nuse length attribute of arrays.</li>\n<li>String[] s=new String[10];<br>\nSystem.out.println(s.length);   // Here even though data type is\nString, it's not a single String. s is a reference for  array of\nStrings. So    we use length attribute of arrays to      express how\nmany strings can fit in that array.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1084527,"reputation":383,"user_id":1080563,"accept_rate":67,"display_name":"Liang"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1393147564,"creation_date":1325283810,"answer_id":8684644,"question_id":921384,"body_markdown":"Also, it&#39;s probably useful to note that if you have a multiple dimensional Array, you can get the respective dimension just by appending a  &#39;[0]&#39; to the array you are querying until you arrive at the appropriate  axis/tuple/dimension.\r\n\r\nThis is probably better explained with the following code:\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args){\r\n    \t\tString[][] moo = new String[5][12];\r\n    \t\t\r\n    \t\tSystem.out.println(moo.length); //Prints the size of the First Dimension in the array\r\n    \t\tSystem.out.println(moo[0].length);//Prints the size of the Second Dimension in the array\r\n    \t}\r\n    \r\n    }\r\n\r\nWhich produces the output:\r\n\r\n    5\r\n    12","title":"Java String array: is there a size of method?","body":"<p>Also, it's probably useful to note that if you have a multiple dimensional Array, you can get the respective dimension just by appending a  '[0]' to the array you are querying until you arrive at the appropriate  axis/tuple/dimension.</p>\n\n<p>This is probably better explained with the following code:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args){\n        String[][] moo = new String[5][12];\n\n        System.out.println(moo.length); //Prints the size of the First Dimension in the array\n        System.out.println(moo[0].length);//Prints the size of the Second Dimension in the array\n    }\n\n}\n</code></pre>\n\n<p>Which produces the output:</p>\n\n<pre><code>5\n12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5716625,"reputation":349,"user_id":4516579,"display_name":"Nzui Manto"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1497453978,"creation_date":1434407475,"answer_id":30856049,"question_id":921384,"body_markdown":"There is a difference between length of `String` and `array` to clarify: \r\n\r\n    int a[] = {1, 2, 3, 4};\r\n    String s = &quot;1234&quot;;\r\n\r\n    a.length //gives the length of the array\r\n\r\n    s.length() //gives the length of the string","title":"Java String array: is there a size of method?","body":"<p>There is a difference between length of <code>String</code> and <code>array</code> to clarify: </p>\n\n<pre><code>int a[] = {1, 2, 3, 4};\nString s = \"1234\";\n\na.length //gives the length of the array\n\ns.length() //gives the length of the string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17300513,"reputation":276,"user_id":12530299,"display_name":"Anna Christiane Kolandjian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654159150,"creation_date":1654159150,"answer_id":72473211,"question_id":921384,"body_markdown":"yes it&#39;s actually the str.length without ()\r\nfor example :\r\n```\r\nString[] strArray = {&quot;how&quot;, &quot;are&quot;, &quot;you&quot;};\r\nstrArray.length; //returns the length of the string\r\n```","title":"Java String array: is there a size of method?","body":"<p>yes it's actually the str.length without ()\nfor example :</p>\n<pre><code>String[] strArray = {&quot;how&quot;, &quot;are&quot;, &quot;you&quot;};\nstrArray.length; //returns the length of the string\n</code></pre>\n"}],"owner":{"account_id":10070,"reputation":13524,"user_id":18853,"accept_rate":66,"display_name":"phill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":920486,"favorite_count":0,"down_vote_count":2,"up_vote_count":170,"accepted_answer_id":921412,"answer_count":12,"score":168,"last_activity_date":1654159150,"creation_date":1243523643,"question_id":921384,"body_markdown":"I come from a php background and in php, there is an `array_size()` function which tells you how many elements in the array are used. \r\n\r\nIs there a similar method for a `String[]` array? Thanks.","title":"Java String array: is there a size of method?","body":"<p>I come from a php background and in php, there is an <code>array_size()</code> function which tells you how many elements in the array are used. </p>\n\n<p>Is there a similar method for a <code>String[]</code> array? Thanks.</p>\n"},{"tags":["java","spring-data-jpa"],"owner":{"account_id":23499121,"reputation":319,"user_id":17549203,"display_name":"Vikash Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654158955,"creation_date":1654158955,"question_id":72473163,"body_markdown":"In below code I am using concat_ws in criteria builder but it&#39;s not working instead if i use multiple concat it works. but i want use concat_ws. Is there other way to achieve this.\r\n```\r\nCriteriaBuilder cb=entityManager.getCriteriaBuilder()\r\nCriteriaQuery&lt;String&gt; cq=cb.createQuery(String.class)\r\nRoot&lt;A.class&gt;a=cq.from(A.class)\r\njoin&lt;A,B&gt;join=a.join(&quot;join_key&quot;,joinType.LEFT)\r\ncq.select(\r\ncb.function(&quot;CONCAT_WS&quot;,String.class,cb.literal(&quot;/&quot;),a.get(&quot;path1&quot;), a.get(&quot;path2&quot;),a.get(&quot;path3&quot;))\r\n);\r\n```","title":"how to use concat_ws in criteria query?","body":"<p>In below code I am using concat_ws in criteria builder but it's not working instead if i use multiple concat it works. but i want use concat_ws. Is there other way to achieve this.</p>\n<pre><code>CriteriaBuilder cb=entityManager.getCriteriaBuilder()\nCriteriaQuery&lt;String&gt; cq=cb.createQuery(String.class)\nRoot&lt;A.class&gt;a=cq.from(A.class)\njoin&lt;A,B&gt;join=a.join(&quot;join_key&quot;,joinType.LEFT)\ncq.select(\ncb.function(&quot;CONCAT_WS&quot;,String.class,cb.literal(&quot;/&quot;),a.get(&quot;path1&quot;), a.get(&quot;path2&quot;),a.get(&quot;path3&quot;))\n);\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":1301939,"reputation":23054,"user_id":1251660,"accept_rate":78,"display_name":"slayedbylucifer"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1404665200,"creation_date":1404665200,"answer_id":24598105,"question_id":24588742,"body_markdown":"Java 8 may not be available out-of-the-box on the AMI that you are looking  for. However, you can always install it once the instance is created.\r\n\r\ne.g. Check [this post][1] which explains how to install java 8 on `Ubuntu` OR check [this post][2] which explains how to install Java 8 on `RHEL/Fedora/CentOS`.\r\n\r\n\r\n  [1]: http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html\r\n  [2]: http://tecadmin.net/install-java-8-on-centos-rhel-and-fedora/","title":"Java 8 application on EC2","body":"<p>Java 8 may not be available out-of-the-box on the AMI that you are looking  for. However, you can always install it once the instance is created.</p>\n\n<p>e.g. Check <a href=\"http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html\">this post</a> which explains how to install java 8 on <code>Ubuntu</code> OR check <a href=\"http://tecadmin.net/install-java-8-on-centos-rhel-and-fedora/\">this post</a> which explains how to install Java 8 on <code>RHEL/Fedora/CentOS</code>.</p>\n"},{"tags":[],"owner":{"account_id":393010,"reputation":4140,"user_id":754625,"accept_rate":44,"display_name":"Damith Ganegoda"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1453134360,"creation_date":1449140755,"answer_id":34064352,"question_id":24588742,"body_markdown":"check Java current version\r\n\r\n    java -version\r\n\r\ninstall Java 1.8\r\n\r\n    sudo yum install java-1.8.0\r\n\r\nchange the Java version\r\n\r\n    sudo alternatives --config java","title":"Java 8 application on EC2","body":"<p>check Java current version</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>install Java 1.8</p>\n\n<pre><code>sudo yum install java-1.8.0\n</code></pre>\n\n<p>change the Java version</p>\n\n<pre><code>sudo alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11396695,"reputation":529,"user_id":8354827,"display_name":"Praneeth"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1596218875,"creation_date":1541452907,"answer_id":53162426,"question_id":24588742,"body_markdown":"Installing JDK 8:\r\n\r\nStep 1: Check the Java Version\r\n        \r\n         java -version\r\n\r\nStep 2: Download RPM package of Oracle JDK (8u121)\r\n\r\n         wget --no-check-certificate --no-cookies --header &quot;Cookie:oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.rpm\r\n\r\nStep 4: Install JDK 8\r\n\r\n         sudo yum install -y jdk-8u141-linux-x64.rpm\r\n\r\nStep 5: Verify oracle JDK version\r\n\r\n         java -version\r\n\r\nInstalling JRE 1.8\r\n\r\n       sudo yum install java-1.8.0\r\n\r\nchange the Java version\r\n\r\n      sudo alternatives --config java\r\n\r\n","title":"Java 8 application on EC2","body":"<p>Installing JDK 8:</p>\n<p>Step 1: Check the Java Version</p>\n<pre><code>     java -version\n</code></pre>\n<p>Step 2: Download RPM package of Oracle JDK (8u121)</p>\n<pre><code>     wget --no-check-certificate --no-cookies --header &quot;Cookie:oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u141-b15/336fa29ff2bb4ef291e347e091f7f4a7/jdk-8u141-linux-x64.rpm\n</code></pre>\n<p>Step 4: Install JDK 8</p>\n<pre><code>     sudo yum install -y jdk-8u141-linux-x64.rpm\n</code></pre>\n<p>Step 5: Verify oracle JDK version</p>\n<pre><code>     java -version\n</code></pre>\n<p>Installing JRE 1.8</p>\n<pre><code>   sudo yum install java-1.8.0\n</code></pre>\n<p>change the Java version</p>\n<pre><code>  sudo alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558985085,"creation_date":1558985085,"answer_id":56331490,"question_id":24588742,"body_markdown":" 1. Donwload Linux version of JRE from below link to your windows machine as it has browser. Note that if you are using this EC2 instance as server you just need JRE and not complete JDK. \r\n    https://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html\r\n 2. Tranfer downloaded .tar.gz file using winscp to your EC2 instance.\r\n 3. Run &quot;tar zxvf jre-8uversion-linux-i586.tar.gz&quot; on your EC2 instance.  For more info https://docs.oracle.com/javase/8/docs/technotes/guides/install/linux_jre.html#CFHBHAGI","title":"Java 8 application on EC2","body":"<ol>\n<li>Donwload Linux version of JRE from below link to your windows machine as it has browser. Note that if you are using this EC2 instance as server you just need JRE and not complete JDK. \n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html</a></li>\n<li>Tranfer downloaded .tar.gz file using winscp to your EC2 instance.</li>\n<li>Run \"tar zxvf jre-8uversion-linux-i586.tar.gz\" on your EC2 instance.  For more info <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/linux_jre.html#CFHBHAGI\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/install/linux_jre.html#CFHBHAGI</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3472895,"reputation":5675,"user_id":2906820,"accept_rate":77,"display_name":"rodolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616772801,"creation_date":1616772801,"answer_id":66819907,"question_id":24588742,"body_markdown":"This question is old but this may help with Java 11. If anybody is interested in installing Java JDK 11, I run\r\n\r\n    sudo amazon-linux-extras install java-openjdk11\r\n\r\nin my EC2 instance with Amazon Linux. \r\nI got it from here:\r\nhttps://tecadmin.net/install-java-on-amazon-linux/\r\n","title":"Java 8 application on EC2","body":"<p>This question is old but this may help with Java 11. If anybody is interested in installing Java JDK 11, I run</p>\n<pre><code>sudo amazon-linux-extras install java-openjdk11\n</code></pre>\n<p>in my EC2 instance with Amazon Linux.\nI got it from here:\n<a href=\"https://tecadmin.net/install-java-on-amazon-linux/\" rel=\"nofollow noreferrer\">https://tecadmin.net/install-java-on-amazon-linux/</a></p>\n"},{"tags":[],"owner":{"account_id":25313898,"reputation":3,"user_id":19136284,"display_name":"Jebin C Varghese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654158855,"creation_date":1654158842,"answer_id":72473144,"question_id":24588742,"body_markdown":"You can install Amazon Corretto 8 as either the runtime environment (JRE) or the full development environment (JDK). The development environment includes the runtime environment.\r\n```\r\nsudo yum install java-11-amazon-corretto -y\r\n```\r\n\r\nYou can follow the AWS official document from here: https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/amazon-linux-install.html","title":"Java 8 application on EC2","body":"<p>You can install Amazon Corretto 8 as either the runtime environment (JRE) or the full development environment (JDK). The development environment includes the runtime environment.</p>\n<pre><code>sudo yum install java-11-amazon-corretto -y\n</code></pre>\n<p>You can follow the AWS official document from here: <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/amazon-linux-install.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/amazon-linux-install.html</a></p>\n"}],"owner":{"account_id":36621,"reputation":2571,"user_id":104491,"accept_rate":75,"display_name":"Rune Aamodt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64908,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":6,"score":27,"last_activity_date":1654158855,"creation_date":1404580074,"question_id":24588742,"body_markdown":"I was wondering if anyone knows if it will be possible for me to install Java 8 on an EC2 instance. My application is packed as a fat jar with embedded jetty, so the Java 8 runtime alone should be sufficient.\r\n\r\nI&#39;m not too familiar with Linux, and I saw that they only had Java 7 support on the default AMI. Is there a simple command I can run to update to Java 8?","title":"Java 8 application on EC2","body":"<p>I was wondering if anyone knows if it will be possible for me to install Java 8 on an EC2 instance. My application is packed as a fat jar with embedded jetty, so the Java 8 runtime alone should be sufficient.</p>\n\n<p>I'm not too familiar with Linux, and I saw that they only had Java 7 support on the default AMI. Is there a simple command I can run to update to Java 8?</p>\n"},{"tags":["java","spring-boot","soap","wsdl","soapui"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654158911,"post_id":72473086,"comment_id":128026345,"body_markdown":"You already have the URL (that is what you got the WSDL from). You already know the structure that is the classes you generated. Call the URL with a `WebServiceTemplate` from Spring WS and pass the filled request.","body":"You already have the URL (that is what you got the WSDL from). You already know the structure that is the classes you generated. Call the URL with a <code>WebServiceTemplate</code> from Spring WS and pass the filled request."},{"owner":{"account_id":18067214,"reputation":51,"user_id":13132740,"display_name":"Abhishikth"},"score":0,"creation_date":1654169573,"post_id":72473086,"comment_id":128029819,"body_markdown":"is it possible to share some articles or videos explaining this step by step? I dont understand how to read the wsdl file or the java files it generated. The files generated all have random names and random annotations i have never seen before.","body":"is it possible to share some articles or videos explaining this step by step? I dont understand how to read the wsdl file or the java files it generated. The files generated all have random names and random annotations i have never seen before."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654170135,"post_id":72473086,"comment_id":128030029,"body_markdown":"Why would you need to read those java files? Just create an instance and send it.","body":"Why would you need to read those java files? Just create an instance and send it."}],"owner":{"account_id":18067214,"reputation":51,"user_id":13132740,"display_name":"Abhishikth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654158554,"creation_date":1654158554,"question_id":72473086,"body_markdown":"I have recieved a URL from Project B and I generated wsdl file from that url.\r\nIn the wsdl file, there are some fields for request and response.\r\nUsing wsdl2java i have generated java classes in my project.\r\n\r\nNow my question is how do i send data in my Project A, to Project B? I am able to make an API and get data in json format. But I need to send this data to this Project B by hitting their URL. So how do I know what structure my request and response should be in? How do I hit their URL?\r\nI dont understand how to start writing the code. Any help is appreciated. ","title":"How do I send data from my spring boot application to SOAP webservices?","body":"<p>I have recieved a URL from Project B and I generated wsdl file from that url.\nIn the wsdl file, there are some fields for request and response.\nUsing wsdl2java i have generated java classes in my project.</p>\n<p>Now my question is how do i send data in my Project A, to Project B? I am able to make an API and get data in json format. But I need to send this data to this Project B by hitting their URL. So how do I know what structure my request and response should be in? How do I hit their URL?\nI dont understand how to start writing the code. Any help is appreciated.</p>\n"},{"tags":["java","maven","code-coverage"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1654160050,"post_id":72389588,"comment_id":128026698,"body_markdown":"I think Jacoco produces all artifacts only on target directory, that can be clean with a simple &quot;mvn clean&quot; command. So Jacoco per se cannot save the value of the previous code coverage metric to be useful to the next run. If you can use a tool like Jenkins or Sonar, then you can configure these rules. Sonar example: https://docs.sonarqube.org/latest/project-administration/new-code-period/","body":"I think Jacoco produces all artifacts only on target directory, that can be clean with a simple &quot;mvn clean&quot; command. So Jacoco per se cannot save the value of the previous code coverage metric to be useful to the next run. If you can use a tool like Jenkins or Sonar, then you can configure these rules. Sonar example: <a href=\"https://docs.sonarqube.org/latest/project-administration/new-code-period/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/project-administration/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654158153,"creation_date":1654158153,"answer_id":72472992,"question_id":72389588,"body_markdown":"The [Code Coverage API Jenkins plugin][1] comes with a [REST API][1] which includes:\r\n\r\n&gt; ## Coverage result of last build: \r\n&gt;\r\n&gt;      /{buildNumber}/coverage//last/result/api/\\{json|xml\\}?depth={number}\r\n\r\nThe idea would be to define a step for storing that value in a variable, and then use said variable in limit configuration:\r\n\r\n```xml\r\n&lt;rules&gt;\r\n  &lt;rule implementation=&quot;org.jacoco.maven.RuleConfiguration&quot;&gt;\r\n    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n    &lt;limits&gt;\r\n      &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\r\n        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n        &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n        &lt;minimum&gt;${env.LAST_BULD_COVERAGE}&lt;/minimum&gt;\r\n      &lt;/limit&gt;\r\n```\r\n\r\n\r\n  [1]: https://plugins.jenkins.io/code-coverage-api/#plugin-content-rest-api","title":"How to fail a maven build, if JUnit coverage falls below previous coverage?","body":"<p>The <a href=\"https://plugins.jenkins.io/code-coverage-api/#plugin-content-rest-api\" rel=\"noreferrer\">Code Coverage API Jenkins plugin</a> comes with a <a href=\"https://plugins.jenkins.io/code-coverage-api/#plugin-content-rest-api\" rel=\"noreferrer\">REST API</a> which includes:</p>\n<blockquote>\n<h2>Coverage result of last build:</h2>\n<pre><code> /{buildNumber}/coverage//last/result/api/\\{json|xml\\}?depth={number}\n</code></pre>\n</blockquote>\n<p>The idea would be to define a step for storing that value in a variable, and then use said variable in limit configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rules&gt;\n  &lt;rule implementation=&quot;org.jacoco.maven.RuleConfiguration&quot;&gt;\n    &lt;element&gt;BUNDLE&lt;/element&gt;\n    &lt;limits&gt;\n      &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\n        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n        &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n        &lt;minimum&gt;${env.LAST_BULD_COVERAGE}&lt;/minimum&gt;\n      &lt;/limit&gt;\n</code></pre>\n"}],"owner":{"account_id":5744250,"reputation":103,"user_id":4535957,"accept_rate":62,"display_name":"Xegara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72472992,"answer_count":1,"score":3,"last_activity_date":1654158153,"creation_date":1653557068,"question_id":72389588,"body_markdown":"I&#39;ve read that we can configure [JaCoCo to fail the maven build if the test code coverage is below a predefined threshold][1] but how about if we want to fail the build if the test code coverage drops from the **previous test code coverage?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41891739/how-to-fail-a-maven-build-if-junit-coverage-falls-below-certain-threshold","title":"How to fail a maven build, if JUnit coverage falls below previous coverage?","body":"<p>I've read that we can configure <a href=\"https://stackoverflow.com/questions/41891739/how-to-fail-a-maven-build-if-junit-coverage-falls-below-certain-threshold\">JaCoCo to fail the maven build if the test code coverage is below a predefined threshold</a> but how about if we want to fail the build if the test code coverage drops from the <strong>previous test code coverage?</strong></p>\n"},{"tags":["java","kotlin","jvm","byte"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1654096884,"post_id":72464316,"comment_id":128011513,"body_markdown":"Because nobody bothers to do math on bytes; they&#39;re pretty universally used for stored data only.","body":"Because nobody bothers to do math on bytes; they&#39;re pretty universally used for stored data only."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1654096998,"post_id":72464316,"comment_id":128011563,"body_markdown":"It isn&#39;t defined for `short` either","body":"It isn&#39;t defined for <code>short</code> either"},{"owner":{"account_id":4630738,"reputation":803,"user_id":3753336,"display_name":"blade"},"score":0,"creation_date":1654097553,"post_id":72464316,"comment_id":128011785,"body_markdown":"@LouisWasserman well in the audio world you run into byte arrays because samples can be represented in bytes depending on the encoding.","body":"@LouisWasserman well in the audio world you run into byte arrays because samples can be represented in bytes depending on the encoding."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1654098095,"post_id":72464316,"comment_id":128011997,"body_markdown":"You can always use the version that takes an `int` and the result to `byte`. That will give incorrect results for -128 though, as 128 cast to `byte` is -128. However, the same is true for `Integer.MIN_VALUE` - it&#39;s even documented.","body":"You can always use the version that takes an <code>int</code> and the result to <code>byte</code>. That will give incorrect results for -128 though, as 128 cast to <code>byte</code> is -128. However, the same is true for <code>Integer.MIN_VALUE</code> - it&#39;s even documented."},{"owner":{"account_id":182808,"reputation":302,"user_id":417772,"accept_rate":75,"display_name":"Mark Abersold"},"score":1,"creation_date":1654107828,"post_id":72464316,"comment_id":128015369,"body_markdown":"Can you clarify your question? Unless there is a developer of the Kotlin language around nobody can really answer why there is no Math.abs that accepts a byte. If your question is how to do Math.abs on a byte we could potentially answer that, but I&#39;m not sure if that&#39;s what you are asking.","body":"Can you clarify your question? Unless there is a developer of the Kotlin language around nobody can really answer why there is no Math.abs that accepts a byte. If your question is how to do Math.abs on a byte we could potentially answer that, but I&#39;m not sure if that&#39;s what you are asking."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654109864,"post_id":72464316,"comment_id":128016021,"body_markdown":"Interesting I started to draft an Answer saying that a `Byte`/`byte` in Java is neither positive nor negative. But then I checked the [Java Language Specification](https://docs.oracle.com/javase/specs/). Section [4.2.1. *Integral Types and Values*](https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.2.1) of the spec says explicitly that a `byte` is a number in the range of -128 to 127, inclusive. So this is a curious Question, as logically there should indeed be a `Math.abs( byte )` and `Math.abs( short )` as there is a `abs` method for `int`, `long`, `float`, and `double`.","body":"Interesting I started to draft an Answer saying that a <code>Byte</code>/<code>byte</code> in Java is neither positive nor negative. But then I checked the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java Language Specification</a>. Section <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.2.1\" rel=\"nofollow noreferrer\">4.2.1. <i>Integral Types and Values</i></a> of the spec says explicitly that a <code>byte</code> is a number in the range of -128 to 127, inclusive. So this is a curious Question, as logically there should indeed be a <code>Math.abs( byte )</code> and <code>Math.abs( short )</code> as there is a <code>abs</code> method for <code>int</code>, <code>long</code>, <code>float</code>, and <code>double</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654156470,"post_id":72464316,"comment_id":128025542,"body_markdown":"@BasilBourque the only integral type that is neither positive nor negative is `boolean`. There is a type that is never negative, `char`, but that doesnt imply that it is neither positive nor negative, as a `char` value is still either zero or positive. And Java doesnt mind if you write `Math.abs(&#39;A&#39;)` or even a statement like `if(&#39;x&#39; &lt; 0) System.out.println(&quot;impossible&quot;);`. Thats not the point.","body":"@BasilBourque the only integral type that is neither positive nor negative is <code>boolean</code>. There is a type that is never negative, <code>char</code>, but that doesnt imply that it is neither positive nor negative, as a <code>char</code> value is still either zero or positive. And Java doesnt mind if you write <code>Math.abs(&#39;A&#39;)</code> or even a statement like <code>if(&#39;x&#39; &lt; 0) System.out.println(&quot;impossible&quot;);</code>. Thats not the point."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654156684,"post_id":72464316,"comment_id":128025618,"body_markdown":"@Holger But there&#39;s the rub. Intuitively, I would not think of a &quot;byte&quot; type as being an integral type. I would think of a &quot;byte&quot; type as a merely an ordered collection of bits, without interpretation as a number.","body":"@Holger But there&#39;s the rub. Intuitively, I would not think of a &quot;byte&quot; type as being an integral type. I would think of a &quot;byte&quot; type as a merely an ordered collection of bits, without interpretation as a number."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654156888,"post_id":72464316,"comment_id":128025681,"body_markdown":"@BasilBourque really? What is it then, what you would think of a `byte`, if not an integral type? Both meanings (built-in type and integer type) fit perfectly.","body":"@BasilBourque really? What is it then, what you would think of a <code>byte</code>, if not an integral type? Both meanings (built-in type and integer type) fit perfectly."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654157339,"post_id":72464316,"comment_id":128025807,"body_markdown":"@Holger As an ordered collection of bits, a &quot;byte&quot; type in my mind would not be negative nor positive, nor would it makes sense to ask for absolute value. But the point here on this page is that my intuitive sense of a byte is *not* the definition of the `byte`/`Byte` type in Java. Clearly, the designers of Java intended `byte`/`Byte` to be a shorter `short`/`Short`, an 8-bit signed number, as a smaller member of the short-int-long family. Hence the validity of this pages Question: Why is `byte` defined as an integral type yet not treated as an integer when it comes to `abs` methods, etc.?","body":"@Holger As an ordered collection of bits, a &quot;byte&quot; type in my mind would not be negative nor positive, nor would it makes sense to ask for absolute value. But the point here on this page is that my intuitive sense of a byte is <i>not</i> the definition of the <code>byte</code>/<code>Byte</code> type in Java. Clearly, the designers of Java intended <code>byte</code>/<code>Byte</code> to be a shorter <code>short</code>/<code>Short</code>, an 8-bit signed number, as a smaller member of the short-int-long family. Hence the validity of this pages Question: Why is <code>byte</code> defined as an integral type yet not treated as an integer when it comes to <code>abs</code> methods, etc.?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654157340,"post_id":72464316,"comment_id":128025808,"body_markdown":"@BasilBourque thats a valid interpretation when you have graphic data stored in a byte array, but you could say similar things about the `int` array encoding (a)rgb data. Likewise, a byte sequence containing encoded characters can be seen as non-numeric. However, the OP mentions audio data, where treating bytes as the signed values, as they are defined in Java, is perfectly valid. And I answered that question, taking the overall language design into account. `byte` and `short` are smaller numbers (and, in fact, `char` too, for that matter), but their arithmetic operations always use `int`.","body":"@BasilBourque thats a valid interpretation when you have graphic data stored in a byte array, but you could say similar things about the <code>int</code> array encoding (a)rgb data. Likewise, a byte sequence containing encoded characters can be seen as non-numeric. However, the OP mentions audio data, where treating bytes as the signed values, as they are defined in Java, is perfectly valid. And I answered that question, taking the overall language design into account. <code>byte</code> and <code>short</code> are smaller numbers (and, in fact, <code>char</code> too, for that matter), but their arithmetic operations always use <code>int</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1654281787,"post_id":72464316,"comment_id":128061992,"body_markdown":"@BasilBourque Suppose that Java did provide a `static byte Math.abs(byte a)` method. Given that you have already mentioned that _&quot;the spec says explicitly that a byte is a number in the range of -128 to 127, inclusive&quot;_, what should that method return as the absolute value of -128?","body":"@BasilBourque Suppose that Java did provide a <code>static byte Math.abs(byte a)</code> method. Given that you have already mentioned that <i>&quot;the spec says explicitly that a byte is a number in the range of -128 to 127, inclusive&quot;</i>, what should that method return as the absolute value of -128?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654292035,"post_id":72464316,"comment_id":128064726,"body_markdown":"@skomisa Oh, I don&#39;t know. Maybe the same thing it does for [`Math.abs( int )`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)) and [`Math.abs( long )`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(long))? To quote the Javadoc:  *Note that if the argument is equal to the value of Integer.MIN_VALUE, the most negative representable int value, the result is that same value, which is negative. In contrast, the absExact(int) method throws an ArithmeticException for this value.*","body":"@skomisa Oh, I don&#39;t know. Maybe the same thing it does for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\"><code>Math.abs( int )</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(long)\" rel=\"nofollow noreferrer\"><code>Math.abs( long )</code></a>? To quote the Javadoc:  <i>Note that if the argument is equal to the value of Integer.MIN_VALUE, the most negative representable int value, the result is that same value, which is negative. In contrast, the absExact(int) method throws an ArithmeticException for this value.</i>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1654485116,"post_id":72464316,"comment_id":128094501,"body_markdown":"@BasilBourque So for -128, a `byte` implementation of `abs()` would return -128 (or even +127 as proposed in an answer below!), while the `int` implementation returns +128. That is a disaster waiting to happen. Regardless of that though, the widening/promotion for `byte`, described in Holger&#39;s answer below, explains why it is entirely appropriate that there is no `byte` implementation of `abs()` in **java.lang.Math**.","body":"@BasilBourque So for -128, a <code>byte</code> implementation of <code>abs()</code> would return -128 (or even +127 as proposed in an answer below!), while the <code>int</code> implementation returns +128. That is a disaster waiting to happen. Regardless of that though, the widening/promotion for <code>byte</code>, described in Holger&#39;s answer below, explains why it is entirely appropriate that there is no <code>byte</code> implementation of <code>abs()</code> in <b>java.lang.Math</b>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654156155,"creation_date":1654156155,"answer_id":72472520,"question_id":72464316,"body_markdown":"The operations in `java.lang.Math` are in line with all other arithmetic operations in Java. Integer operations always work in either, 64 bit `long` or 32 bit `int`.\r\n\r\nAs stated in [JLS, &#167;4.2.2. Integer Operations]\r\n\r\n&gt; If an integer operator other than a shift operator has at least one operand of type `long`, then the operation is carried out using 64-bit precision, and the result of the numerical operator is of type `long`. If the other operand is not `long`, it is first widened ([&#167;5.1.5]) to type `long` by numeric promotion ([&#167;5.6]).\r\n&gt; \r\n&gt; Otherwise, the operation is carried out using 32-bit precision, and the result of the numerical operator is of type `int`. If either operand is not an `int`, it is first widened to type `int` by numeric promotion.\r\n\r\nIn other words, not even the following, equivalent to `abs`, would compile:\r\n\r\n```java\r\nbyte a = 42, absA = a &lt; 0? -a: a;\r\n```\r\nas the numeric operation `-a` will promote `a` to `int` before negating.\r\n\r\nIts important that a cast of the result to `byte` would not be a lossless operation here. The `byte` datatype has a value range from `-128` to `+127`, so if the value is `-128`, its absolute value `+128` is outside the byte value range and a cast to `byte` would cause an overflow to `-127`.\r\n\r\nTherefore, to have a correct and efficient calculation, you should do as always in Java when it comes to `byte`, `short`, or `char` calculations, calculate everything using `int` and only cast the final result back to your data type. When you want to calculate the average, you have to calculate the sum using `int` anyway (or even `long` if you have more than 16777215 array elements).\r\n\r\n```java\r\nbyte[] array // e.g. test case: = { 1, -1, -128, 127 };\r\n\r\nint sum = 0;\r\nfor(byte b: array) sum += Math.abs(b);\r\nint average = sum/array.length;\r\n// if you really need a byte result\r\nbyte byteAverage = average == 128? 127: (byte)average;\r\n```\r\n\r\nI dont know about Kotlin, but in Java, the automatic promotion to `int` also works if the operand is of type `Byte`, so you dont need to cast it to an integer to call `Math.abs(int)`. You only have to deal with the fact that the result will be an `int`, as with all arithmetic operations on `byte`, `short`, `char`, or their wrapper types.\r\n\r\n[JLS, &#167;4.2.2. Integer Operations]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2.2-200\r\n[&#167;5.1.5]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.5 (5.1.5. Widening Reference Conversion)\r\n[&#167;5.6]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.6 (5.6. Numeric Contexts)","title":"Finding the absolute value of a Byte variable in Kotlin or Java?","body":"<p>The operations in <code>java.lang.Math</code> are in line with all other arithmetic operations in Java. Integer operations always work in either, 64 bit <code>long</code> or 32 bit <code>int</code>.</p>\n<p>As stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2.2-200\" rel=\"nofollow noreferrer\">JLS, 4.2.2. Integer Operations</a></p>\n<blockquote>\n<p>If an integer operator other than a shift operator has at least one operand of type <code>long</code>, then the operation is carried out using 64-bit precision, and the result of the numerical operator is of type <code>long</code>. If the other operand is not <code>long</code>, it is first widened (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.5\" rel=\"nofollow noreferrer\" title=\"5.1.5. Widening Reference Conversion\">5.1.5</a>) to type <code>long</code> by numeric promotion (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.6\" rel=\"nofollow noreferrer\" title=\"5.6. Numeric Contexts\">5.6</a>).</p>\n<p>Otherwise, the operation is carried out using 32-bit precision, and the result of the numerical operator is of type <code>int</code>. If either operand is not an <code>int</code>, it is first widened to type <code>int</code> by numeric promotion.</p>\n</blockquote>\n<p>In other words, not even the following, equivalent to <code>abs</code>, would compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte a = 42, absA = a &lt; 0? -a: a;\n</code></pre>\n<p>as the numeric operation <code>-a</code> will promote <code>a</code> to <code>int</code> before negating.</p>\n<p>Its important that a cast of the result to <code>byte</code> would not be a lossless operation here. The <code>byte</code> datatype has a value range from <code>-128</code> to <code>+127</code>, so if the value is <code>-128</code>, its absolute value <code>+128</code> is outside the byte value range and a cast to <code>byte</code> would cause an overflow to <code>-127</code>.</p>\n<p>Therefore, to have a correct and efficient calculation, you should do as always in Java when it comes to <code>byte</code>, <code>short</code>, or <code>char</code> calculations, calculate everything using <code>int</code> and only cast the final result back to your data type. When you want to calculate the average, you have to calculate the sum using <code>int</code> anyway (or even <code>long</code> if you have more than 16777215 array elements).</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] array // e.g. test case: = { 1, -1, -128, 127 };\n\nint sum = 0;\nfor(byte b: array) sum += Math.abs(b);\nint average = sum/array.length;\n// if you really need a byte result\nbyte byteAverage = average == 128? 127: (byte)average;\n</code></pre>\n<p>I dont know about Kotlin, but in Java, the automatic promotion to <code>int</code> also works if the operand is of type <code>Byte</code>, so you dont need to cast it to an integer to call <code>Math.abs(int)</code>. You only have to deal with the fact that the result will be an <code>int</code>, as with all arithmetic operations on <code>byte</code>, <code>short</code>, <code>char</code>, or their wrapper types.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654158126,"creation_date":1654156908,"answer_id":72472697,"question_id":72464316,"body_markdown":"In java `byte` is signed between -128 and 127, corresponding as (unsigned) int: `0xFF &amp; b` between 128 .. 255, and 0 .. 127.\r\n\r\n`Math.abs` is irrelevant here as probably unsigned byte values are assumed.\r\n\r\n    int[] bytesToInt(byte[] bs) {\r\n        int[] is = new int[bs.length];\r\n        Arrays.fill(is, i -&gt; bs[i] &amp; 0xFF);\r\n        return is;\r\n    }\r\n\r\n    byte byteAbs(byte b) {\r\n        return b &gt;= 0? b : b == -128? 127 : -b;\r\n    }\r\n\r\n`byteAbs` - given for completeness - reduces the range to 7 bits, and has the artefact that -128 maps to 127, as there is no 128.","title":"Finding the absolute value of a Byte variable in Kotlin or Java?","body":"<p>In java <code>byte</code> is signed between -128 and 127, corresponding as (unsigned) int: <code>0xFF &amp; b</code> between 128 .. 255, and 0 .. 127.</p>\n<p><code>Math.abs</code> is irrelevant here as probably unsigned byte values are assumed.</p>\n<pre><code>int[] bytesToInt(byte[] bs) {\n    int[] is = new int[bs.length];\n    Arrays.fill(is, i -&gt; bs[i] &amp; 0xFF);\n    return is;\n}\n\nbyte byteAbs(byte b) {\n    return b &gt;= 0? b : b == -128? 127 : -b;\n}\n</code></pre>\n<p><code>byteAbs</code> - given for completeness - reduces the range to 7 bits, and has the artefact that -128 maps to 127, as there is no 128.</p>\n"}],"owner":{"account_id":4630738,"reputation":803,"user_id":3753336,"display_name":"blade"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72472520,"answer_count":2,"score":0,"last_activity_date":1654158126,"creation_date":1654096656,"question_id":72464316,"body_markdown":"Why isn&#39;t there any function in the standard library of Kotlin/Java for taking the absolute value of a Byte/byte variable? I&#39;m I missing something?\r\n\r\n**Math.abs()** is only defined for int, long, double and float.\r\n\r\nFor context: in the audio world you can run easily into byte arrays representing the amplitude. I&#39;m interested in calculating the average of the absolute values of a byte array. For e.g see this [listener][1] related to Visualizer in Android.\r\n\r\nI know I can cast it to an integer and take the absolute value of that, but I would still be interested why is this not predefined.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/audiofx/Visualizer.OnDataCaptureListener","title":"Finding the absolute value of a Byte variable in Kotlin or Java?","body":"<p>Why isn't there any function in the standard library of Kotlin/Java for taking the absolute value of a Byte/byte variable? I'm I missing something?</p>\n<p><strong>Math.abs()</strong> is only defined for int, long, double and float.</p>\n<p>For context: in the audio world you can run easily into byte arrays representing the amplitude. I'm interested in calculating the average of the absolute values of a byte array. For e.g see this <a href=\"https://developer.android.com/reference/android/media/audiofx/Visualizer.OnDataCaptureListener\" rel=\"nofollow noreferrer\">listener</a> related to Visualizer in Android.</p>\n<p>I know I can cast it to an integer and take the absolute value of that, but I would still be interested why is this not predefined.</p>\n"},{"tags":["java","optimization","simulation","gravity"],"comments":[{"owner":{"account_id":1017951,"reputation":413,"user_id":1029068,"display_name":"James Moughan"},"score":3,"creation_date":1321220838,"post_id":8114970,"comment_id":9953067,"body_markdown":"Maybe I&#39;m being dense, but don&#39;t you get the distance with sqrt(x^2 + y^2) and then immediately square it in G*m1*m2/r^2 to get the force? Couldn&#39;t you take out the square root altogether?","body":"Maybe I&#39;m being dense, but don&#39;t you get the distance with sqrt(x^2 + y^2) and then immediately square it in G*m1*m2/r^2 to get the force? Couldn&#39;t you take out the square root altogether?"},{"owner":{"account_id":199923,"reputation":106976,"user_id":445517,"accept_rate":43,"display_name":"CodesInChaos"},"score":0,"creation_date":1321221312,"post_id":8114970,"comment_id":9953150,"body_markdown":"@JamesMoughan That doesn&#39;t work. Because you don&#39;t want to calculate the absolute value of the force, but the force vector. And in this formula you get `r_vec/Abs(r)^3`","body":"@JamesMoughan That doesn&#39;t work. Because you don&#39;t want to calculate the absolute value of the force, but the force vector. And in this formula you get <code>r_vec&#47;Abs(r)^3</code>"},{"owner":{"account_id":199923,"reputation":106976,"user_id":445517,"accept_rate":43,"display_name":"CodesInChaos"},"score":3,"creation_date":1321221696,"post_id":8114970,"comment_id":9953221,"body_markdown":"But the main issue here isn&#39;t the cost of the square-root. It&#39;s that the algorithm is quadratic in the number of objects. Using approximations that group objects together you can cut that down to `n*log(n)` or something similar.","body":"But the main issue here isn&#39;t the cost of the square-root. It&#39;s that the algorithm is quadratic in the number of objects. Using approximations that group objects together you can cut that down to <code>n*log(n)</code> or something similar."},{"owner":{"account_id":935194,"reputation":1244,"user_id":964235,"accept_rate":85,"display_name":"Frobot"},"score":0,"creation_date":1400692631,"post_id":8114970,"comment_id":36588947,"body_markdown":"you can remove the square root all together just as james said.\nI just tested it out both ways with identical results.","body":"you can remove the square root all together just as james said. I just tested it out both ways with identical results."}],"answers":[{"tags":[],"owner":{"account_id":103784,"reputation":14970,"user_id":2045611,"accept_rate":91,"display_name":"Cam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363370114,"creation_date":1321220962,"answer_id":8115029,"question_id":8114970,"body_markdown":"One good lossy approach would be to run a [clustering algorithm][1] to cluster the bodies together.\n\nThere are [some][2] clustering algorithms that are fairly fast, and the trick will be to not run the clustering algorithm every tick. Instead run it every C ticks (C&gt;1).\n\nThen for each cluster, calculate the forces between all bodies in the cluster, and then for each cluster calculate the forces between the clusters.\n\nThis will be lossy but I think it is a good approach.\n\nYou&#39;ll have to fiddle with:\n\n - which clustering algorithm to use: Some are faster, some are more accurate. Some are deterministic, some are not.\n - how often to run the clustering algorithm: running it less will be faster, running it more will be more accurate.\n - how small/large to make the clusters: most clustering algorithms allow you some input on the size of the clusters. The larger you allow the clusters to be, the faster but less accurate the output will be.\n\nSo it&#39;s going to be a game of speed vs accuracy, but at least this way you will be _able_ to sacrafice a bit of accuracy for some speed gains - with your current approach there&#39;s nothing you can really tweak at all.\n\n  [1]: http://en.wikipedia.org/wiki/Cluster_analysis\n  [2]: http://en.wikipedia.org/wiki/Fuzzy_clustering#Fuzzy_c-means_clustering","title":"Fast multi-body gravity algorithm?","body":"<p>One good lossy approach would be to run a <a href=\"http://en.wikipedia.org/wiki/Cluster_analysis\" rel=\"nofollow noreferrer\">clustering algorithm</a> to cluster the bodies together.</p>\n<p>There are <a href=\"http://en.wikipedia.org/wiki/Fuzzy_clustering#Fuzzy_c-means_clustering\" rel=\"nofollow noreferrer\">some</a> clustering algorithms that are fairly fast, and the trick will be to not run the clustering algorithm every tick. Instead run it every C ticks (C&gt;1).</p>\n<p>Then for each cluster, calculate the forces between all bodies in the cluster, and then for each cluster calculate the forces between the clusters.</p>\n<p>This will be lossy but I think it is a good approach.</p>\n<p>You'll have to fiddle with:</p>\n<ul>\n<li>which clustering algorithm to use: Some are faster, some are more accurate. Some are deterministic, some are not.</li>\n<li>how often to run the clustering algorithm: running it less will be faster, running it more will be more accurate.</li>\n<li>how small/large to make the clusters: most clustering algorithms allow you some input on the size of the clusters. The larger you allow the clusters to be, the faster but less accurate the output will be.</li>\n</ul>\n<p>So it's going to be a game of speed vs accuracy, but at least this way you will be <em>able</em> to sacrafice a bit of accuracy for some speed gains - with your current approach there's nothing you can really tweak at all.</p>\n"},{"tags":[],"owner":{"account_id":89496,"reputation":53665,"user_id":246886,"accept_rate":94,"display_name":"Jon Purdy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1321222630,"creation_date":1321220974,"answer_id":8115031,"question_id":8114970,"body_markdown":"Take a look at [this question](https://gamedev.stackexchange.com/questions/19393/optimizing-gravity-calculations). You can divide your objects into a grid, and use the fact that many faraway objects can be treated as a single object for a good approximation. The mass of a cell is equal to the sum of the masses of the objects it contains. The centre of mass of a cell can be treated as the centre of the cell itself, or more accurately the [barycenter](http://en.wikipedia.org/wiki/Center_of_mass) of the objects it contains. In the average case, I think this gives you O(&lt;i&gt;n&lt;/i&gt; log &lt;i&gt;n&lt;/i&gt;) performance, rather than O(&lt;i&gt;n&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;), because you still need to calculate the force of gravity on each of &lt;i&gt;n&lt;/i&gt; objects, but each object only interacts *individually* with those nearby.\r\n\r\nAssuming youre calculating the distance with &lt;i&gt;r&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;&amp;nbsp;=&amp;nbsp;&lt;i&gt;x&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;&amp;nbsp;+&amp;nbsp;&lt;i&gt;y&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;, and then calculating the force with &lt;i&gt;F&lt;/i&gt;&amp;nbsp;=&amp;nbsp;G&lt;i&gt;m&lt;/i&gt;&lt;sub&gt;1&lt;/sub&gt;&lt;i&gt;m&lt;/i&gt;&lt;sub&gt;2&lt;/sub&gt;&amp;nbsp;/&amp;nbsp;&lt;i&gt;r&lt;/i&gt;&lt;sup&gt;2&lt;/sup&gt;, you dont need to perform a square root at all. If you do need the actual distance, you can use a [fast inverse square root](http://en.wikipedia.org/wiki/Fast_inverse_square_root). You could also used [fixed-point arithmetic](http://en.wikipedia.org/wiki/Fixed-point_arithmetic).","title":"Fast multi-body gravity algorithm?","body":"<p>Take a look at <a href=\"https://gamedev.stackexchange.com/questions/19393/optimizing-gravity-calculations\">this question</a>. You can divide your objects into a grid, and use the fact that many faraway objects can be treated as a single object for a good approximation. The mass of a cell is equal to the sum of the masses of the objects it contains. The centre of mass of a cell can be treated as the centre of the cell itself, or more accurately the <a href=\"http://en.wikipedia.org/wiki/Center_of_mass\" rel=\"nofollow noreferrer\">barycenter</a> of the objects it contains. In the average case, I think this gives you O(<i>n</i> log <i>n</i>) performance, rather than O(<i>n</i><sup>2</sup>), because you still need to calculate the force of gravity on each of <i>n</i> objects, but each object only interacts <em>individually</em> with those nearby.</p>\n\n<p>Assuming youre calculating the distance with <i>r</i><sup>2</sup>&nbsp;=&nbsp;<i>x</i><sup>2</sup>&nbsp;+&nbsp;<i>y</i><sup>2</sup>, and then calculating the force with <i>F</i>&nbsp;=&nbsp;G<i>m</i><sub>1</sub><i>m</i><sub>2</sub>&nbsp;/&nbsp;<i>r</i><sup>2</sup>, you dont need to perform a square root at all. If you do need the actual distance, you can use a <a href=\"http://en.wikipedia.org/wiki/Fast_inverse_square_root\" rel=\"nofollow noreferrer\">fast inverse square root</a>. You could also used <a href=\"http://en.wikipedia.org/wiki/Fixed-point_arithmetic\" rel=\"nofollow noreferrer\">fixed-point arithmetic</a>.</p>\n"},{"tags":[],"owner":{"account_id":471315,"reputation":2853,"user_id":879034,"accept_rate":73,"display_name":"heneryville"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321221476,"creation_date":1321221476,"answer_id":8115064,"question_id":8114970,"body_markdown":"You may want to try a less precise version of square root. You probably don&#39;t need a full double precision. Especially if the order of magnitude of your coordinate system is normally the same, then you can use a truncated taylor series to estimate the square root operation pretty quickly without giving up too much in efficiency.","title":"Fast multi-body gravity algorithm?","body":"<p>You may want to try a less precise version of square root. You probably don't need a full double precision. Especially if the order of magnitude of your coordinate system is normally the same, then you can use a truncated taylor series to estimate the square root operation pretty quickly without giving up too much in efficiency.</p>\n"},{"tags":[],"owner":{"account_id":150318,"reputation":12611,"user_id":363437,"accept_rate":62,"display_name":"vidstige"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654158007,"creation_date":1654158007,"answer_id":72472960,"question_id":8114970,"body_markdown":"There is a very good approximation to the n-body problem that is much faster (O(n log n) vs O(n&#178;) for the naive algorithm) called [Barnes Hut][1]. Space is subdivided into a hierarchical grid, and when computing force contribution for distant masses, several masses can be considered as one. There is an accuracy parameter that can be tweaked depending on how much your willing to sacrifice accuracy for computation speed.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Barnes%E2%80%93Hut_simulation","title":"Fast multi-body gravity algorithm?","body":"<p>There is a very good approximation to the n-body problem that is much faster (O(n log n) vs O(n) for the naive algorithm) called <a href=\"https://en.wikipedia.org/wiki/Barnes%E2%80%93Hut_simulation\" rel=\"nofollow noreferrer\">Barnes Hut</a>. Space is subdivided into a hierarchical grid, and when computing force contribution for distant masses, several masses can be considered as one. There is an accuracy parameter that can be tweaked depending on how much your willing to sacrifice accuracy for computation speed.</p>\n"}],"owner":{"account_id":1037896,"reputation":51,"user_id":1044618,"display_name":"user1044618"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1654158007,"creation_date":1321220408,"question_id":8114970,"body_markdown":"I am writing a program to simulate an n-body gravity system, whose precision is arbitrarily good depending on how small a step of &quot;time&quot; I take between each step. Right now, it runs very quickly for up to 500 bodies, but after that it gets very slow since it has to run through an algorithm determining the force applied between each pair of bodies for every iteration. This is of complexity n(n+1)/2 = O(n^2), so it&#39;s not surprising that it gets very bad very quickly. I guess the most costly operation is that I determine the distance between each pair by taking a square root. So, in pseudo code, this is how my algorithm currently runs:\r\n\r\n    for (i = 1 to number of bodies - 1) {\r\n      for (j = i to number of bodies) {\r\n       (determining the force between the two objects i and j,\r\n        whose most costly operation is a square root)\r\n      }\r\n    }\r\n\r\nSo, is there any way I can optimize this? Any fancy algorithms to reuse the distances used in past iterations with fast modification? Are there any lossy ways to reduce this problem? Perhaps by ignoring the relationships between objects whose x or y coordinates (it&#39;s in 2 dimensions) exceed a certain amount, as determined by the product of their masses? Sorry if it sounds like I&#39;m rambling, but is there anything I could do to make this faster? I would prefer to keep it arbitrarily precise, but if there are solutions that can reduce the complexity of this problem at the cost of a bit of precision, I&#39;d be interested to hear it.\r\n\r\nThanks.","title":"Fast multi-body gravity algorithm?","body":"<p>I am writing a program to simulate an n-body gravity system, whose precision is arbitrarily good depending on how small a step of \"time\" I take between each step. Right now, it runs very quickly for up to 500 bodies, but after that it gets very slow since it has to run through an algorithm determining the force applied between each pair of bodies for every iteration. This is of complexity n(n+1)/2 = O(n^2), so it's not surprising that it gets very bad very quickly. I guess the most costly operation is that I determine the distance between each pair by taking a square root. So, in pseudo code, this is how my algorithm currently runs:</p>\n\n<pre><code>for (i = 1 to number of bodies - 1) {\n  for (j = i to number of bodies) {\n   (determining the force between the two objects i and j,\n    whose most costly operation is a square root)\n  }\n}\n</code></pre>\n\n<p>So, is there any way I can optimize this? Any fancy algorithms to reuse the distances used in past iterations with fast modification? Are there any lossy ways to reduce this problem? Perhaps by ignoring the relationships between objects whose x or y coordinates (it's in 2 dimensions) exceed a certain amount, as determined by the product of their masses? Sorry if it sounds like I'm rambling, but is there anything I could do to make this faster? I would prefer to keep it arbitrarily precise, but if there are solutions that can reduce the complexity of this problem at the cost of a bit of precision, I'd be interested to hear it.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","arrays","function","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606753705,"creation_date":1606738382,"answer_id":65073378,"question_id":65073072,"body_markdown":" 1. You need to return a `double[]` instead of a `double` from the function. \r\n 2. Since the numbers are of type, `double`, the type of `sum` should be `double`.\r\n\r\n**If all the rows are of equal length:**\r\n\r\n 3. Since you want to add the values of each column, you should add `matrix[j][i]` (instead of `matrix[i][j]`) to `sum` and accordingly `average[i]` will be `sum / matrix.length`.\r\n\r\n\r\n**Demo:**\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Test\r\n            double[][] nums = { { 10, 15, 20 }, { 1, 2, 3 }, { 5, 10, 15 } };\r\n            System.out.println(Arrays.toString(averageColumns(nums)));\r\n        }\r\n    \r\n        static double[] averageColumns(double matrix[][]) {\r\n            int i, j;\r\n            double[] average = new double[matrix.length];\r\n            for (i = 0; i &lt; matrix.length; i++) {\r\n                double sum = 0;\r\n                for (j = 0; j &lt; matrix[i].length; j++) {\r\n                    sum += matrix[j][i];\r\n                }\r\n                average[i] = sum / matrix.length;\r\n            }\r\n            return average;\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [5.333333333333333, 9.0, 12.666666666666666]\r\n\r\n\r\n**If the rows are of different length:**\r\n\r\n\r\n 3. You should first find the maximum of the length of rows which will become the size of the `double[] average`.\r\n 4. Finally, use a 2-level nested loop to calculate the values for `average[]`. The outer loop will run up to `average.length` and the inner loop will run up to the number of rows. While processing each column, use a counter (e.g. `int count`) to keep track of the number of values which are added to `sum`. At the end of the inner loop, `average[i] = sum / count`.\r\n\r\n**Demo:**\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tdouble[][] nums = { { 10, 15, 20 }, { 1, 2 }, { 5, 10, 15, 25 } };\r\n    \t\tSystem.out.println(Arrays.toString(averageColumns(nums)));\r\n    \t}\r\n    \r\n    \tstatic double[] averageColumns(double matrix[][]) {\r\n    \t\t// Find the maximum of the length of rows\r\n    \t\tint max = matrix[0].length;\r\n    \t\tfor (int i = 0; i &lt; matrix.length; i++) {\r\n    \t\t\tif (matrix[i].length &gt; max) {\r\n    \t\t\t\tmax = matrix[i].length;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tint i, j;\r\n    \t\tdouble[] average = new double[max];\r\n    \t\tfor (i = 0; i &lt; average.length; i++) {\r\n    \t\t\tdouble sum = 0;\r\n    \t\t\tint count = 0;\r\n    \t\t\tfor (j = 0; j &lt; matrix.length; j++) {\r\n    \t\t\t\tif (matrix[j].length - 1 &gt;= i) {\r\n    \t\t\t\t\tsum += matrix[j][i];\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\taverage[i] = sum / count;\r\n    \t\t}\r\n    \t\treturn average;\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [5.333333333333333, 9.0, 17.5, 25.0]\r\n\r\n\r\n","title":"How to calculate the average value of each column in 2D array?","body":"<ol>\n<li>You need to return a <code>double[]</code> instead of a <code>double</code> from the function.</li>\n<li>Since the numbers are of type, <code>double</code>, the type of <code>sum</code> should be <code>double</code>.</li>\n</ol>\n<p><strong>If all the rows are of equal length:</strong></p>\n<ol start=\"3\">\n<li>Since you want to add the values of each column, you should add <code>matrix[j][i]</code> (instead of <code>matrix[i][j]</code>) to <code>sum</code> and accordingly <code>average[i]</code> will be <code>sum / matrix.length</code>.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        double[][] nums = { { 10, 15, 20 }, { 1, 2, 3 }, { 5, 10, 15 } };\n        System.out.println(Arrays.toString(averageColumns(nums)));\n    }\n\n    static double[] averageColumns(double matrix[][]) {\n        int i, j;\n        double[] average = new double[matrix.length];\n        for (i = 0; i &lt; matrix.length; i++) {\n            double sum = 0;\n            for (j = 0; j &lt; matrix[i].length; j++) {\n                sum += matrix[j][i];\n            }\n            average[i] = sum / matrix.length;\n        }\n        return average;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[5.333333333333333, 9.0, 12.666666666666666]\n</code></pre>\n<p><strong>If the rows are of different length:</strong></p>\n<ol start=\"3\">\n<li>You should first find the maximum of the length of rows which will become the size of the <code>double[] average</code>.</li>\n<li>Finally, use a 2-level nested loop to calculate the values for <code>average[]</code>. The outer loop will run up to <code>average.length</code> and the inner loop will run up to the number of rows. While processing each column, use a counter (e.g. <code>int count</code>) to keep track of the number of values which are added to <code>sum</code>. At the end of the inner loop, <code>average[i] = sum / count</code>.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        double[][] nums = { { 10, 15, 20 }, { 1, 2 }, { 5, 10, 15, 25 } };\n        System.out.println(Arrays.toString(averageColumns(nums)));\n    }\n\n    static double[] averageColumns(double matrix[][]) {\n        // Find the maximum of the length of rows\n        int max = matrix[0].length;\n        for (int i = 0; i &lt; matrix.length; i++) {\n            if (matrix[i].length &gt; max) {\n                max = matrix[i].length;\n            }\n        }\n\n        int i, j;\n        double[] average = new double[max];\n        for (i = 0; i &lt; average.length; i++) {\n            double sum = 0;\n            int count = 0;\n            for (j = 0; j &lt; matrix.length; j++) {\n                if (matrix[j].length - 1 &gt;= i) {\n                    sum += matrix[j][i];\n                    count++;\n                }\n            }\n            average[i] = sum / count;\n        }\n        return average;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[5.333333333333333, 9.0, 17.5, 25.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606744249,"creation_date":1606739694,"answer_id":65073695,"question_id":65073072,"body_markdown":"This is how you can calculate sum and averages of each row and columns :\r\nThe below example code will print the sum and averages in the same method and wont return any value. If you need to return the actual sum and average then you need to return double[] which will contains all the sums or averages  instead of a double.\r\n\r\n**CODE**    \r\n\r\n    public class Test {\r\n    \t\r\n    \tstatic int m = 3; \r\n    \tstatic int n = 3; \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint i,j;\r\n    \t    int [][]matrix = new int[m][n]; \r\n    \t  \r\n    \t    int x = 1; // x fills up the value of the matrix\r\n    \t    for (i = 0; i &lt; m; i++) \r\n    \t        for (j = 0; j &lt; n; j++) \r\n    \t        \tmatrix[i][j] = x++; \r\n    \t  \r\n    \t    \r\n    \t    System.out.println(&quot;The matrix is : \\n&quot;);\r\n    \t    for (i = 0; i &lt; m; i++) {\r\n    \t        for (j = 0; j &lt; n; j++) {\r\n    \t        \tSystem.out.print(matrix[i][j] + &quot;    &quot;);\r\n    \t        }\r\n    \t        System.out.println();\r\n    \t    }\r\n    \t    \r\n    \t    System.out.println(&quot;\\nPrinting the avg of each col ::&quot;);\r\n    \t    average_columns(matrix);\r\n    \t    \r\n    \t    System.out.println(&quot;\\nPrinting the avg of each row ::&quot;);\r\n    \t    average_rows(matrix);\r\n    \t    \r\n    \t    System.out.println(&quot;\\nPrinting the sum of each col ::&quot;);\r\n    \t    sum_columns(matrix);\r\n    \t    \r\n    \t    System.out.println(&quot;\\nPrinting the sum of each row ::&quot;);\r\n    \t    sum_rows(matrix);\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void average_rows(int matrix[][]) {\r\n    \t    int i, j;\r\n    \t    double sum = 0, average = 0;\r\n    \t    for (i = 0; i &lt; matrix.length; i++) {\r\n    \t        for (j = 0; j &lt; matrix[i].length; j++) {\r\n    \t            sum=sum+matrix[i][j];\r\n    \t        }\r\n    \t        average=sum/matrix[i].length;\r\n    \t        System.out.println(&quot;Average of row &quot; + (i+1) + &quot; = &quot; + average); \r\n    \t        sum=0;\r\n    \t    }\r\n    \t}\r\n    \t\r\n    \tpublic static void average_columns(int matrix[][]) {\r\n    \t    int i, j;\r\n    \t    double sum = 0, average = 0;\r\n    \t    for (i = 0; i &lt; matrix.length; i++) {\r\n    \t        for (j = 0; j &lt; matrix[i].length; j++) {\r\n    \t            sum=sum+matrix[j][i];\r\n    \t        }\r\n    \t        average=sum/matrix[i].length;\r\n    \t        System.out.println(&quot;Average of column &quot; + (i+1) + &quot; = &quot; + average);\r\n    \t        sum=0;\r\n    \t    }\r\n    \t}\r\n    \t\r\n    \tpublic static void sum_columns(int matrix[][]) { \r\n    \t\t  \r\n    \t    int i,j;\r\n    \t    double sum = 0; \t  \r\n    \t    for (i = 0; i &lt; matrix.length; ++i) { \r\n    \t        for (j = 0; j &lt; matrix.length; ++j) { \r\n    \t            sum = sum + matrix[j][i]; \r\n    \t        } \r\n    \t        System.out.println(&quot;Sum of column &quot; + (i+1) + &quot; = &quot; + sum); \r\n    \t        sum = 0; \r\n    \t    } \r\n    \t} \r\n    \t\r\n    \tpublic static void sum_rows(int matrix[][]) { \r\n    \t\t  \r\n    \t    int i,j;\r\n    \t    double sum = 0;\t  \r\n    \t    for (i = 0; i &lt; matrix.length; ++i) { \r\n    \t    \tfor (j = 0; j &lt; matrix.length; ++j) { \r\n    \t            sum = sum + matrix[i][j]; \r\n    \t        } \r\n    \t        System.out.println( &quot;Sum of row &quot; + (i+1) + &quot; = &quot; + sum); \r\n    \t        sum = 0; \r\n    \t    } \r\n    \t} \r\n    \r\n    \r\n    }\r\n\r\n**OUTPUT**\r\n\r\n    The matrix is : \r\n    \r\n    1    2    3    \r\n    4    5    6    \r\n    7    8    9    \r\n    \r\n    Printing the avg of each col ::\r\n    Average of column 1 = 4.0\r\n    Average of column 2 = 5.0\r\n    Average of column 3 = 6.0\r\n    \r\n    Printing the avg of each row ::\r\n    Average of row 1 = 2.0\r\n    Average of row 2 = 5.0\r\n    Average of row 3 = 8.0\r\n    \r\n    Printing the sum of each col ::\r\n    Sum of column 1 = 12.0\r\n    Sum of column 2 = 15.0\r\n    Sum of column 3 = 18.0\r\n    \r\n    Printing the sum of each row ::\r\n    Sum of row 1 = 6.0\r\n    Sum of row 2 = 15.0\r\n    Sum of row 3 = 24.0\r\n\r\n","title":"How to calculate the average value of each column in 2D array?","body":"<p>This is how you can calculate sum and averages of each row and columns :\nThe below example code will print the sum and averages in the same method and wont return any value. If you need to return the actual sum and average then you need to return double[] which will contains all the sums or averages  instead of a double.</p>\n<p><strong>CODE</strong></p>\n<pre><code>public class Test {\n    \n    static int m = 3; \n    static int n = 3; \n\n    public static void main(String[] args) {\n        \n        int i,j;\n        int [][]matrix = new int[m][n]; \n      \n        int x = 1; // x fills up the value of the matrix\n        for (i = 0; i &lt; m; i++) \n            for (j = 0; j &lt; n; j++) \n                matrix[i][j] = x++; \n      \n        \n        System.out.println(&quot;The matrix is : \\n&quot;);\n        for (i = 0; i &lt; m; i++) {\n            for (j = 0; j &lt; n; j++) {\n                System.out.print(matrix[i][j] + &quot;    &quot;);\n            }\n            System.out.println();\n        }\n        \n        System.out.println(&quot;\\nPrinting the avg of each col ::&quot;);\n        average_columns(matrix);\n        \n        System.out.println(&quot;\\nPrinting the avg of each row ::&quot;);\n        average_rows(matrix);\n        \n        System.out.println(&quot;\\nPrinting the sum of each col ::&quot;);\n        sum_columns(matrix);\n        \n        System.out.println(&quot;\\nPrinting the sum of each row ::&quot;);\n        sum_rows(matrix);\n\n    }\n    \n    public static void average_rows(int matrix[][]) {\n        int i, j;\n        double sum = 0, average = 0;\n        for (i = 0; i &lt; matrix.length; i++) {\n            for (j = 0; j &lt; matrix[i].length; j++) {\n                sum=sum+matrix[i][j];\n            }\n            average=sum/matrix[i].length;\n            System.out.println(&quot;Average of row &quot; + (i+1) + &quot; = &quot; + average); \n            sum=0;\n        }\n    }\n    \n    public static void average_columns(int matrix[][]) {\n        int i, j;\n        double sum = 0, average = 0;\n        for (i = 0; i &lt; matrix.length; i++) {\n            for (j = 0; j &lt; matrix[i].length; j++) {\n                sum=sum+matrix[j][i];\n            }\n            average=sum/matrix[i].length;\n            System.out.println(&quot;Average of column &quot; + (i+1) + &quot; = &quot; + average);\n            sum=0;\n        }\n    }\n    \n    public static void sum_columns(int matrix[][]) { \n          \n        int i,j;\n        double sum = 0;       \n        for (i = 0; i &lt; matrix.length; ++i) { \n            for (j = 0; j &lt; matrix.length; ++j) { \n                sum = sum + matrix[j][i]; \n            } \n            System.out.println(&quot;Sum of column &quot; + (i+1) + &quot; = &quot; + sum); \n            sum = 0; \n        } \n    } \n    \n    public static void sum_rows(int matrix[][]) { \n          \n        int i,j;\n        double sum = 0;   \n        for (i = 0; i &lt; matrix.length; ++i) { \n            for (j = 0; j &lt; matrix.length; ++j) { \n                sum = sum + matrix[i][j]; \n            } \n            System.out.println( &quot;Sum of row &quot; + (i+1) + &quot; = &quot; + sum); \n            sum = 0; \n        } \n    } \n\n\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>The matrix is : \n\n1    2    3    \n4    5    6    \n7    8    9    \n\nPrinting the avg of each col ::\nAverage of column 1 = 4.0\nAverage of column 2 = 5.0\nAverage of column 3 = 6.0\n\nPrinting the avg of each row ::\nAverage of row 1 = 2.0\nAverage of row 2 = 5.0\nAverage of row 3 = 8.0\n\nPrinting the sum of each col ::\nSum of column 1 = 12.0\nSum of column 2 = 15.0\nSum of column 3 = 18.0\n\nPrinting the sum of each row ::\nSum of row 1 = 6.0\nSum of row 2 = 15.0\nSum of row 3 = 24.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609021176,"creation_date":1606750872,"answer_id":65076597,"question_id":65073072,"body_markdown":"If you assume a `NxN` matrix, you can solved with streams:\r\n```java\r\ndouble[][] matrix = {{1, 5, 15}, {1, 2, 2}, {25, 109, 150}};\r\n\r\nList&lt;Double&gt; column_average = Arrays\r\n        .stream(IntStream.range(0, matrix[0].length)\r\n        .mapToObj(c1 -&gt; Arrays.stream(matrix)\r\n                .mapToDouble(doubles -&gt; doubles[c1])\r\n                .toArray())\r\n        .toArray(double[][]::new))\r\n        .map(i -&gt; Arrays.stream(i).average().getAsDouble())\r\n        .collect(Collectors.toList());\r\n```\r\nor more readable:\r\n```java\r\ndouble[][] matrix_transpose = IntStream\r\n        .range(0, matrix[0].length)\r\n        .mapToObj(c -&gt; Arrays.stream(matrix)\r\n                .mapToDouble(doubles -&gt; doubles[c])\r\n                .toArray())\r\n        .toArray(double[][]::new);\r\n\r\nList&lt;Double&gt; column_average = Arrays\r\n        .stream(matrix_transpose)\r\n        .map(col -&gt; Arrays.stream(col).average().getAsDouble())\r\n        .collect(Collectors.toList());\r\n```\r\nYou do the transpose of the matrix and then you use  `Arrays.stream(...).average().getAsDouble()` to calculate the averages of the arrays.","title":"How to calculate the average value of each column in 2D array?","body":"<p>If you assume a <code>NxN</code> matrix, you can solved with streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[][] matrix = {{1, 5, 15}, {1, 2, 2}, {25, 109, 150}};\n\nList&lt;Double&gt; column_average = Arrays\n        .stream(IntStream.range(0, matrix[0].length)\n        .mapToObj(c1 -&gt; Arrays.stream(matrix)\n                .mapToDouble(doubles -&gt; doubles[c1])\n                .toArray())\n        .toArray(double[][]::new))\n        .map(i -&gt; Arrays.stream(i).average().getAsDouble())\n        .collect(Collectors.toList());\n</code></pre>\n<p>or more readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[][] matrix_transpose = IntStream\n        .range(0, matrix[0].length)\n        .mapToObj(c -&gt; Arrays.stream(matrix)\n                .mapToDouble(doubles -&gt; doubles[c])\n                .toArray())\n        .toArray(double[][]::new);\n\nList&lt;Double&gt; column_average = Arrays\n        .stream(matrix_transpose)\n        .map(col -&gt; Arrays.stream(col).average().getAsDouble())\n        .collect(Collectors.toList());\n</code></pre>\n<p>You do the transpose of the matrix and then you use  <code>Arrays.stream(...).average().getAsDouble()</code> to calculate the averages of the arrays.</p>\n"},{"tags":[],"owner":{"display_name":"user14838237"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608953400,"creation_date":1608953400,"answer_id":65453426,"question_id":65073072,"body_markdown":"You can use [`Stream.reduce`][1] method to summarise the elements in columns and then divide each sum by the number of columns:\r\n```java\r\ndouble[][] matrix = {\r\n        {1.11, 2.22, 3.33, 4.45, 5.56},\r\n        {6.61, 7.76, 8.88, 9.9, 10.11},\r\n        {11.1, 12.2, 13.3, 14.4, 15.5},\r\n        {16.6, 17.7, 18.8, 19.9, 20.0},\r\n        {21.1, 22.2, 23.3, 24.4, 25.5}};\r\n\r\ndouble[] average = Arrays.stream(matrix)\r\n        // summarize in pairs\r\n        // the rows of the matrix\r\n        .reduce((row1, row2) -&gt;\r\n                // iterate over the indices\r\n                // from 0 to row length\r\n                IntStream.range(0, row1.length)\r\n                        // summarize in pairs the\r\n                        // elements of two rows\r\n                        .mapToDouble(i -&gt; row1[i] + row2[i])\r\n                        // an array of sums\r\n                        .toArray())\r\n        // stream containing\r\n        // the resulting array\r\n        // Stream&lt;double[]&gt;\r\n        .stream()\r\n        // iterate over the array of sums\r\n        // Stream&lt;double[]&gt; to DoubleStream\r\n        .flatMapToDouble(Arrays::stream)\r\n        // divide each element by\r\n        // the number of columns\r\n        .map(i -&gt; i / matrix.length)\r\n        .toArray();\r\n\r\nSystem.out.println(Arrays.toString(average));\r\n// [11.304, 12.416, 13.522, 14.61, 15.334]\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [Adding up all the elements of each column in a 2d array][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\r\n  [2]: https://stackoverflow.com/a/65451830/14838237","title":"How to calculate the average value of each column in 2D array?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream.reduce</code></a> method to summarise the elements in columns and then divide each sum by the number of columns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[][] matrix = {\n        {1.11, 2.22, 3.33, 4.45, 5.56},\n        {6.61, 7.76, 8.88, 9.9, 10.11},\n        {11.1, 12.2, 13.3, 14.4, 15.5},\n        {16.6, 17.7, 18.8, 19.9, 20.0},\n        {21.1, 22.2, 23.3, 24.4, 25.5}};\n\ndouble[] average = Arrays.stream(matrix)\n        // summarize in pairs\n        // the rows of the matrix\n        .reduce((row1, row2) -&gt;\n                // iterate over the indices\n                // from 0 to row length\n                IntStream.range(0, row1.length)\n                        // summarize in pairs the\n                        // elements of two rows\n                        .mapToDouble(i -&gt; row1[i] + row2[i])\n                        // an array of sums\n                        .toArray())\n        // stream containing\n        // the resulting array\n        // Stream&lt;double[]&gt;\n        .stream()\n        // iterate over the array of sums\n        // Stream&lt;double[]&gt; to DoubleStream\n        .flatMapToDouble(Arrays::stream)\n        // divide each element by\n        // the number of columns\n        .map(i -&gt; i / matrix.length)\n        .toArray();\n\nSystem.out.println(Arrays.toString(average));\n// [11.304, 12.416, 13.522, 14.61, 15.334]\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/65451830/14838237\">Adding up all the elements of each column in a 2d array</a></sup></p>\n"},{"tags":[],"owner":{"account_id":20920126,"reputation":129,"user_id":15368950,"display_name":"Muhammad Ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654157715,"creation_date":1654157715,"answer_id":72472895,"question_id":65073072,"body_markdown":"I was having some issues with the above available code so I have written some of my own. Hope it helps someone:\r\n\r\n        public double[] averageColumns(double matrix[][]) {\r\n        int rows = matrix.length;\r\n        int cols = matrix[0].length;\r\n        double[] avg = new double[cols];\r\n        double sum = 0;\r\n        for (int i = 0; i &lt; cols; i++){\r\n            sum = 0;\r\n            for(int j = 0; j &lt; rows; j++){\r\n                sum += matrix[j][i];\r\n            }\r\n            avg[i] = sum / rows;\r\n        }\r\n        return avg;\r\n    }","title":"How to calculate the average value of each column in 2D array?","body":"<p>I was having some issues with the above available code so I have written some of my own. Hope it helps someone:</p>\n<pre><code>    public double[] averageColumns(double matrix[][]) {\n    int rows = matrix.length;\n    int cols = matrix[0].length;\n    double[] avg = new double[cols];\n    double sum = 0;\n    for (int i = 0; i &lt; cols; i++){\n        sum = 0;\n        for(int j = 0; j &lt; rows; j++){\n            sum += matrix[j][i];\n        }\n        avg[i] = sum / rows;\n    }\n    return avg;\n}\n</code></pre>\n"}],"owner":{"display_name":"user14731598"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5707,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1654157715,"creation_date":1606737274,"question_id":65073072,"body_markdown":"I am trying to calculate the average value of columns in 2D array, but I cannot figure out the code. The function should return the average value of each column. And I cannot print the result in the function. The print should be in main function. \r\n```java\r\nstatic double average_columns(double matrix[][]) {\r\n    int i, j, sum = 0, average = 0;\r\n    for (i = 0; i &lt; matrix.length; i++) {\r\n        for (j = 0; j &lt; matrix[i].length; j++) {\r\n            sum = (int) (sum + matrix[i][j]);\r\n        }\r\n        average = sum / matrix[i].length;\r\n        sum = 0;\r\n    }\r\n    return average;\r\n}\r\n```\r\n","title":"How to calculate the average value of each column in 2D array?","body":"<p>I am trying to calculate the average value of columns in 2D array, but I cannot figure out the code. The function should return the average value of each column. And I cannot print the result in the function. The print should be in main function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static double average_columns(double matrix[][]) {\n    int i, j, sum = 0, average = 0;\n    for (i = 0; i &lt; matrix.length; i++) {\n        for (j = 0; j &lt; matrix[i].length; j++) {\n            sum = (int) (sum + matrix[i][j]);\n        }\n        average = sum / matrix[i].length;\n        sum = 0;\n    }\n    return average;\n}\n</code></pre>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1654158073,"post_id":72472458,"comment_id":128026041,"body_markdown":"There are many ways to do it. The question is about whether the number of delimiters is fixed? If it is, you could simply use `String.lastIndexOf(&quot;,&quot;)` to get the position of the last occurring comma and use lastIndexOf again to get the position of the 2nd last comma. With the 2 indexes you obtained, simply use subsstring to get the 2nd last value. The whole thing can be done in a single line of code.","body":"There are many ways to do it. The question is about whether the number of delimiters is fixed? If it is, you could simply use <code>String.lastIndexOf(&quot;,&quot;)</code> to get the position of the last occurring comma and use lastIndexOf again to get the position of the 2nd last comma. With the 2 indexes you obtained, simply use subsstring to get the 2nd last value. The whole thing can be done in a single line of code."}],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654156534,"creation_date":1654156534,"answer_id":72472609,"question_id":72472458,"body_markdown":"First you will have to read the file using File class or some another class. You will have to read all lines and put that to List&lt;String&gt;. Now these are lines and from these you can iterate and populate the final result (List&lt;String&gt;) by using string.split(&quot;,&quot;) and the index you want to grab. This will be one possible way. But grabbing with index and hardcoding that might bring up issues later.\r\n\r\n```\r\nFile file = new File(&quot;C:\\\\Users\\\\Desktop\\\\test.txt&quot;); \r\n\t  \r\n\t  BufferedReader br = new BufferedReader(new FileReader(file)); \r\n\t  \r\n\t  List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n      String string;\r\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\t \r\n\t  while ((string = br.readLine()) != null) \r\n\t    lines.add(string);\r\n\t  } \r\n\r\n     for(var line : lines){\r\n        String[] datas = line.split(&quot;,&quot;);\r\n        if(datas.size()&gt;3){\r\n            results.add(datas[3]);\r\n         }\r\n     }\r\n    return lines;\r\n```\r\n\r\nReferences - https://techblogstation.com/java/read-text-file-in-java/#:~:text=Java%20read%20file%20line%20by%20line%20using%20Files.readAllLines,Internally%20it%20uses%20BufferedReader%20to%20read%20the%20file.\r\n\r\n","title":"Java reading only specific part in the line to put into an array","body":"<p>First you will have to read the file using File class or some another class. You will have to read all lines and put that to List. Now these are lines and from these you can iterate and populate the final result (List) by using string.split(&quot;,&quot;) and the index you want to grab. This will be one possible way. But grabbing with index and hardcoding that might bring up issues later.</p>\n<pre><code>File file = new File(&quot;C:\\\\Users\\\\Desktop\\\\test.txt&quot;); \n      \n      BufferedReader br = new BufferedReader(new FileReader(file)); \n      \n      List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n      String string;\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\n     \n      while ((string = br.readLine()) != null) \n        lines.add(string);\n      } \n\n     for(var line : lines){\n        String[] datas = line.split(&quot;,&quot;);\n        if(datas.size()&gt;3){\n            results.add(datas[3]);\n         }\n     }\n    return lines;\n</code></pre>\n<p>References - <a href=\"https://techblogstation.com/java/read-text-file-in-java/#:%7E:text=Java%20read%20file%20line%20by%20line%20using%20Files.readAllLines,Internally%20it%20uses%20BufferedReader%20to%20read%20the%20file\" rel=\"nofollow noreferrer\">https://techblogstation.com/java/read-text-file-in-java/#:~:text=Java%20read%20file%20line%20by%20line%20using%20Files.readAllLines,Internally%20it%20uses%20BufferedReader%20to%20read%20the%20file</a>.</p>\n"},{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1654156938,"creation_date":1654156938,"answer_id":72472707,"question_id":72472458,"body_markdown":"Read through each line and split the line on , (comma). Access the value you want to print using the index;\r\n\r\nCode:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\n\r\npublic class SplitFileAndPrintPart {\r\n    public static void main(String[] args) {\r\n        String fileName = &quot;TestFile.txt&quot;;\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {  //[#1]\r\n            String line;\r\n            while ((line = br.readLine()) != null) { // [#2]\r\n                String[] splitLine = line.split(&quot;,&quot;); // [#3]\r\n                System.out.println(splitLine[3]); // [#4]\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nExplanation:  \r\n#1:  Reading the file using FileReader and BufferedReader; Here we are using &quot;try with resources&quot; so that the resources are closed automatically.  \r\n#2: Reading each line from the file and assigning it to the variable &quot;line&quot;.  \r\n#3: Since the values are comma separated, splitting the lines using comma.  \r\n#4: Since the data you need in the 4 position (index 3), print the value at index 3.\r\n\r\nOutput:\r\n```\r\n13.9\r\n25.8\r\n66.9\r\n23.7\r\n27.6\r\n```\r\n","title":"Java reading only specific part in the line to put into an array","body":"<p>Read through each line and split the line on , (comma). Access the value you want to print using the index;</p>\n<p>Code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\n\npublic class SplitFileAndPrintPart {\n    public static void main(String[] args) {\n        String fileName = &quot;TestFile.txt&quot;;\n\n        try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {  //[#1]\n            String line;\n            while ((line = br.readLine()) != null) { // [#2]\n                String[] splitLine = line.split(&quot;,&quot;); // [#3]\n                System.out.println(splitLine[3]); // [#4]\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Explanation:<br />\n#1:  Reading the file using FileReader and BufferedReader; Here we are using &quot;try with resources&quot; so that the resources are closed automatically.<br />\n#2: Reading each line from the file and assigning it to the variable &quot;line&quot;.<br />\n#3: Since the values are comma separated, splitting the lines using comma.<br />\n#4: Since the data you need in the 4 position (index 3), print the value at index 3.</p>\n<p>Output:</p>\n<pre><code>13.9\n25.8\n66.9\n23.7\n27.6\n</code></pre>\n"}],"owner":{"account_id":25453445,"reputation":5,"user_id":19254459,"display_name":"pakupaku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654159271,"accepted_answer_id":72472707,"answer_count":2,"score":0,"last_activity_date":1654157664,"creation_date":1654155839,"question_id":72472458,"body_markdown":"I&#39;m fairly new to Java. \r\nHave the txt file of the following\r\n```\r\n25/05/2022 23:55:31,180.0,45.0,13.9,Underweight\r\n30/05/2022 22:24:05,161.0,67.0,25.8,Overweight\r\n30/05/2022 22:58:29,121.0,98.0,66.9,Obese\r\n30/05/2022 22:58:38,168.0,67.0,23.7,Healthy\r\n30/05/2022 23:25:58,140.0,54.0,27.6,Overweight\r\n```\r\n\r\n\r\n\r\nIs there any way of reading only the part of the following data in each line into an array?\r\n\r\n```\r\n13.9\r\n25.8\r\n66.9\r\n23.7\r\n27.6\r\n```\r\n\r\n\r\n","title":"Java reading only specific part in the line to put into an array","body":"<p>I'm fairly new to Java.\nHave the txt file of the following</p>\n<pre><code>25/05/2022 23:55:31,180.0,45.0,13.9,Underweight\n30/05/2022 22:24:05,161.0,67.0,25.8,Overweight\n30/05/2022 22:58:29,121.0,98.0,66.9,Obese\n30/05/2022 22:58:38,168.0,67.0,23.7,Healthy\n30/05/2022 23:25:58,140.0,54.0,27.6,Overweight\n</code></pre>\n<p>Is there any way of reading only the part of the following data in each line into an array?</p>\n<pre><code>13.9\n25.8\n66.9\n23.7\n27.6\n</code></pre>\n"},{"tags":["java","postgresql","exception","jdbc","jdbi"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654157603,"creation_date":1654157603,"answer_id":72472871,"question_id":72472693,"body_markdown":"You can cast the `java.sql.SQLException` to an [`org.postgresql.util.PSQLException`][1]. Then you can call the method [`getServerErrorMessage()`][2] to get an [`org.postgresql.util.ServerErrorMessage`][3]. Then call the method [`getConstraint()`][4] to get the name of the constraint. Check the SQLSTATE to make sure it was really a constraint violation.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PSQLException.html\r\n  [2]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PSQLException.html#getServerErrorMessage--\r\n  [3]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/ServerErrorMessage.html\r\n  [4]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/ServerErrorMessage.html#getConstraint--","title":"How can I recognize a specific Postgres CONSTRAINT","body":"<p>You can cast the <code>java.sql.SQLException</code> to an <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PSQLException.html\" rel=\"nofollow noreferrer\"><code>org.postgresql.util.PSQLException</code></a>. Then you can call the method <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PSQLException.html#getServerErrorMessage--\" rel=\"nofollow noreferrer\"><code>getServerErrorMessage()</code></a> to get an <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/ServerErrorMessage.html\" rel=\"nofollow noreferrer\"><code>org.postgresql.util.ServerErrorMessage</code></a>. Then call the method <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/ServerErrorMessage.html#getConstraint--\" rel=\"nofollow noreferrer\"><code>getConstraint()</code></a> to get the name of the constraint. Check the SQLSTATE to make sure it was really a constraint violation.</p>\n"}],"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72472871,"answer_count":1,"score":0,"last_activity_date":1654157646,"creation_date":1654156902,"question_id":72472693,"body_markdown":"We used to have a constraint in the (Java) _domain logic_ that prevented an entity `(foo,task_id)` of being inserted into table `entity_a` if a that `task_id` was already present. We then threw a specific exception that could be listened for.\r\n\r\nNow we moved that logic into the database where it should be:\r\n```\r\nALTER TABLE report ADD CONSTRAINT task_id_unique UNIQUE (task_id);\r\n```\r\n\r\nNow I still want to throw the same exception as before, but I need to recognize the specific exception case thrown by the database layer to do this. Is there a somewhat stable way I can recognize the named constraint? It should preferably not depend on the language set on the server, as it could be different and I also know error messages are different from one Postgres version to another.\r\n\r\nWe are specifically using [Jdbi][1] which is very close to the underlying JDBC level, so getting any details should be fine.\r\n\r\n\r\n  [1]: https://jdbi.org/","title":"How can I recognize a specific Postgres CONSTRAINT","body":"<p>We used to have a constraint in the (Java) <em>domain logic</em> that prevented an entity <code>(foo,task_id)</code> of being inserted into table <code>entity_a</code> if a that <code>task_id</code> was already present. We then threw a specific exception that could be listened for.</p>\n<p>Now we moved that logic into the database where it should be:</p>\n<pre><code>ALTER TABLE report ADD CONSTRAINT task_id_unique UNIQUE (task_id);\n</code></pre>\n<p>Now I still want to throw the same exception as before, but I need to recognize the specific exception case thrown by the database layer to do this. Is there a somewhat stable way I can recognize the named constraint? It should preferably not depend on the language set on the server, as it could be different and I also know error messages are different from one Postgres version to another.</p>\n<p>We are specifically using <a href=\"https://jdbi.org/\" rel=\"nofollow noreferrer\">Jdbi</a> which is very close to the underlying JDBC level, so getting any details should be fine.</p>\n"},{"tags":["java","geneva-framework"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1233874869,"creation_date":1233874869,"answer_id":518390,"question_id":518349,"body_markdown":"Geneva looks like a Meta-Directory. Normally you don&#39;t access a Meta-Directory directly but instead access a directory it manages. You can do this with an LDAP library.","title":"Talking to a Microsoft Geneva server from Java","body":"<p>Geneva looks like a Meta-Directory. Normally you don't access a Meta-Directory directly but instead access a directory it manages. You can do this with an LDAP library.</p>\n"}],"owner":{"account_id":3138,"reputation":6248,"user_id":4462,"accept_rate":71,"display_name":"Troels Arvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654157581,"creation_date":1233874275,"question_id":518349,"body_markdown":"Has anyone tried to interact with a Microsoft Geneva Server from Java?\r\n\r\nCan it be done easily, using some combination of generally available libraries? If so: What are the important Java libraries/frameworks to look into?","title":"Talking to a Microsoft Geneva server from Java","body":"<p>Has anyone tried to interact with a Microsoft Geneva Server from Java?</p>\n\n<p>Can it be done easily, using some combination of generally available libraries? If so: What are the important Java libraries/frameworks to look into?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654119906,"creation_date":1654119906,"answer_id":72468394,"question_id":72468345,"body_markdown":"&gt; Driver path should be set before browser launch as given below.\r\n&gt; \r\n&gt;     System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\List_of_Jar\\chromedriver.exe&quot;);\r\n&gt;     WebDriver wd =new ChromeDriver();\r\n&gt;     String baseUrl = &quot;https://www.google.com&quot;;\r\n&gt;     wd.get(baseUrl);&quot;\r\n\r\n[Getting &quot;The path to the driver executable must be set by the webdriver.chrome.driver system property&quot;though set correct path][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44476647/getting-the-path-to-the-driver-executable-must-be-set-by-the-webdriver-chrome-d\r\n\r\nThe path to the driver executable must be set by the **webdriver.chrome.driver system property**; for more information:\r\n\r\n    System.setProperty(&quot;&lt;Path to&gt;chromedriver.exe&quot;);","title":"can&#39;t run selenium test on vs code","body":"<blockquote>\n<p>Driver path should be set before browser launch as given below.</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\List_of_Jar\\chromedriver.exe&quot;);\nWebDriver wd =new ChromeDriver();\nString baseUrl = &quot;https://www.google.com&quot;;\nwd.get(baseUrl);&quot;\n</code></pre>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/questions/44476647/getting-the-path-to-the-driver-executable-must-be-set-by-the-webdriver-chrome-d\">Getting &quot;The path to the driver executable must be set by the webdriver.chrome.driver system property&quot;though set correct path</a></p>\n<p>The path to the driver executable must be set by the <strong>webdriver.chrome.driver system property</strong>; for more information:</p>\n<pre><code>System.setProperty(&quot;&lt;Path to&gt;chromedriver.exe&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7588042,"reputation":68,"user_id":5756499,"display_name":"Uditha Dissanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654147616,"creation_date":1654147616,"answer_id":72471067,"question_id":72468345,"body_markdown":"Absolute Path: `System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\List_of_Jar\\chromedriver.exe&quot;);`\r\n\r\nRelative Path:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;./Driver\\\\chromedriver.exe&quot;);\r\n\r\nPath to the driver must be set before webdriver object creation and check browser version and chromedriver version.","title":"can&#39;t run selenium test on vs code","body":"<p>Absolute Path: <code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\List_of_Jar\\chromedriver.exe&quot;);</code></p>\n<p>Relative Path:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;./Driver\\\\chromedriver.exe&quot;);\n</code></pre>\n<p>Path to the driver must be set before webdriver object creation and check browser version and chromedriver version.</p>\n"}],"owner":{"account_id":23366587,"reputation":9,"user_id":17438135,"display_name":"bondo2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654157416,"creation_date":1654119472,"question_id":72468345,"body_markdown":"``` \r\n     import org.openqa.selenium.WebDriver;\r\n     import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(&quot;hi&quot;); \r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.google.com&quot;);\r\n        driver.quit(); \r\n    }\r\n}\r\n```\r\nI imported jar file for selenium and downloaded right webchrome drive and it give me error\r\n\r\n    PS D:\\software testing task 2&gt;  &amp; &#39;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;@C:\\Users\\mohamed\\AppData\\Local\\Temp\\cp_apvu20bu2lqgd550a094p3mwf.argfile&#39; &#39;App&#39; \r\n    zzzzzzzzzz\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from https://chromedriver.storage.googleapis.com/index.html\r\n            at org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:311)\r\n            at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:135)\r\n            at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:38)\r\n            at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:231)\r\n            at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:437)\r\n            at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:127)\r\n            at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:48)\r\n            at App.main(App.java:7)","title":"can&#39;t run selenium test on vs code","body":"<pre><code>     import org.openqa.selenium.WebDriver;\n     import org.openqa.selenium.chrome.ChromeDriver;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;hi&quot;); \n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com&quot;);\n        driver.quit(); \n    }\n}\n</code></pre>\n<p>I imported jar file for selenium and downloaded right webchrome drive and it give me error</p>\n<pre><code>PS D:\\software testing task 2&gt;  &amp; 'C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe' '-XX:+ShowCodeDetailsInExceptionMessages' '@C:\\Users\\mohamed\\AppData\\Local\\Temp\\cp_apvu20bu2lqgd550a094p3mwf.argfile' 'App' \nzzzzzzzzzz\nException in thread &quot;main&quot; java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from https://chromedriver.storage.googleapis.com/index.html\n        at org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:311)\n        at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:135)\n        at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:38)\n        at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:231)\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:437)\n        at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:127)\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:48)\n        at App.main(App.java:7)\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":2,"creation_date":1654116597,"post_id":72467874,"comment_id":128018022,"body_markdown":"Wouldn&#39;t you be better at using a json xpath like API such as https://github.com/json-path/JsonPath ?","body":"Wouldn&#39;t you be better at using a json xpath like API such as <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">github.com/json-path/JsonPath</a> ?"},{"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"score":0,"creation_date":1654118471,"post_id":72467874,"comment_id":128018530,"body_markdown":"Can&#39;t you use `com.google.gson.JsonParser` to parse the Json into required value?","body":"Can&#39;t you use <code>com.google.gson.JsonParser</code> to parse the Json into required value?"},{"owner":{"account_id":20769999,"reputation":391,"user_id":15252938,"display_name":"Omegon"},"score":0,"creation_date":1654121412,"post_id":72467874,"comment_id":128019169,"body_markdown":"@Debanjan can gson easily get these 2 lines?","body":"@Debanjan can gson easily get these 2 lines?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1654122285,"post_id":72467874,"comment_id":128019336,"body_markdown":"You can deserialise it to a `Map&lt;String, Object&gt;` using ObjectMapper.","body":"You can deserialise it to a <code>Map&lt;String, Object&gt;</code> using ObjectMapper."},{"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"score":0,"creation_date":1654154837,"post_id":72467874,"comment_id":128025045,"body_markdown":"@Omegon yes you can pick up the required values from the paths using JsonParser. Something along the lines of this:\n\n`final JsonObject elementObject = element.getAsJsonObject();\n  final String url = elementObject.get(&quot;url&quot;).getAsString();\n`","body":"@Omegon yes you can pick up the required values from the paths using JsonParser. Something along the lines of this:  <code>final JsonObject elementObject = element.getAsJsonObject();   final String url = elementObject.get(&quot;url&quot;).getAsString(); </code>"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654157351,"creation_date":1654157351,"answer_id":72472807,"question_id":72467874,"body_markdown":"&gt; I want to get out of there only data -&gt; url and data -&gt; embed_url. Do\r\n&gt; I need to make a desiarilizer somehow, or can I do it better?\r\n\r\nYou can do it either without a deserializer or with a deserializer. Without a deserializer you can isolate the part of the json file you are interested and  convert it to a `JsonNode` object using the [`JsonNode#at`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-com.fasterxml.jackson.core.JsonPointer-) method (good if you have to extract properties once in your code):\r\n\r\n~~~\r\nJsonNode data = mapper.readTree(json).at(&quot;/data&quot;);\r\nString url = data.get(&quot;url&quot;).asText(); //&lt;--url is a string\r\nString embedUrl = data.get(&quot;embed_url&quot;).asText();//&lt;-- embed_url is a string\r\nGifUrlDto dto = new GifUrlDto(url, embedUrl);        \r\n~~~\r\n\r\nYou can also write a specific deserializer for the `GifUrlDto` class reusing the above code (good if you have to deserialize more than one object):\r\n\r\n~~~\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@JsonDeserialize(using = GifUrlDtoDeserializer.class)//&lt;--added annotation\r\npublic class GifUrlDto {\r\n    private String url;\r\n    private String embedUrl;\r\n}\r\n\r\npublic class GifUrlDtoDeserializer extends StdDeserializer&lt;GifUrlDto&gt;{\r\n\r\n    public GifUrlDtoDeserializer() {\r\n        super(GifUrlDto.class);\r\n    }\r\n\r\n    @Override\r\n    public GifUrlDto deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        final ObjectCodec codec = jp.getCodec();\r\n        JsonNode root = codec.readTree(jp);\r\n        JsonNode data = root.at(&quot;/data&quot;);\r\n        String url = data.get(&quot;url&quot;).asText();\r\n        String embedUrl = data.get(&quot;embed_url&quot;).asText();\r\n        return new GifUrlDto(url, embedUrl); \r\n    }\r\n}\r\n\r\n//using the deserializer\r\nGifUrlDto dto = mapper.readValue(json, GifUrlDto.class);\r\n~~~","title":"How to correctly get specific lines from a large json response?","body":"<blockquote>\n<p>I want to get out of there only data -&gt; url and data -&gt; embed_url. Do\nI need to make a desiarilizer somehow, or can I do it better?</p>\n</blockquote>\n<p>You can do it either without a deserializer or with a deserializer. Without a deserializer you can isolate the part of the json file you are interested and  convert it to a <code>JsonNode</code> object using the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-com.fasterxml.jackson.core.JsonPointer-\" rel=\"nofollow noreferrer\"><code>JsonNode#at</code></a> method (good if you have to extract properties once in your code):</p>\n<pre><code>JsonNode data = mapper.readTree(json).at(&quot;/data&quot;);\nString url = data.get(&quot;url&quot;).asText(); //&lt;--url is a string\nString embedUrl = data.get(&quot;embed_url&quot;).asText();//&lt;-- embed_url is a string\nGifUrlDto dto = new GifUrlDto(url, embedUrl);        \n</code></pre>\n<p>You can also write a specific deserializer for the <code>GifUrlDto</code> class reusing the above code (good if you have to deserialize more than one object):</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonDeserialize(using = GifUrlDtoDeserializer.class)//&lt;--added annotation\npublic class GifUrlDto {\n    private String url;\n    private String embedUrl;\n}\n\npublic class GifUrlDtoDeserializer extends StdDeserializer&lt;GifUrlDto&gt;{\n\n    public GifUrlDtoDeserializer() {\n        super(GifUrlDto.class);\n    }\n\n    @Override\n    public GifUrlDto deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        final ObjectCodec codec = jp.getCodec();\n        JsonNode root = codec.readTree(jp);\n        JsonNode data = root.at(&quot;/data&quot;);\n        String url = data.get(&quot;url&quot;).asText();\n        String embedUrl = data.get(&quot;embed_url&quot;).asText();\n        return new GifUrlDto(url, embedUrl); \n    }\n}\n\n//using the deserializer\nGifUrlDto dto = mapper.readValue(json, GifUrlDto.class);\n</code></pre>\n"}],"owner":{"account_id":20769999,"reputation":391,"user_id":15252938,"display_name":"Omegon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654157351,"creation_date":1654116482,"question_id":72467874,"body_markdown":"i have a large json respose:\r\n\r\n```\r\n{\r\n  &quot;data&quot; : {\r\n    &quot;type&quot; : &quot;gif&quot;,\r\n    &quot;id&quot; : &quot;BM10Y3Qq3EwK3z8yQd&quot;,\r\n    &quot;url&quot; : &quot;https://giphy.com/gifs/ramseysolutions-money-gone-BM10Y3Qq3EwK3z8yQd&quot;,\r\n    &quot;slug&quot; : &quot;ramseysolutions-money-gone-BM10Y3Qq3EwK3z8yQd&quot;,\r\n    &quot;bitly_gif_url&quot; : &quot;https://gph.is/2mc28WP&quot;,\r\n    &quot;bitly_url&quot; : &quot;https://gph.is/2mc28WP&quot;,\r\n    &quot;embed_url&quot; : &quot;https://giphy.com/embed/BM10Y3Qq3EwK3z8yQd&quot;,\r\n    &quot;username&quot; : &quot;ramseysolutions&quot;,\r\n    &quot;source&quot; : &quot;&quot;,\r\n    &quot;title&quot; : &quot;rachel cruze money GIF by Ramsey Solutions&quot;,\r\n    &quot;rating&quot; : &quot;g&quot;,\r\n    &quot;content_url&quot; : &quot;&quot;,\r\n    &quot;source_tld&quot; : &quot;&quot;,\r\n    &quot;source_post_url&quot; : &quot;&quot;,\r\n    &quot;is_sticker&quot; : 0,\r\n    &quot;import_datetime&quot; : &quot;2018-07-12 12:40:11&quot;,\r\n    &quot;trending_datetime&quot; : &quot;0000-00-00 00:00:00&quot;,\r\n    &quot;images&quot; : {\r\n      &quot;fixed_width_still&quot; : {\r\n        &quot;height&quot; : &quot;113&quot;,\r\n        &quot;size&quot; : &quot;14977&quot;,\r\n        &quot;url&quot; : &quot;https://media4.giphy.com/media/BM10Y3Qq3EwK3z8yQd/200w_s.gif?cid=294ee95f49badf517d33e5cd874941ff542e5d2559cf692c&amp;rid=200w_s.gif&amp;ct=g&quot;,\r\n        &quot;width&quot; : &quot;200&quot;\r\n      },\r\n      &quot;preview_gif&quot; : {\r\n        &quot;height&quot; : &quot;99&quot;,\r\n        &quot;size&quot; : &quot;48529&quot;,\r\n        &quot;url&quot; : &quot;https://media4.giphy.com/media/BM10Y3Qq3EwK3z8yQd/giphy-preview.gif?cid=294ee95f49badf517d33e5cd874941ff542e5d2559cf692c&amp;rid=giphy-preview.gif&amp;ct=g&quot;,\r\n        &quot;width&quot; : &quot;176&quot;\r\n      },\r\n      \r\n     ...\r\n\r\n```\r\n\r\nAnd I want to get out of there only ``` data -&gt; url ``` and ``` data -&gt; embed_url ``` .\r\nHow can this be done correctly?\r\ni try add ```@JsonProperty to setter ``` :\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class GifUrlDto {\r\n    private String url;\r\n    private String embedUrl;\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    public void setUrl(Map&lt;String, String&gt; data) {\r\n        this.url =data.get(&quot;url&quot;);\r\n        this.embedUrl = data.get(&quot;embed_url&quot;);\r\n    }\r\n}\r\n\r\n```\r\nWhen I try to return it from the function:\r\n```\r\n@GetMapping(&quot;/random&quot;)\r\n    GifUrlDto getRandomGByExchangeRates();\r\n```\r\nthen  i get an error :\r\n\r\n```\r\n Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 665] (through reference chain: com.alfa.bank.project.gifAndExchangeRate.dto.GifUrlDto[&quot;data&quot;]-&gt;java.util.LinkedHashMap[&quot;images&quot;])] with root cause\r\n```\r\nDo I need to make a desiarilizer somehow, or can I do it better?","title":"How to correctly get specific lines from a large json response?","body":"<p>i have a large json respose:</p>\n<pre><code>{\n  &quot;data&quot; : {\n    &quot;type&quot; : &quot;gif&quot;,\n    &quot;id&quot; : &quot;BM10Y3Qq3EwK3z8yQd&quot;,\n    &quot;url&quot; : &quot;https://giphy.com/gifs/ramseysolutions-money-gone-BM10Y3Qq3EwK3z8yQd&quot;,\n    &quot;slug&quot; : &quot;ramseysolutions-money-gone-BM10Y3Qq3EwK3z8yQd&quot;,\n    &quot;bitly_gif_url&quot; : &quot;https://gph.is/2mc28WP&quot;,\n    &quot;bitly_url&quot; : &quot;https://gph.is/2mc28WP&quot;,\n    &quot;embed_url&quot; : &quot;https://giphy.com/embed/BM10Y3Qq3EwK3z8yQd&quot;,\n    &quot;username&quot; : &quot;ramseysolutions&quot;,\n    &quot;source&quot; : &quot;&quot;,\n    &quot;title&quot; : &quot;rachel cruze money GIF by Ramsey Solutions&quot;,\n    &quot;rating&quot; : &quot;g&quot;,\n    &quot;content_url&quot; : &quot;&quot;,\n    &quot;source_tld&quot; : &quot;&quot;,\n    &quot;source_post_url&quot; : &quot;&quot;,\n    &quot;is_sticker&quot; : 0,\n    &quot;import_datetime&quot; : &quot;2018-07-12 12:40:11&quot;,\n    &quot;trending_datetime&quot; : &quot;0000-00-00 00:00:00&quot;,\n    &quot;images&quot; : {\n      &quot;fixed_width_still&quot; : {\n        &quot;height&quot; : &quot;113&quot;,\n        &quot;size&quot; : &quot;14977&quot;,\n        &quot;url&quot; : &quot;https://media4.giphy.com/media/BM10Y3Qq3EwK3z8yQd/200w_s.gif?cid=294ee95f49badf517d33e5cd874941ff542e5d2559cf692c&amp;rid=200w_s.gif&amp;ct=g&quot;,\n        &quot;width&quot; : &quot;200&quot;\n      },\n      &quot;preview_gif&quot; : {\n        &quot;height&quot; : &quot;99&quot;,\n        &quot;size&quot; : &quot;48529&quot;,\n        &quot;url&quot; : &quot;https://media4.giphy.com/media/BM10Y3Qq3EwK3z8yQd/giphy-preview.gif?cid=294ee95f49badf517d33e5cd874941ff542e5d2559cf692c&amp;rid=giphy-preview.gif&amp;ct=g&quot;,\n        &quot;width&quot; : &quot;176&quot;\n      },\n      \n     ...\n\n</code></pre>\n<p>And I want to get out of there only <code>data -&gt; url</code> and <code>data -&gt; embed_url</code> .\nHow can this be done correctly?\ni try add <code>@JsonProperty to setter </code> :</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class GifUrlDto {\n    private String url;\n    private String embedUrl;\n\n    @JsonProperty(&quot;data&quot;)\n    public void setUrl(Map&lt;String, String&gt; data) {\n        this.url =data.get(&quot;url&quot;);\n        this.embedUrl = data.get(&quot;embed_url&quot;);\n    }\n}\n\n</code></pre>\n<p>When I try to return it from the function:</p>\n<pre><code>@GetMapping(&quot;/random&quot;)\n    GifUrlDto getRandomGByExchangeRates();\n</code></pre>\n<p>then  i get an error :</p>\n<pre><code> Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 665] (through reference chain: com.alfa.bank.project.gifAndExchangeRate.dto.GifUrlDto[&quot;data&quot;]-&gt;java.util.LinkedHashMap[&quot;images&quot;])] with root cause\n</code></pre>\n<p>Do I need to make a desiarilizer somehow, or can I do it better?</p>\n"},{"tags":["java","spring","maven","pom.xml"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654025173,"post_id":72452864,"comment_id":127992804,"body_markdown":"See if this solves your problem https://stackoverflow.com/questions/67782975/how-to-fix-the-module-java-base-does-not-opens-java-io-to-unnamed-module","body":"See if this solves your problem <a href=\"https://stackoverflow.com/questions/67782975/how-to-fix-the-module-java-base-does-not-opens-java-io-to-unnamed-module\" title=\"how to fix the module java base does not opens java io to unnamed module\">stackoverflow.com/questions/67782975/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654066642,"post_id":72452864,"comment_id":128000396,"body_markdown":"Which JDK version do you use? Which Spring / Spring Boot version do you use? Which. Maven version do you use?","body":"Which JDK version do you use? Which Spring / Spring Boot version do you use? Which. Maven version do you use?"},{"owner":{"account_id":22009905,"reputation":1,"user_id":16280338,"display_name":"Sathwik Pinninti"},"score":0,"creation_date":1654131635,"post_id":72452864,"comment_id":128020783,"body_markdown":"I use Java 1.8 version, Spring - 4.2.2.RELEASE, Apache Maven 3.8.5 and eclipse editor","body":"I use Java 1.8 version, Spring - 4.2.2.RELEASE, Apache Maven 3.8.5 and eclipse editor"},{"owner":{"account_id":22009905,"reputation":1,"user_id":16280338,"display_name":"Sathwik Pinninti"},"score":0,"creation_date":1654132149,"post_id":72452864,"comment_id":128020844,"body_markdown":"@ChetanAhirrao Thanks but, those were the same solutions i tried which didn&#39;t work for me. By the way I use java, spring framework and eclipse to build my webapp.","body":"@ChetanAhirrao Thanks but, those were the same solutions i tried which didn&#39;t work for me. By the way I use java, spring framework and eclipse to build my webapp."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654137948,"post_id":72452864,"comment_id":128021624,"body_markdown":"Something is not right in your setup. This exception shouldn&#39;t come in Java 1.8 Right click, go to build path-&gt; libraries and see which Java version is being used by eclipsy","body":"Something is not right in your setup. This exception shouldn&#39;t come in Java 1.8 Right click, go to build path-&gt; libraries and see which Java version is being used by eclipsy"},{"owner":{"account_id":22009905,"reputation":1,"user_id":16280338,"display_name":"Sathwik Pinninti"},"score":0,"creation_date":1654156592,"post_id":72452864,"comment_id":128025589,"body_markdown":"@ChetanAhirrao it says Java 1.8","body":"@ChetanAhirrao it says Java 1.8"},{"owner":{"account_id":22009905,"reputation":1,"user_id":16280338,"display_name":"Sathwik Pinninti"},"score":0,"creation_date":1654156687,"post_id":72452864,"comment_id":128025619,"body_markdown":"I edited my question again. Would request to look back.","body":"I edited my question again. Would request to look back."}],"owner":{"account_id":22009905,"reputation":1,"user_id":16280338,"display_name":"Sathwik Pinninti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654156507,"creation_date":1654023302,"question_id":72452864,"body_markdown":"I have the following error when i try to run my java webapp on my tomcat server. I specifically get this error when I try to implement security in my webapp. For this, I use **filter-mapping** in my web.xml and a java class that extends **WebSecurityConfigurerAdapter**.\r\n\r\n    java.lang.IllegalStateException: Cannot load configuration class: com.in28minutes.security.SecurityConfiguration\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:410)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:130)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:674)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:519)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:633)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:552)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\r\n    \tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:116)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:108)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:104)\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:400)\r\n    \t... 24 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1bfd6e36\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils$2.run(ReflectUtils.java:56)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\r\n    \t... 35 more\r\n    \r\n    May 31, 2022 11:13:34 PM org.apache.catalina.core.StandardContext loadOnStartup\r\n    SEVERE: Servlet  threw load() exception\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1bfd6e36\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils$2.run(ReflectUtils.java:56)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\r\n    \tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:116)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:108)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:104)\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:400)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:130)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:674)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:519)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:633)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:552)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n---------- ---------- ---------- ---------- ----------\r\n\r\n\r\nI went through this [article][1] [1]: https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m and when I tried running it on my Mac terminal it doesn&#39;t work.\r\n\r\nI also went through few articles related to this error and tried them but I don&#39;t think it solved my issue. Is there any way around?. Any suggestion is appreciated. Please lemme know if I can provide way more information for better understanding. ","title":"java.lang.IllegalStateException: Cannot load configuration class:","body":"<p>I have the following error when i try to run my java webapp on my tomcat server. I specifically get this error when I try to implement security in my webapp. For this, I use <strong>filter-mapping</strong> in my web.xml and a java class that extends <strong>WebSecurityConfigurerAdapter</strong>.</p>\n<pre><code>java.lang.IllegalStateException: Cannot load configuration class: com.in28minutes.security.SecurityConfiguration\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:410)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:130)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:674)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:519)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:633)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:552)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ExceptionInInitializerError\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:116)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:108)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:104)\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:400)\n    ... 24 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1bfd6e36\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils$2.run(ReflectUtils.java:56)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\n    ... 35 more\n\nMay 31, 2022 11:13:34 PM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet  threw load() exception\njava.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1bfd6e36\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils$2.run(ReflectUtils.java:56)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:116)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:108)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:104)\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:400)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:130)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:674)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:519)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:633)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:552)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<hr />\n<p>I went through this [article][1] [1]: https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m and when I tried running it on my Mac terminal it doesn't work.</p>\n<p>I also went through few articles related to this error and tried them but I don't think it solved my issue. Is there any way around?. Any suggestion is appreciated. Please lemme know if I can provide way more information for better understanding.</p>\n"},{"tags":["java","macos","solr","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":6069098,"reputation":61,"user_id":4738505,"display_name":"J.P. Dowd"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638548190,"creation_date":1638548190,"answer_id":70217469,"question_id":70217229,"body_markdown":"Requirements for stack size appears to be different between ARM and x86 JVMs. \r\n\r\nThe relevant lines setting the default in bin/solr is:\r\n```\r\n# Pick default for Java thread stack size, and then add to SOLR_OPTS\r\nif [ -z ${SOLR_JAVA_STACK_SIZE+x} ]; then\r\n  SOLR_JAVA_STACK_SIZE=&#39;-Xss256k&#39;\r\nfi\r\nSOLR_OPTS+=($SOLR_JAVA_STACK_SIZE)\r\n```\r\nThe default is too small for the ARM JVM to start up. To increase the stack size add the following line to bin/solr.in.cmd \r\n\r\n```\r\nSOLR_JAVA_STACK_SIZE=&#39;-Xss512k&#39;\r\n```\r\n\r\n","title":"Solr not starting on MacOS M1 using Azul JVM","body":"<p>Requirements for stack size appears to be different between ARM and x86 JVMs.</p>\n<p>The relevant lines setting the default in bin/solr is:</p>\n<pre><code># Pick default for Java thread stack size, and then add to SOLR_OPTS\nif [ -z ${SOLR_JAVA_STACK_SIZE+x} ]; then\n  SOLR_JAVA_STACK_SIZE='-Xss256k'\nfi\nSOLR_OPTS+=($SOLR_JAVA_STACK_SIZE)\n</code></pre>\n<p>The default is too small for the ARM JVM to start up. To increase the stack size add the following line to bin/solr.in.cmd</p>\n<pre><code>SOLR_JAVA_STACK_SIZE='-Xss512k'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4701960,"reputation":11,"user_id":3805305,"display_name":"transpatial"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654156401,"creation_date":1654156401,"answer_id":72472579,"question_id":70217229,"body_markdown":"I faced the same error when trying to start Solr for my Rails app. \r\nAfter a lot of digging, I fixed it by adding the following line to my `.zshrc` file.\r\n\r\n    export _JAVA_OPTIONS=&#39;-Xss512k&#39;\r\n\r\nMy use case:\r\n\r\nmacOS Monterey (M1 2020) \r\n\r\n    openjdk version &quot;1.8.0_332&quot;\r\n    OpenJDK Runtime Environment (Zulu 8.62.0.19-CA-macos-aarch64) (build 1.8.0_332-b09)\r\n    OpenJDK 64-Bit Server VM (Zulu 8.62.0.19-CA-macos-aarch64) (build 25.332-b09, mixed mode)\r\n\r\n","title":"Solr not starting on MacOS M1 using Azul JVM","body":"<p>I faced the same error when trying to start Solr for my Rails app.\nAfter a lot of digging, I fixed it by adding the following line to my <code>.zshrc</code> file.</p>\n<pre><code>export _JAVA_OPTIONS='-Xss512k'\n</code></pre>\n<p>My use case:</p>\n<p>macOS Monterey (M1 2020)</p>\n<pre><code>openjdk version &quot;1.8.0_332&quot;\nOpenJDK Runtime Environment (Zulu 8.62.0.19-CA-macos-aarch64) (build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (Zulu 8.62.0.19-CA-macos-aarch64) (build 25.332-b09, mixed mode)\n</code></pre>\n"}],"owner":{"account_id":6069098,"reputation":61,"user_id":4738505,"display_name":"J.P. Dowd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654156401,"creation_date":1638547207,"question_id":70217229,"body_markdown":"I switched to the Azul JVM in order to use a native ARM JVM and Solr was no longer able to start up. I started seeing a new error in the log: \r\n\r\n```\r\nThe stack size specified is too small, Specify at least 384k\r\n```\r\n\r\nIf I switch back to the Oracle jvm I do not get this error.","title":"Solr not starting on MacOS M1 using Azul JVM","body":"<p>I switched to the Azul JVM in order to use a native ARM JVM and Solr was no longer able to start up. I started seeing a new error in the log:</p>\n<pre><code>The stack size specified is too small, Specify at least 384k\n</code></pre>\n<p>If I switch back to the Oracle jvm I do not get this error.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654149203,"creation_date":1654149203,"answer_id":72471278,"question_id":72468205,"body_markdown":"    implementation &#39;com.github.cachapa:ExpandableLayout:2.9.2&#39;\r\n\r\n try this I&#39;m using this library currently inside the app that I&#39;m working on, it&#39;s simple easy to use and works fine, let me know if you try it !!\r\n","title":"What the best way to creat Expandable Recyclerview Android/Java?","body":"<pre><code>implementation 'com.github.cachapa:ExpandableLayout:2.9.2'\n</code></pre>\n<p>try this I'm using this library currently inside the app that I'm working on, it's simple easy to use and works fine, let me know if you try it !!</p>\n"},{"tags":[],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654156307,"creation_date":1654156307,"answer_id":72472554,"question_id":72468205,"body_markdown":"that&#39;s how I&#39;m using it in my application this card view is inside a recycler view and there&#39;s another recycler view inside this card view which I&#39;m expanding and collapsing on arrow image click \r\n[when layout is collapsed][1]\r\n\r\n\r\n[when layout is expanded][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/la3N3.png\r\n  [2]: https://i.stack.imgur.com/sRxbM.png","title":"What the best way to creat Expandable Recyclerview Android/Java?","body":"<p>that's how I'm using it in my application this card view is inside a recycler view and there's another recycler view inside this card view which I'm expanding and collapsing on arrow image click\n<a href=\"https://i.stack.imgur.com/la3N3.png\" rel=\"nofollow noreferrer\">when layout is collapsed</a></p>\n<p><a href=\"https://i.stack.imgur.com/sRxbM.png\" rel=\"nofollow noreferrer\">when layout is expanded</a></p>\n"}],"owner":{"account_id":25450250,"reputation":21,"user_id":19251805,"display_name":"Dema Dima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72471278,"answer_count":2,"score":1,"last_activity_date":1654156307,"creation_date":1654118609,"question_id":72468205,"body_markdown":"Please tell me how can I create Expandable Recyclerview with Groups items and his Childs items. Now i am searching for the best way to creat expandable recyclerview, because i have tried AnimatedExpandableListView librari and i found some bugs.\r\n\r\nI will be very grateful if you show me some examples!\r\n","title":"What the best way to creat Expandable Recyclerview Android/Java?","body":"<p>Please tell me how can I create Expandable Recyclerview with Groups items and his Childs items. Now i am searching for the best way to creat expandable recyclerview, because i have tried AnimatedExpandableListView librari and i found some bugs.</p>\n<p>I will be very grateful if you show me some examples!</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654155991,"creation_date":1654092147,"answer_id":72463170,"question_id":72461400,"body_markdown":"You can use Jackson Filter to control the serialization process. When using JSON format, Spring Boot will use an ObjectMapper instance to serialize responses and deserialize requests. The idea is to create custom filter where you will place business logic for conditionally rendering desired field from DTO. Then you should add that filter to object mapper.\r\n\r\nTo summarize,here are the steps youn need to follow :\r\n\r\n1. Anottate your DTO class with `@JsonFilter(&quot;myFilter&quot;)`\r\n2. Create implementation class for your custom filter\r\n3. Create configuration class for `ObjectMapper` where you will set filter created in step 1.\r\n4. Create your boolean flag in `application.properties` file\r\n\r\nStep 1:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFilter;\r\n\r\n    @JsonFilter(&quot;myFilter&quot;)\r\n    public class EmployeeResponse {\r\n        private String firstName;\r\n        private String lastName;\r\n        private String address;\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    }\r\n\r\nStep 2:\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.ser.BeanPropertyWriter;\r\n    import com.fasterxml.jackson.databind.ser.PropertyFilter;\r\n    import com.fasterxml.jackson.databind.ser.PropertyWriter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\n    \r\n    \r\n    public class CustomFilter extends SimpleBeanPropertyFilter implements PropertyFilter {\r\n    \r\n        private boolean isSerializable;\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void serializeAsField\r\n                (Object pojo, JsonGenerator jgen, SerializerProvider provider, PropertyWriter writer)\r\n                throws Exception {\r\n            if (include(writer)) {\r\n                if (!writer.getName().equals(&quot;address&quot;)) {\r\n                    writer.serializeAsField(pojo, jgen, provider);\r\n                    return;\r\n                }\r\n                System.out.println(isSerializable);\r\n                if (isSerializable) {\r\n                    writer.serializeAsField(pojo, jgen, provider);\r\n                }\r\n            } else if (!jgen.canOmitFields()) { // since 2.3\r\n                writer.serializeAsOmittedField(pojo, jgen, provider);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected boolean include(BeanPropertyWriter writer) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        protected boolean include(PropertyWriter writer) {\r\n            return true;\r\n        }\r\n    \r\n        public boolean isSerializable() {\r\n            return isSerializable;\r\n        }\r\n    \r\n        public void setSerializable(boolean serializable) {\r\n            isSerializable = serializable;\r\n        }\r\n    }\r\n\r\nStep 3:\r\n\r\n    import com.example.demo.filter.CustomFilter;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class ObjectMapperCofiguration {\r\n    \r\n        @Value(&quot;${isSerializable}&quot;)\r\n        public boolean isSerializable;\r\n    \r\n        @Configuration\r\n        public class FilterConfiguration {\r\n            public FilterConfiguration(ObjectMapper objectMapper) {\r\n                SimpleFilterProvider simpleFilterProvider = new SimpleFilterProvider().setFailOnUnknownId(true);\r\n                CustomFilter customFilter = new CustomFilter();\r\n                customFilter.setSerializable(isSerializable);\r\n                simpleFilterProvider.addFilter(&quot;myFilter&quot;, customFilter);\r\n                objectMapper.setFilterProvider(simpleFilterProvider);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nStep 4 :\r\nIn application.properties file add following property :\r\n\r\n    isSerializable= false\r\n\r\nStep 5:\r\n\r\nCreate Controller class to test it:\r\n\r\n    @RestController\r\n    public class RestSpringBootController {\r\n    \r\n       \r\n        @GetMapping(path = &quot;/test&quot;)\r\n        public ResponseEntity&lt;EmployeeResponse&gt; test() throws JsonProcessingException {\r\n            EmployeeResponse employeeResponse = new EmployeeResponse();\r\n            employeeResponse.setAddress(&quot;addres&quot;);\r\n            employeeResponse.setFirstName(&quot;first&quot;);\r\n            employeeResponse.setLastName(&quot;last&quot;);\r\n            ResponseEntity&lt;EmployeeResponse&gt; responseEntity = ResponseEntity.ok(employeeResponse);\r\n            return responseEntity;\r\n        }\r\n    }\r\n\r\n\r\nFinally, when you start your SpringBoot app, with boolean flag `isSerializable` set to `false` you should get following response:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf you set `isSerializable` flag to `true` and restart the app, you shoud see following response:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YbdLx.png\r\n  [2]: https://i.stack.imgur.com/68XuK.png","title":"How to conditionally exclude property from a json response","body":"<p>You can use Jackson Filter to control the serialization process. When using JSON format, Spring Boot will use an ObjectMapper instance to serialize responses and deserialize requests. The idea is to create custom filter where you will place business logic for conditionally rendering desired field from DTO. Then you should add that filter to object mapper.</p>\n<p>To summarize,here are the steps youn need to follow :</p>\n<ol>\n<li>Anottate your DTO class with <code>@JsonFilter(&quot;myFilter&quot;)</code></li>\n<li>Create implementation class for your custom filter</li>\n<li>Create configuration class for <code>ObjectMapper</code> where you will set filter created in step 1.</li>\n<li>Create your boolean flag in <code>application.properties</code> file</li>\n</ol>\n<p>Step 1:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFilter;\n\n@JsonFilter(&quot;myFilter&quot;)\npublic class EmployeeResponse {\n    private String firstName;\n    private String lastName;\n    private String address;\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n}\n</code></pre>\n<p>Step 2:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.BeanPropertyWriter;\nimport com.fasterxml.jackson.databind.ser.PropertyFilter;\nimport com.fasterxml.jackson.databind.ser.PropertyWriter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\n\n\npublic class CustomFilter extends SimpleBeanPropertyFilter implements PropertyFilter {\n\n    private boolean isSerializable;\n\n\n\n    @Override\n    public void serializeAsField\n            (Object pojo, JsonGenerator jgen, SerializerProvider provider, PropertyWriter writer)\n            throws Exception {\n        if (include(writer)) {\n            if (!writer.getName().equals(&quot;address&quot;)) {\n                writer.serializeAsField(pojo, jgen, provider);\n                return;\n            }\n            System.out.println(isSerializable);\n            if (isSerializable) {\n                writer.serializeAsField(pojo, jgen, provider);\n            }\n        } else if (!jgen.canOmitFields()) { // since 2.3\n            writer.serializeAsOmittedField(pojo, jgen, provider);\n        }\n    }\n\n    @Override\n    protected boolean include(BeanPropertyWriter writer) {\n        return true;\n    }\n\n    @Override\n    protected boolean include(PropertyWriter writer) {\n        return true;\n    }\n\n    public boolean isSerializable() {\n        return isSerializable;\n    }\n\n    public void setSerializable(boolean serializable) {\n        isSerializable = serializable;\n    }\n}\n</code></pre>\n<p>Step 3:</p>\n<pre><code>import com.example.demo.filter.CustomFilter;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ObjectMapperCofiguration {\n\n    @Value(&quot;${isSerializable}&quot;)\n    public boolean isSerializable;\n\n    @Configuration\n    public class FilterConfiguration {\n        public FilterConfiguration(ObjectMapper objectMapper) {\n            SimpleFilterProvider simpleFilterProvider = new SimpleFilterProvider().setFailOnUnknownId(true);\n            CustomFilter customFilter = new CustomFilter();\n            customFilter.setSerializable(isSerializable);\n            simpleFilterProvider.addFilter(&quot;myFilter&quot;, customFilter);\n            objectMapper.setFilterProvider(simpleFilterProvider);\n        }\n    }\n\n}\n</code></pre>\n<p>Step 4 :\nIn application.properties file add following property :</p>\n<pre><code>isSerializable= false\n</code></pre>\n<p>Step 5:</p>\n<p>Create Controller class to test it:</p>\n<pre><code>@RestController\npublic class RestSpringBootController {\n\n   \n    @GetMapping(path = &quot;/test&quot;)\n    public ResponseEntity&lt;EmployeeResponse&gt; test() throws JsonProcessingException {\n        EmployeeResponse employeeResponse = new EmployeeResponse();\n        employeeResponse.setAddress(&quot;addres&quot;);\n        employeeResponse.setFirstName(&quot;first&quot;);\n        employeeResponse.setLastName(&quot;last&quot;);\n        ResponseEntity&lt;EmployeeResponse&gt; responseEntity = ResponseEntity.ok(employeeResponse);\n        return responseEntity;\n    }\n}\n</code></pre>\n<p>Finally, when you start your SpringBoot app, with boolean flag <code>isSerializable</code> set to <code>false</code> you should get following response:\n<a href=\"https://i.stack.imgur.com/YbdLx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YbdLx.png\" alt=\"enter image description here\" /></a></p>\n<p>If you set <code>isSerializable</code> flag to <code>true</code> and restart the app, you shoud see following response:</p>\n<p><a href=\"https://i.stack.imgur.com/68XuK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/68XuK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2690474,"reputation":1319,"user_id":2323932,"accept_rate":21,"display_name":"draca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72463170,"answer_count":1,"score":1,"last_activity_date":1654155991,"creation_date":1654084296,"question_id":72461400,"body_markdown":"I have a class pojo used to return a response to an API call in the rest controller\r\n\r\n    EmployeeResponse response = validationService.validate(request);\r\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n\r\nHowever now we want to feature flag the controller class so that if a configuration property is not set, the response will not include a property.  How can we do that?\r\n\r\n    public class EmployeeResponse {\r\n        private String firstName;\r\n        private String lastName\r\n        private String address;   // don&#39;t want to include this if boolean flag is not set\r\n    }\r\n\r\nEDIT:  adding the controller code here to show that an object is returned without being serialized so I don&#39;t see how to fit objectMapper into that\r\n\r\n    @RestController\r\n    public class EmployeeController {\r\n    \r\n        @PostMapping(value = &quot;/validate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;EmployeeResponse&gt; get(final @RequestBody EmployeeRequest employeeRequest) {\r\n    \r\n            MasterSubResponse response = validationService.validate(employeeRequest);\r\n            return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to conditionally exclude property from a json response","body":"<p>I have a class pojo used to return a response to an API call in the rest controller</p>\n<pre><code>EmployeeResponse response = validationService.validate(request);\nreturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n</code></pre>\n<p>However now we want to feature flag the controller class so that if a configuration property is not set, the response will not include a property.  How can we do that?</p>\n<pre><code>public class EmployeeResponse {\n    private String firstName;\n    private String lastName\n    private String address;   // don't want to include this if boolean flag is not set\n}\n</code></pre>\n<p>EDIT:  adding the controller code here to show that an object is returned without being serialized so I don't see how to fit objectMapper into that</p>\n<pre><code>@RestController\npublic class EmployeeController {\n\n    @PostMapping(value = &quot;/validate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;EmployeeResponse&gt; get(final @RequestBody EmployeeRequest employeeRequest) {\n\n        MasterSubResponse response = validationService.validate(employeeRequest);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"score":6,"creation_date":1293634264,"post_id":4555089,"comment_id":4994239,"body_markdown":"Start upvoting useful answers and marking as accepted those that solve your problem.","body":"Start upvoting useful answers and marking as accepted those that solve your problem."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1293634541,"post_id":4555089,"comment_id":4994299,"body_markdown":"@Alberto Zaccagni: stop upvoting answers without also upvoting the question.   Tssst, I **know** you&#39;re doing it ;)","body":"@Alberto Zaccagni: stop upvoting answers without also upvoting the question.   Tssst, I <b>know</b> you&#39;re doing it ;)"},{"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"score":0,"creation_date":1293634917,"post_id":4555089,"comment_id":4994382,"body_markdown":"@SpoonBender: Uhm... yeah... sure... (ps: what? ^^&quot;)","body":"@SpoonBender: Uhm... yeah... sure... (ps: what? ^^&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1293635454,"creation_date":1293634369,"answer_id":4555107,"question_id":4555089,"body_markdown":"You mean &quot;how do you append to a file&quot;?  Look for an [append-version of a constructor][1] of your File writing class, e.g.:\r\n\r\n    public FileWriter(String fileName,\r\n                      boolean append)\r\n               throws IOException\r\n\r\nUse this constructor and pass `true` for the append parameter.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/FileWriter.html#FileWriter(java.io.File, boolean)","title":"java write data to file without erasing the old content","body":"<p>You mean \"how do you append to a file\"?  Look for an [append-version of a constructor][1] of your File writing class, e.g.:</p>\n\n<pre><code>public FileWriter(String fileName,\n                  boolean append)\n           throws IOException\n</code></pre>\n\n<p>Use this constructor and pass <code>true</code> for the append parameter.</p>\n\n<p>[1]: <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/FileWriter.html#FileWriter(java.io.File\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/io/FileWriter.html#FileWriter(java.io.File</a>, boolean)</p>\n"},{"tags":[],"owner":{"account_id":56438,"reputation":14829,"user_id":169045,"accept_rate":89,"display_name":"rodion"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1293634434,"creation_date":1293634434,"answer_id":4555113,"question_id":4555089,"body_markdown":"Use `new FileOutputStream(file, true)`. This will open file in &quot;append&quot; mode which will append all data written to the stream to the end of that file.","title":"java write data to file without erasing the old content","body":"<p>Use <code>new FileOutputStream(file, true)</code>. This will open file in \"append\" mode which will append all data written to the stream to the end of that file.</p>\n"},{"tags":[],"owner":{"account_id":2189069,"reputation":10319,"user_id":1936697,"display_name":"Adiyat Mubarak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407816667,"creation_date":1407816667,"answer_id":25256014,"question_id":4555089,"body_markdown":"if you used the new one in Java 7, you can use this way\r\n\r\n    try (BufferedWriter writer = Files.newBufferedWriter(outFile, StandardCharsets.UTF_8, StandardOpenOption.APPEND))\r\n","title":"java write data to file without erasing the old content","body":"<p>if you used the new one in Java 7, you can use this way</p>\n\n<pre><code>try (BufferedWriter writer = Files.newBufferedWriter(outFile, StandardCharsets.UTF_8, StandardOpenOption.APPEND))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25453532,"reputation":1,"user_id":19254531,"display_name":"user19254531"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654155958,"creation_date":1654155958,"answer_id":72472480,"question_id":4555089,"body_markdown":"in this code i use append (true) but my old date erase and new data overwrite on it please give me solution on it\r\n\r\n\r\n\r\n\r\n\r\npublic class FileOperation {\r\n\r\n\r\n\r\n    private static FileReader fileReader;\r\n    private static FileWriter fileWriter;\r\n    private static BufferedReader bufferedReader;\r\n    private static BufferedWriter bufferedWriter;\r\n    private static PrintWriter writer;\r\n\r\n\r\n\r\n\r\n    public static File file = new File(&quot;C:\\\\StudentInfo\\\\com\\\\education\\\\students\\\\file\\\\managing\\\\v1_0\\\\Student.txt&quot;);\r\n\r\n    public FileOperation() throws IOException {\r\n\r\n        fileReader = new FileReader(file);\r\n        fileWriter = new FileWriter(file, true);\r\n        bufferedReader = new BufferedReader(fileReader);\r\n        bufferedWriter = new BufferedWriter(fileWriter);\r\n\r\n       // FileOperation fo =new FileOperation();\r\n\r\n    }\r\n\r\n    public  boolean enrollSudnents(ArrayList&lt;Student&gt; studentList) {\r\n        try {\r\n            writer = new PrintWriter(file);\r\n            writer.print(&quot;&quot;);\r\n            bufferedWriter = new BufferedWriter(new FileWriter(file));\r\n            for (Student s : studentList) {\r\n\r\n                String nameNumberString = String.valueOf(s.getRoll() + &quot;!&quot; + s.getFirstName() + &quot;!&quot; + s.getLastName()\r\n                        + &quot;!&quot; + s.getClassName() + &quot;!&quot; + s.getAddress() + &quot;\\n&quot;);\r\n                bufferedWriter.write(nameNumberString);\r\n\r\n            }\r\n\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        } finally {\r\n            try {\r\n                bufferedWriter.close();\r\n                fileWriter.close();\r\n            } catch (Exception e) {\r\n              // logger.info(&quot;Exception Found In Adding data&quot;);\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"java write data to file without erasing the old content","body":"<p>in this code i use append (true) but my old date erase and new data overwrite on it please give me solution on it</p>\n<p>public class FileOperation {</p>\n<pre><code>private static FileReader fileReader;\nprivate static FileWriter fileWriter;\nprivate static BufferedReader bufferedReader;\nprivate static BufferedWriter bufferedWriter;\nprivate static PrintWriter writer;\n\n\n\n\npublic static File file = new File(&quot;C:\\\\StudentInfo\\\\com\\\\education\\\\students\\\\file\\\\managing\\\\v1_0\\\\Student.txt&quot;);\n\npublic FileOperation() throws IOException {\n\n    fileReader = new FileReader(file);\n    fileWriter = new FileWriter(file, true);\n    bufferedReader = new BufferedReader(fileReader);\n    bufferedWriter = new BufferedWriter(fileWriter);\n\n   // FileOperation fo =new FileOperation();\n\n}\n\npublic  boolean enrollSudnents(ArrayList&lt;Student&gt; studentList) {\n    try {\n        writer = new PrintWriter(file);\n        writer.print(&quot;&quot;);\n        bufferedWriter = new BufferedWriter(new FileWriter(file));\n        for (Student s : studentList) {\n\n            String nameNumberString = String.valueOf(s.getRoll() + &quot;!&quot; + s.getFirstName() + &quot;!&quot; + s.getLastName()\n                    + &quot;!&quot; + s.getClassName() + &quot;!&quot; + s.getAddress() + &quot;\\n&quot;);\n            bufferedWriter.write(nameNumberString);\n\n        }\n\n        return true;\n    } catch (Exception e) {\n        return false;\n    } finally {\n        try {\n            bufferedWriter.close();\n            fileWriter.close();\n        } catch (Exception e) {\n          // logger.info(&quot;Exception Found In Adding data&quot;);\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":662098,"reputation":2143,"user_id":486483,"accept_rate":62,"display_name":"yonatan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7769,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4555113,"answer_count":4,"score":3,"last_activity_date":1654155958,"creation_date":1293634174,"question_id":4555089,"body_markdown":"how can i\r\nwrite data to file without erasing the old content","title":"java write data to file without erasing the old content","body":"<p>how can i\nwrite data to file without erasing the old content</p>\n"},{"tags":["java","spring","spring-boot","caching","spring-cache"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1654092475,"post_id":72462859,"comment_id":128009736,"body_markdown":"Do you use spring at all in your application? If so: At some point your domain layer get&#39;s invoked from &#39;outside&#39;. So why not using a wrapper class which invokes the domain class but with `@Cachable` on the method?","body":"Do you use spring at all in your application? If so: At some point your domain layer get&#39;s invoked from &#39;outside&#39;. So why not using a wrapper class which invokes the domain class but with <code>@Cachable</code> on the method?"},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1654129953,"post_id":72462859,"comment_id":128020552,"body_markdown":"So you want all of the normal Spring Cache behavior, just without putting the annotation on your domain class? Also, in your example `createDomainClassBean()` is a singleton. Would you use the prototype scope in the real implementation? Will it always be a Spring Bean?","body":"So you want all of the normal Spring Cache behavior, just without putting the annotation on your domain class? Also, in your example <code>createDomainClassBean()</code> is a singleton. Would you use the prototype scope in the real implementation? Will it always be a Spring Bean?"},{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":0,"creation_date":1654151164,"post_id":72462859,"comment_id":128023859,"body_markdown":"@DanielWosch Yes I do use Spring in my application, but none of the domain classes or application-layer classes have Spring annotations applied to them, to keep them decoupled from Spring. All of the wiring is done with `@Configuration` and `@Bean` ( yes I know this is dogmatic and has overhead, but this application is more of an architectural training ground and exploring what is possible and what not). I can not use a wrapper class, since &quot;domain class&quot; is used by &quot;use case&quot; class, and the &quot;use-case&quot; class can not depend on externalities as well ( hexagonal architecture )","body":"@DanielWosch Yes I do use Spring in my application, but none of the domain classes or application-layer classes have Spring annotations applied to them, to keep them decoupled from Spring. All of the wiring is done with <code>@Configuration</code> and <code>@Bean</code> ( yes I know this is dogmatic and has overhead, but this application is more of an architectural training ground and exploring what is possible and what not). I can not use a wrapper class, since &quot;domain class&quot; is used by &quot;use case&quot; class, and the &quot;use-case&quot; class can not depend on externalities as well ( hexagonal architecture )"},{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":0,"creation_date":1654151319,"post_id":72462859,"comment_id":128023895,"body_markdown":"@DanielWosch Your proposal gave the following idea. I could extend the `DomainClass` in the upper-most layer of my application, and then basically forward all calls to super, while adding `@Cacheable` where necessary. That way I would be able to keep the technical details outside of the domain.","body":"@DanielWosch Your proposal gave the following idea. I could extend the <code>DomainClass</code> in the upper-most layer of my application, and then basically forward all calls to super, while adding <code>@Cacheable</code> where necessary. That way I would be able to keep the technical details outside of the domain."},{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":0,"creation_date":1654151395,"post_id":72462859,"comment_id":128023924,"body_markdown":"@Knox yes you are right I want to have the cake and to eat it too. Yes the bean is a singleton. I do not have a plan to use it as a prototype bean and yes it will always be a Spring bean ( but I am open to alternatives ).","body":"@Knox yes you are right I want to have the cake and to eat it too. Yes the bean is a singleton. I do not have a plan to use it as a prototype bean and yes it will always be a Spring bean ( but I am open to alternatives )."},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1654151902,"post_id":72462859,"comment_id":128024114,"body_markdown":"@TheCoolDrop Okay cool. I have also build some sample applications based on the hex-arch so I know your struggle ;). At some point you are working outside of your domain e.g. your WebAdapter which uses a certain UseCase interface. So the webadapter could provide a `@Cachable` method which calls the UseCase -&gt; domain class. Or are the adapter / application / Infrastructure layers also free from spring related annotations?","body":"@TheCoolDrop Okay cool. I have also build some sample applications based on the hex-arch so I know your struggle ;). At some point you are working outside of your domain e.g. your WebAdapter which uses a certain UseCase interface. So the webadapter could provide a <code>@Cachable</code> method which calls the UseCase -&gt; domain class. Or are the adapter / application / Infrastructure layers also free from spring related annotations?"},{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":0,"creation_date":1654182737,"post_id":72462859,"comment_id":128035117,"body_markdown":"Well I putting `@Cacheable` on adapter would probably be acceptable solution, the thing is that expensive domain computation is being also consumed in multiple &quot;domain services&quot;, which orchestrate multiple domain entities, so adapter is not the only entry point for expensive domain computation. In the end it must actually be cacheable on domain level, and not on some higher level. But good idea, and it is always nice to see that other people care about similar concepts.","body":"Well I putting <code>@Cacheable</code> on adapter would probably be acceptable solution, the thing is that expensive domain computation is being also consumed in multiple &quot;domain services&quot;, which orchestrate multiple domain entities, so adapter is not the only entry point for expensive domain computation. In the end it must actually be cacheable on domain level, and not on some higher level. But good idea, and it is always nice to see that other people care about similar concepts."}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654155746,"creation_date":1654155442,"answer_id":72472373,"question_id":72462859,"body_markdown":"Have a look at Spring&#39;s [`CacheProxyFactoryBean`][1] class.\r\n\r\nInternally, Spring&#39;s [Cache Abstraction][2] and caching infrastructure applied to Spring application service classes, your application domain classes, (whether using [Declarative, Annotation-based Caching][3] configuration and demarcation, or [Declarative, XML-based Caching][4] configuration, etc) is all [backed][5] by [Spring AOP][6].  After all, applying caching capabilities to application service components is a form of *decoration*.\r\n\r\nThe `CacheProxyFactoryBean` [accepts][7] an array of [`CacheOperationSource`][8] objects used to [identify][9] the type of [cache operation][10](s) (e.g. GET/PUT, EVICT, etc; for example, the [CacheableOperation][11] for the `@Cacheable` annotation) to perform on the proxy target&#39;s methods which are [identified][12] by an AOP Pointcut.\r\n\r\nAs you know, [one source][13] of caching configuration (metadata) for a cache enabled operation applied to (demarcating) your application service method is from an Annotation, like Spring&#39;s `@Cacheable` annotation, not unlike how you&#39;d use Spring&#39;s Transaction Management (with `@Transactional`) or Spring Security.\r\n\r\nObviously, there are sources to parse (per) cache (operation) configuration from XML.\r\n\r\nThese are the infrastructure classes that Spring&#39;s caching infrastructure is essentially using under-the-hood when using Annotation or XML configuration to proxy your application service components and apply caching behavior.\r\n\r\nYou can manually set all of this up yourself (using Java-based configuration) to minimize the Spring footprint in your application classes, but that is quite a bit of boilerplate just to avoid Spring types in your application [service | DAO/Repository] classes when in fact Spring is already a dependency of your application.\r\n\r\nIt is somewhat akin to using JPA Annotations for application domain model classes (or entities), but that is in fact far worse given JPA Annotations are present in your domain &quot;model&quot; classes, IMO.\r\n\r\nAlternatively, you could use XML (rather than Java-based configuration) or use JSR-107 Cache Annotations, which are [supported][14] by Spring as well.\r\n\r\nFood for thought.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheProxyFactoryBean.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-declarative-xml\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotation-enable\r\n  [6]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop\r\n  [7]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheProxyFactoryBean.html#setCacheOperationSources-org.springframework.cache.interceptor.CacheOperationSource...-\r\n  [8]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheOperationSource.html\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheOperationSource.html#getCacheOperations-java.lang.reflect.Method-java.lang.Class-\r\n  [10]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheOperation.html\r\n  [11]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheableOperation.html\r\n  [12]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheProxyFactoryBean.html#setPointcut-org.springframework.aop.Pointcut-\r\n  [13]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/AnnotationCacheOperationSource.html\r\n  [14]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107","title":"Programmatic alternative to @Cacheable annotation in Spring","body":"<p>Have a look at Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheProxyFactoryBean.html\" rel=\"nofollow noreferrer\"><code>CacheProxyFactoryBean</code></a> class.</p>\n<p>Internally, Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache\" rel=\"nofollow noreferrer\">Cache Abstraction</a> and caching infrastructure applied to Spring application service classes, your application domain classes, (whether using <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations\" rel=\"nofollow noreferrer\">Declarative, Annotation-based Caching</a> configuration and demarcation, or <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-declarative-xml\" rel=\"nofollow noreferrer\">Declarative, XML-based Caching</a> configuration, etc) is all <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotation-enable\" rel=\"nofollow noreferrer\">backed</a> by <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop\" rel=\"nofollow noreferrer\">Spring AOP</a>.  After all, applying caching capabilities to application service components is a form of <em>decoration</em>.</p>\n<p>The <code>CacheProxyFactoryBean</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheProxyFactoryBean.html#setCacheOperationSources-org.springframework.cache.interceptor.CacheOperationSource...-\" rel=\"nofollow noreferrer\">accepts</a> an array of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheOperationSource.html\" rel=\"nofollow noreferrer\"><code>CacheOperationSource</code></a> objects used to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheOperationSource.html#getCacheOperations-java.lang.reflect.Method-java.lang.Class-\" rel=\"nofollow noreferrer\">identify</a> the type of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheOperation.html\" rel=\"nofollow noreferrer\">cache operation</a>(s) (e.g. GET/PUT, EVICT, etc; for example, the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheableOperation.html\" rel=\"nofollow noreferrer\">CacheableOperation</a> for the <code>@Cacheable</code> annotation) to perform on the proxy target's methods which are <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheProxyFactoryBean.html#setPointcut-org.springframework.aop.Pointcut-\" rel=\"nofollow noreferrer\">identified</a> by an AOP Pointcut.</p>\n<p>As you know, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/AnnotationCacheOperationSource.html\" rel=\"nofollow noreferrer\">one source</a> of caching configuration (metadata) for a cache enabled operation applied to (demarcating) your application service method is from an Annotation, like Spring's <code>@Cacheable</code> annotation, not unlike how you'd use Spring's Transaction Management (with <code>@Transactional</code>) or Spring Security.</p>\n<p>Obviously, there are sources to parse (per) cache (operation) configuration from XML.</p>\n<p>These are the infrastructure classes that Spring's caching infrastructure is essentially using under-the-hood when using Annotation or XML configuration to proxy your application service components and apply caching behavior.</p>\n<p>You can manually set all of this up yourself (using Java-based configuration) to minimize the Spring footprint in your application classes, but that is quite a bit of boilerplate just to avoid Spring types in your application [service | DAO/Repository] classes when in fact Spring is already a dependency of your application.</p>\n<p>It is somewhat akin to using JPA Annotations for application domain model classes (or entities), but that is in fact far worse given JPA Annotations are present in your domain &quot;model&quot; classes, IMO.</p>\n<p>Alternatively, you could use XML (rather than Java-based configuration) or use JSR-107 Cache Annotations, which are <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107\" rel=\"nofollow noreferrer\">supported</a> by Spring as well.</p>\n<p>Food for thought.</p>\n"}],"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72472373,"answer_count":1,"score":1,"last_activity_date":1654155746,"creation_date":1654090853,"question_id":72462859,"body_markdown":"Recently I have been dabling in architecture, and I have a use-case where a very expensive computation from my domain is called very often with same parameters ( before you jump to any conclusions, I do not determine the parameters, and these are completely provided by external callers ). I would like to keep my application architecture as clean as possible and would not like to add a dependency on Spring in my domain layer, but I would still like to use Spring caching capabilities.\r\n\r\nI am aware that Spring provides `@Cacheable` annotation, but as said I do not want to use those on my classes to avoid adding a dependency on Spring.\r\n\r\nIs it possible to do something like:\r\n\r\n```java\r\n\r\n@Configuration\r\npublic MyConfigurationClass {\r\n\r\n    @Bean\r\n    public DomainClass createDomainClassBean() {\r\n        DomainClass domainInstance = new DomainClass(...);\r\n        // Programatically add @Cacheable annotation to the domain class.\r\n        ...\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nIs it possible to enable `@Cacheable` behavior for methods programatically, without relying on the annotation?\r\n\r\nEdit: I am open to alternatives, which do not rely on Spring capabilities, but I would prefer avoiding adding dependencies to domain layer.","title":"Programmatic alternative to @Cacheable annotation in Spring","body":"<p>Recently I have been dabling in architecture, and I have a use-case where a very expensive computation from my domain is called very often with same parameters ( before you jump to any conclusions, I do not determine the parameters, and these are completely provided by external callers ). I would like to keep my application architecture as clean as possible and would not like to add a dependency on Spring in my domain layer, but I would still like to use Spring caching capabilities.</p>\n<p>I am aware that Spring provides <code>@Cacheable</code> annotation, but as said I do not want to use those on my classes to avoid adding a dependency on Spring.</p>\n<p>Is it possible to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic MyConfigurationClass {\n\n    @Bean\n    public DomainClass createDomainClassBean() {\n        DomainClass domainInstance = new DomainClass(...);\n        // Programatically add @Cacheable annotation to the domain class.\n        ...\n    }\n\n}\n\n</code></pre>\n<p>Is it possible to enable <code>@Cacheable</code> behavior for methods programatically, without relying on the annotation?</p>\n<p>Edit: I am open to alternatives, which do not rely on Spring capabilities, but I would prefer avoiding adding dependencies to domain layer.</p>\n"},{"tags":["java","recursion","static","hashset","recursive-datastructures"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1654155515,"post_id":72472287,"comment_id":128025250,"body_markdown":"1) This second line `productUuidSet.add(subProductUuid);` is not needed, it will be added in the `productUuidSet.addAll(recursiveMethod(subProductUuid));` call. 2) Produce some output what items have been added. From looking at the code, it looks correct, but my concerns are with `productRepo.getSubProducts(productUuid);` if it actually delivers the right IDs. Remeber: there might be all duplicates, but `Set` will swallow duplicates, maybe &#39;truncation&#39; your output.","body":"1) This second line <code>productUuidSet.add(subProductUuid);</code> is not needed, it will be added in the <code>productUuidSet.addAll(recursiveMethod(subProductUuid));</code> call. 2) Produce some output what items have been added. From looking at the code, it looks correct, but my concerns are with <code>productRepo.getSubProducts(productUuid);</code> if it actually delivers the right IDs. Remeber: there might be all duplicates, but <code>Set</code> will swallow duplicates, maybe &#39;truncation&#39; your output."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654155827,"post_id":72472287,"comment_id":128025340,"body_markdown":"@JayC667 Thanks a lot amigo, your comment is really useful and I solved the problem with the help of you. Regards.","body":"@JayC667 Thanks a lot amigo, your comment is really useful and I solved the problem with the help of you. Regards."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654155606,"creation_date":1654155606,"answer_id":72472400,"question_id":72472287,"body_markdown":"If I understand your question, you want to keep the set rather than creating new set each time?\r\n\r\nThis should work:\r\n\r\n    public List&lt;UUID&gt; recursiveMethod(UUID productUuid) {\r\n      Set&lt;UUID&gt; productUuidSet = new HashSet&lt;&gt;(); // or LinkedHashSet if order matters\r\n      recursiveMethod0(productUuidSet, productUuid);\r\n      return new ArrayList&lt;&gt;(productUuidSet);\r\n    }\r\n    \r\n    private void recursiveMethod0(Set&lt;UUID&gt; productUuidSet, UUID productUuid) {\r\n        productUuidSet.add(productUuid);\r\n        List&lt;Product&gt; subProducts = productRepo.getSubProducts(productUuid);\r\n        for (Product subProduct : subProducts) {\r\n            recursiveMethod0(productUuidSet, subProduct.getProductUuid());\r\n        }\r\n    }\r\n\r\nTL;DR: simply pass the set instead of recreating it each time. \r\n\r\nI simplified your insertion code: `productUuidSet.add(subProductUuid);` is already done by the recursive function.","title":"Cannot retain value in Java recursive call?","body":"<p>If I understand your question, you want to keep the set rather than creating new set each time?</p>\n<p>This should work:</p>\n<pre><code>public List&lt;UUID&gt; recursiveMethod(UUID productUuid) {\n  Set&lt;UUID&gt; productUuidSet = new HashSet&lt;&gt;(); // or LinkedHashSet if order matters\n  recursiveMethod0(productUuidSet, productUuid);\n  return new ArrayList&lt;&gt;(productUuidSet);\n}\n\nprivate void recursiveMethod0(Set&lt;UUID&gt; productUuidSet, UUID productUuid) {\n    productUuidSet.add(productUuid);\n    List&lt;Product&gt; subProducts = productRepo.getSubProducts(productUuid);\n    for (Product subProduct : subProducts) {\n        recursiveMethod0(productUuidSet, subProduct.getProductUuid());\n    }\n}\n</code></pre>\n<p>TL;DR: simply pass the set instead of recreating it each time.</p>\n<p>I simplified your insertion code: <code>productUuidSet.add(subProductUuid);</code> is already done by the recursive function.</p>\n"}],"owner":{"display_name":"user19254373"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654155606,"creation_date":1654154992,"question_id":72472287,"body_markdown":"I have the following method in my Java app:\r\n\r\n\r\n```\r\npublic List&lt;UUID&gt; recursiveMethod(UUID productUuid) {\r\n    Set&lt;UUID&gt; productUuidSet = new HashSet&lt;&gt;();\r\n    productUuidSet.add(productUuid);\r\n\r\n    List&lt;Product&gt; subProducts = productRepo.getSubProducts(productUuid);\r\n\r\n    for (Product subProduct : subProducts) {\r\n        final UUID subProductUuid = subProduct.getProductUuid();\r\n\r\n        productUuidSet.add(subProductUuid);\r\n        productUuidSet.addAll(recursiveMethod(subProductUuid));\r\n    }\r\n\r\n    return new ArrayList&lt;&gt;(productUuidSet);\r\n}\r\n```\r\n\r\nAs far as I know, recursive method keep each call result recursively. And, when calling the recursive method via `productUuidSet.addAll(recursiveMethod(subProductUuid));`, it creates a new `HashSet`, but as it returns the value inside the `HashSet`, I would be able to keep it in `productUuidSet` after recursive call. \r\n\r\nSo, what is wrong with this method? If there is a problem, how can I retain `productUuidSet` value by adding result after each recursive call? \r\n\r\n","title":"Cannot retain value in Java recursive call?","body":"<p>I have the following method in my Java app:</p>\n<pre><code>public List&lt;UUID&gt; recursiveMethod(UUID productUuid) {\n    Set&lt;UUID&gt; productUuidSet = new HashSet&lt;&gt;();\n    productUuidSet.add(productUuid);\n\n    List&lt;Product&gt; subProducts = productRepo.getSubProducts(productUuid);\n\n    for (Product subProduct : subProducts) {\n        final UUID subProductUuid = subProduct.getProductUuid();\n\n        productUuidSet.add(subProductUuid);\n        productUuidSet.addAll(recursiveMethod(subProductUuid));\n    }\n\n    return new ArrayList&lt;&gt;(productUuidSet);\n}\n</code></pre>\n<p>As far as I know, recursive method keep each call result recursively. And, when calling the recursive method via <code>productUuidSet.addAll(recursiveMethod(subProductUuid));</code>, it creates a new <code>HashSet</code>, but as it returns the value inside the <code>HashSet</code>, I would be able to keep it in <code>productUuidSet</code> after recursive call.</p>\n<p>So, what is wrong with this method? If there is a problem, how can I retain <code>productUuidSet</code> value by adding result after each recursive call?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1654138407,"post_id":72470117,"comment_id":128021685,"body_markdown":"What exactly do you mean &quot;respect Pythagoras theorem&quot;?","body":"What exactly do you mean &quot;respect Pythagoras theorem&quot;?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654138466,"post_id":72470117,"comment_id":128021690,"body_markdown":"For [example](https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859)","body":"For <a href=\"https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\">example</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654142635,"post_id":72470117,"comment_id":128022198,"body_markdown":"Do you want the character to be able to move at any angle?  Or only the angle of the line from the top left to bottom right of the window?","body":"Do you want the character to be able to move at any angle?  Or only the angle of the line from the top left to bottom right of the window?"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654155526,"creation_date":1654155526,"answer_id":72472385,"question_id":72470117,"body_markdown":"Let us add a few more directions:\r\n\r\n    private double angle = 0; // 0 = left-to-right, Math.PI/2 = up, ...\r\n    public void tick() {\r\n       x += Math.cos(angle) * spd;\r\n       y += Math.sin(angle) * spd;\r\n    }\r\n\r\nTo preserve movement speed, you need to start using [trigonometry](https://en.wikipedia.org/wiki/Trigonometric_functions) (cosine and sine) to ensure that total speed is always the same. For a speed of 1, you can easily check that diagonal movement with \r\n\r\n       x += 0.7f; // ~ 1/sqrt(2) = sin(45 degrees) = sin(pi/4)\r\n       y += 0.7f;\r\n\r\nis approximately correct, and &quot;looks&quot; about the same speed as horizontal or vertical movement. Quoting Pythagoras, \r\n\r\n      a^2 + b^2 = h^2                 // pythagoras\r\n      dx*dx + dy*dy = spd*spd         // for this specific instance\r\n      1/2 + 1/2 = 1                   // plugging in our values, diagonal movement\r\n      1 + 0 = 1                       // horizontal movement\r\n      cos(angle)^2 + sin(angle)^2 = 1 // definition of sine and cosine\r\n\r\nOf course, for this to work, `x` and `y` should be either `double` or `float` - otherwise you will not be able to add fractional amounts.\r\n","title":"How to make diagonal movement obey Pythagoras?","body":"<p>Let us add a few more directions:</p>\n<pre><code>private double angle = 0; // 0 = left-to-right, Math.PI/2 = up, ...\npublic void tick() {\n   x += Math.cos(angle) * spd;\n   y += Math.sin(angle) * spd;\n}\n</code></pre>\n<p>To preserve movement speed, you need to start using <a href=\"https://en.wikipedia.org/wiki/Trigonometric_functions\" rel=\"nofollow noreferrer\">trigonometry</a> (cosine and sine) to ensure that total speed is always the same. For a speed of 1, you can easily check that diagonal movement with</p>\n<pre><code>   x += 0.7f; // ~ 1/sqrt(2) = sin(45 degrees) = sin(pi/4)\n   y += 0.7f;\n</code></pre>\n<p>is approximately correct, and &quot;looks&quot; about the same speed as horizontal or vertical movement. Quoting Pythagoras,</p>\n<pre><code>  a^2 + b^2 = h^2                 // pythagoras\n  dx*dx + dy*dy = spd*spd         // for this specific instance\n  1/2 + 1/2 = 1                   // plugging in our values, diagonal movement\n  1 + 0 = 1                       // horizontal movement\n  cos(angle)^2 + sin(angle)^2 = 1 // definition of sine and cosine\n</code></pre>\n<p>Of course, for this to work, <code>x</code> and <code>y</code> should be either <code>double</code> or <code>float</code> - otherwise you will not be able to add fractional amounts.</p>\n"}],"owner":{"account_id":25451260,"reputation":1,"user_id":19252641,"display_name":"VonDaniken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654155526,"creation_date":1654138242,"question_id":72470117,"body_markdown":"I&#39;ve just started programming and I&#39;m having a bit of an issue with character movement. My issue is that the characters move in diagonal (it&#39;s 2D) to, lets say, the left top corner to the bottom right corner in the same time they move only from the left top to the right top. How do I make it respect the Pythagoras&#39; theorem? \r\n\r\n```java\r\npublic class Player extends Rectangle{\r\n\t\r\n\tpublic double spd = 1; //1 is the minimum\r\n\tpublic boolean right, up, down, left;\r\n\t\r\n\tpublic Player(int x, int y) {\r\n\t\tsuper(x,y,32,32);\r\n\t\t\r\n\t}\r\n\r\n\tpublic void tick() {\r\n\t\tif(right) {\r\n\t\t\tx += spd;\r\n\t\t}else if(left) {\r\n\t\t\tx -= spd;\r\n\t\t}else if (down) {\r\n\t\t\ty += spd;\r\n\t\t}else if(up) {\r\n\t\t\ty -= spd;\r\n\t\t}\r\n\t}\r\n```","title":"How to make diagonal movement obey Pythagoras?","body":"<p>I've just started programming and I'm having a bit of an issue with character movement. My issue is that the characters move in diagonal (it's 2D) to, lets say, the left top corner to the bottom right corner in the same time they move only from the left top to the right top. How do I make it respect the Pythagoras' theorem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Player extends Rectangle{\n    \n    public double spd = 1; //1 is the minimum\n    public boolean right, up, down, left;\n    \n    public Player(int x, int y) {\n        super(x,y,32,32);\n        \n    }\n\n    public void tick() {\n        if(right) {\n            x += spd;\n        }else if(left) {\n            x -= spd;\n        }else if (down) {\n            y += spd;\n        }else if(up) {\n            y -= spd;\n        }\n    }\n</code></pre>\n"},{"tags":["java","firefox","network-programming","brave-browser"],"comments":[{"owner":{"account_id":1841280,"reputation":2686,"user_id":1670616,"display_name":"sgpalit"},"score":0,"creation_date":1654117990,"post_id":72467194,"comment_id":128018414,"body_markdown":"maybe a stupid question from my side, why are there 2 time eol ? os.write(&quot;\\r\\n\\r\\n&quot;.getBytes()); maybe 1 should work? os.write(&quot;\\r\\n&quot;.getBytes());","body":"maybe a stupid question from my side, why are there 2 time eol ? os.write(&quot;\\r\\n\\r\\n&quot;.getBytes()); maybe 1 should work? os.write(&quot;\\r\\n&quot;.getBytes());"}],"answers":[{"tags":[],"owner":{"account_id":12931312,"reputation":17,"user_id":19251292,"display_name":"l2poca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654155246,"creation_date":1654155246,"answer_id":72472338,"question_id":72467194,"body_markdown":"As pointed out by sgpalit in the comments, the response should be ended by a single EOL instead of one. This apparently induced the strange behavior. Changing `os.write(&quot;\\r\\n\\r\\n&quot;.getBytes());` to `os.write(&quot;\\r\\n&quot;.getBytes());` solved the problem.\r\n","title":"HTTP redirect does not work in every browser","body":"<p>As pointed out by sgpalit in the comments, the response should be ended by a single EOL instead of one. This apparently induced the strange behavior. Changing <code>os.write(&quot;\\r\\n\\r\\n&quot;.getBytes());</code> to <code>os.write(&quot;\\r\\n&quot;.getBytes());</code> solved the problem.</p>\n"}],"owner":{"account_id":12931312,"reputation":17,"user_id":19251292,"display_name":"l2poca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72472338,"answer_count":1,"score":-1,"last_activity_date":1654155246,"creation_date":1654112053,"question_id":72467194,"body_markdown":"I am running an HTTP-Server with a `ServerSocket` and listening for `Socket&#39;s` that the server accepts. I want to redirect to an external site depending the request. So far I parse the request and write the response into the `OutputStream` of the client `Socket`.\r\nRunning the following example code:\r\n```\r\nOutputStream os = clientSocket.getOutputStream();\r\nos.write(&quot;HTTP/1.1 301 Moved Permanently\\r\\n&quot;.getBytes());\r\nos.write(&quot;Location: http://www.google.com/\\r\\n&quot;.getBytes());\r\nos.write(&quot;\\r\\n\\r\\n&quot;.getBytes());\r\nos.flush();\r\nclientSocket.close();\r\n```\r\nThe redirection to `google.com` works in firefox but in brave browser it opens a new browser window (without actually navigating to the site) after notifying me with &quot;Open xdg-open? A website wants to open this application&quot;. I am running the browser on Arch Linux. How can I make it work for brave browser as well?","title":"HTTP redirect does not work in every browser","body":"<p>I am running an HTTP-Server with a <code>ServerSocket</code> and listening for <code>Socket's</code> that the server accepts. I want to redirect to an external site depending the request. So far I parse the request and write the response into the <code>OutputStream</code> of the client <code>Socket</code>.\nRunning the following example code:</p>\n<pre><code>OutputStream os = clientSocket.getOutputStream();\nos.write(&quot;HTTP/1.1 301 Moved Permanently\\r\\n&quot;.getBytes());\nos.write(&quot;Location: http://www.google.com/\\r\\n&quot;.getBytes());\nos.write(&quot;\\r\\n\\r\\n&quot;.getBytes());\nos.flush();\nclientSocket.close();\n</code></pre>\n<p>The redirection to <code>google.com</code> works in firefox but in brave browser it opens a new browser window (without actually navigating to the site) after notifying me with &quot;Open xdg-open? A website wants to open this application&quot;. I am running the browser on Arch Linux. How can I make it work for brave browser as well?</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654088726,"post_id":72462218,"comment_id":128008287,"body_markdown":"What would you expect to happen instead, considering that `UserCredential`&#39;s constructor still expect a `boolean` (and that its default value would be `false` anyway) there?","body":"What would you expect to happen instead, considering that <code>UserCredential</code>&#39;s constructor still expect a <code>boolean</code> (and that its default value would be <code>false</code> anyway) there?"},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654089207,"post_id":72462218,"comment_id":128008460,"body_markdown":"Yep, my bad. Make sense now when I thing about it ...","body":"Yep, my bad. Make sense now when I thing about it ..."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654089298,"post_id":72462218,"comment_id":128008494,"body_markdown":"I will use builder in the target class, sorry this was really basic mistake from my side :)","body":"I will use builder in the target class, sorry this was really basic mistake from my side :)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654089353,"post_id":72462218,"comment_id":128008519,"body_markdown":"Even if you use a builder pattern, that will still set the class member to `false` by default. If you want `null`, make it a `Boolean` instead.","body":"Even if you use a builder pattern, that will still set the class member to <code>false</code> by default. If you want <code>null</code>, make it a <code>Boolean</code> instead."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654089633,"post_id":72462218,"comment_id":128008634,"body_markdown":"Actually, I wanted to have default value as true and if there will be mapping for this field (isActive) from User to UserCredentials in the future it would set it&#39;s value, I would just delete the &quot;ignore&quot; annotation.","body":"Actually, I wanted to have default value as true and if there will be mapping for this field (isActive) from User to UserCredentials in the future it would set it&#39;s value, I would just delete the &quot;ignore&quot; annotation."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654089668,"post_id":72462218,"comment_id":128008649,"body_markdown":"I will write it first and add it here.","body":"I will write it first and add it here."},{"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"score":1,"creation_date":1654098543,"post_id":72462218,"comment_id":128012177,"body_markdown":"instead of `ignore = true` you can use `constant = &quot;true&quot;` to set the default values to true.","body":"instead of <code>ignore = true</code> you can use <code>constant = &quot;true&quot;</code> to set the default values to true."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"score":0,"creation_date":1654155277,"post_id":72462218,"comment_id":128025165,"body_markdown":"Thanks Ben, I have solved my problem with the builder pattern, this way I have the default values in the class not in the mapper it self.","body":"Thanks Ben, I have solved my problem with the builder pattern, this way I have the default values in the class not in the mapper it self."}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654155172,"creation_date":1654087801,"question_id":72462218,"body_markdown":"do I something wrong or si this bug in Mapstruct? I am having this mapper definition:\r\n```java\r\n@Mapping(target = &quot;isEnabled&quot;, ignore = true)\r\n    @Mapping(target = &quot;isCredentialsNonExpired&quot;, ignore = true)\r\n    @Mapping(target = &quot;isAccountNonLocked&quot;, ignore = true)\r\n    @Mapping(target = &quot;isAccountNonExpired&quot;, ignore = true)\r\n    @Mapping(target = &quot;grantedAuthorities&quot;, ignore = true)\r\n    @Mapping(target = &quot;userName&quot;, source = &quot;email&quot;)\r\n    UserCredentials toUserCredentials(User user);\r\n```\r\n\r\nand MapStruct generates this implementation:\r\n```java\r\n@Component\r\npublic class UserCredentialsMapperImpl implements UserCredentialsMapper {\r\n\r\n    @Override\r\n    public UserCredentials toUserCredentials(User user) {\r\n        if ( user == null ) {\r\n            return null;\r\n        }\r\n\r\n        String userName = null;\r\n        String password = null;\r\n\r\n        userName = user.getEmail();\r\n        password = user.getPassword();\r\n\r\n        boolean isEnabled = false;\r\n        boolean isCredentialsNonExpired = false;\r\n        boolean isAccountNonLocked = false;\r\n        boolean isAccountNonExpired = false;\r\n        Collection&lt;? extends GrantedAuthority&gt; grantedAuthorities = null;\r\n\r\n        UserCredentials userCredentials = new UserCredentials( grantedAuthorities, password, userName, isAccountNonExpired, isAccountNonLocked, isCredentialsNonExpired, isEnabled );\r\n\r\n        return userCredentials;\r\n    }\r\n}\r\n```\r\n\r\nas you can see even though I have set isEnabled to ignore it is setting it to false instead of ignoring it...\r\n\r\n**EDITED**:\r\n\r\nAfter comments from Federico klez Culloca I realized, that MapStruct is doing everything right. The problem was in my logic. I wanted to have default values for those ignored fields, but because my class was immutable and I had all arg constructor, MapStruct had to insert some value into those fields and that is why it inserted there false value. I was able to solve this problem using Builder pattern, now MapStruct sets only the correct fields and default values are used for the rest. Thanks all for help.\r\n\r\n```java\r\n@Override\r\n    public UserCredentials toUserCredentials(User user) {\r\n        if ( user == null ) {\r\n            return null;\r\n        }\r\n\r\n        UserCredentialsBuilder userCredentials = UserCredentials.builder();\r\n\r\n        userCredentials.userName( user.getEmail() );\r\n        userCredentials.password( user.getPassword() );\r\n\r\n        return userCredentials.build();\r\n    }\r\n```","title":"Mapstruct &quot;ignore&quot; sets the value of target","body":"<p>do I something wrong or si this bug in Mapstruct? I am having this mapper definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;isEnabled&quot;, ignore = true)\n    @Mapping(target = &quot;isCredentialsNonExpired&quot;, ignore = true)\n    @Mapping(target = &quot;isAccountNonLocked&quot;, ignore = true)\n    @Mapping(target = &quot;isAccountNonExpired&quot;, ignore = true)\n    @Mapping(target = &quot;grantedAuthorities&quot;, ignore = true)\n    @Mapping(target = &quot;userName&quot;, source = &quot;email&quot;)\n    UserCredentials toUserCredentials(User user);\n</code></pre>\n<p>and MapStruct generates this implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class UserCredentialsMapperImpl implements UserCredentialsMapper {\n\n    @Override\n    public UserCredentials toUserCredentials(User user) {\n        if ( user == null ) {\n            return null;\n        }\n\n        String userName = null;\n        String password = null;\n\n        userName = user.getEmail();\n        password = user.getPassword();\n\n        boolean isEnabled = false;\n        boolean isCredentialsNonExpired = false;\n        boolean isAccountNonLocked = false;\n        boolean isAccountNonExpired = false;\n        Collection&lt;? extends GrantedAuthority&gt; grantedAuthorities = null;\n\n        UserCredentials userCredentials = new UserCredentials( grantedAuthorities, password, userName, isAccountNonExpired, isAccountNonLocked, isCredentialsNonExpired, isEnabled );\n\n        return userCredentials;\n    }\n}\n</code></pre>\n<p>as you can see even though I have set isEnabled to ignore it is setting it to false instead of ignoring it...</p>\n<p><strong>EDITED</strong>:</p>\n<p>After comments from Federico klez Culloca I realized, that MapStruct is doing everything right. The problem was in my logic. I wanted to have default values for those ignored fields, but because my class was immutable and I had all arg constructor, MapStruct had to insert some value into those fields and that is why it inserted there false value. I was able to solve this problem using Builder pattern, now MapStruct sets only the correct fields and default values are used for the rest. Thanks all for help.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public UserCredentials toUserCredentials(User user) {\n        if ( user == null ) {\n            return null;\n        }\n\n        UserCredentialsBuilder userCredentials = UserCredentials.builder();\n\n        userCredentials.userName( user.getEmail() );\n        userCredentials.password( user.getPassword() );\n\n        return userCredentials.build();\n    }\n</code></pre>\n"},{"tags":["java","arrays","user-interface"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1654155243,"post_id":72472297,"comment_id":128025149,"body_markdown":"`catch (EOFException | ClassNotFoundException e)` don&#39;t silently ignore exceptions and your cause maybe be revealed.","body":"<code>catch (EOFException | ClassNotFoundException e)</code> don&#39;t silently ignore exceptions and your cause maybe be revealed."},{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":0,"creation_date":1654155771,"post_id":72472297,"comment_id":128025322,"body_markdown":"In your `mouseClicked` method your are just printing exception object and code running. You must consider what you should do in unexpected situation. Please check your try catch block with `stocks = readFromFile();` inside.","body":"In your <code>mouseClicked</code> method your are just printing exception object and code running. You must consider what you should do in unexpected situation. Please check your try catch block with <code>stocks = readFromFile();</code> inside."},{"owner":{"account_id":2985522,"reputation":2419,"user_id":2534472,"display_name":"UniversE"},"score":0,"creation_date":1654155837,"post_id":72472297,"comment_id":128025345,"body_markdown":"Use a step debugger, set a breakpoint where `stocks` is initialized and then execute the code step by step and follow the program flow. The only path I see with my eye-debugger is the catch block where it reads `System.out.println(ioException);`. In any other path, `stocks` *should* be set to something non-null.","body":"Use a step debugger, set a breakpoint where <code>stocks</code> is initialized and then execute the code step by step and follow the program flow. The only path I see with my eye-debugger is the catch block where it reads <code>System.out.println(ioException);</code>. In any other path, <code>stocks</code> <i>should</i> be set to something non-null."}],"owner":{"account_id":25434794,"reputation":1,"user_id":19241225,"display_name":"Yarik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654155035,"creation_date":1654155035,"question_id":72472297,"body_markdown":"Tell me, please, what could be the error, in the form on &quot;View the list of products&quot; it does not display a value, although it should display an array of parameters with products. The error in the IDE when creating the button is this: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot call &quot;java.util.ArrayList.iterator()&quot; because &quot;stocks&quot; is null. But in the file for the first information, but not displayed Help is needed!!!!\r\n\r\nStock class file code for storing product parameters\r\n```\r\npackage com.company;\r\nimport java.io.Serializable;\r\nclass Stock implements Serializable {\r\n    private int warehouseNumber;\r\n    private String productName;\r\n    private double price;\r\n    private int count;\r\n    private String availability;\r\n\r\n    public Stock(int warehouseNumber, String productName, double price, int count, String availability) {\r\n        this.warehouseNumber = warehouseNumber;\r\n        this.productName = productName;\r\n        this.price = price;\r\n        this.count = count;\r\n        this.availability = availability;\r\n    }\r\n\r\n    public void setWarehouseNumber(int warehouseNumber) {\r\n        this.warehouseNumber = warehouseNumber;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n\r\n        this.productName = productName;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n\r\n        this.price = price;\r\n    }\r\n\r\n    public void setCount(int count) {\r\n\r\n        this.count = count;\r\n    }\r\n\r\n    public void setAvailability(String availability) {\r\n\r\n        this.availability = availability;\r\n    }\r\n\r\n    public int getWarehouseNumber() {\r\n\r\n        return warehouseNumber;\r\n    }\r\n\r\n    public String getProductName() {\r\n\r\n        return productName;\r\n    }\r\n\r\n    public double getPrice() {\r\n\r\n        return price;\r\n    }\r\n\r\n    public int getCount() {\r\n\r\n        return count;\r\n    }\r\n\r\n    public String getAvailability() {\r\n        return availability;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Warehouse number: &quot; + this.warehouseNumber + &quot;. Product name: &quot; + this.productName + &quot;. Price: &quot; + this.price + &quot;. Count: &quot; + this.count + &quot;. Availability of goods in stock&quot; + this.availability;\r\n    }\r\n}\r\n```\r\n\r\nMain file code:\r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Formatter;\r\n\r\npublic class Main extends Frame {\r\n\r\n    public static void main(String[] args) {\r\n        Frame mainWindow = new Main();\r\n        mainWindow.setTitle(&quot;Variant #1, Dudchenko Yaroslav, Group IT92-0/2&quot;);\r\n        mainWindow.setVisible(true);\r\n        mainWindow.setLayout(null);\r\n        mainWindow.setResizable(false);\r\n\r\n        mainWindow.setSize(1000, 600);\r\n        mainWindow.setLocation(400, 200);\r\n\r\n        Frame addFrame = new addGoodsWindow();\r\n        Frame deleteFrame = new deleteGoodsWindow();\r\n        Frame changeFrame = new changeGoodsWindow();\r\n\r\n        Button changeGoods = new Button(&quot;Change&quot;);\r\n        changeGoods.setBounds(150, 40, 140, 50);\r\n        mainWindow.add(changeGoods);\r\n\r\n        changeGoods.addActionListener(arg0 -&gt; changeFrame.setVisible(true));\r\n\r\n        Button deleteGoods = new Button(&quot;Delete&quot;);\r\n        deleteGoods.setBounds(290, 40, 140, 50);\r\n        mainWindow.add(deleteGoods);\r\n\r\n        deleteGoods.addActionListener(arg0 -&gt; deleteFrame.setVisible(true));\r\n\r\n        Button addGood = new Button(&quot;Add&quot;);\r\n        addGood.setBounds(10, 40, 140, 50);\r\n        mainWindow.add(addGood);\r\n\r\n        TextArea outputWindow = new TextArea();\r\n        outputWindow.setBounds(10, 90, 980, 500);\r\n        mainWindow.add(outputWindow);\r\n\r\n        outputWindow.setEditable(false);\r\n\r\n        addGood.addActionListener(arg0 -&gt; addFrame.setVisible(true));\r\n\r\n        Button showGoods = new Button(&quot;View product list&quot;);\r\n        showGoods.setBounds(430, 40, 140, 50);\r\n        mainWindow.add(showGoods);\r\n\r\n        showGoods.addMouseListener(new MouseAdapter() {\r\n            Dialog dialog;\r\n            //   \r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                ArrayList&lt;Stock&gt; stocks = null;\r\n                try {\r\n                    stocks = readFromFile();\r\n                } catch (IOException ioException) {\r\n                    System.out.println(ioException);\r\n                }\r\n                outputWindow.append(&quot;Product list:\\n&quot;);\r\n                int i = 1;\r\n                for (Stock Stock :\r\n                        stocks) {\r\n                    outputWindow.append(i + &quot;. &quot; +  Stock.toString() + &quot;\\n&quot;);\r\n                    i++;\r\n                }\r\n            }\r\n            //  \r\n            public ArrayList&lt;Stock&gt; readFromFile() throws IOException {\r\n                Dialog dialog;\r\n\r\n                ArrayList&lt;Stock&gt; stocks = new ArrayList&lt;&gt;();\r\n                try {\r\n                    FileInputStream fileInputStream = new FileInputStream(&quot;database.txt&quot;);\r\n                    ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream);\r\n                    Stock object;\r\n\r\n                    try {\r\n                        while ((object = (Stock) objectInputStream.readObject()) != null) {\r\n\r\n                            stocks.add(object);\r\n                        }\r\n                    } catch (EOFException | ClassNotFoundException e) {\r\n                    }\r\n                    fileInputStream.close();\r\n                    objectInputStream.close();\r\n\r\n                    return stocks;\r\n                } catch (FileNotFoundException e) {\r\n                    JOptionPane.showMessageDialog(mainWindow, &quot;File not found&quot;);\r\n                }\r\n                return stocks;\r\n            }\r\n        });\r\n        //  \r\n        Button clearTextarea = new Button(&quot;Clear window&quot;);\r\n        clearTextarea.setBounds(870, 40, 120, 50);\r\n        mainWindow.add(clearTextarea);\r\n\r\n        clearTextarea.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent arg0) {\r\n                outputWindow.setText(&quot;&quot;);\r\n            }\r\n        });\r\n        //  \r\n        Button saveSearch = new Button(&quot;Save data&quot;);\r\n        saveSearch.setBounds(570, 40, 160, 50);\r\n        mainWindow.add(saveSearch);\r\n\r\n        saveSearch.addActionListener(new ActionListener() {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent arg0) {\r\n                File file = new File(&quot;savesearch.txt&quot;);\r\n                Formatter formatter = null;\r\n                try {\r\n                    formatter = new Formatter(file);\r\n                    formatter.format(outputWindow.getText() + &quot;\\n&quot;);\r\n                } catch (FileNotFoundException e) {\r\n                    // TODO Auto-generated catch block\r\n                } finally {\r\n                    formatter.close();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        mainWindow.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nFile code for adding a product to a file:\r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectOutputStream;\r\n\r\npublic class addGoodsWindow extends Frame {\r\n    public addGoodsWindow() throws HeadlessException {\r\n\r\n        String mainTitle = &quot;Add goods&quot;;\r\n        Frame thisWindow = this;\r\n        setTitle(mainTitle);\r\n        setSize(300, 460);\r\n        setLocation(800, 360);\r\n        setVisible(false);\r\n        setLayout(null);\r\n        setResizable(false);\r\n\r\n        Label warehouseNumber = new Label(&quot;Warehouse number (required)&quot;);\r\n        warehouseNumber.setBounds(65, 30, 180, 30);\r\n        add(warehouseNumber);\r\n\r\n        TextField warehouseNumberInput = new TextField(1);\r\n        warehouseNumberInput.setBounds(10, 60, 280, 30);\r\n        add(warehouseNumberInput);\r\n\r\n        Label productName = new Label(&quot;Name of good (required)&quot;);\r\n        productName.setBounds(65, 100, 180, 30);\r\n        add(productName);\r\n\r\n        TextField productNameInput = new TextField(1);\r\n        productNameInput.setBounds(10, 130, 280, 30);\r\n        add(productNameInput);\r\n\r\n        Label price = new Label(&quot;The price of the product (required)&quot;);\r\n        price.setBounds(65, 170, 180, 30);\r\n        add(price);\r\n\r\n        TextField priceInput = new TextField(1);\r\n        priceInput.setBounds(10, 200, 280, 30);\r\n        add(priceInput);\r\n\r\n        Label count = new Label(&quot;Quantity of goods in stock (required)&quot;);\r\n        count.setBounds(65, 240, 200, 30);\r\n        add(count);\r\n\r\n        TextField countInput = new TextField(1);\r\n        countInput.setBounds(10, 270, 280, 30);\r\n        add(countInput);\r\n\r\n        Label availability = new Label(&quot;Availability (required)&quot;);\r\n        availability.setBounds(90, 310, 140, 30);\r\n        add(availability);\r\n\r\n        CheckboxGroup availabilityInput = new CheckboxGroup();\r\n        Checkbox availabilityInput1 = new Checkbox(&quot;In stock&quot;, availabilityInput, false);\r\n        availabilityInput1.setBounds(70, 340, 60, 40);\r\n        Checkbox availabilityInput2 = new Checkbox(&quot;Not availability&quot;, availabilityInput, false);\r\n        availabilityInput2.setBounds(150, 340, 90, 40);\r\n        add(availabilityInput1);\r\n        add(availabilityInput2);\r\n\r\n        Button buttonAddGoods = new Button(&quot;Add&quot;);\r\n        buttonAddGoods.setBounds(80, 380,140, 50);\r\n        add(buttonAddGoods);\r\n\r\n        buttonAddGoods.addMouseListener(new MouseAdapter()  {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n\r\n                Dialog dialog;\r\n                Checkbox checkbox = availabilityInput.getSelectedCheckbox();\r\n                try {\r\n                    if (warehouseNumberInput.getText().length() != 0) {\r\n                        if (productNameInput.getText().length() != 0) {\r\n                            if (priceInput.getText().length() != 0) {\r\n                                if (countInput.getText().length() != 0) {\r\n                                    if (checkbox != null) {\r\n                                        int warehouseNumber = Integer.parseInt(warehouseNumberInput.getText());\r\n                                        String productName = productNameInput.getText();\r\n                                        double price = Double.parseDouble(priceInput.getText());\r\n                                        int count = Integer.parseInt(countInput.getText());\r\n                                        String availability = checkbox.getLabel();\r\n\r\n                                        Stock obj = new Stock(warehouseNumber, productName, price, count, availability);\r\n                                        try {\r\n                                            File file = new File(&quot;database.txt&quot;);\r\n                                            FileOutputStream fileOutputStream;\r\n                                            ObjectOutputStream objectOutputStream;\r\n\r\n                                            if (file.exists()) {\r\n                                                fileOutputStream = new FileOutputStream(file, true);\r\n                                                objectOutputStream = new resetHeaderFile(fileOutputStream);\r\n                                            } else {\r\n                                                fileOutputStream = new FileOutputStream(file);\r\n                                                objectOutputStream = new ObjectOutputStream(fileOutputStream);\r\n                                            }\r\n                                            objectOutputStream.writeObject(obj);\r\n                                            objectOutputStream.close();\r\n                                            fileOutputStream.close();\r\n                                        } catch (IOException exception) {\r\n                                        }\r\n\r\n                                        warehouseNumberInput.setText(&quot;&quot;);\r\n                                        productNameInput.setText(&quot;&quot;);\r\n                                        priceInput.setText(&quot;&quot;);\r\n                                        countInput.setText(&quot;&quot;);\r\n                                        JOptionPane.showMessageDialog(thisWindow, &quot;Add is success!&quot;);\r\n                                    } else {\r\n                                        JOptionPane.showMessageDialog(thisWindow, &quot;Please, check availability!&quot;);\r\n                                    }\r\n                                } else {\r\n                                    JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter count (integer value)!&quot;);\r\n                                }\r\n                            } else {\r\n                                JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter price!&quot;);\r\n                            }\r\n                        } else {\r\n                            JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter product name!&quot;);\r\n                        }\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter warehouse number!&quot;);\r\n                    }\r\n                } catch (NumberFormatException exception) {\r\n                    JOptionPane.showMessageDialog(thisWindow, &quot;Type error!&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                setVisible(false);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nSee also full list of errors:\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.ArrayList.iterator()&quot; because &quot;stocks&quot; is null\r\n    at com.company.Main$1.mouseClicked(Main.java:68)\r\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\r\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n    at java.desktop/java.awt.Button.processEvent(Button.java:390)\r\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```","title":"Error in Java project. Information is not displayed","body":"<p>Tell me, please, what could be the error, in the form on &quot;View the list of products&quot; it does not display a value, although it should display an array of parameters with products. The error in the IDE when creating the button is this: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot call &quot;java.util.ArrayList.iterator()&quot; because &quot;stocks&quot; is null. But in the file for the first information, but not displayed Help is needed!!!!</p>\n<p>Stock class file code for storing product parameters</p>\n<pre><code>package com.company;\nimport java.io.Serializable;\nclass Stock implements Serializable {\n    private int warehouseNumber;\n    private String productName;\n    private double price;\n    private int count;\n    private String availability;\n\n    public Stock(int warehouseNumber, String productName, double price, int count, String availability) {\n        this.warehouseNumber = warehouseNumber;\n        this.productName = productName;\n        this.price = price;\n        this.count = count;\n        this.availability = availability;\n    }\n\n    public void setWarehouseNumber(int warehouseNumber) {\n        this.warehouseNumber = warehouseNumber;\n    }\n\n    public void setProductName(String productName) {\n\n        this.productName = productName;\n    }\n\n    public void setPrice(double price) {\n\n        this.price = price;\n    }\n\n    public void setCount(int count) {\n\n        this.count = count;\n    }\n\n    public void setAvailability(String availability) {\n\n        this.availability = availability;\n    }\n\n    public int getWarehouseNumber() {\n\n        return warehouseNumber;\n    }\n\n    public String getProductName() {\n\n        return productName;\n    }\n\n    public double getPrice() {\n\n        return price;\n    }\n\n    public int getCount() {\n\n        return count;\n    }\n\n    public String getAvailability() {\n        return availability;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Warehouse number: &quot; + this.warehouseNumber + &quot;. Product name: &quot; + this.productName + &quot;. Price: &quot; + this.price + &quot;. Count: &quot; + this.count + &quot;. Availability of goods in stock&quot; + this.availability;\n    }\n}\n</code></pre>\n<p>Main file code:</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.Formatter;\n\npublic class Main extends Frame {\n\n    public static void main(String[] args) {\n        Frame mainWindow = new Main();\n        mainWindow.setTitle(&quot;Variant #1, Dudchenko Yaroslav, Group IT92-0/2&quot;);\n        mainWindow.setVisible(true);\n        mainWindow.setLayout(null);\n        mainWindow.setResizable(false);\n\n        mainWindow.setSize(1000, 600);\n        mainWindow.setLocation(400, 200);\n\n        Frame addFrame = new addGoodsWindow();\n        Frame deleteFrame = new deleteGoodsWindow();\n        Frame changeFrame = new changeGoodsWindow();\n\n        Button changeGoods = new Button(&quot;Change&quot;);\n        changeGoods.setBounds(150, 40, 140, 50);\n        mainWindow.add(changeGoods);\n\n        changeGoods.addActionListener(arg0 -&gt; changeFrame.setVisible(true));\n\n        Button deleteGoods = new Button(&quot;Delete&quot;);\n        deleteGoods.setBounds(290, 40, 140, 50);\n        mainWindow.add(deleteGoods);\n\n        deleteGoods.addActionListener(arg0 -&gt; deleteFrame.setVisible(true));\n\n        Button addGood = new Button(&quot;Add&quot;);\n        addGood.setBounds(10, 40, 140, 50);\n        mainWindow.add(addGood);\n\n        TextArea outputWindow = new TextArea();\n        outputWindow.setBounds(10, 90, 980, 500);\n        mainWindow.add(outputWindow);\n\n        outputWindow.setEditable(false);\n\n        addGood.addActionListener(arg0 -&gt; addFrame.setVisible(true));\n\n        Button showGoods = new Button(&quot;View product list&quot;);\n        showGoods.setBounds(430, 40, 140, 50);\n        mainWindow.add(showGoods);\n\n        showGoods.addMouseListener(new MouseAdapter() {\n            Dialog dialog;\n            //   \n            @Override\n            public void mouseClicked(MouseEvent e) {\n                ArrayList&lt;Stock&gt; stocks = null;\n                try {\n                    stocks = readFromFile();\n                } catch (IOException ioException) {\n                    System.out.println(ioException);\n                }\n                outputWindow.append(&quot;Product list:\\n&quot;);\n                int i = 1;\n                for (Stock Stock :\n                        stocks) {\n                    outputWindow.append(i + &quot;. &quot; +  Stock.toString() + &quot;\\n&quot;);\n                    i++;\n                }\n            }\n            //  \n            public ArrayList&lt;Stock&gt; readFromFile() throws IOException {\n                Dialog dialog;\n\n                ArrayList&lt;Stock&gt; stocks = new ArrayList&lt;&gt;();\n                try {\n                    FileInputStream fileInputStream = new FileInputStream(&quot;database.txt&quot;);\n                    ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream);\n                    Stock object;\n\n                    try {\n                        while ((object = (Stock) objectInputStream.readObject()) != null) {\n\n                            stocks.add(object);\n                        }\n                    } catch (EOFException | ClassNotFoundException e) {\n                    }\n                    fileInputStream.close();\n                    objectInputStream.close();\n\n                    return stocks;\n                } catch (FileNotFoundException e) {\n                    JOptionPane.showMessageDialog(mainWindow, &quot;File not found&quot;);\n                }\n                return stocks;\n            }\n        });\n        //  \n        Button clearTextarea = new Button(&quot;Clear window&quot;);\n        clearTextarea.setBounds(870, 40, 120, 50);\n        mainWindow.add(clearTextarea);\n\n        clearTextarea.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                outputWindow.setText(&quot;&quot;);\n            }\n        });\n        //  \n        Button saveSearch = new Button(&quot;Save data&quot;);\n        saveSearch.setBounds(570, 40, 160, 50);\n        mainWindow.add(saveSearch);\n\n        saveSearch.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                File file = new File(&quot;savesearch.txt&quot;);\n                Formatter formatter = null;\n                try {\n                    formatter = new Formatter(file);\n                    formatter.format(outputWindow.getText() + &quot;\\n&quot;);\n                } catch (FileNotFoundException e) {\n                    // TODO Auto-generated catch block\n                } finally {\n                    formatter.close();\n                }\n\n            }\n        });\n\n\n\n\n\n\n        mainWindow.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                System.exit(0);\n            }\n        });\n    }\n}\n</code></pre>\n<p>File code for adding a product to a file:</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectOutputStream;\n\npublic class addGoodsWindow extends Frame {\n    public addGoodsWindow() throws HeadlessException {\n\n        String mainTitle = &quot;Add goods&quot;;\n        Frame thisWindow = this;\n        setTitle(mainTitle);\n        setSize(300, 460);\n        setLocation(800, 360);\n        setVisible(false);\n        setLayout(null);\n        setResizable(false);\n\n        Label warehouseNumber = new Label(&quot;Warehouse number (required)&quot;);\n        warehouseNumber.setBounds(65, 30, 180, 30);\n        add(warehouseNumber);\n\n        TextField warehouseNumberInput = new TextField(1);\n        warehouseNumberInput.setBounds(10, 60, 280, 30);\n        add(warehouseNumberInput);\n\n        Label productName = new Label(&quot;Name of good (required)&quot;);\n        productName.setBounds(65, 100, 180, 30);\n        add(productName);\n\n        TextField productNameInput = new TextField(1);\n        productNameInput.setBounds(10, 130, 280, 30);\n        add(productNameInput);\n\n        Label price = new Label(&quot;The price of the product (required)&quot;);\n        price.setBounds(65, 170, 180, 30);\n        add(price);\n\n        TextField priceInput = new TextField(1);\n        priceInput.setBounds(10, 200, 280, 30);\n        add(priceInput);\n\n        Label count = new Label(&quot;Quantity of goods in stock (required)&quot;);\n        count.setBounds(65, 240, 200, 30);\n        add(count);\n\n        TextField countInput = new TextField(1);\n        countInput.setBounds(10, 270, 280, 30);\n        add(countInput);\n\n        Label availability = new Label(&quot;Availability (required)&quot;);\n        availability.setBounds(90, 310, 140, 30);\n        add(availability);\n\n        CheckboxGroup availabilityInput = new CheckboxGroup();\n        Checkbox availabilityInput1 = new Checkbox(&quot;In stock&quot;, availabilityInput, false);\n        availabilityInput1.setBounds(70, 340, 60, 40);\n        Checkbox availabilityInput2 = new Checkbox(&quot;Not availability&quot;, availabilityInput, false);\n        availabilityInput2.setBounds(150, 340, 90, 40);\n        add(availabilityInput1);\n        add(availabilityInput2);\n\n        Button buttonAddGoods = new Button(&quot;Add&quot;);\n        buttonAddGoods.setBounds(80, 380,140, 50);\n        add(buttonAddGoods);\n\n        buttonAddGoods.addMouseListener(new MouseAdapter()  {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n\n                Dialog dialog;\n                Checkbox checkbox = availabilityInput.getSelectedCheckbox();\n                try {\n                    if (warehouseNumberInput.getText().length() != 0) {\n                        if (productNameInput.getText().length() != 0) {\n                            if (priceInput.getText().length() != 0) {\n                                if (countInput.getText().length() != 0) {\n                                    if (checkbox != null) {\n                                        int warehouseNumber = Integer.parseInt(warehouseNumberInput.getText());\n                                        String productName = productNameInput.getText();\n                                        double price = Double.parseDouble(priceInput.getText());\n                                        int count = Integer.parseInt(countInput.getText());\n                                        String availability = checkbox.getLabel();\n\n                                        Stock obj = new Stock(warehouseNumber, productName, price, count, availability);\n                                        try {\n                                            File file = new File(&quot;database.txt&quot;);\n                                            FileOutputStream fileOutputStream;\n                                            ObjectOutputStream objectOutputStream;\n\n                                            if (file.exists()) {\n                                                fileOutputStream = new FileOutputStream(file, true);\n                                                objectOutputStream = new resetHeaderFile(fileOutputStream);\n                                            } else {\n                                                fileOutputStream = new FileOutputStream(file);\n                                                objectOutputStream = new ObjectOutputStream(fileOutputStream);\n                                            }\n                                            objectOutputStream.writeObject(obj);\n                                            objectOutputStream.close();\n                                            fileOutputStream.close();\n                                        } catch (IOException exception) {\n                                        }\n\n                                        warehouseNumberInput.setText(&quot;&quot;);\n                                        productNameInput.setText(&quot;&quot;);\n                                        priceInput.setText(&quot;&quot;);\n                                        countInput.setText(&quot;&quot;);\n                                        JOptionPane.showMessageDialog(thisWindow, &quot;Add is success!&quot;);\n                                    } else {\n                                        JOptionPane.showMessageDialog(thisWindow, &quot;Please, check availability!&quot;);\n                                    }\n                                } else {\n                                    JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter count (integer value)!&quot;);\n                                }\n                            } else {\n                                JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter price!&quot;);\n                            }\n                        } else {\n                            JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter product name!&quot;);\n                        }\n                    } else {\n                        JOptionPane.showMessageDialog(thisWindow, &quot;Please, enter warehouse number!&quot;);\n                    }\n                } catch (NumberFormatException exception) {\n                    JOptionPane.showMessageDialog(thisWindow, &quot;Type error!&quot;);\n                }\n            }\n        });\n\n        addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                setVisible(false);\n            }\n        });\n    }\n}\n</code></pre>\n<p>See also full list of errors:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.ArrayList.iterator()&quot; because &quot;stocks&quot; is null\n    at com.company.Main$1.mouseClicked(Main.java:68)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Button.processEvent(Button.java:390)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","algorithm","recursion","arraylist","backtracking"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654155002,"creation_date":1654149690,"answer_id":72471343,"question_id":72467445,"body_markdown":"In order to generate a list of permutations, you don&#39;t need a `Map`. You&#39;ve only introduced redundant actions, which are not useful anyhow. If you doubt, add a couple of print-statements to visualize the map state it will always contain the same key with the value `1` (all numbers in the input are guaranteed to be unique) and it has no impact on the result.\r\n\r\n&lt;h3&gt;Source of data for generating the Permutations&lt;/h3&gt;\r\n\r\nBesides the fact that attempt to utilize the `HashMap` as the source of data for generating permutations isn&#39;t working because of the bugs, it&#39;s also not a good idea because the order iteration over the *keySet* of `HashMap` is not guaranteed to be consistent.\r\n\r\nAs the uniform mean for storing the numbers that haven&#39;t yet been applied in current permutation, we can use an `ArrayList`. In this case because there will be no duplicates in the input (see the quote from the *leetcode* below), we can use a `LinkedHashSet` instead to improve performance. As explained below, a removal of elements will happen at before making every recursive a call, and removal from an `ArrayList` has a cost of **O(n)**, meanwhile with `LinkedHashSet` it would be reduced to **O(1)**.\r\n\r\n&gt; **Constraints:**\r\n&gt; \r\n&gt;    * 1 &lt;= nums.length &lt;= 6\r\n&gt; \r\n&gt;    * -10 &lt;= nums[i] &lt;= 10\r\n&gt; \r\n&gt;    * All the integers of nums are **unique**.\r\n\r\n\r\n&lt;h3&gt;Generating the Permutations&lt;/h3&gt;\r\n\r\nEach generated *permutation* should be contained in **its own list**. In your code, you&#39;ve created one single list which is being passed around during recursive calls and eventually every recursive branch adds the same list to the resulting list. Which obviously should not happen.\r\n\r\nYou see, the result is being printed as `[[],[]]`. It seems like a list containing two lists, but in fact they refer to the same empty list. \r\n\r\nAnd this list is empty because every element that was added to it, is being removed after performing a recursive call:\r\n```\r\nans.add(val);\r\n... &lt;- rursive call in between\r\nans.remove(ans.size() - 1); // removes the last element\r\n```\r\n\r\n&gt; if I print the output in the dfs method, it shows the correct answer:\r\n\r\nActually, it&#39;s not correct. If you take a careful look at the results, you&#39;ll see the nested lists are the same `[[1, 0], [1, 0]]`.\r\n\r\nThe final result is blank because all recursive calls are happening between each value being added and removed (see the code snippet above). I.e. removal will be performed in revered order. That would be the last lines to be executed, not the `return` statements. To understand it better, I suggest you to walk through the code line by line and draw on paper all the changes done to the `ans` list for a simple input like `[0, 1]`.\r\n\r\nInstead, you should create a **copy** of the list containing not fully generated *permutation* (`answer`) and then add an element into the *copy*. So that the initial *permutation* (`answer`) remains unaffected and can be used as a template in all subsequent iterations.\r\n\r\n```\r\nList&lt;Integer&gt; updatedAnswer = new ArrayList&lt;&gt;(answer);\r\nupdatedAnswer.add(next);\r\n```\r\n\r\nAnd you also need to create a **copy** of the source of data and remove the element added to the newly created *permutation* (*answer*) in order to avoid repeating this element:\r\n\r\n```\r\nSet&lt;Integer&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\r\nupdatedSource.remove(next);\r\n```\r\n\r\n*Sidenote: it&#39;s a good practice to give meaningful names to methods and variables. For instance, names `cs` and `ts` aren&#39;t informative (it&#39;s not clear what they are meant to store without looking at the code), method-name `dfs` is confusing, DFS is a well-known algorithm, which is used for traversing tree or graph data structures, but it&#39;s not related to this problem.*\r\n\r\n&lt;h3&gt;Building a recursive solution&lt;/h3&gt;\r\n\r\nIt makes sense to keep the recursive method to be `void` to avoid wrapping the result with an additional list that would be thrown away afterwards, but in general it&#39;s more handy to return the result rather than accumulating it in the parameter. For performance reasons, I&#39;ll keep the method to be `void`.\r\n\r\nEvery recursive implementation should contain two parts:\r\n\r\n * **Base case** - that represents a simple edge-case (or a set of edge-cases) for which the outcome is known in advance. For this problem the *base case* would represent a situation when the given *permutation* has reached the size of the initial array, i.e. the source will contain no element, and we need to check whether it&#39;s empty or not. Parameters `cs` and `ts` that were used for this check in the solution provided in the question are redundant. \r\n* **Recursive case** - a part of a solution where recursive calls a made and when the main logic resides. In the *recursive case*, we need to replicate the given answer and source as explained above and use the updated copies as the arguments for each recursive call.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n        Set&lt;Integer&gt; source = new LinkedHashSet&lt;&gt;();\r\n        for (int next: nums) source.add(next);\r\n        \r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        permute(source, new ArrayList&lt;&gt;(), result);\r\n        return result;\r\n    }\r\n    \r\n    public static void permute(Set&lt;Integer&gt; source, List&lt;Integer&gt; answer,\r\n                               List&lt;List&lt;Integer&gt;&gt; result) {\r\n        \r\n        if (source.isEmpty()) {\r\n            result.add(answer);\r\n            return;\r\n        }\r\n        \r\n        for (Integer next: source) {\r\n            List&lt;Integer&gt; updatedAnswer = new ArrayList&lt;&gt;(answer);\r\n            updatedAnswer.add(next);\r\n            Set&lt;Integer&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\r\n            updatedSource.remove(next);\r\n            permute(updatedSource, updatedAnswer, result);\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        int[] source = {1, 2, 3};\r\n        List&lt;List&lt;Integer&gt;&gt; permutations = permute(source);\r\n        for (List&lt;Integer&gt; permutation: permutations) {\r\n            System.out.println(permutation);\r\n        }\r\n    }\r\n\r\n*Output:*\r\n```\r\n[1, 2, 3]\r\n[1, 3, 2]\r\n[2, 1, 3]\r\n[2, 3, 1]\r\n[3, 1, 2]\r\n[3, 2, 1]\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/rKh)","title":"Generating Permutations of the given array using Backtracking","body":"<p>In order to generate a list of permutations, you don't need a <code>Map</code>. You've only introduced redundant actions, which are not useful anyhow. If you doubt, add a couple of print-statements to visualize the map state it will always contain the same key with the value <code>1</code> (all numbers in the input are guaranteed to be unique) and it has no impact on the result.</p>\n<h3>Source of data for generating the Permutations</h3>\n<p>Besides the fact that attempt to utilize the <code>HashMap</code> as the source of data for generating permutations isn't working because of the bugs, it's also not a good idea because the order iteration over the <em>keySet</em> of <code>HashMap</code> is not guaranteed to be consistent.</p>\n<p>As the uniform mean for storing the numbers that haven't yet been applied in current permutation, we can use an <code>ArrayList</code>. In this case because there will be no duplicates in the input (see the quote from the <em>leetcode</em> below), we can use a <code>LinkedHashSet</code> instead to improve performance. As explained below, a removal of elements will happen at before making every recursive a call, and removal from an <code>ArrayList</code> has a cost of <strong>O(n)</strong>, meanwhile with <code>LinkedHashSet</code> it would be reduced to <strong>O(1)</strong>.</p>\n<blockquote>\n<p><strong>Constraints:</strong></p>\n<ul>\n<li><p>1 &lt;= nums.length &lt;= 6</p>\n</li>\n<li><p>-10 &lt;= nums[i] &lt;= 10</p>\n</li>\n<li><p>All the integers of nums are <strong>unique</strong>.</p>\n</li>\n</ul>\n</blockquote>\n<h3>Generating the Permutations</h3>\n<p>Each generated <em>permutation</em> should be contained in <strong>its own list</strong>. In your code, you've created one single list which is being passed around during recursive calls and eventually every recursive branch adds the same list to the resulting list. Which obviously should not happen.</p>\n<p>You see, the result is being printed as <code>[[],[]]</code>. It seems like a list containing two lists, but in fact they refer to the same empty list.</p>\n<p>And this list is empty because every element that was added to it, is being removed after performing a recursive call:</p>\n<pre><code>ans.add(val);\n... &lt;- rursive call in between\nans.remove(ans.size() - 1); // removes the last element\n</code></pre>\n<blockquote>\n<p>if I print the output in the dfs method, it shows the correct answer:</p>\n</blockquote>\n<p>Actually, it's not correct. If you take a careful look at the results, you'll see the nested lists are the same <code>[[1, 0], [1, 0]]</code>.</p>\n<p>The final result is blank because all recursive calls are happening between each value being added and removed (see the code snippet above). I.e. removal will be performed in revered order. That would be the last lines to be executed, not the <code>return</code> statements. To understand it better, I suggest you to walk through the code line by line and draw on paper all the changes done to the <code>ans</code> list for a simple input like <code>[0, 1]</code>.</p>\n<p>Instead, you should create a <strong>copy</strong> of the list containing not fully generated <em>permutation</em> (<code>answer</code>) and then add an element into the <em>copy</em>. So that the initial <em>permutation</em> (<code>answer</code>) remains unaffected and can be used as a template in all subsequent iterations.</p>\n<pre><code>List&lt;Integer&gt; updatedAnswer = new ArrayList&lt;&gt;(answer);\nupdatedAnswer.add(next);\n</code></pre>\n<p>And you also need to create a <strong>copy</strong> of the source of data and remove the element added to the newly created <em>permutation</em> (<em>answer</em>) in order to avoid repeating this element:</p>\n<pre><code>Set&lt;Integer&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\nupdatedSource.remove(next);\n</code></pre>\n<p><em>Sidenote: it's a good practice to give meaningful names to methods and variables. For instance, names <code>cs</code> and <code>ts</code> aren't informative (it's not clear what they are meant to store without looking at the code), method-name <code>dfs</code> is confusing, DFS is a well-known algorithm, which is used for traversing tree or graph data structures, but it's not related to this problem.</em></p>\n<h3>Building a recursive solution</h3>\n<p>It makes sense to keep the recursive method to be <code>void</code> to avoid wrapping the result with an additional list that would be thrown away afterwards, but in general it's more handy to return the result rather than accumulating it in the parameter. For performance reasons, I'll keep the method to be <code>void</code>.</p>\n<p>Every recursive implementation should contain two parts:</p>\n<ul>\n<li><strong>Base case</strong> - that represents a simple edge-case (or a set of edge-cases) for which the outcome is known in advance. For this problem the <em>base case</em> would represent a situation when the given <em>permutation</em> has reached the size of the initial array, i.e. the source will contain no element, and we need to check whether it's empty or not. Parameters <code>cs</code> and <code>ts</code> that were used for this check in the solution provided in the question are redundant.</li>\n<li><strong>Recursive case</strong> - a part of a solution where recursive calls a made and when the main logic resides. In the <em>recursive case</em>, we need to replicate the given answer and source as explained above and use the updated copies as the arguments for each recursive call.</li>\n</ul>\n<p>That's how it might be implemented:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n    Set&lt;Integer&gt; source = new LinkedHashSet&lt;&gt;();\n    for (int next: nums) source.add(next);\n    \n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    permute(source, new ArrayList&lt;&gt;(), result);\n    return result;\n}\n\npublic static void permute(Set&lt;Integer&gt; source, List&lt;Integer&gt; answer,\n                           List&lt;List&lt;Integer&gt;&gt; result) {\n    \n    if (source.isEmpty()) {\n        result.add(answer);\n        return;\n    }\n    \n    for (Integer next: source) {\n        List&lt;Integer&gt; updatedAnswer = new ArrayList&lt;&gt;(answer);\n        updatedAnswer.add(next);\n        Set&lt;Integer&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\n        updatedSource.remove(next);\n        permute(updatedSource, updatedAnswer, result);\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] source = {1, 2, 3};\n    List&lt;List&lt;Integer&gt;&gt; permutations = permute(source);\n    for (List&lt;Integer&gt; permutation: permutations) {\n        System.out.println(permutation);\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3]\n[1, 3, 2]\n[2, 1, 3]\n[2, 3, 1]\n[3, 1, 2]\n[3, 2, 1]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rKh\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":25449790,"reputation":89,"user_id":19251428,"display_name":"IshAsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72471343,"answer_count":1,"score":1,"last_activity_date":1654155002,"creation_date":1654113885,"question_id":72467445,"body_markdown":"I was trying this problem where we need to find the permutations of the elements in the array.\r\n\r\nThis is the [leetcode problem no 46](https://leetcode.com/problems/permutations/). The issue I&#39;ve faced is that I&#39;m not able to output the `ans` it just keeps returning a blank `ArrayLists`:\r\n\r\n*Code:*\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) \r\n    {\r\n        List&lt;List&lt;Integer&gt;&gt; fans = new ArrayList&lt;&gt;();\r\n        HashMap&lt;Integer, Integer&gt; fmap = new HashMap&lt;&gt;();\r\n        for(int i: nums){\r\n            fmap.put(i, fmap.getOrDefault(i, 0) + 1);\r\n        }\r\n        int n=nums.length;\r\n        List&lt;Integer&gt; ans=new ArrayList&lt;&gt;(n);\r\n        dfs(1, n, fmap, ans, fans);\r\n        return fans;\r\n    }\r\n    \r\n    public void dfs(int cs, int ts, HashMap&lt;Integer, Integer&gt; fmap,List&lt;Integer&gt; ans, List&lt;List&lt;Integer&gt;&gt; fans)\r\n    {    \r\n        if (cs &gt; ts)\r\n        {\r\n            fans.add(ans);\r\n            return;\r\n        }\r\n        for(Integer val: fmap.keySet())\r\n        {\r\n            if (fmap.get(val) &gt; 0)\r\n            {\r\n                fmap.put(val, fmap.get(val) - 1);\r\n                ans.add(val);\r\n                dfs(cs + 1, ts, fmap, ans, fans);\r\n                ans.remove(ans.size() - 1);\r\n                fmap.put(val, fmap.get(val) + 1);\r\n            } \r\n        }  \r\n    }\r\n\r\n*Output for the test case* `[0,1]`: \r\n```\r\n[[],[]]\r\n```\r\nThe actual output should be: \r\n```\r\n[[0,1],[1,0]]\r\n```\r\n\r\nWhen I&#39;m checking the &quot;potential answer&quot; inside the recursive method, I am able to see the correct answer. I mean, if I print the output in the `dfs` method, it shows the correct answer:\r\n\r\nChange in the code: \r\n\r\n     if (cs &gt; ts)\r\n        {\r\n            fans.add(ans);\r\n            System.out.println(fans);\r\n            return;\r\n        }\r\n\r\nNow it&#39;s printing the value of `fans`: \r\n```\r\n[[0, 1]]\r\n[[1, 0], [1, 0]]\r\n```\r\n\r\nBut these values are not being updated in the `fans` and the returned value comes up blank.\r\n\r\nI read someone mention this same issue, but it was for Python, and the solution in that case was to do a deep copy of the list.\r\n \r\nI&#39;m not sure how to do that in Java.\r\n\r\nWhat I&#39;m doing wrong?\r\n\r\n","title":"Generating Permutations of the given array using Backtracking","body":"<p>I was trying this problem where we need to find the permutations of the elements in the array.</p>\n<p>This is the <a href=\"https://leetcode.com/problems/permutations/\" rel=\"nofollow noreferrer\">leetcode problem no 46</a>. The issue I've faced is that I'm not able to output the <code>ans</code> it just keeps returning a blank <code>ArrayLists</code>:</p>\n<p><em>Code:</em></p>\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) \n{\n    List&lt;List&lt;Integer&gt;&gt; fans = new ArrayList&lt;&gt;();\n    HashMap&lt;Integer, Integer&gt; fmap = new HashMap&lt;&gt;();\n    for(int i: nums){\n        fmap.put(i, fmap.getOrDefault(i, 0) + 1);\n    }\n    int n=nums.length;\n    List&lt;Integer&gt; ans=new ArrayList&lt;&gt;(n);\n    dfs(1, n, fmap, ans, fans);\n    return fans;\n}\n\npublic void dfs(int cs, int ts, HashMap&lt;Integer, Integer&gt; fmap,List&lt;Integer&gt; ans, List&lt;List&lt;Integer&gt;&gt; fans)\n{    \n    if (cs &gt; ts)\n    {\n        fans.add(ans);\n        return;\n    }\n    for(Integer val: fmap.keySet())\n    {\n        if (fmap.get(val) &gt; 0)\n        {\n            fmap.put(val, fmap.get(val) - 1);\n            ans.add(val);\n            dfs(cs + 1, ts, fmap, ans, fans);\n            ans.remove(ans.size() - 1);\n            fmap.put(val, fmap.get(val) + 1);\n        } \n    }  \n}\n</code></pre>\n<p><em>Output for the test case</em> <code>[0,1]</code>:</p>\n<pre><code>[[],[]]\n</code></pre>\n<p>The actual output should be:</p>\n<pre><code>[[0,1],[1,0]]\n</code></pre>\n<p>When I'm checking the &quot;potential answer&quot; inside the recursive method, I am able to see the correct answer. I mean, if I print the output in the <code>dfs</code> method, it shows the correct answer:</p>\n<p>Change in the code:</p>\n<pre><code> if (cs &gt; ts)\n    {\n        fans.add(ans);\n        System.out.println(fans);\n        return;\n    }\n</code></pre>\n<p>Now it's printing the value of <code>fans</code>:</p>\n<pre><code>[[0, 1]]\n[[1, 0], [1, 0]]\n</code></pre>\n<p>But these values are not being updated in the <code>fans</code> and the returned value comes up blank.</p>\n<p>I read someone mention this same issue, but it was for Python, and the solution in that case was to do a deep copy of the list.</p>\n<p>I'm not sure how to do that in Java.</p>\n<p>What I'm doing wrong?</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":9194657,"reputation":33,"user_id":6833800,"accept_rate":0,"display_name":"andy kim"},"score":0,"creation_date":1492953518,"post_id":43571606,"comment_id":74192890,"body_markdown":"yeh that worked thank you, but the array size is still a problem though i dont understand why having 1 to 5 in array size of 5 gives me out of bounds error @HighPerformanceMark","body":"yeh that worked thank you, but the array size is still a problem though i dont understand why having 1 to 5 in array size of 5 gives me out of bounds error @HighPerformanceMark"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1492953597,"post_id":43571606,"comment_id":74192922,"body_markdown":"Java array indexes start from `0` (and go to `4` in a five-element-array)","body":"Java array indexes start from <code>0</code> (and go to <code>4</code> in a five-element-array)"},{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":0,"creation_date":1492953725,"post_id":43571606,"comment_id":74192972,"body_markdown":"@andykim run the loop till `i&lt;5`. I have written an answer about it too, as have others","body":"@andykim run the loop till <code>i&lt;5</code>. I have written an answer about it too, as have others"}],"answers":[{"tags":[],"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492953527,"creation_date":1492953527,"answer_id":43571692,"question_id":43571606,"body_markdown":"First of all, the change the condition of the loop from\r\n\r\n    for (int i=1; i&lt;6; i++)\r\nto\r\n    \r\n    for (int i=1; i&lt;5; i++) // you could also do i=0\r\nThen, this line\r\n\r\n    factorial = factorialA[i];\r\nThis doesn&#39;t make any change in your array. I suppose you intended to do\r\n\r\n    factorialA[i] = factorial;","title":"java for loop storing factorial in array","body":"<p>First of all, the change the condition of the loop from</p>\n\n<pre><code>for (int i=1; i&lt;6; i++)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>for (int i=1; i&lt;5; i++) // you could also do i=0\n</code></pre>\n\n<p>Then, this line</p>\n\n<pre><code>factorial = factorialA[i];\n</code></pre>\n\n<p>This doesn't make any change in your array. I suppose you intended to do</p>\n\n<pre><code>factorialA[i] = factorial;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2591002,"reputation":1452,"user_id":2245716,"accept_rate":50,"display_name":"albeee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492953622,"creation_date":1492953622,"answer_id":43571710,"question_id":43571606,"body_markdown":"Minor correction:\n\n    public static void main(String [] args) { \n        int factorialA[] = new int[5]; \n        for (int i=0; i&lt;5; i++) { \n           int factorial = 1; \n           for(int j=1; j&lt;=i+1; j++) { \n              factorial = factorial *j; \n           } \n          factorialA[i] = factorial; \n        } \n        System.out.println(factorialA[3]); \n    }\n\nThis should do the trick.","title":"java for loop storing factorial in array","body":"<p>Minor correction:</p>\n\n<pre><code>public static void main(String [] args) { \n    int factorialA[] = new int[5]; \n    for (int i=0; i&lt;5; i++) { \n       int factorial = 1; \n       for(int j=1; j&lt;=i+1; j++) { \n          factorial = factorial *j; \n       } \n      factorialA[i] = factorial; \n    } \n    System.out.println(factorialA[3]); \n}\n</code></pre>\n\n<p>This should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":5005045,"reputation":460,"user_id":4022947,"display_name":"Aritra Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492953654,"creation_date":1492953654,"answer_id":43571712,"question_id":43571606,"body_markdown":"The issue here is solved in the code below. The assignment factorial = factorialA[i] was not helping. You need to store the factorial value in the array which in this case will be done by factorialA[i] = factorial and also there is an indexing issue as arrays in Java is 0 index based. When your code was run, I got ArrayIndexOutOfBounds exception. That is fixed in the code below. Hope this helps :-)\r\n\r\n    public static void main(String [] args)\r\n    {\r\n        int factorialA[] = new int[5];\r\n        for (int i = 0; i &lt; 5; i++)\r\n        {\r\n            int factorial = 1;\r\n            for(int j= 1; j &lt;= i + 1; j++)\r\n            {\r\n                factorial = factorial * j;\r\n            }\r\n            factorialA[i] = factorial;\r\n        }\r\n        System.out.println(factorialA[3]);\r\n    }","title":"java for loop storing factorial in array","body":"<p>The issue here is solved in the code below. The assignment factorial = factorialA[i] was not helping. You need to store the factorial value in the array which in this case will be done by factorialA[i] = factorial and also there is an indexing issue as arrays in Java is 0 index based. When your code was run, I got ArrayIndexOutOfBounds exception. That is fixed in the code below. Hope this helps :-)</p>\n\n<pre><code>public static void main(String [] args)\n{\n    int factorialA[] = new int[5];\n    for (int i = 0; i &lt; 5; i++)\n    {\n        int factorial = 1;\n        for(int j= 1; j &lt;= i + 1; j++)\n        {\n            factorial = factorial * j;\n        }\n        factorialA[i] = factorial;\n    }\n    System.out.println(factorialA[3]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492984839,"creation_date":1492953666,"answer_id":43571716,"question_id":43571606,"body_markdown":"I guess you are looking for this\r\n\r\n    public class factorialArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint arr[] = {1,2,3,4,5};\r\n    \t\tfor(int i=1;i&lt;5;i++) {\r\n    \t\t\tarr[i] = factorial(i); \r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int i=1;i&lt;5;i++) {\r\n    \t\t\tSystem.out.println(arr[i]); \r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static int factorial(int number){  \r\n    \t\t  int i,fact=1;  \r\n    \t\t     \r\n    \t\t  for(i=1;i&lt;=number;i++){    \r\n    \t\t      fact=fact*i;    \r\n    \t\t  }    \r\n    \t\t  return fact;   \r\n    \t\t }  \r\n    }\r\n\r\n","title":"java for loop storing factorial in array","body":"<p>I guess you are looking for this</p>\n\n<pre><code>public class factorialArray {\n\n    public static void main(String[] args) {\n        int arr[] = {1,2,3,4,5};\n        for(int i=1;i&lt;5;i++) {\n            arr[i] = factorial(i); \n        }\n\n        for(int i=1;i&lt;5;i++) {\n            System.out.println(arr[i]); \n        }\n\n    }\n\n    public static int factorial(int number){  \n          int i,fact=1;  \n\n          for(i=1;i&lt;=number;i++){    \n              fact=fact*i;    \n          }    \n          return fact;   \n         }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7607254,"reputation":2491,"user_id":5769497,"display_name":"Sanket Makani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492954058,"creation_date":1492953738,"answer_id":43571727,"question_id":43571606,"body_markdown":"You need to do some changes which are generating `errors`.I have mentioned them in the code.\r\n\r\nHere you are storing the `factorial of any number` at that `index` of the `array`. So if you need to store `factorials` still number `N` then you need to access `array-elements` indexed from `1-N` So you need to have Array size of `N+1`.\r\n\r\nAnother mistake you have made is here `factorial = factorialA[i];`. So here you don&#39;t manipulate value of `Array-Elements` at all which results in the initial `array` which has all elements as `0`. So you need to change the assignment order here to `factorialA[i] = factorial`.\r\n\r\n    import java.util.*;\r\n    public class factorialArray\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            int factorialA[] = new int[6];      //Array-Size=Maximum Number+1; so here 5+1=6.\r\n            for (int i=1; i&lt;6; i++)\r\n            {\r\n                int factorial = 1;\r\n                for(int j=1; j&lt;=i; j++)\r\n                {\r\n                    factorial = factorial *j;\r\n                }\r\n                factorialA[i] = factorial; //Here assignment should be done to the element of array.\r\n            }\r\n            System.out.println(factorialA[3]);\r\n        }\r\n    }","title":"java for loop storing factorial in array","body":"<p>You need to do some changes which are generating <code>errors</code>.I have mentioned them in the code.</p>\n\n<p>Here you are storing the <code>factorial of any number</code> at that <code>index</code> of the <code>array</code>. So if you need to store <code>factorials</code> still number <code>N</code> then you need to access <code>array-elements</code> indexed from <code>1-N</code> So you need to have Array size of <code>N+1</code>.</p>\n\n<p>Another mistake you have made is here <code>factorial = factorialA[i];</code>. So here you don't manipulate value of <code>Array-Elements</code> at all which results in the initial <code>array</code> which has all elements as <code>0</code>. So you need to change the assignment order here to <code>factorialA[i] = factorial</code>.</p>\n\n<pre><code>import java.util.*;\npublic class factorialArray\n{\n    public static void main(String [] args)\n    {\n        int factorialA[] = new int[6];      //Array-Size=Maximum Number+1; so here 5+1=6.\n        for (int i=1; i&lt;6; i++)\n        {\n            int factorial = 1;\n            for(int j=1; j&lt;=i; j++)\n            {\n                factorial = factorial *j;\n            }\n            factorialA[i] = factorial; //Here assignment should be done to the element of array.\n        }\n        System.out.println(factorialA[3]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492953883,"creation_date":1492953774,"answer_id":43571736,"question_id":43571606,"body_markdown":"&gt; I want to print out third 4th index which is factorialA[3] if im\r\n&gt; understanding arrays correctly. however im getting 0\r\n\r\nWhen you create an `int` array using `int factorialA[] = new int[5]`, the **array elements will be initialized with `0` values** which is what it is printing because you are NOT assigning the calculated factorial value to the array, so you need to correct it as shown below:\r\n\r\n    factorialA[i] = factorial; //assign calculated value to the array element\r\n\r\nAlso, array indexes start from `0`, so change the outer loop as:\r\n\r\n    for (int i=0; i&lt;5; i++)","title":"java for loop storing factorial in array","body":"<blockquote>\n  <p>I want to print out third 4th index which is factorialA[3] if im\n  understanding arrays correctly. however im getting 0</p>\n</blockquote>\n\n<p>When you create an <code>int</code> array using <code>int factorialA[] = new int[5]</code>, the <strong>array elements will be initialized with <code>0</code> values</strong> which is what it is printing because you are NOT assigning the calculated factorial value to the array, so you need to correct it as shown below:</p>\n\n<pre><code>factorialA[i] = factorial; //assign calculated value to the array element\n</code></pre>\n\n<p>Also, array indexes start from <code>0</code>, so change the outer loop as:</p>\n\n<pre><code>for (int i=0; i&lt;5; i++)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492954025,"creation_date":1492954025,"answer_id":43571770,"question_id":43571606,"body_markdown":"First thing if you want factorial up to n then initialise array of length n+1. Say you want up to factorial[5], then have array of size factorial[6]. As array index starts from 0 goes up to n-1, where n is length of array.\r\n\r\n\r\n\r\n\r\n","title":"java for loop storing factorial in array","body":"<p>First thing if you want factorial up to n then initialise array of length n+1. Say you want up to factorial[5], then have array of size factorial[6]. As array index starts from 0 goes up to n-1, where n is length of array.</p>\n"},{"tags":[],"owner":{"account_id":25453114,"reputation":1,"user_id":19254171,"display_name":"perseus28"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654154864,"creation_date":1654154864,"answer_id":72472260,"question_id":43571606,"body_markdown":"    public class Factorial {\r\n\r\n\t public static void main(String[] args) \r\n\t {\r\n\t        int arr[] = {1,2,3,4,5};\r\n\t        for(int i=0;i&lt;5;i++) {\r\n\t            arr[i] = factorial(arr[i]); \r\n\t        }\r\n\r\n\t        for(int i=0;i&lt;5;i++) {\r\n\t            System.out.println(arr[i]); \r\n\t        }\r\n\r\n\t  }\r\n\r\n\t  public static int factorial(int number)\r\n\t  {  \r\n\t          int i,fact=1;  \r\n\r\n\t          for(i=1;i&lt;=number;i++)\r\n\t          {    \r\n\t              fact=fact*i;    \r\n\t          }    \r\n\t          return fact;   \r\n\t   }  \r\n}\r\n\r\n\r\n@fairoz answered the problem almost correctly. They just passed the input i in the factorial class instead of arr[i], which will give the right answer","title":"java for loop storing factorial in array","body":"<pre><code>public class Factorial {\n\n public static void main(String[] args) \n {\n        int arr[] = {1,2,3,4,5};\n        for(int i=0;i&lt;5;i++) {\n            arr[i] = factorial(arr[i]); \n        }\n\n        for(int i=0;i&lt;5;i++) {\n            System.out.println(arr[i]); \n        }\n\n  }\n\n  public static int factorial(int number)\n  {  \n          int i,fact=1;  \n\n          for(i=1;i&lt;=number;i++)\n          {    \n              fact=fact*i;    \n          }    \n          return fact;   \n   }  \n</code></pre>\n<p>}</p>\n<p>@fairoz answered the problem almost correctly. They just passed the input i in the factorial class instead of arr[i], which will give the right answer</p>\n"}],"owner":{"account_id":9194657,"reputation":33,"user_id":6833800,"accept_rate":0,"display_name":"andy kim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":8,"score":1,"last_activity_date":1654154864,"creation_date":1492953092,"question_id":43571606,"body_markdown":"im trying to make a program that calculates factorial of 1 to 5 and store those values in an array size of 5\r\n\r\n    import java.util.*;\r\n    public class factorialArray\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            int factorialA[] = new int[5];\r\n            for (int i=1; i&lt;6; i++)\r\n            {\r\n                int factorial = 1;\r\n                for(int j=1; j&lt;=i; j++)\r\n                {\r\n                    factorial = factorial *j;\r\n                }\r\n                factorial = factorialA[i];\r\n            }\r\n            System.out.println(factorialA[3]);\r\n        }\r\n    }\r\n\r\ni want to print out third 4th index which is factorialA[3] if im understanding arrays correctly. however im getting 0. and also if i have int factorialA[]= new int[5] i get array index out of bounds could i get some help please?\r\n","title":"java for loop storing factorial in array","body":"<p>im trying to make a program that calculates factorial of 1 to 5 and store those values in an array size of 5</p>\n\n<pre><code>import java.util.*;\npublic class factorialArray\n{\n    public static void main(String [] args)\n    {\n        int factorialA[] = new int[5];\n        for (int i=1; i&lt;6; i++)\n        {\n            int factorial = 1;\n            for(int j=1; j&lt;=i; j++)\n            {\n                factorial = factorial *j;\n            }\n            factorial = factorialA[i];\n        }\n        System.out.println(factorialA[3]);\n    }\n}\n</code></pre>\n\n<p>i want to print out third 4th index which is factorialA[3] if im understanding arrays correctly. however im getting 0. and also if i have int factorialA[]= new int[5] i get array index out of bounds could i get some help please?</p>\n"},{"tags":["java","spring","oauth-2.0","spring-security-oauth2","crnk"],"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1659440530,"post_id":70657731,"comment_id":129290635,"body_markdown":"something new about this question?","body":"something new about this question?"}],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654154769,"creation_date":1641841770,"question_id":70657731,"body_markdown":"I want to use Crnk Client 3.4 to consume a JSON:API endpoint that is secured with OAuth2. I am using a `client_credentials` grant and Spring Security OAuth2 (with Boot) to configure the credentials.\r\n\r\nSince the Spring team has decided to try to force everyone onto reactive WebClient, there is no out-of-the-box RestTemplate interceptor that can retrieve an access token from Spring Security OAuth2, which suggests that I&#39;ll have to do some level of integration on my own.\r\n\r\nIs there a best practice for supplying an access token to a `CrnkClient` instance? [The documentation mentions `SecurityModule` in passing](http://www.crnk.io/releases/stable/documentation/#_modules), but it doesn&#39;t seem that it actually supports adding credentials. I could write a module, but it appears that to add headers I want to implement `HttpAdapterListener`, and modules don&#39;t provide a mechanism to register them; instead they have `HttpRequestProcessor`, which is not used at all by the client.\r\n\r\nI can see two possible clean integration options; is either of these recommended or discouraged?\r\n\r\n1. Write the missing `ClientHttpRequestInterceptor` to integrate Spring Security OAuth2. Create a `RestTemplate` in a bean method using `RestTemplateBuilder` and add the OAuth2 interceptor. Call `crnkClient.setHttpAdapter(new RestTemplateAdapter(interceptedRt))`.\r\n2. Write a Crnk `Module` implementing `HttpAdapterAware` that is a Spring bean and contributes an `HttpAdapterListener` that retrieves the access token and calls `HttpAdapterRequest#header`.","title":"How can I add Spring Security OAuth tokens to Crnk Client?","body":"<p>I want to use Crnk Client 3.4 to consume a JSON:API endpoint that is secured with OAuth2. I am using a <code>client_credentials</code> grant and Spring Security OAuth2 (with Boot) to configure the credentials.</p>\n<p>Since the Spring team has decided to try to force everyone onto reactive WebClient, there is no out-of-the-box RestTemplate interceptor that can retrieve an access token from Spring Security OAuth2, which suggests that I'll have to do some level of integration on my own.</p>\n<p>Is there a best practice for supplying an access token to a <code>CrnkClient</code> instance? <a href=\"http://www.crnk.io/releases/stable/documentation/#_modules\" rel=\"nofollow noreferrer\">The documentation mentions <code>SecurityModule</code> in passing</a>, but it doesn't seem that it actually supports adding credentials. I could write a module, but it appears that to add headers I want to implement <code>HttpAdapterListener</code>, and modules don't provide a mechanism to register them; instead they have <code>HttpRequestProcessor</code>, which is not used at all by the client.</p>\n<p>I can see two possible clean integration options; is either of these recommended or discouraged?</p>\n<ol>\n<li>Write the missing <code>ClientHttpRequestInterceptor</code> to integrate Spring Security OAuth2. Create a <code>RestTemplate</code> in a bean method using <code>RestTemplateBuilder</code> and add the OAuth2 interceptor. Call <code>crnkClient.setHttpAdapter(new RestTemplateAdapter(interceptedRt))</code>.</li>\n<li>Write a Crnk <code>Module</code> implementing <code>HttpAdapterAware</code> that is a Spring bean and contributes an <code>HttpAdapterListener</code> that retrieves the access token and calls <code>HttpAdapterRequest#header</code>.</li>\n</ol>\n"},{"tags":["java","image-processing"],"comments":[{"owner":{"account_id":12132903,"reputation":235,"user_id":9307283,"display_name":"Similar pictures"},"score":0,"creation_date":1654149747,"post_id":72467909,"comment_id":128023485,"body_markdown":"Are all images of such digits of uniform color?","body":"Are all images of such digits of uniform color?"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1654150226,"post_id":72467909,"comment_id":128023606,"body_markdown":"@Similar.Pictures each digit has a uniform color. someteimes the same digits has the same color and sometimes different digits has the same color but mostly the colors are different","body":"@Similar.Pictures each digit has a uniform color. someteimes the same digits has the same color and sometimes different digits has the same color but mostly the colors are different"},{"owner":{"account_id":12132903,"reputation":235,"user_id":9307283,"display_name":"Similar pictures"},"score":0,"creation_date":1654150824,"post_id":72467909,"comment_id":128023761,"body_markdown":"And your goal is to identify similar digits?","body":"And your goal is to identify similar digits?"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1654150896,"post_id":72467909,"comment_id":128023783,"body_markdown":"@Similar.Pictures the input images are digits, hence I need to exclude i.e. similar duplicates","body":"@Similar.Pictures the input images are digits, hence I need to exclude i.e. similar duplicates"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654119335,"creation_date":1654119335,"answer_id":72468328,"question_id":72467909,"body_markdown":"What you need to calculate is a [perceptual hash][1].\r\n\r\nWhile normal hash algorithms try to produce vastly different results for slight changes of the hashed data, a perceptual hash tries it the other way round. Once you have two such hash values, you can calculate the distance - meaning how much difference is in the data. From that you can then easily decide how much is still good enough.\r\n\r\nI have once used this library and was happy about the result:\r\nhttps://github.com/KilianB/JImageHash\r\n\r\nWhen taking pictures usually you take two or three because someone has the eyes shut - this algorithm can find them. It even does not matter if the image was converted to black and white or it was scaled down to a thumbnail.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Perceptual_hashing","title":"How to detect similarity in diferences on the example of images?","body":"<p>What you need to calculate is a <a href=\"https://en.wikipedia.org/wiki/Perceptual_hashing\" rel=\"nofollow noreferrer\">perceptual hash</a>.</p>\n<p>While normal hash algorithms try to produce vastly different results for slight changes of the hashed data, a perceptual hash tries it the other way round. Once you have two such hash values, you can calculate the distance - meaning how much difference is in the data. From that you can then easily decide how much is still good enough.</p>\n<p>I have once used this library and was happy about the result:\n<a href=\"https://github.com/KilianB/JImageHash\" rel=\"nofollow noreferrer\">https://github.com/KilianB/JImageHash</a></p>\n<p>When taking pictures usually you take two or three because someone has the eyes shut - this algorithm can find them. It even does not matter if the image was converted to black and white or it was scaled down to a thumbnail.</p>\n"},{"tags":[],"owner":{"account_id":12132903,"reputation":235,"user_id":9307283,"display_name":"Similar pictures"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654154668,"creation_date":1654151414,"answer_id":72471643,"question_id":72467909,"body_markdown":"From your explanation, small pixel differences do not matter. Color does not matter.\r\n\r\nTherefore you can simply go pixel by pixel in a pair of images and count how many times a pixel is non-white in both images. Then compare those counts. For similar images the counts will be similar (not necessarily equal).\r\n\r\nIf you had the large white space around digits removed, you could try this [algorithm demo][1], it should work, because it does color normalization before comparison. The method is explained on the site.\r\n\r\n[Here][2] is a screen scraping application which does digit comparison, maybe it is somehow relevant to your goal. Check usage of color thresholds in function EucMetric in [this file][3].\r\n\r\n\r\n  [1]: https://vitali-fedulov.github.io/similar.pictures/index.html\r\n  [2]: https://github.com/porjo/ingaugo\r\n  [3]: https://github.com/porjo/ingaugo/blob/master/login.go","title":"How to detect similarity in diferences on the example of images?","body":"<p>From your explanation, small pixel differences do not matter. Color does not matter.</p>\n<p>Therefore you can simply go pixel by pixel in a pair of images and count how many times a pixel is non-white in both images. Then compare those counts. For similar images the counts will be similar (not necessarily equal).</p>\n<p>If you had the large white space around digits removed, you could try this <a href=\"https://vitali-fedulov.github.io/similar.pictures/index.html\" rel=\"nofollow noreferrer\">algorithm demo</a>, it should work, because it does color normalization before comparison. The method is explained on the site.</p>\n<p><a href=\"https://github.com/porjo/ingaugo\" rel=\"nofollow noreferrer\">Here</a> is a screen scraping application which does digit comparison, maybe it is somehow relevant to your goal. Check usage of color thresholds in function EucMetric in <a href=\"https://github.com/porjo/ingaugo/blob/master/login.go\" rel=\"nofollow noreferrer\">this file</a>.</p>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654154668,"creation_date":1654116696,"question_id":72467909,"body_markdown":"There&#39;s a set of pictures that if you take them literally, they&#39;re different. That is, there can be two images of the same thing among them, only in different hue. In addition, among these two, there is a difference in the white pixel filling. That is, there are several pixels that do not match the criterion: white or non-white.\r\n\r\nWhat is the algorithm for finding such two pictures? Two of them are colored in different color hue and there are difference in white pixels. All the images have same dimentions. \r\n\r\nProbably the standard approach here will not work. I.e. using\r\n\r\n    public boolean equals(Object obj) {}\r\n    public int hashCode() {}\r\n\r\nBecause we need to find similarity in diferences or vice versa...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2fVeV.jpg","title":"How to detect similarity in diferences on the example of images?","body":"<p>There's a set of pictures that if you take them literally, they're different. That is, there can be two images of the same thing among them, only in different hue. In addition, among these two, there is a difference in the white pixel filling. That is, there are several pixels that do not match the criterion: white or non-white.</p>\n<p>What is the algorithm for finding such two pictures? Two of them are colored in different color hue and there are difference in white pixels. All the images have same dimentions.</p>\n<p>Probably the standard approach here will not work. I.e. using</p>\n<pre><code>public boolean equals(Object obj) {}\npublic int hashCode() {}\n</code></pre>\n<p>Because we need to find similarity in diferences or vice versa...</p>\n<p><a href=\"https://i.stack.imgur.com/2fVeV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2fVeV.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","opengl"],"comments":[{"owner":{"display_name":"user8849929"},"score":0,"creation_date":1654157676,"post_id":72472186,"comment_id":128025915,"body_markdown":"Obivous thing is that for each tile you recompute the same view matrix, reupload the same view matrix, rebind the same vertex array, recreate six new objects (I am not Java specialist, but I guess this is not a way to gain performance).\nConsidere drawing several tiles per draw calls using one (or more) vertex buffers that hold data for several tile at once. You could embed variables such as size, color, in the vertex buffers. This is especially true for background which is perfectly static.","body":"Obivous thing is that for each tile you recompute the same view matrix, reupload the same view matrix, rebind the same vertex array, recreate six new objects (I am not Java specialist, but I guess this is not a way to gain performance). Considere drawing several tiles per draw calls using one (or more) vertex buffers that hold data for several tile at once. You could embed variables such as size, color, in the vertex buffers. This is especially true for background which is perfectly static."},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":2,"creation_date":1654162565,"post_id":72472186,"comment_id":128027479,"body_markdown":"1) Use Instanced Rendering 2) Batch all quads with all their parameters together in a single VBO. Updating several uniforms per quad is definitely slower than updating a single VBO.","body":"1) Use Instanced Rendering 2) Batch all quads with all their parameters together in a single VBO. Updating several uniforms per quad is definitely slower than updating a single VBO."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1654171164,"post_id":72472186,"comment_id":128030421,"body_markdown":"You can&#39;t think of a way to render 400 triangles except for rendering 2 triangles and then rendering another 2 triangles and then another 2 and then another 2 and ...?","body":"You can&#39;t think of a way to render 400 triangles except for rendering 2 triangles and then rendering another 2 triangles and then another 2 and then another 2 and ...?"}],"owner":{"account_id":22649178,"reputation":31,"user_id":16824102,"display_name":"BerserkGoat8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654154535,"creation_date":1654154535,"question_id":72472186,"body_markdown":"I have been trying to create a little platformer to learn more about OpenGL, but have found that when trying to draw loads of tiles/quads at once, the game stutters and freezes fairly regularly.\r\n\r\n[![Low frame rate is just in the gif][1]][1]\r\n\r\nAm using a tilemap for textures so only two `glBindTexture` calls per frame, but one `glDrawElements` per tile (hundreds per frame). This might be the issue but I cannot figure out how to do it any other way.\r\n\r\n```\r\nprivate void drawSprite(float xpos, float ypos, float scale, int index, SpriteSheet spriteSheet, boolean isPlayer) {\r\n\t\tMatrix4f view = new Matrix4f();\r\n\t\tview.lookAt(new Vector3f(positionX / 4.0f, positionY / 4.0f, 10.0f), new Vector3f(positionX / 4.0f, positionY / 4.0f, 0.0f), new Vector3f(0.0f, 1.0f, 0.0f));\r\n\t\tMatrix4f model = new Matrix4f();\r\n\t\tmodel.scale(scale, scale, 0.0f);\r\n\t\tmodel.translate(xpos, ypos, 0.0f);\r\n\t\tWindow.shader.uploadMat4f(&quot;uView&quot;, view);\r\n\t\tWindow.shader.uploadMat4f(&quot;uModel&quot;, model);\r\n\t\tWindow.shader.upload2fv(&quot;offset&quot;, new Vector2f(spriteSheet.getXoffset(index), spriteSheet.getYoffset(index)));\r\n\t\tWindow.shader.uploadFloat(&quot;columnCount&quot;, spriteSheet.getColumnCount());\r\n\t\tWindow.shader.uploadFloat(&quot;rowCount&quot;, spriteSheet.getRowCount());\r\n\t\tif (looking == 1.0f || !isPlayer) {\r\n\t\t\tglBindVertexArray(Window.vao);\r\n\t\t} else if (looking == -1.0f &amp;&amp; isPlayer) {\r\n\t\t\tglBindVertexArray(Window.vaoReflected);\r\n\t\t}\r\n\t\tglDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\r\n\t}\r\n```\r\nThe above is the function that I call from update method once for every tile.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ykr9j.gif","title":"Render lots of quads at once without stuttering","body":"<p>I have been trying to create a little platformer to learn more about OpenGL, but have found that when trying to draw loads of tiles/quads at once, the game stutters and freezes fairly regularly.</p>\n<p><a href=\"https://i.stack.imgur.com/ykr9j.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ykr9j.gif\" alt=\"Low frame rate is just in the gif\" /></a></p>\n<p>Am using a tilemap for textures so only two <code>glBindTexture</code> calls per frame, but one <code>glDrawElements</code> per tile (hundreds per frame). This might be the issue but I cannot figure out how to do it any other way.</p>\n<pre><code>private void drawSprite(float xpos, float ypos, float scale, int index, SpriteSheet spriteSheet, boolean isPlayer) {\n        Matrix4f view = new Matrix4f();\n        view.lookAt(new Vector3f(positionX / 4.0f, positionY / 4.0f, 10.0f), new Vector3f(positionX / 4.0f, positionY / 4.0f, 0.0f), new Vector3f(0.0f, 1.0f, 0.0f));\n        Matrix4f model = new Matrix4f();\n        model.scale(scale, scale, 0.0f);\n        model.translate(xpos, ypos, 0.0f);\n        Window.shader.uploadMat4f(&quot;uView&quot;, view);\n        Window.shader.uploadMat4f(&quot;uModel&quot;, model);\n        Window.shader.upload2fv(&quot;offset&quot;, new Vector2f(spriteSheet.getXoffset(index), spriteSheet.getYoffset(index)));\n        Window.shader.uploadFloat(&quot;columnCount&quot;, spriteSheet.getColumnCount());\n        Window.shader.uploadFloat(&quot;rowCount&quot;, spriteSheet.getRowCount());\n        if (looking == 1.0f || !isPlayer) {\n            glBindVertexArray(Window.vao);\n        } else if (looking == -1.0f &amp;&amp; isPlayer) {\n            glBindVertexArray(Window.vaoReflected);\n        }\n        glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n    }\n</code></pre>\n<p>The above is the function that I call from update method once for every tile.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1653996555,"post_id":72440353,"comment_id":127981909,"body_markdown":"The exception seems to indicate, that you tried to set your field `String link` to an instance of type `Link`.  Did you make a refactoring to the types?","body":"The exception seems to indicate, that you tried to set your field <code>String link</code> to an instance of type <code>Link</code>.  Did you make a refactoring to the types?"},{"owner":{"account_id":24562382,"reputation":1,"user_id":18469939,"display_name":"vladprizma"},"score":0,"creation_date":1654153966,"post_id":72440353,"comment_id":128024775,"body_markdown":"Well it worked without spring so I focused attention mainly on this factor. I tried some permutations with anotations and keywords, it didnt matter. Programm worked only without spring.","body":"Well it worked without spring so I focused attention mainly on this factor. I tried some permutations with anotations and keywords, it didnt matter. Programm worked only without spring."}],"answers":[{"tags":[],"owner":{"account_id":23749311,"reputation":1200,"user_id":17766295,"display_name":"Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653950294,"creation_date":1653950294,"answer_id":72440627,"question_id":72440353,"body_markdown":"I think the issue is from the fact that you setter is private and should be public\r\n```java\r\nprivate void setLink(String link) {\r\n    this.link = link;\r\n}\r\n```\r\n\r\nShould be \r\n\r\n```java\r\npublic void setLink(String link) {\r\n    this.link = link;\r\n}\r\n```\r\n\r\nSame for setVersion and setDepth","title":"Hibernate PropertyAccessException. Spring dependencies problem","body":"<p>I think the issue is from the fact that you setter is private and should be public</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setLink(String link) {\n    this.link = link;\n}\n</code></pre>\n<p>Should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setLink(String link) {\n    this.link = link;\n}\n</code></pre>\n<p>Same for setVersion and setDepth</p>\n"},{"tags":[],"owner":{"account_id":24562382,"reputation":1,"user_id":18469939,"display_name":"vladprizma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654154008,"creation_date":1653980363,"answer_id":72443422,"question_id":72440353,"body_markdown":"I found out, I commented these maven dependencies\r\n\r\n    &lt;!--        &lt;dependency&gt;--&gt;\r\n    &lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n    &lt;!--            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;--&gt;\r\n    &lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n    &lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\r\n    &lt;!--        &lt;/dependency&gt;--&gt;\r\n    &lt;!--        &lt;dependency&gt;--&gt;\r\n    &lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n    &lt;!--            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;--&gt;\r\n    &lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\nAnd everything started working... I guess devtools are the reason, dont want to check, I tried so many other stuff, and this is the reason...","title":"Hibernate PropertyAccessException. Spring dependencies problem","body":"<p>I found out, I commented these maven dependencies</p>\n<pre><code>&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n</code></pre>\n<p>And everything started working... I guess devtools are the reason, dont want to check, I tried so many other stuff, and this is the reason...</p>\n"}],"owner":{"account_id":24562382,"reputation":1,"user_id":18469939,"display_name":"vladprizma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72443422,"answer_count":2,"score":0,"last_activity_date":1654154087,"creation_date":1653947557,"question_id":72440353,"body_markdown":"  My application originally used only Hibernate and everything worked fine, but with Spring i&#39;m getting an exception. It feels like Spring causes different behavior for Hibernate.\r\n\r\nSo with Spring &amp; Hibernate i get this exception trace:\r\n\r\n[Stack trace photo_1][1]\r\n\r\n[Stack trace photo_2][2]\r\n\r\n**hibernate.cfg.xml**\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n       &lt;session-factory&gt;\r\n    \t  &lt;!-- Database connection settings --&gt;\r\n    \t      &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    \t      &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/IndexingAndSearching? \r\n        serverTimezone=UTC&lt;/property&gt;\r\n    \t&lt;property name=&quot;connection.CharSet&quot;&gt;utf8&lt;/property&gt;\r\n    \t&lt;property name=&quot;connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\r\n    \t&lt;property name=&quot;connection.useUnicode&quot;&gt;true&lt;/property&gt;\r\n    \t&lt;property name=&quot;connection.username&quot;&gt;test&lt;/property&gt;\r\n    \t&lt;property name=&quot;connection.password&quot;&gt;test&lt;/property&gt;\r\n    \r\n    \t&lt;property name=&quot;connection.pool_size&quot;&gt;20&lt;/property&gt;\r\n    \t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/property&gt;\r\n    \t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \t&lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n    \t&lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt;\r\n    \t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n    4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;groupId&gt;IndexingAndSearching&lt;/groupId&gt;\r\n    &lt;artifactId&gt;IndexingAndSearching&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!--   Lucene    --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\r\n        &lt;version&gt;8.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-queryparser&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--   Hibernate    --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.7.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.28&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.14.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!--   Logger    --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.36&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--   JUnit    --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--   Spring    --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\nAll of my DAO methods for mysql are written with **sessionFactory**\r\n\r\n**Links** - my only table\r\n\r\n    @Entity(name = &quot;links&quot;)\r\n    @Table(name = &quot;links&quot;)\r\n    @DynamicInsert // To set initial value of fields, otherwise doesn&#39;t work\r\n    public class Links implements Serializable {\r\n    @Id\r\n    private String link;\r\n    @Enumerated\r\n    @Column(columnDefinition = &quot;smallint&quot;)\r\n    private Status status;\r\n    @Version\r\n    private int version;\r\n    private int depth;\r\n    private long owner;\r\n    \r\n    public Links() {\r\n    } // hibernate requirement\r\n    \r\n    public Links(String link, Status status, int depth) throws URISyntaxException {\r\n        assert depth &gt;= 0;\r\n        assert !LinkParser.isBlank(link);\r\n    \r\n        this.link = link;\r\n        this.status = status;\r\n        this.depth = depth;\r\n        this.owner = 0;\r\n    }\r\n    \r\n    public String getLink() {\r\n        return link;\r\n    }\r\n    \r\n    private void setLink(String link) {\r\n        this.link = link;\r\n    }\r\n    \r\n    public int getVersion() {\r\n        return version;\r\n    }\r\n    \r\n    private void setVersion(int version) {\r\n        this.version = version;\r\n    }\r\n    \r\n    public Status getStatus() {\r\n        return status;\r\n    }\r\n    \r\n    public void setStatus(Status status) {\r\n        this.status = status;\r\n    }\r\n    \r\n    public int getDepth() {\r\n        return depth;\r\n    }\r\n    \r\n    private void setDepth(int depth) {\r\n        this.depth = depth;\r\n    }\r\n    \r\n    public long getOwner() {\r\n        return owner;\r\n    }\r\n    \r\n    public void setOwner(long owner) {\r\n        assert owner &gt;= 0;\r\n        this.owner = owner;\r\n    }\r\n\r\n\r\n**application.properties**\r\n\r\n    server.port=8080\r\n    server.servlet.context-path=/webcrawler\r\n\r\n\r\nOnly difference is when i start application with Spring, i dont get these exceptions when i dont use Spring.\r\n\r\n  [1]: https://i.stack.imgur.com/6W0mD.png\r\n  [2]: https://i.stack.imgur.com/epPy8.png\r\n\r\n","title":"Hibernate PropertyAccessException. Spring dependencies problem","body":"<p>My application originally used only Hibernate and everything worked fine, but with Spring i'm getting an exception. It feels like Spring causes different behavior for Hibernate.</p>\n<p>So with Spring &amp; Hibernate i get this exception trace:</p>\n<p><a href=\"https://i.stack.imgur.com/6W0mD.png\" rel=\"nofollow noreferrer\">Stack trace photo_1</a></p>\n<p><a href=\"https://i.stack.imgur.com/epPy8.png\" rel=\"nofollow noreferrer\">Stack trace photo_2</a></p>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n   &lt;session-factory&gt;\n      &lt;!-- Database connection settings --&gt;\n          &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n          &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/IndexingAndSearching? \n    serverTimezone=UTC&lt;/property&gt;\n    &lt;property name=&quot;connection.CharSet&quot;&gt;utf8&lt;/property&gt;\n    &lt;property name=&quot;connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\n    &lt;property name=&quot;connection.useUnicode&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;test&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;test&lt;/property&gt;\n\n    &lt;property name=&quot;connection.pool_size&quot;&gt;20&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/property&gt;\n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n    &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt;\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;IndexingAndSearching&lt;/groupId&gt;\n&lt;artifactId&gt;IndexingAndSearching&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;!--   Lucene    --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n    &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n    &lt;version&gt;9.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n    &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\n    &lt;version&gt;8.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n    &lt;artifactId&gt;lucene-queryparser&lt;/artifactId&gt;\n    &lt;version&gt;9.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!--   Hibernate    --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.6.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.28&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.14.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!--   Logger    --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--   JUnit    --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!--   Spring    --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n\n<p>All of my DAO methods for mysql are written with <strong>sessionFactory</strong></p>\n<p><strong>Links</strong> - my only table</p>\n<pre><code>@Entity(name = &quot;links&quot;)\n@Table(name = &quot;links&quot;)\n@DynamicInsert // To set initial value of fields, otherwise doesn't work\npublic class Links implements Serializable {\n@Id\nprivate String link;\n@Enumerated\n@Column(columnDefinition = &quot;smallint&quot;)\nprivate Status status;\n@Version\nprivate int version;\nprivate int depth;\nprivate long owner;\n\npublic Links() {\n} // hibernate requirement\n\npublic Links(String link, Status status, int depth) throws URISyntaxException {\n    assert depth &gt;= 0;\n    assert !LinkParser.isBlank(link);\n\n    this.link = link;\n    this.status = status;\n    this.depth = depth;\n    this.owner = 0;\n}\n\npublic String getLink() {\n    return link;\n}\n\nprivate void setLink(String link) {\n    this.link = link;\n}\n\npublic int getVersion() {\n    return version;\n}\n\nprivate void setVersion(int version) {\n    this.version = version;\n}\n\npublic Status getStatus() {\n    return status;\n}\n\npublic void setStatus(Status status) {\n    this.status = status;\n}\n\npublic int getDepth() {\n    return depth;\n}\n\nprivate void setDepth(int depth) {\n    this.depth = depth;\n}\n\npublic long getOwner() {\n    return owner;\n}\n\npublic void setOwner(long owner) {\n    assert owner &gt;= 0;\n    this.owner = owner;\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8080\nserver.servlet.context-path=/webcrawler\n</code></pre>\n<p>Only difference is when i start application with Spring, i dont get these exceptions when i dont use Spring.</p>\n"},{"tags":["java","android","android-studio","google-maps"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653093162,"post_id":72300598,"comment_id":127774590,"body_markdown":"I suggest reading the note in the `AndroidManifest.xml` which you posted - look for the `TODO:` section.","body":"I suggest reading the note in the <code>AndroidManifest.xml</code> which you posted - look for the <code>TODO:</code> section."}],"answers":[{"tags":[],"owner":{"account_id":10809485,"reputation":395,"user_id":7950494,"accept_rate":100,"display_name":"Sandeep Manmode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654154055,"creation_date":1654154055,"answer_id":72472109,"question_id":72300598,"body_markdown":"Before you run your application, you need a Google Maps API key.\r\n\r\nTo get one, follow the directions here:\r\n\r\n[https://developers.google.com/maps/documentation/android-sdk/get-api-key][1]\r\n\r\nOnce you have your API key (it starts with &quot;**AIza**&quot;), define a new property in your project&#39;s \r\n\r\n&gt; local.properties\r\n\r\n file (e.g. MAPS_API_KEY=Aiza...), and replace the \r\n\r\n&gt; YOUR_API_KEY\r\n\r\n string in this file with \r\n\r\n&gt; ${MAPS_API_KEY}\r\n\r\n\r\nOr add this API_KEY in Manifest.xml file\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\r\n            android:value=&quot;MY API KEY&quot; /&gt;   //Add your key here \r\n\r\nHope this helps you to understand with URL.\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android-sdk/get-api-key","title":"map is loading but can&#39;t see the map in my application","body":"<p>Before you run your application, you need a Google Maps API key.</p>\n<p>To get one, follow the directions here:</p>\n<p><a href=\"https://developers.google.com/maps/documentation/android-sdk/get-api-key\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/get-api-key</a></p>\n<p>Once you have your API key (it starts with &quot;<strong>AIza</strong>&quot;), define a new property in your project's</p>\n<blockquote>\n<p>local.properties</p>\n</blockquote>\n<p>file (e.g. MAPS_API_KEY=Aiza...), and replace the</p>\n<blockquote>\n<p>YOUR_API_KEY</p>\n</blockquote>\n<p>string in this file with</p>\n<blockquote>\n<p>${MAPS_API_KEY}</p>\n</blockquote>\n<p>Or add this API_KEY in Manifest.xml file</p>\n<pre><code>    &lt;meta-data\n        android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\n        android:value=&quot;MY API KEY&quot; /&gt;   //Add your key here \n</code></pre>\n<p>Hope this helps you to understand with URL.</p>\n"}],"owner":{"account_id":24568864,"reputation":25,"user_id":18475633,"display_name":"VRAJ PATEL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654154055,"creation_date":1652946438,"question_id":72300598,"body_markdown":"I am learning Android development.\r\n\r\nI am using the Google map API, to display a map. I have done all the steps according to the tutorial.\r\n\r\nwhen i try to view the application in my device, the application loads I can see the Google logo but map is not visible. (i see the white background with Google logo at the bottom).\r\n\r\nI have added my code and the screenshot. can someone please help me to fix this. thank you..\r\n\r\n[ScreenShot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ebSq.jpg\r\n\r\n`activity_maps.xml` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MapsActivity&quot; /&gt;\r\n\r\n`MapsActivity.java` file\r\n\r\n    import android.os.Bundle;\r\n    \r\n    import androidx.fragment.app.FragmentActivity;\r\n    \r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    \r\n    public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n    \r\n        private GoogleMap mMap;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_maps);\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapFragment.getMapAsync(this);\r\n        }\r\n    \r\n        /**\r\n         * Manipulates the map once available.\r\n         * This callback is triggered when the map is ready to be used.\r\n         * This is where we can add markers or lines, add listeners or move the camera.\r\n         * In this case, we just add a marker near Sydney, Australia.\r\n         * If Google Play services is not installed on the device.\r\n         * This method will only be triggered once the user has installed\r\n         Google Play services and returned to the app.\r\n         */\r\n    \r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            mMap = googleMap;\r\n            // Add a marker in Sydney and move the camera\r\n            LatLng TutorialsPoint = new LatLng(21, 57);\r\n            mMap.addMarker(new\r\n                    MarkerOptions().position(TutorialsPoint).title(&quot;Tutorialspoint.com&quot;));\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLng(TutorialsPoint));\r\n        }\r\n    }\r\n\r\n`AndroidManifest.xml` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.shreefood&quot;&gt;\r\n    \r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.ShreeFood&quot;&gt;\r\n    \r\n            &lt;!--\r\n                 TODO: Before you run your application, you need a Google Maps API key.\r\n    \r\n                 To get one, follow the directions here:\r\n    \r\n                    https://developers.google.com/maps/documentation/android-sdk/get-api-key\r\n    \r\n                 Once you have your API key (it starts with &quot;AIza&quot;), define a new property in your\r\n                 project&#39;s local.properties file (e.g. MAPS_API_KEY=Aiza...), and replace the\r\n                 &quot;YOUR_API_KEY&quot; string in this file with &quot;${MAPS_API_KEY}&quot;.\r\n            --&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\r\n                android:value=&quot;MY API KEY&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.MapsActivity&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:label=&quot;@string/title_activity_maps&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.HomeActivity&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:label=&quot;            Shree Food Service&quot;\r\n                android:textAlignment=&quot;center&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;   Welcome to Shree Food Service&quot;\r\n                android:textAlignment=&quot;center&quot;&gt;\r\n                &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\ncan someone please help me to fix this. Thank you.","title":"map is loading but can&#39;t see the map in my application","body":"<p>I am learning Android development.</p>\n<p>I am using the Google map API, to display a map. I have done all the steps according to the tutorial.</p>\n<p>when i try to view the application in my device, the application loads I can see the Google logo but map is not visible. (i see the white background with Google logo at the bottom).</p>\n<p>I have added my code and the screenshot. can someone please help me to fix this. thank you..</p>\n<p><a href=\"https://i.stack.imgur.com/6ebSq.jpg\" rel=\"nofollow noreferrer\">ScreenShot</a></p>\n<p><code>activity_maps.xml</code> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/map&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MapsActivity&quot; /&gt;\n</code></pre>\n<p><code>MapsActivity.java</code> file</p>\n<pre><code>import android.os.Bundle;\n\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera.\n     * In this case, we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device.\n     * This method will only be triggered once the user has installed\n     Google Play services and returned to the app.\n     */\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        // Add a marker in Sydney and move the camera\n        LatLng TutorialsPoint = new LatLng(21, 57);\n        mMap.addMarker(new\n                MarkerOptions().position(TutorialsPoint).title(&quot;Tutorialspoint.com&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(TutorialsPoint));\n    }\n}\n</code></pre>\n<p><code>AndroidManifest.xml</code> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.shreefood&quot;&gt;\n\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ShreeFood&quot;&gt;\n\n        &lt;!--\n             TODO: Before you run your application, you need a Google Maps API key.\n\n             To get one, follow the directions here:\n\n                https://developers.google.com/maps/documentation/android-sdk/get-api-key\n\n             Once you have your API key (it starts with &quot;AIza&quot;), define a new property in your\n             project's local.properties file (e.g. MAPS_API_KEY=Aiza...), and replace the\n             &quot;YOUR_API_KEY&quot; string in this file with &quot;${MAPS_API_KEY}&quot;.\n        --&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\n            android:value=&quot;MY API KEY&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.MapsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_maps&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.HomeActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;            Shree Food Service&quot;\n            android:textAlignment=&quot;center&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;   Welcome to Shree Food Service&quot;\n            android:textAlignment=&quot;center&quot;&gt;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>can someone please help me to fix this. Thank you.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653943518,"post_id":72439623,"comment_id":127969825,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1653999635,"post_id":72439623,"comment_id":127983132,"body_markdown":"That is not possible. Once the session is created with desired properties, you cannot change them.","body":"That is not possible. Once the session is created with desired properties, you cannot change them."},{"owner":{"account_id":25430432,"reputation":3,"user_id":19234944,"display_name":"Mehmet Ergul"},"score":0,"creation_date":1654150011,"post_id":72439623,"comment_id":128023547,"body_markdown":"Thank you very much.  I thought so, too. I thought there is a solution maybe but there isn&#39;t. Thanks...","body":"Thank you very much.  I thought so, too. I thought there is a solution maybe but there isn&#39;t. Thanks..."}],"answers":[{"tags":[],"owner":{"account_id":7588042,"reputation":68,"user_id":5756499,"display_name":"Uditha Dissanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654153775,"creation_date":1654153775,"answer_id":72472045,"question_id":72439623,"body_markdown":"Once the session is created you can&#39;t\r\n\r\nWhen you configure an instance of a ChromeDriver using ChromeOptions(), in the process of initiating a new Chrome Browsing Session the configuration gets baked into the chromedriver executable and will persist till the lifetime of the WebDriver is uneditable. So you can&#39;t add any further ChromeOptions to the WebDriver instance which is currently in execution.\r\n\r\nEven if you are able to extract the ChromeDriver and ChromeSession attributes e.g. Session ID, Cookies, UserAgent, and other session attributes from the already initiated ChromeDriver and Chrome Browsing Session still you won&#39;t be able to change the set of attributes of the ChromeDriver.\r\n\r\nA cleaner way would be to call driver.quit() within tearDown(){} method to close and destroy the current ChromeDriver and Chrome Browser instances gracefully and then span a new set of ChromeDriver and Chrome Browser instance with the new set of configurations.\r\n\r\nYou can find a couple of relevant discussions in:\r\n&lt;https://stackoverflow.com/questions/71622167/how-can-i-switch-from-headless-mode-to-normal-mode-using-google-chrome-and-selen&gt;?\r\n\r\n","title":"Is this possible to headless mode after opening chrome normal mode?","body":"<p>Once the session is created you can't</p>\n<p>When you configure an instance of a ChromeDriver using ChromeOptions(), in the process of initiating a new Chrome Browsing Session the configuration gets baked into the chromedriver executable and will persist till the lifetime of the WebDriver is uneditable. So you can't add any further ChromeOptions to the WebDriver instance which is currently in execution.</p>\n<p>Even if you are able to extract the ChromeDriver and ChromeSession attributes e.g. Session ID, Cookies, UserAgent, and other session attributes from the already initiated ChromeDriver and Chrome Browsing Session still you won't be able to change the set of attributes of the ChromeDriver.</p>\n<p>A cleaner way would be to call driver.quit() within tearDown(){} method to close and destroy the current ChromeDriver and Chrome Browser instances gracefully and then span a new set of ChromeDriver and Chrome Browser instance with the new set of configurations.</p>\n<p>You can find a couple of relevant discussions in:\n<a href=\"https://stackoverflow.com/questions/71622167/how-can-i-switch-from-headless-mode-to-normal-mode-using-google-chrome-and-selen\">How can I switch from headless mode to normal mode using Google Chrome and Selenium?</a>?</p>\n"}],"owner":{"account_id":25430432,"reputation":3,"user_id":19234944,"display_name":"Mehmet Ergul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72472045,"answer_count":1,"score":0,"last_activity_date":1654153775,"creation_date":1653941719,"question_id":72439623,"body_markdown":"im using java selenium with chrome. I know to start headless mode but i want to pass to headless mode after some process. For instance, i got url and i clicked some buttons on visible normal webpage with selenium, then i want to hide that page with headless mode or anyother things. Is this possible? ","title":"Is this possible to headless mode after opening chrome normal mode?","body":"<p>im using java selenium with chrome. I know to start headless mode but i want to pass to headless mode after some process. For instance, i got url and i clicked some buttons on visible normal webpage with selenium, then i want to hide that page with headless mode or anyother things. Is this possible?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25453078,"reputation":1,"user_id":19254142,"display_name":"domchen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654153689,"creation_date":1654153565,"answer_id":72471998,"question_id":71587192,"body_markdown":"do you still have this problem? Maybe you should try to specify the abiFilters property in gradle, by setting it to armeabi only. libpag does not have the x86 arch support, but you always can use armeabi arch instead for x86 devices.","title":"I get &quot;No implementation found error&quot; when using libpag in android","body":"<p>do you still have this problem? Maybe you should try to specify the abiFilters property in gradle, by setting it to armeabi only. libpag does not have the x86 arch support, but you always can use armeabi arch instead for x86 devices.</p>\n"}],"owner":{"account_id":20770886,"reputation":53,"user_id":15253620,"display_name":"islandryu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654153689,"creation_date":1648038362,"question_id":71587192,"body_markdown":"I want to use libpag on android, but I get a No implementation found error.\r\nhttps://github.com/Tencent/libpag\r\n\r\nI created a project in androidstudio and then configured it as described in the github README.\r\nhttps://github.com/Tencent/libpag#android-integration\r\n\r\nOperating environment abi is x86.\r\n\r\nI tried using the sample repository and no error occurred, so I am wondering if the gradle configuration is bad.\r\nhttps://github.com/libpag/pag-android.git\r\n\r\n    2022-03-22 12:59:03.906 3824-3824/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 3824\r\n    java.lang.UnsatisfiedLinkError: No implementation found for void org.libpag.PAGPlayer.nativeInit() (tried Java_org_libpag_PAGPlayer_nativeInit and Java_org_libpag_PAGPlayer_nativeInit__)\r\n        at org.libpag.PAGPlayer.nativeInit(Native Method)\r\n        at org.libpag.PAGPlayer.&lt;clinit&gt;(PAGPlayer.java:222)\r\n        at org.libpag.PAGView.setupSurfaceTexture(PAGView.java:310)\r\n        at org.libpag.PAGView.&lt;init&gt;(PAGView.java:226)\r\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:14)\r\n        at android.app.Activity.performCreate(Activity.java:7989)\r\n        at android.app.Activity.performCreate(Activity.java:7978)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3316)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3485)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2045)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7478)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941)\r\n\r\n\r\n\r\nbuild.gradle\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &#39;30.0.2&#39;\r\n    ndkVersion &quot;21.4.7075529&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication&quot;\r\n        minSdkVersion 18\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.tencent.tav:libpag:3.2.7.37&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport org.libpag.PAGView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        final PAGView pagView = new PAGView(this);\r\n    }\r\n}\r\n```","title":"I get &quot;No implementation found error&quot; when using libpag in android","body":"<p>I want to use libpag on android, but I get a No implementation found error.\n<a href=\"https://github.com/Tencent/libpag\" rel=\"nofollow noreferrer\">https://github.com/Tencent/libpag</a></p>\n<p>I created a project in androidstudio and then configured it as described in the github README.\n<a href=\"https://github.com/Tencent/libpag#android-integration\" rel=\"nofollow noreferrer\">https://github.com/Tencent/libpag#android-integration</a></p>\n<p>Operating environment abi is x86.</p>\n<p>I tried using the sample repository and no error occurred, so I am wondering if the gradle configuration is bad.\n<a href=\"https://github.com/libpag/pag-android.git\" rel=\"nofollow noreferrer\">https://github.com/libpag/pag-android.git</a></p>\n<pre><code>2022-03-22 12:59:03.906 3824-3824/? E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.myapplication, PID: 3824\njava.lang.UnsatisfiedLinkError: No implementation found for void org.libpag.PAGPlayer.nativeInit() (tried Java_org_libpag_PAGPlayer_nativeInit and Java_org_libpag_PAGPlayer_nativeInit__)\n    at org.libpag.PAGPlayer.nativeInit(Native Method)\n    at org.libpag.PAGPlayer.&lt;clinit&gt;(PAGPlayer.java:222)\n    at org.libpag.PAGView.setupSurfaceTexture(PAGView.java:310)\n    at org.libpag.PAGView.&lt;init&gt;(PAGView.java:226)\n    at com.example.myapplication.MainActivity.onCreate(MainActivity.java:14)\n    at android.app.Activity.performCreate(Activity.java:7989)\n    at android.app.Activity.performCreate(Activity.java:7978)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3316)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3485)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2045)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7478)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:941)\n</code></pre>\n<p>build.gradle</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '30.0.2'\n    ndkVersion &quot;21.4.7075529&quot;\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdkVersion 18\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.tencent.tav:libpag:3.2.7.37'\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport org.libpag.PAGView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        final PAGView pagView = new PAGView(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":10254931,"reputation":244,"user_id":7568042,"accept_rate":100,"display_name":"user7568042"},"score":0,"creation_date":1487449210,"post_id":42320225,"comment_id":71793643,"body_markdown":"So where in your code says you are retreiving the data from the m_text, all i can see is your method is boolean and you did the EditText correctly but no return of the object back.","body":"So where in your code says you are retreiving the data from the m_text, all i can see is your method is boolean and you did the EditText correctly but no return of the object back."},{"owner":{"account_id":2500372,"reputation":5641,"user_id":2175658,"accept_rate":53,"display_name":"Eenvincible"},"score":0,"creation_date":1487449305,"post_id":42320225,"comment_id":71793682,"body_markdown":"You need to create your own Custom Listener to handle the clicks!","body":"You need to create your own Custom Listener to handle the clicks!"}],"answers":[{"tags":[],"owner":{"account_id":2500372,"reputation":5641,"user_id":2175658,"accept_rate":53,"display_name":"Eenvincible"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487449889,"creation_date":1487449889,"answer_id":42320371,"question_id":42320225,"body_markdown":"Here is how you should do this:\r\n\r\n**Create a customer click listener**\r\n\r\n    private class CustomClickListener implements View.OnClickListener {\r\n\r\n        private final Dialog dialog;\r\n\r\n        CustomClickListener(Dialog dialog) {\r\n            this.dialog = dialog;\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            String editTextValue= mAddWorkout.getText().toString();\r\n        }\r\n    }\r\n\r\nYou should make `mAddWorkout` value class-level so you can access it easily!\r\n\r\nThen :\r\n\r\n**Set this click listener to your dialog like this**\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            builder.setTitle(&quot;Enter the workout name&quot;);\r\n\r\n            //Create the user input xml file into a java object; capturing the user input from the dialog box\r\n            //inflate means &quot;fill&quot;\r\n            View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\r\n            final EditText mAddWorkout = (EditText)view.findViewById(R.id.workout_name_input);\r\n\r\n            builder.setView(R.layout.userinput);\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    \r\n                    boolean brkpt = true;\r\n                }\r\n            }); //Second parameter pass in which event listener should trigger when the button is clicked\r\n            AlertDialog alertDialog = builder.create();\r\n            alertDialog .show();\r\n    Button saveWorkout = alertDialog.getButton(DialogInterface.BUTTON_POSITIVE);\r\n        saveWorkout .setOnClickListener(new CustomClickListener(alertDialog));\r\n\r\nThis is the solution that I use for my own code and works fine; you can do validation inside the onClick method of the click listener and alert the user accordingly!\r\n\r\nGood luck!\r\n\r\n","title":"Capturing user input from an actionbar menu item","body":"<p>Here is how you should do this:</p>\n\n<p><strong>Create a customer click listener</strong></p>\n\n<pre><code>private class CustomClickListener implements View.OnClickListener {\n\n    private final Dialog dialog;\n\n    CustomClickListener(Dialog dialog) {\n        this.dialog = dialog;\n    }\n\n    @Override\n    public void onClick(View v) {\n        String editTextValue= mAddWorkout.getText().toString();\n    }\n}\n</code></pre>\n\n<p>You should make <code>mAddWorkout</code> value class-level so you can access it easily!</p>\n\n<p>Then :</p>\n\n<p><strong>Set this click listener to your dialog like this</strong></p>\n\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(\"Enter the workout name\");\n\n        //Create the user input xml file into a java object; capturing the user input from the dialog box\n        //inflate means \"fill\"\n        View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\n        final EditText mAddWorkout = (EditText)view.findViewById(R.id.workout_name_input);\n\n        builder.setView(R.layout.userinput);\n        builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                boolean brkpt = true;\n            }\n        }); //Second parameter pass in which event listener should trigger when the button is clicked\n        AlertDialog alertDialog = builder.create();\n        alertDialog .show();\nButton saveWorkout = alertDialog.getButton(DialogInterface.BUTTON_POSITIVE);\n    saveWorkout .setOnClickListener(new CustomClickListener(alertDialog));\n</code></pre>\n\n<p>This is the solution that I use for my own code and works fine; you can do validation inside the onClick method of the click listener and alert the user accordingly!</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":5264085,"reputation":1020,"user_id":4204668,"accept_rate":100,"display_name":"Pulkit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487450390,"creation_date":1487450390,"answer_id":42320456,"question_id":42320225,"body_markdown":"    private android.app.AlertDialog mAlert;\r\n    private EditText mAddWorkout;\r\n    \r\n    //Creating the dialog box for entering the workout name\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n    View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\r\n    \r\n    builder.setTitle(&quot;Enter the workout name&quot;);\r\n    mAlert = builder.create();\r\n    mAlert.setCancelable(true);\r\n    mAlert.setView(view, 10, 10, 10, 10);\r\n    if (mAlert != null &amp;&amp; !mAlert.isShowing()) {\r\n                    mAlert.show();\r\n                }\r\n    mAddWorkout = (EditText) mAlert.findViewById(R.id.workout_name_input);\r\n    m_Text = mAddWorkout.getText().toString();\r\n\r\n   \r\nHope this solves your problem","title":"Capturing user input from an actionbar menu item","body":"<pre><code>private android.app.AlertDialog mAlert;\nprivate EditText mAddWorkout;\n\n//Creating the dialog box for entering the workout name\nAlertDialog.Builder builder = new AlertDialog.Builder(this);\nView view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\n\nbuilder.setTitle(\"Enter the workout name\");\nmAlert = builder.create();\nmAlert.setCancelable(true);\nmAlert.setView(view, 10, 10, 10, 10);\nif (mAlert != null &amp;&amp; !mAlert.isShowing()) {\n                mAlert.show();\n            }\nmAddWorkout = (EditText) mAlert.findViewById(R.id.workout_name_input);\nm_Text = mAddWorkout.getText().toString();\n</code></pre>\n\n<p>Hope this solves your problem</p>\n"},{"tags":[],"owner":{"account_id":4129645,"reputation":301,"user_id":3387896,"display_name":"Richard Kirk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654153500,"creation_date":1654153500,"answer_id":72471988,"question_id":42320225,"body_markdown":"A bit late, but I had run into the same problem, and found yet another answer. The solution that works for me is...\r\n\r\n    binding.myEditText.setOnEditorActionListener { _, action, key -&gt;\r\n            if (actionId == EditorInfo.IME_ACTION_SEARCH ||\r\n                actionId == EditorInfo.IME_ACTION_DONE ||\r\n                key == null ||\r\n                key.keyCode == KeyEvent.KEYCODE_ENTER) {\r\n                // Put your actions here\r\n                true\r\n            } else {\r\n                false\r\n            }\r\n        }\r\n\r\nI have only been writing kotlin for a month or so, so I cannot promise this follows best practice, but maybe someone else can improve this.\r\n\r\nThis task is hard because we had only one control, so it is harder to trap focus changes. If we had a page full of buttons, we might have a [Reset] and a [Save] button. We have one function that loads all the parameters into the EditTexts (used on entry and Reset); and one function that updates all the parameters with the EditText text (used on Save). Then all is easy. But I was going to get one parameter going before adding th fancy stuff, which is why I fell into this hole.","title":"Capturing user input from an actionbar menu item","body":"<p>A bit late, but I had run into the same problem, and found yet another answer. The solution that works for me is...</p>\n<pre><code>binding.myEditText.setOnEditorActionListener { _, action, key -&gt;\n        if (actionId == EditorInfo.IME_ACTION_SEARCH ||\n            actionId == EditorInfo.IME_ACTION_DONE ||\n            key == null ||\n            key.keyCode == KeyEvent.KEYCODE_ENTER) {\n            // Put your actions here\n            true\n        } else {\n            false\n        }\n    }\n</code></pre>\n<p>I have only been writing kotlin for a month or so, so I cannot promise this follows best practice, but maybe someone else can improve this.</p>\n<p>This task is hard because we had only one control, so it is harder to trap focus changes. If we had a page full of buttons, we might have a [Reset] and a [Save] button. We have one function that loads all the parameters into the EditTexts (used on entry and Reset); and one function that updates all the parameters with the EditText text (used on Save). Then all is easy. But I was going to get one parameter going before adding th fancy stuff, which is why I fell into this hole.</p>\n"}],"owner":{"account_id":10281198,"reputation":3,"user_id":7586285,"display_name":"jarrm5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42320371,"answer_count":3,"score":0,"last_activity_date":1654153500,"creation_date":1487449048,"question_id":42320225,"body_markdown":"I am creating a gym app in Android Studio and the first feature I&#39;m trying to implement is to have the user create a workout by clicking on an option in the action bar to add it.  Clicking this button brings up an alert dialog with an EditText field to type in the workout name.  Later, I will use the input to create a list view with the different workouts added, but for now I am just concerned about capturing the input from this EditText field.\r\n\r\nHere is what should happen.. on [this screen][1] I click the + button and it brings up an alert dialog box with an EditText field.  I want to capture this [input][2] in the java main activity file.\r\n\r\nHere is the java MainActivity File.  I want the input from the EditText field to be stored in the m_Text variable.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private String m_Text;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.main_menu,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    //Clicking add workout button in the action bar\r\n    //stackoverflow.com/questions/13143006/alert-dialog-from-within-onooptionsitemselected-android\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        switch(item.getItemId()){\r\n            case R.id.action_add_workout:\r\n                //final EditText mAddWorkout = (EditText)R.layout.userinput;\r\n\r\n                //Creating the dialog box for entering the workout name\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setTitle(&quot;Enter the workout name&quot;);\r\n\r\n                //Create the user input xml file into a java object; capturing the user input from the dialog box\r\n                //inflate means &quot;fill&quot;\r\n                View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\r\n                final EditText mAddWorkout = (EditText)view.findViewById(R.id.workout_name_input);\r\n\r\n                builder.setView(R.layout.userinput);\r\n                builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        m_Text = mAddWorkout.getText().toString();\r\n                        boolean brkpt = true;\r\n                    }\r\n                }); //Second parameter pass in which event listener should trigger when the button is clicked\r\n                builder.setNegativeButton(&quot;Cancel&quot;,null);\r\n                builder.show();\r\n\r\n                return true;\r\n\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n          }\r\n         }\r\n       }\r\n    \r\n\r\nHere is the xml for my actionbar menu item for adding the workout name (main_menu.xml)\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_add_workout&quot;\r\n        android:icon=&quot;@drawable/ic_add&quot;\r\n        android:title=&quot;@string/add_workout&quot;\r\n        app:showAsAction=&quot;always&quot;/&gt;\r\n    &lt;/menu&gt;\r\n\r\nLast, the xml for the EditText (userinput.xml)\r\n\r\n    &lt;EditText xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/workout_name_input&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:hint=&quot;name..&quot;&gt;\r\n    &lt;/EditText&gt;    \r\n\r\n\r\n\r\nWhen I debug my code, the m_Text variable is always empty if I enter a workout name in the EditText field.  I have been stuck on this for days now and I have combed youtube and SO for an answer and haven&#39;t found much relating to my issue.\r\nAny insight is greatly appreciated. Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jo3Pi.png\r\n  [2]: https://i.stack.imgur.com/d6Zut.png\r\n\r\nEDIT: Updated code for MainActivity.  I can get control pass to the custom clicker but the input is still not saved. Thanks\r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n\r\n    private EditText mAddWorkout;\r\n\r\n    public class CustomClickListener implements View.OnClickListener {\r\n\r\n        private final Dialog dialog;\r\n\r\n        CustomClickListener(Dialog dialog) {\r\n            this.dialog = dialog;\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            String editTextValue= mAddWorkout.getText().toString();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.main_menu,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    //Clicking add workout button in the action bar\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        switch(item.getItemId()){\r\n            case R.id.action_add_workout:\r\n                //final EditText mAddWorkout = (EditText)R.layout.userinput;\r\n\r\n                //Creating the dialog box for entering the workout name\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setTitle(&quot;Enter the workout name&quot;);\r\n\r\n                //Create the user input xml file into a java object; capturing the user input from the dialog box\r\n                //inflate means &quot;fill&quot;\r\n                View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\r\n                mAddWorkout = (EditText)view.findViewById(R.id.workout_name_input);\r\n\r\n                builder.setView(R.layout.userinput);\r\n                builder.setPositiveButton(&quot;OK&quot;,null);\r\n                builder.setNegativeButton(&quot;Cancel&quot;,null);\r\n\r\n                AlertDialog alertDialog = builder.create();\r\n                alertDialog.show();\r\n                Button saveWorkout = alertDialog.getButton(DialogInterface.BUTTON_POSITIVE);\r\n                saveWorkout.setOnClickListener(new CustomClickListener(alertDialog));\r\n                builder.show();\r\n\r\n                return true;\r\n\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n      }\r\n    }\r\n\r\n******FINAL EDIT*******\r\nI&#39;ve since finished the entire app and thought I would post my alert dialog code in case it helps someone else out.  It turns out that this issue with alert dialogs was the only major issue I had, once I got used to android studio and java things really took off.  Anyways my gymapp is a nice little app that uses SQLlite to track workouts, exercises, and sets.. I&#39;ve actually used it in the gym :)\r\n\r\n    @Override\r\n    //Clicking add workout button in the action bar\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        //Creating the dialog box for entering the workout name\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n        final EditText input = new EditText(this);\r\n\r\n        builder.setTitle(&quot;Enter the workout name&quot;).setView(input).setView(input);\r\n\r\n        builder.setPositiveButton(&quot;OK&quot;,new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Workout workout = new Workout(input.getText().toString());\r\n                long workout_key = myDb.createWorkout(workout);\r\n                populateWorkouts();\r\n            }\r\n        });\r\n        builder.setNegativeButton(&quot;Cancel&quot;,new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                dialog.cancel();\r\n            }\r\n        });\r\n\r\n        builder.show();\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nIn my case, I use the input to create a workout object and insert it to my database.  And obviously you would need a switch statement if you had more than one option in your action bar menu.\r\n\r\nThanks again to the 2 guys that tried to help me.\r\n     ","title":"Capturing user input from an actionbar menu item","body":"<p>I am creating a gym app in Android Studio and the first feature I'm trying to implement is to have the user create a workout by clicking on an option in the action bar to add it.  Clicking this button brings up an alert dialog with an EditText field to type in the workout name.  Later, I will use the input to create a list view with the different workouts added, but for now I am just concerned about capturing the input from this EditText field.</p>\n\n<p>Here is what should happen.. on <a href=\"https://i.stack.imgur.com/jo3Pi.png\" rel=\"nofollow noreferrer\">this screen</a> I click the + button and it brings up an alert dialog box with an EditText field.  I want to capture this <a href=\"https://i.stack.imgur.com/d6Zut.png\" rel=\"nofollow noreferrer\">input</a> in the java main activity file.</p>\n\n<p>Here is the java MainActivity File.  I want the input from the EditText field to be stored in the m_Text variable.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate String m_Text;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.main_menu,menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\n//Clicking add workout button in the action bar\n//stackoverflow.com/questions/13143006/alert-dialog-from-within-onooptionsitemselected-android\npublic boolean onOptionsItemSelected(MenuItem item) {\n\n    switch(item.getItemId()){\n        case R.id.action_add_workout:\n            //final EditText mAddWorkout = (EditText)R.layout.userinput;\n\n            //Creating the dialog box for entering the workout name\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setTitle(\"Enter the workout name\");\n\n            //Create the user input xml file into a java object; capturing the user input from the dialog box\n            //inflate means \"fill\"\n            View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\n            final EditText mAddWorkout = (EditText)view.findViewById(R.id.workout_name_input);\n\n            builder.setView(R.layout.userinput);\n            builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    m_Text = mAddWorkout.getText().toString();\n                    boolean brkpt = true;\n                }\n            }); //Second parameter pass in which event listener should trigger when the button is clicked\n            builder.setNegativeButton(\"Cancel\",null);\n            builder.show();\n\n            return true;\n\n        default:\n            return super.onOptionsItemSelected(item);\n      }\n     }\n   }\n</code></pre>\n\n<p>Here is the xml for my actionbar menu item for adding the workout name (main_menu.xml)</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n&lt;item\n    android:id=\"@+id/action_add_workout\"\n    android:icon=\"@drawable/ic_add\"\n    android:title=\"@string/add_workout\"\n    app:showAsAction=\"always\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>Last, the xml for the EditText (userinput.xml)</p>\n\n<pre><code>&lt;EditText xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/workout_name_input\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:hint=\"name..\"&gt;\n&lt;/EditText&gt;    \n</code></pre>\n\n<p>When I debug my code, the m_Text variable is always empty if I enter a workout name in the EditText field.  I have been stuck on this for days now and I have combed youtube and SO for an answer and haven't found much relating to my issue.\nAny insight is greatly appreciated. Thank you.</p>\n\n<p>EDIT: Updated code for MainActivity.  I can get control pass to the custom clicker but the input is still not saved. Thanks</p>\n\n<pre><code> public class MainActivity extends AppCompatActivity {\n\nprivate EditText mAddWorkout;\n\npublic class CustomClickListener implements View.OnClickListener {\n\n    private final Dialog dialog;\n\n    CustomClickListener(Dialog dialog) {\n        this.dialog = dialog;\n    }\n\n    @Override\n    public void onClick(View v) {\n        String editTextValue= mAddWorkout.getText().toString();\n    }\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.main_menu,menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\n//Clicking add workout button in the action bar\npublic boolean onOptionsItemSelected(MenuItem item) {\n\n    switch(item.getItemId()){\n        case R.id.action_add_workout:\n            //final EditText mAddWorkout = (EditText)R.layout.userinput;\n\n            //Creating the dialog box for entering the workout name\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setTitle(\"Enter the workout name\");\n\n            //Create the user input xml file into a java object; capturing the user input from the dialog box\n            //inflate means \"fill\"\n            View view = LayoutInflater.from(this).inflate(R.layout.userinput,null);\n            mAddWorkout = (EditText)view.findViewById(R.id.workout_name_input);\n\n            builder.setView(R.layout.userinput);\n            builder.setPositiveButton(\"OK\",null);\n            builder.setNegativeButton(\"Cancel\",null);\n\n            AlertDialog alertDialog = builder.create();\n            alertDialog.show();\n            Button saveWorkout = alertDialog.getButton(DialogInterface.BUTTON_POSITIVE);\n            saveWorkout.setOnClickListener(new CustomClickListener(alertDialog));\n            builder.show();\n\n            return true;\n\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n  }\n}\n</code></pre>\n\n<p>******FINAL EDIT*******\nI've since finished the entire app and thought I would post my alert dialog code in case it helps someone else out.  It turns out that this issue with alert dialogs was the only major issue I had, once I got used to android studio and java things really took off.  Anyways my gymapp is a nice little app that uses SQLlite to track workouts, exercises, and sets.. I've actually used it in the gym :)</p>\n\n<pre><code>@Override\n//Clicking add workout button in the action bar\npublic boolean onOptionsItemSelected(MenuItem item) {\n\n    //Creating the dialog box for entering the workout name\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n    final EditText input = new EditText(this);\n\n    builder.setTitle(\"Enter the workout name\").setView(input).setView(input);\n\n    builder.setPositiveButton(\"OK\",new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            Workout workout = new Workout(input.getText().toString());\n            long workout_key = myDb.createWorkout(workout);\n            populateWorkouts();\n        }\n    });\n    builder.setNegativeButton(\"Cancel\",new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            dialog.cancel();\n        }\n    });\n\n    builder.show();\n\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n\n<p>In my case, I use the input to create a workout object and insert it to my database.  And obviously you would need a switch statement if you had more than one option in your action bar menu.</p>\n\n<p>Thanks again to the 2 guys that tried to help me.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":1,"creation_date":1633811516,"post_id":69505964,"comment_id":122861878,"body_markdown":"Thanks for accepting. Just commenting on a possible improvement: compare(B, inter) can be saved in a variable and doesn&#39;t have to be calculated twice. Although that might be optimized when compiling and then it doesn&#39;t make any difference.","body":"Thanks for accepting. Just commenting on a possible improvement: compare(B, inter) can be saved in a variable and doesn&#39;t have to be calculated twice. Although that might be optimized when compiling and then it doesn&#39;t make any difference."}],"answers":[{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633798779,"creation_date":1633797504,"answer_id":69508711,"question_id":69505964,"body_markdown":"Strings are immutable in Java. You could try to use `LinkedList`:\r\n\r\n    LinkdedList&lt;Character&gt; inter = new LinkedList&lt;&gt;(Arrays.stream(inter)\r\n        .boxed()\r\n        .collect(Collectors.toList()));\r\n\r\nAlternatively:\r\n\r\n    LinkdedList&lt;Character&gt; inter = new LinkedList&lt;&gt;();\r\n    for (char c : input.toCharArray())\r\n        inter.add(c);\r\n\r\nThen the shift becomes:\r\n\r\n    inter.add(inter.removeFirst());\r\n\r\nAnd the comparison can be done as follows:\r\n\r\n    private int compare(List&lt;Character&gt; a, List&lt;Character&gt; b) {\r\n        Iterator&lt;Character&gt; i = a.iterator();\r\n        Iterator&lt;Character&gt; j = b.iterator();\r\n        while (i.hasNext()) { // we know they have same length\r\n            char c = i.next();\r\n            char d = j.next();\r\n            if (c &lt; d)\r\n                return -1;\r\n            else if (c &gt; d)\r\n                return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n\r\n","title":"How do i optimize this Java code for CyclicShift (Hackerearth question)?","body":"<p>Strings are immutable in Java. You could try to use <code>LinkedList</code>:</p>\n<pre><code>LinkdedList&lt;Character&gt; inter = new LinkedList&lt;&gt;(Arrays.stream(inter)\n    .boxed()\n    .collect(Collectors.toList()));\n</code></pre>\n<p>Alternatively:</p>\n<pre><code>LinkdedList&lt;Character&gt; inter = new LinkedList&lt;&gt;();\nfor (char c : input.toCharArray())\n    inter.add(c);\n</code></pre>\n<p>Then the shift becomes:</p>\n<pre><code>inter.add(inter.removeFirst());\n</code></pre>\n<p>And the comparison can be done as follows:</p>\n<pre><code>private int compare(List&lt;Character&gt; a, List&lt;Character&gt; b) {\n    Iterator&lt;Character&gt; i = a.iterator();\n    Iterator&lt;Character&gt; j = b.iterator();\n    while (i.hasNext()) { // we know they have same length\n        char c = i.next();\n        char d = j.next();\n        if (c &lt; d)\n            return -1;\n        else if (c &gt; d)\n            return 1;\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22992975,"reputation":1,"user_id":17118177,"display_name":"RupamKarmakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654153177,"creation_date":1654153003,"answer_id":72471913,"question_id":69505964,"body_markdown":"my  solution \r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    class TestClass\r\n    {\r\n    \r\n        static int compare(LinkedList&lt;Character&gt; A, LinkedList&lt;Character&gt; B){\r\n            Iterator&lt;Character&gt; i = A.iterator();\r\n            Iterator&lt;Character&gt; j = B.iterator();\r\n            if(A.size() == 0){ return -1;}\r\n            while (i.hasNext()) { // we know they have same length\r\n                char c = i.next();\r\n                char d = j.next();\r\n                if (c &lt; d)\r\n                    return -1;\r\n                else if (c &gt; d)\r\n                    return 1;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            Scanner sc = new Scanner(System.in);\r\n            int T = sc.nextInt();\r\n            while(T-- &gt; 0){\r\n                int N; int K;\r\n                N = sc.nextInt();\r\n                K = sc.nextInt();\r\n                String input = sc.next();\r\n                LinkedList&lt;Character&gt; B = new LinkedList&lt;&gt;();\r\n                \r\n                int d = 0;\r\n                int period = -1;\r\n                LinkedList&lt;Character&gt; inter = new LinkedList&lt;&gt;();\r\n                for(char c: input.toCharArray()){inter.add(c);}\r\n    \r\n                for(int i = 0; i &lt; N;i++){\r\n                    if (compare(B, inter) &lt; 0){\r\n                        B = new LinkedList&lt;&gt;(inter);\r\n                        d = i;\r\n                        \r\n                    }else if (compare(B, inter) == 0){\r\n                        period = i - d;\r\n                        break;\r\n                    }\r\n                    inter.add(inter.removeFirst());\r\n                }\r\n                if(period == -1){\r\n                    System.out.println(d + (K - 1L ) * N);\r\n                }else{\r\n                    System.out.println(d + ((K - 1L) * period));\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n    }","title":"How do i optimize this Java code for CyclicShift (Hackerearth question)?","body":"<p>my  solution</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nclass TestClass\n{\n\n    static int compare(LinkedList&lt;Character&gt; A, LinkedList&lt;Character&gt; B){\n        Iterator&lt;Character&gt; i = A.iterator();\n        Iterator&lt;Character&gt; j = B.iterator();\n        if(A.size() == 0){ return -1;}\n        while (i.hasNext()) { // we know they have same length\n            char c = i.next();\n            char d = j.next();\n            if (c &lt; d)\n                return -1;\n            else if (c &gt; d)\n                return 1;\n        }\n        return 0;\n    }\n\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        int T = sc.nextInt();\n        while(T-- &gt; 0){\n            int N; int K;\n            N = sc.nextInt();\n            K = sc.nextInt();\n            String input = sc.next();\n            LinkedList&lt;Character&gt; B = new LinkedList&lt;&gt;();\n            \n            int d = 0;\n            int period = -1;\n            LinkedList&lt;Character&gt; inter = new LinkedList&lt;&gt;();\n            for(char c: input.toCharArray()){inter.add(c);}\n\n            for(int i = 0; i &lt; N;i++){\n                if (compare(B, inter) &lt; 0){\n                    B = new LinkedList&lt;&gt;(inter);\n                    d = i;\n                    \n                }else if (compare(B, inter) == 0){\n                    period = i - d;\n                    break;\n                }\n                inter.add(inter.removeFirst());\n            }\n            if(period == -1){\n                System.out.println(d + (K - 1L ) * N);\n            }else{\n                System.out.println(d + ((K - 1L) * period));\n            }\n        }\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15302432,"reputation":595,"user_id":11677095,"display_name":"Abhinav Keshri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69508711,"answer_count":2,"score":2,"last_activity_date":1654153177,"creation_date":1633776008,"question_id":69505964,"body_markdown":"I have written a solution for **Cyclic shift** question on Hackerearth. \r\n\r\nYou can find this question on Hackerearth -&gt; Codemonk -&gt; Arrays &amp; String -&gt; Cyclic shift.\r\n\r\nThis solution gives TLE for large testcases. How do i optimize this code. \r\n\r\nIt seems like Java does not handle strings efficiently. Same code in Python gets accepted.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nclass TestClass\r\n{\r\n\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        int T = sc.nextInt();\r\n        while(T-- &gt; 0){\r\n            int N; int K;\r\n            N = sc.nextInt();\r\n            K = sc.nextInt();\r\n            String input = sc.next();\r\n            String B = &quot;&quot;;\r\n            String inter = input;\r\n            int d = 0;\r\n            int period = -1;\r\n            for(int i = 0; i &lt; N;i++){\r\n                \r\n\r\n                if (B.compareTo(inter) &lt; 0){\r\n                    B = inter;\r\n                    d = i;\r\n                    \r\n                }else if (B.compareTo(inter) == 0){\r\n                    period = i - d;\r\n                    break;\r\n                }\r\n                inter = inter.substring(1, inter.length()) + inter.substring(0, 1);\r\n            }\r\n            if(period == -1){\r\n                System.out.println(d + (K - 1L ) * N);\r\n            }else{\r\n                System.out.println(d + ((K - 1L) * period));\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n``` \r\n\r\nI tried fast IO, it did not help.\r\n\r\nPlease give me the Optimized Solution.\r\n\r\n\r\nAs suggested by **maraca**. Following solution does gets accepted. \r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nclass TestClass\r\n{\r\n\r\n    static int compare(LinkedList&lt;Character&gt; A, LinkedList&lt;Character&gt; B){\r\n        Iterator&lt;Character&gt; i = A.iterator();\r\n        Iterator&lt;Character&gt; j = B.iterator();\r\n        if(A.size() == 0){ return -1;}\r\n        while (i.hasNext()) { // we know they have same length\r\n            char c = i.next();\r\n            char d = j.next();\r\n            if (c &lt; d)\r\n                return -1;\r\n            else if (c &gt; d)\r\n                return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        int T = sc.nextInt();\r\n        while(T-- &gt; 0){\r\n            int N; int K;\r\n            N = sc.nextInt();\r\n            K = sc.nextInt();\r\n            String input = sc.next();\r\n            LinkedList&lt;Character&gt; B = new LinkedList&lt;&gt;();\r\n            \r\n            int d = 0;\r\n            int period = -1;\r\n            LinkedList&lt;Character&gt; inter = new LinkedList&lt;&gt;();\r\n            for(char c: input.toCharArray()){inter.add(c);}\r\n\r\n            for(int i = 0; i &lt; N;i++){\r\n                if (compare(B, inter) &lt; 0){\r\n                    B = new LinkedList&lt;&gt;(inter);\r\n                    d = i;\r\n                    \r\n                }else if (compare(B, inter) == 0){\r\n                    period = i - d;\r\n                    break;\r\n                }\r\n                inter.add(inter.removeFirst());\r\n            }\r\n            if(period == -1){\r\n                System.out.println(d + (K - 1L ) * N);\r\n            }else{\r\n                System.out.println(d + ((K - 1L) * period));\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n```","title":"How do i optimize this Java code for CyclicShift (Hackerearth question)?","body":"<p>I have written a solution for <strong>Cyclic shift</strong> question on Hackerearth.</p>\n<p>You can find this question on Hackerearth -&gt; Codemonk -&gt; Arrays &amp; String -&gt; Cyclic shift.</p>\n<p>This solution gives TLE for large testcases. How do i optimize this code.</p>\n<p>It seems like Java does not handle strings efficiently. Same code in Python gets accepted.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nclass TestClass\n{\n\n\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        int T = sc.nextInt();\n        while(T-- &gt; 0){\n            int N; int K;\n            N = sc.nextInt();\n            K = sc.nextInt();\n            String input = sc.next();\n            String B = &quot;&quot;;\n            String inter = input;\n            int d = 0;\n            int period = -1;\n            for(int i = 0; i &lt; N;i++){\n                \n\n                if (B.compareTo(inter) &lt; 0){\n                    B = inter;\n                    d = i;\n                    \n                }else if (B.compareTo(inter) == 0){\n                    period = i - d;\n                    break;\n                }\n                inter = inter.substring(1, inter.length()) + inter.substring(0, 1);\n            }\n            if(period == -1){\n                System.out.println(d + (K - 1L ) * N);\n            }else{\n                System.out.println(d + ((K - 1L) * period));\n            }\n        }\n\n\n    }\n}\n\n</code></pre>\n<p>I tried fast IO, it did not help.</p>\n<p>Please give me the Optimized Solution.</p>\n<p>As suggested by <strong>maraca</strong>. Following solution does gets accepted.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nclass TestClass\n{\n\n    static int compare(LinkedList&lt;Character&gt; A, LinkedList&lt;Character&gt; B){\n        Iterator&lt;Character&gt; i = A.iterator();\n        Iterator&lt;Character&gt; j = B.iterator();\n        if(A.size() == 0){ return -1;}\n        while (i.hasNext()) { // we know they have same length\n            char c = i.next();\n            char d = j.next();\n            if (c &lt; d)\n                return -1;\n            else if (c &gt; d)\n                return 1;\n        }\n        return 0;\n    }\n\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        int T = sc.nextInt();\n        while(T-- &gt; 0){\n            int N; int K;\n            N = sc.nextInt();\n            K = sc.nextInt();\n            String input = sc.next();\n            LinkedList&lt;Character&gt; B = new LinkedList&lt;&gt;();\n            \n            int d = 0;\n            int period = -1;\n            LinkedList&lt;Character&gt; inter = new LinkedList&lt;&gt;();\n            for(char c: input.toCharArray()){inter.add(c);}\n\n            for(int i = 0; i &lt; N;i++){\n                if (compare(B, inter) &lt; 0){\n                    B = new LinkedList&lt;&gt;(inter);\n                    d = i;\n                    \n                }else if (compare(B, inter) == 0){\n                    period = i - d;\n                    break;\n                }\n                inter.add(inter.removeFirst());\n            }\n            if(period == -1){\n                System.out.println(d + (K - 1L ) * N);\n            }else{\n                System.out.println(d + ((K - 1L) * period));\n            }\n        }\n\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","model","components","wicket","lifecycle"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654153169,"creation_date":1654153169,"answer_id":72471937,"question_id":72471721,"body_markdown":"&quot; it is normal than instead of detaching child model, it detachs the parent page model ?&quot;\r\n\r\nIt detaches the model of the previous/old component with id = &quot;test&quot; that you add with:\r\n\r\n    //first time no problem\r\n    panel.addOrReplace(  new Label( &quot;test&quot;, model ) );\r\n\r\nAnd that model happens to be the shared model instance.\r\n\r\n\r\nTo work it around you could set a new model to the old component before removing it:\r\n\r\n\r\n    panel.get(&quot;test&quot;).setModel(null);\r\n    **//here will detach the model. Update: no more!**\r\n    panel.addOrReplace(  new Label( &quot;test&quot;, model ) );","title":"Panel replace component method cause detach model page in Wicket 9.10.0","body":"<p>&quot; it is normal than instead of detaching child model, it detachs the parent page model ?&quot;</p>\n<p>It detaches the model of the previous/old component with id = &quot;test&quot; that you add with:</p>\n<pre><code>//first time no problem\npanel.addOrReplace(  new Label( &quot;test&quot;, model ) );\n</code></pre>\n<p>And that model happens to be the shared model instance.</p>\n<p>To work it around you could set a new model to the old component before removing it:</p>\n<pre><code>panel.get(&quot;test&quot;).setModel(null);\n**//here will detach the model. Update: no more!**\npanel.addOrReplace(  new Label( &quot;test&quot;, model ) );\n</code></pre>\n"}],"owner":{"account_id":3019348,"reputation":910,"user_id":2560750,"accept_rate":0,"display_name":"cyril"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654153169,"creation_date":1654151798,"question_id":72471721,"body_markdown":"I used the wicket hello page to reproduce an error i think and i am trying to find a solution.\r\n\r\nI have a detachable model in a page used in panels and components. This model will make several queries in database, so i can&#39;t afford to be loaded several times when it is useless)\r\n\r\nIn this page i have 20 panels using same model, on first call panels are created and using same attached datas (so only one load called),and a the request end model is detached, then i modify something and try to replace components in all panels and here there is the problem, all remove component call will detach and reload the model.\r\n\r\na simple exemple to reproduce it (PS getModel calls are just here to check when it loads new model or model loaded)\r\n\r\n````public class HomePage extends WebPage {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\r\n\tPanel panel ;\r\n\r\n\tIModel&lt;String&gt; model = new LoadableDetachableModel&lt;String&gt;() {\r\n\t\t@Override\r\n\t\tprotected String load() {\r\n\t\t\treturn &quot;test&quot;;\r\n\t\t}\r\n\t\t@Override\r\n\t\tprotected void onDetach() {\r\n\t\t\tsuper.onDetach();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tpublic HomePage(final PageParameters parameters) {\r\n\t\tsuper(parameters);\r\n\t\tmodel.getObject();\r\n\t\tadd(new Label(&quot;version&quot;, getApplication().getFrameworkSettings().getVersion()));\r\n\t\tpanel = new HomePanel( &quot;homePanel&quot;);\r\n\t\t//first time no problem\r\n\t\tpanel.addOrReplace(  new Label( &quot;test&quot;, model ) );\r\n\t\tadd(panel);\r\n\t\t//use ame model loaded\r\n\t\tmodel.getObject();\r\n\t\t**//here will detach the model**\r\n\t\tpanel.addOrReplace(  new Label( &quot;test&quot;, model ) );\r\n\t\t**// Error here because load a new model**\r\n\t\tmodel.getObject();\r\n\r\n\t}\r\n\r\n}\r\n````\r\n\r\n\r\nthen panel class\r\n\r\n````import org.apache.wicket.markup.html.basic.Label;\r\nimport org.apache.wicket.markup.html.panel.Panel;\r\nimport org.apache.wicket.model.IModel;\r\n\r\npublic class HomePanel extends Panel {\r\n\r\n\tLabel label;\r\n\r\n\tpublic HomePanel(String id) {\r\n\t\tsuper( id );\r\n\t}\r\n\tpublic HomePanel(String id, IModel&lt;String&gt; model) {\r\n\t\tsuper( id, model );\r\n\r\n\t}\r\n}\r\n````\r\nthen simply add panel in home page\r\n\t\t\t&lt;span wicket:id=&quot;homePanel&quot;&gt; &lt;/span&gt;\r\n\r\nany idea ? it is normal than instead of detaching child model, it detachs the parent page model ?","title":"Panel replace component method cause detach model page in Wicket 9.10.0","body":"<p>I used the wicket hello page to reproduce an error i think and i am trying to find a solution.</p>\n<p>I have a detachable model in a page used in panels and components. This model will make several queries in database, so i can't afford to be loaded several times when it is useless)</p>\n<p>In this page i have 20 panels using same model, on first call panels are created and using same attached datas (so only one load called),and a the request end model is detached, then i modify something and try to replace components in all panels and here there is the problem, all remove component call will detach and reload the model.</p>\n<p>a simple exemple to reproduce it (PS getModel calls are just here to check when it loads new model or model loaded)</p>\n<pre><code>    private static final long serialVersionUID = 1L;\n\n\n    Panel panel ;\n\n    IModel&lt;String&gt; model = new LoadableDetachableModel&lt;String&gt;() {\n        @Override\n        protected String load() {\n            return &quot;test&quot;;\n        }\n        @Override\n        protected void onDetach() {\n            super.onDetach();\n        }\n    };\n\n\n    public HomePage(final PageParameters parameters) {\n        super(parameters);\n        model.getObject();\n        add(new Label(&quot;version&quot;, getApplication().getFrameworkSettings().getVersion()));\n        panel = new HomePanel( &quot;homePanel&quot;);\n        //first time no problem\n        panel.addOrReplace(  new Label( &quot;test&quot;, model ) );\n        add(panel);\n        //use ame model loaded\n        model.getObject();\n        **//here will detach the model**\n        panel.addOrReplace(  new Label( &quot;test&quot;, model ) );\n        **// Error here because load a new model**\n        model.getObject();\n\n    }\n\n}\n</code></pre>\n<p>then panel class</p>\n<pre><code>import org.apache.wicket.markup.html.panel.Panel;\nimport org.apache.wicket.model.IModel;\n\npublic class HomePanel extends Panel {\n\n    Label label;\n\n    public HomePanel(String id) {\n        super( id );\n    }\n    public HomePanel(String id, IModel&lt;String&gt; model) {\n        super( id, model );\n\n    }\n}\n</code></pre>\n<p>then simply add panel in home page\n </p>\n<p>any idea ? it is normal than instead of detaching child model, it detachs the parent page model ?</p>\n"},{"tags":["java","curl","https"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654153100,"post_id":72471617,"comment_id":128024497,"body_markdown":"_&quot;almost everyone is using shell script for this&quot;_ citation needed. I would guess that the majority of Java developers use something like Apache HttpClient, Spring RestTemplate, java.net.http.HttpClient, OkHttp or one of the other HTTP implementations in the Java ecosystem for this. However, as it stands, your question shows no effort, nor is it clear what part you&#39;re having problems with.","body":"<i>&quot;almost everyone is using shell script for this&quot;</i> citation needed. I would guess that the majority of Java developers use something like Apache HttpClient, Spring RestTemplate, java.net.http.HttpClient, OkHttp or one of the other HTTP implementations in the Java ecosystem for this. However, as it stands, your question shows no effort, nor is it clear what part you&#39;re having problems with."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1654153188,"post_id":72471617,"comment_id":128024531,"body_markdown":"Your `&#39;x-content-sha256: xgxgfdgdfgJ/fgdfg+cvbcvbcvbvcbcv=` is just a header.   That is what -H stands for.\n\nPlease look into https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html and how to pass headers.","body":"Your <code>&#39;x-content-sha256: xgxgfdgdfgJ&#47;fgdfg+cvbcvbcvbvcbcv=</code> is just a header.   That is what -H stands for.  Please look into <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/12/docs/api/java.net.http/jav&zwnj;&#8203;a/&hellip;</a> and how to pass headers."}],"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654152911,"creation_date":1654151278,"question_id":72471617,"body_markdown":"I want to use Java only to execute this curl command. Currently, I am using shell script. I tried to search Java code but almost everyone is using shell script for this. Can someone please help me on this.\r\n\r\n```bash\r\ncurl -k -v --data-binary @/tmp/payload.json -X POST -sS https://example.com/v2/search -H &#39;date: Thu, 02 Jun 2022 04:44:19 GMT&#39; -H &#39;x-content-sha256: xgxgfdgdfgJ/fgdfg+cvbcvbcvbvcbcv=&#39; -H &#39;content-type: application/json&#39; -H &#39;content-length: 207&#39; -H &#39;Authorization: Signature version=&quot;1&quot;,keyId=&quot;ocidx.tenancy.oc1..123455/ocidx.user.oc1..wergjkwerjkeg/12:df:fg:3b:0f:34:d1&quot;,algorithm=&quot;rsa-sha256&quot;,headers=&quot;(request-target) date host x-content-sha256 content-type content-length&quot;,signature=&quot;sadfkjagsdkfjgkjsdgfkjgsdakjfgkjsadgfjkdgsjkgsdjkgfkjsdfkhkj/sdkfjgsdkjgfjksdfkjggkjgsdf+sdfhjvsjhdh+t2n3EdHZO5Qg5fxTm8F/ZhZJmWdeB+S+6H9T84r0tZNB5s0+sdkfjhsdkjfhjkdsgfjkdsjkfdjkgkjsdgjkgdk/hV5t4wTK/alsdkhsalkhd+wrq3Uw==&quot;&#39;\r\n```","title":"How to write Java code for below curl command with content-type, Authorization, x-content-sha256 options","body":"<p>I want to use Java only to execute this curl command. Currently, I am using shell script. I tried to search Java code but almost everyone is using shell script for this. Can someone please help me on this.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -k -v --data-binary @/tmp/payload.json -X POST -sS https://example.com/v2/search -H 'date: Thu, 02 Jun 2022 04:44:19 GMT' -H 'x-content-sha256: xgxgfdgdfgJ/fgdfg+cvbcvbcvbvcbcv=' -H 'content-type: application/json' -H 'content-length: 207' -H 'Authorization: Signature version=&quot;1&quot;,keyId=&quot;ocidx.tenancy.oc1..123455/ocidx.user.oc1..wergjkwerjkeg/12:df:fg:3b:0f:34:d1&quot;,algorithm=&quot;rsa-sha256&quot;,headers=&quot;(request-target) date host x-content-sha256 content-type content-length&quot;,signature=&quot;sadfkjagsdkfjgkjsdgfkjgsdakjfgkjsadgfjkdgsjkgsdjkgfkjsdfkhkj/sdkfjgsdkjgfjksdfkjggkjgsdf+sdfhjvsjhdh+t2n3EdHZO5Qg5fxTm8F/ZhZJmWdeB+S+6H9T84r0tZNB5s0+sdkfjhsdkjfhjkdsgfjkdsjkfdjkgkjsdgjkgdk/hV5t4wTK/alsdkhsalkhd+wrq3Uw==&quot;'\n</code></pre>\n"},{"tags":["java","intellij-idea","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":19785234,"reputation":81,"user_id":14489344,"display_name":"Cory Dorfner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620183596,"creation_date":1620183596,"answer_id":67394620,"question_id":67394541,"body_markdown":"First, I would check that the IntelliJ is set up to be using at least Java 11, as that is when `isBlank()` was introduced. You could also try `isEmpty()` as well but the JDK version is my guess as to what&#39;s causing the issue. ","title":"IntelliJ IDEA - Get Cannot resolve method &#39;isBlank&#39; in &#39;String&#39; but works fine in STS","body":"<p>First, I would check that the IntelliJ is set up to be using at least Java 11, as that is when <code>isBlank()</code> was introduced. You could also try <code>isEmpty()</code> as well but the JDK version is my guess as to what's causing the issue.</p>\n"},{"tags":[],"owner":{"account_id":1891014,"reputation":3150,"user_id":1709089,"display_name":"dajavax"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1643044843,"creation_date":1620183641,"answer_id":67394632,"question_id":67394541,"body_markdown":"[String::isBlank][1] was introduced in Java 11. You probably have IntelliJ configured to use some older Java version (most likely Java 8). I recommend using some other code alternative as Java 11 is not yet widely supported.\r\n\r\nFor example:\r\n```java\r\nif (uploadedPDFName == null || uploadedPDFName.trim().length() == 0)\r\n```\r\nor\r\n```java\r\nif (uploadedPDFName == null || uploadedPDFName.chars().allMatch(Character::isWhitespace))\r\n```\r\n\r\nIn case you are only concerned of checking if it is empty use [String::isEmpty][2]. However, isBlank returns true if the String has whitespaces, isEmpty does not.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#isEmpty--","title":"IntelliJ IDEA - Get Cannot resolve method &#39;isBlank&#39; in &#39;String&#39; but works fine in STS","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">String::isBlank</a> was introduced in Java 11. You probably have IntelliJ configured to use some older Java version (most likely Java 8). I recommend using some other code alternative as Java 11 is not yet widely supported.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (uploadedPDFName == null || uploadedPDFName.trim().length() == 0)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (uploadedPDFName == null || uploadedPDFName.chars().allMatch(Character::isWhitespace))\n</code></pre>\n<p>In case you are only concerned of checking if it is empty use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#isEmpty--\" rel=\"nofollow noreferrer\">String::isEmpty</a>. However, isBlank returns true if the String has whitespaces, isEmpty does not.</p>\n"},{"tags":[],"owner":{"account_id":20512995,"reputation":116,"user_id":15054327,"display_name":"bassouat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1620186169,"creation_date":1620186169,"answer_id":67394916,"question_id":67394541,"body_markdown":"I think the problem is about your JDK version,if you have an old version like JDK 8 or JDK 7 ...you will have an error when using isBlank() because String::isBlank() was introduced in java 11.\r\nYou Can check by typing :java --version in a terminal if you have an old version,you Can just use isEmpty().  ","title":"IntelliJ IDEA - Get Cannot resolve method &#39;isBlank&#39; in &#39;String&#39; but works fine in STS","body":"<p>I think the problem is about your JDK version,if you have an old version like JDK 8 or JDK 7 ...you will have an error when using isBlank() because String::isBlank() was introduced in java 11.\nYou Can check by typing :java --version in a terminal if you have an old version,you Can just use isEmpty().</p>\n"},{"tags":[],"owner":{"account_id":6806862,"reputation":21,"user_id":5238328,"display_name":"Mehdi Mohamadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654152496,"creation_date":1653809492,"answer_id":72421743,"question_id":67394541,"body_markdown":"Go to `pom.xml` Then change Java version to above or equal to 16 and then `Maven -&gt; Update`","title":"IntelliJ IDEA - Get Cannot resolve method &#39;isBlank&#39; in &#39;String&#39; but works fine in STS","body":"<p>Go to <code>pom.xml</code> Then change Java version to above or equal to 16 and then <code>Maven -&gt; Update</code></p>\n"}],"owner":{"account_id":21053901,"reputation":15,"user_id":15473649,"display_name":"Jillbarvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67394916,"answer_count":4,"score":1,"last_activity_date":1654152496,"creation_date":1620182813,"question_id":67394541,"body_markdown":"I recently moved my Java project from Spring Tools IDE to IntelliJ, but I&#39;m getting an error that I&#39;m not having in STS : &quot;Cannot resolve method &#39;isBlank&#39; in &#39;String&#39; &quot; Which is more, in Spring Tools the test is running successfully.  I tried rebuild the pom file but still having the error.\r\n\r\nThe portion of code I&#39;m using is this: \r\n\r\n    if (uploadedPDFName == null || uploadedPDFName.isBlank()) {\r\n        //do something\r\n    }\r\n\r\nI&#39;m capturing file name in a string variable. \r\n\r\n","title":"IntelliJ IDEA - Get Cannot resolve method &#39;isBlank&#39; in &#39;String&#39; but works fine in STS","body":"<p>I recently moved my Java project from Spring Tools IDE to IntelliJ, but I'm getting an error that I'm not having in STS : &quot;Cannot resolve method 'isBlank' in 'String' &quot; Which is more, in Spring Tools the test is running successfully.  I tried rebuild the pom file but still having the error.</p>\n<p>The portion of code I'm using is this:</p>\n<pre><code>if (uploadedPDFName == null || uploadedPDFName.isBlank()) {\n    //do something\n}\n</code></pre>\n<p>I'm capturing file name in a string variable.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654151880,"creation_date":1654151880,"answer_id":72471736,"question_id":72471647,"body_markdown":"Class users will also be an entity but it was not annotated with the same &quot;@Entity&quot;. Also you might have to provide the @Inheritance annotation for the parent class.\r\n\r\nReference - https://blog.netgloo.com/2014/12/18/handling-entities-inheritance-with-spring-data-jpa/","title":"Error While Creating Entities in Spring boot application","body":"<p>Class users will also be an entity but it was not annotated with the same &quot;@Entity&quot;. Also you might have to provide the @Inheritance annotation for the parent class.</p>\n<p>Reference - <a href=\"https://blog.netgloo.com/2014/12/18/handling-entities-inheritance-with-spring-data-jpa/\" rel=\"nofollow noreferrer\">https://blog.netgloo.com/2014/12/18/handling-entities-inheritance-with-spring-data-jpa/</a></p>\n"}],"owner":{"account_id":24924586,"reputation":35,"user_id":18792518,"display_name":"Mussawir Ahmad Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72471736,"answer_count":1,"score":1,"last_activity_date":1654151880,"creation_date":1654151445,"question_id":72471647,"body_markdown":"I have been trying to create an entity in my spring application that inherits the contents of other class. I wanted the fields of the inherited class to persist in the database but all in vain. I am using Lombok as well. Am I doing something wrong here?\r\n\r\nChild class:\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    \r\n    public class UserDetails extends Users{\r\n    \r\n    @Id\r\n    Long uId;\r\n    \r\n    String description;\r\n\r\n    String postalAddress;\r\n\r\n    Long postalCode;\r\n\r\n    }\r\n\r\n\r\n\r\nParent class:\r\n\r\n    public class Users {\r\n\r\n    Long userId;\r\n\r\n    String username;\r\n\r\n    String email;\r\n\r\n    String password;\r\n\r\n\r\n     }\r\n","title":"Error While Creating Entities in Spring boot application","body":"<p>I have been trying to create an entity in my spring application that inherits the contents of other class. I wanted the fields of the inherited class to persist in the database but all in vain. I am using Lombok as well. Am I doing something wrong here?</p>\n<p>Child class:</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class UserDetails extends Users{\n\n@Id\nLong uId;\n\nString description;\n\nString postalAddress;\n\nLong postalCode;\n\n}\n</code></pre>\n<p>Parent class:</p>\n<pre><code>public class Users {\n\nLong userId;\n\nString username;\n\nString email;\n\nString password;\n\n\n }\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-layout","optimization"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1654150203,"post_id":72471286,"comment_id":128023601,"body_markdown":"Which layout are you using?","body":"Which layout are you using?"},{"owner":{"account_id":25390453,"reputation":1,"user_id":19201538,"display_name":"Chunchunmaru"},"score":0,"creation_date":1654150695,"post_id":72471286,"comment_id":128023731,"body_markdown":"I&#39;m using RelativeLayout","body":"I&#39;m using RelativeLayout"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1654150924,"post_id":72471286,"comment_id":128023790,"body_markdown":"Can you share how your view looks in XML and also share the XML code?","body":"Can you share how your view looks in XML and also share the XML code?"},{"owner":{"account_id":15290196,"reputation":213,"user_id":11031940,"display_name":"Clifford Cheefoon"},"score":0,"creation_date":1654151893,"post_id":72471286,"comment_id":128024112,"body_markdown":"This is a highly complex topic. The answer to this question is specific to your intended behavior. Here are just some of the things you need to consider: Dpes this element have a parent? Will this element be a parent to other objects? Does this element share screen space with any neighbouring element? How does the app handle landscape vs. portrait mode? Do you support foldable devices?","body":"This is a highly complex topic. The answer to this question is specific to your intended behavior. Here are just some of the things you need to consider: Dpes this element have a parent? Will this element be a parent to other objects? Does this element share screen space with any neighbouring element? How does the app handle landscape vs. portrait mode? Do you support foldable devices?"}],"answers":[{"tags":[],"owner":{"account_id":19040401,"reputation":98,"user_id":13900631,"display_name":"Nandala Abhinav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654151816,"creation_date":1654149595,"answer_id":72471331,"question_id":72471286,"body_markdown":"One way is that you do not use hard coded height and width dimensions and instead use percentage components so it scales as per dimensions Like:\r\n`android:layout_width=&quot;0dp&quot;` `app:layout_constraintWidth_default=&quot;percent&quot;` `app:layout_constraintWidth_percent=&quot;.4&quot;` this occupies percent.\r\nGenerally, if you are using relative layout you don&#39;t have to do anything to a relative layout as it scales as per the device what you need to take care of is to provide all the constraints to a given element above, below, toRightOf, toLeftOf. ","title":"How can I optimize my app on different screen resolution?","body":"<p>One way is that you do not use hard coded height and width dimensions and instead use percentage components so it scales as per dimensions Like:\n<code>android:layout_width=&quot;0dp&quot;</code> <code>app:layout_constraintWidth_default=&quot;percent&quot;</code> <code>app:layout_constraintWidth_percent=&quot;.4&quot;</code> this occupies percent.\nGenerally, if you are using relative layout you don't have to do anything to a relative layout as it scales as per the device what you need to take care of is to provide all the constraints to a given element above, below, toRightOf, toLeftOf.</p>\n"}],"owner":{"account_id":25390453,"reputation":1,"user_id":19201538,"display_name":"Chunchunmaru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654180044,"answer_count":1,"score":-1,"last_activity_date":1654151816,"creation_date":1654149305,"question_id":72471286,"body_markdown":"So by any chance us there a way I can optimize my app on different screen size? It looks good on the layout preview but when I install it on my phone the elements is messed up, is there a layout that automatically optimize thr elements on different screens??","title":"How can I optimize my app on different screen resolution?","body":"<p>So by any chance us there a way I can optimize my app on different screen size? It looks good on the layout preview but when I install it on my phone the elements is messed up, is there a layout that automatically optimize thr elements on different screens??</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654150440,"creation_date":1654150115,"answer_id":72471407,"question_id":72471362,"body_markdown":"You should use `android:gravity=&quot;&quot;` attribute  in your edittext\r\n\r\nThe `android:gravity` attribute is used to arrange the position of the content inside your edittext\r\n\r\nyou can use below `android:gravity` as per your requirement \r\n\r\n - start\r\n - center\r\n - end\r\n - top \r\n - center_horizontal\r\n - center_vertical\r\n\r\n\r\n\r\nLike this\r\n\r\n \r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/et_message&quot;\r\n        android:layout_width=&quot;350dp&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_marginLeft=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;390dp&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:background=&quot;@color/white&quot;/&gt;","title":"How do I start typing my description box in EditText from the top line in Android Studio?","body":"<p>You should use <code>android:gravity=&quot;&quot;</code> attribute  in your edittext</p>\n<p>The <code>android:gravity</code> attribute is used to arrange the position of the content inside your edittext</p>\n<p>you can use below <code>android:gravity</code> as per your requirement</p>\n<ul>\n<li>start</li>\n<li>center</li>\n<li>end</li>\n<li>top</li>\n<li>center_horizontal</li>\n<li>center_vertical</li>\n</ul>\n<p>Like this</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/et_message&quot;\n    android:layout_width=&quot;350dp&quot;\n    android:layout_height=&quot;150dp&quot;\n    android:layout_marginLeft=&quot;25dp&quot;\n    android:layout_marginTop=&quot;390dp&quot;\n    android:gravity=&quot;start&quot;\n    android:background=&quot;@color/white&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654150723,"creation_date":1654150406,"answer_id":72471460,"question_id":72471362,"body_markdown":"You should use **android:gravity=&quot;start|top&quot;** in your EditText. for more details [read here][1]\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/et_message&quot;\r\n        android:layout_width=&quot;350dp&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_marginLeft=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;390dp&quot;\r\n        android:gravity=&quot;start|top&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/Gravity","title":"How do I start typing my description box in EditText from the top line in Android Studio?","body":"<p>You should use <strong>android:gravity=&quot;start|top&quot;</strong> in your EditText. for more details <a href=\"https://developer.android.com/reference/android/view/Gravity\" rel=\"nofollow noreferrer\">read here</a></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/et_message&quot;\n    android:layout_width=&quot;350dp&quot;\n    android:layout_height=&quot;150dp&quot;\n    android:layout_marginLeft=&quot;25dp&quot;\n    android:layout_marginTop=&quot;390dp&quot;\n    android:gravity=&quot;start|top&quot;\n    android:background=&quot;@color/white&quot;\n    android:text=&quot;@string/app_name&quot;\n    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9195148,"reputation":3060,"user_id":6834114,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654151532,"creation_date":1654151532,"answer_id":72471669,"question_id":72471362,"body_markdown":"below code may fit for your issue\r\n\r\n    &lt;android.support.design.widget.TextInputLayout\r\n          android:id=&quot;@+id/input_layout&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_marginTop=&quot;@dimen/spacing_small&quot;\r\n          app:counterEnabled=&quot;true&quot;\r\n          app:counterMaxLength=&quot;1000&quot;\r\n          app:counterOverflowTextAppearance=&quot;@style/TextLimitError&quot;\r\n          app:hintTextAppearance=&quot;@style/TextAppearance.App.TextInputLayout&quot;\r\n          app:theme=&quot;@style/TextInputLayoutStyle&quot;&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/input&quot;\r\n                            style=&quot;@style/TextInputEditTextStyle&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:gravity=&quot;top|left&quot;\r\n                            android:hint=&quot;hint text&quot;\r\n                            android:inputType=&quot;textMultiLine&quot;\r\n                            android:lines=&quot;3&quot;\r\n                            android:maxLines=&quot;5&quot;\r\n                            android:minLines=&quot;3&quot;\r\n                            android:maxLength=&quot;1000&quot;\r\n                            android:singleLine=&quot;false&quot;\r\n                            android:scrollbars=&quot;vertical&quot;/&gt;\r\n        &lt;/android.support.design.widget.TextInputLayout&gt;\r\n\r\n\r\nfor more [click here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49043293/6834114","title":"How do I start typing my description box in EditText from the top line in Android Studio?","body":"<p>below code may fit for your issue</p>\n<pre><code>&lt;android.support.design.widget.TextInputLayout\n      android:id=&quot;@+id/input_layout&quot;\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:layout_marginTop=&quot;@dimen/spacing_small&quot;\n      app:counterEnabled=&quot;true&quot;\n      app:counterMaxLength=&quot;1000&quot;\n      app:counterOverflowTextAppearance=&quot;@style/TextLimitError&quot;\n      app:hintTextAppearance=&quot;@style/TextAppearance.App.TextInputLayout&quot;\n      app:theme=&quot;@style/TextInputLayoutStyle&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/input&quot;\n                        style=&quot;@style/TextInputEditTextStyle&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:gravity=&quot;top|left&quot;\n                        android:hint=&quot;hint text&quot;\n                        android:inputType=&quot;textMultiLine&quot;\n                        android:lines=&quot;3&quot;\n                        android:maxLines=&quot;5&quot;\n                        android:minLines=&quot;3&quot;\n                        android:maxLength=&quot;1000&quot;\n                        android:singleLine=&quot;false&quot;\n                        android:scrollbars=&quot;vertical&quot;/&gt;\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n<p>for more <a href=\"https://stackoverflow.com/a/49043293/6834114\">click here</a></p>\n"},{"tags":[],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654151715,"creation_date":1654151715,"answer_id":72471702,"question_id":72471362,"body_markdown":"Use attribute `android:gravity` in your `EditText` and set it to &quot;top&quot;. This will basically set your text to start from top of your `EditText`","title":"How do I start typing my description box in EditText from the top line in Android Studio?","body":"<p>Use attribute <code>android:gravity</code> in your <code>EditText</code> and set it to &quot;top&quot;. This will basically set your text to start from top of your <code>EditText</code></p>\n"}],"owner":{"account_id":25452740,"reputation":1,"user_id":19253850,"display_name":"Lim Wei Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72471460,"answer_count":4,"score":-1,"last_activity_date":1654151715,"creation_date":1654149836,"question_id":72471362,"body_markdown":"I have added the picture to show that my current description box does not start from the first line when I start to type, how do I make it to start from the top left corner? \r\n\r\n\r\n![Description box not starting from top left corner][1]\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/et_message&quot;\r\n        android:layout_width=&quot;350dp&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_marginLeft=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;390dp&quot;\r\n        android:background=&quot;@color/white&quot;/&gt;\r\n\r\nI have added my xml code for the description box above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/67pqi.png","title":"How do I start typing my description box in EditText from the top line in Android Studio?","body":"<p>I have added the picture to show that my current description box does not start from the first line when I start to type, how do I make it to start from the top left corner?</p>\n<p><img src=\"https://i.stack.imgur.com/67pqi.png\" alt=\"Description box not starting from top left corner\" /></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/et_message&quot;\n    android:layout_width=&quot;350dp&quot;\n    android:layout_height=&quot;150dp&quot;\n    android:layout_marginLeft=&quot;25dp&quot;\n    android:layout_marginTop=&quot;390dp&quot;\n    android:background=&quot;@color/white&quot;/&gt;\n</code></pre>\n<p>I have added my xml code for the description box above.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15290196,"reputation":213,"user_id":11031940,"display_name":"Clifford Cheefoon"},"score":0,"creation_date":1654151594,"post_id":72471618,"comment_id":128024005,"body_markdown":"Can you give a bit more clarification on &quot;doesn&#39;t work&quot;? Do you get an error message? Is the output not what you expected?","body":"Can you give a bit more clarification on &quot;doesn&#39;t work&quot;? Do you get an error message? Is the output not what you expected?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1654153789,"post_id":72471618,"comment_id":128024722,"body_markdown":"Just use the [java.nio.file.WatchService Interface](https://docs.oracle.com/javase/7/docs/api/java/nio/file/WatchService.html) to see if the file has been modified (edited or added to etc). [See here for a tutorial](https://dzone.com/articles/listening-to-fileevents-with-java-nio). You can filter to watch a single specific file if you like. Also (if you like), you can run your code through any one of the WatchService events.","body":"Just use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/WatchService.html\" rel=\"nofollow noreferrer\">java.nio.file.WatchService Interface</a> to see if the file has been modified (edited or added to etc). <a href=\"https://dzone.com/articles/listening-to-fileevents-with-java-nio\" rel=\"nofollow noreferrer\">See here for a tutorial</a>. You can filter to watch a single specific file if you like. Also (if you like), you can run your code through any one of the WatchService events."}],"owner":{"account_id":25452772,"reputation":1,"user_id":19253879,"display_name":"Vantage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654151280,"creation_date":1654151280,"question_id":72471618,"body_markdown":"So I&#39;m new to Java and am attempting to make a system that reads a log file every 30 seconds to check for additional lines of code, but the system I&#39;ve made so far just doesn&#39;t work at all... \r\n\r\n(just a couple of other notes: the File &quot;current&quot; was instantiated elsewhere but has the same file path as the other files, the file paths are correct in my actual code, and finally my apologies for the unorthodoxly poor question structure, I&#39;ll add more to this post if need be) (also any suggestions on the structure of my actual code are welcome)\r\n\r\n\tpublic static void main(String args[])throws FileNotFoundException {\r\n\t\tTimerTask task = new TimerTask() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tFile f = new File(&quot;C:\\\\Users\\\\/*...*/latest.log&quot;);\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif(getLineCount(f)&gt;getLineCount(current))\r\n\t\t\t\t\t\tSystem.out.println(&quot;yes&quot;);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tSystem.out.println(&quot;no&quot;);\r\n\t\t\t\t} \r\n\t\t\t\tcatch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.out.println(getLineCount(current)+&quot; &quot;+getLineCount(f));\r\n\t\t\t\t} \r\n\t\t\t\tcatch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tcurrent = new File(&quot;C:\\\\Users\\\\/*...*/latest.log&quot;);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t};\r\n\t\tTimer timer = new Timer();\r\n\t\ttimer.scheduleAtFixedRate(task, 3000, 3000);\r\n\t\tSystem.out.println(&quot;hi!!!!&quot;);\r\n\t}\r\n\tprivate static int getLineCount(File f)throws FileNotFoundException {\r\n\t\tScanner sc = new Scanner(f);\r\n\t\tint count = 0;\r\n\t\twhile(sc.hasNextLine()) {\r\n\t\t\tsc.nextLine();\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n\r\n","title":"How do you actively look at a file in your system to check if additional lines have been added in Java?","body":"<p>So I'm new to Java and am attempting to make a system that reads a log file every 30 seconds to check for additional lines of code, but the system I've made so far just doesn't work at all...</p>\n<p>(just a couple of other notes: the File &quot;current&quot; was instantiated elsewhere but has the same file path as the other files, the file paths are correct in my actual code, and finally my apologies for the unorthodoxly poor question structure, I'll add more to this post if need be) (also any suggestions on the structure of my actual code are welcome)</p>\n<pre><code>public static void main(String args[])throws FileNotFoundException {\n    TimerTask task = new TimerTask() {\n        public void run() {\n            File f = new File(&quot;C:\\\\Users\\\\/*...*/latest.log&quot;);\n            \n            try {\n                if(getLineCount(f)&gt;getLineCount(current))\n                    System.out.println(&quot;yes&quot;);\n                else\n                    System.out.println(&quot;no&quot;);\n            } \n            catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            \n            try {\n                System.out.println(getLineCount(current)+&quot; &quot;+getLineCount(f));\n            } \n            catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            current = new File(&quot;C:\\\\Users\\\\/*...*/latest.log&quot;);\n            System.out.println();\n        }\n    };\n    Timer timer = new Timer();\n    timer.scheduleAtFixedRate(task, 3000, 3000);\n    System.out.println(&quot;hi!!!!&quot;);\n}\nprivate static int getLineCount(File f)throws FileNotFoundException {\n    Scanner sc = new Scanner(f);\n    int count = 0;\n    while(sc.hasNextLine()) {\n        sc.nextLine();\n        count++;\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":["java","android","touch-event"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1654004866,"post_id":72444075,"comment_id":127985359,"body_markdown":"Don&#39;t use `event.getRawX()`. That&#39;s the x-coordinate with respect to the whole screen. You want just `event.getX()`, no `Raw`.","body":"Don&#39;t use <code>event.getRawX()</code>. That&#39;s the x-coordinate with respect to the whole screen. You want just <code>event.getX()</code>, no <code>Raw</code>."},{"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"score":0,"creation_date":1654146465,"post_id":72444075,"comment_id":128022774,"body_markdown":"it doesn&#39;t work alone i just answered it you can refer to my answer and authenticate it if it;s valid","body":"it doesn&#39;t work alone i just answered it you can refer to my answer and authenticate it if it;s valid"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1654146909,"post_id":72444075,"comment_id":128022868,"body_markdown":"Yeah, I guess I didn&#39;t really look at the rest of that. Use `getWidth()` instead of `getRight()`, too.","body":"Yeah, I guess I didn&#39;t really look at the rest of that. Use <code>getWidth()</code> instead of <code>getRight()</code>, too."},{"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"score":0,"creation_date":1654148775,"post_id":72444075,"comment_id":128023232,"body_markdown":"getRight() and getWidth() both works but u have to subtract righpadding too from it that&#39;s mandatory and please remember this is for LANDSCAPE ORIENTATION it works fine on PORTRAIT ORIENTATION no neeed to subtract any padding right()","body":"getRight() and getWidth() both works but u have to subtract righpadding too from it that&#39;s mandatory and please remember this is for LANDSCAPE ORIENTATION it works fine on PORTRAIT ORIENTATION no neeed to subtract any padding right()"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1654149625,"post_id":72444075,"comment_id":128023442,"body_markdown":"Orientation should not affect this calculation at all. You need only determine the minimum of the x-coordinate with respect to the `EditText` itself. To do that for the general case, it would be the width of the `EditText` minus the `Drawable`&#39;s width and the right-hand padding. The `EditText`&#39;s position within its parent is irrelevant, and should not be included anywhere; i.e., using `getRight()` is wrong.","body":"Orientation should not affect this calculation at all. You need only determine the minimum of the x-coordinate with respect to the <code>EditText</code> itself. To do that for the general case, it would be the width of the <code>EditText</code> minus the <code>Drawable</code>&#39;s width and the right-hand padding. The <code>EditText</code>&#39;s position within its parent is irrelevant, and should not be included anywhere; i.e., using <code>getRight()</code> is wrong."},{"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"score":0,"creation_date":1654149771,"post_id":72444075,"comment_id":128023490,"body_markdown":"i have one question here i.e. getwidth() basically gets the width of your view so do we need to use getwidth() because drawable end lies within the view i.e. EditText? and also i have read something in official documentation i.e.  For instance, calling getRight() is similar to the following computation: getLeft() + getWidth()\n\nlink: https://developer.android.com/reference/android/view/View#getWidth()","body":"i have one question here i.e. getwidth() basically gets the width of your view so do we need to use getwidth() because drawable end lies within the view i.e. EditText? and also i have read something in official documentation i.e.  For instance, calling getRight() is similar to the following computation: getLeft() + getWidth()  link: <a href=\"https://developer.android.com/reference/android/view/View#getWidth()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/View#getWidth()</a>"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1654150065,"post_id":72444075,"comment_id":128023566,"body_markdown":"Yeah, basically. You&#39;re setting the `OnTouchListener` on the `EditText` itself, so you&#39;re only concerned with the coordinates with respect to the `EditText`; i.e., its left-hand side is `0`, no matter where the `EditText` is within its parent, so you only ever need to know its width, and the drawable and padding widths. Also, yes, `getLeft() + getWidth()` will equal `getRight()`, but those `getLeft()` and `getRight()` return the position within the parent, which we&#39;re not really concerned with here. Make sense?","body":"Yeah, basically. You&#39;re setting the <code>OnTouchListener</code> on the <code>EditText</code> itself, so you&#39;re only concerned with the coordinates with respect to the <code>EditText</code>; i.e., its left-hand side is <code>0</code>, no matter where the <code>EditText</code> is within its parent, so you only ever need to know its width, and the drawable and padding widths. Also, yes, <code>getLeft() + getWidth()</code> will equal <code>getRight()</code>, but those <code>getLeft()</code> and <code>getRight()</code> return the position within the parent, which we&#39;re not really concerned with here. Make sense?"},{"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"score":1,"creation_date":1654151091,"post_id":72444075,"comment_id":128023830,"body_markdown":"yes i think i got what you meant thank you, i&#39;ll use getwidth()","body":"yes i think i got what you meant thank you, i&#39;ll use getwidth()"}],"answers":[{"tags":[],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654151254,"creation_date":1654146413,"answer_id":72470922,"question_id":72444075,"body_markdown":"Ifound solution to it, the drawable end had some padding that I wasn&#39;t including in the motion action to detect the place for touch so using only event.getX()` is not enough you need to add one more line i.e. yourEditText.getPaddingRight(`) and all you have to do is subtract it with getright and getbound line like this:\r\n\r\n    if (event.getX() &gt;= (yourEditText.getWidth() - yourEditText.getCompoundDrawables()[DRAWABLE_RIGHT].getBounds().width() - yourEditText.getPaddingRight()))","title":"Set on Touch Listener not working on Edit Text","body":"<p>Ifound solution to it, the drawable end had some padding that I wasn't including in the motion action to detect the place for touch so using only event.getX()<code> is not enough you need to add one more line i.e. yourEditText.getPaddingRight(</code>) and all you have to do is subtract it with getright and getbound line like this:</p>\n<pre><code>if (event.getX() &gt;= (yourEditText.getWidth() - yourEditText.getCompoundDrawables()[DRAWABLE_RIGHT].getBounds().width() - yourEditText.getPaddingRight()))\n</code></pre>\n"}],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654151254,"creation_date":1653983755,"question_id":72444075,"body_markdown":"I&#39;m trying to use drawable right on edit text in order to user some information with the help of dialog box. now the that I have been facing is that touch listener works perfect in portrait mode but when I switch to landscape mode and click on edit text the dialog kept on showing no matter if I click on drawable icon or not, I have also made separate layout folder for landscape mode and I have the layout file added in it. The code snippet is attached below that I&#39;m using:\r\n\r\n    et_cnicPassport.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    final int DRAWABLE_LEFT = 0;\r\n                    final int DRAWABLE_TOP = 1;\r\n                    final int DRAWABLE_RIGHT = 2;\r\n                    final int DRAWABLE_BOTTOM = 3;\r\n    \r\n                    if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                        if (event.getRawX() &gt;= (et_cnicPassport.getRight() - et_cnicPassport.getCompoundDrawables()[DRAWABLE_RIGHT].getBounds().width())) {\r\n    \r\n                            DialogHandler.errorDialog(ForgotPasswordActivity.this, &quot;Forgot Password&quot;,\r\n                                    &quot;CNIC (xxxxx-xxxxxxx-x)&quot; + &quot;\\n&quot; + &quot;Passport No.&quot;);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n            });","title":"Set on Touch Listener not working on Edit Text","body":"<p>I'm trying to use drawable right on edit text in order to user some information with the help of dialog box. now the that I have been facing is that touch listener works perfect in portrait mode but when I switch to landscape mode and click on edit text the dialog kept on showing no matter if I click on drawable icon or not, I have also made separate layout folder for landscape mode and I have the layout file added in it. The code snippet is attached below that I'm using:</p>\n<pre><code>et_cnicPassport.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                final int DRAWABLE_LEFT = 0;\n                final int DRAWABLE_TOP = 1;\n                final int DRAWABLE_RIGHT = 2;\n                final int DRAWABLE_BOTTOM = 3;\n\n                if (event.getAction() == MotionEvent.ACTION_UP) {\n                    if (event.getRawX() &gt;= (et_cnicPassport.getRight() - et_cnicPassport.getCompoundDrawables()[DRAWABLE_RIGHT].getBounds().width())) {\n\n                        DialogHandler.errorDialog(ForgotPasswordActivity.this, &quot;Forgot Password&quot;,\n                                &quot;CNIC (xxxxx-xxxxxxx-x)&quot; + &quot;\\n&quot; + &quot;Passport No.&quot;);\n                        return true;\n                    }\n                }\n                return false;\n            }\n        });\n</code></pre>\n"},{"tags":["java","visual-studio-code","intellij-idea","warnings","unbounded-wildcard"],"comments":[{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1652860151,"post_id":72284126,"comment_id":127705780,"body_markdown":"Hello, is &quot;condition&quot; a variable or a parameter? How &quot;rs&quot; is defined? Thanks","body":"Hello, is &quot;condition&quot; a variable or a parameter? How &quot;rs&quot; is defined? Thanks"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1652860360,"post_id":72284126,"comment_id":127705866,"body_markdown":"@OlgaKlisho `Condition` is an object, `rs` is `ResultSet`","body":"@OlgaKlisho <code>Condition</code> is an object, <code>rs</code> is <code>ResultSet</code>"},{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1652887808,"post_id":72284126,"comment_id":127717240,"body_markdown":"Can you please create an issue at the YouTrack: https://youtrack.jetbrains.com/issues/IDEA providing a sample project? Thanks","body":"Can you please create an issue at the YouTrack: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> providing a sample project? Thanks"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1653472459,"post_id":72284126,"comment_id":127858938,"body_markdown":"@OlgaKlisho see my edit","body":"@OlgaKlisho see my edit"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1654107518,"post_id":72284126,"comment_id":128015255,"body_markdown":"regarding the &quot;moved to&quot; - from where? If not from another IDEA version or edition, did you check the Java language level in the &quot;Project structure...&quot; dialog (in the File menu)? Also check it for all modules - could differ from the project default.\nAnd for sake of completeness: you are working with `java.util.PriorityQueue&lt;E&gt;` I suppose?\nA [mre] really would be helpful to reproduce it in our installations.","body":"regarding the &quot;moved to&quot; - from where? If not from another IDEA version or edition, did you check the Java language level in the &quot;Project structure...&quot; dialog (in the File menu)? Also check it for all modules - could differ from the project default. And for sake of completeness: you are working with <code>java.util.PriorityQueue&lt;E&gt;</code> I suppose? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> really would be helpful to reproduce it in our installations."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1654109679,"post_id":72284126,"comment_id":128015974,"body_markdown":"@cyberbrain from vs code,java 8 in all modules,java.util.PriorityQue","body":"@cyberbrain from vs code,java 8 in all modules,java.util.PriorityQue"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1654111995,"post_id":72284126,"comment_id":128016654,"body_markdown":"Could reproduce it, but also didn&#39;t find a solution in the configuration of IDEA - probably a bug? For now also found only the solution of rewriting the code to a lambda instead of a method reference, as @Eskander did in his answer. (A decompile of the compiled class of the method reference also shows a lambda function.)","body":"Could reproduce it, but also didn&#39;t find a solution in the configuration of IDEA - probably a bug? For now also found only the solution of rewriting the code to a lambda instead of a method reference, as @Eskander did in his answer. (A decompile of the compiled class of the method reference also shows a lambda function.)"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654150834,"creation_date":1654111233,"answer_id":72467075,"question_id":72284126,"body_markdown":"Please check this:\r\n\r\n    conditionsSet = conditions.getOrDefault(id, new PriorityQueue&lt;&gt;(Comparator.comparingInt((Condition&lt;?&gt; condition) -&gt; condition.getPriority()).reversed()));\r\n\r\nIf you want use method reference you should use this:\r\n\r\n    conditionsSet = conditions.getOrDefault(id, new PriorityQueue&lt;&gt;(Comparator.comparingInt((ToIntFunction&lt;Condition&lt;?&gt;&gt;) Condition::getPriority).reversed()));\r\n\r\n\r\n","title":"Intellij - Unexpected wildcard mark as problem","body":"<p>Please check this:</p>\n<pre><code>conditionsSet = conditions.getOrDefault(id, new PriorityQueue&lt;&gt;(Comparator.comparingInt((Condition&lt;?&gt; condition) -&gt; condition.getPriority()).reversed()));\n</code></pre>\n<p>If you want use method reference you should use this:</p>\n<pre><code>conditionsSet = conditions.getOrDefault(id, new PriorityQueue&lt;&gt;(Comparator.comparingInt((ToIntFunction&lt;Condition&lt;?&gt;&gt;) Condition::getPriority).reversed()));\n</code></pre>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72467075,"answer_count":1,"score":0,"last_activity_date":1654150834,"creation_date":1652855201,"question_id":72284126,"body_markdown":"We moved from VS Code to use Intellij Ultimate latest version, and we have existing code using Java 8:\r\n\r\n    private Map&lt;Integer, Queue&lt;Condition&lt;?&gt;&gt;&gt; loadConditions(Map&lt;Integer, Condition&lt;?&gt;&gt; conditions) {\r\n\r\n\tMap&lt;Integer, Queue&lt;Condition&lt;?&gt;&gt;&gt; conditions = new HashMap&lt;&gt;();\r\n    ...\r\n    Queue&lt;Condition&lt;?&gt;&gt; conditionsSet;\r\n    ...\r\n\t\t\t\twhile (rs.next()) {\r\n                    int id = rs.getInt(&quot;ID&quot;);\r\n\t\t\t\t\tint conditionId = rs.getInt(&quot;CONDITION_ID&quot;);\r\n\t\t\t\t\tconditionsSet = conditions.getOrDefault(id, new PriorityQueue&lt;Condition&lt;?&gt;&gt;(Comparator.comparingInt(Condition&lt;?&gt;::getPriority).reversed()));\r\n\t\t\t\t\tconditionsSet.add(conditions.get(conditionId));\r\n\t\t\t\t\tconditions.put(id, conditionsSet);\r\n\t\t\t\t}\r\n\r\nIntellij in Problems tab (and underline in code) mark `Condition&lt;?&gt;::getPriority` with red as `Unexpected wildcard`\r\n\r\nThe code compiles (Java 8) and works, How can I reduce its severity to warning? I don&#39;t find `Unexpected wildcard` in Inspections window\r\n\r\n**EDIT**\r\n\r\nIf I copy line (below) to a method it is marked as compilation error also in VS code, but still compiles\r\n\r\n    private void name() {\r\n\t\tnew PriorityQueue&lt;Condition&lt;?&gt;&gt;(Comparator.comparingInt(Condition&lt;?&gt;::getPriority));\r\n\t}\r\n\r\nProblem:\r\n\r\n    The type Condition&lt;capture#14-of ?&gt; does not define getPriority(Condition&lt;capture#1-of ?&gt;) that is applicable hereJava(603979903)\r\n\r\nCondition Class\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Condition&lt;T&gt; {\r\n        // fields\r\n    \tprivate int priority; \r\n    }\r\n\r\n","title":"Intellij - Unexpected wildcard mark as problem","body":"<p>We moved from VS Code to use Intellij Ultimate latest version, and we have existing code using Java 8:</p>\n<pre><code>private Map&lt;Integer, Queue&lt;Condition&lt;?&gt;&gt;&gt; loadConditions(Map&lt;Integer, Condition&lt;?&gt;&gt; conditions) {\n\nMap&lt;Integer, Queue&lt;Condition&lt;?&gt;&gt;&gt; conditions = new HashMap&lt;&gt;();\n...\nQueue&lt;Condition&lt;?&gt;&gt; conditionsSet;\n...\n            while (rs.next()) {\n                int id = rs.getInt(&quot;ID&quot;);\n                int conditionId = rs.getInt(&quot;CONDITION_ID&quot;);\n                conditionsSet = conditions.getOrDefault(id, new PriorityQueue&lt;Condition&lt;?&gt;&gt;(Comparator.comparingInt(Condition&lt;?&gt;::getPriority).reversed()));\n                conditionsSet.add(conditions.get(conditionId));\n                conditions.put(id, conditionsSet);\n            }\n</code></pre>\n<p>Intellij in Problems tab (and underline in code) mark <code>Condition&lt;?&gt;::getPriority</code> with red as <code>Unexpected wildcard</code></p>\n<p>The code compiles (Java 8) and works, How can I reduce its severity to warning? I don't find <code>Unexpected wildcard</code> in Inspections window</p>\n<p><strong>EDIT</strong></p>\n<p>If I copy line (below) to a method it is marked as compilation error also in VS code, but still compiles</p>\n<pre><code>private void name() {\n    new PriorityQueue&lt;Condition&lt;?&gt;&gt;(Comparator.comparingInt(Condition&lt;?&gt;::getPriority));\n}\n</code></pre>\n<p>Problem:</p>\n<pre><code>The type Condition&lt;capture#14-of ?&gt; does not define getPriority(Condition&lt;capture#1-of ?&gt;) that is applicable hereJava(603979903)\n</code></pre>\n<p>Condition Class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Condition&lt;T&gt; {\n    // fields\n    private int priority; \n}\n</code></pre>\n"},{"tags":["java","api","plivo"],"answers":[{"tags":[],"owner":{"account_id":8917081,"reputation":31,"user_id":11600715,"display_name":"Mohammed Huzaif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654150552,"creation_date":1654150552,"answer_id":72471485,"question_id":72247040,"body_markdown":"Plivo&#39;s Developer Evangelist here. It depends upon your use case. Ideally not hardcoding values means storing values at some place like a Google Sheet, or having a front end to accept values from a user or a database. I suggest to the easiest way at this point is to prompt users right after running your js script.\r\n\r\n\r\n    const prompt = require(&#39;prompt-sync&#39;)();\r\n    var plivo = require(&#39;plivo&#39;);\r\n    const from = prompt(&#39;Please enter source number?&#39;);\r\n    const to = prompt(&#39;Please enter destination number?&#39;);\r\n    const text = prompt(&#39;Please enter the text you would like to send?&#39;);\r\n    console.log(`User input details are, From: ${from}, To:${to}, Text: ${text}`);\r\n    var client = new plivo.Client(&quot;auth_id&quot;, &quot;auth_token&quot;);\r\n    client.messages.create({\r\n        src: from,\r\n        dst: to,\r\n        text: text,\r\n    }).then(function(response) {\r\n        console.log(response);\r\n    });\r\n\r\nIf you&#39;d like to use a front end to prompt the user you can try this [project][1].\r\nIf you&#39;d like to store values using a Google Sheet and trigger an SMS whenever a row is updated  you can use an automation tool like [Zapier][2].\r\n\r\n\r\n  [1]: https://github.com/huzaif96/send-sms-dashboard\r\n  [2]: https://zapier.com/apps/plivo/integration","title":"How do I add user input in Plivo&#39;s SMS API?","body":"<p>Plivo's Developer Evangelist here. It depends upon your use case. Ideally not hardcoding values means storing values at some place like a Google Sheet, or having a front end to accept values from a user or a database. I suggest to the easiest way at this point is to prompt users right after running your js script.</p>\n<pre><code>const prompt = require('prompt-sync')();\nvar plivo = require('plivo');\nconst from = prompt('Please enter source number?');\nconst to = prompt('Please enter destination number?');\nconst text = prompt('Please enter the text you would like to send?');\nconsole.log(`User input details are, From: ${from}, To:${to}, Text: ${text}`);\nvar client = new plivo.Client(&quot;auth_id&quot;, &quot;auth_token&quot;);\nclient.messages.create({\n    src: from,\n    dst: to,\n    text: text,\n}).then(function(response) {\n    console.log(response);\n});\n</code></pre>\n<p>If you'd like to use a front end to prompt the user you can try this <a href=\"https://github.com/huzaif96/send-sms-dashboard\" rel=\"nofollow noreferrer\">project</a>.\nIf you'd like to store values using a Google Sheet and trigger an SMS whenever a row is updated  you can use an automation tool like <a href=\"https://zapier.com/apps/plivo/integration\" rel=\"nofollow noreferrer\">Zapier</a>.</p>\n"}],"owner":{"account_id":22153413,"reputation":1,"user_id":16401610,"display_name":"Sufian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654150552,"creation_date":1652606890,"question_id":72247040,"body_markdown":"I am using Plivo&#39;s SMS API to send SMS messages. Is it possible to have an user input prompt for SENDERS NAME, RECEIVER NAME and MESSAGE in Plivos SMS API without having them to be hardcoded before I run the .js file?\r\n\r\n        var plivo = require(&#39;plivo&#39;);\r\n    \r\n    (function main() {\r\n        &#39;use strict&#39;;\r\n        var client = new plivo.Client(&quot;&lt;MY API KEY&gt;&quot;, &quot;&lt;MY API TOKEN&gt;&quot;);\r\n        client.messages.create(\r\n            &quot;+1&lt;SENDER NUMBER&gt;&quot;, // Sender&#39;s phone number with country code\r\n            &quot;+1&lt;RECEIVER NUMBER&gt;&quot;, // Receiver&#39;s phone Number with country code\r\n            &quot;&lt;MESSAGE&gt;&quot;, // Message\r\n            {\r\n                method: &quot;GET&quot;, // Method used to trigger message URL.\r\n                url: &quot;http://example.com/sms_status/&quot; // The URL to which with the status of the message is sent\r\n            },\r\n    \r\n        ).then(function(response) {\r\n            console.log(response);\r\n        }, );\r\n    })();","title":"How do I add user input in Plivo&#39;s SMS API?","body":"<p>I am using Plivo's SMS API to send SMS messages. Is it possible to have an user input prompt for SENDERS NAME, RECEIVER NAME and MESSAGE in Plivos SMS API without having them to be hardcoded before I run the .js file?</p>\n<pre><code>    var plivo = require('plivo');\n\n(function main() {\n    'use strict';\n    var client = new plivo.Client(&quot;&lt;MY API KEY&gt;&quot;, &quot;&lt;MY API TOKEN&gt;&quot;);\n    client.messages.create(\n        &quot;+1&lt;SENDER NUMBER&gt;&quot;, // Sender's phone number with country code\n        &quot;+1&lt;RECEIVER NUMBER&gt;&quot;, // Receiver's phone Number with country code\n        &quot;&lt;MESSAGE&gt;&quot;, // Message\n        {\n            method: &quot;GET&quot;, // Method used to trigger message URL.\n            url: &quot;http://example.com/sms_status/&quot; // The URL to which with the status of the message is sent\n        },\n\n    ).then(function(response) {\n        console.log(response);\n    }, );\n})();\n</code></pre>\n"},{"tags":["java","jpa","logging","dependencies"],"answers":[{"tags":[],"owner":{"account_id":9437851,"reputation":157,"user_id":7019324,"display_name":"Stijn Dejongh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654150495,"creation_date":1654150495,"answer_id":72471473,"question_id":72471200,"body_markdown":"The issue you encounter is a classloading issue during initialization of your EntityManager on your JBoss application environement.\r\n\r\nDisabling the logging will not fix this error, but hide it. Check your deployment classpath, and your JDK version. And verify that all required hibernate libraries are present. You can check which libraries you need on the classpath by looking at the dependencies on a site such as mvnRepository (example: https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.2.Final).\r\n\r\n\r\nAre you using a dependency manager, such as Maven or Gradle?\r\n","title":"Invalid logger interface org.hibernate.internal.EntityManagerMessageLogger","body":"<p>The issue you encounter is a classloading issue during initialization of your EntityManager on your JBoss application environement.</p>\n<p>Disabling the logging will not fix this error, but hide it. Check your deployment classpath, and your JDK version. And verify that all required hibernate libraries are present. You can check which libraries you need on the classpath by looking at the dependencies on a site such as mvnRepository (example: <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.2.Final\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.2.Final</a>).</p>\n<p>Are you using a dependency manager, such as Maven or Gradle?</p>\n"}],"owner":{"account_id":6190694,"reputation":33,"user_id":4823488,"display_name":"Vimbai Chatitai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654150495,"creation_date":1654148559,"question_id":72471200,"body_markdown":"I am doing JPA without persistence.xml (without Spring Boot) and instead used the PersistenceUnitInfo to create the entity manager. When running the application from my IDE, there are no errors, but it logs sensitive persistence unit information. I&#39;ve struggled to disable the logging. \r\n\r\nIt gets worse, when I run it from the command line, I get the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nKindly assist, I&#39;ve lost quite a few hours to this one.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zN7f6.png","title":"Invalid logger interface org.hibernate.internal.EntityManagerMessageLogger","body":"<p>I am doing JPA without persistence.xml (without Spring Boot) and instead used the PersistenceUnitInfo to create the entity manager. When running the application from my IDE, there are no errors, but it logs sensitive persistence unit information. I've struggled to disable the logging.</p>\n<p>It gets worse, when I run it from the command line, I get the following:</p>\n<p><a href=\"https://i.stack.imgur.com/zN7f6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zN7f6.png\" alt=\"enter image description here\" /></a></p>\n<p>Kindly assist, I've lost quite a few hours to this one.</p>\n"},{"tags":["java","for-loop","arraylist","coordinates","spawn"],"comments":[{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1654092239,"post_id":72463111,"comment_id":128009626,"body_markdown":"Why do you substract 1 from your `list.size()` in the 3rd and 4th `for`? That should ignor the last element of each list","body":"Why do you substract 1 from your <code>list.size()</code> in the 3rd and 4th <code>for</code>? That should ignor the last element of each list"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654092283,"post_id":72463111,"comment_id":128009648,"body_markdown":"Just from the glance, you are not looping through the entire list, you are looping until last but 1 element. It should be (i &lt; list.size) and not (i &lt; list.size() - 1)","body":"Just from the glance, you are not looping through the entire list, you are looping until last but 1 element. It should be (i &lt; list.size) and not (i &lt; list.size() - 1)"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654092406,"post_id":72463111,"comment_id":128009707,"body_markdown":"Removing an item from the list while iterating with indexes reduces the size by 1 each time and the value you actually dont want to remove might get removed","body":"Removing an item from the list while iterating with indexes reduces the size by 1 each time and the value you actually dont want to remove might get removed"},{"owner":{"account_id":25443927,"reputation":43,"user_id":19246367,"display_name":"Symet3"},"score":0,"creation_date":1654092469,"post_id":72463111,"comment_id":128009735,"body_markdown":"well I took -1 because it&#39;s an array and arrays always start from 0. So if the snake is 3 rectangles long then the size would be 3 but the array would be 2. Why is that wrong?","body":"well I took -1 because it&#39;s an array and arrays always start from 0. So if the snake is 3 rectangles long then the size would be 3 but the array would be 2. Why is that wrong?"},{"owner":{"account_id":25443927,"reputation":43,"user_id":19246367,"display_name":"Symet3"},"score":0,"creation_date":1654092567,"post_id":72463111,"comment_id":128009776,"body_markdown":"and even if I remove the -1 it still only removed 2 values even though 3 must get removed","body":"and even if I remove the -1 it still only removed 2 values even though 3 must get removed"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":1,"creation_date":1654092789,"post_id":72463111,"comment_id":128009865,"body_markdown":"@Symet3 You are looping a List and not an Array","body":"@Symet3 You are looping a List and not an Array"},{"owner":{"account_id":25443927,"reputation":43,"user_id":19246367,"display_name":"Symet3"},"score":0,"creation_date":1654092900,"post_id":72463111,"comment_id":128009910,"body_markdown":"Ok but It still doesn&#39;t work. Only 2 values are getting removed.","body":"Ok but It still doesn&#39;t work. Only 2 values are getting removed."}],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654092726,"creation_date":1654092726,"answer_id":72463308,"question_id":72463111,"body_markdown":"Use removeIf() to remove from the list.\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RemoveItemsFromListIfPresentInAnotherList {\r\n    public static void main(String[] args) {\r\n        List&lt;Coordinate&gt; availableCoords = new ArrayList&lt;&gt;();\r\n        List&lt;Coordinate&gt; snakeCoords = new ArrayList&lt;&gt;();\r\n        \r\n        //..\r\n\r\n        for (Coordinate snakeCoordinate : snakeCoords) {\r\n            availableCoords.removeIf(availableCoord -&gt;\r\n                    (snakeCoordinate.getX() == availableCoord.getX() &amp;&amp; snakeCoordinate.getY() == availableCoord.getY()));\r\n        }\r\n    }\r\n}\r\n\r\nclass Coordinate {\r\n    private int x;\r\n    private int y;\r\n\r\n    public Coordinate(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n}\r\n```","title":"Create arraylist of availableCoordinates","body":"<p>Use removeIf() to remove from the list.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class RemoveItemsFromListIfPresentInAnotherList {\n    public static void main(String[] args) {\n        List&lt;Coordinate&gt; availableCoords = new ArrayList&lt;&gt;();\n        List&lt;Coordinate&gt; snakeCoords = new ArrayList&lt;&gt;();\n        \n        //..\n\n        for (Coordinate snakeCoordinate : snakeCoords) {\n            availableCoords.removeIf(availableCoord -&gt;\n                    (snakeCoordinate.getX() == availableCoord.getX() &amp;&amp; snakeCoordinate.getY() == availableCoord.getY()));\n        }\n    }\n}\n\nclass Coordinate {\n    private int x;\n    private int y;\n\n    public Coordinate(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654150204,"creation_date":1654092784,"answer_id":72463316,"question_id":72463111,"body_markdown":"You iterate over `availableCoordinates` and inside this loop you remove items from it.\r\nSo after you removed an element the following elements get a new index.\r\nThe loop index is incremented anyways so you jump over an element after removing.\r\n\r\nI would not add all coordinates to the list and then remove the used ones.\r\nWhile filling your `availableCoordinates` check if this field is free:\r\n```\r\nfor (int i = 0; i &lt; numberOfSquaresY; i++) {\r\n    for (int j = 0; j &lt; numberOfSquaresX; j++) {\r\n        Coordinate c = new Coordinate(j*squareSize, i*squareSize, snake.get(0).color);\r\n        if (!snake.contains(c)) {\r\n            availableCoordinates.add(c);\r\n        }\r\n    }\r\n}\r\n```\r\nassuming that `Coordinate#equals` only checks `xPos` and `yPos`.\r\n\r\nEDIT:\r\nIf you cannot use `contains` you have to create a 3rd `for` level to iterate through your snake&#39;s elements:\r\n```\r\nboolean doIt;\r\nfor (int i = 0; i &lt; numberOfSquaresY; i++) {\r\n    for (int j = 0; j &lt; numberOfSquaresX; j++) {\r\n        Coordinate c = new Coordinate(j*squareSize, i*squareSize, snake.get(0).color);\r\n        // reset flag for each coordinate\r\n        doIt = true;\r\n        for (Coordinate bodyElement : snake) {\r\n            if (c.xPos == bodyElement.xPos &amp;&amp; c.yPos == bodyElement.yPos) {\r\n                // coordinate is used by snake\r\n                doIt = false;\r\n                // no need to check other body elements\r\n                break;\r\n            }\r\n        }\r\n        if (doIt) {\r\n            availableCoordinates.add(c);\r\n        }\r\n    }\r\n}\r\n```","title":"Create arraylist of availableCoordinates","body":"<p>You iterate over <code>availableCoordinates</code> and inside this loop you remove items from it.\nSo after you removed an element the following elements get a new index.\nThe loop index is incremented anyways so you jump over an element after removing.</p>\n<p>I would not add all coordinates to the list and then remove the used ones.\nWhile filling your <code>availableCoordinates</code> check if this field is free:</p>\n<pre><code>for (int i = 0; i &lt; numberOfSquaresY; i++) {\n    for (int j = 0; j &lt; numberOfSquaresX; j++) {\n        Coordinate c = new Coordinate(j*squareSize, i*squareSize, snake.get(0).color);\n        if (!snake.contains(c)) {\n            availableCoordinates.add(c);\n        }\n    }\n}\n</code></pre>\n<p>assuming that <code>Coordinate#equals</code> only checks <code>xPos</code> and <code>yPos</code>.</p>\n<p>EDIT:\nIf you cannot use <code>contains</code> you have to create a 3rd <code>for</code> level to iterate through your snake's elements:</p>\n<pre><code>boolean doIt;\nfor (int i = 0; i &lt; numberOfSquaresY; i++) {\n    for (int j = 0; j &lt; numberOfSquaresX; j++) {\n        Coordinate c = new Coordinate(j*squareSize, i*squareSize, snake.get(0).color);\n        // reset flag for each coordinate\n        doIt = true;\n        for (Coordinate bodyElement : snake) {\n            if (c.xPos == bodyElement.xPos &amp;&amp; c.yPos == bodyElement.yPos) {\n                // coordinate is used by snake\n                doIt = false;\n                // no need to check other body elements\n                break;\n            }\n        }\n        if (doIt) {\n            availableCoordinates.add(c);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25443927,"reputation":43,"user_id":19246367,"display_name":"Symet3"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72463316,"answer_count":2,"score":0,"last_activity_date":1654150204,"creation_date":1654091873,"question_id":72463111,"body_markdown":"I am currently making a snake game and I don&#39;t want the apple to spawn inside my snake. I tried to fix this by doing this:\r\n```\r\n\r\n    ArrayList&lt;Coordinate&gt; availableCoordinates = new ArrayList&lt;&gt;();\r\n\r\n    public void Coordinates() {\r\n\r\n\r\n        for (int i = 0; i &lt; numberOfSquaresY; i++) {\r\n            for (int j = 0; j &lt; numberOfSquaresX; j++) {\r\n                availableCoordinates.add(new Coordinate(j*squareSize, i*squareSize, snake.get(0).color));\r\n            }\r\n        }\r\n\r\n        for(int i = 0; i &lt; availableCoordinates.size()-1; i++) {\r\n            for (int j = 0; j &lt; snake.size() - 1; j++) {\r\n                if (availableCoordinates.get(i).xPos == snake.get(j).xPos &amp;&amp; availableCoordinates.get(i).yPos == snake.get(j).yPos){\r\n                    availableCoordinates.remove(i);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n````\r\n\r\nHowever only 1 value is getting removed even though it should be 3 that are getting removed, and I don&#39;t know why.","title":"Create arraylist of availableCoordinates","body":"<p>I am currently making a snake game and I don't want the apple to spawn inside my snake. I tried to fix this by doing this:</p>\n<pre><code>\n    ArrayList&lt;Coordinate&gt; availableCoordinates = new ArrayList&lt;&gt;();\n\n    public void Coordinates() {\n\n\n        for (int i = 0; i &lt; numberOfSquaresY; i++) {\n            for (int j = 0; j &lt; numberOfSquaresX; j++) {\n                availableCoordinates.add(new Coordinate(j*squareSize, i*squareSize, snake.get(0).color));\n            }\n        }\n\n        for(int i = 0; i &lt; availableCoordinates.size()-1; i++) {\n            for (int j = 0; j &lt; snake.size() - 1; j++) {\n                if (availableCoordinates.get(i).xPos == snake.get(j).xPos &amp;&amp; availableCoordinates.get(i).yPos == snake.get(j).yPos){\n                    availableCoordinates.remove(i);\n                }\n            }\n        }\n\n    }\n</code></pre>\n<p>However only 1 value is getting removed even though it should be 3 that are getting removed, and I don't know why.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":11974303,"reputation":352,"user_id":8761920,"display_name":"Kam&#232;l Romdhani"},"score":0,"creation_date":1654110319,"post_id":72466793,"comment_id":128016155,"body_markdown":"here&#39;s how to initialize the database in spring-boot https://www.baeldung.com/spring-boot-data-sql-and-schema-sql","body":"here&#39;s how to initialize the database in spring-boot <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-data-sql-and-schema-sql</a>"},{"owner":{"account_id":1841280,"reputation":2686,"user_id":1670616,"display_name":"sgpalit"},"score":0,"creation_date":1654112017,"post_id":72466793,"comment_id":128016658,"body_markdown":"liquibase or something like that is not an option?","body":"liquibase or something like that is not an option?"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654119413,"creation_date":1654119413,"answer_id":72468342,"question_id":72466793,"body_markdown":"What you have here is actually working, but your error indicates that you&#39;re not persisting it properly.  The detached entity is because you&#39;re attempting to persist the Role, which hasn&#39;t itself been persisted.\r\n\r\nTry something like this\r\n\r\n...\r\n\r\n    Role persistedRole = roleRepository.save(role);\r\n\r\n...\r\n\r\n    user.getRoles().add(persistedRole);\r\n\r\nAlso, note that in your current logic, you aren&#39;t doing anything with `role2`, but if you want to attach it to your `User` you will need to do the same with it.\r\n\r\nAs others have mentioned, there&#39;s other Spring ways to pre-propulate a database that I would lean to, unless you&#39;re going to add logic to ensure that this doesn&#39;t recreate these records in the database everytime you start your app. \r\n    ","title":"How can I save relational data when starting my Spring application?","body":"<p>What you have here is actually working, but your error indicates that you're not persisting it properly.  The detached entity is because you're attempting to persist the Role, which hasn't itself been persisted.</p>\n<p>Try something like this</p>\n<p>...</p>\n<pre><code>Role persistedRole = roleRepository.save(role);\n</code></pre>\n<p>...</p>\n<pre><code>user.getRoles().add(persistedRole);\n</code></pre>\n<p>Also, note that in your current logic, you aren't doing anything with <code>role2</code>, but if you want to attach it to your <code>User</code> you will need to do the same with it.</p>\n<p>As others have mentioned, there's other Spring ways to pre-propulate a database that I would lean to, unless you're going to add logic to ensure that this doesn't recreate these records in the database everytime you start your app.</p>\n"}],"owner":{"account_id":24301317,"reputation":53,"user_id":18244772,"display_name":"Emirhan Ay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654149915,"creation_date":1654109660,"question_id":72466793,"body_markdown":"While starting my application, I want to add data named **ADMIN** and **CUSTOMER** to the Role table. At the same time, I want to create a **USER** and give this **USER** the **ADMIN** role.\r\nBut as you can see, when I want to set the role field to the **USER** entity, it gives an error. If I remove the role field assignment on the user entity, it does not give an error. Am I trying to assign this role information to the user without saving it to the database? Do all these transactions happen on a single transaction? What is the problem?\r\n\r\n```java\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class AppStartupRunner implements ApplicationRunner {\r\n    private final RoleRepository roleRepository;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        Role role = new Role();\r\n        role.setName(&quot;ADMIN&quot;);\r\n        Role role2 = new Role();\r\n        role2.setName(&quot;CUSTOMER&quot;);\r\n        roleRepository.save(role);\r\n        roleRepository.save(role2);\r\n\r\n        User user = new User();\r\n        user.setUserStatus(UserStatus.ACTIVE);\r\n        user.setUserType(UserType.ADMIN);\r\n        user.setPhoneNumber(&quot;05365785476&quot;);\r\n        user.setPassword(bCryptPasswordEncoder.encode(&quot;123456789e&quot;));\r\n        user.setEmail(&quot;emirhan@gmail.com&quot;);\r\n        user.setName(&quot;Emirhan Ay&quot;);\r\n        user.getRoles().add(role);\r\n        user.setCreatedAt(new Date());\r\n        userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n\tat com.example.bankapp.BankApplication.main(BankApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.example.bankapp.entity.Role; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.example.bankapp.entity.Role\r\n```\r\n\r\n**UPDATED ! I found a solution like this -&gt;**\r\nI created a data.sql file inside the app/resources folder.\r\nAnd i added these below settings to my application properties file.\r\n```java\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.sql.init.mode=always\r\n```\r\n```sql\r\nINSERT INTO ROLE (name) VALUES (&#39;ADMIN&#39;);\r\nINSERT INTO ROLE (name) VALUES (&#39;CUSTOMER&#39;);\r\nINSERT INTO USER (email,password,name,phone_number,user_type,user_status,is_deleted,created_at)\r\nVALUES (&#39;emirhan@gmail.com&#39;,&#39;$2a$10$ReWLWNLk6iSPWZ1z6tVv1efkk0qgONxAoZaD6BJ8I80qe0ykfLqma&#39;,\r\n        &#39;Emirhan Ay&#39;,&#39;05365785476&#39;,&#39;ADMIN&#39;,&#39;ACTIVE&#39;,&#39;false&#39;,&#39;2022-06-01 23:27:03.534&#39;);\r\nINSERT INTO USER_ROLE (user_id,role_id) VALUES (&#39;1&#39;,&#39;1&#39;)\r\n```","title":"How can I save relational data when starting my Spring application?","body":"<p>While starting my application, I want to add data named <strong>ADMIN</strong> and <strong>CUSTOMER</strong> to the Role table. At the same time, I want to create a <strong>USER</strong> and give this <strong>USER</strong> the <strong>ADMIN</strong> role.\nBut as you can see, when I want to set the role field to the <strong>USER</strong> entity, it gives an error. If I remove the role field assignment on the user entity, it does not give an error. Am I trying to assign this role information to the user without saving it to the database? Do all these transactions happen on a single transaction? What is the problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Component\npublic class AppStartupRunner implements ApplicationRunner {\n    private final RoleRepository roleRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n    private final UserRepository userRepository;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        Role role = new Role();\n        role.setName(&quot;ADMIN&quot;);\n        Role role2 = new Role();\n        role2.setName(&quot;CUSTOMER&quot;);\n        roleRepository.save(role);\n        roleRepository.save(role2);\n\n        User user = new User();\n        user.setUserStatus(UserStatus.ACTIVE);\n        user.setUserType(UserType.ADMIN);\n        user.setPhoneNumber(&quot;05365785476&quot;);\n        user.setPassword(bCryptPasswordEncoder.encode(&quot;123456789e&quot;));\n        user.setEmail(&quot;emirhan@gmail.com&quot;);\n        user.setName(&quot;Emirhan Ay&quot;);\n        user.getRoles().add(role);\n        user.setCreatedAt(new Date());\n        userRepository.save(user);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n    at com.example.bankapp.BankApplication.main(BankApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.example.bankapp.entity.Role; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.example.bankapp.entity.Role\n</code></pre>\n<p><strong>UPDATED ! I found a solution like this -&gt;</strong>\nI created a data.sql file inside the app/resources folder.\nAnd i added these below settings to my application properties file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO ROLE (name) VALUES ('ADMIN');\nINSERT INTO ROLE (name) VALUES ('CUSTOMER');\nINSERT INTO USER (email,password,name,phone_number,user_type,user_status,is_deleted,created_at)\nVALUES ('emirhan@gmail.com','$2a$10$ReWLWNLk6iSPWZ1z6tVv1efkk0qgONxAoZaD6BJ8I80qe0ykfLqma',\n        'Emirhan Ay','05365785476','ADMIN','ACTIVE','false','2022-06-01 23:27:03.534');\nINSERT INTO USER_ROLE (user_id,role_id) VALUES ('1','1')\n</code></pre>\n"},{"tags":["java","spring","macos","vim","command-line"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1652918948,"post_id":72297228,"comment_id":127726578,"body_markdown":"Welcome to the Java world.  There is a good deal to learn and, specific to your question, start with the [docs](https://spring.io/guides/gs/testing-web/).  There are many options - post back here if you get stuck.","body":"Welcome to the Java world.  There is a good deal to learn and, specific to your question, start with the <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">docs</a>.  There are many options - post back here if you get stuck."},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1652920138,"post_id":72297228,"comment_id":127726773,"body_markdown":"You have 2 options - with maven or without maven (Assuming the original project is using maven and not gradle)  \n\nwith maven: `mvn test -Dtest= path.to.package.&lt;YourTestClass&gt;`\nwithout maven: https://stackoverflow.com/questions/52373469/how-to-launch-junit-5-platform-from-the-command-line-without-maven-gradle/52373592#52373592","body":"You have 2 options - with maven or without maven (Assuming the original project is using maven and not gradle)    with maven: <code>mvn test -Dtest= path.to.package.&lt;YourTestClass&gt;</code> without maven: <a href=\"https://stackoverflow.com/questions/52373469/how-to-launch-junit-5-platform-from-the-command-line-without-maven-gradle/52373592#52373592\" title=\"how to launch junit 5 platform from the command line without maven gradle\">stackoverflow.com/questions/52373469/&hellip;</a>"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1652992230,"post_id":72297228,"comment_id":127748749,"body_markdown":"@Tintin this runs all the tests I believe. Is there a way to run one specific test?","body":"@Tintin this runs all the tests I believe. Is there a way to run one specific test?"}],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654149829,"creation_date":1653002199,"answer_id":72312007,"question_id":72297228,"body_markdown":"If using maven:\r\nTo run all test cases, go into the project&#39;s root and run (if running from somewhere else, use the path)\r\n\r\n    mvn test\r\n\r\nTo run all tests from a single class:\r\n\r\n    mvn test -Dtest=&lt;YourTestClass&gt;\r\n\r\n\r\nTo run a test case from a test class:\r\n\r\n    mvn test -Dtest=&lt;name-of-your-test-class&gt;#&lt;name-of-your-test-method&gt; test\r\n\r\n\r\nIf you are not using maven (or Gradle):  \r\nsee: https://stackoverflow.com/questions/52373469/how-to-launch-junit-5-platform-from-the-command-line-without-maven-gradle/52373592#52373592\r\n\r\n\r\n**EDIT**: Looks like the OP is unable to run these commands in his/her setup.  Make sure you have correct dependencies and plugins (Junit and SureFire) in your pom.  E.g. I created a demo maven project with this pom (only including the Junit and Surefire).\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nHere are the screenshots of working mvn test commands.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/plNrN.png\r\n  [2]: https://i.stack.imgur.com/g98QK.png","title":"Running Spring boot Tests from with Vim","body":"<p>If using maven:\nTo run all test cases, go into the project's root and run (if running from somewhere else, use the path)</p>\n<pre><code>mvn test\n</code></pre>\n<p>To run all tests from a single class:</p>\n<pre><code>mvn test -Dtest=&lt;YourTestClass&gt;\n</code></pre>\n<p>To run a test case from a test class:</p>\n<pre><code>mvn test -Dtest=&lt;name-of-your-test-class&gt;#&lt;name-of-your-test-method&gt; test\n</code></pre>\n<p>If you are not using maven (or Gradle):<br />\nsee: <a href=\"https://stackoverflow.com/questions/52373469/how-to-launch-junit-5-platform-from-the-command-line-without-maven-gradle/52373592#52373592\">How to launch JUnit 5 (Platform) from the command line (without Maven/Gradle)?</a></p>\n<p><strong>EDIT</strong>: Looks like the OP is unable to run these commands in his/her setup.  Make sure you have correct dependencies and plugins (Junit and SureFire) in your pom.  E.g. I created a demo maven project with this pom (only including the Junit and Surefire).</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Here are the screenshots of working mvn test commands.</p>\n<p><a href=\"https://i.stack.imgur.com/plNrN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/plNrN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/g98QK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g98QK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654149829,"creation_date":1652918574,"question_id":72297228,"body_markdown":"I have a Mac and iTerm2 installed, I used the command ``` vi *file name*.java ``` to open and edit the file. This file has unit tests annotated with the ``` @Test ``` keyword in Spring. \r\n\r\nHow do I run these tests from the command line instead of clicking on the Test annotation in IntelliJ?  ","title":"Running Spring boot Tests from with Vim","body":"<p>I have a Mac and iTerm2 installed, I used the command <code>vi *file name*.java</code> to open and edit the file. This file has unit tests annotated with the <code>@Test</code> keyword in Spring.</p>\n<p>How do I run these tests from the command line instead of clicking on the Test annotation in IntelliJ?</p>\n"},{"tags":["java","spring","spring-boot","ldap"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1653895228,"post_id":72429964,"comment_id":127953934,"body_markdown":"your CustomUser class should implement the LdapUserDetails interface but it seems to me you&#39;re not doing that? Also, an instance of CustomUser shouldn&#39;t be obtained from a SecurityContextHolder but rather by calling LdapUserDetailsMapper.mapUserFromContext","body":"your CustomUser class should implement the LdapUserDetails interface but it seems to me you&#39;re not doing that? Also, an instance of CustomUser shouldn&#39;t be obtained from a SecurityContextHolder but rather by calling LdapUserDetailsMapper.mapUserFromContext"},{"owner":{"account_id":25270228,"reputation":141,"user_id":19099652,"display_name":"eboi"},"score":0,"creation_date":1653911793,"post_id":72429964,"comment_id":127959683,"body_markdown":"@dsp_user I do get getUserName(),getAuthToken(),getAuthorities() while I do use my username and password from my DB.","body":"@dsp_user I do get getUserName(),getAuthToken(),getAuthorities() while I do use my username and password from my DB."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1653918514,"post_id":72429964,"comment_id":127962218,"body_markdown":"both the username and password that you login with should match those stored in the ldap / ad  server (and not the credentials stored in the database). Post the entire login code and I&#39;ll have a look.","body":"both the username and password that you login with should match those stored in the ldap / ad  server (and not the credentials stored in the database). Post the entire login code and I&#39;ll have a look."},{"owner":{"account_id":25270228,"reputation":141,"user_id":19099652,"display_name":"eboi"},"score":0,"creation_date":1653976121,"post_id":72429964,"comment_id":127974821,"body_markdown":"@dsp_user I have edited my Post. Please see the updated one.","body":"@dsp_user I have edited my Post. Please see the updated one."}],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654000492,"creation_date":1653978691,"answer_id":72443128,"question_id":72429964,"body_markdown":"First, your CustomUser should implement `LdapUserDetails` and not `UserDetails`\r\n\r\nYou also need to subclass `LdapUserDetailsMapper` because Spring will call `mapUserFromContext` and this is where you can fetch whatever data you need from your database and create an instance of CustomUser.\r\n\r\n    @Component\r\n    public class CustomLdapUserDetailsMapper extends LdapUserDetailsMapper {\r\n\r\n\t@Autowired\r\n\tprivate IUserRepository userRepository;\r\n\r\n    @Autowired\r\n\tprivate IUserRoleRepository userRoleRepository;\r\n\r\n    @Override\r\n\t public UserDetails mapUserFromContext(DirContextOperations ctx, String   username,\r\n\t\t\tCollection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\r\n\t \r\n\t\tUser user = userRepository.findOneByUsername(username);\r\n\t\tif (user == null) {\r\n\t\t\tthrow new UsernameNotFoundException(&quot;Username not found&quot;);\r\n\t\t}\r\n\t\tUserDetails userDetails = super.mapUserFromContext(ctx, username, getAuthorities(user));\r\n       //add a constructor for your CustomUser\r\n\t\treturn new CustomUser(user.getEmail(), user.getFullName(),  (LdapUserDetails) userDetails);\r\n\t}\r\n\r\n    }\r\n    private Set&lt;GrantedAuthority&gt; getAuthorities(User user) {\r\n\t\tSet&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n\t\t//populate authorities/user roles from User (db entity) and UserRole entities\r\n\r\n\t\tfor (UserRole userRole : userRoleRepository.findAllByUserId(user.getId())) {\r\n\t\t\tauthorities.add(new SimpleGrantedAuthority(userRole.getRole.getName()));\r\n\r\n\t\t}\r\n\r\n\t\treturn authorities;\r\n\t}\r\n    }\r\n\r\nAnd finally, tell your authentication provider to use this ldap mapper class (put this in your web security code)\r\n\r\n    @Autowired\r\n\tprivate CustomLdapUserDetailsMapper customLdapUserDetailsMapper;     \r\n    .... \r\n\r\n    customAuthenticationProvider.setUserDetailsContextMapper(customLdapUserDetailsMapper);\r\n\r\nUPDATE: The CustomUser code might look something like this\r\n\r\n    public class CustomUser implements LdapUserDetails{\r\n\r\n\tprivate  String email;\r\n\r\n    private String fullName;\r\n\r\n\tprivate  String username;\r\n\r\n\tprivate LdapUserDetails ldapUserDetails;\r\n\r\n\tpublic CustomUser(String email, String fullName, LdapUserDetails  ldapUserDetails) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.email = email;\r\n        this.fullName = fullName;\r\n\t\tthis.ldapUserDetails = ldapUserDetails;\r\n\t}\r\n\r\n    @Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\treturn ldapUserDetails.getAuthorities();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\treturn ldapUserDetails.getPassword();\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\treturn ldapUserDetails.getUsername();\r\n\t}\r\n    //add all the other overrides and getter/setter methods\r\n\r\n    }\r\n\r\nAnd the repository classes might look something like\r\n\r\n       public interface IUserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\t\r\n\t\tpublic User findOneByUsername(String username);\r\n\t\r\n\t\tpublic User findOneById(Integer id);\r\n\t\r\n\t\tpublic User findOneByEmail(String email);\r\n\t\r\n    }\r\n\r\n\r\n    public interface IUserRoleRepository extends JpaRepository&lt;UserRole, Integer&gt; {\r\n\t\r\n\tUserRole findOneByRoleName(String rolename);//role name like admin, user, mod etc\r\n\t\r\n\tUserRole findOneById(Integer id);//role id\r\n    }","title":"How to fetch user role from DB using LDAP login using Spring Boot","body":"<p>First, your CustomUser should implement <code>LdapUserDetails</code> and not <code>UserDetails</code></p>\n<p>You also need to subclass <code>LdapUserDetailsMapper</code> because Spring will call <code>mapUserFromContext</code> and this is where you can fetch whatever data you need from your database and create an instance of CustomUser.</p>\n<pre><code>@Component\npublic class CustomLdapUserDetailsMapper extends LdapUserDetailsMapper {\n\n@Autowired\nprivate IUserRepository userRepository;\n\n@Autowired\nprivate IUserRoleRepository userRoleRepository;\n\n@Override\n public UserDetails mapUserFromContext(DirContextOperations ctx, String   username,\n        Collection&lt;? extends GrantedAuthority&gt; authorities) {\n\n \n    User user = userRepository.findOneByUsername(username);\n    if (user == null) {\n        throw new UsernameNotFoundException(&quot;Username not found&quot;);\n    }\n    UserDetails userDetails = super.mapUserFromContext(ctx, username, getAuthorities(user));\n   //add a constructor for your CustomUser\n    return new CustomUser(user.getEmail(), user.getFullName(),  (LdapUserDetails) userDetails);\n}\n\n}\nprivate Set&lt;GrantedAuthority&gt; getAuthorities(User user) {\n    Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n\n    //populate authorities/user roles from User (db entity) and UserRole entities\n\n    for (UserRole userRole : userRoleRepository.findAllByUserId(user.getId())) {\n        authorities.add(new SimpleGrantedAuthority(userRole.getRole.getName()));\n\n    }\n\n    return authorities;\n}\n}\n</code></pre>\n<p>And finally, tell your authentication provider to use this ldap mapper class (put this in your web security code)</p>\n<pre><code>@Autowired\nprivate CustomLdapUserDetailsMapper customLdapUserDetailsMapper;     \n.... \n\ncustomAuthenticationProvider.setUserDetailsContextMapper(customLdapUserDetailsMapper);\n</code></pre>\n<p>UPDATE: The CustomUser code might look something like this</p>\n<pre><code>public class CustomUser implements LdapUserDetails{\n\nprivate  String email;\n\nprivate String fullName;\n\nprivate  String username;\n\nprivate LdapUserDetails ldapUserDetails;\n\npublic CustomUser(String email, String fullName, LdapUserDetails  ldapUserDetails) {\n    super();\n    \n    this.email = email;\n    this.fullName = fullName;\n    this.ldapUserDetails = ldapUserDetails;\n}\n\n@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return ldapUserDetails.getAuthorities();\n}\n\n@Override\npublic String getPassword() {\n    return ldapUserDetails.getPassword();\n}\n\n\n@Override\npublic String getUsername() {\n    return ldapUserDetails.getUsername();\n}\n//add all the other overrides and getter/setter methods\n\n}\n</code></pre>\n<p>And the repository classes might look something like</p>\n<pre><code>   public interface IUserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    public User findOneByUsername(String username);\n\n    public User findOneById(Integer id);\n\n    public User findOneByEmail(String email);\n\n}\n\n\npublic interface IUserRoleRepository extends JpaRepository&lt;UserRole, Integer&gt; {\n\nUserRole findOneByRoleName(String rolename);//role name like admin, user, mod etc\n\nUserRole findOneById(Integer id);//role id\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6063821,"reputation":251,"user_id":4734842,"display_name":"Shihab Abrar Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654149505,"creation_date":1654149505,"answer_id":72471320,"question_id":72429964,"body_markdown":"@dsp_user gave great solutions. \r\n\r\nNow Based on your above codes I assume that your are using a function in your Repository Class that takes username and password as the params.\r\n\r\nDo make similar another function that takes only username as param. Call that function in your CustomLdapUserDetailsMapper Class.\r\n\r\nTry this code:\r\n\r\n```\r\n@Component\r\npublic class CustomLdapUserDetailsMapper extends LdapUserDetailsMapper {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n\r\n    @Override\r\n    public UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\r\n        CustomUser user = userRepository.authenticationMethod(username);\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;User is not found!&quot;);\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI hope this would solve the problem.","title":"How to fetch user role from DB using LDAP login using Spring Boot","body":"<p>@dsp_user gave great solutions.</p>\n<p>Now Based on your above codes I assume that your are using a function in your Repository Class that takes username and password as the params.</p>\n<p>Do make similar another function that takes only username as param. Call that function in your CustomLdapUserDetailsMapper Class.</p>\n<p>Try this code:</p>\n<pre><code>@Component\npublic class CustomLdapUserDetailsMapper extends LdapUserDetailsMapper {\n\n    @Autowired\n    private UserRepository userRepository;\n\n\n    @Override\n    public UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n\n        CustomUser user = userRepository.authenticationMethod(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User is not found!&quot;);\n        }\n\n        return user;\n    }\n\n}\n\n</code></pre>\n<p>I hope this would solve the problem.</p>\n"}],"owner":{"account_id":25270228,"reputation":141,"user_id":19099652,"display_name":"eboi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72471320,"answer_count":2,"score":1,"last_activity_date":1654149505,"creation_date":1653891935,"question_id":72429964,"body_markdown":"Hi I am novice to Spring Boot and LDAP. I am facing problems!\r\n\r\nI could login via LDAP but I cant fetch user role which is stored in my Database. I do get the following error:\r\n\r\n```\r\norg.springframework.security.ldap.userdetails.LdapUserDetailsImpl cannot be cast to com.test.rnd.geo.web.dto.CustomUser\r\n```\r\nI had tried this: \r\n```\r\n    private CustomUser getUserDetails() {\r\n        CustomUser userDetails = (CustomUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n        LOGGER.info(&quot;Deatils:  &quot;+userDetails);\r\n        LOGGER.info(&quot;UserName: &quot; + userDetails.getUsername());\r\n        LOGGER.info(&quot;Auth Token: &quot; + userDetails.getAuthToken());\r\n        LOGGER.info(&quot;User Role size: &quot; + userDetails.getAuthorities().size());\r\n        LOGGER.info(&quot;User Role : &quot; + userDetails.getAuthorities());\r\n\r\n\r\n        return userDetails;\r\n    }\r\n```\r\nI am getting error to fetch this getUserDetails() function.\r\n```\r\n        CustomUser customUser = getUserDetails();\r\n```\r\n\r\nHere is my CustomUser Class:\r\n\r\n```\r\n@Component\r\n@Scope(&quot;session&quot;)\r\npublic class CustomUser implements UserDetails {\r\n\r\n\r\n    private String username;\r\n    private String password;\r\n    private List&lt;RoleEntity&gt; authorities;\r\n    private String authToken;\r\n\r\n    public String getAuthToken() {\r\n        return authToken;\r\n    }\r\n\r\n    public void setAuthToken(String authToken) {\r\n        this.authToken = authToken;\r\n    }\r\n\r\n    public void setAuthorities(List&lt;RoleEntity&gt; authorities) {\r\n        this.authorities = authorities;\r\n    }\r\n\r\n\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return false;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return authorities;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CustomUser{&quot; +\r\n                &quot;username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;****&quot; + &#39;\\&#39;&#39; +\r\n                &quot;, authorities=&quot; + authorities +\r\n                &quot;, AuthToken=&#39;&quot; + authToken + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my WebSecurityConfig:\r\n```\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n        auth\r\n                .authenticationProvider(customAuthenticationProvider)\r\n                .ldapAuthentication()\r\n                .userSearchFilter(&quot;(&amp;(mail={0})(memberOf=CN=aa,OU=Security Group,OU=aa,DC=aa,DC=com))&quot;)\r\n                .contextSource()\r\n                .url(&quot;ldap://www.domain.com:3268/dc=v,dc=com&quot;)\r\n                .managerDn(&quot;aaa&quot;)\r\n                .managerPassword(&quot;aaa&quot;);\r\n\r\n    }\r\n```\r\n\r\nRepository Class:\r\n```\r\n@Repository\r\npublic class UserAuthRepository {\r\n    @Autowired\r\n    private InterServiceConnector serviceConnector;\r\n    @Autowired\r\n    private httpsServiceConnector httpsServiceConnector;\r\n    private static final org.slf4j.Logger LOG\r\n            = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\r\n\r\n\r\n    @Value(&quot;${dmzAddress}&quot;)\r\n    private String host;\r\n\r\n    public CustomUser authenticateUser(String userName, String password) {\r\n        CustomUser customUser = null;\r\n        try {\r\n            customUser = null;\r\n\r\n            LOG.info(&quot;UserAuthRepository::authenticateUser:: userName&quot; + userName);\r\n//            LOG.info(&quot;UserAuthRepository::authenticateUser:: password ********&quot;);\r\n\r\n            Request request = new Request();\r\n            request.setUsername(userName);\r\n            request.setPassword(password);\r\n\r\n            Gson gson = new GsonBuilder().create();\r\n            String jsonInput = gson.toJson(request);\r\n\r\n//            LOG.info(&quot;UserAuthRepository::authenticateUser:: Authentication Token :: &quot; + request.getAuthToken());\r\n\r\n            String user = null;\r\n            if (host.contains(&quot;http://&quot;)){\r\n                user = serviceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;, request.getAuthToken());\r\n            }\r\n            else{\r\n                user = httpsServiceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;);\r\n            }\r\n//            String user = serviceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;, request.getAuthToken());\r\n//          String user = httpsServiceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;);\r\n//            LOG.info(&quot;UserAuthRepository::authenticateUser:: user----&gt;&gt;&gt;  &quot; +  user);\r\n            customUser = gson.fromJson(user, CustomUser.class);\r\n            LOG.info(&quot;UserAuthRepository:: Custom User::  {}&quot;, customUser);\r\n        } catch (JsonSyntaxException e) {\r\n            LOG.error(&quot;UserAuthRepository :: authenticateUser :: Parse Exception&quot;, e);\r\n        }\r\n        return customUser;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"How to fetch user role from DB using LDAP login using Spring Boot","body":"<p>Hi I am novice to Spring Boot and LDAP. I am facing problems!</p>\n<p>I could login via LDAP but I cant fetch user role which is stored in my Database. I do get the following error:</p>\n<pre><code>org.springframework.security.ldap.userdetails.LdapUserDetailsImpl cannot be cast to com.test.rnd.geo.web.dto.CustomUser\n</code></pre>\n<p>I had tried this:</p>\n<pre><code>    private CustomUser getUserDetails() {\n        CustomUser userDetails = (CustomUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        LOGGER.info(&quot;Deatils:  &quot;+userDetails);\n        LOGGER.info(&quot;UserName: &quot; + userDetails.getUsername());\n        LOGGER.info(&quot;Auth Token: &quot; + userDetails.getAuthToken());\n        LOGGER.info(&quot;User Role size: &quot; + userDetails.getAuthorities().size());\n        LOGGER.info(&quot;User Role : &quot; + userDetails.getAuthorities());\n\n\n        return userDetails;\n    }\n</code></pre>\n<p>I am getting error to fetch this getUserDetails() function.</p>\n<pre><code>        CustomUser customUser = getUserDetails();\n</code></pre>\n<p>Here is my CustomUser Class:</p>\n<pre><code>@Component\n@Scope(&quot;session&quot;)\npublic class CustomUser implements UserDetails {\n\n\n    private String username;\n    private String password;\n    private List&lt;RoleEntity&gt; authorities;\n    private String authToken;\n\n    public String getAuthToken() {\n        return authToken;\n    }\n\n    public void setAuthToken(String authToken) {\n        this.authToken = authToken;\n    }\n\n    public void setAuthorities(List&lt;RoleEntity&gt; authorities) {\n        this.authorities = authorities;\n    }\n\n\n\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return false;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return false;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CustomUser{&quot; +\n                &quot;username='&quot; + username + '\\'' +\n                &quot;, password='****&quot; + '\\'' +\n                &quot;, authorities=&quot; + authorities +\n                &quot;, AuthToken='&quot; + authToken + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Here's my WebSecurityConfig:</p>\n<pre><code>    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth\n                .authenticationProvider(customAuthenticationProvider)\n                .ldapAuthentication()\n                .userSearchFilter(&quot;(&amp;(mail={0})(memberOf=CN=aa,OU=Security Group,OU=aa,DC=aa,DC=com))&quot;)\n                .contextSource()\n                .url(&quot;ldap://www.domain.com:3268/dc=v,dc=com&quot;)\n                .managerDn(&quot;aaa&quot;)\n                .managerPassword(&quot;aaa&quot;);\n\n    }\n</code></pre>\n<p>Repository Class:</p>\n<pre><code>@Repository\npublic class UserAuthRepository {\n    @Autowired\n    private InterServiceConnector serviceConnector;\n    @Autowired\n    private httpsServiceConnector httpsServiceConnector;\n    private static final org.slf4j.Logger LOG\n            = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\n\n\n    @Value(&quot;${dmzAddress}&quot;)\n    private String host;\n\n    public CustomUser authenticateUser(String userName, String password) {\n        CustomUser customUser = null;\n        try {\n            customUser = null;\n\n            LOG.info(&quot;UserAuthRepository::authenticateUser:: userName&quot; + userName);\n//            LOG.info(&quot;UserAuthRepository::authenticateUser:: password ********&quot;);\n\n            Request request = new Request();\n            request.setUsername(userName);\n            request.setPassword(password);\n\n            Gson gson = new GsonBuilder().create();\n            String jsonInput = gson.toJson(request);\n\n//            LOG.info(&quot;UserAuthRepository::authenticateUser:: Authentication Token :: &quot; + request.getAuthToken());\n\n            String user = null;\n            if (host.contains(&quot;http://&quot;)){\n                user = serviceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;, request.getAuthToken());\n            }\n            else{\n                user = httpsServiceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;);\n            }\n//            String user = serviceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;, request.getAuthToken());\n//          String user = httpsServiceConnector.serviceCall(jsonInput, &quot;portalLogin&quot;, &quot;post&quot;);\n//            LOG.info(&quot;UserAuthRepository::authenticateUser:: user----&gt;&gt;&gt;  &quot; +  user);\n            customUser = gson.fromJson(user, CustomUser.class);\n            LOG.info(&quot;UserAuthRepository:: Custom User::  {}&quot;, customUser);\n        } catch (JsonSyntaxException e) {\n            LOG.error(&quot;UserAuthRepository :: authenticateUser :: Parse Exception&quot;, e);\n        }\n        return customUser;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","libgdx"],"answers":[{"tags":[],"owner":{"account_id":3529602,"reputation":24852,"user_id":2949612,"accept_rate":76,"display_name":"pRaNaY"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496624023,"creation_date":1450872237,"answer_id":34435299,"question_id":34145664,"body_markdown":"I think you need to add `targetCompatibility` attribute with `sourceCompatibility` in gradle to target your `java` version.\r\n\r\n        allprojects {\r\n        apply plugin: &#39;java&#39;\r\n        sourceCompatibility = 1.6\r\n        targetCompatibility = 1.6\r\n    }\r\nAlso need to check `java` default path in `gradle.properties` file with version your project is use.\r\n\r\nYou need to check [Cant build Java 1.8 even with proper Java version in use](https://discuss.gradle.org/t/cant-build-java-1-8-even-with-proper-java-version-in-use/2461) and [Gradle finds wrong JAVA_HOME even though it&#39;s correctly set](https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set) to get more idea about set `java` compile version gradle.\r\n","title":"libGDX setup allows me to use Java 8 which crashes in Android","body":"<p>I think you need to add <code>targetCompatibility</code> attribute with <code>sourceCompatibility</code> in gradle to target your <code>java</code> version.</p>\n\n<pre><code>    allprojects {\n    apply plugin: 'java'\n    sourceCompatibility = 1.6\n    targetCompatibility = 1.6\n}\n</code></pre>\n\n<p>Also need to check <code>java</code> default path in <code>gradle.properties</code> file with version your project is use.</p>\n\n<p>You need to check <a href=\"https://discuss.gradle.org/t/cant-build-java-1-8-even-with-proper-java-version-in-use/2461\" rel=\"nofollow noreferrer\">Cant build Java 1.8 even with proper Java version in use</a> and <a href=\"https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set\">Gradle finds wrong JAVA_HOME even though it's correctly set</a> to get more idea about set <code>java</code> compile version gradle.</p>\n"},{"tags":[],"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654149229,"creation_date":1654149229,"answer_id":72471281,"question_id":34145664,"body_markdown":"As of JDK 9 (**) you will probably have better luck with the `--release` option (see https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler) rather than the `--source` and/or `--target` options.  The release option will ensure that the code is compiled in an environment with the correct (older) APIs, and that the generated bytecode will run in older environments too.\r\n\r\nIn Gradle this is exposed as `compileJava.options.release`, as in:\r\n\r\n```\r\ncompileJava.options.release = 8\r\n```\r\nto build source and bytecode for a JDK1.8 compatible environment.\r\n\r\nSee the Gradle documentation for more details:\r\nhttps://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation\r\n\r\n(**) See the [Warning](https://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation) in the Gradle documentation that a bug in JDK 9 means JDK 10 is effectively required.","title":"libGDX setup allows me to use Java 8 which crashes in Android","body":"<p>As of JDK 9 (**) you will probably have better luck with the <code>--release</code> option (see <a href=\"https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler\">What is the --release flag in the Java 9 compiler?</a>) rather than the <code>--source</code> and/or <code>--target</code> options.  The release option will ensure that the code is compiled in an environment with the correct (older) APIs, and that the generated bytecode will run in older environments too.</p>\n<p>In Gradle this is exposed as <code>compileJava.options.release</code>, as in:</p>\n<pre><code>compileJava.options.release = 8\n</code></pre>\n<p>to build source and bytecode for a JDK1.8 compatible environment.</p>\n<p>See the Gradle documentation for more details:\n<a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation</a></p>\n<p>(**) See the <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation\" rel=\"nofollow noreferrer\">Warning</a> in the Gradle documentation that a bug in JDK 9 means JDK 10 is effectively required.</p>\n"}],"owner":{"account_id":151346,"reputation":15394,"user_id":1219414,"accept_rate":86,"display_name":"Juan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1654149229,"creation_date":1449532832,"question_id":34145664,"body_markdown":"I&#39;m new to java/android so I&#39;m hoping this is a pretty easy thing to solve.\r\n\r\nI&#39;ve used [libGDX&#39;s setup][1] to create a project, which I then imported to Android Studio. I didn&#39;t know the [`Supplier`][2] interface was only available to Java 8, and used it in the core module, which as far as I understand, it compiles into a library that is shared by all android/html/desktop/ios versions of the game. The desktop version runs fine (I have Java 8 installed), but my android app crashes with a `NoClassDefFoundError` error (BTW, the error message was showing the name of classes that I wrote, and not `Supplier`, but the error disappeared as soon as I removed every reference to `Supplier` and came back when I added them, so apparently the error message doesn&#39;t show the actual problem class).\r\n\r\nIf I try to use `Supplier` in my android module, it won&#39;t even let me import the class, so it knows it doesn&#39;t support that Java version, but it&#39;ll happily let me use it in the core module without any warning. I&#39;m sure removing references to `Supplier` will solve the problem, but this fix may cause runtime errors later on if I inadvertently use any Java 8 features, so not a good way to solve it.\r\n\r\nI don&#39;t know where in the project is it set to use Java 8, and there seem to be a bunch of .gradle, .xml and .iml files which apparently are all related to configuration. Here is my `build.gradle` file in the core module:\r\n\r\n    apply plugin: &quot;java&quot;\r\n\r\n    sourceCompatibility = 1.6\r\n    [compileJava, compileTestJava]*.options*.encoding = &#39;UTF-8&#39;\r\n\r\n    sourceSets.main.java.srcDirs = [ &quot;src/&quot; ]\r\n\r\n\r\n    eclipse.project {\r\n        name = appName + &quot;-core&quot;\r\n    }\r\n\r\nAndroid studio shows the `sourceCompatibility = 1.6` line grayed out and says &quot;Assignment is not used&quot; when I hover over it. So that may be part of the problem. \r\n\r\nMy `core.iml` file contains this line too:\r\n\r\n    &lt;component name=&quot;NewModuleRootManager&quot; LANGUAGE_LEVEL=&quot;JDK_1_6&quot; inherit-compiler-output=&quot;false&quot;&gt;\r\n\r\nAlso, here is the `core` section in the root `build.gradle` file:\r\n\r\n    project(&quot;:core&quot;) {\r\n        apply plugin: &quot;java&quot;\r\n\r\n\r\n        dependencies {\r\n            compile &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n        }\r\n    }\r\n\r\nSo, what should I change to prevent it from letting me use Java 8 in my core project?\r\n\r\n  [1]: https://libgdx.badlogicgames.com/download.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html","title":"libGDX setup allows me to use Java 8 which crashes in Android","body":"<p>I'm new to java/android so I'm hoping this is a pretty easy thing to solve.</p>\n\n<p>I've used <a href=\"https://libgdx.badlogicgames.com/download.html\" rel=\"noreferrer\">libGDX's setup</a> to create a project, which I then imported to Android Studio. I didn't know the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier</code></a> interface was only available to Java 8, and used it in the core module, which as far as I understand, it compiles into a library that is shared by all android/html/desktop/ios versions of the game. The desktop version runs fine (I have Java 8 installed), but my android app crashes with a <code>NoClassDefFoundError</code> error (BTW, the error message was showing the name of classes that I wrote, and not <code>Supplier</code>, but the error disappeared as soon as I removed every reference to <code>Supplier</code> and came back when I added them, so apparently the error message doesn't show the actual problem class).</p>\n\n<p>If I try to use <code>Supplier</code> in my android module, it won't even let me import the class, so it knows it doesn't support that Java version, but it'll happily let me use it in the core module without any warning. I'm sure removing references to <code>Supplier</code> will solve the problem, but this fix may cause runtime errors later on if I inadvertently use any Java 8 features, so not a good way to solve it.</p>\n\n<p>I don't know where in the project is it set to use Java 8, and there seem to be a bunch of .gradle, .xml and .iml files which apparently are all related to configuration. Here is my <code>build.gradle</code> file in the core module:</p>\n\n<pre><code>apply plugin: \"java\"\n\nsourceCompatibility = 1.6\n[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'\n\nsourceSets.main.java.srcDirs = [ \"src/\" ]\n\n\neclipse.project {\n    name = appName + \"-core\"\n}\n</code></pre>\n\n<p>Android studio shows the <code>sourceCompatibility = 1.6</code> line grayed out and says \"Assignment is not used\" when I hover over it. So that may be part of the problem. </p>\n\n<p>My <code>core.iml</code> file contains this line too:</p>\n\n<pre><code>&lt;component name=\"NewModuleRootManager\" LANGUAGE_LEVEL=\"JDK_1_6\" inherit-compiler-output=\"false\"&gt;\n</code></pre>\n\n<p>Also, here is the <code>core</code> section in the root <code>build.gradle</code> file:</p>\n\n<pre><code>project(\":core\") {\n    apply plugin: \"java\"\n\n\n    dependencies {\n        compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n    }\n}\n</code></pre>\n\n<p>So, what should I change to prevent it from letting me use Java 8 in my core project?</p>\n"},{"tags":["java","visual-studio-code","jar"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654149130,"creation_date":1654149130,"answer_id":72471270,"question_id":72469227,"body_markdown":"In VS Code you can click the right arrow after **JAVA PROJECTS** to compile the `jar` file. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis will generate the `jar` file in your project root directory.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn addition, your error may be caused by inconsistent versions of `java` and `javac`. You can check with the following two commands respectively.\r\n```\r\njavac -version\r\njava -version\r\n```\r\nIf not, please modify your environment variables to ensure that the `java` and `javac` versions are the same.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O6xV8.png\r\n  [2]: https://i.stack.imgur.com/TvN1G.png","title":"How can I add assets folder when I create jar in vscode?","body":"<p>In VS Code you can click the right arrow after <strong>JAVA PROJECTS</strong> to compile the <code>jar</code> file.</p>\n<p><a href=\"https://i.stack.imgur.com/O6xV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6xV8.png\" alt=\"enter image description here\" /></a></p>\n<p>This will generate the <code>jar</code> file in your project root directory.</p>\n<p><a href=\"https://i.stack.imgur.com/TvN1G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvN1G.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, your error may be caused by inconsistent versions of <code>java</code> and <code>javac</code>. You can check with the following two commands respectively.</p>\n<pre><code>javac -version\njava -version\n</code></pre>\n<p>If not, please modify your environment variables to ensure that the <code>java</code> and <code>javac</code> versions are the same.</p>\n"}],"owner":{"account_id":22428494,"reputation":64,"user_id":16634727,"display_name":"Batmates"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654149130,"creation_date":1654128374,"question_id":72469227,"body_markdown":"I have my java project that I want to compile to jar file. But when I look inside the created jar file I can&#39;t see my assets folder.\r\nMy project structure looks like:\r\n```\r\nroot/\r\n+- src/\r\n|  |\r\n|  +- default-package/\r\n|     |\r\n|     +- .java files\r\n|\r\n+- assets/\r\n```\r\n\r\nIt also trows an error when I try to run it: `Error: A JNI error has occured...`","title":"How can I add assets folder when I create jar in vscode?","body":"<p>I have my java project that I want to compile to jar file. But when I look inside the created jar file I can't see my assets folder.\nMy project structure looks like:</p>\n<pre><code>root/\n+- src/\n|  |\n|  +- default-package/\n|     |\n|     +- .java files\n|\n+- assets/\n</code></pre>\n<p>It also trows an error when I try to run it: <code>Error: A JNI error has occured...</code></p>\n"},{"tags":["java","android","android-asynctask","completable-future"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653420402,"post_id":72368382,"comment_id":127847513,"body_markdown":"`join` is a blocking call and you are executing it on the UI thread since the function is invoked in a button callback.","body":"<code>join</code> is a blocking call and you are executing it on the UI thread since the function is invoked in a button callback."},{"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"score":0,"creation_date":1653420954,"post_id":72368382,"comment_id":127847673,"body_markdown":"Thank you by your response Gardener. I edited the question to show how I tried to run that blocking call inside a separate thread but was unable to get the Task result.","body":"Thank you by your response Gardener. I edited the question to show how I tried to run that blocking call inside a separate thread but was unable to get the Task result."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653421525,"post_id":72368382,"comment_id":127847835,"body_markdown":"I believe you want to use `.thenApply` on the `loginResponse` in place of the `join` and provide the remaining code (after the join) as the anonymous function parameter - it should use the caller&#39;s thread which in this case is the UI thread.  The `callEndpointEnviarSms` return is not used so not sure what the intent is there.","body":"I believe you want to use <code>.thenApply</code> on the <code>loginResponse</code> in place of the <code>join</code> and provide the remaining code (after the join) as the anonymous function parameter - it should use the caller&#39;s thread which in this case is the UI thread.  The <code>callEndpointEnviarSms</code> return is not used so not sure what the intent is there."},{"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"score":0,"creation_date":1653421719,"post_id":72368382,"comment_id":127847890,"body_markdown":"I&#39;ll try your suggestion, but I wonder if it would then create an &#39;android.os.NetworkOnMainThreadException&#39;?","body":"I&#39;ll try your suggestion, but I wonder if it would then create an &#39;android.os.NetworkOnMainThreadException&#39;?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653421762,"post_id":72368382,"comment_id":127847908,"body_markdown":"I do not see any network code in the code _following_ the `join` statement - but I may be missing something.","body":"I do not see any network code in the code <i>following</i> the <code>join</code> statement - but I may be missing something."},{"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"score":0,"creation_date":1654148519,"post_id":72368382,"comment_id":128023158,"body_markdown":"Sorry for disappointing you, Gardener. After days I&#39;m still unable to get it working. The blocking UI problem is even worse because I&#39;m even unable to show a loading progressDialog. I updated the question to show my failed attempts.","body":"Sorry for disappointing you, Gardener. After days I&#39;m still unable to get it working. The blocking UI problem is even worse because I&#39;m even unable to show a loading progressDialog. I updated the question to show my failed attempts."}],"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654148387,"creation_date":1653420010,"question_id":72368382,"body_markdown":"**Problem** \r\n\r\nAs a beginner in Android coming from Java and C# backends, I&#39;m not sure how to avoid the warning that &#39;too much work is being done in the main Thread&#39;. Since I&#39;m already using CompletableFuture to make my HTTP calls, I think I&#39;m not using the Main thread anymore.\r\n\r\n**Things I tried:**\r\n\r\n1. Ttried wrapping the controller as an AsyncTask(), but realized 1) is deprecated 2) got the cryptic error. \r\n\r\n&gt; Can&#39;t create handler inside thread that has not called\r\n&gt; Looper.prepare().\r\n\r\n2. Tried to wrap the controller into a Thread\r\n\r\n\r\n\r\n    \r\n           Thread thread = new Thread(new Runnable(){\r\n    \r\n          @Override\r\n          public void run(){\r\n\r\n//Controller code\r\n\r\n      }\r\n    });\r\n    thread.start();\r\n\r\n\r\nBut since it returns void, I am not able to get the result of the asynchronous operation once is finished.\r\n\r\n**Current status**\r\n\r\n\r\nHere&#39;s my current code, if you have time to take a look. Sorry about the non-English parts of the code, luckily these are not too relevant.\r\n\r\n**Activiy Code**\r\n\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n\r\n\r\n    public class SolicitarEnvioSMSConfirmacion extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_solicitar_envio_smsconfirmacion);\r\n    \r\n            cargarLogicaForm();\r\n        }\r\n    \r\n        public void cargarLogicaForm(){\r\n    \r\n            TextView textViewMsisdn = findViewById(R.id.textViewMsisdn);\r\n            Button buttonEnviarSms = findViewById(R.id.buttonEnviarSms);\r\n    \r\n    \r\n            buttonEnviarSms.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    clickEnButtonEnviarSms(textViewMsisdn.getText().toString());\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private void clickEnButtonEnviarSms(String msisdn){\r\n    \r\n            new ControladorSolicitarEnvioSMSConfirmacion().callEndpointEnviarSms(this,msisdn);\r\n    \r\n        }    \r\n    \r\n    }\r\n\r\n\r\n**Controller Code**\r\n\r\n    public class ControladorSolicitarEnvioSMSConfirmacion {\r\n\r\n        public AbstractMap.SimpleEntry&lt;String, HashMap&lt;String, Object&gt;&gt; callEndpointEnviarSms(Context context, String argMsisdn) {\r\n    \r\n            AbstractMap.SimpleEntry&lt;String, String&gt; futureRespuestaSolicitudEnvioSms;\r\n\r\n            HashMap&lt;String, Object&gt; mapRespuestaSolicitudEnvioSms = new HashMap&lt;String, Object&gt;();\r\n    \r\n            try {\r\n\r\n                PostOkHttp okHttp = new PostOkHttp();\r\n\r\n                JSONObject jsonRequest = new JSONObject();\r\n    \r\n                jsonRequest.put(&quot;msisdn&quot;, argMsisdn);            \r\n\r\n\r\n                CompletableFuture&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; loginResponse\r\n                        = CompletableFuture.supplyAsync(() -&gt; {\r\n\r\n                    try {\r\n                        return okHttp.post(Constantes.URL_SOLICITUD_ENVIO_SMS, jsonRequest.toString());\r\n\r\n                    } catch (Exception e) {\r\n\r\n                        e.printStackTrace();\r\n                        return new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;error&quot;, e.getMessage());\r\n                    }\r\n                });\r\n    \r\n                futureRespuestaSolicitudEnvioSms = loginResponse.join();\r\n    \r\n                JSONObject jsonResponse = new JSONObject(futureRespuestaSolicitudEnvioSms.getValue());\r\n    \r\n    \r\n                mapRespuestaSolicitudEnvioSms = new HashMap&lt;String, Object&gt;();\r\n    \r\n                mapRespuestaSolicitudEnvioSms.put(&quot;descripcion&quot;, jsonResponse.get(&quot;descripcion&quot;));\r\n                mapRespuestaSolicitudEnvioSms.put(&quot;exito&quot;, jsonResponse.getBoolean(&quot;exito&quot;));               \r\n    \r\n    \r\n                if (mapRespuestaSolicitudEnvioSms.get(&quot;exito&quot;).equals(Boolean.FALSE)) {\r\n    \r\n                    new MetodoDialogoError().mostrar(jsonResponse.get(&quot;descripcion&quot;).toString(),context);\r\n                    return new AbstractMap.SimpleEntry&lt;&gt;(jsonResponse.get(&quot;descripcion&quot;).toString(), mapRespuestaSolicitudEnvioSms);\r\n    \r\n                }\r\n    \r\n    \r\n            } catch (JSONException e) {\r\n    \r\n                new MetodoDialogoError().mostrar(&quot;Error interno de la aplicacion. &quot; + e.getMessage(),context);\r\n                e.printStackTrace();\r\n    \r\n            }    \r\n    \r\n        Intent intent = new Intent(context, ActivityConfirmarSMS.class);         \r\n        context.startActivity(intent);\r\n\r\n            new MessageBox().showOkDialog(&quot;TEST_SUCCESS&quot;,&quot;TEST_SUCCESS&quot;,context);\r\n            return new AbstractMap.SimpleEntry&lt;&gt;(Constantes.EXITO, mapRespuestaSolicitudEnvioSms);\r\n\r\n        }\r\n    }\r\n\r\n**Update 2022-06-02**\r\n\r\nI&#39;m back after [wasting days with the documentation][1] (shows mostly Kotlin and incomplete Java code) and unable to get Garener&#39;s advice working.\r\n\r\nOn the comments Gardener suggested me [(changing .join to ThenApply to avoid blocking the UI)][2]. \r\n\r\nWithout knowing any better, I ended up improvising a terrible hack using [this post][3]\r\n\r\n\r\n    public class ControladorLoginUsrExistente {\r\n    \r\n    \r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    \r\n        public void callEndpointLoginUsrExistente(Context context, String argEmail, String password) {\r\n    \r\n            executor.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    DialogoCargando dialogoCargando = new DialogoCargando();\r\n    \r\n                    try {\r\n    \r\n                        dialogoCargando.mostrar(context);\r\n    \r\n                        PostOkHttp okHttp = new PostOkHttp();\r\n                        JSONObject jsonRequest = new JSONObject();\r\n    \r\n                        jsonRequest.put(&quot;email&quot;, argEmail);\r\n                        jsonRequest.put(&quot;password&quot;, password);\r\n    \r\n                        CompletableFuture&lt;AbstractMap.SimpleEntry&lt;Boolean,String&gt;&gt; responseWebservice\r\n                                = CompletableFuture.supplyAsync(()-&gt; {\r\n                            return okHttp.post(Constantes.URL_ACCESO_USUARIO_EXISTENTE, jsonRequest.toString());\r\n                        }) ;\r\n    \r\n                        AbstractMap.SimpleEntry&lt;Boolean,String&gt; awaitedResponse = responseWebservice.join();\r\n    \r\n                        dialogoCargando.ocultar();\r\n    \r\n                        if(!awaitedResponse.getKey())\r\n                        {\r\n                            new MetodoDialogoError().mostrar(Constantes.MENSAJE_ERROR_CONECTIVIDAD, context);\r\n                            return;\r\n                        }\r\n    \r\n                        JSONObject jsonResponse = new JSONObject(awaitedResponse.getValue());\r\n    \r\n                        HashMap&lt;String, Object&gt; responseMapping = new HashMap&lt;String,Object&gt;();\r\n    \r\n                        responseMapping.put(&quot;descripcion&quot;,jsonResponse.get(&quot;descripcion&quot;).toString());\r\n                        responseMapping.put(&quot;exito&quot;,jsonResponse.getBoolean(&quot;exito&quot;));\r\n                        responseMapping.put(&quot;codigoHttp&quot;,jsonResponse.getInt(&quot;codigoHttp&quot;));\r\n                        responseMapping.put(&quot;respuestaTransaccion&quot;,jsonResponse.getJSONObject(&quot;respuestaTransaccion&quot;));\r\n    \r\n                        if (responseMapping.get(&quot;exito&quot;).equals(Boolean.TRUE)){                           \r\n    \r\n                            Log.i(null, &quot;Login ejecutado exitosamente, abriendo Actividad datos de usuario...&quot;);\r\n    \r\n                            Intent intent = new Intent(context, ActivityRedireccionDatosPersonales.class);\r\n    \r\n                            intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n                            context.startActivity(intent);\r\n                        }\r\n                        else\r\n                        {\r\n                            new MetodoDialogoError().mostrar(jsonResponse.get(&quot;descripcion&quot;).toString(),context);\r\n                            return;\r\n                        }\r\n    \r\n                    } catch (Exception e) {\r\n                        dialogoCargando.ocultar();\r\n                        e.printStackTrace();\r\n                        new MetodoDialogoError().mostrar(Constantes.MENSAJE_ERROR_INTERNO + &quot; POSTLOGIN &quot; + e.getMessage(),context);\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n\r\nI&#39;m keeping this terrible working hack until I get a better advice from S.O. \r\n\r\nEdit: The hack stopped working too. Added a little class to show a loading screen, as follows:\r\n\r\n    public class DialogoCargando {\r\n    \r\n        ProgressDialog progressDialog;\r\n    \r\n        public void mostrar(Context context){\r\n           \r\n            this.progressDialog = new ProgressDialog(context);\r\n            this.progressDialog.setTitle(&quot;Cargando&quot;);\r\n            this.progressDialog.setMessage(&quot;Por favor espera.&quot;);\r\n            this.progressDialog.setCancelable(false);\r\n            this.progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\r\n            this.progressDialog.show();\r\n    \r\n        }\r\n    \r\n        public void ocultar(){\r\n          \r\n            this.progressDialog.dismiss();\r\n        }\r\n    \r\n    }\r\n\r\nThis detonated a new error that sent me back to the beginning.\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1\r\n&gt;     Process: xxx.android.xxx, PID: 25314\r\n&gt;     java.lang.NullPointerException: Attempt to invoke virtual method &#39;void xxx.app.ProgressDialog.dismiss()&#39; on a null object reference\r\n&gt;         at xxx.android.yobiapp.xxx.DialogoCargando.ocultar(DialogoCargando.java:27)\r\n&gt;         at xxx.android.xxx.controladores.ControladorLoginUsrExistente$1.run\r\n\r\nAny advice will be appreciated\r\n\r\n\r\n  [1]: https://developer.android.com/guide/background/threading\r\n  [2]: https://www.callicoder.com/java-8-completablefuture-tutorial/\r\n  [3]: https://camposha.info/android-examples/android-executor/#gsc.tab=0","title":"Android Java Correct way to call Threads","body":"<p><strong>Problem</strong></p>\n<p>As a beginner in Android coming from Java and C# backends, I'm not sure how to avoid the warning that 'too much work is being done in the main Thread'. Since I'm already using CompletableFuture to make my HTTP calls, I think I'm not using the Main thread anymore.</p>\n<p><strong>Things I tried:</strong></p>\n<ol>\n<li>Ttried wrapping the controller as an AsyncTask(), but realized 1) is deprecated 2) got the cryptic error.</li>\n</ol>\n<blockquote>\n<p>Can't create handler inside thread that has not called\nLooper.prepare().</p>\n</blockquote>\n<ol start=\"2\">\n<li><p>Tried to wrap the controller into a Thread</p>\n<pre><code>    Thread thread = new Thread(new Runnable(){\n\n   @Override\n   public void run(){\n</code></pre>\n</li>\n</ol>\n<p>//Controller code</p>\n<pre><code>  }\n});\nthread.start();\n</code></pre>\n<p>But since it returns void, I am not able to get the result of the asynchronous operation once is finished.</p>\n<p><strong>Current status</strong></p>\n<p>Here's my current code, if you have time to take a look. Sorry about the non-English parts of the code, luckily these are not too relevant.</p>\n<p><strong>Activiy Code</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\n\npublic class SolicitarEnvioSMSConfirmacion extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_solicitar_envio_smsconfirmacion);\n\n        cargarLogicaForm();\n    }\n\n    public void cargarLogicaForm(){\n\n        TextView textViewMsisdn = findViewById(R.id.textViewMsisdn);\n        Button buttonEnviarSms = findViewById(R.id.buttonEnviarSms);\n\n\n        buttonEnviarSms.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                clickEnButtonEnviarSms(textViewMsisdn.getText().toString());\n            }\n        });\n\n    }\n\n    private void clickEnButtonEnviarSms(String msisdn){\n\n        new ControladorSolicitarEnvioSMSConfirmacion().callEndpointEnviarSms(this,msisdn);\n\n    }    \n\n}\n</code></pre>\n<p><strong>Controller Code</strong></p>\n<pre><code>public class ControladorSolicitarEnvioSMSConfirmacion {\n\n    public AbstractMap.SimpleEntry&lt;String, HashMap&lt;String, Object&gt;&gt; callEndpointEnviarSms(Context context, String argMsisdn) {\n\n        AbstractMap.SimpleEntry&lt;String, String&gt; futureRespuestaSolicitudEnvioSms;\n\n        HashMap&lt;String, Object&gt; mapRespuestaSolicitudEnvioSms = new HashMap&lt;String, Object&gt;();\n\n        try {\n\n            PostOkHttp okHttp = new PostOkHttp();\n\n            JSONObject jsonRequest = new JSONObject();\n\n            jsonRequest.put(&quot;msisdn&quot;, argMsisdn);            \n\n\n            CompletableFuture&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; loginResponse\n                    = CompletableFuture.supplyAsync(() -&gt; {\n\n                try {\n                    return okHttp.post(Constantes.URL_SOLICITUD_ENVIO_SMS, jsonRequest.toString());\n\n                } catch (Exception e) {\n\n                    e.printStackTrace();\n                    return new AbstractMap.SimpleEntry&lt;String, String&gt;(&quot;error&quot;, e.getMessage());\n                }\n            });\n\n            futureRespuestaSolicitudEnvioSms = loginResponse.join();\n\n            JSONObject jsonResponse = new JSONObject(futureRespuestaSolicitudEnvioSms.getValue());\n\n\n            mapRespuestaSolicitudEnvioSms = new HashMap&lt;String, Object&gt;();\n\n            mapRespuestaSolicitudEnvioSms.put(&quot;descripcion&quot;, jsonResponse.get(&quot;descripcion&quot;));\n            mapRespuestaSolicitudEnvioSms.put(&quot;exito&quot;, jsonResponse.getBoolean(&quot;exito&quot;));               \n\n\n            if (mapRespuestaSolicitudEnvioSms.get(&quot;exito&quot;).equals(Boolean.FALSE)) {\n\n                new MetodoDialogoError().mostrar(jsonResponse.get(&quot;descripcion&quot;).toString(),context);\n                return new AbstractMap.SimpleEntry&lt;&gt;(jsonResponse.get(&quot;descripcion&quot;).toString(), mapRespuestaSolicitudEnvioSms);\n\n            }\n\n\n        } catch (JSONException e) {\n\n            new MetodoDialogoError().mostrar(&quot;Error interno de la aplicacion. &quot; + e.getMessage(),context);\n            e.printStackTrace();\n\n        }    \n\n    Intent intent = new Intent(context, ActivityConfirmarSMS.class);         \n    context.startActivity(intent);\n\n        new MessageBox().showOkDialog(&quot;TEST_SUCCESS&quot;,&quot;TEST_SUCCESS&quot;,context);\n        return new AbstractMap.SimpleEntry&lt;&gt;(Constantes.EXITO, mapRespuestaSolicitudEnvioSms);\n\n    }\n}\n</code></pre>\n<p><strong>Update 2022-06-02</strong></p>\n<p>I'm back after <a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">wasting days with the documentation</a> (shows mostly Kotlin and incomplete Java code) and unable to get Garener's advice working.</p>\n<p>On the comments Gardener suggested me <a href=\"https://www.callicoder.com/java-8-completablefuture-tutorial/\" rel=\"nofollow noreferrer\">(changing .join to ThenApply to avoid blocking the UI)</a>.</p>\n<p>Without knowing any better, I ended up improvising a terrible hack using <a href=\"https://camposha.info/android-examples/android-executor/#gsc.tab=0\" rel=\"nofollow noreferrer\">this post</a></p>\n<pre><code>public class ControladorLoginUsrExistente {\n\n\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n\n    public void callEndpointLoginUsrExistente(Context context, String argEmail, String password) {\n\n        executor.execute(new Runnable() {\n            @Override\n            public void run() {\n\n                DialogoCargando dialogoCargando = new DialogoCargando();\n\n                try {\n\n                    dialogoCargando.mostrar(context);\n\n                    PostOkHttp okHttp = new PostOkHttp();\n                    JSONObject jsonRequest = new JSONObject();\n\n                    jsonRequest.put(&quot;email&quot;, argEmail);\n                    jsonRequest.put(&quot;password&quot;, password);\n\n                    CompletableFuture&lt;AbstractMap.SimpleEntry&lt;Boolean,String&gt;&gt; responseWebservice\n                            = CompletableFuture.supplyAsync(()-&gt; {\n                        return okHttp.post(Constantes.URL_ACCESO_USUARIO_EXISTENTE, jsonRequest.toString());\n                    }) ;\n\n                    AbstractMap.SimpleEntry&lt;Boolean,String&gt; awaitedResponse = responseWebservice.join();\n\n                    dialogoCargando.ocultar();\n\n                    if(!awaitedResponse.getKey())\n                    {\n                        new MetodoDialogoError().mostrar(Constantes.MENSAJE_ERROR_CONECTIVIDAD, context);\n                        return;\n                    }\n\n                    JSONObject jsonResponse = new JSONObject(awaitedResponse.getValue());\n\n                    HashMap&lt;String, Object&gt; responseMapping = new HashMap&lt;String,Object&gt;();\n\n                    responseMapping.put(&quot;descripcion&quot;,jsonResponse.get(&quot;descripcion&quot;).toString());\n                    responseMapping.put(&quot;exito&quot;,jsonResponse.getBoolean(&quot;exito&quot;));\n                    responseMapping.put(&quot;codigoHttp&quot;,jsonResponse.getInt(&quot;codigoHttp&quot;));\n                    responseMapping.put(&quot;respuestaTransaccion&quot;,jsonResponse.getJSONObject(&quot;respuestaTransaccion&quot;));\n\n                    if (responseMapping.get(&quot;exito&quot;).equals(Boolean.TRUE)){                           \n\n                        Log.i(null, &quot;Login ejecutado exitosamente, abriendo Actividad datos de usuario...&quot;);\n\n                        Intent intent = new Intent(context, ActivityRedireccionDatosPersonales.class);\n\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n                        context.startActivity(intent);\n                    }\n                    else\n                    {\n                        new MetodoDialogoError().mostrar(jsonResponse.get(&quot;descripcion&quot;).toString(),context);\n                        return;\n                    }\n\n                } catch (Exception e) {\n                    dialogoCargando.ocultar();\n                    e.printStackTrace();\n                    new MetodoDialogoError().mostrar(Constantes.MENSAJE_ERROR_INTERNO + &quot; POSTLOGIN &quot; + e.getMessage(),context);\n                }\n\n            }\n        });\n\n\n    }\n</code></pre>\n<p>I'm keeping this terrible working hack until I get a better advice from S.O.</p>\n<p>Edit: The hack stopped working too. Added a little class to show a loading screen, as follows:</p>\n<pre><code>public class DialogoCargando {\n\n    ProgressDialog progressDialog;\n\n    public void mostrar(Context context){\n       \n        this.progressDialog = new ProgressDialog(context);\n        this.progressDialog.setTitle(&quot;Cargando&quot;);\n        this.progressDialog.setMessage(&quot;Por favor espera.&quot;);\n        this.progressDialog.setCancelable(false);\n        this.progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\n        this.progressDialog.show();\n\n    }\n\n    public void ocultar(){\n      \n        this.progressDialog.dismiss();\n    }\n\n}\n</code></pre>\n<p>This detonated a new error that sent me back to the beginning.</p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1\nProcess: xxx.android.xxx, PID: 25314\njava.lang.NullPointerException: Attempt to invoke virtual method 'void xxx.app.ProgressDialog.dismiss()' on a null object reference\nat xxx.android.yobiapp.xxx.DialogoCargando.ocultar(DialogoCargando.java:27)\nat xxx.android.xxx.controladores.ControladorLoginUsrExistente$1.run</p>\n</blockquote>\n<p>Any advice will be appreciated</p>\n"},{"tags":["java","image","file","converters"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1654012093,"post_id":72450727,"comment_id":127988625,"body_markdown":"Im voting to close this question because questions must be in English.","body":"Im voting to close this question because questions must be in English."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654146220,"post_id":72450727,"comment_id":128022733,"body_markdown":"Java doesn&#39;t really support RAW by default. https://stackoverflow.com/questions/54546180/how-to-import-and-export-a-raw-image-in-java you have the options of writing your own encoder, using a library, or saving the image in a different format and using a different conversion utility.","body":"Java doesn&#39;t really support RAW by default. <a href=\"https://stackoverflow.com/questions/54546180/how-to-import-and-export-a-raw-image-in-java\" title=\"how to import and export a raw image in java\">stackoverflow.com/questions/54546180/&hellip;</a> you have the options of writing your own encoder, using a library, or saving the image in a different format and using a different conversion utility."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654147893,"creation_date":1654147893,"answer_id":72471109,"question_id":72450727,"body_markdown":"You cannot use ImageIO to write raw. You could get the &quot;raw bytes&quot; of your image and write them to a file though.\r\n\r\nIf you already have your buffered image, you could try the inverse of this answer. https://stackoverflow.com/a/54578326/2067492\r\n\r\n    int[] rgb = imagenBuffered.getRGB(0, 0, width, height, null, width);\r\n    ByteBuffer bb = ByteBuffer.allocate( rgb.length*4 );\r\n    bb.asIntBuffer().put(rgb);\r\n    \r\n    bytes = bb.array();\r\n\r\nThis would write all of the pixels to a byte[], no headers or information about the data, just 4 byte rgba as returned by getRGB.","title":"how to fill a raw file with an image buffer, using an alternative to ImageIO.write","body":"<p>You cannot use ImageIO to write raw. You could get the &quot;raw bytes&quot; of your image and write them to a file though.</p>\n<p>If you already have your buffered image, you could try the inverse of this answer. <a href=\"https://stackoverflow.com/a/54578326/2067492\">https://stackoverflow.com/a/54578326/2067492</a></p>\n<pre><code>int[] rgb = imagenBuffered.getRGB(0, 0, width, height, null, width);\nByteBuffer bb = ByteBuffer.allocate( rgb.length*4 );\nbb.asIntBuffer().put(rgb);\n\nbytes = bb.array();\n</code></pre>\n<p>This would write all of the pixels to a byte[], no headers or information about the data, just 4 byte rgba as returned by getRGB.</p>\n"}],"owner":{"account_id":14998831,"reputation":1,"user_id":10827211,"display_name":"Armando Rafael Moreno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1654147893,"creation_date":1654012017,"question_id":72450727,"body_markdown":"The problem is that `ImageIO.write` does not recognize the raw format, so the file does not fill it. I tried the same code with `png` and it created it correctly. Is there some alternative to `ImageIO.write` or some other way to create a **raw, raw byte file**? Is there some conversion alternative for an image in Fid format?\r\n\r\n - Fid Image to raw\r\n \r\n - Buffered image to raw \r\n\r\n\r\n\r\n\r\nHere I create the file I have indicated the address:\r\n\r\n    private void  RAWCompression(Fid.Fiv imagen) throws IOException{\r\n        JFileChooser fileChooser = new JFileChooser(System.getProperty(&quot;java.library.path&quot;));\r\n            fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n        fileChooser.setSelectedFile(new File(&quot;HuellaRaw.raw&quot;));\r\n        fileChooser.showSaveDialog(null);\r\n        File dir = fileChooser.getSelectedFile();\r\n        File file = new File(dir.getAbsolutePath() + &quot;/&quot; + &quot;HuellaRaw.raw&quot;);\r\n        System.out.println(file);\r\n        //Create file \r\n        try {\r\n            file.createNewFile();\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Capture.class.getName()).log(Level.SEVERE, null, ex);\r\n        }  \r\n\r\nI send the image to `buferrtd`:\r\n\r\n    BufferedImage imagenBuffered = new BufferedImage(imagen.getWidth(), imagen.getHeight(), BufferedImage.TYPE_BYTE_GRAY);\r\n    imagenBuffered.getRaster().setDataElements(0, 0, imagen.getWidth(), imagen.getHeight(), imagen.getData());\r\n\r\nI fill the file and convert it to bytes:\r\n\r\n    //convert BufferedImage to byte \r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    ImageIO.write(imagenBuffered, &quot;raw&quot;, baos);\r\n    byte[] bytes = baos.toByteArray();\r\n    //FileUtils.writeByteArrayToFile(file, bytes);\r\n    try (FileOutputStream os = new FileOutputStream(file)) {\r\n        os.write(bytes);\r\n    } catch (Exception e) {\r\n        System.err.print(&quot;imagen Error wri &quot; + imagen.getImageData() + &quot;\\n&quot;);\r\n    }\r\n\r\nThis line does not fill the raw file:  \r\n(If I change `raw` to `png` then it does fill the file.)\r\n\r\n    ImageIO.write(imagenBuffered, &quot;raw&quot;, baos);\r\n\r\nThis line of code with `png` is created correctly:\r\n\r\n    ImageIO.write(imagenBuffered, &quot;png&quot;, baos);\r\n","title":"how to fill a raw file with an image buffer, using an alternative to ImageIO.write","body":"<p>The problem is that <code>ImageIO.write</code> does not recognize the raw format, so the file does not fill it. I tried the same code with <code>png</code> and it created it correctly. Is there some alternative to <code>ImageIO.write</code> or some other way to create a <strong>raw, raw byte file</strong>? Is there some conversion alternative for an image in Fid format?</p>\n<ul>\n<li><p>Fid Image to raw</p>\n</li>\n<li><p>Buffered image to raw</p>\n</li>\n</ul>\n<p>Here I create the file I have indicated the address:</p>\n<pre><code>private void  RAWCompression(Fid.Fiv imagen) throws IOException{\n    JFileChooser fileChooser = new JFileChooser(System.getProperty(&quot;java.library.path&quot;));\n        fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n    fileChooser.setSelectedFile(new File(&quot;HuellaRaw.raw&quot;));\n    fileChooser.showSaveDialog(null);\n    File dir = fileChooser.getSelectedFile();\n    File file = new File(dir.getAbsolutePath() + &quot;/&quot; + &quot;HuellaRaw.raw&quot;);\n    System.out.println(file);\n    //Create file \n    try {\n        file.createNewFile();\n    } catch (IOException ex) {\n        Logger.getLogger(Capture.class.getName()).log(Level.SEVERE, null, ex);\n    }  \n</code></pre>\n<p>I send the image to <code>buferrtd</code>:</p>\n<pre><code>BufferedImage imagenBuffered = new BufferedImage(imagen.getWidth(), imagen.getHeight(), BufferedImage.TYPE_BYTE_GRAY);\nimagenBuffered.getRaster().setDataElements(0, 0, imagen.getWidth(), imagen.getHeight(), imagen.getData());\n</code></pre>\n<p>I fill the file and convert it to bytes:</p>\n<pre><code>//convert BufferedImage to byte \nByteArrayOutputStream baos = new ByteArrayOutputStream();\nImageIO.write(imagenBuffered, &quot;raw&quot;, baos);\nbyte[] bytes = baos.toByteArray();\n//FileUtils.writeByteArrayToFile(file, bytes);\ntry (FileOutputStream os = new FileOutputStream(file)) {\n    os.write(bytes);\n} catch (Exception e) {\n    System.err.print(&quot;imagen Error wri &quot; + imagen.getImageData() + &quot;\\n&quot;);\n}\n</code></pre>\n<p>This line does not fill the raw file:<br />\n(If I change <code>raw</code> to <code>png</code> then it does fill the file.)</p>\n<pre><code>ImageIO.write(imagenBuffered, &quot;raw&quot;, baos);\n</code></pre>\n<p>This line of code with <code>png</code> is created correctly:</p>\n<pre><code>ImageIO.write(imagenBuffered, &quot;png&quot;, baos);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8697,"page":1295,"page_size":100}
