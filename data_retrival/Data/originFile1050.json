{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662562579,"post_id":73637167,"comment_id":130035704,"body_markdown":"I nowhere see the UTF-8 encoding to be applied to get a string from the bytes - also why do you re-encode your byte array `data` after decoding it?\nTo give you a better solution in an answer, please provide a runnable [mre] with test data.","body":"I nowhere see the UTF-8 encoding to be applied to get a string from the bytes - also why do you re-encode your byte array <code>data</code> after decoding it? To give you a better solution in an answer, please provide a runnable <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with test data."},{"owner":{"account_id":26267818,"reputation":3,"user_id":19938118,"display_name":"KebCoding"},"score":0,"creation_date":1662617202,"post_id":73637167,"comment_id":130047912,"body_markdown":"the bytes in decodeStream seems to be not encoded. But a decode method is called in BASE64DecoderStream.read(). Therefore the data is encoded through the decode. Thats my assumption on the behaviour i got.","body":"the bytes in decodeStream seems to be not encoded. But a decode method is called in BASE64DecoderStream.read(). Therefore the data is encoded through the decode. Thats my assumption on the behaviour i got."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662625873,"post_id":73637167,"comment_id":130050388,"body_markdown":"You are using a `BASE64DecoderStream` that reads base64 encoded data and returns raw bytes for you. You just have to use `new String(data, StandardCharsets.UTF_8)` to get your plain text from that... &quot;encoded through the decode&quot;? no! Please provide some of your test data also in base64 encoded form so I can give a better example in an answer.","body":"You are using a <code>BASE64DecoderStream</code> that reads base64 encoded data and returns raw bytes for you. You just have to use <code>new String(data, StandardCharsets.UTF_8)</code> to get your plain text from that... &quot;encoded through the decode&quot;? no! Please provide some of your test data also in base64 encoded form so I can give a better example in an answer."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662660638,"creation_date":1662660638,"answer_id":73653425,"question_id":73637167,"body_markdown":"I prepared some small example for you.\r\n\r\nFirst expected output string is obviously &quot;Test mit &#220;ml&#228;uten. &#246;&#246;&#246;&#223;&#223;&#223;&quot;. Second expected output string is &quot;BASE64 Test mit &#220;ml&#228;uten. &#246;&#246;&#246;&#223;&#223;&#223;&quot;. I encoded it externally.\r\n\r\nI didn&#39;t use any utils for reading in the streams.\r\n\r\n``` lang-java\r\npackage examples.stackoverflow.q73637167;\r\n\r\nimport com.sun.xml.internal.messaging.saaj.packaging.mime.util.BASE64DecoderStream;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Q73637167 {\r\n\tprivate static String decodeMessage(InputStream message, Charset charset) throws IOException {\r\n\t\tString result = &quot;&quot;;\r\n\t\tif(message instanceof ByteArrayInputStream) {\r\n\t\t\tByteArrayInputStream bis = (ByteArrayInputStream) message;\r\n\t\t\tbyte[] data = new byte[bis.available()];\r\n\t\t\tbis.read(data);\r\n\t\t\tresult = new String(data, charset);\r\n\t\t} else if(message instanceof BASE64DecoderStream) {\r\n\t\t\tBASE64DecoderStream decodeStream = (BASE64DecoderStream) message;\r\n\r\n\t\t\t// Read all the bytes from the array in an ever growing buffer.\r\n\t\t\t// Didn&#39;t use any utils for minimum dependencies. Don&#39;t to this at home!\r\n\t\t\tbyte[] data = new byte[1024];\r\n\t\t\tint count = decodeStream.read(data);\r\n\t\t\tint startPos = 0;\r\n\t\t\twhile(count == 1024) {\r\n\t\t\t\tbyte[] addBuffer = new byte[data.length + 1024];\r\n\t\t\t\tSystem.arraycopy(data, 0, addBuffer, 0, data.length);\r\n\t\t\t\tstartPos = data.length;\r\n\t\t\t\tdata = addBuffer;\r\n\t\t\t\tcount = decodeStream.read(data, startPos, 1024);\r\n\t\t\t}\r\n\t\t\tint maxlen = data.length - 1024 + count;\r\n\r\n\t\t\t// convert already decoded data in byte array to String.\r\n\t\t\tresult = new String(data, 0, maxlen, charset);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// case 1: plain text\r\n\t\tByteArrayInputStream byis = new ByteArrayInputStream(\r\n\t\t\t\t&quot;Test mit &#220;ml&#228;uten. &#246;&#246;&#246;&#223;&#223;&#223;&quot;.getBytes(StandardCharsets.UTF_8));\r\n\t\tSystem.out.println(&quot;Plain text case: &quot; + decodeMessage(byis, StandardCharsets.UTF_8));\r\n\r\n\t\t// case 2: base64 encoded\r\n\t\tBASE64DecoderStream b64is = new BASE64DecoderStream(new ByteArrayInputStream(\r\n\t\t\t\t&quot;QkFTRTY0IFRlc3QgbWl0IMOcbWzDpHV0ZW4uIMO2w7bDtsOfw5/Dnwo=&quot;.getBytes(StandardCharsets.US_ASCII)));\r\n\t\tSystem.out.println(&quot;Base64 case: &quot; + decodeMessage(b64is, StandardCharsets.UTF_8));\r\n\t}\r\n}\r\n```\r\n\r\nIf you want to process messages but not actually send them, I would recommend that you switch from java.mail-api to a different library: [Mime4J](https://james.apache.org/mime4j/index.html), a subproject of Apache James (a java mail server).\r\n\r\nWith that, message parsing is as easy as this:\r\n```\r\nMessageBuilder messageBuilder = new DefaultMessageBuilder();\r\nMessage message = messageBuilder.parseMessage(inputStream);\r\n```\r\nand you get back a nice DOM for your mime messages. (`inputStream` here is any `InputStream`, not specific for encoded or not encoded etc.)\r\nAll classes you see are part of the libs. I just found this lib recently for one of my own projects. If you use only the necessary parts, it&#39;s really small and quick. (I just needed apache-mime4j-core and apache-mime4j-dom for parsing messages from files.)","title":"BASE64DecoderStream message content to string (javax.mail)","body":"<p>I prepared some small example for you.</p>\n<p>First expected output string is obviously &quot;Test mit Ümläuten. ööößßß&quot;. Second expected output string is &quot;BASE64 Test mit Ümläuten. ööößßß&quot;. I encoded it externally.</p>\n<p>I didn't use any utils for reading in the streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package examples.stackoverflow.q73637167;\n\nimport com.sun.xml.internal.messaging.saaj.packaging.mime.util.BASE64DecoderStream;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class Q73637167 {\n    private static String decodeMessage(InputStream message, Charset charset) throws IOException {\n        String result = &quot;&quot;;\n        if(message instanceof ByteArrayInputStream) {\n            ByteArrayInputStream bis = (ByteArrayInputStream) message;\n            byte[] data = new byte[bis.available()];\n            bis.read(data);\n            result = new String(data, charset);\n        } else if(message instanceof BASE64DecoderStream) {\n            BASE64DecoderStream decodeStream = (BASE64DecoderStream) message;\n\n            // Read all the bytes from the array in an ever growing buffer.\n            // Didn't use any utils for minimum dependencies. Don't to this at home!\n            byte[] data = new byte[1024];\n            int count = decodeStream.read(data);\n            int startPos = 0;\n            while(count == 1024) {\n                byte[] addBuffer = new byte[data.length + 1024];\n                System.arraycopy(data, 0, addBuffer, 0, data.length);\n                startPos = data.length;\n                data = addBuffer;\n                count = decodeStream.read(data, startPos, 1024);\n            }\n            int maxlen = data.length - 1024 + count;\n\n            // convert already decoded data in byte array to String.\n            result = new String(data, 0, maxlen, charset);\n        }\n        return result;\n    }\n\n    public static void main(String[] args) throws IOException {\n        // case 1: plain text\n        ByteArrayInputStream byis = new ByteArrayInputStream(\n                &quot;Test mit Ümläuten. ööößßß&quot;.getBytes(StandardCharsets.UTF_8));\n        System.out.println(&quot;Plain text case: &quot; + decodeMessage(byis, StandardCharsets.UTF_8));\n\n        // case 2: base64 encoded\n        BASE64DecoderStream b64is = new BASE64DecoderStream(new ByteArrayInputStream(\n                &quot;QkFTRTY0IFRlc3QgbWl0IMOcbWzDpHV0ZW4uIMO2w7bDtsOfw5/Dnwo=&quot;.getBytes(StandardCharsets.US_ASCII)));\n        System.out.println(&quot;Base64 case: &quot; + decodeMessage(b64is, StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>If you want to process messages but not actually send them, I would recommend that you switch from java.mail-api to a different library: <a href=\"https://james.apache.org/mime4j/index.html\" rel=\"nofollow noreferrer\">Mime4J</a>, a subproject of Apache James (a java mail server).</p>\n<p>With that, message parsing is as easy as this:</p>\n<pre><code>MessageBuilder messageBuilder = new DefaultMessageBuilder();\nMessage message = messageBuilder.parseMessage(inputStream);\n</code></pre>\n<p>and you get back a nice DOM for your mime messages. (<code>inputStream</code> here is any <code>InputStream</code>, not specific for encoded or not encoded etc.)\nAll classes you see are part of the libs. I just found this lib recently for one of my own projects. If you use only the necessary parts, it's really small and quick. (I just needed apache-mime4j-core and apache-mime4j-dom for parsing messages from files.)</p>\n"}],"owner":{"account_id":26267818,"reputation":3,"user_id":19938118,"display_name":"KebCoding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73653425,"answer_count":1,"score":0,"last_activity_date":1662660638,"creation_date":1662560636,"question_id":73637167,"body_markdown":"javax.mail Version 1.6.2\r\njava version : jdk1.8.0_192\r\n\r\nI  try getting my message content (a simple Text) as string(plainText) but have a problem if my content is of type BASE64DecoderStream.\r\nThe message content should be a string similar to this :&quot;Testnachricht 1 von 10:10 Uhr mit Umlauten &#228; &#252; &#246; und &#223; - Gleicher Text im Inhalt mit Versand und Lesebest&#228;tigung&quot;\r\n\r\nBut on decoding I got two different behaviours with the same code:\r\n- the expected string but without any spaces or umlauts(&#228;,&#252;,&#246;) similar to: &quot;Testnachricht1von10:10UhrmitUmlautenundGleicherText&quot;\r\n- or an error:&quot;BASE64Decoder: Error in encoded stream needed 4 valid base64 characters but only got 2 befor EOF, the 10 most recent characters were &#39;epr\\195\\188ft.\\r\\n&#39;&quot;\r\n\r\n```\r\n    private void processMessageText(Message message, MimeMessage mimeMessage){\r\n        String plainText;\r\n        Object content = message.getContent();\r\n        if (content instanceof ByteArrayInputStream) {\r\n            ByteArrayInputStream bis = (ByteArrayInputStream)content;\r\n            byte[] data = ObjectUtil.readFully(bis);\r\n            plainText = new String(data);\r\n        } else if (content instanceof BASE64DecoderStream) {\r\n            BASE64DecoderStream decodeStream = (BASE64DecoderStream) content;\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int c;\r\n            while ((c = decodeStream.read()) != -1) {\r\n                out.write(c);\r\n            }\r\n            byte[] data = out.toByteArray();\r\n            plainText = Base64.getEncoder().encodeToString(data);\r\n\r\n        } else {\r\n            plainText = content.toString();\r\n        }\r\n    }\r\n```\r\nBecause of the old versions in use, IOUtils.toByteArray(BASE64DecoderStream) or .readAllBytes() is not possible ( https://stackoverflow.com/questions/2764504/getting-base64-content-string-of-an-image-from-a-mimepart-in-java)\r\n\r\n\r\n\r\nthe content related headers in message :\r\n- Content-Type = application/pkcs7-mime; smime-type=authenticated-enveloped-data; name=smime.p7m\r\n- Content-Disposition = attachment; filename=smime.p7m\r\n- Content-Transfer-Encoding = base64\r\n\r\nthe content related headers in mimeMessage:\r\n- Content-Type = text/plain; charset=utf-8; format=flowed\r\n- Content-Transfer-Encoding = 8bit\r\n\r\n\r\n\r\n","title":"BASE64DecoderStream message content to string (javax.mail)","body":"<p>javax.mail Version 1.6.2\njava version : jdk1.8.0_192</p>\n<p>I  try getting my message content (a simple Text) as string(plainText) but have a problem if my content is of type BASE64DecoderStream.\nThe message content should be a string similar to this :&quot;Testnachricht 1 von 10:10 Uhr mit Umlauten ä ü ö und ß - Gleicher Text im Inhalt mit Versand und Lesebestätigung&quot;</p>\n<p>But on decoding I got two different behaviours with the same code:</p>\n<ul>\n<li>the expected string but without any spaces or umlauts(ä,ü,ö) similar to: &quot;Testnachricht1von10:10UhrmitUmlautenundGleicherText&quot;</li>\n<li>or an error:&quot;BASE64Decoder: Error in encoded stream needed 4 valid base64 characters but only got 2 befor EOF, the 10 most recent characters were 'epr\\195\\188ft.\\r\\n'&quot;</li>\n</ul>\n<pre><code>    private void processMessageText(Message message, MimeMessage mimeMessage){\n        String plainText;\n        Object content = message.getContent();\n        if (content instanceof ByteArrayInputStream) {\n            ByteArrayInputStream bis = (ByteArrayInputStream)content;\n            byte[] data = ObjectUtil.readFully(bis);\n            plainText = new String(data);\n        } else if (content instanceof BASE64DecoderStream) {\n            BASE64DecoderStream decodeStream = (BASE64DecoderStream) content;\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            int c;\n            while ((c = decodeStream.read()) != -1) {\n                out.write(c);\n            }\n            byte[] data = out.toByteArray();\n            plainText = Base64.getEncoder().encodeToString(data);\n\n        } else {\n            plainText = content.toString();\n        }\n    }\n</code></pre>\n<p>Because of the old versions in use, IOUtils.toByteArray(BASE64DecoderStream) or .readAllBytes() is not possible ( <a href=\"https://stackoverflow.com/questions/2764504/getting-base64-content-string-of-an-image-from-a-mimepart-in-java\">getting base64 content string of an image from a mimepart in Java</a>)</p>\n<p>the content related headers in message :</p>\n<ul>\n<li>Content-Type = application/pkcs7-mime; smime-type=authenticated-enveloped-data; name=smime.p7m</li>\n<li>Content-Disposition = attachment; filename=smime.p7m</li>\n<li>Content-Transfer-Encoding = base64</li>\n</ul>\n<p>the content related headers in mimeMessage:</p>\n<ul>\n<li>Content-Type = text/plain; charset=utf-8; format=flowed</li>\n<li>Content-Transfer-Encoding = 8bit</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26283777,"reputation":11,"user_id":19951859,"display_name":"wildfireshtc"},"score":0,"creation_date":1662658729,"post_id":73652943,"comment_id":130062887,"body_markdown":"I solved the question ;-) Thank you very much for your attention! Good luck to you!","body":"I solved the question ;-) Thank you very much for your attention! Good luck to you!"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1662658795,"post_id":73652943,"comment_id":130062907,"body_markdown":"You can post an answer if you solved your problem and think it would be helpful to others","body":"You can post an answer if you solved your problem and think it would be helpful to others"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662658883,"post_id":73652943,"comment_id":130062935,"body_markdown":"@wildfireshtc what&#39;s the answer?","body":"@wildfireshtc what&#39;s the answer?"}],"answers":[{"tags":[],"owner":{"account_id":19072880,"reputation":106,"user_id":13926672,"display_name":"Vahe Aslanyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662660605,"creation_date":1662660605,"answer_id":73653417,"question_id":73652943,"body_markdown":"One way you can achieve this is by splitting the string into two and replacing the characters only on the second string, should look something like this:\r\n\r\n    String s = &quot;name surname patname&quot;;\r\n\r\n    //splitting at a space character and setting limit of how many strings it is split into\r\n    String[] sArr = s.split(&quot; &quot;, 2); \r\n    \r\n    System.out.println(sArr[0] + &quot; &quot; + sArr[1].replaceAll(&quot;\\\\B.\\\\B&quot;, &quot;*&quot;));\r\n\r\nthis should have your desired output: `name s*****e p*****e` \r\n","title":"How to replace only the surname and patronymic with &quot; * &quot;?","body":"<p>One way you can achieve this is by splitting the string into two and replacing the characters only on the second string, should look something like this:</p>\n<pre><code>String s = &quot;name surname patname&quot;;\n\n//splitting at a space character and setting limit of how many strings it is split into\nString[] sArr = s.split(&quot; &quot;, 2); \n\nSystem.out.println(sArr[0] + &quot; &quot; + sArr[1].replaceAll(&quot;\\\\B.\\\\B&quot;, &quot;*&quot;));\n</code></pre>\n<p>this should have your desired output: <code>name s*****e p*****e</code></p>\n"}],"owner":{"account_id":26283777,"reputation":11,"user_id":19951859,"display_name":"wildfireshtc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662660605,"creation_date":1662657710,"question_id":73652943,"body_markdown":"Could you please help me? I have &quot;name surname patronomyc&quot;. I only want to replace the &quot;surname patronomyc&quot; with &quot; * &quot;. I can only replace everything with &quot; * &quot;.\r\n```java\r\nString s = &quot;name surname patname&quot;;\r\nSystem.out.println(s.replaceAll( &quot;\\\\B.\\\\B&quot;, &quot;*&quot; ))\r\n```\r\nOutput -- `n ** e s****e p ****e`\r\n\r\nHow to replace only the surname and patronymic with &quot; * &quot;?\r\n\r\nExample: `name s ***** e p ***** e`\r\n","title":"How to replace only the surname and patronymic with &quot; * &quot;?","body":"<p>Could you please help me? I have &quot;name surname patronomyc&quot;. I only want to replace the &quot;surname patronomyc&quot; with &quot; * &quot;. I can only replace everything with &quot; * &quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;name surname patname&quot;;\nSystem.out.println(s.replaceAll( &quot;\\\\B.\\\\B&quot;, &quot;*&quot; ))\n</code></pre>\n<p>Output -- <code>n ** e s****e p ****e</code></p>\n<p>How to replace only the surname and patronymic with &quot; * &quot;?</p>\n<p>Example: <code>name s ***** e p ***** e</code></p>\n"},{"tags":["java","garbage-collection","zgc"],"comments":[{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":1,"creation_date":1662659496,"post_id":69830560,"comment_id":130063111,"body_markdown":"Just few questions to understand the context and how you concluded that the JVM got stuck in GC. 1- What version of Oracle JDK are you using? 2- What JVM options are you using? 3- Did you enable GC log file (**) to understand the behavior of this JVM ? * Given you asked for ZGC (debuted in Java 11), GC log file is enabled with:\na- G1: -Xlog:gc*:time,gc+phases=debug:file=gc.log OR\nb- non-G1: -Xlog:gc*:file=gc.log","body":"Just few questions to understand the context and how you concluded that the JVM got stuck in GC. 1- What version of Oracle JDK are you using? 2- What JVM options are you using? 3- Did you enable GC log file (<i>*) to understand the behavior of this JVM ? * Given you asked for ZGC (debuted in Java 11), GC log file is enabled with: a- G1: -Xlog:gc</i>:time,gc+phases=debug:file=gc.log OR b- non-G1: -Xlog:gc*:file=gc.log"}],"answers":[{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662659641,"creation_date":1662659641,"answer_id":73653264,"question_id":69830560,"body_markdown":"Use this simple command to verify if that JVM option is enabled:\r\n\r\n    java -XX:+PrintFlagsFinal -XX:+UseZGC -version | grep -i Overhead\r\n         bool UseGCOverheadLimit                       = true                                      {product} {default}\r\n    java version &quot;17.0.3.1&quot; 2022-04-22 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)","title":"Is UseGCOverheadLimit supported by ZGC?","body":"<p>Use this simple command to verify if that JVM option is enabled:</p>\n<pre><code>java -XX:+PrintFlagsFinal -XX:+UseZGC -version | grep -i Overhead\n     bool UseGCOverheadLimit                       = true                                      {product} {default}\njava version &quot;17.0.3.1&quot; 2022-04-22 LTS\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":83500,"reputation":2830,"user_id":234073,"accept_rate":86,"display_name":"hotzen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73653264,"answer_count":1,"score":0,"last_activity_date":1662659641,"creation_date":1635966855,"question_id":69830560,"body_markdown":"we are currently using `G1GC` which [does _not_ honour/support](https://stackoverflow.com/questions/45925980/is-usegcoverheadlimit-supported-with-g1-gc/45927722#45927722) `UseGCOverheadLimit`, so our app is sometimes completely stuck in GC-thrashing and the jvm never aborts/crashes.\r\n\r\nJust checking which options we do have, [according to this overview](https://docs.oracle.com/en/java/javase/11/gctuning/available-collectors.html#GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C) the latest GC is [ZGC](https://wiki.openjdk.java.net/display/zgc/Main) but I can&#39;t find anything whether `ZGC` actually supports the overhead limit?","title":"Is UseGCOverheadLimit supported by ZGC?","body":"<p>we are currently using <code>G1GC</code> which <a href=\"https://stackoverflow.com/questions/45925980/is-usegcoverheadlimit-supported-with-g1-gc/45927722#45927722\">does <em>not</em> honour/support</a> <code>UseGCOverheadLimit</code>, so our app is sometimes completely stuck in GC-thrashing and the jvm never aborts/crashes.</p>\n<p>Just checking which options we do have, <a href=\"https://docs.oracle.com/en/java/javase/11/gctuning/available-collectors.html#GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C\" rel=\"nofollow noreferrer\">according to this overview</a> the latest GC is <a href=\"https://wiki.openjdk.java.net/display/zgc/Main\" rel=\"nofollow noreferrer\">ZGC</a> but I can't find anything whether <code>ZGC</code> actually supports the overhead limit?</p>\n"},{"tags":["java","json","tree","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662294558,"creation_date":1662294230,"answer_id":73599365,"question_id":73598200,"body_markdown":"Need to separate the objects by both the `id` and `type.typeName` values in the first transformation spec, in order to filter out by `type.typeName=xx` within the next spec long with distinctly picked `id` values through use of **`@(1,id).@(1,typeName)`** identifiers on the Right Hand Side for the leaf elements such as \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;type&quot;: {\r\n                    &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\r\n                    &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\r\n                    &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp;1 replicates key name &quot;type&quot;\r\n                  }\r\n                }\r\n              },\r\n              &quot;type&quot;: {\r\n                &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\r\n                &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\r\n                &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp; replicates the values of the elements nested within the &quot;type&quot; object\r\n              }\r\n            }\r\n          },\r\n          &quot;type&quot;: {\r\n            &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\r\n            &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\r\n            &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;xx&quot;: &quot;&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JROjq.jpg","title":"JOLT shift transformation: filter by inner value of a property (not the name)","body":"<p>Need to separate the objects by both the <code>id</code> and <code>type.typeName</code> values in the first transformation spec, in order to filter out by <code>type.typeName=xx</code> within the next spec long with distinctly picked <code>id</code> values through use of <strong><code>@(1,id).@(1,typeName)</code></strong> identifiers on the Right Hand Side for the leaf elements such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;type&quot;: {\n                    &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\n                    &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\n                    &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp;1 replicates key name &quot;type&quot;\n                  }\n                }\n              },\n              &quot;type&quot;: {\n                &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\n                &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\n                &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp; replicates the values of the elements nested within the &quot;type&quot; object\n              }\n            }\n          },\n          &quot;type&quot;: {\n            &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\n            &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\n            &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;xx&quot;: &quot;&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/JROjq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JROjq.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662659189,"creation_date":1662659189,"answer_id":73653192,"question_id":73598200,"body_markdown":"You may consider another library *Josson* that a simple statement can do the job. And the function even supports unknown and unlimited number of path levels.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;id\\&quot;: 11,&quot; +\r\n        &quot;  \\&quot;item\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;id\\&quot;: \\&quot;11_1\\&quot;,&quot; +\r\n        &quot;      \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;      \\&quot;type\\&quot;: {&quot; +\r\n        &quot;        \\&quot;id\\&quot;: \\&quot;11_1_xx\\&quot;,&quot; +\r\n        &quot;        \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;item\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;          \\&quot;id\\&quot;: \\&quot;11_1_1\\&quot;,&quot; +\r\n        &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;          \\&quot;type\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: \\&quot;11_1_1_zz\\&quot;,&quot; +\r\n        &quot;            \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          \\&quot;item\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;              \\&quot;id\\&quot;: \\&quot;11_1_1_1\\&quot;,&quot; +\r\n        &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;              \\&quot;type\\&quot;: {&quot; +\r\n        &quot;                \\&quot;id\\&quot;: \\&quot;11_1_1_1_xx\\&quot;,&quot; +\r\n        &quot;                \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\r\n        &quot;              }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          ]&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;          \\&quot;id\\&quot;: \\&quot;11_1_2\\&quot;,&quot; +\r\n        &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;          \\&quot;type\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: \\&quot;11_1_2_xx\\&quot;,&quot; +\r\n        &quot;            \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          \\&quot;item\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;              \\&quot;id\\&quot;: \\&quot;11_1_2_1\\&quot;,&quot; +\r\n        &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;              \\&quot;type\\&quot;: {&quot; +\r\n        &quot;                \\&quot;id\\&quot;: \\&quot;11_1_2_1_zz\\&quot;,&quot; +\r\n        &quot;                \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\r\n        &quot;              }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          ]&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;      ]&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n        \r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;cumulateCollect(item[type.typeName=&#39;xx&#39;]*.field(item:), item).flatten(1)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ {\r\n      &quot;id&quot; : &quot;11_1&quot;,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;type&quot; : {\r\n        &quot;id&quot; : &quot;11_1_xx&quot;,\r\n        &quot;typeName&quot; : &quot;xx&quot;\r\n      }\r\n    }, {\r\n      &quot;id&quot; : &quot;11_1_2&quot;,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;type&quot; : {\r\n        &quot;id&quot; : &quot;11_1_2_xx&quot;,\r\n        &quot;typeName&quot; : &quot;xx&quot;\r\n      }\r\n    }, {\r\n      &quot;id&quot; : &quot;11_1_1_1&quot;,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;type&quot; : {\r\n        &quot;id&quot; : &quot;11_1_1_1_xx&quot;,\r\n        &quot;typeName&quot; : &quot;xx&quot;\r\n      }\r\n    } ]","title":"JOLT shift transformation: filter by inner value of a property (not the name)","body":"<p>You may consider another library <em>Josson</em> that a simple statement can do the job. And the function even supports unknown and unlimited number of path levels.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;id\\&quot;: 11,&quot; +\n    &quot;  \\&quot;item\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;id\\&quot;: \\&quot;11_1\\&quot;,&quot; +\n    &quot;      \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;      \\&quot;type\\&quot;: {&quot; +\n    &quot;        \\&quot;id\\&quot;: \\&quot;11_1_xx\\&quot;,&quot; +\n    &quot;        \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;item\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;          \\&quot;id\\&quot;: \\&quot;11_1_1\\&quot;,&quot; +\n    &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;          \\&quot;type\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: \\&quot;11_1_1_zz\\&quot;,&quot; +\n    &quot;            \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\n    &quot;          },&quot; +\n    &quot;          \\&quot;item\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;              \\&quot;id\\&quot;: \\&quot;11_1_1_1\\&quot;,&quot; +\n    &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;              \\&quot;type\\&quot;: {&quot; +\n    &quot;                \\&quot;id\\&quot;: \\&quot;11_1_1_1_xx\\&quot;,&quot; +\n    &quot;                \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\n    &quot;              }&quot; +\n    &quot;            }&quot; +\n    &quot;          ]&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;          \\&quot;id\\&quot;: \\&quot;11_1_2\\&quot;,&quot; +\n    &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;          \\&quot;type\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: \\&quot;11_1_2_xx\\&quot;,&quot; +\n    &quot;            \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\n    &quot;          },&quot; +\n    &quot;          \\&quot;item\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;              \\&quot;id\\&quot;: \\&quot;11_1_2_1\\&quot;,&quot; +\n    &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;              \\&quot;type\\&quot;: {&quot; +\n    &quot;                \\&quot;id\\&quot;: \\&quot;11_1_2_1_zz\\&quot;,&quot; +\n    &quot;                \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\n    &quot;              }&quot; +\n    &quot;            }&quot; +\n    &quot;          ]&quot; +\n    &quot;        }&quot; +\n    &quot;      ]&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n    \n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;cumulateCollect(item[type.typeName='xx']*.field(item:), item).flatten(1)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ {\n  &quot;id&quot; : &quot;11_1&quot;,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;type&quot; : {\n    &quot;id&quot; : &quot;11_1_xx&quot;,\n    &quot;typeName&quot; : &quot;xx&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;11_1_2&quot;,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;type&quot; : {\n    &quot;id&quot; : &quot;11_1_2_xx&quot;,\n    &quot;typeName&quot; : &quot;xx&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;11_1_1_1&quot;,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;type&quot; : {\n    &quot;id&quot; : &quot;11_1_1_1_xx&quot;,\n    &quot;typeName&quot; : &quot;xx&quot;\n  }\n} ]\n</code></pre>\n"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73599365,"answer_count":2,"score":0,"last_activity_date":1662659189,"creation_date":1662283487,"question_id":73598200,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to filter by the inner value of the attribute.\r\n\r\n**My goal is to get an array that contains only the items with the typeName &#39;xx&#39;.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 11,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;11_1&quot;,\r\n      &quot;action&quot;: &quot;add&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;id&quot;: &quot;11_1_xx&quot;,\r\n        &quot;typeName&quot;: &quot;xx&quot;\r\n      },\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;11_1_1&quot;,\r\n          &quot;action&quot;: &quot;add&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;id&quot;: &quot;11_1_1_zz&quot;,\r\n            &quot;typeName&quot;: &quot;zz&quot;\r\n          },\r\n          &quot;item&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;11_1_1_1&quot;,\r\n              &quot;action&quot;: &quot;add&quot;,\r\n              &quot;type&quot;: {\r\n                &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\r\n                &quot;typeName&quot;: &quot;xx&quot;\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;11_1_2&quot;,\r\n          &quot;action&quot;: &quot;add&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;id&quot;: &quot;11_1_2_xx&quot;,\r\n            &quot;typeName&quot;: &quot;xx&quot;\r\n          },\r\n          &quot;item&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;11_1_2_1&quot;,\r\n              &quot;action&quot;: &quot;add&quot;,\r\n              &quot;type&quot;: {\r\n                &quot;id&quot;: &quot;11_1_2_1_zz&quot;,\r\n                &quot;typeName&quot;: &quot;zz&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;11_1&quot;,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;type&quot;: {\r\n      &quot;id&quot;: &quot;11_1_xx&quot;,\r\n      &quot;typeName&quot;: &quot;xx&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_1_1&quot;,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;type&quot;: {\r\n      &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\r\n      &quot;typeName&quot;: &quot;xx&quot;\r\n    }\r\n}, {\r\n    &quot;id&quot;: &quot;11_1_2&quot;,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;type&quot;: {\r\n      &quot;id&quot;: &quot;11_1_2_xx&quot;,\r\n      &quot;typeName&quot;: &quot;xx&quot;\r\n    }\r\n  }\r\n]\r\n\r\n\r\n```\r\n\r\nCan you please help me to write a simple spec that will do this?\r\n","title":"JOLT shift transformation: filter by inner value of a property (not the name)","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to filter by the inner value of the attribute.</p>\n<p><strong>My goal is to get an array that contains only the items with the typeName 'xx'.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 11,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;11_1&quot;,\n      &quot;action&quot;: &quot;add&quot;,\n      &quot;type&quot;: {\n        &quot;id&quot;: &quot;11_1_xx&quot;,\n        &quot;typeName&quot;: &quot;xx&quot;\n      },\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;11_1_1&quot;,\n          &quot;action&quot;: &quot;add&quot;,\n          &quot;type&quot;: {\n            &quot;id&quot;: &quot;11_1_1_zz&quot;,\n            &quot;typeName&quot;: &quot;zz&quot;\n          },\n          &quot;item&quot;: [\n            {\n              &quot;id&quot;: &quot;11_1_1_1&quot;,\n              &quot;action&quot;: &quot;add&quot;,\n              &quot;type&quot;: {\n                &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\n                &quot;typeName&quot;: &quot;xx&quot;\n              }\n            }\n          ]\n        },\n        {\n          &quot;id&quot;: &quot;11_1_2&quot;,\n          &quot;action&quot;: &quot;add&quot;,\n          &quot;type&quot;: {\n            &quot;id&quot;: &quot;11_1_2_xx&quot;,\n            &quot;typeName&quot;: &quot;xx&quot;\n          },\n          &quot;item&quot;: [\n            {\n              &quot;id&quot;: &quot;11_1_2_1&quot;,\n              &quot;action&quot;: &quot;add&quot;,\n              &quot;type&quot;: {\n                &quot;id&quot;: &quot;11_1_2_1_zz&quot;,\n                &quot;typeName&quot;: &quot;zz&quot;\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;11_1&quot;,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;type&quot;: {\n      &quot;id&quot;: &quot;11_1_xx&quot;,\n      &quot;typeName&quot;: &quot;xx&quot;\n    }\n  },\n  {\n    &quot;id&quot;: &quot;11_1_1_1&quot;,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;type&quot;: {\n      &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\n      &quot;typeName&quot;: &quot;xx&quot;\n    }\n}, {\n    &quot;id&quot;: &quot;11_1_2&quot;,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;type&quot;: {\n      &quot;id&quot;: &quot;11_1_2_xx&quot;,\n      &quot;typeName&quot;: &quot;xx&quot;\n    }\n  }\n]\n\n\n</code></pre>\n<p>Can you please help me to write a simple spec that will do this?</p>\n"},{"tags":["java","c++","arduino","serial-port","processing"],"comments":[{"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"score":1,"creation_date":1644512887,"post_id":71068806,"comment_id":125632567,"body_markdown":"Does this answer your question? [Arduino and Processing Code Error &quot;disabling\\_serialevent()&quot;](https://stackoverflow.com/questions/26070466/arduino-and-processing-code-error-disabling-serialevent)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26070466/arduino-and-processing-code-error-disabling-serialevent\">Arduino and Processing Code Error &quot;disabling_serialevent()&quot;</a>"},{"owner":{"account_id":24217311,"reputation":11,"user_id":18172999,"display_name":"Toran Mintamu"},"score":0,"creation_date":1644803725,"post_id":71068806,"comment_id":125695581,"body_markdown":"i tried but it doesn&#39;t work","body":"i tried but it doesn&#39;t work"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1662658587,"post_id":71068806,"comment_id":130062844,"body_markdown":"There are plenty of duplicates for this problem (that probably has the same reason). What is the canonical question?","body":"There are plenty of duplicates for this problem (that probably has the same reason). What is the canonical question?"}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662659012,"creation_date":1645030973,"answer_id":71146168,"question_id":71068806,"body_markdown":"That error occurs whenever an exception is thrown within the method.\r\n\r\nYou&#39;ve chosen not to handle exceptions when creating the `Robot` instance.\r\n\r\nI recommend initialising `Robot` once in setup rather than over and over again (whenever there&#39;s a new serial message).\r\nAdditionally, it might help to use [Java naming conventions][1] such as reserving `TitleCase` for class names and `camelCase` for instance names.\r\n\r\nThe main error is probably with this line though:\r\n\r\n    KeyString = KeyString.substring(0, KeyString.indexOf(&#39;:&#39;));\r\n\r\nThis is optimistically assuming there are absolutely no errors with serial communication and the always is a `:` character. If something goes wrong and the string either split or empty, `indexOf(&#39;:&#39;)` will return -1 (not found) which makes `.substring(0, -1)` and illegal character index range.\r\n\r\nHere&#39;s a modified version of your code with above suggestions applied:\r\n\r\n```java\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.KeyStroke;\r\n\r\nimport processing.serial.*;\r\n\r\n// Arduino serial port\r\nSerial arduino;\r\n// input string from Arduino\r\nString keyString = &quot;&quot;;\r\n// keyboard shortcut trigger\r\nRobot keyboard;\r\n\r\nvoid setup()\r\n{\r\n  println(&quot;HI&quot;);\r\n  size(700, 500);\r\n\r\n  try{\r\n    arduino = new Serial(this, &quot;COM3&quot;, 9600);\r\n    arduino.bufferUntil(&#39;\\n&#39;);\r\n  }catch(Exception e){\r\n    println(&quot;error setting up Arduino: double check the port name is correct, present in Device Manager and not used by other apps (e.g. Serial Monitor)&quot;);\r\n    e.printStackTrace();\r\n    exit();\r\n  }\r\n\r\n  try{\r\n   keyboard = new Robot();\r\n  }catch(Exception e){\r\n    println(&quot;Error setting up Robot keyboard trigger&quot;);\r\n    exit();\r\n  }\r\n\r\n}\r\nvoid draw(){\r\n  background(0, 0, 0);\r\n  fill(255, 0, 0);\r\n  text(&quot;Press any key&quot;, 100, 175);\r\n}\r\n\r\nvoid serialEvent(Serial arduino) {\r\n  keyString = arduino.readString(&#39;\\n&#39;);\r\n  // handle edge case\r\n  if(keyString == null){\r\n    // optional: println(&quot;null string: skipping&quot;)\r\n    return;\r\n  }\r\n  // remove any whitespace\r\n  keyString.trim();\r\n  if(keyString.isEmpty()){\r\n    // optional: println(&quot;read empty string: skipping&quot;)\r\n    return;\r\n  }\r\n\r\n  // extract 1st section until &#39;:&#39;\r\n  int separatorIndex = keyString.indexOf(&#39;:&#39;);\r\n  if(separatorIndex &lt; 0){\r\n    // optional: println(&quot;no &#39;:&#39; found: skipping&quot;)\r\n    return;\r\n  }\r\n\r\n  keyString = keyString.substring(0, separatorIndex);\r\n  println(keyString);\r\n\r\n  switch(keyString){\r\n    case &quot;Up&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_UP);\r\n      keyboard.keyRelease(KeyEvent.VK_UP);\r\n      break;\r\n    case &quot;Down&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_DOWN);\r\n      keyboard.keyRelease(KeyEvent.VK_DOWN);\r\n      break;\r\n    case &quot;Left&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_LEFT);\r\n      keyboard.keyRelease(KeyEvent.VK_LEFT);\r\n      break;\r\n    case &quot;Right&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_RIGHT);\r\n      keyboard.keyRelease(KeyEvent.VK_RIGHT);\r\n      break;\r\n  }\r\n\r\n}\r\n```\r\n\r\nI would also double check test the `keyPress()/keyRelease()` calls in isolation to ensure that the above code will work as intended (and won&#39;t require a delay between press and release).\r\n\r\nIf you simply to need to send a keypress you can send a single byte(value from 0-255). The actual `keyCode` for the arrow keys are 37(left), 38(up), 39(right), 40(down) so you could do send this from Arduino:\r\n\r\n    Serial.write(38);\r\n\r\nand on the Processing side read a single byte and check it&#39;s value.\r\nRemember that in Java a byte is from -127 to 128 instead of 0-255, so you&#39;d need to mask it, for example:\r\n\r\n    if(arduino.read() &amp; 0xFF == 38) println(&quot;up&quot;);\r\n\r\nAlso note that there are other microcontrollers that could work as HID device (e.g., USB keyboard or mouse) instead of serial port. [Makey Makey][2] is a cute example of that, but there are also Arduino boards using the [ATmega32U4][3] chip which can act as HID device (e.g., [Arduino Leonardo][4], 32U4 breakouts, etc.).\r\nFor this, check out the [Keyboard Arduino Reference][5].\r\n\r\nThe advantage of this option would be simplicity: one less failure point (the serial communication software to trigger the keypresses).\r\nThis disadvantage would be sending additional data. For example, if you need to send some extra values/data after the &#39;:&#39; that won&#39;t be straightforward to replace with keypresses.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [2]: https://makeymakey.com/\r\n  [3]: https://www.microchip.com/wwwproducts/en/ATmega32U4\r\n  [4]: https://store.arduino.cc/arduino-leonardo-with-headers\r\n  [5]: https://www.arduino.cc/reference/en/language/functions/usb/keyboard/\r\n\r\n","title":"Arduino and Processing code error &quot;disabling serialEvent()&quot;","body":"<p>That error occurs whenever an exception is thrown within the method.</p>\n<p>You've chosen not to handle exceptions when creating the <code>Robot</code> instance.</p>\n<p>I recommend initialising <code>Robot</code> once in setup rather than over and over again (whenever there's a new serial message).\nAdditionally, it might help to use <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> such as reserving <code>TitleCase</code> for class names and <code>camelCase</code> for instance names.</p>\n<p>The main error is probably with this line though:</p>\n<pre><code>KeyString = KeyString.substring(0, KeyString.indexOf(':'));\n</code></pre>\n<p>This is optimistically assuming there are absolutely no errors with serial communication and the always is a <code>:</code> character. If something goes wrong and the string either split or empty, <code>indexOf(':')</code> will return -1 (not found) which makes <code>.substring(0, -1)</code> and illegal character index range.</p>\n<p>Here's a modified version of your code with above suggestions applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.KeyStroke;\n\nimport processing.serial.*;\n\n// Arduino serial port\nSerial arduino;\n// input string from Arduino\nString keyString = &quot;&quot;;\n// keyboard shortcut trigger\nRobot keyboard;\n\nvoid setup()\n{\n  println(&quot;HI&quot;);\n  size(700, 500);\n\n  try{\n    arduino = new Serial(this, &quot;COM3&quot;, 9600);\n    arduino.bufferUntil('\\n');\n  }catch(Exception e){\n    println(&quot;error setting up Arduino: double check the port name is correct, present in Device Manager and not used by other apps (e.g. Serial Monitor)&quot;);\n    e.printStackTrace();\n    exit();\n  }\n\n  try{\n   keyboard = new Robot();\n  }catch(Exception e){\n    println(&quot;Error setting up Robot keyboard trigger&quot;);\n    exit();\n  }\n\n}\nvoid draw(){\n  background(0, 0, 0);\n  fill(255, 0, 0);\n  text(&quot;Press any key&quot;, 100, 175);\n}\n\nvoid serialEvent(Serial arduino) {\n  keyString = arduino.readString('\\n');\n  // handle edge case\n  if(keyString == null){\n    // optional: println(&quot;null string: skipping&quot;)\n    return;\n  }\n  // remove any whitespace\n  keyString.trim();\n  if(keyString.isEmpty()){\n    // optional: println(&quot;read empty string: skipping&quot;)\n    return;\n  }\n\n  // extract 1st section until ':'\n  int separatorIndex = keyString.indexOf(':');\n  if(separatorIndex &lt; 0){\n    // optional: println(&quot;no ':' found: skipping&quot;)\n    return;\n  }\n\n  keyString = keyString.substring(0, separatorIndex);\n  println(keyString);\n\n  switch(keyString){\n    case &quot;Up&quot; :\n      keyboard.keyPress(KeyEvent.VK_UP);\n      keyboard.keyRelease(KeyEvent.VK_UP);\n      break;\n    case &quot;Down&quot; :\n      keyboard.keyPress(KeyEvent.VK_DOWN);\n      keyboard.keyRelease(KeyEvent.VK_DOWN);\n      break;\n    case &quot;Left&quot; :\n      keyboard.keyPress(KeyEvent.VK_LEFT);\n      keyboard.keyRelease(KeyEvent.VK_LEFT);\n      break;\n    case &quot;Right&quot; :\n      keyboard.keyPress(KeyEvent.VK_RIGHT);\n      keyboard.keyRelease(KeyEvent.VK_RIGHT);\n      break;\n  }\n\n}\n</code></pre>\n<p>I would also double check test the <code>keyPress()/keyRelease()</code> calls in isolation to ensure that the above code will work as intended (and won't require a delay between press and release).</p>\n<p>If you simply to need to send a keypress you can send a single byte(value from 0-255). The actual <code>keyCode</code> for the arrow keys are 37(left), 38(up), 39(right), 40(down) so you could do send this from Arduino:</p>\n<pre><code>Serial.write(38);\n</code></pre>\n<p>and on the Processing side read a single byte and check it's value.\nRemember that in Java a byte is from -127 to 128 instead of 0-255, so you'd need to mask it, for example:</p>\n<pre><code>if(arduino.read() &amp; 0xFF == 38) println(&quot;up&quot;);\n</code></pre>\n<p>Also note that there are other microcontrollers that could work as HID device (e.g., USB keyboard or mouse) instead of serial port. <a href=\"https://makeymakey.com/\" rel=\"nofollow noreferrer\">Makey Makey</a> is a cute example of that, but there are also Arduino boards using the <a href=\"https://www.microchip.com/wwwproducts/en/ATmega32U4\" rel=\"nofollow noreferrer\">ATmega32U4</a> chip which can act as HID device (e.g., <a href=\"https://store.arduino.cc/arduino-leonardo-with-headers\" rel=\"nofollow noreferrer\">Arduino Leonardo</a>, 32U4 breakouts, etc.).\nFor this, check out the <a href=\"https://www.arduino.cc/reference/en/language/functions/usb/keyboard/\" rel=\"nofollow noreferrer\">Keyboard Arduino Reference</a>.</p>\n<p>The advantage of this option would be simplicity: one less failure point (the serial communication software to trigger the keypresses).\nThis disadvantage would be sending additional data. For example, if you need to send some extra values/data after the ':' that won't be straightforward to replace with keypresses.</p>\n"}],"owner":{"account_id":24217311,"reputation":11,"user_id":18172999,"display_name":"Toran Mintamu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662659012,"creation_date":1644510721,"question_id":71068806,"body_markdown":"I am facing the following error in [Processing][1].\r\n\r\nI&#39;m using Windows 10, Processing version 3.5.4, and Arduino version 1.8.16.\r\n\r\n&gt; Error, disabling serialEvent() for COM3\r\nnull\r\n\r\nProcessing code:\r\n\r\n```\r\nimport processing.serial.*;\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.KeyStroke;\r\nSerial MyPort;\r\nString KeyString = &quot;&quot;;\r\n\r\nvoid setup()\r\n{\r\n  System.out.println(&quot;HI&quot;);\r\n  size(700, 500);\r\n  MyPort = new Serial(this, &quot;COM3&quot;, 9600);\r\n  MyPort.bufferUntil(&#39;\\n&#39;);\r\n}\r\n\r\nvoid draw() {\r\n  background(0, 0, 0);\r\n  fill(255, 0, 0);\r\n  text(&quot;Press any key&quot;, 100, 175);\r\n}\r\n\r\nvoid serialEvent(Serial MyPort)throws Exception {\r\n   KeyString = MyPort.readStringUntil(&#39;\\n&#39;);\r\n   KeyString = KeyString.substring(0, KeyString.indexOf(&#39;:&#39;));\r\n   System.out.println(KeyString);\r\n   Robot Arduino = new Robot();\r\n\r\n   switch(KeyString) {\r\n\r\n     case &quot;Up&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_UP);\r\n       Arduino.keyRelease(KeyEvent.VK_UP);\r\n       break;\r\n\r\n     case &quot;Down&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_DOWN);\r\n       Arduino.keyRelease(KeyEvent.VK_DOWN);\r\n       break;\r\n\r\n     case &quot;Left&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_LEFT);\r\n       Arduino.keyRelease(KeyEvent.VK_LEFT);\r\n       break;\r\n\r\n     case &quot;Right&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_RIGHT);\r\n       Arduino.keyRelease(KeyEvent.VK_RIGHT);\r\n       break;\r\n   }\r\n\r\n}\r\n```\r\n\r\nOr is there a way to control the buttons (up, down, left, right, any...)?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Processing_%28programming_language%29\r\n\r\n\r\n\r\n\r\n\r\n","title":"Arduino and Processing code error &quot;disabling serialEvent()&quot;","body":"<p>I am facing the following error in <a href=\"https://en.wikipedia.org/wiki/Processing_%28programming_language%29\" rel=\"nofollow noreferrer\">Processing</a>.</p>\n<p>I'm using Windows 10, Processing version 3.5.4, and Arduino version 1.8.16.</p>\n<blockquote>\n<p>Error, disabling serialEvent() for COM3\nnull</p>\n</blockquote>\n<p>Processing code:</p>\n<pre><code>import processing.serial.*;\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.KeyStroke;\nSerial MyPort;\nString KeyString = &quot;&quot;;\n\nvoid setup()\n{\n  System.out.println(&quot;HI&quot;);\n  size(700, 500);\n  MyPort = new Serial(this, &quot;COM3&quot;, 9600);\n  MyPort.bufferUntil('\\n');\n}\n\nvoid draw() {\n  background(0, 0, 0);\n  fill(255, 0, 0);\n  text(&quot;Press any key&quot;, 100, 175);\n}\n\nvoid serialEvent(Serial MyPort)throws Exception {\n   KeyString = MyPort.readStringUntil('\\n');\n   KeyString = KeyString.substring(0, KeyString.indexOf(':'));\n   System.out.println(KeyString);\n   Robot Arduino = new Robot();\n\n   switch(KeyString) {\n\n     case &quot;Up&quot;:\n       Arduino.keyPress(KeyEvent.VK_UP);\n       Arduino.keyRelease(KeyEvent.VK_UP);\n       break;\n\n     case &quot;Down&quot;:\n       Arduino.keyPress(KeyEvent.VK_DOWN);\n       Arduino.keyRelease(KeyEvent.VK_DOWN);\n       break;\n\n     case &quot;Left&quot;:\n       Arduino.keyPress(KeyEvent.VK_LEFT);\n       Arduino.keyRelease(KeyEvent.VK_LEFT);\n       break;\n\n     case &quot;Right&quot;:\n       Arduino.keyPress(KeyEvent.VK_RIGHT);\n       Arduino.keyRelease(KeyEvent.VK_RIGHT);\n       break;\n   }\n\n}\n</code></pre>\n<p>Or is there a way to control the buttons (up, down, left, right, any...)?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1662658569,"post_id":73653026,"comment_id":130062837,"body_markdown":"Use [`getSelectedItems()`](https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems()) instead of `getSelectedItem()` to get a list of everything that&#39;s selected.","body":"Use <a href=\"https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems()\" rel=\"nofollow noreferrer\"><code>getSelectedItems()</code></a> instead of <code>getSelectedItem()</code> to get a list of everything that&#39;s selected."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1662658712,"post_id":73653026,"comment_id":130062880,"body_markdown":"Off topic: use proper class structures, e.g. `Deck`, `Truck`, `Wheel`, and `Part` classes as appropriate, with `name` and `price` field to avoid all the ridiculously repetitive code.","body":"Off topic: use proper class structures, e.g. <code>Deck</code>, <code>Truck</code>, <code>Wheel</code>, and <code>Part</code> classes as appropriate, with <code>name</code> and <code>price</code> field to avoid all the ridiculously repetitive code."}],"answers":[{"tags":[],"owner":{"account_id":11937791,"reputation":17,"user_id":8735629,"display_name":"Scott Gibson"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1662658946,"creation_date":1662658500,"answer_id":73653083,"question_id":73653026,"body_markdown":"Try using the GetSelectedItems (instead of GetSelectedItem), since your code will return a MultipleSelectionModel\r\n\r\nhttps://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems--\r\n\r\nheres an example of it on stack overflow \r\n\r\nhttps://stackoverflow.com/questions/24158394/javafx-listview-multiple-selection","title":"JavaFX - How do I check if the user selected multiple items in a ListView","body":"<p>Try using the GetSelectedItems (instead of GetSelectedItem), since your code will return a MultipleSelectionModel</p>\n<p><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems--</a></p>\n<p>heres an example of it on stack overflow</p>\n<p><a href=\"https://stackoverflow.com/questions/24158394/javafx-listview-multiple-selection\">JavaFX ListView Multiple Selection</a></p>\n"}],"owner":{"account_id":22716015,"reputation":3,"user_id":16881266,"display_name":"EMAN-GAMING"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662659263,"answer_count":1,"score":0,"last_activity_date":1662658946,"creation_date":1662658177,"question_id":73653026,"body_markdown":"I&#39;m trying to have a user pick as many items on a JavaFX ListView. However, the method I&#39;m using doesn&#39;t seem to take into account the the possibility of multiple choices.\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.geometry.Pos;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.SelectionMode;\r\n    import javafx.scene.control.Alert.AlertType;\r\n    \r\n    /**\r\n     *  Skateboard Designer\r\n     *  \r\n     *  @author Emanuel &quot;Manny&quot; Luna\r\n     */\r\n    \r\n    public class SkateboardDesigner_Luna extends Application\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t// Launch the application.\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage)\r\n    \t{\r\n    \t\t// *********************************************\r\n    \t\t// Set up components.\r\n    \t\t// *********************************************      \r\n    \r\n    \t\t// Build the Decks ComboBox.\r\n    \t\tComboBox&lt;String&gt; deckComboBox = new ComboBox&lt;&gt;();\r\n    \t\tdeckComboBox.getItems().addAll(&quot;The Master Thrasher $60&quot;,\r\n    \t\t\t\t&quot;The Dictator        $45&quot;,\r\n    \t\t\t\t&quot;The Street King     $50&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select a deck\r\n    \t\tLabel deckPromptLabel = new Label(&quot;Select a Deck&quot;);\r\n    \t\tVBox deckVBox = new VBox(10, deckPromptLabel, deckComboBox);\r\n    \r\n    \t\t// Build the Truck Assemblies ComboBox.\r\n    \t\tComboBox&lt;String&gt; truckComboBox = new ComboBox&lt;&gt;();\r\n    \t\ttruckComboBox.getItems().addAll(&quot;7.75 inch axle  $35&quot;,\r\n    \t\t\t\t&quot;8 inch axle     $40&quot;,\r\n    \t\t\t\t&quot;8.5 inch axle   $45&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select a truck assembly\r\n    \t\tLabel truckPromptLabel = new Label(&quot;Select a Truck Assembly&quot;);\r\n    \t\tVBox truckVBox = new VBox(10, truckPromptLabel, truckComboBox);\r\n    \r\n    \t\t// Build the Wheels ComboBox.\r\n    \t\tComboBox&lt;String&gt; wheelComboBox = new ComboBox&lt;&gt;();\r\n    \t\twheelComboBox.getItems().addAll(&quot;51mm  $20&quot;,\r\n    \t\t\t\t&quot;55mm  $22&quot;,\r\n    \t\t\t\t&quot;58mm  $24&quot;,\r\n    \t\t\t\t&quot;61mm  $28&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select wheels\r\n    \t\tLabel wheelPromptLabel = new Label(&quot;Select Wheels&quot;);\r\n    \t\tVBox wheelVBox = new VBox(10, wheelPromptLabel, wheelComboBox);\r\n    \r\n    \t\t// Build the Misc ListView.\r\n    \t\tListView&lt;String&gt; miscListView = new ListView&lt;&gt;();\r\n    \t\tmiscListView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n    \t\tmiscListView.getItems().addAll(&quot;Grip Tape        $10&quot;,\r\n    \t\t\t\t&quot;Bearings         $30&quot;,\r\n    \t\t\t\t&quot;Riser Pads       $2&quot;,\r\n    \t\t\t\t&quot;Nuts &amp; Bolts Kit $3&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select misc parts\r\n    \t\tLabel miscPromptLabel = new Label(&quot;Select Misc Parts&quot;);\r\n    \t\tVBox miscVBox = new VBox(10, miscPromptLabel, miscListView);\r\n    \t\tHBox partsHBox = new HBox(10, deckVBox, truckVBox, wheelVBox, miscVBox);\r\n    \r\n    \t\t// Create the output label for total cost.\r\n    \t\tLabel costDescriptor = new Label(&quot;Cost:&quot;);\r\n    \t\tLabel costOutputLabel = new Label(&quot;0.00&quot;);\r\n    \t\tHBox costHBox = new HBox(10, costDescriptor, costOutputLabel);\r\n    \t\tcostHBox.setAlignment(Pos.CENTER);\r\n    \r\n    \t\t// Create the Calculate button.\r\n    \t\tButton calcButton = new Button(&quot;Calculate Cost&quot;);\r\n    \r\n    \t\t// Put everything into a VBox\r\n    \t\tVBox mainVBox = new VBox(10, partsHBox, costHBox, calcButton);\r\n    \t\tmainVBox.setAlignment(Pos.CENTER);\r\n    \t\tmainVBox.setPadding(new Insets(10));\r\n    \r\n    \t\t// *********************************************\r\n    \t\t// Register the event handler for the button here.\r\n    \t\t// *********************************************   \r\n    \t\tcalcButton.setOnAction(new EventHandler&lt;ActionEvent&gt;()\r\n    \t\t{\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(ActionEvent arg0) \r\n    \t\t\t{\r\n    \r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\tdouble subTotal = 0;\r\n    \t\t\t\t\tdouble taxes = 0;\r\n    \t\t\t\t\tdouble total = 0;\r\n    \r\n    \t\t\t\t\t// First, the function will check to see what the \r\n    \t\t\t\t\t// user has chosen in the combo box&#39;s.\r\n    \r\n    \t\t\t\t\tString deck = deckComboBox.getSelectionModel().getSelectedItem();\r\n    \t\t\t\t\tString truck = truckComboBox.getSelectionModel().getSelectedItem();\r\n    \t\t\t\t\tString wheels = wheelComboBox.getSelectionModel().getSelectedItem();\r\n    \t\t\t\t\tString misc = miscListView.getSelectionModel().getSelectedItem();\r\n    \r\n    \r\n    \t\t\t\t\t// Second, the function checks what has been selected\r\n    \r\n    \r\n    \t\t\t\t\tif (deck.equals(&quot;The Master Thrasher $60&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 60;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (deck.equals(&quot;The Dictator        $45&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 45;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (deck.equals(&quot;The Street King     $50&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 50;\r\n    \t\t\t\t\t}\r\n    \r\n    \r\n    \r\n    \t\t\t\t\tif (truck.equals(&quot;7.75 inch axle  $35&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 35;\r\n    \r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (truck.equals(&quot;8 inch axle     $40&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 40;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (truck.equals(&quot;8.5 inch axle   $45&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 45;\r\n    \t\t\t\t\t}\r\n    \r\n    \r\n    \t\t\t\t\tif (wheels.equals(&quot;51mm  $20&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 20;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (wheels.equals(&quot;58mm  $24&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 24;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (wheels.equals(&quot;61mm  $28&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 28;\r\n    \t\t\t\t\t}\r\n    \r\n    // Here&#39;s the mistake\r\n    \t\t\t\t\tif(misc.equals(&quot;&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 10;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (misc.equals(&quot;Bearings         $30&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 30;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (misc.equals(&quot;Riser Pads       $2&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 2;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (misc.equals(&quot;Nuts &amp; Bolts Kit $3&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 3;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttaxes = subTotal * 0.07;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttotal = subTotal + taxes;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tcostDescriptor.setText(String.format(&quot;Sub Total:\\nTax:\\nTotal:&quot;));\r\n    \t\t\t\t\tcostOutputLabel.setText(String.format(&quot;$%.2f%n$%.2f%n$%.2f&quot;, subTotal, taxes, total));\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \r\n    \t\t\t\tcatch(Exception e)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tAlert a = new Alert(AlertType.ERROR, &quot;Please pick one item from each category.&quot;);\r\n    \t\t\t\t\ta.setTitle(&quot;Error Message&quot;);\r\n    \t\t\t\t\ta.show();\r\n    \t\t\t\t}\r\n    \r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \r\n    \t\t// *********************************************\r\n    \t\t// Show the GUI!\r\n    \t\t// *********************************************\r\n    \r\n    \t\t// Add the main VBox to a scene.\r\n    \t\tScene scene = new Scene(mainVBox);\r\n    \r\n    \t\t// Set the scene to the stage and display it.\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    }\r\n\r\nWhen using &quot;misc&quot; it only takes the first option the user presses. How can I have it that it can add multiple items in the ListView and the method to know that the user checked a couple of items and then add the prices?","title":"JavaFX - How do I check if the user selected multiple items in a ListView","body":"<p>I'm trying to have a user pick as many items on a JavaFX ListView. However, the method I'm using doesn't seem to take into account the the possibility of multiple choices.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.layout.HBox;\nimport javafx.geometry.Pos;\nimport javafx.geometry.Insets;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.SelectionMode;\nimport javafx.scene.control.Alert.AlertType;\n\n/**\n *  Skateboard Designer\n *  \n *  @author Emanuel &quot;Manny&quot; Luna\n */\n\npublic class SkateboardDesigner_Luna extends Application\n{\n    public static void main(String[] args)\n    {\n        // Launch the application.\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        // *********************************************\n        // Set up components.\n        // *********************************************      \n\n        // Build the Decks ComboBox.\n        ComboBox&lt;String&gt; deckComboBox = new ComboBox&lt;&gt;();\n        deckComboBox.getItems().addAll(&quot;The Master Thrasher $60&quot;,\n                &quot;The Dictator        $45&quot;,\n                &quot;The Street King     $50&quot;);\n\n        // Label to prompt the user to select a deck\n        Label deckPromptLabel = new Label(&quot;Select a Deck&quot;);\n        VBox deckVBox = new VBox(10, deckPromptLabel, deckComboBox);\n\n        // Build the Truck Assemblies ComboBox.\n        ComboBox&lt;String&gt; truckComboBox = new ComboBox&lt;&gt;();\n        truckComboBox.getItems().addAll(&quot;7.75 inch axle  $35&quot;,\n                &quot;8 inch axle     $40&quot;,\n                &quot;8.5 inch axle   $45&quot;);\n\n        // Label to prompt the user to select a truck assembly\n        Label truckPromptLabel = new Label(&quot;Select a Truck Assembly&quot;);\n        VBox truckVBox = new VBox(10, truckPromptLabel, truckComboBox);\n\n        // Build the Wheels ComboBox.\n        ComboBox&lt;String&gt; wheelComboBox = new ComboBox&lt;&gt;();\n        wheelComboBox.getItems().addAll(&quot;51mm  $20&quot;,\n                &quot;55mm  $22&quot;,\n                &quot;58mm  $24&quot;,\n                &quot;61mm  $28&quot;);\n\n        // Label to prompt the user to select wheels\n        Label wheelPromptLabel = new Label(&quot;Select Wheels&quot;);\n        VBox wheelVBox = new VBox(10, wheelPromptLabel, wheelComboBox);\n\n        // Build the Misc ListView.\n        ListView&lt;String&gt; miscListView = new ListView&lt;&gt;();\n        miscListView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n        miscListView.getItems().addAll(&quot;Grip Tape        $10&quot;,\n                &quot;Bearings         $30&quot;,\n                &quot;Riser Pads       $2&quot;,\n                &quot;Nuts &amp; Bolts Kit $3&quot;);\n\n        // Label to prompt the user to select misc parts\n        Label miscPromptLabel = new Label(&quot;Select Misc Parts&quot;);\n        VBox miscVBox = new VBox(10, miscPromptLabel, miscListView);\n        HBox partsHBox = new HBox(10, deckVBox, truckVBox, wheelVBox, miscVBox);\n\n        // Create the output label for total cost.\n        Label costDescriptor = new Label(&quot;Cost:&quot;);\n        Label costOutputLabel = new Label(&quot;0.00&quot;);\n        HBox costHBox = new HBox(10, costDescriptor, costOutputLabel);\n        costHBox.setAlignment(Pos.CENTER);\n\n        // Create the Calculate button.\n        Button calcButton = new Button(&quot;Calculate Cost&quot;);\n\n        // Put everything into a VBox\n        VBox mainVBox = new VBox(10, partsHBox, costHBox, calcButton);\n        mainVBox.setAlignment(Pos.CENTER);\n        mainVBox.setPadding(new Insets(10));\n\n        // *********************************************\n        // Register the event handler for the button here.\n        // *********************************************   \n        calcButton.setOnAction(new EventHandler&lt;ActionEvent&gt;()\n        {\n\n            @Override\n            public void handle(ActionEvent arg0) \n            {\n\n                try {\n\n                    double subTotal = 0;\n                    double taxes = 0;\n                    double total = 0;\n\n                    // First, the function will check to see what the \n                    // user has chosen in the combo box's.\n\n                    String deck = deckComboBox.getSelectionModel().getSelectedItem();\n                    String truck = truckComboBox.getSelectionModel().getSelectedItem();\n                    String wheels = wheelComboBox.getSelectionModel().getSelectedItem();\n                    String misc = miscListView.getSelectionModel().getSelectedItem();\n\n\n                    // Second, the function checks what has been selected\n\n\n                    if (deck.equals(&quot;The Master Thrasher $60&quot;))\n                    {\n                        subTotal += 60;\n                    }\n\n                    else if (deck.equals(&quot;The Dictator        $45&quot;))\n                    {\n                        subTotal += 45;\n                    }\n\n                    else if (deck.equals(&quot;The Street King     $50&quot;))\n                    {\n                        subTotal += 50;\n                    }\n\n\n\n                    if (truck.equals(&quot;7.75 inch axle  $35&quot;))\n                    {\n                        subTotal += 35;\n\n                    }\n\n                    else if (truck.equals(&quot;8 inch axle     $40&quot;))\n                    {\n                        subTotal += 40;\n                    }\n\n                    else if (truck.equals(&quot;8.5 inch axle   $45&quot;))\n                    {\n                        subTotal += 45;\n                    }\n\n\n                    if (wheels.equals(&quot;51mm  $20&quot;))\n                    {\n                        subTotal += 20;\n                    }\n\n                    else if (wheels.equals(&quot;58mm  $24&quot;))\n                    {\n                        subTotal += 24;\n                    }\n\n                    else if (wheels.equals(&quot;61mm  $28&quot;))\n                    {\n                        subTotal += 28;\n                    }\n\n// Here's the mistake\n                    if(misc.equals(&quot;&quot;))\n                    {\n                        subTotal += 10;\n                    }\n\n                    if (misc.equals(&quot;Bearings         $30&quot;))\n                    {\n                        subTotal += 30;\n                    }\n\n                    if (misc.equals(&quot;Riser Pads       $2&quot;))\n                    {\n                        subTotal += 2;\n                    }\n\n                    if (misc.equals(&quot;Nuts &amp; Bolts Kit $3&quot;))\n                    {\n                        subTotal += 3;\n                    }\n\n                        \n                    \n                    \n                    \n                    taxes = subTotal * 0.07;\n                    \n                    total = subTotal + taxes;\n                    \n                    costDescriptor.setText(String.format(&quot;Sub Total:\\nTax:\\nTotal:&quot;));\n                    costOutputLabel.setText(String.format(&quot;$%.2f%n$%.2f%n$%.2f&quot;, subTotal, taxes, total));\n\n                }\n\n\n                catch(Exception e)\n                {\n                    Alert a = new Alert(AlertType.ERROR, &quot;Please pick one item from each category.&quot;);\n                    a.setTitle(&quot;Error Message&quot;);\n                    a.show();\n                }\n\n\n            }\n\n        });\n\n        // *********************************************\n        // Show the GUI!\n        // *********************************************\n\n        // Add the main VBox to a scene.\n        Scene scene = new Scene(mainVBox);\n\n        // Set the scene to the stage and display it.\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>When using &quot;misc&quot; it only takes the first option the user presses. How can I have it that it can add multiple items in the ListView and the method to know that the user checked a couple of items and then add the prices?</p>\n"},{"tags":["java","spring","spring-boot","maven","microservices"],"comments":[{"owner":{"account_id":11488702,"reputation":77,"user_id":8420441,"accept_rate":33,"display_name":"Bijay Kumar Rai"},"score":0,"creation_date":1662657101,"post_id":73652655,"comment_id":130062339,"body_markdown":"I think this will help you. &lt;https://stackoverflow.com/questions/45755580/differentiate-between-maven-multi-module-and-spring-micro-services&gt;","body":"I think this will help you. &lt;<a href=\"https://stackoverflow.com/questions/45755580/differentiate-between-maven-multi-module-and-spring-micro-services\" title=\"differentiate between maven multi module and spring micro services\">stackoverflow.com/questions/45755580/&hellip;</a>&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662657335,"creation_date":1662657335,"answer_id":73652884,"question_id":73652655,"body_markdown":"What you are signalling is at if monorepo is a good strategy or multi- repo (repo per service/library).\r\n\r\n**Note:** \r\n&gt; Each independent repo or same repo can be itself multimodule project itself.\r\n\r\nThere is already a huge debate on mono vs multi repo. \r\n\r\nBoth are good fit for microservices.\r\n\r\n**Lots of things become influencing factor for this decision.**\r\n1. How are you going to write devops pipelines.\r\n2. how you want to structure your builds.\r\n3. Team requirements - is it okay for multiple teams/members committing in same repo for per microservice/team structure.\r\n\r\n\r\n**If you are going for monorepo(single repository all microservices+ libs)**\r\n1. You see all code at one place.\r\n2. Easy to collaborate as codebase is same.\r\n3. Easy to build and fix if any issues as its single codebase\r\n4. Easy to control build lifecycle - ie libs will be built in order first then microservices.\r\n5. Sometimes you will run in conflicts and issues if multiple teams are committing in same codebase.\r\n6. However, all teammates must follow some standards, practices and guidlines when many people are working on same repo. It is very essential to have proper procedure for commit, build and release.\r\n\r\n**If you are going for multi repo(repository per ms and libs)**\r\n1. You need to ensure you build separate project with dependencies in order you want. \r\n2. Build pipelines will be configured separately and cross dependencies will be there.\r\n3. You will have additional overhead to maintain separate projects.\r\n4. Debugging can be little difficult sometimes.\r\n5. Teams/members will collaborate and have responsibility to maintain their own repository. If that repo breaks, that repo and its build breaks.\r\n6. You need to ensure you publish your dependencies first and build them then work on your microservices.\r\n7. Its good if you have enough bandwidth to maintain multiple repositories.\r\n\r\nEssentially both are good approaches depending on your team structure, maturity and model that you feel comfortable.\r\n\r\nI am following monorepo for our services, following is the structure.\r\n\r\n    ├── README.md\r\n    ├── db\r\n    │&#160;&#160; └── create-dbs.sh\r\n    ├── docker-compose.yaml\r\n    ├── docs\r\n    │&#160;&#160; ├── 1. Prerequisites.md\r\n    │&#160;&#160; ├── 2. Documentation.md\r\n    │&#160;&#160; ├── 3. Running services.md\r\n    ├── pom.xml\r\n    ├── services\r\n    │&#160;&#160; ├── books-service\r\n    │&#160;&#160; └── products-service\r\n    ├── shared\r\n    │&#160;&#160; ├── archunit-tests\r\n    │&#160;&#160; ├── auditing-utils\r\n    │&#160;&#160; ├── project-bom\r\n    │&#160;&#160; ├── event-publisher\r\n    │&#160;&#160; ├── logging-utils\r\n    │&#160;&#160; ├── rest-clients\r\n    │&#160;&#160; └── utils\r\n    └── templates\r\n        └── azure-template\r\n\r\n\r\n**Few recommendations for you:**\r\n1. You can have a bill of materials for all services(bom) in libraries.\r\n2. You can have separate folder for services, libraries, documentation and so on.\r\n3. The parent pom can build whole project with libraries first then services.\r\n4. All folders need not be maven project, can be just simple folders.","title":"Microservices and maven structure","body":"<p>What you are signalling is at if monorepo is a good strategy or multi- repo (repo per service/library).</p>\n<p><strong>Note:</strong></p>\n<blockquote>\n<p>Each independent repo or same repo can be itself multimodule project itself.</p>\n</blockquote>\n<p>There is already a huge debate on mono vs multi repo.</p>\n<p>Both are good fit for microservices.</p>\n<p><strong>Lots of things become influencing factor for this decision.</strong></p>\n<ol>\n<li>How are you going to write devops pipelines.</li>\n<li>how you want to structure your builds.</li>\n<li>Team requirements - is it okay for multiple teams/members committing in same repo for per microservice/team structure.</li>\n</ol>\n<p><strong>If you are going for monorepo(single repository all microservices+ libs)</strong></p>\n<ol>\n<li>You see all code at one place.</li>\n<li>Easy to collaborate as codebase is same.</li>\n<li>Easy to build and fix if any issues as its single codebase</li>\n<li>Easy to control build lifecycle - ie libs will be built in order first then microservices.</li>\n<li>Sometimes you will run in conflicts and issues if multiple teams are committing in same codebase.</li>\n<li>However, all teammates must follow some standards, practices and guidlines when many people are working on same repo. It is very essential to have proper procedure for commit, build and release.</li>\n</ol>\n<p><strong>If you are going for multi repo(repository per ms and libs)</strong></p>\n<ol>\n<li>You need to ensure you build separate project with dependencies in order you want.</li>\n<li>Build pipelines will be configured separately and cross dependencies will be there.</li>\n<li>You will have additional overhead to maintain separate projects.</li>\n<li>Debugging can be little difficult sometimes.</li>\n<li>Teams/members will collaborate and have responsibility to maintain their own repository. If that repo breaks, that repo and its build breaks.</li>\n<li>You need to ensure you publish your dependencies first and build them then work on your microservices.</li>\n<li>Its good if you have enough bandwidth to maintain multiple repositories.</li>\n</ol>\n<p>Essentially both are good approaches depending on your team structure, maturity and model that you feel comfortable.</p>\n<p>I am following monorepo for our services, following is the structure.</p>\n<pre><code>├── README.md\n├── db\n│   └── create-dbs.sh\n├── docker-compose.yaml\n├── docs\n│   ├── 1. Prerequisites.md\n│   ├── 2. Documentation.md\n│   ├── 3. Running services.md\n├── pom.xml\n├── services\n│   ├── books-service\n│   └── products-service\n├── shared\n│   ├── archunit-tests\n│   ├── auditing-utils\n│   ├── project-bom\n│   ├── event-publisher\n│   ├── logging-utils\n│   ├── rest-clients\n│   └── utils\n└── templates\n    └── azure-template\n</code></pre>\n<p><strong>Few recommendations for you:</strong></p>\n<ol>\n<li>You can have a bill of materials for all services(bom) in libraries.</li>\n<li>You can have separate folder for services, libraries, documentation and so on.</li>\n<li>The parent pom can build whole project with libraries first then services.</li>\n<li>All folders need not be maven project, can be just simple folders.</li>\n</ol>\n"}],"owner":{"account_id":26203227,"reputation":21,"user_id":19883227,"display_name":"Matheus78"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662658577,"creation_date":1662656210,"question_id":73652655,"body_markdown":"I&#39;m really confused how someone would build some micro-services with Maven. I&#39;ve seen a lot of project using the multi-module strategy \r\n\r\n1. Is that a valid strategy? wouldn&#39;t that couple the whole project? because I will need to build the project from root (parent pom.xml)? and everything is related to everything I think\r\n2. Should I just build everything in their own?\r\n\r\n   - firstapplication\r\n \r\n   - seconddapplication\r\n\r\n   - thirdapplication\r\n\r\nAny help is really appreciated. \r\n\r\nI&#39;m really lost on how this works\r\n\r\n```none\r\n[ parentpom.xml ]\r\n|\r\n|___first-application\r\n|\t|\r\n|\t|__ data-layer\r\n|\t|\t|__ pom.xml\r\n|\t|\t\r\n|\t|__ services\r\n|\t|\t|__ [[ USES message-queue:producer ]]\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\t\r\n|\t|__ domain\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ application (REST)\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\t\r\n|___second-application\r\n|\t|\r\n|\t|__ data-layer\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ services\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ domain\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ application (REST)\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\r\n|___third-application\r\n|\t|\r\n|\t|__ data-layer\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ services\r\n|\t|\t|__ [[ USES message-queue:consumer ]]\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ domain\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ application (REST)\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\r\n|\r\n|___message-queue (as wrapper of kafka/rabbit/etc)\r\n|\t|\r\n|\t|__ configuration_of_message_queue\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ consumer\r\n|\t|\t|\r\n|\t|\t|__ [[ USES message:queue:configuration ]]\r\n|\t|\t|\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ producer\r\n|\t|\t|\r\n|\t|\t|__ [[ USES message:queue:configuration ]]\r\n|\t|\t|\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\r\n|\r\n|___ commonlibrary (some projects use this, some others dont)\r\n\t|__ pom.xml\r\n```\r\n```xml\r\n&lt;parentpom&gt;\r\n  &lt;modules&gt;\r\n    &lt;module&gt;first&lt;/module&gt;\r\n    &lt;module&gt;second&lt;/module&gt;\r\n    &lt;module&gt;third&lt;/module&gt;\r\n    &lt;module&gt;message-queue&lt;/module&gt;\r\n    &lt;module&gt;commonlibrary&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n&lt;/parentpom&gt;\r\n```","title":"Microservices and maven structure","body":"<p>I'm really confused how someone would build some micro-services with Maven. I've seen a lot of project using the multi-module strategy</p>\n<ol>\n<li><p>Is that a valid strategy? wouldn't that couple the whole project? because I will need to build the project from root (parent pom.xml)? and everything is related to everything I think</p>\n</li>\n<li><p>Should I just build everything in their own?</p>\n<ul>\n<li><p>firstapplication</p>\n</li>\n<li><p>seconddapplication</p>\n</li>\n<li><p>thirdapplication</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>Any help is really appreciated.</p>\n<p>I'm really lost on how this works</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ parentpom.xml ]\n|\n|___first-application\n|   |\n|   |__ data-layer\n|   |   |__ pom.xml\n|   |   \n|   |__ services\n|   |   |__ [[ USES message-queue:producer ]]\n|   |   |\n|   |   |__ pom.xml\n|   |   \n|   |__ domain\n|   |   |__ pom.xml\n|   |\n|   |__ application (REST)\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|   \n|___second-application\n|   |\n|   |__ data-layer\n|   |   |__ pom.xml\n|   |\n|   |__ services\n|   |   |__ pom.xml\n|   |\n|   |__ domain\n|   |   |__ pom.xml\n|   |\n|   |__ application (REST)\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|\n|___third-application\n|   |\n|   |__ data-layer\n|   |   |__ pom.xml\n|   |\n|   |__ services\n|   |   |__ [[ USES message-queue:consumer ]]\n|   |   |\n|   |   |__ pom.xml\n|   |\n|   |__ domain\n|   |   |__ pom.xml\n|   |\n|   |__ application (REST)\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|\n|\n|___message-queue (as wrapper of kafka/rabbit/etc)\n|   |\n|   |__ configuration_of_message_queue\n|   |   |__ pom.xml\n|   |\n|   |__ consumer\n|   |   |\n|   |   |__ [[ USES message:queue:configuration ]]\n|   |   |\n|   |   |\n|   |   |__ pom.xml\n|   |\n|   |__ producer\n|   |   |\n|   |   |__ [[ USES message:queue:configuration ]]\n|   |   |\n|   |   |\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|\n|\n|___ commonlibrary (some projects use this, some others dont)\n    |__ pom.xml\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parentpom&gt;\n  &lt;modules&gt;\n    &lt;module&gt;first&lt;/module&gt;\n    &lt;module&gt;second&lt;/module&gt;\n    &lt;module&gt;third&lt;/module&gt;\n    &lt;module&gt;message-queue&lt;/module&gt;\n    &lt;module&gt;commonlibrary&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/parentpom&gt;\n</code></pre>\n"},{"tags":["java","android","listview","indexoutofboundsexception","commonsware-cwac"],"comments":[{"owner":{"account_id":251954,"reputation":2395,"user_id":529664,"accept_rate":88,"display_name":"om252345"},"score":0,"creation_date":1323349771,"post_id":8431342,"comment_id":10418073,"body_markdown":"is this happening with Samsung fit phone?","body":"is this happening with Samsung fit phone?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1323351663,"post_id":8431342,"comment_id":10418698,"body_markdown":"Related also to: http://stackoverflow.com/questions/1656593/android-endless-adapter","body":"Related also to: <a href=\"http://stackoverflow.com/questions/1656593/android-endless-adapter\" title=\"android endless adapter\">stackoverflow.com/questions/1656593/android-endless-adapter</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1323351731,"post_id":8431342,"comment_id":10418720,"body_markdown":"This answer is also interesting: http://stackoverflow.com/a/3383885/179850","body":"This answer is also interesting: <a href=\"http://stackoverflow.com/a/3383885/179850\">stackoverflow.com/a/3383885/179850</a>"},{"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"score":0,"creation_date":1323353183,"post_id":8431342,"comment_id":10419159,"body_markdown":"@om252345 yes actually I&#39;ve managed to reproduce this on that exact phone","body":"@om252345 yes actually I&#39;ve managed to reproduce this on that exact phone"},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":0,"creation_date":1390403538,"post_id":8431342,"comment_id":32076525,"body_markdown":"You also get this issue when scrolling a list and then changing the adapters size to smaller that the current lists visible position before the fling has finished. Fix with `ListView.smoothScrollToPosition(...)`","body":"You also get this issue when scrolling a list and then changing the adapters size to smaller that the current lists visible position before the fling has finished. Fix with <code>ListView.smoothScrollToPosition(...)</code>"},{"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"score":0,"creation_date":1390499755,"post_id":8431342,"comment_id":32128362,"body_markdown":"@Dori nice! too bad I was on API 7 and this method was added on 8 :/","body":"@Dori nice! too bad I was on API 7 and this method was added on 8 :/"},{"owner":{"account_id":2801688,"reputation":396,"user_id":2409835,"display_name":"chinaanihchen"},"score":0,"creation_date":1448349092,"post_id":8431342,"comment_id":55538598,"body_markdown":"I find this problem in Nexus 5 with Android 6.0. I find this link  http://stackoverflow.com/questions/25471000/headerviewlistadapter-randomly-crashes) works","body":"I find this problem in Nexus 5 with Android 6.0. I find this link  <a href=\"http://stackoverflow.com/questions/25471000/headerviewlistadapter-randomly-crashes\" title=\"headerviewlistadapter randomly crashes\">stackoverflow.com/questions/25471000/&hellip;</a>) works"}],"answers":[{"tags":[],"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1332151466,"creation_date":1323359882,"answer_id":8433777,"question_id":8431342,"body_markdown":"After a lot of time checking the android source code and not understanding this error I&#39;ve finally cracked it.\r\n\r\nThe problem occurs with Samsung phones, they have a different implementation on the over-scroll functionality and that ended up throwing this exception as it tried to select a footer/header out of bounds (even when there is no footer view).\r\n\r\nThe solution I used is not pretty but it will stop this error from happening ever again.\r\n\r\n    class MyFixedListView extends ListView {\r\n        @Override\r\n    \tprotected void dispatchDraw(Canvas canvas) {\r\n    \t\ttry {\r\n    \t\t\tsuper.dispatchDraw(canvas);\r\n    \t\t} catch (IndexOutOfBoundsException e) {\r\n    \t\t\t// samsung error\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNow I use this `ListView` implementation and the error is gone.\r\n\r\nI really hope this helps anyone using endless adapters.","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>After a lot of time checking the android source code and not understanding this error I've finally cracked it.</p>\n\n<p>The problem occurs with Samsung phones, they have a different implementation on the over-scroll functionality and that ended up throwing this exception as it tried to select a footer/header out of bounds (even when there is no footer view).</p>\n\n<p>The solution I used is not pretty but it will stop this error from happening ever again.</p>\n\n<pre><code>class MyFixedListView extends ListView {\n    @Override\n    protected void dispatchDraw(Canvas canvas) {\n        try {\n            super.dispatchDraw(canvas);\n        } catch (IndexOutOfBoundsException e) {\n            // samsung error\n        }\n    }\n}\n</code></pre>\n\n<p>Now I use this <code>ListView</code> implementation and the error is gone.</p>\n\n<p>I really hope this helps anyone using endless adapters.</p>\n"},{"tags":[],"owner":{"account_id":223429,"reputation":578,"user_id":482623,"display_name":"Denys Nikolayenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445059995,"creation_date":1342178332,"answer_id":11469473,"question_id":8431342,"body_markdown":"Same issue happens in my app when testing on the ICS tablets. It happens only when I have 11 elements in the list, when **EndlessAdapter** loads by 10 items at time.\r\n\r\nThis is a race condition issue. The problem comes from the keepOnAppending flag update on the AsyncTask thread. While ListView accesses getCount on the UI thread andkeepOnAppending is set to true, later when it calls getView in the same UI thread andkeepOnAppending is already reset in the doInBackground:\r\n\r\n\t@Override\r\n\tpublic int getCount() {\r\n\t\tif (keepOnAppending.get()) {\r\n\t\t\treturn (super.getCount() + 1); // one more for\r\n\t\t\t\t\t\t\t\t\t\t\t// &quot;pending&quot;\r\n\t\t}\r\n\r\n\t\treturn (super.getCount());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic View getView(int position, View convertView, ViewGroup parent) {\r\n\t\tif (position == super.getCount() &amp;&amp; keepOnAppending.get()) {\r\n\t\t\tif (pendingView == null) {\r\n\t\t\t\tpendingView = getPendingView(parent);\r\n\r\n\t\t\t\texecuteAsyncTask(new AppendTask());\r\n\t\t\t}\r\n\r\n\t\t\treturn (pendingView);\r\n\t\t}\r\n\t\treturn (super.getView(position, convertView, parent));\r\n\t}\r\n\r\n\tclass AppendTask extends AsyncTask&lt;Void, Void, Exception&gt; {\r\n\t\t@Override\r\n\t\tprotected Exception doInBackground(Void... params) {\r\n\t\t\tException result = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tkeepOnAppending.set(cacheInBackground());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tresult = e;\r\n\t\t\t}\r\n\r\n\t\t\treturn (result);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(Exception e) {\r\n\t\t\tif (e == null) {\r\n\t\t\t\tappendCachedData();\r\n\t\t\t} else {\r\n\t\t\t\tkeepOnAppending.set(onException(pendingView, e));\r\n\t\t\t}\r\n\r\n\t\t\tpendingView = null;\r\n\t\t\tnotifyDataSetChanged();\r\n\t\t}\r\n\t}\r\n\r\nAs a fix, I changed the code of the AppendTask so that it updates keepOnAppending on the UI thread, only when new items added to the adapter.\r\n\r\nHere is the code:\r\n\r\n\tclass AppendTask extends AsyncTask&lt;Void, Void, AppendTask.Result&gt; {\r\n\t\tclass Result {\r\n\t\t\tboolean status;\r\n\t\t\tException ex;\r\n\r\n\t\t\tpublic Result(Exception ex) {\r\n\t\t\t\tthis.ex = ex;\r\n\t\t\t}\r\n\r\n\t\t\tpublic Result(boolean result) {\r\n\t\t\t\tthis.status = result;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected AppendTask.Result doInBackground(Void... params) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new Result(cacheInBackground());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\treturn new Result(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(AppendTask.Result result) {\r\n\t\t\tif (result.ex == null) {\r\n\t\t\t\tappendCachedData();\r\n\t\t\t\tkeepOnAppending.set(result.status);\r\n\t\t\t} else {\r\n\t\t\t\tkeepOnAppending.set(onException(pendingView, result.ex));\r\n\t\t\t}\r\n\r\n\t\t\tpendingView = null;\r\n\t\t\tnotifyDataSetChanged();\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://github.com/commonsguy/cwac-endless/blob/master/src/com/commonsware/cwac/endless/EndlessAdapter.java","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>Same issue happens in my app when testing on the ICS tablets. It happens only when I have 11 elements in the list, when <strong>EndlessAdapter</strong> loads by 10 items at time.</p>\n\n<p>This is a race condition issue. The problem comes from the keepOnAppending flag update on the AsyncTask thread. While ListView accesses getCount on the UI thread andkeepOnAppending is set to true, later when it calls getView in the same UI thread andkeepOnAppending is already reset in the doInBackground:</p>\n\n<pre><code>@Override\npublic int getCount() {\n    if (keepOnAppending.get()) {\n        return (super.getCount() + 1); // one more for\n                                        // \"pending\"\n    }\n\n    return (super.getCount());\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    if (position == super.getCount() &amp;&amp; keepOnAppending.get()) {\n        if (pendingView == null) {\n            pendingView = getPendingView(parent);\n\n            executeAsyncTask(new AppendTask());\n        }\n\n        return (pendingView);\n    }\n    return (super.getView(position, convertView, parent));\n}\n\nclass AppendTask extends AsyncTask&lt;Void, Void, Exception&gt; {\n    @Override\n    protected Exception doInBackground(Void... params) {\n        Exception result = null;\n\n        try {\n            keepOnAppending.set(cacheInBackground());\n        } catch (Exception e) {\n            result = e;\n        }\n\n        return (result);\n    }\n\n    @Override\n    protected void onPostExecute(Exception e) {\n        if (e == null) {\n            appendCachedData();\n        } else {\n            keepOnAppending.set(onException(pendingView, e));\n        }\n\n        pendingView = null;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n\n<p>As a fix, I changed the code of the AppendTask so that it updates keepOnAppending on the UI thread, only when new items added to the adapter.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>class AppendTask extends AsyncTask&lt;Void, Void, AppendTask.Result&gt; {\n    class Result {\n        boolean status;\n        Exception ex;\n\n        public Result(Exception ex) {\n            this.ex = ex;\n        }\n\n        public Result(boolean result) {\n            this.status = result;\n        }\n    }\n\n    @Override\n    protected AppendTask.Result doInBackground(Void... params) {\n        try {\n            return new Result(cacheInBackground());\n        } catch (Exception e) {\n            return new Result(e);\n        }\n    }\n\n    @Override\n    protected void onPostExecute(AppendTask.Result result) {\n        if (result.ex == null) {\n            appendCachedData();\n            keepOnAppending.set(result.status);\n        } else {\n            keepOnAppending.set(onException(pendingView, result.ex));\n        }\n\n        pendingView = null;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19028726,"reputation":30,"user_id":13891284,"display_name":"primus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662658543,"creation_date":1662658543,"answer_id":73653094,"question_id":8431342,"body_markdown":"This reappeared for me with ListView and SimpleCursorAdapter when updating from different thread. I believe this is due to race condition and multithreading and that it can happen with all adapters. Relevant part to my solution:\r\n\r\n```\r\npublic class MyAdapter extends *Adapter {\r\n  /**\r\n  * We need this because even though we publish `notifyDataSetChanged()` on main thread, for \r\n  * example `isEnabled()` might already be there and it will run before it. Note that this \r\n  * should be set asap when underlying data changes. \r\n  */\r\n  private boolean notifyingDataChange = false;\r\n\r\n  /**\r\n  * Note that you might need to adapt code and only update notifyDataChange\r\n  * when underlying data changes\r\n  */\r\n  public void notifyDataSetChangedOnMain(@NonNull Context context) {\r\n    notifyingDataChange = true;\r\n\r\n    ContextCompat.getMainExecutor(context).execute(() -&gt; {\r\n      notifyDataSetChanged();\r\n      notifyingDataChange = false;\r\n    });\r\n  }\r\n\r\n  @Override\r\n  public boolean isEnabled(int position) {\r\n    if (notifyingDataChange) {\r\n      return false;\r\n    }\r\n\r\n    return super.isEnabled(position); // or other logic if needed\r\n  }\r\n}\r\n```","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>This reappeared for me with ListView and SimpleCursorAdapter when updating from different thread. I believe this is due to race condition and multithreading and that it can happen with all adapters. Relevant part to my solution:</p>\n<pre><code>public class MyAdapter extends *Adapter {\n  /**\n  * We need this because even though we publish `notifyDataSetChanged()` on main thread, for \n  * example `isEnabled()` might already be there and it will run before it. Note that this \n  * should be set asap when underlying data changes. \n  */\n  private boolean notifyingDataChange = false;\n\n  /**\n  * Note that you might need to adapt code and only update notifyDataChange\n  * when underlying data changes\n  */\n  public void notifyDataSetChangedOnMain(@NonNull Context context) {\n    notifyingDataChange = true;\n\n    ContextCompat.getMainExecutor(context).execute(() -&gt; {\n      notifyDataSetChanged();\n      notifyingDataChange = false;\n    });\n  }\n\n  @Override\n  public boolean isEnabled(int position) {\n    if (notifyingDataChange) {\n      return false;\n    }\n\n    return super.isEnabled(position); // or other logic if needed\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11901,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":8433777,"answer_count":3,"score":21,"last_activity_date":1662658543,"creation_date":1323349091,"question_id":8431342,"body_markdown":"I have an app with tons of downloads and I&#39;m receiving a lot of this error:\r\n\r\n     16783         AndroidRuntime  E  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n     16783         AndroidRuntime  E  \tat java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)\r\n     16783         AndroidRuntime  E  \tat java.util.ArrayList.get(ArrayList.java:311)\r\n     16783         AndroidRuntime  E  \tat android.widget.HeaderViewListAdapter.isEnabled(HeaderViewListAdapter.java:16\r\n                                      4)\r\n     16783         AndroidRuntime  E  \tat android.widget.ListView.dispatchDrawWithExcessScroll_Default(ListView.java:3\r\n                                      288)\r\n     16783         AndroidRuntime  E  \tat android.widget.ListView.dispatchDraw(ListView.java:3029)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.widget.AbsListView.draw(AbsListView.java:2549)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1640)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1640)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1640)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.widget.FrameLayout.draw(FrameLayout.java:352)\r\n     16783         AndroidRuntime  E  \tat com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java\r\n                                      :1885)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewRoot.draw(ViewRoot.java:1407)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewRoot.performTraversals(ViewRoot.java:1163)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewRoot.handleMessage(ViewRoot.java:1727)\r\n     16783         AndroidRuntime  E  \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n     16783         AndroidRuntime  E  \tat android.os.Looper.loop(Looper.java:123)\r\n     16783         AndroidRuntime  E  \tat android.app.ActivityThread.main(ActivityThread.java:4627)\r\n     16783         AndroidRuntime  E  \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n     16783         AndroidRuntime  E  \tat java.lang.reflect.Method.invoke(Method.java:521)\r\n     16783         AndroidRuntime  E  \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:8\r\n                                      58)\r\n     16783         AndroidRuntime  E  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n     16783         AndroidRuntime  E  \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\nAs you can see in the stack trace, there is not one line with my code trace in it.\r\nTo reproduce this, I luckily found an user with a Froyo (2.2 p7) and I just scrolled down one of the `ListView`s on the code. After some random time, it just froze with this exception. This happens every time at a different time.\r\n\r\nIt is a `ListView` with an `EndlessAdapter` behind it, just adding more and more rows.\r\nApparently I get this error when I do the &quot;over-scroll&quot; but I cannot even think of a way to fix this.\r\nIt is hard enough to reproduce, but with almost 200 users online at every time, if they keep getting this error they will end up not using the app anymore.\r\n\r\nAny help would be appreciated.\r\n\r\nEDIT: \r\nThere has been a similar issue with someone else with the `EndlessAdapter`. http://groups.google.com/group/cw-android/browse_thread/thread/4739ce05742841da/af59c779e99f5e23?lnk=gst&amp;q=index#af59c779e99f5e23\r\n\r\nBut it&#39;s not `EndlessAdapter`&#39;s fault. It&#39;s android&#39;s fault.","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>I have an app with tons of downloads and I'm receiving a lot of this error:</p>\n\n<pre><code> 16783         AndroidRuntime  E  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n 16783         AndroidRuntime  E    at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)\n 16783         AndroidRuntime  E    at java.util.ArrayList.get(ArrayList.java:311)\n 16783         AndroidRuntime  E    at android.widget.HeaderViewListAdapter.isEnabled(HeaderViewListAdapter.java:16\n                                  4)\n 16783         AndroidRuntime  E    at android.widget.ListView.dispatchDrawWithExcessScroll_Default(ListView.java:3\n                                  288)\n 16783         AndroidRuntime  E    at android.widget.ListView.dispatchDraw(ListView.java:3029)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.widget.AbsListView.draw(AbsListView.java:2549)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.widget.FrameLayout.draw(FrameLayout.java:352)\n 16783         AndroidRuntime  E    at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java\n                                  :1885)\n 16783         AndroidRuntime  E    at android.view.ViewRoot.draw(ViewRoot.java:1407)\n 16783         AndroidRuntime  E    at android.view.ViewRoot.performTraversals(ViewRoot.java:1163)\n 16783         AndroidRuntime  E    at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)\n 16783         AndroidRuntime  E    at android.os.Handler.dispatchMessage(Handler.java:99)\n 16783         AndroidRuntime  E    at android.os.Looper.loop(Looper.java:123)\n 16783         AndroidRuntime  E    at android.app.ActivityThread.main(ActivityThread.java:4627)\n 16783         AndroidRuntime  E    at java.lang.reflect.Method.invokeNative(Native Method)\n 16783         AndroidRuntime  E    at java.lang.reflect.Method.invoke(Method.java:521)\n 16783         AndroidRuntime  E    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:8\n                                  58)\n 16783         AndroidRuntime  E    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n 16783         AndroidRuntime  E    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>As you can see in the stack trace, there is not one line with my code trace in it.\nTo reproduce this, I luckily found an user with a Froyo (2.2 p7) and I just scrolled down one of the <code>ListView</code>s on the code. After some random time, it just froze with this exception. This happens every time at a different time.</p>\n\n<p>It is a <code>ListView</code> with an <code>EndlessAdapter</code> behind it, just adding more and more rows.\nApparently I get this error when I do the \"over-scroll\" but I cannot even think of a way to fix this.\nIt is hard enough to reproduce, but with almost 200 users online at every time, if they keep getting this error they will end up not using the app anymore.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>EDIT: \nThere has been a similar issue with someone else with the <code>EndlessAdapter</code>. <a href=\"http://groups.google.com/group/cw-android/browse_thread/thread/4739ce05742841da/af59c779e99f5e23?lnk=gst&amp;q=index#af59c779e99f5e23\">http://groups.google.com/group/cw-android/browse_thread/thread/4739ce05742841da/af59c779e99f5e23?lnk=gst&amp;q=index#af59c779e99f5e23</a></p>\n\n<p>But it's not <code>EndlessAdapter</code>'s fault. It's android's fault.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":8,"creation_date":1383160479,"post_id":19691830,"comment_id":29248839,"body_markdown":"You&#39;re double-counting `15`.","body":"You&#39;re double-counting <code>15</code>."},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":9,"creation_date":1383160493,"post_id":19691830,"comment_id":29248848,"body_markdown":"@SLaks And all its multiples","body":"@SLaks And all its multiples"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":3,"creation_date":1383160551,"post_id":19691830,"comment_id":29248884,"body_markdown":"Instead of looping twice with one condition each, loop once with two conditions (connected with an &quot;or&quot;).","body":"Instead of looping twice with one condition each, loop once with two conditions (connected with an &quot;or&quot;)."},{"owner":{"account_id":265464,"reputation":38243,"user_id":552438,"display_name":"Anthony Grist"},"score":2,"creation_date":1383160563,"post_id":19691830,"comment_id":29248891,"body_markdown":"&quot;despite my code looking functional&quot; In general functional just means it runs, doesn&#39;t mean it does remotely close to what you need it to.","body":"&quot;despite my code looking functional&quot; In general functional just means it runs, doesn&#39;t mean it does remotely close to what you need it to."},{"owner":{"account_id":3342213,"reputation":383,"user_id":2808234,"display_name":"char1es"},"score":0,"creation_date":1383160705,"post_id":19691830,"comment_id":29248971,"body_markdown":"maybe store the values in arrays and check for doubles before finalizing the answer.","body":"maybe store the values in arrays and check for doubles before finalizing the answer."},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1383161030,"post_id":19691830,"comment_id":29249146,"body_markdown":"The title says &quot;AND&quot; and the code says &quot;OR&quot; wich is the correct?","body":"The title says &quot;AND&quot; and the code says &quot;OR&quot; wich is the correct?"}],"answers":[{"tags":[],"owner":{"account_id":365480,"reputation":1146,"user_id":2859911,"display_name":"Todoy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1383160702,"creation_date":1383160702,"answer_id":19691947,"question_id":19691830,"body_markdown":"you should use the same for loop for both to aviod double counting numbers that are multiple of both. such as 15,30...\r\n\r\n       for(int temp =0; temp &lt; 1000 ; temp++){\r\n            if(temp % 3 == 0){\r\n                x.add(temp);\r\n                totalforthree += temp;\r\n            }else if(temp % 5 == 0){\r\n                y.add(temp);\r\n                totalforfive += temp;\r\n            }\r\n        }\r\n","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>you should use the same for loop for both to aviod double counting numbers that are multiple of both. such as 15,30...</p>\n\n<pre><code>   for(int temp =0; temp &lt; 1000 ; temp++){\n        if(temp % 3 == 0){\n            x.add(temp);\n            totalforthree += temp;\n        }else if(temp % 5 == 0){\n            y.add(temp);\n            totalforfive += temp;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2073998,"reputation":2238,"user_id":1847873,"accept_rate":92,"display_name":"Arash Saidi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1383160936,"creation_date":1383160936,"answer_id":19692031,"question_id":19691830,"body_markdown":"You are counting some numbers twice. What you have to do is add inside one for loop, and use an if-else statement where if you find multiples of 3, you do not count them in 5 as well. \r\n\r\n     if(temp % 3 == 0){\r\n         x.add(temp);\r\n         totalforthree += temp;\r\n     } else if(temp % 5 == 0){\r\n         y.add(temp);\r\n         totalforfive += temp;\r\n     }","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>You are counting some numbers twice. What you have to do is add inside one for loop, and use an if-else statement where if you find multiples of 3, you do not count them in 5 as well. </p>\n\n<pre><code> if(temp % 3 == 0){\n     x.add(temp);\n     totalforthree += temp;\n } else if(temp % 5 == 0){\n     y.add(temp);\n     totalforfive += temp;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4741319,"reputation":1,"user_id":3833965,"display_name":"Sunil MG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1405244503,"creation_date":1405244503,"answer_id":24721377,"question_id":19691830,"body_markdown":"Logics given above are showing wrong answer, because multiples of 3 &amp; 5 are taken for calculation. There is something being missed in above logic, i.e., 15, 30, 45, 60... are the multiple of 3 and also multiple of 5. then we need to ignore such while adding.\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tint Sum=0, i=0, j=0;\r\n\t\tfor(i=0;i&lt;=1000;i++)\r\n\t\t\tif (i%3==0 &amp;&amp; i&lt;=999)\r\n\t\t\t\tSum=Sum+i;\r\n\t\tfor(j=0;j&lt;=1000;j++)\r\n\t\t\tif (j%5==0 &amp;&amp; j&lt;1000 &amp;&amp; j*5%3!=0)\r\n\t\t\t\tSum=Sum+j;\r\n\t\tSystem.out.println(&quot;The Sum is &quot;+Sum);\r\n\t}","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>Logics given above are showing wrong answer, because multiples of 3 &amp; 5 are taken for calculation. There is something being missed in above logic, i.e., 15, 30, 45, 60... are the multiple of 3 and also multiple of 5. then we need to ignore such while adding.</p>\n\n<pre><code>    public static void main(String[] args) {\n    int Sum=0, i=0, j=0;\n    for(i=0;i&lt;=1000;i++)\n        if (i%3==0 &amp;&amp; i&lt;=999)\n            Sum=Sum+i;\n    for(j=0;j&lt;=1000;j++)\n        if (j%5==0 &amp;&amp; j&lt;1000 &amp;&amp; j*5%3!=0)\n            Sum=Sum+j;\n    System.out.println(\"The Sum is \"+Sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1406179524,"creation_date":1406179524,"answer_id":24925724,"question_id":19691830,"body_markdown":"Okay, so this isn&#39;t the best looking code, but it get&#39;s the job done.   \r\n\r\n    public class Multiples {\r\n   \r\n    public static void main(String[]args) {\r\n        int firstNumber = 3;\r\n        int secondNumber = 5;\r\n        ArrayList&lt;Integer&gt; numberToCheck = new ArrayList&lt;Integer&gt;();\r\n        ArrayList&lt;Integer&gt; multiples = new ArrayList&lt;Integer&gt;();\r\n        int sumOfMultiples = 0;\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n           numberToCheck.add(i);\r\n           \r\n           if (numberToCheck.get(i) % firstNumber == 0 || numberToCheck.get(i) % secondNumber == 0) {\r\n               multiples.add(numberToCheck.get(i));\r\n           }\r\n           \r\n        }\r\n        \r\n        for (int i=0; i&lt;multiples.size(); i++) {\r\n        \r\n         sumOfMultiples += multiples.get(i);\r\n        \r\n        }\r\n        System.out.println(multiples);\r\n        System.out.println(&quot;Sum Of Multiples: &quot; + sumOfMultiples);\r\n        \r\n    }\r\n    \r\n    }","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>Okay, so this isn't the best looking code, but it get's the job done.   </p>\n\n<pre><code>public class Multiples {\n\npublic static void main(String[]args) {\n    int firstNumber = 3;\n    int secondNumber = 5;\n    ArrayList&lt;Integer&gt; numberToCheck = new ArrayList&lt;Integer&gt;();\n    ArrayList&lt;Integer&gt; multiples = new ArrayList&lt;Integer&gt;();\n    int sumOfMultiples = 0;\n    for (int i = 0; i &lt; 1000; i++) {\n       numberToCheck.add(i);\n\n       if (numberToCheck.get(i) % firstNumber == 0 || numberToCheck.get(i) % secondNumber == 0) {\n           multiples.add(numberToCheck.get(i));\n       }\n\n    }\n\n    for (int i=0; i&lt;multiples.size(); i++) {\n\n     sumOfMultiples += multiples.get(i);\n\n    }\n    System.out.println(multiples);\n    System.out.println(\"Sum Of Multiples: \" + sumOfMultiples);\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116198,"reputation":17,"user_id":2636895,"display_name":"Parag Satav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1558412021,"creation_date":1406419496,"answer_id":24976643,"question_id":19691830,"body_markdown":"If number is 10 then multiple of 3 is 3,6,9 and multiple of 5 is 5,10 total sum is 33 and program gives same answer:\r\n\r\n    package com.parag;\r\n    \r\n    /*\r\n     * @author Parag Satav\r\n     */\r\n    public class MultipleAddition {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main( final String[] args ) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tArrayList&lt;Integer&gt; x = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;Integer&gt; y = new ArrayList&lt;Integer&gt;();\r\n\t\tint totalforthree = 0;\r\n\t\tint totalforfive = 0;\r\n\t\tint number = 8;\r\n\r\n\t\tint total = 0;\r\n\r\n\t\tfor ( int temp = 1; temp &lt;= number; temp++ ) {\r\n\t\t\tif ( temp % 3 == 0 ) {\r\n\t\t\t\tx.add( temp );\r\n\t\t\t\ttotalforthree += temp;\r\n\t\t\t}\r\n\r\n\t\t\telse if ( temp % 5 == 0 ) {\r\n\t\t\t\ty.add( temp );\r\n\t\t\t\ttotalforfive += temp;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttotal = totalforfive + totalforthree;\r\n\t\tSystem.out.println( &quot;multiples of 3 : &quot; + x );\r\n\t\tSystem.out.println( &quot;multiples of 5 : &quot; + y );\r\n\t\tSystem.out.println( &quot;The multiples of 3 or 5 up to &quot; + number + &quot; are: &quot; + total );\r\n\r\n\t}\r\n    \r\n    }\r\n\r\n","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>If number is 10 then multiple of 3 is 3,6,9 and multiple of 5 is 5,10 total sum is 33 and program gives same answer:</p>\n\n<pre><code>package com.parag;\n\n/*\n * @author Parag Satav\n */\npublic class MultipleAddition {\n\n    /**\n     * @param args\n     */\n    public static void main( final String[] args ) {\n    // TODO Auto-generated method stub\n\n    ArrayList&lt;Integer&gt; x = new ArrayList&lt;Integer&gt;();\n    ArrayList&lt;Integer&gt; y = new ArrayList&lt;Integer&gt;();\n    int totalforthree = 0;\n    int totalforfive = 0;\n    int number = 8;\n\n    int total = 0;\n\n    for ( int temp = 1; temp &lt;= number; temp++ ) {\n        if ( temp % 3 == 0 ) {\n            x.add( temp );\n            totalforthree += temp;\n        }\n\n        else if ( temp % 5 == 0 ) {\n            y.add( temp );\n            totalforfive += temp;\n        }\n    }\n\n    total = totalforfive + totalforthree;\n    System.out.println( \"multiples of 3 : \" + x );\n    System.out.println( \"multiples of 5 : \" + y );\n    System.out.println( \"The multiples of 3 or 5 up to \" + number + \" are: \" + total );\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790821,"reputation":2348,"user_id":2401088,"accept_rate":75,"display_name":"Pankaj Prakash"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1433926519,"creation_date":1433926519,"answer_id":30751605,"question_id":19691830,"body_markdown":"Don&#39;t you all think instead of using loops to compute the sum of multiples, we can easily compute sum of n terms using a simple [formula of Arithmetic Progression to compute sum of n terms][1].  \r\n\r\nI evaluated results on both using loop and formula. Loops works simply valuable to short data ranges. But when the data ranges grows more than 10&lt;sup&gt;10&lt;/sup&gt; program takes more than hours to process the result with loops. But the same evaluates the result in milliseconds when using a simple formula of Arithmetic Progression.   \r\n\r\nWhat we really need to do is:  \r\n**Algorithm :**  \r\n\r\n 1. Compute the sum of multiples of 3 and add to sum.\r\n 2. Compute the sum of multiples of 5 and add to sum.\r\n 3. Compute the sum of multiples of 3*5 = 15 and subtract from sum.  \r\n\r\nHere is code snippet in java from my blog post [CodeForWin - Project Euler 1: Multiples of 3 and 5][2]\r\n\r\n    n--; //Since we need to compute the sum less than n.\r\n    //Check if n is more than or equal to 3 then compute sum of all divisible by\r\n    //3 and add to sum.  \r\n    if(n&gt;=3) {  \r\n        totalElements = n/3;  \r\n        sum += (totalElements * ( 3 + totalElements*3)) / 2;  \r\n    }  \r\n          \r\n    //Check if n is more than or equal to 5 then compute sum of all elements   \r\n    //divisible by 5 and add to sum.  \r\n    if(n &gt;= 5) {  \r\n        totalElements = n/5;  \r\n        sum += (totalElements * (5 + totalElements * 5)) / 2;  \r\n    }  \r\n          \r\n    //Check if n is more than or equal to 15 then compute sum of all elements  \r\n    //divisible by 15 and subtract from sum.  \r\n    if(n &gt;= 15) {  \r\n        totalElements = n/15;  \r\n        sum -= (totalElements * (15 + totalElements * 15)) / 2;  \r\n    }  \r\n          \r\n    System.out.println(sum); \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Arithmetic_progression#Sum\r\n  [2]: http://codeforwin.blogspot.in/2015/06/project-euler-multiples-of-3-and-5.html","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>Don't you all think instead of using loops to compute the sum of multiples, we can easily compute sum of n terms using a simple <a href=\"http://en.wikipedia.org/wiki/Arithmetic_progression#Sum\" rel=\"nofollow\">formula of Arithmetic Progression to compute sum of n terms</a>.  </p>\n\n<p>I evaluated results on both using loop and formula. Loops works simply valuable to short data ranges. But when the data ranges grows more than 10<sup>10</sup> program takes more than hours to process the result with loops. But the same evaluates the result in milliseconds when using a simple formula of Arithmetic Progression.   </p>\n\n<p>What we really need to do is:<br>\n<strong>Algorithm :</strong>  </p>\n\n<ol>\n<li>Compute the sum of multiples of 3 and add to sum.</li>\n<li>Compute the sum of multiples of 5 and add to sum.</li>\n<li>Compute the sum of multiples of 3*5 = 15 and subtract from sum.  </li>\n</ol>\n\n<p>Here is code snippet in java from my blog post <a href=\"http://codeforwin.blogspot.in/2015/06/project-euler-multiples-of-3-and-5.html\" rel=\"nofollow\">CodeForWin - Project Euler 1: Multiples of 3 and 5</a></p>\n\n<pre><code>n--; //Since we need to compute the sum less than n.\n//Check if n is more than or equal to 3 then compute sum of all divisible by\n//3 and add to sum.  \nif(n&gt;=3) {  \n    totalElements = n/3;  \n    sum += (totalElements * ( 3 + totalElements*3)) / 2;  \n}  \n\n//Check if n is more than or equal to 5 then compute sum of all elements   \n//divisible by 5 and add to sum.  \nif(n &gt;= 5) {  \n    totalElements = n/5;  \n    sum += (totalElements * (5 + totalElements * 5)) / 2;  \n}  \n\n//Check if n is more than or equal to 15 then compute sum of all elements  \n//divisible by 15 and subtract from sum.  \nif(n &gt;= 15) {  \n    totalElements = n/15;  \n    sum -= (totalElements * (15 + totalElements * 15)) / 2;  \n}  \n\nSystem.out.println(sum); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6796774,"reputation":139,"user_id":5231713,"accept_rate":33,"display_name":"Surya Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1452222047,"creation_date":1452222047,"answer_id":34668828,"question_id":19691830,"body_markdown":"    public class Solution {\r\n        public static void main(String[] args) {\r\n            /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n            Scanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            while (t&gt;0){\r\n                int sum = 0;\r\n                int count =0;\r\n                int n = sc.nextInt();\r\n                n--; \r\n                System.out.println((n/3*(6+(n/3-1)*3))/2 + (n/5*(10+(n/5-1)*5))/2 - (n/15*(30+(n/15-1)*15))/2);\r\n                t--;\r\n        }\r\n    }\r\n    }","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<pre><code>public class Solution {\n    public static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        while (t&gt;0){\n            int sum = 0;\n            int count =0;\n            int n = sc.nextInt();\n            n--; \n            System.out.println((n/3*(6+(n/3-1)*3))/2 + (n/5*(10+(n/5-1)*5))/2 - (n/15*(30+(n/15-1)*15))/2);\n            t--;\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790861,"reputation":21,"user_id":1631309,"display_name":"Ritesh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1467373984,"creation_date":1467373984,"answer_id":38144779,"question_id":19691830,"body_markdown":"How I solved this is that I took an integer value (initialized to zero) and kept on adding the incremented value of i, if its modulo with 3 or 5 gives me zero.\r\n\r\n    private static int getSum() {\r\n    int sum = 0;\r\n    for (int i = 1; i &lt; 1000; i++) {\r\n        if (i % 3 == 0 || i % 5 == 0) {\r\n            sum += i;\r\n        }\r\n    }\r\n    return sum;\r\n    }\r\n\r\n","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>How I solved this is that I took an integer value (initialized to zero) and kept on adding the incremented value of i, if its modulo with 3 or 5 gives me zero.</p>\n\n<pre><code>private static int getSum() {\nint sum = 0;\nfor (int i = 1; i &lt; 1000; i++) {\n    if (i % 3 == 0 || i % 5 == 0) {\n        sum += i;\n    }\n}\nreturn sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8845291,"reputation":9,"user_id":6606250,"display_name":"Perry Thomson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490282760,"creation_date":1490282760,"answer_id":42980378,"question_id":19691830,"body_markdown":"I did this several ways and several times. The fastest, cleanest and simplest way to complete the required code for Java is this:\r\n\r\n    public class MultiplesOf3And5 {\r\n\r\n    public static void main(String[] args){\r\n    \r\n    System.out.println(&quot;The sum of the multiples of 3 and 5 is: &quot; + getSum());\r\n    \r\n    }\r\n    \r\n    private static int getSum() {\r\n    int sum = 0;\r\n    for (int i = 1; i &lt; 1000; i++) {\r\n        if (i % 3 == 0 || i % 5 == 0) {\r\n            sum += i;\r\n        }\r\n    }\r\n    return sum;\r\n    }\r\n\r\n\r\nIf anyone has a suggestion to get it down to fewer lines of code, please let me know your solution.  I&#39;m new to programming.\r\n\r\n","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>I did this several ways and several times. The fastest, cleanest and simplest way to complete the required code for Java is this:</p>\n\n<pre><code>public class MultiplesOf3And5 {\n\npublic static void main(String[] args){\n\nSystem.out.println(\"The sum of the multiples of 3 and 5 is: \" + getSum());\n\n}\n\nprivate static int getSum() {\nint sum = 0;\nfor (int i = 1; i &lt; 1000; i++) {\n    if (i % 3 == 0 || i % 5 == 0) {\n        sum += i;\n    }\n}\nreturn sum;\n}\n</code></pre>\n\n<p>If anyone has a suggestion to get it down to fewer lines of code, please let me know your solution.  I'm new to programming.</p>\n"},{"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521953285,"creation_date":1521953285,"answer_id":49472633,"question_id":19691830,"body_markdown":"If you are using Java 8 you can do it in the following way:\r\n\r\n    Integer sum = IntStream.range(1, 1000) // create range\r\n\t\t              .filter(i -&gt; i % 3 == 0 || i % 5 == 0) // filter out\r\n\t\t              .sum(); // output: 233168\r\n\r\nTo count the numbers which are divisible by both `3` and `5` twice you can \r\neither write the above line twice or `.map()` the `2 * i` values:\r\n\r\n    Integer sum = IntStream.range(1, 1000)\r\n\t\t              .filter(i -&gt; i % 3 == 0 || i % 5 == 0)\r\n                      .map(i -&gt; i % 3 == 0 &amp;&amp; i % 5 == 0 ? 2 * i : i)\r\n\t\t              .sum(); // output: 266333","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>If you are using Java 8 you can do it in the following way:</p>\n\n<pre><code>Integer sum = IntStream.range(1, 1000) // create range\n                  .filter(i -&gt; i % 3 == 0 || i % 5 == 0) // filter out\n                  .sum(); // output: 233168\n</code></pre>\n\n<p>To count the numbers which are divisible by both <code>3</code> and <code>5</code> twice you can \neither write the above line twice or <code>.map()</code> the <code>2 * i</code> values:</p>\n\n<pre><code>Integer sum = IntStream.range(1, 1000)\n                  .filter(i -&gt; i % 3 == 0 || i % 5 == 0)\n                  .map(i -&gt; i % 3 == 0 &amp;&amp; i % 5 == 0 ? 2 * i : i)\n                  .sum(); // output: 266333\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13960564,"reputation":306,"user_id":10081937,"display_name":"Widuranga Dilruksha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555673576,"creation_date":1555673448,"answer_id":55761166,"question_id":19691830,"body_markdown":"In a mathematical perspective,\r\n&lt;br&gt;You did not consider about common factors between 3 and 5.&lt;br&gt;Because there is double counting.\r\n\r\n&lt;br&gt;ex; number 15 , \r\n30 , \r\n45 , \r\n60 , \r\n75 , \r\n90 , \r\n105 , \r\n120 , \r\n135 , \r\n150 , \r\n165 , \r\n180 , \r\n195 , \r\n210 , \r\n225 , \r\n240 , \r\n255 , \r\n270 , \r\n285 , \r\n300 , \r\n315 , \r\n330 , \r\n345 , \r\n360 , \r\n375 , \r\n390 , \r\n405 , \r\n420 , \r\n435 , \r\n450 , \r\n465 , \r\n480 , \r\n495 , \r\n510 , \r\n525 , \r\n540 , \r\n555 , \r\n570 , \r\n585 , \r\n600 , \r\n615 , \r\n630 , \r\n645 , \r\n660 , \r\n675 , \r\n690 , \r\n705 , \r\n720 , \r\n735 , \r\n750 , \r\n765 , \r\n780 , \r\n795 , \r\n810 , \r\n825 , \r\n840 , \r\n855 , \r\n870 , \r\n885 , \r\n900 , \r\n915 , \r\n930 , \r\n945 , \r\n960 , \r\n975 , \r\n990 , are common factors.   \r\n&lt;br&gt; total of common factors = 33165.\r\n&lt;br&gt; Your answer is 266333\r\n&lt;br&gt; Correct answer is 233168.\r\n&lt;br&gt;Your Answer - Total of common factors\r\n&lt;br&gt; 266333-33165=233168.\r\n\r\n(this is a code for getting common factors and Total of common factors )\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        \r\nSystem.out.println(&quot;The sum of the Common Factors : &quot; + getCommonFactorSum());\r\n\r\n}\r\n\r\nprivate static int getCommonFactorSum() {\r\nint sum = 0;\r\nfor (int i = 1; i &lt; 1000; i++) {\r\n    if (i % 3 == 0 &amp;&amp; i % 5 == 0) {\r\n        sum += i;\r\n        System.out.println(i);\r\n    }\r\n}\r\n```","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>In a mathematical perspective,\n<br>You did not consider about common factors between 3 and 5.<br>Because there is double counting.</p>\n\n<p><br>ex; number 15 , \n30 , \n45 , \n60 , \n75 , \n90 , \n105 , \n120 , \n135 , \n150 , \n165 , \n180 , \n195 , \n210 , \n225 , \n240 , \n255 , \n270 , \n285 , \n300 , \n315 , \n330 , \n345 , \n360 , \n375 , \n390 , \n405 , \n420 , \n435 , \n450 , \n465 , \n480 , \n495 , \n510 , \n525 , \n540 , \n555 , \n570 , \n585 , \n600 , \n615 , \n630 , \n645 , \n660 , \n675 , \n690 , \n705 , \n720 , \n735 , \n750 , \n765 , \n780 , \n795 , \n810 , \n825 , \n840 , \n855 , \n870 , \n885 , \n900 , \n915 , \n930 , \n945 , \n960 , \n975 , \n990 , are common factors.<br>\n<br> total of common factors = 33165.\n<br> Your answer is 266333\n<br> Correct answer is 233168.\n<br>Your Answer - Total of common factors\n<br> 266333-33165=233168.</p>\n\n<p>(this is a code for getting common factors and Total of common factors )</p>\n\n<pre><code>public static void main(String[] args) {\n\nSystem.out.println(\"The sum of the Common Factors : \" + getCommonFactorSum());\n\n}\n\nprivate static int getCommonFactorSum() {\nint sum = 0;\nfor (int i = 1; i &lt; 1000; i++) {\n    if (i % 3 == 0 &amp;&amp; i % 5 == 0) {\n        sum += i;\n        System.out.println(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6176772,"reputation":21,"user_id":4813396,"display_name":"Sunil Vishwakarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596441526,"creation_date":1596441526,"answer_id":63225730,"question_id":19691830,"body_markdown":"        int count = 0;\r\n    for (int i = 1; i &lt;= 1000 / 3; i++)\r\n    {\r\n    count = count + (i * 3);\r\n    if (i &lt; 1000 / 5 &amp;&amp; !(i % 3 == 0))\r\n    {\r\n    count = count + (i * 5);\r\n    }\r\n    }\r\n\r\n","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<pre><code>    int count = 0;\nfor (int i = 1; i &lt;= 1000 / 3; i++)\n{\ncount = count + (i * 3);\nif (i &lt; 1000 / 5 &amp;&amp; !(i % 3 == 0))\n{\ncount = count + (i * 5);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614376418,"creation_date":1611089465,"answer_id":65799346,"question_id":19691830,"body_markdown":"Others have already pointed out the mistakes in your code, however I want to add that **the modulus operator solution is not the most *efficient***. \r\n\r\n**A faster implementation** would be something like this:\r\n\r\n    int multiply3_5(int max)\r\n    {\r\n      int i, x3 = 0, x5 = 0, x15 = 0;\r\n        \r\n      for(i = 3; i &lt; max; i+=3)    x3 += i;    // Store all multiples of 3\r\n      for(i = 5; i &lt; max; i+=5)    x5 += i;    //  Store all multiples of 5\r\n      for(i = 15; i &lt; max; i+=15)  x15 += i;   //   Store all multiples 15; \r\n     \r\n      return x3+x5-x15;\r\n    }\r\n\r\nIn this solution I had to take out multiples of 15 because, 3 and 5 have 15 as multiple so on the second loop it will add multiples of 15 that already been added in the first loop;\r\n\r\n**Solution with a time complexity of `O(1)`**\r\n\r\nAnother even better solution (with a time complexity of `O(1)`) is if you take a mathematical approach.\r\n\r\nYou are trying to sum all numbers like this 3 + 6 + 9  ... 1000 and 5 + 10 + 15 +20 + ... 1000 this is the same of having 3 * (1 + 2 + 3 + 4 + …  + 333)  and 5 * ( 1 + 2 + 3 + 4 + ... + 200), the sum of &#39;n&#39; natural number is (n * (n + 1)) ([source][1]) so you can calculate in a constant time, as it follows:\r\n\r\n    int multiply3_5(int max)\r\n    {\r\n       int x3 =   (max - 1) / 3; \r\n       int x5 =   (max - 1) / 5;\r\n       int x15 =  (max - 1) / 15;                  \r\n       int sn3 =  (x3 * (x3 + 1)) / 2; \r\n       int sn5 =  (x5 * (x5 + 1)) / 2; \r\n       int sn15 = (x15 * (x15 + 1)) / 2;\r\n       return (3*sn3) + (5 *sn5) - (15*sn15);\r\n    }\r\n\r\n**Running Example:**\r\n\r\n    public class SumMultiples2And5 {\r\n    \r\n        public static int multiply3_5_complexityN(int max){\r\n            int i, x3 = 0, x5 = 0, x15 = 0;\r\n    \r\n            for(i = 3; i &lt; max; i+=3)    x3 += i;    // Store all multiples of 3\r\n            for(i = 5; i &lt; max; i+=5)    x5 += i;    //  Store all multiples of 5\r\n            for(i = 15; i &lt; max; i+=15)  x15 += i;   //   Store all multiples 15;\r\n    \r\n            return x3 + x5 - x15;\r\n        }\r\n    \r\n        public static int multiply3_5_constant(int max){\r\n            int x3 =   (max - 1) / 3;\r\n            int x5 =   (max - 1) / 5;\r\n            int x15 =  (max - 1) / 15;\r\n            int sn3 =  (x3 * (x3 + 1)) / 2;\r\n            int sn5 =  (x5 * (x5 + 1)) / 2;\r\n            int sn15 = (x15 * (x15 + 1)) / 2;\r\n            return (3*sn3) + (5 *sn5) - (15*sn15);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(multiply3_5_complexityN(1000));\r\n            System.out.println(multiply3_5_constant(1000));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    233168\r\n    233168\r\n\r\n[1]: https://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_⋯","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>Others have already pointed out the mistakes in your code, however I want to add that <strong>the modulus operator solution is not the most <em>efficient</em></strong>.</p>\n<p><strong>A faster implementation</strong> would be something like this:</p>\n<pre><code>int multiply3_5(int max)\n{\n  int i, x3 = 0, x5 = 0, x15 = 0;\n    \n  for(i = 3; i &lt; max; i+=3)    x3 += i;    // Store all multiples of 3\n  for(i = 5; i &lt; max; i+=5)    x5 += i;    //  Store all multiples of 5\n  for(i = 15; i &lt; max; i+=15)  x15 += i;   //   Store all multiples 15; \n \n  return x3+x5-x15;\n}\n</code></pre>\n<p>In this solution I had to take out multiples of 15 because, 3 and 5 have 15 as multiple so on the second loop it will add multiples of 15 that already been added in the first loop;</p>\n<p><strong>Solution with a time complexity of <code>O(1)</code></strong></p>\n<p>Another even better solution (with a time complexity of <code>O(1)</code>) is if you take a mathematical approach.</p>\n<p>You are trying to sum all numbers like this 3 + 6 + 9  ... 1000 and 5 + 10 + 15 +20 + ... 1000 this is the same of having 3 * (1 + 2 + 3 + 4 + …  + 333)  and 5 * ( 1 + 2 + 3 + 4 + ... + 200), the sum of 'n' natural number is (n * (n + 1)) (<a href=\"https://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_%E2%8B%AF\" rel=\"nofollow noreferrer\">source</a>) so you can calculate in a constant time, as it follows:</p>\n<pre><code>int multiply3_5(int max)\n{\n   int x3 =   (max - 1) / 3; \n   int x5 =   (max - 1) / 5;\n   int x15 =  (max - 1) / 15;                  \n   int sn3 =  (x3 * (x3 + 1)) / 2; \n   int sn5 =  (x5 * (x5 + 1)) / 2; \n   int sn15 = (x15 * (x15 + 1)) / 2;\n   return (3*sn3) + (5 *sn5) - (15*sn15);\n}\n</code></pre>\n<p><strong>Running Example:</strong></p>\n<pre><code>public class SumMultiples2And5 {\n\n    public static int multiply3_5_complexityN(int max){\n        int i, x3 = 0, x5 = 0, x15 = 0;\n\n        for(i = 3; i &lt; max; i+=3)    x3 += i;    // Store all multiples of 3\n        for(i = 5; i &lt; max; i+=5)    x5 += i;    //  Store all multiples of 5\n        for(i = 15; i &lt; max; i+=15)  x15 += i;   //   Store all multiples 15;\n\n        return x3 + x5 - x15;\n    }\n\n    public static int multiply3_5_constant(int max){\n        int x3 =   (max - 1) / 3;\n        int x5 =   (max - 1) / 5;\n        int x15 =  (max - 1) / 15;\n        int sn3 =  (x3 * (x3 + 1)) / 2;\n        int sn5 =  (x5 * (x5 + 1)) / 2;\n        int sn15 = (x15 * (x15 + 1)) / 2;\n        return (3*sn3) + (5 *sn5) - (15*sn15);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(multiply3_5_complexityN(1000));\n        System.out.println(multiply3_5_constant(1000));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>233168\n233168\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13238588,"reputation":35,"user_id":9866687,"display_name":"Samhita Argula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662658424,"creation_date":1662658424,"answer_id":73653070,"question_id":19691830,"body_markdown":"Just simply\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint sum=0;\r\n    \t\tfor(int i=1;i&lt;1000;i++){\r\n    \t\t    if(i%3==0 || i%5==0){\r\n    \t\t        sum+=i;\r\n    \t\t    }\r\n    \t\t}\r\n    \t\tSystem.out.println(sum);\r\n    \t}\r\n    }","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>Just simply</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        int sum=0;\n        for(int i=1;i&lt;1000;i++){\n            if(i%3==0 || i%5==0){\n                sum+=i;\n            }\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3118514,"reputation":317,"user_id":2638788,"accept_rate":15,"display_name":"Tloz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45569,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":19691947,"answer_count":14,"score":6,"last_activity_date":1662658424,"creation_date":1383160397,"question_id":19691830,"body_markdown":"Ok guys, so I&#39;m doing the Project Euler challenges and I can&#39;t believe I&#39;m stuck on the [first challenge][1]. I really can&#39;t see why I&#39;m getting the wrong answer despite my code looking functional:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class Multithree {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tArrayList&lt;Integer&gt; x = new ArrayList&lt;Integer&gt;();\r\n    \t\tArrayList&lt;Integer&gt; y = new ArrayList&lt;Integer&gt;();\r\n    \t\tint totalforthree = 0;\r\n    \t\tint totalforfive = 0;\r\n    \t\t\r\n    \t\tint total =0;\r\n    \t\t\r\n    \t\tfor(int temp =0; temp &lt; 1000 ; temp++){\r\n    \t\t\tif(temp % 3 == 0){\r\n    \t\t\t\tx.add(temp);\r\n    \t\t\t\ttotalforthree += temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int temp =0; temp &lt; 1000 ; temp++){\r\n    \t\t\tif(temp % 5 == 0){\r\n    \t\t\t\ty.add(temp);\r\n    \t\t\t\ttotalforfive += temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\ttotal = totalforfive + totalforthree;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;The multiples of 3 or 5 up to 1000 are: &quot; +total);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nI&#39;m getting the answer as 266333 and it says it&#39;s wrong...\r\n\r\n\r\n  [1]: http://projecteuler.net/problem=1","title":"find the sum of the multiples of 3 and 5 below 1000","body":"<p>Ok guys, so I'm doing the Project Euler challenges and I can't believe I'm stuck on the <a href=\"http://projecteuler.net/problem=1\" rel=\"noreferrer\">first challenge</a>. I really can't see why I'm getting the wrong answer despite my code looking functional:</p>\n\n<pre><code>import java.util.ArrayList;\n\n\npublic class Multithree {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        ArrayList&lt;Integer&gt; x = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; y = new ArrayList&lt;Integer&gt;();\n        int totalforthree = 0;\n        int totalforfive = 0;\n\n        int total =0;\n\n        for(int temp =0; temp &lt; 1000 ; temp++){\n            if(temp % 3 == 0){\n                x.add(temp);\n                totalforthree += temp;\n            }\n        }\n\n        for(int temp =0; temp &lt; 1000 ; temp++){\n            if(temp % 5 == 0){\n                y.add(temp);\n                totalforfive += temp;\n            }\n        }\n\n        total = totalforfive + totalforthree;\n\n\n\n        System.out.println(\"The multiples of 3 or 5 up to 1000 are: \" +total);\n\n    }\n\n}\n</code></pre>\n\n<p>I'm getting the answer as 266333 and it says it's wrong...</p>\n"},{"tags":["java","sql","jpa","greatest-n-per-group","querydsl"],"answers":[{"tags":[],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571064711,"creation_date":1571060061,"answer_id":58377967,"question_id":58344766,"body_markdown":"The subquery can be put into the outer query&#39;s `where` clause in the form of an `exists`-expression:\r\n\r\n    final JPQLQuery&lt;Tuple&gt; subquery = JPAExpressions\r\n        .from(q2)\r\n        .select(q2.type, q2.value.max())\r\n        .groupBy(q2.type);\r\n    final JPQLQuery&lt;Tuple&gt; query = JPAExpressions\r\n        .from(q1)\r\n        .select(q1.id, q1.type)\r\n        .from(q1)\r\n    \t.where(subquery\r\n    \t    .having(q1.type.eq(q2.type), q1.value.eq(q2.value.max()))\r\n    \t\t.exists());\r\n\r\nNote that this query might be quite inefficient.","title":"select greatest element per group in querydsl","body":"<p>The subquery can be put into the outer query's <code>where</code> clause in the form of an <code>exists</code>-expression:</p>\n\n<pre><code>final JPQLQuery&lt;Tuple&gt; subquery = JPAExpressions\n    .from(q2)\n    .select(q2.type, q2.value.max())\n    .groupBy(q2.type);\nfinal JPQLQuery&lt;Tuple&gt; query = JPAExpressions\n    .from(q1)\n    .select(q1.id, q1.type)\n    .from(q1)\n    .where(subquery\n        .having(q1.type.eq(q2.type), q1.value.eq(q2.value.max()))\n        .exists());\n</code></pre>\n\n<p>Note that this query might be quite inefficient.</p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662658026,"creation_date":1662658026,"answer_id":73652999,"question_id":58344766,"body_markdown":"In order to get the top 1 element, you can use:\r\n\r\n    JPAExpressions.selectFrom(table)\r\n        .select(table.dateTimeColumn.max())","title":"select greatest element per group in querydsl","body":"<p>In order to get the top 1 element, you can use:</p>\n<pre><code>JPAExpressions.selectFrom(table)\n    .select(table.dateTimeColumn.max())\n</code></pre>\n"}],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2567,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58377967,"answer_count":2,"score":4,"last_activity_date":1662658026,"creation_date":1570809243,"question_id":58344766,"body_markdown":"I have a sql table that looks roughly like this:\r\n\r\n    +-----+------+-------+\r\n    |  id | type | value |\r\n    +-----+------+-------+\r\n    |  1  |   X  |   20  |\r\n    |  2  |   X  |   30  |\r\n    |  3  |   Y  |  200  |\r\n    |  4  |   Y  |  500  |\r\n    |  5  |   Y  |  300  |\r\n    |  6  |   Z  |    5  |\r\n    +-----+------+-------+\r\n\r\nFor each type I want to retrieve the row with the maximum value. This is my expected result:\r\n\r\n    +-----+------+\r\n    |  id | type |\r\n    +-----+------+\r\n    |  2  |   X  | &lt;-- had value = 30\r\n    |  4  |   Y  | &lt;-- had value = 500\r\n    |  6  |   Z  | &lt;-- had value = 5\r\n    +-----+------+\r\n\r\nIn SQL, this can be expressed as follows (given that for each type there aren&#39;t two entries with the same value, which I can rule out):\r\n\r\n    select t1.id, t1.type from T t1\r\n    inner join (\r\n      select t2.type, max(t2.value) as max_value from T t2\r\n      group by t2.type\r\n    ) on t1.type = t2.type\r\n      and t1.value = max_value\r\n\r\nHowever I cannot find a way to express the same using QueryDSL (version 4). I tried this:\r\n\r\n    final JPQLQuery&lt;Tuple&gt; subquery = JPAExpressions\r\n    \t.from(q2)\r\n    \t.select(q2.type, q2.value.max())\r\n    \t.groupBy(q2.type);\r\n    final JPQLQuery&lt;Tuple&gt; query = JPAExpressions\r\n    \t.from(q1)\r\n    \t.select(q1.id, q1.type)\r\n    \t.from(q1)\r\n    \t.innerJoin(subquery) // &lt;-- not allowed\r\n    \t.on(q1.type.eq(q2.type), q1.value.eq(q2.value.max()));\r\n\r\nBut `innerJoin()` (and other join methods) only take an expression as parameter, not another query.\r\nThe same goes for `from()`.","title":"select greatest element per group in querydsl","body":"<p>I have a sql table that looks roughly like this:</p>\n\n<pre><code>+-----+------+-------+\n|  id | type | value |\n+-----+------+-------+\n|  1  |   X  |   20  |\n|  2  |   X  |   30  |\n|  3  |   Y  |  200  |\n|  4  |   Y  |  500  |\n|  5  |   Y  |  300  |\n|  6  |   Z  |    5  |\n+-----+------+-------+\n</code></pre>\n\n<p>For each type I want to retrieve the row with the maximum value. This is my expected result:</p>\n\n<pre><code>+-----+------+\n|  id | type |\n+-----+------+\n|  2  |   X  | &lt;-- had value = 30\n|  4  |   Y  | &lt;-- had value = 500\n|  6  |   Z  | &lt;-- had value = 5\n+-----+------+\n</code></pre>\n\n<p>In SQL, this can be expressed as follows (given that for each type there aren't two entries with the same value, which I can rule out):</p>\n\n<pre><code>select t1.id, t1.type from T t1\ninner join (\n  select t2.type, max(t2.value) as max_value from T t2\n  group by t2.type\n) on t1.type = t2.type\n  and t1.value = max_value\n</code></pre>\n\n<p>However I cannot find a way to express the same using QueryDSL (version 4). I tried this:</p>\n\n<pre><code>final JPQLQuery&lt;Tuple&gt; subquery = JPAExpressions\n    .from(q2)\n    .select(q2.type, q2.value.max())\n    .groupBy(q2.type);\nfinal JPQLQuery&lt;Tuple&gt; query = JPAExpressions\n    .from(q1)\n    .select(q1.id, q1.type)\n    .from(q1)\n    .innerJoin(subquery) // &lt;-- not allowed\n    .on(q1.type.eq(q2.type), q1.value.eq(q2.value.max()));\n</code></pre>\n\n<p>But <code>innerJoin()</code> (and other join methods) only take an expression as parameter, not another query.\nThe same goes for <code>from()</code>.</p>\n"},{"tags":["javascript","java","sql","angular","spring"],"comments":[{"owner":{"account_id":6798911,"reputation":415,"user_id":5233005,"display_name":"Yogi"},"score":0,"creation_date":1662682857,"post_id":73652994,"comment_id":130068302,"body_markdown":"the names are a bit confusing, you have this endpoint named: &quot;/recipes/{id}/addIngredients&quot; but it only accepts one ingredient at a time.\ninstead of firing multiple network calls for each ingredient/step, it&#39;ll be better to refactor your Spring request handler to accept a list of ingredients/steps to avoid any concurrency issues.\nAlso check your request payload in network tab to verify if it is actually sending all the required details.","body":"the names are a bit confusing, you have this endpoint named: &quot;/recipes/{id}/addIngredients&quot; but it only accepts one ingredient at a time. instead of firing multiple network calls for each ingredient/step, it&#39;ll be better to refactor your Spring request handler to accept a list of ingredients/steps to avoid any concurrency issues. Also check your request payload in network tab to verify if it is actually sending all the required details."},{"owner":{"account_id":26231417,"reputation":1,"user_id":19951760,"display_name":"C T"},"score":0,"creation_date":1662914271,"post_id":73652994,"comment_id":130111244,"body_markdown":"That did it!!! You&#39;re a life saver, thank you so much! Also thank you for pointing out about the names, I&#39;m still a newbie so it&#39;s good to know to think about how even accidentally typing a plural can cause confusion.","body":"That did it!!! You&#39;re a life saver, thank you so much! Also thank you for pointing out about the names, I&#39;m still a newbie so it&#39;s good to know to think about how even accidentally typing a plural can cause confusion."},{"owner":{"account_id":6798911,"reputation":415,"user_id":5233005,"display_name":"Yogi"},"score":0,"creation_date":1663006782,"post_id":73652994,"comment_id":130133218,"body_markdown":"glad it worked, you&#39;re on your way to become a pro!","body":"glad it worked, you&#39;re on your way to become a pro!"}],"owner":{"account_id":26231417,"reputation":1,"user_id":19951760,"display_name":"C T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662658006,"creation_date":1662658006,"question_id":73652994,"body_markdown":"I am working on an app that allows you to save recipes to a database. Frontend= Angular, backend= Spring, database= SQL (connected to my local machine). There&#39;s a recipe class, an ingredient class, and a step class; recipe and ingredient have a many-to-many relationship and so do recipe and step. My issue is, that when I submit a recipe to a database, it only submits all ingredients and all steps *sometimes*. \r\n\r\nIf I enter the same recipe the same way 10 times, it only successfully posts all ingredients and all steps maybe 2-3 times. Below, I have shared a screenshot of the join tables between recipe-ingredients and recipe-steps after submitting the same recipe 3 times (each recipe_id should have 5 ingredient_id&#39;s and 3 step_id&#39;s); as you can see, it posted successfully the first time only. [SQL database tables][1]\r\n\r\nI have also shared a screenshot of the Network details for the 3rd time I posted it; according to it, the POST method was successful (status 200) for each ingredient and step (you can&#39;t see the details but you can see that it POSTed the correct number of times for addIngredients and addSteps), even though when you look at the database, only 2 of the 3 steps were saved. Can someone please help me figure out why it&#39;s not posting every ingredient or step every time but it is sometimes? It&#39;s literally random which ones save to the database and which ones don&#39;t, and I don&#39;t get any errors, so I am clueless. [Network Details on submit][2]\r\n\r\nonSubmit function in Angular:\r\n```\r\nonSubmit() {\r\n    for (let i = 0; i &lt; this.ingredientsForRecipe.length; i++) {\r\n      this.recipeService.addRecipeIngredient(this.recipeId, this.ingredientsForRecipe[i]).subscribe();\r\n    }\r\n\r\n    for (let i = 0; i &lt; this.stepsForRecipe.length; i++) {\r\n      this.recipeService.addRecipeStep(this.recipeId, this.stepsForRecipe[i]).subscribe();\r\n    }\r\n  }\r\n```\r\n\r\nrelevant Angular service functions:\r\n```\r\n  public addRecipeIngredient(recipeId: number, ingredient: Ingredient) {\r\n    const url = &#39;http://localhost:8080/recipes/&#39; + recipeId + &#39;/addIngredients&#39;;\r\n    return this.http.post(url, ingredient);\r\n  }\r\n\r\n  public addRecipeStep(recipeId: number, step: Step) {\r\n    const url = &#39;http://localhost:8080/recipes/&#39; + recipeId + &#39;/addSteps&#39;;\r\n    return this.http.post(url, step);\r\n  }\r\n```\r\n\r\nrelevant Spring functions:\r\n```\r\n@PostMapping(&quot;recipes/{id}/addIngredients&quot;)\r\n    public void addIngredientsToRecipe(@PathVariable(&quot;id&quot;) Integer recipeId, @RequestBody Ingredient ingredient) {\r\n        Optional&lt;Recipe&gt; recipeResult = recipeRepository.findById(recipeId);\r\n        Recipe recipe = recipeResult.get();\r\n        RecipeIngredientDTO recipeIngredientDTO = new RecipeIngredientDTO();\r\n        recipeIngredientDTO.setRecipe(recipe);\r\n        recipeIngredientDTO.setIngredient(ingredient);\r\n        recipe.addIngredient(ingredient);\r\n        recipeRepository.save(recipe);\r\n        ingredientRepository.save(ingredient);\r\n    }\r\n\r\n    @PostMapping(&quot;recipes/{id}/addSteps&quot;)\r\n    public void addStepsToRecipe(@PathVariable(&quot;id&quot;) Integer recipeId, @RequestBody Step step) {\r\n        Optional&lt;Recipe&gt; recipeResult = recipeRepository.findById(recipeId);\r\n        Recipe recipe = recipeResult.get();\r\n        RecipeStepDTO recipeStepDTO = new RecipeStepDTO();\r\n        recipeStepDTO.setRecipe(recipe);\r\n        recipeStepDTO.setStep(step);\r\n        recipe.addStep(step);\r\n        recipeRepository.save(recipe);\r\n        stepRepository.save(step);\r\n    }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/AziKq.png\r\n  [2]: https://i.stack.imgur.com/Prf5Z.png","title":"Angular http.post() is status 200 (no error) but does not save in the database (sometimes)","body":"<p>I am working on an app that allows you to save recipes to a database. Frontend= Angular, backend= Spring, database= SQL (connected to my local machine). There's a recipe class, an ingredient class, and a step class; recipe and ingredient have a many-to-many relationship and so do recipe and step. My issue is, that when I submit a recipe to a database, it only submits all ingredients and all steps <em>sometimes</em>.</p>\n<p>If I enter the same recipe the same way 10 times, it only successfully posts all ingredients and all steps maybe 2-3 times. Below, I have shared a screenshot of the join tables between recipe-ingredients and recipe-steps after submitting the same recipe 3 times (each recipe_id should have 5 ingredient_id's and 3 step_id's); as you can see, it posted successfully the first time only. <a href=\"https://i.stack.imgur.com/AziKq.png\" rel=\"nofollow noreferrer\">SQL database tables</a></p>\n<p>I have also shared a screenshot of the Network details for the 3rd time I posted it; according to it, the POST method was successful (status 200) for each ingredient and step (you can't see the details but you can see that it POSTed the correct number of times for addIngredients and addSteps), even though when you look at the database, only 2 of the 3 steps were saved. Can someone please help me figure out why it's not posting every ingredient or step every time but it is sometimes? It's literally random which ones save to the database and which ones don't, and I don't get any errors, so I am clueless. <a href=\"https://i.stack.imgur.com/Prf5Z.png\" rel=\"nofollow noreferrer\">Network Details on submit</a></p>\n<p>onSubmit function in Angular:</p>\n<pre><code>onSubmit() {\n    for (let i = 0; i &lt; this.ingredientsForRecipe.length; i++) {\n      this.recipeService.addRecipeIngredient(this.recipeId, this.ingredientsForRecipe[i]).subscribe();\n    }\n\n    for (let i = 0; i &lt; this.stepsForRecipe.length; i++) {\n      this.recipeService.addRecipeStep(this.recipeId, this.stepsForRecipe[i]).subscribe();\n    }\n  }\n</code></pre>\n<p>relevant Angular service functions:</p>\n<pre><code>  public addRecipeIngredient(recipeId: number, ingredient: Ingredient) {\n    const url = 'http://localhost:8080/recipes/' + recipeId + '/addIngredients';\n    return this.http.post(url, ingredient);\n  }\n\n  public addRecipeStep(recipeId: number, step: Step) {\n    const url = 'http://localhost:8080/recipes/' + recipeId + '/addSteps';\n    return this.http.post(url, step);\n  }\n</code></pre>\n<p>relevant Spring functions:</p>\n<pre><code>@PostMapping(&quot;recipes/{id}/addIngredients&quot;)\n    public void addIngredientsToRecipe(@PathVariable(&quot;id&quot;) Integer recipeId, @RequestBody Ingredient ingredient) {\n        Optional&lt;Recipe&gt; recipeResult = recipeRepository.findById(recipeId);\n        Recipe recipe = recipeResult.get();\n        RecipeIngredientDTO recipeIngredientDTO = new RecipeIngredientDTO();\n        recipeIngredientDTO.setRecipe(recipe);\n        recipeIngredientDTO.setIngredient(ingredient);\n        recipe.addIngredient(ingredient);\n        recipeRepository.save(recipe);\n        ingredientRepository.save(ingredient);\n    }\n\n    @PostMapping(&quot;recipes/{id}/addSteps&quot;)\n    public void addStepsToRecipe(@PathVariable(&quot;id&quot;) Integer recipeId, @RequestBody Step step) {\n        Optional&lt;Recipe&gt; recipeResult = recipeRepository.findById(recipeId);\n        Recipe recipe = recipeResult.get();\n        RecipeStepDTO recipeStepDTO = new RecipeStepDTO();\n        recipeStepDTO.setRecipe(recipe);\n        recipeStepDTO.setStep(step);\n        recipe.addStep(step);\n        recipeRepository.save(recipe);\n        stepRepository.save(step);\n    }\n</code></pre>\n"},{"tags":["java","class","arraylist","instanceof"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662657582,"creation_date":1662657582,"answer_id":73652927,"question_id":73652632,"body_markdown":"I&#39;m not sure what `Packable` is, but you appear to be confused about a few concepts here.\r\n\r\nIn java, `Packable reference` __does not represent the `Packable` concept__. It represents a specific instance of Packable (or null).\r\n\r\nIn other words, given `Dog dog`, that means dog is some _specific_ dog. Not &#39;the general concept of a dog&#39;. We know that the specific animal that `dog` is referring to is, at least, a Dog. It could be Fifi, the neighbour&#39;s schnauzer.\r\n\r\n`instanceof`, on the other hand, is about the general concept of things: `if (fifi instanceof Dog)` is how you&#39;re supposed to use it. You&#39;re more or less attempting to do the equivalent of `if (fifi instanceof rover)` which just doesn&#39;t make sense. How can one dog be &#39;an instance&#39; of another? It&#39;s not that the answer is &#39;true&#39; or &#39;false&#39;, but that the very question doesn&#39;t even make sense, which is why javac doesn&#39;t compile it. It has no idea what this even means.\r\n\r\nJava, being java, makes objects of many things. Notably including the very notion of things. Thus, there is the class `java.lang.Class`, instances of which _represent classes_. A bit of alice-going-down-the-rabbit-hole thing is happening here: Classes as a concept are _also_ represented as instances of the `java.lang.Class` class.\r\n\r\nA class OBJECT (so, an instance of `java.lang.Class`) has the `.isAssignableFrom` method. This in fact takes another `j.l.CLass` as argument, it&#39;s for checking if one type is a subtype of another. In that sense, the question linked is needlessly confusing - you&#39;re really looking for the instanceOf __method__ (there is an `instanceof` language construct, but the `j.l.Class` class has an `isInstance` method, which is unrelated, other than that they roughly accomplish the same goal: Check if some INSTANCE is of a type that is equal to, or a subtype of, some TYPE.\r\n\r\nThis is an example of how to use it:\r\n\r\n```\r\nClass&lt;?&gt; c = Number.class;\r\nObject o = Integer.valueOf(5);\r\nSystem.out.println(c.isInstance(o));\r\n```\r\n\r\nthis is more or less equivalent to:\r\n\r\n```\r\nObject o = Integer.valueOf(5);\r\nSystem.out.println(o instanceof Number);\r\n```\r\n\r\nExcept now the `Number` part no longer needs to be written at &#39;write the code&#39; time, you can supply it, say, read it from a parameter. You&#39;d have to, of course, dynamically construct the Class instance. You can do so either by string-lookup, or by getting the actual type of an actual object. For example:\r\n\r\n```\r\nString input = scanner.next(); // user types in &quot;java.lang.Number&quot;\r\nClass&lt;?&gt; c = Class.forName(input);\r\nObject o = Integer.valueOf(5);\r\nSystem.out.println(c.isInstance(o));\r\n```\r\n\r\nOr:\r\n\r\n```\r\nObject i = Integer.valueOf(5);\r\nObject d = Double.valueOf(10);\r\nClass&lt;?&gt; c = i.getClass(); // will be java.lang.Integer.class\r\nSystem.out.println(c.isInstance(d)); // false\r\n```\r\n\r\nBut doing this latter bit is really dangerous. Often `i.getClass()` returns some hidden impl detail subtype (java is hierarchical and object oriented, anywhere, say, an ArrayList is needed, someone is free to make a new class: `class MyVariantOfArrayList extends ArrayList`, and use that - now you write `ArrayList foo = getList()`, but `foo.getClass()` doesn&#39;t return ArrayList - no, you invoke that method __on the object the `foo` variable points at__, so, it&#39;d be `MyVariantOfArrayList.class`, not `ArrayList.class`.\r\n\r\nIt&#39;s possible `Packable` itself represents a type. But then it either needs to also have `isInstance` and `isAssignableFrom` and such (and you need to start questioning why you&#39;re badly reinventing the wheel here - java.lang.Class already exists!), or it needs a `.getRepresentedClass()` method. You can&#39;t call it `.getClass()`, as the JVM has already given all objects that method, and it would return `Packable.class` itself.\r\n","title":"Using instanceof to seperate classes in an ArrayList","body":"<p>I'm not sure what <code>Packable</code> is, but you appear to be confused about a few concepts here.</p>\n<p>In java, <code>Packable reference</code> <strong>does not represent the <code>Packable</code> concept</strong>. It represents a specific instance of Packable (or null).</p>\n<p>In other words, given <code>Dog dog</code>, that means dog is some <em>specific</em> dog. Not 'the general concept of a dog'. We know that the specific animal that <code>dog</code> is referring to is, at least, a Dog. It could be Fifi, the neighbour's schnauzer.</p>\n<p><code>instanceof</code>, on the other hand, is about the general concept of things: <code>if (fifi instanceof Dog)</code> is how you're supposed to use it. You're more or less attempting to do the equivalent of <code>if (fifi instanceof rover)</code> which just doesn't make sense. How can one dog be 'an instance' of another? It's not that the answer is 'true' or 'false', but that the very question doesn't even make sense, which is why javac doesn't compile it. It has no idea what this even means.</p>\n<p>Java, being java, makes objects of many things. Notably including the very notion of things. Thus, there is the class <code>java.lang.Class</code>, instances of which <em>represent classes</em>. A bit of alice-going-down-the-rabbit-hole thing is happening here: Classes as a concept are <em>also</em> represented as instances of the <code>java.lang.Class</code> class.</p>\n<p>A class OBJECT (so, an instance of <code>java.lang.Class</code>) has the <code>.isAssignableFrom</code> method. This in fact takes another <code>j.l.CLass</code> as argument, it's for checking if one type is a subtype of another. In that sense, the question linked is needlessly confusing - you're really looking for the instanceOf <strong>method</strong> (there is an <code>instanceof</code> language construct, but the <code>j.l.Class</code> class has an <code>isInstance</code> method, which is unrelated, other than that they roughly accomplish the same goal: Check if some INSTANCE is of a type that is equal to, or a subtype of, some TYPE.</p>\n<p>This is an example of how to use it:</p>\n<pre><code>Class&lt;?&gt; c = Number.class;\nObject o = Integer.valueOf(5);\nSystem.out.println(c.isInstance(o));\n</code></pre>\n<p>this is more or less equivalent to:</p>\n<pre><code>Object o = Integer.valueOf(5);\nSystem.out.println(o instanceof Number);\n</code></pre>\n<p>Except now the <code>Number</code> part no longer needs to be written at 'write the code' time, you can supply it, say, read it from a parameter. You'd have to, of course, dynamically construct the Class instance. You can do so either by string-lookup, or by getting the actual type of an actual object. For example:</p>\n<pre><code>String input = scanner.next(); // user types in &quot;java.lang.Number&quot;\nClass&lt;?&gt; c = Class.forName(input);\nObject o = Integer.valueOf(5);\nSystem.out.println(c.isInstance(o));\n</code></pre>\n<p>Or:</p>\n<pre><code>Object i = Integer.valueOf(5);\nObject d = Double.valueOf(10);\nClass&lt;?&gt; c = i.getClass(); // will be java.lang.Integer.class\nSystem.out.println(c.isInstance(d)); // false\n</code></pre>\n<p>But doing this latter bit is really dangerous. Often <code>i.getClass()</code> returns some hidden impl detail subtype (java is hierarchical and object oriented, anywhere, say, an ArrayList is needed, someone is free to make a new class: <code>class MyVariantOfArrayList extends ArrayList</code>, and use that - now you write <code>ArrayList foo = getList()</code>, but <code>foo.getClass()</code> doesn't return ArrayList - no, you invoke that method <strong>on the object the <code>foo</code> variable points at</strong>, so, it'd be <code>MyVariantOfArrayList.class</code>, not <code>ArrayList.class</code>.</p>\n<p>It's possible <code>Packable</code> itself represents a type. But then it either needs to also have <code>isInstance</code> and <code>isAssignableFrom</code> and such (and you need to start questioning why you're badly reinventing the wheel here - java.lang.Class already exists!), or it needs a <code>.getRepresentedClass()</code> method. You can't call it <code>.getClass()</code>, as the JVM has already given all objects that method, and it would return <code>Packable.class</code> itself.</p>\n"}],"owner":{"account_id":15849550,"reputation":19,"user_id":11435766,"display_name":"MrYummy8626"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73652927,"answer_count":1,"score":0,"last_activity_date":1662657582,"creation_date":1662656103,"question_id":73652632,"body_markdown":"apologies if this is simple or has been answered before, I&#39;m new to Java and in my research I can&#39;t find too much on this issue and have not yet found a solution.\r\n\r\nI have an ArrayList with multiple classes that all share a common Interface, in this example the interface is called &quot;*Packable*&quot;. I&#39;m trying to create a method that takes a class parameter and sweeps through each element of this ArrayList, **returning a new list containing all the items in the original list that are of the same class as the reference parameter.**\r\n\r\nThis is my code so far, trying the *instanceof* method:\r\n```    \r\n public List&lt;Packable&gt; getOfType(Packable reference){\r\n        List&lt;Packable&gt; typeOfItems = new ArrayList&lt;&gt;();\r\n        for (Packable item: itemsStored) {\r\n            if (item instanceof reference){\r\n                typeOfItems.add(item);\r\n            }\r\n        }\r\n        return typeOfItems;\r\n    }\r\n```\r\nThis is throwing an error as it doesn&#39;t yet recognise reference as a class. [This question](https://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom) mentions  a method *isAssignableFrom* with the answer stating: &quot;*When using instanceof, you need to know the class of B at compile time. When using isAssignableFrom() it can be dynamic and change during runtime.*&quot; (Thanks [Marc Novakowski](https://stackoverflow.com/users/27020/marc-novakowski)) \r\n\r\nI understand that given the parameter the class isn&#39;t known at compilation and as such I&#39;ve tried implementing isAssignableFrom and can&#39;t really seem to get it to work. The IDE doesn&#39;t really recognise or suggest it, and there isn&#39;t too much about the method online. I&#39;ve tried implementing it the way the JavaDocs suggest but this isn&#39;t working either:\r\n```\r\nif (reference.isAssignableFrom(item.getClass())){\r\n                typeOfItems.add(item);\r\n            }\r\n```\r\nAny help or advice on methods to look into would be greatly appreciated. Thanks for reading the question, and again apologies if this is simple or has been answered elsewhere and I&#39;ve just missed it. Thanks everyone\r\n  ","title":"Using instanceof to seperate classes in an ArrayList","body":"<p>apologies if this is simple or has been answered before, I'm new to Java and in my research I can't find too much on this issue and have not yet found a solution.</p>\n<p>I have an ArrayList with multiple classes that all share a common Interface, in this example the interface is called &quot;<em>Packable</em>&quot;. I'm trying to create a method that takes a class parameter and sweeps through each element of this ArrayList, <strong>returning a new list containing all the items in the original list that are of the same class as the reference parameter.</strong></p>\n<p>This is my code so far, trying the <em>instanceof</em> method:</p>\n<pre><code> public List&lt;Packable&gt; getOfType(Packable reference){\n        List&lt;Packable&gt; typeOfItems = new ArrayList&lt;&gt;();\n        for (Packable item: itemsStored) {\n            if (item instanceof reference){\n                typeOfItems.add(item);\n            }\n        }\n        return typeOfItems;\n    }\n</code></pre>\n<p>This is throwing an error as it doesn't yet recognise reference as a class. <a href=\"https://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom\">This question</a> mentions  a method <em>isAssignableFrom</em> with the answer stating: &quot;<em>When using instanceof, you need to know the class of B at compile time. When using isAssignableFrom() it can be dynamic and change during runtime.</em>&quot; (Thanks <a href=\"https://stackoverflow.com/users/27020/marc-novakowski\">Marc Novakowski</a>)</p>\n<p>I understand that given the parameter the class isn't known at compilation and as such I've tried implementing isAssignableFrom and can't really seem to get it to work. The IDE doesn't really recognise or suggest it, and there isn't too much about the method online. I've tried implementing it the way the JavaDocs suggest but this isn't working either:</p>\n<pre><code>if (reference.isAssignableFrom(item.getClass())){\n                typeOfItems.add(item);\n            }\n</code></pre>\n<p>Any help or advice on methods to look into would be greatly appreciated. Thanks for reading the question, and again apologies if this is simple or has been answered elsewhere and I've just missed it. Thanks everyone</p>\n"},{"tags":["java","bytecode-manipulation"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441651830,"creation_date":1441651830,"answer_id":32444533,"question_id":32441781,"body_markdown":"While you are creating a new class with the additional annotation, you are never replacing the original class file that is actually loaded.\r\n\r\nYour Foo class will therefore be loaded in its original version or it was already loaded such that your changes are a no-op.","title":"Use ASM to add an annotation to a foreign class","body":"<p>While you are creating a new class with the additional annotation, you are never replacing the original class file that is actually loaded.</p>\n\n<p>Your Foo class will therefore be loaded in its original version or it was already loaded such that your changes are a no-op.</p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662656960,"creation_date":1662656960,"answer_id":73652807,"question_id":32441781,"body_markdown":"I was able to do this by calling `visitAnnotation` on a `ClassVisitor`. Values can then be set by calling `visit` on the resulting `AnnotationVisitor`. (This is assuming you already have a class visitor using whatever writing mechanism makes sense in the context.) \r\n\r\n```java\r\npublic class AnnotationAdjuster extends ClassVisitor {\r\n    private static final ANNOTATION_TYPENAME=&quot;Lorg/acme/MyAnnotation;&quot;;\r\n\r\n    @Override\r\n    public void visit(int version, int access, String name, String signature, String superName, String[] interfaces) {\r\n       // This creates the annotation, but it will not have any parameters set on it\r\n        AnnotationVisitor av = visitAnnotation(ANNOTATION_TYPENAME, true);\r\n        Object value = &quot;the-value-to-set&quot;;\r\n    \r\n        // This sets a parameter on the annotation\r\n        // it could be called more than once for multiple parameters\r\n        if (av != null) {\r\n            av.visit(&quot;value&quot;, value);\r\n        }\r\n        super.visit(version, access, name, signature, superName, interfaces);\r\n    }\r\n}\r\n```","title":"Use ASM to add an annotation to a foreign class","body":"<p>I was able to do this by calling <code>visitAnnotation</code> on a <code>ClassVisitor</code>. Values can then be set by calling <code>visit</code> on the resulting <code>AnnotationVisitor</code>. (This is assuming you already have a class visitor using whatever writing mechanism makes sense in the context.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnnotationAdjuster extends ClassVisitor {\n    private static final ANNOTATION_TYPENAME=&quot;Lorg/acme/MyAnnotation;&quot;;\n\n    @Override\n    public void visit(int version, int access, String name, String signature, String superName, String[] interfaces) {\n       // This creates the annotation, but it will not have any parameters set on it\n        AnnotationVisitor av = visitAnnotation(ANNOTATION_TYPENAME, true);\n        Object value = &quot;the-value-to-set&quot;;\n    \n        // This sets a parameter on the annotation\n        // it could be called more than once for multiple parameters\n        if (av != null) {\n            av.visit(&quot;value&quot;, value);\n        }\n        super.visit(version, access, name, signature, superName, interfaces);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1361091,"reputation":5961,"user_id":1298461,"accept_rate":89,"display_name":"KIC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662656960,"creation_date":1441638834,"question_id":32441781,"body_markdown":"I want to use ASM bytecode manipulation to add an Annotation to a foreign class, but it seems that I am missing something. The printed result is still without any annotation.\r\n\r\n    private void fixAnnotations4Classes() throws Exception {\r\n            final ClassReader reader = new ClassReader(&quot;some/3rdparty/class/Foo&quot;);\r\n            final ClassNode classNode = new ClassNode();\r\n            reader.accept(classNode, 0);\r\n            List&lt;FieldNode&gt; fields = classNode.fields;\r\n            List&lt;AnnotationNode&gt; visibleAnnotations = fields.get(0).visibleAnnotations;\r\n            visibleAnnotations.add(new AnnotationNode(&quot;my/new/Annotation&quot;));\r\n    \r\n            ClassWriter writer = new ClassWriter(0);\r\n            classNode.accept(writer);\r\n    \r\n            System.out.println(Arrays.toString(Foo.class.getDeclaredField(&quot;profile&quot;).getAnnotations()));\r\n            System.out.println(&quot;FIN&quot;);\r\n        }","title":"Use ASM to add an annotation to a foreign class","body":"<p>I want to use ASM bytecode manipulation to add an Annotation to a foreign class, but it seems that I am missing something. The printed result is still without any annotation.</p>\n\n<pre><code>private void fixAnnotations4Classes() throws Exception {\n        final ClassReader reader = new ClassReader(\"some/3rdparty/class/Foo\");\n        final ClassNode classNode = new ClassNode();\n        reader.accept(classNode, 0);\n        List&lt;FieldNode&gt; fields = classNode.fields;\n        List&lt;AnnotationNode&gt; visibleAnnotations = fields.get(0).visibleAnnotations;\n        visibleAnnotations.add(new AnnotationNode(\"my/new/Annotation\"));\n\n        ClassWriter writer = new ClassWriter(0);\n        classNode.accept(writer);\n\n        System.out.println(Arrays.toString(Foo.class.getDeclaredField(\"profile\").getAnnotations()));\n        System.out.println(\"FIN\");\n    }\n</code></pre>\n"},{"tags":["java","x86-64","volatile","memory-barriers","java-memory-model"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1662337609,"post_id":73603561,"comment_id":129976100,"body_markdown":"It&#39;s somewhat confusing to have an `int a;` in `thread2` that shadows the `public int a;` class member.  Same for `int b` in thread1. What&#39;s up with that?","body":"It&#39;s somewhat confusing to have an <code>int a;</code> in <code>thread2</code> that shadows the <code>public int a;</code> class member.  Same for <code>int b</code> in thread1. What&#39;s up with that?"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1662337711,"post_id":73603561,"comment_id":129976111,"body_markdown":"@PeterCordes That&#39;s just a naming of local variables. It can be changed to any other names.","body":"@PeterCordes That&#39;s just a naming of local variables. It can be changed to any other names."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1662337768,"post_id":73603561,"comment_id":129976117,"body_markdown":"This question might be easier to understand if you added some `System.out.println(...)` statements, and then asked about what output is possible or not possible.","body":"This question might be easier to understand if you added some <code>System.out.println(...)</code> statements, and then asked about what output is possible or not possible."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1662337769,"post_id":73603561,"comment_id":129976118,"body_markdown":"Normal examples and reordering litmus tests pick different names, often `r0` and `r1` for &quot;registers&quot; to talk about load results that threads observed.","body":"Normal examples and reordering litmus tests pick different names, often <code>r0</code> and <code>r1</code> for &quot;registers&quot; to talk about load results that threads observed."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1662337920,"post_id":73603561,"comment_id":129976133,"body_markdown":"What do you mean by saying a store can be &quot;forwarded&quot;?  Neither thread reloads its own store, so there&#39;s no store-to-load forwarding.  Perhaps you meant &quot;reordered after&quot;?  Yes, StoreLoad reordering is the only kind allowed on x86 (other than the interesting effects created by store-forwarding); x86&#39;s memory model is basically program-order + a store buffer with store-to-load forwarding.","body":"What do you mean by saying a store can be &quot;forwarded&quot;?  Neither thread reloads its own store, so there&#39;s no store-to-load forwarding.  Perhaps you meant &quot;reordered after&quot;?  Yes, StoreLoad reordering is the only kind allowed on x86 (other than the interesting effects created by store-forwarding); x86&#39;s memory model is basically program-order + a store buffer with store-to-load forwarding."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1662338114,"post_id":73603561,"comment_id":129976150,"body_markdown":"@PeterCordes It was meant that `thread1`&#39;s Store `a = 1` can be reordered with Load `b = this.b` since there&#39;s no any fences in between.","body":"@PeterCordes It was meant that <code>thread1</code>&#39;s Store <code>a = 1</code> can be reordered with Load <code>b = this.b</code> since there&#39;s no any fences in between."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1662338298,"post_id":73603561,"comment_id":129976164,"body_markdown":"@SolomonSlow After almost 30 minutes of running the example it&#39;s showed up.","body":"@SolomonSlow After almost 30 minutes of running the example it&#39;s showed up."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1662338299,"post_id":73603561,"comment_id":129976165,"body_markdown":"Yeah, your analysis looks right.  StoreLoad reordering of `a=1` with `b=this.b` allows an effective order of `b=this.b` ; `b=1` ; `a=this.a` ; `a=1` for example.  (Using your inconvenient names where `b` is sometimes a local, sometimes the shared variable).","body":"Yeah, your analysis looks right.  StoreLoad reordering of <code>a=1</code> with <code>b=this.b</code> allows an effective order of <code>b=this.b</code> ; <code>b=1</code> ; <code>a=this.a</code> ; <code>a=1</code> for example.  (Using your inconvenient names where <code>b</code> is sometimes a local, sometimes the shared variable)."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662338300,"post_id":73603561,"comment_id":129976166,"body_markdown":"Are you asking if it&#39;s permissible under the JMM or if it could actually happen? The JMM only guarantees that a `volatile` write *happens-before* subsequent reads of the same variable. It wouldn&#39;t have any effect on your code because nothing happens before the write or after the read.","body":"Are you asking if it&#39;s permissible under the JMM or if it could actually happen? The JMM only guarantees that a <code>volatile</code> write <i>happens-before</i> subsequent reads of the same variable. It wouldn&#39;t have any effect on your code because nothing happens before the write or after the read."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1662338548,"post_id":73603561,"comment_id":129976193,"body_markdown":"@shmosel Yeah, was interesting regarding if it&#39;s required from JMM/and actual behavior of the compiler to declare both variables `volatile` to prevent `thead1:a = 0` and `thread2:b = 0`.","body":"@shmosel Yeah, was interesting regarding if it&#39;s required from JMM/and actual behavior of the compiler to declare both variables <code>volatile</code> to prevent <code>thead1:a = 0</code> and <code>thread2:b = 0</code>."},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":0,"creation_date":1662338585,"post_id":73603561,"comment_id":129976201,"body_markdown":"@PeterCordes Probably the example was crafted not in the best way so it took pretty long time to catch the reordering...","body":"@PeterCordes Probably the example was crafted not in the best way so it took pretty long time to catch the reordering..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1662472098,"post_id":73603561,"comment_id":130009629,"body_markdown":"@SomeName, I don&#39;t understand. _What_ showed up after almost 30 minutes? The program in your example produces no output. Did you set a breakpoint somewhere?","body":"@SomeName, I don&#39;t understand. <i>What</i> showed up after almost 30 minutes? The program in your example produces no output. Did you set a breakpoint somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1662338945,"creation_date":1662338945,"answer_id":73603689,"question_id":73603561,"body_markdown":"Yeah, your analysis looks right.  This is the StoreLoad litmus test with only *one* of the sides having a StoreLoad barrier (like C++ `std::atomic` iwth `memory_order_seq_cst`, or Java `volatile`).  It&#39;s needed in both to shut down this possibility. See Jeff Preshing&#39;s [Memory Reordering Caught in the Act][1] for details on the case where neither side has such a barrier.\r\n\r\nStoreLoad reordering of `a=1` with `b=this.b` allows an effective order of \r\n\r\n```\r\n   thread1        thread2\r\n                  b=this.b        // reads 0\r\n    b=1\r\n    a=this.a                      // reads 0\r\n                  a=1\r\n```\r\n\r\n(This mess of names is why it&#39;s normal for examples and reordering litmus tests to pick names like `r0` and `r1` for &quot;registers&quot; to talk about load results that threads observed, definitely not the same names as the shared variables which make the meaning of a statement context-sensitive and a pain to look at and think about in a reordering diagram.)\r\n\r\n&gt; So thread1&#39;s Store can still be **forwarded** after the Load and therefore `thread1::b = 0` and `thread2::a = 0` is possible.\r\n\r\nIt seems you mean &quot;reordered after&quot;, not forwarded.  &quot;Forwarding&quot; in a memory-ordering context would mean store-to-load forwarding (where a load pulls data from the store buffer before it becomes globally visible, so it sees its own stores right away, in a different order relative to other things than other threads would).  But neither of your threads is reloading its own stores, so that&#39;s not happening.\r\n\r\nx86&#39;s memory model is basically program-order + a store buffer with store-to-load forwarding, so StoreLoad reordering is the only kind that can happen.\r\n\r\nSo yes, this is the closest you can come to ruling out `ra=rb=0` while still leaving a window open for it to happen.  Running on a strongly-ordered ISA (x86), with a barrier in one side.\r\n\r\nIt&#39;s also going to be really unlikely to observe when you only make one test per thread startup; not surprised it took you 30 minutes for these executions to happen at close enough to the same time across cores to observe this.  (Testing faster is non-trivial, like a 3rd thread that resets things between tests and wakes both other threads? \r\n But doing something to make it more likely that both threads reach this code at the same time could help a lot, like maybe having them both spin-wait for the same variable, so they&#39;d likely wake within a hundred cycles of each other.)\r\n\r\n  [1]: https://preshing.com/20120515/memory-reordering-caught-in-the-act/","title":"Java volatile memory ordering and its compilation on x86-64","body":"<p>Yeah, your analysis looks right.  This is the StoreLoad litmus test with only <em>one</em> of the sides having a StoreLoad barrier (like C++ <code>std::atomic</code> iwth <code>memory_order_seq_cst</code>, or Java <code>volatile</code>).  It's needed in both to shut down this possibility. See Jeff Preshing's <a href=\"https://preshing.com/20120515/memory-reordering-caught-in-the-act/\" rel=\"noreferrer\">Memory Reordering Caught in the Act</a> for details on the case where neither side has such a barrier.</p>\n<p>StoreLoad reordering of <code>a=1</code> with <code>b=this.b</code> allows an effective order of</p>\n<pre><code>   thread1        thread2\n                  b=this.b        // reads 0\n    b=1\n    a=this.a                      // reads 0\n                  a=1\n</code></pre>\n<p>(This mess of names is why it's normal for examples and reordering litmus tests to pick names like <code>r0</code> and <code>r1</code> for &quot;registers&quot; to talk about load results that threads observed, definitely not the same names as the shared variables which make the meaning of a statement context-sensitive and a pain to look at and think about in a reordering diagram.)</p>\n<blockquote>\n<p>So thread1's Store can still be <strong>forwarded</strong> after the Load and therefore <code>thread1::b = 0</code> and <code>thread2::a = 0</code> is possible.</p>\n</blockquote>\n<p>It seems you mean &quot;reordered after&quot;, not forwarded.  &quot;Forwarding&quot; in a memory-ordering context would mean store-to-load forwarding (where a load pulls data from the store buffer before it becomes globally visible, so it sees its own stores right away, in a different order relative to other things than other threads would).  But neither of your threads is reloading its own stores, so that's not happening.</p>\n<p>x86's memory model is basically program-order + a store buffer with store-to-load forwarding, so StoreLoad reordering is the only kind that can happen.</p>\n<p>So yes, this is the closest you can come to ruling out <code>ra=rb=0</code> while still leaving a window open for it to happen.  Running on a strongly-ordered ISA (x86), with a barrier in one side.</p>\n<p>It's also going to be really unlikely to observe when you only make one test per thread startup; not surprised it took you 30 minutes for these executions to happen at close enough to the same time across cores to observe this.  (Testing faster is non-trivial, like a 3rd thread that resets things between tests and wakes both other threads?\nBut doing something to make it more likely that both threads reach this code at the same time could help a lot, like maybe having them both spin-wait for the same variable, so they'd likely wake within a hundred cycles of each other.)</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662656669,"creation_date":1662428212,"answer_id":73615908,"question_id":73603561,"body_markdown":"Analyzing how the compiled code works is great if you want to know what happens at the hardware level and @petercordess has given a great answer (as usual).\r\n\r\nBut if you want to reason about the correctness of a program, you need to reason in terms of the Java Memory Model. Fences are not a [replacement][1] for the JMM and fences only show you what happens at the hardware level; but not what happens at the compiler.\r\n\r\n```\r\npublic class Main {\r\n    public int a;\r\n    public volatile int b;\r\n\r\n    public void thread1(){\r\n        a = 1;                  (1)\r\n        int r1 = b;             (2)\r\n    }\r\n\r\n    public void thread2(){\r\n        b = 1;                   (3)\r\n        int r2 = a;              (4)\r\n    }\r\n```\r\n\r\nThere is a data race because if you would have the execution (1),(2),(3),(4) then r2 could be 1, but there is no happens-before edge since a (2),(3) doesn&#39;t provide one. There is no happens-before edge between a read followed by a write of the same volaile variable.\r\n\r\nSince some executions can have a data race, r2 is allowed to read the initial value or a write it is in data race with; so a concurrent write. So that gives the values 0 and 1. \r\n\r\nThe JMM is happens-before consistent; so a read needs to see the most recent write before it in the happens-before order or a write it is racing with. This will prevent undefined behavior as you can get with e.g. C++ where any value can be returned.\r\n\r\n\r\n  [1]: https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-barriers-are-sane","title":"Java volatile memory ordering and its compilation on x86-64","body":"<p>Analyzing how the compiled code works is great if you want to know what happens at the hardware level and @petercordess has given a great answer (as usual).</p>\n<p>But if you want to reason about the correctness of a program, you need to reason in terms of the Java Memory Model. Fences are not a <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-barriers-are-sane\" rel=\"nofollow noreferrer\">replacement</a> for the JMM and fences only show you what happens at the hardware level; but not what happens at the compiler.</p>\n<pre><code>public class Main {\n    public int a;\n    public volatile int b;\n\n    public void thread1(){\n        a = 1;                  (1)\n        int r1 = b;             (2)\n    }\n\n    public void thread2(){\n        b = 1;                   (3)\n        int r2 = a;              (4)\n    }\n</code></pre>\n<p>There is a data race because if you would have the execution (1),(2),(3),(4) then r2 could be 1, but there is no happens-before edge since a (2),(3) doesn't provide one. There is no happens-before edge between a read followed by a write of the same volaile variable.</p>\n<p>Since some executions can have a data race, r2 is allowed to read the initial value or a write it is in data race with; so a concurrent write. So that gives the values 0 and 1.</p>\n<p>The JMM is happens-before consistent; so a read needs to see the most recent write before it in the happens-before order or a write it is racing with. This will prevent undefined behavior as you can get with e.g. C++ where any value can be returned.</p>\n"}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73603689,"answer_count":2,"score":3,"last_activity_date":1662656669,"creation_date":1662336463,"question_id":73603561,"body_markdown":"Consider the following simple Java application:\r\n\r\n    public class Main {\r\n        public int a;\r\n        public volatile int b;\r\n    \r\n        public void thread1(){\r\n            int b;\r\n            a = 1;\r\n            b = this.b;\r\n        }\r\n    \r\n        public void thread2(){\r\n            int a;\r\n            b = 1;\r\n            a = this.a;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Main m = new Main();\r\n            while(true){\r\n                m.a = 0;\r\n                m.b = 0;\r\n                Thread t1 = new Thread(() -&gt; m.thread1());\r\n                Thread t2 = new Thread(() -&gt; m.thread2());\r\n                t1.start();\r\n                t2.start();\r\n                t1.join();\r\n                t2.join();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**QUESTION:** Is it possible that reading into local variables will result in `thread1::b = 0` and `thread2::a = 0`?\r\n\r\nI could not prove that it could not happen from the JMM standpoint so I went down to analyzing compiled code for `x86-64`.\r\n\r\nHere is what compiler ends up with for methods `thread1` and `thread2` (code unrelated to the while loop and some comments generated by `-XX:+PrintAssembly` omitted for simplicity):\r\n\r\n`thread1`:\r\n\r\n      0x00007fb030dca235: movl    $0x1,0xc(%rsi)    ;*putfield a\r\n      0x00007fb030dca23c: mov     0x10(%rsi),%esi   ;*getfield b\r\n\r\n`thread2`:\r\n\r\n      0x00007fb030dcc1b4: mov     $0x1,%edi\r\n      0x00007fb030dcc1b9: mov     %edi,0x10(%rsi)\r\n      0x00007fb030dcc1bc: lock addl $0x0,0xffffffffffffffc0(%rsp) ;*putfield b \r\n      0x00007fb030dcc1c2: mov     0xc(%rsi),%esi    ;*getfield a\r\n\r\nSo what we have here is that `volatile` read is done for free, `volatile` write requires `mfence` (or `lock add`) after.\r\n\r\nSo `thread1`&#39;s Store can still be forwarded after the Load and therefore `thread1::b = 0` and `thread2::a = 0` is possible.\r\n\r\n","title":"Java volatile memory ordering and its compilation on x86-64","body":"<p>Consider the following simple Java application:</p>\n<pre><code>public class Main {\n    public int a;\n    public volatile int b;\n\n    public void thread1(){\n        int b;\n        a = 1;\n        b = this.b;\n    }\n\n    public void thread2(){\n        int a;\n        b = 1;\n        a = this.a;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Main m = new Main();\n        while(true){\n            m.a = 0;\n            m.b = 0;\n            Thread t1 = new Thread(() -&gt; m.thread1());\n            Thread t2 = new Thread(() -&gt; m.thread2());\n            t1.start();\n            t2.start();\n            t1.join();\n            t2.join();\n        }\n    }\n}\n</code></pre>\n<p><strong>QUESTION:</strong> Is it possible that reading into local variables will result in <code>thread1::b = 0</code> and <code>thread2::a = 0</code>?</p>\n<p>I could not prove that it could not happen from the JMM standpoint so I went down to analyzing compiled code for <code>x86-64</code>.</p>\n<p>Here is what compiler ends up with for methods <code>thread1</code> and <code>thread2</code> (code unrelated to the while loop and some comments generated by <code>-XX:+PrintAssembly</code> omitted for simplicity):</p>\n<p><code>thread1</code>:</p>\n<pre><code>  0x00007fb030dca235: movl    $0x1,0xc(%rsi)    ;*putfield a\n  0x00007fb030dca23c: mov     0x10(%rsi),%esi   ;*getfield b\n</code></pre>\n<p><code>thread2</code>:</p>\n<pre><code>  0x00007fb030dcc1b4: mov     $0x1,%edi\n  0x00007fb030dcc1b9: mov     %edi,0x10(%rsi)\n  0x00007fb030dcc1bc: lock addl $0x0,0xffffffffffffffc0(%rsp) ;*putfield b \n  0x00007fb030dcc1c2: mov     0xc(%rsi),%esi    ;*getfield a\n</code></pre>\n<p>So what we have here is that <code>volatile</code> read is done for free, <code>volatile</code> write requires <code>mfence</code> (or <code>lock add</code>) after.</p>\n<p>So <code>thread1</code>'s Store can still be forwarded after the Load and therefore <code>thread1::b = 0</code> and <code>thread2::a = 0</code> is possible.</p>\n"},{"tags":["java","android","httpurlconnection"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1543970720,"post_id":53623539,"comment_id":94107394,"body_markdown":"We need the log.","body":"We need the log."}],"answers":[{"tags":[],"owner":{"account_id":14883010,"reputation":42,"user_id":10747038,"display_name":"starrydeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543977512,"creation_date":1543977512,"answer_id":53624360,"question_id":53623539,"body_markdown":"You are doing a network call on UI thread, which has thrown the exception. Try using  an AsyncTask class, and do network connections from there.","title":"I have an issue with HttpUrlConnection","body":"<p>You are doing a network call on UI thread, which has thrown the exception. Try using  an AsyncTask class, and do network connections from there.</p>\n"},{"tags":[],"owner":{"account_id":1269445,"reputation":2719,"user_id":1226095,"accept_rate":51,"display_name":"jesses.co.tt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543993824,"creation_date":1543993824,"answer_id":53626972,"question_id":53623539,"body_markdown":"You are experiencing the &quot;Networking on the Main Thread&quot; exception!\r\nCongratulations, you are now a L2 Android developer :D\r\n\r\nThis is enforced by the Android OS in order to make sure apps are not being non-responsive and to ensure that developers are handling asynchronous work, well... asynchronously!\r\n\r\nSee the rationale here --&gt; https://developer.android.com/reference/android/os/NetworkOnMainThreadException\r\n\r\nThere are several ways of approaching a solution here - AsyncTasks, Runnables, Handlers, Java Futures, Kotlin Coroutines, Rx (in approximate order of complexity).\r\n\r\nHere are some similar questions that have been answered in the past around this issue:\r\n\r\n * https://stackoverflow.com/questions/6343166/how-do-i-fix-android-os-networkonmainthreadexception\r\n * https://stackoverflow.com/questions/14124739/android-os-networkonmainthreadexception-on-service-start-on-android\r\n * https://stackoverflow.com/questions/17365646/android-os-network-on-main-thread-exception\r\n * https://stackoverflow.com/questions/9413625/android-android-os-networkonmainthreadexception\r\n\r\nGood luck, and post back here if you can&#39;t find the way forward!\r\n\r\n","title":"I have an issue with HttpUrlConnection","body":"<p>You are experiencing the \"Networking on the Main Thread\" exception!\nCongratulations, you are now a L2 Android developer :D</p>\n\n<p>This is enforced by the Android OS in order to make sure apps are not being non-responsive and to ensure that developers are handling asynchronous work, well... asynchronously!</p>\n\n<p>See the rationale here --> <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/NetworkOnMainThreadException</a></p>\n\n<p>There are several ways of approaching a solution here - AsyncTasks, Runnables, Handlers, Java Futures, Kotlin Coroutines, Rx (in approximate order of complexity).</p>\n\n<p>Here are some similar questions that have been answered in the past around this issue:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6343166/how-do-i-fix-android-os-networkonmainthreadexception\">How do I fix android.os.NetworkOnMainThreadException?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14124739/android-os-networkonmainthreadexception-on-service-start-on-android\">android.os.NetworkOnMainThreadException on service start on android</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17365646/android-os-network-on-main-thread-exception\">android os network on main thread exception</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9413625/android-android-os-networkonmainthreadexception\">Android - android.os.NetworkOnMainThreadException</a></li>\n</ul>\n\n<p>Good luck, and post back here if you can't find the way forward!</p>\n"},{"tags":[],"owner":{"account_id":13430646,"reputation":352,"user_id":9690593,"display_name":"Manideep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662656577,"creation_date":1662656577,"answer_id":73652732,"question_id":53623539,"body_markdown":"The error is due to executing long running operations in main thread And Ui thread, You can easily rectify the problem by using ExecutorService or Thread. You can checkout the bellow code for better handling.\r\n\r\n     ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n                Handler handler = new Handler(Looper.getMainLooper());\r\n                executorService.execute(() -&gt; {\r\n                    try {\r\n                               //Do background work here\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    handler.post(() -&gt; {\r\n                            //do post execute work here/or ui update\r\n                        });\r\n                });\r\n\r\n","title":"I have an issue with HttpUrlConnection","body":"<p>The error is due to executing long running operations in main thread And Ui thread, You can easily rectify the problem by using ExecutorService or Thread. You can checkout the bellow code for better handling.</p>\n<pre><code> ExecutorService executorService = Executors.newSingleThreadExecutor();\n            Handler handler = new Handler(Looper.getMainLooper());\n            executorService.execute(() -&gt; {\n                try {\n                           //Do background work here\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                handler.post(() -&gt; {\n                        //do post execute work here/or ui update\n                    });\n            });\n</code></pre>\n"}],"owner":{"account_id":14882769,"reputation":1,"user_id":10746895,"display_name":"Luis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662656577,"creation_date":1543970543,"question_id":53623539,"body_markdown":"please help with this issue I am facing:\r\n    \r\nI am trying to call a method from a class which will connect to a php service. It has none errors but when I run it, it is closed with the message **sorry, the app was stoped**.\r\n    \r\n**this is the Main activity:**\r\n    \r\n    import android.support.v7.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import android.view.View;\r\n    \r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public String result;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void hhtp(View view) throws Exception {\r\n            result=&quot;&quot;;\r\n            JavaHttpUrlConnectionReader con = new JavaHttpUrlConnectionReader();\r\n            result = con.doHttpUrlConnectionAction(&quot;http://example.com/app.php&quot;);\r\n            Toast.makeText(getApplicationContext(),&quot;Button is clicked&quot;+result,Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n**this is the class:**\r\n    \r\n    import java.io.BufferedReader;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import java.io.InputStreamReader;\r\n    \r\n    import java.net.HttpURLConnection;\r\n    \r\n    import java.net.URL;\r\n    \r\n    public class JavaHttpUrlConnectionReader {\r\n    \r\n        public static void main(String[] args)\r\n                throws Exception\r\n        {\r\n            new JavaHttpUrlConnectionReader();\r\n        }\r\n       public String doHttpUrlConnectionAction(String desiredUrl)\r\n                throws Exception\r\n        {\r\n            URL url = null;\r\n            BufferedReader reader = null;\r\n            StringBuilder stringBuilder;\r\n    \r\n            try\r\n            {\r\n                // create the HttpURLConnection\r\n                url = new URL(desiredUrl);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \r\n                // just want to do an HTTP GET here\r\n                connection.setRequestMethod(&quot;GET&quot;);\r\n    \r\n                // uncomment this if you want to write output to this url\r\n                //connection.setDoOutput(true);\r\n    \r\n                // give it 15 seconds to respond\r\n                connection.setReadTimeout(15*1000);\r\n                connection.connect();\r\n    \r\n                // read the output from the server\r\n                reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                stringBuilder = new StringBuilder();\r\n    \r\n                String line = null;\r\n                while ((line = reader.readLine()) != null)\r\n                {\r\n                    stringBuilder.append(line + &quot;\\n&quot;);\r\n                }\r\n                return stringBuilder.toString();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n            finally\r\n            {\r\n                // close the reader; this can throw an exception too, so\r\n                // wrap it in another try/catch block.\r\n                if (reader != null)\r\n                {\r\n                    try\r\n                    {\r\n                        reader.close();\r\n                    }\r\n                    catch (IOException ioe)\r\n                    {\r\n                        ioe.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n**this is the main.xml**\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/http_url_request_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;hhtp&quot;\r\n            android:text=&quot;Checa si hay nueva Sol&quot; /&gt;\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n    \r\n    \r\n**and finally this is the web service in php:**\r\n    \r\n    &lt;?php\r\n    $data=$_POST[&#39;dato&#39;];\r\n    $rsp=&quot;1&quot;;\r\n    echo $rsp;\r\n    ?&gt;\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"I have an issue with HttpUrlConnection","body":"<p>please help with this issue I am facing:</p>\n\n<p>I am trying to call a method from a class which will connect to a php service. It has none errors but when I run it, it is closed with the message <strong>sorry, the app was stoped</strong>.</p>\n\n<p><strong>this is the Main activity:</strong></p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport android.view.View;\n\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public String result;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void hhtp(View view) throws Exception {\n        result=\"\";\n        JavaHttpUrlConnectionReader con = new JavaHttpUrlConnectionReader();\n        result = con.doHttpUrlConnectionAction(\"http://example.com/app.php\");\n        Toast.makeText(getApplicationContext(),\"Button is clicked\"+result,Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n\n<p><strong>this is the class:</strong></p>\n\n<pre><code>import java.io.BufferedReader;\n\nimport java.io.IOException;\n\nimport java.io.InputStreamReader;\n\nimport java.net.HttpURLConnection;\n\nimport java.net.URL;\n\npublic class JavaHttpUrlConnectionReader {\n\n    public static void main(String[] args)\n            throws Exception\n    {\n        new JavaHttpUrlConnectionReader();\n    }\n   public String doHttpUrlConnectionAction(String desiredUrl)\n            throws Exception\n    {\n        URL url = null;\n        BufferedReader reader = null;\n        StringBuilder stringBuilder;\n\n        try\n        {\n            // create the HttpURLConnection\n            url = new URL(desiredUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n            // just want to do an HTTP GET here\n            connection.setRequestMethod(\"GET\");\n\n            // uncomment this if you want to write output to this url\n            //connection.setDoOutput(true);\n\n            // give it 15 seconds to respond\n            connection.setReadTimeout(15*1000);\n            connection.connect();\n\n            // read the output from the server\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            stringBuilder = new StringBuilder();\n\n            String line = null;\n            while ((line = reader.readLine()) != null)\n            {\n                stringBuilder.append(line + \"\\n\");\n            }\n            return stringBuilder.toString();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n            throw e;\n        }\n        finally\n        {\n            // close the reader; this can throw an exception too, so\n            // wrap it in another try/catch block.\n            if (reader != null)\n            {\n                try\n                {\n                    reader.close();\n                }\n                catch (IOException ioe)\n                {\n                    ioe.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>this is the main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/http_url_request_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"hhtp\"\n        android:text=\"Checa si hay nueva Sol\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>and finally this is the web service in php:</strong></p>\n\n<pre><code>&lt;?php\n$data=$_POST['dato'];\n$rsp=\"1\";\necho $rsp;\n?&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1662651863,"post_id":73651429,"comment_id":130060433,"body_markdown":"Looks all correct, but do not see `package`. Default (none) package can be a problem. Maybe you are running old classes and not this one ? This can also help https://www.baeldung.com/spring-boot-get-all-endpoints","body":"Looks all correct, but do not see <code>package</code>. Default (none) package can be a problem. Maybe you are running old classes and not this one ? This can also help <a href=\"https://www.baeldung.com/spring-boot-get-all-endpoints\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-get-all-endpoints</a>"}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662656499,"creation_date":1662653307,"answer_id":73652130,"question_id":73651429,"body_markdown":"You haven&#39;t specified the package name in your controller and main classes. \r\n\r\nThe default Spring auto-discovery won&#39;t work because of this, and your controller won&#39;t be instantiated. Spring looks for the components under the packages specified classes. Without the specified package, Spring won&#39;t be able to &#39;see&#39; your beans and add them to ApplicationContext.\r\n\r\nSimply add the package statement at the top of your class and everything should start working correctly. \r\n\r\nExample:\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.crudpet.model.Employee;\r\nimport com.crudpet.repository.EmployeeRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/&quot;)\r\npublic class EmployeeController {\r\n    \r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n    \r\n    @GetMapping(&quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getAllEmployees(){\r\n        return employeeRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\n**Updated:**\r\n\r\nYour main class `SpringbootBackendCrudApplication`, which is marked as `@SpringBootApplication` is located in the package `com.crudpet.springboot`. Whereas your controller is located in the `com.crudpet.controller` package.\r\n\r\nBy default, Spring Boot will scan for beans in the base package of the class with main method (`SpringbootBackendCrudApplication` in your case) and all nested packages (e.g., `com.crudpet.springboot.example`). The `com.crudpet.controller` package with your controller class is out of scope and simply wasn&#39;t initiated.\r\n\r\nTo fix this, you need to place the `SpringbootBackendCrudApplication` class in the `com.crudpet` package, which is best practice. Another possible solution is explicitly specifying the `com.crudpet.controller` package in the component scan.","title":"How to solve this Spring Boot Whitelabel error","body":"<p>You haven't specified the package name in your controller and main classes.</p>\n<p>The default Spring auto-discovery won't work because of this, and your controller won't be instantiated. Spring looks for the components under the packages specified classes. Without the specified package, Spring won't be able to 'see' your beans and add them to ApplicationContext.</p>\n<p>Simply add the package statement at the top of your class and everything should start working correctly.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.crudpet.model.Employee;\nimport com.crudpet.repository.EmployeeRepository;\n\n@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class EmployeeController {\n    \n    @Autowired\n    private EmployeeRepository employeeRepository;\n    \n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepository.findAll();\n    }\n}\n</code></pre>\n<p><strong>Updated:</strong></p>\n<p>Your main class <code>SpringbootBackendCrudApplication</code>, which is marked as <code>@SpringBootApplication</code> is located in the package <code>com.crudpet.springboot</code>. Whereas your controller is located in the <code>com.crudpet.controller</code> package.</p>\n<p>By default, Spring Boot will scan for beans in the base package of the class with main method (<code>SpringbootBackendCrudApplication</code> in your case) and all nested packages (e.g., <code>com.crudpet.springboot.example</code>). The <code>com.crudpet.controller</code> package with your controller class is out of scope and simply wasn't initiated.</p>\n<p>To fix this, you need to place the <code>SpringbootBackendCrudApplication</code> class in the <code>com.crudpet</code> package, which is best practice. Another possible solution is explicitly specifying the <code>com.crudpet.controller</code> package in the component scan.</p>\n"}],"owner":{"account_id":16404131,"reputation":1,"user_id":11849178,"display_name":"the_essence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73652130,"answer_count":1,"score":-1,"last_activity_date":1662656499,"creation_date":1662650142,"question_id":73651429,"body_markdown":"im building CRUD app but ran into a problem . When I start the application at http://localhost:8080/api/v1/employees i recieve a whitelabel error 404 instead JSON response with db data .\r\n\r\nMessage\r\n\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nThu Sep 08 17:49:26 GST 2022\r\nThere was an unexpected error (type=Not Found, status=404).\r\nNo message available\r\n\r\nController\r\n\r\n        package com.crudpet.controller;\r\n        import java.util.List;\r\n        \r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.web.bind.annotation.GetMapping;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RestController;\r\n        \r\n        import com.crudpet.model.Employee;\r\n        import com.crudpet.repository.EmployeeRepository;\r\n        \r\n        @RestController\r\n        @RequestMapping(&quot;/api/v1/&quot;)\r\n        public class EmployeeController {\r\n        \t\r\n        \t@Autowired\r\n        \tprivate EmployeeRepository employeeRepository;\r\n        \t\r\n        \t@GetMapping(&quot;/employees&quot;)\r\n        \tpublic List&lt;Employee&gt; getAllEmployees(){\r\n        \t\treturn employeeRepository.findAll();\r\n        \t}\r\n        }\r\n\r\nmain class\r\n\r\n    package com.crudpet.springboot;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    public class SpringbootBackendCrudApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringbootBackendCrudApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nconsole\r\n\r\n    2022-09-08 17:49:19.486  INFO 836 --- [  restartedMain] c.c.s.SpringbootBackendCrudApplication   : Starting SpringbootBackendCrudApplication using Java 17.0.1 on DESKTOP-08M3S29 with PID 836 (C:\\Users\\Bogich\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\springboot-backend-crud\\target\\classes started by Bogich in C:\\Users\\Bogich\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\springboot-backend-crud)\r\n    2022-09-08 17:49:19.487  INFO 836 --- [  restartedMain] c.c.s.SpringbootBackendCrudApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-09-08 17:49:19.556  INFO 836 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2022-09-08 17:49:19.556  INFO 836 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2022-09-08 17:49:20.206  INFO 836 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-09-08 17:49:20.223  INFO 836 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\r\n    2022-09-08 17:49:20.833  INFO 836 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-09-08 17:49:20.844  INFO 836 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-09-08 17:49:20.844  INFO 836 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-09-08 17:49:20.917  INFO 836 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-09-08 17:49:20.917  INFO 836 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1360 ms\r\n    2022-09-08 17:49:21.132  INFO 836 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-09-08 17:49:21.193  INFO 836 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final\r\n    2022-09-08 17:49:21.388  INFO 836 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-09-08 17:49:21.507  INFO 836 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-09-08 17:49:21.684  INFO 836 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-09-08 17:49:21.701  INFO 836 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    2022-09-08 17:49:21.988  INFO 836 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-09-08 17:49:21.999  INFO 836 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-09-08 17:49:22.063  WARN 836 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-09-08 17:49:22.450  INFO 836 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2022-09-08 17:49:22.492  INFO 836 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-09-08 17:49:22.502  INFO 836 --- [  restartedMain] c.c.s.SpringbootBackendCrudApplication   : Started SpringbootBackendCrudApplication in 3.407 seconds (JVM running for 4.229)\r\n    2022-09-08 17:49:26.819  INFO 836 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-09-08 17:49:26.819  INFO 836 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-09-08 17:49:26.820  INFO 836 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.crudpet&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springboot-backend-crud&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springboot-backend-crud&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe problem is when i start app i must recieve a JSON response but i see Whitelabel error.\r\nI&#39;ve tried ComponentScan , but it is not work for me.\r\nWhat i must do?\r\n","title":"How to solve this Spring Boot Whitelabel error","body":"<p>im building CRUD app but ran into a problem . When I start the application at http://localhost:8080/api/v1/employees i recieve a whitelabel error 404 instead JSON response with db data .</p>\n<p>Message</p>\n<p>This application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Thu Sep 08 17:49:26 GST 2022\nThere was an unexpected error (type=Not Found, status=404).\nNo message available</p>\n<p>Controller</p>\n<pre><code>    package com.crudpet.controller;\n    import java.util.List;\n    \n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    \n    import com.crudpet.model.Employee;\n    import com.crudpet.repository.EmployeeRepository;\n    \n    @RestController\n    @RequestMapping(&quot;/api/v1/&quot;)\n    public class EmployeeController {\n        \n        @Autowired\n        private EmployeeRepository employeeRepository;\n        \n        @GetMapping(&quot;/employees&quot;)\n        public List&lt;Employee&gt; getAllEmployees(){\n            return employeeRepository.findAll();\n        }\n    }\n</code></pre>\n<p>main class</p>\n<pre><code>package com.crudpet.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\npublic class SpringbootBackendCrudApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootBackendCrudApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>console</p>\n<pre><code>2022-09-08 17:49:19.486  INFO 836 --- [  restartedMain] c.c.s.SpringbootBackendCrudApplication   : Starting SpringbootBackendCrudApplication using Java 17.0.1 on DESKTOP-08M3S29 with PID 836 (C:\\Users\\Bogich\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\springboot-backend-crud\\target\\classes started by Bogich in C:\\Users\\Bogich\\Documents\\workspace-spring-tool-suite-4-4.13.1.RELEASE\\springboot-backend-crud)\n2022-09-08 17:49:19.487  INFO 836 --- [  restartedMain] c.c.s.SpringbootBackendCrudApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-09-08 17:49:19.556  INFO 836 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-09-08 17:49:19.556  INFO 836 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-09-08 17:49:20.206  INFO 836 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-09-08 17:49:20.223  INFO 836 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n2022-09-08 17:49:20.833  INFO 836 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-09-08 17:49:20.844  INFO 836 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-09-08 17:49:20.844  INFO 836 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-09-08 17:49:20.917  INFO 836 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-09-08 17:49:20.917  INFO 836 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1360 ms\n2022-09-08 17:49:21.132  INFO 836 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-09-08 17:49:21.193  INFO 836 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final\n2022-09-08 17:49:21.388  INFO 836 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-09-08 17:49:21.507  INFO 836 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-09-08 17:49:21.684  INFO 836 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-09-08 17:49:21.701  INFO 836 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2022-09-08 17:49:21.988  INFO 836 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-09-08 17:49:21.999  INFO 836 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-09-08 17:49:22.063  WARN 836 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-09-08 17:49:22.450  INFO 836 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-09-08 17:49:22.492  INFO 836 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-09-08 17:49:22.502  INFO 836 --- [  restartedMain] c.c.s.SpringbootBackendCrudApplication   : Started SpringbootBackendCrudApplication in 3.407 seconds (JVM running for 4.229)\n2022-09-08 17:49:26.819  INFO 836 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-09-08 17:49:26.819  INFO 836 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-09-08 17:49:26.820  INFO 836 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.crudpet&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-backend-crud&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-backend-crud&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The problem is when i start app i must recieve a JSON response but i see Whitelabel error.\nI've tried ComponentScan , but it is not work for me.\nWhat i must do?</p>\n"},{"tags":["java","google-bigquery","google-cloud-dlp"],"answers":[{"tags":[],"owner":{"account_id":10424977,"reputation":985,"user_id":7686560,"display_name":"Jordanna Chord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662656463,"creation_date":1662656463,"answer_id":73652704,"question_id":73636430,"body_markdown":"At the moment this is done one of two ways:\r\n\r\nFlatten the fields into columns. So  a record \r\n\r\n      RecordA {Field1, Field2} becomes 2 columns, RecordA.Field1 and RecordA.Field2\r\n\r\nFor the repeated fields you can do the same or concat the field values together into a single cell.\r\n\r\n    RecordA { Field1: {value1,value2,value3] } becomes 3 columns .... RecordA.Field1[0], RecordA.Field2[1], and RecordA.Field3[2]","title":"How to de-identify BigQuery data that stored in RECORD or REPEATED properties?","body":"<p>At the moment this is done one of two ways:</p>\n<p>Flatten the fields into columns. So  a record</p>\n<pre><code>  RecordA {Field1, Field2} becomes 2 columns, RecordA.Field1 and RecordA.Field2\n</code></pre>\n<p>For the repeated fields you can do the same or concat the field values together into a single cell.</p>\n<pre><code>RecordA { Field1: {value1,value2,value3] } becomes 3 columns .... RecordA.Field1[0], RecordA.Field2[1], and RecordA.Field3[2]\n</code></pre>\n"}],"owner":{"account_id":15286433,"reputation":1,"user_id":11029334,"display_name":"fna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662656463,"creation_date":1662557494,"question_id":73636430,"body_markdown":"I&#39;m trying to build a Dataflow pipeline that de-identifies data from the BigQuery table. I&#39;m building *com.google.privacy.dlp.v2.Table* object and passing it to the ContentItem like that:\r\n\r\n \r\n\r\n    List&lt;Field&gt; fieldList = new ArrayList&lt;&gt;(\r\n                    bigquery\r\n                            .getTable(table)\r\n                            .getDefinition()\r\n                            .getSchema()\r\n                            .getFields());\r\n      \r\n        List&lt;Table.Row&gt; rows = new ArrayList&lt;&gt;();\r\n        for (FieldValueList bigQueryRowItem : bigquery\r\n                .listTableData(table)\r\n                .getValues()) {\r\n            Table.Row row = convertBigQueryRowToTableRow(bigQueryRowItem);\r\n            rows.add(row);\r\n        }\r\n        Table dlpTable = Table\r\n                .newBuilder()\r\n                .addAllHeaders(convertFieldsToHeaders(fieldList))\r\n                .addAllRows(rows)\r\n                .build();\r\n\r\nBut unfortunately, this *fieldList* contains only first-level BigQuery properties without RECORD or REPEATED ones. Please advise me on how to get all fields&#39; names from the table efficiently, including RECORD/REPEATED, and how to convert the BigQuery values to the  *Table.Row* efficiently?\r\nThank you\r\n","title":"How to de-identify BigQuery data that stored in RECORD or REPEATED properties?","body":"<p>I'm trying to build a Dataflow pipeline that de-identifies data from the BigQuery table. I'm building <em>com.google.privacy.dlp.v2.Table</em> object and passing it to the ContentItem like that:</p>\n<pre><code>List&lt;Field&gt; fieldList = new ArrayList&lt;&gt;(\n                bigquery\n                        .getTable(table)\n                        .getDefinition()\n                        .getSchema()\n                        .getFields());\n  \n    List&lt;Table.Row&gt; rows = new ArrayList&lt;&gt;();\n    for (FieldValueList bigQueryRowItem : bigquery\n            .listTableData(table)\n            .getValues()) {\n        Table.Row row = convertBigQueryRowToTableRow(bigQueryRowItem);\n        rows.add(row);\n    }\n    Table dlpTable = Table\n            .newBuilder()\n            .addAllHeaders(convertFieldsToHeaders(fieldList))\n            .addAllRows(rows)\n            .build();\n</code></pre>\n<p>But unfortunately, this <em>fieldList</em> contains only first-level BigQuery properties without RECORD or REPEATED ones. Please advise me on how to get all fields' names from the table efficiently, including RECORD/REPEATED, and how to convert the BigQuery values to the  <em>Table.Row</em> efficiently?\nThank you</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7102942,"reputation":363,"user_id":5433713,"display_name":"Pavlo Stepura"},"score":0,"creation_date":1633756053,"post_id":69503906,"comment_id":122850357,"body_markdown":"Please, provide more information, logs, screens and more details.","body":"Please, provide more information, logs, screens and more details."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1633979458,"post_id":69503906,"comment_id":122899162,"body_markdown":"Does removing the `, args` work?","body":"Does removing the <code>, args</code> work?"}],"owner":{"account_id":22854491,"reputation":21,"user_id":16999544,"display_name":"Marcel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662656401,"creation_date":1633755833,"question_id":69503906,"body_markdown":"I don&#39;t understand why the main method of my Spring Boot application is red-underlined. The application runs properly and no other issues are visible. Maybe somebody could help me with an answer to this.\r\nI&#39;m attaching a picture of the main method:\r\n\r\n![Main class print screen[1]][1]  \r\n\r\n  [1]: https://i.stack.imgur.com/egOPu.png\r\n","title":"&quot;Cannot resolve method &#39;run(java.lang.Class, java.lang.String[])&#39;&quot; in Spring Boot","body":"<p>I don't understand why the main method of my Spring Boot application is red-underlined. The application runs properly and no other issues are visible. Maybe somebody could help me with an answer to this.\nI'm attaching a picture of the main method:</p>\n<p><img src=\"https://i.stack.imgur.com/egOPu.png\" alt=\"Main class print screen1\" /></p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1662585866,"post_id":73638762,"comment_id":130042971,"body_markdown":"Have you also included the PDFBox dependencies into your eclipse project?","body":"Have you also included the PDFBox dependencies into your eclipse project?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1662629349,"post_id":73638762,"comment_id":130051583,"body_markdown":"Does this answer your question? [PDFBox / Java: Printing to Paper:java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory](https://stackoverflow.com/questions/11999593/pdfbox-java-printing-to-paperjava-lang-noclassdeffounderror-org-apache-comm)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11999593/pdfbox-java-printing-to-paperjava-lang-noclassdeffounderror-org-apache-comm\">PDFBox / Java: Printing to Paper:java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory</a>"},{"owner":{"account_id":4847563,"reputation":21,"user_id":3910807,"display_name":"Tobias"},"score":0,"creation_date":1662648370,"post_id":73638762,"comment_id":130058979,"body_markdown":"I added the following jar files to the Modulepath under &quot;Libraries&quot; in Eclipse: fontbox-3.0.0-alpha3.jar, pdfbox-3.0.0-alpha3.jar, pdfbox-debugger-3.0.0-alpha3.jar, pdfbox-tools-3.0.0-alpha3.jar, preflight-3.0.0-alpha3.jar, xmpbox-3.0.0-alpha3.jar","body":"I added the following jar files to the Modulepath under &quot;Libraries&quot; in Eclipse: fontbox-3.0.0-alpha3.jar, pdfbox-3.0.0-alpha3.jar, pdfbox-debugger-3.0.0-alpha3.jar, pdfbox-tools-3.0.0-alpha3.jar, preflight-3.0.0-alpha3.jar, xmpbox-3.0.0-alpha3.jar"},{"owner":{"account_id":4847563,"reputation":21,"user_id":3910807,"display_name":"Tobias"},"score":0,"creation_date":1662652863,"post_id":73638762,"comment_id":130060888,"body_markdown":"Adding these jar files to the classpath does not seem to fix the issue.  Instead, the pdfbox module can no longer be found","body":"Adding these jar files to the classpath does not seem to fix the issue.  Instead, the pdfbox module can no longer be found"},{"owner":{"account_id":4847563,"reputation":21,"user_id":3910807,"display_name":"Tobias"},"score":0,"creation_date":1662656207,"post_id":73638762,"comment_id":130062064,"body_markdown":"I found a solution:  I had to delete the module-info.java file.  After that, I ran into further issues (could not find PDAnnotationMarkup).  I removed all jar files mentioned above and only added the bigger pdfbox-app-3.0.0-alpha3.jar.","body":"I found a solution:  I had to delete the module-info.java file.  After that, I ran into further issues (could not find PDAnnotationMarkup).  I removed all jar files mentioned above and only added the bigger pdfbox-app-3.0.0-alpha3.jar."}],"answers":[{"tags":[],"owner":{"account_id":4847563,"reputation":21,"user_id":3910807,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662656258,"creation_date":1662656258,"answer_id":73652662,"question_id":73638762,"body_markdown":"I found a solution: I had to delete the module-info.java file. After that, I ran into further issues (could not find PDAnnotationMarkup). I removed all jar files mentioned above and only added the bigger pdfbox-app-3.0.0-alpha3.jar.","title":"pdfbox 3.0 Loader issue","body":"<p>I found a solution: I had to delete the module-info.java file. After that, I ran into further issues (could not find PDAnnotationMarkup). I removed all jar files mentioned above and only added the bigger pdfbox-app-3.0.0-alpha3.jar.</p>\n"}],"owner":{"account_id":4847563,"reputation":21,"user_id":3910807,"display_name":"Tobias"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662656258,"creation_date":1662567601,"question_id":73638762,"body_markdown":"I am using pdfbox 3.0 to load a PDF as follows (Eclipse IDE, java.runtime.version=17.0.4.1+1):\r\n\r\n```\r\nFile pdfFile = new File(&quot;C:\\\\Users\\SchroeT\\\\myPDF.pdf&quot;);\r\nSystem.out.println(&quot;\\n\\nFile: &quot; + pdfFile);\r\nPDDocument doc = Loader.loadPDF(pdfFile);\r\n```\r\n\r\nI added the following jar files to the Modulepath under &quot;Libraries&quot; in Eclipse: \r\nfontbox-3.0.0-alpha3.jar\r\npdfbox-3.0.0-alpha3.jar\r\npdfbox-debugger-3.0.0-alpha3.jar\r\npdfbox-tools-3.0.0-alpha3.jar\r\npreflight-3.0.0-alpha3.jar\r\nxmpbox-3.0.0-alpha3.jar\r\n\r\n                                \r\nThe following output points to a “ClassNotFoundException”\r\n\r\nPlease help\r\n\r\nConsole output in Eclipse:\r\n\r\nFile: C:\\Users\\SchroeT\\myPDF.pdf\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n       at org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.pdfparser.BaseParser.&lt;clinit&gt;(BaseParser.java:61)\r\n       at org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:343)\r\n       at org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:317)\r\n       at org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:277)\r\n       at org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:230)\r\n       at geoscene/geoscene.MainClass.main(MainClass.java:161)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n       at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n       at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n       at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n       ... 6 more\r\n\r\n","title":"pdfbox 3.0 Loader issue","body":"<p>I am using pdfbox 3.0 to load a PDF as follows (Eclipse IDE, java.runtime.version=17.0.4.1+1):</p>\n<pre><code>File pdfFile = new File(&quot;C:\\\\Users\\SchroeT\\\\myPDF.pdf&quot;);\nSystem.out.println(&quot;\\n\\nFile: &quot; + pdfFile);\nPDDocument doc = Loader.loadPDF(pdfFile);\n</code></pre>\n<p>I added the following jar files to the Modulepath under &quot;Libraries&quot; in Eclipse:\nfontbox-3.0.0-alpha3.jar\npdfbox-3.0.0-alpha3.jar\npdfbox-debugger-3.0.0-alpha3.jar\npdfbox-tools-3.0.0-alpha3.jar\npreflight-3.0.0-alpha3.jar\nxmpbox-3.0.0-alpha3.jar</p>\n<p>The following output points to a “ClassNotFoundException”</p>\n<p>Please help</p>\n<p>Console output in Eclipse:</p>\n<p>File: C:\\Users\\SchroeT\\myPDF.pdf</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\nat org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.pdfparser.BaseParser.(BaseParser.java:61)\nat org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:343)\nat org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:317)\nat org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:277)\nat org.apache.pdfbox@3.0.0-alpha3/org.apache.pdfbox.Loader.loadPDF(Loader.java:230)\nat geoscene/geoscene.MainClass.main(MainClass.java:161)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 6 more</p>\n"},{"tags":["java","ajax","servlets","getparameter","tomcat10"],"owner":{"account_id":98249,"reputation":5817,"user_id":266074,"accept_rate":68,"display_name":"Param-Ganak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662655995,"creation_date":1662652283,"question_id":73651925,"body_markdown":"I have simple jsp servlet project. it has one jsp page having an jquery ajax request code. There is a servlet which gets called in the above ajax request. The project have only a jsp page and a servlet.\r\n\r\nFollowing is JSP Page Code\r\n```               \r\n                    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n &lt;%@ include file=&quot;genericinclude.jsp&quot;%&gt;\r\n    \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n$(document).ready(function() {\r\n\tvar forminputdata = new FormData();\r\n\t\r\n\t\r\n\tforminputdata.append(&quot;username&quot;,&quot;3~san&quot;);\r\n\tforminputdata.append(&quot;unlockapplogin&quot;,&quot;unlockapplogin&quot;);\r\n\r\n\t//forminputdata=$(&quot;#idfrmentryapploginreset&quot;).serialize();\r\n\t$.ajax({\r\n\t\t xhr: function() {\r\n\t\t\t var req = $.ajaxSettings.xhr();\r\n\t\t\t if (req) {\r\n\t\t\t\t req.upload.addEventListener(&#39;progress&#39;, function(event) {\r\n\t\t\t\t\t if (event.lengthComputable) {\r\n\t\t\t\t\t\t //$(&quot;#id&quot;+i+&quot;-p-&quot;+file_data[i].name.replace(&quot;.&quot;,&quot;-&quot;)).html(event.loaded); // = &#39;test&#39;; //event.loaded + &#39; / &#39; + event.total;\r\n\t\t\t\t\t }\r\n\t\t\t\t }, false);\r\n\t\t\t }\r\n\t\t\t return req;\r\n\t\t },\r\n\t\t url: &#39;ResetUserApplicationLogin&#39;,\r\n\t\t data: forminputdata,\r\n\t\t type: &#39;POST&#39;,\r\n\t\t contentType: false,\r\n\t\t processData: false,\r\n\t\t dataType: &#39;json&#39;,\r\n\t\t\r\n\t\t beforeSend: function(){\t\t\t\t \r\n\t\t },\t\t\t \r\n\t\t success: function(data, textStatus, jqXHR){\r\n\t\t\t \r\n\t\t\t var objlstProjectDetails=data.objlstProjectDetails;\r\n\t\t\t if(data.reply==&quot;success&quot;){\r\n\t\t\t\t alert(&quot;Application login reset successfull!&quot;);\r\n\t\t\t\t \r\n\t\t\t\t \r\n\t\t\t\t\r\n\t\t\t }else if(data.reply==&quot;invalidsession&quot;){\r\n\t\t\t\t//alert(data.message);\t\r\n\t\t\t\twindow.location.replace(&quot;Logout&quot;);\r\n\t\t\t }else if(data.reply==&quot;failed&quot;){\r\n\t\t\t\t alert(data.message); \r\n\t\t\t }\r\n\t\t\t \r\n\t\t },\r\n\t\t error: function(xhr, errDesc, exception) {\r\n\t\t\t \r\n\t\t }\r\n\t }); \r\n\t\r\n});\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;/body&gt;\r\n          &lt;/html&gt;\r\n```\r\n\r\nThe servlet code is as follows\r\n```\r\npackage san.com;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.util.Enumeration;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n/**\r\n * Servlet implementation class ResetUserApplicationLogin\r\n */\r\npublic class ResetUserApplicationLogin extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public ResetUserApplicationLogin() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoPost(request, response);\r\n\t}\r\n\tpublic static String getBody(HttpServletRequest request) throws IOException {\r\n\r\n\t    String body = null;\r\n\t    StringBuilder stringBuilder = new StringBuilder();\r\n\t    BufferedReader bufferedReader = null;\r\n\r\n\t    try {\r\n\t        InputStream inputStream = request.getInputStream();\r\n\t        if (inputStream != null) {\r\n\t            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\t            char[] charBuffer = new char[128];\r\n\t            int bytesRead = -1;\r\n\t            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n\t                stringBuilder.append(charBuffer, 0, bytesRead);\r\n\t            }\r\n\t        } else {\r\n\t            stringBuilder.append(&quot;&quot;);\r\n\t        }\r\n\t    } catch (IOException ex) {\r\n\t        throw ex;\r\n\t    } finally {\r\n\t        if (bufferedReader != null) {\r\n\t            try {\r\n\t                bufferedReader.close();\r\n\t            } catch (IOException ex) {\r\n\t                throw ex;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    body = stringBuilder.toString();\r\n\t    return body;\r\n\t}\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Headers&quot;);\r\n\t\tEnumeration&lt;String&gt; headerNames = request.getHeaderNames();\r\n\t\twhile(headerNames.hasMoreElements()) {\r\n\t\t  String headerName = headerNames.nextElement();\r\n\t\t  System.out.println(&quot;Header Name - &quot; + headerName + &quot;, Value - &quot; + request.getHeader(headerName));\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;request param&quot;);\r\n\r\n\t\tEnumeration&lt;String&gt; params = request.getParameterNames(); \r\n\t\twhile(params.hasMoreElements()){\r\n\t\t String paramName = params.nextElement();\r\n\t\t System.out.println(&quot;Parameter Name - &quot;+paramName+&quot;, Value - &quot;+request.getParameter(paramName));\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;username= &quot;+request.getParameter(&quot;username&quot;));\t\r\n\t\tSystem.out.println(&quot;button= &quot;+request.getParameter(&quot;unlockapplogin&quot;));\t\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;get body&quot;);\r\n\t\t\t\tSystem.out.println(getBody(request));\r\n\t}\r\n\r\n}\r\n\r\n\r\nThe output on console is as follows\r\n\r\nHeaders\r\nHeader Name - host, Value - localhost:8080\r\nHeader Name - connection, Value - keep-alive\r\nHeader Name - content-length, Value - 262\r\nHeader Name - pragma, Value - no-cache\r\nHeader Name - cache-control, Value - no-cache\r\nHeader Name - sec-ch-ua, Value - &quot;Google Chrome&quot;;v=&quot;105&quot;, &quot;Not)A;Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;105&quot;\r\nHeader Name - accept, Value - application/json, text/javascript, */*; q=0.01\r\nHeader Name - content-type, Value - multipart/form-data; boundary=----WebKitFormBoundaryAyd42O3mfas060o3\r\nHeader Name - x-requested-with, Value - XMLHttpRequest\r\nHeader Name - sec-ch-ua-mobile, Value - ?0\r\nHeader Name - user-agent, Value - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36/8mqErPuL-62\r\nHeader Name - sec-ch-ua-platform, Value - &quot;Windows&quot;\r\nHeader Name - origin, Value - http://localhost:8080\r\nHeader Name - sec-fetch-site, Value - same-origin\r\nHeader Name - sec-fetch-mode, Value - cors\r\nHeader Name - sec-fetch-dest, Value - empty\r\nHeader Name - referer, Value - http://localhost:8080/sandip/testajax.jsp\r\nHeader Name - accept-encoding, Value - gzip, deflate, br\r\nHeader Name - accept-language, Value - en-US,en;q=0.9\r\nHeader Name - cookie, Value - JSESSIONID=EEF9C07A7DA828835E8FE5883FB98D73\r\n\r\nrequest param\r\nusername= null\r\nbutton= null\r\nget body\r\n------WebKitFormBoundaryAyd42O3mfas060o3\r\nContent-Disposition: form-data; name=&quot;username&quot;\r\n\r\n3~sandip\r\n------WebKitFormBoundaryAyd42O3mfas060o3\r\nContent-Disposition: form-data; name=&quot;unlockapplogin&quot;\r\n\r\nunlockapplogin\r\n------WebKitFormBoundaryAyd42O3mfas060o3--\r\n\r\n```\r\n\r\nIn output we get sent form parameter as null\r\n\r\nbut when we read request using userdefined getBody function I found that the parameter provided by ajax comes to servlet but either its not coming in proper form or the servlet is not able to parse it properly.\r\n\r\nMy setup have \r\njava 18.X.x\r\ntomcat 10.X\r\n\r\nPlease guide me to understand and solve the problem\r\n\r\nThansk in advance ","title":"request.getParameter returns null for form data sent using jquery ajax in tomcat10 servlet","body":"<p>I have simple jsp servlet project. it has one jsp page having an jquery ajax request code. There is a servlet which gets called in the above ajax request. The project have only a jsp page and a servlet.</p>\n<p>Following is JSP Page Code</p>\n<pre><code>                    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n &lt;%@ include file=&quot;genericinclude.jsp&quot;%&gt;\n    \n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n$(document).ready(function() {\n    var forminputdata = new FormData();\n    \n    \n    forminputdata.append(&quot;username&quot;,&quot;3~san&quot;);\n    forminputdata.append(&quot;unlockapplogin&quot;,&quot;unlockapplogin&quot;);\n\n    //forminputdata=$(&quot;#idfrmentryapploginreset&quot;).serialize();\n    $.ajax({\n         xhr: function() {\n             var req = $.ajaxSettings.xhr();\n             if (req) {\n                 req.upload.addEventListener('progress', function(event) {\n                     if (event.lengthComputable) {\n                         //$(&quot;#id&quot;+i+&quot;-p-&quot;+file_data[i].name.replace(&quot;.&quot;,&quot;-&quot;)).html(event.loaded); // = 'test'; //event.loaded + ' / ' + event.total;\n                     }\n                 }, false);\n             }\n             return req;\n         },\n         url: 'ResetUserApplicationLogin',\n         data: forminputdata,\n         type: 'POST',\n         contentType: false,\n         processData: false,\n         dataType: 'json',\n        \n         beforeSend: function(){                 \n         },          \n         success: function(data, textStatus, jqXHR){\n             \n             var objlstProjectDetails=data.objlstProjectDetails;\n             if(data.reply==&quot;success&quot;){\n                 alert(&quot;Application login reset successfull!&quot;);\n                 \n                 \n                \n             }else if(data.reply==&quot;invalidsession&quot;){\n                //alert(data.message);  \n                window.location.replace(&quot;Logout&quot;);\n             }else if(data.reply==&quot;failed&quot;){\n                 alert(data.message); \n             }\n             \n         },\n         error: function(xhr, errDesc, exception) {\n             \n         }\n     }); \n    \n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n          &lt;/html&gt;\n</code></pre>\n<p>The servlet code is as follows</p>\n<pre><code>package san.com;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.Enumeration;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class ResetUserApplicationLogin\n */\npublic class ResetUserApplicationLogin extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public ResetUserApplicationLogin() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doPost(request, response);\n    }\n    public static String getBody(HttpServletRequest request) throws IOException {\n\n        String body = null;\n        StringBuilder stringBuilder = new StringBuilder();\n        BufferedReader bufferedReader = null;\n\n        try {\n            InputStream inputStream = request.getInputStream();\n            if (inputStream != null) {\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                char[] charBuffer = new char[128];\n                int bytesRead = -1;\n                while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                    stringBuilder.append(charBuffer, 0, bytesRead);\n                }\n            } else {\n                stringBuilder.append(&quot;&quot;);\n            }\n        } catch (IOException ex) {\n            throw ex;\n        } finally {\n            if (bufferedReader != null) {\n                try {\n                    bufferedReader.close();\n                } catch (IOException ex) {\n                    throw ex;\n                }\n            }\n        }\n\n        body = stringBuilder.toString();\n        return body;\n    }\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Headers&quot;);\n        Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\n        while(headerNames.hasMoreElements()) {\n          String headerName = headerNames.nextElement();\n          System.out.println(&quot;Header Name - &quot; + headerName + &quot;, Value - &quot; + request.getHeader(headerName));\n        }\n        \n        System.out.println();\n        System.out.println(&quot;request param&quot;);\n\n        Enumeration&lt;String&gt; params = request.getParameterNames(); \n        while(params.hasMoreElements()){\n         String paramName = params.nextElement();\n         System.out.println(&quot;Parameter Name - &quot;+paramName+&quot;, Value - &quot;+request.getParameter(paramName));\n        }\n        \n        System.out.println(&quot;username= &quot;+request.getParameter(&quot;username&quot;));  \n        System.out.println(&quot;button= &quot;+request.getParameter(&quot;unlockapplogin&quot;));  \n\n        \n        System.out.println(&quot;get body&quot;);\n                System.out.println(getBody(request));\n    }\n\n}\n\n\nThe output on console is as follows\n\nHeaders\nHeader Name - host, Value - localhost:8080\nHeader Name - connection, Value - keep-alive\nHeader Name - content-length, Value - 262\nHeader Name - pragma, Value - no-cache\nHeader Name - cache-control, Value - no-cache\nHeader Name - sec-ch-ua, Value - &quot;Google Chrome&quot;;v=&quot;105&quot;, &quot;Not)A;Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;105&quot;\nHeader Name - accept, Value - application/json, text/javascript, */*; q=0.01\nHeader Name - content-type, Value - multipart/form-data; boundary=----WebKitFormBoundaryAyd42O3mfas060o3\nHeader Name - x-requested-with, Value - XMLHttpRequest\nHeader Name - sec-ch-ua-mobile, Value - ?0\nHeader Name - user-agent, Value - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36/8mqErPuL-62\nHeader Name - sec-ch-ua-platform, Value - &quot;Windows&quot;\nHeader Name - origin, Value - http://localhost:8080\nHeader Name - sec-fetch-site, Value - same-origin\nHeader Name - sec-fetch-mode, Value - cors\nHeader Name - sec-fetch-dest, Value - empty\nHeader Name - referer, Value - http://localhost:8080/sandip/testajax.jsp\nHeader Name - accept-encoding, Value - gzip, deflate, br\nHeader Name - accept-language, Value - en-US,en;q=0.9\nHeader Name - cookie, Value - JSESSIONID=EEF9C07A7DA828835E8FE5883FB98D73\n\nrequest param\nusername= null\nbutton= null\nget body\n------WebKitFormBoundaryAyd42O3mfas060o3\nContent-Disposition: form-data; name=&quot;username&quot;\n\n3~sandip\n------WebKitFormBoundaryAyd42O3mfas060o3\nContent-Disposition: form-data; name=&quot;unlockapplogin&quot;\n\nunlockapplogin\n------WebKitFormBoundaryAyd42O3mfas060o3--\n\n</code></pre>\n<p>In output we get sent form parameter as null</p>\n<p>but when we read request using userdefined getBody function I found that the parameter provided by ajax comes to servlet but either its not coming in proper form or the servlet is not able to parse it properly.</p>\n<p>My setup have\njava 18.X.x\ntomcat 10.X</p>\n<p>Please guide me to understand and solve the problem</p>\n<p>Thansk in advance</p>\n"},{"tags":["java","mysql","spring-boot","rest","entity"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662647950,"creation_date":1662647950,"answer_id":73650910,"question_id":73650851,"body_markdown":"Primary key is a perfectly fine as long as you don&#39;t have a unique key in your class and may want to use this.","title":"Should we send primary key in response to restAPI request in springboot","body":"<p>Primary key is a perfectly fine as long as you don't have a unique key in your class and may want to use this.</p>\n"},{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662655799,"creation_date":1662655799,"answer_id":73652585,"question_id":73650851,"body_markdown":"There is nothing wrong with providing primary keys, or in other words identifiers in responses. Especially after creating some new entity. How else your clients would be able to request doctors from your service?\r\n\r\nRegarding introducing an additional UUID field in your entity. Having several identifiers in one entity is not a good practice. Just think about how (and if) will you be able to control the uniqueness of your objects in this case.\r\n\r\nSpeaking about using UUID vs auto-incremented integer\\long values. It depends on your exact situation. In short, using UUIDs reduces a lot of risks in case you will need to accept client-generated identifiers, or if you&#39;re building a distributed system. During migration between services, UUIDs will also help to avoid a lot of issues.\r\n\r\nIf you decide to go with using UUID as your primary key, I would highly recommend using the sixth version, which is time ordered. I can recommend such a [UUID generator][1], which supports the sixth version.\r\n\r\n\r\n  [1]: https://github.com/f4b6a3/uuid-creator","title":"Should we send primary key in response to restAPI request in springboot","body":"<p>There is nothing wrong with providing primary keys, or in other words identifiers in responses. Especially after creating some new entity. How else your clients would be able to request doctors from your service?</p>\n<p>Regarding introducing an additional UUID field in your entity. Having several identifiers in one entity is not a good practice. Just think about how (and if) will you be able to control the uniqueness of your objects in this case.</p>\n<p>Speaking about using UUID vs auto-incremented integer\\long values. It depends on your exact situation. In short, using UUIDs reduces a lot of risks in case you will need to accept client-generated identifiers, or if you're building a distributed system. During migration between services, UUIDs will also help to avoid a lot of issues.</p>\n<p>If you decide to go with using UUID as your primary key, I would highly recommend using the sixth version, which is time ordered. I can recommend such a <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">UUID generator</a>, which supports the sixth version.</p>\n"}],"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662655799,"creation_date":1662647672,"question_id":73650851,"body_markdown":"I am learning SpringBoot and trying to build some rest API using @RestController.\r\nI have created below controller\r\n```java\r\n@GetMapping(&quot;/v1/search/symptom/{symptom}&quot;)\r\n    public List&lt;DoctorDTO&gt; getDoctorsForSymptom(@PathVariable(&quot;symptom&quot;) String symptomQuery){\r\n        List&lt;DoctorDTO&gt; doctorDTOList = this.symptomService.getDoctorsForSymptom(symptomQuery);\r\n        //we can add code here for caching the result to make response faster\r\n        return doctorDTOList;\r\n    }\r\n```\r\nwhich is returning a list of objects of class DoctorDTO which DTO class for original entity class Doctor.\r\n\r\n```java\r\npublic class Doctor {\r\n    private long doctorId;\r\n    private String name;\r\n    private int age;\r\n    private String mobileNum;\r\n    private MedicalSpeciality medicalSpeciality;\r\n    private List&lt;Slot&gt; slots;\r\n    private List&lt;DoctorSymptomAssociation&gt; doctorSymtomAssociations;\r\n}\r\n```\r\nI am sending DoctorDTO object but it contains primary key for Doctor class also. I need to send the primary keys for each record so that if the user selects a particular doctor and send a new request with that selected doctor primary key in it, I can perform some operations with the help of that primary key.\r\n\r\nBut I read that sending primary key for a record with the response is not a good practice. \r\n\r\nSo, please tell me how can I refer to the same doctor after receiving new request from the user if  I don&#39;t include doctor&#39;s primary key in first response to the user.\r\n\r\nAlso, please explain is it a good approach to add another column for UUID in the Doctor entity and send that UUID value to the user in first response instead of primary key. But UUID has its own cons. So, if there is any better approach then please mention. I am using MySQL database.\r\n","title":"Should we send primary key in response to restAPI request in springboot","body":"<p>I am learning SpringBoot and trying to build some rest API using @RestController.\nI have created below controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/v1/search/symptom/{symptom}&quot;)\n    public List&lt;DoctorDTO&gt; getDoctorsForSymptom(@PathVariable(&quot;symptom&quot;) String symptomQuery){\n        List&lt;DoctorDTO&gt; doctorDTOList = this.symptomService.getDoctorsForSymptom(symptomQuery);\n        //we can add code here for caching the result to make response faster\n        return doctorDTOList;\n    }\n</code></pre>\n<p>which is returning a list of objects of class DoctorDTO which DTO class for original entity class Doctor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Doctor {\n    private long doctorId;\n    private String name;\n    private int age;\n    private String mobileNum;\n    private MedicalSpeciality medicalSpeciality;\n    private List&lt;Slot&gt; slots;\n    private List&lt;DoctorSymptomAssociation&gt; doctorSymtomAssociations;\n}\n</code></pre>\n<p>I am sending DoctorDTO object but it contains primary key for Doctor class also. I need to send the primary keys for each record so that if the user selects a particular doctor and send a new request with that selected doctor primary key in it, I can perform some operations with the help of that primary key.</p>\n<p>But I read that sending primary key for a record with the response is not a good practice.</p>\n<p>So, please tell me how can I refer to the same doctor after receiving new request from the user if  I don't include doctor's primary key in first response to the user.</p>\n<p>Also, please explain is it a good approach to add another column for UUID in the Doctor entity and send that UUID value to the user in first response instead of primary key. But UUID has its own cons. So, if there is any better approach then please mention. I am using MySQL database.</p>\n"},{"tags":["java","generics","arraylist"],"comments":[{"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"score":1,"creation_date":1662652513,"post_id":73651809,"comment_id":130060720,"body_markdown":"Please explain what is your use cases. Why do you need such a complex structure with nested lists?","body":"Please explain what is your use cases. Why do you need such a complex structure with nested lists?"},{"owner":{"account_id":19083091,"reputation":1,"user_id":13934926,"display_name":"shdoc"},"score":0,"creation_date":1662704682,"post_id":73651809,"comment_id":130071463,"body_markdown":"It was one of my University question. I solved by doing                                                                                               public static void genericmethod(List&lt;?&gt; list) { List&lt;?&gt; \n\n        list.stream().forEach(elem -&gt; {\n            if (elem instanceof Collection) {\n                genericmethod((List&lt;?&gt;) elem);\n            } else {\n                System.out.println(elem);\n            }\n        });\n    }","body":"It was one of my University question. I solved by doing                                                                                               public static void genericmethod(List&lt;?&gt; list) { List&lt;?&gt;           list.stream().forEach(elem -&gt; {             if (elem instanceof Collection) {                 genericmethod((List&lt;?&gt;) elem);             } else {                 System.out.println(elem);             }         });     }"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662655268,"creation_date":1662654021,"answer_id":73652260,"question_id":73651809,"body_markdown":"In decades of Java development, I&#39;ve never found a case where this sort of structure was the right approach. I&#39;d suggest finding a type-safe way to store your data, perhaps using a simple custom type.\r\n\r\nYou can&#39;t do this in a type-safe way, as the common ancestor of `List` and `Integer` is `Object`. You have to test the type dynamically and act accordingly:\r\n\r\n```java\r\nstatic Stream&lt;Object&gt; expand(Collection&lt;?&gt; elements) {\r\n  return elements.stream()\r\n    .flatMap(e -&gt; e instanceof Collection col ? col.stream() : Stream.of(e));\r\n}\r\n```\r\n\r\nYour example would use such a function like this:\r\n\r\n```java\r\nexpand(list1).forEach(System.out::print);\r\nSystem.out.println();\r\nexpand(list2).forEach(System.out::print);\r\nSystem.out.println();\r\n```\r\n\r\nIf you know that all the &quot;leaf&quot; elements of your input are a specific type&amp;mdash;say, `Integer`&amp;mdash;you can perform type checking at runtime and write a generic method:\r\n\r\n```java\r\nstatic &lt;T&gt; Stream&lt;T&gt; expand(Class&lt;? extends T&gt; t, Collection&lt;?&gt; elements) {\r\n  return elements.stream()\r\n    .flatMap(e -&gt; e instanceof Collection col ? col.stream() : Stream.of(t.cast(e)));\r\n}\r\n\r\nint total = expand(Integer.class, list1).mapToInt(Integer::intValue).sum();\r\n```\r\n\r\nPerhaps the lists can be nested to any depth:\r\n```java\r\nstatic &lt;T&gt; Stream&lt;T&gt; expand(Class&lt;? extends T&gt; t, Collection&lt;?&gt; elements) {\r\n  return elements.stream()\r\n    .flatMap(e -&gt; e instanceof Collection col ? expand(t, col) : Stream.of(t.cast(e)));\r\n}\r\n```","title":"write a generic method to print out the element of listoflist using stream in java","body":"<p>In decades of Java development, I've never found a case where this sort of structure was the right approach. I'd suggest finding a type-safe way to store your data, perhaps using a simple custom type.</p>\n<p>You can't do this in a type-safe way, as the common ancestor of <code>List</code> and <code>Integer</code> is <code>Object</code>. You have to test the type dynamically and act accordingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Object&gt; expand(Collection&lt;?&gt; elements) {\n  return elements.stream()\n    .flatMap(e -&gt; e instanceof Collection col ? col.stream() : Stream.of(e));\n}\n</code></pre>\n<p>Your example would use such a function like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>expand(list1).forEach(System.out::print);\nSystem.out.println();\nexpand(list2).forEach(System.out::print);\nSystem.out.println();\n</code></pre>\n<p>If you know that all the &quot;leaf&quot; elements of your input are a specific type—say, <code>Integer</code>—you can perform type checking at runtime and write a generic method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Stream&lt;T&gt; expand(Class&lt;? extends T&gt; t, Collection&lt;?&gt; elements) {\n  return elements.stream()\n    .flatMap(e -&gt; e instanceof Collection col ? col.stream() : Stream.of(t.cast(e)));\n}\n\nint total = expand(Integer.class, list1).mapToInt(Integer::intValue).sum();\n</code></pre>\n<p>Perhaps the lists can be nested to any depth:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Stream&lt;T&gt; expand(Class&lt;? extends T&gt; t, Collection&lt;?&gt; elements) {\n  return elements.stream()\n    .flatMap(e -&gt; e instanceof Collection col ? expand(t, col) : Stream.of(t.cast(e)));\n}\n</code></pre>\n"}],"owner":{"account_id":19083091,"reputation":1,"user_id":13934926,"display_name":"shdoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1662655268,"creation_date":1662651816,"question_id":73651809,"body_markdown":"I am new to Java Generics. I have two List with different type **Object** and **Integer** and i want to write a generic  method which takes the list of lists and want to print out the containing elements inside the list. Example\r\n  \r\n      List&lt;Object&gt; list1 = List.of(1, List.of(2, 3, 4, List.of(5)), List.of(6, 7));\r\n        genericmethod(list1);\r\n        System.out.println();\r\n      \r\n        List&lt;Integer&gt; list2 = List.of(1, 2, 3, 4, 5, 6, 7, 8);\r\n        genericmethod(list2);\r\n        System.out.println();\r\n        both the method should print 1,2,3,4,5,6,7,8\r\n\r\n        I tried with\r\n    \r\n         public static void genericmethod(List&lt;?&gt; list) { \r\n             list.stream().forEach(System.out::println);\r\n         }\r\nOutput :\r\n1\r\n[2, 3, 4, [5]]\r\n[6, 7]\r\n\r\nand\r\n\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n\r\nBut i want to print out just 1,2,3,4,5,6,7,8 from both the list as a result.\r\n\r\n\r\n","title":"write a generic method to print out the element of listoflist using stream in java","body":"<p>I am new to Java Generics. I have two List with different type <strong>Object</strong> and <strong>Integer</strong> and i want to write a generic  method which takes the list of lists and want to print out the containing elements inside the list. Example</p>\n<pre><code>  List&lt;Object&gt; list1 = List.of(1, List.of(2, 3, 4, List.of(5)), List.of(6, 7));\n    genericmethod(list1);\n    System.out.println();\n  \n    List&lt;Integer&gt; list2 = List.of(1, 2, 3, 4, 5, 6, 7, 8);\n    genericmethod(list2);\n    System.out.println();\n    both the method should print 1,2,3,4,5,6,7,8\n\n    I tried with\n\n     public static void genericmethod(List&lt;?&gt; list) { \n         list.stream().forEach(System.out::println);\n     }\n</code></pre>\n<p>Output :\n1\n[2, 3, 4, [5]]\n[6, 7]</p>\n<p>and</p>\n<p>1\n2\n3\n4\n5\n6\n7\n8</p>\n<p>But i want to print out just 1,2,3,4,5,6,7,8 from both the list as a result.</p>\n"},{"tags":["java","maven","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662655154,"creation_date":1662655154,"answer_id":73652483,"question_id":73652346,"body_markdown":"This result is expected. The webapp context root displays the same text because there is `src/main/webapp/index.jsp` file provided by `maven-archetype-webapp` with the following:\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Hello World!&lt;/h2&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nSince servlet and the index page print the same text, you were confused and thought that this text is also printed by the servlet, while it&#39;s actually an index page.\r\n\r\nNotice that the text size is different. The index page uses `&lt;h2&gt;`, servlet code is using `&lt;h3&gt;`.\r\n","title":"Creating Maven Project with Servlet in IntelliJ","body":"<p>This result is expected. The webapp context root displays the same text because there is <code>src/main/webapp/index.jsp</code> file provided by <code>maven-archetype-webapp</code> with the following:</p>\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;h2&gt;Hello World!&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Since servlet and the index page print the same text, you were confused and thought that this text is also printed by the servlet, while it's actually an index page.</p>\n<p>Notice that the text size is different. The index page uses <code>&lt;h2&gt;</code>, servlet code is using <code>&lt;h3&gt;</code>.</p>\n"}],"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73652483,"answer_count":1,"score":1,"last_activity_date":1662655154,"creation_date":1662654464,"question_id":73652346,"body_markdown":"I have been trying to create a servlet in intellij by following this tutorial: https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af. \r\n\r\nHere is the code I have added so far to the servlet class:\r\n\r\n    package com.demo;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    import javax.servlet.annotation.*;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    @WebServlet(&quot;/DemoServlet&quot;)\r\n    public class DemoServlet extends HttpServlet {\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            response.setContentType(&quot;text/html&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            out.println(&quot;&lt;h3&gt;Hello World!&lt;/h3&gt;&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nI also set the run configuration to use Tomcat 9:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nWhen I run the project I can view &quot;Hello World!&quot; on both  http://localhost:8080 and http://localhost:8080/DemoServlet. \r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nHowever, I thought that you should only be able to view &quot;Hello World!&quot; at http://localhost:8080/DemoServlet and not at http://localhost:8080. I would like to know if this is the expected behavior for the program, or did I make a mistake in my configuration of the Servlet?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RS5RO.png\r\n  [2]: https://i.stack.imgur.com/ZtSK6.png\r\n  [3]: https://i.stack.imgur.com/tBrW2.png\r\n  [4]: https://i.stack.imgur.com/k7udX.png","title":"Creating Maven Project with Servlet in IntelliJ","body":"<p>I have been trying to create a servlet in intellij by following this tutorial: <a href=\"https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af\" rel=\"nofollow noreferrer\">https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af</a>.</p>\n<p>Here is the code I have added so far to the servlet class:</p>\n<pre><code>package com.demo;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.annotation.*;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\n@WebServlet(&quot;/DemoServlet&quot;)\npublic class DemoServlet extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;h3&gt;Hello World!&lt;/h3&gt;&quot;);\n    }\n\n}\n</code></pre>\n<p>I also set the run configuration to use Tomcat 9:\n<a href=\"https://i.stack.imgur.com/RS5RO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RS5RO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ZtSK6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZtSK6.png\" alt=\"enter image description here\" /></a></p>\n<p>When I run the project I can view &quot;Hello World!&quot; on both  http://localhost:8080 and http://localhost:8080/DemoServlet.\n<a href=\"https://i.stack.imgur.com/tBrW2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBrW2.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/k7udX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7udX.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I thought that you should only be able to view &quot;Hello World!&quot; at http://localhost:8080/DemoServlet and not at http://localhost:8080. I would like to know if this is the expected behavior for the program, or did I make a mistake in my configuration of the Servlet?</p>\n"},{"tags":["java","swing","generics","reflection"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1376933535,"post_id":18319656,"comment_id":26884957,"body_markdown":"Some code will be helpful from your side.","body":"Some code will be helpful from your side."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1376933676,"post_id":18319656,"comment_id":26885018,"body_markdown":"Text only question regarding some code, is never enough. Please post relevant code.","body":"Text only question regarding some code, is never enough. Please post relevant code."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1376936017,"post_id":18319656,"comment_id":26886204,"body_markdown":"Do all your classes extend a common class? Otherwise, if you start from one node class, how would you know when you reach the root of your hierarchy? If they do not belong to a common ancestor I don&#39;t think you can prevent hardcoding the class names there as you did.","body":"Do all your classes extend a common class? Otherwise, if you start from one node class, how would you know when you reach the root of your hierarchy? If they do not belong to a common ancestor I don&#39;t think you can prevent hardcoding the class names there as you did."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1376936102,"post_id":18319656,"comment_id":26886252,"body_markdown":"I guess one alternative to prevent you from having to read the collections is to annotate your classes with some annotations designed by you, and then use a library like [Google Reflections](https://code.google.com/p/reflections/) to easily locate annotated fields. The annotations in the fields and field themselves may contain all the metadata that you need.","body":"I guess one alternative to prevent you from having to read the collections is to annotate your classes with some annotations designed by you, and then use a library like <a href=\"https://code.google.com/p/reflections/\" rel=\"nofollow noreferrer\">Google Reflections</a> to easily locate annotated fields. The annotations in the fields and field themselves may contain all the metadata that you need."}],"answers":[{"tags":[],"owner":{"account_id":89056,"reputation":8068,"user_id":2684196,"accept_rate":80,"display_name":"Willis Blackburn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376933714,"creation_date":1376933714,"answer_id":18319727,"question_id":18319656,"body_markdown":"You&#39;re probably using the Class.getDeclaredFields method.  You want Class.getFields.  More information here:  http://forgetfulprogrammer.wordpress.com/2011/06/13/java-reflection-class-getfields-and-class-getdeclaredfields/\r\n","title":"Java Generic programming: Determining if class extends another","body":"<p>You're probably using the Class.getDeclaredFields method.  You want Class.getFields.  More information here:  <a href=\"http://forgetfulprogrammer.wordpress.com/2011/06/13/java-reflection-class-getfields-and-class-getdeclaredfields/\" rel=\"nofollow\">http://forgetfulprogrammer.wordpress.com/2011/06/13/java-reflection-class-getfields-and-class-getdeclaredfields/</a></p>\n"},{"tags":[],"owner":{"account_id":3098702,"reputation":470,"user_id":2623382,"display_name":"Evgheni Crujcov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376933757,"creation_date":1376933757,"answer_id":18319742,"question_id":18319656,"body_markdown":"For any class you can see what it extends and/or implements by using Reflection. Afterwards do a comparison vs types of different worker classes you have and call the method you find appropriate. A fully worked example is in the trail:\r\nhttp://docs.oracle.com/javase/tutorial/reflect/class/classModifiers.html","title":"Java Generic programming: Determining if class extends another","body":"<p>For any class you can see what it extends and/or implements by using Reflection. Afterwards do a comparison vs types of different worker classes you have and call the method you find appropriate. A fully worked example is in the trail:\n<a href=\"http://docs.oracle.com/javase/tutorial/reflect/class/classModifiers.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/reflect/class/classModifiers.html</a></p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376934316,"creation_date":1376934014,"answer_id":18319821,"question_id":18319656,"body_markdown":"I would consider a [Visitor Pattern][1] for this. The visitor would know how to deal with the TableModel.\r\n\r\nSomewhat like this:\r\n\r\n    public class TableModelVisitor {\r\n    \r\n       private TableModel model;\r\n       \r\n       public void visit(Terminal terminal) {\r\n          terminal.accept(this);\r\n       }\r\n       public void visit(Runway runway) {\r\n          runway.accept(this);\r\n       }\r\n       public void visit(Worker worker) {\r\n          worker.accept(this);\r\n       }\r\n\r\n       //your methods to treat the model\r\n    }\r\n\r\nThen you can make every node deal with the visitor and ask it to do something like populating the model:\r\n\r\n    public class Worker {\r\n       public void accept(TableModelVisitor tableModelVisitor) {\r\n          //and here you know everything about your worker and its fields\r\n          //and have access to your visitor table model to configure it.\r\n          tableModelVistor.addField(this.getMyField1());\r\n          tableModelVistor.addField(this.getMyField2());\r\n       }\r\n    }\r\n\r\nAt the end, all you have to do is to create a TableModelVisitor and ask it to populate any model you want.\r\n\r\n    TableModelVisitor visitor = new TableModelVisitor(myTableModel);\r\n    visitor.visit(anyOfMyObjects);\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Visitor_pattern","title":"Java Generic programming: Determining if class extends another","body":"<p>I would consider a <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow\">Visitor Pattern</a> for this. The visitor would know how to deal with the TableModel.</p>\n\n<p>Somewhat like this:</p>\n\n<pre><code>public class TableModelVisitor {\n\n   private TableModel model;\n\n   public void visit(Terminal terminal) {\n      terminal.accept(this);\n   }\n   public void visit(Runway runway) {\n      runway.accept(this);\n   }\n   public void visit(Worker worker) {\n      worker.accept(this);\n   }\n\n   //your methods to treat the model\n}\n</code></pre>\n\n<p>Then you can make every node deal with the visitor and ask it to do something like populating the model:</p>\n\n<pre><code>public class Worker {\n   public void accept(TableModelVisitor tableModelVisitor) {\n      //and here you know everything about your worker and its fields\n      //and have access to your visitor table model to configure it.\n      tableModelVistor.addField(this.getMyField1());\n      tableModelVistor.addField(this.getMyField2());\n   }\n}\n</code></pre>\n\n<p>At the end, all you have to do is to create a TableModelVisitor and ask it to populate any model you want.</p>\n\n<pre><code>TableModelVisitor visitor = new TableModelVisitor(myTableModel);\nvisitor.visit(anyOfMyObjects);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3176134,"reputation":194,"user_id":2683961,"display_name":"talki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662655137,"creation_date":1379426320,"answer_id":18851954,"question_id":18319656,"body_markdown":"I ended up changing the GenericTableModel to receive a collection and an array of Strings which would include the fields I wanted for my object.\r\nThis way I kept it Generic still and get the best result for my project.\r\n","title":"Java Generic programming: Determining if class extends another","body":"<p>I ended up changing the GenericTableModel to receive a collection and an array of Strings which would include the fields I wanted for my object.\nThis way I kept it Generic still and get the best result for my project.</p>\n"}],"owner":{"account_id":3176134,"reputation":194,"user_id":2683961,"display_name":"talki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18851954,"answer_count":4,"score":0,"last_activity_date":1662655137,"creation_date":1376933455,"question_id":18319656,"body_markdown":"I&#39;ve a few object (Terminal, Runway, Gate, Airline, workers etc...) that I need to show in a JTable.\r\nI&#39;m trying to build a GenericTableModel (To use with the JTable) that will work for every collection.\r\nThing is some of those objects have data structures in it and I don&#39;t want to show those structures.\r\nSo I&#39;m getting column names by getting the first object from the collection and asking for its declared fields which aren&#39;t assignable from AbstractMap or Collection classes.\r\nThis seems to work for me, I get only the fields I need so far.\r\nProblem start when I try to show the workers. I have a W_Worker abstract class with most of the fields for the worker, and I&#39;ve different workers such as W_Manager, W_FuelWorker etc...\r\nEach of the sub.classes have only 1 or 2 fields, and when I put them in a table using my GenericTableModel I only get the fields from the specific worker without the fields from W_Worker.\r\n\r\nHow can I determine in the beginning of the method, if the class extends another class and making it get those fields first?\r\n\r\nI&#39;ll provide code if this won&#39;t be enough to understand.\r\nThanks in advance,\r\nTal\r\n\r\n**Edit: Code added.**\r\n\r\n    public String[] getColumnName(Collection&lt;T&gt; collection){\r\n         Field fields[] = null;\r\n         String fieldsNames[];\r\n         ArrayList&lt;String&gt; desiredFields = new ArrayList&lt;&gt;();\r\n         \r\n         for(Object o : collection){\r\n            fields = o.getClass().getDeclaredFields();\r\n            if (o instanceof W_Worker){\r\n                Field[] superFields = o.getClass().getSuperclass().getDeclaredFields();\r\n                Field[] result = new Field[superFields.length + fields.length];\r\n                System.arraycopy(superFields, 0, result, 0, superFields.length);\r\n                System.arraycopy(fields, 0, result, superFields.length, fields.length);\r\n                fields = result;\r\n            }\r\n            break;\r\n         }\r\n         fieldsNames = new String[fields.length];\r\n         for(int i = 0; i&lt;fields.length ;i++){\r\n             if (!Collection.class.isAssignableFrom(fields[i].getType()) &amp;&amp; !AbstractMap.class.isAssignableFrom(fields[i].getType())){\r\n                fieldsNames[i] = fields[i].getName();\r\n             }\r\n         }\r\n         for(String field : fieldsNames){\r\n             if (field != null){\r\n                 desiredFields.add(field);\r\n             }\r\n         }\r\n         String newFields[] = new String[desiredFields.size()];\r\n         return desiredFields.toArray(newFields);\r\n     }\r\nAs you can see I&#39;m currently using instanceof, but this isn&#39;t generic enough as it will only work with W_Worker.","title":"Java Generic programming: Determining if class extends another","body":"<p>I've a few object (Terminal, Runway, Gate, Airline, workers etc...) that I need to show in a JTable.\nI'm trying to build a GenericTableModel (To use with the JTable) that will work for every collection.\nThing is some of those objects have data structures in it and I don't want to show those structures.\nSo I'm getting column names by getting the first object from the collection and asking for its declared fields which aren't assignable from AbstractMap or Collection classes.\nThis seems to work for me, I get only the fields I need so far.\nProblem start when I try to show the workers. I have a W_Worker abstract class with most of the fields for the worker, and I've different workers such as W_Manager, W_FuelWorker etc...\nEach of the sub.classes have only 1 or 2 fields, and when I put them in a table using my GenericTableModel I only get the fields from the specific worker without the fields from W_Worker.</p>\n\n<p>How can I determine in the beginning of the method, if the class extends another class and making it get those fields first?</p>\n\n<p>I'll provide code if this won't be enough to understand.\nThanks in advance,\nTal</p>\n\n<p><strong>Edit: Code added.</strong></p>\n\n<pre><code>public String[] getColumnName(Collection&lt;T&gt; collection){\n     Field fields[] = null;\n     String fieldsNames[];\n     ArrayList&lt;String&gt; desiredFields = new ArrayList&lt;&gt;();\n\n     for(Object o : collection){\n        fields = o.getClass().getDeclaredFields();\n        if (o instanceof W_Worker){\n            Field[] superFields = o.getClass().getSuperclass().getDeclaredFields();\n            Field[] result = new Field[superFields.length + fields.length];\n            System.arraycopy(superFields, 0, result, 0, superFields.length);\n            System.arraycopy(fields, 0, result, superFields.length, fields.length);\n            fields = result;\n        }\n        break;\n     }\n     fieldsNames = new String[fields.length];\n     for(int i = 0; i&lt;fields.length ;i++){\n         if (!Collection.class.isAssignableFrom(fields[i].getType()) &amp;&amp; !AbstractMap.class.isAssignableFrom(fields[i].getType())){\n            fieldsNames[i] = fields[i].getName();\n         }\n     }\n     for(String field : fieldsNames){\n         if (field != null){\n             desiredFields.add(field);\n         }\n     }\n     String newFields[] = new String[desiredFields.size()];\n     return desiredFields.toArray(newFields);\n }\n</code></pre>\n\n<p>As you can see I'm currently using instanceof, but this isn't generic enough as it will only work with W_Worker.</p>\n"},{"tags":["java","spring-boot","ssl","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":12198112,"reputation":55,"user_id":8903088,"display_name":"Sudip Subedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662655065,"creation_date":1662655065,"answer_id":73652459,"question_id":73548214,"body_markdown":"I wasnt able to connect to schema registry using mTLS. So, to avoid this, I changed the schema deserializers in the JDBCConnector so that I wont have to worry about Schema Registry at all.","title":"Kafka Client Consumer Config for Schema Registry and Broker","body":"<p>I wasnt able to connect to schema registry using mTLS. So, to avoid this, I changed the schema deserializers in the JDBCConnector so that I wont have to worry about Schema Registry at all.</p>\n"}],"owner":{"account_id":12198112,"reputation":55,"user_id":8903088,"display_name":"Sudip Subedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662655065,"creation_date":1661891936,"question_id":73548214,"body_markdown":"Following configs are in the Server Side: \r\n```\r\nFor broker: listener.security.protocol.map=EXTERNAL:SASL_SSL \r\nkafka.rest.client.security.protocol=SASL_PLAINTEXT\r\n\r\nFor Schemaregistry:\r\nssl.client.auth=true\r\nssl.enabled.protocols=TLSv1.2\r\nssl.key.password=${file:/mnt/sslcerts/jksPassword.txt:jksPassword}\r\nssl.keystore.location=/mnt/sslcerts/keystore.jks\r\nssl.keystore.password=${file:/mnt/sslcerts/jksPassword.txt:jksPassword}\r\nssl.truststore.location=/mnt/sslcerts/truststore.jks\r\nssl.truststore.password=${file:/mnt/sslcerts/jksPassword.txt:jksPassword}\r\n\r\n```\r\nBroker is SASL protected and Schema Registry is mTLS protected.\r\n\r\nI have following consumer config in my Spring Boot app. \r\n```\r\nprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KafkaJsonSchemaDeserializer.class);\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaJsonSchemaDeserializer.class);\r\n\r\nprops.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\nprops.put(SslConfigs.SSL_ENABLED_PROTOCOLS_CONFIG, &quot;TLSv1.2&quot;);\r\n\r\nprops.put(SslConfigs.SSL_TRUSTSTORE_TYPE_CONFIG, &quot;JKS&quot;);\r\nprops.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, &quot;./certs/truststore.jks&quot;);\r\nprops.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;213fsfsK&quot;);\r\n\r\nprops.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG, &quot;JKS&quot;);\r\nprops.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, &quot;./certs/keystore.jks&quot;);\r\nprops.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;213fsfsK&quot;)\r\n\r\nprops.put(SslConfigs.SSL_ENDPOINT_IDENTIFICATION_ALGORITHM_CONFIG, sslEndpointIdentificationAlgorithm);\r\n\r\nprops.put(SaslConfigs.SASL_MECHANISM, saslMechanism);\r\nprops.put(SaslConfigs.SASL_JAAS_CONFIG, saslJaasConfig);\r\nprops.put(SaslConfigs.SASL_JAAS_CONFIG,\r\n\t\t\tString.format(&quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), sasl_ssl_username, sasl_ssl_password));\r\nprops.put(&quot;schema.registry.url&quot;, &quot;https://schemaregistry.confluent.apps:443&quot;);\r\n```\r\nI am trying to configure both the security protocols in the consumer. I am getting a bad certificate error and not able to consume the messages. I just wanted to make sure I am using the right configurations so that I can be certain that the error is because of certificates. \r\n\r\n\r\n\r\n\r\n","title":"Kafka Client Consumer Config for Schema Registry and Broker","body":"<p>Following configs are in the Server Side:</p>\n<pre><code>For broker: listener.security.protocol.map=EXTERNAL:SASL_SSL \nkafka.rest.client.security.protocol=SASL_PLAINTEXT\n\nFor Schemaregistry:\nssl.client.auth=true\nssl.enabled.protocols=TLSv1.2\nssl.key.password=${file:/mnt/sslcerts/jksPassword.txt:jksPassword}\nssl.keystore.location=/mnt/sslcerts/keystore.jks\nssl.keystore.password=${file:/mnt/sslcerts/jksPassword.txt:jksPassword}\nssl.truststore.location=/mnt/sslcerts/truststore.jks\nssl.truststore.password=${file:/mnt/sslcerts/jksPassword.txt:jksPassword}\n\n</code></pre>\n<p>Broker is SASL protected and Schema Registry is mTLS protected.</p>\n<p>I have following consumer config in my Spring Boot app.</p>\n<pre><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, KafkaJsonSchemaDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaJsonSchemaDeserializer.class);\n\nprops.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\nprops.put(SslConfigs.SSL_ENABLED_PROTOCOLS_CONFIG, &quot;TLSv1.2&quot;);\n\nprops.put(SslConfigs.SSL_TRUSTSTORE_TYPE_CONFIG, &quot;JKS&quot;);\nprops.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, &quot;./certs/truststore.jks&quot;);\nprops.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;213fsfsK&quot;);\n\nprops.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG, &quot;JKS&quot;);\nprops.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, &quot;./certs/keystore.jks&quot;);\nprops.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;213fsfsK&quot;)\n\nprops.put(SslConfigs.SSL_ENDPOINT_IDENTIFICATION_ALGORITHM_CONFIG, sslEndpointIdentificationAlgorithm);\n\nprops.put(SaslConfigs.SASL_MECHANISM, saslMechanism);\nprops.put(SaslConfigs.SASL_JAAS_CONFIG, saslJaasConfig);\nprops.put(SaslConfigs.SASL_JAAS_CONFIG,\n            String.format(&quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), sasl_ssl_username, sasl_ssl_password));\nprops.put(&quot;schema.registry.url&quot;, &quot;https://schemaregistry.confluent.apps:443&quot;);\n</code></pre>\n<p>I am trying to configure both the security protocols in the consumer. I am getting a bad certificate error and not able to consume the messages. I just wanted to make sure I am using the right configurations so that I can be certain that the error is because of certificates.</p>\n"},{"tags":["java","java-8","stream","java-stream"],"comments":[{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1662403733,"post_id":73613533,"comment_id":129993530,"body_markdown":"@abdoSalm, No. I&#39;ve already posted the answer together with the question","body":"@abdoSalm, No. I&#39;ve already posted the answer together with the question"}],"answers":[{"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1662403230,"creation_date":1662403230,"answer_id":73613534,"question_id":73613533,"body_markdown":"```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Train&gt; trains = Arrays.asList(\r\n                new Train(&quot;A&quot;, &quot;B&quot;, 10.0),\r\n                new Train(&quot;C&quot;, &quot;D&quot;, 20.0),\r\n                new Train(&quot;E&quot;, &quot;F&quot;, 30.0)\r\n        );\r\n        Map&lt;String, List&lt;?&gt;&gt; map = Arrays.stream(Train.class.getFields())\r\n                .collect(Collectors.toMap(Field::getName, f -&gt; trains.stream()\r\n                        .map(x -&gt; {\r\n                            try {\r\n                                return f.get(x);\r\n                            } catch (IllegalAccessException e) {\r\n                                throw new IllegalStateException(e);\r\n                            }\r\n                        }).collect(Collectors.toList())));\r\n        System.out.println(map.get(&quot;source&quot;));          // [A, C, E]\r\n        System.out.println(map.get(&quot;destination&quot;));     // [B, D, F]\r\n    }\r\n}\r\n```","title":"Convert in java List&lt;POJO&gt; to Map&lt;String, List&lt;Object&gt;&gt; where the key is a field name and value is a list of values by field","body":"<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        List&lt;Train&gt; trains = Arrays.asList(\n                new Train(&quot;A&quot;, &quot;B&quot;, 10.0),\n                new Train(&quot;C&quot;, &quot;D&quot;, 20.0),\n                new Train(&quot;E&quot;, &quot;F&quot;, 30.0)\n        );\n        Map&lt;String, List&lt;?&gt;&gt; map = Arrays.stream(Train.class.getFields())\n                .collect(Collectors.toMap(Field::getName, f -&gt; trains.stream()\n                        .map(x -&gt; {\n                            try {\n                                return f.get(x);\n                            } catch (IllegalAccessException e) {\n                                throw new IllegalStateException(e);\n                            }\n                        }).collect(Collectors.toList())));\n        System.out.println(map.get(&quot;source&quot;));          // [A, C, E]\n        System.out.println(map.get(&quot;destination&quot;));     // [B, D, F]\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73613534,"answer_count":1,"score":-2,"last_activity_date":1662654933,"creation_date":1662403230,"question_id":73613533,"body_markdown":"Convert in java `List&lt;POJO&gt;` to `Map&lt;String, List&lt;Object&gt;&gt;` where the key is a field name and value is a list of values by field.\r\n```java\r\nclass Train {\r\n    public final String source;\r\n    public final String destination;\r\n    public final double cost;\r\n\r\n    public Train(String source, String destination, double cost) {\r\n        this.source = source;\r\n        this.destination = destination;\r\n        this.cost = cost;\r\n    }\r\n}\r\n```\r\nFor example:\r\n```java\r\nList&lt;Train&gt; trains = Arrays.asList(\r\n    new Train(&quot;A&quot;, &quot;B&quot;, 10.0),\r\n    new Train(&quot;C&quot;, &quot;D&quot;, 20.0),\r\n    new Train(&quot;E&quot;, &quot;F&quot;, 30.0)\r\n);\r\n```\r\nIt should be converted to:\r\n```java\r\nMap&lt;String, List&lt;Object&gt;&gt; = ...  // {source=[A, C, E], destination=[B, D, F], cost=[10.0, 20.0, 30.0]}\r\n```\r\n\r\n----------\r\n\r\nUPD: Not a duplicate of [#20363719][1] since it doesn&#39;t tell exactly how to transform data but only implies using `Collectors.toMap`\r\n\r\n  [1]: https://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v","title":"Convert in java List&lt;POJO&gt; to Map&lt;String, List&lt;Object&gt;&gt; where the key is a field name and value is a list of values by field","body":"<p>Convert in java <code>List&lt;POJO&gt;</code> to <code>Map&lt;String, List&lt;Object&gt;&gt;</code> where the key is a field name and value is a list of values by field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Train {\n    public final String source;\n    public final String destination;\n    public final double cost;\n\n    public Train(String source, String destination, double cost) {\n        this.source = source;\n        this.destination = destination;\n        this.cost = cost;\n    }\n}\n</code></pre>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Train&gt; trains = Arrays.asList(\n    new Train(&quot;A&quot;, &quot;B&quot;, 10.0),\n    new Train(&quot;C&quot;, &quot;D&quot;, 20.0),\n    new Train(&quot;E&quot;, &quot;F&quot;, 30.0)\n);\n</code></pre>\n<p>It should be converted to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Object&gt;&gt; = ...  // {source=[A, C, E], destination=[B, D, F], cost=[10.0, 20.0, 30.0]}\n</code></pre>\n<hr />\n<p>UPD: Not a duplicate of <a href=\"https://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v\">#20363719</a> since it doesn't tell exactly how to transform data but only implies using <code>Collectors.toMap</code></p>\n"},{"tags":["java","spring","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1662651197,"post_id":73651489,"comment_id":130060131,"body_markdown":"What java version is mvn using https://mkyong.com/maven/maven-error-invalid-target-release-17/","body":"What java version is mvn using <a href=\"https://mkyong.com/maven/maven-error-invalid-target-release-17/\" rel=\"nofollow noreferrer\">mkyong.com/maven/maven-error-invalid-target-release-17</a>"}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662654755,"creation_date":1662654755,"answer_id":73652408,"question_id":73651489,"body_markdown":"Try to execute the following command to check which Java version is used by default on your computer:\r\n```console\r\njava -version\r\n```\r\nIf it differs from the 17 version, which you&#39;re trying to use in your project, you should update your JAVA_HOME variable.\r\n\r\nYou can use this command to list all available Java versions, installed on your computer:\r\n```console\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nExample output from my machine:\r\n```console\r\n    17.0.2 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 17.0.2&quot; /Users/golovnya/Library/Java/JavaVirtualMachines/openjdk-17.0.2/Contents/Home\r\n    11.0.14.1 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/golovnya/Library/Java/JavaVirtualMachines/corretto-11.0.14.1/Contents/Home\r\n````\r\n\r\nSuch command may be used for setting a specific Java version as the default one (17 in this example):\r\n```console\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v 17)\r\n```","title":"Error with &quot;mvn spring-boot:run&quot;, [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile","body":"<p>Try to execute the following command to check which Java version is used by default on your computer:</p>\n<pre><code>java -version\n</code></pre>\n<p>If it differs from the 17 version, which you're trying to use in your project, you should update your JAVA_HOME variable.</p>\n<p>You can use this command to list all available Java versions, installed on your computer:</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>Example output from my machine:</p>\n<pre><code>    17.0.2 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 17.0.2&quot; /Users/golovnya/Library/Java/JavaVirtualMachines/openjdk-17.0.2/Contents/Home\n    11.0.14.1 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/golovnya/Library/Java/JavaVirtualMachines/corretto-11.0.14.1/Contents/Home\n</code></pre>\n<p>Such command may be used for setting a specific Java version as the default one (17 in this example):</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 17)\n</code></pre>\n"}],"owner":{"account_id":26244697,"reputation":1,"user_id":19918399,"display_name":"juanCapua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662654755,"creation_date":1662650399,"question_id":73651489,"body_markdown":"I&#39;m trying to use the command mvn spring-boot:run or when i try to use the command mvn clen install. But it&#39;s giving me this kind of error:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project demo: Fatal error compiling: invalid target release: 17 -&gt; [Help 1]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nThis is my pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;qualabs&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nif i run the project using the main method in the application it&#39;s runnig perfectly.\r\nI don&#39;t know if this a problem of dependencies\r\n\r\nThanks for the help guys","title":"Error with &quot;mvn spring-boot:run&quot;, [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile","body":"<p>I'm trying to use the command mvn spring-boot:run or when i try to use the command mvn clen install. But it's giving me this kind of error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project demo: Fatal error compiling: invalid target release: 17 -&gt; [Help 1]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>This is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;qualabs&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>if i run the project using the main method in the application it's runnig perfectly.\nI don't know if this a problem of dependencies</p>\n<p>Thanks for the help guys</p>\n"},{"tags":["java","kotlin","data-structures","tree"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662648568,"post_id":73650861,"comment_id":130059045,"body_markdown":"Can you share the code you have so far and also the code describing the structure of the tree?","body":"Can you share the code you have so far and also the code describing the structure of the tree?"},{"owner":{"account_id":25373331,"reputation":110,"user_id":19186780,"display_name":"CodeGorilla"},"score":0,"creation_date":1662650759,"post_id":73650861,"comment_id":130059959,"body_markdown":"@AlexanderIvanchenko I have updated the question with a solution, thank you.","body":"@AlexanderIvanchenko I have updated the question with a solution, thank you."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662648623,"creation_date":1662648418,"answer_id":73651023,"question_id":73650861,"body_markdown":"Simple. If the node only exists once in the tree and is reachable from the root, of course.\r\n\r\nUse a Stack as node path stack:\r\n1) **Starting method**: create stack, call *recursive check method*, params: (root node, node path stack, node to find)\r\n2) **Recursive Check method**: push param node to stack, check param node, iterate over all children + for each child call *recursive check method*. If child was found as param node or in the subcalls, immediately return true (and return)\r\n4) each time you leave the *recursive check method* (at the end, if you have NOT found the node), pop the current element off the stack.\r\n5) if in the *starting method* the *Recursive Check method* has returned true, your node path will lie on the stack","title":"Finding Path to a Node - Tree with multiple children","body":"<p>Simple. If the node only exists once in the tree and is reachable from the root, of course.</p>\n<p>Use a Stack as node path stack:</p>\n<ol>\n<li><strong>Starting method</strong>: create stack, call <em>recursive check method</em>, params: (root node, node path stack, node to find)</li>\n<li><strong>Recursive Check method</strong>: push param node to stack, check param node, iterate over all children + for each child call <em>recursive check method</em>. If child was found as param node or in the subcalls, immediately return true (and return)</li>\n<li>each time you leave the <em>recursive check method</em> (at the end, if you have NOT found the node), pop the current element off the stack.</li>\n<li>if in the <em>starting method</em> the <em>Recursive Check method</em> has returned true, your node path will lie on the stack</li>\n</ol>\n"}],"owner":{"account_id":25373331,"reputation":110,"user_id":19186780,"display_name":"CodeGorilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73651023,"answer_count":1,"score":1,"last_activity_date":1662654356,"creation_date":1662647729,"question_id":73650861,"body_markdown":"I have been scratching my head to find a solution to this problem. I am not very good with data structures and it seems that my brain melts a little whenever I have to do anything to do with trees.\r\n\r\nSuppose we have a Node():\r\n\r\n    Node(name: String, children: List&lt;Node&gt;?)\r\n\r\nAnd we have a tree made up of these nodes:\r\n\r\n    var node6 = Node(&quot;6&quot;, null)\r\n    var node5 = Node(&quot;5&quot;, null)\r\n    var node4 = Node(&quot;4&quot;, null)\r\n    var node3 = Node(&quot;3&quot;, listOf(node5, node6))\r\n    var node2 = Node(&quot;2&quot;, null)\r\n    var node1 = Node(&quot;1&quot;, listOf(node2, node3, node4))\r\n\r\nWhat approach could I take to find the path (stored) to node6 while only having the root available?\r\n\r\nThank you kindly for any advice you could offer!\r\n\r\n----------\r\n\r\nSolution as per [JayC667][1]&#39;s guidance:\r\n\r\n    fun recursiveCheck(\r\n        nodeA: Node,\r\n        nodePath: Stack&lt;Node&gt;,\r\n        nodeToFind: String\r\n    ) : Boolean {\r\n        // Push param node to stack\r\n        nodePath.push(nodeA)\r\n    \r\n        // Check param node\r\n        if(nodeA.name == nodeToFind) {\r\n            return true\r\n        }\r\n    \r\n        if(nodeA.children != null) {\r\n            // Iterate over all children using recursive check\r\n            for(child in nodeA.children!!) {\r\n                // child found as param node\r\n                if(recursiveCheck(child, nodePath, nodeToFind)) return true\r\n            }\r\n        }\r\n    \r\n        // Did not find node, popping off stack\r\n        nodePath.pop()\r\n        return false\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1932011/jayc667","title":"Finding Path to a Node - Tree with multiple children","body":"<p>I have been scratching my head to find a solution to this problem. I am not very good with data structures and it seems that my brain melts a little whenever I have to do anything to do with trees.</p>\n<p>Suppose we have a Node():</p>\n<pre><code>Node(name: String, children: List&lt;Node&gt;?)\n</code></pre>\n<p>And we have a tree made up of these nodes:</p>\n<pre><code>var node6 = Node(&quot;6&quot;, null)\nvar node5 = Node(&quot;5&quot;, null)\nvar node4 = Node(&quot;4&quot;, null)\nvar node3 = Node(&quot;3&quot;, listOf(node5, node6))\nvar node2 = Node(&quot;2&quot;, null)\nvar node1 = Node(&quot;1&quot;, listOf(node2, node3, node4))\n</code></pre>\n<p>What approach could I take to find the path (stored) to node6 while only having the root available?</p>\n<p>Thank you kindly for any advice you could offer!</p>\n<hr />\n<p>Solution as per <a href=\"https://stackoverflow.com/users/1932011/jayc667\">JayC667</a>'s guidance:</p>\n<pre><code>fun recursiveCheck(\n    nodeA: Node,\n    nodePath: Stack&lt;Node&gt;,\n    nodeToFind: String\n) : Boolean {\n    // Push param node to stack\n    nodePath.push(nodeA)\n\n    // Check param node\n    if(nodeA.name == nodeToFind) {\n        return true\n    }\n\n    if(nodeA.children != null) {\n        // Iterate over all children using recursive check\n        for(child in nodeA.children!!) {\n            // child found as param node\n            if(recursiveCheck(child, nodePath, nodeToFind)) return true\n        }\n    }\n\n    // Did not find node, popping off stack\n    nodePath.pop()\n    return false\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":14745704,"reputation":825,"user_id":10649115,"display_name":"Sergio Clemente"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662654245,"creation_date":1662646518,"answer_id":73650560,"question_id":73650243,"body_markdown":"Try this...\r\n\r\nIn MainActivity.java (in my case .kt)\r\n\r\n    class MainActivity : FlutterActivity()  {\r\n        private val CHANNEL = &quot;nativeChannel&quot;\r\n    \r\n        override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n            GeneratedPluginRegistrant.registerWith(flutterEngine)\r\n    \r\n            MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL)\r\n                    .setMethodCallHandler { call: MethodCall, result -&gt;\r\n    \r\n                        when (call.method) {                     \r\n                            &quot;setToast&quot; -&gt; {\r\n                                try{\r\n                                   val myText = call.argument&lt;String&gt;(&quot;myText&quot;)!! \r\n                                   setText(myText) \r\n                                } catch (e: Exception){}\r\n                                result.success(true)\r\n                            }\r\n                           \r\n                      \r\n                        }\r\n    \r\n                    }\r\n        }\r\n    \r\n        private fun setText(myText: String) {\r\n               Toast.makeText(this, myText, Toast.LENGTH_SHORT).show()\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nIn flutter :\r\n\r\n    const platformMethodChannel = MethodChannel(&#39;nativeChannel&#39;);\r\n    await platformMethodChannel.invokeMethod(&#39;setToast&#39;, {\r\n              &#39;myText&#39;:&#39;This text will show in toast by native channel&#39;,\r\n            });\r\n\r\nThe explanation :\r\n\r\nIn flutter I create the methodChannel and call the method setToast. \r\nFor this method I pass the property myText. \r\n\r\nIn Android MainActivity I create the native channel and write the method for call natives method. \r\n\r\nInside de method configureFlutterEngine I will call all natives methods. \r\nSo, when the flutter send &#39;setToast&#39; the method recieve the argument myText.\r\nThis argument will send for method setToast.\r\n\r\nThis is the simplest approche that I Know and that I use.\r\n\r\n\r\nEdit... \r\nAdd Java Code :\r\n\r\n    MainActivity.java \r\n    \r\n    public class MainActivity extends FlutterActivity {\r\n      private static final String CHANNEL = &quot;nativeChannel&quot;;\r\n    \r\n      @Override\r\n      public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n      super.configureFlutterEngine(flutterEngine);\r\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n            .setMethodCallHandler(\r\n              (call, result) -&gt; {\r\n                  if (call.method.equals(&quot;setToast&quot;)) {\r\n                     String myText = call.argument(&quot;myText&quot;);\r\n                     setText(myText); \r\n                  }\r\n              }\r\n            );\r\n    \r\n    \r\n       public final setText(String myText) {\r\n             Toast.makeText(this, myText).show();\r\n    \r\n       }\r\n    }","title":"How To Open Java Android Activity in flutter","body":"<p>Try this...</p>\n<p>In MainActivity.java (in my case .kt)</p>\n<pre><code>class MainActivity : FlutterActivity()  {\n    private val CHANNEL = &quot;nativeChannel&quot;\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        GeneratedPluginRegistrant.registerWith(flutterEngine)\n\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL)\n                .setMethodCallHandler { call: MethodCall, result -&gt;\n\n                    when (call.method) {                     \n                        &quot;setToast&quot; -&gt; {\n                            try{\n                               val myText = call.argument&lt;String&gt;(&quot;myText&quot;)!! \n                               setText(myText) \n                            } catch (e: Exception){}\n                            result.success(true)\n                        }\n                       \n                  \n                    }\n\n                }\n    }\n\n    private fun setText(myText: String) {\n           Toast.makeText(this, myText, Toast.LENGTH_SHORT).show()\n    }\n\n\n}\n</code></pre>\n<p>In flutter :</p>\n<pre><code>const platformMethodChannel = MethodChannel('nativeChannel');\nawait platformMethodChannel.invokeMethod('setToast', {\n          'myText':'This text will show in toast by native channel',\n        });\n</code></pre>\n<p>The explanation :</p>\n<p>In flutter I create the methodChannel and call the method setToast.\nFor this method I pass the property myText.</p>\n<p>In Android MainActivity I create the native channel and write the method for call natives method.</p>\n<p>Inside de method configureFlutterEngine I will call all natives methods.\nSo, when the flutter send 'setToast' the method recieve the argument myText.\nThis argument will send for method setToast.</p>\n<p>This is the simplest approche that I Know and that I use.</p>\n<p>Edit...\nAdd Java Code :</p>\n<pre><code>MainActivity.java \n\npublic class MainActivity extends FlutterActivity {\n  private static final String CHANNEL = &quot;nativeChannel&quot;;\n\n  @Override\n  public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n  super.configureFlutterEngine(flutterEngine);\n    new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\n        .setMethodCallHandler(\n          (call, result) -&gt; {\n              if (call.method.equals(&quot;setToast&quot;)) {\n                 String myText = call.argument(&quot;myText&quot;);\n                 setText(myText); \n              }\n          }\n        );\n\n\n   public final setText(String myText) {\n         Toast.makeText(this, myText).show();\n\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":24655386,"reputation":27,"user_id":18552111,"display_name":"Serenity Emmanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662654245,"creation_date":1662645264,"question_id":73650243,"body_markdown":"How can I open an android activity from a flutter widget here is what i currently have in the flutter widget\r\n```\r\nstatic const myChannel = MethodChannel(&#39;get_image&#39;);\r\nElevatedButton(onPressed: () {\r\nmyChannel.invokeMethod(&#39;get_image&#39;);},\r\nchild: const Text(&#39;Take Picture&#39;),\r\n```\r\nAnd in my mainActivity.java\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport io.flutter.embedding.android.FlutterActivity;\r\n\r\npublic class MainActivity extends FlutterActivity {}\r\n```\r\nI don,t have much idea on how to move from here most of the answers i have seen in are written in kotlin including the documemtation in flutter website both how can i use this in Java ","title":"How To Open Java Android Activity in flutter","body":"<p>How can I open an android activity from a flutter widget here is what i currently have in the flutter widget</p>\n<pre><code>static const myChannel = MethodChannel('get_image');\nElevatedButton(onPressed: () {\nmyChannel.invokeMethod('get_image');},\nchild: const Text('Take Picture'),\n</code></pre>\n<p>And in my mainActivity.java</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport io.flutter.embedding.android.FlutterActivity;\n\npublic class MainActivity extends FlutterActivity {}\n</code></pre>\n<p>I don,t have much idea on how to move from here most of the answers i have seen in are written in kotlin including the documemtation in flutter website both how can i use this in Java</p>\n"},{"tags":["java","spring-boot","oauth-2.0","azure-active-directory","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":4998658,"reputation":2402,"user_id":4018304,"accept_rate":75,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605008122,"creation_date":1605008122,"answer_id":64768169,"question_id":64713348,"body_markdown":"The issue you are  facing is due to the configuration in **application.yaml** file. Please check everything is correct.\r\n\r\nSince you are implementing oauth for Azure AD the configuration must look like below,\r\n\r\n    # Specifies your Active Directory ID:\r\n    azure.activedirectory.tenant-id=22222222-2222-2222-2222-222222222222\r\n    \r\n    # Specifies your App Registration&#39;s Application ID:\r\n    spring.security.oauth2.client.registration.azure.client-id=11111111-1111-1111-1111-1111111111111111\r\n    \r\n    # Specifies your App Registration&#39;s secret key:\r\n    spring.security.oauth2.client.registration.azure.client-secret=AbCdEfGhIjKlMnOpQrStUvWxYz==\r\n    \r\n    # Specifies the list of Active Directory groups to use for authorization:\r\n    azure.activedirectory.user-group.allowed-groups=Users\r\n\r\nFor complete step-by-step guide please refer [here][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory","title":"ClientRegistrationRepository Bean is not found","body":"<p>The issue you are  facing is due to the configuration in <strong>application.yaml</strong> file. Please check everything is correct.</p>\n<p>Since you are implementing oauth for Azure AD the configuration must look like below,</p>\n<pre><code># Specifies your Active Directory ID:\nazure.activedirectory.tenant-id=22222222-2222-2222-2222-222222222222\n\n# Specifies your App Registration's Application ID:\nspring.security.oauth2.client.registration.azure.client-id=11111111-1111-1111-1111-1111111111111111\n\n# Specifies your App Registration's secret key:\nspring.security.oauth2.client.registration.azure.client-secret=AbCdEfGhIjKlMnOpQrStUvWxYz==\n\n# Specifies the list of Active Directory groups to use for authorization:\nazure.activedirectory.user-group.allowed-groups=Users\n</code></pre>\n<p>For complete step-by-step guide please refer <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":21109207,"reputation":11,"user_id":15517563,"display_name":"Patrick Andrew Jansen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617139356,"creation_date":1617139356,"answer_id":66878649,"question_id":64713348,"body_markdown":"Define the following properties:\r\n\r\n 1. azure.activedirectory.client-id=\r\n    \r\n 2. azure.activedirectory.client-secret=\r\n    \r\n 3. azure.activedirectory.tenant-id=\r\n   \r\n 4. azure.activedirectory.authorization-clients.graph.scopes=https://graph.microsoft.com/Analytics.Read,\r\n    email\r\n\r\n","title":"ClientRegistrationRepository Bean is not found","body":"<p>Define the following properties:</p>\n<ol>\n<li><p>azure.activedirectory.client-id=</p>\n</li>\n<li><p>azure.activedirectory.client-secret=</p>\n</li>\n<li><p>azure.activedirectory.tenant-id=</p>\n</li>\n<li><p>azure.activedirectory.authorization-clients.graph.scopes=https://graph.microsoft.com/Analytics.Read,\nemail</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":344176,"reputation":2206,"user_id":676344,"accept_rate":43,"display_name":"nucatus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624367924,"creation_date":1624367924,"answer_id":68084298,"question_id":64713348,"body_markdown":"The `ClientRegistrationRepository` refers to the configuration of the OAuth client in a blocking environment, not reactive. In case you build your application to be fully reactive, consider using the `ReactiveClientRegistrationRepository` implementation. Spring security project has an [example project](https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/oauth2/webclient/src/main/java/example/WebClientConfiguration.java) of how to use that one. \r\n\r\nHowever, you could still mix the reactive and blocking approaches in the same application, although not terribly recommended, there is still a use case for that. For this, you only need to add the `spring-boot-starter-web` dependency, so that the blocking servlet implementation is added to the classpath. You could watch [this talk](https://www.youtube.com/watch?v=6a1F4PWOYiM) where this approach is used.","title":"ClientRegistrationRepository Bean is not found","body":"<p>The <code>ClientRegistrationRepository</code> refers to the configuration of the OAuth client in a blocking environment, not reactive. In case you build your application to be fully reactive, consider using the <code>ReactiveClientRegistrationRepository</code> implementation. Spring security project has an <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/oauth2/webclient/src/main/java/example/WebClientConfiguration.java\" rel=\"nofollow noreferrer\">example project</a> of how to use that one.</p>\n<p>However, you could still mix the reactive and blocking approaches in the same application, although not terribly recommended, there is still a use case for that. For this, you only need to add the <code>spring-boot-starter-web</code> dependency, so that the blocking servlet implementation is added to the classpath. You could watch <a href=\"https://www.youtube.com/watch?v=6a1F4PWOYiM\" rel=\"nofollow noreferrer\">this talk</a> where this approach is used.</p>\n"},{"tags":[],"owner":{"account_id":15632276,"reputation":117,"user_id":11569193,"display_name":"Takouo Gnegneri Franck Kris-ke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662654239,"creation_date":1662654239,"answer_id":73652302,"question_id":64713348,"body_markdown":"\r\nIndentation issue, \r\n\r\n    spring:\r\n     security:\r\n\r\n\r\n\r\nref : [click here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61128936/bean-of-type-org-springframework-security-oauth2-client-registration-clientregi","title":"ClientRegistrationRepository Bean is not found","body":"<p>Indentation issue,</p>\n<pre><code>spring:\n security:\n</code></pre>\n<p>ref : <a href=\"https://stackoverflow.com/questions/61128936/bean-of-type-org-springframework-security-oauth2-client-registration-clientregi\">click here</a></p>\n"}],"owner":{"account_id":3473429,"reputation":699,"user_id":3664714,"display_name":"the_witch_king_of_angmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14687,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1662654239,"creation_date":1604660385,"question_id":64713348,"body_markdown":"I am trying to configure an OAuth2 client using Spring Boot. I have the following dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I have added these properties to my application.yaml:\r\n``` spring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          azure:\r\n            client-id: ****\r\n            client-secret: ****\r\n            authorization-grant-type: client_credentials\r\n        provider:\r\n          azure:\r\n            authorization-uri: https://login.microsoftonline.com/2fdb7e27-9b62-44f7-a0fe-9836eaa1f161/oauth2/v2.0/authorize\r\n            token-uri: https://login.microsoftonline.com/2fdb7e27-9b62-44f7-a0fe-9836eaa1f161/oauth2/v2.0/token\r\n            jwk-set-uri: https://login.microsoftonline.com/2fdb7e27-9b62-44f7-a0fe-9836eaa1f161/discovery/v2.0/keys\r\n```\r\n\r\nAs I understand it from the Spring documentation, this should be enough to auto-configure a ClientRegistrationRepository (&quot;Spring Boot 2.x auto-configuration binds each of the properties under spring.security.oauth2.client.registration.[registrationId] to an instance of ClientRegistration and then composes each of the ClientRegistration instance(s) within a ClientRegistrationRepository. The auto-configuration also registers the ClientRegistrationRepository as a @Bean in the ApplicationContext so that it is available for dependency-injection, if needed by the application.&quot;.\r\n\r\nI have the following code:\r\n```\r\npackage com.sky.bnc.azurespring\r\n\r\nimport org.springframework.context.annotation.Bean\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager\r\nimport org.springframework.security.oauth2.client.OAuth2AuthorizedClientProviderBuilder\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository\r\nimport org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizedClientManager\r\nimport org.springframework.security.oauth2.client.web.OAuth2AuthorizedClientRepository\r\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServletOAuth2AuthorizedClientExchangeFilterFunction\r\nimport org.springframework.web.reactive.function.client.WebClient\r\n\r\n@Configuration\r\nclass WebConfiguration {\r\n\r\n    @Bean\r\n    fun authorizedClientManager(clientRegistrationRepository: ClientRegistrationRepository, authorizedClientRepository: OAuth2AuthorizedClientRepository): OAuth2AuthorizedClientManager {\r\n        val authorizedClientProvider = OAuth2AuthorizedClientProviderBuilder\r\n                .builder()\r\n                .authorizationCode()\r\n                .refreshToken()\r\n                .clientCredentials()\r\n                .build()\r\n\r\n        val authorizedClientManager = DefaultOAuth2AuthorizedClientManager(clientRegistrationRepository, authorizedClientRepository)\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider)\r\n\r\n        return authorizedClientManager\r\n    }\r\n\r\n    @Bean\r\n    fun webClient(authorizedClientManager: OAuth2AuthorizedClientManager): WebClient {\r\n        val oauth2Client = ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager)\r\n        oauth2Client.setDefaultClientRegistrationId(&quot;azure&quot;)\r\n\r\n        return WebClient\r\n                .builder()\r\n                .apply(oauth2Client.oauth2Configuration())\r\n                .build()\r\n    }\r\n}\r\n```\r\n\r\nBut when I try and run the application I get this error:\r\n```\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method authorizedClientManager in com.sky.bnc.azurespring.WebConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI don&#39;t understand what the problem is, I have followed many examples and it seems like it should just be working.","title":"ClientRegistrationRepository Bean is not found","body":"<p>I am trying to configure an OAuth2 client using Spring Boot. I have the following dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I have added these properties to my application.yaml:</p>\n<pre><code>  security:\n    oauth2:\n      client:\n        registration:\n          azure:\n            client-id: ****\n            client-secret: ****\n            authorization-grant-type: client_credentials\n        provider:\n          azure:\n            authorization-uri: https://login.microsoftonline.com/2fdb7e27-9b62-44f7-a0fe-9836eaa1f161/oauth2/v2.0/authorize\n            token-uri: https://login.microsoftonline.com/2fdb7e27-9b62-44f7-a0fe-9836eaa1f161/oauth2/v2.0/token\n            jwk-set-uri: https://login.microsoftonline.com/2fdb7e27-9b62-44f7-a0fe-9836eaa1f161/discovery/v2.0/keys\n</code></pre>\n<p>As I understand it from the Spring documentation, this should be enough to auto-configure a ClientRegistrationRepository (&quot;Spring Boot 2.x auto-configuration binds each of the properties under spring.security.oauth2.client.registration.[registrationId] to an instance of ClientRegistration and then composes each of the ClientRegistration instance(s) within a ClientRegistrationRepository. The auto-configuration also registers the ClientRegistrationRepository as a @Bean in the ApplicationContext so that it is available for dependency-injection, if needed by the application.&quot;.</p>\n<p>I have the following code:</p>\n<pre><code>package com.sky.bnc.azurespring\n\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager\nimport org.springframework.security.oauth2.client.OAuth2AuthorizedClientProviderBuilder\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository\nimport org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizedClientManager\nimport org.springframework.security.oauth2.client.web.OAuth2AuthorizedClientRepository\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServletOAuth2AuthorizedClientExchangeFilterFunction\nimport org.springframework.web.reactive.function.client.WebClient\n\n@Configuration\nclass WebConfiguration {\n\n    @Bean\n    fun authorizedClientManager(clientRegistrationRepository: ClientRegistrationRepository, authorizedClientRepository: OAuth2AuthorizedClientRepository): OAuth2AuthorizedClientManager {\n        val authorizedClientProvider = OAuth2AuthorizedClientProviderBuilder\n                .builder()\n                .authorizationCode()\n                .refreshToken()\n                .clientCredentials()\n                .build()\n\n        val authorizedClientManager = DefaultOAuth2AuthorizedClientManager(clientRegistrationRepository, authorizedClientRepository)\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider)\n\n        return authorizedClientManager\n    }\n\n    @Bean\n    fun webClient(authorizedClientManager: OAuth2AuthorizedClientManager): WebClient {\n        val oauth2Client = ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager)\n        oauth2Client.setDefaultClientRegistrationId(&quot;azure&quot;)\n\n        return WebClient\n                .builder()\n                .apply(oauth2Client.oauth2Configuration())\n                .build()\n    }\n}\n</code></pre>\n<p>But when I try and run the application I get this error:</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method authorizedClientManager in com.sky.bnc.azurespring.WebConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I don't understand what the problem is, I have followed many examples and it seems like it should just be working.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662652022,"post_id":73651765,"comment_id":130060507,"body_markdown":"I&#39;d say you need to learn about polymorphism and then apply it. Using it you probably could change `card.getColor() == getLatestDiscard().getColor()` to something like `card.equals(getLatestDiscard())` where the respective `equals()` methods do type checks, casting and more specific checks as needed. However, you might also want to think whether it really makes sense to have separate classes for colored and numbered cards. Why not have a single `Card` class that has color and number as its properties (I assume there will be an &quot;action&quot; property too - where number could be `null`).","body":"I&#39;d say you need to learn about polymorphism and then apply it. Using it you probably could change <code>card.getColor() == getLatestDiscard().getColor()</code> to something like <code>card.equals(getLatestDiscard())</code> where the respective <code>equals()</code> methods do type checks, casting and more specific checks as needed. However, you might also want to think whether it really makes sense to have separate classes for colored and numbered cards. Why not have a single <code>Card</code> class that has color and number as its properties (I assume there will be an &quot;action&quot; property too - where number could be <code>null</code>)."},{"owner":{"account_id":21106205,"reputation":1,"user_id":15515146,"display_name":"Dodobird108"},"score":0,"creation_date":1662652486,"post_id":73651765,"comment_id":130060705,"body_markdown":"@Thomas\nThank you for the suggestion, I&#39;ll actually start reviewing polymorphism right now.\nI have no clue why my professor wants me to make two separate classes, one being Card and one being NumberCard, I&#39;m honestly just following instructions to be able to get the full mark on this course. if it were up to me I would&#39;ve made it into one class which would&#39;ve made applying it easier.","body":"@Thomas Thank you for the suggestion, I&#39;ll actually start reviewing polymorphism right now. I have no clue why my professor wants me to make two separate classes, one being Card and one being NumberCard, I&#39;m honestly just following instructions to be able to get the full mark on this course. if it were up to me I would&#39;ve made it into one class which would&#39;ve made applying it easier."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1662653780,"post_id":73651765,"comment_id":130061253,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":21106205,"reputation":1,"user_id":15515146,"display_name":"Dodobird108"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662654135,"creation_date":1662651578,"question_id":73651765,"body_markdown":"I&#39;m making a Uno Game.\r\nI have a question in a method im making called playCard(Card card).\r\n\r\nMy question is how do I check the number of my card if I&#39;m only allowed to have one parameter in my playCard which is card, I&#39;ve already made a different class called NumberCard that I was able to implement Numbers into the card and a color as well. *(NumberCard extends Card)*.\r\n\r\nIs there something I need to type cast? and if there is what is it? I&#39;ve been trying to figure out this one problem for more than 8 hours now.\r\n\r\nThanks!\r\n\r\nAlso I apologize if my question is ordered in a confusing way, it&#39;s my first time using StackOverFlow.\r\n\r\n***Here is the exactly what I&#39;m asked to make***\r\n\r\npublic void playCard(Card card):&lt;br&gt; This method is called when a player wishes to play a specific\r\ncard from their hand. The method should validate that the card can be played, then update the\r\ngame status based on the game rules.\r\n\r\n***Card Class***\r\n```\r\npackage model.cards;\r\n\r\nabstract public class Card {\r\n    private Color color;\r\n\r\n    public Card(Color color){\r\n        this.color = color;\r\n    }\r\n\r\n    public Color getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(Color color) {\r\n        this.color = color;\r\n    }\r\n}\r\n```\r\n***NumberCard Class***\r\n```\r\npackage model.cards;\r\n\r\npublic class NumberCard extends ColorCard{\r\n    private int number;\r\n\r\n    public NumberCard(int number, Color color) {\r\n        super(color);\r\n        this.number = number;\r\n    }\r\n    public int getNumber() {\r\n        return number;\r\n    }\r\n}\r\n\r\n```\r\n\r\n***playCard method in Game Class***\r\n```\r\n    public void playCard(Card card) //confused on how to add numbers here!\r\n    {\r\n            if (card.getColor() == getLatestDiscard().getColor()) {\r\n                // confused on how to add the numbers.\r\n            }\r\n    }\r\n```\r\n\r\n***Game Class***\r\n```\r\npublic class Game {\r\n    //Attributes\r\n    private ArrayList&lt;Player&gt; players = new ArrayList&lt;Player&gt;();\r\n    private ArrayList&lt;Card&gt; deck;// shouldn&#39;t deck be 2d? how can I add the colors + the number at once?\r\n    private ArrayList&lt;Card&gt; discardPile = new ArrayList&lt;Card&gt;();\r\n    //ArrayList&lt;&gt;\r\n    private int currentDrawn;\r\n    private boolean playedCard;\r\n\r\n\r\n    //Setters and Getters\r\n\r\n    public ArrayList&lt;Card&gt; getDeck() {\r\n        return deck;\r\n    }\r\n    public ArrayList&lt;Player&gt; getPlayers() {\r\n        return players;\r\n    }\r\n    public ArrayList&lt;Card&gt; getDiscardPile() {\r\n        return discardPile;\r\n    }\r\n    public int getCurrentDrawn() {\r\n        return currentDrawn;\r\n    }\r\n\r\n    public boolean isPlayedCard() {\r\n        return playedCard;\r\n    }\r\n    public Player getNextPlayer(){\r\n        Collections.rotate(players, -1);\r\n        /*\r\n        players.add(players.remove(0));\r\n        ^^ adds to the end of the array list the first player while removing them from first part of list\r\n\r\n        thought it would be better to rotate, thinking if I remove and add the player it might affect the cards in hand\r\n        making them reset or something.\r\n         */\r\n        return players.get(0);\r\n    }\r\n    public Card getLatestDiscard(){\r\n        return discardPile.get(discardPile.size()-1);\r\n        // size - 1 == amount of cards that exist?\r\n    }\r\n    public Player checkGameOver(){\r\n        for (int i = 0; i != players.size(); i++) //for loop doesnt loop?\r\n        {\r\n            if (players.get(i).getHand().size() == 0)\r\n                return players.get(i);\r\n        }\r\n        return null;\r\n    }\r\n    public void playCard(Card card) //confused on how to add numbers here!\r\n    {\r\n            if (card.getColor() == getLatestDiscard().getColor()) {\r\n                // confused on how to add the numbers.\r\n            }\r\n    }\r\n\r\n    public void playCard(Card card, Color color){\r\n        card.setColor((color)); // Card sets color to the color picked?\r\n    }\r\n\r\n\r\n    public void draw() throws MaxCardsDrawnException {\r\n        currentDrawn++ ;\r\n        try {\r\n            if(currentDrawn &lt;= 2) {\r\n                players.get(0).getHand().add(deck.get(0));\r\n                deck.remove(0);\r\n                if (deck.size() == 0)\r\n                    rebuildDeck();\r\n            }\r\n            if (currentDrawn &gt; 2)\r\n                throw new MaxCardsDrawnException();\r\n            } catch (MaxCardsDrawnException s) {\r\n            System.out.println(&quot;You are only allowed to draw twice&quot;);\r\n        }\r\n    }\r\n    private void rebuildDeck(){\r\n        if (deck.size() == 0){\r\n            deck.add(discardPile.get(discardPile.size() - 1));\r\n            discardPile.remove(discardPile.size() - 1);\r\n            Collections.shuffle(deck);\r\n        }\r\n    }\r\n    public void endTurn() throws UnallowedCardException {\r\n\r\n        if (isPlayedCard()) {\r\n            if (Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.WILD)) ||\r\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.BLUE)) ||\r\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.RED)) ||\r\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.GREEN)) ||\r\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.YELLOW)))\r\n            {\r\n                getNextPlayer();\r\n            }\r\n        }\r\n        else if (currentDrawn == 2) {\r\n            getNextPlayer();\r\n            currentDrawn = 0;\r\n        }\r\n        try{\r\n            if (currentDrawn == 2) {\r\n                getNextPlayer();\r\n                currentDrawn = 0;\r\n            }\r\n            else\r\n                throw new UnallowedCardException();\r\n\r\n        }\r\n        catch (UnallowedCardException e){\r\n            System.out.println(&quot;You have to play a card or draw two cards!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public Game(ArrayList&lt;Player&gt; players)//9.2 description\r\n    {\r\n        this.deck = new ArrayList&lt;Card&gt;();\r\n        this.players = new ArrayList&lt;Player&gt;();\r\n        this.players = players;\r\n        this.currentDrawn = 0;\r\n        buildDeck();\r\n        distribute();\r\n        discardPile.add(deck.remove(deck.size() - 1));\r\n\r\n    }\r\n\r\n    private void buildDeck() {\r\n        this.deck = new ArrayList&lt;Card&gt;(100);\r\n        for(int x = 0; x != 5; x++) //The function mentioned in my explanation down bellow.\r\n        {\r\n            if (x &lt;= 3)\r\n            {\r\n                for (int c = 0; c != 23; c++)\r\n                {\r\n                    if (x == 0) {\r\n                        if (c &lt; 10)\r\n                            deck.add(new NumberCard(c, Color.RED));\r\n                        else if (c &lt;= 18)\r\n                            deck.add(new NumberCard(c - 9, Color.RED));\r\n                        else if (c &lt;= 20)\r\n                            deck.add(new HitCard(Color.RED));\r\n                        else\r\n                            deck.add(new SkipCard(Color.RED));\r\n                    }\r\n                    else if (x == 1){\r\n                        if (c &lt; 10)\r\n                            deck.add(new NumberCard(c, Color.GREEN));\r\n                        else if (c &lt;= 18)\r\n                            deck.add(new NumberCard(c - 9, Color.GREEN));\r\n                        else if (c &lt;= 20)\r\n                            deck.add(new HitCard(Color.GREEN));\r\n                        else\r\n                            deck.add(new SkipCard(Color.GREEN));\r\n                    }\r\n                    else if (x == 2){\r\n                        if (c &lt; 10)\r\n                            deck.add(new NumberCard(c, Color.BLUE));\r\n                        else if (c &lt;= 18)\r\n                            deck.add(new NumberCard(c - 9, Color.BLUE));\r\n                        else if (c &lt;= 20)\r\n                            deck.add(new HitCard(Color.BLUE));\r\n                        else\r\n                            deck.add(new SkipCard(Color.BLUE));\r\n                        }\r\n                    else if (x == 3) // why does it say that x is always == to  3;\r\n                    {\r\n                        if (c &lt; 10)\r\n                            deck.add(new NumberCard(c, Color.YELLOW));\r\n                        else if (c &lt;= 18)\r\n                            deck.add(new NumberCard(c - 9, Color.YELLOW));\r\n                        else if (c &lt;= 20)\r\n                            deck.add(new HitCard(Color.YELLOW));\r\n                        else\r\n                            deck.add(new SkipCard(Color.YELLOW));\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                for (int c = 0; c != 4; c++)\r\n                {\r\n                    deck.add(new ChangeCard());\r\n                    deck.add(new HitAndChangeCard());\r\n                }\r\n            }\r\n        }\r\n        Collections.shuffle(deck);\r\n    }\r\n\r\n    private void distribute(){\r\n    for (int x = 0; x != players.size(); x++) {\r\n        for (int i = 0; i &lt; 7;i++ ) {\r\n            players.get(x).getHand().add(deck.get(0));\r\n            deck.remove(0);\r\n        }\r\n    }\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n***Player Class (incase needed)***\r\n```\r\npackage engine;\r\nimport model.cards.Card;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class Player {\r\n    private String name;\r\n    private ArrayList&lt;Card&gt; hand;\r\n\r\n\r\n    public Player(String name){\r\n            //ArrayList&lt;String&gt; players= new ArrayList&lt;String&gt;(Collections.singleton(name));\r\n            // I actually don&#39;t know what I did here ^\r\n            //^ object ? is this what it means by &quot;Constructor that initializes a Player object with the given name.&quot;\r\n            this.name = name;\r\n            hand =  new ArrayList&lt;&gt;();\r\n       // players.stream().limit(4);//not needed or?\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n```","title":"UnoGame, Can&#39;t figure out how to check for numbers on card and discard pile","body":"<p>I'm making a Uno Game.\nI have a question in a method im making called playCard(Card card).</p>\n<p>My question is how do I check the number of my card if I'm only allowed to have one parameter in my playCard which is card, I've already made a different class called NumberCard that I was able to implement Numbers into the card and a color as well. <em>(NumberCard extends Card)</em>.</p>\n<p>Is there something I need to type cast? and if there is what is it? I've been trying to figure out this one problem for more than 8 hours now.</p>\n<p>Thanks!</p>\n<p>Also I apologize if my question is ordered in a confusing way, it's my first time using StackOverFlow.</p>\n<p><em><strong>Here is the exactly what I'm asked to make</strong></em></p>\n<p>public void playCard(Card card):<br> This method is called when a player wishes to play a specific\ncard from their hand. The method should validate that the card can be played, then update the\ngame status based on the game rules.</p>\n<p><em><strong>Card Class</strong></em></p>\n<pre><code>package model.cards;\n\nabstract public class Card {\n    private Color color;\n\n    public Card(Color color){\n        this.color = color;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n\n    public void setColor(Color color) {\n        this.color = color;\n    }\n}\n</code></pre>\n<p><em><strong>NumberCard Class</strong></em></p>\n<pre><code>package model.cards;\n\npublic class NumberCard extends ColorCard{\n    private int number;\n\n    public NumberCard(int number, Color color) {\n        super(color);\n        this.number = number;\n    }\n    public int getNumber() {\n        return number;\n    }\n}\n\n</code></pre>\n<p><em><strong>playCard method in Game Class</strong></em></p>\n<pre><code>    public void playCard(Card card) //confused on how to add numbers here!\n    {\n            if (card.getColor() == getLatestDiscard().getColor()) {\n                // confused on how to add the numbers.\n            }\n    }\n</code></pre>\n<p><em><strong>Game Class</strong></em></p>\n<pre><code>public class Game {\n    //Attributes\n    private ArrayList&lt;Player&gt; players = new ArrayList&lt;Player&gt;();\n    private ArrayList&lt;Card&gt; deck;// shouldn't deck be 2d? how can I add the colors + the number at once?\n    private ArrayList&lt;Card&gt; discardPile = new ArrayList&lt;Card&gt;();\n    //ArrayList&lt;&gt;\n    private int currentDrawn;\n    private boolean playedCard;\n\n\n    //Setters and Getters\n\n    public ArrayList&lt;Card&gt; getDeck() {\n        return deck;\n    }\n    public ArrayList&lt;Player&gt; getPlayers() {\n        return players;\n    }\n    public ArrayList&lt;Card&gt; getDiscardPile() {\n        return discardPile;\n    }\n    public int getCurrentDrawn() {\n        return currentDrawn;\n    }\n\n    public boolean isPlayedCard() {\n        return playedCard;\n    }\n    public Player getNextPlayer(){\n        Collections.rotate(players, -1);\n        /*\n        players.add(players.remove(0));\n        ^^ adds to the end of the array list the first player while removing them from first part of list\n\n        thought it would be better to rotate, thinking if I remove and add the player it might affect the cards in hand\n        making them reset or something.\n         */\n        return players.get(0);\n    }\n    public Card getLatestDiscard(){\n        return discardPile.get(discardPile.size()-1);\n        // size - 1 == amount of cards that exist?\n    }\n    public Player checkGameOver(){\n        for (int i = 0; i != players.size(); i++) //for loop doesnt loop?\n        {\n            if (players.get(i).getHand().size() == 0)\n                return players.get(i);\n        }\n        return null;\n    }\n    public void playCard(Card card) //confused on how to add numbers here!\n    {\n            if (card.getColor() == getLatestDiscard().getColor()) {\n                // confused on how to add the numbers.\n            }\n    }\n\n    public void playCard(Card card, Color color){\n        card.setColor((color)); // Card sets color to the color picked?\n    }\n\n\n    public void draw() throws MaxCardsDrawnException {\n        currentDrawn++ ;\n        try {\n            if(currentDrawn &lt;= 2) {\n                players.get(0).getHand().add(deck.get(0));\n                deck.remove(0);\n                if (deck.size() == 0)\n                    rebuildDeck();\n            }\n            if (currentDrawn &gt; 2)\n                throw new MaxCardsDrawnException();\n            } catch (MaxCardsDrawnException s) {\n            System.out.println(&quot;You are only allowed to draw twice&quot;);\n        }\n    }\n    private void rebuildDeck(){\n        if (deck.size() == 0){\n            deck.add(discardPile.get(discardPile.size() - 1));\n            discardPile.remove(discardPile.size() - 1);\n            Collections.shuffle(deck);\n        }\n    }\n    public void endTurn() throws UnallowedCardException {\n\n        if (isPlayedCard()) {\n            if (Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.WILD)) ||\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.BLUE)) ||\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.RED)) ||\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.GREEN)) ||\n                    Objects.equals(discardPile.get(discardPile.size() - 1), new SkipCard(Color.YELLOW)))\n            {\n                getNextPlayer();\n            }\n        }\n        else if (currentDrawn == 2) {\n            getNextPlayer();\n            currentDrawn = 0;\n        }\n        try{\n            if (currentDrawn == 2) {\n                getNextPlayer();\n                currentDrawn = 0;\n            }\n            else\n                throw new UnallowedCardException();\n\n        }\n        catch (UnallowedCardException e){\n            System.out.println(&quot;You have to play a card or draw two cards!&quot;);\n        }\n    }\n\n\n\n    public Game(ArrayList&lt;Player&gt; players)//9.2 description\n    {\n        this.deck = new ArrayList&lt;Card&gt;();\n        this.players = new ArrayList&lt;Player&gt;();\n        this.players = players;\n        this.currentDrawn = 0;\n        buildDeck();\n        distribute();\n        discardPile.add(deck.remove(deck.size() - 1));\n\n    }\n\n    private void buildDeck() {\n        this.deck = new ArrayList&lt;Card&gt;(100);\n        for(int x = 0; x != 5; x++) //The function mentioned in my explanation down bellow.\n        {\n            if (x &lt;= 3)\n            {\n                for (int c = 0; c != 23; c++)\n                {\n                    if (x == 0) {\n                        if (c &lt; 10)\n                            deck.add(new NumberCard(c, Color.RED));\n                        else if (c &lt;= 18)\n                            deck.add(new NumberCard(c - 9, Color.RED));\n                        else if (c &lt;= 20)\n                            deck.add(new HitCard(Color.RED));\n                        else\n                            deck.add(new SkipCard(Color.RED));\n                    }\n                    else if (x == 1){\n                        if (c &lt; 10)\n                            deck.add(new NumberCard(c, Color.GREEN));\n                        else if (c &lt;= 18)\n                            deck.add(new NumberCard(c - 9, Color.GREEN));\n                        else if (c &lt;= 20)\n                            deck.add(new HitCard(Color.GREEN));\n                        else\n                            deck.add(new SkipCard(Color.GREEN));\n                    }\n                    else if (x == 2){\n                        if (c &lt; 10)\n                            deck.add(new NumberCard(c, Color.BLUE));\n                        else if (c &lt;= 18)\n                            deck.add(new NumberCard(c - 9, Color.BLUE));\n                        else if (c &lt;= 20)\n                            deck.add(new HitCard(Color.BLUE));\n                        else\n                            deck.add(new SkipCard(Color.BLUE));\n                        }\n                    else if (x == 3) // why does it say that x is always == to  3;\n                    {\n                        if (c &lt; 10)\n                            deck.add(new NumberCard(c, Color.YELLOW));\n                        else if (c &lt;= 18)\n                            deck.add(new NumberCard(c - 9, Color.YELLOW));\n                        else if (c &lt;= 20)\n                            deck.add(new HitCard(Color.YELLOW));\n                        else\n                            deck.add(new SkipCard(Color.YELLOW));\n                    }\n                }\n            }\n            else\n            {\n                for (int c = 0; c != 4; c++)\n                {\n                    deck.add(new ChangeCard());\n                    deck.add(new HitAndChangeCard());\n                }\n            }\n        }\n        Collections.shuffle(deck);\n    }\n\n    private void distribute(){\n    for (int x = 0; x != players.size(); x++) {\n        for (int i = 0; i &lt; 7;i++ ) {\n            players.get(x).getHand().add(deck.get(0));\n            deck.remove(0);\n        }\n    }\n\n    }\n\n\n}\n</code></pre>\n<p><em><strong>Player Class (incase needed)</strong></em></p>\n<pre><code>package engine;\nimport model.cards.Card;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Player {\n    private String name;\n    private ArrayList&lt;Card&gt; hand;\n\n\n    public Player(String name){\n            //ArrayList&lt;String&gt; players= new ArrayList&lt;String&gt;(Collections.singleton(name));\n            // I actually don't know what I did here ^\n            //^ object ? is this what it means by &quot;Constructor that initializes a Player object with the given name.&quot;\n            this.name = name;\n            hand =  new ArrayList&lt;&gt;();\n       // players.stream().limit(4);//not needed or?\n    }\n\n    public String getName() {\n        return name;\n    }\n</code></pre>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"score":0,"creation_date":1655311231,"post_id":72634906,"comment_id":128304485,"body_markdown":"JOLT is more of a static structure. Dynamic modifications can be done by using JOLT Shiftr maybe.","body":"JOLT is more of a static structure. Dynamic modifications can be done by using JOLT Shiftr maybe."}],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655318386,"creation_date":1655318386,"answer_id":72636354,"question_id":72634906,"body_markdown":"You can use a conditional to separate the cases of the values of title attributes as **`White`** and the ***others*** within a **shift** transformation such as  \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;response&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;title&quot;: {\r\n            &quot;White&quot;: {\r\n              &quot;#Black&quot;: &quot;&amp;4[&amp;3].&amp;2&quot; // &amp;4 : to substitute &quot;response&quot;(in order to reach four levels up and grab the value), [&amp;3] : to substitute indexes of &quot;response&quot; array, &amp;2 : to get &quot;White&quot; by traversing : and {, eg. two levels up.\r\n            },\r\n            &quot;*&quot;: {\r\n              &quot;@1&quot;: &quot;&amp;4[&amp;3].&amp;2&quot;\r\n            }\r\n          },\r\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;2&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sIudP.jpg","title":"Is their a way to change values in jolt transformation and replace them with custom values","body":"<p>You can use a conditional to separate the cases of the values of title attributes as <strong><code>White</code></strong> and the <em><strong>others</strong></em> within a <strong>shift</strong> transformation such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;response&quot;: {\n        &quot;*&quot;: {\n          &quot;title&quot;: {\n            &quot;White&quot;: {\n              &quot;#Black&quot;: &quot;&amp;4[&amp;3].&amp;2&quot; // &amp;4 : to substitute &quot;response&quot;(in order to reach four levels up and grab the value), [&amp;3] : to substitute indexes of &quot;response&quot; array, &amp;2 : to get &quot;White&quot; by traversing : and {, eg. two levels up.\n            },\n            &quot;*&quot;: {\n              &quot;@1&quot;: &quot;&amp;4[&amp;3].&amp;2&quot;\n            }\n          },\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;2&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/sIudP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sIudP.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662653801,"creation_date":1662618842,"answer_id":73644617,"question_id":72634906,"body_markdown":"You may consider another library *Josson*.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;response\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;requestDate\\&quot;: 1655285978000,&quot; +\r\n        &quot;      \\&quot;title\\&quot;: \\&quot;White\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;requestDate\\&quot;: 1655193656000,&quot; +\r\n        &quot;      \\&quot;title\\&quot;: \\&quot;White\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n        \r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;response&quot; +\r\n        &quot;.field(title.caseValue(&#39;White&#39;,&#39;Black&#39;,?))&quot; +\r\n        &quot;.toObject(&#39;response&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;response&quot; : [ {\r\n        &quot;requestDate&quot; : 1655285978000,\r\n        &quot;title&quot; : &quot;Black&quot;\r\n      }, {\r\n        &quot;requestDate&quot; : 1655193656000,\r\n        &quot;title&quot; : &quot;Black&quot;\r\n      } ]\r\n    }","title":"Is their a way to change values in jolt transformation and replace them with custom values","body":"<p>You may consider another library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;response\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;requestDate\\&quot;: 1655285978000,&quot; +\n    &quot;      \\&quot;title\\&quot;: \\&quot;White\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;requestDate\\&quot;: 1655193656000,&quot; +\n    &quot;      \\&quot;title\\&quot;: \\&quot;White\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n    \n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;response&quot; +\n    &quot;.field(title.caseValue('White','Black',?))&quot; +\n    &quot;.toObject('response')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;response&quot; : [ {\n    &quot;requestDate&quot; : 1655285978000,\n    &quot;title&quot; : &quot;Black&quot;\n  }, {\n    &quot;requestDate&quot; : 1655193656000,\n    &quot;title&quot; : &quot;Black&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72636354,"answer_count":2,"score":0,"last_activity_date":1662653801,"creation_date":1655310935,"question_id":72634906,"body_markdown":"I have a jolt transformation \r\n```json\r\n{\r\n  &quot;response&quot;: [\r\n    {\r\n      &quot;requestDate&quot;: 1655285978000,\r\n      &quot;title&quot;: &quot;White&quot;\r\n    },\r\n    {\r\n      &quot;requestDate&quot;: 1655193656000,\r\n      &quot;title&quot;: &quot;White&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nIn my jolt transformation, I want the value of white to be replaced with black, so that the  output should become.\r\n```json\r\n{\r\n  &quot;response&quot;: [\r\n    {\r\n      &quot;requestDate&quot;: 1655285978000,\r\n      &quot;title&quot;: &quot;Black&quot;\r\n    },\r\n    {\r\n      &quot;requestDate&quot;: 1655193656000,\r\n      &quot;title&quot;: &quot;Black&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nIs there a way the content in jolt.","title":"Is their a way to change values in jolt transformation and replace them with custom values","body":"<p>I have a jolt transformation</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;response&quot;: [\n    {\n      &quot;requestDate&quot;: 1655285978000,\n      &quot;title&quot;: &quot;White&quot;\n    },\n    {\n      &quot;requestDate&quot;: 1655193656000,\n      &quot;title&quot;: &quot;White&quot;\n    }\n  ]\n}\n</code></pre>\n<p>In my jolt transformation, I want the value of white to be replaced with black, so that the  output should become.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;response&quot;: [\n    {\n      &quot;requestDate&quot;: 1655285978000,\n      &quot;title&quot;: &quot;Black&quot;\n    },\n    {\n      &quot;requestDate&quot;: 1655193656000,\n      &quot;title&quot;: &quot;Black&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Is there a way the content in jolt.</p>\n"},{"tags":["java","mqtt","publish-subscribe","thingsboard","telemetry"],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639819405,"creation_date":1639819405,"answer_id":70402262,"question_id":70401659,"body_markdown":"As far as I can see the problem is an unsatisfied QoS level.\r\nA subscription without a QoS parameter defaults to QoS == 1. If this QoS is not supported for the requested topic the client throws this exception.\r\nExcerpt from Paho client whereby your call to subscribe(topic) cascades to this subscribe method:\r\n\r\n```\r\n\tpublic void subscribe(String[] topicFilters, int[] qos, IMqttMessageListener[] messageListeners) throws MqttException {\t\r\n\t\tIMqttToken tok = aClient.subscribe(topicFilters, qos, null, null, messageListeners);\r\n\t\ttok.waitForCompletion(getTimeToWait());\r\n\t\tint[] grantedQos = tok.getGrantedQos();\r\n\t\tfor (int i = 0; i &lt; grantedQos.length; ++i) {\r\n\t\t\tqos[i] = grantedQos[i];\r\n\t\t}\r\n\t\tif (grantedQos.length == 1 &amp;&amp; qos[0] == 0x80) {\r\n\t\t\tthrow new MqttException(MqttException.REASON_CODE_SUBSCRIBE_FAILED);\r\n\t\t}\r\n\t}\r\n```\r\nSo you have to check the QoS level of the requested topic and subscribe with that QoS level. Because QoS 1 is rejected I presume the topic is published with QoS 0.","title":"Thingsboard: MQTT-Subscription to internal broker failed (Java/Paho)","body":"<p>As far as I can see the problem is an unsatisfied QoS level.\nA subscription without a QoS parameter defaults to QoS == 1. If this QoS is not supported for the requested topic the client throws this exception.\nExcerpt from Paho client whereby your call to subscribe(topic) cascades to this subscribe method:</p>\n<pre><code>    public void subscribe(String[] topicFilters, int[] qos, IMqttMessageListener[] messageListeners) throws MqttException { \n        IMqttToken tok = aClient.subscribe(topicFilters, qos, null, null, messageListeners);\n        tok.waitForCompletion(getTimeToWait());\n        int[] grantedQos = tok.getGrantedQos();\n        for (int i = 0; i &lt; grantedQos.length; ++i) {\n            qos[i] = grantedQos[i];\n        }\n        if (grantedQos.length == 1 &amp;&amp; qos[0] == 0x80) {\n            throw new MqttException(MqttException.REASON_CODE_SUBSCRIBE_FAILED);\n        }\n    }\n</code></pre>\n<p>So you have to check the QoS level of the requested topic and subscribe with that QoS level. Because QoS 1 is rejected I presume the topic is published with QoS 0.</p>\n"}],"owner":{"account_id":23681464,"reputation":11,"user_id":17706973,"display_name":"m4ld3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662653648,"creation_date":1639811949,"question_id":70401659,"body_markdown":"I have some trouble in subscribing at the topic v1/devices/me/**telemetry**. I have **no problems** in subscribing on v1/devices/me/**attributes** using the paho Java-MQTT-Client. At the attributes-topic I can get new attributes when I post them in the UI. So my Java-Program seems to runs fine (see bottom).\r\n\r\nI get the following at the console:\r\n\r\n    Subscriber running  \r\n    checking  \r\n    Mqtt Connecting to broker: tcp://192.168.1.25:1883  \r\n    Mqtt Connected  \r\n    MqttException (128)  \r\n    MqttException (128)  \r\n    at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:438)  \r\n    at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:406)  \r\n    at Test.MqttSubscriber.subscribe(MqttSubscriber.java:57)  \r\n    at Test.MqttSubscriber.main(MqttSubscriber.java:30)\r\n\r\n  \r\n\r\nI guess that Error Code 128 means that the subscription was pulled back.\r\n\r\nWhat am I doing wrong? Publishing content to thingsboard at that topic is no problem. Do I have to activate the broker for publishing/subscribing somehow? Does the internal broker of TB need a special command (JSON maybe) to grant a subscribtion? Or do I have to realise it with the IoT gateway (I understand it the way that TB can push data to an external broker - but here a simple subscription is needed)? Which alternative do I have to get device-telemetry from Thingsboard using MQTT?\r\n\r\nI hope someone can help :) Thank you!\r\n\r\nThe Code is (MqttSubscriber.java):\r\n\r\n   \r\n\r\n     package Test;\r\n    \r\n        import org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\n        import org.eclipse.paho.client.mqttv3.MqttCallback;\r\n        import org.eclipse.paho.client.mqttv3.MqttClient;\r\n        import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\n        import org.eclipse.paho.client.mqttv3.MqttException;\r\n        import org.eclipse.paho.client.mqttv3.MqttMessage;\r\n        import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n        \r\n        public class MqttSubscriber implements MqttCallback  {\r\n    \r\n    \r\n        private static final String brokerUrl =&quot;tcp://192.168.1.25:1883&quot;; //Broker\r\n    \r\n    \r\n        private static final String clientId = &quot;test&quot;; //Client-ID\r\n    \r\n    \r\n        private static final String topic = &quot;v1/devices/me/telemetry&quot;; //Topic\r\n    \r\n        private static final String user = &quot;AT2&quot;; // Accesstoken/User from Device in TB!\r\n    \r\n        private static final String pw = &quot;test&quot;;\r\n    \r\n        private static final char[] password = pw.toCharArray();\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n    \tSystem.out.println(&quot;Subscriber running&quot;);\r\n    \r\n    \tnew MqttSubscriber().subscribe(topic);\r\n        }\r\n    \r\n        public void subscribe(String topic) { \r\n    \r\n    \tMemoryPersistence persistence = new MemoryPersistence();\r\n    \r\n    \ttry\r\n    \t{\r\n    \r\n    \t\tMqttClient sampleClient = new MqttClient(brokerUrl, clientId, persistence);\r\n    \t\tMqttConnectOptions connOpts = new MqttConnectOptions();\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tconnOpts.setCleanSession(true);\r\n    \t\tconnOpts.setUserName(user);\r\n    \t\tconnOpts.setPassword(password);\r\n    \r\n    \t\tSystem.out.println(&quot;checking&quot;);\r\n    \t\tSystem.out.println(&quot;Mqtt Connecting to broker: &quot; + brokerUrl);\r\n    \r\n    \t\tsampleClient.connect(connOpts);\r\n    \t\tif (sampleClient.isConnected()==true) System.out.println(&quot;Mqtt Connected&quot;);\r\n    \t\telse System.out.println(&quot;could not connect&quot;);\r\n    \r\n    \t\tsampleClient.setCallback(this);\r\n    \t\tsampleClient.subscribe(topic);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\tSystem.out.println(&quot;Subscribed&quot;);\r\n    \t\tSystem.out.println(&quot;Listening&quot;);\r\n    \r\n    \t    } catch (MqttException me) {\r\n    \t\tSystem.out.println(me);\r\n    \t\tme.printStackTrace();\r\n    \t    }\r\n            }\r\n    \r\n            //Called when the client lost the connection to the broker\r\n            public void connectionLost(Throwable arg0) {\r\n    \t\r\n            }\r\n    \r\n            //Called when a outgoing publish is complete\r\n            public void deliveryComplete(IMqttDeliveryToken arg0) {\r\n    \r\n            }\r\n    \r\n            public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n    \r\n    \t\r\n    \t    System.out.println(&quot;| Topic:&quot; + topic);\r\n    \t    System.out.println(&quot;| Message: &quot; +message.toString());\r\n    \t    System.out.println(&quot;-------------------------------------------------&quot;);\r\n    \r\n            }\r\n    \r\n            }\r\n\r\n","title":"Thingsboard: MQTT-Subscription to internal broker failed (Java/Paho)","body":"<p>I have some trouble in subscribing at the topic v1/devices/me/<strong>telemetry</strong>. I have <strong>no problems</strong> in subscribing on v1/devices/me/<strong>attributes</strong> using the paho Java-MQTT-Client. At the attributes-topic I can get new attributes when I post them in the UI. So my Java-Program seems to runs fine (see bottom).</p>\n<p>I get the following at the console:</p>\n<pre><code>Subscriber running  \nchecking  \nMqtt Connecting to broker: tcp://192.168.1.25:1883  \nMqtt Connected  \nMqttException (128)  \nMqttException (128)  \nat org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:438)  \nat org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:406)  \nat Test.MqttSubscriber.subscribe(MqttSubscriber.java:57)  \nat Test.MqttSubscriber.main(MqttSubscriber.java:30)\n</code></pre>\n<p>I guess that Error Code 128 means that the subscription was pulled back.</p>\n<p>What am I doing wrong? Publishing content to thingsboard at that topic is no problem. Do I have to activate the broker for publishing/subscribing somehow? Does the internal broker of TB need a special command (JSON maybe) to grant a subscribtion? Or do I have to realise it with the IoT gateway (I understand it the way that TB can push data to an external broker - but here a simple subscription is needed)? Which alternative do I have to get device-telemetry from Thingsboard using MQTT?</p>\n<p>I hope someone can help :) Thank you!</p>\n<p>The Code is (MqttSubscriber.java):</p>\n<pre><code> package Test;\n\n    import org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\n    import org.eclipse.paho.client.mqttv3.MqttCallback;\n    import org.eclipse.paho.client.mqttv3.MqttClient;\n    import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\n    import org.eclipse.paho.client.mqttv3.MqttException;\n    import org.eclipse.paho.client.mqttv3.MqttMessage;\n    import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n    \n    public class MqttSubscriber implements MqttCallback  {\n\n\n    private static final String brokerUrl =&quot;tcp://192.168.1.25:1883&quot;; //Broker\n\n\n    private static final String clientId = &quot;test&quot;; //Client-ID\n\n\n    private static final String topic = &quot;v1/devices/me/telemetry&quot;; //Topic\n\n    private static final String user = &quot;AT2&quot;; // Accesstoken/User from Device in TB!\n\n    private static final String pw = &quot;test&quot;;\n\n    private static final char[] password = pw.toCharArray();\n\n    public static void main(String[] args) {\n\n    System.out.println(&quot;Subscriber running&quot;);\n\n    new MqttSubscriber().subscribe(topic);\n    }\n\n    public void subscribe(String topic) { \n\n    MemoryPersistence persistence = new MemoryPersistence();\n\n    try\n    {\n\n        MqttClient sampleClient = new MqttClient(brokerUrl, clientId, persistence);\n        MqttConnectOptions connOpts = new MqttConnectOptions();\n        \n        \n        \n        connOpts.setCleanSession(true);\n        connOpts.setUserName(user);\n        connOpts.setPassword(password);\n\n        System.out.println(&quot;checking&quot;);\n        System.out.println(&quot;Mqtt Connecting to broker: &quot; + brokerUrl);\n\n        sampleClient.connect(connOpts);\n        if (sampleClient.isConnected()==true) System.out.println(&quot;Mqtt Connected&quot;);\n        else System.out.println(&quot;could not connect&quot;);\n\n        sampleClient.setCallback(this);\n        sampleClient.subscribe(topic);\n        \n        \n        \n\n        System.out.println(&quot;Subscribed&quot;);\n        System.out.println(&quot;Listening&quot;);\n\n        } catch (MqttException me) {\n        System.out.println(me);\n        me.printStackTrace();\n        }\n        }\n\n        //Called when the client lost the connection to the broker\n        public void connectionLost(Throwable arg0) {\n    \n        }\n\n        //Called when a outgoing publish is complete\n        public void deliveryComplete(IMqttDeliveryToken arg0) {\n\n        }\n\n        public void messageArrived(String topic, MqttMessage message) throws Exception {\n\n    \n        System.out.println(&quot;| Topic:&quot; + topic);\n        System.out.println(&quot;| Message: &quot; +message.toString());\n        System.out.println(&quot;-------------------------------------------------&quot;);\n\n        }\n\n        }\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662639768,"post_id":73648935,"comment_id":130055468,"body_markdown":"I&#39;d have to dig in the documentation a little but the problem seems to be that a string cannot just be incremented, i.e. the next value in the sequence cannot be generated for a string. Try a numeric type like int or long or look for a sequence generator that works with strings.","body":"I&#39;d have to dig in the documentation a little but the problem seems to be that a string cannot just be incremented, i.e. the next value in the sequence cannot be generated for a string. Try a numeric type like int or long or look for a sequence generator that works with strings."},{"owner":{"account_id":26281075,"reputation":1,"user_id":19949545,"display_name":"Nitesh Sharma"},"score":0,"creation_date":1662639902,"post_id":73648935,"comment_id":130055534,"body_markdown":"@Thomas I have looked uuid generator works for strings but I am not sure how to put the configuration in xml","body":"@Thomas I have looked uuid generator works for strings but I am not sure how to put the configuration in xml"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662640306,"post_id":73648935,"comment_id":130055709,"body_markdown":"Did you try `class=&quot;uuid&quot;` or `class=&quot;uuid2&quot;`? It might depend on the version of Hibernate you&#39;re using. Btw, would it be an option to go for annotation based configuration instead?","body":"Did you try <code>class=&quot;uuid&quot;</code> or <code>class=&quot;uuid2&quot;</code>? It might depend on the version of Hibernate you&#39;re using. Btw, would it be an option to go for annotation based configuration instead?"},{"owner":{"account_id":26281075,"reputation":1,"user_id":19949545,"display_name":"Nitesh Sharma"},"score":0,"creation_date":1662640738,"post_id":73648935,"comment_id":130055862,"body_markdown":"@Thomas I will try class=&quot;uuid&quot; but annotation based is not possible now","body":"@Thomas I will try class=&quot;uuid&quot; but annotation based is not possible now"},{"owner":{"account_id":26281075,"reputation":1,"user_id":19949545,"display_name":"Nitesh Sharma"},"score":0,"creation_date":1662642283,"post_id":73648935,"comment_id":130056476,"body_markdown":"@Thomas uuid is giving java.sql.SQLException: ORA-12899: value too large for column &quot;CISADM&quot;.&quot;CM_RETRO_EVT&quot;.&quot;EXT_SOURCE_ID&quot; (actual: 32, maximum: 30)\nI need to follow the sequence &lt;param name=&quot;sequence_name&quot;&gt;EXT_SOURCE_ID_SEQ_NBR&lt;/param&gt;","body":"@Thomas uuid is giving java.sql.SQLException: ORA-12899: value too large for column &quot;CISADM&quot;.&quot;CM_RETRO_EVT&quot;.&quot;EXT_SOURCE_ID&quot; (actual: 32, maximum: 30) I need to follow the sequence &lt;param name=&quot;sequence_name&quot;&gt;EXT_SOURCE_ID_SEQ_NBR&lt;/param&gt;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662647684,"post_id":73648935,"comment_id":130058715,"body_markdown":"Well, then ou might have to find some other sequence generator that is able to work with strings. If none of the built-ins work you can always create your own as a last resort.","body":"Well, then ou might have to find some other sequence generator that is able to work with strings. If none of the built-ins work you can always create your own as a last resort."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1662726246,"post_id":73648935,"comment_id":130078601,"body_markdown":"See https://stackoverflow.com/questions/31158509/how-to-generate-custom-id-using-hibernate-while-it-must-be-primary-key-of-table","body":"See <a href=\"https://stackoverflow.com/questions/31158509/how-to-generate-custom-id-using-hibernate-while-it-must-be-primary-key-of-table\" title=\"how to generate custom id using hibernate while it must be primary key of table\">stackoverflow.com/questions/31158509/&hellip;</a>"}],"owner":{"account_id":26281075,"reputation":1,"user_id":19949545,"display_name":"Nitesh Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662653134,"creation_date":1662639234,"question_id":73648935,"body_markdown":"I am getting error while creating auto generated key for a string primary key error: org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String\r\nHBM.XML below \r\n\r\n    &lt;class name=&quot;CmRetroEvt&quot; table=&quot;CM_RETRO_EVT&quot; schema=&quot;CISADM&quot; &gt;\r\n    \t\r\n    \t    &lt;id name=&quot;ext_source_id&quot; type=&quot;string&quot; column=&quot;EXT_SOURCE_ID&quot;&gt;\r\n            \t&lt;generator class=&quot;sequence&quot;&gt;\r\n            \t&lt;param name=&quot;sequence_name&quot;&gt;EXT_SOURCE_ID_SEQ_NBR&lt;/param&gt;\r\n            \t&lt;/generator&gt;\r\n          \t&lt;/id&gt;\r\nGot the following error any plz suggest what needs to be done to overcome this issue :-\r\n\r\n    org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String\r\n\r\n","title":"How to create custom sequence generator for below it is throwing error Unknown integral data type for ids : java.lang.String","body":"<p>I am getting error while creating auto generated key for a string primary key error: org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String\nHBM.XML below</p>\n<pre><code>&lt;class name=&quot;CmRetroEvt&quot; table=&quot;CM_RETRO_EVT&quot; schema=&quot;CISADM&quot; &gt;\n    \n        &lt;id name=&quot;ext_source_id&quot; type=&quot;string&quot; column=&quot;EXT_SOURCE_ID&quot;&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n            &lt;param name=&quot;sequence_name&quot;&gt;EXT_SOURCE_ID_SEQ_NBR&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n</code></pre>\n<p>Got the following error any plz suggest what needs to be done to overcome this issue :-</p>\n<pre><code>org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"score":0,"creation_date":1662630271,"post_id":73646135,"comment_id":130051959,"body_markdown":"https://stackoverflow.com/questions/56009334/hibernate-stackoverflowerror-with-onetomany-and-manytoone-mapping","body":"<a href=\"https://stackoverflow.com/questions/56009334/hibernate-stackoverflowerror-with-onetomany-and-manytoone-mapping\" title=\"hibernate stackoverflowerror with onetomany and manytoone mapping\">stackoverflow.com/questions/56009334/&hellip;</a>"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662652636,"creation_date":1662626678,"question_id":73646135,"body_markdown":"Assume that I have two entities:\r\n```\r\nHotel (Parent) --&gt; User (Child)\r\n```\r\n\r\nEvery row in table `user_master` have several child rows which is related to the `hotel_master`.\r\n\r\nI want to delete specific rows in `Hotel` which means I have to delete the related rows in `User` first. While I&#39;m trying to delete `Hotel`, I get error because I have to delete data in `User` first.\r\n\r\nHere down is my code:\r\n\r\n**Entity**\r\n```\r\npublic class Hotel {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer hotelId;\r\n    private String hotelName;\r\n    private String city;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;hotel&quot;)\r\n    private Set&lt;User&gt; users;\r\n\r\n}\r\n\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer userId;\r\n    private String userName;\r\n    private String email;\r\n    private String password;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(targetEntity = Hotel.class)\r\n    @JoinColumn(name = &quot;hotelId&quot;)\r\n    private Hotel hotel;\r\n\r\n}\r\n```\r\n\r\n**ServiceImpl**\r\n```\r\n@Override\r\npublic void deleteHotel(Integer hotelId) {\r\n\tHotel hotel = hotelRepo.findById(hotelId).get();\r\n\tfor (User user : hotel.getUsers()) {\r\n\t\tuserRepo.deleteById(user.getUserId());\r\n\t}\r\n\thotelRepo.delete(hotel);\r\n}\r\n```\r\n\r\n**Controller**\r\n```\r\n@RequestMapping(value = &quot;/{hotelId}&quot;, method = RequestMethod.DELETE)\r\npublic void deleteHotel(@PathVariable(&quot;hotelId&quot;) Integer hotelId) {\r\n\thotelService.deleteHotel(hotelId);\r\n}\r\n```\r\n\r\n**Error**\r\n```\r\njava.lang.StackOverflowError\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:390)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:163)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:104)\r\n\tat org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87)\r\n\tat org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:705)\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:76)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2208)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:595)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:264)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n```","title":"Spring Boot: java.lang.StackOverflowError","body":"<p>Assume that I have two entities:</p>\n<pre><code>Hotel (Parent) --&gt; User (Child)\n</code></pre>\n<p>Every row in table <code>user_master</code> have several child rows which is related to the <code>hotel_master</code>.</p>\n<p>I want to delete specific rows in <code>Hotel</code> which means I have to delete the related rows in <code>User</code> first. While I'm trying to delete <code>Hotel</code>, I get error because I have to delete data in <code>User</code> first.</p>\n<p>Here down is my code:</p>\n<p><strong>Entity</strong></p>\n<pre><code>public class Hotel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer hotelId;\n    private String hotelName;\n    private String city;\n\n    @JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;hotel&quot;)\n    private Set&lt;User&gt; users;\n\n}\n\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer userId;\n    private String userName;\n    private String email;\n    private String password;\n\n    @JsonBackReference\n    @ManyToOne(targetEntity = Hotel.class)\n    @JoinColumn(name = &quot;hotelId&quot;)\n    private Hotel hotel;\n\n}\n</code></pre>\n<p><strong>ServiceImpl</strong></p>\n<pre><code>@Override\npublic void deleteHotel(Integer hotelId) {\n    Hotel hotel = hotelRepo.findById(hotelId).get();\n    for (User user : hotel.getUsers()) {\n        userRepo.deleteById(user.getUserId());\n    }\n    hotelRepo.delete(hotel);\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RequestMapping(value = &quot;/{hotelId}&quot;, method = RequestMethod.DELETE)\npublic void deleteHotel(@PathVariable(&quot;hotelId&quot;) Integer hotelId) {\n    hotelService.deleteHotel(hotelId);\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.StackOverflowError\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:390)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:163)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:104)\n    at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87)\n    at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:705)\n    at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:76)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2208)\n    at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:595)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:264)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\n</code></pre>\n"},{"tags":["java","spring","stored-procedures","plsql"],"comments":[{"owner":{"account_id":313433,"reputation":640,"user_id":3405398,"accept_rate":56,"display_name":"kaluva"},"score":0,"creation_date":1598269020,"post_id":58910472,"comment_id":112393687,"body_markdown":"is it resolved? im also facing the same issue..","body":"is it resolved? im also facing the same issue.."}],"answers":[{"tags":[],"owner":{"account_id":7450965,"reputation":1416,"user_id":5665753,"display_name":"Jason Slobotski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580421856,"creation_date":1580421856,"answer_id":59995202,"question_id":58910472,"body_markdown":"From what I&#39;ve seen online on various pages concerning this very thing, hibernate does not support ref cursors. Hibernate gives me this exception:\r\n  \r\n&quot;REF_CURSOR parameters should be accessed via results; nested exception is org.hibernate.procedure.ParameterMisuseException: REF_CURSOR parameters should be accessed via results&quot;\r\n\r\nI was able to get things working by doing something like this.\r\n\r\n    EntityManager entityManager = entityManagerFactory.createEntityManager()\r\n    StoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;SCHEMA.PROC_NAME&quot;, MyObject.class)\r\n    \r\n    query.registerStoredProcedureParameter(1, String.class, ParameterMode.IN)\r\n    query.registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\r\n    query.registerStoredProcedureParameter(3, MyObject.class, ParameterMode.REF_CURSOR)\r\n    query.setParameter(1, &quot;parameter1&quot;)\r\n    query.setParameter(2, &quot;parameter2&quot;)\r\n    \r\n    query.execute()\r\n    List&lt;MyObject&gt; results = query.getResultList()","title":"Oracle OUT SYS_REFCURSOR for JPA entity always null","body":"<p>From what I've seen online on various pages concerning this very thing, hibernate does not support ref cursors. Hibernate gives me this exception:</p>\n\n<p>\"REF_CURSOR parameters should be accessed via results; nested exception is org.hibernate.procedure.ParameterMisuseException: REF_CURSOR parameters should be accessed via results\"</p>\n\n<p>I was able to get things working by doing something like this.</p>\n\n<pre><code>EntityManager entityManager = entityManagerFactory.createEntityManager()\nStoredProcedureQuery query = entityManager.createStoredProcedureQuery(\"SCHEMA.PROC_NAME\", MyObject.class)\n\nquery.registerStoredProcedureParameter(1, String.class, ParameterMode.IN)\nquery.registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\nquery.registerStoredProcedureParameter(3, MyObject.class, ParameterMode.REF_CURSOR)\nquery.setParameter(1, \"parameter1\")\nquery.setParameter(2, \"parameter2\")\n\nquery.execute()\nList&lt;MyObject&gt; results = query.getResultList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17957044,"reputation":11,"user_id":13048818,"display_name":"adric hungriko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583984109,"creation_date":1583984109,"answer_id":60647256,"question_id":58910472,"body_markdown":"Try changing the type of the procedure parameter.\r\n\r\n    @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = ResultSet.class)\r\n\r\n","title":"Oracle OUT SYS_REFCURSOR for JPA entity always null","body":"<p>Try changing the type of the procedure parameter.</p>\n\n<pre><code>@StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = ResultSet.class)\n</code></pre>\n"}],"owner":{"account_id":8996500,"reputation":159,"user_id":6706710,"accept_rate":20,"display_name":"stefano capra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662652261,"creation_date":1574065513,"question_id":58910472,"body_markdown":"I&#39;m trying to fetch rows using a PLSQL stored procedure, saving them into a JPA entity.\r\nI&#39;m using ```ojbdc7```, ```spring-boot-starter-data-jpa``` and ```spring-boot 2.2.1```.\r\n\r\nThis is my procedure:\r\n```\r\ncreate or replace PACKAGE BODY pkg_test\r\nAS\r\n    PROCEDURE getAll(res OUT SYS_REFCURSOR)\r\n    IS \r\n    BEGIN\r\n        OPEN res FOR SELECT * FROM employee;\r\n    END getAll;\r\n\r\nEND pkg_test;\r\n```\r\n\r\n\r\nand my entity is:\r\n```\r\npackage com.stefanocapra.plsql.entities;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.NamedStoredProcedureQueries;\r\nimport javax.persistence.NamedStoredProcedureQuery;\r\nimport javax.persistence.ParameterMode;\r\nimport javax.persistence.StoredProcedureParameter;\r\n\r\nimport antlr.collections.List;\r\n\r\n@Entity\r\n@NamedStoredProcedureQueries({\r\n\t@NamedStoredProcedureQuery(\r\n\t\t\tname = &quot;getAll&quot;,\r\n\t\t\tprocedureName = &quot;pkg_test.getAll&quot;,\r\n\t\t\tresultClasses = Employee.class,\r\n\t\t\tparameters = { \r\n\t\t\t\t\t@StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class)\r\n\t\t\t})\r\n})\r\npublic class Employee {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;employee_id&quot;)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name = &quot;salary&quot;)\r\n\tprivate String salary;\r\n\t\r\n\t@Column(name = &quot;department_number&quot;)\r\n\tprivate String departmentNumber;\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getSalary() {\r\n\t\treturn salary;\r\n\t}\r\n\tpublic void setSalary(String salary) {\r\n\t\tthis.salary = salary;\r\n\t}\r\n\r\n\tpublic String getDepartmentNumber() {\r\n\t\treturn departmentNumber;\r\n\t}\r\n\tpublic void setDepartmentNumber(String departmentNumber) {\r\n\t\tthis.departmentNumber = departmentNumber;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;name = &quot; + this.getFirstName() + \r\n\t\t\t\t&quot; - last name = &quot; + this.getLastName() + \r\n\t\t\t\t&quot; - salary = &quot; + this.getSalary();\r\n\t}\r\n}\r\n```\r\n\r\nIf i call the procedure with:\r\n```List&lt;Employee&gt; employees = repository.getAll();```, the list is always a null object.\r\n\r\nI&#39;ve already checked and the procedure is working.\r\n\r\nThe employee table is:\r\n\r\n- EMPLOYEE_ID NUMBER(19)\r\n\r\n- FIRST_NAME VARCHAR2(255) \r\n\r\n- LAST_NAME VARCHAR2(255) \r\n\r\n- SALARY VARCHAR2(255) \r\n\r\n- DEPARTMENT_NUMBER VARCHAR2(255) \r\n\r\nWhy? What should i do?\r\n   ","title":"Oracle OUT SYS_REFCURSOR for JPA entity always null","body":"<p>I'm trying to fetch rows using a PLSQL stored procedure, saving them into a JPA entity.\nI'm using <code>ojbdc7</code>, <code>spring-boot-starter-data-jpa</code> and <code>spring-boot 2.2.1</code>.</p>\n\n<p>This is my procedure:</p>\n\n<pre><code>create or replace PACKAGE BODY pkg_test\nAS\n    PROCEDURE getAll(res OUT SYS_REFCURSOR)\n    IS \n    BEGIN\n        OPEN res FOR SELECT * FROM employee;\n    END getAll;\n\nEND pkg_test;\n</code></pre>\n\n<p>and my entity is:</p>\n\n<pre><code>package com.stefanocapra.plsql.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.NamedStoredProcedureQueries;\nimport javax.persistence.NamedStoredProcedureQuery;\nimport javax.persistence.ParameterMode;\nimport javax.persistence.StoredProcedureParameter;\n\nimport antlr.collections.List;\n\n@Entity\n@NamedStoredProcedureQueries({\n    @NamedStoredProcedureQuery(\n            name = \"getAll\",\n            procedureName = \"pkg_test.getAll\",\n            resultClasses = Employee.class,\n            parameters = { \n                    @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class)\n            })\n})\npublic class Employee {\n\n    @Id\n    @Column(name = \"employee_id\")\n    private Long id;\n\n    @Column(name = \"first_name\")\n    private String firstName;\n\n    @Column(name = \"last_name\")\n    private String lastName;\n\n    @Column(name = \"salary\")\n    private String salary;\n\n    @Column(name = \"department_number\")\n    private String departmentNumber;\n\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getSalary() {\n        return salary;\n    }\n    public void setSalary(String salary) {\n        this.salary = salary;\n    }\n\n    public String getDepartmentNumber() {\n        return departmentNumber;\n    }\n    public void setDepartmentNumber(String departmentNumber) {\n        this.departmentNumber = departmentNumber;\n    }\n\n    @Override\n    public String toString() {\n        return \"name = \" + this.getFirstName() + \n                \" - last name = \" + this.getLastName() + \n                \" - salary = \" + this.getSalary();\n    }\n}\n</code></pre>\n\n<p>If i call the procedure with:\n<code>List&lt;Employee&gt; employees = repository.getAll();</code>, the list is always a null object.</p>\n\n<p>I've already checked and the procedure is working.</p>\n\n<p>The employee table is:</p>\n\n<ul>\n<li><p>EMPLOYEE_ID NUMBER(19)</p></li>\n<li><p>FIRST_NAME VARCHAR2(255) </p></li>\n<li><p>LAST_NAME VARCHAR2(255) </p></li>\n<li><p>SALARY VARCHAR2(255) </p></li>\n<li><p>DEPARTMENT_NUMBER VARCHAR2(255) </p></li>\n</ul>\n\n<p>Why? What should i do?</p>\n"},{"tags":["java","xml","maven","intellij-idea"],"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":1,"creation_date":1453403332,"post_id":34932273,"comment_id":57597370,"body_markdown":"You put it in the wrong place if you get that error. What does the Maven command-line say?","body":"You put it in the wrong place if you get that error. What does the Maven command-line say?"},{"owner":{"account_id":7308715,"reputation":820,"user_id":5568752,"accept_rate":69,"display_name":"kybak"},"score":0,"creation_date":1453403706,"post_id":34932273,"comment_id":57597591,"body_markdown":"I&#39;m not sure how to access the Maven command line. I&#39;m totally new to this.","body":"I&#39;m not sure how to access the Maven command line. I&#39;m totally new to this."},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1453403814,"post_id":34932273,"comment_id":57597658,"body_markdown":"You go to the directory, and you type &#39;mvn&#39;. It&#39;s essential to be familiar with this if you&#39;re working with a Maven project; depending on the IDE for everything you are unlikely to succeed. In any case, you should read:  https://maven.apache.org/pom.html for help in seeing what you did wrong.","body":"You go to the directory, and you type &#39;mvn&#39;. It&#39;s essential to be familiar with this if you&#39;re working with a Maven project; depending on the IDE for everything you are unlikely to succeed. In any case, you should read:  <a href=\"https://maven.apache.org/pom.html\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html</a> for help in seeing what you did wrong."},{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1453403997,"post_id":34932273,"comment_id":57597757,"body_markdown":"check your `pom.xml` format, you may missed a opening or closing tag.","body":"check your <code>pom.xml</code> format, you may missed a opening or closing tag."},{"owner":{"account_id":7308715,"reputation":820,"user_id":5568752,"accept_rate":69,"display_name":"kybak"},"score":0,"creation_date":1453405090,"post_id":34932273,"comment_id":57598370,"body_markdown":"@bmargulies I don&#39;t quite understand what you&#39;re saying but I just installed Apache Maven by setting the environment variable because I wasn&#39;t getting anything when I typed &quot;mvn&quot; or &quot;mvn -v&quot; into the command prompt. Now when I type &quot;mvn -v&quot; it gives me the correct result but when I type in &quot;mvn&quot; I get a bunch of errors like, &quot;build failure&quot; and &quot;no goals have been specified for this build&quot;.","body":"@bmargulies I don&#39;t quite understand what you&#39;re saying but I just installed Apache Maven by setting the environment variable because I wasn&#39;t getting anything when I typed &quot;mvn&quot; or &quot;mvn -v&quot; into the command prompt. Now when I type &quot;mvn -v&quot; it gives me the correct result but when I type in &quot;mvn&quot; I get a bunch of errors like, &quot;build failure&quot; and &quot;no goals have been specified for this build&quot;."},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1453405282,"post_id":34932273,"comment_id":57598482,"body_markdown":"Sound&#39;s like you are in the wrong directory. You need to be in the directory with the pom.xml, and probably type `mvn compile`","body":"Sound&#39;s like you are in the wrong directory. You need to be in the directory with the pom.xml, and probably type <code>mvn compile</code>"},{"owner":{"account_id":7308715,"reputation":820,"user_id":5568752,"accept_rate":69,"display_name":"kybak"},"score":0,"creation_date":1453405652,"post_id":34932273,"comment_id":57598705,"body_markdown":"Okay I did that but I&#39;m getting another error saying, &quot;malformed POM...unrecognized tag: dependency&quot; and such.","body":"Okay I did that but I&#39;m getting another error saying, &quot;malformed POM...unrecognized tag: dependency&quot; and such."},{"owner":{"account_id":7308715,"reputation":820,"user_id":5568752,"accept_rate":69,"display_name":"kybak"},"score":0,"creation_date":1453406071,"post_id":34932273,"comment_id":57598936,"body_markdown":"Okay I did it on an earlier file I made and it seems to be working now. For reference, this project was created using archetypes and the code above wasn&#39;t in the xml. Thanks for your help!","body":"Okay I did it on an earlier file I made and it seems to be working now. For reference, this project was created using archetypes and the code above wasn&#39;t in the xml. Thanks for your help!"}],"answers":[{"tags":[],"owner":{"account_id":7308715,"reputation":820,"user_id":5568752,"accept_rate":69,"display_name":"kybak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453406590,"creation_date":1453406590,"answer_id":34933242,"question_id":34932273,"body_markdown":"1) After setting environment variable JAVA_HOME, install Apache Maven here, https://maven.apache.org/install.html.\r\n\r\n2) If you have already created a new project in Intellij IDEA, open the command prompt and access the directory of the pom.xml file (example type: &quot;cd C:\\Users\\Kyle\\IdeaProjects\\MavenDemo&quot;). \r\n\r\n3) Type: mvn compile\r\n\r\n4) In Intellij type alt+insert to generate a dependency. If you have downloaded it correctly from the Maven repository it should be there.","title":"Adding Maven Dependencies to XML with Intellij IDEA","body":"<p>1) After setting environment variable JAVA_HOME, install Apache Maven here, <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow\">https://maven.apache.org/install.html</a>.</p>\n\n<p>2) If you have already created a new project in Intellij IDEA, open the command prompt and access the directory of the pom.xml file (example type: \"cd C:\\Users\\Kyle\\IdeaProjects\\MavenDemo\"). </p>\n\n<p>3) Type: mvn compile</p>\n\n<p>4) In Intellij type alt+insert to generate a dependency. If you have downloaded it correctly from the Maven repository it should be there.</p>\n"},{"tags":[],"owner":{"account_id":12217105,"reputation":1,"user_id":8917181,"display_name":"Boris Mart&#237;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662651821,"creation_date":1662651821,"answer_id":73651810,"question_id":34932273,"body_markdown":"mvn compile //Inside project folder","title":"Adding Maven Dependencies to XML with Intellij IDEA","body":"<p>mvn compile //Inside project folder</p>\n"}],"owner":{"account_id":7308715,"reputation":820,"user_id":5568752,"accept_rate":69,"display_name":"kybak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662651821,"creation_date":1453403217,"question_id":34932273,"body_markdown":"I&#39;m currently watching a tutorial on adding a Maven dependency to a pom.xml file and it does not appear to be working as it should. I downloaded the external jar file to the library and in the video his xml code is automatically updated with the dependency. Since mine was not automatically updated I tried to generate a dependency. My artifact did not show up in the artifact list. So, I tried to manually enter in the following code:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis created red squiggly lines under the dependency tags with an error message of, &quot;Invalid content was found starting with element &#39;dependency&#39;&quot;.\r\n\r\nIf someone could walk me through step by step how I can get this to work I would it appreciate it very much.\r\n\r\n\r\n\r\n\r\n","title":"Adding Maven Dependencies to XML with Intellij IDEA","body":"<p>I'm currently watching a tutorial on adding a Maven dependency to a pom.xml file and it does not appear to be working as it should. I downloaded the external jar file to the library and in the video his xml code is automatically updated with the dependency. Since mine was not automatically updated I tried to generate a dependency. My artifact did not show up in the artifact list. So, I tried to manually enter in the following code:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;version&gt;2.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This created red squiggly lines under the dependency tags with an error message of, \"Invalid content was found starting with element 'dependency'\".</p>\n\n<p>If someone could walk me through step by step how I can get this to work I would it appreciate it very much.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1662566262,"post_id":73638395,"comment_id":130037265,"body_markdown":"You can&#39;t make method local variables `public` and visible to the outside. You need to turn it into an instance variable","body":"You can&#39;t make method local variables <code>public</code> and visible to the outside. You need to turn it into an instance variable"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662567711,"post_id":73638395,"comment_id":130037788,"body_markdown":"That variable **does not exist** except when executing that specific method. and even then only after having executed the particular case.  (Also: terminology nit - you don&#39;t &quot;call&quot; strings or other data; you only call methods).","body":"That variable <b>does not exist</b> except when executing that specific method. and even then only after having executed the particular case.  (Also: terminology nit - you don&#39;t &quot;call&quot; strings or other data; you only call methods)."}],"answers":[{"tags":[],"owner":{"account_id":23904485,"reputation":21,"user_id":17902242,"display_name":"DerLebkuchenmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662570349,"creation_date":1662570349,"answer_id":73639296,"question_id":73638395,"body_markdown":"I would suggest to put the declaration `public String string;` outside your method (for example right beneath your class declaration).\r\nYou can also declare it private (in the same position though) and add a public getter method:\r\n```\r\npublic String getString() {\r\n    return string\r\n}\r\n```","title":"Unable to public a string","body":"<p>I would suggest to put the declaration <code>public String string;</code> outside your method (for example right beneath your class declaration).\nYou can also declare it private (in the same position though) and add a public getter method:</p>\n<pre><code>public String getString() {\n    return string\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662651769,"creation_date":1662651769,"answer_id":73651800,"question_id":73638395,"body_markdown":"You can&#39;t make him public, because you&#39;re declaring him inside block of code of a method.\r\nSo declare the variable string as global variable then your can make it public and using it in another classes.\r\nLike this :\r\n\r\n    public String string;\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n        switch (event.getEventType()) {\r\n            case AccessibilityEvent.TYPE_VIEW_TEXT_CHANGED:\r\n\r\n                string = event.getText().toString();","title":"Unable to public a string","body":"<p>You can't make him public, because you're declaring him inside block of code of a method.\nSo declare the variable string as global variable then your can make it public and using it in another classes.\nLike this :</p>\n<pre><code>public String string;\npublic void onAccessibilityEvent(AccessibilityEvent event) {\n    switch (event.getEventType()) {\n        case AccessibilityEvent.TYPE_VIEW_TEXT_CHANGED:\n\n            string = event.getText().toString();\n</code></pre>\n"}],"owner":{"account_id":21239565,"reputation":17,"user_id":15623276,"display_name":"shohel hossain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1662651769,"creation_date":1662565837,"question_id":73638395,"body_markdown":"I want to call a string in a different class but I am unable to make it public it&#39;s showing \r\n**Modifier &#39;public&#39; not allowed here**.\r\n\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n            switch (event.getEventType()) {\r\n                case AccessibilityEvent.TYPE_VIEW_TEXT_CHANGED:\r\n    \r\n                    String string = event.getText().toString();\r\nI want to call the string in a different class in onStartCommand method as for *if* statement\r\nkindly guide me on how can I call the strig without public, or any other method to achieve it.","title":"Unable to public a string","body":"<p>I want to call a string in a different class but I am unable to make it public it's showing\n<strong>Modifier 'public' not allowed here</strong>.</p>\n<pre><code>public void onAccessibilityEvent(AccessibilityEvent event) {\n        switch (event.getEventType()) {\n            case AccessibilityEvent.TYPE_VIEW_TEXT_CHANGED:\n\n                String string = event.getText().toString();\n</code></pre>\n<p>I want to call the string in a different class in onStartCommand method as for <em>if</em> statement\nkindly guide me on how can I call the strig without public, or any other method to achieve it.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1662571172,"post_id":73639371,"comment_id":130038889,"body_markdown":"Because an interface without an implementation is useless - where is the impl coming from? - but an array of interfaces is use*ful*: you can put different implementations in the array.","body":"Because an interface without an implementation is useless - where is the impl coming from? - but an array of interfaces is use<i>ful</i>: you can put different implementations in the array."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1662583705,"post_id":73639371,"comment_id":130042451,"body_markdown":"The interface represents a Type. You are creating an Array of a Type in this case the Type is your interface. The Array can hold any object that is an implementation of your interface.","body":"The interface represents a Type. You are creating an Array of a Type in this case the Type is your interface. The Array can hold any object that is an implementation of your interface."},{"owner":{"account_id":26233276,"reputation":1,"user_id":19908834,"display_name":"Amar"},"score":0,"creation_date":1662729109,"post_id":73639371,"comment_id":130079641,"body_markdown":"Thanks @Michael, I am a beginner in Java, so unless I see the real time usage of the OOPs concepts, these are only rules for me, hope to learn more","body":"Thanks @Michael, I am a beginner in Java, so unless I see the real time usage of the OOPs concepts, these are only rules for me, hope to learn more"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662651646,"creation_date":1662572417,"answer_id":73639626,"question_id":73639371,"body_markdown":"Because you aren&#39;t instantiating an interface, you are instantiating an array. No interfaces are instantiated here:\r\n\r\n```java\r\nOne[] T = new One[5];\r\n```\r\n\r\nEvery element of `T` will be `null`. Creating an instance could look like this:\r\n\r\n```java\r\nclass OneImpl implements One {\r\n   @Override\r\n   public void callback() {\r\n      System.out.println(&quot;callback&quot;);\r\n   }\r\n}\r\n\r\nT[0] = new OneImpl();\r\n```\r\n\r\nOr like this:\r\n\r\n```java\r\nT[0] = new One() { \r\n    @Override\r\n    public void callback() {\r\n        System.out.println(&quot;callback&quot;);\r\n    }\r\n};\r\n```\r\n\r\nOr even like this:\r\n\r\n```java\r\nT[0] = () -&gt; System.out.println(&quot;callback&quot;);\r\n```\r\n\r\n\r\n","title":"Why cant we instantiate an interface but can do an array of interface?","body":"<p>Because you aren't instantiating an interface, you are instantiating an array. No interfaces are instantiated here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>One[] T = new One[5];\n</code></pre>\n<p>Every element of <code>T</code> will be <code>null</code>. Creating an instance could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OneImpl implements One {\n   @Override\n   public void callback() {\n      System.out.println(&quot;callback&quot;);\n   }\n}\n\nT[0] = new OneImpl();\n</code></pre>\n<p>Or like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>T[0] = new One() { \n    @Override\n    public void callback() {\n        System.out.println(&quot;callback&quot;);\n    }\n};\n</code></pre>\n<p>Or even like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>T[0] = () -&gt; System.out.println(&quot;callback&quot;);\n</code></pre>\n"}],"owner":{"account_id":26233276,"reputation":1,"user_id":19908834,"display_name":"Amar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73639626,"answer_count":1,"score":0,"last_activity_date":1662651646,"creation_date":1662570879,"question_id":73639371,"body_markdown":"For example, this is valid and we need to have Class Two objects in this T array, what is the purpose of this acceptance?\r\n    \r\n    interface One \r\n    {\r\n    \tpublic void callback();   \r\n    }\r\n    \r\n    class Two implements One\r\n    {\r\n    \tOne[] T = new One[5];\r\n    }","title":"Why cant we instantiate an interface but can do an array of interface?","body":"<p>For example, this is valid and we need to have Class Two objects in this T array, what is the purpose of this acceptance?</p>\n<pre><code>interface One \n{\n    public void callback();   \n}\n\nclass Two implements One\n{\n    One[] T = new One[5];\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","rest","jpa"],"comments":[{"owner":{"account_id":1010577,"reputation":815,"user_id":1023236,"accept_rate":42,"display_name":"Rajeshkumar"},"score":1,"creation_date":1662545983,"post_id":73629889,"comment_id":130028857,"body_markdown":"Instead of posting as image you can paste the code block. It will be useful for us to help.","body":"Instead of posting as image you can paste the code block. It will be useful for us to help."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1662556979,"post_id":73629889,"comment_id":130033299,"body_markdown":"Is this a problem with your findAll method do you think, or is the data in the database incorrect (or unexpected)? I don&#39;t think anyone can help unless you show the code for the post comments API - what exactly you are doing and how it works, as well as the model used. Note that your show-all is showing the same category twice. Do you really want duplicate categories returned when they have multiple comments or can it be assumed your query isn&#39;t optimal?","body":"Is this a problem with your findAll method do you think, or is the data in the database incorrect (or unexpected)? I don&#39;t think anyone can help unless you show the code for the post comments API - what exactly you are doing and how it works, as well as the model used. Note that your show-all is showing the same category twice. Do you really want duplicate categories returned when they have multiple comments or can it be assumed your query isn&#39;t optimal?"},{"owner":{"account_id":26266543,"reputation":3,"user_id":19936999,"display_name":"Muhammad Shakir"},"score":0,"creation_date":1662612370,"post_id":73629889,"comment_id":130046993,"body_markdown":"@Rajeshkumar I have updated thread by adding all the code","body":"@Rajeshkumar I have updated thread by adding all the code"},{"owner":{"account_id":26266543,"reputation":3,"user_id":19936999,"display_name":"Muhammad Shakir"},"score":0,"creation_date":1662613511,"post_id":73629889,"comment_id":130047189,"body_markdown":"@Chris Please review the new Updated thread with updated Screen shot","body":"@Chris Please review the new Updated thread with updated Screen shot"},{"owner":{"account_id":26266543,"reputation":3,"user_id":19936999,"display_name":"Muhammad Shakir"},"score":0,"creation_date":1662613581,"post_id":73629889,"comment_id":130047206,"body_markdown":"I am able to get list of categories. I am able to get list of comments based on Category Id\nWhen I am trying to combine both of these endpoints in one consolidated API that&#39;s where it is keep repeating the ID&#39;s not certain what is going on","body":"I am able to get list of categories. I am able to get list of comments based on Category Id When I am trying to combine both of these endpoints in one consolidated API that&#39;s where it is keep repeating the ID&#39;s not certain what is going on"},{"owner":{"account_id":26266543,"reputation":3,"user_id":19936999,"display_name":"Muhammad Shakir"},"score":0,"creation_date":1662614204,"post_id":73629889,"comment_id":130047309,"body_markdown":"For Reference This is online tutorial I am following \n`https://www.bezkoder.com/jpa-one-to-many/`\n\nIt does not have a consolidated API which I wrote it, yet I am having a minor issue. Hoping someone here pinpoint the issue.","body":"For Reference This is online tutorial I am following  <code>https:&#47;&#47;www.bezkoder.com&#47;jpa-one-to-many&#47;</code>  It does not have a consolidated API which I wrote it, yet I am having a minor issue. Hoping someone here pinpoint the issue."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1662651147,"post_id":73629889,"comment_id":130060116,"body_markdown":"The original question showed &#39;show-all&#39; returning two instances of category with ID 20001 - is that not the case? If it is returning 20000 and 20001 category instances correctly, verify that your method is actually running &quot;commentRepository.findByCategoryId(categoryId)&quot; on those two ID values, and what it is returning. And also that you don&#39;t have a cut and paste or other code error that might cause you to reuse the same resulting list or some find-all type call under the covers.","body":"The original question showed &#39;show-all&#39; returning two instances of category with ID 20001 - is that not the case? If it is returning 20000 and 20001 category instances correctly, verify that your method is actually running &quot;commentRepository.findByCategoryId(categoryId)&quot; on those two ID values, and what it is returning. And also that you don&#39;t have a cut and paste or other code error that might cause you to reuse the same resulting list or some find-all type call under the covers."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662651597,"creation_date":1662651597,"answer_id":73651767,"question_id":73629889,"body_markdown":"Error is a logic flaw in your showAll method. You instantiate and build a single listOfComments List and populate it with comments as you process categories, and use this same list for all categories. As it runs, the list will contain all comments from them all.\r\n\r\nEach Category needs its own independent list:\r\n\r\n    public ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt; showAll() {\r\n      ..\r\n        List&lt;Comment&gt; listOfCommentsByCategoryId =commentRepository.findByCategoryId(categoryId);\r\n        List&lt;CommentInfo&gt; listOfCommentInfos = new ArrayList&lt;CommentInfo&gt;();\r\n            \r\n        for (Comment comment : listOfCommentsByCategoryId) {\r\n          CommentInfo commentInfo = new CommentInfo();\r\n          commentInfo.setId(comment.getId());\r\n          commentInfo.setContent(comment.getContent());\r\n          System.out.println(commentInfo);\r\n          listOfCommentInfos.add(commentInfo);\r\n          response.setComments(listOfCommentInfos);\r\n        }\r\n        listofAll.add(response);\r\n      }\r\n        \r\n      return new ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt;(listofAll, HttpStatus.OK);\r\n    }","title":"I am trying to retrieve a List of Category and Comments By Using the Sprint Boot where Comment ID is Repeating for every Object","body":"<p>Error is a logic flaw in your showAll method. You instantiate and build a single listOfComments List and populate it with comments as you process categories, and use this same list for all categories. As it runs, the list will contain all comments from them all.</p>\n<p>Each Category needs its own independent list:</p>\n<pre><code>public ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt; showAll() {\n  ..\n    List&lt;Comment&gt; listOfCommentsByCategoryId =commentRepository.findByCategoryId(categoryId);\n    List&lt;CommentInfo&gt; listOfCommentInfos = new ArrayList&lt;CommentInfo&gt;();\n        \n    for (Comment comment : listOfCommentsByCategoryId) {\n      CommentInfo commentInfo = new CommentInfo();\n      commentInfo.setId(comment.getId());\n      commentInfo.setContent(comment.getContent());\n      System.out.println(commentInfo);\n      listOfCommentInfos.add(commentInfo);\n      response.setComments(listOfCommentInfos);\n    }\n    listofAll.add(response);\n  }\n    \n  return new ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt;(listofAll, HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":26266543,"reputation":3,"user_id":19936999,"display_name":"Muhammad Shakir"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73651767,"answer_count":1,"score":-2,"last_activity_date":1662651597,"creation_date":1662522201,"question_id":73629889,"body_markdown":"Here is the Background information of my Restful API. I am trying to create Many to One Relation between Comments and Category Where Many Comments belong to One Category. If I am trying to call the Get All Categories -&gt; I am getting the correct response. Also, If I am trying to call the Comments API where I am passing the CategoryID as a Path Variable I am able to retrive the correct response as well. However, When I am trying to consolidate the API, it is repeating the comments even though they are not belong to category one For instance.\r\n\r\n**Category Entity**\r\n\r\npackage com.mshakir.restfulwebservice.dto.entity;&lt;br&gt;\r\nimport javax.persistence.Column;&lt;br&gt;\r\nimport javax.persistence.Entity;&lt;br&gt;\r\nimport javax.persistence.GeneratedValue;&lt;br&gt;\r\nimport javax.persistence.GenerationType;&lt;br&gt;\r\nimport javax.persistence.Id;&lt;br&gt;\r\nimport javax.persistence.SequenceGenerator;&lt;br&gt;\r\nimport javax.persistence.Table;&lt;br&gt;\r\nimport javax.persistence.Transient;&lt;br&gt;\r\n@Entity &lt;br&gt;\r\n@Table(name = &quot;categories&quot;) &lt;br&gt;\r\n`   \r\n    public class Category {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;category_generator&quot;)\r\n\t@SequenceGenerator(name = &quot;category_generator&quot;, sequenceName = &quot;category_sequence&quot;, initialValue = 20000, allocationSize = 1)\r\n\t@Column(name = &quot;category_id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;category_name&quot;, nullable = false, length = 32)\r\n\tprivate String categoryName;\r\n\r\n\t@Column(name = &quot;category_desc&quot;, nullable = false, length = 64)\r\n\tprivate String categoryDescription;\r\n\r\n\t@Column(name = &quot;is_published&quot;, nullable = false, length = 32)\r\n\tprivate boolean isPublished = true;\r\n\r\n\t@Transient\r\n\tprivate String publishedMessage;\r\n\t\r\n\tprivate String isActive;\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getCategoryName() {\r\n\t\treturn categoryName;\r\n\t}\r\n\r\n\tpublic void setCategoryName(String categoryName) {\r\n\t\tthis.categoryName = categoryName;\r\n\t}\r\n\r\n\tpublic String getCategoryDescription() {\r\n\t\treturn categoryDescription;\r\n\t}\r\n\r\n\tpublic void setCategoryDescription(String categoryDescription) {\r\n\t\tthis.categoryDescription = categoryDescription;\r\n\t}\r\n\r\n\tpublic boolean getIsPublished() {\r\n\t\treturn isPublished;\r\n\t}\r\n\r\n\tpublic void setIsPublished(boolean isPublished) {\r\n\t\tthis.isPublished = isPublished;\r\n\t}\r\n\r\n\tpublic String getPublishedMessage() {\r\n\t\tString message = &quot;&quot;;\r\n\t\tif (isPublished) {\r\n\t\t\tmessage = &quot;Category Id has been published to the Website&quot;;\r\n\t\t} else {\r\n\t\t\tmessage = &quot;Category Id has not been published to the Website&quot;;\r\n\t\t}\r\n\t\treturn message;\r\n\t}\r\n\r\n\tpublic String getIsActive() {\r\n\t\treturn isActive;\r\n\t}\r\n\r\n\tpublic void setIsActive(String isActive) {\r\n\t\tthis.isActive = isActive;\r\n\t}\r\n\r\n\tpublic void setPublishedMessage(String publishedMessage) {\r\n\t\tthis.publishedMessage = publishedMessage;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Category [id=&quot; + id + &quot;, categoryName=&quot; + categoryName + &quot;, categoryDescription=&quot; + categoryDescription\r\n\t\t\t\t+ &quot; , isActive=&quot; + isActive + &quot;]&quot;;\r\n\t}\r\n\r\n    }`\r\n\r\n**Comment Entity**\r\npackage com.mshakir.restfulwebservice.dto.entity; &lt;br&gt;\r\n\r\nimport javax.persistence.Column;&lt;br&gt;\r\nimport javax.persistence.Entity; &lt;br&gt;\r\nimport javax.persistence.FetchType; &lt;br&gt;\r\nimport javax.persistence.GeneratedValue; &lt;br&gt;\r\nimport javax.persistence.GenerationType; &lt;br&gt;\r\nimport javax.persistence.Id; &lt;br&gt;\r\nimport javax.persistence.JoinColumn; &lt;br&gt;\r\nimport javax.persistence.Lob; &lt;br&gt;\r\nimport javax.persistence.ManyToOne; &lt;br&gt;\r\nimport javax.persistence.SequenceGenerator; &lt;br&gt;\r\nimport javax.persistence.Table; &lt;br&gt;\r\n\r\nimport org.hibernate.annotations.OnDelete;\r\nimport org.hibernate.annotations.OnDeleteAction;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n`@Entity\r\n@Table(name = &quot;comments&quot;)\r\npublic class Comment {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;comment_generator&quot;)\r\n\t@SequenceGenerator(name = &quot;comment_generator&quot;, sequenceName = &quot;comment_sequence&quot;, initialValue = 15001, allocationSize = 1)\r\n\t@Column(name = &quot;comment_id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Lob\r\n\t@Column(name = &quot;comment_content&quot;)\r\n\tprivate String content;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n\t@JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n\t@OnDelete(action = OnDeleteAction.CASCADE)\r\n\t@JsonIgnore\r\n\tprivate Category category;\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getContent() {\r\n\t\treturn content;\r\n\t}\r\n\r\n\tpublic void setContent(String content) {\r\n\t\tthis.content = content;\r\n\t}\r\n\r\n\tpublic Category getCategory() {\r\n\t\treturn category;\r\n\t}\r\n\r\n\tpublic void setCategory(Category category) {\r\n\t\tthis.category = category;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Comment [id=&quot; + id + &quot;, content=&quot; + content + &quot;, category=&quot; + category + &quot;]&quot;;\r\n\t}\r\n\t\r\n}`\r\n\r\n**Category Controller with Implement Service**&lt;br&gt;\r\n`\r\n    @RestController&lt;br&gt;\r\n    @RequestMapping(&quot;/categories&quot;)&lt;br&gt;\r\n    public class CategoryController {\r\n\tpublic static Logger log = LoggerFactory.getLogger(CategoryController.class);\r\n\r\n\t@Autowired\r\n\tCategoryRepository categoryRepository;\r\n\r\n\t@Autowired\r\n\tCommentRepository commentRepository;\r\n\t\r\n\tprivate final CategoryServiceImpl categoryServiceImpl;\r\n\r\n\t@Autowired\r\n\tpublic CategoryController(CategoryServiceImpl categoryServiceImpl) {\r\n\t\tthis.categoryServiceImpl = categoryServiceImpl;\r\n\t}\r\n\r\n\t@PostMapping(&quot;/create-new-category&quot;)\r\n\tpublic ResponseEntity&lt;Category&gt; createCategoryRecord(@RequestBody Category category) throws Exception {\r\n\t\tlog.info(&quot;Category Controller: createCategoryRecord()&quot;);\r\n\t\tCategory createNewCategory = categoryServiceImpl.createNewCategory(category);\r\n\t\tHttpStatus statusCreated201 = HttpStatus.CREATED;\r\n\t\treturn new ResponseEntity&lt;Category&gt;(createNewCategory, statusCreated201);\r\n\t}\r\n    }`\r\n    \r\n**Implement Service Method For this Post Category**&lt;br&gt;\r\n`\r\n    @Service&lt;br&gt;\r\n    public class CategoryServiceImpl implements CategoryService {\r\n\r\n\tprivate CategoryRepository categoryRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic CategoryServiceImpl(CategoryRepository categoryRepository) {\r\n\t\tthis.categoryRepository = categoryRepository;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Category createNewCategory(Category category) {\r\n\t\tString categoryName = category.getCategoryName();\r\n\t\tOptional&lt;Category&gt; findByCategoryName = categoryRepository.findByCategoryName(categoryName);\r\n\t\tif (findByCategoryName.isPresent()) {\r\n\t\t\tthrow new InvalidDataException(&quot;Category already exists in the Database&quot;);\r\n\t\t}\r\n\t\tCategory newCategory = categoryRepository.save(category);\r\n\t\treturn newCategory;\r\n\t}\r\n    }`\r\n\r\n**Show All Categories**&lt;br&gt;\r\n`\t\r\n    @GetMapping(&quot;/show-all-categories&quot;) &lt;br&gt;\r\n\tpublic ResponseEntity&lt;List&lt;Category&gt;&gt; \r\n    showAllCategoriesAll(@RequestParam(required = false) String categoryName) { &lt;br&gt;\r\n\t\tList&lt;Category&gt; listOfCategories = new ArrayList&lt;Category&gt;();\r\n\t\tif (Utils.isEmptyString(categoryName)) {\r\n\t\t\tcategoryRepository.findAll().forEach(category -&gt; {\t\t\t\t\r\n\t\t\t\tlistOfCategories.add(category);\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tList&lt;Category&gt; findByCategoryNameContaining = categoryRepository.findByCategoryNameContaining(categoryName);\r\n\t\t\tfindByCategoryNameContaining.forEach(category -&gt; listOfCategories.add(category));\r\n\t\t}\r\n\t\t\r\n\t\tif (listOfCategories.isEmpty()) {\r\n\t\t\treturn new ResponseEntity&lt;List&lt;Category&gt;&gt;(listOfCategories, HttpStatus.OK);\r\n\t\t}\r\n\t\t\t\t\t    \r\n\t\treturn new ResponseEntity&lt;List&lt;Category&gt;&gt;(listOfCategories, HttpStatus.OK);\r\n\t}`\r\n\r\n**Get List of Comments Based on Category ID** &lt;br&gt;\r\n`\r\n    @GetMapping(&quot;/categories/{categoryId}/comments&quot;) &lt;br&gt;\r\n    public ResponseEntity&lt;List&lt;Comment&gt;&gt; &lt;br&gt;\r\n    getAllCommentsByTutorialId(@PathVariable(value = &quot;categoryId&quot;) Long categoryId) {&lt;br&gt;\r\n\t    if (!categoryRepository.existsById(categoryId)) {\r\n\t      throw new ResourceNotFoundException(&quot;Not found Tutorial with id = &quot; + categoryId);\r\n\t    }\r\n\t    \r\n\t    List&lt;Comment&gt; comments = commentRepository.findByCategoryId(categoryId);\r\n\t    \r\n\t    List&lt;Comment&gt; findAll = commentRepository.findAll();\r\n\t    for (Comment comment: findAll) {\r\n\t    \tSystem.out.println(comment.getCategory().getCategoryName());\r\n\t    \tSystem.out.println(comment.getCategory().getCategoryDescription());\r\n\t    }\r\n\t    System.out.println(findAll);\r\n\t    return new ResponseEntity&lt;&gt;(comments, HttpStatus.OK);\r\n\t  }`\r\n\r\n**Consolidated API**\r\n`\r\n    @RestController &lt;br&gt;\r\n    @RequestMapping(&quot;/list-of-categories&quot;) &lt;br&gt;\r\n    public class ListOfCategory { &lt;br&gt;\r\n\r\n\t@Autowired\r\n\tCategoryRepository categoryRepository;\r\n\r\n\t@Autowired\r\n\tCommentRepository commentRepository;\r\n\r\n\t@GetMapping(&quot;/show-all&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt; showAll() {\r\n\t\tList&lt;CommentInfo&gt; listOfComments = new ArrayList&lt;CommentInfo&gt;();\r\n\t\tList&lt;CategoryCommentResponse&gt; listofAll = new ArrayList&lt;CategoryCommentResponse&gt;();\r\n\t\tList&lt;Category&gt; categoryList = categoryRepository.findAll();\r\n\t\tSystem.out.println(categoryList);\r\n\t\tfor (Category category : categoryList) {\r\n\t\t\tCategoryCommentResponse response = new CategoryCommentResponse();\r\n\t\t\tLong categoryId = category.getId();\r\n\t\t\tresponse.setCategoryId(categoryId);\r\n\t\t\tresponse.setCategoryDescription(category.getCategoryDescription());\r\n\t\t\tresponse.setCategoryName(category.getCategoryName());\r\n\t\t\tList&lt;Comment&gt; listOfCommentsByCategoryId = commentRepository.findByCategoryId(categoryId);\r\n\t\t\t\r\n\t\t\tfor (Comment comment : listOfCommentsByCategoryId) {\r\n\t\t\t\tCommentInfo commentInfo = new CommentInfo();\r\n\t\t\t\tLong commentId = comment.getId();\r\n\t\t\t\tcommentInfo.setId(commentId);\r\n\t\t\t\tcommentInfo.setContent(comment.getContent());\r\n\t\t\t\tSystem.out.println(commentInfo);\r\n\t\t\t\tlistOfComments.add(commentInfo);\r\n\t\t\t\tresponse.setComments(listOfComments);\r\n\t\t\t}\r\n\t\t\tlistofAll.add(response);\r\n\t\t}\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt;(listofAll, HttpStatus.OK);\r\n\r\n\t}\r\n    }`\r\n\r\nPlease find attached Screenshot to review as well. Thank you\r\n\r\n[ConsolidatedAPI][1]\r\n\r\n[List Of Categories][2]\r\n\r\n[List Of Comments based on Category Id][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fkt3C.png\r\n  [2]: https://i.stack.imgur.com/7rNgC.png\r\n  [3]: https://i.stack.imgur.com/n5iPp.png","title":"I am trying to retrieve a List of Category and Comments By Using the Sprint Boot where Comment ID is Repeating for every Object","body":"<p>Here is the Background information of my Restful API. I am trying to create Many to One Relation between Comments and Category Where Many Comments belong to One Category. If I am trying to call the Get All Categories -&gt; I am getting the correct response. Also, If I am trying to call the Comments API where I am passing the CategoryID as a Path Variable I am able to retrive the correct response as well. However, When I am trying to consolidate the API, it is repeating the comments even though they are not belong to category one For instance.</p>\n<p><strong>Category Entity</strong></p>\n<p>package com.mshakir.restfulwebservice.dto.entity;<br>\nimport javax.persistence.Column;<br>\nimport javax.persistence.Entity;<br>\nimport javax.persistence.GeneratedValue;<br>\nimport javax.persistence.GenerationType;<br>\nimport javax.persistence.Id;<br>\nimport javax.persistence.SequenceGenerator;<br>\nimport javax.persistence.Table;<br>\nimport javax.persistence.Transient;<br>\n@Entity <br>\n@Table(name = &quot;categories&quot;) <br>\n`<br />\npublic class Category {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;category_generator&quot;)\n@SequenceGenerator(name = &quot;category_generator&quot;, sequenceName = &quot;category_sequence&quot;, initialValue = 20000, allocationSize = 1)\n@Column(name = &quot;category_id&quot;)\nprivate Long id;\n\n@Column(name = &quot;category_name&quot;, nullable = false, length = 32)\nprivate String categoryName;\n\n@Column(name = &quot;category_desc&quot;, nullable = false, length = 64)\nprivate String categoryDescription;\n\n@Column(name = &quot;is_published&quot;, nullable = false, length = 32)\nprivate boolean isPublished = true;\n\n@Transient\nprivate String publishedMessage;\n\nprivate String isActive;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getCategoryName() {\n    return categoryName;\n}\n\npublic void setCategoryName(String categoryName) {\n    this.categoryName = categoryName;\n}\n\npublic String getCategoryDescription() {\n    return categoryDescription;\n}\n\npublic void setCategoryDescription(String categoryDescription) {\n    this.categoryDescription = categoryDescription;\n}\n\npublic boolean getIsPublished() {\n    return isPublished;\n}\n\npublic void setIsPublished(boolean isPublished) {\n    this.isPublished = isPublished;\n}\n\npublic String getPublishedMessage() {\n    String message = &quot;&quot;;\n    if (isPublished) {\n        message = &quot;Category Id has been published to the Website&quot;;\n    } else {\n        message = &quot;Category Id has not been published to the Website&quot;;\n    }\n    return message;\n}\n\npublic String getIsActive() {\n    return isActive;\n}\n\npublic void setIsActive(String isActive) {\n    this.isActive = isActive;\n}\n\npublic void setPublishedMessage(String publishedMessage) {\n    this.publishedMessage = publishedMessage;\n}\n\n@Override\npublic String toString() {\n    return &quot;Category [id=&quot; + id + &quot;, categoryName=&quot; + categoryName + &quot;, categoryDescription=&quot; + categoryDescription\n            + &quot; , isActive=&quot; + isActive + &quot;]&quot;;\n}\n\n}`\n</code></pre>\n<p><strong>Comment Entity</strong>\npackage com.mshakir.restfulwebservice.dto.entity; <br></p>\n<p>import javax.persistence.Column;<br>\nimport javax.persistence.Entity; <br>\nimport javax.persistence.FetchType; <br>\nimport javax.persistence.GeneratedValue; <br>\nimport javax.persistence.GenerationType; <br>\nimport javax.persistence.Id; <br>\nimport javax.persistence.JoinColumn; <br>\nimport javax.persistence.Lob; <br>\nimport javax.persistence.ManyToOne; <br>\nimport javax.persistence.SequenceGenerator; <br>\nimport javax.persistence.Table; <br></p>\n<p>import org.hibernate.annotations.OnDelete;\nimport org.hibernate.annotations.OnDeleteAction;</p>\n<p>import com.fasterxml.jackson.annotation.JsonIgnore;</p>\n<p>`@Entity\n@Table(name = &quot;comments&quot;)\npublic class Comment {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;comment_generator&quot;)\n@SequenceGenerator(name = &quot;comment_generator&quot;, sequenceName = &quot;comment_sequence&quot;, initialValue = 15001, allocationSize = 1)\n@Column(name = &quot;comment_id&quot;)\nprivate Long id;\n\n@Lob\n@Column(name = &quot;comment_content&quot;)\nprivate String content;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;category_id&quot;, nullable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate Category category;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getContent() {\n    return content;\n}\n\npublic void setContent(String content) {\n    this.content = content;\n}\n\npublic Category getCategory() {\n    return category;\n}\n\npublic void setCategory(Category category) {\n    this.category = category;\n}\n\n@Override\npublic String toString() {\n    return &quot;Comment [id=&quot; + id + &quot;, content=&quot; + content + &quot;, category=&quot; + category + &quot;]&quot;;\n}\n</code></pre>\n<p>}`</p>\n<p><strong>Category Controller with Implement Service</strong><br>\n`\n@RestController<br>\n@RequestMapping(&quot;/categories&quot;)<br>\npublic class CategoryController {\npublic static Logger log = LoggerFactory.getLogger(CategoryController.class);</p>\n<pre><code>@Autowired\nCategoryRepository categoryRepository;\n\n@Autowired\nCommentRepository commentRepository;\n\nprivate final CategoryServiceImpl categoryServiceImpl;\n\n@Autowired\npublic CategoryController(CategoryServiceImpl categoryServiceImpl) {\n    this.categoryServiceImpl = categoryServiceImpl;\n}\n\n@PostMapping(&quot;/create-new-category&quot;)\npublic ResponseEntity&lt;Category&gt; createCategoryRecord(@RequestBody Category category) throws Exception {\n    log.info(&quot;Category Controller: createCategoryRecord()&quot;);\n    Category createNewCategory = categoryServiceImpl.createNewCategory(category);\n    HttpStatus statusCreated201 = HttpStatus.CREATED;\n    return new ResponseEntity&lt;Category&gt;(createNewCategory, statusCreated201);\n}\n}`\n</code></pre>\n<p><strong>Implement Service Method For this Post Category</strong><br>\n`\n@Service<br>\npublic class CategoryServiceImpl implements CategoryService {</p>\n<pre><code>private CategoryRepository categoryRepository;\n\n@Autowired\npublic CategoryServiceImpl(CategoryRepository categoryRepository) {\n    this.categoryRepository = categoryRepository;\n}\n\n@Override\npublic Category createNewCategory(Category category) {\n    String categoryName = category.getCategoryName();\n    Optional&lt;Category&gt; findByCategoryName = categoryRepository.findByCategoryName(categoryName);\n    if (findByCategoryName.isPresent()) {\n        throw new InvalidDataException(&quot;Category already exists in the Database&quot;);\n    }\n    Category newCategory = categoryRepository.save(category);\n    return newCategory;\n}\n}`\n</code></pre>\n<p><strong>Show All Categories</strong><br>\n`<br />\n@GetMapping(&quot;/show-all-categories&quot;) <br>\npublic ResponseEntity&lt;List&gt;\nshowAllCategoriesAll(@RequestParam(required = false) String categoryName) { <br>\nList listOfCategories = new ArrayList();\nif (Utils.isEmptyString(categoryName)) {\ncategoryRepository.findAll().forEach(category -&gt; {<br />\nlistOfCategories.add(category);<br />\n});</p>\n<pre><code>    }\n    else {\n        List&lt;Category&gt; findByCategoryNameContaining = categoryRepository.findByCategoryNameContaining(categoryName);\n        findByCategoryNameContaining.forEach(category -&gt; listOfCategories.add(category));\n    }\n    \n    if (listOfCategories.isEmpty()) {\n        return new ResponseEntity&lt;List&lt;Category&gt;&gt;(listOfCategories, HttpStatus.OK);\n    }\n                    \n    return new ResponseEntity&lt;List&lt;Category&gt;&gt;(listOfCategories, HttpStatus.OK);\n}`\n</code></pre>\n<p><strong>Get List of Comments Based on Category ID</strong> <br>\n`\n@GetMapping(&quot;/categories/{categoryId}/comments&quot;) <br>\npublic ResponseEntity&lt;List&gt; <br>\ngetAllCommentsByTutorialId(@PathVariable(value = &quot;categoryId&quot;) Long categoryId) {<br>\nif (!categoryRepository.existsById(categoryId)) {\nthrow new ResourceNotFoundException(&quot;Not found Tutorial with id = &quot; + categoryId);\n}</p>\n<pre><code>    List&lt;Comment&gt; comments = commentRepository.findByCategoryId(categoryId);\n    \n    List&lt;Comment&gt; findAll = commentRepository.findAll();\n    for (Comment comment: findAll) {\n        System.out.println(comment.getCategory().getCategoryName());\n        System.out.println(comment.getCategory().getCategoryDescription());\n    }\n    System.out.println(findAll);\n    return new ResponseEntity&lt;&gt;(comments, HttpStatus.OK);\n  }`\n</code></pre>\n<p><strong>Consolidated API</strong>\n`\n@RestController <br>\n@RequestMapping(&quot;/list-of-categories&quot;) <br>\npublic class ListOfCategory { <br></p>\n<pre><code>@Autowired\nCategoryRepository categoryRepository;\n\n@Autowired\nCommentRepository commentRepository;\n\n@GetMapping(&quot;/show-all&quot;)\npublic ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt; showAll() {\n    List&lt;CommentInfo&gt; listOfComments = new ArrayList&lt;CommentInfo&gt;();\n    List&lt;CategoryCommentResponse&gt; listofAll = new ArrayList&lt;CategoryCommentResponse&gt;();\n    List&lt;Category&gt; categoryList = categoryRepository.findAll();\n    System.out.println(categoryList);\n    for (Category category : categoryList) {\n        CategoryCommentResponse response = new CategoryCommentResponse();\n        Long categoryId = category.getId();\n        response.setCategoryId(categoryId);\n        response.setCategoryDescription(category.getCategoryDescription());\n        response.setCategoryName(category.getCategoryName());\n        List&lt;Comment&gt; listOfCommentsByCategoryId = commentRepository.findByCategoryId(categoryId);\n        \n        for (Comment comment : listOfCommentsByCategoryId) {\n            CommentInfo commentInfo = new CommentInfo();\n            Long commentId = comment.getId();\n            commentInfo.setId(commentId);\n            commentInfo.setContent(comment.getContent());\n            System.out.println(commentInfo);\n            listOfComments.add(commentInfo);\n            response.setComments(listOfComments);\n        }\n        listofAll.add(response);\n    }\n    \n    return new ResponseEntity&lt;List&lt;CategoryCommentResponse&gt;&gt;(listofAll, HttpStatus.OK);\n\n}\n}`\n</code></pre>\n<p>Please find attached Screenshot to review as well. Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/fkt3C.png\" rel=\"nofollow noreferrer\">ConsolidatedAPI</a></p>\n<p><a href=\"https://i.stack.imgur.com/7rNgC.png\" rel=\"nofollow noreferrer\">List Of Categories</a></p>\n<p><a href=\"https://i.stack.imgur.com/n5iPp.png\" rel=\"nofollow noreferrer\">List Of Comments based on Category Id</a></p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":0,"creation_date":1662641882,"post_id":73648838,"comment_id":130056324,"body_markdown":"Quite strange but in Graph Explorer ?select=*,webDavUrl returns webDavUrl but select with $ ?$select=*,webDavUrl doesn&#39;t return webDavUrl. I guess that it will be somehow connected to your problem.","body":"Quite strange but in Graph Explorer ?select=*,webDavUrl returns webDavUrl but select with $ ?$select=*,webDavUrl doesn&#39;t return webDavUrl. I guess that it will be somehow connected to your problem."}],"answers":[{"tags":[],"owner":{"account_id":3924099,"reputation":49,"user_id":4387342,"display_name":"ramvirsingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662651428,"creation_date":1662651100,"answer_id":73651663,"question_id":73648838,"body_markdown":" I have found the solution, If we use QueryOption then it works like charm. \r\n\r\n     public DriveItem getDriveItemWebDavUrl(String driveId, String itemId) {\r\n          return graphClient.drives(driveId)\r\n            .items(itemId)\r\n            .buildRequest(List.of(new QueryOption(&quot;select&quot;, &quot;*,webDavUrl&quot;)))\r\n            .get();}","title":"Missing &quot;WebDavUrl&quot; from GetDriveItem API","body":"<p>I have found the solution, If we use QueryOption then it works like charm.</p>\n<pre><code> public DriveItem getDriveItemWebDavUrl(String driveId, String itemId) {\n      return graphClient.drives(driveId)\n        .items(itemId)\n        .buildRequest(List.of(new QueryOption(&quot;select&quot;, &quot;*,webDavUrl&quot;)))\n        .get();}\n</code></pre>\n"}],"owner":{"account_id":3924099,"reputation":49,"user_id":4387342,"display_name":"ramvirsingh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73651663,"answer_count":1,"score":0,"last_activity_date":1662651428,"creation_date":1662638728,"question_id":73648838,"body_markdown":"I am trying to retrieve `WebDavUrl` along with the rest of the data. I am using the below approach \r\n\r\n     public DriveItem getDriveItemWebDavUrl(String driveId, String itemId) {\r\n        return graphClient.drives(driveId)\r\n                .items(itemId)\r\n                .buildRequest()\r\n                .select(&quot;*,webDavUrl&quot;)\r\n                .get();\r\n    }\r\n\r\nand I can see below url generated by graph API \r\n\r\n    https://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}?select=*%2CwebDavUrl\r\n\r\nBut the Graph API does not return `webDavUrl` along with the response. When I use the same URL in GraphExplorer it works as expected.\r\n\r\nI&#39;ll appreciate any suggestions or feedback","title":"Missing &quot;WebDavUrl&quot; from GetDriveItem API","body":"<p>I am trying to retrieve <code>WebDavUrl</code> along with the rest of the data. I am using the below approach</p>\n<pre><code> public DriveItem getDriveItemWebDavUrl(String driveId, String itemId) {\n    return graphClient.drives(driveId)\n            .items(itemId)\n            .buildRequest()\n            .select(&quot;*,webDavUrl&quot;)\n            .get();\n}\n</code></pre>\n<p>and I can see below url generated by graph API</p>\n<pre><code>https://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}?select=*%2CwebDavUrl\n</code></pre>\n<p>But the Graph API does not return <code>webDavUrl</code> along with the response. When I use the same URL in GraphExplorer it works as expected.</p>\n<p>I'll appreciate any suggestions or feedback</p>\n"},{"tags":["javascript","java","spring-mvc","optgroup"],"answers":[{"tags":[],"owner":{"account_id":433890,"reputation":850,"user_id":819486,"accept_rate":87,"display_name":"byteWalrus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1393497416,"creation_date":1386792993,"answer_id":20529090,"question_id":20528998,"body_markdown":"And I think I found the answer right after I posted this question. Wonderful\r\n\r\nSource : http://www.imrantariq.com/blog/option-group-capability-for-spring-mvc-form-taglib/\r\n\r\nThe “optgroup” attribute when set would first do a sort by whatever “expression” is defined in “optgroup”, and then would track the progression of iteration and insert the “optgroup” html start tag, and end tags where appropriate in the select list using the expression in “optgroup” as the label.\r\n\r\nUnfortunately, currently  spring mvc is not offering such functionality through its tags. This can be achieved through a nice logic given below.\r\nYou need to send a hashMap from controller.\r\n\r\n    Map&lt;String, ArrayList&lt;String&gt;&gt;\r\n\r\nIn this map, string is key i.e. group name and arraylist is the number of values that lies in this group. Jsp code can be written in this way.\r\n\r\n    &lt;form:select multiple=&quot;single&quot; path=&quot;itemType&quot; id=&quot;itemType&quot;&gt;\r\n        &lt;form:option value=&quot;0&quot; label=&quot;Select&quot; /&gt;\r\n        &lt;c:forEach var=&quot;itemGroup&quot; items=&quot;${itemTypeList}&quot; varStatus=&quot;itemGroupIndex&quot;&gt;\r\n           &lt;optgroup label=&quot;${itemGroup.key}&quot;&gt;\r\n               &lt;form:options items=&quot;${itemGroup.value}&quot;/&gt;        \r\n           &lt;/optgroup&gt;\r\n        &lt;/c:forEach&gt;        \r\n    &lt;/form:select&gt;","title":"How to put Java Map into Optgroup Options Using Spring MVC?","body":"<p>And I think I found the answer right after I posted this question. Wonderful</p>\n\n<p>Source : <a href=\"http://www.imrantariq.com/blog/option-group-capability-for-spring-mvc-form-taglib/\" rel=\"noreferrer\">http://www.imrantariq.com/blog/option-group-capability-for-spring-mvc-form-taglib/</a></p>\n\n<p>The “optgroup” attribute when set would first do a sort by whatever “expression” is defined in “optgroup”, and then would track the progression of iteration and insert the “optgroup” html start tag, and end tags where appropriate in the select list using the expression in “optgroup” as the label.</p>\n\n<p>Unfortunately, currently  spring mvc is not offering such functionality through its tags. This can be achieved through a nice logic given below.\nYou need to send a hashMap from controller.</p>\n\n<pre><code>Map&lt;String, ArrayList&lt;String&gt;&gt;\n</code></pre>\n\n<p>In this map, string is key i.e. group name and arraylist is the number of values that lies in this group. Jsp code can be written in this way.</p>\n\n<pre><code>&lt;form:select multiple=\"single\" path=\"itemType\" id=\"itemType\"&gt;\n    &lt;form:option value=\"0\" label=\"Select\" /&gt;\n    &lt;c:forEach var=\"itemGroup\" items=\"${itemTypeList}\" varStatus=\"itemGroupIndex\"&gt;\n       &lt;optgroup label=\"${itemGroup.key}\"&gt;\n           &lt;form:options items=\"${itemGroup.value}\"/&gt;        \n       &lt;/optgroup&gt;\n    &lt;/c:forEach&gt;        \n&lt;/form:select&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584030147,"creation_date":1583947721,"answer_id":60641531,"question_id":20528998,"body_markdown":"**Controller** \r\n\r\nNote the collection is `Map&lt;String, List&lt;KeyValueBean&gt;&gt;`. \r\n\r\nIt stores e.g. `Group 1 -&gt; \r\n             { (&quot;Option 1.1 Label&quot;,&quot;OPTION_1_1_VAL&quot;), (&quot;Option 1.2 Label&quot;,&quot;OPTION_1_2_VAL&quot;), ..}`\r\n\r\n\r\n    @ModelAttribute(&quot;careerOptions&quot;)\r\n    Map&lt;String, List&lt;KeyValueBean&gt;&gt; getCareerOptions() {        \r\n    \tHashMap&lt;String, List&lt;KeyValueBean&gt;&gt; result = new HashMap&lt;String, List&lt;KeyValueBean&gt;&gt;();\r\n    \tresult.put(&quot;Grp1&quot;, new ArrayList&lt;KeyValueBean&gt;());\r\n    \tresult.get(&quot;Grp1&quot;).add(new KeyValueBean(&quot;Option 1.1&quot;, &quot;OPT_1_1&quot;));\r\n    \tresult.get(&quot;Grp1&quot;).add(new KeyValueBean(&quot;Option 1.2&quot;, &quot;OPT_1_2&quot;));\r\n    \tresult.put(&quot;Grp2&quot;, new ArrayList&lt;KeyValueBean&gt;());\r\n    \tresult.get(&quot;Grp2&quot;).add(new KeyValueBean(&quot;Option 2.1&quot;, &quot;OPT_2_1&quot;));\r\n    \t\r\n    \treturn result;\r\n    }       \r\n\r\n**JSP**\r\n\r\n    &lt;form:select path=&quot;careerSelected&quot; id=&quot;careerElement&quot;&gt;\r\n        &lt;form:option label=&quot;&quot; value=&quot;&quot; /&gt;\r\n        &lt;c:forEach var=&quot;optionGroup&quot; items=&quot;${careerOptions}&quot;&gt;\r\n           &lt;optgroup label=&quot;${optionGroup.key}&quot;&gt;\r\n           &lt;c:forEach var=&quot;option&quot; items=&quot;${optionGroup.value}&quot;&gt;\r\n              &lt;form:option label=&quot;${option.key}&quot; value=&quot;${option.value}&quot; /&gt;\t\t\t\t\t\t\t\t\r\n           &lt;/c:forEach&gt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \r\n           &lt;/optgroup&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/form:select&gt;\r\n\r\n**KeyValueBean** (I created my own, but Java&#39;s built-in one is [`AbstractMap.SimpleEntry&lt;K,V&gt;`][1] -- you can use that one, it&#39;s just the code is a bit uglier)\r\n\r\n    public class KeyValueBean implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate String key;\r\n    \tprivate String value;\r\n    \t\r\n    \tpublic KeyValueBean(String key, String value) {\r\n    \t\tthis.key = key;\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \t\r\n    \tpublic String getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \tpublic void setKey(String key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \tpublic String getValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    \tpublic void setValue(String value) {\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**One other case: Sometimes the Select items are *MIXED* (Flat mixed with OptGroup)**\r\n\r\n    A\r\n    B\r\n    C (subgroup)\r\n      - C.1\r\n      - C.2\r\n\r\nIn this case, the Collection can be Map&lt;String,Object&gt; where every entry will be keyed to an **Object** : **either** (1) a String or (2) a HashMap, which we will discover from the JSP.\r\n\r\n**Controller for a *MIXED* Data Structure**\r\n\r\n    @ModelAttribute(&quot;careerOptionsMixed&quot;)\r\n    Map&lt;String, Object&gt; getCareerOptionsMixed() {\r\n    \r\n        LinkedHashMap&lt;String, Object&gt; result = new LinkedHashMap&lt;String, Object&gt;();\r\n    \r\n        result.put(&quot;Flat Option 1&quot;, &quot;OPT_1_FLAT&quot;);\r\n        result.put(&quot;Group Option 2&quot;, myHashMap); // Fill out your HashMap for Group (Key-&gt;Value) and add it here\r\n        result.put(&quot;Flat Option 3&quot;, &quot;OPT_3_FLAT&quot;);\r\n    \r\n        return result;\r\n    }           \r\n\r\n**JSP for the MIXED Data Structure (trick required to determine Collection or not, done via iterating and setting a var)** In the JSP we&#39;ll need to identify whether we&#39;re getting a Collection or a String. The only way to do this is via iteration and setting a variable.\r\n\r\n    &lt;form:select path=&quot;career&quot; id=&quot;careerField&quot;&gt;\r\n       &lt;form:option label=&quot;&quot; value=&quot;&quot; /&gt;\r\n       &lt;c:forEach var=&quot;optionOrOptionGroup&quot; items=&quot;${careerOptionsMixed}&quot;&gt;\r\n          &lt;%--  Must use iteration to find out if this is a Collection or not: https://stackoverflow.com/a/1490171/1005607 --%&gt;\r\n          &lt;c:set var=&quot;collection&quot; value=&quot;false&quot; /&gt;\r\n          &lt;c:forEach var=&quot;potentialOptionGroup&quot; items=&quot;${optionOrOptionGroup.value}&quot; varStatus=&quot;potentialOptionGroupStatus&quot;&gt;\r\n             &lt;c:if test=&quot;${potentialOptionGroupStatus.index &gt; 0}&quot;&gt;\r\n                &lt;c:set var=&quot;collection&quot; value=&quot;true&quot; /&gt;\r\n             &lt;/c:if&gt;\r\n          &lt;/c:forEach&gt;\r\n          &lt;c:choose&gt;\r\n             &lt;c:when test=&quot;${collection eq true}&quot;&gt;\r\n                &lt;%--  Now we know this is a LinkedHashMap --%&gt;\r\n                &lt;optgroup label=&quot;${optionOrOptionGroup.key}&quot;&gt;\r\n                   &lt;c:forEach var=&quot;optionGroup&quot; items=&quot;${optionOrOptionGroup.value}&quot;&gt;\r\n                      &lt;form:option label=&quot;${optionGroup.key}&quot; value=&quot;${optionGroup.value}&quot; /&gt;\r\n                   &lt;/c:forEach&gt;\r\n                &lt;/optgroup&gt;\r\n             &lt;/c:when&gt;\r\n             &lt;c:otherwise&gt;\r\n                &lt;%--  Now we know this is a flat String --%&gt;\r\n                &lt;form:option label=&quot;${optionOrOptionGroup.key}&quot; value=&quot;${optionOrOptionGroup.value}&quot; /&gt;\r\n             &lt;/c:otherwise&gt;\r\n          &lt;/c:choose&gt;\r\n       &lt;/c:forEach&gt;\r\n    &lt;/form:select&gt;\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html\r\n","title":"How to put Java Map into Optgroup Options Using Spring MVC?","body":"<p><strong>Controller</strong> </p>\n\n<p>Note the collection is <code>Map&lt;String, List&lt;KeyValueBean&gt;&gt;</code>. </p>\n\n<p>It stores e.g. <code>Group 1 -&gt; \n             { (\"Option 1.1 Label\",\"OPTION_1_1_VAL\"), (\"Option 1.2 Label\",\"OPTION_1_2_VAL\"), ..}</code></p>\n\n<pre><code>@ModelAttribute(\"careerOptions\")\nMap&lt;String, List&lt;KeyValueBean&gt;&gt; getCareerOptions() {        \n    HashMap&lt;String, List&lt;KeyValueBean&gt;&gt; result = new HashMap&lt;String, List&lt;KeyValueBean&gt;&gt;();\n    result.put(\"Grp1\", new ArrayList&lt;KeyValueBean&gt;());\n    result.get(\"Grp1\").add(new KeyValueBean(\"Option 1.1\", \"OPT_1_1\"));\n    result.get(\"Grp1\").add(new KeyValueBean(\"Option 1.2\", \"OPT_1_2\"));\n    result.put(\"Grp2\", new ArrayList&lt;KeyValueBean&gt;());\n    result.get(\"Grp2\").add(new KeyValueBean(\"Option 2.1\", \"OPT_2_1\"));\n\n    return result;\n}       \n</code></pre>\n\n<p><strong>JSP</strong></p>\n\n<pre><code>&lt;form:select path=\"careerSelected\" id=\"careerElement\"&gt;\n    &lt;form:option label=\"\" value=\"\" /&gt;\n    &lt;c:forEach var=\"optionGroup\" items=\"${careerOptions}\"&gt;\n       &lt;optgroup label=\"${optionGroup.key}\"&gt;\n       &lt;c:forEach var=\"option\" items=\"${optionGroup.value}\"&gt;\n          &lt;form:option label=\"${option.key}\" value=\"${option.value}\" /&gt;                             \n       &lt;/c:forEach&gt;                                                          \n       &lt;/optgroup&gt;\n    &lt;/c:forEach&gt;\n&lt;/form:select&gt;\n</code></pre>\n\n<p><strong>KeyValueBean</strong> (I created my own, but Java's built-in one is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"nofollow noreferrer\"><code>AbstractMap.SimpleEntry&lt;K,V&gt;</code></a> -- you can use that one, it's just the code is a bit uglier)</p>\n\n<pre><code>public class KeyValueBean implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private String key;\n    private String value;\n\n    public KeyValueBean(String key, String value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public String getKey() {\n        return key;\n    }\n    public void setKey(String key) {\n        this.key = key;\n    }\n    public String getValue() {\n        return value;\n    }\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n\n<p><strong>One other case: Sometimes the Select items are <em>MIXED</em> (Flat mixed with OptGroup)</strong></p>\n\n<pre><code>A\nB\nC (subgroup)\n  - C.1\n  - C.2\n</code></pre>\n\n<p>In this case, the Collection can be Map where every entry will be keyed to an <strong>Object</strong> : <strong>either</strong> (1) a String or (2) a HashMap, which we will discover from the JSP.</p>\n\n<p><strong>Controller for a <em>MIXED</em> Data Structure</strong></p>\n\n<pre><code>@ModelAttribute(\"careerOptionsMixed\")\nMap&lt;String, Object&gt; getCareerOptionsMixed() {\n\n    LinkedHashMap&lt;String, Object&gt; result = new LinkedHashMap&lt;String, Object&gt;();\n\n    result.put(\"Flat Option 1\", \"OPT_1_FLAT\");\n    result.put(\"Group Option 2\", myHashMap); // Fill out your HashMap for Group (Key-&gt;Value) and add it here\n    result.put(\"Flat Option 3\", \"OPT_3_FLAT\");\n\n    return result;\n}           \n</code></pre>\n\n<p><strong>JSP for the MIXED Data Structure (trick required to determine Collection or not, done via iterating and setting a var)</strong> In the JSP we'll need to identify whether we're getting a Collection or a String. The only way to do this is via iteration and setting a variable.</p>\n\n<pre><code>&lt;form:select path=\"career\" id=\"careerField\"&gt;\n   &lt;form:option label=\"\" value=\"\" /&gt;\n   &lt;c:forEach var=\"optionOrOptionGroup\" items=\"${careerOptionsMixed}\"&gt;\n      &lt;%--  Must use iteration to find out if this is a Collection or not: https://stackoverflow.com/a/1490171/1005607 --%&gt;\n      &lt;c:set var=\"collection\" value=\"false\" /&gt;\n      &lt;c:forEach var=\"potentialOptionGroup\" items=\"${optionOrOptionGroup.value}\" varStatus=\"potentialOptionGroupStatus\"&gt;\n         &lt;c:if test=\"${potentialOptionGroupStatus.index &gt; 0}\"&gt;\n            &lt;c:set var=\"collection\" value=\"true\" /&gt;\n         &lt;/c:if&gt;\n      &lt;/c:forEach&gt;\n      &lt;c:choose&gt;\n         &lt;c:when test=\"${collection eq true}\"&gt;\n            &lt;%--  Now we know this is a LinkedHashMap --%&gt;\n            &lt;optgroup label=\"${optionOrOptionGroup.key}\"&gt;\n               &lt;c:forEach var=\"optionGroup\" items=\"${optionOrOptionGroup.value}\"&gt;\n                  &lt;form:option label=\"${optionGroup.key}\" value=\"${optionGroup.value}\" /&gt;\n               &lt;/c:forEach&gt;\n            &lt;/optgroup&gt;\n         &lt;/c:when&gt;\n         &lt;c:otherwise&gt;\n            &lt;%--  Now we know this is a flat String --%&gt;\n            &lt;form:option label=\"${optionOrOptionGroup.key}\" value=\"${optionOrOptionGroup.value}\" /&gt;\n         &lt;/c:otherwise&gt;\n      &lt;/c:choose&gt;\n   &lt;/c:forEach&gt;\n&lt;/form:select&gt;\n</code></pre>\n"}],"owner":{"account_id":433890,"reputation":850,"user_id":819486,"accept_rate":87,"display_name":"byteWalrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20529090,"answer_count":2,"score":3,"last_activity_date":1662651131,"creation_date":1386792737,"question_id":20528998,"body_markdown":"I am using Spring MVC.\r\n\r\nI currently have a Map&lt;Integer, String&gt; being passed from Java to my page in a variable called &quot;userLocales&quot; via request.setAttribute(&#39;userLocales&#39;, bluh bluh bluh)\r\n\r\nI need to somehow get the strings in that variable to build a list of option elements in an optgroup select element. My initial thought would be to somehow turn this Map into a Javascript object somehow, and then add the strings to newly created option elements to be placed in the optgroup element.\r\n\r\nThe optgroup element is static and already created. I just need the options with the string in them.","title":"How to put Java Map into Optgroup Options Using Spring MVC?","body":"<p>I am using Spring MVC.</p>\n\n<p>I currently have a Map being passed from Java to my page in a variable called \"userLocales\" via request.setAttribute('userLocales', bluh bluh bluh)</p>\n\n<p>I need to somehow get the strings in that variable to build a list of option elements in an optgroup select element. My initial thought would be to somehow turn this Map into a Javascript object somehow, and then add the strings to newly created option elements to be placed in the optgroup element.</p>\n\n<p>The optgroup element is static and already created. I just need the options with the string in them.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1662415582,"post_id":73615000,"comment_id":129996018,"body_markdown":"I guess the only thing missing now, is the error you get (stacktrace). BR","body":"I guess the only thing missing now, is the error you get (stacktrace). BR"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1662415735,"post_id":73615000,"comment_id":129996050,"body_markdown":"as a developer we read logs and error messages. The error messages tell us whats wrong. Writing `but it gives me an error.` does not say anything about what KIND of error you are getting, and how we can be able to fix it.","body":"as a developer we read logs and error messages. The error messages tell us whats wrong. Writing <code>but it gives me an error.</code> does not say anything about what KIND of error you are getting, and how we can be able to fix it."},{"owner":{"account_id":26253696,"reputation":1,"user_id":19926092,"display_name":"Emre K&#252;rşat"},"score":0,"creation_date":1662415880,"post_id":73615000,"comment_id":129996074,"body_markdown":"I&#39;m not getting any errors it just doesn&#39;t log in https://ibb.co/Jnbn1KL","body":"I&#39;m not getting any errors it just doesn&#39;t log in <a href=\"https://ibb.co/Jnbn1KL\" rel=\"nofollow noreferrer\">ibb.co/Jnbn1KL</a>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1662415899,"post_id":73615000,"comment_id":129996077,"body_markdown":"did you even enable debug logs?","body":"did you even enable debug logs?"},{"owner":{"account_id":26253696,"reputation":1,"user_id":19926092,"display_name":"Emre K&#252;rşat"},"score":0,"creation_date":1662416478,"post_id":73615000,"comment_id":129996178,"body_markdown":"yes sir i tried  \nI can give you the github link if you want.","body":"yes sir i tried   I can give you the github link if you want."},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":1,"creation_date":1662417536,"post_id":73615000,"comment_id":129996324,"body_markdown":"@Emre You&#39;re in the best position to debug this app, unless you have the patience to wait for a person in here that is willing to set up your env. First, verify that nothing is missing from db-tables. You don&#39;t show us the role table. Then find out exactly where the login fails by adding breakpoints in your code, and then run app in debug mode. Putting a whole app together without unit tests, often results in a situation where debugging is required, in various degree. Good luck! BR","body":"@Emre You&#39;re in the best position to debug this app, unless you have the patience to wait for a person in here that is willing to set up your env. First, verify that nothing is missing from db-tables. You don&#39;t show us the role table. Then find out exactly where the login fails by adding breakpoints in your code, and then run app in debug mode. Putting a whole app together without unit tests, often results in a situation where debugging is required, in various degree. Good luck! BR"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1662502574,"post_id":73615000,"comment_id":130019307,"body_markdown":"@EmreK&#252;rşat i dont want a Github link, i want you to post the full debug logs of when you are logging in. The full logs, so that we can see everything that happens. Also in the future, you should ALWAYS post your full debug logs in EVERY question when you are asking the question. We should not need to have to ask for it.","body":"@EmreK&#252;rşat i dont want a Github link, i want you to post the full debug logs of when you are logging in. The full logs, so that we can see everything that happens. Also in the future, you should ALWAYS post your full debug logs in EVERY question when you are asking the question. We should not need to have to ask for it."}],"answers":[{"tags":[],"owner":{"account_id":26253696,"reputation":1,"user_id":19926092,"display_name":"Emre K&#252;rşat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662650917,"creation_date":1662650786,"answer_id":73651584,"question_id":73615000,"body_markdown":" I fixed the error, thank you.\r\n@Toerktumlar\r\n@Roar S.\r\n\r\n\r\nAdding a name to the form was enough.\r\n\r\n&lt;form th:action=&quot;@{/login}&quot;  method=&quot;post&quot;&gt;\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label &gt;Username&lt;/label&gt;\r\n       &lt;input type=&quot;text&quot; name=&quot;username&quot;  class=&quot;form-control&quot; id=&quot;username&quot; required placeholder=&quot;Enter Username&quot;&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label&gt;Password&lt;/label&gt;\r\n       &lt;input type=&quot;password&quot; name=&quot;password&quot;  class=&quot;form-control&quot; id=&quot;password&quot; required placeholder=&quot;Password&quot;&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n\r\n  &lt;/form&gt;\r\n&lt;/div&gt;","title":"Spring boot I keep getting an error when logging in and I can&#39;t login","body":"<p>I fixed the error, thank you.\n@Toerktumlar\n@Roar S.</p>\n<p>Adding a name to the form was enough.</p>\n\n<pre><code>&lt;div class=&quot;form-group&quot;&gt;\n  &lt;label &gt;Username&lt;/label&gt;\n   &lt;input type=&quot;text&quot; name=&quot;username&quot;  class=&quot;form-control&quot; id=&quot;username&quot; required placeholder=&quot;Enter Username&quot;&gt;\n\n&lt;/div&gt;\n\n&lt;div class=&quot;form-group&quot;&gt;\n  &lt;label&gt;Password&lt;/label&gt;\n   &lt;input type=&quot;password&quot; name=&quot;password&quot;  class=&quot;form-control&quot; id=&quot;password&quot; required placeholder=&quot;Password&quot;&gt;\n&lt;/div&gt;\n\n\n\n&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n</code></pre>\n  \n\n"}],"owner":{"account_id":26253696,"reputation":1,"user_id":19926092,"display_name":"Emre K&#252;rşat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73651584,"answer_count":1,"score":0,"last_activity_date":1662650917,"creation_date":1662415256,"question_id":73615000,"body_markdown":"I want to create a username and login in my project.\r\n     I can create username but,\r\n    I cannot login to the system with the username I created.\r\n   \r\n I&#39;m trying to login in my application with spring security, but it gives me an error. Also, I&#39;m storing my password in data base in bcrypted form. In associate table I have got userid and roleid. But I can&#39;t login. What I&#39;ve missed? User table in mysql\r\n    \r\nI couldn&#39;t solve this problem, can you help me please?\r\n       \r\n    \r\n    Default;\r\n    username=admin\r\n    password=admin\r\n    \r\n    \r\n [enter image description here][1]\r\n    \r\n    \r\n [enter image description here][2]\r\n    \r\n    \r\n [1]: https://i.stack.imgur.com/cj3zT.png\r\n [2]: https://i.stack.imgur.com/lCxgy.png\r\n\r\n\r\n\r\n Here is my  **User Repository**\r\n\r\n    public interface IUserRepository  extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n    Optional&lt;User&gt; findUserByUsername(String username);\r\n\r\nHere is my **USER SERVİCE**\r\n\r\n    Optional&lt;User&gt; findUserByUsername(String username);\r\n    \r\n    void save(User user);\r\n    \r\n    \r\n    void autoLogin(HttpServletRequest request, String username, String password);\r\n\r\n Here is my **UserserviceImpl**\r\n\r\n    public class UserServiceImpl implements IUserService {\r\n    \r\n    @Autowired\r\n    private IUserRepository iuserRepository;\r\n    \r\n    @Autowired\r\n    private IRoleRepository iRoleRepository;\r\n    \r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n    \r\n    @Override\r\n    public Optional&lt;User&gt; findUserByUsername(String username) {\r\n        return iuserRepository.findUserByUsername(username);\r\n    }\r\n    \r\n    @Override\r\n    public void save(User user) {\r\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n        user.setActive(true);\r\n        Role userRole = iRoleRepository.findRoleByName(&quot;ROLE_USER&quot;);\r\n        user.setRoles(new HashSet&lt;&gt;(Arrays.asList(userRole)));\r\n        iuserRepository.save(user);\r\n    }\r\n    \r\n    @Override\r\n    public void autoLogin(HttpServletRequest request, String username, String password) {\r\n        UsernamePasswordAuthenticationToken authToken = new \r\n        UsernamePasswordAuthenticationToken(username, password);\r\n        authToken.setDetails(new WebAuthenticationDetails(request));\r\n        Authentication authentication = authenticationManager.authenticate(authToken);\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    }\r\n\r\nHere is my **Login Page**\r\n\r\n      &lt;form th:action=&quot;@{/login}&quot;  method=&quot;post&quot;&gt;\r\n\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n          &lt;label &gt;Username&lt;/label&gt;\r\n          &lt;input type=&quot;text&quot;  class=&quot;form-control&quot; id=&quot;username&quot; required placeholder=&quot;Enter Username&quot;&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n          &lt;label&gt;Password&lt;/label&gt;\r\n          &lt;input type=&quot;password&quot;  class=&quot;form-control&quot; id=&quot;password&quot; required placeholder=&quot;Password&quot;&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n \r\n\r\nHere is my **Controller**\r\n    public class UserRegistrationController {\r\n\r\n    @Autowired\r\n    private IUserService iUserService;\r\n\r\n    @Autowired\r\n    private IAnimalOwnersService iAnimalOwnersService;\r\n\r\n    @Autowired\r\n    private IAnimalsService iAnimalsService;\r\n\r\n    @ModelAttribute(&quot;user&quot;)\r\n    public User user() {\r\n        return new User();\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String indexPage() {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String indexPage2() {\r\n        return &quot;index&quot;;\r\n    }\r\n    @GetMapping(&quot;/register&quot;)\r\n    public String registerShowPage() {\r\n        return &quot;register&quot;;\r\n    }\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String registerPage(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult, Model theModel, HttpServletRequest httpServletRequest, RedirectAttributes redirectAttributes) {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;register&quot;;\r\n        }\r\n        String username = user.getUsername();\r\n        String password = user.getPassword();\r\n\r\n        Optional&lt;User&gt; optionalUser = (iUserService.findUserByUsername(username));\r\n        if (optionalUser.isPresent()) {\r\n            theModel.addAttribute(&quot;alreadyExistsUser&quot;, &quot;Username is used&quot;);\r\n            return &quot;register&quot;;\r\n\r\n        }\r\n\r\n        iUserService.save(user);\r\n        iUserService.autoLogin(httpServletRequest, username, password);\r\n        List&lt;String&gt; userRoleNames = \r\n        user.getRoles().stream().map(Role::getName).collect(Collectors.toList());\r\n \r\n        redirectAttributes.addFlashAttribute(&quot;username&quot;, username);\r\n        return &quot;redirect:/index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/dashboard&quot;)\r\n    public String dashboardPage(Model theModel) {\r\n\r\n        Long totalOwners = iAnimalOwnersService.totalUsers();\r\n        Long totanAnimals = iAnimalsService.totalAnimals();\r\n\r\n        theModel.addAttribute(&quot;totalOwners&quot;, totalOwners);\r\n        theModel.addAttribute(&quot;totanAnimals&quot;, totanAnimals);\r\n\r\n        return &quot;dashboard&quot;;\r\n    }\r\n    \r\n    @GetMapping({&quot;/login&quot;, &quot;/login.html&quot;})\r\n    public String loginPage() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\nHere is my **Configuration**\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    private final String USERS_QUERY = &quot;select username, password, active from user where username=?&quot;;\r\n    private final String ROLES_QUERY = &quot;select u.username, r.name from user u inner join user_role ur on(u.user_id=ur.user_id) inner join role r on(ur.role_id=r.role_id) where u.username=?&quot;;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .usersByUsernameQuery(USERS_QUERY)\r\n                .authoritiesByUsernameQuery(ROLES_QUERY)\r\n                .dataSource(dataSource)\r\n                .passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers()\r\n                .permitAll()\r\n                .antMatchers(&quot;/register&quot;, &quot;/login&quot;, &quot;/index&quot;, &quot;/&quot;)\r\n                .permitAll();\r\n\r\n        http.authorizeRequests().antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;);\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n\r\n        http\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/login&quot;)\r\n                .failureUrl(&quot;/login?loginFailed=true&quot;)\r\n                .usernameParameter(&quot;username&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .defaultSuccessUrl(&quot;/dashboard.html&quot;, true)\r\n                .and().logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/index&quot;);\r\n\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n","title":"Spring boot I keep getting an error when logging in and I can&#39;t login","body":"<p>I want to create a username and login in my project.\nI can create username but,\nI cannot login to the system with the username I created.</p>\n<p>I'm trying to login in my application with spring security, but it gives me an error. Also, I'm storing my password in data base in bcrypted form. In associate table I have got userid and roleid. But I can't login. What I've missed? User table in mysql</p>\n<p>I couldn't solve this problem, can you help me please?</p>\n<pre><code>Default;\nusername=admin\npassword=admin\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cj3zT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/lCxgy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my  <strong>User Repository</strong></p>\n<pre><code>public interface IUserRepository  extends JpaRepository&lt;User, Long&gt; {\n\nOptional&lt;User&gt; findUserByUsername(String username);\n</code></pre>\n<p>Here is my <strong>USER SERVİCE</strong></p>\n<pre><code>Optional&lt;User&gt; findUserByUsername(String username);\n\nvoid save(User user);\n\n\nvoid autoLogin(HttpServletRequest request, String username, String password);\n</code></pre>\n<p>Here is my <strong>UserserviceImpl</strong></p>\n<pre><code>public class UserServiceImpl implements IUserService {\n\n@Autowired\nprivate IUserRepository iuserRepository;\n\n@Autowired\nprivate IRoleRepository iRoleRepository;\n\n@Autowired\nprivate BCryptPasswordEncoder bCryptPasswordEncoder;\n\n@Autowired\nprivate AuthenticationManager authenticationManager;\n\n@Override\npublic Optional&lt;User&gt; findUserByUsername(String username) {\n    return iuserRepository.findUserByUsername(username);\n}\n\n@Override\npublic void save(User user) {\n    user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n    user.setActive(true);\n    Role userRole = iRoleRepository.findRoleByName(&quot;ROLE_USER&quot;);\n    user.setRoles(new HashSet&lt;&gt;(Arrays.asList(userRole)));\n    iuserRepository.save(user);\n}\n\n@Override\npublic void autoLogin(HttpServletRequest request, String username, String password) {\n    UsernamePasswordAuthenticationToken authToken = new \n    UsernamePasswordAuthenticationToken(username, password);\n    authToken.setDetails(new WebAuthenticationDetails(request));\n    Authentication authentication = authenticationManager.authenticate(authToken);\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n}\n</code></pre>\n<p>Here is my <strong>Login Page</strong></p>\n<pre><code>  &lt;form th:action=&quot;@{/login}&quot;  method=&quot;post&quot;&gt;\n\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label &gt;Username&lt;/label&gt;\n      &lt;input type=&quot;text&quot;  class=&quot;form-control&quot; id=&quot;username&quot; required placeholder=&quot;Enter Username&quot;&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label&gt;Password&lt;/label&gt;\n      &lt;input type=&quot;password&quot;  class=&quot;form-control&quot; id=&quot;password&quot; required placeholder=&quot;Password&quot;&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Here is my <strong>Controller</strong>\npublic class UserRegistrationController {</p>\n<pre><code>@Autowired\nprivate IUserService iUserService;\n\n@Autowired\nprivate IAnimalOwnersService iAnimalOwnersService;\n\n@Autowired\nprivate IAnimalsService iAnimalsService;\n\n@ModelAttribute(&quot;user&quot;)\npublic User user() {\n    return new User();\n}\n\n@GetMapping(&quot;/&quot;)\npublic String indexPage() {\n    return &quot;index&quot;;\n}\n\n@GetMapping(&quot;/index&quot;)\npublic String indexPage2() {\n    return &quot;index&quot;;\n}\n@GetMapping(&quot;/register&quot;)\npublic String registerShowPage() {\n    return &quot;register&quot;;\n}\n@PostMapping(&quot;/register&quot;)\npublic String registerPage(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult, Model theModel, HttpServletRequest httpServletRequest, RedirectAttributes redirectAttributes) {\n    if (bindingResult.hasErrors()) {\n        return &quot;register&quot;;\n    }\n    String username = user.getUsername();\n    String password = user.getPassword();\n\n    Optional&lt;User&gt; optionalUser = (iUserService.findUserByUsername(username));\n    if (optionalUser.isPresent()) {\n        theModel.addAttribute(&quot;alreadyExistsUser&quot;, &quot;Username is used&quot;);\n        return &quot;register&quot;;\n\n    }\n\n    iUserService.save(user);\n    iUserService.autoLogin(httpServletRequest, username, password);\n    List&lt;String&gt; userRoleNames = \n    user.getRoles().stream().map(Role::getName).collect(Collectors.toList());\n\n    redirectAttributes.addFlashAttribute(&quot;username&quot;, username);\n    return &quot;redirect:/index&quot;;\n}\n\n@GetMapping(&quot;/dashboard&quot;)\npublic String dashboardPage(Model theModel) {\n\n    Long totalOwners = iAnimalOwnersService.totalUsers();\n    Long totanAnimals = iAnimalsService.totalAnimals();\n\n    theModel.addAttribute(&quot;totalOwners&quot;, totalOwners);\n    theModel.addAttribute(&quot;totanAnimals&quot;, totanAnimals);\n\n    return &quot;dashboard&quot;;\n}\n\n@GetMapping({&quot;/login&quot;, &quot;/login.html&quot;})\npublic String loginPage() {\n    return &quot;login&quot;;\n}\n</code></pre>\n<p>Here is my <strong>Configuration</strong></p>\n<pre><code>@Autowired\nprivate BCryptPasswordEncoder bCryptPasswordEncoder;\n\n@Autowired\nprivate DataSource dataSource;\n\nprivate final String USERS_QUERY = &quot;select username, password, active from user where username=?&quot;;\nprivate final String ROLES_QUERY = &quot;select u.username, r.name from user u inner join user_role ur on(u.user_id=ur.user_id) inner join role r on(ur.role_id=r.role_id) where u.username=?&quot;;\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.jdbcAuthentication()\n            .usersByUsernameQuery(USERS_QUERY)\n            .authoritiesByUsernameQuery(ROLES_QUERY)\n            .dataSource(dataSource)\n            .passwordEncoder(bCryptPasswordEncoder);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http\n            .authorizeRequests()\n            .antMatchers()\n            .permitAll()\n            .antMatchers(&quot;/register&quot;, &quot;/login&quot;, &quot;/index&quot;, &quot;/&quot;)\n            .permitAll();\n\n    http.authorizeRequests().antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;);\n    http.authorizeRequests().anyRequest().authenticated();\n\n    http\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/login&quot;)\n            .failureUrl(&quot;/login?loginFailed=true&quot;)\n            .usernameParameter(&quot;username&quot;)\n            .passwordParameter(&quot;password&quot;)\n            .defaultSuccessUrl(&quot;/dashboard.html&quot;, true)\n            .and().logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/index&quot;);\n\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n</code></pre>\n"},{"tags":["java","android","react-native","ui-testing"],"answers":[{"tags":[],"owner":{"account_id":4681441,"reputation":4802,"user_id":3790046,"accept_rate":75,"display_name":"Henrik R"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662650681,"creation_date":1500990724,"answer_id":45305396,"question_id":45305018,"body_markdown":"You have to build React Native from source. Here is tutorial for that: https://reactnative.dev/contributing/how-to-build-from-source I tried it and it works :)","title":"Modifying react-native files","body":"<p>You have to build React Native from source. Here is tutorial for that: <a href=\"https://reactnative.dev/contributing/how-to-build-from-source\" rel=\"nofollow noreferrer\">https://reactnative.dev/contributing/how-to-build-from-source</a> I tried it and it works :)</p>\n"}],"owner":{"account_id":9780684,"reputation":494,"user_id":7248882,"accept_rate":80,"display_name":"Bashir Abdelwahed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45305396,"answer_count":1,"score":2,"last_activity_date":1662650681,"creation_date":1500989834,"question_id":45305018,"body_markdown":"i changed a BaseViewManager.java file inside of react-native to make resource-id available thru react-native. the thing is that no matter what i do, nothing takes effect, even if i put typos in the .java files. my colleague told me it&#39;s probably because the .java is not being built.\r\n\r\nso how to build the react-native .java files??\r\n\r\ni tried npm start of course but nothing took any effect.\r\n\r\nand this is the code that i want to change\r\n\r\n\r\n  \r\n\r\n    @ReactProp(name = PROP_TEST_ID)\r\n      public void setTestId(T view, String testId) {\r\n        view.setTag(R.id.react_test_id, testId);\r\n    \r\n        // temporarily set the tag and keyed tags to avoid end to end test regressions\r\n        view.setTag(testId);\r\n      }\r\n    \r\n      @ReactProp(name = PROP_NATIVE_ID)\r\n      public void setNativeId(T view, String nativeId) {\r\n        view.setTag(R.id.view_tag_native_id, nativeId);\r\n        ReactFindViewUtil.notifyViewRendered(view);\r\n    }","title":"Modifying react-native files","body":"<p>i changed a BaseViewManager.java file inside of react-native to make resource-id available thru react-native. the thing is that no matter what i do, nothing takes effect, even if i put typos in the .java files. my colleague told me it's probably because the .java is not being built.</p>\n\n<p>so how to build the react-native .java files??</p>\n\n<p>i tried npm start of course but nothing took any effect.</p>\n\n<p>and this is the code that i want to change</p>\n\n<pre><code>@ReactProp(name = PROP_TEST_ID)\n  public void setTestId(T view, String testId) {\n    view.setTag(R.id.react_test_id, testId);\n\n    // temporarily set the tag and keyed tags to avoid end to end test regressions\n    view.setTag(testId);\n  }\n\n  @ReactProp(name = PROP_NATIVE_ID)\n  public void setNativeId(T view, String nativeId) {\n    view.setTag(R.id.view_tag_native_id, nativeId);\n    ReactFindViewUtil.notifyViewRendered(view);\n}\n</code></pre>\n"},{"tags":["java","parameters","annotations","named"],"comments":[{"owner":{"account_id":241614,"reputation":9009,"user_id":512535,"accept_rate":80,"display_name":"Dmitri"},"score":1,"creation_date":1310005027,"post_id":6604693,"comment_id":7794922,"body_markdown":"The annotations (which are from JSR311, btw) merely tell the container (RESTeasy in this case) to inject a value if the parameter is null, which is very different from optional named parameters, which isn&#39;t something that Java supports.","body":"The annotations (which are from JSR311, btw) merely tell the container (RESTeasy in this case) to inject a value if the parameter is null, which is very different from optional named parameters, which isn&#39;t something that Java supports."}],"answers":[{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1310004867,"creation_date":1310004867,"answer_id":6605127,"question_id":6604693,"body_markdown":"The annotations in the RESTEasy example are possible due to the fact that the object is managed by the RESTEasy framework. It can inspect the method and determine how to invoke it based on those annotations. It is possible to create any annotations you&#39;d want, the key is that the code calling the method needs to know about the annotations and how to process them.","title":"Java named/optional parameters using annotation?","body":"<p>The annotations in the RESTEasy example are possible due to the fact that the object is managed by the RESTEasy framework. It can inspect the method and determine how to invoke it based on those annotations. It is possible to create any annotations you'd want, the key is that the code calling the method needs to know about the annotations and how to process them.</p>\n"},{"tags":[],"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310039729,"creation_date":1310005373,"answer_id":6605165,"question_id":6604693,"body_markdown":"First of all, what @laz said was exactly right. This is possible in RESTEasy because RESTEasy is managing the calls to your class.\r\n\r\nI think the pertinent question here is what you would expect an invocation of requestJson() to look like. Some examples: `requestJson(1)` and `requestJson(&quot;String&quot;)` versus something like `requestJson(null, 1)` and `requestJson(&quot;String&quot;, null)`.\r\n\r\nThere are five ways I can think of to handle this:\r\n\r\n1. The least automated way (but ultimately, best way): Write the variant methods yourself either by hand or set your IDE up to generate them.\r\n\r\n1. Make it the caller&#39;s responsibility to set the value to a default value if it doesn&#39;t have one (i.e. the caller determines &quot;I&#39;m calling a method which has a &quot;\r\n\r\n1. Intercept the call to requestJson() and plugin the missing values as needed (this gets into some messy reflection or runtime code generation voodoo; it&#39;s possible, but it&#39;s not going to be simple -- basically you&#39;re building your own AOP library which will be managing all the calls to requestJson()).\r\n\r\n1. Plug-in to the compiler / build chain to generate the required methods, i.e.:\r\n\r\n        public String requestJson() { requestJson(&quot;&quot;, 0); }\r\n        public String requestJson(String arg1) { requestJson(arg1, 0); }\r\n        public String requestJson(Int arg2) { requestJson(&quot;&quot;, arg2); }\r\n        public String requestJson(String arg1, Int arg2) {...}\r\n\r\n (This is similar to what is [discussed here][1])\r\n\r\n1. Add the code to determine the missing values to the top of your requestJson implementation. This would only enable things like `requestJson(null, 1)`, and it probably not what you are looking for (as it requires extra handing in requestJson()). It may be possible to extract the boiler plate into a library.\r\n\r\n\r\n  [1]: http://weblogs.java.net/blog/cayhorstmann/archive/2006/06/say_no_to_prope.html","title":"Java named/optional parameters using annotation?","body":"<p>First of all, what @laz said was exactly right. This is possible in RESTEasy because RESTEasy is managing the calls to your class.</p>\n\n<p>I think the pertinent question here is what you would expect an invocation of requestJson() to look like. Some examples: <code>requestJson(1)</code> and <code>requestJson(\"String\")</code> versus something like <code>requestJson(null, 1)</code> and <code>requestJson(\"String\", null)</code>.</p>\n\n<p>There are five ways I can think of to handle this:</p>\n\n<ol>\n<li><p>The least automated way (but ultimately, best way): Write the variant methods yourself either by hand or set your IDE up to generate them.</p></li>\n<li><p>Make it the caller's responsibility to set the value to a default value if it doesn't have one (i.e. the caller determines \"I'm calling a method which has a \"</p></li>\n<li><p>Intercept the call to requestJson() and plugin the missing values as needed (this gets into some messy reflection or runtime code generation voodoo; it's possible, but it's not going to be simple -- basically you're building your own AOP library which will be managing all the calls to requestJson()).</p></li>\n<li><p>Plug-in to the compiler / build chain to generate the required methods, i.e.:</p>\n\n<pre><code>public String requestJson() { requestJson(\"\", 0); }\npublic String requestJson(String arg1) { requestJson(arg1, 0); }\npublic String requestJson(Int arg2) { requestJson(\"\", arg2); }\npublic String requestJson(String arg1, Int arg2) {...}\n</code></pre>\n\n<p>(This is similar to what is <a href=\"http://weblogs.java.net/blog/cayhorstmann/archive/2006/06/say_no_to_prope.html\" rel=\"nofollow\">discussed here</a>)</p></li>\n<li><p>Add the code to determine the missing values to the top of your requestJson implementation. This would only enable things like <code>requestJson(null, 1)</code>, and it probably not what you are looking for (as it requires extra handing in requestJson()). It may be possible to extract the boiler plate into a library.</p></li>\n</ol>\n"}],"owner":{"account_id":180511,"reputation":8300,"user_id":413872,"accept_rate":95,"display_name":"travega"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6605127,"answer_count":2,"score":4,"last_activity_date":1662650584,"creation_date":1309999956,"question_id":6604693,"body_markdown":"In RESTeasy this...\r\n\r\n    @GET\r\n    @Path(&quot;request&quot;)\r\n    public String requestJson(@QueryParam(&quot;arg1&quot;) @DefaultValue(&quot;&quot;) String arg1,\r\n    \t\t\t\t\t\t  @QueryParam(&quot;arg2&quot;) @DefaultValue(&quot;0&quot;) Integer arg2);\r\n\r\n...allows you to define any subset of parameters defined in the method signature. Surely it is then possible to use this same pattern on any method signature something like this:\r\n\r\n    @Method\r\n    public String requestJson(@OptionalParameter(&quot;arg1&quot;) @DefaultValue(&quot;&quot;) String arg1,\r\n    \t\t\t\t\t\t  @OptionalParameter(&quot;arg2&quot;) @DefaultValue(&quot;0&quot;) Integer arg2);\r\n\r\nIs it possible to do this? If so how?","title":"Java named/optional parameters using annotation?","body":"<p>In RESTeasy this...</p>\n\n<pre><code>@GET\n@Path(\"request\")\npublic String requestJson(@QueryParam(\"arg1\") @DefaultValue(\"\") String arg1,\n                          @QueryParam(\"arg2\") @DefaultValue(\"0\") Integer arg2);\n</code></pre>\n\n<p>...allows you to define any subset of parameters defined in the method signature. Surely it is then possible to use this same pattern on any method signature something like this:</p>\n\n<pre><code>@Method\npublic String requestJson(@OptionalParameter(\"arg1\") @DefaultValue(\"\") String arg1,\n                          @OptionalParameter(\"arg2\") @DefaultValue(\"0\") Integer arg2);\n</code></pre>\n\n<p>Is it possible to do this? If so how?</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1662124093,"post_id":73583068,"comment_id":129939647,"body_markdown":"Hi there, can you share your related codes about you problem.?","body":"Hi there, can you share your related codes about you problem.?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1662124457,"post_id":73583068,"comment_id":129939791,"body_markdown":"Please edit your question and add the information Ticherhaz asked for, and please also respond using @.","body":"Please edit your question and add the information Ticherhaz asked for, and please also respond using @."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1662124505,"post_id":73583068,"comment_id":129939807,"body_markdown":"i have added the recyclerview code please check","body":"i have added the recyclerview code please check"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662125660,"post_id":73583068,"comment_id":129940251,"body_markdown":"Why you are using setOnCheckedChangeListener ? Also you can use position from onBindViewHolder() method no need to use this - holder.getBindingAdapterPosition();","body":"Why you are using setOnCheckedChangeListener ? Also you can use position from onBindViewHolder() method no need to use this - holder.getBindingAdapterPosition();"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1662125938,"post_id":73583068,"comment_id":129940386,"body_markdown":"@AdityaNandardhane i am using setoncheckedlistner to check or uncheck the wishlist(heart ) icon","body":"@AdityaNandardhane i am using setoncheckedlistner to check or uncheck the wishlist(heart ) icon"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662135976,"post_id":73583068,"comment_id":129944047,"body_markdown":"Have you tried to use the position in the list, and not in the adapter?","body":"Have you tried to use the position in the list, and not in the adapter?"},{"owner":{"account_id":15687317,"reputation":122,"user_id":11319596,"display_name":"Kakyire"},"score":0,"creation_date":1662159441,"post_id":73583068,"comment_id":129949795,"body_markdown":"Create boolean property in your POJO class, then when you click on item you set it to true and vice versa. Also use that boolean property to show whether item has been check or not. I hope this helps.","body":"Create boolean property in your POJO class, then when you click on item you set it to true and vice versa. Also use that boolean property to show whether item has been check or not. I hope this helps."}],"answers":[{"tags":[],"owner":{"account_id":17743196,"reputation":55,"user_id":12883017,"display_name":"Şageldi Aly&#253;ew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662589273,"creation_date":1662589273,"answer_id":73641988,"question_id":73583068,"body_markdown":"**Why this happening? Because when you scroll recyclerview remove hidden items automatically. For ex: 0 will be remove when scroll down and 1 item will be 0, 2 item will be 1 and 3-&gt;2,4-&gt;3 like this. There are 2 ways fix this error:**\r\n\r\n**1) Simple way, but this method freeze your app when data is big:**\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Viewholder holder, int position)\r\n    {\r\n        holder.setIsRecyclable(false);\r\n    }\r\n\r\n**2) If you want you use second method you must add unique_id to your arraylist each item:**\r\n\r\n    public class RecyclerviewAdapter extends RecyclerView.Adapter&lt;RecyclerviewAdapter.Viewholder&gt; {\r\n\r\n    ArrayList&lt;RecyclerviewModel&gt; datalist;\r\n    Context context;\r\n    private ArrayList&lt;String&gt; checkedItems=new ArrayList&lt;&gt;();\r\n\r\n    public RecyclerviewAdapter(ArrayList&lt;RecyclerviewModel&gt; datalist, Context context) {\r\n        this.datalist = datalist;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View viewholder = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item, parent , false);\r\n        return new Viewholder(viewholder);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Viewholder holder, int position)\r\n    {\r\n        int pos=holder.getAdapterPosition();\r\n        holder.name.setText(datalist.get(pos).getName());\r\n        holder.email.setText(datalist.get(pos).getEmail());\r\n        holder.desc.setText(datalist.get(pos).getDesc());\r\n        holder.book.setText(datalist.get(pos).getBook());\r\n\r\n        //code for setting image-slider on home\r\n        holder.sliderAdapterExample = new SliderAdapterExample(context.getApplicationContext(), datalist.get(pos).getImages());\r\n        holder.imageSlider.setSliderAdapter(holder.sliderAdapterExample);\r\n\r\n        final RecyclerviewModel datawish = datalist.get(pos);\r\n        String wishName = datawish.getName();\r\n        String wishEmail = datawish.getEmail();\r\n\r\n\r\n        holder.wishlist.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                if(b){\r\n                    checkedItems.add(datalist.get(pos).getUniqueId());\r\n                } else {\r\n                    checkedItems.remove(datalist.get(pos).getUniqueId());\r\n                }\r\n            }\r\n        });\r\n        \r\n        // Check your selection here\r\n        if(checkedItems.contains(datalist.get(pos).getUniqueId())){\r\n            holder.wishlist.setChecked(true);\r\n        } else {\r\n            holder.wishlist.setChecked(false);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return datalist.size();\r\n    }\r\n\r\n    public class Viewholder extends RecyclerView.ViewHolder{\r\n\r\n\r\n        TextView name, email, desc, book;\r\n        SliderView imageSlider;\r\n        SliderAdapterExample sliderAdapterExample;\r\n        CheckBox wishlist;\r\n\r\n        public Viewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name = itemView.findViewById(R.id.text_name);\r\n            email = itemView.findViewById(R.id.text_email);\r\n            desc = itemView.findViewById(R.id.text_desc);\r\n            book = itemView.findViewById(R.id.text_book);\r\n            wishlist = itemView.findViewById(R.id.wishlist_checkbox);\r\n            imageSlider = itemView.findViewById(R.id.imageView3);\r\n\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n","title":"Why me recyclerview item automatically click?","body":"<p><strong>Why this happening? Because when you scroll recyclerview remove hidden items automatically. For ex: 0 will be remove when scroll down and 1 item will be 0, 2 item will be 1 and 3-&gt;2,4-&gt;3 like this. There are 2 ways fix this error:</strong></p>\n<p><strong>1) Simple way, but this method freeze your app when data is big:</strong></p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull Viewholder holder, int position)\n{\n    holder.setIsRecyclable(false);\n}\n</code></pre>\n<p><strong>2) If you want you use second method you must add unique_id to your arraylist each item:</strong></p>\n<pre><code>public class RecyclerviewAdapter extends RecyclerView.Adapter&lt;RecyclerviewAdapter.Viewholder&gt; {\n\nArrayList&lt;RecyclerviewModel&gt; datalist;\nContext context;\nprivate ArrayList&lt;String&gt; checkedItems=new ArrayList&lt;&gt;();\n\npublic RecyclerviewAdapter(ArrayList&lt;RecyclerviewModel&gt; datalist, Context context) {\n    this.datalist = datalist;\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View viewholder = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item, parent , false);\n    return new Viewholder(viewholder);\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull Viewholder holder, int position)\n{\n    int pos=holder.getAdapterPosition();\n    holder.name.setText(datalist.get(pos).getName());\n    holder.email.setText(datalist.get(pos).getEmail());\n    holder.desc.setText(datalist.get(pos).getDesc());\n    holder.book.setText(datalist.get(pos).getBook());\n\n    //code for setting image-slider on home\n    holder.sliderAdapterExample = new SliderAdapterExample(context.getApplicationContext(), datalist.get(pos).getImages());\n    holder.imageSlider.setSliderAdapter(holder.sliderAdapterExample);\n\n    final RecyclerviewModel datawish = datalist.get(pos);\n    String wishName = datawish.getName();\n    String wishEmail = datawish.getEmail();\n\n\n    holder.wishlist.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n            if(b){\n                checkedItems.add(datalist.get(pos).getUniqueId());\n            } else {\n                checkedItems.remove(datalist.get(pos).getUniqueId());\n            }\n        }\n    });\n    \n    // Check your selection here\n    if(checkedItems.contains(datalist.get(pos).getUniqueId())){\n        holder.wishlist.setChecked(true);\n    } else {\n        holder.wishlist.setChecked(false);\n    }\n\n}\n\n\n@Override\npublic int getItemCount() {\n    return datalist.size();\n}\n\npublic class Viewholder extends RecyclerView.ViewHolder{\n\n\n    TextView name, email, desc, book;\n    SliderView imageSlider;\n    SliderAdapterExample sliderAdapterExample;\n    CheckBox wishlist;\n\n    public Viewholder(@NonNull View itemView) {\n        super(itemView);\n\n        name = itemView.findViewById(R.id.text_name);\n        email = itemView.findViewById(R.id.text_email);\n        desc = itemView.findViewById(R.id.text_desc);\n        book = itemView.findViewById(R.id.text_book);\n        wishlist = itemView.findViewById(R.id.wishlist_checkbox);\n        imageSlider = itemView.findViewById(R.id.imageView3);\n\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662650539,"creation_date":1662650539,"answer_id":73651524,"question_id":73583068,"body_markdown":"When you call your Adapter in your Fragment or Activity, add this line before setAdapter()\r\n\r\n    recyclerView.setItemViewCacheSize(mData.size());","title":"Why me recyclerview item automatically click?","body":"<p>When you call your Adapter in your Fragment or Activity, add this line before setAdapter()</p>\n<pre><code>recyclerView.setItemViewCacheSize(mData.size());\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1662650539,"creation_date":1662123998,"question_id":73583068,"body_markdown":"I am working on an application where i have list of items in recyclerview on items i have a hear icon as wishlist the problem is when i click on the first item the last item automatically selected when i select the second item the second last got selected automatically. I dont know why this is happening?? please guide me\r\n\r\n**My RecyclerView Adapter**\r\n\r\n    \r\npublic class RecyclerviewAdapter extends RecyclerView.Adapter&lt;RecyclerviewAdapter.Viewholder&gt; {\r\n\r\n    ArrayList&lt;RecyclerviewModel&gt; datalist;\r\n    Context context;\r\n\r\n    public RecyclerviewAdapter(ArrayList&lt;RecyclerviewModel&gt; datalist, Context context) {\r\n        this.datalist = datalist;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View viewholder = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item, parent , false);\r\n         return new Viewholder(viewholder);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Viewholder holder, int position)\r\n    {\r\n        holder.name.setText(datalist.get(position).getName());\r\n        holder.email.setText(datalist.get(position).getEmail());\r\n        holder.desc.setText(datalist.get(position).getDesc());\r\n        holder.book.setText(datalist.get(position).getBook());\r\n\r\n        //code for setting image-slider on home\r\n        holder.sliderAdapterExample = new SliderAdapterExample(context.getApplicationContext(), datalist.get(position).getImages());\r\n        holder.imageSlider.setSliderAdapter(holder.sliderAdapterExample);\r\n\r\n        final RecyclerviewModel datawish = datalist.get(position);\r\n        String wishName = datawish.getName();\r\n        String wishEmail = datawish.getEmail();\r\n        \r\n\r\n        holder.wishlist.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n\r\n                int pos = holder.getBindingAdapterPosition();\r\n                if(compoundButton.isChecked())\r\n                {\r\n                    Toast.makeText(context, &quot;item added to wishlist&quot; + pos , Toast.LENGTH_SHORT).show();\r\n                }else {\r\n\r\n                    Toast.makeText(context, &quot;item removed to wishlist&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return datalist.size();\r\n    }\r\n\r\n    public class Viewholder extends RecyclerView.ViewHolder{\r\n\r\n\r\n        TextView name, email, desc, book;\r\n        SliderView imageSlider;\r\n        SliderAdapterExample sliderAdapterExample;\r\n        CheckBox wishlist;\r\n\r\n        public Viewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name = itemView.findViewById(R.id.text_name);\r\n            email = itemView.findViewById(R.id.text_email);\r\n            desc = itemView.findViewById(R.id.text_desc);\r\n            book = itemView.findViewById(R.id.text_book);\r\n            wishlist = itemView.findViewById(R.id.wishlist_checkbox);\r\n            imageSlider = itemView.findViewById(R.id.imageView3);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n**i click on the first heart icon**\r\n\r\n\r\n[![enter description here][1]][1]\r\n\r\n\r\n**the last one is automatically clicked**\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i3uB8.jpg\r\n  [2]: https://i.stack.imgur.com/9ivEU.jpg","title":"Why me recyclerview item automatically click?","body":"<p>I am working on an application where i have list of items in recyclerview on items i have a hear icon as wishlist the problem is when i click on the first item the last item automatically selected when i select the second item the second last got selected automatically. I dont know why this is happening?? please guide me</p>\n<p><strong>My RecyclerView Adapter</strong></p>\n<p>public class RecyclerviewAdapter extends RecyclerView.Adapter&lt;RecyclerviewAdapter.Viewholder&gt; {</p>\n<pre><code>ArrayList&lt;RecyclerviewModel&gt; datalist;\nContext context;\n\npublic RecyclerviewAdapter(ArrayList&lt;RecyclerviewModel&gt; datalist, Context context) {\n    this.datalist = datalist;\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View viewholder = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item, parent , false);\n     return new Viewholder(viewholder);\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull Viewholder holder, int position)\n{\n    holder.name.setText(datalist.get(position).getName());\n    holder.email.setText(datalist.get(position).getEmail());\n    holder.desc.setText(datalist.get(position).getDesc());\n    holder.book.setText(datalist.get(position).getBook());\n\n    //code for setting image-slider on home\n    holder.sliderAdapterExample = new SliderAdapterExample(context.getApplicationContext(), datalist.get(position).getImages());\n    holder.imageSlider.setSliderAdapter(holder.sliderAdapterExample);\n\n    final RecyclerviewModel datawish = datalist.get(position);\n    String wishName = datawish.getName();\n    String wishEmail = datawish.getEmail();\n    \n\n    holder.wishlist.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n\n            int pos = holder.getBindingAdapterPosition();\n            if(compoundButton.isChecked())\n            {\n                Toast.makeText(context, &quot;item added to wishlist&quot; + pos , Toast.LENGTH_SHORT).show();\n            }else {\n\n                Toast.makeText(context, &quot;item removed to wishlist&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    });\n\n}\n\n\n@Override\npublic int getItemCount() {\n    return datalist.size();\n}\n\npublic class Viewholder extends RecyclerView.ViewHolder{\n\n\n    TextView name, email, desc, book;\n    SliderView imageSlider;\n    SliderAdapterExample sliderAdapterExample;\n    CheckBox wishlist;\n\n    public Viewholder(@NonNull View itemView) {\n        super(itemView);\n\n        name = itemView.findViewById(R.id.text_name);\n        email = itemView.findViewById(R.id.text_email);\n        desc = itemView.findViewById(R.id.text_desc);\n        book = itemView.findViewById(R.id.text_book);\n        wishlist = itemView.findViewById(R.id.wishlist_checkbox);\n        imageSlider = itemView.findViewById(R.id.imageView3);\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>i click on the first heart icon</strong></p>\n<p><a href=\"https://i.stack.imgur.com/i3uB8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3uB8.jpg\" alt=\"enter description here\" /></a></p>\n<p><strong>the last one is automatically clicked</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9ivEU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ivEU.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dialog","joptionpane"],"answers":[{"tags":[],"owner":{"account_id":2050458,"reputation":309,"user_id":1829593,"display_name":"matheuslf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353436742,"creation_date":1353436742,"answer_id":13479885,"question_id":13479731,"body_markdown":"Check out http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html it pretty much has everything you would need.\r\n\r\n&quot;As i understand it, JOptionPane is great for what it can do, but you can&#39;t really change the functionality beyond that (not easily). JDialog is better to inherit from if you want to create your own custom Dialogs&quot;","title":"JOptionPane showOptionDialog","body":"<p>Check out <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html</a> it pretty much has everything you would need.</p>\n\n<p>\"As i understand it, JOptionPane is great for what it can do, but you can't really change the functionality beyond that (not easily). JDialog is better to inherit from if you want to create your own custom Dialogs\"</p>\n"},{"tags":[],"owner":{"account_id":1049528,"reputation":725,"user_id":1053785,"accept_rate":67,"display_name":"gadeynebram"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1353436752,"creation_date":1353436752,"answer_id":13479889,"question_id":13479731,"body_markdown":"    int choice = JOptionPane.showOptionDialog(null, //Component parentComponent\r\n                                   &quot;Metric or Imperial?&quot;, //Object message,\r\n                                   &quot;Choose an option&quot;, //String title\r\n                                   JOptionPane.YES_NO_OPTION, //int optionType\r\n                                   JOptionPane.INFORMATION_MESSAGE, //int messageType\r\n                                   null, //Icon icon,\r\n                                   {&quot;Metric&quot;,&quot;Imperial&quot;}, //Object[] options,\r\n                                   &quot;Metric&quot;);//Object initialValue \r\n    if(choice == 0 ){\r\n       //Metric was chosen\r\n    }else{\r\n       //Imperial was chosen\r\n    }","title":"JOptionPane showOptionDialog","body":"<pre><code>int choice = JOptionPane.showOptionDialog(null, //Component parentComponent\n                               \"Metric or Imperial?\", //Object message,\n                               \"Choose an option\", //String title\n                               JOptionPane.YES_NO_OPTION, //int optionType\n                               JOptionPane.INFORMATION_MESSAGE, //int messageType\n                               null, //Icon icon,\n                               {\"Metric\",\"Imperial\"}, //Object[] options,\n                               \"Metric\");//Object initialValue \nif(choice == 0 ){\n   //Metric was chosen\n}else{\n   //Imperial was chosen\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1764201,"reputation":2247,"user_id":1610459,"accept_rate":50,"display_name":"droidchef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453333979,"creation_date":1353437353,"answer_id":13480037,"question_id":13479731,"body_markdown":"    Object[] options = {&quot;Metric&quot;,&quot;Imperial&quot;};\r\n    int n = JOptionPane.showOptionDialog(null,\r\n    \t\t    &quot;A Message&quot;,\r\n    \t\t    &quot;A Title&quot;,\r\n    \t\t    JOptionPane.YES_NO_CANCEL_OPTION,\r\n    \t\t    JOptionPane.DEFAULT_OPTION,\r\n    \t\t    null,\r\n    \t\t    options,\r\n    \t\t    options[1]);  \r\n      \r\n    System.out.println(n);  \r\n\r\n    JFrame metric = new JFrame(&quot;Metric&quot;);  \r\n    metric.setBounds(0, 0, 320, 240);  \r\n  \r\n    JFrame imperial = new JFrame(&quot;Imperial&quot;);  \r\n    imperial.setBounds(0, 0, 320, 240);  \r\n      \r\n    if(n==0){  \r\n         metric.setVisible(true);  \r\n    }else if(n==1){\r\n        imperial.setVisible(true);\r\n    }else{\r\n        System.out.println(&quot;no option choosen&quot;);\r\n    }","title":"JOptionPane showOptionDialog","body":"<pre><code>Object[] options = {\"Metric\",\"Imperial\"};\nint n = JOptionPane.showOptionDialog(null,\n            \"A Message\",\n            \"A Title\",\n            JOptionPane.YES_NO_CANCEL_OPTION,\n            JOptionPane.DEFAULT_OPTION,\n            null,\n            options,\n            options[1]);  \n\nSystem.out.println(n);  \n\nJFrame metric = new JFrame(\"Metric\");  \nmetric.setBounds(0, 0, 320, 240);  \n\nJFrame imperial = new JFrame(\"Imperial\");  \nimperial.setBounds(0, 0, 320, 240);  \n\nif(n==0){  \n     metric.setVisible(true);  \n}else if(n==1){\n    imperial.setVisible(true);\n}else{\n    System.out.println(\"no option choosen\");\n}\n</code></pre>\n"}],"owner":{"account_id":2063012,"reputation":161,"user_id":1839155,"accept_rate":50,"display_name":"Jonny Stewart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50106,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13479889,"answer_count":3,"score":4,"last_activity_date":1662650513,"creation_date":1353436100,"question_id":13479731,"body_markdown":"I want to create a showOptionDialog using JOptionPane that has two buttons: Metric and Imperial.  \r\nIf say, Metric is clicked on, the Metric GUI will load. Conversely, if Imperial is clicked on, then the Imperial GUI will load. \r\n\r\nHow do I do this?\r\n","title":"JOptionPane showOptionDialog","body":"<p>I want to create a showOptionDialog using JOptionPane that has two buttons: Metric and Imperial.<br />\nIf say, Metric is clicked on, the Metric GUI will load. Conversely, if Imperial is clicked on, then the Imperial GUI will load.</p>\n<p>How do I do this?</p>\n"},{"tags":["java","user-interface","server","frontend","rundeck"],"comments":[{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1661776728,"post_id":73517977,"comment_id":129844867,"body_markdown":"More context is needed, what is your cloud provider? network config? could you share your rundeck-config.properties?","body":"More context is needed, what is your cloud provider? network config? could you share your rundeck-config.properties?"}],"answers":[{"tags":[],"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662650179,"creation_date":1662649639,"answer_id":73651311,"question_id":73517977,"body_markdown":"You need to put the external URL in the `grails.serverURL` parameter (on the `rundeck-config.properties` file, usually at `/etc/rundeck` path), e.g: `grails.serverURL=http://my_external_url:4440` then, restart the rundeck service. More info [here][1].\r\n\r\n\r\n  [1]: https://docs.rundeck.com/docs/learning/howto/install-centos.html#basic-rundeck-configuration","title":"Rundeck ui not visible after successful installation of new rundeck","body":"<p>You need to put the external URL in the <code>grails.serverURL</code> parameter (on the <code>rundeck-config.properties</code> file, usually at <code>/etc/rundeck</code> path), e.g: <code>grails.serverURL=http://my_external_url:4440</code> then, restart the rundeck service. More info <a href=\"https://docs.rundeck.com/docs/learning/howto/install-centos.html#basic-rundeck-configuration\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26179659,"reputation":1,"user_id":19863233,"display_name":"Shaik Sharuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662650179,"creation_date":1661683280,"question_id":73517977,"body_markdown":"I had installed a new version of rundeck in cloud server but i am not able to open rundeck ui. And everything is fine in backend as services are started but only issue is ui which is not getting after many trys....any suggestion how to make it visible?","title":"Rundeck ui not visible after successful installation of new rundeck","body":"<p>I had installed a new version of rundeck in cloud server but i am not able to open rundeck ui. And everything is fine in backend as services are started but only issue is ui which is not getting after many trys....any suggestion how to make it visible?</p>\n"},{"tags":["java","spring-boot","dmn"],"comments":[{"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"score":0,"creation_date":1662650295,"post_id":73651344,"comment_id":130059755,"body_markdown":"Create blob/clob field, and put it there. Question is why do you need it? That is something to be used to generate code... so I would keep it with source code, and generate java-code when needed.","body":"Create blob/clob field, and put it there. Question is why do you need it? That is something to be used to generate code... so I would keep it with source code, and generate java-code when needed."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662650303,"post_id":73651344,"comment_id":130059760,"body_markdown":"Can&#39;t you create the .dmn out of that object and store that? Might be better than serializing the object that deals with it as I&#39;d assume .dmn already is a format meant for storage and exchange.","body":"Can&#39;t you create the .dmn out of that object and store that? Might be better than serializing the object that deals with it as I&#39;d assume .dmn already is a format meant for storage and exchange."},{"owner":{"account_id":7701935,"reputation":57,"user_id":5834189,"display_name":"Wojtek Smol"},"score":0,"creation_date":1662661656,"post_id":73651344,"comment_id":130063727,"body_markdown":"@Michał Zaborowski I&#39;m no sure what you mean","body":"@Michał Zaborowski I&#39;m no sure what you mean"},{"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"score":0,"creation_date":1662662263,"post_id":73651344,"comment_id":130063924,"body_markdown":"You can write anything to blob. Clob is large object, but text. If you can serialize it - it can be stored. According to their docs - this is just a notation - from that you create java code, and that is something you can use... If so - I would store that dmns with code - as documents / for future changes.","body":"You can write anything to blob. Clob is large object, but text. If you can serialize it - it can be stored. According to their docs - this is just a notation - from that you create java code, and that is something you can use... If so - I would store that dmns with code - as documents / for future changes."},{"owner":{"account_id":7701935,"reputation":57,"user_id":5834189,"display_name":"Wojtek Smol"},"score":0,"creation_date":1662664328,"post_id":73651344,"comment_id":130064511,"body_markdown":"But then everyytime I want to evaluate decision from the DMN model I need to create this model from .dmn file and it takes time","body":"But then everyytime I want to evaluate decision from the DMN model I need to create this model from .dmn file and it takes time"}],"answers":[{"tags":[],"owner":{"account_id":10667305,"reputation":1,"user_id":7853450,"display_name":"D Chow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662650178,"creation_date":1662650178,"answer_id":73651441,"question_id":73651344,"body_markdown":"I&#39;d prefer NoSQL such as MongoDB for storing these types of objects. If you have to use SQL for some reason, then go with JSON.","title":"Store 3rd party library object in database","body":"<p>I'd prefer NoSQL such as MongoDB for storing these types of objects. If you have to use SQL for some reason, then go with JSON.</p>\n"}],"owner":{"account_id":7701935,"reputation":57,"user_id":5834189,"display_name":"Wojtek Smol"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662650178,"creation_date":1662649811,"question_id":73651344,"body_markdown":"Dear Stackoverflow community,\r\n\r\nI&#39;m developing a spring boot application which is using 3rd party library (https://github.com/goldmansachs/jdmn)\r\n\r\nThere is an object called `TDefinitions` which holds information about .dmn diagram.\r\nSomehow I need to persist this object or all the information that this object contains in my database, using Spring Data JPA repository. So that I can reuse it whenever I run my application again.\r\n\r\nCould you please assist me what would be the ways to achieve that? Store it as a Blob or maybe serialize it somehow as a Json?\r\nThe problem is it&#39;s not a simple object. Here&#39;s part of it&#39;s definition:\r\n\r\n        @JsonPropertyOrder({...})\r\n    public class TDefinitions extends TNamedElement implements Visitable {\r\n        @JsonProperty(&quot;import&quot;)\r\n        private List&lt;TImport&gt; _import;\r\n        private List&lt;TItemDefinition&gt; itemDefinition;\r\n        private List&lt;TDRGElement&gt; drgElement;\r\n        private List&lt;TArtifact&gt; artifact;\r\n        private List&lt;TElementCollection&gt; elementCollection;\r\n        private List&lt;TBusinessContextElement&gt; businessContextElement;\r\n        private DMNDI dmndi;\r\n        private String expressionLanguage;\r\n        private String typeLanguage;\r\n    \r\n    [...] \r\n\r\nHow should I approach this problem from architectural perspective? How should I design my app? Provide interfaces/classes that extend elements from this library?","title":"Store 3rd party library object in database","body":"<p>Dear Stackoverflow community,</p>\n<p>I'm developing a spring boot application which is using 3rd party library (<a href=\"https://github.com/goldmansachs/jdmn\" rel=\"nofollow noreferrer\">https://github.com/goldmansachs/jdmn</a>)</p>\n<p>There is an object called <code>TDefinitions</code> which holds information about .dmn diagram.\nSomehow I need to persist this object or all the information that this object contains in my database, using Spring Data JPA repository. So that I can reuse it whenever I run my application again.</p>\n<p>Could you please assist me what would be the ways to achieve that? Store it as a Blob or maybe serialize it somehow as a Json?\nThe problem is it's not a simple object. Here's part of it's definition:</p>\n<pre><code>    @JsonPropertyOrder({...})\npublic class TDefinitions extends TNamedElement implements Visitable {\n    @JsonProperty(&quot;import&quot;)\n    private List&lt;TImport&gt; _import;\n    private List&lt;TItemDefinition&gt; itemDefinition;\n    private List&lt;TDRGElement&gt; drgElement;\n    private List&lt;TArtifact&gt; artifact;\n    private List&lt;TElementCollection&gt; elementCollection;\n    private List&lt;TBusinessContextElement&gt; businessContextElement;\n    private DMNDI dmndi;\n    private String expressionLanguage;\n    private String typeLanguage;\n\n[...] \n</code></pre>\n<p>How should I approach this problem from architectural perspective? How should I design my app? Provide interfaces/classes that extend elements from this library?</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661434186,"post_id":73487495,"comment_id":129775436,"body_markdown":"I wrote a super simple [example](https://github.com/paolopiccinini/openhtmltopdf-example) while using freemarker with openHtmlToPdf. Hope this helps","body":"I wrote a super simple <a href=\"https://github.com/paolopiccinini/openhtmltopdf-example\" rel=\"nofollow noreferrer\">example</a> while using freemarker with openHtmlToPdf. Hope this helps"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1661504277,"post_id":73487495,"comment_id":129792826,"body_markdown":"Your example is using a `HashMap` for the *model* variable instead of a `String`!","body":"Your example is using a <code>HashMap</code> for the <i>model</i> variable instead of a <code>String</code>!"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661504967,"post_id":73487495,"comment_id":129793065,"body_markdown":"Have you read the doc?: `dataModel - the holder of the variables visible from the template (name-value pairs); usually a Map&lt;String, Object&gt; or a JavaBean (where the JavaBean properties will be the variables). Can be any object that the ObjectWrapper in use turns into a TemplateHashModel. You can also use an object that already implements TemplateHashModel; in that case it won&#39;t be wrapped. If it&#39;s null, an empty data model is used.` I don&#39;t think you can use a String anyway, maybe a JaveBean with a String in it","body":"Have you read the doc?: <code>dataModel - the holder of the variables visible from the template (name-value pairs); usually a Map&lt;String, Object&gt; or a JavaBean (where the JavaBean properties will be the variables). Can be any object that the ObjectWrapper in use turns into a TemplateHashModel. You can also use an object that already implements TemplateHashModel; in that case it won&#39;t be wrapped. If it&#39;s null, an empty data model is used.</code> I don&#39;t think you can use a String anyway, maybe a JaveBean with a String in it"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661507016,"post_id":73487495,"comment_id":129793733,"body_markdown":"Tryed with a String : `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: freemarker.template.DefaultObjectWrapper didn&#39;t convert java.lang.String to a TemplateHashModel. Generally, you want to use a Map&lt;String, Object&gt; or a JavaBean as the root-map (aka. data-model) parameter. The Map key-s or JavaBean property names will be the variable names in the template.` I&#39;ve pushed look at FreeMarkerExample2.java, you can use a JavaBean instead as in the example","body":"Tryed with a String : <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: freemarker.template.DefaultObjectWrapper didn&#39;t convert java.lang.String to a TemplateHashModel. Generally, you want to use a Map&lt;String, Object&gt; or a JavaBean as the root-map (aka. data-model) parameter. The Map key-s or JavaBean property names will be the variable names in the template.</code> I&#39;ve pushed look at FreeMarkerExample2.java, you can use a JavaBean instead as in the example"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1661515329,"post_id":73487495,"comment_id":129796441,"body_markdown":"Yes, I read it and I only hoped for a hack someone might know.","body":"Yes, I read it and I only hoped for a hack someone might know."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661518239,"post_id":73487495,"comment_id":129797508,"body_markdown":"You can’t even extend String and then implement TemplateHashModel. String is final so there is no way.","body":"You can’t even extend String and then implement TemplateHashModel. String is final so there is no way."}],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661799184,"creation_date":1661799184,"answer_id":73533441,"question_id":73487495,"body_markdown":"The variables exposed to the template must have a name. Even if you only have one variable. How would you refer to that value in the template otherwise? Like `Hello ${whatWillBeHere}!`?","title":"Is it possible to pass just a String as the data-model for a FreeMarker template?","body":"<p>The variables exposed to the template must have a name. Even if you only have one variable. How would you refer to that value in the template otherwise? Like <code>Hello ${whatWillBeHere}!</code>?</p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662650053,"creation_date":1662650053,"answer_id":73651407,"question_id":73487495,"body_markdown":"Well, based on my own experience confirmed here in the comments I conclude that the answer is: it is not possible to pass one `String` only as the *model* variable instead of packing it into an object or a `Map`.","title":"Is it possible to pass just a String as the data-model for a FreeMarker template?","body":"<p>Well, based on my own experience confirmed here in the comments I conclude that the answer is: it is not possible to pass one <code>String</code> only as the <em>model</em> variable instead of packing it into an object or a <code>Map</code>.</p>\n"}],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662650053,"creation_date":1661430356,"question_id":73487495,"body_markdown":"I want to use pass to a FreeMarker template just one variable, i.e. some text, e.g. `&quot;this is a text&quot;`; is it possible to pass one `String` only as the *model* variable instead of packing it into an object or a Map? What would look like the `FreeMarker` template using the `String` variable?\r\n\r\nPS: should work with Java","title":"Is it possible to pass just a String as the data-model for a FreeMarker template?","body":"<p>I want to use pass to a FreeMarker template just one variable, i.e. some text, e.g. <code>&quot;this is a text&quot;</code>; is it possible to pass one <code>String</code> only as the <em>model</em> variable instead of packing it into an object or a Map? What would look like the <code>FreeMarker</code> template using the <code>String</code> variable?</p>\n<p>PS: should work with Java</p>\n"},{"tags":["java","spring-boot","spring-integration","sftp","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662650046,"creation_date":1662650046,"answer_id":73651405,"question_id":73644925,"body_markdown":"It sounds like better to use an SFTP Inbound Channel Adapter instead of something manual: https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-inbound.\r\n\r\nYou can have then an `ExecutorChannel` to process those emitted messages in parallel.\r\n\r\nYou might not need that `UploadMessageGateway` though since everything is going to be build as an integration flow from beginning to the end.","title":"How do you make SFTP Upload operation from single threaded to multithreaded?","body":"<p>It sounds like better to use an SFTP Inbound Channel Adapter instead of something manual: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-inbound\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-inbound</a>.</p>\n<p>You can have then an <code>ExecutorChannel</code> to process those emitted messages in parallel.</p>\n<p>You might not need that <code>UploadMessageGateway</code> though since everything is going to be build as an integration flow from beginning to the end.</p>\n"}],"owner":{"account_id":14105445,"reputation":11,"user_id":10189637,"display_name":"Deshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662650046,"creation_date":1662620548,"question_id":73644925,"body_markdown":"I&#39;m kind of new to the Multithreading approach. currently, in my code I am using ExecutorService Executors.newSingleThreadExecutor() to span a single thread that checks for files in a particular Directory if present I will fetch n files path(ex: n=5 files path) and will perform SFTP Operations of 5 files one by one. \r\nBut when I have a Large number of files the single-threaded approach will take a lot of time to sftp each file one by one.\r\n\r\n\r\n\r\nSftpUpload Service class:-\r\n     \r\n     @Autowired\r\n     private  UploadMessageGateway gateway;\r\n\r\n     public void uploadFile(File file) throws SftpException\r\n      {\r\n        try\r\n         {\r\n            gateway.uploadFile(file);\r\n         }\r\n        catch (Exception e)\r\n         {\r\n            logger.error(&quot; Exception found at SftpUpload {} &quot;,\r\n                    e.getMessage());\r\n         } \r\n       }\r\n\r\nsftp gateway:-\r\n\r\n    @MessagingGateway\r\n    public interface UploadMessageGateway\r\n    {\r\n        @Gateway(requestChannel = &quot;uploadfile&quot;)\r\n        void uploadFile(File file);\r\n    }\r\n\r\nsftp config file:-\r\n\r\n    @Bean\r\n    public SessionFactory&lt;ChannelSftp.LsEntry&gt;  factoryDetails() throws \r\n    SftpException {\r\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory();\r\n        factory.setHost(host);\r\n        factory.setPort(port);\r\n        factory.setAllowUnknownKeys(true);\r\n        factory.setUser(username);\r\n        factory.setPassword(password);\r\n        CachingSessionFactory&lt;ChannelSftp.LsEntry&gt; cachingSessionFactory = new CachingSessionFactory&lt;&gt;(factory);\r\n        cachingSessionFactory.setTestSession(true);\r\n\r\n        return new CachingSessionFactory&lt;ChannelSftp.LsEntry&gt;(factory);\r\n    }\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;uploadfile&quot;)\r\n    public MessageHandler uploadHandler()\r\n    {\r\n        SessionFactory&lt;ChannelSftp.LsEntry&gt;\r\n                defaultSessionFactory= factoryDetails();\r\n        sftpMessageHandler = new SftpMessageHandler(defaultSessionFactory);\r\n        sftpMessageHandler.setRemoteDirectoryExpression(\r\n                new LiteralExpression(remotePath,\r\n                        defaultSessionFactory)));\r\n        return sftpMessageHandler;\r\n     }\r\n    \r\n\r\n\r\nis it a better option to use the spring-batch master-slave approach or to make use of Executors.newScheduledThreadPool(5) or is there any standard approach? your suggestions/links will be very helpful.\r\n\r\nThank you.\r\n\r\n","title":"How do you make SFTP Upload operation from single threaded to multithreaded?","body":"<p>I'm kind of new to the Multithreading approach. currently, in my code I am using ExecutorService Executors.newSingleThreadExecutor() to span a single thread that checks for files in a particular Directory if present I will fetch n files path(ex: n=5 files path) and will perform SFTP Operations of 5 files one by one.\nBut when I have a Large number of files the single-threaded approach will take a lot of time to sftp each file one by one.</p>\n<p>SftpUpload Service class:-</p>\n<pre><code> @Autowired\n private  UploadMessageGateway gateway;\n\n public void uploadFile(File file) throws SftpException\n  {\n    try\n     {\n        gateway.uploadFile(file);\n     }\n    catch (Exception e)\n     {\n        logger.error(&quot; Exception found at SftpUpload {} &quot;,\n                e.getMessage());\n     } \n   }\n</code></pre>\n<p>sftp gateway:-</p>\n<pre><code>@MessagingGateway\npublic interface UploadMessageGateway\n{\n    @Gateway(requestChannel = &quot;uploadfile&quot;)\n    void uploadFile(File file);\n}\n</code></pre>\n<p>sftp config file:-</p>\n<pre><code>@Bean\npublic SessionFactory&lt;ChannelSftp.LsEntry&gt;  factoryDetails() throws \nSftpException {\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory();\n    factory.setHost(host);\n    factory.setPort(port);\n    factory.setAllowUnknownKeys(true);\n    factory.setUser(username);\n    factory.setPassword(password);\n    CachingSessionFactory&lt;ChannelSftp.LsEntry&gt; cachingSessionFactory = new CachingSessionFactory&lt;&gt;(factory);\n    cachingSessionFactory.setTestSession(true);\n\n    return new CachingSessionFactory&lt;ChannelSftp.LsEntry&gt;(factory);\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;uploadfile&quot;)\npublic MessageHandler uploadHandler()\n{\n    SessionFactory&lt;ChannelSftp.LsEntry&gt;\n            defaultSessionFactory= factoryDetails();\n    sftpMessageHandler = new SftpMessageHandler(defaultSessionFactory);\n    sftpMessageHandler.setRemoteDirectoryExpression(\n            new LiteralExpression(remotePath,\n                    defaultSessionFactory)));\n    return sftpMessageHandler;\n }\n</code></pre>\n<p>is it a better option to use the spring-batch master-slave approach or to make use of Executors.newScheduledThreadPool(5) or is there any standard approach? your suggestions/links will be very helpful.</p>\n<p>Thank you.</p>\n"},{"tags":["java","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":7790226,"reputation":51,"user_id":5893484,"display_name":"Cristhian Ulloa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662649962,"creation_date":1662649962,"answer_id":73651384,"question_id":71786835,"body_markdown":"The discriminator is a way to distinguish or &quot;discriminate&quot; different schemas. So let&#39;s say you have a schema for Animal but you use OpenAPI&#39;s polymorphism capabilities to also define a Cat and Dog. Let&#39;s say Animal is &quot;oneOf&quot; Cat or Dog. When the receiver gets a response, how can it determine which one it is?\r\n\r\nThis is where the discriminator is useful. You can provide a value in a field to Animal that tells you which specific kind of animal it is. \r\n\r\nhttps://spec.openapis.org/oas/v3.1.0#discriminator-object","title":"discriminator in OpenAPI","body":"<p>The discriminator is a way to distinguish or &quot;discriminate&quot; different schemas. So let's say you have a schema for Animal but you use OpenAPI's polymorphism capabilities to also define a Cat and Dog. Let's say Animal is &quot;oneOf&quot; Cat or Dog. When the receiver gets a response, how can it determine which one it is?</p>\n<p>This is where the discriminator is useful. You can provide a value in a field to Animal that tells you which specific kind of animal it is.</p>\n<p><a href=\"https://spec.openapis.org/oas/v3.1.0#discriminator-object\" rel=\"nofollow noreferrer\">https://spec.openapis.org/oas/v3.1.0#discriminator-object</a></p>\n"}],"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3341,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662649962,"creation_date":1649353922,"question_id":71786835,"body_markdown":"I am new to openAPI and trying to understand the discriminator property that can be used along with anyOf and oneOf. how can this property help in implementing the client code? \r\n\r\nPlease share your wisdom.","title":"discriminator in OpenAPI","body":"<p>I am new to openAPI and trying to understand the discriminator property that can be used along with anyOf and oneOf. how can this property help in implementing the client code?</p>\n<p>Please share your wisdom.</p>\n"},{"tags":["java","date","jdbc","timestamp"],"comments":[{"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"score":0,"creation_date":1344314768,"post_id":11839246,"comment_id":15743609,"body_markdown":"Duplicate of http://stackoverflow.com/questions/2318719/how-to-convert-timestamp-string-to-java-util-date","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/2318719/how-to-convert-timestamp-string-to-java-util-date\" title=\"how to convert timestamp string to java util date\">stackoverflow.com/questions/2318719/&hellip;</a>"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344315032,"post_id":11839246,"comment_id":15743654,"body_markdown":"Can you show us examples of what the table data looks like?","body":"Can you show us examples of what the table data looks like?"},{"owner":{"account_id":1118413,"reputation":2217,"user_id":1107224,"accept_rate":45,"display_name":"Krishna Veni"},"score":0,"creation_date":1344315218,"post_id":11839246,"comment_id":15743694,"body_markdown":"date(1344255451,1344255537,1344312502) and status have(Q,Q,Q)","body":"date(1344255451,1344255537,1344312502) and status have(Q,Q,Q)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1434664730,"post_id":11839246,"comment_id":49889698,"body_markdown":"Duplicate of this Question, [How to convert from java.sql.Timestamp to java.util.Date?](http://stackoverflow.com/q/10621451/642706).","body":"Duplicate of this Question, <a href=\"http://stackoverflow.com/q/10621451/642706\">How to convert from java.sql.Timestamp to java.util.Date?</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1450735914,"post_id":11839246,"comment_id":56552182,"body_markdown":"The title of this Question is [a red herring](https://en.wikipedia.org/wiki/Red_herring). The real problem is the improper use of a `PreparedStatement` with incorrect syntax. You cannot embed Java variables in the text of your SQL string. Instead, embed `?` in the SQL string, then call the `set` methods to pass values to the PreparedStatement. See the correct [Answer  by Sujay](http://stackoverflow.com/a/11839424/642706) and [Answer by tenorsax](http://stackoverflow.com/a/11839372/642706).","body":"The title of this Question is <a href=\"https://en.wikipedia.org/wiki/Red_herring\" rel=\"nofollow noreferrer\">a red herring</a>. The real problem is the improper use of a <code>PreparedStatement</code> with incorrect syntax. You cannot embed Java variables in the text of your SQL string. Instead, embed <code>?</code> in the SQL string, then call the <code>set</code> methods to pass values to the PreparedStatement. See the correct <a href=\"http://stackoverflow.com/a/11839424/642706\">Answer  by Sujay</a> and <a href=\"http://stackoverflow.com/a/11839372/642706\">Answer by tenorsax</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1450736117,"post_id":11839246,"comment_id":56552267,"body_markdown":"Tip: Never name a column in database with a keyword/reserved word like `date`. Append a trailing underscore to avoid such collisions. The SQL spec explicitly promises to never use a trailing underscore on any keyword or reserved word.","body":"Tip: Never name a column in database with a keyword/reserved word like <code>date</code>. Append a trailing underscore to avoid such collisions. The SQL spec explicitly promises to never use a trailing underscore on any keyword or reserved word."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1517794269,"post_id":11839246,"comment_id":84226530,"body_markdown":"**Do not re-post your Question repeatedly!** This is a repeat of 4 days earlier: https://stackoverflow.com/q/11794648/642706","body":"<b>Do not re-post your Question repeatedly!</b> This is a repeat of 4 days earlier: <a href=\"https://stackoverflow.com/q/11794648/642706\">stackoverflow.com/q/11794648/642706</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659863667,"post_id":11839246,"comment_id":129391982,"body_markdown":"Do not store your date as a Unix timestamp. I can’t tell whether those timestamps fall on the date you mention, that is, verifying your code is more cumbersome than it had needed to be. Use the MySQL `date` datatype if you need the date only, a `timestamp` if you need the time.","body":"Do not store your date as a Unix timestamp. I can’t tell whether those timestamps fall on the date you mention, that is, verifying your code is more cumbersome than it had needed to be. Use the MySQL <code>date</code> datatype if you need the date only, a <code>timestamp</code> if you need the time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659864005,"post_id":11839246,"comment_id":129392030,"body_markdown":"Your question seems to assume that your unexpected result comes from incorrect conversion from an old-fashioned `java.sql.Timestamp` to an equally outdated `java.sql.Date`? This is not the case. Your `new java.sql.Date(timeStamp.getTime())` is a correctly working conversion.","body":"Your question seems to assume that your unexpected result comes from incorrect conversion from an old-fashioned <code>java.sql.Timestamp</code> to an equally outdated <code>java.sql.Date</code>? This is not the case. Your <code>new java.sql.Date(timeStamp.getTime())</code> is a correctly working conversion."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662663717,"post_id":11839246,"comment_id":130064333,"body_markdown":"For new readers to this question I strongly recommend you don’t use `java.sql.Timestamp` and `java.sql.Date`. Those classes are poorly designed and long outdated. Instead use `OffsetDateTime` for a timestamp and `LocalDate` for a date; both from are [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to this question I strongly recommend you don’t use <code>java.sql.Timestamp</code> and <code>java.sql.Date</code>. Those classes are poorly designed and long outdated. Instead use <code>OffsetDateTime</code> for a timestamp and <code>LocalDate</code> for a date; both from are <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"down_vote_count":3,"up_vote_count":217,"is_accepted":false,"score":214,"last_activity_date":1527154213,"creation_date":1344313751,"answer_id":11839276,"question_id":11839246,"body_markdown":"Just make a new `Date` object with the stamp&#39;s `getTime()` value as a parameter.\r\n\r\nHere&#39;s an example (I use an example timestamp of the current time):\r\n\r\n\tTimestamp stamp = new Timestamp(System.currentTimeMillis());\r\n\tDate date = new Date(stamp.getTime());\r\n\tSystem.out.println(date);","title":"How to convert TimeStamp to Date in Java?","body":"<p>Just make a new <code>Date</code> object with the stamp's <code>getTime()</code> value as a parameter.</p>\n\n<p>Here's an example (I use an example timestamp of the current time):</p>\n\n<pre><code>Timestamp stamp = new Timestamp(System.currentTimeMillis());\nDate date = new Date(stamp.getTime());\nSystem.out.println(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344378264,"creation_date":1344314453,"answer_id":11839372,"question_id":11839246,"body_markdown":"Not sure what you&#39;re trying to select in the query, but keep in mind that `UNIX_TIMESTAMP()` without arguments returns the time now. You should probably provide a valid time as argument, or change the condition. \r\n\r\n***EDIT:*** \r\n\r\nHere is an example of a time bound query based on the question: \r\n\r\n\tPreparedStatement statement = con\r\n\t\t\t.prepareStatement(&quot;select * from orders where status=&#39;Q&#39; AND date &gt; ?&quot;);\r\n\tDate date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(&quot;01/01/2000&quot;);\r\n\tstatement.setDate(1, new java.sql.Date(date.getTime()));\r\n\r\n***EDIT: timestamp column***\r\n\r\nIn case of timestamp use `java.sql.Timestamp` and [PreparedStatement.setTimestamp()][1], ie: \r\n\r\n\tPreparedStatement statement = con\r\n\t\t\t.prepareStatement(&quot;select * from orders where status=&#39;Q&#39; AND date &gt; ?&quot;);\r\n\tDate date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(&quot;01/01/2000&quot;);\r\n\tTimestamp timestamp = new Timestamp(date.getTime());\r\n\tstatement.setTimestamp(1, timestamp);\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29","title":"How to convert TimeStamp to Date in Java?","body":"<p>Not sure what you're trying to select in the query, but keep in mind that <code>UNIX_TIMESTAMP()</code> without arguments returns the time now. You should probably provide a valid time as argument, or change the condition. </p>\n\n<p><em><strong>EDIT:</em></strong> </p>\n\n<p>Here is an example of a time bound query based on the question: </p>\n\n<pre><code>PreparedStatement statement = con\n        .prepareStatement(\"select * from orders where status='Q' AND date &gt; ?\");\nDate date = new SimpleDateFormat(\"dd/MM/yyyy\").parse(\"01/01/2000\");\nstatement.setDate(1, new java.sql.Date(date.getTime()));\n</code></pre>\n\n<p><em><strong>EDIT: timestamp column</em></strong></p>\n\n<p>In case of timestamp use <code>java.sql.Timestamp</code> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29\" rel=\"nofollow\">PreparedStatement.setTimestamp()</a>, ie: </p>\n\n<pre><code>PreparedStatement statement = con\n        .prepareStatement(\"select * from orders where status='Q' AND date &gt; ?\");\nDate date = new SimpleDateFormat(\"dd/MM/yyyy\").parse(\"01/01/2000\");\nTimestamp timestamp = new Timestamp(date.getTime());\nstatement.setTimestamp(1, timestamp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1344314888,"creation_date":1344314888,"answer_id":11839424,"question_id":11839246,"body_markdown":"First of all, you&#39;re not leveraging the advantage of using a `PreparedStatement`. I would first suggest that you modify your `PreparedStatement` as follows:\r\n\r\n    PreparedStatement statement = con.prepareStatement(&quot;select * from orders where status=? AND date=?&quot;)\r\n\r\nYou can then use `statement.setXX(param_index, param_value)` to set the respective values. For conversion to `timestamp`, have a look at the following javadocs:\r\n\r\n\r\n[PreparedStatement.setTimeStamp()][1] &lt;br/&gt;\r\n[Timestamp][2]\r\n\r\nHope this helps!\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/Timestamp.html","title":"How to convert TimeStamp to Date in Java?","body":"<p>First of all, you're not leveraging the advantage of using a <code>PreparedStatement</code>. I would first suggest that you modify your <code>PreparedStatement</code> as follows:</p>\n\n<pre><code>PreparedStatement statement = con.prepareStatement(\"select * from orders where status=? AND date=?\")\n</code></pre>\n\n<p>You can then use <code>statement.setXX(param_index, param_value)</code> to set the respective values. For conversion to <code>timestamp</code>, have a look at the following javadocs:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29\" rel=\"nofollow\">PreparedStatement.setTimeStamp()</a> <br/>\n<a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/Timestamp.html\" rel=\"nofollow\">Timestamp</a></p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":2165893,"reputation":800,"user_id":1919015,"accept_rate":67,"display_name":"VincentLamoute"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1389368647,"creation_date":1365173471,"answer_id":15837025,"question_id":11839246,"body_markdown":"    // timestamp to Date\r\n    long timestamp = 5607059900000; //Example -&gt; in ms\r\n    Date d = new Date(timestamp );\r\n    \r\n    // Date to timestamp\r\n    long timestamp = d.getTime();\r\n    \r\n    //If you want the current timestamp :\r\n    Calendar c = Calendar.getInstance();\r\n    long timestamp = c.getTimeInMillis();\r\n\r\n","title":"How to convert TimeStamp to Date in Java?","body":"<pre><code>// timestamp to Date\nlong timestamp = 5607059900000; //Example -&gt; in ms\nDate d = new Date(timestamp );\n\n// Date to timestamp\nlong timestamp = d.getTime();\n\n//If you want the current timestamp :\nCalendar c = Calendar.getInstance();\nlong timestamp = c.getTimeInMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605121,"reputation":61,"user_id":1485365,"display_name":"user1485365"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1557648350,"creation_date":1394444274,"answer_id":22296549,"question_id":11839246,"body_markdown":"\tString timestamp=&quot;&quot;;\r\n\tDate temp=null;\r\n\ttry {\r\n\t\ttemp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(getDateCurrentTimeZone(Long.parseLong(timestamp)));\r\n\t} catch (ParseException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\tint dayMonth=temp.getDate();\r\n\tint dayWeek=temp.getDay();\r\n\tint hour=temp.getHours();\r\n\tint minute=temp.getMinutes();\r\n\tint month=temp.getMonth()+1;\r\n\tint year=temp.getYear()+1900;\r\n\r\n","title":"How to convert TimeStamp to Date in Java?","body":"<pre><code>String timestamp=\"\";\nDate temp=null;\ntry {\n    temp = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").parse(getDateCurrentTimeZone(Long.parseLong(timestamp)));\n} catch (ParseException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nint dayMonth=temp.getDate();\nint dayWeek=temp.getDay();\nint hour=temp.getHours();\nint minute=temp.getMinutes();\nint month=temp.getMonth()+1;\nint year=temp.getYear()+1900;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":443528,"reputation":2328,"user_id":834799,"display_name":"Ashish Saini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453202556,"creation_date":1409832895,"answer_id":25665250,"question_id":11839246,"body_markdown":"In Android its very Simple .Just use the Calender class to get currentTimeMillis.\r\n\r\n\r\n\r\n    Timestamp stamp = new Timestamp(Calendar.getInstance().getTimeInMillis());\r\n    Date date = new Date(stamp.getTime());\r\n    Log.d(&quot;Current date Time is   &quot;  +date.toString());\r\n\r\n\r\nIn Java just Use System.currentTimeMillis() to get current timestamp ","title":"How to convert TimeStamp to Date in Java?","body":"<p>In Android its very Simple .Just use the Calender class to get currentTimeMillis.</p>\n\n<pre><code>Timestamp stamp = new Timestamp(Calendar.getInstance().getTimeInMillis());\nDate date = new Date(stamp.getTime());\nLog.d(\"Current date Time is   \"  +date.toString());\n</code></pre>\n\n<p>In Java just Use System.currentTimeMillis() to get current timestamp </p>\n"},{"tags":[],"owner":{"account_id":5653882,"reputation":5,"user_id":4473616,"display_name":"Jos&#233; &#193;ngel Becerra Bern&#225;ldez"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1421752969,"creation_date":1421751102,"answer_id":28043489,"question_id":11839246,"body_markdown":"    DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    Date fecha = getDateInTimestamp(); ","title":"How to convert TimeStamp to Date in Java?","body":"<pre><code>DateFormat df = new SimpleDateFormat(\"dd/MM/yyyy\");\nDate fecha = getDateInTimestamp(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434661508,"creation_date":1434661508,"answer_id":30925798,"question_id":11839246,"body_markdown":"`new Date(timestamp.getTime())` should work, but the new fancy Java 8 way (which may be more elegant and more type safe, as well as help lead you to use the new time classes) is to call `Date.from(timestamp.toInstant())`.\r\n\r\n(Do not rely on the fact that `Timestamp` itself is an instance of `Date`; see explanation in the comments of [another answer][1] .)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18080498/421049","title":"How to convert TimeStamp to Date in Java?","body":"<p><code>new Date(timestamp.getTime())</code> should work, but the new fancy Java 8 way (which may be more elegant and more type safe, as well as help lead you to use the new time classes) is to call <code>Date.from(timestamp.toInstant())</code>.</p>\n\n<p>(Do not rely on the fact that <code>Timestamp</code> itself is an instance of <code>Date</code>; see explanation in the comments of <a href=\"https://stackoverflow.com/a/18080498/421049\">another answer</a> .)</p>\n"},{"tags":[],"owner":{"account_id":5301557,"reputation":386,"user_id":4230977,"accept_rate":94,"display_name":"MR AND"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450713788,"creation_date":1450713788,"answer_id":34399772,"question_id":11839246,"body_markdown":"        Timestamp tsp = new Timestamp(System.currentTimeMillis());\r\n       java.util.Date dateformat = new java.util.Date(tsp.getTime());","title":"How to convert TimeStamp to Date in Java?","body":"<pre><code>    Timestamp tsp = new Timestamp(System.currentTimeMillis());\n   java.util.Date dateformat = new java.util.Date(tsp.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3135547,"reputation":1278,"user_id":2652122,"accept_rate":71,"display_name":"Robert Mugattarov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468411382,"creation_date":1468411382,"answer_id":38351231,"question_id":11839246,"body_markdown":"I feel obliged to respond since other answers seem to be time zone agnostic which a real world application cannot afford to be. To make timestamp-to-date conversion correct when the timestamp and the JVM are using different time zones you can use Joda Time&#39;s LocalDateTime (or LocalDateTime in Java8) like this:\r\n\r\n    Timestamp timestamp = resultSet.getTimestamp(&quot;time_column&quot;);\r\n    LocalDateTime localDateTime = new LocalDateTime(timestamp);\r\n    Date trueDate = localDateTime.toDate(DateTimeZone.UTC.toTimeZone());\r\n\r\nThe example below assumes that the timestamp is UTC (as is usually the case with databases). In case your timestamps are in different timezone, change the timezone parameter of the `toDate`statement.","title":"How to convert TimeStamp to Date in Java?","body":"<p>I feel obliged to respond since other answers seem to be time zone agnostic which a real world application cannot afford to be. To make timestamp-to-date conversion correct when the timestamp and the JVM are using different time zones you can use Joda Time's LocalDateTime (or LocalDateTime in Java8) like this:</p>\n\n<pre><code>Timestamp timestamp = resultSet.getTimestamp(\"time_column\");\nLocalDateTime localDateTime = new LocalDateTime(timestamp);\nDate trueDate = localDateTime.toDate(DateTimeZone.UTC.toTimeZone());\n</code></pre>\n\n<p>The example below assumes that the timestamp is UTC (as is usually the case with databases). In case your timestamps are in different timezone, change the timezone parameter of the <code>toDate</code>statement.</p>\n"},{"tags":[],"owner":{"account_id":6460531,"reputation":1339,"user_id":5004526,"display_name":"Alberto Cerqueira"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1481224494,"creation_date":1481224494,"answer_id":41047121,"question_id":11839246,"body_markdown":"Just:\r\n\r\n    Timestamp timestamp = new Timestamp(long);\r\n\tDate date = new Date(timestamp.getTime());","title":"How to convert TimeStamp to Date in Java?","body":"<p>Just:</p>\n\n<pre><code>Timestamp timestamp = new Timestamp(long);\nDate date = new Date(timestamp.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8125348,"reputation":510,"user_id":6120602,"accept_rate":57,"display_name":"AbdelKh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1492256645,"creation_date":1492254275,"answer_id":43425260,"question_id":11839246,"body_markdown":"I have been looking for this since a long time, turns out that [Eposh converter][1] does it easily:\r\n\r\n    long epoch = new java.text.SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/1970 01:00:00&quot;).getTime() / 1000;\r\n\r\nOr the opposite: \t\r\n\r\n    String date = new java.text.SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).format(new java.util.Date (epoch*1000));\r\n\r\n\r\n\r\n  [1]: https://www.epochconverter.com/ &quot;Epoch &amp; Unix Timestamp Conversion Tools&quot;\r\n","title":"How to convert TimeStamp to Date in Java?","body":"<p>I have been looking for this since a long time, turns out that <a href=\"https://www.epochconverter.com/\" rel=\"noreferrer\" title=\"Epoch &amp; Unix Timestamp Conversion Tools\">Eposh converter</a> does it easily:</p>\n\n<pre><code>long epoch = new java.text.SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\").parse(\"01/01/1970 01:00:00\").getTime() / 1000;\n</code></pre>\n\n<p>Or the opposite:    </p>\n\n<pre><code>String date = new java.text.SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\").format(new java.util.Date (epoch*1000));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12634829,"reputation":81,"user_id":9184701,"display_name":"Help developer"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1575991498,"creation_date":1517752782,"answer_id":48608827,"question_id":11839246,"body_markdown":"try to use this java code :\r\n```java\r\nTimestamp stamp = new Timestamp(System.currentTimeMillis());\r\nDate date = new Date(stamp.getTime());\r\nDateFormat f = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nDateFormat f1 = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\nString d = f.format(date);\r\nString d1 = f1.format(date);\r\nSystem.out.println(d);\r\nSystem.out.println(d1);\r\n```","title":"How to convert TimeStamp to Date in Java?","body":"<p>try to use this java code :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Timestamp stamp = new Timestamp(System.currentTimeMillis());\nDate date = new Date(stamp.getTime());\nDateFormat f = new SimpleDateFormat(\"yyyy-MM-dd\");\nDateFormat f1 = new SimpleDateFormat(\"yyyy/MM/dd\");\nString d = f.format(date);\nString d1 = f1.format(date);\nSystem.out.println(d);\nSystem.out.println(d1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1517792597,"creation_date":1517792597,"answer_id":48614601,"question_id":11839246,"body_markdown":"# tl;dr\r\n\r\n\r\n    LocalDate.now( ZoneId.of( &quot;Africa/Tunis&quot; ) )\r\n        .atStartOfDay( ZoneId.of( &quot;Africa/Tunis&quot; ) )\r\n        .toEpochSecond()\r\n\r\n…\r\n\r\n    LocalDate.now( ZoneId.of( &quot;Africa/Tunis&quot; ) )\r\n        .plusDays( 1 )\r\n        .atStartOfDay( ZoneId.of( &quot;Africa/Tunis&quot; ) )\r\n        .toEpochSecond()\r\n\r\n…\r\n\r\n    &quot;SELECT * FROM orders WHERE placed &gt;= ? AND placed &lt; ? ; &quot;\r\n\r\n…\r\n\r\n    myPreparedStatement.setObject( 1 , start )\r\n    myPreparedStatement.setObject( 2 , stop )\r\n\r\n\r\n\r\n# java.time\r\n\r\nYou are using troublesome old date-time classes that are now legacy, supplanted by the modern *java.time* classes. \r\n\r\nApparently you are storing a moment in your database in a column of some integer type. That is unfortunate. You should instead be using a column of a type such as the SQL-standard `TIMESTAMP WITH TIME ZONE`. But, for this Answer, we will work with what we have.\r\n\r\nIf your records represent moments with a resolution of milliseconds, and you want all the records for an entire day, then we need a time range. We must have a start moment and a stop moment. Your query has only a single date-time criterion where it should have had a pair.\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nIf no time zone is specified, the JVM implicitly applies its current default time zone. That default may change at any moment, so your results may vary. Better to specify your desired/expected time zone explicitly as an argument.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nIf you want to use the JVM’s current default time zone, ask for it and pass as an argument. If omitted, the JVM’s current default is applied implicitly. Better to be explicit, as the default may be changed at any moment *during runtime* by any code in any thread of any app within the JVM.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Get JVM’s current default time zone.\r\n\r\n\r\nOr specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. \r\n\r\n    LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\r\n\r\nOr, better, use the [`Month`](https://docs.oracle.com/javase/9/docs/api/java/time/Month.html) enum objects pre-defined, one for each month of the year. Tip: Use these `Month` objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide [type-safety](https://en.wikipedia.org/wiki/Type_safety).\r\n\r\n    LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\r\n\r\nWith a `LocalDate` in hand, we next need to transform that into a pair of moment, the start and stop of the day. Do not assume the day starts at 00:00:00 time-of-day. Because of anomalies such as Daylight Saving Time (DST), the day may start at another time such as 01:00:00. So let java.time determine the first moment of the day. We pass a `ZoneId` argument to `LocalDate::atStartOfDay` to look up any such anomalies. The result is a [`ZonedDateTime`][1].\r\n\r\n    ZonedDateTime zdtStart = ld.atStartOfDay( z ) ;\r\n\r\nGenerally the best approach to defining a span of time is the Half-Open approach where the beginning is *inclusive* while the ending is *exclusive*. So a day starts with its first moment and runs up to, but not including, the first moment of the next day.\r\n\r\n    ZonedDateTime zdtStop = ld.plusDays( 1 ).atStartOfDay( z ) ;  // Determine the following date, and ask for the first moment of that day.\r\n\r\nOur query for an entire day cannot make use of SQL command `BETWEEN`. That command is Fully-Closed (`[]`) (both beginning and ending are inclusive) where as we want Half-Open (`[)`). We use a pair of criteria `&gt;=` and `&lt;`.\r\n\r\nYour column is poorly named. Avoid any of the thousand words reserved by various databases. Let’s use `placed` in this example.\r\n\r\nYour code should have used `?` placeholders in which to specify our moments.\r\n\r\n    String sql = &quot;SELECT * FROM orders WHERE placed &gt;= ? AND placed &lt; ? ; &quot; ;\r\n\r\nBut we have `ZonedDateTime` objects in hand, while your database apparently is storing integers as discussed above. If you *had* defined your column properly we could simply pass the `ZonedDateTime` objects with any JDBC driver supporting JDBC 4.2 or later. \r\n\r\nBut instead we need to get a count-from-epoch in whole seconds. I will assume your epoch reference date is the first moment of 1970 in UTC. Beware of possible data loss, as the `ZonedDateTime` class is capable of nanosecond resolution. Any fractional second will be truncated in the following lines.\r\n\r\n    long start = zdtStart().toEpochSecond() ;  // Transform to a count of whole seconds since 1970-01-01T00:00:00Z.\r\n    long stop = zdtStop().toEpochSecond() ; \r\n\r\nNow we are ready to pass those integers to our SQL code defined above.\r\n\r\n    PreparedStatement ps = con.prepareStatement( sql );\r\n    ps.setObject( 1 , start ) ;\r\n    ps.setObject( 2 , stop ) ;\r\n    ResultSet rs = ps.executeQuery();\r\n\r\nWhen you retrieve your integer values from the [`ResultSet`][2], you can transform into [`Instant`][3] objects (always in UTC), or into [`ZonedDateTime`][1] objects (with an assigned time zone).\r\n\r\n    Instant instant = rs.getObject( … , Instant.class ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).  \r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/sql/ResultSet.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html","title":"How to convert TimeStamp to Date in Java?","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDate.now( ZoneId.of( \"Africa/Tunis\" ) )\n    .atStartOfDay( ZoneId.of( \"Africa/Tunis\" ) )\n    .toEpochSecond()\n</code></pre>\n\n<p>…</p>\n\n<pre><code>LocalDate.now( ZoneId.of( \"Africa/Tunis\" ) )\n    .plusDays( 1 )\n    .atStartOfDay( ZoneId.of( \"Africa/Tunis\" ) )\n    .toEpochSecond()\n</code></pre>\n\n<p>…</p>\n\n<pre><code>\"SELECT * FROM orders WHERE placed &gt;= ? AND placed &lt; ? ; \"\n</code></pre>\n\n<p>…</p>\n\n<pre><code>myPreparedStatement.setObject( 1 , start )\nmyPreparedStatement.setObject( 2 , stop )\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>You are using troublesome old date-time classes that are now legacy, supplanted by the modern <em>java.time</em> classes. </p>\n\n<p>Apparently you are storing a moment in your database in a column of some integer type. That is unfortunate. You should instead be using a column of a type such as the SQL-standard <code>TIMESTAMP WITH TIME ZONE</code>. But, for this Answer, we will work with what we have.</p>\n\n<p>If your records represent moments with a resolution of milliseconds, and you want all the records for an entire day, then we need a time range. We must have a start moment and a stop moment. Your query has only a single date-time criterion where it should have had a pair.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n\n<p>If no time zone is specified, the JVM implicitly applies its current default time zone. That default may change at any moment, so your results may vary. Better to specify your desired/expected time zone explicitly as an argument.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" ) ;  \nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n\n<p>If you want to use the JVM’s current default time zone, ask for it and pass as an argument. If omitted, the JVM’s current default is applied implicitly. Better to be explicit, as the default may be changed at any moment <em>during runtime</em> by any code in any thread of any app within the JVM.</p>\n\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Get JVM’s current default time zone.\n</code></pre>\n\n<p>Or specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. </p>\n\n<pre><code>LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\n</code></pre>\n\n<p>Or, better, use the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> enum objects pre-defined, one for each month of the year. Tip: Use these <code>Month</code> objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide <a href=\"https://en.wikipedia.org/wiki/Type_safety\" rel=\"noreferrer\">type-safety</a>.</p>\n\n<pre><code>LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\n</code></pre>\n\n<p>With a <code>LocalDate</code> in hand, we next need to transform that into a pair of moment, the start and stop of the day. Do not assume the day starts at 00:00:00 time-of-day. Because of anomalies such as Daylight Saving Time (DST), the day may start at another time such as 01:00:00. So let java.time determine the first moment of the day. We pass a <code>ZoneId</code> argument to <code>LocalDate::atStartOfDay</code> to look up any such anomalies. The result is a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n\n<pre><code>ZonedDateTime zdtStart = ld.atStartOfDay( z ) ;\n</code></pre>\n\n<p>Generally the best approach to defining a span of time is the Half-Open approach where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a day starts with its first moment and runs up to, but not including, the first moment of the next day.</p>\n\n<pre><code>ZonedDateTime zdtStop = ld.plusDays( 1 ).atStartOfDay( z ) ;  // Determine the following date, and ask for the first moment of that day.\n</code></pre>\n\n<p>Our query for an entire day cannot make use of SQL command <code>BETWEEN</code>. That command is Fully-Closed (<code>[]</code>) (both beginning and ending are inclusive) where as we want Half-Open (<code>[)</code>). We use a pair of criteria <code>&gt;=</code> and <code>&lt;</code>.</p>\n\n<p>Your column is poorly named. Avoid any of the thousand words reserved by various databases. Let’s use <code>placed</code> in this example.</p>\n\n<p>Your code should have used <code>?</code> placeholders in which to specify our moments.</p>\n\n<pre><code>String sql = \"SELECT * FROM orders WHERE placed &gt;= ? AND placed &lt; ? ; \" ;\n</code></pre>\n\n<p>But we have <code>ZonedDateTime</code> objects in hand, while your database apparently is storing integers as discussed above. If you <em>had</em> defined your column properly we could simply pass the <code>ZonedDateTime</code> objects with any JDBC driver supporting JDBC 4.2 or later. </p>\n\n<p>But instead we need to get a count-from-epoch in whole seconds. I will assume your epoch reference date is the first moment of 1970 in UTC. Beware of possible data loss, as the <code>ZonedDateTime</code> class is capable of nanosecond resolution. Any fractional second will be truncated in the following lines.</p>\n\n<pre><code>long start = zdtStart().toEpochSecond() ;  // Transform to a count of whole seconds since 1970-01-01T00:00:00Z.\nlong stop = zdtStop().toEpochSecond() ; \n</code></pre>\n\n<p>Now we are ready to pass those integers to our SQL code defined above.</p>\n\n<pre><code>PreparedStatement ps = con.prepareStatement( sql );\nps.setObject( 1 , start ) ;\nps.setObject( 2 , stop ) ;\nResultSet rs = ps.executeQuery();\n</code></pre>\n\n<p>When you retrieve your integer values from the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/ResultSet.html\" rel=\"noreferrer\"><code>ResultSet</code></a>, you can transform into <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> objects (always in UTC), or into <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> objects (with an assigned time zone).</p>\n\n<pre><code>Instant instant = rs.getObject( … , Instant.class ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.  </p>\n"},{"tags":[],"owner":{"account_id":4612714,"reputation":569,"user_id":7329561,"accept_rate":71,"display_name":"Albizia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521737496,"creation_date":1521737496,"answer_id":49434242,"question_id":11839246,"body_markdown":"Assuming you have a pre-existing `java.util.Date date`:\r\n\r\n    Timestamp timestamp = new Timestamp(long);\r\n    date.setTime( l_timestamp.getTime() );","title":"How to convert TimeStamp to Date in Java?","body":"<p>Assuming you have a pre-existing <code>java.util.Date date</code>:</p>\n\n<pre><code>Timestamp timestamp = new Timestamp(long);\ndate.setTime( l_timestamp.getTime() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9503715,"reputation":302,"user_id":7063947,"display_name":"Manoj Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551701116,"creation_date":1551701116,"answer_id":54982902,"question_id":11839246,"body_markdown":"You can use this method to get Date from Timestamp and Time-zone of particular area.\r\n\r\n    public String getDayOfTimestamp(long yourLinuxTimestamp, String timeZone) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTimeInMillis(yourLinuxTimestamp * 1000);\r\n        cal.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n        Date date = cal.getTime();\r\n    }","title":"How to convert TimeStamp to Date in Java?","body":"<p>You can use this method to get Date from Timestamp and Time-zone of particular area.</p>\n\n<pre><code>public String getDayOfTimestamp(long yourLinuxTimestamp, String timeZone) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTimeInMillis(yourLinuxTimestamp * 1000);\n    cal.setTimeZone(TimeZone.getTimeZone(timeZone));\n    Date date = cal.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18077068,"reputation":9,"user_id":13140023,"display_name":"Hashan Madusanka"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660041445,"creation_date":1659778667,"answer_id":73258683,"question_id":11839246,"body_markdown":"``Date updated =  timestamp.toDate();``","title":"How to convert TimeStamp to Date in Java?","body":"<p><code>Date updated =  timestamp.toDate();</code></p>\n"},{"tags":[],"owner":{"account_id":206715,"reputation":2845,"user_id":456164,"accept_rate":100,"display_name":"Thiago Mata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662649199,"creation_date":1662648777,"answer_id":73651120,"question_id":11839246,"body_markdown":"```java\r\nimport java.sql.Timestamp\r\n\r\nnew Timestamp(1234567890123L)\r\n// java.sql.Timestamp = 2009-02-14 10:31:30.123\r\n\r\n(new Timestamp(1234567890123L)).toLocalDateTime().toLocalDate().toString()\r\n// 2009-02-14\r\n\r\n```\r\n\r\nWhat is a different result from one of the previous most voted answers:\r\n\r\n```java\r\nimport java.time.format.DateTimeFormatter\r\nimport java.time.ZoneId\r\nimport java.time.ZoneOffset\r\n\r\n(DateTimeFormatter.ISO_LOCAL_DATE).withZone(ZoneId.from(ZoneOffset.UTC)).format(new Timestamp(1234567890123L).toInstant())\r\n// String = 2009-02-13\r\n```\r\n\r\nIn my case, I was expecting the &quot;2009-02-14&quot; instead of the &quot;2009-02-13&quot;. So the top result worked better for me.","title":"How to convert TimeStamp to Date in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Timestamp\n\nnew Timestamp(1234567890123L)\n// java.sql.Timestamp = 2009-02-14 10:31:30.123\n\n(new Timestamp(1234567890123L)).toLocalDateTime().toLocalDate().toString()\n// 2009-02-14\n\n</code></pre>\n<p>What is a different result from one of the previous most voted answers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.format.DateTimeFormatter\nimport java.time.ZoneId\nimport java.time.ZoneOffset\n\n(DateTimeFormatter.ISO_LOCAL_DATE).withZone(ZoneId.from(ZoneOffset.UTC)).format(new Timestamp(1234567890123L).toInstant())\n// String = 2009-02-13\n</code></pre>\n<p>In my case, I was expecting the &quot;2009-02-14&quot; instead of the &quot;2009-02-13&quot;. So the top result worked better for me.</p>\n"}],"owner":{"account_id":1118413,"reputation":2217,"user_id":1107224,"accept_rate":45,"display_name":"Krishna Veni"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613514,"favorite_count":0,"down_vote_count":2,"up_vote_count":119,"answer_count":18,"score":117,"last_activity_date":1662649199,"creation_date":1344313500,"question_id":11839246,"body_markdown":"How do I convert &#39;timeStamp&#39; to `date` after I get the count in Java?\r\n\r\nMy current code is as follows:\r\n\r\n    public class GetCurrentDateTime {\r\n    \r\n        public int data() {\r\n            int count = 0;\r\n            java.sql.Timestamp timeStamp = new Timestamp(System.currentTimeMillis());\r\n            java.sql.Date date = new java.sql.Date(timeStamp.getTime()); \r\n\t\t\tSystem.out.println(date);\r\n            //count++;\r\n    \r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/pro&quot;, &quot;root&quot;, &quot;&quot;);\r\n    \r\n                PreparedStatement statement = con.prepareStatement(&quot;select * from orders where status=&#39;Q&#39; AND date=CURDATE()&quot;);\r\n                ResultSet result = statement.executeQuery();\r\n                while (result.next()) {\r\n                    // Do something with the row returned.\r\n                    count++; //if the first col is a count.\r\n                }\r\n            } catch (Exception exc) {\r\n                System.out.println(exc.getMessage());\r\n            }\r\n\r\n            return count;\r\n        }\r\n    }\r\n\r\nThis is my database:  \r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/4wXsC.png\r\n\r\nHere the output I got was 2012-08-07 0, but the equivalent query returns 3. Why do I get 0?","title":"How to convert TimeStamp to Date in Java?","body":"<p>How do I convert 'timeStamp' to <code>date</code> after I get the count in Java?</p>\n<p>My current code is as follows:</p>\n<pre><code>public class GetCurrentDateTime {\n\n    public int data() {\n        int count = 0;\n        java.sql.Timestamp timeStamp = new Timestamp(System.currentTimeMillis());\n        java.sql.Date date = new java.sql.Date(timeStamp.getTime()); \n        System.out.println(date);\n        //count++;\n\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/pro&quot;, &quot;root&quot;, &quot;&quot;);\n\n            PreparedStatement statement = con.prepareStatement(&quot;select * from orders where status='Q' AND date=CURDATE()&quot;);\n            ResultSet result = statement.executeQuery();\n            while (result.next()) {\n                // Do something with the row returned.\n                count++; //if the first col is a count.\n            }\n        } catch (Exception exc) {\n            System.out.println(exc.getMessage());\n        }\n\n        return count;\n    }\n}\n</code></pre>\n<p>This is my database:<br />\n<img src=\"https://i.stack.imgur.com/4wXsC.png\" alt=\"enter image description here\" /></p>\n<p>Here the output I got was 2012-08-07 0, but the equivalent query returns 3. Why do I get 0?</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1417810805,"post_id":27323858,"comment_id":43107155,"body_markdown":"how are you testing it? Any sample code? If connecting to server does it support ECDHE?","body":"how are you testing it? Any sample code? If connecting to server does it support ECDHE?"},{"owner":{"account_id":2489642,"reputation":486,"user_id":2167396,"display_name":"chashi"},"score":0,"creation_date":1417813239,"post_id":27323858,"comment_id":43108309,"body_markdown":"Yep the server definitely supports ECDHE. When I use Java 7 the initial client hello is passing a variety of ECDHE cipher suites and the server is returning TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA. No sample code ATM, I may provide in the future.","body":"Yep the server definitely supports ECDHE. When I use Java 7 the initial client hello is passing a variety of ECDHE cipher suites and the server is returning TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA. No sample code ATM, I may provide in the future."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1417813448,"post_id":27323858,"comment_id":43108411,"body_markdown":"So what is the exception after server hello? Any alert?","body":"So what is the exception after server hello? Any alert?"},{"owner":{"account_id":2489642,"reputation":486,"user_id":2167396,"display_name":"chashi"},"score":0,"creation_date":1417813759,"post_id":27323858,"comment_id":43108561,"body_markdown":"I get the &quot;Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive)&quot; exception but that&#39;s only because the server is returning me a DHE (non ECHDE) based cipher suite with a prime too large for Java 6. This is why I&#39;m looking to enable ECDHE in Java 6, thus resulting in the server returning a corresponding cipher suite.","body":"I get the &quot;Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive)&quot; exception but that&#39;s only because the server is returning me a DHE (non ECHDE) based cipher suite with a prime too large for Java 6. This is why I&#39;m looking to enable ECDHE in Java 6, thus resulting in the server returning a corresponding cipher suite."}],"answers":[{"tags":[],"owner":{"account_id":3643,"reputation":4356,"user_id":5266,"display_name":"Will Sargent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417823170,"creation_date":1417823170,"answer_id":27326500,"question_id":27323858,"body_markdown":"You need to turn on -Djavax.net.debug=all and see what&#39;s going on here, and provide sample code and logs.\r\n\r\nIn 1.6, SunJSSE supports TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA: http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider\r\n\r\nSo you should set your SSLContext with that as the enabled protocol.  Look at http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#SSLContext for details.  You also need to swap your enabled protocols so that 1.2 is enabled and in the lead.\r\n\r\nAlso see\r\n\r\n* http://developer.android.com/training/articles/security-ssl.html\r\n* http://docs.fedoraproject.org/en-US/Fedora_Security_Team/1/html/Defensive_Coding/sect-Defensive_Coding-TLS-Client-OpenJDK.html\r\n\r\n\r\n","title":"Java 6 ECDHE Cipher Suite Support","body":"<p>You need to turn on -Djavax.net.debug=all and see what's going on here, and provide sample code and logs.</p>\n\n<p>In 1.6, SunJSSE supports TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider</a></p>\n\n<p>So you should set your SSLContext with that as the enabled protocol.  Look at <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#SSLContext\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#SSLContext</a> for details.  You also need to swap your enabled protocols so that 1.2 is enabled and in the lead.</p>\n\n<p>Also see</p>\n\n<ul>\n<li><a href=\"http://developer.android.com/training/articles/security-ssl.html\" rel=\"nofollow\">http://developer.android.com/training/articles/security-ssl.html</a></li>\n<li><a href=\"http://docs.fedoraproject.org/en-US/Fedora_Security_Team/1/html/Defensive_Coding/sect-Defensive_Coding-TLS-Client-OpenJDK.html\" rel=\"nofollow\">http://docs.fedoraproject.org/en-US/Fedora_Security_Team/1/html/Defensive_Coding/sect-Defensive_Coding-TLS-Client-OpenJDK.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1417848931,"creation_date":1417841579,"answer_id":27328435,"question_id":27323858,"body_markdown":"The SSL/TLS implementation &quot;JSSE&quot; in Java 1.6 and later supports ECDHE suites **IF there is an available (JCE) provider** for needed ECC primitives. **Java 1.6 OOTB does NOT** include such an ECC provider, but you can add one. **Java 7 and 8 do** include SunECC provider. \r\n\r\nThis seems to be a hot topic today. See also https://security.stackexchange.com/questions/74270/which-forward-secrecy-cipher-suites-are-supported-for-tls1-0-protocols\r\nand https://superuser.com/questions/848698/testing-cipher-suite-using-openssl-for-tomcat-server-is-resulting-in-wrong-manne \r\n(which, suprisingly to me, was migrated from security).\r\n\r\nRistic&#39;s book undoubtedly means the v3 *format* ClientHello. There was a major format change between SSL2 and SSL3, and SSL2 ClientHello can&#39;t represent the data (particularly extensions) for ECC. All versions of TLS (to date) use the same *format* as SSL3, with (importantly) different *contents*. In the early oughties SSL clients often used SSL2 *format* ClientHello but with *content* allowing upgrade to SSL3 and even TLS1.0 in order to succeed against both/all servers, because many SSL2 were still in use. \r\n\r\nJava 1.6 client circa 2006 was transitional -- by default it uses SSL2 *format* specifying *versions* up to TLS1.0, but if the server agrees to *version* SSL2 and not higher, the client aborts with an exception saying in effect &quot;SSL2 is not secure&quot;. This is controlled by a pseudo-protocol string `SSLv2Hello`, so on Java 1.6 client you should `.setEnabledProtocols` to remove/exclude that.\r\n\r\nJava 7 and 8 still implement `SSLv2Hello` but no longer enable it by default, so v3 format is used by default, or as long as you specify protocols to be (all) SSL3 or better. 7 and 8 also implement TLS1.1 and 1.2 which 6 did not, although only 8 enables them in client by default. You should only specify `SSLv2Hello` if you are connecting to way-old SSL2-only servers -- which of course you should try very hard not to do at all.\r\n\r\n","title":"Java 6 ECDHE Cipher Suite Support","body":"<p>The SSL/TLS implementation \"JSSE\" in Java 1.6 and later supports ECDHE suites <strong>IF there is an available (JCE) provider</strong> for needed ECC primitives. <strong>Java 1.6 OOTB does NOT</strong> include such an ECC provider, but you can add one. <strong>Java 7 and 8 do</strong> include SunECC provider. </p>\n\n<p>This seems to be a hot topic today. See also <a href=\"https://security.stackexchange.com/questions/74270/which-forward-secrecy-cipher-suites-are-supported-for-tls1-0-protocols\">https://security.stackexchange.com/questions/74270/which-forward-secrecy-cipher-suites-are-supported-for-tls1-0-protocols</a>\nand <a href=\"https://superuser.com/questions/848698/testing-cipher-suite-using-openssl-for-tomcat-server-is-resulting-in-wrong-manne\">https://superuser.com/questions/848698/testing-cipher-suite-using-openssl-for-tomcat-server-is-resulting-in-wrong-manne</a> \n(which, suprisingly to me, was migrated from security).</p>\n\n<p>Ristic's book undoubtedly means the v3 <em>format</em> ClientHello. There was a major format change between SSL2 and SSL3, and SSL2 ClientHello can't represent the data (particularly extensions) for ECC. All versions of TLS (to date) use the same <em>format</em> as SSL3, with (importantly) different <em>contents</em>. In the early oughties SSL clients often used SSL2 <em>format</em> ClientHello but with <em>content</em> allowing upgrade to SSL3 and even TLS1.0 in order to succeed against both/all servers, because many SSL2 were still in use. </p>\n\n<p>Java 1.6 client circa 2006 was transitional -- by default it uses SSL2 <em>format</em> specifying <em>versions</em> up to TLS1.0, but if the server agrees to <em>version</em> SSL2 and not higher, the client aborts with an exception saying in effect \"SSL2 is not secure\". This is controlled by a pseudo-protocol string <code>SSLv2Hello</code>, so on Java 1.6 client you should <code>.setEnabledProtocols</code> to remove/exclude that.</p>\n\n<p>Java 7 and 8 still implement <code>SSLv2Hello</code> but no longer enable it by default, so v3 format is used by default, or as long as you specify protocols to be (all) SSL3 or better. 7 and 8 also implement TLS1.1 and 1.2 which 6 did not, although only 8 enables them in client by default. You should only specify <code>SSLv2Hello</code> if you are connecting to way-old SSL2-only servers -- which of course you should try very hard not to do at all.</p>\n"},{"tags":[],"owner":{"account_id":1915717,"reputation":155,"user_id":1728348,"display_name":"Christer B"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439294455,"creation_date":1439294455,"answer_id":31941229,"question_id":27323858,"body_markdown":"The answer that dave_thompson_085 provided is correct and helped me, but I would like to add some clarification. As he states, the available algorithms depend on the JCE provider. I have Sun/Oracle Java 6 release 45 on Centos 5.4, which has no support for ECDHE OOTB. \r\n\r\nSo I need to add an additional JCE provider and Bouncy Castle (bouncycastle.org) is one. Follow the instructions here [https://www.bouncycastle.org/specifications.html#install][1]\r\nThis extends the support to e.g. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n\r\nAn alternative is to use the sun.security.pkcs11.SunPKCS11 provider bundled with the Hotspot JRE. You need a ${java.home}/lib/security/nss.cfg\r\nwith the following content:\r\n\r\n    name = NSS\r\n    nssDbMode = noDb\r\n    attributes = compatibility\r\n\r\nThis will utilize libnss3, which may provide the necessary algorithms through the native OS library. This has been verified on Ubuntu 12.04, but may also work in other distros. It does not work on Centos 5.4, since RH/Centos 5 is [known][2] to have limited Elliptic Curve support.\r\n\r\n  [1]: https://www.bouncycastle.org/specifications.html#install\r\n  [2]: https://security.stackexchange.com/questions/65015/is-the-limited-elliptic-curve-support-in-rhel-centos-redhat-openssl-robust-enoug","title":"Java 6 ECDHE Cipher Suite Support","body":"<p>The answer that dave_thompson_085 provided is correct and helped me, but I would like to add some clarification. As he states, the available algorithms depend on the JCE provider. I have Sun/Oracle Java 6 release 45 on Centos 5.4, which has no support for ECDHE OOTB. </p>\n\n<p>So I need to add an additional JCE provider and Bouncy Castle (bouncycastle.org) is one. Follow the instructions here <a href=\"https://www.bouncycastle.org/specifications.html#install\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/specifications.html#install</a>\nThis extends the support to e.g. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</p>\n\n<p>An alternative is to use the sun.security.pkcs11.SunPKCS11 provider bundled with the Hotspot JRE. You need a ${java.home}/lib/security/nss.cfg\nwith the following content:</p>\n\n<pre><code>name = NSS\nnssDbMode = noDb\nattributes = compatibility\n</code></pre>\n\n<p>This will utilize libnss3, which may provide the necessary algorithms through the native OS library. This has been verified on Ubuntu 12.04, but may also work in other distros. It does not work on Centos 5.4, since RH/Centos 5 is <a href=\"https://security.stackexchange.com/questions/65015/is-the-limited-elliptic-curve-support-in-rhel-centos-redhat-openssl-robust-enoug\">known</a> to have limited Elliptic Curve support.</p>\n"},{"tags":[],"owner":{"account_id":151221,"reputation":905,"user_id":364942,"display_name":"rodvlopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630605658,"creation_date":1630605658,"answer_id":69035178,"question_id":27323858,"body_markdown":"Based on the Chisther B. answer, this is the steps that I followed to get Java 1.6 working with ECDHE.\r\n\r\nDownload BouncyCastller (`bcprov-jdk15to18-169.jar`) copy it to `$JAVA_HOME/jre/lib/ext` and add the following configuration to `$JAVA_HOME/jre/lib/security/java.security`:\r\n\r\n    security.provider.9=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n\r\nTested with Oracle JDK_1.6_211 against TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 and TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 cipher suites.\r\n\r\nMy Dockerfile\r\n\r\n    COPY bcprov-jdk15to18-169.jar $JAVA_HOME/jre/lib/ext/\r\n    COPY java.security.bc.patch ./                                                                                                                                            \r\n    RUN patch $JAVA_HOME/jre/lib/security/java.security &lt; java.security.bc.patch\r\n\r\njava.security.bc.patch content\r\n\r\n    53a54\r\n    &gt; security.provider.9=org.bouncycastle.jce.provider.BouncyCastleProvider","title":"Java 6 ECDHE Cipher Suite Support","body":"<p>Based on the Chisther B. answer, this is the steps that I followed to get Java 1.6 working with ECDHE.</p>\n<p>Download BouncyCastller (<code>bcprov-jdk15to18-169.jar</code>) copy it to <code>$JAVA_HOME/jre/lib/ext</code> and add the following configuration to <code>$JAVA_HOME/jre/lib/security/java.security</code>:</p>\n<pre><code>security.provider.9=org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n<p>Tested with Oracle JDK_1.6_211 against TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 and TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 cipher suites.</p>\n<p>My Dockerfile</p>\n<pre><code>COPY bcprov-jdk15to18-169.jar $JAVA_HOME/jre/lib/ext/\nCOPY java.security.bc.patch ./                                                                                                                                            \nRUN patch $JAVA_HOME/jre/lib/security/java.security &lt; java.security.bc.patch\n</code></pre>\n<p>java.security.bc.patch content</p>\n<pre><code>53a54\n&gt; security.provider.9=org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n"}],"owner":{"account_id":2489642,"reputation":486,"user_id":2167396,"display_name":"chashi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16220,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27328435,"answer_count":4,"score":4,"last_activity_date":1662648544,"creation_date":1417810034,"question_id":27323858,"body_markdown":"The [Java Cryptography Architecture\r\nStandard Algorithm Name Documentation][1] page for Java 6 lists ECDHE cipher suites. Thus I would expect they are supported in Java 6. Yet neither OOTB Java 6 nor the addition of the JCE Unlimited Strength policy files is enabling them.\r\n\r\nThe book [Bulletproof SSL and TLS][2] also indicates Java 6 supports ECDHE, with a caveat:\r\n\r\n&gt; Enable and prioritize ECDHE suites on the server. Java 6 and 7\r\n&gt; clients support these, and will happily use them. (But do note that\r\n&gt; with Java 6 you must switch to using the v3 handshake in order to\r\n&gt; utilize ECDHE suites at the client level.)\r\n\r\nI&#39;m assuming by v3 handshake he means SSLv3? I haven&#39;t tried it but even if this works, SSLv3 is not a viable option due to the POODLE vulnerability.\r\n\r\nWhat am I missing?\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/StandardNames.html#ciphersuites\r\n  [2]: https://www.feistyduck.com/books/bulletproof-ssl-and-tls/","title":"Java 6 ECDHE Cipher Suite Support","body":"<p>The <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/StandardNames.html#ciphersuites\" rel=\"nofollow\">Java Cryptography Architecture\nStandard Algorithm Name Documentation</a> page for Java 6 lists ECDHE cipher suites. Thus I would expect they are supported in Java 6. Yet neither OOTB Java 6 nor the addition of the JCE Unlimited Strength policy files is enabling them.</p>\n\n<p>The book <a href=\"https://www.feistyduck.com/books/bulletproof-ssl-and-tls/\" rel=\"nofollow\">Bulletproof SSL and TLS</a> also indicates Java 6 supports ECDHE, with a caveat:</p>\n\n<blockquote>\n  <p>Enable and prioritize ECDHE suites on the server. Java 6 and 7\n  clients support these, and will happily use them. (But do note that\n  with Java 6 you must switch to using the v3 handshake in order to\n  utilize ECDHE suites at the client level.)</p>\n</blockquote>\n\n<p>I'm assuming by v3 handshake he means SSLv3? I haven't tried it but even if this works, SSLv3 is not a viable option due to the POODLE vulnerability.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":2479629,"reputation":1487,"user_id":2159372,"accept_rate":83,"display_name":"mehere"},"score":4,"creation_date":1444130962,"post_id":32968527,"comment_id":53762188,"body_markdown":"try setting in config file `&lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/prop&gt;","body":"try setting in config file `&lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/prop&gt;"},{"owner":{"account_id":5072657,"reputation":3280,"user_id":4071001,"display_name":"lcnicolau"},"score":1,"creation_date":1525542575,"post_id":32968527,"comment_id":87401676,"body_markdown":"See https://stackoverflow.com/questions/38815625/migration-from-hibernate-4-to-5","body":"See <a href=\"https://stackoverflow.com/questions/38815625/migration-from-hibernate-4-to-5\" title=\"migration from hibernate 4 to 5\">stackoverflow.com/questions/38815625/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7072525,"reputation":1939,"user_id":5413666,"accept_rate":12,"display_name":"rParvathi"},"down_vote_count":1,"up_vote_count":89,"is_accepted":true,"score":88,"last_activity_date":1571312927,"creation_date":1444131870,"answer_id":32969085,"question_id":32968527,"body_markdown":"You need to set for Hibernate5.x `&lt;property name=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/property&gt;`.. see and [link][1].\r\n\r\nFor older version of hibernate 4.x:\r\n`&lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/prop&gt;`\r\n  \r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/5.0/migration-guide.adoc#changed-setting-defaults","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>You need to set for Hibernate5.x <code>&lt;property name=\"hibernate.id.new_generator_mappings\"&gt;false&lt;/property&gt;</code>.. see and <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.0/migration-guide.adoc#changed-setting-defaults\" rel=\"noreferrer\">link</a>.</p>\n\n<p>For older version of hibernate 4.x:\n<code>&lt;prop key=\"hibernate.id.new_generator_mappings\"&gt;false&lt;/prop&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":2019122,"reputation":1895,"user_id":1805712,"accept_rate":43,"display_name":"Kikou"},"down_vote_count":1,"up_vote_count":133,"is_accepted":false,"score":132,"last_activity_date":1458310918,"creation_date":1458310918,"answer_id":36086793,"question_id":32968527,"body_markdown":"You can also put :\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nAnd let the DateBase manage the incrementation of the primary key:\r\n\r\n    AUTO_INCREMENT PRIMARY KEY","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>You can also put :</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>And let the DateBase manage the incrementation of the primary key:</p>\n\n<pre><code>AUTO_INCREMENT PRIMARY KEY\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1471565472,"creation_date":1466500697,"answer_id":37940298,"question_id":32968527,"body_markdown":"FYI\r\n\r\nIf you are using hbm files to define the O/R mapping.\r\n\r\nNotice that:\r\n\r\nIn Hibernate 5, **the param name for the sequence name has been changed**.\r\n\r\n\r\nThe following setting worked fine in **Hibernate 4**:\r\n\r\n    &lt;generator class=&quot;sequence&quot;&gt;\r\n    \t&lt;param name=&quot;sequence&quot;&gt;xxxxxx_seq&lt;/param&gt;\r\n    &lt;/generator&gt;\r\n\r\n\r\nBut in **Hibernate 5**, the same mapping setting file will cause a &quot;hibernate_sequence doesn&#39;t exist&quot; error.\r\n\r\nTo fix this error, the param name **must change** to:\r\n\r\n    &lt;generator class=&quot;sequence&quot;&gt;\r\n    \t&lt;param name=&quot;sequence_name&quot;&gt;xxxxxx_seq&lt;/param&gt;\r\n    &lt;/generator&gt;\r\n\r\n\r\n\r\nThis problem wasted me 2, 3 hours.\r\n\r\nAnd somehow, it looks like there are **no document** about it.\r\n\r\nI have to read the source code of org.hibernate.id.enhanced.SequenceStyleGenerator to figure it out","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>FYI</p>\n\n<p>If you are using hbm files to define the O/R mapping.</p>\n\n<p>Notice that:</p>\n\n<p>In Hibernate 5, <strong>the param name for the sequence name has been changed</strong>.</p>\n\n<p>The following setting worked fine in <strong>Hibernate 4</strong>:</p>\n\n<pre><code>&lt;generator class=\"sequence\"&gt;\n    &lt;param name=\"sequence\"&gt;xxxxxx_seq&lt;/param&gt;\n&lt;/generator&gt;\n</code></pre>\n\n<p>But in <strong>Hibernate 5</strong>, the same mapping setting file will cause a \"hibernate_sequence doesn't exist\" error.</p>\n\n<p>To fix this error, the param name <strong>must change</strong> to:</p>\n\n<pre><code>&lt;generator class=\"sequence\"&gt;\n    &lt;param name=\"sequence_name\"&gt;xxxxxx_seq&lt;/param&gt;\n&lt;/generator&gt;\n</code></pre>\n\n<p>This problem wasted me 2, 3 hours.</p>\n\n<p>And somehow, it looks like there are <strong>no document</strong> about it.</p>\n\n<p>I have to read the source code of org.hibernate.id.enhanced.SequenceStyleGenerator to figure it out</p>\n"},{"tags":[],"owner":{"account_id":9881418,"reputation":676,"user_id":7317387,"accept_rate":20,"display_name":"Vishnu S Kumar"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1482894899,"creation_date":1482894899,"answer_id":41354894,"question_id":32968527,"body_markdown":"This is the reason behind this error:\r\n\r\nIt will look for how the database that you are using generates ids. For MySql or HSQSL, there are increment fields that automatically increment. In Postgres or Oracle, they use sequence tables. Since you didn&#39;t specify a sequence table name, it will look for a sequence table named hibernate_sequence and use it for default. So you probably don&#39;t have such a sequence table in your database and now you get that error.","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>This is the reason behind this error:</p>\n\n<p>It will look for how the database that you are using generates ids. For MySql or HSQSL, there are increment fields that automatically increment. In Postgres or Oracle, they use sequence tables. Since you didn't specify a sequence table name, it will look for a sequence table named hibernate_sequence and use it for default. So you probably don't have such a sequence table in your database and now you get that error.</p>\n"},{"tags":[],"owner":{"account_id":4211074,"reputation":471,"user_id":3448748,"accept_rate":25,"display_name":"Rajan Chauhan"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1532509055,"creation_date":1492492352,"answer_id":43464057,"question_id":32968527,"body_markdown":"I was getting the same error &quot;com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;mylocaldb.hibernate_sequence&#39; doesn&#39;t exist&quot;.\r\n\r\nUsing spring mvc 4.3.7 and hibernate version 5.2.9, application is made using spring java based configuration. Now I have to add the `hibernate.id.new_generator_mappings` property mentioned by @Eva Mariam in my code like this:\r\n\r\n    @Autowired\r\n    \t@Bean(name = &quot;sessionFactory&quot;)\r\n    \tpublic SessionFactory getSessionFactory(DataSource dataSource) {\r\n    \t \r\n    \t    LocalSessionFactoryBuilder sessionBuilder = new LocalSessionFactoryBuilder(dataSource);\r\n    \t    sessionBuilder.addProperties(getHibernateProperties());\r\n    \t    sessionBuilder.addAnnotatedClasses(User.class);\r\n    \t \r\n    \t    return sessionBuilder.buildSessionFactory();\r\n    \t}\r\n    \t\r\n    \tprivate Properties getHibernateProperties() {\r\n    \t    Properties properties = new Properties();\r\n    \t    properties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    \t    properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n    \t    properties.put(&quot;hibernate.id.new_generator_mappings&quot;,&quot;false&quot;);\r\n    \t    return properties;\r\n    \t}\r\n\r\nAnd it worked like charm.","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>I was getting the same error \"com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'mylocaldb.hibernate_sequence' doesn't exist\".</p>\n\n<p>Using spring mvc 4.3.7 and hibernate version 5.2.9, application is made using spring java based configuration. Now I have to add the <code>hibernate.id.new_generator_mappings</code> property mentioned by @Eva Mariam in my code like this:</p>\n\n<pre><code>@Autowired\n    @Bean(name = \"sessionFactory\")\n    public SessionFactory getSessionFactory(DataSource dataSource) {\n\n        LocalSessionFactoryBuilder sessionBuilder = new LocalSessionFactoryBuilder(dataSource);\n        sessionBuilder.addProperties(getHibernateProperties());\n        sessionBuilder.addAnnotatedClasses(User.class);\n\n        return sessionBuilder.buildSessionFactory();\n    }\n\n    private Properties getHibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.show_sql\", \"true\");\n        properties.put(\"hibernate.dialect\", \"org.hibernate.dialect.MySQLDialect\");\n        properties.put(\"hibernate.id.new_generator_mappings\",\"false\");\n        return properties;\n    }\n</code></pre>\n\n<p>And it worked like charm.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511026087,"creation_date":1511026087,"answer_id":47368956,"question_id":32968527,"body_markdown":"This might be caused by [HHH-10876](https://hibernate.atlassian.net/browse/HHH-10876) which got fixed so make sure you update to:\r\n\r\n- Hibernate ORM 5.2.1, \r\n- Hibernate ORM 5.1.1, \r\n- Hibernate ORM 5.0.11","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>This might be caused by <a href=\"https://hibernate.atlassian.net/browse/HHH-10876\" rel=\"nofollow noreferrer\">HHH-10876</a> which got fixed so make sure you update to:</p>\n\n<ul>\n<li>Hibernate ORM 5.2.1, </li>\n<li>Hibernate ORM 5.1.1, </li>\n<li>Hibernate ORM 5.0.11</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2283838,"reputation":794,"user_id":2008350,"display_name":"RivanMota"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1550775048,"creation_date":1522262595,"answer_id":49541941,"question_id":32968527,"body_markdown":"Working with **Spring Boot**\r\n\r\n### Solution\r\n\r\nPut the string below in .application.properties\r\n\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings=false\r\n\r\n### Explanation\r\n\r\nOn Hibernate 4.X this attribute defaults to `true`.","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>Working with <strong>Spring Boot</strong></p>\n\n<h3>Solution</h3>\n\n<p>Put the string below in .application.properties</p>\n\n<pre><code>spring.jpa.properties.hibernate.id.new_generator_mappings=false\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>On Hibernate 4.X this attribute defaults to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526653622,"creation_date":1526653622,"answer_id":50413562,"question_id":32968527,"body_markdown":"I added Hibernate sequence in postgres.\r\nRun this query in PostGres Editor:\r\n\r\n        CREATE SEQUENCE hibernate_sequence\r\n      INCREMENT 1\r\n      MINVALUE 1\r\n      MAXVALUE 9223372036854775807\r\n      START 2\r\n      CACHE 1;\r\n    ALTER TABLE hibernate_sequence\r\n      OWNER TO postgres;\r\n\r\nI will find out the pros/cons of using the query but for someone who need help can use this.","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>I added Hibernate sequence in postgres.\nRun this query in PostGres Editor:</p>\n\n<pre><code>    CREATE SEQUENCE hibernate_sequence\n  INCREMENT 1\n  MINVALUE 1\n  MAXVALUE 9223372036854775807\n  START 2\n  CACHE 1;\nALTER TABLE hibernate_sequence\n  OWNER TO postgres;\n</code></pre>\n\n<p>I will find out the pros/cons of using the query but for someone who need help can use this.</p>\n"},{"tags":[],"owner":{"account_id":10089954,"reputation":297,"user_id":7457254,"display_name":"tekintian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527078428,"creation_date":1527064177,"answer_id":50483448,"question_id":32968527,"body_markdown":"in hibernate 5.x, you should add set hibernate.id.new_generator_mappings to false in hibernate.cfg.xml\r\n\r\n    &lt;session-factory&gt;\r\n        ......\r\n        &lt;property name=&quot;show_sql&quot;&gt;1&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/property&gt;\r\n         ......\r\n     &lt;/session-factory&gt;\r\n\r\n","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>in hibernate 5.x, you should add set hibernate.id.new_generator_mappings to false in hibernate.cfg.xml</p>\n\n<pre><code>&lt;session-factory&gt;\n    ......\n    &lt;property name=\"show_sql\"&gt;1&lt;/property&gt;\n    &lt;property name=\"hibernate.id.new_generator_mappings\"&gt;false&lt;/property&gt;\n     ......\n &lt;/session-factory&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1341208,"reputation":364,"user_id":1282826,"display_name":"Kalpa"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1537149203,"creation_date":1537149203,"answer_id":52359876,"question_id":32968527,"body_markdown":"When you use  \r\n\r\n`@GeneratedValue(strategy=GenerationType.AUTO)` \r\n  \r\n or\r\n\r\n`@GeneratedValue` which is short hand way of the above, Hibernate starts to decide the best \r\n generation strategy for you, in this case it has selected  \r\n\r\n`GenerationType.SEQUENCE` as the strategy and that is why it is looking for   \r\n\r\n`schemaName.hibernate_sequence` which is a table, for sequence based id generation.\r\n\r\nWhen you use `GenerationType.SEQUENCE` as the strategy you need to provide the `@TableGenerator` as follows.  \r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;user_table_generator&quot;)\r\n         @TableGenerator(name = &quot;user_table_generator&quot;,\r\n                    table = &quot;user_keys&quot;, pkColumnName = &quot;PK_NAME&quot;, valueColumnName = &quot;PK_VALUE&quot;)\r\n         @Column(name = &quot;USER_ID&quot;)\r\n         private long userId;\r\n\r\nWhen you set the strategy it the to \r\n\r\n`@GeneratedValue(strategy = GenerationType.IDENTITY)` . \r\n\r\noriginal issue get resolved because then Hibernate stop looking for sequence table. \r\n\r\n","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>When you use  </p>\n\n<p><code>@GeneratedValue(strategy=GenerationType.AUTO)</code> </p>\n\n<p>or</p>\n\n<p><code>@GeneratedValue</code> which is short hand way of the above, Hibernate starts to decide the best \n generation strategy for you, in this case it has selected  </p>\n\n<p><code>GenerationType.SEQUENCE</code> as the strategy and that is why it is looking for   </p>\n\n<p><code>schemaName.hibernate_sequence</code> which is a table, for sequence based id generation.</p>\n\n<p>When you use <code>GenerationType.SEQUENCE</code> as the strategy you need to provide the <code>@TableGenerator</code> as follows.  </p>\n\n<pre><code>     @Id\n     @GeneratedValue(strategy = GenerationType.TABLE, generator = \"user_table_generator\")\n     @TableGenerator(name = \"user_table_generator\",\n                table = \"user_keys\", pkColumnName = \"PK_NAME\", valueColumnName = \"PK_VALUE\")\n     @Column(name = \"USER_ID\")\n     private long userId;\n</code></pre>\n\n<p>When you set the strategy it the to </p>\n\n<p><code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> . </p>\n\n<p>original issue get resolved because then Hibernate stop looking for sequence table. </p>\n"},{"tags":[],"owner":{"account_id":6146409,"reputation":21,"user_id":4792247,"display_name":"Pradeep Singarakannan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544379343,"creation_date":1544374623,"answer_id":53694571,"question_id":32968527,"body_markdown":"You can also put :\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nAnd let the DateBase manage the incrementation of the primary key:\r\n\r\n    AUTO_INCREMENT PRIMARY KEY\r\n\r\nThe above answer helped me.\r\n","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>You can also put :</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>And let the DateBase manage the incrementation of the primary key:</p>\n\n<pre><code>AUTO_INCREMENT PRIMARY KEY\n</code></pre>\n\n<p>The above answer helped me.</p>\n"},{"tags":[],"owner":{"account_id":2500246,"reputation":171,"user_id":2175575,"display_name":"JMoney"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1550556309,"creation_date":1550378103,"answer_id":54730140,"question_id":32968527,"body_markdown":"Just in case someone pulls their hair out with this problem like I did today, I couldn&#39;t resolve this error until I changed\r\n\r\n    spring.jpa.hibernate.dll-auto=create\r\n\r\nto\r\n\r\n    spring.jpa.properties.hibernate.hbm2ddl.auto=create","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>Just in case someone pulls their hair out with this problem like I did today, I couldn't resolve this error until I changed</p>\n\n<pre><code>spring.jpa.hibernate.dll-auto=create\n</code></pre>\n\n<p>to</p>\n\n<pre><code>spring.jpa.properties.hibernate.hbm2ddl.auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3246330,"reputation":71,"user_id":2737790,"display_name":"wwesantos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556298741,"creation_date":1556298741,"answer_id":55872222,"question_id":32968527,"body_markdown":"In my case, replacing all annotations `GenerationType.AUTO` by `GenerationType.SEQUENCE` solved the issue.","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>In my case, replacing all annotations <code>GenerationType.AUTO</code> by <code>GenerationType.SEQUENCE</code> solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":2505882,"reputation":27,"user_id":2179635,"display_name":"user2179635"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1571382761,"creation_date":1558429435,"answer_id":56234801,"question_id":32968527,"body_markdown":"Run this query \r\n\r\n```sql\r\ncreate sequence hibernate_sequence start with 1 increment by 1\r\n```","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>Run this query </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create sequence hibernate_sequence start with 1 increment by 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573153702,"creation_date":1573153702,"answer_id":58755454,"question_id":32968527,"body_markdown":"If you are using Hibernate version prior to Hibernate5 `@GeneratedValue(strategy = GenerationType.IDENTITY)` works like a charm. But post Hibernate5 the following fix is necessary.\r\n\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\r\n@GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\r\nprivate Long id;\r\n```\r\n\r\n**DDL**\r\n\r\n```\r\n`id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\r\n```\r\n\r\n**REASON**\r\n\r\nExcerpt from [hibernate-issue][1]\r\n\r\n \r\n&gt; Currently, if the hibernate.id.new_generator_mappings is set to false,\r\n&gt; @GeneratedValue(strategy = GenerationType.AUTO) is mapped to native. \r\n&gt; If this property is true (which is the defult value in 5.x), the\r\n&gt; @GeneratedValue(strategy = GenerationType.AUTO) is always mapped to\r\n&gt; SequenceStyleGenerator.\r\n&gt; \r\n&gt; For this reason, on any database that does not support sequences\r\n&gt; natively (e.g. MySQL) we are going to use the TABLE generator instead\r\n&gt; of IDENTITY.\r\n&gt; \r\n&gt; However, TABLE generator, although more portable, uses a separate\r\n&gt; transaction every time a value is being fetched from the database. In\r\n&gt; fact, even if the IDENTITY disables JDBC batch updates and the TABLE\r\n&gt; generator uses the pooled optimizer, the IDENTITY still scales better.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-11014","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>If you are using Hibernate version prior to Hibernate5 <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> works like a charm. But post Hibernate5 the following fix is necessary.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy= GenerationType.AUTO,generator=\"native\")\n@GenericGenerator(name = \"native\",strategy = \"native\")\nprivate Long id;\n</code></pre>\n\n<p><strong>DDL</strong></p>\n\n<pre><code>`id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\n</code></pre>\n\n<p><strong>REASON</strong></p>\n\n<p>Excerpt from <a href=\"https://hibernate.atlassian.net/browse/HHH-11014\" rel=\"nofollow noreferrer\">hibernate-issue</a></p>\n\n<blockquote>\n  <p>Currently, if the hibernate.id.new_generator_mappings is set to false,\n  @GeneratedValue(strategy = GenerationType.AUTO) is mapped to native. \n  If this property is true (which is the defult value in 5.x), the\n  @GeneratedValue(strategy = GenerationType.AUTO) is always mapped to\n  SequenceStyleGenerator.</p>\n  \n  <p>For this reason, on any database that does not support sequences\n  natively (e.g. MySQL) we are going to use the TABLE generator instead\n  of IDENTITY.</p>\n  \n  <p>However, TABLE generator, although more portable, uses a separate\n  transaction every time a value is being fetched from the database. In\n  fact, even if the IDENTITY disables JDBC batch updates and the TABLE\n  generator uses the pooled optimizer, the IDENTITY still scales better.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620797295,"creation_date":1620797295,"answer_id":67497801,"question_id":32968527,"body_markdown":"Step 1 : Entry into application.properties\r\n\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings=false\r\n\r\nStep 2 : Make sure the primary key column should be **auto increment** type\r\n\r\n    ALTER TABLE EMPLOYEES MODIFY COLUMN ID INT AUTO_INCREMENT;","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>Step 1 : Entry into application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.id.new_generator_mappings=false\n</code></pre>\n<p>Step 2 : Make sure the primary key column should be <strong>auto increment</strong> type</p>\n<pre><code>ALTER TABLE EMPLOYEES MODIFY COLUMN ID INT AUTO_INCREMENT;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18163928,"reputation":1,"user_id":13214867,"display_name":"Michael Pap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662648208,"creation_date":1662648208,"answer_id":73650979,"question_id":32968527,"body_markdown":"CREATE TABLE `hibernate_sequence` (\r\n   `next_val` bigint DEFAULT NULL\r\n) ;\r\n\r\ninsert into `hibernate_sequence` values (1);","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>CREATE TABLE <code>hibernate_sequence</code> (\n<code>next_val</code> bigint DEFAULT NULL\n) ;</p>\n<p>insert into <code>hibernate_sequence</code> values (1);</p>\n"}],"owner":{"account_id":7072525,"reputation":1939,"user_id":5413666,"accept_rate":12,"display_name":"rParvathi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139425,"favorite_count":0,"down_vote_count":1,"up_vote_count":100,"accepted_answer_id":32969085,"answer_count":17,"score":99,"last_activity_date":1662648208,"creation_date":1444130020,"question_id":32968527,"body_markdown":"I tried to upgrade hibernate from 4 to 5 in my project with spring `4.2` version. After this upgrade, I found the following error in my stack trace when I called a method for updating.\r\n\r\n    10:53:32,185 ERROR TableStructure:149 - could not read a hi value\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;test.hibernate_sequence&#39; doesn&#39;t exist \r\n\r\nI changed the auto incremented Id with annotation \r\n\r\n    @GeneratedValue(strategy=GenerationType.AUTO) \r\n\r\nstill the error remains.","title":"Hibernate-sequence doesn&#39;t exist","body":"<p>I tried to upgrade hibernate from 4 to 5 in my project with spring <code>4.2</code> version. After this upgrade, I found the following error in my stack trace when I called a method for updating.</p>\n\n<pre><code>10:53:32,185 ERROR TableStructure:149 - could not read a hi value\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'test.hibernate_sequence' doesn't exist \n</code></pre>\n\n<p>I changed the auto incremented Id with annotation </p>\n\n<pre><code>@GeneratedValue(strategy=GenerationType.AUTO) \n</code></pre>\n\n<p>still the error remains.</p>\n"},{"tags":["java","date","numbers","apache-poi","xlsx"],"answers":[{"tags":[],"owner":{"account_id":26278574,"reputation":1,"user_id":19947349,"display_name":"Altin Uku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662627216,"creation_date":1662627065,"answer_id":73646213,"question_id":73645453,"body_markdown":"**Resolved:** \r\nGuys, as always some tools has their own logic that if you never work with them you will never know. \r\nThe solution was really easy and crazy :) \r\n\r\nI select all the content of the column with the formula and other stuff in sheet 1, and i simply paste everything in another sheet 2. \r\n\r\nAt this moment from all the strange logic about formula, cached stuff, or real content on the cell,... after pasting in another sheet ( sheet 2 )  everything was visibile as a String without any Formula. \r\nSo just by doing cell.toString() i get the string value of everything. \r\n\r\nSometimes the easiest solutions are the most hardest thing to reason about lol. ","title":"Problem with FormulaEvaluator cell - Apache POI","body":"<p><strong>Resolved:</strong>\nGuys, as always some tools has their own logic that if you never work with them you will never know.\nThe solution was really easy and crazy :)</p>\n<p>I select all the content of the column with the formula and other stuff in sheet 1, and i simply paste everything in another sheet 2.</p>\n<p>At this moment from all the strange logic about formula, cached stuff, or real content on the cell,... after pasting in another sheet ( sheet 2 )  everything was visibile as a String without any Formula.\nSo just by doing cell.toString() i get the string value of everything.</p>\n<p>Sometimes the easiest solutions are the most hardest thing to reason about lol.</p>\n"}],"owner":{"account_id":26278574,"reputation":1,"user_id":19947349,"display_name":"Altin Uku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662648182,"creation_date":1662623328,"question_id":73645453,"body_markdown":"I have this strange situation and I need some tips on how to resolve it. \r\n\r\nI have a column ( lets call it column K ) with values that are result of a FORMULA ( the values of this column are taken from another sheet). All the values on column K are set as String. \r\n\r\nI use all the guidelines from the website: https://poi.apache.org/components/spreadsheet/eval.html\r\nbut I have a real problem to extract numbers ( example: 12345 ) and data ( 08/09/2022). \r\nWhen i extract the number 12345 on java i have 12.34.5 and when i extract the date (08/09/2022) it gives me a value: 44813.0\r\n\r\n\r\nA pseudocode that I was using is this one: \r\n\r\n        FileInputStream fis = new FileInputStream(&quot;/somepath/test.xls&quot;);\r\n    Workbook wb = new HSSFWorkbook(fis); //or new XSSFWorkbook(&quot;/somepath/test.xls&quot;)\r\n    Sheet sheet = wb.getSheetAt(0);\r\n    FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n    // suppose your formula is in B3\r\n    CellReference cellReference = new CellReference(&quot;B3&quot;); \r\n    Row row = sheet.getRow(cellReference.getRow());\r\n    Cell cell = row.getCell(cellReference.getCol()); \r\n    if (cell!=null) {\r\n        switch (evaluator.evaluateFormulaCell(cell)) {\r\n            case Cell.CELL_TYPE_BOOLEAN:\r\n                System.out.println(cell.getBooleanCellValue());\r\n                break;\r\n            case Cell.CELL_TYPE_NUMERIC:\r\n                System.out.println(cell.getNumericCellValue());\r\n                break;\r\n            case Cell.CELL_TYPE_STRING:\r\n                System.out.println(cell.getStringCellValue());\r\n                break;\r\n            case Cell.CELL_TYPE_BLANK:\r\n                break;\r\n            case Cell.CELL_TYPE_ERROR:\r\n                System.out.println(cell.getErrorCellValue());\r\n                break;\r\n            // CELL_TYPE_FORMULA will never occur\r\n            case Cell.CELL_TYPE_FORMULA: \r\n                break;\r\n        }\r\n    }\r\n\r\nCan someone give me some tips on how to resolve it?\r\n","title":"Problem with FormulaEvaluator cell - Apache POI","body":"<p>I have this strange situation and I need some tips on how to resolve it.</p>\n<p>I have a column ( lets call it column K ) with values that are result of a FORMULA ( the values of this column are taken from another sheet). All the values on column K are set as String.</p>\n<p>I use all the guidelines from the website: <a href=\"https://poi.apache.org/components/spreadsheet/eval.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/spreadsheet/eval.html</a>\nbut I have a real problem to extract numbers ( example: 12345 ) and data ( 08/09/2022).\nWhen i extract the number 12345 on java i have 12.34.5 and when i extract the date (08/09/2022) it gives me a value: 44813.0</p>\n<p>A pseudocode that I was using is this one:</p>\n<pre><code>    FileInputStream fis = new FileInputStream(&quot;/somepath/test.xls&quot;);\nWorkbook wb = new HSSFWorkbook(fis); //or new XSSFWorkbook(&quot;/somepath/test.xls&quot;)\nSheet sheet = wb.getSheetAt(0);\nFormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator();\n// suppose your formula is in B3\nCellReference cellReference = new CellReference(&quot;B3&quot;); \nRow row = sheet.getRow(cellReference.getRow());\nCell cell = row.getCell(cellReference.getCol()); \nif (cell!=null) {\n    switch (evaluator.evaluateFormulaCell(cell)) {\n        case Cell.CELL_TYPE_BOOLEAN:\n            System.out.println(cell.getBooleanCellValue());\n            break;\n        case Cell.CELL_TYPE_NUMERIC:\n            System.out.println(cell.getNumericCellValue());\n            break;\n        case Cell.CELL_TYPE_STRING:\n            System.out.println(cell.getStringCellValue());\n            break;\n        case Cell.CELL_TYPE_BLANK:\n            break;\n        case Cell.CELL_TYPE_ERROR:\n            System.out.println(cell.getErrorCellValue());\n            break;\n        // CELL_TYPE_FORMULA will never occur\n        case Cell.CELL_TYPE_FORMULA: \n            break;\n    }\n}\n</code></pre>\n<p>Can someone give me some tips on how to resolve it?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":5904267,"reputation":688,"user_id":4646633,"display_name":"Lorenzo Murrocu"},"score":0,"creation_date":1467715848,"post_id":38199377,"comment_id":63826902,"body_markdown":"I think the answers of Nicktar and Serghey Bishyr may already be useful for you, but I may have some more comments.\nJust to be sure: is your goal in UnitTest class to test the implementation of MyClass but to break the dependency from MyParentClass (in other words, test MyClass implementation providing a mock for MyParentClass)?","body":"I think the answers of Nicktar and Serghey Bishyr may already be useful for you, but I may have some more comments. Just to be sure: is your goal in UnitTest class to test the implementation of MyClass but to break the dependency from MyParentClass (in other words, test MyClass implementation providing a mock for MyParentClass)?"}],"answers":[{"tags":[],"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1467788713,"creation_date":1467710309,"answer_id":38199598,"question_id":38199377,"body_markdown":"With this class structure mocking and testing is real hard. If possible, I&#39;d advice to change the structure as in mist cases a class structure that&#39;s hard to mock and test is equally hard to extend and maintain.\r\n\r\nSo if you could change your class structure to something similar to:\r\n\r\n    public class MyClass {\r\n    \r\n        private DoSomethingProvider doSomethingProvider;\r\n    \r\n        private DbConnector dbConnector;\r\n    \r\n        public MyClass (DoSomethingProvider p, DbConnector c) {\r\n            doSomethingProvicer = p;\r\n            dbConnector = c;\r\n        }\r\n      \r\n    \r\n        protected String createDummyRequest(Holder myHolder){\r\n            //...\r\n            doSomethingProvider.doSomethingParent();\r\n            //...\r\n            dbConnector.callingDB();\r\n            return &quot;processedOutput&quot;;\r\n        }\r\n    }\r\n\r\n\r\nThen you could easily create your instance with mocks of DoSomethingProvider and DbConnector and voila....\r\n\r\nIf you can&#39;t change your class structure you need to use Mockito.spy instead of Mockito.mock to stub specific method calls but use the real object.\r\n\r\n    public void testCreateDummyRequest(){\r\n        //create my mock holder\r\n        Holder mockHolder = new Holder();\r\n\r\n        MyClass mockObj = Mockito.spy(new MyClass());\r\n\r\n        Mockito.doNothing().when(mockObj).doSomething();\r\n\r\n        mockObj.createDummyRequest(mockHolder);\r\n    }\r\n\r\nNote: Using the `super` keyword prevents Mockito from stubbing that method call. I don&#39;t know if there is a way to stub calls to super. If possible (as in you didn&#39;t override the parent method in your class), just ommit the keyword.","title":"Mock inherited method in Mockito Java","body":"<p>With this class structure mocking and testing is real hard. If possible, I'd advice to change the structure as in mist cases a class structure that's hard to mock and test is equally hard to extend and maintain.</p>\n\n<p>So if you could change your class structure to something similar to:</p>\n\n<pre><code>public class MyClass {\n\n    private DoSomethingProvider doSomethingProvider;\n\n    private DbConnector dbConnector;\n\n    public MyClass (DoSomethingProvider p, DbConnector c) {\n        doSomethingProvicer = p;\n        dbConnector = c;\n    }\n\n\n    protected String createDummyRequest(Holder myHolder){\n        //...\n        doSomethingProvider.doSomethingParent();\n        //...\n        dbConnector.callingDB();\n        return \"processedOutput\";\n    }\n}\n</code></pre>\n\n<p>Then you could easily create your instance with mocks of DoSomethingProvider and DbConnector and voila....</p>\n\n<p>If you can't change your class structure you need to use Mockito.spy instead of Mockito.mock to stub specific method calls but use the real object.</p>\n\n<pre><code>public void testCreateDummyRequest(){\n    //create my mock holder\n    Holder mockHolder = new Holder();\n\n    MyClass mockObj = Mockito.spy(new MyClass());\n\n    Mockito.doNothing().when(mockObj).doSomething();\n\n    mockObj.createDummyRequest(mockHolder);\n}\n</code></pre>\n\n<p>Note: Using the <code>super</code> keyword prevents Mockito from stubbing that method call. I don't know if there is a way to stub calls to super. If possible (as in you didn't override the parent method in your class), just ommit the keyword.</p>\n"},{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467710592,"creation_date":1467710592,"answer_id":38199688,"question_id":38199377,"body_markdown":"I faced similar issue, so I find out that using `spy()` can hepld.\r\n\r\n    public class UnitTest {\r\n    \r\n      private MyClass myObj;\r\n    \r\n      @Before\r\n      public void setUp() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n    \tmyObj= spy(new MyClass());\r\n      }\r\n    \r\n      @Test\r\n      public void mockedSuperClassMethod(){\r\n        doNothing().when((MyParentClass )myObj).doSomethingParent();\r\n        //...\r\n      }\r\n    }\r\n\r\nThis approach works for me.","title":"Mock inherited method in Mockito Java","body":"<p>I faced similar issue, so I find out that using <code>spy()</code> can hepld.</p>\n\n<pre><code>public class UnitTest {\n\n  private MyClass myObj;\n\n  @Before\n  public void setUp() throws Exception {\n    MockitoAnnotations.initMocks(this);\n    myObj= spy(new MyClass());\n  }\n\n  @Test\n  public void mockedSuperClassMethod(){\n    doNothing().when((MyParentClass )myObj).doSomethingParent();\n    //...\n  }\n}\n</code></pre>\n\n<p>This approach works for me.</p>\n"},{"tags":[],"owner":{"account_id":4619291,"reputation":1897,"user_id":3744819,"display_name":"Poger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606296408,"creation_date":1606296408,"answer_id":65001794,"question_id":38199377,"body_markdown":"I found another approach, which turned out to be very useful in my case.\r\n\r\nIn the case I had, I needed to create a new class extending another, which included a very complex (legacy code) `protected final` method. Due to the complexity, it wasn&#39;t really possible to refactor to use composition, so here&#39;s what I came up with.\r\n\r\nLet&#39;s say I have the following:\r\n```\r\nabstract class Parent {\r\n\r\n    public abstract void implementMe();\r\n\r\n    protected final void doComplexStuff( /* a long parameter list */) {\r\n        // very complex legacy logic\r\n    }\r\n\r\n}\r\n\r\nclass MyNewClass extends Parent {\r\n\r\n    @Override\r\n    public void implementMe() {\r\n        // custom stuff\r\n        doComplexStuff(/* a long parameter list */); // calling the parent\r\n        // some more custom stuff\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere&#39;s how I rearranged this code:\r\n```\r\nabstract class Parent {\r\n\r\n    public abstract void implementMe();\r\n\r\n    protected final void doComplexStuff( /* a long parameter list */) {\r\n        // very complex legacy logic\r\n    }\r\n\r\n}\r\n\r\ninterface ComplexStuffExecutor {\r\n    void executeComplexStuff(/* a long parameter list, matching the one from doComplexStuff */);\r\n}\r\n\r\nclass MyNewClass extends Parent {\r\n\r\n    private final ComplexStuffExecutor complexStuffExecutor;\r\n\r\n    MyNewClass() {\r\n        this.complexStuffExecutor = this::doComplexStuff;\r\n    }\r\n\r\n\r\n    MyNewClass(ComplexStuffExecutor complexStuffExecutor) {\r\n        this.complexStuffExecutor = complexStuffExecutor;\r\n    }\r\n\r\n    @Override\r\n    public void implementMe() {\r\n        // custom stuff\r\n        complexStuffExecutor.doComplexStuff(/* a long parameter list */); // either calling the parent or the injected ComplexStuffExecutor\r\n        // some more custom stuff\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nWhen creating instance of `MyNewClass` for &quot;production&quot; purposes, I can use the default constructor.\r\n\r\nWhen writing unit tests, however, I&#39;d use the constructor, where I can inject `ComplexStuffExecutor`, provide a mock there and only test my custom logic from `MyNewClass`, i.e.:\r\n\r\n```\r\nclass MyNewClassTest {\r\n    \r\n    @Test\r\n    void testImplementMe() {\r\n        ComplexStuffExecutor complexStuffExecutor = Mockito.mock(ComplexStuffExecutor.class);\r\n        doNothing().when(complexStuffExecutor).executeComplexStuff(/* expected parameters */);\r\n        MyNewClass systemUnderTest = new MyNewClass(complexStuffExecutor);\r\n        // perform tests\r\n    }\r\n}\r\n```\r\n\r\nAt first glance, it seems like adding some boilerplate code just to make the code testable. However, I can also see it as an indicator of how the code should actually look like. Perhaps one day someone (who would find courage and budget ;) ) could refactor the code e.g. to implement the `ComplexStuffExecutor` with the logic from `doComplexStuff` from `Parent`, inject it into `MyNewClass` and get rid of inheritance.","title":"Mock inherited method in Mockito Java","body":"<p>I found another approach, which turned out to be very useful in my case.</p>\n<p>In the case I had, I needed to create a new class extending another, which included a very complex (legacy code) <code>protected final</code> method. Due to the complexity, it wasn't really possible to refactor to use composition, so here's what I came up with.</p>\n<p>Let's say I have the following:</p>\n<pre><code>abstract class Parent {\n\n    public abstract void implementMe();\n\n    protected final void doComplexStuff( /* a long parameter list */) {\n        // very complex legacy logic\n    }\n\n}\n\nclass MyNewClass extends Parent {\n\n    @Override\n    public void implementMe() {\n        // custom stuff\n        doComplexStuff(/* a long parameter list */); // calling the parent\n        // some more custom stuff\n    }\n\n}\n</code></pre>\n<p>Here's how I rearranged this code:</p>\n<pre><code>abstract class Parent {\n\n    public abstract void implementMe();\n\n    protected final void doComplexStuff( /* a long parameter list */) {\n        // very complex legacy logic\n    }\n\n}\n\ninterface ComplexStuffExecutor {\n    void executeComplexStuff(/* a long parameter list, matching the one from doComplexStuff */);\n}\n\nclass MyNewClass extends Parent {\n\n    private final ComplexStuffExecutor complexStuffExecutor;\n\n    MyNewClass() {\n        this.complexStuffExecutor = this::doComplexStuff;\n    }\n\n\n    MyNewClass(ComplexStuffExecutor complexStuffExecutor) {\n        this.complexStuffExecutor = complexStuffExecutor;\n    }\n\n    @Override\n    public void implementMe() {\n        // custom stuff\n        complexStuffExecutor.doComplexStuff(/* a long parameter list */); // either calling the parent or the injected ComplexStuffExecutor\n        // some more custom stuff\n    }\n\n}\n\n</code></pre>\n<p>When creating instance of <code>MyNewClass</code> for &quot;production&quot; purposes, I can use the default constructor.</p>\n<p>When writing unit tests, however, I'd use the constructor, where I can inject <code>ComplexStuffExecutor</code>, provide a mock there and only test my custom logic from <code>MyNewClass</code>, i.e.:</p>\n<pre><code>class MyNewClassTest {\n    \n    @Test\n    void testImplementMe() {\n        ComplexStuffExecutor complexStuffExecutor = Mockito.mock(ComplexStuffExecutor.class);\n        doNothing().when(complexStuffExecutor).executeComplexStuff(/* expected parameters */);\n        MyNewClass systemUnderTest = new MyNewClass(complexStuffExecutor);\n        // perform tests\n    }\n}\n</code></pre>\n<p>At first glance, it seems like adding some boilerplate code just to make the code testable. However, I can also see it as an indicator of how the code should actually look like. Perhaps one day someone (who would find courage and budget ;) ) could refactor the code e.g. to implement the <code>ComplexStuffExecutor</code> with the logic from <code>doComplexStuff</code> from <code>Parent</code>, inject it into <code>MyNewClass</code> and get rid of inheritance.</p>\n"},{"tags":[],"owner":{"account_id":6339727,"reputation":413,"user_id":4922074,"display_name":"Thiago Cavalcanti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662648051,"creation_date":1661351331,"answer_id":73474935,"question_id":38199377,"body_markdown":"Here is how it can be done\r\n\r\n    public class BaseController {\r\n    \r\n         public void method() {\r\n              validate(); // I don&#39;t want to run this!\r\n         }\r\n    }\r\n    public class JDrivenController extends BaseController {\r\n        public void method(){\r\n            super.method()\r\n            load(); // I only want to test this!\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testSave() {\r\n        JDrivenController spy = Mockito.spy(new JDrivenController());\r\n    \r\n        // Prevent/stub logic in super.method()\r\n        Mockito.doNothing().when((BaseController)spy).validate();\r\n    \r\n        // When\r\n        spy.method();\r\n    \r\n        // Then\r\n        verify(spy).load();\r\n    }\r\n\r\nSource: https://blog.jdriven.com/2013/05/mock-superclass-method-with-mockito/","title":"Mock inherited method in Mockito Java","body":"<p>Here is how it can be done</p>\n<pre><code>public class BaseController {\n\n     public void method() {\n          validate(); // I don't want to run this!\n     }\n}\npublic class JDrivenController extends BaseController {\n    public void method(){\n        super.method()\n        load(); // I only want to test this!\n    }\n}\n\n@Test\npublic void testSave() {\n    JDrivenController spy = Mockito.spy(new JDrivenController());\n\n    // Prevent/stub logic in super.method()\n    Mockito.doNothing().when((BaseController)spy).validate();\n\n    // When\n    spy.method();\n\n    // Then\n    verify(spy).load();\n}\n</code></pre>\n<p>Source: <a href=\"https://blog.jdriven.com/2013/05/mock-superclass-method-with-mockito/\" rel=\"nofollow noreferrer\">https://blog.jdriven.com/2013/05/mock-superclass-method-with-mockito/</a></p>\n"}],"owner":{"account_id":5701253,"reputation":4320,"user_id":4506140,"accept_rate":73,"display_name":"Jude Niroshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15073,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38199598,"answer_count":4,"score":5,"last_activity_date":1662648051,"creation_date":1467709616,"question_id":38199377,"body_markdown":"My class structure is as follows: \r\n\r\n    public class MyParentClass {\r\n\r\n        void doSomethingParent() {\r\n            System.out.println(&quot;something in parent&quot;);\r\n        }\r\n    }\r\n\r\n    public class MyClass extends MyParentClass {\r\n    \r\n        protected String createDummyRequest(Holder myHolder) {\r\n            //...\r\n            super.doSomethingParent();//I want to avoid this\r\n            //...\r\n            callingDB();\r\n            return &quot;processedOutput&quot;;\r\n        }\r\n    \r\n        private void callingDB() {\r\n            System.out.println(&quot;Calling to DB&quot;);\r\n        }\r\n    }\r\n\r\nThen my unit test:\r\n\r\n    public class UnitTest {\r\n    \r\n        public void testCreateDummyRequest() {\r\n            //create my mock holder\r\n            Holder mockHolder = new Holder();\r\n    \r\n            MyClass mockObj = Mockito.mock(MyClass.class);\r\n            //mock doSomethingParent()\r\n            //mock callingDB()\r\n    \r\n            //as mockObj is a fully mock, but I need to run my real method\r\n            //Mockito.when(mockObj.createDummyRequest(mockHolder)).thenCallRealMethod();\r\n            mockObj.createDummyRequest(mockHolder);\r\n            //Problem: doSomethingParent() is getting called though I have mocked it\r\n        }\r\n    }\r\n\r\nHow do I prevent the calling of the super.doSomethingParent() in my method? (method which I am writing my test)","title":"Mock inherited method in Mockito Java","body":"<p>My class structure is as follows: </p>\n\n<pre><code>public class MyParentClass {\n\n    void doSomethingParent() {\n        System.out.println(\"something in parent\");\n    }\n}\n\npublic class MyClass extends MyParentClass {\n\n    protected String createDummyRequest(Holder myHolder) {\n        //...\n        super.doSomethingParent();//I want to avoid this\n        //...\n        callingDB();\n        return \"processedOutput\";\n    }\n\n    private void callingDB() {\n        System.out.println(\"Calling to DB\");\n    }\n}\n</code></pre>\n\n<p>Then my unit test:</p>\n\n<pre><code>public class UnitTest {\n\n    public void testCreateDummyRequest() {\n        //create my mock holder\n        Holder mockHolder = new Holder();\n\n        MyClass mockObj = Mockito.mock(MyClass.class);\n        //mock doSomethingParent()\n        //mock callingDB()\n\n        //as mockObj is a fully mock, but I need to run my real method\n        //Mockito.when(mockObj.createDummyRequest(mockHolder)).thenCallRealMethod();\n        mockObj.createDummyRequest(mockHolder);\n        //Problem: doSomethingParent() is getting called though I have mocked it\n    }\n}\n</code></pre>\n\n<p>How do I prevent the calling of the super.doSomethingParent() in my method? (method which I am writing my test)</p>\n"},{"tags":["java","exception","design-patterns","error-handling","null"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662648586,"post_id":73650457,"comment_id":130059058,"body_markdown":"Tip: [`Objects.requireNonNull`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)), [`Objects.isNull`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#isNull(java.lang.Object)), and more.","body":"Tip: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNull</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#isNull(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects.isNull</code></a>, and more."}],"answers":[{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662646496,"creation_date":1662646496,"answer_id":73650553,"question_id":73650457,"body_markdown":"you cannot trust data sent from user, never\r\n\r\nusually you have multiple layers in application:\r\n\r\n1. controller which is actually accepts user input and should perform validation, including all null/not null checks\r\n2. internal class which actually performs some work - this one can rely on upper level to supply valid data and thus omit validation","title":"Java: Best practice/Design pattern for handling NULL cases on variables that SHOULD NEVER be NULL?","body":"<p>you cannot trust data sent from user, never</p>\n<p>usually you have multiple layers in application:</p>\n<ol>\n<li>controller which is actually accepts user input and should perform validation, including all null/not null checks</li>\n<li>internal class which actually performs some work - this one can rely on upper level to supply valid data and thus omit validation</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2918545,"reputation":111555,"user_id":2501279,"display_name":"Guru Stron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662647202,"creation_date":1662647202,"answer_id":73650721,"question_id":73650457,"body_markdown":"All client-facing API (the same is valid for libraries if they have restrictions on incoming data/setup/etc.) should perform validation on incoming data (even if the client is actually another service in your system in case of distributed ones). What is absolutely evident for your can be not that clear/evident to another user/developer even if we discard malicious intentions. \r\n\r\nAfter the incoming data was validated though - it depends on how your application is written and structured, but there you can lax the checks, at least to some extent (i.e. usually there is less sense to revalidate already validated data).","title":"Java: Best practice/Design pattern for handling NULL cases on variables that SHOULD NEVER be NULL?","body":"<p>All client-facing API (the same is valid for libraries if they have restrictions on incoming data/setup/etc.) should perform validation on incoming data (even if the client is actually another service in your system in case of distributed ones). What is absolutely evident for your can be not that clear/evident to another user/developer even if we discard malicious intentions.</p>\n<p>After the incoming data was validated though - it depends on how your application is written and structured, but there you can lax the checks, at least to some extent (i.e. usually there is less sense to revalidate already validated data).</p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662647202,"creation_date":1662646132,"question_id":73650457,"body_markdown":"I asked everyone and generally have gotten different responses from everyone.\r\n\r\nNow, having a variable that could be `NULL` in, say, Java, requires to handle that case generally speaking. We can do something like:\r\n```\r\nif(myVarThatCouldBeNull != null) {\r\n   myVarThatCouldBeNull.getSomeValueFromMyVarThatCouldBeNull();\r\n}\r\n```\r\n...Such that the getter method is only called when the var has a value (else a Null Pointer Exception (NPE) would be thrown).\r\n\r\nMy question is, for variable that absolutely should never be `NULL`, say you have an Attendance application (let&#39;s call it **API X**) that is used to automate taking attendance in school. You could have a `Student` model/object like such:\r\n```\r\npublic class Student {\r\n   private String firstName;\r\n   private String lastName;\r\n   private String email;\r\n   private Integer id;\r\n}\r\n```\r\n\r\n... Now we could assume or say, that in-order for students to have their attendance &quot;logged&quot;, **API X** reads/consumes the fields/properties of the `Student` model/object as JSON key/value pairs POST&#39;d from some API (we&#39;ll call this **API Y**). *API X* then deserializes the request from the API.\r\n\r\nSince we already said the `id` is needed to log attendance, and a core-functionality of **API X**, it ***should never*** be `NULL`. This can be because, maybe there is a UI webpage with an input form to create the student account, and the `id` field is a *required* input field where students enter in their `id` from their school ID, else they **cannot** complete registration (no user account is created, thus no data sent to the backend applications, in this case, **API X** which would consume the request).\r\n\r\nMy question therefore is - In these cases (the latter), should developers/devs still be null checking the `id` field? My first thought is that it is *redundant*, but then again, it&#39;s only the developers assumptions that it is not needed. What if there is an edge-case out there that will break the API (API X), that we, the developer/dev is unaware of and because we are relying on our assumptions (and not fully committing to null-checking every variable), we would run into issues later on?\r\n\r\nThen again, I could also see (and have seen) a codebase with `if(...)` wrapper functions for `NULL` checks as being unnecessarily verbose, and obfuscates the codebase and flow.\r\n\r\nIf everyone just assumed certain things didn&#39;t need null checks, I feel as if no-one would do null checks. But, is it really necessary to  wrap variables with conditionals e.g. if-statements, like ones in this example involving an `id` that is input by a user on a UI input form, and that the student account **cannot** be created without that `id` being input at the UI level? (backend systems would consume this later on downstream)?\r\n\r\nI potentially overcomplicated this, but I was generally curious, would love to hear everyones responses","title":"Java: Best practice/Design pattern for handling NULL cases on variables that SHOULD NEVER be NULL?","body":"<p>I asked everyone and generally have gotten different responses from everyone.</p>\n<p>Now, having a variable that could be <code>NULL</code> in, say, Java, requires to handle that case generally speaking. We can do something like:</p>\n<pre><code>if(myVarThatCouldBeNull != null) {\n   myVarThatCouldBeNull.getSomeValueFromMyVarThatCouldBeNull();\n}\n</code></pre>\n<p>...Such that the getter method is only called when the var has a value (else a Null Pointer Exception (NPE) would be thrown).</p>\n<p>My question is, for variable that absolutely should never be <code>NULL</code>, say you have an Attendance application (let's call it <strong>API X</strong>) that is used to automate taking attendance in school. You could have a <code>Student</code> model/object like such:</p>\n<pre><code>public class Student {\n   private String firstName;\n   private String lastName;\n   private String email;\n   private Integer id;\n}\n</code></pre>\n<p>... Now we could assume or say, that in-order for students to have their attendance &quot;logged&quot;, <strong>API X</strong> reads/consumes the fields/properties of the <code>Student</code> model/object as JSON key/value pairs POST'd from some API (we'll call this <strong>API Y</strong>). <em>API X</em> then deserializes the request from the API.</p>\n<p>Since we already said the <code>id</code> is needed to log attendance, and a core-functionality of <strong>API X</strong>, it <em><strong>should never</strong></em> be <code>NULL</code>. This can be because, maybe there is a UI webpage with an input form to create the student account, and the <code>id</code> field is a <em>required</em> input field where students enter in their <code>id</code> from their school ID, else they <strong>cannot</strong> complete registration (no user account is created, thus no data sent to the backend applications, in this case, <strong>API X</strong> which would consume the request).</p>\n<p>My question therefore is - In these cases (the latter), should developers/devs still be null checking the <code>id</code> field? My first thought is that it is <em>redundant</em>, but then again, it's only the developers assumptions that it is not needed. What if there is an edge-case out there that will break the API (API X), that we, the developer/dev is unaware of and because we are relying on our assumptions (and not fully committing to null-checking every variable), we would run into issues later on?</p>\n<p>Then again, I could also see (and have seen) a codebase with <code>if(...)</code> wrapper functions for <code>NULL</code> checks as being unnecessarily verbose, and obfuscates the codebase and flow.</p>\n<p>If everyone just assumed certain things didn't need null checks, I feel as if no-one would do null checks. But, is it really necessary to  wrap variables with conditionals e.g. if-statements, like ones in this example involving an <code>id</code> that is input by a user on a UI input form, and that the student account <strong>cannot</strong> be created without that <code>id</code> being input at the UI level? (backend systems would consume this later on downstream)?</p>\n<p>I potentially overcomplicated this, but I was generally curious, would love to hear everyones responses</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1662646541,"post_id":73650530,"comment_id":130058243,"body_markdown":"any reason you want to split this to an array of String and not convert it directly to an array of map ? in other word, parse the JSon","body":"any reason you want to split this to an array of String and not convert it directly to an array of map ? in other word, parse the JSon"},{"owner":{"account_id":6893638,"reputation":558,"user_id":5296281,"display_name":"Mukesh"},"score":0,"creation_date":1662649388,"post_id":73650530,"comment_id":130059385,"body_markdown":"You can try with this approach \n\nString arrayOfTwoJSONString = &quot;[{\\&quot;a\\&quot;: \\&quot;sampleA\\&quot;, \\&quot;b\\&quot;: \\&quot;sampleB\\&quot;}, {\\&quot;c\\&quot;: \\&quot;sampleC\\&quot;, \\&quot;d\\&quot;: \\&quot;sampleD\\&quot;}]&quot;;\n\t\t\nList&lt;String&gt; of = List.of(arrayOfTwoJSONString.split(&quot;,&quot;));\nof.stream().forEach(System.out::println);","body":"You can try with this approach   String arrayOfTwoJSONString = &quot;[{\\&quot;a\\&quot;: \\&quot;sampleA\\&quot;, \\&quot;b\\&quot;: \\&quot;sampleB\\&quot;}, {\\&quot;c\\&quot;: \\&quot;sampleC\\&quot;, \\&quot;d\\&quot;: \\&quot;sampleD\\&quot;}]&quot;; \t\t List&lt;String&gt; of = List.of(arrayOfTwoJSONString.split(&quot;,&quot;)); of.stream().forEach(System.out::println);"}],"owner":{"account_id":18576432,"reputation":39,"user_id":13536996,"display_name":"Albert Hoffman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662646539,"answer_count":0,"score":0,"last_activity_date":1662647077,"creation_date":1662646400,"question_id":73650530,"body_markdown":"```\r\n//String representation of an array/list with two JSON string representations inside of it\r\nString arrayOfTwoJSONString = &quot;[{\\&quot;a\\&quot;: \\&quot;sampleA\\&quot;, \\&quot;b\\&quot;: \\&quot;sampleB\\&quot;}, {\\&quot;c\\&quot;: \\&quot;sampleC\\&quot;, \\&quot;d\\&quot;: \\&quot;sampleD\\&quot;}]&quot;;\r\n```\r\n\r\nHow can I convert this to an Array or ArrayList that contains two String representations of the JSONs?\r\n\r\n","title":"How to convert String representation of an array to an ArrayList?","body":"<pre><code>//String representation of an array/list with two JSON string representations inside of it\nString arrayOfTwoJSONString = &quot;[{\\&quot;a\\&quot;: \\&quot;sampleA\\&quot;, \\&quot;b\\&quot;: \\&quot;sampleB\\&quot;}, {\\&quot;c\\&quot;: \\&quot;sampleC\\&quot;, \\&quot;d\\&quot;: \\&quot;sampleD\\&quot;}]&quot;;\n</code></pre>\n<p>How can I convert this to an Array or ArrayList that contains two String representations of the JSONs?</p>\n"},{"tags":["java","azure","genexus"],"owner":{"account_id":26282029,"reputation":11,"user_id":19950376,"display_name":"gabriel weber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662647075,"creation_date":1662646300,"question_id":73650499,"body_markdown":"I&#39;m trying to connect an azure blob container through an Genexus 17 based application (Java) that acts like an API between an ERP and the blob container. The connection by code is:\r\n\r\n```\r\n&amp;dadosConsumoAzureSDT = new()\r\n&amp;dadosConsumoAzureSDT = dadosConsumoAzureProver.Udp()\r\n\r\n&amp;Properties = new()\r\n&amp;Properties.Set(&quot;PUBLIC_CONTAINER_NAME&quot;, &amp;dadosConsumoAzureSDT.container+&quot;_public&quot;)\r\n&amp;Properties.Set(&quot;PRIVATE_CONTAINER_NAME&quot;, &amp;dadosConsumoAzureSDT.container)\r\n&amp;Properties.Set(&quot;ACCOUNT_NAME&quot;, &amp;dadosConsumoAzureSDT.StorageAccountName)\r\n&amp;Properties.Set(&quot;ACCOUNT_KEY&quot;, &amp;dadosConsumoAzureSDT.StorageAccountKey)\r\n\r\nif &amp;ExternalStorage.Create(StorageProviderType.Microsoft_Azure, &amp;Properties, &amp;Storage, &amp;Messages)\r\n\t\r\n\t&amp;StorageObjectFullName = &quot;master/hotfolder/&quot; + &amp;filename\r\n\t\r\n\tif (&amp;Storage.UploadPrivate(&amp;File.GetAbsoluteName(), &amp;StorageObjectFullName, &amp;UploadedFile, &amp;Messages))\r\n\t\tmsg(format(&#39;URL of the uploaded file : %1&#39;, &amp;UploadedFile.GetAbsoluteName()), status)\r\n\telse\r\n\t\tfor &amp;Message in &amp;Messages\r\n\t\t\tmsg(&amp;Message.Description,status)\r\n\t\tendfor\r\n\tendif\r\n\t\r\n\t&amp;ExpirationMinutes = 1\r\n\tif (&amp;Storage.GetPrivate(&amp;StorageObjectFullName, &amp;ExternalFile, &amp;ExpirationMinutes, &amp;Messages))\r\n\t\t&amp;URL = &amp;ExternalFile.GetURI()\r\n\telse\r\n\t\tfor &amp;Message in &amp;Messages\r\n\t\t\tmsg(&amp;Message.Description,status)\r\n\t\tendfor\r\n\tendif\r\n\t\r\nelse\t\r\n\tfor &amp;Message in &amp;Messages\r\n\t\tmsg(&amp;Message.Description,status)\r\n\tendfor\r\nendif\r\n``` \r\n\r\nHowever, the log file returns the following error \r\n\r\n```\r\nclass java.lang.NullPointerException Cannot invoke &quot;com.microsoft.azure.storage.blob.CloudBlobContainer.getBlockBlobReference(String)&quot; because &quot;this.privateContainer&quot; is null\r\n```\r\n\r\nSo, my doubt is about the Properties syntax (PUBLIC_CONTAINER_NAME, PRIVATE_CONTAINER_NAME, etc...), but I cannot find anything on the Genexus wiki. I tried to set the container data connection in the Storage Provider properties, through the KB&#39;s generator, but the same error happens.","title":"How to connect a blob container using Genexus 17","body":"<p>I'm trying to connect an azure blob container through an Genexus 17 based application (Java) that acts like an API between an ERP and the blob container. The connection by code is:</p>\n<pre><code>&amp;dadosConsumoAzureSDT = new()\n&amp;dadosConsumoAzureSDT = dadosConsumoAzureProver.Udp()\n\n&amp;Properties = new()\n&amp;Properties.Set(&quot;PUBLIC_CONTAINER_NAME&quot;, &amp;dadosConsumoAzureSDT.container+&quot;_public&quot;)\n&amp;Properties.Set(&quot;PRIVATE_CONTAINER_NAME&quot;, &amp;dadosConsumoAzureSDT.container)\n&amp;Properties.Set(&quot;ACCOUNT_NAME&quot;, &amp;dadosConsumoAzureSDT.StorageAccountName)\n&amp;Properties.Set(&quot;ACCOUNT_KEY&quot;, &amp;dadosConsumoAzureSDT.StorageAccountKey)\n\nif &amp;ExternalStorage.Create(StorageProviderType.Microsoft_Azure, &amp;Properties, &amp;Storage, &amp;Messages)\n    \n    &amp;StorageObjectFullName = &quot;master/hotfolder/&quot; + &amp;filename\n    \n    if (&amp;Storage.UploadPrivate(&amp;File.GetAbsoluteName(), &amp;StorageObjectFullName, &amp;UploadedFile, &amp;Messages))\n        msg(format('URL of the uploaded file : %1', &amp;UploadedFile.GetAbsoluteName()), status)\n    else\n        for &amp;Message in &amp;Messages\n            msg(&amp;Message.Description,status)\n        endfor\n    endif\n    \n    &amp;ExpirationMinutes = 1\n    if (&amp;Storage.GetPrivate(&amp;StorageObjectFullName, &amp;ExternalFile, &amp;ExpirationMinutes, &amp;Messages))\n        &amp;URL = &amp;ExternalFile.GetURI()\n    else\n        for &amp;Message in &amp;Messages\n            msg(&amp;Message.Description,status)\n        endfor\n    endif\n    \nelse    \n    for &amp;Message in &amp;Messages\n        msg(&amp;Message.Description,status)\n    endfor\nendif\n</code></pre>\n<p>However, the log file returns the following error</p>\n<pre><code>class java.lang.NullPointerException Cannot invoke &quot;com.microsoft.azure.storage.blob.CloudBlobContainer.getBlockBlobReference(String)&quot; because &quot;this.privateContainer&quot; is null\n</code></pre>\n<p>So, my doubt is about the Properties syntax (PUBLIC_CONTAINER_NAME, PRIVATE_CONTAINER_NAME, etc...), but I cannot find anything on the Genexus wiki. I tried to set the container data connection in the Storage Provider properties, through the KB's generator, but the same error happens.</p>\n"},{"tags":["java","visualvm"],"answers":[{"tags":[],"owner":{"account_id":1105626,"reputation":2710,"user_id":1097074,"accept_rate":44,"display_name":"Rodion Gorkovenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1380637624,"creation_date":1380637624,"answer_id":19118845,"question_id":19118797,"body_markdown":"It depends on what type of sampling you want. `jmap` console tool (from JDK bin folder) allows some kind of memory dumping etc.","title":"JVisualVM for Linux console?","body":"<p>It depends on what type of sampling you want. <code>jmap</code> console tool (from JDK bin folder) allows some kind of memory dumping etc.</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380638542,"creation_date":1380638542,"answer_id":19119176,"question_id":19118797,"body_markdown":"setup a remote DISPLAY on your linux server and run jvisualvm such that the ui displays on your local xserver.  it might be slow, but it will work.","title":"JVisualVM for Linux console?","body":"<p>setup a remote DISPLAY on your linux server and run jvisualvm such that the ui displays on your local xserver.  it might be slow, but it will work.</p>\n"},{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1380638822,"creation_date":1380638822,"answer_id":19119300,"question_id":19118797,"body_markdown":"You can use `jmap` to take a memory sample (aka a heap dump). The command below creates a file\r\n`heap.hprof` in the current directory.\r\n\r\n    jmap -dump:format=b,file=heap.hprof &lt;pid&gt;\r\n\r\nOnce you have the sample you can transfer it to another machine for analysis with whatever tools you like. I recommend [Memory Analyzer][1].\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"JVisualVM for Linux console?","body":"<p>You can use <code>jmap</code> to take a memory sample (aka a heap dump). The command below creates a file\n<code>heap.hprof</code> in the current directory.</p>\n\n<pre><code>jmap -dump:format=b,file=heap.hprof &lt;pid&gt;\n</code></pre>\n\n<p>Once you have the sample you can transfer it to another machine for analysis with whatever tools you like. I recommend <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Memory Analyzer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1518678,"reputation":906,"user_id":1419025,"accept_rate":60,"display_name":"Kashan"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1519908672,"creation_date":1519908672,"answer_id":49050121,"question_id":19118797,"body_markdown":"Path to your software :\r\n\r\n  [softwares/visualvm_14/bin] -&gt; ll\r\n\r\n    -rw-r--r-- 1 xxxxxxx xx   6287 Dec 11 15:52 visualvm \r\n    -rw-r--r-- 1 xxxxxxx xx 190464 Dec 11 15:52 visualvm.exe\r\n\r\n    1st file is for Lx OS\r\n    2nd file is for Windows OS\r\n\r\nCommand to start the application:\r\n\r\n    for Linux &quot;jvisualvm&quot;\r\n    for Windows &quot;double click the .exe file&quot;\r\n\r\n","title":"JVisualVM for Linux console?","body":"<p>Path to your software :</p>\n\n<p>[softwares/visualvm_14/bin] -> ll</p>\n\n<pre><code>-rw-r--r-- 1 xxxxxxx xx   6287 Dec 11 15:52 visualvm \n-rw-r--r-- 1 xxxxxxx xx 190464 Dec 11 15:52 visualvm.exe\n\n1st file is for Lx OS\n2nd file is for Windows OS\n</code></pre>\n\n<p>Command to start the application:</p>\n\n<pre><code>for Linux \"jvisualvm\"\nfor Windows \"double click the .exe file\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8118690,"reputation":1,"user_id":6116254,"display_name":"Wallace Espindola"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662647070,"creation_date":1662647070,"answer_id":73650688,"question_id":19118797,"body_markdown":"Ubuntu uses command visualvm, and you can install it with: sudo apt install visualvm","title":"JVisualVM for Linux console?","body":"<p>Ubuntu uses command visualvm, and you can install it with: sudo apt install visualvm</p>\n"}],"owner":{"account_id":189531,"reputation":22741,"user_id":428916,"accept_rate":69,"display_name":"Rocky Pulley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31212,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":19118845,"answer_count":5,"score":7,"last_activity_date":1662647070,"creation_date":1380637503,"question_id":19118797,"body_markdown":"I need to be able to do some memory sampling on a VM that&#39;s running on a linux box that doesn&#39;t have any XWindows running.  I&#39;ve tried to do it remotely but apparently JVisualVM does not support remote memory sampling.  \r\n\r\nWhat are my alternatives?\r\n\r\nThanks!","title":"JVisualVM for Linux console?","body":"<p>I need to be able to do some memory sampling on a VM that's running on a linux box that doesn't have any XWindows running.  I've tried to do it remotely but apparently JVisualVM does not support remote memory sampling.  </p>\n\n<p>What are my alternatives?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","collections","thread-safety"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662568849,"post_id":73638901,"comment_id":130038154,"body_markdown":"Since the JavaDoc of `copyOf` links to the same paragraph on &quot;Unmodifiable Lists&quot; than the one linked to in `of`, I see no reason to believe this behaves any different.","body":"Since the JavaDoc of <code>copyOf</code> links to the same paragraph on &quot;Unmodifiable Lists&quot; than the one linked to in <code>of</code>, I see no reason to believe this behaves any different."},{"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1662569561,"post_id":73638901,"comment_id":130038384,"body_markdown":"@JoachimSauer Sorry, I don&#39;t understand what you mean. The Javadoc of the `of()` method does not explicitly state whether its return value is thread-safe either.","body":"@JoachimSauer Sorry, I don&#39;t understand what you mean. The Javadoc of the <code>of()</code> method does not explicitly state whether its return value is thread-safe either."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1662575105,"post_id":73638901,"comment_id":130040021,"body_markdown":"I don&#39;t know the answer, but how hard would it be for you to ensure that there is at least one &quot;happens before&quot; edge between one thread creating the immutable List, and some other thread reading it? If you can do that, then the problem is solved regardless of whether it actually _was_ a problem or not.","body":"I don&#39;t know the answer, but how hard would it be for you to ensure that there is at least one &quot;happens before&quot; edge between one thread creating the immutable List, and some other thread reading it? If you can do that, then the problem is solved regardless of whether it actually <i>was</i> a problem or not."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662580149,"post_id":73638901,"comment_id":130041382,"body_markdown":"They are *immutable*. Immutable objects are intrinsically thread safe, as thread safety problems are caused by concurrent modifications. As you already said yourself, this does not necessarily apply to the contained elements.","body":"They are <i>immutable</i>. Immutable objects are intrinsically thread safe, as thread safety problems are caused by concurrent modifications. As you already said yourself, this does not necessarily apply to the contained elements."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1662583654,"post_id":73638901,"comment_id":130042435,"body_markdown":"@Holger, Even an immutable object must be &quot;safely published.&quot; The object returned by `List.copyOf(...)` resides in read-write memory, and its fields were written-to immediately before the reference was returned. It&#39;s only &quot;immutable&quot; in the sense that there are no public methods available that will subsequently modify it.","body":"@Holger, Even an immutable object must be &quot;safely published.&quot; The object returned by <code>List.copyOf(...)</code> resides in read-write memory, and its fields were written-to immediately before the reference was returned. It&#39;s only &quot;immutable&quot; in the sense that there are no public methods available that will subsequently modify it."},{"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1662601992,"post_id":73638901,"comment_id":130045545,"body_markdown":"@Holger I think Solomon is right. See https://stackoverflow.com/a/55870087/14731. So to summarize my understanding: so long as we &quot;safely publish&quot; immutable objects, they are guaranteed to be thread-safe. And `List.copyOf()`, `Set.copyOf()`, and `Map.copyOf()` return immutable objects. Is that correct?","body":"@Holger I think Solomon is right. See <a href=\"https://stackoverflow.com/a/55870087/14731\">stackoverflow.com/a/55870087/14731</a>. So to summarize my understanding: so long as we &quot;safely publish&quot; immutable objects, they are guaranteed to be thread-safe. And <code>List.copyOf()</code>, <code>Set.copyOf()</code>, and <code>Map.copyOf()</code> return immutable objects. Is that correct?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1662620871,"post_id":73638901,"comment_id":130048905,"body_markdown":"@SolomonSlow but the question wasn’t whether these objects are immune to unsafe publishing but whether they are thread safe. They are and in fact, they are even immune to unsafe publishing due to the use of `final` fields, though this has not been explicitly specified. For comparison, a `ConcurrentHashMap` is not immune to unsafe publication, but nobody would say that `ConcurrentHashMap` was not thread safe.","body":"@SolomonSlow but the question wasn’t whether these objects are immune to unsafe publishing but whether they are thread safe. They are and in fact, they are even immune to unsafe publishing due to the use of <code>final</code> fields, though this has not been explicitly specified. For comparison, a <code>ConcurrentHashMap</code> is not immune to unsafe publication, but nobody would say that <code>ConcurrentHashMap</code> was not thread safe."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662633008,"post_id":73638901,"comment_id":130053024,"body_markdown":"[this](https://shipilev.net/blog/2014/safe-public-construction/) should help also","body":"<a href=\"https://shipilev.net/blog/2014/safe-public-construction/\" rel=\"nofollow noreferrer\">this</a> should help also"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1662640776,"post_id":73638901,"comment_id":130055874,"body_markdown":"@Holger, IMO, &quot;thread safe&quot; is easily and often misunderstood by newbies. Often, when they ask whether some Foobar class is thread safe, they are asking the wrong question. The objects returned by `List.copyOf(...)` and `List.of(...)` are as &quot;safe&quot; as anything can be _if_ they are properly handed off from the thread that created them to other threads, but that &quot;if&quot; is important.","body":"@Holger, IMO, &quot;thread safe&quot; is easily and often misunderstood by newbies. Often, when they ask whether some Foobar class is thread safe, they are asking the wrong question. The objects returned by <code>List.copyOf(...)</code> and <code>List.of(...)</code> are as &quot;safe&quot; as anything can be <i>if</i> they are properly handed off from the thread that created them to other threads, but that &quot;if&quot; is important."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1662647038,"creation_date":1662647038,"answer_id":73650681,"question_id":73638901,"body_markdown":"Since the collections created via, e.g. [`List.of(…)`] or [`List.copyOf(…)`] do not reflect subsequent changes to the specified array or collection and are immutable in general, it’s not possible to perform modifications after construction and in absence of concurrent modifications, there can’t be any thread safety issues.\r\n\r\nThe remaining question is whether the construction of these collections itself is immune to unsafe publication. Generally, you should use the proper constructs for publishing objects to other threads and not rely on unsafe publication.\r\n\r\nBut to recall, [**Unmodifiable Lists**] say\r\n\r\n&gt; - They are [*unmodifiable*]. Elements cannot be added, removed, or replaced. Calling any mutator method on the List will always cause `UnsupportedOperationException` to be thrown. However, if the contained elements are themselves mutable, this may cause the List&#39;s contents to appear to change.\r\n&gt; \r\n&gt; …\r\n&gt; - They are [value-based].\r\n\r\nand following the [value-based] link, we find:\r\n\r\n&gt; ### Value-based Classes\r\n&gt; Some classes, such as `java.lang.Integer` and `java.time.LocalDate`, are value-based. A value-based class has the following properties:\r\n&gt; \r\n&gt; - the class declares only final instance fields (though these may contain references to mutable objects);\r\n&gt; \r\n&gt; …\r\n\r\nFinal fields are important for immutable objects intended to be immune to unsafe publication. As [JLS&#167;17.5. `final` Field Semantics] specifies:\r\n\r\n&gt; `final` fields also allow programmers to implement thread-safe immutable objects without synchronization. A thread-safe immutable object is seen as immutable by all threads, even if a data race is used to pass references to the immutable object between threads. This can provide safety guarantees against misuse of an immutable class by incorrect or malicious code.\r\n\r\nBut we still have to assume the intent “to implement thread-safe immutable objects” on the JDK developer’s side rather than, e.g. the intent to surprise developers by explicitly using `final` fields and then deliberately spoiling the safety guarantees.\r\n\r\nIf in doubt, just use safe publication. It won’t hurt.\r\n\r\nAnd even if you already said this, it’s important to emphasize that this does not apply to the contained elements if they are mutable.\r\n\r\n[`List.of(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\r\n[`List.copyOf(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\r\n[**Unmodifiable Lists**]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n[*unmodifiable*]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#unmodifiable\r\n[value-based]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/doc-files/ValueBased.html\r\n[JLS&#167;17.5. `final` Field Semantics]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5","title":"Are the return values of List.copyOf(), Set.copyOf(), Map.copyOf() thread-safe?","body":"<p>Since the collections created via, e.g. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"noreferrer\"><code>List.of(…)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\"><code>List.copyOf(…)</code></a> do not reflect subsequent changes to the specified array or collection and are immutable in general, it’s not possible to perform modifications after construction and in absence of concurrent modifications, there can’t be any thread safety issues.</p>\n<p>The remaining question is whether the construction of these collections itself is immune to unsafe publication. Generally, you should use the proper constructs for publishing objects to other threads and not rely on unsafe publication.</p>\n<p>But to recall, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"noreferrer\"><strong>Unmodifiable Lists</strong></a> say</p>\n<blockquote>\n<ul>\n<li>They are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#unmodifiable\" rel=\"noreferrer\"><em>unmodifiable</em></a>. Elements cannot be added, removed, or replaced. Calling any mutator method on the List will always cause <code>UnsupportedOperationException</code> to be thrown. However, if the contained elements are themselves mutable, this may cause the List's contents to appear to change.</li>\n</ul>\n<p>…</p>\n<ul>\n<li>They are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/doc-files/ValueBased.html\" rel=\"noreferrer\">value-based</a>.</li>\n</ul>\n</blockquote>\n<p>and following the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/doc-files/ValueBased.html\" rel=\"noreferrer\">value-based</a> link, we find:</p>\n<blockquote>\n<h3>Value-based Classes</h3>\n<p>Some classes, such as <code>java.lang.Integer</code> and <code>java.time.LocalDate</code>, are value-based. A value-based class has the following properties:</p>\n<ul>\n<li>the class declares only final instance fields (though these may contain references to mutable objects);</li>\n</ul>\n<p>…</p>\n</blockquote>\n<p>Final fields are important for immutable objects intended to be immune to unsafe publication. As <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5\" rel=\"noreferrer\">JLS§17.5. <code>final</code> Field Semantics</a> specifies:</p>\n<blockquote>\n<p><code>final</code> fields also allow programmers to implement thread-safe immutable objects without synchronization. A thread-safe immutable object is seen as immutable by all threads, even if a data race is used to pass references to the immutable object between threads. This can provide safety guarantees against misuse of an immutable class by incorrect or malicious code.</p>\n</blockquote>\n<p>But we still have to assume the intent “to implement thread-safe immutable objects” on the JDK developer’s side rather than, e.g. the intent to surprise developers by explicitly using <code>final</code> fields and then deliberately spoiling the safety guarantees.</p>\n<p>If in doubt, just use safe publication. It won’t hurt.</p>\n<p>And even if you already said this, it’s important to emphasize that this does not apply to the contained elements if they are mutable.</p>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73650681,"answer_count":1,"score":5,"last_activity_date":1662647038,"creation_date":1662568202,"question_id":73638901,"body_markdown":"There are [many](https://stackoverflow.com/q/14713765/14731) [questions](https://stackoverflow.com/q/88036/14731) on Stackoverflow dating back to 2008 asking if unmodifiable collections are thread-safe, but JDK 10 (released in 2018) introduced a different beast: unmodifiable *copies* of existing collections.\r\n\r\n[List.copyOf()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)) states:\r\n\r\n&gt;  If the given Collection is subsequently modified, the returned List will not reflect such modifications.\r\n\r\nDoes that mean that the return value of `List.copyOf()`, `Set.copyOf()`, `Map.copyOf()` are all thread-safe?\r\n\r\n(I realize that the elements contained in the collection themselves are not guaranteed to be thread-safe.)","title":"Are the return values of List.copyOf(), Set.copyOf(), Map.copyOf() thread-safe?","body":"<p>There are <a href=\"https://stackoverflow.com/q/14713765/14731\">many</a> <a href=\"https://stackoverflow.com/q/88036/14731\">questions</a> on Stackoverflow dating back to 2008 asking if unmodifiable collections are thread-safe, but JDK 10 (released in 2018) introduced a different beast: unmodifiable <em>copies</em> of existing collections.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\">List.copyOf()</a> states:</p>\n<blockquote>\n<p>If the given Collection is subsequently modified, the returned List will not reflect such modifications.</p>\n</blockquote>\n<p>Does that mean that the return value of <code>List.copyOf()</code>, <code>Set.copyOf()</code>, <code>Map.copyOf()</code> are all thread-safe?</p>\n<p>(I realize that the elements contained in the collection themselves are not guaranteed to be thread-safe.)</p>\n"},{"tags":["java","android","firebase","firebase-authentication","one-time-password"],"answers":[{"tags":[],"owner":{"account_id":22552442,"reputation":16,"user_id":16741363,"display_name":"Humane Bicycle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662646795,"creation_date":1647688615,"answer_id":71537686,"question_id":71536754,"body_markdown":"Permission:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_NUMBERS&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n```\r\nUse code \r\n```\r\npublic String getNumber() { \r\n  \r\n    if (ActivityCompat.checkSelfPermission(this, READ_SMS) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n            ActivityCompat.checkSelfPermission(this, READ_PHONE_NUMBERS) ==\r\n                    PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n            READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\r\n        // Permission check\r\n  \r\n        // Create obj of TelephonyManager and ask for current telephone service\r\n        TelephonyManager telephonyManager = (TelephonyManager) this.getSystemService(Context.TELEPHONY_SERVICE);\r\n        String phoneNumber = telephonyManager.getLine1Number();\r\n  \r\n        \r\n        return phoneNumber;\r\n    } else {\r\n        // Ask for permission\r\n        requestPermission();\r\n    return null;\r\n    }\r\n}\r\n```\r\nThis will return the sim one number if it exists. Now check if it&#39;s equal to the number provided by the user. Store the number in the database and check whether the same sim is inserted at startup.\r\nNote that when you compare the numbers, their format must be the same.    ","title":"how to get otp when sim is inserted in 1st slot only?","body":"<p>Permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_NUMBERS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>Use code</p>\n<pre><code>public String getNumber() { \n  \n    if (ActivityCompat.checkSelfPermission(this, READ_SMS) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n            ActivityCompat.checkSelfPermission(this, READ_PHONE_NUMBERS) ==\n                    PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\n            READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\n        // Permission check\n  \n        // Create obj of TelephonyManager and ask for current telephone service\n        TelephonyManager telephonyManager = (TelephonyManager) this.getSystemService(Context.TELEPHONY_SERVICE);\n        String phoneNumber = telephonyManager.getLine1Number();\n  \n        \n        return phoneNumber;\n    } else {\n        // Ask for permission\n        requestPermission();\n    return null;\n    }\n}\n</code></pre>\n<p>This will return the sim one number if it exists. Now check if it's equal to the number provided by the user. Store the number in the database and check whether the same sim is inserted at startup.\nNote that when you compare the numbers, their format must be the same.</p>\n"}],"owner":{"account_id":22699171,"reputation":23,"user_id":16866850,"display_name":"Shweta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71537686,"answer_count":1,"score":0,"last_activity_date":1662646795,"creation_date":1647680274,"question_id":71536754,"body_markdown":"I am trying to develop an android project where OTP should recive only when number which user trying to register is inserted in first slot. How to do that? is this possible with help of firebase? and also want to autofill that otp with a dialogue box like user wants to read otp automatically or not?\r\n","title":"how to get otp when sim is inserted in 1st slot only?","body":"<p>I am trying to develop an android project where OTP should recive only when number which user trying to register is inserted in first slot. How to do that? is this possible with help of firebase? and also want to autofill that otp with a dialogue box like user wants to read otp automatically or not?</p>\n"},{"tags":["java","string","date"],"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":1,"creation_date":1348099996,"post_id":12504537,"comment_id":16829050,"body_markdown":"So your code doesn&#39;t relate to the question at all? - you don&#39;t show the string to long conversion you claim is causing problems...","body":"So your code doesn&#39;t relate to the question at all? - you don&#39;t show the string to long conversion you claim is causing problems..."},{"owner":{"account_id":285266,"reputation":15856,"user_id":583833,"accept_rate":91,"display_name":"Borgleader"},"score":0,"creation_date":1348100184,"post_id":12504537,"comment_id":16829082,"body_markdown":"@John3136: He&#39;s converting the long (milliseconds) into a date and trying to print it &quot;long -&gt; string&quot;.","body":"@John3136: He&#39;s converting the long (milliseconds) into a date and trying to print it &quot;long -&gt; string&quot;."},{"owner":{"account_id":1223681,"reputation":1863,"user_id":1189763,"display_name":"jseth"},"score":0,"creation_date":1348100303,"post_id":12504537,"comment_id":16829106,"body_markdown":"@John3136,&amp;Borleader I am reading a file,so input is String , which i need to convert to long so that I can convert it to date.","body":"@John3136,&amp;Borleader I am reading a file,so input is String , which i need to convert to long so that I can convert it to date."},{"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"score":2,"creation_date":1348100328,"post_id":12504537,"comment_id":16829110,"body_markdown":"So why are you using `Double.parseDouble()`?","body":"So why are you using <code>Double.parseDouble()</code>?"},{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":1,"creation_date":1348100413,"post_id":12504537,"comment_id":16829123,"body_markdown":"Can you post the file reading part? Your code is perfectly fine, the problem must be in the `String` that you are reading.","body":"Can you post the file reading part? Your code is perfectly fine, the problem must be in the <code>String</code> that you are reading."}],"answers":[{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1440410616,"creation_date":1348100457,"answer_id":12504608,"question_id":12504537,"body_markdown":"&gt;     double tempo=Double.parseDouble(z);\r\n\r\n\r\n\r\nWhy are you parsing your `String` which is supposed to be a `Long` as a `Double`?\r\n\r\nTry using `Long.parseLong`:\r\n\r\n    String x = &quot;1086073200000&quot;\r\n    \r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    long milliSeconds= Long.parseLong(x);\r\n    System.out.println(milliSeconds);\r\n    \r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTimeInMillis(milliSeconds);\r\n    System.out.println(formatter.format(calendar.getTime())); ","title":"Convert millisecond String to Date in Java","body":"<blockquote>\n<pre><code>double tempo=Double.parseDouble(z);\n</code></pre>\n</blockquote>\n\n<p>Why are you parsing your <code>String</code> which is supposed to be a <code>Long</code> as a <code>Double</code>?</p>\n\n<p>Try using <code>Long.parseLong</code>:</p>\n\n<pre><code>String x = \"1086073200000\"\n\nDateFormat formatter = new SimpleDateFormat(\"dd/MM/yyyy\");\n\nlong milliSeconds= Long.parseLong(x);\nSystem.out.println(milliSeconds);\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTimeInMillis(milliSeconds);\nSystem.out.println(formatter.format(calendar.getTime())); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1290181,"reputation":621,"user_id":1242439,"display_name":"enTropy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1348100647,"creation_date":1348100605,"answer_id":12504628,"question_id":12504537,"body_markdown":"I tried this code and it worked for me\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;1086073200000&quot;;\r\n\t\tlong foo = Long.parseLong(x);\r\n\t\tSystem.out.println(x + &quot;\\n&quot; + foo);\r\n\t\t\r\n\t\tDate date = new Date(foo);\r\n\t\tDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\tSystem.out.println(formatter.format(date)); \r\n\t}","title":"Convert millisecond String to Date in Java","body":"<p>I tried this code and it worked for me</p>\n\n<pre><code>public static void main(String[] args) {\n    String x = \"1086073200000\";\n    long foo = Long.parseLong(x);\n    System.out.println(x + \"\\n\" + foo);\n\n    Date date = new Date(foo);\n    DateFormat formatter = new SimpleDateFormat(\"dd/MM/yyyy\");\n    System.out.println(formatter.format(date)); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2643108,"reputation":999,"user_id":2286372,"display_name":"Jaya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549413289,"creation_date":1411365369,"answer_id":25967472,"question_id":12504537,"body_markdown":"    Date date = new Date(milliseconds);","title":"Convert millisecond String to Date in Java","body":"<pre><code>Date date = new Date(milliseconds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515279722,"creation_date":1467163443,"answer_id":38088803,"question_id":12504537,"body_markdown":"# tl;dr\r\n\r\n    Instant.ofEpochMilli ( 1_346_482_800_000L );\r\n\r\n&gt;2012-09-01T07:00:00Z\r\n\r\n\r\n# Details\r\n\r\nThe [accepted answer by Tim Bender][1] and [other answer by enTropy][2] are both correct. You were parsing your input string as a `double` rather than as a `long`.\r\n\r\n# java.time\r\n\r\nAlso, the Question and Answers are using old outmoded date-time classes. These are now supplanted by the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package. See [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). Much of the java.time functionality has been back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to Android in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\n## Count from epoch\r\n\r\nThe java.time classes count from the same [epoch][3] as the old classes, first moment of 1970 in [UTC][4]. So we can start the same way, with parsing the input as a `long`.\r\n\r\n    String input = &quot;1086073200000&quot;;\r\n    long millis = Long.parseLong ( input );\r\n\r\n## UTC\r\n\r\nUse that `long` number to get an [`Instant`][5] object. This class represents a moment on the time line in UTC, similar in concept to the old `java.util.Date`. But the new classes have a resolution up to [nanoseconds][6] whereas the old are limited to [milliseconds][7]. Fortunately the `Instant` class has a convenient factory method taking a count of milliseconds-since-epoch, [`ofEpochMilli`][8].\r\n\r\n    Instant instant = Instant.ofEpochMilli ( millis );\r\n\r\n## Time zone\r\n\r\nNow assign a time zone ([`ZoneId`][9]) to get a [`ZonedDateTime`][10] object. This is similar in concept to a `java.util.Calendar` in that it represents a moment on the timeline with a specific assigned time zone.\r\n\r\nAlways specify the desired/expected time zone. Though optional, never omit the time zone as you did in your use of `Calendar` in the Question. If omitted, the JVM’s current default time zone is silently applied. This default can vary from machine to machine, and from time to time, even *during* runtime(!). Better to specify than assume.\r\n\r\n    ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant ( instant , zoneId );\r\n\r\nDump to console. Notice how the hour-of-day is `07` in UTC but `03` in Qu&#233;bec time as that zone had an offset of `-04:00`, four hours behind UTC, during the summer under [Daylight Saving Time (DST)][11].\r\n\r\n    System.out.println ( &quot;input: &quot; + input + &quot; | millis: &quot; + millis + &quot; | instant: &quot; + instant + &quot; | zdt: &quot; + zdt );\r\n\r\n&gt;input: 1086073200000 | millis: 1086073200000 | instant: 2004-06-01T07:00:00Z | zdt: 2004-06-01T03:00-04:00[America/Montreal]\r\n\r\n## A String is not a date-time\r\n\r\n&gt;How do I preserve the entire String.\r\n\r\nDo not confuse a String of text describing the value of a date-time with the date-time itself. A date-time object can *generate* a String to represent its value, but that String is separate and distinct from the date-time object.\r\n\r\nTo generate a String from a java.time object such as `ZonedDateTime`, either:\r\n\r\n - Call [`toString`][12] to get a String in standard [ISO 8601][13] format.&lt;br /&gt;(as seen in example code above)\r\n - Use [`DateTimeFormatter`][14] to:&lt;br /&gt;(a) Define your own custom format, or&lt;br /&gt;(b) Automatically localize to the user’s human language and cultural norms.\r\n\r\nSearch Stack Overflow for many other Questions and Answers on generating formatted Strings from `DateTimeFormatter`.\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12504608/642706\r\n  [2]: https://stackoverflow.com/a/12504628/642706\r\n  [3]: https://en.wikipedia.org/wiki/Epoch_(reference_date)\r\n  [4]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://en.wikipedia.org/wiki/Millisecond\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [10]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [11]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [12]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toString--\r\n  [13]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [14]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Convert millisecond String to Date in Java","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.ofEpochMilli ( 1_346_482_800_000L );\n</code></pre>\n\n<blockquote>\n  <p>2012-09-01T07:00:00Z</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/12504608/642706\">accepted answer by Tim Bender</a> and <a href=\"https://stackoverflow.com/a/12504628/642706\">other answer by enTropy</a> are both correct. You were parsing your input string as a <code>double</code> rather than as a <code>long</code>.</p>\n\n<h1>java.time</h1>\n\n<p>Also, the Question and Answers are using old outmoded date-time classes. These are now supplanted by the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package. See <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. Much of the java.time functionality has been back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to Android in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n\n<h2>Count from epoch</h2>\n\n<p>The java.time classes count from the same <a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)\" rel=\"nofollow noreferrer\">epoch</a> as the old classes, first moment of 1970 in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>. So we can start the same way, with parsing the input as a <code>long</code>.</p>\n\n<pre><code>String input = \"1086073200000\";\nlong millis = Long.parseLong ( input );\n</code></pre>\n\n<h2>UTC</h2>\n\n<p>Use that <code>long</code> number to get an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> object. This class represents a moment on the time line in UTC, similar in concept to the old <code>java.util.Date</code>. But the new classes have a resolution up to <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> whereas the old are limited to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a>. Fortunately the <code>Instant</code> class has a convenient factory method taking a count of milliseconds-since-epoch, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"nofollow noreferrer\"><code>ofEpochMilli</code></a>.</p>\n\n<pre><code>Instant instant = Instant.ofEpochMilli ( millis );\n</code></pre>\n\n<h2>Time zone</h2>\n\n<p>Now assign a time zone (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a>) to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> object. This is similar in concept to a <code>java.util.Calendar</code> in that it represents a moment on the timeline with a specific assigned time zone.</p>\n\n<p>Always specify the desired/expected time zone. Though optional, never omit the time zone as you did in your use of <code>Calendar</code> in the Question. If omitted, the JVM’s current default time zone is silently applied. This default can vary from machine to machine, and from time to time, even <em>during</em> runtime(!). Better to specify than assume.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of ( \"America/Montreal\" );\nZonedDateTime zdt = ZonedDateTime.ofInstant ( instant , zoneId );\n</code></pre>\n\n<p>Dump to console. Notice how the hour-of-day is <code>07</code> in UTC but <code>03</code> in Québec time as that zone had an offset of <code>-04:00</code>, four hours behind UTC, during the summer under <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>.</p>\n\n<pre><code>System.out.println ( \"input: \" + input + \" | millis: \" + millis + \" | instant: \" + instant + \" | zdt: \" + zdt );\n</code></pre>\n\n<blockquote>\n  <p>input: 1086073200000 | millis: 1086073200000 | instant: 2004-06-01T07:00:00Z | zdt: 2004-06-01T03:00-04:00[America/Montreal]</p>\n</blockquote>\n\n<h2>A String is not a date-time</h2>\n\n<blockquote>\n  <p>How do I preserve the entire String.</p>\n</blockquote>\n\n<p>Do not confuse a String of text describing the value of a date-time with the date-time itself. A date-time object can <em>generate</em> a String to represent its value, but that String is separate and distinct from the date-time object.</p>\n\n<p>To generate a String from a java.time object such as <code>ZonedDateTime</code>, either:</p>\n\n<ul>\n<li>Call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a> to get a String in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format.<br />(as seen in example code above)</li>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> to:<br />(a) Define your own custom format, or<br />(b) Automatically localize to the user’s human language and cultural norms.</li>\n</ul>\n\n<p>Search Stack Overflow for many other Questions and Answers on generating formatted Strings from <code>DateTimeFormatter</code>.</p>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662646793,"creation_date":1662646793,"answer_id":73650622,"question_id":12504537,"body_markdown":"Just do this ::::\r\n\r\n    import java.util.Date;\r\n\r\n    class HelloWorld {\r\n        public static void main(String[] args)\r\n        {\r\n            String str = &quot;1346482800000&quot;;\r\n            Long tmStmp = Long.parseLong(str);\r\n            Date date = new Date(tmStmp);\r\n            System.out.println(date);\r\n        }\r\n    }","title":"Convert millisecond String to Date in Java","body":"<p>Just do this ::::</p>\n<pre><code>import java.util.Date;\n\nclass HelloWorld {\n    public static void main(String[] args)\n    {\n        String str = &quot;1346482800000&quot;;\n        Long tmStmp = Long.parseLong(str);\n        Date date = new Date(tmStmp);\n        System.out.println(date);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1223681,"reputation":1863,"user_id":1189763,"display_name":"jseth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100242,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":12504608,"answer_count":5,"score":19,"last_activity_date":1662646793,"creation_date":1348099860,"question_id":12504537,"body_markdown":"i have a String x = &quot;1086073200000&quot; . This is basically millisecond which I need to convert to a Date.\r\n\r\nTo convert i am using \r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    long tempo1=Long.parseLong(x);\r\n    System.out.println(tempo1);  // output is 86073200000 instead of the whole thing\r\n    long milliSeconds=1346482800000L;\r\n     \r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTimeInMillis(milliSeconds);\r\n    System.out.println(formatter.format(calendar.getTime())); \r\n\r\nThe problem is when i convert the string x to long , some digits go away due to the limit on the size of long.\r\n\r\nHow do I preserve the entire String.\r\n\r\nTHanks.","title":"Convert millisecond String to Date in Java","body":"<p>i have a String x = \"1086073200000\" . This is basically millisecond which I need to convert to a Date.</p>\n\n<p>To convert i am using </p>\n\n<pre><code>DateFormat formatter = new SimpleDateFormat(\"dd/MM/yyyy\");\n\nlong tempo1=Long.parseLong(x);\nSystem.out.println(tempo1);  // output is 86073200000 instead of the whole thing\nlong milliSeconds=1346482800000L;\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTimeInMillis(milliSeconds);\nSystem.out.println(formatter.format(calendar.getTime())); \n</code></pre>\n\n<p>The problem is when i convert the string x to long , some digits go away due to the limit on the size of long.</p>\n\n<p>How do I preserve the entire String.</p>\n\n<p>THanks.</p>\n"},{"tags":["java","mysql","spring","spring-boot","configuration"],"comments":[{"owner":{"account_id":16363757,"reputation":1,"user_id":11818713,"display_name":"John"},"score":0,"creation_date":1662646051,"post_id":73650427,"comment_id":130058041,"body_markdown":"My pom file : &lt;dependency&gt;\n&lt;groupId&gt;com.demo2&lt;/groupId&gt;\n&lt;artifactId&gt;demo2&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.demo3&lt;/groupId&gt;\n&lt;artifactId&gt;demo3&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;  My Application file:\n\n\n@SpringBootApplication\n@ComponentScan(basePackages = { \n\t\t&quot;com.demo2.*&quot;, &quot;com.demo3.*&quot;,&quot;com.demo1.*&quot;\n})\n@EnableJpaRepositories(basePackages = {\n\t &#160; &#160;&quot;com.demo2.*&quot;, &quot;com.demo3.*&quot;,&quot;com.demo1.*&quot;\n})\n@EntityScan(basePackages = {\n\t\t&quot;com.demo2.*&quot;, &quot;com.demo3.*&quot;,&quot;com.demo1.*&quot;\n})\npublic class Demo1Application","body":"My pom file : &lt;dependency&gt; &lt;groupId&gt;com.demo2&lt;/groupId&gt; &lt;artifactId&gt;demo2&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.demo3&lt;/groupId&gt; &lt;artifactId&gt;demo3&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;/dependency&gt;  My Application file:   @SpringBootApplication @ComponentScan(basePackages = {  \t\t&quot;com.demo2.*&quot;, &quot;com.demo3.*&quot;,&quot;com.demo1.*&quot; }) @EnableJpaRepositories(basePackages = { \t    &quot;com.demo2.*&quot;, &quot;com.demo3.*&quot;,&quot;com.demo1.*&quot; }) @EntityScan(basePackages = { \t\t&quot;com.demo2.*&quot;, &quot;com.demo3.*&quot;,&quot;com.demo1.*&quot; }) public class Demo1Application"},{"owner":{"account_id":3388916,"reputation":1080,"user_id":7537885,"display_name":"Hermann Steidel"},"score":0,"creation_date":1662648289,"post_id":73650427,"comment_id":130058951,"body_markdown":"It&#39;s not really clear to me, can you elaborate on what you mean by &quot;if the call is going for Demo N Project&quot; ?? What call? What do the jars contain? Just data layer code? The architecture context is missing  I think.","body":"It&#39;s not really clear to me, can you elaborate on what you mean by &quot;if the call is going for Demo N Project&quot; ?? What call? What do the jars contain? Just data layer code? The architecture context is missing  I think."},{"owner":{"account_id":16363757,"reputation":1,"user_id":11818713,"display_name":"John"},"score":0,"creation_date":1662653882,"post_id":73650427,"comment_id":130061291,"body_markdown":"@Hermann Steidel\nYeah it&#39;s a data layer code. Jars would contain the functional implementation. That would interact with the database.","body":"@Hermann Steidel Yeah it&#39;s a data layer code. Jars would contain the functional implementation. That would interact with the database."},{"owner":{"account_id":3388916,"reputation":1080,"user_id":7537885,"display_name":"Hermann Steidel"},"score":0,"creation_date":1662654919,"post_id":73650427,"comment_id":130061646,"body_markdown":"So the demo2 and demo3 jar are always deployed with demo1? My point is, is it possible to run Demo1 and only use Demo3, while someone else used Demo1 and Demo2 only? Or is Demo1 always going to utilize Demo2 and Demo3 based on the &quot;call&quot; (whatever that is)?","body":"So the demo2 and demo3 jar are always deployed with demo1? My point is, is it possible to run Demo1 and only use Demo3, while someone else used Demo1 and Demo2 only? Or is Demo1 always going to utilize Demo2 and Demo3 based on the &quot;call&quot; (whatever that is)?"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1662666543,"post_id":73650427,"comment_id":130065177,"body_markdown":"All the clarifications including the pom code should be added to the initial post (use edit). Please see the guide [ask].","body":"All the clarifications including the pom code should be added to the initial post (use edit). Please see the guide <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":16363757,"reputation":1,"user_id":11818713,"display_name":"John"},"score":0,"creation_date":1662730961,"post_id":73650427,"comment_id":130080367,"body_markdown":"Demo1 is the base project. N no of projects will come and add as a jar under Demo1 project. The demo1 project is like a scheduler platform. This project will automatically triggers and picks the corresponding jar based on some logical condition. My issue is how to deal with application.properties when we have multiple jars. Each jars might have different configurations. When ever if base projects picks demo2 application it has to load his application.properties. similar to remaining jar as well","body":"Demo1 is the base project. N no of projects will come and add as a jar under Demo1 project. The demo1 project is like a scheduler platform. This project will automatically triggers and picks the corresponding jar based on some logical condition. My issue is how to deal with application.properties when we have multiple jars. Each jars might have different configurations. When ever if base projects picks demo2 application it has to load his application.properties. similar to remaining jar as well"}],"owner":{"account_id":16363757,"reputation":1,"user_id":11818713,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662646011,"creation_date":1662646011,"question_id":73650427,"body_markdown":"I am having 3 spring boot projects. [Demo1, Demo2 and Demo3 .]\r\n\r\nDemo1 is the base project.\r\n \r\nFor Demo2 and Demo3, I will generate the jar and add it in the Demo1 project.\r\n\r\nSo Demo1, Demo2 and Demo3  all three projects have different application.properties under profiles.\r\n\r\nFor example,\r\n\r\nDemo2 might have oracle database configuration under application.properties.\r\nDemo3 might have mongodb database configuration under application.properties\r\n\r\nDemo1 might have mysql database configuration under application.properties.\r\n\r\nMy scenario is like, I am creating a scheduler platform application.\r\n\r\nN no of jars will come and add under Demo1 project. So the Demo1 project will automatically run based on cron expressions.\r\n\r\nIt will automatically trigger the jars which you have added.\r\n\r\nSo if the call is going for Demo2 Project, it has to pick Demo2 application properties.\r\n\r\nIf the call is going for Demo3 Project, It has to pick Demo3 application properties.\r\n\r\nRight now the Demo1 project is not recognizing the application.properties for different jars.\r\n\r\nOnly Demo2 project application.properties is loading, Demo1 and Demo3 properties are not loaded.\r\n\r\nI need a solution for my scenario.\r\n   ","title":"How to run spring boot application with Multiple External Configuration Files based on jars","body":"<p>I am having 3 spring boot projects. [Demo1, Demo2 and Demo3 .]</p>\n<p>Demo1 is the base project.</p>\n<p>For Demo2 and Demo3, I will generate the jar and add it in the Demo1 project.</p>\n<p>So Demo1, Demo2 and Demo3  all three projects have different application.properties under profiles.</p>\n<p>For example,</p>\n<p>Demo2 might have oracle database configuration under application.properties.\nDemo3 might have mongodb database configuration under application.properties</p>\n<p>Demo1 might have mysql database configuration under application.properties.</p>\n<p>My scenario is like, I am creating a scheduler platform application.</p>\n<p>N no of jars will come and add under Demo1 project. So the Demo1 project will automatically run based on cron expressions.</p>\n<p>It will automatically trigger the jars which you have added.</p>\n<p>So if the call is going for Demo2 Project, it has to pick Demo2 application properties.</p>\n<p>If the call is going for Demo3 Project, It has to pick Demo3 application properties.</p>\n<p>Right now the Demo1 project is not recognizing the application.properties for different jars.</p>\n<p>Only Demo2 project application.properties is loading, Demo1 and Demo3 properties are not loaded.</p>\n<p>I need a solution for my scenario.</p>\n"},{"tags":["java","spring","spring-jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":4,"creation_date":1403113742,"post_id":9361538,"comment_id":37537733,"body_markdown":"I can see that this question is quite popular now and it has already been more than 2 years since this was asked. If anyone thinks there is an even nicer way to call stored procedures now that Spring 4 is out, please post an answer or suggest an edit.","body":"I can see that this question is quite popular now and it has already been more than 2 years since this was asked. If anyone thinks there is an even nicer way to call stored procedures now that Spring 4 is out, please post an answer or suggest an edit."}],"answers":[{"tags":[],"owner":{"account_id":218893,"reputation":11735,"user_id":475456,"accept_rate":69,"display_name":"Infeligo"},"down_vote_count":1,"up_vote_count":112,"is_accepted":true,"score":111,"last_activity_date":1329744050,"creation_date":1329744050,"answer_id":9361835,"question_id":9361538,"body_markdown":"There are a number of ways to call stored procedures in Spring.\r\n\r\nIf you use `CallableStatementCreator` to declare parameters, you will be using Java&#39;s standard interface of `CallableStatement`, i.e register out parameters and set them separately. Using `SqlParameter` abstraction will make your code cleaner.\r\n\r\nI recommend you looking at `SimpleJdbcCall`. It may be used like this:\r\n\r\n    SimpleJdbcCall jdbcCall = new SimpleJdbcCall(jdbcTemplate)\r\n        .withSchemaName(schema)\r\n        .withCatalogName(package)\r\n        .withProcedureName(procedure)();\r\n    ...\r\n    jdbcCall.addDeclaredParameter(new SqlParameter(paramName, OracleTypes.NUMBER));\r\n    ...\r\n    jdbcCall.execute(callParams);\r\n\r\nFor simple procedures you may use `jdbcTemplate`&#39;s `update` method:\r\n\r\n    jdbcTemplate.update(&quot;call SOME_PROC (?, ?)&quot;, param1, param2);\r\n\r\n","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>There are a number of ways to call stored procedures in Spring.</p>\n\n<p>If you use <code>CallableStatementCreator</code> to declare parameters, you will be using Java's standard interface of <code>CallableStatement</code>, i.e register out parameters and set them separately. Using <code>SqlParameter</code> abstraction will make your code cleaner.</p>\n\n<p>I recommend you looking at <code>SimpleJdbcCall</code>. It may be used like this:</p>\n\n<pre><code>SimpleJdbcCall jdbcCall = new SimpleJdbcCall(jdbcTemplate)\n    .withSchemaName(schema)\n    .withCatalogName(package)\n    .withProcedureName(procedure)();\n...\njdbcCall.addDeclaredParameter(new SqlParameter(paramName, OracleTypes.NUMBER));\n...\njdbcCall.execute(callParams);\n</code></pre>\n\n<p>For simple procedures you may use <code>jdbcTemplate</code>'s <code>update</code> method:</p>\n\n<pre><code>jdbcTemplate.update(\"call SOME_PROC (?, ?)\", param1, param2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2845047,"reputation":229,"user_id":2443690,"display_name":"VivekDandale"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1476012009,"creation_date":1370108290,"answer_id":16875395,"question_id":9361538,"body_markdown":"I generally prefer to extend Spring based `StoredProcedure` class to execute stored procedures.\r\n\r\n1. You need to create your class constructor and need to call `StoredProcedure` class constructor in it. This super class constructor accepts DataSource and procedure name. \r\n  \r\n  Example code:\r\n\r\n        public class ProcedureExecutor extends StoredProcedure {\r\n              public ProcedureExecutor(DataSource ds, String funcNameorSPName) {\r\n        \t\tsuper(ds, funcNameorSPName);\r\n        \t\tdeclareParameter(new SqlOutParameter(&quot;v_Return&quot;, Types.VARCHAR, null, new SqlReturnType() {\r\n            \t\t\tpublic Object getTypeValue(CallableStatement cs,\r\n                             int paramIndex, int sqlType, String typeName) throws SQLException {\r\n        \t\t\t\tfinal String str = cs.getString(paramIndex);\r\n        \t\t\t\treturn str;\r\n        \t\t\t}\t\t\t\r\n        \t\t}));    \r\n        \t\tdeclareParameter(new SqlParameter(&quot;your parameter&quot;,\r\n        \t\t\t\tTypes.VARCHAR));\r\n        \t\t//set below param true if you want to call database function \r\n        \t\tsetFunction(true);\r\n        \t\tcompile();\r\n        \t    }\r\n\r\n2. Override execute method of stored procedure call as below\r\n\r\n        public Map&lt;String, Object&gt; execute(String someParams) {\r\n                     final Map&lt;String, Object&gt; inParams = new HashMap&lt;String, Object&gt;(8);\r\n                     inParams.put(&quot;my param&quot;, &quot;some value&quot;);\r\n                     Map outMap = execute(inParams);\r\n                     System.out.println(&quot;outMap:&quot; + outMap);\r\n                     return outMap;\r\n                 }\r\n\r\nHope this helps you.","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>I generally prefer to extend Spring based <code>StoredProcedure</code> class to execute stored procedures.</p>\n\n<ol>\n<li><p>You need to create your class constructor and need to call <code>StoredProcedure</code> class constructor in it. This super class constructor accepts DataSource and procedure name. </p>\n\n<p>Example code:</p>\n\n<pre><code>public class ProcedureExecutor extends StoredProcedure {\n      public ProcedureExecutor(DataSource ds, String funcNameorSPName) {\n        super(ds, funcNameorSPName);\n        declareParameter(new SqlOutParameter(\"v_Return\", Types.VARCHAR, null, new SqlReturnType() {\n                public Object getTypeValue(CallableStatement cs,\n                     int paramIndex, int sqlType, String typeName) throws SQLException {\n                final String str = cs.getString(paramIndex);\n                return str;\n            }           \n        }));    \n        declareParameter(new SqlParameter(\"your parameter\",\n                Types.VARCHAR));\n        //set below param true if you want to call database function \n        setFunction(true);\n        compile();\n        }\n</code></pre></li>\n<li><p>Override execute method of stored procedure call as below</p>\n\n<pre><code>public Map&lt;String, Object&gt; execute(String someParams) {\n             final Map&lt;String, Object&gt; inParams = new HashMap&lt;String, Object&gt;(8);\n             inParams.put(\"my param\", \"some value\");\n             Map outMap = execute(inParams);\n             System.out.println(\"outMap:\" + outMap);\n             return outMap;\n         }\n</code></pre></li>\n</ol>\n\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":9668572,"reputation":1687,"user_id":7227233,"display_name":"0190198"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1482961811,"creation_date":1480975347,"answer_id":40984167,"question_id":9361538,"body_markdown":"Here are the ways to call the stored procedures from java\r\n\r\n**1. Using CallableStatement:**\r\n\r\n \r\n\r\n     connection = jdbcTemplate.getDataSource().getConnection();\r\n      CallableStatement callableStatement = connection.prepareCall(&quot;{call STORED_PROCEDURE_NAME(?, ?, ?)}&quot;);\r\n      callableStatement.setString(1, &quot;FirstName&quot;);\r\n      callableStatement.setString(2, &quot; LastName&quot;);\r\n      callableStatement.registerOutParameter(3, Types.VARCHAR);\r\n      callableStatement.executeUpdate();\r\n\r\nHere we externally manage the resource closing\r\n\r\n**2. Using CallableStatementCreator**\r\n\r\n\r\n   \r\n\r\n     List paramList = new ArrayList();\r\n        paramList.add(new SqlParameter(Types.VARCHAR));\r\n        paramList.add(new SqlParameter(Types.VARCHAR));\r\n        paramList.add(new SqlOutParameter(&quot;msg&quot;, Types.VARCHAR));\r\n        \r\n        Map&lt;String, Object&gt; resultMap = jdbcTemplate.call(new CallableStatementCreator() {\r\n        \r\n        @Override\r\n        public CallableStatement createCallableStatement(Connection connection)\r\n        throws SQLException {\r\n        \r\n        CallableStatement callableStatement = connection.prepareCall(&quot;{call STORED_PROCEDURE_NAME(?, ?, ?)}&quot;);\r\n        callableStatement.setString(1, &quot;FirstName&quot;);\r\n                callableStatement.setString(2, &quot; LastName&quot;);\r\n                callableStatement.registerOutParameter(3, Types.VARCHAR);\r\n        return callableStatement;\r\n        \r\n        }\r\n        }, paramList);\r\n\r\n**3. Use SimpleJdbcCall:**\r\n\r\n    SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\r\n    \r\n    .withProcedureName(&quot;STORED_PROCEDURE_NAME&quot;);\r\n    \r\n    Map&lt;String, Object&gt; inParamMap = new HashMap&lt;String, Object&gt;();\r\n    inParamMap.put(&quot;firstName&quot;, &quot;FirstNameValue&quot;);\r\n    inParamMap.put(&quot;lastName&quot;, &quot;LastNameValue&quot;);\r\n    SqlParameterSource in = new MapSqlParameterSource(inParamMap);\r\n    \r\n    \r\n    Map&lt;String, Object&gt; simpleJdbcCallResult = simpleJdbcCall.execute(in);\r\n    System.out.println(simpleJdbcCallResult);\r\n\r\n\r\n**4. Use StoredProcedure class of org.springframework.jdbc.object**\r\n\r\n    The Code:\r\n    First Create subclass of StoredProcedure: MyStoredProcedure\r\n    \r\n    class MyStoredProcedure extends StoredProcedure {\r\n    \r\n    public MyStoredProcedure(JdbcTemplate jdbcTemplate, String name) {\r\n    \r\n    super(jdbcTemplate, name);\r\n    setFunction(false);\r\n    \r\n    }\r\n    \r\n    }\r\n    \r\n    Use MyStoredProcedure to call database stored procedure:\r\n    \r\n    \r\n    //Pass jdbcTemlate and name of the stored Procedure.\r\n    MyStoredProcedure myStoredProcedure = new MyStoredProcedure(jdbcTemplate, &quot;PROC_TEST&quot;);\r\n    \r\n    //Sql parameter mapping\r\n    SqlParameter fNameParam = new SqlParameter(&quot;fName&quot;, Types.VARCHAR);\r\n    SqlParameter lNameParam = new SqlParameter(&quot;lName&quot;, Types.VARCHAR);\r\n    SqlOutParameter msgParam = new SqlOutParameter(&quot;msg&quot;, Types.VARCHAR);\r\n    SqlParameter[] paramArray = {fNameParam, lNameParam, msgParam};\r\n    \r\n    \r\n    myStoredProcedure.setParameters(paramArray);\r\n    myStoredProcedure.compile();\r\n    \r\n    \r\n    //Call stored procedure\r\n    Map storedProcResult = myStoredProcedure.execute(&quot;FirstNameValue&quot;, &quot; LastNameValue&quot;);\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://lalitjc.wordpress.com/2013/07/02/different-ways-of-calling-stored-procedure-using-spring/","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>Here are the ways to call the stored procedures from java</p>\n\n<p><strong>1. Using CallableStatement:</strong></p>\n\n<pre><code> connection = jdbcTemplate.getDataSource().getConnection();\n  CallableStatement callableStatement = connection.prepareCall(\"{call STORED_PROCEDURE_NAME(?, ?, ?)}\");\n  callableStatement.setString(1, \"FirstName\");\n  callableStatement.setString(2, \" LastName\");\n  callableStatement.registerOutParameter(3, Types.VARCHAR);\n  callableStatement.executeUpdate();\n</code></pre>\n\n<p>Here we externally manage the resource closing</p>\n\n<p><strong>2. Using CallableStatementCreator</strong></p>\n\n<pre><code> List paramList = new ArrayList();\n    paramList.add(new SqlParameter(Types.VARCHAR));\n    paramList.add(new SqlParameter(Types.VARCHAR));\n    paramList.add(new SqlOutParameter(\"msg\", Types.VARCHAR));\n\n    Map&lt;String, Object&gt; resultMap = jdbcTemplate.call(new CallableStatementCreator() {\n\n    @Override\n    public CallableStatement createCallableStatement(Connection connection)\n    throws SQLException {\n\n    CallableStatement callableStatement = connection.prepareCall(\"{call STORED_PROCEDURE_NAME(?, ?, ?)}\");\n    callableStatement.setString(1, \"FirstName\");\n            callableStatement.setString(2, \" LastName\");\n            callableStatement.registerOutParameter(3, Types.VARCHAR);\n    return callableStatement;\n\n    }\n    }, paramList);\n</code></pre>\n\n<p><strong>3. Use SimpleJdbcCall:</strong></p>\n\n<pre><code>SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\n\n.withProcedureName(\"STORED_PROCEDURE_NAME\");\n\nMap&lt;String, Object&gt; inParamMap = new HashMap&lt;String, Object&gt;();\ninParamMap.put(\"firstName\", \"FirstNameValue\");\ninParamMap.put(\"lastName\", \"LastNameValue\");\nSqlParameterSource in = new MapSqlParameterSource(inParamMap);\n\n\nMap&lt;String, Object&gt; simpleJdbcCallResult = simpleJdbcCall.execute(in);\nSystem.out.println(simpleJdbcCallResult);\n</code></pre>\n\n<p><strong>4. Use StoredProcedure class of org.springframework.jdbc.object</strong></p>\n\n<pre><code>The Code:\nFirst Create subclass of StoredProcedure: MyStoredProcedure\n\nclass MyStoredProcedure extends StoredProcedure {\n\npublic MyStoredProcedure(JdbcTemplate jdbcTemplate, String name) {\n\nsuper(jdbcTemplate, name);\nsetFunction(false);\n\n}\n\n}\n\nUse MyStoredProcedure to call database stored procedure:\n\n\n//Pass jdbcTemlate and name of the stored Procedure.\nMyStoredProcedure myStoredProcedure = new MyStoredProcedure(jdbcTemplate, \"PROC_TEST\");\n\n//Sql parameter mapping\nSqlParameter fNameParam = new SqlParameter(\"fName\", Types.VARCHAR);\nSqlParameter lNameParam = new SqlParameter(\"lName\", Types.VARCHAR);\nSqlOutParameter msgParam = new SqlOutParameter(\"msg\", Types.VARCHAR);\nSqlParameter[] paramArray = {fNameParam, lNameParam, msgParam};\n\n\nmyStoredProcedure.setParameters(paramArray);\nmyStoredProcedure.compile();\n\n\n//Call stored procedure\nMap storedProcResult = myStoredProcedure.execute(\"FirstNameValue\", \" LastNameValue\");\n</code></pre>\n\n<p><a href=\"https://lalitjc.wordpress.com/2013/07/02/different-ways-of-calling-stored-procedure-using-spring/\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":10449228,"reputation":41,"user_id":7703388,"display_name":"Aditee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493720496,"creation_date":1493720496,"answer_id":43735510,"question_id":9361538,"body_markdown":"One more way to call stored procedure is:\r\n\r\n\r\n    sql=&quot;execute Procedure_Name ?&quot;;\r\n    Object search[]={Id};\r\n    List&lt;ClientInvestigateDTO&gt; client=jdbcTemplateObject.query(sql,search,new \r\n       ClientInvestigateMapper());\r\n\r\nIn this example &#39;ClientInvestigateDTO&#39; is the POJO class and &#39;ClientInvestigateMapper&#39; is the mapper class.&#39;client&#39; stores all the result you get on calling the stored procedure.","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>One more way to call stored procedure is:</p>\n\n<pre><code>sql=\"execute Procedure_Name ?\";\nObject search[]={Id};\nList&lt;ClientInvestigateDTO&gt; client=jdbcTemplateObject.query(sql,search,new \n   ClientInvestigateMapper());\n</code></pre>\n\n<p>In this example 'ClientInvestigateDTO' is the POJO class and 'ClientInvestigateMapper' is the mapper class.'client' stores all the result you get on calling the stored procedure.</p>\n"},{"tags":[],"owner":{"account_id":16787837,"reputation":31,"user_id":12136322,"display_name":"Sri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648209581,"creation_date":1648209268,"answer_id":71616577,"question_id":9361538,"body_markdown":"Using **jdbcTemplate.query()** to call a procedure **does not catch errors** raised by the procedure in some cases. I have seen this behavior on MS SqlServer where a proceudure was raising an error using \r\n[RAISEERROR][1] in case of an error and calling the proc using the query method was ignoring the error. \r\n\r\nI switched to SimpleJdbcTemplate for procedure calls and that works.\r\nNote : this might not apply to procedures. In my case the proc was doing a select to return data and after that if it had not found any data it would raise an error. Using jdbcTemplate.query woudld give me back an empty data set with no error.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/language-elements/raiserror-transact-sql?view=sql-server-ver15","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>Using <strong>jdbcTemplate.query()</strong> to call a procedure <strong>does not catch errors</strong> raised by the procedure in some cases. I have seen this behavior on MS SqlServer where a proceudure was raising an error using\n<a href=\"https://learn.microsoft.com/en-us/sql/t-sql/language-elements/raiserror-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">RAISEERROR</a> in case of an error and calling the proc using the query method was ignoring the error.</p>\n<p>I switched to SimpleJdbcTemplate for procedure calls and that works.\nNote : this might not apply to procedures. In my case the proc was doing a select to return data and after that if it had not found any data it would raise an error. Using jdbcTemplate.query woudld give me back an empty data set with no error.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661351332,"creation_date":1661351332,"answer_id":73474937,"question_id":9361538,"body_markdown":"I&#39;m replying to your comment:\r\n\r\n&gt; Or, is there a much better way to call stored procedures (using Spring JDBC Template) than what I have come across so far?\r\n\r\nAnd to a comment from the comment section:\r\n\r\n&gt; If anyone thinks there is an even nicer way to call stored procedures now that Spring 4 is out\r\n\r\nIf you&#39;re open to using a third party library, [jOOQ has a code generator][1] that can be used to [generate stubs for all of your stored procedures, functions, packages, UDTs][2], etc.\r\n\r\nIn your particular case, there would be a `Mypkg` class with a `doSomething()` method that you could call like this:\r\n\r\n```java\r\nint id = Mypkg.doSomething(\r\n    configuration, // This wraps your JDBC connection\r\n    name, date\r\n);\r\n```\r\n\r\nThat&#39;s it. All the plumbing to JDBC is being taken care of, which is especially nice when you have UDTs (Oracle `OBJECT` or `TABLE` types, `PACKAGE` types), or [implicit cursors][3].\r\n\r\nYou said that you&#39;d like to use Spring JDBC Template, but you can obviously just extract the JDBC `Connection` from it and supply that to jOOQ, so technically, you&#39;ll still be using Spring JDBC Template...\r\n\r\nDisclaimer: I work for the company behind jOOQ\r\n\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\r\n  [2]: https://blog.jooq.org/the-best-way-to-call-stored-procedures-from-java-with-jooq/\r\n  [3]: https://blog.jooq.org/how-to-fetch-oracle-12c-implicit-cursors-with-jdbc-and-jooq/","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>I'm replying to your comment:</p>\n<blockquote>\n<p>Or, is there a much better way to call stored procedures (using Spring JDBC Template) than what I have come across so far?</p>\n</blockquote>\n<p>And to a comment from the comment section:</p>\n<blockquote>\n<p>If anyone thinks there is an even nicer way to call stored procedures now that Spring 4 is out</p>\n</blockquote>\n<p>If you're open to using a third party library, <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">jOOQ has a code generator</a> that can be used to <a href=\"https://blog.jooq.org/the-best-way-to-call-stored-procedures-from-java-with-jooq/\" rel=\"nofollow noreferrer\">generate stubs for all of your stored procedures, functions, packages, UDTs</a>, etc.</p>\n<p>In your particular case, there would be a <code>Mypkg</code> class with a <code>doSomething()</code> method that you could call like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = Mypkg.doSomething(\n    configuration, // This wraps your JDBC connection\n    name, date\n);\n</code></pre>\n<p>That's it. All the plumbing to JDBC is being taken care of, which is especially nice when you have UDTs (Oracle <code>OBJECT</code> or <code>TABLE</code> types, <code>PACKAGE</code> types), or <a href=\"https://blog.jooq.org/how-to-fetch-oracle-12c-implicit-cursors-with-jdbc-and-jooq/\" rel=\"nofollow noreferrer\">implicit cursors</a>.</p>\n<p>You said that you'd like to use Spring JDBC Template, but you can obviously just extract the JDBC <code>Connection</code> from it and supply that to jOOQ, so technically, you'll still be using Spring JDBC Template...</p>\n<p>Disclaimer: I work for the company behind jOOQ</p>\n"},{"tags":[],"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662645557,"creation_date":1662645557,"answer_id":73650322,"question_id":9361538,"body_markdown":"In case of DML procedure &amp; no return variables I used:\r\n\r\n    Map params = ImmutableMap.builder().put(&quot;p1&quot;, p1).put(&quot;p2&quot;, p2).build();\r\n    jdbcTemplate.update(&quot;{ call pack.proc( :p1, :p1) }&quot;, params);\r\n\r\nPS In case there are return variables better use functions instead","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>In case of DML procedure &amp; no return variables I used:</p>\n<pre><code>Map params = ImmutableMap.builder().put(&quot;p1&quot;, p1).put(&quot;p2&quot;, p2).build();\njdbcTemplate.update(&quot;{ call pack.proc( :p1, :p1) }&quot;, params);\n</code></pre>\n<p>PS In case there are return variables better use functions instead</p>\n"}],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309653,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":9361835,"answer_count":7,"score":93,"last_activity_date":1662645557,"creation_date":1329742794,"question_id":9361538,"body_markdown":"What is the correct way to invoke stored procedures using modern day (circa 2012) Spring JDBC Template?\r\n\r\nSay, I have a stored procedure that declares both `IN` and `OUT` parameters, something like this:\r\n\r\n    mypkg.doSomething(\r\n        id OUT int,\r\n        name IN String,\r\n        date IN Date\r\n    )\r\n\r\nI have come across `CallableStatementCreator` based approaches where we have to explicitly register `IN` and `OUT` parameters. Consider the following method in `JdbcTemplate` class:\r\n\r\n    public Map&lt;String, Object&gt; call(CallableStatementCreator csc, List&lt;SqlParameter&gt; declaredParameters)\r\n\r\nOf course, I do know that I can use it like so:\r\n\r\n    List&lt;SqlParameter&gt; declaredParameters = new ArrayList&lt;SqlParameter&gt;();\r\n\r\n    declaredParameters.add(new SqlOutParameter(&quot;id&quot;, Types.INTEGER));\r\n    declaredParameters.add(new SqlParameter(&quot;name&quot;, Types.VARCHAR));\r\n    declaredParameters.add(new SqlParameter(&quot;date&quot;, Types.DATE));\r\n    \r\n    this.jdbcTemplate.call(new CallableStatementCreator() {\r\n    \r\n        @Override\r\n        CallableStatement createCallableStatement(Connection con) throws SQLException {\r\n            CallableStatement stmnt = con.createCall(&quot;{mypkg.doSomething(?, ?, ?)}&quot;);\r\n\r\n            stmnt.registerOutParameter(&quot;id&quot;, Types.INTEGER);\r\n            stmnt.setString(&quot;name&quot;, &quot;&lt;name&gt;&quot;);\r\n            stmnt.setDate(&quot;date&quot;, &lt;date&gt;);\r\n\r\n            return stmnt;\r\n        }\r\n    }, declaredParameters);\r\n\r\nWhat is the purpose of `declaredParameters` when I am already registering them in my `csc` implementation? In other words, why would I need to pass in a `csc` when spring can simply do `con.prepareCall(sql)` internally? Basically, can&#39;t I pass in either one of them instead of both of them?\r\n\r\nOr, is there a much better way to call stored procedures (using Spring JDBC Template) than what I have come across so far?\r\n\r\n*Note:* You may find many questions that appear to have a similar title but they are not the same as this one.","title":"Spring JDBC Template for calling Stored Procedures","body":"<p>What is the correct way to invoke stored procedures using modern day (circa 2012) Spring JDBC Template?</p>\n\n<p>Say, I have a stored procedure that declares both <code>IN</code> and <code>OUT</code> parameters, something like this:</p>\n\n<pre><code>mypkg.doSomething(\n    id OUT int,\n    name IN String,\n    date IN Date\n)\n</code></pre>\n\n<p>I have come across <code>CallableStatementCreator</code> based approaches where we have to explicitly register <code>IN</code> and <code>OUT</code> parameters. Consider the following method in <code>JdbcTemplate</code> class:</p>\n\n<pre><code>public Map&lt;String, Object&gt; call(CallableStatementCreator csc, List&lt;SqlParameter&gt; declaredParameters)\n</code></pre>\n\n<p>Of course, I do know that I can use it like so:</p>\n\n<pre><code>List&lt;SqlParameter&gt; declaredParameters = new ArrayList&lt;SqlParameter&gt;();\n\ndeclaredParameters.add(new SqlOutParameter(\"id\", Types.INTEGER));\ndeclaredParameters.add(new SqlParameter(\"name\", Types.VARCHAR));\ndeclaredParameters.add(new SqlParameter(\"date\", Types.DATE));\n\nthis.jdbcTemplate.call(new CallableStatementCreator() {\n\n    @Override\n    CallableStatement createCallableStatement(Connection con) throws SQLException {\n        CallableStatement stmnt = con.createCall(\"{mypkg.doSomething(?, ?, ?)}\");\n\n        stmnt.registerOutParameter(\"id\", Types.INTEGER);\n        stmnt.setString(\"name\", \"&lt;name&gt;\");\n        stmnt.setDate(\"date\", &lt;date&gt;);\n\n        return stmnt;\n    }\n}, declaredParameters);\n</code></pre>\n\n<p>What is the purpose of <code>declaredParameters</code> when I am already registering them in my <code>csc</code> implementation? In other words, why would I need to pass in a <code>csc</code> when spring can simply do <code>con.prepareCall(sql)</code> internally? Basically, can't I pass in either one of them instead of both of them?</p>\n\n<p>Or, is there a much better way to call stored procedures (using Spring JDBC Template) than what I have come across so far?</p>\n\n<p><em>Note:</em> You may find many questions that appear to have a similar title but they are not the same as this one.</p>\n"},{"tags":["java","c#","android","xamarin.android","xamarin-binding"],"comments":[{"owner":{"account_id":7362561,"reputation":2272,"user_id":5605365,"accept_rate":73,"display_name":"Matt"},"score":0,"creation_date":1660627485,"post_id":73363646,"comment_id":129570011,"body_markdown":"Just a shot in the dark here if you don&#39;t get other answers. Could proguard be related? The files in your error output look like they&#39;re being obfuscated.","body":"Just a shot in the dark here if you don&#39;t get other answers. Could proguard be related? The files in your error output look like they&#39;re being obfuscated."}],"answers":[{"tags":[],"owner":{"account_id":461742,"reputation":3864,"user_id":863651,"accept_rate":73,"display_name":"XDS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662645185,"creation_date":1662645185,"answer_id":73650225,"question_id":73363646,"body_markdown":"Turns out this is due to the heavy use of Kotlin in the libraries in question. There&#39;s virtually nothing that can be done about this other than creating a wrapper .aar which is purely written in Java and then just create bindings for that (thus side-stepping any and all issues).","title":"Java Binding api.xml.class-parse : warning BG8605: The Java type &#39;$&#39; could not be found","body":"<p>Turns out this is due to the heavy use of Kotlin in the libraries in question. There's virtually nothing that can be done about this other than creating a wrapper .aar which is purely written in Java and then just create bindings for that (thus side-stepping any and all issues).</p>\n"}],"owner":{"account_id":461742,"reputation":3864,"user_id":863651,"accept_rate":73,"display_name":"XDS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73650225,"answer_count":1,"score":2,"last_activity_date":1662645185,"creation_date":1660579936,"question_id":73363646,"body_markdown":"I&#39;m trying to create C# bindings over &#39;mcumgr-ble.aar&#39; \r\n\r\nhttps://mvnrepository.com/artifact/io.runtime.mcumgr/mcumgr-ble/0.12.0-beta4\r\n\r\nI have downloaded all the dependencies of the .aar file:\r\n\r\n        kotlinx-coroutines-android.jar\r\n        kotlinx-coroutines-core-jvm.jar\r\n        kotlinx-coroutines-core.jar\r\n        kotlinx-coroutines-debug.jar\r\n        kotlinx-coroutines-guava.jar\r\n        kotlinx-coroutines-javafx.jar\r\n        kotlinx-coroutines-jdk8.jar\r\n        kotlinx-coroutines-jdk9.jar\r\n        kotlinx-coroutines-play-services.jar\r\n        kotlinx-coroutines-reactive.jar\r\n        kotlinx-coroutines-reactor.jar\r\n        kotlinx-coroutines-rx2.jar\r\n        kotlinx-coroutines-rx3.jar\r\n        kotlinx-coroutines-slf4j.jar\r\n        kotlinx-coroutines-swing.jar\r\n        kotlinx-coroutines-test-jvm.jar\r\n        kotlinx-coroutines-test.jar\r\n        slf4j-api.jar\r\n\r\nIn the .csproj file I have:\r\n\r\n      &lt;ItemGroup Condition=&quot; $(TargetFramework.ToLower().StartsWith(&#39;monoandroid&#39;)) &quot;&gt;\r\n          &lt;Compile Include=&quot;Droid\\*.cs&quot; /&gt;\r\n          &lt;Compile Include=&quot;Droid\\Specific\\*.cs&quot; /&gt;\r\n          &lt;ReferenceJar Include=&quot;Droid\\Jars\\*.jar;Droid\\Jars\\*.aar&quot; /&gt;\r\n          &lt;TransformFile Include=&quot;Droid\\Transforms\\*.xml&quot; /&gt;\r\n          &lt;LibraryProjectZip Include=&quot;Droid\\Jars\\mcumgr-ble.aar&quot; /&gt;\r\n          &lt;!-- t.odo  experiment with EmbeddedReferenceJar --&gt;\r\n          &lt;Reference Include=&quot;Mono.Android&quot; /&gt;\r\n          &lt;Reference Include=&quot;Java.Interop&quot; /&gt;\r\n          &lt;PackageReference Include=&quot;Karamunting.Kotlin.StdLib&quot; Version=&quot;1.3.11&quot; /&gt;\r\n          &lt;PackageReference Include=&quot;Karamunting.Kotlin.StdLib.Common&quot; Version=&quot;1.3.11&quot; /&gt;\r\n          &lt;PackageReference Include=&quot;Xamarin.KotlinX.Coroutines.Core.Jvm&quot; Version=&quot;1.6.4&quot; /&gt;\r\n      &lt;/ItemGroup&gt;\r\n\r\nThe depencies of the .csproj look like so:\r\n\r\n[![Dependencies][1]][1]\r\n\r\nHowever I keep getting the following ominous warnings in the build output:\r\n\r\n\r\n       \r\n       &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (default target) (1:19) -&gt;\r\n       &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (Build target) (1:24) -&gt;\r\n       (_ExportJarToXml target) -&gt; \r\n         obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type &#39;$&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type &#39;$&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type &#39;io.runtime.mcumgr.exception.McuMgrException&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type &#39;io.runtime.mcumgr.exception.McuMgrException&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type &#39;kotlin.coroutines.jvm.internal.SuspendLambda&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type &#39;kotlin.coroutines.jvm.internal.SuspendLambda&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type &#39;no.nordicsemi.android.ble.BleManager&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type &#39;no.nordicsemi.android.ble.BleManager&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type &#39;no.nordicsemi.android.ble.data.DataMerger&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type &#39;no.nordicsemi.android.ble.data.DataMerger&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         obj/Release/monoandroid12.0/java-resolution-report.log : warning BG8606: Some types or members could not be bound because referenced Java types could not be found. See the &#39;java-resolution-report.log&#39; file for details. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/java-resolution-report.log warning BG8606: Some types or members could not be bound because referenced Java types could not be found. See the &#39;java-resolution-report.log&#39; file for details. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n       \r\n       \r\n       &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (default target) (1:19) -&gt;\r\n       &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (Build target) (1:24) -&gt;\r\n       (GenerateBindings target) -&gt; \r\n         /Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/Droid/Transforms/Metadata.xml(10,6): warning BG8A00: Metadata.xml element &#39;&lt;remove-node path=&quot;/api/package[@name=&#39;no.nordicsemi.android.dfu&#39;]/class[@name=&#39;DfuBaseService&#39;]/implements[contains(@name, &#39;no.nordicsemi.android.dfu.DfuProgressInfo.ProgressListener&#39;)]&quot; /&gt;&#39; matched no nodes. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n         /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.Core.targets(61,5): /Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/Droid/Transforms/Metadata.xml(10,6) warning BG8A00: Metadata.xml element &#39;&lt;remove-node path=&quot;/api/package[@name=&#39;no.nordicsemi.android.dfu&#39;]/class[@name=&#39;DfuBaseService&#39;]/implements[contains(@name, &#39;no.nordicsemi.android.dfu.DfuProgressInfo.ProgressListener&#39;)]&quot; /&gt;&#39; matched no nodes. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\r\n       \r\n           14 Warning(s)\r\n           0 Error(s)\r\n\r\n\r\nHere is a snippet from &#39;api.xml.class-parse&#39; which is showing the problem at hand:\r\n\r\n      &lt;method\r\n        abstract=&quot;false&quot;\r\n        deprecated=&quot;not deprecated&quot;\r\n        final=&quot;false&quot;\r\n        name=&quot;addObserver&quot;\r\n        native=&quot;false&quot;\r\n        return=&quot;void&quot;\r\n        jni-return=&quot;V&quot;\r\n        static=&quot;false&quot;\r\n        synchronized=&quot;true&quot;\r\n        visibility=&quot;public&quot;\r\n        bridge=&quot;false&quot;\r\n        synthetic=&quot;false&quot;\r\n        jni-signature=&quot;(Lio/runtime/mcumgr/McuMgrTransport$ConnectionObserver;)V&quot;&gt;\r\n        &lt;parameter\r\n          name=&quot;observer&quot;\r\n          type=&quot;io.runtime.mcumgr.McuMgrTransport.ConnectionObserver&quot;\r\n          jni-type=&quot;Lio/runtime/mcumgr/McuMgrTransport$ConnectionObserver;&quot;\r\n          not-null=&quot;true&quot; /&gt;\r\n      &lt;/method&gt;\r\n\r\nI suspect that the &#39;$&#39; sign the error is referring to is in method names such as the one shown above:\r\n\r\n      io/runtime/mcumgr/McuMgrTransport$ConnectionObserver\r\n\r\n  [1]: https://i.stack.imgur.com/CN1li.png","title":"Java Binding api.xml.class-parse : warning BG8605: The Java type &#39;$&#39; could not be found","body":"<p>I'm trying to create C# bindings over 'mcumgr-ble.aar'</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.runtime.mcumgr/mcumgr-ble/0.12.0-beta4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.runtime.mcumgr/mcumgr-ble/0.12.0-beta4</a></p>\n<p>I have downloaded all the dependencies of the .aar file:</p>\n<pre><code>    kotlinx-coroutines-android.jar\n    kotlinx-coroutines-core-jvm.jar\n    kotlinx-coroutines-core.jar\n    kotlinx-coroutines-debug.jar\n    kotlinx-coroutines-guava.jar\n    kotlinx-coroutines-javafx.jar\n    kotlinx-coroutines-jdk8.jar\n    kotlinx-coroutines-jdk9.jar\n    kotlinx-coroutines-play-services.jar\n    kotlinx-coroutines-reactive.jar\n    kotlinx-coroutines-reactor.jar\n    kotlinx-coroutines-rx2.jar\n    kotlinx-coroutines-rx3.jar\n    kotlinx-coroutines-slf4j.jar\n    kotlinx-coroutines-swing.jar\n    kotlinx-coroutines-test-jvm.jar\n    kotlinx-coroutines-test.jar\n    slf4j-api.jar\n</code></pre>\n<p>In the .csproj file I have:</p>\n<pre><code>  &lt;ItemGroup Condition=&quot; $(TargetFramework.ToLower().StartsWith('monoandroid')) &quot;&gt;\n      &lt;Compile Include=&quot;Droid\\*.cs&quot; /&gt;\n      &lt;Compile Include=&quot;Droid\\Specific\\*.cs&quot; /&gt;\n      &lt;ReferenceJar Include=&quot;Droid\\Jars\\*.jar;Droid\\Jars\\*.aar&quot; /&gt;\n      &lt;TransformFile Include=&quot;Droid\\Transforms\\*.xml&quot; /&gt;\n      &lt;LibraryProjectZip Include=&quot;Droid\\Jars\\mcumgr-ble.aar&quot; /&gt;\n      &lt;!-- t.odo  experiment with EmbeddedReferenceJar --&gt;\n      &lt;Reference Include=&quot;Mono.Android&quot; /&gt;\n      &lt;Reference Include=&quot;Java.Interop&quot; /&gt;\n      &lt;PackageReference Include=&quot;Karamunting.Kotlin.StdLib&quot; Version=&quot;1.3.11&quot; /&gt;\n      &lt;PackageReference Include=&quot;Karamunting.Kotlin.StdLib.Common&quot; Version=&quot;1.3.11&quot; /&gt;\n      &lt;PackageReference Include=&quot;Xamarin.KotlinX.Coroutines.Core.Jvm&quot; Version=&quot;1.6.4&quot; /&gt;\n  &lt;/ItemGroup&gt;\n</code></pre>\n<p>The depencies of the .csproj look like so:</p>\n<p><a href=\"https://i.stack.imgur.com/CN1li.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CN1li.png\" alt=\"Dependencies\" /></a></p>\n<p>However I keep getting the following ominous warnings in the build output:</p>\n<pre><code>   &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (default target) (1:19) -&gt;\n   &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (Build target) (1:24) -&gt;\n   (_ExportJarToXml target) -&gt; \n     obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type '$' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type '$' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type 'io.runtime.mcumgr.exception.McuMgrException' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type 'io.runtime.mcumgr.exception.McuMgrException' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type 'kotlin.coroutines.jvm.internal.SuspendLambda' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type 'kotlin.coroutines.jvm.internal.SuspendLambda' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type 'no.nordicsemi.android.ble.BleManager' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type 'no.nordicsemi.android.ble.BleManager' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     obj/Release/monoandroid12.0/api.xml.class-parse : warning BG8605: The Java type 'no.nordicsemi.android.ble.data.DataMerger' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/api.xml.class-parse warning BG8605: The Java type 'no.nordicsemi.android.ble.data.DataMerger' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?) [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     obj/Release/monoandroid12.0/java-resolution-report.log : warning BG8606: Some types or members could not be bound because referenced Java types could not be found. See the 'java-resolution-report.log' file for details. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.ClassParse.targets(36,5): obj/Release/monoandroid12.0/java-resolution-report.log warning BG8606: Some types or members could not be bound because referenced Java types could not be found. See the 'java-resolution-report.log' file for details. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n   \n   \n   &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (default target) (1:19) -&gt;\n   &quot;/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj&quot; (Build target) (1:24) -&gt;\n   (GenerateBindings target) -&gt; \n     /Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/Droid/Transforms/Metadata.xml(10,6): warning BG8A00: Metadata.xml element '&lt;remove-node path=&quot;/api/package[@name='no.nordicsemi.android.dfu']/class[@name='DfuBaseService']/implements[contains(@name, 'no.nordicsemi.android.dfu.DfuProgressInfo.ProgressListener')]&quot; /&gt;' matched no nodes. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n     /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Bindings.Core.targets(61,5): /Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/Droid/Transforms/Metadata.xml(10,6) warning BG8A00: Metadata.xml element '&lt;remove-node path=&quot;/api/package[@name='no.nordicsemi.android.dfu']/class[@name='DfuBaseService']/implements[contains(@name, 'no.nordicsemi.android.dfu.DfuProgressInfo.ProgressListener')]&quot; /&gt;' matched no nodes. [/Users/foobar/Repos/xyz.cmps/mcumgr.dev.mcumgr-ble/xyz.McuMgr/xyz.McuMgr.csproj]\n   \n       14 Warning(s)\n       0 Error(s)\n</code></pre>\n<p>Here is a snippet from 'api.xml.class-parse' which is showing the problem at hand:</p>\n<pre><code>  &lt;method\n    abstract=&quot;false&quot;\n    deprecated=&quot;not deprecated&quot;\n    final=&quot;false&quot;\n    name=&quot;addObserver&quot;\n    native=&quot;false&quot;\n    return=&quot;void&quot;\n    jni-return=&quot;V&quot;\n    static=&quot;false&quot;\n    synchronized=&quot;true&quot;\n    visibility=&quot;public&quot;\n    bridge=&quot;false&quot;\n    synthetic=&quot;false&quot;\n    jni-signature=&quot;(Lio/runtime/mcumgr/McuMgrTransport$ConnectionObserver;)V&quot;&gt;\n    &lt;parameter\n      name=&quot;observer&quot;\n      type=&quot;io.runtime.mcumgr.McuMgrTransport.ConnectionObserver&quot;\n      jni-type=&quot;Lio/runtime/mcumgr/McuMgrTransport$ConnectionObserver;&quot;\n      not-null=&quot;true&quot; /&gt;\n  &lt;/method&gt;\n</code></pre>\n<p>I suspect that the '$' sign the error is referring to is in method names such as the one shown above:</p>\n<pre><code>  io/runtime/mcumgr/McuMgrTransport$ConnectionObserver\n</code></pre>\n"},{"tags":["java","recursion","compilation","jvm","tail-recursion"],"comments":[{"owner":{"account_id":8609891,"reputation":2036,"user_id":6448656,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1542484137,"post_id":53354898,"comment_id":93587399,"body_markdown":"From the video, I came to know that TCO can be done at runtime but for this, changes will be needed in JVM level. Any specific reason why Java does not use similar approach and make changes in javac","body":"From the video, I came to know that TCO can be done at runtime but for this, changes will be needed in JVM level. Any specific reason why Java does not use similar approach and make changes in javac"},{"owner":{"account_id":8609891,"reputation":2036,"user_id":6448656,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1542484601,"post_id":53354898,"comment_id":93587537,"body_markdown":"Java doesn&#39;t have tail call optimization for the same reason most imperative languages don&#39;t have it. Imperative loops are the preferred style of the language, and the programmer can replace tail recursion with imperative loops.","body":"Java doesn&#39;t have tail call optimization for the same reason most imperative languages don&#39;t have it. Imperative loops are the preferred style of the language, and the programmer can replace tail recursion with imperative loops."},{"owner":{"account_id":8609891,"reputation":2036,"user_id":6448656,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1542484908,"post_id":53354898,"comment_id":93587639,"body_markdown":"Yes it is. Wanted to share the info here. Isn&#39;t it the right way ?","body":"Yes it is. Wanted to share the info here. Isn&#39;t it the right way ?"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1542486253,"post_id":53354898,"comment_id":93588041,"body_markdown":"yes. much better.","body":"yes. much better."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1555442250,"post_id":53354898,"comment_id":98110933,"body_markdown":"[This blog entry](https://blogs.oracle.com/jrose/tail-calls-in-the-vm) about a &quot;hard tail call&quot; instruction for the JVM is from 2007. At the end of the comment section, Matthias Felleisen says *&quot;This is a late comment but TCO in Java would be so great, why not revive the thread again? One common misunderstanding about TCO is due to the word &#39;optimization&#39;. It is indeed a space optimization (don&#39;t use more space than goto, as Guy said in the 1970s) but a language should implement TCO in support of PROPER DESIGN. ...*","body":"<a href=\"https://blogs.oracle.com/jrose/tail-calls-in-the-vm\" rel=\"nofollow noreferrer\">This blog entry</a> about a &quot;hard tail call&quot; instruction for the JVM is from 2007. At the end of the comment section, Matthias Felleisen says <i>&quot;This is a late comment but TCO in Java would be so great, why not revive the thread again? One common misunderstanding about TCO is due to the word &#39;optimization&#39;. It is indeed a space optimization (don&#39;t use more space than goto, as Guy said in the 1970s) but a language should implement TCO in support of PROPER DESIGN. ...</i>"},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1555442439,"post_id":53354898,"comment_id":98111006,"body_markdown":"*...To wit, go through the OO design pattern books and inspect all the little patterns. Pick some -- say interpreter or composite -- and design your Java program accordingly. Then run a stress test and weep. Java blows up even if all the method calls are tail-recursive because it doesn&#39;t support TCO. Now do the same in PLT Scheme&#39;s class system and smile. It works -- for all inputs. See my ECOOP keynote (2004) for some more details -- Matthias* Implementing this in the JVM seems a pickle.","body":"<i>...To wit, go through the OO design pattern books and inspect all the little patterns. Pick some -- say interpreter or composite -- and design your Java program accordingly. Then run a stress test and weep. Java blows up even if all the method calls are tail-recursive because it doesn&#39;t support TCO. Now do the same in PLT Scheme&#39;s class system and smile. It works -- for all inputs. See my ECOOP keynote (2004) for some more details -- Matthias</i> Implementing this in the JVM seems a pickle."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1555442514,"post_id":53354898,"comment_id":98111043,"body_markdown":"Issue [JDK-6804517 : Some languages need to be able to perform tail calls](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6804517) has been submitted 2009-02-12, updated 2018-10-05. Probably not for Java 13 (more like Java 9.3, amirite?)","body":"Issue <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6804517\" rel=\"nofollow noreferrer\">JDK-6804517 : Some languages need to be able to perform tail calls</a> has been submitted 2009-02-12, updated 2018-10-05. Probably not for Java 13 (more like Java 9.3, amirite?)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1596190041,"post_id":53354898,"comment_id":111739236,"body_markdown":"The Java *compiler* has hardly any optimizations at all. The various JVMs. especially HotSpot, do all kinds of optimizations, but evidently not this one. Note that Scala is not used to compile the underlying JDK, which might explain it.","body":"The Java <i>compiler</i> has hardly any optimizations at all. The various JVMs. especially HotSpot, do all kinds of optimizations, but evidently not this one. Note that Scala is not used to compile the underlying JDK, which might explain it."}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1542484212,"creation_date":1542484212,"answer_id":53354956,"question_id":53354898,"body_markdown":"&gt;Why can&#39;t Java use the same approach ?\r\n\r\nI can&#39;t say *which* approach will be used, but it&#39;s better-explained in [Project Loom&#39;s proposal](http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html):\r\n\r\n&gt;As adding the ability to manipulate call stacks to the JVM will undoubtedly be required, it is also the goal of this project to add an even lighter-weight construct that will allow unwinding the stack to some point and then invoke a method with given arguments (basically, a generalization of efficient tail-calls). We will call that feature unwind-and-invoke, or UAI. It is not the goal of this project to add an automatic tail-call optimization to the JVM.\r\n\r\nAs far as I&#39;ve heard, work has not yet begun on tail calls, as Fibers and Continuations seem to currently be a higher priority.","title":"Tail Call Optimisation in Java","body":"<blockquote>\n  <p>Why can't Java use the same approach ?</p>\n</blockquote>\n\n<p>I can't say <em>which</em> approach will be used, but it's better-explained in <a href=\"http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\" rel=\"noreferrer\">Project Loom's proposal</a>:</p>\n\n<blockquote>\n  <p>As adding the ability to manipulate call stacks to the JVM will undoubtedly be required, it is also the goal of this project to add an even lighter-weight construct that will allow unwinding the stack to some point and then invoke a method with given arguments (basically, a generalization of efficient tail-calls). We will call that feature unwind-and-invoke, or UAI. It is not the goal of this project to add an automatic tail-call optimization to the JVM.</p>\n</blockquote>\n\n<p>As far as I've heard, work has not yet begun on tail calls, as Fibers and Continuations seem to currently be a higher priority.</p>\n"},{"tags":[],"owner":{"account_id":370719,"reputation":3053,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1662645104,"creation_date":1544828429,"answer_id":53787951,"question_id":53354898,"body_markdown":"I read a very nice blog post here about how to achieve tail recursion in Java:\r\n[Knoldus blog post on Java tail recursion][1]\r\n\r\nHowever, the code on their blog doesn&#39;t compile so I created a small repo with their code but fixed the syntax so it compiles.\r\n[Github repo with working code][2]\r\n\r\nHope this is useful to someone, I found the ideas presented at the Knoldus blog post very interesting.\r\n\r\nEDIT: actually I found out later that the ideas presented in the blog post are originally Venkat Subramaniam&#39;s. He discusses these subjects in his talk [here][3].\r\n\r\n\r\n  [1]: https://blog.knoldus.com/tail-recursion-in-java-8/\r\n  [2]: https://github.com/jonckvanderkogel/java-tail-recursion\r\n  [3]: https://www.youtube.com/watch?v=wM1lyTfyuRo&amp;t=2414s","title":"Tail Call Optimisation in Java","body":"<p>I read a very nice blog post here about how to achieve tail recursion in Java:\n<a href=\"https://blog.knoldus.com/tail-recursion-in-java-8/\" rel=\"noreferrer\">Knoldus blog post on Java tail recursion</a></p>\n<p>However, the code on their blog doesn't compile so I created a small repo with their code but fixed the syntax so it compiles.\n<a href=\"https://github.com/jonckvanderkogel/java-tail-recursion\" rel=\"noreferrer\">Github repo with working code</a></p>\n<p>Hope this is useful to someone, I found the ideas presented at the Knoldus blog post very interesting.</p>\n<p>EDIT: actually I found out later that the ideas presented in the blog post are originally Venkat Subramaniam's. He discusses these subjects in his talk <a href=\"https://www.youtube.com/watch?v=wM1lyTfyuRo&amp;t=2414s\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":8609891,"reputation":2036,"user_id":6448656,"display_name":"Rishabh Agarwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24182,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":53354956,"answer_count":2,"score":46,"last_activity_date":1662645104,"creation_date":1542483804,"question_id":53354898,"body_markdown":"As of Java 8, Java does not provide Tail-Call Optimization (TCO).\r\nOn researching about it, I came to know the [reason][1] which is:\r\n\r\n&gt; In JDK classes [...] there are a number of security sensitive methods that rely on counting stack frames between JDK library code and calling code to figure out who&#39;s calling them.\r\n\r\nHowever Scala, which is based on JVM, has support for Tail-Call Optimisation. Scala does tail recursion optimisation at compile time. Why can&#39;t Java use the same approach?\r\n\r\nPS: Not sure whether the latest version (Java 11 as of now) of Java now has TCO. Would be great if some who knows can share this also.\r\n\r\nNotes:\r\n\r\n 1. I know TCO is at backlog and is of lower priority but want to know why can&#39;t Java make changes in compile time similar to Scala.\r\n\r\n 2. Java doesn&#39;t have tail call optimization for the same reason most imperative languages don&#39;t have it. Imperative loops are the preferred style of the language, and the programmer can replace tail recursion with imperative loops. ([Source][2])\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=2y5Pv4yN0b0&amp;t=1h02m18s\r\n  [2]: https://softwareengineering.stackexchange.com/questions/272061/why-doesnt-java-have-optimization-for-tail-recursion-at-all/272082#272082","title":"Tail Call Optimisation in Java","body":"<p>As of Java 8, Java does not provide Tail-Call Optimization (TCO).\nOn researching about it, I came to know the <a href=\"https://www.youtube.com/watch?v=2y5Pv4yN0b0&amp;t=1h02m18s\" rel=\"noreferrer\">reason</a> which is:</p>\n<blockquote>\n<p>In JDK classes [...] there are a number of security sensitive methods that rely on counting stack frames between JDK library code and calling code to figure out who's calling them.</p>\n</blockquote>\n<p>However Scala, which is based on JVM, has support for Tail-Call Optimisation. Scala does tail recursion optimisation at compile time. Why can't Java use the same approach?</p>\n<p>PS: Not sure whether the latest version (Java 11 as of now) of Java now has TCO. Would be great if some who knows can share this also.</p>\n<p>Notes:</p>\n<ol>\n<li><p>I know TCO is at backlog and is of lower priority but want to know why can't Java make changes in compile time similar to Scala.</p>\n</li>\n<li><p>Java doesn't have tail call optimization for the same reason most imperative languages don't have it. Imperative loops are the preferred style of the language, and the programmer can replace tail recursion with imperative loops. (<a href=\"https://softwareengineering.stackexchange.com/questions/272061/why-doesnt-java-have-optimization-for-tail-recursion-at-all/272082#272082\">Source</a>)</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","caching","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1659631767,"post_id":73228310,"comment_id":129346275,"body_markdown":"did you consider using cache library like Caffeine?","body":"did you consider using cache library like Caffeine?"}],"answers":[{"tags":[],"owner":{"account_id":6512784,"reputation":66,"user_id":5039506,"display_name":"echooymxq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659576109,"creation_date":1659576109,"answer_id":73229381,"question_id":73228310,"body_markdown":"Yeah, there require some similar operation to health check.\r\n```java\r\nHttpClient httpClient = HttpClient.create()\r\n            .tcpConfiguration(client -&gt;\r\n                client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3000)\r\n                    .doOnDisconnected(conn -&gt; {\r\n                        //todo Remove the cached connection.\r\n                    }));\r\nWebClient webClient = WebClient.builder()\r\n     .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n     .build();\r\n```","title":"Refresh stored webclients configurations in Map of Fluxes","body":"<p>Yeah, there require some similar operation to health check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient httpClient = HttpClient.create()\n            .tcpConfiguration(client -&gt;\n                client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3000)\n                    .doOnDisconnected(conn -&gt; {\n                        //todo Remove the cached connection.\n                    }));\nWebClient webClient = WebClient.builder()\n     .clientConnector(new ReactorClientHttpConnector(httpClient))\n     .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9003090,"reputation":53,"user_id":6710955,"display_name":"Icarium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662644743,"creation_date":1662644743,"answer_id":73650090,"question_id":73228310,"body_markdown":"At first - thanks @echooymxq and @Martin Tarj&#225;nyi\r\n for the answers - in a way both helped me to pimp my code. Here is what I did: \r\n\r\n - **I&#39;ve changed the implementation of the cache to Caffeine which simplified a lot for me :D**\r\n \r\n\r\n```\r\n    // the cache implementation\r\n        protected Cache&lt;ReactiveCallsKey, Flux&lt;T&gt;&gt; connections;\r\n        \r\n    // cache configuration (cleanup) \r\n            protected final Cache&lt;ReactiveCallsKey, Flux&lt;T&gt;&gt; connections = Caffeine.newBuilder()\r\n                    .maximumSize(10_000)\r\n                    .expireAfterAccess(Duration.ofMinutes(10))\r\n                    .build();\r\n```\r\n - **found a problem, that i did not cleaned up the cache while something went awful** \r\n```\r\n\r\n    protected Flux&lt;T&gt; manageConnectionConfiguration(ReactiveCall reactiveCall,\r\n                    Flux&lt;T&gt; out) {\r\n                return out.doOnError(throwable -&gt; {\r\n                            removeInstanceCallFromCache(reactiveCall);\r\n                            log.error(&quot;connection error for {} reactive source&quot;,\r\n                                    reactiveCall.getApplicationName(),\r\n                                    new OperationException(systemExceptionMessage, HttpStatus.INTERNAL_SERVER_ERROR,\r\n                                            throwable));\r\n                        })\r\n                        .doOnSubscribe(\r\n                                subscription -&gt; log.debug(&quot;subscription established for {} &quot;, reactiveCall.getApplicationName()))\r\n                        .doOnComplete(() -&gt; log.debug(&quot;subscription completed for {} &quot;, reactiveCall.getApplicationName()));\r\n            }\r\nprotected void removeInstanceCallFromCache(ReactiveCall reactiveCall) {\r\n                Try.run(() -&gt; connections.invalidate(\r\n                        new ReactiveCallsKey(reactiveCall.getApplicationName(), reactiveCall.getTicker(),\r\n                                reactiveCall.getReference())));\r\n            }\r\n\r\n```\r\n - **also I&#39;ve adjusted the waiting time for timeouts**  but in the end i&#39;ve reverted this change as default&#39;s were fine :) \r\n\r\n\r\n\r\n","title":"Refresh stored webclients configurations in Map of Fluxes","body":"<p>At first - thanks @echooymxq and @Martin Tarjányi\nfor the answers - in a way both helped me to pimp my code. Here is what I did:</p>\n<ul>\n<li><strong>I've changed the implementation of the cache to Caffeine which simplified a lot for me :D</strong></li>\n</ul>\n<pre><code>    // the cache implementation\n        protected Cache&lt;ReactiveCallsKey, Flux&lt;T&gt;&gt; connections;\n        \n    // cache configuration (cleanup) \n            protected final Cache&lt;ReactiveCallsKey, Flux&lt;T&gt;&gt; connections = Caffeine.newBuilder()\n                    .maximumSize(10_000)\n                    .expireAfterAccess(Duration.ofMinutes(10))\n                    .build();\n</code></pre>\n<ul>\n<li><strong>found a problem, that i did not cleaned up the cache while something went awful</strong></li>\n</ul>\n<pre><code>\n    protected Flux&lt;T&gt; manageConnectionConfiguration(ReactiveCall reactiveCall,\n                    Flux&lt;T&gt; out) {\n                return out.doOnError(throwable -&gt; {\n                            removeInstanceCallFromCache(reactiveCall);\n                            log.error(&quot;connection error for {} reactive source&quot;,\n                                    reactiveCall.getApplicationName(),\n                                    new OperationException(systemExceptionMessage, HttpStatus.INTERNAL_SERVER_ERROR,\n                                            throwable));\n                        })\n                        .doOnSubscribe(\n                                subscription -&gt; log.debug(&quot;subscription established for {} &quot;, reactiveCall.getApplicationName()))\n                        .doOnComplete(() -&gt; log.debug(&quot;subscription completed for {} &quot;, reactiveCall.getApplicationName()));\n            }\nprotected void removeInstanceCallFromCache(ReactiveCall reactiveCall) {\n                Try.run(() -&gt; connections.invalidate(\n                        new ReactiveCallsKey(reactiveCall.getApplicationName(), reactiveCall.getTicker(),\n                                reactiveCall.getReference())));\n            }\n\n</code></pre>\n<ul>\n<li><strong>also I've adjusted the waiting time for timeouts</strong>  but in the end i've reverted this change as default's were fine :)</li>\n</ul>\n"}],"owner":{"account_id":9003090,"reputation":53,"user_id":6710955,"display_name":"Icarium"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1662644743,"creation_date":1659564517,"question_id":73228310,"body_markdown":"I have a big struggle on my side and maybe someone, somehow know the answer or at least a lead to hang into :D To the point - I have an environment on spring boot where i store Fluxes of defined webclients (that connects to different hosts ) in a map at the to connect to and get data. If someone from the front-end side asks for the same source of data, i return data from the cache instead of creating a new webclient instance :)\r\n\r\nIt woks like a charm, but everything collapses when ip/port is changed on the instance - then users cannot get data from the stored webclient because it point&#39;s to a invalid connection :( . I&#39;ve thought about several solutions to the problem:\r\n\r\n - Detect no active subscribers and delete it from the map\r\n - Schedule a cleanup action to remove old unused / failed fluxes\r\n - Define action in back propagation mechanism to swap connection\r\n   details\r\n\r\nIn code below I have put a definition of cache manager.\r\n\r\nI would be very grateful for any kind of help or advice how to handle this hard cookie :D\r\n\r\n\r\n```\r\npublic abstract class CachedFluxReactiveManager&lt;T, M extends FiltreableCommand&gt; extends CachedReactiveManager&lt;T, M, Flux&lt;T&gt;&gt; {\r\nprotected final Map&lt;ReactiveCallsKey, Flux&lt;T&gt;&gt; connections = new ConcurrentHashMap&lt;&gt;();\r\nprotected final FluxClientCreator&lt;T&gt; clientCreator;\r\nprotected final InstancesQueryCreator queryCreator;\r\nprivate final boolean useCache;\r\n\r\nprotected CachedFluxReactiveManager(InstancesCache instancesCache, FluxClientCreator&lt;T&gt; clientCreator,\r\n        InstancesQueryCreator queryCreator, boolean useCache) {\r\n    super(instancesCache);\r\n    this.clientCreator = clientCreator;\r\n    this.queryCreator = queryCreator;\r\n    this.useCache = useCache;\r\n}\r\n\r\n@Override\r\npublic Flux&lt;T&gt; getData(M command) {\r\n\r\n    if (useCache) {\r\n        if (command.isFiltered()) {\r\n            return createAndReturnConnection(command).next().flux();\r\n        }\r\n\r\n        return ofNullable(getConnectionIfExists(command))\r\n                .orElseGet(() -&gt; createAndReturnConnection(command));\r\n    } else {\r\n        return createAndReturnConnection(command);\r\n    }\r\n}\r\n\r\n@Override\r\nprotected Flux&lt;T&gt; getConnectionIfExists(M command) {\r\n    return connections.get(\r\n            getReactiveCallsKey(command.getApplicationName(), command.getTicker(), command.getReferenceEx()));\r\n}}```\r\n","title":"Refresh stored webclients configurations in Map of Fluxes","body":"<p>I have a big struggle on my side and maybe someone, somehow know the answer or at least a lead to hang into :D To the point - I have an environment on spring boot where i store Fluxes of defined webclients (that connects to different hosts ) in a map at the to connect to and get data. If someone from the front-end side asks for the same source of data, i return data from the cache instead of creating a new webclient instance :)</p>\n<p>It woks like a charm, but everything collapses when ip/port is changed on the instance - then users cannot get data from the stored webclient because it point's to a invalid connection :( . I've thought about several solutions to the problem:</p>\n<ul>\n<li>Detect no active subscribers and delete it from the map</li>\n<li>Schedule a cleanup action to remove old unused / failed fluxes</li>\n<li>Define action in back propagation mechanism to swap connection\ndetails</li>\n</ul>\n<p>In code below I have put a definition of cache manager.</p>\n<p>I would be very grateful for any kind of help or advice how to handle this hard cookie :D</p>\n<pre><code>public abstract class CachedFluxReactiveManager&lt;T, M extends FiltreableCommand&gt; extends CachedReactiveManager&lt;T, M, Flux&lt;T&gt;&gt; {\nprotected final Map&lt;ReactiveCallsKey, Flux&lt;T&gt;&gt; connections = new ConcurrentHashMap&lt;&gt;();\nprotected final FluxClientCreator&lt;T&gt; clientCreator;\nprotected final InstancesQueryCreator queryCreator;\nprivate final boolean useCache;\n\nprotected CachedFluxReactiveManager(InstancesCache instancesCache, FluxClientCreator&lt;T&gt; clientCreator,\n        InstancesQueryCreator queryCreator, boolean useCache) {\n    super(instancesCache);\n    this.clientCreator = clientCreator;\n    this.queryCreator = queryCreator;\n    this.useCache = useCache;\n}\n\n@Override\npublic Flux&lt;T&gt; getData(M command) {\n\n    if (useCache) {\n        if (command.isFiltered()) {\n            return createAndReturnConnection(command).next().flux();\n        }\n\n        return ofNullable(getConnectionIfExists(command))\n                .orElseGet(() -&gt; createAndReturnConnection(command));\n    } else {\n        return createAndReturnConnection(command);\n    }\n}\n\n@Override\nprotected Flux&lt;T&gt; getConnectionIfExists(M command) {\n    return connections.get(\n            getReactiveCallsKey(command.getApplicationName(), command.getTicker(), command.getReferenceEx()));\n}}```\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1662646292,"post_id":73650083,"comment_id":130058144,"body_markdown":"Set the cell how you want in Excel, read it back in Apache POI, and see what Excel put onto the cell style?","body":"Set the cell how you want in Excel, read it back in Apache POI, and see what Excel put onto the cell style?"},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1662728276,"post_id":73650083,"comment_id":130079320,"body_markdown":"whatever the color of the cell is in Excel, I am getting : cell.getCellStyle().getFillBackgroundColor() = 64","body":"whatever the color of the cell is in Excel, I am getting : cell.getCellStyle().getFillBackgroundColor() = 64"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1662730228,"post_id":73650083,"comment_id":130080096,"body_markdown":"And what&#39;s the fill foreground colour from Excel?","body":"And what&#39;s the fill foreground colour from Excel?"},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1662731282,"post_id":73650083,"comment_id":130080508,"body_markdown":"getFillForeground() returns : 0.  In the excel file the color of the cell is blue, without any additional texture.","body":"getFillForeground() returns : 0.  In the excel file the color of the cell is blue, without any additional texture."},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1669310738,"post_id":73650083,"comment_id":131620497,"body_markdown":"See this question. https://stackoverflow.com/questions/59311923/apache-poi-not-applying-certain-color-indices","body":"See this question. <a href=\"https://stackoverflow.com/questions/59311923/apache-poi-not-applying-certain-color-indices\" title=\"apache poi not applying certain color indices\">stackoverflow.com/questions/59311923/&hellip;</a>"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662644717,"creation_date":1662644717,"question_id":73650083,"body_markdown":"I want to color an Excel cell with blue color : \r\n\r\n    HSSFCellStyle headerCellStyle = worksheet.getWorkbook().createCellStyle();\r\n    headerCellStyle.setFillBackgroundColor(HSSFColor.BLUE.index);\r\n    headerCellStyle.setFillPattern(CellStyle.FINE_DOTS);\r\n    \r\n    cell = rowHeader.createCell(startColIndex++);\r\n    cell.setCellValue(&quot;Titre&quot;);\r\n    cell.setCellStyle(headerCellStyle);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WeyJr.png\r\n\r\nThe cell should be blue instead of grey. I don&#39;t understant what I am doing wrong.","title":"Apache POI - issue with cell background color","body":"<p>I want to color an Excel cell with blue color :</p>\n<pre><code>HSSFCellStyle headerCellStyle = worksheet.getWorkbook().createCellStyle();\nheaderCellStyle.setFillBackgroundColor(HSSFColor.BLUE.index);\nheaderCellStyle.setFillPattern(CellStyle.FINE_DOTS);\n\ncell = rowHeader.createCell(startColIndex++);\ncell.setCellValue(&quot;Titre&quot;);\ncell.setCellStyle(headerCellStyle);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WeyJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WeyJr.png\" alt=\"enter image description here\" /></a></p>\n<p>The cell should be blue instead of grey. I don't understant what I am doing wrong.</p>\n"},{"tags":["java","multithreading","garbage-collection"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":4,"creation_date":1455394224,"post_id":35384393,"comment_id":58474007,"body_markdown":"Modern GC is extremely efficient with objects that &quot;die young&quot;. Don&#39;t be afraid of creating and using objects with short lifespan; but do be careful with keeping referencing objects for longer time (e.g. for caching). The issue is not actually about immutability, more about lifespan.","body":"Modern GC is extremely efficient with objects that &quot;die young&quot;. Don&#39;t be afraid of creating and using objects with short lifespan; but do be careful with keeping referencing objects for longer time (e.g. for caching). The issue is not actually about immutability, more about lifespan."},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":3,"creation_date":1455404655,"post_id":35384393,"comment_id":58477163,"body_markdown":"In the tutorial you linked, the exact phrase is _&quot;decreased overhead due to garbage collection&quot;_. There is no word &quot;memory&quot; in it. You should correct it in your question, because immutable objects may actually consume more memory (because you are forced to create a new one if you want something changed in the existing one), while decreasing the overall burden on GC nevertheless. More details in my answer below.","body":"In the tutorial you linked, the exact phrase is <i>&quot;decreased overhead due to garbage collection&quot;</i>. There is no word &quot;memory&quot; in it. You should correct it in your question, because immutable objects may actually consume more memory (because you are forced to create a new one if you want something changed in the existing one), while decreasing the overall burden on GC nevertheless. More details in my answer below."}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1455393541,"creation_date":1455392173,"answer_id":35384460,"question_id":35384393,"body_markdown":"Sometimes you allocate less when objects are immutable.\r\n\r\nSimple example\r\n\r\n     Date getDate(){\r\n       return copy(this.date);\r\n     }\r\nI have to copy `Date` every time I share it because it is mutable or the caller would be able to mutate it. If `getDate` get called a lot,the allocation rate will dramatically increase and this would put pressure on the `GC`\r\n\r\nOn the other hand, Java-8 dates are immutable\r\n\r\n    LocalDate getDate(){\r\n      return this.date;\r\n    }\r\nNotice that I don&#39;t need to copy date (allocate a new object) because of immutability ( I am happy to share the object with you because I know that you can&#39;t mutate it).\r\n\r\nNow you might think how can I apply this to &quot;useful&quot; or complicated data structures without causing massive allocation (due to defensive copies), you are absolutely right, but there is an art called `functional programming` and `persistent data structures` ( ie: you get the illusion that it&#39;s a new copy where in fact copies share a lot from the original).\r\n\r\nOne shouldn&#39;t be surprised that most functional languages (all the ones that I am aware of) are garbage collected. ","title":"How do Immutable Objects help decrease overhead due to Garbage Collection?","body":"<p>Sometimes you allocate less when objects are immutable.</p>\n\n<p>Simple example</p>\n\n<pre><code> Date getDate(){\n   return copy(this.date);\n }\n</code></pre>\n\n<p>I have to copy <code>Date</code> every time I share it because it is mutable or the caller would be able to mutate it. If <code>getDate</code> get called a lot,the allocation rate will dramatically increase and this would put pressure on the <code>GC</code></p>\n\n<p>On the other hand, Java-8 dates are immutable</p>\n\n<pre><code>LocalDate getDate(){\n  return this.date;\n}\n</code></pre>\n\n<p>Notice that I don't need to copy date (allocate a new object) because of immutability ( I am happy to share the object with you because I know that you can't mutate it).</p>\n\n<p>Now you might think how can I apply this to \"useful\" or complicated data structures without causing massive allocation (due to defensive copies), you are absolutely right, but there is an art called <code>functional programming</code> and <code>persistent data structures</code> ( ie: you get the illusion that it's a new copy where in fact copies share a lot from the original).</p>\n\n<p>One shouldn't be surprised that most functional languages (all the ones that I am aware of) are garbage collected. </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1455394825,"creation_date":1455394825,"answer_id":35384876,"question_id":35384393,"body_markdown":"Immutable objects do not need a defensive copy if you are sharing them across contexts (.e.g calling code you don&#39;t trust) or for thread safety. This can mean that reads of immutable objects can be lower in terms of garbage.\r\n\r\nOn the other hand, every time you change an immutable object, you have to create new objects whether this is required or not.  In this regard, immutable objects can create far more garbage.\r\n\r\nThe real question is whether you are making lots of reads, or lots of writes (or a mix)  Depending on usage Immutable objects can save objects or create more objects, so it makes sense to use either Immutable or Mutable object based on your specific use case.\r\n\r\nNote: most of the time, correctness is far, far more important than performance, and while in general Immutable objects have higher overhead IMHO, it is far easier to prove the correctness of data models using Immutable objects, and it is worth using immutable objects for clarity and ease of reasoning alone.\r\n\r\n","title":"How do Immutable Objects help decrease overhead due to Garbage Collection?","body":"<p>Immutable objects do not need a defensive copy if you are sharing them across contexts (.e.g calling code you don't trust) or for thread safety. This can mean that reads of immutable objects can be lower in terms of garbage.</p>\n\n<p>On the other hand, every time you change an immutable object, you have to create new objects whether this is required or not.  In this regard, immutable objects can create far more garbage.</p>\n\n<p>The real question is whether you are making lots of reads, or lots of writes (or a mix)  Depending on usage Immutable objects can save objects or create more objects, so it makes sense to use either Immutable or Mutable object based on your specific use case.</p>\n\n<p>Note: most of the time, correctness is far, far more important than performance, and while in general Immutable objects have higher overhead IMHO, it is far easier to prove the correctness of data models using Immutable objects, and it is worth using immutable objects for clarity and ease of reasoning alone.</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1662644612,"creation_date":1455404188,"answer_id":35386325,"question_id":35384393,"body_markdown":"In [this article][1] Brian Goetz explains it nicely. Basically, it is related with the way garbage collector works. It has less work to do if new objects reference the old ones than vice versa.\r\n\r\nExcerpt from the linked article with example classes below:\r\n\r\n    public class MutableHolder {\r\n      private Object value;\r\n      public Object getValue() { return value; }\r\n      public void setValue(Object o) { value = o; }\r\n    }\r\n    \r\n    public class ImmutableHolder {\r\n      private final Object value;\r\n      public ImmutableHolder(Object o) { value = o; }\r\n      public Object getValue() { return value; }\r\n    }\r\n\r\n&gt; In most cases, when a holder object is updated to reference a\r\n&gt; different object, the new referent is a young object. If we update a\r\n&gt; `MutableHolder` by calling `setValue()`, we have created a situation\r\n&gt; where an older object references a younger one. On the other hand, by\r\n&gt; creating a new `ImmutableHolder` object instead, a younger object is\r\n&gt; referencing an older one.\r\n&gt; \r\n&gt; The latter situation, where most objects point to older objects, is\r\n&gt; much more gentle on a generational garbage collector. If a\r\n&gt; `MutableHolder` that lives in the old generation is mutated, all the\r\n&gt; objects on the card that contain the `MutableHolder` must be scanned\r\n&gt; for old-to-young references at the next minor collection.\r\n&gt; \r\n&gt; The use of mutable references for long-lived container objects\r\n&gt; increases the work done to track old-to-young references at collection\r\n&gt; time.\r\n\r\n**Escape analysis**\r\n\r\nRegarding the concern that lots of objects are created because you instantiate a new object whenever you need to change the existing one, the object allocation mechanism is much improved in latest JVMs.\r\n\r\nTake a look at [escape analysis][2] (also mentioned in the linked article). Many object will not be allocated on heap (but be inlined/allocated on stack), so GC will have nothing to do with them (actually GC is not aware that those objects exist at all).\r\n\r\nAlthough not related only to immutability, escape analysis mechanism can be utilised more efficiently in an immutable context (an example is the `Person` object which is not changed during the method invocation in the linked Oracle docs).\r\n\r\n  [1]: https://web.archive.org/web/20210224000208/http://www.ibm.com/developerworks/library/j-jtp01274/\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/performance-enhancements-7.html#escapeAnalysis","title":"How do Immutable Objects help decrease overhead due to Garbage Collection?","body":"<p>In <a href=\"https://web.archive.org/web/20210224000208/http://www.ibm.com/developerworks/library/j-jtp01274/\" rel=\"nofollow noreferrer\">this article</a> Brian Goetz explains it nicely. Basically, it is related with the way garbage collector works. It has less work to do if new objects reference the old ones than vice versa.</p>\n<p>Excerpt from the linked article with example classes below:</p>\n<pre><code>public class MutableHolder {\n  private Object value;\n  public Object getValue() { return value; }\n  public void setValue(Object o) { value = o; }\n}\n\npublic class ImmutableHolder {\n  private final Object value;\n  public ImmutableHolder(Object o) { value = o; }\n  public Object getValue() { return value; }\n}\n</code></pre>\n<blockquote>\n<p>In most cases, when a holder object is updated to reference a\ndifferent object, the new referent is a young object. If we update a\n<code>MutableHolder</code> by calling <code>setValue()</code>, we have created a situation\nwhere an older object references a younger one. On the other hand, by\ncreating a new <code>ImmutableHolder</code> object instead, a younger object is\nreferencing an older one.</p>\n<p>The latter situation, where most objects point to older objects, is\nmuch more gentle on a generational garbage collector. If a\n<code>MutableHolder</code> that lives in the old generation is mutated, all the\nobjects on the card that contain the <code>MutableHolder</code> must be scanned\nfor old-to-young references at the next minor collection.</p>\n<p>The use of mutable references for long-lived container objects\nincreases the work done to track old-to-young references at collection\ntime.</p>\n</blockquote>\n<p><strong>Escape analysis</strong></p>\n<p>Regarding the concern that lots of objects are created because you instantiate a new object whenever you need to change the existing one, the object allocation mechanism is much improved in latest JVMs.</p>\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/performance-enhancements-7.html#escapeAnalysis\" rel=\"nofollow noreferrer\">escape analysis</a> (also mentioned in the linked article). Many object will not be allocated on heap (but be inlined/allocated on stack), so GC will have nothing to do with them (actually GC is not aware that those objects exist at all).</p>\n<p>Although not related only to immutability, escape analysis mechanism can be utilised more efficiently in an immutable context (an example is the <code>Person</code> object which is not changed during the method invocation in the linked Oracle docs).</p>\n"}],"owner":{"account_id":4139856,"reputation":8722,"user_id":3395512,"accept_rate":79,"display_name":"Solace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8106,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":35384460,"answer_count":3,"score":28,"last_activity_date":1662644612,"creation_date":1455391760,"question_id":35384393,"body_markdown":"I am a newb, and I have read about Garbage Collection from the first two answers [here][1].\r\n\r\nNow justifying the use of Immutable Objects even if the programmer has to create new objects, as compared to using existing objects (in multi-threaded applications), [this tutorial][2] says that the cost of object creation is made up for by the *decrease in memory overhead due to garbage collection*, and the elimination of code to protect mutable objects from threads interference and memory consistency errors:\r\n\r\n&gt; The impact of object creation is often overestimated, and can be\r\n&gt; offset by some of the efficiencies associated with immutable objects.\r\n&gt; These include **decreased overhead due to garbage collection**, and\r\n&gt; the elimination of code needed to protect mutable objects from\r\n&gt; corruption.\r\n\r\n**The question is how? What does Garbage Collection have to do with Mutability or Immutability of objects?**\r\n\r\n  [1]: https://stackoverflow.com/questions/3798424/what-is-the-garbage-collector-in-java\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html","title":"How do Immutable Objects help decrease overhead due to Garbage Collection?","body":"<p>I am a newb, and I have read about Garbage Collection from the first two answers <a href=\"https://stackoverflow.com/questions/3798424/what-is-the-garbage-collector-in-java\">here</a>.</p>\n\n<p>Now justifying the use of Immutable Objects even if the programmer has to create new objects, as compared to using existing objects (in multi-threaded applications), <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"noreferrer\">this tutorial</a> says that the cost of object creation is made up for by the <em>decrease in memory overhead due to garbage collection</em>, and the elimination of code to protect mutable objects from threads interference and memory consistency errors:</p>\n\n<blockquote>\n  <p>The impact of object creation is often overestimated, and can be\n  offset by some of the efficiencies associated with immutable objects.\n  These include <strong>decreased overhead due to garbage collection</strong>, and\n  the elimination of code needed to protect mutable objects from\n  corruption.</p>\n</blockquote>\n\n<p><strong>The question is how? What does Garbage Collection have to do with Mutability or Immutability of objects?</strong></p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1662637808,"post_id":73648564,"comment_id":130054742,"body_markdown":"How is `str.equals(&quot;minus&quot;)` to ever be true if the action command is `&quot;-&quot;`? Same thing for `&quot;plus&quot;` and `&quot;+&quot;`.","body":"How is <code>str.equals(&quot;minus&quot;)</code> to ever be true if the action command is <code>&quot;-&quot;</code>? Same thing for <code>&quot;plus&quot;</code> and <code>&quot;+&quot;</code>."},{"owner":{"account_id":26280699,"reputation":1,"user_id":19949234,"display_name":"peacemaker"},"score":0,"creation_date":1662637959,"post_id":73648564,"comment_id":130054795,"body_markdown":"I guess I&#39;m blind. Thank you!","body":"I guess I&#39;m blind. Thank you!"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662638019,"post_id":73648564,"comment_id":130054814,"body_markdown":"Probably a matter of reading out the code in your mind which turns `&quot;+&quot;` into `&quot;plus&quot;` :D","body":"Probably a matter of reading out the code in your mind which turns <code>&quot;+&quot;</code> into <code>&quot;plus&quot;</code> :D"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1662638694,"post_id":73648564,"comment_id":130055060,"body_markdown":"BTW, if the action command is not already set, it will default to the the label of the button when `getActionCommand` is invoked.  In your case above, it does not need to be explicitly set.","body":"BTW, if the action command is not already set, it will default to the the label of the button when <code>getActionCommand</code> is invoked.  In your case above, it does not need to be explicitly set."}],"owner":{"account_id":26280699,"reputation":1,"user_id":19949234,"display_name":"peacemaker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662644394,"creation_date":1662637523,"question_id":73648564,"body_markdown":"I have two buttons on an applet and a variable &quot;stat&quot;. The idea is that I want to change a value of the variable by either pressing button plus or minus that will add or subtract 1, respectively. But the variable &quot;stat&quot; does not change its value in any way. Can you please help me understand in what way can I overwrite a value of the variable?\r\n\r\n```\r\nimport  java.awt.*;\r\nimport  java.applet.*;\r\nimport  java.awt.event.*;\r\n\r\npublic  class  test  extends  Applet implements ActionListener\r\n{ \r\n\r\n   int stat=0;\r\n   Button plus, minus;\r\n   String str=&quot;&quot;;\r\n   \r\n   public void init()\r\n   {\r\n\t   \r\n\t   plus = new Button(&quot;+&quot;);\r\n\t   plus.setActionCommand(&quot;+&quot;);\r\n\t   \r\n\t   minus = new Button(&quot;-&quot;);\r\n\t   minus.setActionCommand(&quot;-&quot;);\r\n\t   \r\n\r\n\t   minus.addActionListener(this);\r\n\t   plus.addActionListener(this);\r\n\t   \t   \r\n\t   add(plus);\r\n\t   add(minus);\r\n\t   \t   \r\n   }\r\n   \r\n   \r\n \r\n   \r\n   public void actionPerformed(ActionEvent ae)\r\n   {\r\n\t\tstr = ae.getActionCommand();\r\n\r\n\t    if (str.equals(&quot;minus&quot;)) { stat-=1;  }\r\n\t\telse if (str.equals(&quot;plus&quot;)) { stat+=1; }\r\n\t    \r\n   }\r\n   \r\n   \r\n}\r\n```\r\n","title":"Java AWT Unable to change a value of a variable in the actionPerformed() function","body":"<p>I have two buttons on an applet and a variable &quot;stat&quot;. The idea is that I want to change a value of the variable by either pressing button plus or minus that will add or subtract 1, respectively. But the variable &quot;stat&quot; does not change its value in any way. Can you please help me understand in what way can I overwrite a value of the variable?</p>\n<pre><code>import  java.awt.*;\nimport  java.applet.*;\nimport  java.awt.event.*;\n\npublic  class  test  extends  Applet implements ActionListener\n{ \n\n   int stat=0;\n   Button plus, minus;\n   String str=&quot;&quot;;\n   \n   public void init()\n   {\n       \n       plus = new Button(&quot;+&quot;);\n       plus.setActionCommand(&quot;+&quot;);\n       \n       minus = new Button(&quot;-&quot;);\n       minus.setActionCommand(&quot;-&quot;);\n       \n\n       minus.addActionListener(this);\n       plus.addActionListener(this);\n           \n       add(plus);\n       add(minus);\n           \n   }\n   \n   \n \n   \n   public void actionPerformed(ActionEvent ae)\n   {\n        str = ae.getActionCommand();\n\n        if (str.equals(&quot;minus&quot;)) { stat-=1;  }\n        else if (str.equals(&quot;plus&quot;)) { stat+=1; }\n        \n   }\n   \n   \n}\n</code></pre>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":1384870,"reputation":5570,"user_id":1317117,"display_name":"andih"},"score":0,"creation_date":1496994701,"post_id":44452107,"comment_id":75901023,"body_markdown":"Can you explain in more detail what you expect. Http Status Code 404 means &quot;Not Found&quot;. There is no redirect. Whom do you want to redirect? A standard http / rest client will not follow redirects when he gets a 404 Status Code. If you want to redirect the clients you&#39;ll have to use http status codes 3xx. Take care you may have to configure your clients to automatically follow redirects.","body":"Can you explain in more detail what you expect. Http Status Code 404 means &quot;Not Found&quot;. There is no redirect. Whom do you want to redirect? A standard http / rest client will not follow redirects when he gets a 404 Status Code. If you want to redirect the clients you&#39;ll have to use http status codes 3xx. Take care you may have to configure your clients to automatically follow redirects."},{"owner":{"account_id":3470616,"reputation":533,"user_id":2905035,"display_name":"wojtek1902"},"score":0,"creation_date":1496995052,"post_id":44452107,"comment_id":75901220,"body_markdown":"It&#39;s true that standard 404 doesn&#39;t do the redirect, therefore I added &lt;error-page&gt; tags to the web.xml, which provide that when client gets 404, he will be redirected to the 404.xhtml. But it doesn&#39;t work if he gets 404 from REST... And that&#39;s my problem.","body":"It&#39;s true that standard 404 doesn&#39;t do the redirect, therefore I added &lt;error-page&gt; tags to the web.xml, which provide that when client gets 404, he will be redirected to the 404.xhtml. But it doesn&#39;t work if he gets 404 from REST... And that&#39;s my problem."},{"owner":{"account_id":1384870,"reputation":5570,"user_id":1317117,"display_name":"andih"},"score":0,"creation_date":1496996557,"post_id":44452107,"comment_id":75902104,"body_markdown":"Your application is both `web.xml` as well as  annotations based. You want that your annotations based part - which you call rest addresses - to return your configured 404 error page in the case that a resource is not available, which has nothing to do with redirects. Is that correct? Can you than please reformulate your question / problem description this way? Does your Annotation (REST) part work for existing resources?","body":"Your application is both <code>web.xml</code> as well as  annotations based. You want that your annotations based part - which you call rest addresses - to return your configured 404 error page in the case that a resource is not available, which has nothing to do with redirects. Is that correct? Can you than please reformulate your question / problem description this way? Does your Annotation (REST) part work for existing resources?"},{"owner":{"account_id":3470616,"reputation":533,"user_id":2905035,"display_name":"wojtek1902"},"score":0,"creation_date":1496996938,"post_id":44452107,"comment_id":75902305,"body_markdown":"Yes, you are correct. So I&#39;m going to edit my question. And yes, Annotation (REST) work properly for existing resources.","body":"Yes, you are correct. So I&#39;m going to edit my question. And yes, Annotation (REST) work properly for existing resources."}],"answers":[{"tags":[],"owner":{"account_id":1384870,"reputation":5570,"user_id":1317117,"display_name":"andih"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662644275,"creation_date":1497339671,"answer_id":44515172,"question_id":44452107,"body_markdown":"Not pretty sure why your rest resources are found at all but for complex deployments with `web.xml` and Annotations to work you&#39;ll have to do a little bit more.\r\n\r\n\r\nYour `RestApplication` class must extend `javax.ws.rs.core.Application` to define the components of a RESTful Web service application deployment. For more details about `javax.ws.rs.core.Application`, see the Javadoc at [http://download.oracle.com/javaee/6/api/javax/ws/rs/core/Application.html][1]\r\n\r\nWithin your `Application` subclass you have to  override either the `getClasses()` or the `getSingletons()` methods, as required, to return the list of RESTful Web service resources.\r\n\r\nFor Example \r\n\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class RestApplication extends Application {\r\n    \t\r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            Set&lt;Class&lt;?&gt;&gt; s = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n            s.add(HelloResource.class);\r\n            return s;\r\n        }\r\n    \r\n    }\r\n\r\nWith the Hello REST resource. \r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class HelloResource {\r\n    \r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public String getHello() {\r\n            return &quot;Hello!&quot;;\r\n        }\r\n    }\r\n\r\nIn your `web.xml` you&#39;ll have to define your REST Application. \r\nYou can configure more than one if you need it.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; \r\n    id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;!-- The servlet name is the full qualified name of your rest application it must be a subclass of java.ws.rs.Application --&gt; \r\n            &lt;servlet-name&gt;org.example.restexample.RestApplication&lt;/servlet-name&gt;\r\n            &lt;!--servlet-class is not needed --&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n                &lt;!-- As init parameter pass the full qualified name of the java.ws.rs.Application subclass --&gt; \r\n                &lt;param-value&gt;org.example.restexample.RestApplication&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;!-- other servlet definitions --&gt; \r\n        \r\n\r\n        &lt;--servlet mapping --&gt; \r\n\r\n        &lt;error-page&gt;\r\n        \t&lt;error-code&gt;404&lt;/error-code&gt;\r\n        \t&lt;location&gt;/NotFound.html&lt;/location&gt;\r\n        &lt;/error-page&gt;\r\n    &lt;/web-app&gt;\r\n\r\nYou may specify a servlet mapping for your JaxRS Application(s). If you do so the `&lt;servlet-mapping&gt;` will take precedence. \r\n\r\nThe example above returns the configured 404 error page if a resource like \r\n&quot;.../rest/foo&quot; is requested where as &quot;.../rest/hello&quot; returns &quot;Hello&quot;.\r\n\r\nThe example above was tested with jersey 2.26-b03 and tomcat 8.5.15.\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/ws/rs/core/Application.html","title":"Configured 404 error page not shown in JAX-RS Application","body":"<p>Not pretty sure why your rest resources are found at all but for complex deployments with <code>web.xml</code> and Annotations to work you'll have to do a little bit more.</p>\n<p>Your <code>RestApplication</code> class must extend <code>javax.ws.rs.core.Application</code> to define the components of a RESTful Web service application deployment. For more details about <code>javax.ws.rs.core.Application</code>, see the Javadoc at <a href=\"http://download.oracle.com/javaee/6/api/javax/ws/rs/core/Application.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javaee/6/api/javax/ws/rs/core/Application.html</a></p>\n<p>Within your <code>Application</code> subclass you have to  override either the <code>getClasses()</code> or the <code>getSingletons()</code> methods, as required, to return the list of RESTful Web service resources.</p>\n<p>For Example</p>\n<pre><code>@ApplicationPath(&quot;/rest&quot;)\npublic class RestApplication extends Application {\n    \n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; s = new HashSet&lt;Class&lt;?&gt;&gt;();\n        s.add(HelloResource.class);\n        return s;\n    }\n\n}\n</code></pre>\n<p>With the Hello REST resource.</p>\n<pre><code>@Path(&quot;/hello&quot;)\npublic class HelloResource {\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String getHello() {\n        return &quot;Hello!&quot;;\n    }\n}\n</code></pre>\n<p>In your <code>web.xml</code> you'll have to define your REST Application.\nYou can configure more than one if you need it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\nxmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\nhttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; \nid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;servlet&gt;\n        &lt;!-- The servlet name is the full qualified name of your rest application it must be a subclass of java.ws.rs.Application --&gt; \n        &lt;servlet-name&gt;org.example.restexample.RestApplication&lt;/servlet-name&gt;\n        &lt;!--servlet-class is not needed --&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;!-- As init parameter pass the full qualified name of the java.ws.rs.Application subclass --&gt; \n            &lt;param-value&gt;org.example.restexample.RestApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;!-- other servlet definitions --&gt; \n    \n\n    &lt;--servlet mapping --&gt; \n\n    &lt;error-page&gt;\n        &lt;error-code&gt;404&lt;/error-code&gt;\n        &lt;location&gt;/NotFound.html&lt;/location&gt;\n    &lt;/error-page&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>You may specify a servlet mapping for your JaxRS Application(s). If you do so the <code>&lt;servlet-mapping&gt;</code> will take precedence.</p>\n<p>The example above returns the configured 404 error page if a resource like\n&quot;.../rest/foo&quot; is requested where as &quot;.../rest/hello&quot; returns &quot;Hello&quot;.</p>\n<p>The example above was tested with jersey 2.26-b03 and tomcat 8.5.15.</p>\n"}],"owner":{"account_id":3470616,"reputation":533,"user_id":2905035,"display_name":"wojtek1902"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3534,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44515172,"answer_count":1,"score":2,"last_activity_date":1662644275,"creation_date":1496994237,"question_id":44452107,"body_markdown":"I have the following problem: I&#39;ve created a Java web application. Additionally, I made some REST endpoints. In the web.xml I defined a redirect for the 404 error with the use of the &lt;error-page&gt; tags. It works properly for all addresses except for the non-existing REST endpoints. I implemented the RestApplication class:\r\n\r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    @ApplicationPath(&quot;rest&quot;)\r\n    public class RestApplication extends Application {\r\n    }\r\n\r\nand one endpoint, myView:\r\n\r\n    @Path(&quot;/myView&quot;)\r\n    public class MyView {\r\n    \r\n        @GET\r\n        @Path(&quot;/&quot;)\r\n        public Response myViewPage() {\r\n            //some code goes here...\r\n        }\r\n    }\r\n\r\nand now, when I try to enter the non-existing endpoint, let&#39;s say &quot;aaa&quot;, i.e. I enter the address: http://localhost:8080/mysite/rest/aaa, I get 404 error, but the redirect doesn&#39;t work. For the non-REST addresses, e.g.: http://localhost:8080/mysite/somesitethatdoesnotexist, redirect works properly. My web.xml looks as follows:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n                                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                                xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n                                version=&quot;3.1&quot;&gt;\r\n                                \r\n        &lt;context-param&gt;\r\n           &lt;param-name&gt;resteasy.document.expand.entity.references&lt;/param-name&gt;\r\n           &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;faces&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;faces&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;faces&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;welcome.xhtml&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n        \r\n        &lt;error-page&gt;\r\n            &lt;error-code&gt;404&lt;/error-code&gt;\r\n            &lt;location&gt;/WEB-INF/errorpages/404.xhtml&lt;/location&gt;\r\n        &lt;/error-page&gt;\r\n\r\n        &lt;security-constraint&gt;\r\n            &lt;web-resource-collection&gt;\r\n                &lt;web-resource-name&gt;restricted methods&lt;/web-resource-name&gt;\r\n                &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n                &lt;http-method&gt;PUT&lt;/http-method&gt;\r\n                &lt;http-method&gt;DELETE&lt;/http-method&gt;\r\n                &lt;http-method&gt;OPTIONS&lt;/http-method&gt;\r\n                &lt;http-method&gt;TRACE&lt;/http-method&gt;\r\n                &lt;http-method&gt;HEAD&lt;/http-method&gt;\r\n            &lt;/web-resource-collection&gt;\r\n            &lt;auth-constraint /&gt;\r\n        &lt;/security-constraint&gt;\r\n\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI also tried to use the ExceptionMapper, i.e. I implemented the EntityNotFoundExceptionMapper class:\r\n\r\n    @Provider\r\n    public class EntityNotFoundExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\r\n    \r\n        @Override\r\n        public Response toResponse(NotFoundException ex) {\r\n          // some code for redirect\r\n        }\r\n    }\r\n\r\nand added it to the RestApplication class:\r\n\r\n    \r\n    @ApplicationPath(&quot;rest&quot;)\r\n    public class RestApplication extends Application {\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            Set&lt;Class&lt;?&gt;&gt; s = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n            s.add(EntityNotFoundExceptionMapper.class);\r\n            return s;\r\n        }\r\n    }\r\n\r\nbut it didn&#39;t work. However, it worked when I removed the:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/WEB-INF/errorpages/404.xhtml&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nfrom web.xml. But, unfortunately, the redirect of course didn&#39;t work for the non-REST addresses.\r\n\r\nCan anyone help me with this issue and suggest the solution that would allow me to provide redirect in case of 404 error for both REST and non-REST addresses? Thank you in advance!\r\n\r\n**EDIT:**\r\n\r\nFollowing the remark of @andih, for the REST service, I want to return a configured 404 error page in the case that a resource is not available.","title":"Configured 404 error page not shown in JAX-RS Application","body":"<p>I have the following problem: I've created a Java web application. Additionally, I made some REST endpoints. In the web.xml I defined a redirect for the 404 error with the use of the  tags. It works properly for all addresses except for the non-existing REST endpoints. I implemented the RestApplication class:</p>\n\n<pre><code>import javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n@ApplicationPath(\"rest\")\npublic class RestApplication extends Application {\n}\n</code></pre>\n\n<p>and one endpoint, myView:</p>\n\n<pre><code>@Path(\"/myView\")\npublic class MyView {\n\n    @GET\n    @Path(\"/\")\n    public Response myViewPage() {\n        //some code goes here...\n    }\n}\n</code></pre>\n\n<p>and now, when I try to enter the non-existing endpoint, let's say \"aaa\", i.e. I enter the address: <a href=\"http://localhost:8080/mysite/rest/aaa\" rel=\"nofollow noreferrer\">http://localhost:8080/mysite/rest/aaa</a>, I get 404 error, but the redirect doesn't work. For the non-REST addresses, e.g.: <a href=\"http://localhost:8080/mysite/somesitethatdoesnotexist\" rel=\"nofollow noreferrer\">http://localhost:8080/mysite/somesitethatdoesnotexist</a>, redirect works properly. My web.xml looks as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\r\n                            xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n                            xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\r\n                            version=\"3.1\"&gt;\r\n                            \r\n    &lt;context-param&gt;\r\n       &lt;param-name&gt;resteasy.document.expand.entity.references&lt;/param-name&gt;\r\n       &lt;param-value&gt;false&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;faces&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;faces&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;faces&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;welcome.xhtml&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    \r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/WEB-INF/errorpages/404.xhtml&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;restricted methods&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n            &lt;http-method&gt;PUT&lt;/http-method&gt;\r\n            &lt;http-method&gt;DELETE&lt;/http-method&gt;\r\n            &lt;http-method&gt;OPTIONS&lt;/http-method&gt;\r\n            &lt;http-method&gt;TRACE&lt;/http-method&gt;\r\n            &lt;http-method&gt;HEAD&lt;/http-method&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint /&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\n&lt;/web-app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I also tried to use the ExceptionMapper, i.e. I implemented the EntityNotFoundExceptionMapper class:</p>\n\n<pre><code>@Provider\npublic class EntityNotFoundExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\n\n    @Override\n    public Response toResponse(NotFoundException ex) {\n      // some code for redirect\n    }\n}\n</code></pre>\n\n<p>and added it to the RestApplication class:</p>\n\n<pre><code>@ApplicationPath(\"rest\")\npublic class RestApplication extends Application {\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; s = new HashSet&lt;Class&lt;?&gt;&gt;();\n        s.add(EntityNotFoundExceptionMapper.class);\n        return s;\n    }\n}\n</code></pre>\n\n<p>but it didn't work. However, it worked when I removed the:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;error-page&gt;\r\n    &lt;error-code&gt;404&lt;/error-code&gt;\r\n    &lt;location&gt;/WEB-INF/errorpages/404.xhtml&lt;/location&gt;\r\n&lt;/error-page&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>from web.xml. But, unfortunately, the redirect of course didn't work for the non-REST addresses.</p>\n\n<p>Can anyone help me with this issue and suggest the solution that would allow me to provide redirect in case of 404 error for both REST and non-REST addresses? Thank you in advance!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Following the remark of @andih, for the REST service, I want to return a configured 404 error page in the case that a resource is not available.</p>\n"},{"tags":["java","spring","spring-boot","jmeter-5.0"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1662630214,"post_id":73645913,"comment_id":130051934,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26279050,"reputation":1,"user_id":19947767,"display_name":"Swapnil"},"score":0,"creation_date":1662644132,"post_id":73645913,"comment_id":130057207,"body_markdown":"after updating application .properties  \nspring.datasource.url=jdbc:hsqldb:mem:testdb;DB_CLOSE_DELAY=-1;sql.syntax_pgs=true\n\n  getting  type not found or user lacks privilege","body":"after updating application .properties   spring.datasource.url=jdbc:hsqldb:mem:testdb;DB_CLOSE_DELAY=&zwnj;&#8203;-1;sql.syntax_pgs=tr&zwnj;&#8203;ue    getting  type not found or user lacks privilege"}],"owner":{"account_id":26279050,"reputation":1,"user_id":19947767,"display_name":"Swapnil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662643932,"creation_date":1662625656,"question_id":73645913,"body_markdown":"we are having SQL function which runs for particular junit 5 test cases on in-memory database hsqldb. it was working fine before upgrading spring boot to 2.7.3 .\r\n\r\nFunction code:\r\n```\r\nCREATE FUNCTION db_schema.getEmplyoeeReport(deliveryStatus text, limitRecord integer) RETURNS setof db_schema.employee_usage_report_delivery_status AS &#39; BEGIN RETURN QUERY SELECT * FROM db_schema.employee_usage_report_delivery_status usageDelivery WHERE usageDelivery.status = deliveryStatus LIMIT limitRecord; END;\r\n &#39; LANGUAGE plpgsql   \r\n```\r\n\r\n```none\r\n org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [java.lang.String trustStorePassword] in constructor [public com.abc.demo.admin.rest.demoServerABCUserTest(java.lang.String,java.lang.String,org.springframework.boot.test.web.client.TestRestTemplate,com.abc.demo.admin.rest.manager.service.ApplicationPropertyService,java.lang.String,java.lang.String)]: Failed to load ApplicationContext\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameter(ExecutableInvoker.java:239)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameters(ExecutableInvoker.java:183)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:74)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:355)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:302)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:280)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \t\r\n```","title":"updating springboot version from 2.6.7 to 2.7.3 gives issue org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter","body":"<p>we are having SQL function which runs for particular junit 5 test cases on in-memory database hsqldb. it was working fine before upgrading spring boot to 2.7.3 .</p>\n<p>Function code:</p>\n<pre><code>CREATE FUNCTION db_schema.getEmplyoeeReport(deliveryStatus text, limitRecord integer) RETURNS setof db_schema.employee_usage_report_delivery_status AS ' BEGIN RETURN QUERY SELECT * FROM db_schema.employee_usage_report_delivery_status usageDelivery WHERE usageDelivery.status = deliveryStatus LIMIT limitRecord; END;\n ' LANGUAGE plpgsql   \n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code> org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [java.lang.String trustStorePassword] in constructor [public com.abc.demo.admin.rest.demoServerABCUserTest(java.lang.String,java.lang.String,org.springframework.boot.test.web.client.TestRestTemplate,com.abc.demo.admin.rest.manager.service.ApplicationPropertyService,java.lang.String,java.lang.String)]: Failed to load ApplicationContext\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameter(ExecutableInvoker.java:239)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.resolveParameters(ExecutableInvoker.java:183)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:74)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:355)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:302)\n        at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:280)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n        at java.base/java.util.Optional.orElseGet(Optional.java:369)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n        \n</code></pre>\n"},{"tags":["java","thread-safety","linkedblockingqueue"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1662643930,"post_id":73649860,"comment_id":130057141,"body_markdown":"I don&#39;t think so, cuz .stream is method of Collection interface it is the same with foreach loop. usage of ConcurrentLinkedQueue must be safe","body":"I don&#39;t think so, cuz .stream is method of Collection interface it is the same with foreach loop. usage of ConcurrentLinkedQueue must be safe"}],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662643726,"creation_date":1662643726,"question_id":73649860,"body_markdown":"can anyone explain me if in java \r\n\r\n\r\n    //Thread 1\r\n    BlockingQueue&lt;String&gt; queue = new LinkedBlockingQueue&lt;&gt;();\r\n    queue.put(&quot;232323232&quot;);\r\n    .....\r\n    //Thread 2\r\n    Stream&lt;String&gt; result = queue.stream().takeWhile(predicate);\r\n\r\n\r\nis thread safe? ... if one thread is puts in queue and another is reading with stream takeWhile the queue data?   ","title":"Is stream().takeWhile thread safe on LinkedBlockingQueue","body":"<p>can anyone explain me if in java</p>\n<pre><code>//Thread 1\nBlockingQueue&lt;String&gt; queue = new LinkedBlockingQueue&lt;&gt;();\nqueue.put(&quot;232323232&quot;);\n.....\n//Thread 2\nStream&lt;String&gt; result = queue.stream().takeWhile(predicate);\n</code></pre>\n<p>is thread safe? ... if one thread is puts in queue and another is reading with stream takeWhile the queue data?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1662643086,"post_id":73649696,"comment_id":130056814,"body_markdown":"Please [avoid raw types](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it). The argument should be `List&lt;String&gt; lista` and `list` should be declared/initialized as `List&lt;Integer&gt; list = new ArrayList&lt;&gt;()`.","body":"Please <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">avoid raw types</a>. The argument should be <code>List&lt;String&gt; lista</code> and <code>list</code> should be declared/initialized as <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;()</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662643286,"post_id":73649696,"comment_id":130056889,"body_markdown":"*&quot;I want &quot;2&quot; to be included as well but the rest (&quot;2022 04 06&quot;)&quot;* - Does it imply you need only the *first character* of every string or this applies only to strings representing a date? Why there&#39;s no issue with `56`?","body":"<i>&quot;I want &quot;2&quot; to be included as well but the rest (&quot;2022 04 06&quot;)&quot;</i> - Does it imply you need only the <i>first character</i> of every string or this applies only to strings representing a date? Why there&#39;s no issue with <code>56</code>?"},{"owner":{"account_id":26272705,"reputation":1,"user_id":19942391,"display_name":"molyyyllom"},"score":0,"creation_date":1662643561,"post_id":73649696,"comment_id":130056986,"body_markdown":"@AlexanderIvanchenko I want all characters before space to be a single int. The &quot;2&quot; or &quot;56&quot; represent a points and the rest date.","body":"@AlexanderIvanchenko I want all characters before space to be a single int. The &quot;2&quot; or &quot;56&quot; represent a points and the rest date."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662643615,"post_id":73649696,"comment_id":130057014,"body_markdown":"What if one of the strings is `&quot;123foo&quot;`? Or just `&quot;foo&quot;`? Or the empty string `&quot;&quot;`? How should the code behave then?","body":"What if one of the strings is <code>&quot;123foo&quot;</code>? Or just <code>&quot;foo&quot;</code>? Or the empty string <code>&quot;&quot;</code>? How should the code behave then?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662643419,"creation_date":1662643419,"answer_id":73649792,"question_id":73649696,"body_markdown":"Right now `Pattern.matches` checks if *the whole string* matches `\\d*` (i.e. only contains digits). That&#39;s very easy with the static `Pattern.matches` method.\r\n\r\nTo do anything more involved with regex, you should use [a `Matcher`][1] (which is the thing that is about a single *use* of a regex, i.e. it&#39;s the combination of a pattern like `\\d*` and some input string like `liniaString`). It&#39; still used under the hood, but `Pattern.matches` hides that fact from you.\r\n\r\nSo your code could look like this (I also fixed the types and added `static` since the method doesn&#39;t depend on any state of the object):\r\n\r\n```\r\nprivate static List&lt;Integer&gt; listaPunktowInt(List&lt;String&gt; lista) {\r\n    Pattern pattern = Pattern.compile(&quot;^\\d+&quot;);\r\n    List&lt;Integer&gt; list=new ArrayList&lt;&gt;();\r\n    for (String liniaString : lista) {\r\n        Matcher matcher = pattern.matcher(liniaString);\r\n        if(matcher.find()) {\r\n            list.add(Integer.parseInt(matcher.group()));\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```\r\n\r\nRight now this simply takes as many digits from the beginning as possible and ignores whatever comes after them (characters, space, end of string, ...). If you want something other than that, you can adapt the pattern used.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html","title":"Can I ignore rest of the list when the pattern occurs java?","body":"<p>Right now <code>Pattern.matches</code> checks if <em>the whole string</em> matches <code>\\d*</code> (i.e. only contains digits). That's very easy with the static <code>Pattern.matches</code> method.</p>\n<p>To do anything more involved with regex, you should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">a <code>Matcher</code></a> (which is the thing that is about a single <em>use</em> of a regex, i.e. it's the combination of a pattern like <code>\\d*</code> and some input string like <code>liniaString</code>). It' still used under the hood, but <code>Pattern.matches</code> hides that fact from you.</p>\n<p>So your code could look like this (I also fixed the types and added <code>static</code> since the method doesn't depend on any state of the object):</p>\n<pre><code>private static List&lt;Integer&gt; listaPunktowInt(List&lt;String&gt; lista) {\n    Pattern pattern = Pattern.compile(&quot;^\\d+&quot;);\n    List&lt;Integer&gt; list=new ArrayList&lt;&gt;();\n    for (String liniaString : lista) {\n        Matcher matcher = pattern.matcher(liniaString);\n        if(matcher.find()) {\n            list.add(Integer.parseInt(matcher.group()));\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>Right now this simply takes as many digits from the beginning as possible and ignores whatever comes after them (characters, space, end of string, ...). If you want something other than that, you can adapt the pattern used.</p>\n"}],"owner":{"account_id":26272705,"reputation":1,"user_id":19942391,"display_name":"molyyyllom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73649792,"answer_count":1,"score":-1,"last_activity_date":1662643419,"creation_date":1662642931,"question_id":73649696,"body_markdown":"This is the Code:\r\n\r\n    private List listaPunktowInt(List lista) {\r\n\t\t\r\n\t\tString liniaString=&quot;&quot;;\r\n\t\tList&lt;Integer&gt; list=new ArrayList();\r\n\t\tIterator&lt;String&gt; it=lista.iterator();\r\n\t\twhile(it.hasNext()) {\r\n\t\t\tliniaString=it.next();\r\n\t\t\t\r\n\t\t\tif(Pattern.matches(&quot;\\\\d*&quot;,liniaString)) {\r\n\t\t\t\tlist.add(Integer.parseInt(liniaString));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Collections.sort(list);\r\n\t\t//Collections.reverse(list);\r\n\t\tSystem.out.println(list);\r\n\t\treturn list;\r\n\t}\r\n\r\n    Input:[56, 4, 2\t2022 04 06, 1, 1, 1]\r\n\r\n    Output:[56, 4, 1, 1, 1]\r\n\r\nI want &quot;2&quot; to be included as well but the rest (&quot;2022 04 06&quot;) to be ignored, is it possible?\r\n","title":"Can I ignore rest of the list when the pattern occurs java?","body":"<p>This is the Code:</p>\n<pre><code>private List listaPunktowInt(List lista) {\n    \n    String liniaString=&quot;&quot;;\n    List&lt;Integer&gt; list=new ArrayList();\n    Iterator&lt;String&gt; it=lista.iterator();\n    while(it.hasNext()) {\n        liniaString=it.next();\n        \n        if(Pattern.matches(&quot;\\\\d*&quot;,liniaString)) {\n            list.add(Integer.parseInt(liniaString));\n        }\n    }\n    \n    //Collections.sort(list);\n    //Collections.reverse(list);\n    System.out.println(list);\n    return list;\n}\n\nInput:[56, 4, 2 2022 04 06, 1, 1, 1]\n\nOutput:[56, 4, 1, 1, 1]\n</code></pre>\n<p>I want &quot;2&quot; to be included as well but the rest (&quot;2022 04 06&quot;) to be ignored, is it possible?</p>\n"},{"tags":["java","spring-boot","spring-mvc","openfeign"],"answers":[{"tags":[],"owner":{"account_id":18201618,"reputation":204,"user_id":13245658,"display_name":"Limon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662643413,"creation_date":1662643413,"answer_id":73649791,"question_id":73649768,"body_markdown":"Just overwrite the toString method.\r\nThis way, the server can understand the object in @PathVariable\r\n\r\n        @Override\r\n        public String toString() {\r\n            return id;\r\n        }","title":"How can I recieve the id inside a wrapper object on the server side in Spring?","body":"<p>Just overwrite the toString method.\nThis way, the server can understand the object in @PathVariable</p>\n<pre><code>    @Override\n    public String toString() {\n        return id;\n    }\n</code></pre>\n"}],"owner":{"account_id":18201618,"reputation":204,"user_id":13245658,"display_name":"Limon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662643413,"creation_date":1662643319,"question_id":73649768,"body_markdown":"I wrote a controller-client method, which includes a wrapper-object (custom object) in the @PathVariable. This wrapper object is mandatory to do type-based validations inside the @CustomAnnotation.\r\n\r\n    @CustomAnnotation\r\n    @PostMapping\r\n    public void save(@Valid @NotNull @PathVariable(&quot;id&quot;) Id id) {\r\n\t\t\t// service calls etc.\r\n    }\r\n\r\nThe wrapper object only contains an Id\r\n\r\n    public class Id {\r\n\r\n    private String id;\r\n\r\n    public Id(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n\t\t// ...\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.Iid = id;\r\n    }\r\n\r\n\r\n\r\nThis client method is in an interface package and can distributed to clients. The clients call the server via OpenFeign. The controller serving the interface implements these methods.\r\n\r\n**Problem:** &lt;br&gt;\r\nI can easily invoke the method type-based, but the server retrieves the object as .toString() - making it impossible to reconstruct the id.\r\n\r\nHow can I recieve the original id inside a wrapper object on the server side?\r\n","title":"How can I recieve the id inside a wrapper object on the server side in Spring?","body":"<p>I wrote a controller-client method, which includes a wrapper-object (custom object) in the @PathVariable. This wrapper object is mandatory to do type-based validations inside the @CustomAnnotation.</p>\n<pre><code>@CustomAnnotation\n@PostMapping\npublic void save(@Valid @NotNull @PathVariable(&quot;id&quot;) Id id) {\n        // service calls etc.\n}\n</code></pre>\n<p>The wrapper object only contains an Id</p>\n<pre><code>public class Id {\n\nprivate String id;\n\npublic Id(String id) {\n    this.id = id;\n}\n\npublic Long getId() {\n    // ...\n}\n\npublic void setId(String id) {\n    this.Iid = id;\n}\n</code></pre>\n<p>This client method is in an interface package and can distributed to clients. The clients call the server via OpenFeign. The controller serving the interface implements these methods.</p>\n<p><strong>Problem:</strong> <br>\nI can easily invoke the method type-based, but the server retrieves the object as .toString() - making it impossible to reconstruct the id.</p>\n<p>How can I recieve the original id inside a wrapper object on the server side?</p>\n"},{"tags":["java","optimization","primes","sieve"],"comments":[{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1438794569,"post_id":31837761,"comment_id":51599083,"body_markdown":"to analyze your algorithm, always check its run times at more than one size point (preferably 3 or 4) and apply the [empirical orders of growth](https://en.wikipedia.org/wiki/Analysis_of_algorithms#Empirical_orders_of_growth) analysis. for generating `n` primes, if it behaves as ~n^1.1, you&#39;re good; below ~n^1.5 is so-so, ~n^2 is way too slow. which is yours?","body":"to analyze your algorithm, always check its run times at more than one size point (preferably 3 or 4) and apply the <a href=\"https://en.wikipedia.org/wiki/Analysis_of_algorithms#Empirical_orders_of_growth\" rel=\"nofollow noreferrer\">empirical orders of growth</a> analysis. for generating <code>n</code> primes, if it behaves as ~n^1.1, you&#39;re good; below ~n^1.5 is so-so, ~n^2 is way too slow. which is yours?"},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1438794698,"post_id":31837761,"comment_id":51599152,"body_markdown":"@WillNess Thank you for that. Any suggestions for improving the algorithm?","body":"@WillNess Thank you for that. Any suggestions for improving the algorithm?"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1438794722,"post_id":31837761,"comment_id":51599173,"body_markdown":"first please tell us, which e.o.g. is your code. \nsecond, consult [this canonical primes Java answer](http://stackoverflow.com/a/9704912/849891).","body":"first please tell us, which e.o.g. is your code.  second, consult <a href=\"http://stackoverflow.com/a/9704912/849891\">this canonical primes Java answer</a>."},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":0,"creation_date":1439562112,"post_id":31837761,"comment_id":51927010,"body_markdown":"You don&#39;t need to explicitly add 2 or 3. As @durron597 pointed out, your 6k +/- 1 formula removes them automatically. You&#39;ll never generate a multiple of 2 or of 3 using your formula.","body":"You don&#39;t need to explicitly add 2 or 3. As @durron597 pointed out, your 6k +/- 1 formula removes them automatically. You&#39;ll never generate a multiple of 2 or of 3 using your formula."},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":0,"creation_date":1439562150,"post_id":31837761,"comment_id":51927032,"body_markdown":"Consider posting to http://codereview.stackexchange.com/ if you want a more comprehensive look at performance.","body":"Consider posting to <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> if you want a more comprehensive look at performance."},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":1,"creation_date":1439562202,"post_id":31837761,"comment_id":51927071,"body_markdown":"@ErickG.Hagstrom We have to, because 2 and 3 are primes, what removed are the multiples of 2 and 3, not 2 and 3.","body":"@ErickG.Hagstrom We have to, because 2 and 3 are primes, what removed are the multiples of 2 and 3, not 2 and 3."},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":0,"creation_date":1439563057,"post_id":31837761,"comment_id":51927609,"body_markdown":"No, you don&#39;t have to remove multiples of 2 and 3. Your formula will never generate a multiple of 2 or 3.","body":"No, you don&#39;t have to remove multiples of 2 and 3. Your formula will never generate a multiple of 2 or 3."}],"answers":[{"tags":[],"owner":{"account_id":1826979,"reputation":1512,"user_id":1659409,"display_name":"Bert Peters"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438791887,"creation_date":1438791887,"answer_id":31837959,"question_id":31837761,"body_markdown":"There are several things that could be optimized.\r\n\r\nFor starters, the &quot;contains&quot; and &quot;removeAll&quot; operations on an ArrayList are rather expensive operations (linear for the former, worst case quadratic for the latter) so you might not want to use the ArrayList for this. A Hash- or TreeSet has better complexities for this, being nearly constant (Hashing complexities are weird) and logarithmic I think\r\n\r\nYou could look into the sieve of sieve of Eratosthenes if you want a more efficient sieve altogeter, but that would be besides the point of your question about the 6k +-1 trick. It is slightly but not noticably more memory expensive than your solution, but way faster.","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>There are several things that could be optimized.</p>\n\n<p>For starters, the \"contains\" and \"removeAll\" operations on an ArrayList are rather expensive operations (linear for the former, worst case quadratic for the latter) so you might not want to use the ArrayList for this. A Hash- or TreeSet has better complexities for this, being nearly constant (Hashing complexities are weird) and logarithmic I think</p>\n\n<p>You could look into the sieve of sieve of Eratosthenes if you want a more efficient sieve altogeter, but that would be besides the point of your question about the 6k +-1 trick. It is slightly but not noticably more memory expensive than your solution, but way faster.</p>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438793142,"creation_date":1438793142,"answer_id":31838353,"question_id":31837761,"body_markdown":"&gt; Can this approach be much more optimized?\r\n\r\nThe answer is yes. \r\n\r\nI&#39;ll start by saying that it *is* a good idea to use the sieve on a subset of number within a certain range, and your suggesting is doing exactly that.\r\n\r\nReading about [generating Primes][1]:\r\n\r\n&gt; ...Furthermore, based on the sieve formalisms, some integer sequences\r\n&gt; (sequence [A240673][2] in [OEIS][3]) are constructed which they also could be used for generating primes in certain intervals.\r\n\r\nThe meaning of this paragraph is that your approach of starting with a reduced list of integers was indeed adopted by the academy, but their techniques are more efficient (but also, naturally, more complex). \r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Generating_primes\r\n  [2]: https://oeis.org/A240673\r\n  [3]: https://en.wikipedia.org/wiki/On-Line_Encyclopedia_of_Integer_Sequences","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<blockquote>\n  <p>Can this approach be much more optimized?</p>\n</blockquote>\n\n<p>The answer is yes. </p>\n\n<p>I'll start by saying that it <em>is</em> a good idea to use the sieve on a subset of number within a certain range, and your suggesting is doing exactly that.</p>\n\n<p>Reading about <a href=\"https://en.wikipedia.org/wiki/Generating_primes\" rel=\"nofollow\">generating Primes</a>:</p>\n\n<blockquote>\n  <p>...Furthermore, based on the sieve formalisms, some integer sequences\n  (sequence <a href=\"https://oeis.org/A240673\" rel=\"nofollow\">A240673</a> in <a href=\"https://en.wikipedia.org/wiki/On-Line_Encyclopedia_of_Integer_Sequences\" rel=\"nofollow\">OEIS</a>) are constructed which they also could be used for generating primes in certain intervals.</p>\n</blockquote>\n\n<p>The meaning of this paragraph is that your approach of starting with a reduced list of integers was indeed adopted by the academy, but their techniques are more efficient (but also, naturally, more complex). </p>\n"},{"tags":[],"owner":{"account_id":318275,"reputation":38762,"user_id":635411,"accept_rate":100,"display_name":"dting"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439452765,"creation_date":1438794960,"answer_id":31838864,"question_id":31837761,"body_markdown":"You don&#39;t need to add all possible candidates to the array. You can create a Set to store all non primes.\r\n\r\nAlso you can start checking at `k * k`, rather than `2 * k` \r\n\r\n      public void primesTo1000() {\r\n        Set&lt;Integer&gt; notPrimes = new HashSet&lt;&gt;();\r\n        ArrayList&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n        primes.add(2);//explicitly add\r\n        primes.add(3);//2 and 3\r\n    \r\n        for (int i = 1; i &lt; (1000 / 6); i++) {\r\n          handlePossiblePrime(6 * i - 1, primes, notPrimes);\r\n          handlePossiblePrime(6 * i + 1, primes, notPrimes);\r\n        }\r\n        System.out.println(primes);\r\n      }\r\n    \r\n      public void handlePossiblePrime(\r\n          int k, List&lt;Integer&gt; primes, Set&lt;Integer&gt; notPrimes) {\r\n        if (!notPrimes.contains(k)) {\r\n          primes.add(k);\r\n          for (int j = k * k; j &lt;= 1000; j += k) {\r\n            notPrimes.add(j);\r\n          }\r\n        }\r\n      }\r\n\r\n*untested code, check corners*\r\n\r\n\r\n----------\r\n\r\nHere is a bit packing version of the sieve as suggested in [the answer](https://stackoverflow.com/a/9704912/849891) referenced by [@Will Ness](https://stackoverflow.com/users/849891/will-ness). Rather than return the n&lt;sub&gt;th&lt;/sub&gt; prime, this version returns a list of primes to n:\r\n\r\n    public List&lt;Integer&gt; primesTo(int n) {\r\n      List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n      if (n &gt; 1) {\r\n        int limit = (n - 3) &gt;&gt; 1;\r\n        int[] sieve = new int[(limit &gt;&gt; 5) + 1];\r\n        for (int i = 0; i &lt;= (int) (Math.sqrt(n) - 3) &gt;&gt; 1; i++)\r\n          if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0) {\r\n            int p = i + i + 3;\r\n            for (int j = (p * p - 3) &gt;&gt; 1; j &lt;= limit; j += p)\r\n              sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j &amp; 31);\r\n          }\r\n        primes.add(2);\r\n        for (int i = 0; i &lt;= limit; i++)\r\n          if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0)\r\n            primes.add(i + i + 3);\r\n      }\r\n      return primes;\r\n    }\r\n\r\n\r\n----------\r\n\r\nThere seems to be a bug in your updated code that uses a boolean array (it is not returning all the primes).\r\n\r\n\r\n    public static List&lt;Integer&gt; booleanSieve(int n) {\r\n      boolean[] primes = new boolean[n + 5];\r\n      for (int i = 0; i &lt;= n; i++)\r\n        primes[i] = false;\r\n      primes[2] = primes[3] = true;\r\n      for (int i = 1; i &lt;= n / 6; i++) {\r\n        int prod6k = 6 * i;\r\n        primes[prod6k + 1] = true;\r\n        primes[prod6k - 1] = true;\r\n      }\r\n      for (int i = 0; i &lt;= n; i++) {\r\n        if (primes[i]) {\r\n          int k = i;\r\n          for (int j = k * k; j &lt;= n &amp;&amp; j &gt; 0; j += k) {\r\n            primes[j] = false;\r\n          }\r\n        }\r\n      }\r\n    \r\n      List&lt;Integer&gt; primesList = new ArrayList&lt;&gt;();\r\n      for (int i = 0; i &lt;= n; i++)\r\n        if (primes[i])\r\n          primesList.add(i);\r\n    \r\n      return primesList;\r\n    }\r\n    \r\n    public static List&lt;Integer&gt; bitPacking(int n) {\r\n      List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n      if (n &gt; 1) {\r\n        int limit = (n - 3) &gt;&gt; 1;\r\n        int[] sieve = new int[(limit &gt;&gt; 5) + 1];\r\n        for (int i = 0; i &lt;= (int) (Math.sqrt(n) - 3) &gt;&gt; 1; i++)\r\n          if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0) {\r\n            int p = i + i + 3;\r\n            for (int j = (p * p - 3) &gt;&gt; 1; j &lt;= limit; j += p)\r\n              sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j &amp; 31);\r\n          }\r\n        primes.add(2);\r\n        for (int i = 0; i &lt;= limit; i++)\r\n          if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0)\r\n            primes.add(i + i + 3);\r\n      }\r\n      return primes;\r\n    }\r\n    \r\n    public static void main(String... args) {\r\n      Executor executor = Executors.newSingleThreadExecutor();\r\n      executor.execute(() -&gt; {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          int n = (int) Math.pow(10, i);\r\n          Stopwatch timer = Stopwatch.createUnstarted();\r\n          timer.start();\r\n          List&lt;Integer&gt; result = booleanSieve(n);\r\n          timer.stop();\r\n          System.out.println(result.size() + &quot;\\tBoolean: &quot; + timer);\r\n        }\r\n    \r\n        for (int i = 0; i &lt; 10; i++) {\r\n          int n = (int) Math.pow(10, i);\r\n          Stopwatch timer = Stopwatch.createUnstarted();\r\n          timer.start();\r\n          List&lt;Integer&gt; result = bitPacking(n);\r\n          timer.stop();\r\n          System.out.println(result.size() + &quot;\\tBitPacking: &quot; + timer);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n----------\r\n\r\n    0\tBoolean: 38.51 μs\r\n    4\tBoolean: 45.77 μs\r\n    25\tBoolean: 31.56 μs\r\n    168\tBoolean: 227.1 μs\r\n    1229\tBoolean: 1.395 ms\r\n    9592\tBoolean: 4.289 ms\r\n    78491\tBoolean: 25.96 ms\r\n    664116\tBoolean: 133.5 ms\r\n    5717622\tBoolean: 3.216 s\r\n    46707218\tBoolean: 32.18 s\r\n    0\tBitPacking: 117.0 μs\r\n    4\tBitPacking: 11.25 μs\r\n    25\tBitPacking: 11.53 μs\r\n    168\tBitPacking: 70.03 μs\r\n    1229\tBitPacking: 471.8 μs\r\n    9592\tBitPacking: 3.701 ms\r\n    78498\tBitPacking: 9.651 ms\r\n    664579\tBitPacking: 43.43 ms\r\n    5761455\tBitPacking: 1.483 s\r\n    50847534\tBitPacking: 17.71 s","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>You don't need to add all possible candidates to the array. You can create a Set to store all non primes.</p>\n\n<p>Also you can start checking at <code>k * k</code>, rather than <code>2 * k</code> </p>\n\n<pre><code>  public void primesTo1000() {\n    Set&lt;Integer&gt; notPrimes = new HashSet&lt;&gt;();\n    ArrayList&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\n    primes.add(2);//explicitly add\n    primes.add(3);//2 and 3\n\n    for (int i = 1; i &lt; (1000 / 6); i++) {\n      handlePossiblePrime(6 * i - 1, primes, notPrimes);\n      handlePossiblePrime(6 * i + 1, primes, notPrimes);\n    }\n    System.out.println(primes);\n  }\n\n  public void handlePossiblePrime(\n      int k, List&lt;Integer&gt; primes, Set&lt;Integer&gt; notPrimes) {\n    if (!notPrimes.contains(k)) {\n      primes.add(k);\n      for (int j = k * k; j &lt;= 1000; j += k) {\n        notPrimes.add(j);\n      }\n    }\n  }\n</code></pre>\n\n<p><em>untested code, check corners</em></p>\n\n<hr>\n\n<p>Here is a bit packing version of the sieve as suggested in <a href=\"https://stackoverflow.com/a/9704912/849891\">the answer</a> referenced by <a href=\"https://stackoverflow.com/users/849891/will-ness\">@Will Ness</a>. Rather than return the n<sub>th</sub> prime, this version returns a list of primes to n:</p>\n\n<pre><code>public List&lt;Integer&gt; primesTo(int n) {\n  List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\n  if (n &gt; 1) {\n    int limit = (n - 3) &gt;&gt; 1;\n    int[] sieve = new int[(limit &gt;&gt; 5) + 1];\n    for (int i = 0; i &lt;= (int) (Math.sqrt(n) - 3) &gt;&gt; 1; i++)\n      if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0) {\n        int p = i + i + 3;\n        for (int j = (p * p - 3) &gt;&gt; 1; j &lt;= limit; j += p)\n          sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j &amp; 31);\n      }\n    primes.add(2);\n    for (int i = 0; i &lt;= limit; i++)\n      if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0)\n        primes.add(i + i + 3);\n  }\n  return primes;\n}\n</code></pre>\n\n<hr>\n\n<p>There seems to be a bug in your updated code that uses a boolean array (it is not returning all the primes).</p>\n\n<pre><code>public static List&lt;Integer&gt; booleanSieve(int n) {\n  boolean[] primes = new boolean[n + 5];\n  for (int i = 0; i &lt;= n; i++)\n    primes[i] = false;\n  primes[2] = primes[3] = true;\n  for (int i = 1; i &lt;= n / 6; i++) {\n    int prod6k = 6 * i;\n    primes[prod6k + 1] = true;\n    primes[prod6k - 1] = true;\n  }\n  for (int i = 0; i &lt;= n; i++) {\n    if (primes[i]) {\n      int k = i;\n      for (int j = k * k; j &lt;= n &amp;&amp; j &gt; 0; j += k) {\n        primes[j] = false;\n      }\n    }\n  }\n\n  List&lt;Integer&gt; primesList = new ArrayList&lt;&gt;();\n  for (int i = 0; i &lt;= n; i++)\n    if (primes[i])\n      primesList.add(i);\n\n  return primesList;\n}\n\npublic static List&lt;Integer&gt; bitPacking(int n) {\n  List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\n  if (n &gt; 1) {\n    int limit = (n - 3) &gt;&gt; 1;\n    int[] sieve = new int[(limit &gt;&gt; 5) + 1];\n    for (int i = 0; i &lt;= (int) (Math.sqrt(n) - 3) &gt;&gt; 1; i++)\n      if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0) {\n        int p = i + i + 3;\n        for (int j = (p * p - 3) &gt;&gt; 1; j &lt;= limit; j += p)\n          sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j &amp; 31);\n      }\n    primes.add(2);\n    for (int i = 0; i &lt;= limit; i++)\n      if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) == 0)\n        primes.add(i + i + 3);\n  }\n  return primes;\n}\n\npublic static void main(String... args) {\n  Executor executor = Executors.newSingleThreadExecutor();\n  executor.execute(() -&gt; {\n    for (int i = 0; i &lt; 10; i++) {\n      int n = (int) Math.pow(10, i);\n      Stopwatch timer = Stopwatch.createUnstarted();\n      timer.start();\n      List&lt;Integer&gt; result = booleanSieve(n);\n      timer.stop();\n      System.out.println(result.size() + \"\\tBoolean: \" + timer);\n    }\n\n    for (int i = 0; i &lt; 10; i++) {\n      int n = (int) Math.pow(10, i);\n      Stopwatch timer = Stopwatch.createUnstarted();\n      timer.start();\n      List&lt;Integer&gt; result = bitPacking(n);\n      timer.stop();\n      System.out.println(result.size() + \"\\tBitPacking: \" + timer);\n    }\n  });\n}\n</code></pre>\n\n<hr>\n\n<pre><code>0   Boolean: 38.51 μs\n4   Boolean: 45.77 μs\n25  Boolean: 31.56 μs\n168 Boolean: 227.1 μs\n1229    Boolean: 1.395 ms\n9592    Boolean: 4.289 ms\n78491   Boolean: 25.96 ms\n664116  Boolean: 133.5 ms\n5717622 Boolean: 3.216 s\n46707218    Boolean: 32.18 s\n0   BitPacking: 117.0 μs\n4   BitPacking: 11.25 μs\n25  BitPacking: 11.53 μs\n168 BitPacking: 70.03 μs\n1229    BitPacking: 471.8 μs\n9592    BitPacking: 3.701 ms\n78498   BitPacking: 9.651 ms\n664579  BitPacking: 43.43 ms\n5761455 BitPacking: 1.483 s\n50847534    BitPacking: 17.71 s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438805730,"creation_date":1438805730,"answer_id":31842029,"question_id":31837761,"body_markdown":"You can generate your trial numbers with a wheel, adding 2 and 4 alternately, that eliminates the multiplication in 6 * k +/- 1.\r\n\r\n    public void primesTo1000() {\r\n      Set&lt;Integer&gt; notPrimes = new HashSet&lt;&gt;();\r\n      ArrayList&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n      primes.add(2);  //explicitly add\r\n      primes.add(3);  //2 and 3\r\n\r\n      int step = 2;\r\n      int num = 5  // 2 and 3 already handled.\r\n      while (num &lt; 1000) {     \r\n        handlePossiblePrime(num, primes, notPrimes);\r\n        num += step;      // Step to next number.\r\n        step = 6 - step;  // Step by 2, 4 alternately.\r\n      }\r\n      System.out.println(primes);\r\n    }","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>You can generate your trial numbers with a wheel, adding 2 and 4 alternately, that eliminates the multiplication in 6 * k +/- 1.</p>\n\n<pre><code>public void primesTo1000() {\n  Set&lt;Integer&gt; notPrimes = new HashSet&lt;&gt;();\n  ArrayList&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\n  primes.add(2);  //explicitly add\n  primes.add(3);  //2 and 3\n\n  int step = 2;\n  int num = 5  // 2 and 3 already handled.\n  while (num &lt; 1000) {     \n    handlePossiblePrime(num, primes, notPrimes);\n    num += step;      // Step to next number.\n    step = 6 - step;  // Step by 2, 4 alternately.\n  }\n  System.out.println(primes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438987061,"creation_date":1438986748,"answer_id":31887565,"question_id":31837761,"body_markdown":"5 is the first number generated by your criteria. Let&#39;s take a look at the numbers generated up to 25:\n\n&gt; **5**, &lt;del&gt;6&lt;/del&gt;, **7**, &lt;del&gt;8&lt;/del&gt;, &lt;del&gt;9&lt;/del&gt;, &lt;del&gt;10&lt;/del&gt;, **11**, &lt;del&gt;12&lt;/del&gt;, **13**, &lt;del&gt;14&lt;/del&gt;, &lt;del&gt;15&lt;/del&gt;, &lt;del&gt;16&lt;/del&gt;, **17**, &lt;del&gt;18&lt;/del&gt;, **19**, &lt;del&gt;20&lt;/del&gt;, &lt;del&gt;21&lt;/del&gt;, &lt;del&gt;22&lt;/del&gt;, **23**, &lt;del&gt;24&lt;/del&gt;, **25**\n\nNow, let&#39;s look at these same numbers, when we use the Sieve of Eratosthenes algorithm:\n\n&gt; 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25\n\nAfter removing 2:\n\n&gt; **5**, &lt;del&gt;6&lt;/del&gt;, **7**, &lt;del&gt;8&lt;/del&gt;, **9**, &lt;del&gt;10&lt;/del&gt;, **11**, &lt;del&gt;12&lt;/del&gt;, **13**, &lt;del&gt;14&lt;/del&gt;, **15**, &lt;del&gt;16&lt;/del&gt;, **17**, &lt;del&gt;18&lt;/del&gt;, **19**, &lt;del&gt;20&lt;/del&gt;, **21**, &lt;del&gt;22&lt;/del&gt;, **23**, &lt;del&gt;24&lt;/del&gt;, **25**\n\nAfter removing 3:\n\n&gt; **5**, &lt;del&gt;6&lt;/del&gt;, **7**, &lt;del&gt;8&lt;/del&gt;, &lt;del&gt;9&lt;/del&gt;, &lt;del&gt;10&lt;/del&gt;, **11**, &lt;del&gt;12&lt;/del&gt;, **13**, &lt;del&gt;14&lt;/del&gt;, &lt;del&gt;15&lt;/del&gt;, &lt;del&gt;16&lt;/del&gt;, **17**, &lt;del&gt;18&lt;/del&gt;, **19**, &lt;del&gt;20&lt;/del&gt;, &lt;del&gt;21&lt;/del&gt;, &lt;del&gt;22&lt;/del&gt;, **23**, &lt;del&gt;24&lt;/del&gt;, **25**\n\nThis is the same as the first set! Notice they both include 25, which is not prime. If we think about it, this is an obvious result. Consider any group of 6 consecutive numbers:\n\n&gt; 6k - 3, 6k - 2, 6k - 1, 6k, 6k + 1, 6k + 2\n\nIf we factor a little, we get:\n\n&gt; 3*(2k - 1), 2*(3k - 1), 6k - 1, 6*(k), 6k + 1, 2*(3k + 1)\n\nIn any group of 6 consecutive numbers, three of them will be divisible by two, and two of them will be divisible by three. These are exactly the numbers we have removed so far! Therefore: \n\n# Your algorithm to only use `6k - 1` and `6k + 1` is exactly the same as the first two rounds of the Sieve of Erathosthenes.\n\nIt&#39;s a pretty nice speed improvement over the Sieve, too, because we don&#39;t have to add all those extra elements just to remove them. This explains why your algorithm works and why it doesn&#39;t miss any cases; because it&#39;s exactly the same as the Sieve.\n\n---\n\nAnyway, I agree that once you&#39;ve generated primes, your `boolean` way is **by far the fastest.** I have set up a benchmark using your `ArrayList` way, your `boolean[]` way, and my own way using `LinkedList` and `iterator.remove()` (because removals are fast in a `LinkedList`. Here&#39;s the code for my test harness. Note that I run the test 12 times to ensure that the JVM is warmed up, and I print the size of the list and change the size of `n` to attempt to prevent too much [branch prediction](https://stackoverflow.com/q/11227809/1768232) optimization. You can also get faster in all three methods by using `+= 6` in the initial seed, instead of `prod6k`:\n\n    import java.util.*;\n    \n    public class PrimeGenerator {\n      public static List&lt;Integer&gt; generatePrimesArrayList(int n) {\n        List&lt;Integer&gt; primes = new ArrayList&lt;&gt;(getApproximateSize(n));\n        primes.add(2);// explicitly add\n        primes.add(3);// 2 and 3\n    \n        for (int i = 6; i &lt;= n; i+=6) {\n          // get all the numbers which can be generated by the formula\n          primes.add(i - 1);\n          primes.add(i + 1);\n        }\n\n        for (int i = 0; i &lt; primes.size(); i++) {\n          int k = primes.get(i);\n          // remove all the factors of the numbers generated by the formula\n          for (int j = k * k; j &lt;= n; j += k)// changed to k * k from 2 * k, Thanks\n                                             // to DTing\n          {\n            int index = primes.indexOf(j);\n            if (index != -1)\n              primes.remove(index);\n          }\n        }\n        return primes;\n      }\n    \n      public static List&lt;Integer&gt; generatePrimesBoolean(int n) {\n        boolean[] primes = new boolean[n + 5];\n        for (int i = 0; i &lt;= n; i++)\n          primes[i] = false;\n        primes[2] = primes[3] = true;\n\n        for (int i = 6; i &lt;= n; i+=6) {\n          primes[i + 1] = true;\n          primes[i - 1] = true;\n        }\n\n        for (int i = 0; i &lt;= n; i++) {\n          if (primes[i]) {\n            int k = i;\n            for (int j = k * k; j &lt;= n &amp;&amp; j &gt; 0; j += k) {\n              primes[j] = false;\n            }\n          }\n        }\n    \n        int approximateSize = getApproximateSize(n);\n        List&lt;Integer&gt; primesList = new ArrayList&lt;&gt;(approximateSize);\n        for (int i = 0; i &lt;= n; i++)\n          if (primes[i])\n            primesList.add(i);\n    \n        return primesList;\n      }\n    \n      private static int getApproximateSize(int n) {\n        // Prime Number Theorem. Round up\n        int approximateSize = (int) Math.ceil(((double) n) / (Math.log(n)));\n        return approximateSize;\n      }\n    \n      public static List&lt;Integer&gt; generatePrimesLinkedList(int n) {\n        List&lt;Integer&gt; primes = new LinkedList&lt;&gt;();\n        primes.add(2);// explicitly add\n        primes.add(3);// 2 and 3\n    \n        for (int i = 6; i &lt;= n; i+=6) {\n          // get all the numbers which can be generated by the formula\n          primes.add(i - 1);\n          primes.add(i + 1);\n        }\n\n        for (int i = 0; i &lt; primes.size(); i++) {\n          int k = primes.get(i);\n          for (Iterator&lt;Integer&gt; iterator = primes.iterator(); iterator.hasNext();) {\n            int primeCandidate = iterator.next();\n            if (primeCandidate == k)\n              continue; // Always skip yourself\n            if (primeCandidate == (primeCandidate / k) * k)\n              iterator.remove();\n          }\n        }\n        return primes;\n      }\n    \n      public static void main(String... args) {\n        int initial = 4000;\n    \n        for (int i = 0; i &lt; 12; i++) {\n          int n = initial * i;\n          long start = System.currentTimeMillis();\n          List&lt;Integer&gt; result = generatePrimesArrayList(n);\n          long seconds = System.currentTimeMillis() - start;\n          System.out.println(result.size() + &quot;\\tArrayList Seconds: &quot; + seconds);\n    \n          start = System.currentTimeMillis();\n          result = generatePrimesBoolean(n);\n          seconds = System.currentTimeMillis() - start;\n          System.out.println(result.size() + &quot;\\tBoolean Seconds: &quot; + seconds);\n    \n          start = System.currentTimeMillis();\n          result = generatePrimesLinkedList(n);\n          seconds = System.currentTimeMillis() - start;\n          System.out.println(result.size() + &quot;\\tLinkedList Seconds: &quot; + seconds);\n        }\n      }\n    }\n\nAnd the results of the last few trials:\n\n    3432    ArrayList Seconds: 430\n    3432    Boolean Seconds: 0\n    3432    LinkedList Seconds: 90\n    3825    ArrayList Seconds: 538\n    3824    Boolean Seconds: 0\n    3824    LinkedList Seconds: 81\n    4203    ArrayList Seconds: 681\n    4203    Boolean Seconds: 0\n    4203    LinkedList Seconds: 100\n    4579    ArrayList Seconds: 840\n    4579    Boolean Seconds: 0\n    4579    LinkedList Seconds: 111","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>5 is the first number generated by your criteria. Let's take a look at the numbers generated up to 25:</p>\n<blockquote>\n<p><strong>5</strong>, <del>6</del>, <strong>7</strong>, <del>8</del>, <del>9</del>, <del>10</del>, <strong>11</strong>, <del>12</del>, <strong>13</strong>, <del>14</del>, <del>15</del>, <del>16</del>, <strong>17</strong>, <del>18</del>, <strong>19</strong>, <del>20</del>, <del>21</del>, <del>22</del>, <strong>23</strong>, <del>24</del>, <strong>25</strong></p>\n</blockquote>\n<p>Now, let's look at these same numbers, when we use the Sieve of Eratosthenes algorithm:</p>\n<blockquote>\n<p>5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25</p>\n</blockquote>\n<p>After removing 2:</p>\n<blockquote>\n<p><strong>5</strong>, <del>6</del>, <strong>7</strong>, <del>8</del>, <strong>9</strong>, <del>10</del>, <strong>11</strong>, <del>12</del>, <strong>13</strong>, <del>14</del>, <strong>15</strong>, <del>16</del>, <strong>17</strong>, <del>18</del>, <strong>19</strong>, <del>20</del>, <strong>21</strong>, <del>22</del>, <strong>23</strong>, <del>24</del>, <strong>25</strong></p>\n</blockquote>\n<p>After removing 3:</p>\n<blockquote>\n<p><strong>5</strong>, <del>6</del>, <strong>7</strong>, <del>8</del>, <del>9</del>, <del>10</del>, <strong>11</strong>, <del>12</del>, <strong>13</strong>, <del>14</del>, <del>15</del>, <del>16</del>, <strong>17</strong>, <del>18</del>, <strong>19</strong>, <del>20</del>, <del>21</del>, <del>22</del>, <strong>23</strong>, <del>24</del>, <strong>25</strong></p>\n</blockquote>\n<p>This is the same as the first set! Notice they both include 25, which is not prime. If we think about it, this is an obvious result. Consider any group of 6 consecutive numbers:</p>\n<blockquote>\n<p>6k - 3, 6k - 2, 6k - 1, 6k, 6k + 1, 6k + 2</p>\n</blockquote>\n<p>If we factor a little, we get:</p>\n<blockquote>\n<p>3*(2k - 1), 2*(3k - 1), 6k - 1, 6*(k), 6k + 1, 2*(3k + 1)</p>\n</blockquote>\n<p>In any group of 6 consecutive numbers, three of them will be divisible by two, and two of them will be divisible by three. These are exactly the numbers we have removed so far! Therefore:</p>\n<h1>Your algorithm to only use <code>6k - 1</code> and <code>6k + 1</code> is exactly the same as the first two rounds of the Sieve of Erathosthenes.</h1>\n<p>It's a pretty nice speed improvement over the Sieve, too, because we don't have to add all those extra elements just to remove them. This explains why your algorithm works and why it doesn't miss any cases; because it's exactly the same as the Sieve.</p>\n<hr />\n<p>Anyway, I agree that once you've generated primes, your <code>boolean</code> way is <strong>by far the fastest.</strong> I have set up a benchmark using your <code>ArrayList</code> way, your <code>boolean[]</code> way, and my own way using <code>LinkedList</code> and <code>iterator.remove()</code> (because removals are fast in a <code>LinkedList</code>. Here's the code for my test harness. Note that I run the test 12 times to ensure that the JVM is warmed up, and I print the size of the list and change the size of <code>n</code> to attempt to prevent too much <a href=\"https://stackoverflow.com/q/11227809/1768232\">branch prediction</a> optimization. You can also get faster in all three methods by using <code>+= 6</code> in the initial seed, instead of <code>prod6k</code>:</p>\n<pre><code>import java.util.*;\n\npublic class PrimeGenerator {\n  public static List&lt;Integer&gt; generatePrimesArrayList(int n) {\n    List&lt;Integer&gt; primes = new ArrayList&lt;&gt;(getApproximateSize(n));\n    primes.add(2);// explicitly add\n    primes.add(3);// 2 and 3\n\n    for (int i = 6; i &lt;= n; i+=6) {\n      // get all the numbers which can be generated by the formula\n      primes.add(i - 1);\n      primes.add(i + 1);\n    }\n\n    for (int i = 0; i &lt; primes.size(); i++) {\n      int k = primes.get(i);\n      // remove all the factors of the numbers generated by the formula\n      for (int j = k * k; j &lt;= n; j += k)// changed to k * k from 2 * k, Thanks\n                                         // to DTing\n      {\n        int index = primes.indexOf(j);\n        if (index != -1)\n          primes.remove(index);\n      }\n    }\n    return primes;\n  }\n\n  public static List&lt;Integer&gt; generatePrimesBoolean(int n) {\n    boolean[] primes = new boolean[n + 5];\n    for (int i = 0; i &lt;= n; i++)\n      primes[i] = false;\n    primes[2] = primes[3] = true;\n\n    for (int i = 6; i &lt;= n; i+=6) {\n      primes[i + 1] = true;\n      primes[i - 1] = true;\n    }\n\n    for (int i = 0; i &lt;= n; i++) {\n      if (primes[i]) {\n        int k = i;\n        for (int j = k * k; j &lt;= n &amp;&amp; j &gt; 0; j += k) {\n          primes[j] = false;\n        }\n      }\n    }\n\n    int approximateSize = getApproximateSize(n);\n    List&lt;Integer&gt; primesList = new ArrayList&lt;&gt;(approximateSize);\n    for (int i = 0; i &lt;= n; i++)\n      if (primes[i])\n        primesList.add(i);\n\n    return primesList;\n  }\n\n  private static int getApproximateSize(int n) {\n    // Prime Number Theorem. Round up\n    int approximateSize = (int) Math.ceil(((double) n) / (Math.log(n)));\n    return approximateSize;\n  }\n\n  public static List&lt;Integer&gt; generatePrimesLinkedList(int n) {\n    List&lt;Integer&gt; primes = new LinkedList&lt;&gt;();\n    primes.add(2);// explicitly add\n    primes.add(3);// 2 and 3\n\n    for (int i = 6; i &lt;= n; i+=6) {\n      // get all the numbers which can be generated by the formula\n      primes.add(i - 1);\n      primes.add(i + 1);\n    }\n\n    for (int i = 0; i &lt; primes.size(); i++) {\n      int k = primes.get(i);\n      for (Iterator&lt;Integer&gt; iterator = primes.iterator(); iterator.hasNext();) {\n        int primeCandidate = iterator.next();\n        if (primeCandidate == k)\n          continue; // Always skip yourself\n        if (primeCandidate == (primeCandidate / k) * k)\n          iterator.remove();\n      }\n    }\n    return primes;\n  }\n\n  public static void main(String... args) {\n    int initial = 4000;\n\n    for (int i = 0; i &lt; 12; i++) {\n      int n = initial * i;\n      long start = System.currentTimeMillis();\n      List&lt;Integer&gt; result = generatePrimesArrayList(n);\n      long seconds = System.currentTimeMillis() - start;\n      System.out.println(result.size() + &quot;\\tArrayList Seconds: &quot; + seconds);\n\n      start = System.currentTimeMillis();\n      result = generatePrimesBoolean(n);\n      seconds = System.currentTimeMillis() - start;\n      System.out.println(result.size() + &quot;\\tBoolean Seconds: &quot; + seconds);\n\n      start = System.currentTimeMillis();\n      result = generatePrimesLinkedList(n);\n      seconds = System.currentTimeMillis() - start;\n      System.out.println(result.size() + &quot;\\tLinkedList Seconds: &quot; + seconds);\n    }\n  }\n}\n</code></pre>\n<p>And the results of the last few trials:</p>\n<pre><code>3432    ArrayList Seconds: 430\n3432    Boolean Seconds: 0\n3432    LinkedList Seconds: 90\n3825    ArrayList Seconds: 538\n3824    Boolean Seconds: 0\n3824    LinkedList Seconds: 81\n4203    ArrayList Seconds: 681\n4203    Boolean Seconds: 0\n4203    LinkedList Seconds: 100\n4579    ArrayList Seconds: 840\n4579    Boolean Seconds: 0\n4579    LinkedList Seconds: 111\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439453966,"creation_date":1439448854,"answer_id":31981411,"question_id":31837761,"body_markdown":"Probably the most suitable standard datastructure for Sieve of Eratosthenes is the [BitSet](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html). Here&#39;s my solution:\r\n\r\n\tstatic BitSet genPrimes(int n) {\r\n\t\tBitSet primes = new BitSet(n);\r\n\t\tprimes.set(2); // add 2 explicitly\r\n\t\tprimes.set(3); // add 3 explicitly\r\n\t\tfor (int i = 6; i &lt;= n ; i += 6) { // step by 6 instead of multiplication\r\n\t\t    primes.set(i - 1);\r\n\t\t    primes.set(i + 1);\r\n\t\t}\r\n\t\tint max = (int) Math.sqrt(n); // don&#39;t need to filter multiples of primes bigger than max\r\n        \r\n        // this for loop enumerates all set bits starting from 5 till the max\r\n        // sieving 2 and 3 is meaningless: n*6+1 and n*6-1 are never divisible by 2 or 3\r\n\t\tfor (int i = primes.nextSetBit(5); i &gt;= 0 &amp;&amp; i &lt;= max; i = primes.nextSetBit(i+1)) {\r\n            // The actual sieve algorithm like in your code\r\n\t\t    for(int j = i * i; j &lt;= n; j += i)\r\n\t\t    \tprimes.clear(j);\r\n\t\t}\r\n\t\treturn primes;\r\n\t}\r\n\r\nUsage:\r\n\r\n    BitSet primes = genPrimes(1000); // generate primes up to 1000\r\n    System.out.println(primes.cardinality()); // print number of primes\r\n    // print all primes like {2, 3, 5, ...}\r\n    System.out.println(primes);\r\n    // print all primes one per line\r\n\tfor(int prime = primes.nextSetBit(0); prime &gt;= 0; prime = primes.nextSetBit(prime+1))\r\n\t\tSystem.out.println(prime);\r\n    // print all primes one per line using java 8:\r\n    primes.stream().forEach(System.out::println);\r\n\r\nThe boolean-based version may work faster for small `n` values, but if you need, for example, a million of prime numbers, `BitSet` will outperform it in several times and actually works correctly. Here&#39;s lame benchmark:\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tlong start = System.nanoTime();\r\n\t\tBitSet res = genPrimes(10000000);\r\n\t\tlong diff = System.nanoTime() - start;\r\n\t\tSystem.out.println(res.cardinality() + &quot;\\tBitSet Seconds: &quot; + diff / 1e9);\r\n\r\n\t\tstart = System.nanoTime();\r\n\t\tList&lt;Integer&gt; result = generatePrimesBoolean(10000000); // from durron597 answer\r\n\t\tdiff = System.nanoTime() - start;\r\n\t\tSystem.out.println(result.size() + &quot;\\tBoolean Seconds: &quot; + diff / 1e9);\r\n\t}\r\n\r\nOutput:\r\n\r\n    664579\tBitSet Seconds: 0.065987717\r\n    664116\tBoolean Seconds: 0.167620323\r\n\r\n664579 is [the correct number](https://primes.utm.edu/howmany.html#table) of primes below 10000000.","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>Probably the most suitable standard datastructure for Sieve of Eratosthenes is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\" rel=\"nofollow\">BitSet</a>. Here's my solution:</p>\n\n<pre><code>static BitSet genPrimes(int n) {\n    BitSet primes = new BitSet(n);\n    primes.set(2); // add 2 explicitly\n    primes.set(3); // add 3 explicitly\n    for (int i = 6; i &lt;= n ; i += 6) { // step by 6 instead of multiplication\n        primes.set(i - 1);\n        primes.set(i + 1);\n    }\n    int max = (int) Math.sqrt(n); // don't need to filter multiples of primes bigger than max\n\n    // this for loop enumerates all set bits starting from 5 till the max\n    // sieving 2 and 3 is meaningless: n*6+1 and n*6-1 are never divisible by 2 or 3\n    for (int i = primes.nextSetBit(5); i &gt;= 0 &amp;&amp; i &lt;= max; i = primes.nextSetBit(i+1)) {\n        // The actual sieve algorithm like in your code\n        for(int j = i * i; j &lt;= n; j += i)\n            primes.clear(j);\n    }\n    return primes;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>BitSet primes = genPrimes(1000); // generate primes up to 1000\nSystem.out.println(primes.cardinality()); // print number of primes\n// print all primes like {2, 3, 5, ...}\nSystem.out.println(primes);\n// print all primes one per line\nfor(int prime = primes.nextSetBit(0); prime &gt;= 0; prime = primes.nextSetBit(prime+1))\n    System.out.println(prime);\n// print all primes one per line using java 8:\nprimes.stream().forEach(System.out::println);\n</code></pre>\n\n<p>The boolean-based version may work faster for small <code>n</code> values, but if you need, for example, a million of prime numbers, <code>BitSet</code> will outperform it in several times and actually works correctly. Here's lame benchmark:</p>\n\n<pre><code>public static void main(String... args) {\n    long start = System.nanoTime();\n    BitSet res = genPrimes(10000000);\n    long diff = System.nanoTime() - start;\n    System.out.println(res.cardinality() + \"\\tBitSet Seconds: \" + diff / 1e9);\n\n    start = System.nanoTime();\n    List&lt;Integer&gt; result = generatePrimesBoolean(10000000); // from durron597 answer\n    diff = System.nanoTime() - start;\n    System.out.println(result.size() + \"\\tBoolean Seconds: \" + diff / 1e9);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>664579  BitSet Seconds: 0.065987717\n664116  Boolean Seconds: 0.167620323\n</code></pre>\n\n<p>664579 is <a href=\"https://primes.utm.edu/howmany.html#table\" rel=\"nofollow\">the correct number</a> of primes below 10000000.</p>\n"},{"tags":[],"owner":{"account_id":13786235,"reputation":27,"user_id":9950061,"display_name":"harish balaji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529742000,"creation_date":1529742000,"answer_id":50999340,"question_id":31837761,"body_markdown":"This method below shows how to find prime nos using 6k+/-1 logic\r\n\r\nthis was written in python 3.6\r\n\r\n    def isPrime(n):\r\n        if(n&lt;=1):\r\n            return 0\r\n        elif(n&lt;4):   #2 , 3 are prime\r\n            return 1\r\n        elif(n%2==0):  #already excluded no.2 ,so any no. div. by 2 cant be prime\r\n            return 0\r\n        elif(n&lt;9):   #5, 7 are prime and 6,8 are excl. in the above step\r\n            return 1\r\n        elif(n%3==0):\r\n            return 1\r\n    \r\n        f=5         #Till now we have checked the div. of n with 2,3 which means with 4,6,8 also now that is why f=5\r\n        r=int(n**.5)    #rounding of root n, i.e: floor(sqrt(n))    r*r&lt;=n\r\n        while(f&lt;=r):\r\n            if(n%f==0): #checking if n has any primefactor lessthan sqrt(n), refer LINE 1\r\n                return 0\r\n            if(n%(f+2)==0): #remember her we are not incrementing f, see the 6k+1 rule to understand this while loop steps ,you will see that most values of f are prime\r\n                return 0\r\n            f=f+6\r\n    \r\n        return 1    \r\n    \r\n    def prime_nos():\r\n        counter=2  #we know 2,3 are prime\r\n        print(2)\r\n        print(3)   #we know 2,3 are prime\r\n        i=1\r\n        s=5  #sum  2+3\r\n        t=0\r\n\r\n        n=int(input(&quot;Enter the upper limit( should be &gt; 3: &quot;))\r\n\r\n        n=(n-1)//6   #finding max. limit(n=6*i+1) upto which I(here n on left hand side) should run\r\n        while(i&lt;n):#2*(10**6)):\r\n            if (isPrime(6*i-1)):   \r\n                counter=counter+1\r\n                print(6*i-1)  #prime no                                                \r\n    \r\n            if(isPrime(6*i+1)):    \r\n               counter=counter+1\r\n               print(6*i+1)  #prime no                                \r\n\r\n            i+=1\r\n            \r\n    prime_nos()  #fn. call\r\n\r\n","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>This method below shows how to find prime nos using 6k+/-1 logic</p>\n\n<p>this was written in python 3.6</p>\n\n<pre><code>def isPrime(n):\n    if(n&lt;=1):\n        return 0\n    elif(n&lt;4):   #2 , 3 are prime\n        return 1\n    elif(n%2==0):  #already excluded no.2 ,so any no. div. by 2 cant be prime\n        return 0\n    elif(n&lt;9):   #5, 7 are prime and 6,8 are excl. in the above step\n        return 1\n    elif(n%3==0):\n        return 1\n\n    f=5         #Till now we have checked the div. of n with 2,3 which means with 4,6,8 also now that is why f=5\n    r=int(n**.5)    #rounding of root n, i.e: floor(sqrt(n))    r*r&lt;=n\n    while(f&lt;=r):\n        if(n%f==0): #checking if n has any primefactor lessthan sqrt(n), refer LINE 1\n            return 0\n        if(n%(f+2)==0): #remember her we are not incrementing f, see the 6k+1 rule to understand this while loop steps ,you will see that most values of f are prime\n            return 0\n        f=f+6\n\n    return 1    \n\ndef prime_nos():\n    counter=2  #we know 2,3 are prime\n    print(2)\n    print(3)   #we know 2,3 are prime\n    i=1\n    s=5  #sum  2+3\n    t=0\n\n    n=int(input(\"Enter the upper limit( should be &gt; 3: \"))\n\n    n=(n-1)//6   #finding max. limit(n=6*i+1) upto which I(here n on left hand side) should run\n    while(i&lt;n):#2*(10**6)):\n        if (isPrime(6*i-1)):   \n            counter=counter+1\n            print(6*i-1)  #prime no                                                \n\n        if(isPrime(6*i+1)):    \n           counter=counter+1\n           print(6*i+1)  #prime no                                \n\n        i+=1\n\nprime_nos()  #fn. call\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16948190,"reputation":19,"user_id":12258422,"display_name":"Tigran Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616542094,"creation_date":1616542094,"answer_id":66772708,"question_id":31837761,"body_markdown":"Your prime number formula mathematically incorrect  ex. take 96 it dividable to 6 96/6=16 so by this logic 97 and 95 must be prime if square root passed but square root of  95 is 9.7467... (passed) so its &quot;prime&quot;. But 95 clearly dividable by 5 fast algorithm in c#  \r\n       \r\n \r\n           int n=100000000;    \r\n           bool [] falseprimes = new bool[n + 2];\r\n           int ed=n/6;\r\n            ed = ed * 6;\r\n            int md = (int)Math.Sqrt((double)ed);\r\n            for (int i = ed; i &gt; md; i-=6)\r\n            {\r\n                falseprimes[i + 1] = true;\r\n                falseprimes[i - 1] = true;\r\n\r\n            }\r\n\r\n            md = md / 6;\r\n            md = md * 5;\r\n\r\n            for (int i = md; i &gt; 5; i -= 6)\r\n            {\r\n                falseprimes[i + 1] = true;\r\n                falseprimes[i - 1] = true;\r\n\r\n                falseprimes[(i + 1)* (i + 1)] = false;\r\n                falseprimes[(i-1) * (i-1)] = false;\r\n            }\r\n\r\n            falseprimes[2] = true;\r\n            falseprimes[3] = true;\r\n","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>Your prime number formula mathematically incorrect  ex. take 96 it dividable to 6 96/6=16 so by this logic 97 and 95 must be prime if square root passed but square root of  95 is 9.7467... (passed) so its &quot;prime&quot;. But 95 clearly dividable by 5 fast algorithm in c#</p>\n<pre><code>       int n=100000000;    \n       bool [] falseprimes = new bool[n + 2];\n       int ed=n/6;\n        ed = ed * 6;\n        int md = (int)Math.Sqrt((double)ed);\n        for (int i = ed; i &gt; md; i-=6)\n        {\n            falseprimes[i + 1] = true;\n            falseprimes[i - 1] = true;\n\n        }\n\n        md = md / 6;\n        md = md * 5;\n\n        for (int i = md; i &gt; 5; i -= 6)\n        {\n            falseprimes[i + 1] = true;\n            falseprimes[i - 1] = true;\n\n            falseprimes[(i + 1)* (i + 1)] = false;\n            falseprimes[(i-1) * (i-1)] = false;\n        }\n\n        falseprimes[2] = true;\n        falseprimes[3] = true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15872863,"reputation":159,"user_id":14902147,"display_name":"user140242"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662643246,"creation_date":1618152399,"answer_id":67046347,"question_id":31837761,"body_markdown":"To generate prime numbers using 6 * k + - 1 rule use this algorithm:\r\n\r\n    int n = 100000000;\r\n    int j,jmax=n/6;\r\n    boolean[] primes5m6 = new boolean[jmax+1];\r\n    boolean[] primes1m6 = new boolean[jmax+1];\r\n    for (int i = 0; i &lt;= jmax; i++){\r\n        primes5m6[i] = false;\r\n        primes1m6[i] = false;\r\n    }\r\n    for (int i = 1; i &lt;= (int)((Math.sqrt(n)+1)/6)+1; i++){\r\n        if (!primes5m6[i]){\r\n            for (j = 6*i*i; j &lt;= jmax; j+=6*i-1){       \r\n                primes5m6[j]=true;\r\n                primes1m6[j-2*i]=true;\r\n            }\r\n            for (; j &lt;= jmax+2*i; j+=6*i-1)       \r\n                primes1m6[j-2*i]=true;\r\n        }\r\n        if (!primes1m6[i]){\r\n            for (j = 6*i*i; j &lt;= jmax-2*i; j+=6*i+1){      \r\n                primes5m6[j]=true; \r\n                primes1m6[j+2*i]=true; \r\n            }\r\n            for (; j &lt;= jmax; j+=6*i+1)      \r\n                primes5m6[j]=true;   \r\n       }\r\n    }\r\n    \r\n    System.out.print(2 + &quot; &quot;);\r\n    System.out.print(3 + &quot; &quot;);\r\n    for (int i = 1; i &lt;= jmax; i++){\r\n        if (!primes5m6[i]) \r\n            System.out.print((6*i-1) + &quot; &quot;);\r\n        if (!primes1m6[i]) \r\n            System.out.print((6*i+1) + &quot; &quot;);\r\n    }","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>To generate prime numbers using 6 * k + - 1 rule use this algorithm:</p>\n<pre><code>int n = 100000000;\nint j,jmax=n/6;\nboolean[] primes5m6 = new boolean[jmax+1];\nboolean[] primes1m6 = new boolean[jmax+1];\nfor (int i = 0; i &lt;= jmax; i++){\n    primes5m6[i] = false;\n    primes1m6[i] = false;\n}\nfor (int i = 1; i &lt;= (int)((Math.sqrt(n)+1)/6)+1; i++){\n    if (!primes5m6[i]){\n        for (j = 6*i*i; j &lt;= jmax; j+=6*i-1){       \n            primes5m6[j]=true;\n            primes1m6[j-2*i]=true;\n        }\n        for (; j &lt;= jmax+2*i; j+=6*i-1)       \n            primes1m6[j-2*i]=true;\n    }\n    if (!primes1m6[i]){\n        for (j = 6*i*i; j &lt;= jmax-2*i; j+=6*i+1){      \n            primes5m6[j]=true; \n            primes1m6[j+2*i]=true; \n        }\n        for (; j &lt;= jmax; j+=6*i+1)      \n            primes5m6[j]=true;   \n   }\n}\n\nSystem.out.print(2 + &quot; &quot;);\nSystem.out.print(3 + &quot; &quot;);\nfor (int i = 1; i &lt;= jmax; i++){\n    if (!primes5m6[i]) \n        System.out.print((6*i-1) + &quot; &quot;);\n    if (!primes1m6[i]) \n        System.out.print((6*i+1) + &quot; &quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6590,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":31838864,"answer_count":9,"score":21,"last_activity_date":1662643246,"creation_date":1438791391,"question_id":31837761,"body_markdown":"We know that all primes above 3 can be generated using:\r\n\r\n    6 * k + 1\r\n    6 * k - 1\r\nHowever we all numbers generated from the above formulas are not prime.\r\n\r\n    For Example:    \r\n    6 * 6 - 1 = 35 which is clearly divisible by 5.\r\nTo Eliminate such conditions, I used a Sieve Method and removing the numbers which are factors of the numbers generated from the above formula.\r\n\r\nUsing the facts:\r\n&gt;A number is said to be prime if it has no prime factors.\r\n\r\n 1. As we can generate all the prime numbers using the above formulas.\r\n 2. If we can remove all the multiples of the above numbers we are left with only prime numbers.\r\n\r\nTo generate primes below 1000.\r\n\r\n    ArrayList&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n\tprimes.add(2);//explicitly add\r\n\tprimes.add(3);//2 and 3\r\n    int n = 1000;\r\n    for (int i = 1; i &lt;= (n / 6) ; i++) {\r\n\t//get all the numbers which can be generated by the formula\r\n        int prod6k = 6 * i;\r\n        primes.add(prod6k - 1);\r\n\t    primes.add(prod6k + 1);\r\n\t}\r\n\tfor (int i = 0; i &lt; primes.size(); i++) {\r\n\t\tint k = primes.get(i);\r\n        //remove all the factors of the numbers generated by the formula\r\n\t\tfor(int j = k * k; j &lt;= n; j += k)//changed to k * k from 2 * k, Thanks to DTing\r\n\t\t{\t\t\t\r\n\t\t\tint index = primes.indexOf(j); \r\n\t\t    if(index != -1)\r\n\t\t\t    primes.remove(index);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(primes);\r\n\r\nHowever, this method does generate the prime numbers correctly. This runs in a much faster way as we need not check for all the numbers which we do check in a Sieve.\r\n\r\nMy question is that am I missing any edge case? This would be a lot better but I never saw someone using this. Am I doing something wrong?\r\n\r\nCan this approach be much more optimized? \r\n\r\n---\r\n\r\nTaking a `boolean[]` instead of an `ArrayList` is much faster.\r\n\r\n\tint n = 100000000;\r\n\tboolean[] primes = new boolean[n + 1];\r\n\tfor (int i = 0; i &lt;= n; i++)\r\n\t\tprimes[i] = false;\r\n\tprimes[2] = primes[3] = true;\r\n\tfor (int i = 1; i &lt;= n / 6; i++) {\r\n\t\tint prod6k = 6 * i;\r\n\t\tprimes[prod6k + 1] = true;\r\n\t\tprimes[prod6k - 1] = true;\r\n\t}\r\n\tfor (int i = 0; i &lt;= n; i++) {\r\n\t\tif (primes[i]) {\r\n\t\t\tint k = i;\r\n\t\t\tfor (int j = k * k; j &lt;= n &amp;&amp; j &gt; 0; j += k) {\r\n                   primes[j] = false;\r\n\t\t\t}\r\n          }\r\n\t}\r\n\tfor (int i = 0; i &lt;= n; i++)\r\n\t\tif (primes[i]) \r\n\t\t\tSystem.out.print(i + &quot; &quot;);\r\n\t\r\n\r\n\r\n","title":"How do I generate Primes Using 6*k +- 1 rule","body":"<p>We know that all primes above 3 can be generated using:</p>\n\n<pre><code>6 * k + 1\n6 * k - 1\n</code></pre>\n\n<p>However we all numbers generated from the above formulas are not prime.</p>\n\n<pre><code>For Example:    \n6 * 6 - 1 = 35 which is clearly divisible by 5.\n</code></pre>\n\n<p>To Eliminate such conditions, I used a Sieve Method and removing the numbers which are factors of the numbers generated from the above formula.</p>\n\n<p>Using the facts:</p>\n\n<blockquote>\n  <p>A number is said to be prime if it has no prime factors.</p>\n</blockquote>\n\n<ol>\n<li>As we can generate all the prime numbers using the above formulas.</li>\n<li>If we can remove all the multiples of the above numbers we are left with only prime numbers.</li>\n</ol>\n\n<p>To generate primes below 1000.</p>\n\n<pre><code>ArrayList&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\nprimes.add(2);//explicitly add\nprimes.add(3);//2 and 3\nint n = 1000;\nfor (int i = 1; i &lt;= (n / 6) ; i++) {\n//get all the numbers which can be generated by the formula\n    int prod6k = 6 * i;\n    primes.add(prod6k - 1);\n    primes.add(prod6k + 1);\n}\nfor (int i = 0; i &lt; primes.size(); i++) {\n    int k = primes.get(i);\n    //remove all the factors of the numbers generated by the formula\n    for(int j = k * k; j &lt;= n; j += k)//changed to k * k from 2 * k, Thanks to DTing\n    {           \n        int index = primes.indexOf(j); \n        if(index != -1)\n            primes.remove(index);\n    }\n}\nSystem.out.println(primes);\n</code></pre>\n\n<p>However, this method does generate the prime numbers correctly. This runs in a much faster way as we need not check for all the numbers which we do check in a Sieve.</p>\n\n<p>My question is that am I missing any edge case? This would be a lot better but I never saw someone using this. Am I doing something wrong?</p>\n\n<p>Can this approach be much more optimized? </p>\n\n<hr>\n\n<p>Taking a <code>boolean[]</code> instead of an <code>ArrayList</code> is much faster.</p>\n\n<pre><code>int n = 100000000;\nboolean[] primes = new boolean[n + 1];\nfor (int i = 0; i &lt;= n; i++)\n    primes[i] = false;\nprimes[2] = primes[3] = true;\nfor (int i = 1; i &lt;= n / 6; i++) {\n    int prod6k = 6 * i;\n    primes[prod6k + 1] = true;\n    primes[prod6k - 1] = true;\n}\nfor (int i = 0; i &lt;= n; i++) {\n    if (primes[i]) {\n        int k = i;\n        for (int j = k * k; j &lt;= n &amp;&amp; j &gt; 0; j += k) {\n               primes[j] = false;\n        }\n      }\n}\nfor (int i = 0; i &lt;= n; i++)\n    if (primes[i]) \n        System.out.print(i + \" \");\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1662641262,"post_id":73649297,"comment_id":130056067,"body_markdown":"You can just put the code which you have in your `if` condition inside the body of the lambda in the filter of your stream.","body":"You can just put the code which you have in your <code>if</code> condition inside the body of the lambda in the filter of your stream."},{"owner":{"account_id":10655986,"reputation":56,"user_id":7845523,"display_name":"Ashutosh Vaish"},"score":0,"creation_date":1662642313,"post_id":73649297,"comment_id":130056486,"body_markdown":"I believe condition needs to be modified, otherwise you may get a NPE.\n`(after != null &amp;&amp; rec.date.getTime() &gt;= after.getTime()) &amp;&amp;\n                    (before != null &amp;&amp; rec.date.getTime() &lt;= before.getTime())`","body":"I believe condition needs to be modified, otherwise you may get a NPE. <code>(after != null &amp;&amp; rec.date.getTime() &gt;= after.getTime()) &amp;&amp;                     (before != null &amp;&amp; rec.date.getTime() &lt;= before.getTime())</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1662649876,"post_id":73649297,"comment_id":130059583,"body_markdown":"Are you using or trying to use the API class `LogRecord`? If not, please show your `LogRecord` class and any other required classes.  And if you just want a count, why use a `List&lt;String&gt;`?  Just initialize an `int to 0` increment as required.  Then return the value.","body":"Are you using or trying to use the API class <code>LogRecord</code>? If not, please show your <code>LogRecord</code> class and any other required classes.  And if you just want a count, why use a <code>List&lt;String&gt;</code>?  Just initialize an <code>int to 0</code> increment as required.  Then return the value."}],"answers":[{"tags":[],"owner":{"account_id":10655986,"reputation":56,"user_id":7845523,"display_name":"Ashutosh Vaish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662642358,"creation_date":1662641517,"answer_id":73649397,"question_id":73649297,"body_markdown":"```\r\nuniqUsers = logRecords.stream().filter(rec -&gt; (after != null &amp;&amp; rec.date.getTime() &gt;= after.getTime()) &amp;&amp;\r\n                (before != null &amp;&amp; rec.date.getTime() &lt;= before.getTime())).collect(Collectors.toSet()).size();\r\n```","title":"How to filter data using stream API","body":"<pre><code>uniqUsers = logRecords.stream().filter(rec -&gt; (after != null &amp;&amp; rec.date.getTime() &gt;= after.getTime()) &amp;&amp;\n                (before != null &amp;&amp; rec.date.getTime() &lt;= before.getTime())).collect(Collectors.toSet()).size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662641719,"creation_date":1662641719,"answer_id":73649434,"question_id":73649297,"body_markdown":"```java\r\nlogRecords.stream()\r\n  .filter( rec -&gt; \r\n      (after == null || rec.date.getTime() &gt;= after.getTime()) &amp;&amp; \r\n      (before == null || rec.date.getTime() &lt;= before.getTime())\r\n.distinct().count()\r\n```\r\nFirst, it filters the your records by condition, which I haven&#39;t touched.\r\nThen, it only returns distinct elements, which is equivalent to adding to Set.\r\nLastly, it returns the resulting count.\r\n\r\n`after` and `before` variables can be used as is since they are &quot;captured&quot; by the closure.\r\n ","title":"How to filter data using stream API","body":"<pre class=\"lang-java prettyprint-override\"><code>logRecords.stream()\n  .filter( rec -&gt; \n      (after == null || rec.date.getTime() &gt;= after.getTime()) &amp;&amp; \n      (before == null || rec.date.getTime() &lt;= before.getTime())\n.distinct().count()\n</code></pre>\n<p>First, it filters the your records by condition, which I haven't touched.\nThen, it only returns distinct elements, which is equivalent to adding to Set.\nLastly, it returns the resulting count.</p>\n<p><code>after</code> and <code>before</code> variables can be used as is since they are &quot;captured&quot; by the closure.</p>\n"},{"tags":[],"owner":{"account_id":5003336,"reputation":13,"user_id":4021637,"display_name":"wnow20"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662642714,"creation_date":1662642714,"answer_id":73649637,"question_id":73649297,"body_markdown":"```java\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class Test {\r\n    private List&lt;LogRecord&gt; logRecords = new ArrayList&lt;&gt;();\r\n\r\n    public int getNumberOfUsers(DateRange dateRange) {\r\n        return (int)logRecords.stream()\r\n            .filter(rec -&gt; isMatch(dateRange, rec))\r\n            .map(LogRecord::getUser)\r\n            .filter(Objects::nonNull)\r\n            .distinct()\r\n            .count();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Test test = new Test();\r\n        Date date = new Date();\r\n        test.logRecords.add(new LogRecord(&quot;user1&quot;, date));\r\n        test.logRecords.add(new LogRecord(&quot;user2&quot;, date));\r\n\r\n        int numberOfUsers = test.getNumberOfUsers(new DateRange(date, null));\r\n        System.out.println(numberOfUsers == 2);\r\n    }\r\n\r\n    private boolean isMatch(DateRange dateRange, LogRecord rec) {\r\n        return dateRange.isMatch(rec.getDate());\r\n    }\r\n\r\n    static class DateRange {\r\n        private final Date after;\r\n        private final Date before;\r\n\r\n        public DateRange(Date before, Date after) {\r\n            this.after = after;\r\n            this.before = before;\r\n        }\r\n\r\n        public Date getAfter() {\r\n            return after;\r\n        }\r\n\r\n        public Date getBefore() {\r\n            return before;\r\n        }\r\n\r\n        boolean isMatch(Date date) {\r\n            return (getAfter() == null || date.compareTo(getAfter()) &gt;= 0 &amp;&amp;\r\n                (getBefore() == null || date.compareTo(getBefore()) &lt;= 0));\r\n        }\r\n    }\r\n\r\n\r\n    static class LogRecord {\r\n        private String user;\r\n        private Date date;\r\n\r\n        public LogRecord(String user, Date date) {\r\n            this.user = user;\r\n            this.date = date;\r\n        }\r\n\r\n        public String getUser() {\r\n            return user;\r\n        }\r\n\r\n        public Date getDate() {\r\n            return date;\r\n        }\r\n\r\n        public void setUser(String user) {\r\n            this.user = user;\r\n        }\r\n\r\n        public void setDate(Date date) {\r\n            this.date = date;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI hope these codes will help you.","title":"How to filter data using stream API","body":"<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class Test {\n    private List&lt;LogRecord&gt; logRecords = new ArrayList&lt;&gt;();\n\n    public int getNumberOfUsers(DateRange dateRange) {\n        return (int)logRecords.stream()\n            .filter(rec -&gt; isMatch(dateRange, rec))\n            .map(LogRecord::getUser)\n            .filter(Objects::nonNull)\n            .distinct()\n            .count();\n    }\n\n    public static void main(String[] args) {\n        Test test = new Test();\n        Date date = new Date();\n        test.logRecords.add(new LogRecord(&quot;user1&quot;, date));\n        test.logRecords.add(new LogRecord(&quot;user2&quot;, date));\n\n        int numberOfUsers = test.getNumberOfUsers(new DateRange(date, null));\n        System.out.println(numberOfUsers == 2);\n    }\n\n    private boolean isMatch(DateRange dateRange, LogRecord rec) {\n        return dateRange.isMatch(rec.getDate());\n    }\n\n    static class DateRange {\n        private final Date after;\n        private final Date before;\n\n        public DateRange(Date before, Date after) {\n            this.after = after;\n            this.before = before;\n        }\n\n        public Date getAfter() {\n            return after;\n        }\n\n        public Date getBefore() {\n            return before;\n        }\n\n        boolean isMatch(Date date) {\n            return (getAfter() == null || date.compareTo(getAfter()) &gt;= 0 &amp;&amp;\n                (getBefore() == null || date.compareTo(getBefore()) &lt;= 0));\n        }\n    }\n\n\n    static class LogRecord {\n        private String user;\n        private Date date;\n\n        public LogRecord(String user, Date date) {\n            this.user = user;\n            this.date = date;\n        }\n\n        public String getUser() {\n            return user;\n        }\n\n        public Date getDate() {\n            return date;\n        }\n\n        public void setUser(String user) {\n            this.user = user;\n        }\n\n        public void setDate(Date date) {\n            this.date = date;\n        }\n    }\n}\n</code></pre>\n<p>I hope these codes will help you.</p>\n"}],"owner":{"account_id":14083773,"reputation":1,"user_id":10174034,"display_name":"Дмитрий Аронов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1662642714,"creation_date":1662641020,"question_id":73649297,"body_markdown":"I&#39;m trying to redo the functionality using Stream API, but I can&#39;t figure out how I can filter user names by date in the same way, given that both dates can be null. Can anyone help me out?\r\n\r\n\r\n    public int getNumberOfUsers(Date after, Date before) {\r\n        Set&lt;String&gt; uniqUsers = new HashSet&lt;&gt;();\r\n        for (LogRecord rec : logRecords) {\r\n            if ((after == null || rec.date.getTime() &gt;= after.getTime()) &amp;&amp;\r\n                    (before == null || rec.date.getTime() &lt;= before.getTime())) {\r\n                uniqUsers.add(rec.user);\r\n            }\r\n        }\r\n        return uniqUsers.size();\r\n    }","title":"How to filter data using stream API","body":"<p>I'm trying to redo the functionality using Stream API, but I can't figure out how I can filter user names by date in the same way, given that both dates can be null. Can anyone help me out?</p>\n<pre><code>public int getNumberOfUsers(Date after, Date before) {\n    Set&lt;String&gt; uniqUsers = new HashSet&lt;&gt;();\n    for (LogRecord rec : logRecords) {\n        if ((after == null || rec.date.getTime() &gt;= after.getTime()) &amp;&amp;\n                (before == null || rec.date.getTime() &lt;= before.getTime())) {\n            uniqUsers.add(rec.user);\n        }\n    }\n    return uniqUsers.size();\n}\n</code></pre>\n"},{"tags":["java","string","object"],"comments":[{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1662640332,"post_id":73649070,"comment_id":130055721,"body_markdown":"Where can I put the overwrite toString? can it be placed above the sysout?","body":"Where can I put the overwrite toString? can it be placed above the sysout?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662640711,"post_id":73649070,"comment_id":130055850,"body_markdown":"@yesIamFaded do you know what &quot;to override&quot; means in an OO environment?","body":"@yesIamFaded do you know what &quot;to override&quot; means in an OO environment?"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1662640725,"post_id":73649070,"comment_id":130055857,"body_markdown":"I dont understand how to specify it for dt.. dt is just a for loop index and alHolidays is a ArrayList where .get(dt) it trying to get the element for that index","body":"I dont understand how to specify it for dt.. dt is just a for loop index and alHolidays is a ArrayList where .get(dt) it trying to get the element for that index"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662640822,"post_id":73649070,"comment_id":130055889,"body_markdown":"@yesIamFaded you don&#39;t. You create a &quot;toString&quot; method inside the class of which you are trying to print instances. If they are of type Object, you won&#39;t get any better. You&#39;ll need to cast them to the actual datatype","body":"@yesIamFaded you don&#39;t. You create a &quot;toString&quot; method inside the class of which you are trying to print instances. If they are of type Object, you won&#39;t get any better. You&#39;ll need to cast them to the actual datatype"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1662641014,"post_id":73649070,"comment_id":130055961,"body_markdown":"@Stultuske okay I dont really get that :D I just wanna look inside the object Java making me break my neck instead if just printing whats inside that. But anyways ty for the help maybe I will get the result somehow.","body":"@Stultuske okay I dont really get that :D I just wanna look inside the object Java making me break my neck instead if just printing whats inside that. But anyways ty for the help maybe I will get the result somehow."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1662641110,"post_id":73649070,"comment_id":130056003,"body_markdown":"`System.out.println(&quot;tst3 &quot; + Arrays.toString(alHolidays.get(dt)));` as the type is an array `[...`. Hopefully the array elements have a nice `toString()`.","body":"<code>System.out.println(&quot;tst3 &quot; + Arrays.toString(alHolidays.get(dt)));</code> as the type is an array <code>[...</code>. Hopefully the array elements have a nice <code>toString()</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1662641173,"post_id":73649070,"comment_id":130056032,"body_markdown":"@yesIamFaded actually, that is what is being showed. However, at the time you try to print it, it seems to be an instance of Object. Object is to abstract to know what you want to have printed, so it prints a default implementation. What you need to do is implement your own version of toString in your own class, and cast the result of a:Holidays.get(dt) to that datatype","body":"@yesIamFaded actually, that is what is being showed. However, at the time you try to print it, it seems to be an instance of Object. Object is to abstract to know what you want to have printed, so it prints a default implementation. What you need to do is implement your own version of toString in your own class, and cast the result of a:Holidays.get(dt) to that datatype"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1662641434,"post_id":73649070,"comment_id":130056146,"body_markdown":"@JoopEggen - that actually works I can see the data in there :D Honestly comming from JavaScript into Java is slowly killing me.","body":"@JoopEggen - that actually works I can see the data in there :D Honestly comming from JavaScript into Java is slowly killing me."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662645458,"post_id":73649070,"comment_id":130057774,"body_markdown":"@yesIamFaded there are advantages too.","body":"@yesIamFaded there are advantages too."}],"answers":[{"tags":[],"owner":{"account_id":7825432,"reputation":2465,"user_id":5917104,"display_name":"Riaan Nel"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1662639986,"creation_date":1662639986,"answer_id":73649094,"question_id":73649070,"body_markdown":"If the object is an instance of a class that you created, override the `toString()` method on your class.\r\n\r\nSee https://www.baeldung.com/java-tostring for more details.","title":"Java how to turn an object to a string?","body":"<p>If the object is an instance of a class that you created, override the <code>toString()</code> method on your class.</p>\n<p>See <a href=\"https://www.baeldung.com/java-tostring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-tostring</a> for more details.</p>\n"}],"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1662640173,"answer_count":1,"score":-1,"last_activity_date":1662642450,"creation_date":1662639858,"question_id":73649070,"body_markdown":"How can I turn my Java Object to a string or something readable? I am struggling I tried 3 Methods that I found on SO.\r\n\r\n\tSystem.out.println(&quot;tst: &quot; + String.valueOf(alHolidays.get(dt)));\r\n\tSystem.out.println(&quot;tst2: &quot; + alHolidays.get(dt).toString());\r\n\tSystem.out.println(&quot;tst3 &quot; + &quot;&quot; + alHolidays.get(dt));\r\n\r\nBut the output is: \r\n\r\n    tst: [Ljava.lang.Object;@5217361e\r\n    tst2: [Ljava.lang.Object;@5217361e\r\n    tst3 [Ljava.lang.Object;@5217361e","title":"Java how to turn an object to a string?","body":"<p>How can I turn my Java Object to a string or something readable? I am struggling I tried 3 Methods that I found on SO.</p>\n<pre><code>System.out.println(&quot;tst: &quot; + String.valueOf(alHolidays.get(dt)));\nSystem.out.println(&quot;tst2: &quot; + alHolidays.get(dt).toString());\nSystem.out.println(&quot;tst3 &quot; + &quot;&quot; + alHolidays.get(dt));\n</code></pre>\n<p>But the output is:</p>\n<pre><code>tst: [Ljava.lang.Object;@5217361e\ntst2: [Ljava.lang.Object;@5217361e\ntst3 [Ljava.lang.Object;@5217361e\n</code></pre>\n"},{"tags":["java","axon","axon-framework"],"answers":[{"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662642316,"creation_date":1662642316,"answer_id":73649551,"question_id":73645275,"body_markdown":"The chances are high that the `UnitOfWork` Axon Framework starts hasn&#39;t committed yet. Assuming you invoke the `findSagas` method roughly while the saga event handler is still active.\r\n\r\nAnother way of putting it: the transaction isn&#39;t done yet, so you&#39;re requesting it too soon.\r\nI am curious, though, to what end do you need to manually find the saga in the `SagaStore`?","title":"Axon JpaSagaStore not consisent","body":"<p>The chances are high that the <code>UnitOfWork</code> Axon Framework starts hasn't committed yet. Assuming you invoke the <code>findSagas</code> method roughly while the saga event handler is still active.</p>\n<p>Another way of putting it: the transaction isn't done yet, so you're requesting it too soon.\nI am curious, though, to what end do you need to manually find the saga in the <code>SagaStore</code>?</p>\n"}],"owner":{"account_id":442476,"reputation":1444,"user_id":833105,"display_name":"Rafiek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73649551,"answer_count":1,"score":0,"last_activity_date":1662642316,"creation_date":1662622464,"question_id":73645275,"body_markdown":"When I start a Saga and almost immediately after call JpaSagaStore.findSagas it often returns an empty list. Why is that? Should I be using some kind of caching mechanism to solve this?","title":"Axon JpaSagaStore not consisent","body":"<p>When I start a Saga and almost immediately after call JpaSagaStore.findSagas it often returns an empty list. Why is that? Should I be using some kind of caching mechanism to solve this?</p>\n"},{"tags":["java","attributes","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":17742337,"reputation":1,"user_id":12882347,"display_name":"ManMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662641564,"creation_date":1662641564,"answer_id":73649406,"question_id":73644396,"body_markdown":"Have you tried using `MAX_HEALTH` attribute?\r\nAbout adding them to items, I&#39;m also looking into.\r\nI&#39;ll let you know if I find anything.","title":"How do I use attributes/attribute modifiers within java code to change a Minecraft players maximum health (not absorption effect or health boost)","body":"<p>Have you tried using <code>MAX_HEALTH</code> attribute?\nAbout adding them to items, I'm also looking into.\nI'll let you know if I find anything.</p>\n"}],"owner":{"account_id":26277952,"reputation":1,"user_id":19946830,"display_name":"Bradley Hewitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662641564,"creation_date":1662617396,"question_id":73644396,"body_markdown":"I&#39;m creating an item that when equipped I want it to increase the player&#39;s max health and I also want it to be stackable with multiple items so it can&#39;t just be absorption or health boost. A lot of people have told me I need to use entity attributes but after hours of trying to figure out how to use them, I am at a complete loss. I&#39;m on version 1.18.2 using forge.","title":"How do I use attributes/attribute modifiers within java code to change a Minecraft players maximum health (not absorption effect or health boost)","body":"<p>I'm creating an item that when equipped I want it to increase the player's max health and I also want it to be stackable with multiple items so it can't just be absorption or health boost. A lot of people have told me I need to use entity attributes but after hours of trying to figure out how to use them, I am at a complete loss. I'm on version 1.18.2 using forge.</p>\n"},{"tags":["java","arrays","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":1,"creation_date":1487149477,"post_id":42238635,"comment_id":71647932,"body_markdown":"FWIW An &quot;enum&quot; is not `@Embeddable`. It is a basic type.","body":"FWIW An &quot;enum&quot; is not <code>@Embeddable</code>. It is a basic type."},{"owner":{"account_id":1706409,"reputation":678,"user_id":1565374,"accept_rate":80,"display_name":"A. Rick"},"score":0,"creation_date":1488160124,"post_id":42238635,"comment_id":72093615,"body_markdown":"Thanks. That was helpful; removing it at least changed the errors that I was getting.  Eventually, I just gave in, and did the hack described below.","body":"Thanks. That was helpful; removing it at least changed the errors that I was getting.  Eventually, I just gave in, and did the hack described below."},{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":0,"creation_date":1530529995,"post_id":42238635,"comment_id":89253834,"body_markdown":"You can use a UserType","body":"You can use a UserType"}],"answers":[{"tags":[],"owner":{"account_id":1706409,"reputation":678,"user_id":1565374,"accept_rate":80,"display_name":"A. Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1488160006,"creation_date":1487809654,"answer_id":42404873,"question_id":42238635,"body_markdown":"I came up with an answer, but please tell me there is a better way within either JPA or Hibernate to do this.\r\n\r\n    @Entity\r\n    @Table(name = &quot;POSSIBLE_VALUES&quot;)\r\n    public class PossibleValues {\r\n           \r\n       @SuppressWarnings(&quot;unused&quot;)\r\n       private static final long serialVersionUID                   = -1L;    \r\n       public static final int   NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE = 10;\r\n       \r\n       @Id\r\n       @GeneratedValue(generator = &quot;possibleValuesID&quot;)\r\n       @GenericGenerator(name = &quot;possibleValuesID&quot;, strategy = &quot;increment&quot;)\r\n       @Column(name = &quot;POSSIBLE_VALUES_ID&quot;)\r\n       private Long possibleValuesID;\r\n       \r\n       @Transient\r\n       private SudokuPossibleValueState[] values = new SudokuPossibleValueState[NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE];\r\n       // Ugly, disgusting hack, to deal with getting an Enumerated collection in/out of JPA/Hibernate\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState zero  = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState one   = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState two   = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState three = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState four  = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState five  = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState six   = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState seven = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState eight = SudokuPossibleValueState.UNDEFINED;\r\n       @Enumerated(EnumType.STRING)\r\n       private SudokuPossibleValueState nine  = SudokuPossibleValueState.UNDEFINED;\r\n       \r\n       // Ugly, disgusting hack, to deal with getting an Enumerated array in/out of JPA/Hibernate\r\n       public PossibleValues() {\r\n          values[0] = zero;\r\n          values[1] = one;\r\n          values[2] = two;\r\n          values[3] = three;\r\n          values[4] = four;\r\n          values[5] = five;\r\n          values[6] = six;\r\n          values[7] = seven;\r\n          values[8] = eight;\r\n          values[9] = nine;\r\n       }\r\n       \r\n       // Ugly, disgusting hack, to deal with getting an Enumerated array in/out of JPA/Hibernate\r\n       protected void setPossibleValue(short possibleValue, SudokuPossibleValueState state) {\r\n          switch (possibleValue) {\r\n             case 0: values[possibleValue] = zero = state; break;\r\n             case 1: values[possibleValue] = one = state; break;\r\n             case 2: values[possibleValue] = two = state; break;\r\n             case 3: values[possibleValue] = three = state; break;\r\n             case 4: values[possibleValue] = four = state; break;\r\n             case 5: values[possibleValue] = five = state; break;\r\n             case 6: values[possibleValue] = six = state; break;\r\n             case 7: values[possibleValue] = seven = state; break;\r\n             case 8: values[possibleValue] = eight = state; break;\r\n             case 9: values[possibleValue] = nine = state; break;\r\n             default: throw new RuntimeException(&quot;Possible Value [&quot; + possibleValue + &quot;] is illegal&quot;);\r\n          }\r\n       }\r\n       \r\n       // Ugly, disgusting hack, to deal with getting an Enumerated array in/out of JPA/Hibernate\r\n       @PostLoad\r\n       protected void syncState() {\r\n          values[0] = zero;\r\n          values[1] = one;\r\n          values[2] = two;\r\n          values[3] = three;\r\n          values[4] = four;\r\n          values[5] = five;\r\n          values[6] = six;\r\n          values[7] = seven;\r\n          values[8] = eight;\r\n          values[9] = nine;\r\n       }\r\n \r\n       public Long getPossibleValuesID() {\r\n          return possibleValuesID;\r\n       }\r\n       \r\n       @SuppressWarnings(&quot;unused&quot;)\r\n       private void setPossibleValuesID(Long possibleValuesID) {\r\n          this.possibleValuesID = possibleValuesID;\r\n       }\r\n    }\r\n","title":"How to store an array of enum in hibernate","body":"<p>I came up with an answer, but please tell me there is a better way within either JPA or Hibernate to do this.</p>\n\n<pre><code>@Entity\n@Table(name = \"POSSIBLE_VALUES\")\npublic class PossibleValues {\n\n   @SuppressWarnings(\"unused\")\n   private static final long serialVersionUID                   = -1L;    \n   public static final int   NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE = 10;\n\n   @Id\n   @GeneratedValue(generator = \"possibleValuesID\")\n   @GenericGenerator(name = \"possibleValuesID\", strategy = \"increment\")\n   @Column(name = \"POSSIBLE_VALUES_ID\")\n   private Long possibleValuesID;\n\n   @Transient\n   private SudokuPossibleValueState[] values = new SudokuPossibleValueState[NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE];\n   // Ugly, disgusting hack, to deal with getting an Enumerated collection in/out of JPA/Hibernate\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState zero  = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState one   = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState two   = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState three = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState four  = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState five  = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState six   = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState seven = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState eight = SudokuPossibleValueState.UNDEFINED;\n   @Enumerated(EnumType.STRING)\n   private SudokuPossibleValueState nine  = SudokuPossibleValueState.UNDEFINED;\n\n   // Ugly, disgusting hack, to deal with getting an Enumerated array in/out of JPA/Hibernate\n   public PossibleValues() {\n      values[0] = zero;\n      values[1] = one;\n      values[2] = two;\n      values[3] = three;\n      values[4] = four;\n      values[5] = five;\n      values[6] = six;\n      values[7] = seven;\n      values[8] = eight;\n      values[9] = nine;\n   }\n\n   // Ugly, disgusting hack, to deal with getting an Enumerated array in/out of JPA/Hibernate\n   protected void setPossibleValue(short possibleValue, SudokuPossibleValueState state) {\n      switch (possibleValue) {\n         case 0: values[possibleValue] = zero = state; break;\n         case 1: values[possibleValue] = one = state; break;\n         case 2: values[possibleValue] = two = state; break;\n         case 3: values[possibleValue] = three = state; break;\n         case 4: values[possibleValue] = four = state; break;\n         case 5: values[possibleValue] = five = state; break;\n         case 6: values[possibleValue] = six = state; break;\n         case 7: values[possibleValue] = seven = state; break;\n         case 8: values[possibleValue] = eight = state; break;\n         case 9: values[possibleValue] = nine = state; break;\n         default: throw new RuntimeException(\"Possible Value [\" + possibleValue + \"] is illegal\");\n      }\n   }\n\n   // Ugly, disgusting hack, to deal with getting an Enumerated array in/out of JPA/Hibernate\n   @PostLoad\n   protected void syncState() {\n      values[0] = zero;\n      values[1] = one;\n      values[2] = two;\n      values[3] = three;\n      values[4] = four;\n      values[5] = five;\n      values[6] = six;\n      values[7] = seven;\n      values[8] = eight;\n      values[9] = nine;\n   }\n\n   public Long getPossibleValuesID() {\n      return possibleValuesID;\n   }\n\n   @SuppressWarnings(\"unused\")\n   private void setPossibleValuesID(Long possibleValuesID) {\n      this.possibleValuesID = possibleValuesID;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100701,"reputation":859,"user_id":2964597,"display_name":"Andy Nugent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662641535,"creation_date":1662641535,"answer_id":73649402,"question_id":42238635,"body_markdown":"Late with the answer, but I&#39;ve done the same and created this class:\r\n\r\n    public abstract class EEnumArrayAttributeConverter&lt;E extends Enum&lt;E&gt;&gt; implements AttributeConverter&lt;E[], String&gt; {\r\n    \r\n    \tprivate static final String DIVIDER = &quot;|&quot;;\r\n    \r\n    \tprivate final Class&lt;E&gt; classEnum;\r\n    \tprotected EEnumArrayAttributeConverter(final Class&lt;E&gt; classEnum) {\r\n    \t\tthis.classEnum = classEnum; \r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(final E[] values) {\r\n    \t\tString retVal = &quot;&quot;;\r\n    \t\tif (null != values) {\r\n    \t\t\tfor (final E value : values) {\r\n    \t\t\t\tif (!retVal.isEmpty()) {\r\n    \t\t\t\t\tretVal += DIVIDER;\r\n    \t\t\t\t}\r\n    \t\t\t\tretVal += value.name();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn retVal;\r\n    \t}\r\n    \r\n    \tprotected abstract E[] create(final int size);\r\n    \t\r\n    \t@Override\r\n    \tpublic E[] convertToEntityAttribute(final String str) {\r\n    \t\tif ((null == str) || str.isEmpty()) {\r\n    \t\t\treturn create(0);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfinal String[] parts = str.split(&quot;\\\\&quot;+ DIVIDER);\r\n    \t\t\tfinal E[] retVal = create(parts.length);\r\n    \t\t\tfor (int x = 0; x &lt; parts.length; x++) {\r\n    \t\t\t\tretVal[x] = E.valueOf(classEnum, parts[x]);\r\n    \t\t\t}\r\n    \t\t\treturn retVal;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd then you would have the converter implementation as:\r\n\r\n    public class ESudokuPossibleValueStateArrayAttributeConverter extends EEnumArrayAttributeConverter&lt;SudokuPossibleValueState&gt; {\r\n    \tpublic ESudokuPossibleValueStateArrayAttributeConverter() {\r\n    \t\tsuper(SudokuPossibleValueState.class);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SudokuPossibleValueState[] create(int size) {\r\n    \t\treturn new SudokuPossibleValueState[size];\r\n    \t}\r\n    }\r\n\r\nAnd then in your class:\r\n\r\n    @Convert(converter = ESudokuPossibleValueStateArrayAttributeConverter.class)\r\n    private SudokuPossibleValueState stateValues[];","title":"How to store an array of enum in hibernate","body":"<p>Late with the answer, but I've done the same and created this class:</p>\n<pre><code>public abstract class EEnumArrayAttributeConverter&lt;E extends Enum&lt;E&gt;&gt; implements AttributeConverter&lt;E[], String&gt; {\n\n    private static final String DIVIDER = &quot;|&quot;;\n\n    private final Class&lt;E&gt; classEnum;\n    protected EEnumArrayAttributeConverter(final Class&lt;E&gt; classEnum) {\n        this.classEnum = classEnum; \n    }\n    \n    @Override\n    public String convertToDatabaseColumn(final E[] values) {\n        String retVal = &quot;&quot;;\n        if (null != values) {\n            for (final E value : values) {\n                if (!retVal.isEmpty()) {\n                    retVal += DIVIDER;\n                }\n                retVal += value.name();\n            }\n        }\n        return retVal;\n    }\n\n    protected abstract E[] create(final int size);\n    \n    @Override\n    public E[] convertToEntityAttribute(final String str) {\n        if ((null == str) || str.isEmpty()) {\n            return create(0);\n        }\n        else {\n            final String[] parts = str.split(&quot;\\\\&quot;+ DIVIDER);\n            final E[] retVal = create(parts.length);\n            for (int x = 0; x &lt; parts.length; x++) {\n                retVal[x] = E.valueOf(classEnum, parts[x]);\n            }\n            return retVal;\n        }\n    }\n}\n</code></pre>\n<p>And then you would have the converter implementation as:</p>\n<pre><code>public class ESudokuPossibleValueStateArrayAttributeConverter extends EEnumArrayAttributeConverter&lt;SudokuPossibleValueState&gt; {\n    public ESudokuPossibleValueStateArrayAttributeConverter() {\n        super(SudokuPossibleValueState.class);\n    }\n\n    @Override\n    protected SudokuPossibleValueState[] create(int size) {\n        return new SudokuPossibleValueState[size];\n    }\n}\n</code></pre>\n<p>And then in your class:</p>\n<pre><code>@Convert(converter = ESudokuPossibleValueStateArrayAttributeConverter.class)\nprivate SudokuPossibleValueState stateValues[];\n</code></pre>\n"}],"owner":{"account_id":1706409,"reputation":678,"user_id":1565374,"accept_rate":80,"display_name":"A. Rick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42404873,"answer_count":2,"score":1,"last_activity_date":1662641535,"creation_date":1487117847,"question_id":42238635,"body_markdown":"I am trying to persist an array of enum, using Hibernate. It is important to note that if it is possible, I would rather not use a collection.  The answers that I have found online so far are for storing collections, not arrays.\r\n\r\nI am getting a runtime error complaining about missing an @OrderColumn or @IndexColumn.  I don&#39;t want the array ordered alphabetically.  I want it to be returned in the same order.\r\n\r\nThe enum&#39;s are literally as simple as you could ask for, but the Enum.name() are not in alphabetical order, so there doesn&#39;t seem to be a natural &quot;Order&quot; column.\r\n\r\n    @Embeddable\r\n    public enum SudokuPossibleValueState {\r\n                                      UNDEFINED, UNKNOWN, IMPOSSIBLE, POSSIBLE, COMMITTED, AS_PUBLISHED;\r\n                                      \r\n        public String toString() {\r\n            return name().toLowerCase();\r\n        }\r\n    }\r\n\r\nBy definition, I am using the actual position in the array to indicate the number that I am considering, and the enum defines the state of the evaluation for that number.  For example, a typical array might be ... \r\n\r\n    [0] = UNDEFINED, \r\n    [1] = UNDEFINED, \r\n    [2] = POSSIBLE, \r\n    [3] = POSSIBLE, \r\n    [4] = UNKNOWN, \r\n    [5] = UNKNOWN, \r\n    [6] = UNKNOWN, \r\n    [7] = IMPOSSIBLE, \r\n    [8] = IMPOSSIBLE,\r\n    [9] = IMPOSSIBLE.\r\n\r\nBut the challenge I am encountering is that all of the examples that I can find online, and the Hibernate documentation, only seem to address the situation where you are using a Java collection; which is not what I am trying to do.\r\n\r\n    @Entity\r\n    @Table(name = &quot;SudokuPossibleValues&quot;)\r\n    public class SudokuPossibleValuesModel {   \r\n        public static final int NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE = 10;\r\n       \r\n        @Id\r\n        @GeneratedValue\r\n        private long possibleValuesID;\r\n\r\n        @ElementCollection\r\n        @Enumerated(EnumType.STRING)\r\n        private SudokuPossibleValueState stateValues[] = new SudokuPossibleValueState[NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE];\r\n        ...\r\n    }\r\n\r\n\r\n","title":"How to store an array of enum in hibernate","body":"<p>I am trying to persist an array of enum, using Hibernate. It is important to note that if it is possible, I would rather not use a collection.  The answers that I have found online so far are for storing collections, not arrays.</p>\n\n<p>I am getting a runtime error complaining about missing an @OrderColumn or @IndexColumn.  I don't want the array ordered alphabetically.  I want it to be returned in the same order.</p>\n\n<p>The enum's are literally as simple as you could ask for, but the Enum.name() are not in alphabetical order, so there doesn't seem to be a natural \"Order\" column.</p>\n\n<pre><code>@Embeddable\npublic enum SudokuPossibleValueState {\n                                  UNDEFINED, UNKNOWN, IMPOSSIBLE, POSSIBLE, COMMITTED, AS_PUBLISHED;\n\n    public String toString() {\n        return name().toLowerCase();\n    }\n}\n</code></pre>\n\n<p>By definition, I am using the actual position in the array to indicate the number that I am considering, and the enum defines the state of the evaluation for that number.  For example, a typical array might be ... </p>\n\n<pre><code>[0] = UNDEFINED, \n[1] = UNDEFINED, \n[2] = POSSIBLE, \n[3] = POSSIBLE, \n[4] = UNKNOWN, \n[5] = UNKNOWN, \n[6] = UNKNOWN, \n[7] = IMPOSSIBLE, \n[8] = IMPOSSIBLE,\n[9] = IMPOSSIBLE.\n</code></pre>\n\n<p>But the challenge I am encountering is that all of the examples that I can find online, and the Hibernate documentation, only seem to address the situation where you are using a Java collection; which is not what I am trying to do.</p>\n\n<pre><code>@Entity\n@Table(name = \"SudokuPossibleValues\")\npublic class SudokuPossibleValuesModel {   \n    public static final int NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE = 10;\n\n    @Id\n    @GeneratedValue\n    private long possibleValuesID;\n\n    @ElementCollection\n    @Enumerated(EnumType.STRING)\n    private SudokuPossibleValueState stateValues[] = new SudokuPossibleValueState[NUMBER_OF_POSSIBLE_VALUES_PLUS_ONE];\n    ...\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5458530,"reputation":4307,"user_id":4341283,"accept_rate":50,"display_name":"STaefi"},"score":0,"creation_date":1662637211,"post_id":73648415,"comment_id":130054532,"body_markdown":"Hi Matt, I could not see a relation between your current problem and the Vaadin platform.","body":"Hi Matt, I could not see a relation between your current problem and the Vaadin platform."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1662637260,"post_id":73648415,"comment_id":130054557,"body_markdown":"Please provide the full exception stacktrace, and the relevant code throwing that exception.","body":"Please provide the full exception stacktrace, and the relevant code throwing that exception."},{"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"score":0,"creation_date":1662638156,"post_id":73648415,"comment_id":130054868,"body_markdown":"Hi @MarkRotteveel, I just uploaded the full exception stacktrace. I just had a little problem formatting it, but now is complete. Hope will help, thanks!","body":"Hi @MarkRotteveel, I just uploaded the full exception stacktrace. I just had a little problem formatting it, but now is complete. Hope will help, thanks!"},{"owner":{"account_id":6568836,"reputation":117,"user_id":5077566,"display_name":"Marty"},"score":0,"creation_date":1662638499,"post_id":73648415,"comment_id":130054992,"body_markdown":"I think you may have mapped db column of type String to field in pojo of type BigDecimal","body":"I think you may have mapped db column of type String to field in pojo of type BigDecimal"},{"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"score":0,"creation_date":1662639552,"post_id":73648415,"comment_id":130055404,"body_markdown":"Hi @Marty , I tried again but seems to be correct. I can&#39;t understand why the error shows up.","body":"Hi @Marty , I tried again but seems to be correct. I can&#39;t understand why the error shows up."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1662640256,"post_id":73648415,"comment_id":130055684,"body_markdown":"As a general advice, put code and exceptions in blocks enclosed by three (or more) backticks (on their own line). In any case, in the current state, the code and the exception stacktrace is unreadable, and the stacktrace is probably incomplete (I think I&#39;m missing &quot;caused by&quot; sections of the stacktrace).","body":"As a general advice, put code and exceptions in blocks enclosed by three (or more) backticks (on their own line). In any case, in the current state, the code and the exception stacktrace is unreadable, and the stacktrace is probably incomplete (I think I&#39;m missing &quot;caused by&quot; sections of the stacktrace)."},{"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"score":0,"creation_date":1662641289,"post_id":73648415,"comment_id":130056079,"body_markdown":"Hi @MarkRotteveel I formatted the code. For the stacktrace: I cleared the console, I generated the error (I excecuted the GET API through Postman) and I posted the whole error from the console into this post. There isn&#39;t a &quot;caused by&quot;, even if I know that normally is written.","body":"Hi @MarkRotteveel I formatted the code. For the stacktrace: I cleared the console, I generated the error (I excecuted the GET API through Postman) and I posted the whole error from the console into this post. There isn&#39;t a &quot;caused by&quot;, even if I know that normally is written."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1662642252,"post_id":73648415,"comment_id":130056467,"body_markdown":"I guess there is a mismatch between the columns of your query and the target fields of your object (e.g. wrong order, or wrong column types or something). I don&#39;t know this holon-datastore-jdbc, but I guess this mismatch is somewhere between that `RecAnnuncio.TARGET` and `RecAnnuncio.REC_ANNUNCIO`.","body":"I guess there is a mismatch between the columns of your query and the target fields of your object (e.g. wrong order, or wrong column types or something). I don&#39;t know this holon-datastore-jdbc, but I guess this mismatch is somewhere between that <code>RecAnnuncio.TARGET</code> and <code>RecAnnuncio.REC_ANNUNCIO</code>."},{"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"score":1,"creation_date":1662644808,"post_id":73648415,"comment_id":130057495,"body_markdown":"Hey @MarkRotteveel, there was one little difference! Now the order of columns is OK, the number of columns is OK, the data type of each column is OK.\nNow when I test the API through Postman I don&#39;t get any error in the console of Eclipse, and that&#39;s very good! I just got this message in Postman and I can&#39;t fix it:\n[no message for java.lang.NullPointerException]\n\nI just need to GET a Json of the query/rows of my DB, but still doesn&#39;t work...\n\nDo you have any hint?\nThanks!","body":"Hey @MarkRotteveel, there was one little difference! Now the order of columns is OK, the number of columns is OK, the data type of each column is OK. Now when I test the API through Postman I don&#39;t get any error in the console of Eclipse, and that&#39;s very good! I just got this message in Postman and I can&#39;t fix it: [no message for java.lang.NullPointerException]  I just need to GET a Json of the query/rows of my DB, but still doesn&#39;t work...  Do you have any hint? Thanks!"},{"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"score":2,"creation_date":1662646319,"post_id":73648415,"comment_id":130058157,"body_markdown":"Hey @MarkRotteveel IT WORKS! The problem war JsonMappingException (Jackson), it doesn&#39;t handle the null values, so i tried to full all my db just for testing and it worked!\nThe point about Jackson is: Double can handle null value, and double can&#39;t. So instead of changing the datatype, I just filled the DB, and now works! Thank you for the motivation, I&#39;ve been stucked on this problem for like 2 whole days. Have a nice week.","body":"Hey @MarkRotteveel IT WORKS! The problem war JsonMappingException (Jackson), it doesn&#39;t handle the null values, so i tried to full all my db just for testing and it worked! The point about Jackson is: Double can handle null value, and double can&#39;t. So instead of changing the datatype, I just filled the DB, and now works! Thank you for the motivation, I&#39;ve been stucked on this problem for like 2 whole days. Have a nice week."}],"owner":{"account_id":26226009,"reputation":21,"user_id":19902708,"display_name":"Matt-Lombardi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662641136,"creation_date":1662636765,"question_id":73648415,"body_markdown":"Here&#39;s my API code:\r\n\r\n    @GET\r\n    @Path(&quot;/jobs&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Stream&lt;Annuncio&gt; getAnnuncio() {\r\n    \tStream&lt;PropertyBox&gt; stream = datastore.query(RecAnnuncio.TARGET).stream(RecAnnuncio.REC_ANNUNCIO);\r\n    \treturn stream.map(row -&gt; {\r\n    \t\treturn new AnnuncioImpl(row.getValueIfPresent(RecAnnuncio.ID).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.ID_REF_PRINC).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.NOME_REF_PRINC).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.COGNOME_REF_PRINC).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.FOTO_REF_PRINC).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.ID_SEDE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DESC_SEDE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.NOME_INDIRIZZO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DESC_INDIRIZZO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.INDIRIZZO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.CASELLA_POSTALE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.NAP).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.LOCALITA).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.ID_NAZIONE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DESC_NAZIONE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.NO_TELEFONO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.E_MAIL_HR).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.PAGINA_INTERNET).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.PAGINA_LINKEDIN).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.ID_SEZIONE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.ID_AREA).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DESC_AREA).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.ID_REF_SECOND).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.NOME_REF_SECOND).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.COGNOME_REF_SECOND).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.FOTO_REF_SECOND).orElseGet(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.TITOLO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DESCRIZIONE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.HOME_OFFICE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.OCCUP_MIN).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.OCCUP_MAX).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.INIZIO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.FINE).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DATA_INIZIO_CONTRATTO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.DURATA_CONTRATTO).orElse(null),\r\n    \t\t\t\trow.getValueIfPresent(RecAnnuncio.UNITA_DURATA_CONTRATTO).orElse(null));\r\n    \t});\r\n    }\r\n\r\nHere&#39;s my `Annuncio`:\r\n\r\n    @JsonDeserialize(as = AnnuncioImpl.class)\r\n    public interface Annuncio extends Serializable {\r\n    \tInteger getAnnuncioId();\r\n    \tInteger getRefPrincId();\r\n    \tString getNomeRefPrinc();\r\n    \tString getConomeRefPrinc();\r\n    \tbyte[] getFotoRefPrinc();\r\n    \tInteger getSedeId();\r\n    \tString getDescSede();\r\n    \tString getNomeIndirizzo();\r\n    \tString getDescIndirizzo();\r\n    \tString getIndirizzo();\r\n    \tString getCasellaPostale();\r\n    \tString getNap();\r\n    \tString getLocalita();\r\n    \tInteger getNazioneId();\r\n    \tString getDescNazione();\r\n    \tString getNoTelefono();\r\n    \tString getEmailHr();\r\n    \tString getPaginaInternet();\r\n    \tString getPaginaLinkedin();\r\n    \tInteger getSezioneId();\r\n    \tInteger getAreaId();\r\n    \tString getDescArea();\r\n    \tInteger getRefSecondId();\r\n    \tString getNomeRefSecond();\r\n    \tString getConomeRefSecond();\r\n    \tbyte[] getFotoRefSecond();\r\n    \tString getTitolo();\r\n    \tString getDescrizione();\r\n    \tString getHomeOffice();\r\n    \tBigDecimal getOccupMin();\r\n    \tBigDecimal getOccupMax();\r\n    \tLocalDate getInizio();\r\n    \tLocalDate getFine();\r\n    \tLocalDate getDataInizioContratto();\r\n    \tInteger getDurataContratto();\r\n    \tString getUnitaDurataContratto();\r\n    \r\n    }\r\n\r\nHere&#39;s my `AnnuncioImpl`:\r\n\r\n    public class AnnuncioImpl implements Annuncio {\r\n    \r\n    \tprivate static final long serialVersionUID = 7564964076463242656L;\r\n    \r\n    \tprivate Integer annuncioId;\r\n    \tprivate Integer refPrincId;\r\n    \tprivate String nomeRefPrinc;\r\n    \tprivate String conomeRefPrinc;\r\n    \tprivate byte[] fotoRefPrinc;\r\n    \tprivate Integer sedeId;\r\n    \tprivate String descSede;\r\n    \tprivate String nomeIndirizzo;\r\n    \tprivate String descIndirizzo;\r\n    \tprivate String indirizzo;\r\n    \tprivate String casellaPostale;\r\n    \tprivate String nap;\r\n    \tprivate String localita;\r\n    \tprivate Integer nazioneId;\r\n    \tprivate String descNazione;\r\n    \tprivate String noTelefono;\r\n    \tprivate String emailHr;\r\n    \tprivate String paginaInternet;\r\n    \tprivate String paginaLinkedin;\r\n    \tprivate Integer sezioneId;\r\n    \tprivate Integer areaId;\r\n    \tprivate String descArea;\r\n    \tprivate Integer refSecondId;\r\n    \tprivate String nomeRefSecond;\r\n    \tprivate String conomeRefSecond;\r\n    \tprivate byte[] fotoRefSecond;\r\n    \tprivate String titolo;\r\n    \tprivate String descrizione;\r\n    \tprivate String homeOffice;\r\n    \tprivate BigDecimal occupMin;\r\n    \tprivate BigDecimal occupMax;\r\n    \tprivate LocalDate inizio;\r\n    \tprivate LocalDate fine;\r\n    \tprivate LocalDate dataInizioContratto;\r\n    \tprivate Integer durataContratto;\r\n    \tprivate String unitaDurataContratto;\r\n    \r\n    \tpublic AnnuncioImpl() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic AnnuncioImpl(Integer annuncioId, Integer refPrincId, String nomeRefPrinc, String conomeRefPrinc,\r\n    \t\t\tbyte[] fotoRefPrinc, Integer sedeId, String descSede, String nomeIndirizzo, String descIndirizzo,\r\n    \t\t\tString indirizzo, String casellaPostale, String nap, String localita, Integer nazioneId, String descNazione,\r\n    \t\t\tString noTelefono, String emailHr, String paginaInternet, String paginaLinkedin, Integer sezioneId,\r\n    \t\t\tInteger areaId, String descArea, Integer refSecondId, String nomeRefSecond, String conomeRefSecond,\r\n    \t\t\tbyte[] fotoRefSecond, String titolo, String descrizione, String homeOffice, BigDecimal occupMin,\r\n    \t\t\tBigDecimal occupMax, LocalDate inizio, LocalDate fine, LocalDate dataInizioContratto,\r\n    \t\t\tInteger durataContratto, String unitaDurataContratto) {\r\n    \t\tsuper();\r\n    \t\tthis.annuncioId = annuncioId;\r\n    \t\tthis.refPrincId = refPrincId;\r\n    \t\tthis.nomeRefPrinc = nomeRefPrinc;\r\n    \t\tthis.conomeRefPrinc = conomeRefPrinc;\r\n    \t\tthis.fotoRefPrinc = fotoRefPrinc;\r\n    \t\tthis.sedeId = sedeId;\r\n    \t\tthis.descSede = descSede;\r\n    \t\tthis.nomeIndirizzo = nomeIndirizzo;\r\n    \t\tthis.descIndirizzo = descIndirizzo;\r\n    \t\tthis.indirizzo = indirizzo;\r\n    \t\tthis.casellaPostale = casellaPostale;\r\n    \t\tthis.nap = nap;\r\n    \t\tthis.localita = localita;\r\n    \t\tthis.nazioneId = nazioneId;\r\n    \t\tthis.descNazione = descNazione;\r\n    \t\tthis.noTelefono = noTelefono;\r\n    \t\tthis.emailHr = emailHr;\r\n    \t\tthis.paginaInternet = paginaInternet;\r\n    \t\tthis.paginaLinkedin = paginaLinkedin;\r\n    \t\tthis.sezioneId = sezioneId;\r\n    \t\tthis.areaId = areaId;\r\n    \t\tthis.descArea = descArea;\r\n    \t\tthis.refSecondId = refSecondId;\r\n    \t\tthis.nomeRefSecond = nomeRefSecond;\r\n    \t\tthis.conomeRefSecond = conomeRefSecond;\r\n    \t\tthis.fotoRefSecond = fotoRefSecond;\r\n    \t\tthis.titolo = titolo;\r\n    \t\tthis.descrizione = descrizione;\r\n    \t\tthis.homeOffice = homeOffice;\r\n    \t\tthis.occupMin = occupMin;\r\n    \t\tthis.occupMax = occupMax;\r\n    \t\tthis.inizio = inizio;\r\n    \t\tthis.fine = fine;\r\n    \t\tthis.dataInizioContratto = dataInizioContratto;\r\n    \t\tthis.durataContratto = durataContratto;\r\n    \t\tthis.unitaDurataContratto = unitaDurataContratto;\r\n    \t}\r\n    \r\n    \tpublic Integer getAnnuncioId() {\r\n    \t\treturn annuncioId;\r\n    \t}\r\n    \r\n    \tpublic Integer getRefPrincId() {\r\n    \t\treturn refPrincId;\r\n    \t}\r\n    \r\n    \tpublic String getNomeRefPrinc() {\r\n    \t\treturn nomeRefPrinc;\r\n    \t}\r\n    \r\n    \tpublic String getConomeRefPrinc() {\r\n    \t\treturn conomeRefPrinc;\r\n    \t}\r\n    \r\n    \tpublic byte[] getFotoRefPrinc() {\r\n    \t\treturn fotoRefPrinc;\r\n    \t}\r\n    \r\n    \tpublic Integer getSedeId() {\r\n    \t\treturn sedeId;\r\n    \t}\r\n    \r\n    \tpublic String getDescSede() {\r\n    \t\treturn descSede;\r\n    \t}\r\n    \r\n    \tpublic String getNomeIndirizzo() {\r\n    \t\treturn nomeIndirizzo;\r\n    \t}\r\n    \r\n    \tpublic String getDescIndirizzo() {\r\n    \t\treturn descIndirizzo;\r\n    \t}\r\n    \r\n    \tpublic String getIndirizzo() {\r\n    \t\treturn indirizzo;\r\n    \t}\r\n    \r\n    \tpublic String getCasellaPostale() {\r\n    \t\treturn casellaPostale;\r\n    \t}\r\n    \r\n    \tpublic String getNap() {\r\n    \t\treturn nap;\r\n    \t}\r\n    \r\n    \tpublic String getLocalita() {\r\n    \t\treturn localita;\r\n    \t}\r\n    \r\n    \tpublic Integer getNazioneId() {\r\n    \t\treturn nazioneId;\r\n    \t}\r\n    \r\n    \tpublic String getDescNazione() {\r\n    \t\treturn descNazione;\r\n    \t}\r\n    \r\n    \tpublic String getNoTelefono() {\r\n    \t\treturn noTelefono;\r\n    \t}\r\n    \r\n    \tpublic String getEmailHr() {\r\n    \t\treturn emailHr;\r\n    \t}\r\n    \r\n    \tpublic String getPaginaInternet() {\r\n    \t\treturn paginaInternet;\r\n    \t}\r\n    \r\n    \tpublic String getPaginaLinkedin() {\r\n    \t\treturn paginaLinkedin;\r\n    \t}\r\n    \r\n    \tpublic Integer getSezioneId() {\r\n    \t\treturn sezioneId;\r\n    \t}\r\n    \r\n    \tpublic Integer getAreaId() {\r\n    \t\treturn areaId;\r\n    \t}\r\n    \r\n    \tpublic String getDescArea() {\r\n    \t\treturn descArea;\r\n    \t}\r\n    \r\n    \tpublic Integer getRefSecondId() {\r\n    \t\treturn refSecondId;\r\n    \t}\r\n    \r\n    \tpublic String getNomeRefSecond() {\r\n    \t\treturn nomeRefSecond;\r\n    \t}\r\n    \r\n    \tpublic String getConomeRefSecond() {\r\n    \t\treturn conomeRefSecond;\r\n    \t}\r\n    \r\n    \tpublic byte[] getFotoRefSecond() {\r\n    \t\treturn fotoRefSecond;\r\n    \t}\r\n    \r\n    \tpublic String getTitolo() {\r\n    \t\treturn titolo;\r\n    \t}\r\n    \r\n    \tpublic String getDescrizione() {\r\n    \t\treturn descrizione;\r\n    \t}\r\n    \r\n    \tpublic String getHomeOffice() {\r\n    \t\treturn homeOffice;\r\n    \t}\r\n    \r\n    \tpublic BigDecimal getOccupMin() {\r\n    \t\treturn occupMin;\r\n    \t}\r\n    \r\n    \tpublic BigDecimal getOccupMax() {\r\n    \t\treturn occupMax;\r\n    \t}\r\n    \r\n    \tpublic LocalDate getInizio() {\r\n    \t\treturn inizio;\r\n    \t}\r\n    \r\n    \tpublic LocalDate getFine() {\r\n    \t\treturn fine;\r\n    \t}\r\n    \r\n    \tpublic LocalDate getDataInizioContratto() {\r\n    \t\treturn dataInizioContratto;\r\n    \t}\r\n    \r\n    \tpublic Integer getDurataContratto() {\r\n    \t\treturn durataContratto;\r\n    \t}\r\n    \r\n    \tpublic String getUnitaDurataContratto() {\r\n    \t\treturn unitaDurataContratto;\r\n    \t}\r\n    \r\n    \tpublic void setAnnuncioId(Integer annuncioId) {\r\n    \t\tthis.annuncioId = annuncioId;\r\n    \t}\r\n    \r\n    \tpublic void setRefPrincId(Integer refPrincId) {\r\n    \t\tthis.refPrincId = refPrincId;\r\n    \t}\r\n    \r\n    \tpublic void setNomeRefPrinc(String nomeRefPrinc) {\r\n    \t\tthis.nomeRefPrinc = nomeRefPrinc;\r\n    \t}\r\n    \r\n    \tpublic void setConomeRefPrinc(String conomeRefPrinc) {\r\n    \t\tthis.conomeRefPrinc = conomeRefPrinc;\r\n    \t}\r\n    \r\n    \tpublic void setFotoRefPrinc(byte[] fotoRefPrinc) {\r\n    \t\tthis.fotoRefPrinc = fotoRefPrinc;\r\n    \t}\r\n    \r\n    \tpublic void setSedeId(Integer sedeId) {\r\n    \t\tthis.sedeId = sedeId;\r\n    \t}\r\n    \r\n    \tpublic void setDescSede(String descSede) {\r\n    \t\tthis.descSede = descSede;\r\n    \t}\r\n    \r\n    \tpublic void setNomeIndirizzo(String nomeIndirizzo) {\r\n    \t\tthis.nomeIndirizzo = nomeIndirizzo;\r\n    \t}\r\n    \r\n    \tpublic void setDescIndirizzo(String descIndirizzo) {\r\n    \t\tthis.descIndirizzo = descIndirizzo;\r\n    \t}\r\n    \r\n    \tpublic void setIndirizzo(String indirizzo) {\r\n    \t\tthis.indirizzo = indirizzo;\r\n    \t}\r\n    \r\n    \tpublic void setCasellaPostale(String casellaPostale) {\r\n    \t\tthis.casellaPostale = casellaPostale;\r\n    \t}\r\n    \r\n    \tpublic void setNap(String nap) {\r\n    \t\tthis.nap = nap;\r\n    \t}\r\n    \r\n    \tpublic void setLocalita(String localita) {\r\n    \t\tthis.localita = localita;\r\n    \t}\r\n    \r\n    \tpublic void setNazioneId(Integer nazioneId) {\r\n    \t\tthis.nazioneId = nazioneId;\r\n    \t}\r\n    \r\n    \tpublic void setDescNazione(String descNazione) {\r\n    \t\tthis.descNazione = descNazione;\r\n    \t}\r\n    \r\n    \tpublic void setNoTelefono(String noTelefono) {\r\n    \t\tthis.noTelefono = noTelefono;\r\n    \t}\r\n    \r\n    \tpublic void setEmailHr(String emailHr) {\r\n    \t\tthis.emailHr = emailHr;\r\n    \t}\r\n    \r\n    \tpublic void setPaginaInternet(String paginaInternet) {\r\n    \t\tthis.paginaInternet = paginaInternet;\r\n    \t}\r\n    \r\n    \tpublic void setPaginaLinkedin(String paginaLinkedin) {\r\n    \t\tthis.paginaLinkedin = paginaLinkedin;\r\n    \t}\r\n    \r\n    \tpublic void setSezioneId(Integer sezioneId) {\r\n    \t\tthis.sezioneId = sezioneId;\r\n    \t}\r\n    \r\n    \tpublic void setAreaId(Integer areaId) {\r\n    \t\tthis.areaId = areaId;\r\n    \t}\r\n    \r\n    \tpublic void setDescArea(String descArea) {\r\n    \t\tthis.descArea = descArea;\r\n    \t}\r\n    \r\n    \tpublic void setRefSecondId(Integer refSecondId) {\r\n    \t\tthis.refSecondId = refSecondId;\r\n    \t}\r\n    \r\n    \tpublic void setNomeRefSecond(String nomeRefSecond) {\r\n    \t\tthis.nomeRefSecond = nomeRefSecond;\r\n    \t}\r\n    \r\n    \tpublic void setConomeRefSecond(String conomeRefSecond) {\r\n    \t\tthis.conomeRefSecond = conomeRefSecond;\r\n    \t}\r\n    \r\n    \tpublic void setFotoRefSecond(byte[] fotoRefSecond) {\r\n    \t\tthis.fotoRefSecond = fotoRefSecond;\r\n    \t}\r\n    \r\n    \tpublic void setTitolo(String titolo) {\r\n    \t\tthis.titolo = titolo;\r\n    \t}\r\n    \r\n    \tpublic void setDescrizione(String descrizione) {\r\n    \t\tthis.descrizione = descrizione;\r\n    \t}\r\n    \r\n    \tpublic void setHomeOffice(String homeOffice) {\r\n    \t\tthis.homeOffice = homeOffice;\r\n    \t}\r\n    \r\n    \tpublic void setOccupMin(BigDecimal occupMin) {\r\n    \t\tthis.occupMin = occupMin;\r\n    \t}\r\n    \r\n    \tpublic void setOccupMax(BigDecimal occupMax) {\r\n    \t\tthis.occupMax = occupMax;\r\n    \t}\r\n    \r\n    \tpublic void setInizio(LocalDate inizio) {\r\n    \t\tthis.inizio = inizio;\r\n    \t}\r\n    \r\n    \tpublic void setFine(LocalDate fine) {\r\n    \t\tthis.fine = fine;\r\n    \t}\r\n    \r\n    \tpublic void setDataInizioContratto(LocalDate dataInizioContratto) {\r\n    \t\tthis.dataInizioContratto = dataInizioContratto;\r\n    \t}\r\n    \r\n    \tpublic void setDurataContratto(Integer durataContratto) {\r\n    \t\tthis.durataContratto = durataContratto;\r\n    \t}\r\n    \r\n    \tpublic void setUnitaDurataContratto(String unitaDurataContratto) {\r\n    \t\tthis.unitaDurataContratto = unitaDurataContratto;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + Arrays.hashCode(fotoRefPrinc);\r\n    \t\tresult = prime * result + Arrays.hashCode(fotoRefSecond);\r\n    \t\tresult = prime * result + Objects.hash(annuncioId, areaId, casellaPostale, conomeRefPrinc, conomeRefSecond,\r\n    \t\t\t\tdataInizioContratto, descArea, descIndirizzo, descNazione, descSede, descrizione, durataContratto,\r\n    \t\t\t\temailHr, fine, homeOffice, indirizzo, inizio, localita, nap, nazioneId, noTelefono, nomeIndirizzo,\r\n    \t\t\t\tnomeRefPrinc, nomeRefSecond, paginaInternet, paginaLinkedin, refPrincId, refSecondId, sedeId, sezioneId,\r\n    \t\t\t\ttitolo, unitaDurataContratto);\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tAnnuncioImpl other = (AnnuncioImpl) obj;\r\n    \t\treturn Objects.equals(annuncioId, other.annuncioId) &amp;&amp; Objects.equals(areaId, other.areaId)\r\n    \t\t\t\t&amp;&amp; Objects.equals(casellaPostale, other.casellaPostale)\r\n    \t\t\t\t&amp;&amp; Objects.equals(conomeRefPrinc, other.conomeRefPrinc)\r\n    \t\t\t\t&amp;&amp; Objects.equals(conomeRefSecond, other.conomeRefSecond)\r\n    \t\t\t\t&amp;&amp; Objects.equals(dataInizioContratto, other.dataInizioContratto)\r\n    \t\t\t\t&amp;&amp; Objects.equals(descArea, other.descArea) &amp;&amp; Objects.equals(descIndirizzo, other.descIndirizzo)\r\n    \t\t\t\t&amp;&amp; Objects.equals(descNazione, other.descNazione) &amp;&amp; Objects.equals(descSede, other.descSede)\r\n    \t\t\t\t&amp;&amp; Objects.equals(descrizione, other.descrizione)\r\n    \t\t\t\t&amp;&amp; Objects.equals(durataContratto, other.durataContratto) &amp;&amp; Objects.equals(emailHr, other.emailHr)\r\n    \t\t\t\t&amp;&amp; Objects.equals(fine, other.fine) &amp;&amp; Arrays.equals(fotoRefPrinc, other.fotoRefPrinc)\r\n    \t\t\t\t&amp;&amp; Arrays.equals(fotoRefSecond, other.fotoRefSecond) &amp;&amp; Objects.equals(homeOffice, other.homeOffice)\r\n    \t\t\t\t&amp;&amp; Objects.equals(indirizzo, other.indirizzo) &amp;&amp; Objects.equals(inizio, other.inizio)\r\n    \t\t\t\t&amp;&amp; Objects.equals(localita, other.localita) &amp;&amp; Objects.equals(nap, other.nap)\r\n    \t\t\t\t&amp;&amp; Objects.equals(nazioneId, other.nazioneId) &amp;&amp; Objects.equals(noTelefono, other.noTelefono)\r\n    \t\t\t\t&amp;&amp; Objects.equals(nomeIndirizzo, other.nomeIndirizzo)\r\n    \t\t\t\t&amp;&amp; Objects.equals(nomeRefPrinc, other.nomeRefPrinc)\r\n    \t\t\t\t&amp;&amp; Objects.equals(nomeRefSecond, other.nomeRefSecond)\r\n    \t\t\t\t&amp;&amp; Objects.equals(paginaInternet, other.paginaInternet)\r\n    \t\t\t\t&amp;&amp; Objects.equals(paginaLinkedin, other.paginaLinkedin) &amp;&amp; Objects.equals(refPrincId, other.refPrincId)\r\n    \t\t\t\t&amp;&amp; Objects.equals(refSecondId, other.refSecondId) &amp;&amp; Objects.equals(sedeId, other.sedeId)\r\n    \t\t\t\t&amp;&amp; Objects.equals(sezioneId, other.sezioneId) &amp;&amp; Objects.equals(titolo, other.titolo)\r\n    \t\t\t\t&amp;&amp; Objects.equals(unitaDurataContratto, other.unitaDurataContratto);\r\n    \t}\r\n    }\r\n\r\n \r\n\r\nWhen I test it with Postman with the following URL:\r\n\r\n    http://localhost:8080/api/rec/jobs/\r\n\r\nThen I got this error:\r\n\r\n    2022-09-08 14:44:21,823 INFO [com.holonplatform.datastore.jdbc] - (TRACE) SQL: [SELECT v_re_0_0.ID_ANNUNCIO AS id_a1_0, v_re_0_0.ID_REF_PRINC AS id_r2_0, v_re_0_0.NOME_REF_PRINC AS nome3_0, v_re_0_0.COGNOME_REF_PRINC AS cogn4_0, v_re_0_0.FOTO_REF_PRINC AS foto5_0, v_re_0_0.ID_SEDE AS id_s6_0, v_re_0_0.DESC_SEDE AS desc7_0, v_re_0_0.NOME_INDIRIZZO AS nome8_0, v_re_0_0.DESC_INDIRIZZO AS desc9_0, v_re_0_0.INDIRIZZO AS indi10_0, v_re_0_0.CASELLA_POSTALE AS case11_0, v_re_0_0.NAP AS nap12_0, v_re_0_0.LOCALITA AS loca13_0, v_re_0_0.ID_NAZIONE AS id_n14_0, v_re_0_0.DESC_NAZIONE AS desc15_0, v_re_0_0.NO_TELEFONO AS no_t16_0, v_re_0_0.E_MAIL_HR AS e_ma17_0, v_re_0_0.PAGINA_INTERNET AS pagi18_0, v_re_0_0.PAGINA_LINKEDIN AS pagi19_0, v_re_0_0.ID_SEZIONE AS id_s20_0, v_re_0_0.ID_AREA AS id_a21_0, v_re_0_0.DESC_AREA AS desc22_0, v_re_0_0.ID_REF_SECOND AS id_r23_0, v_re_0_0.NOME_REF_SECOND AS nome24_0, v_re_0_0.COGNOME_REF_SECOND AS cogn25_0, v_re_0_0.FOTO_REF_SECOND AS foto26_0, v_re_0_0.TITOLO AS tito27_0, v_re_0_0.DESCRIZIONE AS desc28_0, v_re_0_0.HOME_OFFICE AS home29_0, v_re_0_0.OCCUP_MIN AS occu30_0, v_re_0_0.OCCUP_MAX AS occu31_0, v_re_0_0.INIZIO AS iniz32_0, v_re_0_0.FINE AS fine33_0, v_re_0_0.DATA_INIZIO_CONTRATTO AS data34_0, v_re_0_0.DURATA_CONTRATTO AS dura35_0, v_re_0_0.UNITA_DURATA_CONTRATTO AS unit36_0 FROM V_REC_API_ANNUNCIO v_re_0_0]\r\n    2022-09-08 14:44:21,935 ERROR [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[org.glassfish.jersey.server.ResourceConfig]] - Servlet.service() for servlet [org.glassfish.jersey.server.ResourceConfig] in context with path [] threw exception [com.holonplatform.core.exceptions.DataAccessException: java.sql.SQLException: Failed to deserialize value [1] for required type [class java.lang.String]: Expected expression type [class java.lang.String] but got value type [java.math.BigDecimal]] with root cause\r\n    java.sql.SQLException: Failed to deserialize value [1] for required type [class java.lang.String]: Expected expression type [class java.lang.String] but got value type [java.math.BigDecimal]\r\n    \tat com.holonplatform.datastore.jdbc.composer.internal.DefaultSQLValueDeserializer.deserialize(DefaultSQLValueDeserializer.java:143)\r\n    \tat com.holonplatform.datastore.jdbc.composer.internal.converters.PropertyBoxSQLResultConverter.convert(PropertyBoxSQLResultConverter.java:117)\r\n    \tat com.holonplatform.datastore.jdbc.composer.internal.converters.PropertyBoxSQLResultConverter.convert(PropertyBoxSQLResultConverter.java:39)\r\n    \tat com.holonplatform.datastore.jdbc.internal.operations.JdbcQuery.lambda$stream$0(JdbcQuery.java:127)\r\n    \tat com.holonplatform.datastore.jdbc.internal.DefaultJdbcDatastore.withConnection(DefaultJdbcDatastore.java:384)\r\n    \tat com.holonplatform.datastore.jdbc.internal.DefaultJdbcDatastore.withConnection(DefaultJdbcDatastore.java:468)\r\n    \tat com.holonplatform.datastore.jdbc.internal.operations.JdbcQuery.stream(JdbcQuery.java:119)\r\n    \tat com.holonplatform.core.internal.query.QueryAdapterQuery.stream(QueryAdapterQuery.java:93)\r\n    \tat com.holonplatform.core.query.QueryResults.stream(QueryResults.java:115)\r\n    \tat ch.lombardi.spai.rec.endpoint.RecEndpoint.getAnnuncio(RecEndpoint.java:63)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n    \tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n    \tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nThe problem is that the `value [1]` is not a BigDecimal as the error said.\r\n\r\nI use Java 11.0.15, Vaadin 14 (Maven/Spring Boot) and my IDE is Eclipse 2022-06 (4.24.0).","title":"Failed to deserialize value for required type [class java.lang.String]","body":"<p>Here's my API code:</p>\n<pre><code>@GET\n@Path(&quot;/jobs&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic Stream&lt;Annuncio&gt; getAnnuncio() {\n    Stream&lt;PropertyBox&gt; stream = datastore.query(RecAnnuncio.TARGET).stream(RecAnnuncio.REC_ANNUNCIO);\n    return stream.map(row -&gt; {\n        return new AnnuncioImpl(row.getValueIfPresent(RecAnnuncio.ID).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.ID_REF_PRINC).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.NOME_REF_PRINC).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.COGNOME_REF_PRINC).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.FOTO_REF_PRINC).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.ID_SEDE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DESC_SEDE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.NOME_INDIRIZZO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DESC_INDIRIZZO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.INDIRIZZO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.CASELLA_POSTALE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.NAP).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.LOCALITA).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.ID_NAZIONE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DESC_NAZIONE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.NO_TELEFONO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.E_MAIL_HR).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.PAGINA_INTERNET).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.PAGINA_LINKEDIN).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.ID_SEZIONE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.ID_AREA).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DESC_AREA).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.ID_REF_SECOND).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.NOME_REF_SECOND).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.COGNOME_REF_SECOND).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.FOTO_REF_SECOND).orElseGet(null),\n                row.getValueIfPresent(RecAnnuncio.TITOLO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DESCRIZIONE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.HOME_OFFICE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.OCCUP_MIN).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.OCCUP_MAX).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.INIZIO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.FINE).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DATA_INIZIO_CONTRATTO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.DURATA_CONTRATTO).orElse(null),\n                row.getValueIfPresent(RecAnnuncio.UNITA_DURATA_CONTRATTO).orElse(null));\n    });\n}\n</code></pre>\n<p>Here's my <code>Annuncio</code>:</p>\n<pre><code>@JsonDeserialize(as = AnnuncioImpl.class)\npublic interface Annuncio extends Serializable {\n    Integer getAnnuncioId();\n    Integer getRefPrincId();\n    String getNomeRefPrinc();\n    String getConomeRefPrinc();\n    byte[] getFotoRefPrinc();\n    Integer getSedeId();\n    String getDescSede();\n    String getNomeIndirizzo();\n    String getDescIndirizzo();\n    String getIndirizzo();\n    String getCasellaPostale();\n    String getNap();\n    String getLocalita();\n    Integer getNazioneId();\n    String getDescNazione();\n    String getNoTelefono();\n    String getEmailHr();\n    String getPaginaInternet();\n    String getPaginaLinkedin();\n    Integer getSezioneId();\n    Integer getAreaId();\n    String getDescArea();\n    Integer getRefSecondId();\n    String getNomeRefSecond();\n    String getConomeRefSecond();\n    byte[] getFotoRefSecond();\n    String getTitolo();\n    String getDescrizione();\n    String getHomeOffice();\n    BigDecimal getOccupMin();\n    BigDecimal getOccupMax();\n    LocalDate getInizio();\n    LocalDate getFine();\n    LocalDate getDataInizioContratto();\n    Integer getDurataContratto();\n    String getUnitaDurataContratto();\n\n}\n</code></pre>\n<p>Here's my <code>AnnuncioImpl</code>:</p>\n<pre><code>public class AnnuncioImpl implements Annuncio {\n\n    private static final long serialVersionUID = 7564964076463242656L;\n\n    private Integer annuncioId;\n    private Integer refPrincId;\n    private String nomeRefPrinc;\n    private String conomeRefPrinc;\n    private byte[] fotoRefPrinc;\n    private Integer sedeId;\n    private String descSede;\n    private String nomeIndirizzo;\n    private String descIndirizzo;\n    private String indirizzo;\n    private String casellaPostale;\n    private String nap;\n    private String localita;\n    private Integer nazioneId;\n    private String descNazione;\n    private String noTelefono;\n    private String emailHr;\n    private String paginaInternet;\n    private String paginaLinkedin;\n    private Integer sezioneId;\n    private Integer areaId;\n    private String descArea;\n    private Integer refSecondId;\n    private String nomeRefSecond;\n    private String conomeRefSecond;\n    private byte[] fotoRefSecond;\n    private String titolo;\n    private String descrizione;\n    private String homeOffice;\n    private BigDecimal occupMin;\n    private BigDecimal occupMax;\n    private LocalDate inizio;\n    private LocalDate fine;\n    private LocalDate dataInizioContratto;\n    private Integer durataContratto;\n    private String unitaDurataContratto;\n\n    public AnnuncioImpl() {\n        super();\n    }\n\n    public AnnuncioImpl(Integer annuncioId, Integer refPrincId, String nomeRefPrinc, String conomeRefPrinc,\n            byte[] fotoRefPrinc, Integer sedeId, String descSede, String nomeIndirizzo, String descIndirizzo,\n            String indirizzo, String casellaPostale, String nap, String localita, Integer nazioneId, String descNazione,\n            String noTelefono, String emailHr, String paginaInternet, String paginaLinkedin, Integer sezioneId,\n            Integer areaId, String descArea, Integer refSecondId, String nomeRefSecond, String conomeRefSecond,\n            byte[] fotoRefSecond, String titolo, String descrizione, String homeOffice, BigDecimal occupMin,\n            BigDecimal occupMax, LocalDate inizio, LocalDate fine, LocalDate dataInizioContratto,\n            Integer durataContratto, String unitaDurataContratto) {\n        super();\n        this.annuncioId = annuncioId;\n        this.refPrincId = refPrincId;\n        this.nomeRefPrinc = nomeRefPrinc;\n        this.conomeRefPrinc = conomeRefPrinc;\n        this.fotoRefPrinc = fotoRefPrinc;\n        this.sedeId = sedeId;\n        this.descSede = descSede;\n        this.nomeIndirizzo = nomeIndirizzo;\n        this.descIndirizzo = descIndirizzo;\n        this.indirizzo = indirizzo;\n        this.casellaPostale = casellaPostale;\n        this.nap = nap;\n        this.localita = localita;\n        this.nazioneId = nazioneId;\n        this.descNazione = descNazione;\n        this.noTelefono = noTelefono;\n        this.emailHr = emailHr;\n        this.paginaInternet = paginaInternet;\n        this.paginaLinkedin = paginaLinkedin;\n        this.sezioneId = sezioneId;\n        this.areaId = areaId;\n        this.descArea = descArea;\n        this.refSecondId = refSecondId;\n        this.nomeRefSecond = nomeRefSecond;\n        this.conomeRefSecond = conomeRefSecond;\n        this.fotoRefSecond = fotoRefSecond;\n        this.titolo = titolo;\n        this.descrizione = descrizione;\n        this.homeOffice = homeOffice;\n        this.occupMin = occupMin;\n        this.occupMax = occupMax;\n        this.inizio = inizio;\n        this.fine = fine;\n        this.dataInizioContratto = dataInizioContratto;\n        this.durataContratto = durataContratto;\n        this.unitaDurataContratto = unitaDurataContratto;\n    }\n\n    public Integer getAnnuncioId() {\n        return annuncioId;\n    }\n\n    public Integer getRefPrincId() {\n        return refPrincId;\n    }\n\n    public String getNomeRefPrinc() {\n        return nomeRefPrinc;\n    }\n\n    public String getConomeRefPrinc() {\n        return conomeRefPrinc;\n    }\n\n    public byte[] getFotoRefPrinc() {\n        return fotoRefPrinc;\n    }\n\n    public Integer getSedeId() {\n        return sedeId;\n    }\n\n    public String getDescSede() {\n        return descSede;\n    }\n\n    public String getNomeIndirizzo() {\n        return nomeIndirizzo;\n    }\n\n    public String getDescIndirizzo() {\n        return descIndirizzo;\n    }\n\n    public String getIndirizzo() {\n        return indirizzo;\n    }\n\n    public String getCasellaPostale() {\n        return casellaPostale;\n    }\n\n    public String getNap() {\n        return nap;\n    }\n\n    public String getLocalita() {\n        return localita;\n    }\n\n    public Integer getNazioneId() {\n        return nazioneId;\n    }\n\n    public String getDescNazione() {\n        return descNazione;\n    }\n\n    public String getNoTelefono() {\n        return noTelefono;\n    }\n\n    public String getEmailHr() {\n        return emailHr;\n    }\n\n    public String getPaginaInternet() {\n        return paginaInternet;\n    }\n\n    public String getPaginaLinkedin() {\n        return paginaLinkedin;\n    }\n\n    public Integer getSezioneId() {\n        return sezioneId;\n    }\n\n    public Integer getAreaId() {\n        return areaId;\n    }\n\n    public String getDescArea() {\n        return descArea;\n    }\n\n    public Integer getRefSecondId() {\n        return refSecondId;\n    }\n\n    public String getNomeRefSecond() {\n        return nomeRefSecond;\n    }\n\n    public String getConomeRefSecond() {\n        return conomeRefSecond;\n    }\n\n    public byte[] getFotoRefSecond() {\n        return fotoRefSecond;\n    }\n\n    public String getTitolo() {\n        return titolo;\n    }\n\n    public String getDescrizione() {\n        return descrizione;\n    }\n\n    public String getHomeOffice() {\n        return homeOffice;\n    }\n\n    public BigDecimal getOccupMin() {\n        return occupMin;\n    }\n\n    public BigDecimal getOccupMax() {\n        return occupMax;\n    }\n\n    public LocalDate getInizio() {\n        return inizio;\n    }\n\n    public LocalDate getFine() {\n        return fine;\n    }\n\n    public LocalDate getDataInizioContratto() {\n        return dataInizioContratto;\n    }\n\n    public Integer getDurataContratto() {\n        return durataContratto;\n    }\n\n    public String getUnitaDurataContratto() {\n        return unitaDurataContratto;\n    }\n\n    public void setAnnuncioId(Integer annuncioId) {\n        this.annuncioId = annuncioId;\n    }\n\n    public void setRefPrincId(Integer refPrincId) {\n        this.refPrincId = refPrincId;\n    }\n\n    public void setNomeRefPrinc(String nomeRefPrinc) {\n        this.nomeRefPrinc = nomeRefPrinc;\n    }\n\n    public void setConomeRefPrinc(String conomeRefPrinc) {\n        this.conomeRefPrinc = conomeRefPrinc;\n    }\n\n    public void setFotoRefPrinc(byte[] fotoRefPrinc) {\n        this.fotoRefPrinc = fotoRefPrinc;\n    }\n\n    public void setSedeId(Integer sedeId) {\n        this.sedeId = sedeId;\n    }\n\n    public void setDescSede(String descSede) {\n        this.descSede = descSede;\n    }\n\n    public void setNomeIndirizzo(String nomeIndirizzo) {\n        this.nomeIndirizzo = nomeIndirizzo;\n    }\n\n    public void setDescIndirizzo(String descIndirizzo) {\n        this.descIndirizzo = descIndirizzo;\n    }\n\n    public void setIndirizzo(String indirizzo) {\n        this.indirizzo = indirizzo;\n    }\n\n    public void setCasellaPostale(String casellaPostale) {\n        this.casellaPostale = casellaPostale;\n    }\n\n    public void setNap(String nap) {\n        this.nap = nap;\n    }\n\n    public void setLocalita(String localita) {\n        this.localita = localita;\n    }\n\n    public void setNazioneId(Integer nazioneId) {\n        this.nazioneId = nazioneId;\n    }\n\n    public void setDescNazione(String descNazione) {\n        this.descNazione = descNazione;\n    }\n\n    public void setNoTelefono(String noTelefono) {\n        this.noTelefono = noTelefono;\n    }\n\n    public void setEmailHr(String emailHr) {\n        this.emailHr = emailHr;\n    }\n\n    public void setPaginaInternet(String paginaInternet) {\n        this.paginaInternet = paginaInternet;\n    }\n\n    public void setPaginaLinkedin(String paginaLinkedin) {\n        this.paginaLinkedin = paginaLinkedin;\n    }\n\n    public void setSezioneId(Integer sezioneId) {\n        this.sezioneId = sezioneId;\n    }\n\n    public void setAreaId(Integer areaId) {\n        this.areaId = areaId;\n    }\n\n    public void setDescArea(String descArea) {\n        this.descArea = descArea;\n    }\n\n    public void setRefSecondId(Integer refSecondId) {\n        this.refSecondId = refSecondId;\n    }\n\n    public void setNomeRefSecond(String nomeRefSecond) {\n        this.nomeRefSecond = nomeRefSecond;\n    }\n\n    public void setConomeRefSecond(String conomeRefSecond) {\n        this.conomeRefSecond = conomeRefSecond;\n    }\n\n    public void setFotoRefSecond(byte[] fotoRefSecond) {\n        this.fotoRefSecond = fotoRefSecond;\n    }\n\n    public void setTitolo(String titolo) {\n        this.titolo = titolo;\n    }\n\n    public void setDescrizione(String descrizione) {\n        this.descrizione = descrizione;\n    }\n\n    public void setHomeOffice(String homeOffice) {\n        this.homeOffice = homeOffice;\n    }\n\n    public void setOccupMin(BigDecimal occupMin) {\n        this.occupMin = occupMin;\n    }\n\n    public void setOccupMax(BigDecimal occupMax) {\n        this.occupMax = occupMax;\n    }\n\n    public void setInizio(LocalDate inizio) {\n        this.inizio = inizio;\n    }\n\n    public void setFine(LocalDate fine) {\n        this.fine = fine;\n    }\n\n    public void setDataInizioContratto(LocalDate dataInizioContratto) {\n        this.dataInizioContratto = dataInizioContratto;\n    }\n\n    public void setDurataContratto(Integer durataContratto) {\n        this.durataContratto = durataContratto;\n    }\n\n    public void setUnitaDurataContratto(String unitaDurataContratto) {\n        this.unitaDurataContratto = unitaDurataContratto;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + Arrays.hashCode(fotoRefPrinc);\n        result = prime * result + Arrays.hashCode(fotoRefSecond);\n        result = prime * result + Objects.hash(annuncioId, areaId, casellaPostale, conomeRefPrinc, conomeRefSecond,\n                dataInizioContratto, descArea, descIndirizzo, descNazione, descSede, descrizione, durataContratto,\n                emailHr, fine, homeOffice, indirizzo, inizio, localita, nap, nazioneId, noTelefono, nomeIndirizzo,\n                nomeRefPrinc, nomeRefSecond, paginaInternet, paginaLinkedin, refPrincId, refSecondId, sedeId, sezioneId,\n                titolo, unitaDurataContratto);\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        AnnuncioImpl other = (AnnuncioImpl) obj;\n        return Objects.equals(annuncioId, other.annuncioId) &amp;&amp; Objects.equals(areaId, other.areaId)\n                &amp;&amp; Objects.equals(casellaPostale, other.casellaPostale)\n                &amp;&amp; Objects.equals(conomeRefPrinc, other.conomeRefPrinc)\n                &amp;&amp; Objects.equals(conomeRefSecond, other.conomeRefSecond)\n                &amp;&amp; Objects.equals(dataInizioContratto, other.dataInizioContratto)\n                &amp;&amp; Objects.equals(descArea, other.descArea) &amp;&amp; Objects.equals(descIndirizzo, other.descIndirizzo)\n                &amp;&amp; Objects.equals(descNazione, other.descNazione) &amp;&amp; Objects.equals(descSede, other.descSede)\n                &amp;&amp; Objects.equals(descrizione, other.descrizione)\n                &amp;&amp; Objects.equals(durataContratto, other.durataContratto) &amp;&amp; Objects.equals(emailHr, other.emailHr)\n                &amp;&amp; Objects.equals(fine, other.fine) &amp;&amp; Arrays.equals(fotoRefPrinc, other.fotoRefPrinc)\n                &amp;&amp; Arrays.equals(fotoRefSecond, other.fotoRefSecond) &amp;&amp; Objects.equals(homeOffice, other.homeOffice)\n                &amp;&amp; Objects.equals(indirizzo, other.indirizzo) &amp;&amp; Objects.equals(inizio, other.inizio)\n                &amp;&amp; Objects.equals(localita, other.localita) &amp;&amp; Objects.equals(nap, other.nap)\n                &amp;&amp; Objects.equals(nazioneId, other.nazioneId) &amp;&amp; Objects.equals(noTelefono, other.noTelefono)\n                &amp;&amp; Objects.equals(nomeIndirizzo, other.nomeIndirizzo)\n                &amp;&amp; Objects.equals(nomeRefPrinc, other.nomeRefPrinc)\n                &amp;&amp; Objects.equals(nomeRefSecond, other.nomeRefSecond)\n                &amp;&amp; Objects.equals(paginaInternet, other.paginaInternet)\n                &amp;&amp; Objects.equals(paginaLinkedin, other.paginaLinkedin) &amp;&amp; Objects.equals(refPrincId, other.refPrincId)\n                &amp;&amp; Objects.equals(refSecondId, other.refSecondId) &amp;&amp; Objects.equals(sedeId, other.sedeId)\n                &amp;&amp; Objects.equals(sezioneId, other.sezioneId) &amp;&amp; Objects.equals(titolo, other.titolo)\n                &amp;&amp; Objects.equals(unitaDurataContratto, other.unitaDurataContratto);\n    }\n}\n</code></pre>\n<p>When I test it with Postman with the following URL:</p>\n<pre><code>http://localhost:8080/api/rec/jobs/\n</code></pre>\n<p>Then I got this error:</p>\n<pre><code>2022-09-08 14:44:21,823 INFO [com.holonplatform.datastore.jdbc] - (TRACE) SQL: [SELECT v_re_0_0.ID_ANNUNCIO AS id_a1_0, v_re_0_0.ID_REF_PRINC AS id_r2_0, v_re_0_0.NOME_REF_PRINC AS nome3_0, v_re_0_0.COGNOME_REF_PRINC AS cogn4_0, v_re_0_0.FOTO_REF_PRINC AS foto5_0, v_re_0_0.ID_SEDE AS id_s6_0, v_re_0_0.DESC_SEDE AS desc7_0, v_re_0_0.NOME_INDIRIZZO AS nome8_0, v_re_0_0.DESC_INDIRIZZO AS desc9_0, v_re_0_0.INDIRIZZO AS indi10_0, v_re_0_0.CASELLA_POSTALE AS case11_0, v_re_0_0.NAP AS nap12_0, v_re_0_0.LOCALITA AS loca13_0, v_re_0_0.ID_NAZIONE AS id_n14_0, v_re_0_0.DESC_NAZIONE AS desc15_0, v_re_0_0.NO_TELEFONO AS no_t16_0, v_re_0_0.E_MAIL_HR AS e_ma17_0, v_re_0_0.PAGINA_INTERNET AS pagi18_0, v_re_0_0.PAGINA_LINKEDIN AS pagi19_0, v_re_0_0.ID_SEZIONE AS id_s20_0, v_re_0_0.ID_AREA AS id_a21_0, v_re_0_0.DESC_AREA AS desc22_0, v_re_0_0.ID_REF_SECOND AS id_r23_0, v_re_0_0.NOME_REF_SECOND AS nome24_0, v_re_0_0.COGNOME_REF_SECOND AS cogn25_0, v_re_0_0.FOTO_REF_SECOND AS foto26_0, v_re_0_0.TITOLO AS tito27_0, v_re_0_0.DESCRIZIONE AS desc28_0, v_re_0_0.HOME_OFFICE AS home29_0, v_re_0_0.OCCUP_MIN AS occu30_0, v_re_0_0.OCCUP_MAX AS occu31_0, v_re_0_0.INIZIO AS iniz32_0, v_re_0_0.FINE AS fine33_0, v_re_0_0.DATA_INIZIO_CONTRATTO AS data34_0, v_re_0_0.DURATA_CONTRATTO AS dura35_0, v_re_0_0.UNITA_DURATA_CONTRATTO AS unit36_0 FROM V_REC_API_ANNUNCIO v_re_0_0]\n2022-09-08 14:44:21,935 ERROR [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[org.glassfish.jersey.server.ResourceConfig]] - Servlet.service() for servlet [org.glassfish.jersey.server.ResourceConfig] in context with path [] threw exception [com.holonplatform.core.exceptions.DataAccessException: java.sql.SQLException: Failed to deserialize value [1] for required type [class java.lang.String]: Expected expression type [class java.lang.String] but got value type [java.math.BigDecimal]] with root cause\njava.sql.SQLException: Failed to deserialize value [1] for required type [class java.lang.String]: Expected expression type [class java.lang.String] but got value type [java.math.BigDecimal]\n    at com.holonplatform.datastore.jdbc.composer.internal.DefaultSQLValueDeserializer.deserialize(DefaultSQLValueDeserializer.java:143)\n    at com.holonplatform.datastore.jdbc.composer.internal.converters.PropertyBoxSQLResultConverter.convert(PropertyBoxSQLResultConverter.java:117)\n    at com.holonplatform.datastore.jdbc.composer.internal.converters.PropertyBoxSQLResultConverter.convert(PropertyBoxSQLResultConverter.java:39)\n    at com.holonplatform.datastore.jdbc.internal.operations.JdbcQuery.lambda$stream$0(JdbcQuery.java:127)\n    at com.holonplatform.datastore.jdbc.internal.DefaultJdbcDatastore.withConnection(DefaultJdbcDatastore.java:384)\n    at com.holonplatform.datastore.jdbc.internal.DefaultJdbcDatastore.withConnection(DefaultJdbcDatastore.java:468)\n    at com.holonplatform.datastore.jdbc.internal.operations.JdbcQuery.stream(JdbcQuery.java:119)\n    at com.holonplatform.core.internal.query.QueryAdapterQuery.stream(QueryAdapterQuery.java:93)\n    at com.holonplatform.core.query.QueryResults.stream(QueryResults.java:115)\n    at ch.lombardi.spai.rec.endpoint.RecEndpoint.getAnnuncio(RecEndpoint.java:63)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>The problem is that the <code>value [1]</code> is not a BigDecimal as the error said.</p>\n<p>I use Java 11.0.15, Vaadin 14 (Maven/Spring Boot) and my IDE is Eclipse 2022-06 (4.24.0).</p>\n"},{"tags":["java","spring-boot","spring-graphql"],"comments":[{"owner":{"account_id":7581987,"reputation":103,"user_id":5752414,"display_name":"SURAJ"},"score":0,"creation_date":1675106100,"post_id":73647712,"comment_id":132853262,"body_markdown":"How to handle 3rd level assuming object is.\n\nquery myQuery {\n  field1(param1: &quot;value1&quot;) {\n    field2(param2: &quot;value2&quot;) {\n      field3 { abc, xyz }\n    }\n  }\n}","body":"How to handle 3rd level assuming object is.  query myQuery {   field1(param1: &quot;value1&quot;) {     field2(param2: &quot;value2&quot;) {       field3 { abc, xyz }     }   } }"}],"answers":[{"tags":[],"owner":{"account_id":23182820,"reputation":43,"user_id":17280412,"display_name":"Stephan Prat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662640551,"creation_date":1662640500,"answer_id":73649203,"question_id":73647712,"body_markdown":"I solved it using `@SchemaMapping`:\r\n```\r\n@QueryMapping\r\npublic Field1 field1(@Argument param1) {...}\r\n\r\n@SchemaMapping\r\npublic Field2 field2(Field1 field1, @Argument param2) {...}\r\n```","title":"How to handle nested field with arguments in Spring for GraphQL @Controller","body":"<p>I solved it using <code>@SchemaMapping</code>:</p>\n<pre><code>@QueryMapping\npublic Field1 field1(@Argument param1) {...}\n\n@SchemaMapping\npublic Field2 field2(Field1 field1, @Argument param2) {...}\n</code></pre>\n"}],"owner":{"account_id":23182820,"reputation":43,"user_id":17280412,"display_name":"Stephan Prat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662640551,"creation_date":1662633481,"question_id":73647712,"body_markdown":"Using `org.springframework.boot:spring-boot-starter-graphql` and WebMvc, I would like to handle, in the `@Controller`, nested fields with arguments.\r\nE.g.:\r\n```\r\nquery myQuery {\r\n  field1(param1: &quot;value1&quot;) {\r\n    field2(param2: &quot;value2&quot;) {\r\n      field3\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe `@Controller` handles the first field with:\r\n```\r\n@QueryMapping\r\npublic Field1 field1(@Argument param1) {...}\r\n```\r\n\r\nBut how to handle the second level field with argument?","title":"How to handle nested field with arguments in Spring for GraphQL @Controller","body":"<p>Using <code>org.springframework.boot:spring-boot-starter-graphql</code> and WebMvc, I would like to handle, in the <code>@Controller</code>, nested fields with arguments.\nE.g.:</p>\n<pre><code>query myQuery {\n  field1(param1: &quot;value1&quot;) {\n    field2(param2: &quot;value2&quot;) {\n      field3\n    }\n  }\n}\n</code></pre>\n<p>The <code>@Controller</code> handles the first field with:</p>\n<pre><code>@QueryMapping\npublic Field1 field1(@Argument param1) {...}\n</code></pre>\n<p>But how to handle the second level field with argument?</p>\n"},{"tags":["java","spring-boot","maven","jooq","jooq-codegen-maven"],"comments":[{"owner":{"account_id":5211313,"reputation":1241,"user_id":4167701,"accept_rate":89,"display_name":"Freshchris"},"score":0,"creation_date":1662454593,"post_id":73617847,"comment_id":130003170,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":4136385,"reputation":13,"user_id":3392976,"display_name":"PEUGENE"},"score":0,"creation_date":1662465496,"post_id":73617847,"comment_id":130006982,"body_markdown":"Lukas Eder answered the question by explaining the different strategies for generating code in separate Maven modules.","body":"Lukas Eder answered the question by explaining the different strategies for generating code in separate Maven modules."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662450193,"creation_date":1662450193,"answer_id":73618413,"question_id":73617847,"body_markdown":"There are several approaches to this:\r\n\r\n### Use a `GeneratorStrategy` only\r\n\r\nYou can implement a [custom `GeneratorStrategy`][1] that will completely rewrite the output path of the DAOs and/or POJO types to something you know happens to be a different maven module. \r\n\r\n### Use multiple code generation runs\r\n\r\nLike with many other scenarios where you want to cleanly separate code generation output (e.g. in this question: https://stackoverflow.com/q/52291293/521799), you could specify multiple code generation executions like this:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;exec-1&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;...&lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;exec-2&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;...&lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe two executions can have shared and independent configuration, including the `&lt;target&gt;`. The generation that produces DAO types will always also produce POJO types, so you might have to remove those from the code generation output, e.g. by deleting the directory right after code generation.\r\n\r\nYou can still use a `GeneratorStrategy` to specify diferent packages, if needed\r\n\r\n### Using some third party packaging tooling\r\n\r\nJust because jOOQ&#39;s code generator produces everything in a single directory hierarchy doesn&#39;t mean you have to leave things this way. The `maven-shade-plugin` or other similar plugins could be used to split your code after it has been generated, or even after it has been compiled. I won&#39;t list all the possible options here, but this will certainly give you an idea.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/","title":"JOOQ - Codegen - How to generate DAOs and POJOs into two differents Maven module","body":"<p>There are several approaches to this:</p>\n<h3>Use a <code>GeneratorStrategy</code> only</h3>\n<p>You can implement a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/\" rel=\"nofollow noreferrer\">custom <code>GeneratorStrategy</code></a> that will completely rewrite the output path of the DAOs and/or POJO types to something you know happens to be a different maven module.</p>\n<h3>Use multiple code generation runs</h3>\n<p>Like with many other scenarios where you want to cleanly separate code generation output (e.g. in this question: <a href=\"https://stackoverflow.com/q/52291293/521799\">jOOQ code generation for multiple databases with different schemas</a>), you could specify multiple code generation executions like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;exec-1&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;...&lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;exec-2&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;...&lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The two executions can have shared and independent configuration, including the <code>&lt;target&gt;</code>. The generation that produces DAO types will always also produce POJO types, so you might have to remove those from the code generation output, e.g. by deleting the directory right after code generation.</p>\n<p>You can still use a <code>GeneratorStrategy</code> to specify diferent packages, if needed</p>\n<h3>Using some third party packaging tooling</h3>\n<p>Just because jOOQ's code generator produces everything in a single directory hierarchy doesn't mean you have to leave things this way. The <code>maven-shade-plugin</code> or other similar plugins could be used to split your code after it has been generated, or even after it has been compiled. I won't list all the possible options here, but this will certainly give you an idea.</p>\n"}],"owner":{"account_id":4136385,"reputation":13,"user_id":3392976,"display_name":"PEUGENE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73618413,"answer_count":1,"score":1,"last_activity_date":1662640198,"creation_date":1662447344,"question_id":73617847,"body_markdown":"I use JOOQ with a PostgreSQL database. For the moment all the code generated by JOOQ is in the same Maven project.\r\n\r\nI would like to know if it is possible to separate the JOOQ code generation in two separate Maven modules:\r\n- in a server module: JOOQ records and DAOs generation\r\n- in a common module: generation of POJOs only.\r\n\r\nThe objective is to share the common module between the server and the client modules.\r\n\r\nThe configuration of the target in my generator is as follows:\r\n```\r\n&lt;target&gt;\r\n    &lt;packageName&gt;my.package&lt;/packageName&gt;\r\n    &lt;directory&gt;target/generated-sources/gen-jooq/&lt;/directory&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\n**Solution**\r\nI solved my problem based on the second strategy in Lukas Eder&#39;s answer.\r\n\r\nI have a Jooq generation configuration in the common module.\r\nI have another generation configuration in my server module.\r\nThe 2 configurations share a configuration file for the common parts.\r\n\r\nAfter the generation of the sources, the excess classes are removed by the antrun plugin during the process-sources phase.\r\n\r\nThe antrun configuration in the common module, only pojos are keeped.\r\n```\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n    \r\n            &lt;configuration&gt;\r\n              &lt;target&gt;\r\n                &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\r\n                  &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package/tables/records/&quot; /&gt;\r\n                  &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package/tables/&quot; includes=&quot;*.java&quot; /&gt;\r\n                  &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package&quot; includes=&quot;*.java&quot; /&gt;\r\n                &lt;/delete&gt;\r\n              &lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n```\r\n\r\nAnd in the server module, only the pojos are deleted :\r\n```\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;target&gt;\r\n\t\t\t\t\t\t\t&lt;delete includeEmptyDirs=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package/tables/pojos/&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;/delete&gt;\r\n\t\t\t\t\t\t&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\n```\r\n\r\n\r\n\r\n","title":"JOOQ - Codegen - How to generate DAOs and POJOs into two differents Maven module","body":"<p>I use JOOQ with a PostgreSQL database. For the moment all the code generated by JOOQ is in the same Maven project.</p>\n<p>I would like to know if it is possible to separate the JOOQ code generation in two separate Maven modules:</p>\n<ul>\n<li>in a server module: JOOQ records and DAOs generation</li>\n<li>in a common module: generation of POJOs only.</li>\n</ul>\n<p>The objective is to share the common module between the server and the client modules.</p>\n<p>The configuration of the target in my generator is as follows:</p>\n<pre><code>&lt;target&gt;\n    &lt;packageName&gt;my.package&lt;/packageName&gt;\n    &lt;directory&gt;target/generated-sources/gen-jooq/&lt;/directory&gt;\n&lt;/target&gt;\n</code></pre>\n<p><strong>Solution</strong>\nI solved my problem based on the second strategy in Lukas Eder's answer.</p>\n<p>I have a Jooq generation configuration in the common module.\nI have another generation configuration in my server module.\nThe 2 configurations share a configuration file for the common parts.</p>\n<p>After the generation of the sources, the excess classes are removed by the antrun plugin during the process-sources phase.</p>\n<p>The antrun configuration in the common module, only pojos are keeped.</p>\n<pre><code>\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n    \n            &lt;configuration&gt;\n              &lt;target&gt;\n                &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\n                  &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package/tables/records/&quot; /&gt;\n                  &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package/tables/&quot; includes=&quot;*.java&quot; /&gt;\n                  &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package&quot; includes=&quot;*.java&quot; /&gt;\n                &lt;/delete&gt;\n              &lt;/target&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n</code></pre>\n<p>And in the server module, only the pojos are deleted :</p>\n<pre><code>\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n\n                    &lt;configuration&gt;\n                        &lt;target&gt;\n                            &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\n                                &lt;fileset dir=&quot;target/generated-sources/gen-jooq/my/package/tables/pojos/&quot; /&gt;\n                            &lt;/delete&gt;\n                        &lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n</code></pre>\n"},{"tags":["java","maven","jar","executable-jar"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1662635478,"post_id":73648081,"comment_id":130053859,"body_markdown":"Did you look at `System.getProperty()`? You could then just pass in the url as `-Dproperty_name=url` and check if you got it or otherwise use the default.","body":"Did you look at <code>System.getProperty()</code>? You could then just pass in the url as <code>-Dproperty_name=url</code> and check if you got it or otherwise use the default."},{"owner":{"account_id":13602762,"reputation":53,"user_id":9812935,"display_name":"abhishek"},"score":0,"creation_date":1662890534,"post_id":73648081,"comment_id":130106838,"body_markdown":"@Thomas, yes wasn&#39;t familiar with that. This solves my requirement. Thanks!","body":"@Thomas, yes wasn&#39;t familiar with that. This solves my requirement. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662639629,"creation_date":1662639629,"answer_id":73649021,"question_id":73648081,"body_markdown":"As @Thomas mentioned in comment:\r\n```\r\n// Get system property with default if property does not exist\r\npublic class Routes {\r\n\r\n    private static String _baseUrl = System.getProperty(&quot;base.url&quot;, &quot;https://production-env.com&quot;);\r\n\r\n    public Map&lt;String, String&gt; routes;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public Routes() {\r\n        routes = new HashMap&lt;String, String&gt;() {\r\n            {\r\n                put(&quot;api.login&quot;, &quot;/rest/login&quot;);\r\n                put(&quot;api.register&quot;, &quot;/rest/register&quot;);\r\n\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nSet property when executing jar\r\n```\r\njava -Dbase.url=https://dev-env.com -jar my.jar\r\n```\r\n","title":"How to make a parameter override while running a Java jar file?","body":"<p>As @Thomas mentioned in comment:</p>\n<pre><code>// Get system property with default if property does not exist\npublic class Routes {\n\n    private static String _baseUrl = System.getProperty(&quot;base.url&quot;, &quot;https://production-env.com&quot;);\n\n    public Map&lt;String, String&gt; routes;\n    \n    @SuppressWarnings(&quot;serial&quot;)\n    public Routes() {\n        routes = new HashMap&lt;String, String&gt;() {\n            {\n                put(&quot;api.login&quot;, &quot;/rest/login&quot;);\n                put(&quot;api.register&quot;, &quot;/rest/register&quot;);\n\n            }\n        };\n    }\n}\n</code></pre>\n<p>Set property when executing jar</p>\n<pre><code>java -Dbase.url=https://dev-env.com -jar my.jar\n</code></pre>\n"}],"owner":{"account_id":13602762,"reputation":53,"user_id":9812935,"display_name":"abhishek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73649021,"answer_count":1,"score":0,"last_activity_date":1662639629,"creation_date":1662635259,"question_id":73648081,"body_markdown":"I have a Java maven project whose Jar file is used as a SDK library in other projects. This SDK is used to call other APIs which are by default in the prod environment. I want to make it run on testing environment by overriding a variable.\r\n\r\n```\r\npublic class Routes {\r\n\r\n\tpublic Map&lt;String, String&gt; routes;\r\n\tprivate static String _baseUrl = &quot;https://production-env.com&quot;;\r\n\r\n\t@SuppressWarnings(&quot;serial&quot;)\r\n\tpublic Routes() {\r\n\t\troutes = new HashMap&lt;String, String&gt;() {\r\n\t\t\t{\r\n\t\t\t\tput(&quot;api.login&quot;, &quot;/rest/login&quot;);\r\n\t\t\t\tput(&quot;api.register&quot;, &quot;/rest/register&quot;);\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nThis is the Routes class which contains the base URL for prod/testing is used by other classes. I want to have the default `_baseUrl` as the same one as above. But I want to be able to override it to `&quot;https://testing-env.com&quot;` while running the Jar. And I don&#39;t want to add a public setter for that. I want to be able to do so by passing some arguments while running the Jar file.","title":"How to make a parameter override while running a Java jar file?","body":"<p>I have a Java maven project whose Jar file is used as a SDK library in other projects. This SDK is used to call other APIs which are by default in the prod environment. I want to make it run on testing environment by overriding a variable.</p>\n<pre><code>public class Routes {\n\n    public Map&lt;String, String&gt; routes;\n    private static String _baseUrl = &quot;https://production-env.com&quot;;\n\n    @SuppressWarnings(&quot;serial&quot;)\n    public Routes() {\n        routes = new HashMap&lt;String, String&gt;() {\n            {\n                put(&quot;api.login&quot;, &quot;/rest/login&quot;);\n                put(&quot;api.register&quot;, &quot;/rest/register&quot;);\n\n            }\n        };\n    }\n}\n</code></pre>\n<p>This is the Routes class which contains the base URL for prod/testing is used by other classes. I want to have the default <code>_baseUrl</code> as the same one as above. But I want to be able to override it to <code>&quot;https://testing-env.com&quot;</code> while running the Jar. And I don't want to add a public setter for that. I want to be able to do so by passing some arguments while running the Jar file.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":11580831,"reputation":2836,"user_id":8484783,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609311230,"creation_date":1609311230,"answer_id":65503183,"question_id":65501989,"body_markdown":"For adding properties to an object when that object is serialized you can use [@JsonAppend][1]. For example:\r\n```\r\n@JsonAppend(attrs = {@JsonAppend.Attr(value = &quot;nameTest&quot;)})\r\npublic class Level4Mixin {}\r\n```\r\nAnd the test:\r\n\r\n    @BeforeEach\r\n    void setUp() throws Exception {\r\n        mapper = new ObjectMapper()\r\n                .addMixIn(Level4Impl.class, Level4Mixin.class);\r\n    }\r\n\r\n    @Test\r\n    void test_ImplWrite() throws JsonProcessingException {\r\n        Level4Impl lvl4 = new Level4Impl();\r\n        lvl4.setId(1L);\r\n        lvl4.setName(&quot;test&quot;);\r\n\r\n        String json = mapper.writerFor(Level4Impl.class)\r\n                .withAttribute(&quot;nameTest&quot;, &quot;myValue&quot;)\r\n                .writeValueAsString(lvl4);\r\n\r\n        assertNotNull(json);\r\n        assertTrue(json.contains(&quot;nameTest&quot;));\r\n        assertTrue(json.contains(&quot;myValue&quot;));\r\n    }\r\n\r\nThe same works for `test_InterfaceWrite`.\r\n\r\nThe tests to deserialize a json into an object are not clear:\r\n\r\n    @Test\r\n    void test_ImplRead() {\r\n        String json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\r\n        assertDoesNotThrow(() -&gt; {\r\n            Level4Impl parsed = mapper.readValue(json, Level4Impl.class);\r\n            assertNotNull(parsed);\r\n        });\r\n    }\r\n\r\nThe class `Level4Impl` does not have the property `nameTest` so the deserialization fails. If you don&#39;t want to throw the exception you can configure the `ObjectMapper` to don&#39;t fail on unknown properties. For example:\r\n\r\n    @Test\r\n    void test_ImplRead() {\r\n        String json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\r\n        assertDoesNotThrow(() -&gt; {\r\n            Level4Impl parsed = new ObjectMapper()\r\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                    .readValue(json, Level4Impl.class);\r\n            assertNotNull(parsed);\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonAppend.html","title":"Jackson mixin is ignored on serialization and deserialization","body":"<p>For adding properties to an object when that object is serialized you can use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonAppend.html\" rel=\"nofollow noreferrer\">@JsonAppend</a>. For example:</p>\n<pre><code>@JsonAppend(attrs = {@JsonAppend.Attr(value = &quot;nameTest&quot;)})\npublic class Level4Mixin {}\n</code></pre>\n<p>And the test:</p>\n<pre><code>@BeforeEach\nvoid setUp() throws Exception {\n    mapper = new ObjectMapper()\n            .addMixIn(Level4Impl.class, Level4Mixin.class);\n}\n\n@Test\nvoid test_ImplWrite() throws JsonProcessingException {\n    Level4Impl lvl4 = new Level4Impl();\n    lvl4.setId(1L);\n    lvl4.setName(&quot;test&quot;);\n\n    String json = mapper.writerFor(Level4Impl.class)\n            .withAttribute(&quot;nameTest&quot;, &quot;myValue&quot;)\n            .writeValueAsString(lvl4);\n\n    assertNotNull(json);\n    assertTrue(json.contains(&quot;nameTest&quot;));\n    assertTrue(json.contains(&quot;myValue&quot;));\n}\n</code></pre>\n<p>The same works for <code>test_InterfaceWrite</code>.</p>\n<p>The tests to deserialize a json into an object are not clear:</p>\n<pre><code>@Test\nvoid test_ImplRead() {\n    String json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\n    assertDoesNotThrow(() -&gt; {\n        Level4Impl parsed = mapper.readValue(json, Level4Impl.class);\n        assertNotNull(parsed);\n    });\n}\n</code></pre>\n<p>The class <code>Level4Impl</code> does not have the property <code>nameTest</code> so the deserialization fails. If you don't want to throw the exception you can configure the <code>ObjectMapper</code> to don't fail on unknown properties. For example:</p>\n<pre><code>@Test\nvoid test_ImplRead() {\n    String json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\n    assertDoesNotThrow(() -&gt; {\n        Level4Impl parsed = new ObjectMapper()\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .readValue(json, Level4Impl.class);\n        assertNotNull(parsed);\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056956,"reputation":5781,"user_id":1059446,"accept_rate":89,"display_name":"Aleksandr Kravets"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609403949,"creation_date":1609403949,"answer_id":65518536,"question_id":65501989,"body_markdown":"First of all you have to let Jackson know which subclass of your interface it should instantiate. You do it by adding `@JsonTypeInfo` and/or `@JsonSubTypes` annotations to your mix-in class. For single subclass the following would suffice:\r\n\r\n    @JsonTypeInfo(use = Id.NAME, defaultImpl = Level4Impl.class)\r\n    public abstract class Level4Mixin {\r\n    }\r\n\r\nFor multiple sub-classes it will a bit more complex and will require additional field in JSON payload that will identify concrete type. See [Jackson Polymorphic Deserialization][1] for details. Also worth mentioning that adding type info will cause type ID field to be written to JSON. JFYI.\r\n\r\nAdding new label would be as trivial as adding a pair of getter and setter for desired property. Obviously original `name` field will be written to JSON too in this case. To change that you may want to place @JsonIgnore on getter in subclass or in mix-in. In latter case name will be ignored for all sub-classes.\r\n\r\nLast note: in this case you should register your mix-in with super-type only.\r\n\r\nHere are the changes to your classes that satisfy your tests:\r\n\r\n*Level4Impl*\r\n\r\n    public class Level4Impl implements Level4 {\r\n    \r\n        private Long id;\r\n        private String name;\r\n    \r\n        @Override\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Override\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        @Override\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getNameTest() {\r\n            return name;\r\n        }\r\n    \r\n        public void setNameTest(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\n*Mixin*\r\n\r\n    @JsonTypeInfo(use = Id.NAME, defaultImpl = Level4Impl.class)\r\n    public interface Level4Mixin {\r\n    \r\n        @JsonIgnore\r\n        String getName();\r\n    }\r\n\r\n*Level4MixinTest* change\r\n\r\n\r\n    @BeforeEach\r\n    void setUp() throws Exception {\r\n        mapper = new ObjectMapper();\r\n        mapper.addMixIn(Level4.class, Level4Mixin.class);\r\n        // remove \r\n        //mapper.addMixIn(Level4Impl.class, Level4Mixin.class);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\r\n\r\n","title":"Jackson mixin is ignored on serialization and deserialization","body":"<p>First of all you have to let Jackson know which subclass of your interface it should instantiate. You do it by adding <code>@JsonTypeInfo</code> and/or <code>@JsonSubTypes</code> annotations to your mix-in class. For single subclass the following would suffice:</p>\n<pre><code>@JsonTypeInfo(use = Id.NAME, defaultImpl = Level4Impl.class)\npublic abstract class Level4Mixin {\n}\n</code></pre>\n<p>For multiple sub-classes it will a bit more complex and will require additional field in JSON payload that will identify concrete type. See <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">Jackson Polymorphic Deserialization</a> for details. Also worth mentioning that adding type info will cause type ID field to be written to JSON. JFYI.</p>\n<p>Adding new label would be as trivial as adding a pair of getter and setter for desired property. Obviously original <code>name</code> field will be written to JSON too in this case. To change that you may want to place @JsonIgnore on getter in subclass or in mix-in. In latter case name will be ignored for all sub-classes.</p>\n<p>Last note: in this case you should register your mix-in with super-type only.</p>\n<p>Here are the changes to your classes that satisfy your tests:</p>\n<p><em>Level4Impl</em></p>\n<pre><code>public class Level4Impl implements Level4 {\n\n    private Long id;\n    private String name;\n\n    @Override\n    public Long getId() {\n        return id;\n    }\n\n    @Override\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getNameTest() {\n        return name;\n    }\n\n    public void setNameTest(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p><em>Mixin</em></p>\n<pre><code>@JsonTypeInfo(use = Id.NAME, defaultImpl = Level4Impl.class)\npublic interface Level4Mixin {\n\n    @JsonIgnore\n    String getName();\n}\n</code></pre>\n<p><em>Level4MixinTest</em> change</p>\n<pre><code>@BeforeEach\nvoid setUp() throws Exception {\n    mapper = new ObjectMapper();\n    mapper.addMixIn(Level4.class, Level4Mixin.class);\n    // remove \n    //mapper.addMixIn(Level4Impl.class, Level4Mixin.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4752391,"reputation":703,"user_id":3842076,"accept_rate":80,"display_name":"ruslangm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662639058,"creation_date":1662639058,"answer_id":73648909,"question_id":65501989,"body_markdown":"In case you can&#39;t make it work by default (which was my case), try to modify existing `MappingJackson2HttpMessageConverter` converter, e.g. do it this way:\r\n\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.stream()\r\n                .filter(c -&gt; c instanceof MappingJackson2HttpMessageConverter)\r\n                .forEach(c -&gt; {\r\n                    MappingJackson2HttpMessageConverter converter = (MappingJackson2HttpMessageConverter) c;\r\n                    converter.getObjectMapper().addMixIn(APIResponse.class, MixInAPIResponse.class);\r\n                });\r\n    }\r\nWhere `MixInAPIResponse` is your configured `MixIn` class for target class `ApiResponse`.","title":"Jackson mixin is ignored on serialization and deserialization","body":"<p>In case you can't make it work by default (which was my case), try to modify existing <code>MappingJackson2HttpMessageConverter</code> converter, e.g. do it this way:</p>\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.stream()\n            .filter(c -&gt; c instanceof MappingJackson2HttpMessageConverter)\n            .forEach(c -&gt; {\n                MappingJackson2HttpMessageConverter converter = (MappingJackson2HttpMessageConverter) c;\n                converter.getObjectMapper().addMixIn(APIResponse.class, MixInAPIResponse.class);\n            });\n}\n</code></pre>\n<p>Where <code>MixInAPIResponse</code> is your configured <code>MixIn</code> class for target class <code>ApiResponse</code>.</p>\n"}],"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6178,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65518536,"answer_count":3,"score":4,"last_activity_date":1662639058,"creation_date":1609302181,"question_id":65501989,"body_markdown":"I need to be able to create a Java POJO from a JSON object when I only have an interface that can&#39;t be changed.  I&#39;m hoping that Mixins can help make this possible.  I created a Mixin that hopefully will work but can&#39;t get Jackson to use it.\r\n\r\nIt appears that Jackson is ignoring the Mixin I am defining for both an Interface and an Implementation.  The test failures are what I would expect without the Mixin added to the ObjectMapper.  \r\n\r\nBelow is the simplest example that shows the problem.  The classes are each in their own package.  The real uses case is much more complex, including Lists of interfaces.  I am using Jackson 2.10.3.\r\n\r\nAny suggestions on what I&#39;m doing wrong?\r\n\r\nTimothy\r\n\r\n**What doesn&#39;t work**\r\n\r\nThe interface reader test fails with InvalidDefinitionException: Cannot construct instance of model.Level4 (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n\r\nOf secondary importance, the Mixin defines a new label (nameTest) for the name field which should be reflected in the output from writeValueAsString.  It outputs the field with the original value for the label (name).\r\n\r\n**Interface**\r\n\r\n    public interface Level4 {\r\n    \tpublic Long getId();    \r\n    \tpublic void setId(Long id);    \r\n    \tpublic String getName();    \r\n    \tpublic void setName(String name);\r\n    }\r\n\r\n\r\n**Implementation**\r\n\r\n    public class Level4Impl implements Level4 {\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \r\n    \t@Override\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n\r\n**Mixin**\r\n\r\n    public abstract class Level4Mixin {\r\n    \tpublic Level4Mixin(\r\n    \t\t@JsonProperty(&quot;id&quot;) Long id,\r\n    \t\t@JsonProperty(&quot;nameTest&quot;) String name) { }\r\n    }\r\n\r\n**Unit Test**\r\n\r\n    class Level4MixinTest {\r\n    \tprivate ObjectMapper mapper;\r\n    \r\n    \t@BeforeEach\r\n    \tvoid setUp() throws Exception {\r\n    \t\tmapper = new ObjectMapper();\r\n    \t\tmapper.addMixIn(Level4.class, Level4Mixin.class);\r\n    \t\tmapper.addMixIn(Level4Impl.class, Level4Mixin.class);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid test_InterfaceWrite() throws JsonProcessingException {\r\n    \t\tLevel4 lvl4 = new Level4Impl();\r\n    \t\tlvl4.setId(1L);\r\n    \t\tlvl4.setName(&quot;test&quot;);\r\n    \t\tString json = mapper.writeValueAsString(lvl4);\r\n    \t\tassertNotNull(json);\r\n    \t\tassertTrue(json.contains(&quot;nameTest&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid test_InterfaceRead() throws JsonProcessingException {\r\n    \t\tString json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\r\n    \t\tassertDoesNotThrow(() -&gt; {\r\n    \t\t\tLevel4 parsed = mapper.readValue(json, Level4.class);\r\n    \t\t\tassertNotNull(parsed);\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid test_ImplWrite() throws JsonProcessingException {\r\n    \t\tLevel4Impl lvl4 = new Level4Impl();\r\n    \t\tlvl4.setId(1L);\r\n    \t\tlvl4.setName(&quot;test&quot;);\r\n    \t\tString json = mapper.writeValueAsString(lvl4);\r\n    \t\tassertNotNull(json);\r\n    \t\tassertTrue(json.contains(&quot;nameTest&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid test_ImplRead() {\r\n    \t\tString json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\r\n    \t\tassertDoesNotThrow(() -&gt; {\r\n    \t\t\tLevel4Impl parsed = mapper.readValue(json, Level4Impl.class);\r\n    \t\t\tassertNotNull(parsed);\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jackson mixin is ignored on serialization and deserialization","body":"<p>I need to be able to create a Java POJO from a JSON object when I only have an interface that can't be changed.  I'm hoping that Mixins can help make this possible.  I created a Mixin that hopefully will work but can't get Jackson to use it.</p>\n<p>It appears that Jackson is ignoring the Mixin I am defining for both an Interface and an Implementation.  The test failures are what I would expect without the Mixin added to the ObjectMapper.</p>\n<p>Below is the simplest example that shows the problem.  The classes are each in their own package.  The real uses case is much more complex, including Lists of interfaces.  I am using Jackson 2.10.3.</p>\n<p>Any suggestions on what I'm doing wrong?</p>\n<p>Timothy</p>\n<p><strong>What doesn't work</strong></p>\n<p>The interface reader test fails with InvalidDefinitionException: Cannot construct instance of model.Level4 (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information</p>\n<p>Of secondary importance, the Mixin defines a new label (nameTest) for the name field which should be reflected in the output from writeValueAsString.  It outputs the field with the original value for the label (name).</p>\n<p><strong>Interface</strong></p>\n<pre><code>public interface Level4 {\n    public Long getId();    \n    public void setId(Long id);    \n    public String getName();    \n    public void setName(String name);\n}\n</code></pre>\n<p><strong>Implementation</strong></p>\n<pre><code>public class Level4Impl implements Level4 {\n    private Long id;\n    private String name;\n\n    @Override\n    public Long getId() {\n        return id;\n    }\n\n    @Override\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>Mixin</strong></p>\n<pre><code>public abstract class Level4Mixin {\n    public Level4Mixin(\n        @JsonProperty(&quot;id&quot;) Long id,\n        @JsonProperty(&quot;nameTest&quot;) String name) { }\n}\n</code></pre>\n<p><strong>Unit Test</strong></p>\n<pre><code>class Level4MixinTest {\n    private ObjectMapper mapper;\n\n    @BeforeEach\n    void setUp() throws Exception {\n        mapper = new ObjectMapper();\n        mapper.addMixIn(Level4.class, Level4Mixin.class);\n        mapper.addMixIn(Level4Impl.class, Level4Mixin.class);\n    }\n\n    @Test\n    void test_InterfaceWrite() throws JsonProcessingException {\n        Level4 lvl4 = new Level4Impl();\n        lvl4.setId(1L);\n        lvl4.setName(&quot;test&quot;);\n        String json = mapper.writeValueAsString(lvl4);\n        assertNotNull(json);\n        assertTrue(json.contains(&quot;nameTest&quot;));\n    }\n\n    @Test\n    void test_InterfaceRead() throws JsonProcessingException {\n        String json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\n        assertDoesNotThrow(() -&gt; {\n            Level4 parsed = mapper.readValue(json, Level4.class);\n            assertNotNull(parsed);\n        });\n    }\n\n    @Test\n    void test_ImplWrite() throws JsonProcessingException {\n        Level4Impl lvl4 = new Level4Impl();\n        lvl4.setId(1L);\n        lvl4.setName(&quot;test&quot;);\n        String json = mapper.writeValueAsString(lvl4);\n        assertNotNull(json);\n        assertTrue(json.contains(&quot;nameTest&quot;));\n    }\n\n    @Test\n    void test_ImplRead() {\n        String json = &quot;{\\&quot;id\\&quot;:1,\\&quot;nameTest\\&quot;:\\&quot;test\\&quot;}&quot;;\n        assertDoesNotThrow(() -&gt; {\n            Level4Impl parsed = mapper.readValue(json, Level4Impl.class);\n            assertNotNull(parsed);\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":1868749,"reputation":4050,"user_id":3033945,"accept_rate":80,"display_name":"Sergey Antopolskiy"},"score":0,"creation_date":1662636425,"post_id":73208430,"comment_id":130054226,"body_markdown":"I am facing a similar problem. I&#39;d suggest you simplify your question to make a minimal example (1 field in the schema, 2 fields in the wrong json) so it is easier to understand the problem.","body":"I am facing a similar problem. I&#39;d suggest you simplify your question to make a minimal example (1 field in the schema, 2 fields in the wrong json) so it is easier to understand the problem."}],"answers":[{"tags":[],"owner":{"account_id":1868749,"reputation":4050,"user_id":3033945,"accept_rate":80,"display_name":"Sergey Antopolskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662638720,"creation_date":1662637702,"answer_id":73648606,"question_id":73208430,"body_markdown":"From what I have found, this function is available in [Apache Nifi ValidateRecord](https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-standard-nar/1.17.0/org.apache.nifi.processors.standard.ValidateRecord/index.html), see &quot;Allow Extra Fields&quot;.\r\n\r\n&gt; If the incoming data has fields that are not present in the schema, this property determines whether or not the Record is valid. If true, the Record is still valid. If false, the Record will be invalid due to the extra fields.\r\n\r\nAdditionally, this functionality was recently added to `fastavro` implementation in Python.\r\n\r\n```python\r\nfrom io import BytesIO\r\nfrom fastavro import writer, parse_schema\r\n\r\nschema_json = {\r\n    &quot;type&quot;: &quot;record&quot;,\r\n    &quot;name&quot;: &quot;test&quot;,\r\n    &quot;fields&quot;: [{&quot;name&quot;: &quot;id&quot;, &quot;type&quot;: &quot;string&quot;}]\r\n}\r\ndata_json = {&quot;id&quot;: &quot;test&quot;, &quot;query&quot;: &quot;test&quot;}\r\n\r\nparsed_schema = parse_schema(schema_json)\r\nwriter(BytesIO(), parsed_schema, [data_json], strict_allow_default=True)\r\n```\r\n`ValueError: record contains more fields than the schema specifies: query`","title":"Is there a strict way of validating an AVRO schema against data?","body":"<p>From what I have found, this function is available in <a href=\"https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-standard-nar/1.17.0/org.apache.nifi.processors.standard.ValidateRecord/index.html\" rel=\"nofollow noreferrer\">Apache Nifi ValidateRecord</a>, see &quot;Allow Extra Fields&quot;.</p>\n<blockquote>\n<p>If the incoming data has fields that are not present in the schema, this property determines whether or not the Record is valid. If true, the Record is still valid. If false, the Record will be invalid due to the extra fields.</p>\n</blockquote>\n<p>Additionally, this functionality was recently added to <code>fastavro</code> implementation in Python.</p>\n<pre class=\"lang-py prettyprint-override\"><code>from io import BytesIO\nfrom fastavro import writer, parse_schema\n\nschema_json = {\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;name&quot;: &quot;test&quot;,\n    &quot;fields&quot;: [{&quot;name&quot;: &quot;id&quot;, &quot;type&quot;: &quot;string&quot;}]\n}\ndata_json = {&quot;id&quot;: &quot;test&quot;, &quot;query&quot;: &quot;test&quot;}\n\nparsed_schema = parse_schema(schema_json)\nwriter(BytesIO(), parsed_schema, [data_json], strict_allow_default=True)\n</code></pre>\n<p><code>ValueError: record contains more fields than the schema specifies: query</code></p>\n"}],"owner":{"account_id":25957914,"reputation":11,"user_id":19674996,"display_name":"Adiren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662638720,"creation_date":1659446847,"question_id":73208430,"body_markdown":"I&#39;m trying to build a system that requires data validation against Avro schemas. As it is, I&#39;m using the following to validate:\r\n\r\n```\r\nDatumReader reader = new GenericDatumReader(schema);\r\nDecoder decoder = DecoderFactory.get().jsonDecoder(schema, data);\r\nValidatingDecoder validatingDecoder = DecoderFactory.get().validatingDecoder(schema, decoder);\r\nreader.read(null, validatingDecoder);\r\n```\r\nbeing the schema:\r\n```\r\n&quot;{&quot;\r\n          + &quot;  \\&quot;namespace\\&quot;: \\&quot;com.myApp.events\\&quot;,&quot;\r\n          + &quot;  \\&quot;type\\&quot;: \\&quot;record\\&quot;,&quot;\r\n          + &quot;  \\&quot;name\\&quot;: \\&quot;CityPeriodEvent\\&quot;,&quot;\r\n          + &quot;  \\&quot;fields\\&quot;: [&quot;\r\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;cityCode\\&quot;, \\&quot;type\\&quot;: \\&quot;string\\&quot; },&quot;\r\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;periodId\\&quot;, \\&quot;type\\&quot;: \\&quot;long\\&quot; },&quot;\r\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;startTime\\&quot;,  \\&quot;type\\&quot;: {\\&quot;type\\&quot;: \\&quot;long\\&quot;, \\&quot;logicalType\\&quot;: \\&quot;timestamp-millis\\&quot;} },&quot;\r\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;finishTime\\&quot;,  \\&quot;type\\&quot;: {\\&quot;type\\&quot;: \\&quot;long\\&quot;, \\&quot;logicalType\\&quot;: \\&quot;timestamp-millis\\&quot;} },&quot;\r\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;currency\\&quot;, \\&quot;type\\&quot;: [\\&quot;null\\&quot;, \\&quot;string\\&quot;], \\&quot;default\\&quot;: null },&quot;\r\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;habitants\\&quot;, \\&quot;type\\&quot;: \\&quot;long\\&quot; }&quot;\r\n          + &quot;  ]&quot;\r\n          + &quot;}&quot;;\r\n```\r\ncorrect data configuration:\r\n```\r\n&quot;{\\&quot;cityCode\\&quot;: \\&quot;BCN\\&quot;, \\&quot;periodId\\&quot;: 3, \\&quot;startTime\\&quot;: 500, \\&quot;finishTime\\&quot;: 3000, \\&quot;currency\\&quot;: {\\&quot;string\\&quot;:\\&quot;eur\\&quot;}, \\&quot;habitants\\&quot;: 10000&quot;;\r\n```\r\nincorrect data configuration:\r\n```\r\n&quot;{\\&quot;cityCode\\&quot;: \\&quot;BCN\\&quot;, \\&quot;periodId\\&quot;: 3, \\&quot;startTime\\&quot;: 500, \\&quot;finishTime\\&quot;: 3000, \\&quot;currency\\&quot;: {\\&quot;string\\&quot;:\\&quot;eur\\&quot;}, \\&quot;habitants\\&quot;: 10000, \\&quot;someAdditional\\&quot;: 3}&quot;;\r\n\r\n```\r\n(notice that the incorrect one has an additional field at the end).\r\n\r\nThe problem is that both of these configurations validate as correct, whereas I only want the first one to be, so I&#39;m looking for a very strict validation.\r\n\r\nFrom what I&#39;ve read in the documentation,  the DatumReader.read function does a DFS through the schema, comparing the leaves of the schema against the fields of the data configuration file. This results on it ignoring the extra fields, since the comparison is unidirectional.\r\n\r\nIs there some way to make this more strict? I&#39;ve been doing research and trying out different things, but none seem to work. I don&#39;t think I&#39;m looking for something very specific, I think lots of systems would want this so I think I&#39;m just missing something.","title":"Is there a strict way of validating an AVRO schema against data?","body":"<p>I'm trying to build a system that requires data validation against Avro schemas. As it is, I'm using the following to validate:</p>\n<pre><code>DatumReader reader = new GenericDatumReader(schema);\nDecoder decoder = DecoderFactory.get().jsonDecoder(schema, data);\nValidatingDecoder validatingDecoder = DecoderFactory.get().validatingDecoder(schema, decoder);\nreader.read(null, validatingDecoder);\n</code></pre>\n<p>being the schema:</p>\n<pre><code>&quot;{&quot;\n          + &quot;  \\&quot;namespace\\&quot;: \\&quot;com.myApp.events\\&quot;,&quot;\n          + &quot;  \\&quot;type\\&quot;: \\&quot;record\\&quot;,&quot;\n          + &quot;  \\&quot;name\\&quot;: \\&quot;CityPeriodEvent\\&quot;,&quot;\n          + &quot;  \\&quot;fields\\&quot;: [&quot;\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;cityCode\\&quot;, \\&quot;type\\&quot;: \\&quot;string\\&quot; },&quot;\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;periodId\\&quot;, \\&quot;type\\&quot;: \\&quot;long\\&quot; },&quot;\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;startTime\\&quot;,  \\&quot;type\\&quot;: {\\&quot;type\\&quot;: \\&quot;long\\&quot;, \\&quot;logicalType\\&quot;: \\&quot;timestamp-millis\\&quot;} },&quot;\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;finishTime\\&quot;,  \\&quot;type\\&quot;: {\\&quot;type\\&quot;: \\&quot;long\\&quot;, \\&quot;logicalType\\&quot;: \\&quot;timestamp-millis\\&quot;} },&quot;\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;currency\\&quot;, \\&quot;type\\&quot;: [\\&quot;null\\&quot;, \\&quot;string\\&quot;], \\&quot;default\\&quot;: null },&quot;\n          + &quot;    { \\&quot;name\\&quot;: \\&quot;habitants\\&quot;, \\&quot;type\\&quot;: \\&quot;long\\&quot; }&quot;\n          + &quot;  ]&quot;\n          + &quot;}&quot;;\n</code></pre>\n<p>correct data configuration:</p>\n<pre><code>&quot;{\\&quot;cityCode\\&quot;: \\&quot;BCN\\&quot;, \\&quot;periodId\\&quot;: 3, \\&quot;startTime\\&quot;: 500, \\&quot;finishTime\\&quot;: 3000, \\&quot;currency\\&quot;: {\\&quot;string\\&quot;:\\&quot;eur\\&quot;}, \\&quot;habitants\\&quot;: 10000&quot;;\n</code></pre>\n<p>incorrect data configuration:</p>\n<pre><code>&quot;{\\&quot;cityCode\\&quot;: \\&quot;BCN\\&quot;, \\&quot;periodId\\&quot;: 3, \\&quot;startTime\\&quot;: 500, \\&quot;finishTime\\&quot;: 3000, \\&quot;currency\\&quot;: {\\&quot;string\\&quot;:\\&quot;eur\\&quot;}, \\&quot;habitants\\&quot;: 10000, \\&quot;someAdditional\\&quot;: 3}&quot;;\n\n</code></pre>\n<p>(notice that the incorrect one has an additional field at the end).</p>\n<p>The problem is that both of these configurations validate as correct, whereas I only want the first one to be, so I'm looking for a very strict validation.</p>\n<p>From what I've read in the documentation,  the DatumReader.read function does a DFS through the schema, comparing the leaves of the schema against the fields of the data configuration file. This results on it ignoring the extra fields, since the comparison is unidirectional.</p>\n<p>Is there some way to make this more strict? I've been doing research and trying out different things, but none seem to work. I don't think I'm looking for something very specific, I think lots of systems would want this so I think I'm just missing something.</p>\n"},{"tags":["java","network-programming","telnet","apache-commons","network-protocols"],"answers":[{"tags":[],"owner":{"account_id":1551587,"reputation":16,"user_id":1443847,"display_name":"Marek Wolnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662637586,"creation_date":1662637070,"answer_id":73648468,"question_id":72346352,"body_markdown":"I&#39;m not sure why sub negotiation does not work but I found a workaround.\r\n\r\nTry to add SimpleOptionHandler with option 0 (BINARY) to TelnetConnection. It will cause that this option will be enabled from the start.\r\n\r\n    TelnetClient tc = new TelnetClient();\r\n    // 1st param 0 means BINARY option\r\n    SimpleOptionHandler simpleOptionHandler = new SimpleOptionHandler(0, true, false, true, false);\r\n    tc.addOptionHandler(ttopt);","title":"Apache Telnet Client does not recevie non-ASCII characters","body":"<p>I'm not sure why sub negotiation does not work but I found a workaround.</p>\n<p>Try to add SimpleOptionHandler with option 0 (BINARY) to TelnetConnection. It will cause that this option will be enabled from the start.</p>\n<pre><code>TelnetClient tc = new TelnetClient();\n// 1st param 0 means BINARY option\nSimpleOptionHandler simpleOptionHandler = new SimpleOptionHandler(0, true, false, true, false);\ntc.addOptionHandler(ttopt);\n</code></pre>\n"}],"owner":{"account_id":25363881,"reputation":21,"user_id":19178732,"display_name":"avrath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73648468,"answer_count":1,"score":1,"last_activity_date":1662637586,"creation_date":1653298723,"question_id":72346352,"body_markdown":"I&#39;ve been trying to use`org.apache.commons.net.telnet.TelnetClient` and I am having trouble to receive non-ASCII characters (in my case polish chars like ą,ę,ć,ź and few others). The problem is not on server side - when I use default Ubuntu telnet implementation or Putty I have no problem receiving non-ASCII characters. My code looks something like this (simplified a bit for readability):\r\n\r\n        TelnetClient telnetClient = new TelnetClient();\r\n        telnetClient.connect(&quot;169.254.24.223&quot;, 23);\r\n\r\n        while (true) {\r\n            int readCharInt = telnetClient.getInputStream().read();\r\n            if (readCharInt != -1) {\r\n                String s = String.valueOf((char) readCharInt);\r\n                System.out.print(s);\r\n            } else {\r\n                System.out.println(&quot;EOS&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\nI used Wireshark to take a closer look. When using the Apache telnet client, packets do not contain non-ASCII characters at all, and while using default Ubuntu telnet they do contain them:\r\n[Apache telnet][1]\r\n[Default ubuntu telnet][2]\r\n\r\n  [1]: https://i.stack.imgur.com/rq4pn.png\r\n  [2]: https://i.stack.imgur.com/LvpOm.png\r\n\r\nI&#39;ve been wondering if the Apache client turns on some mode for the server to send only characters that can be encoded on 7 bits. I&#39;ve tried several terminal types or to subnegotiate binary transmission but without success: \r\n\r\n    int[] msg = {TelnetCommand.DO,TelnetOption.BINARY};\r\n    telnetClient.sendSubnegotiation(msg);\r\n\r\n\r\n","title":"Apache Telnet Client does not recevie non-ASCII characters","body":"<p>I've been trying to use<code>org.apache.commons.net.telnet.TelnetClient</code> and I am having trouble to receive non-ASCII characters (in my case polish chars like ą,ę,ć,ź and few others). The problem is not on server side - when I use default Ubuntu telnet implementation or Putty I have no problem receiving non-ASCII characters. My code looks something like this (simplified a bit for readability):</p>\n<pre><code>    TelnetClient telnetClient = new TelnetClient();\n    telnetClient.connect(&quot;169.254.24.223&quot;, 23);\n\n    while (true) {\n        int readCharInt = telnetClient.getInputStream().read();\n        if (readCharInt != -1) {\n            String s = String.valueOf((char) readCharInt);\n            System.out.print(s);\n        } else {\n            System.out.println(&quot;EOS&quot;);\n            break;\n        }\n    }\n</code></pre>\n<p>I used Wireshark to take a closer look. When using the Apache telnet client, packets do not contain non-ASCII characters at all, and while using default Ubuntu telnet they do contain them:\n<a href=\"https://i.stack.imgur.com/rq4pn.png\" rel=\"nofollow noreferrer\">Apache telnet</a>\n<a href=\"https://i.stack.imgur.com/LvpOm.png\" rel=\"nofollow noreferrer\">Default ubuntu telnet</a></p>\n<p>I've been wondering if the Apache client turns on some mode for the server to send only characters that can be encoded on 7 bits. I've tried several terminal types or to subnegotiate binary transmission but without success:</p>\n<pre><code>int[] msg = {TelnetCommand.DO,TelnetOption.BINARY};\ntelnetClient.sendSubnegotiation(msg);\n</code></pre>\n"},{"tags":["java","memory","memory-management","hash","memory-leaks"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1662625439,"post_id":73645733,"comment_id":130050263,"body_markdown":"Your code proves nothing since `sw.getTotalTimeMillis()` is cumulative: if there is one second between the first `sw.start()` and `sw.stop()` it returns 1000 milliseconds. If there is another second between the second `sw.start()` and `sw.stop()` it will return a total of 2000 ms. To take real measurements you should create the `StopWatch` within the for loop.","body":"Your code proves nothing since <code>sw.getTotalTimeMillis()</code> is cumulative: if there is one second between the first <code>sw.start()</code> and <code>sw.stop()</code> it returns 1000 milliseconds. If there is another second between the second <code>sw.start()</code> and <code>sw.stop()</code> it will return a total of 2000 ms. To take real measurements you should create the <code>StopWatch</code> within the for loop."},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1662625805,"post_id":73645733,"comment_id":130050367,"body_markdown":"@ThomasKl&#228;ger you are completely right, then now I know even less what the problem is with my code :(","body":"@ThomasKl&#228;ger you are completely right, then now I know even less what the problem is with my code :("}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662627282,"creation_date":1662627282,"answer_id":73646255,"question_id":73645733,"body_markdown":"Probably your problem is that you store a reference to the loaded file somewhere.\r\n\r\nA better approach to do an operation like a hash calculation over a big file is to **not** load everything into memory but to load it only piece by piece:\r\n\r\n\r\n    public static String encrypt(String path) throws NoSuchAlgorithmException {\r\n        File f = new File(path);\r\n        byte[] bytes = new byte[4096];\r\n        MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n        try (FileInputStream fis = new FileInputStream(f)) {\r\n            while (true) {\r\n                int len = fis.read(bytes);\r\n                if (len == -1) {\r\n                    break;\r\n                }\r\n                md.update(bytes, 0, len);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        byte[] hashed_bytes = md.digest();\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; hashed_bytes.length; i++) {\r\n            sb.append(String.format(&quot;%02x&quot;, hashed_bytes[i]));\r\n        }\r\n        return sb.toString();\r\n    }\r\n","title":"Hashing runs out of memory, and getting slower and slower over time","body":"<p>Probably your problem is that you store a reference to the loaded file somewhere.</p>\n<p>A better approach to do an operation like a hash calculation over a big file is to <strong>not</strong> load everything into memory but to load it only piece by piece:</p>\n<pre><code>public static String encrypt(String path) throws NoSuchAlgorithmException {\n    File f = new File(path);\n    byte[] bytes = new byte[4096];\n    MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\n    try (FileInputStream fis = new FileInputStream(f)) {\n        while (true) {\n            int len = fis.read(bytes);\n            if (len == -1) {\n                break;\n            }\n            md.update(bytes, 0, len);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    byte[] hashed_bytes = md.digest();\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; hashed_bytes.length; i++) {\n        sb.append(String.format(&quot;%02x&quot;, hashed_bytes[i]));\n    }\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73646255,"answer_count":1,"score":0,"last_activity_date":1662637054,"creation_date":1662624782,"question_id":73645733,"body_markdown":"I have a GUI desktop application which generates different types of hash (example MD5) for files and directories. Recently, when I was testing with a 1GB test file I recognized that it becomes slower and slower over time. At the first hashing, it takes about 2 seconds for a 1GB file, however later, for the exactly same file, it takes about 76 seconds.\r\n \r\nTo demonstrate the problem, I have created a sample code that everyone can try (for repeatability). It has 2 key steps (1) generates a byte array for the file, (2) generates the hash for the byte array. (In the real program there are several switches and if-else statements, for example to decide if it is a file or directory...etc., and lot of javaFX GUI elements involved...)\r\n\r\nI&#39;ll show that even this simplified code becomes 8 times slower by repeating it 5 times! As I read multiple forums it is probably the reason of memory leaking or too much memory consumption...or something similar. What I want is, I&#39;d like to empty the memory between each cycle, so hashing would take only the time as the first time (2 seconds).\r\n\r\nThe mentioned sample code is the following:\r\n\r\n    package main;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import org.springframework.util.StopWatch;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws NoSuchAlgorithmException {\r\n    \r\n            // 1GB Test file downloaded from here:\r\n            // https://testfiledownload.com/\r\n    \r\n            StopWatch sw = new StopWatch();\r\n            // Hash the file 5 times and measure the time for each hashing\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                sw.start();\r\n                    String hash = encrypt(inputparser(&quot;C:\\\\Users\\\\Thend\\\\Downloads\\\\1GB.bin&quot;));\r\n                sw.stop();\r\n                // Print execution time at each cycle\r\n                System.out.println(&quot;Execution time: &quot;+String.format(&quot;%.5f&quot;, sw.getTotalTimeMillis() / 1000.0f)+&quot;sec&quot;+&quot; Hash: &quot;+hash);\r\n            }\r\n        }\r\n    \r\n        public static byte[] inputparser(String path){\r\n            File f = new File(path);\r\n            byte[] bytes = new byte[(int) f.length()];\r\n            FileInputStream fis = null;\r\n            try {\r\n                fis = new FileInputStream(f);\r\n                // read file into bytes[]\r\n                fis.read(bytes);\r\n                if (fis != null) {\r\n                    fis.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return bytes;\r\n        }\r\n    \r\n        public static String encrypt(byte[] bytes) throws NoSuchAlgorithmException {\r\n            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            md.reset();\r\n            md.update(bytes);\r\n    \r\n            byte[] hashed_bytes = md.digest();\r\n    \r\n            // Convert bytes[] (in decimal format) to hexadecimal\r\n            for (int i = 0; i &lt; hashed_bytes.length; i++) {\r\n                sb.append(Integer.toString((hashed_bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n            }\r\n    \r\n            // Return hashed String in hex format\r\n            String hashedByteArray = sb.toString();\r\n            return hashedByteArray;\r\n        }\r\n    }\r\n\r\nThe console output, where you can see the increasing time:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-18.0.2\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\lib\\idea_rt.jar=54323:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\Thend\\intellij-workspace\\HashTimeTest\\out\\production\\HashTimeTest;C:\\Users\\Thend\\Downloads\\springframework-5.1.0.jar main.Main\r\n    Execution time: 2,04100sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\r\n    Execution time: 3,70900sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\r\n    Execution time: 5,42100sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\r\n    Execution time: 7,09600sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\r\n    Execution time: 8,75500sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\r\n    \r\n    Process finished with exit code 0","title":"Hashing runs out of memory, and getting slower and slower over time","body":"<p>I have a GUI desktop application which generates different types of hash (example MD5) for files and directories. Recently, when I was testing with a 1GB test file I recognized that it becomes slower and slower over time. At the first hashing, it takes about 2 seconds for a 1GB file, however later, for the exactly same file, it takes about 76 seconds.</p>\n<p>To demonstrate the problem, I have created a sample code that everyone can try (for repeatability). It has 2 key steps (1) generates a byte array for the file, (2) generates the hash for the byte array. (In the real program there are several switches and if-else statements, for example to decide if it is a file or directory...etc., and lot of javaFX GUI elements involved...)</p>\n<p>I'll show that even this simplified code becomes 8 times slower by repeating it 5 times! As I read multiple forums it is probably the reason of memory leaking or too much memory consumption...or something similar. What I want is, I'd like to empty the memory between each cycle, so hashing would take only the time as the first time (2 seconds).</p>\n<p>The mentioned sample code is the following:</p>\n<pre><code>package main;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport org.springframework.util.StopWatch;\n\npublic class Main {\n\n    public static void main(String[] args) throws NoSuchAlgorithmException {\n\n        // 1GB Test file downloaded from here:\n        // https://testfiledownload.com/\n\n        StopWatch sw = new StopWatch();\n        // Hash the file 5 times and measure the time for each hashing\n        for (int i = 0; i &lt; 5; i++) {\n            sw.start();\n                String hash = encrypt(inputparser(&quot;C:\\\\Users\\\\Thend\\\\Downloads\\\\1GB.bin&quot;));\n            sw.stop();\n            // Print execution time at each cycle\n            System.out.println(&quot;Execution time: &quot;+String.format(&quot;%.5f&quot;, sw.getTotalTimeMillis() / 1000.0f)+&quot;sec&quot;+&quot; Hash: &quot;+hash);\n        }\n    }\n\n    public static byte[] inputparser(String path){\n        File f = new File(path);\n        byte[] bytes = new byte[(int) f.length()];\n        FileInputStream fis = null;\n        try {\n            fis = new FileInputStream(f);\n            // read file into bytes[]\n            fis.read(bytes);\n            if (fis != null) {\n                fis.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return bytes;\n    }\n\n    public static String encrypt(byte[] bytes) throws NoSuchAlgorithmException {\n        MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\n        StringBuilder sb = new StringBuilder();\n\n        md.reset();\n        md.update(bytes);\n\n        byte[] hashed_bytes = md.digest();\n\n        // Convert bytes[] (in decimal format) to hexadecimal\n        for (int i = 0; i &lt; hashed_bytes.length; i++) {\n            sb.append(Integer.toString((hashed_bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n        }\n\n        // Return hashed String in hex format\n        String hashedByteArray = sb.toString();\n        return hashedByteArray;\n    }\n}\n</code></pre>\n<p>The console output, where you can see the increasing time:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-18.0.2\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\lib\\idea_rt.jar=54323:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\Thend\\intellij-workspace\\HashTimeTest\\out\\production\\HashTimeTest;C:\\Users\\Thend\\Downloads\\springframework-5.1.0.jar main.Main\nExecution time: 2,04100sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\nExecution time: 3,70900sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\nExecution time: 5,42100sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\nExecution time: 7,09600sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\nExecution time: 8,75500sec Hash: e5c834fbdaa6bfd8eac5eb9404eefdd4\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","loose-coupling","tightly-coupled-code"],"answers":[{"tags":[],"owner":{"account_id":17054349,"reputation":174,"user_id":12339258,"display_name":"Valentin Popescu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662636784,"creation_date":1643562179,"answer_id":70916914,"question_id":70916609,"body_markdown":"Generally, in OOP you want to declare your class properties as `private` so you can **encapsulate** them. Doing this, you don&#39;t directly have access to them and you cannot change them by mistake. This is intended for code maintenance reasons, and it is especially useful when you have multiple developers that have access to the codebase, as you create a *barrier* between important class properties and the next developer.\r\n\r\nThis thing creates 2 problems though:\r\n - **You cannot access the property value anymore** - The `getVolume()` method comes into play here. This method is called a *getter* and is\r\n   solely created to get the value of its related property by\r\n   returning the property - not directly by accessing it.\r\n - **You cannot change the property value anymore.** - A `setVolume(value)` method (which is not present in your code) comes\r\n   into play here. This method is called a *setter* and is solely\r\n   created to change the value of its related property through a\r\n   parameter - again, not directly.","title":"tight coupling and loose coupling examples with Java code","body":"<p>Generally, in OOP you want to declare your class properties as <code>private</code> so you can <strong>encapsulate</strong> them. Doing this, you don't directly have access to them and you cannot change them by mistake. This is intended for code maintenance reasons, and it is especially useful when you have multiple developers that have access to the codebase, as you create a <em>barrier</em> between important class properties and the next developer.</p>\n<p>This thing creates 2 problems though:</p>\n<ul>\n<li><strong>You cannot access the property value anymore</strong> - The <code>getVolume()</code> method comes into play here. This method is called a <em>getter</em> and is\nsolely created to get the value of its related property by\nreturning the property - not directly by accessing it.</li>\n<li><strong>You cannot change the property value anymore.</strong> - A <code>setVolume(value)</code> method (which is not present in your code) comes\ninto play here. This method is called a <em>setter</em> and is solely\ncreated to change the value of its related property through a\nparameter - again, not directly.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3043063,"reputation":51,"user_id":9771468,"display_name":"Bayu Sri Hernogo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657077481,"creation_date":1657077481,"answer_id":72877596,"question_id":70916609,"body_markdown":"I think this is simple reason\r\nIn Tight coupling code you may get the weakness:\r\nYou are too dependent on the volume variable. For example if there a change reference field from volume to another, you must also change it in the calling function","title":"tight coupling and loose coupling examples with Java code","body":"<p>I think this is simple reason\nIn Tight coupling code you may get the weakness:\nYou are too dependent on the volume variable. For example if there a change reference field from volume to another, you must also change it in the calling function</p>\n"}],"owner":{"account_id":13413506,"reputation":321,"user_id":9678975,"display_name":"RyanKao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1662636784,"creation_date":1643560074,"question_id":70916609,"body_markdown":"I am aware of the distinction between tight coupling and loose coupling, according to this articles: https://www.upgrad.com/blog/loose-coupling-vs-tight-coupling-in-java/\r\n\r\nWhat I do not understand is the examples it uses.\r\n\r\nFor loose coupling, the Java code:\r\n```\r\n class Volume {\r\n\r\n   public static void main(String args[]) {\r\n\r\n        Cylinder b = new Cylinder(25, 25, 25);\r\n\r\n           System.out.println(b.getVolume());\r\n\r\n   }\r\n\r\n}\r\n\r\nfinal class Cylinder {\r\n\r\n    private int volume;\r\n\r\n    Cylinder(int length, int width, int height) {\r\n\r\n             this.volume = length * width * height;\r\n\r\n    }\r\n\r\n    public int getVolume() {\r\n\r\n             return volume;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor tight coupling, the Java code:\r\n```\r\nclass Volume {\r\n\r\n   public static void main(String args[]) {\r\n\r\n        Cylinder b = new Cylinder(15, 15, 15);\r\n\r\n           System.out.println(b.volume);\r\n\r\n   }}\r\n\r\n class Cylinder {\r\n\r\n   public int volume;\r\n\r\n   Cylinder(int length, int width, int height) {\r\n\r\n           this.volume = length * width * height;  }}\r\n```\r\n\r\nCan anyone please explain how does the second code make the two classes (Volume and Cylinder) bound together (tightly coupled)? Or what makes the first code loosely coupled? Thanks.","title":"tight coupling and loose coupling examples with Java code","body":"<p>I am aware of the distinction between tight coupling and loose coupling, according to this articles: <a href=\"https://www.upgrad.com/blog/loose-coupling-vs-tight-coupling-in-java/\" rel=\"nofollow noreferrer\">https://www.upgrad.com/blog/loose-coupling-vs-tight-coupling-in-java/</a></p>\n<p>What I do not understand is the examples it uses.</p>\n<p>For loose coupling, the Java code:</p>\n<pre><code> class Volume {\n\n   public static void main(String args[]) {\n\n        Cylinder b = new Cylinder(25, 25, 25);\n\n           System.out.println(b.getVolume());\n\n   }\n\n}\n\nfinal class Cylinder {\n\n    private int volume;\n\n    Cylinder(int length, int width, int height) {\n\n             this.volume = length * width * height;\n\n    }\n\n    public int getVolume() {\n\n             return volume;\n\n    }\n\n}\n</code></pre>\n<p>For tight coupling, the Java code:</p>\n<pre><code>class Volume {\n\n   public static void main(String args[]) {\n\n        Cylinder b = new Cylinder(15, 15, 15);\n\n           System.out.println(b.volume);\n\n   }}\n\n class Cylinder {\n\n   public int volume;\n\n   Cylinder(int length, int width, int height) {\n\n           this.volume = length * width * height;  }}\n</code></pre>\n<p>Can anyone please explain how does the second code make the two classes (Volume and Cylinder) bound together (tightly coupled)? Or what makes the first code loosely coupled? Thanks.</p>\n"},{"tags":["java","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1662523059,"post_id":73628101,"comment_id":130022088,"body_markdown":"Which new Java Elasticsearch API? Are you talking about the new client (https://github.com/elastic/elasticsearch-java)? The link you posted refers to a change in Spring Data Elasticsearch 4.0 thas was made more than 2 years ago. Spring Data Elasticsearch does not send `null` values to Elasticsearch.","body":"Which new Java Elasticsearch API? Are you talking about the new client (<a href=\"https://github.com/elastic/elasticsearch-java\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch-java</a>)? The link you posted refers to a change in Spring Data Elasticsearch 4.0 thas was made more than 2 years ago. Spring Data Elasticsearch does not send <code>null</code> values to Elasticsearch."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1662552972,"post_id":73628101,"comment_id":130031648,"body_markdown":"Yes, we updated our version of spring-data-elasticsearch and are now facing this issue.  I&#39;m trying to NOT serialize a property if it&#39;s value is null or empty, just like an annotation from Jackson","body":"Yes, we updated our version of spring-data-elasticsearch and are now facing this issue.  I&#39;m trying to NOT serialize a property if it&#39;s value is null or empty, just like an annotation from Jackson"},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1662553824,"post_id":73628101,"comment_id":130032000,"body_markdown":"The value which I&#39;m specifically referring to is of type Map and does get serialized as EMPTY.","body":"The value which I&#39;m specifically referring to is of type Map and does get serialized as EMPTY."}],"answers":[{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662636421,"creation_date":1662636421,"answer_id":73648342,"question_id":73628101,"body_markdown":"Here&#39;s one way to solve the issue I describe above:\r\n\r\n\r\n`Foo` Entity\r\n\r\n    public class Foo {\r\n    \t@Id\r\n    \tprivate String id;\r\n    \r\n    \t@Nullable\r\n    \t@Field(type = FieldType.Object)\r\n    \tprivate Map&lt;String, Object&gt; map1;\r\n    \r\n    \t@Nullable\r\n    \t@Field(type = FieldType.Object)\r\n    \tprivate Map&lt;String, Object&gt; map2;\r\n    \r\n           // getter and setter\r\n    }\r\n    \r\nCode to populate `Foo`\r\n    \r\n    var foo = new Foo();\r\n    foo.setId(&quot;42&quot;);\r\n    foo.setMap1(null);\r\n    foo.setMap2(new LinkedHashMap&lt;&gt;());\r\n    operations.save(foo);\r\n\r\n\r\nThe following gets sent to Elastic\r\n\r\n`{&quot;_class&quot;:&quot;com.package.to.Foo&quot;,&quot;id&quot;:&quot;42&quot;,&quot;map2&quot;:{}}`\r\n\r\n\r\n\r\nA `BeforeConvertCallback` class that turns initialized, but empty, values to null preventing them from being sent to elastic.\r\n\r\n    @Component\r\n    public class FooBeforeConvertCallback implements BeforeConvertCallback&lt;Foo&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Foo onBeforeConvert(Foo foo, IndexCoordinates indexCoordinates) {\r\n    \r\n    \r\n    \t\tif (CollectionUtils.isEmpty(foo.getMap1())) {\r\n    \t\t\tfoo.setMap1(null);\r\n    \t\t}\r\n    \r\n    \t\tif (CollectionUtils.isEmpty(foo.getMap2())) {\r\n    \t\t\tfoo.setMap2(null);\r\n    \t\t}\r\n    \t\treturn foo;\r\n    \t}\r\n    }\r\n\r\n\r\nThis solution will _ONLY_ work for the entity `Foo`.  ","title":"Elasticsearch Java API cannot ignore null or empty values","body":"<p>Here's one way to solve the issue I describe above:</p>\n<p><code>Foo</code> Entity</p>\n<pre><code>public class Foo {\n    @Id\n    private String id;\n\n    @Nullable\n    @Field(type = FieldType.Object)\n    private Map&lt;String, Object&gt; map1;\n\n    @Nullable\n    @Field(type = FieldType.Object)\n    private Map&lt;String, Object&gt; map2;\n\n       // getter and setter\n}\n</code></pre>\n<p>Code to populate <code>Foo</code></p>\n<pre><code>var foo = new Foo();\nfoo.setId(&quot;42&quot;);\nfoo.setMap1(null);\nfoo.setMap2(new LinkedHashMap&lt;&gt;());\noperations.save(foo);\n</code></pre>\n<p>The following gets sent to Elastic</p>\n<p><code>{&quot;_class&quot;:&quot;com.package.to.Foo&quot;,&quot;id&quot;:&quot;42&quot;,&quot;map2&quot;:{}}</code></p>\n<p>A <code>BeforeConvertCallback</code> class that turns initialized, but empty, values to null preventing them from being sent to elastic.</p>\n<pre><code>@Component\npublic class FooBeforeConvertCallback implements BeforeConvertCallback&lt;Foo&gt; {\n\n    @Override\n    public Foo onBeforeConvert(Foo foo, IndexCoordinates indexCoordinates) {\n\n\n        if (CollectionUtils.isEmpty(foo.getMap1())) {\n            foo.setMap1(null);\n        }\n\n        if (CollectionUtils.isEmpty(foo.getMap2())) {\n            foo.setMap2(null);\n        }\n        return foo;\n    }\n}\n</code></pre>\n<p>This solution will <em>ONLY</em> work for the entity <code>Foo</code>.</p>\n"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662636421,"creation_date":1662501215,"question_id":73628101,"body_markdown":"I am using the new-to-me Spring Elasticsearch API which [no longer supports Jackson serialization][1].  I&#39;m in the process of updating all my entities, but have run into an issue where I can no longer ignore properties that have a null or empty value when serializing.\r\n\r\nCan someone help point me to some documentation for the new Java API that mimics the Jackson `@JsonInclude(Include.NonNull, Include.NonEmpty)` annotation, which ONLY includes the property when its value is NOT null and NOT empty.\r\n\r\nI&#39;ve looked all over the web, but I cannot find any hints as to how this can be accomplished.\r\n\r\nAny links or insight is greatly appreciated.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-3.2-4.0","title":"Elasticsearch Java API cannot ignore null or empty values","body":"<p>I am using the new-to-me Spring Elasticsearch API which <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-3.2-4.0\" rel=\"nofollow noreferrer\">no longer supports Jackson serialization</a>.  I'm in the process of updating all my entities, but have run into an issue where I can no longer ignore properties that have a null or empty value when serializing.</p>\n<p>Can someone help point me to some documentation for the new Java API that mimics the Jackson <code>@JsonInclude(Include.NonNull, Include.NonEmpty)</code> annotation, which ONLY includes the property when its value is NOT null and NOT empty.</p>\n<p>I've looked all over the web, but I cannot find any hints as to how this can be accomplished.</p>\n<p>Any links or insight is greatly appreciated.</p>\n"},{"tags":["java","macos","java-home","macos-monterey"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662631550,"post_id":73647250,"comment_id":130052477,"body_markdown":"*However, I get some problems related to not being able to set Java Home properly.* What does ```/usr/libexec/java_home -v1.8```  print? If you use &#39;17&#39; why, I wonder, is that not &#39;8&#39;?","body":"<i>However, I get some problems related to not being able to set Java Home properly.</i> What does <code>&#47;usr&#47;libexec&#47;java_home -v1.8</code>  print? If you use &#39;17&#39; why, I wonder, is that not &#39;8&#39;?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662632300,"post_id":73647250,"comment_id":130052755,"body_markdown":"Use jEnv https://www.jenv.be/","body":"Use jEnv <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">jenv.be</a>"},{"owner":{"account_id":26251048,"reputation":1,"user_id":19923855,"display_name":"March"},"score":0,"creation_date":1662635148,"post_id":73647250,"comment_id":130053748,"body_markdown":"@g00se It prints &quot;no such file or directory: usr/libexec/java_home&quot;. So, any idea to fix the problem?","body":"@g00se It prints &quot;no such file or directory: usr/libexec/java_home&quot;. So, any idea to fix the problem?"},{"owner":{"account_id":26251048,"reputation":1,"user_id":19923855,"display_name":"March"},"score":0,"creation_date":1662635242,"post_id":73647250,"comment_id":130053778,"body_markdown":"@March Thanks March, but at a beginner, I want to use native solutions using zsh. Any idea?","body":"@March Thanks March, but at a beginner, I want to use native solutions using zsh. Any idea?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662635541,"post_id":73647250,"comment_id":130053884,"body_markdown":"There should be a space before the version I think: ```/usr/libexec/java_home -v 1.8``` And did you omit the starting forward slash?","body":"There should be a space before the version I think: <code>&#47;usr&#47;libexec&#47;java_home -v 1.8</code> And did you omit the starting forward slash?"},{"owner":{"account_id":26251048,"reputation":1,"user_id":19923855,"display_name":"March"},"score":0,"creation_date":1662635908,"post_id":73647250,"comment_id":130054036,"body_markdown":"When I retry by `usr/libexec/java_home -v 1.8` then I get `/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home`. On the other hand, I also tried to change this line in .zshenv file from `export PATH=/usr/local/opt/openjdk@8/bin:$PATH` to \n`export PATH=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home:$PATH`. Is that true?","body":"When I retry by <code>usr&#47;libexec&#47;java_home -v 1.8</code> then I get <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;adoptopenjdk-8.jdk&#47;Content&zwnj;&#8203;s&#47;Home</code>. On the other hand, I also tried to change this line in .zshenv file from <code>export PATH=&#47;usr&#47;local&#47;opt&#47;openjdk@8&#47;bin:$PATH</code> to  <code>export PATH=&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;adoptopenjdk-8.jdk&#47;Co&zwnj;&#8203;ntents&#47;Home:$PATH</code>. Is that true?"},{"owner":{"account_id":26251048,"reputation":1,"user_id":19923855,"display_name":"March"},"score":0,"creation_date":1662635961,"post_id":73647250,"comment_id":130054053,"body_markdown":"And do I restart the Mac after each update on `.zshenv` file?","body":"And do I restart the Mac after each update on <code>.zshenv</code> file?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662636291,"post_id":73647250,"comment_id":130054176,"body_markdown":"Use sdkman and its auto-env feature.","body":"Use sdkman and its auto-env feature."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662639650,"post_id":73647250,"comment_id":130055428,"body_markdown":"*Is that true?* You mean is that *right*? I would look to be, yes. But if there are already Mac tools for managing this kind of stuff, it would be worth looking at using them","body":"<i>Is that true?</i> You mean is that <i>right</i>? I would look to be, yes. But if there are already Mac tools for managing this kind of stuff, it would be worth looking at using them"}],"owner":{"account_id":26251048,"reputation":1,"user_id":19923855,"display_name":"March"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662636420,"creation_date":1662631352,"question_id":73647250,"body_markdown":"I use Java 8 and Java 17 versions in several projects and I want to set default Java HOME as Java 8. For this purpose, I add `.zshenv` file to my user folder and make its content like this:\r\n\r\n\r\n```\r\n# Java 8\r\nexport PATH=/usr/local/opt/openjdk@8/bin:$PATH\r\n# sudo ln -sfn /usr/local/opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk \r\n\r\n\r\n# Java 17\r\n# export PATH=/usr/local/opt/openjdk@17/bin:$PATH\r\n\r\n\r\n# Maven\r\nexport PATH=~/apache-maven-3.8.6/bin:$PATH\r\n\r\n\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v1.8)\r\n# export JAVA_HOME=$(/usr/libexec/java_home -v 17)\r\n\r\nexport LC_ALL=en_US.UTF-8\r\nexport LANG=en_US.UTF-8\r\nexport LANGUAGE=en_US.UTF-8\r\n```\r\n\r\nHowever, I get some problems related to not being able to set Java Home properly. So, could you please clarify me on **how can I set Java paths and set Java8 default path using .zsh way8** ?\r\n\r\nI use MacOS Monterey.","title":"How to set Java HOME for multiple Java versions on Mac","body":"<p>I use Java 8 and Java 17 versions in several projects and I want to set default Java HOME as Java 8. For this purpose, I add <code>.zshenv</code> file to my user folder and make its content like this:</p>\n<pre><code># Java 8\nexport PATH=/usr/local/opt/openjdk@8/bin:$PATH\n# sudo ln -sfn /usr/local/opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk \n\n\n# Java 17\n# export PATH=/usr/local/opt/openjdk@17/bin:$PATH\n\n\n# Maven\nexport PATH=~/apache-maven-3.8.6/bin:$PATH\n\n\nexport JAVA_HOME=$(/usr/libexec/java_home -v1.8)\n# export JAVA_HOME=$(/usr/libexec/java_home -v 17)\n\nexport LC_ALL=en_US.UTF-8\nexport LANG=en_US.UTF-8\nexport LANGUAGE=en_US.UTF-8\n</code></pre>\n<p>However, I get some problems related to not being able to set Java Home properly. So, could you please clarify me on <strong>how can I set Java paths and set Java8 default path using .zsh way8</strong> ?</p>\n<p>I use MacOS Monterey.</p>\n"},{"tags":["java","owasp"],"comments":[{"owner":{"account_id":122494,"reputation":14696,"user_id":316343,"accept_rate":62,"display_name":"Jahan Zinedine"},"score":0,"creation_date":1662585659,"post_id":62435355,"comment_id":130042917,"body_markdown":"have you been able to resolve the issue? appreciate sharing it if so, thanks!","body":"have you been able to resolve the issue? appreciate sharing it if so, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":122494,"reputation":14696,"user_id":316343,"accept_rate":62,"display_name":"Jahan Zinedine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662636337,"creation_date":1662631771,"answer_id":73647348,"question_id":62435355,"body_markdown":"This is how it works, in case someone in future faced the same issue\r\nIt&#39;s in kotlin but pretty simple to be converted to java\r\n\r\n    \r\n    private class SeparateTextPostProcessor(htmlStreamEventReceiver: HtmlStreamEventReceiver, val separator: String = &quot; &quot;) :\r\n        HtmlStreamEventReceiverWrapper(htmlStreamEventReceiver) {\r\n        override fun text(elem: String) {\r\n            if (elem.isNotEmpty()) {\r\n                // adds a space between elements\r\n                underlying.text(&quot;$elem$separator&quot;)\r\n            } else {\r\n                underlying.text(elem)\r\n            }\r\n        }\r\n    }\r\n    \r\n    fun String.stripHTML(): String {\r\n        val policy =\r\n          HtmlPolicyBuilder().withPostprocessor { SeparateTextPostProcessor(it) }.toFactory()\r\n        val sanitized = policy.sanitize(this)\r\n        // Sanitized text will contain additional escaped characters.\r\n        return sanitized.trim()\r\n    }\r\n\r\n","title":"OWASP library custom policy - adding spaces where removing html","body":"<p>This is how it works, in case someone in future faced the same issue\nIt's in kotlin but pretty simple to be converted to java</p>\n<pre><code>private class SeparateTextPostProcessor(htmlStreamEventReceiver: HtmlStreamEventReceiver, val separator: String = &quot; &quot;) :\n    HtmlStreamEventReceiverWrapper(htmlStreamEventReceiver) {\n    override fun text(elem: String) {\n        if (elem.isNotEmpty()) {\n            // adds a space between elements\n            underlying.text(&quot;$elem$separator&quot;)\n        } else {\n            underlying.text(elem)\n        }\n    }\n}\n\nfun String.stripHTML(): String {\n    val policy =\n      HtmlPolicyBuilder().withPostprocessor { SeparateTextPostProcessor(it) }.toFactory()\n    val sanitized = policy.sanitize(this)\n    // Sanitized text will contain additional escaped characters.\n    return sanitized.trim()\n}\n</code></pre>\n"}],"owner":{"account_id":18869395,"reputation":51,"user_id":13764401,"display_name":"diannamcallister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662636337,"creation_date":1592416306,"question_id":62435355,"body_markdown":"I am currently trying to use the OWASP library to remove some html from a string. A string that I have is a list:\r\n\r\n&gt;  1. one\r\n&gt;  2. two\r\n&gt;  3. three\r\n\r\nWhich in markup, the string looks like `&quot;&lt;ul&gt;&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;/ul&gt;&quot;`.\r\n\r\nWhen I use the OWSAP library with a policy like:\r\n```\r\nPolicyFactory policy = new HtmlPolicyBuilder()\r\n                .allowUrlProtocols(&quot;https&quot;)\r\n                .allowStandardUrlProtocols()\r\n                .requireRelNofollowOnLinks()\r\n                .toFactory();\r\n```\r\nOSWAP converts the list to: &quot;onetwothree&quot; . I instead would like to add spaces between the list items, and be able to convert the string to &quot;one two three&quot;. I was wondering how / if there is a way to do this with OWSAP? I am new to using this so any advice is appreciated!","title":"OWASP library custom policy - adding spaces where removing html","body":"<p>I am currently trying to use the OWASP library to remove some html from a string. A string that I have is a list:</p>\n\n<blockquote>\n  <ol>\n  <li>one</li>\n  <li>two</li>\n  <li>three</li>\n  </ol>\n</blockquote>\n\n<p>Which in markup, the string looks like <code>\"&lt;ul&gt;&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;/ul&gt;\"</code>.</p>\n\n<p>When I use the OWSAP library with a policy like:</p>\n\n<pre><code>PolicyFactory policy = new HtmlPolicyBuilder()\n                .allowUrlProtocols(\"https\")\n                .allowStandardUrlProtocols()\n                .requireRelNofollowOnLinks()\n                .toFactory();\n</code></pre>\n\n<p>OSWAP converts the list to: \"onetwothree\" . I instead would like to add spaces between the list items, and be able to convert the string to \"one two three\". I was wondering how / if there is a way to do this with OWSAP? I am new to using this so any advice is appreciated!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662636151,"creation_date":1662636151,"answer_id":73648271,"question_id":73647577,"body_markdown":"You should first understand [*what* double brace initialisation actually does][1]. According to the linked answer, the main drawback of DBI that applies here is that it can create a lot of anonymous classes without you noticing, because the syntax is so lightweight.\r\n\r\nAccording to the documentation, the methods you want to call, like [`setUseIdentityHashCode`][2] are `protected`, so in order to access it, we ***must*** create a subclass of `MultilineRecursiveToStringStyle`. It doesn&#39;t really matter whether you do that with DBI to create an anonymous class:\r\n\r\n```\r\npublic static final ToStringStyle MY_CUSTOM_STYLE = new MultilineRecursiveToStringStyle() {{\r\n    setUseIdentityHashCode(false);\r\n    setUseShortClassName(true);\r\n}};\r\n\r\n@Override\r\npublic String toString() {\r\n    return new ReflectionToStringBuilder(this, MY_CUSTOM_STYLE).build();\r\n}\r\n```\r\n\r\nor by writing a named class:\r\n\r\n```\r\nclass MyCustomStyle extends MultilineRecursiveToStringStyle {\r\n    private MyCustomStyle() {\r\n        setUseIdentityHashCode(false);\r\n        setUseShortClassName(true);\r\n    }\r\n\r\n    public static final MyCustomStyle INSTANCE = new MyCustomStyle();\r\n}\r\n\r\n...\r\n\r\n@Override\r\npublic String toString() {\r\n    return new ReflectionToStringBuilder(this, MyCustomStyle.INSTANCE).build();\r\n}\r\n```\r\n\r\nNote that in both cases, I only create *one* new class and one single instance of that class. I put that instance in a static final field, and reuse the static final field whenever I can.\r\n\r\nBy doing this, you wouldn&#39;t end up creating 100 `MultilineRecursiveToStringStyle` subclasses if you want to override `toString` 100 times using the same style, which you would have done if you repeated the DBI 100 times.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27521360/5133585\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/builder/ToStringStyle.html#setUseIdentityHashCode-boolean-","title":"How to avoid Double Brace Initialization (DBI) with MultilineRecursiveToStringStyle","body":"<p>You should first understand <a href=\"https://stackoverflow.com/a/27521360/5133585\"><em>what</em> double brace initialisation actually does</a>. According to the linked answer, the main drawback of DBI that applies here is that it can create a lot of anonymous classes without you noticing, because the syntax is so lightweight.</p>\n<p>According to the documentation, the methods you want to call, like <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/builder/ToStringStyle.html#setUseIdentityHashCode-boolean-\" rel=\"nofollow noreferrer\"><code>setUseIdentityHashCode</code></a> are <code>protected</code>, so in order to access it, we <em><strong>must</strong></em> create a subclass of <code>MultilineRecursiveToStringStyle</code>. It doesn't really matter whether you do that with DBI to create an anonymous class:</p>\n<pre><code>public static final ToStringStyle MY_CUSTOM_STYLE = new MultilineRecursiveToStringStyle() {{\n    setUseIdentityHashCode(false);\n    setUseShortClassName(true);\n}};\n\n@Override\npublic String toString() {\n    return new ReflectionToStringBuilder(this, MY_CUSTOM_STYLE).build();\n}\n</code></pre>\n<p>or by writing a named class:</p>\n<pre><code>class MyCustomStyle extends MultilineRecursiveToStringStyle {\n    private MyCustomStyle() {\n        setUseIdentityHashCode(false);\n        setUseShortClassName(true);\n    }\n\n    public static final MyCustomStyle INSTANCE = new MyCustomStyle();\n}\n\n...\n\n@Override\npublic String toString() {\n    return new ReflectionToStringBuilder(this, MyCustomStyle.INSTANCE).build();\n}\n</code></pre>\n<p>Note that in both cases, I only create <em>one</em> new class and one single instance of that class. I put that instance in a static final field, and reuse the static final field whenever I can.</p>\n<p>By doing this, you wouldn't end up creating 100 <code>MultilineRecursiveToStringStyle</code> subclasses if you want to override <code>toString</code> 100 times using the same style, which you would have done if you repeated the DBI 100 times.</p>\n"}],"owner":{"account_id":2745253,"reputation":104,"user_id":2365809,"display_name":"kill-9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73648271,"answer_count":1,"score":0,"last_activity_date":1662636151,"creation_date":1662632780,"question_id":73647577,"body_markdown":"I have the following method:\r\n\r\n        @Override public String toString() {\r\n        return new ReflectionToStringBuilder(this, new MultilineRecursiveToStringStyle() {\r\n            {\r\n                setUseShortClassName(true);\r\n                setUseIdentityHashCode(false);\r\n            }\r\n        }).build();\r\n    }\r\n\r\nAs you can see, Double Brace Initialization (DBI) is used. How can I change this code so that I&#39;m not using DBI? ","title":"How to avoid Double Brace Initialization (DBI) with MultilineRecursiveToStringStyle","body":"<p>I have the following method:</p>\n<pre><code>    @Override public String toString() {\n    return new ReflectionToStringBuilder(this, new MultilineRecursiveToStringStyle() {\n        {\n            setUseShortClassName(true);\n            setUseIdentityHashCode(false);\n        }\n    }).build();\n}\n</code></pre>\n<p>As you can see, Double Brace Initialization (DBI) is used. How can I change this code so that I'm not using DBI?</p>\n"},{"tags":["java","encryption","hash","aes"],"comments":[{"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"score":0,"creation_date":1475668865,"post_id":39871221,"comment_id":67033323,"body_markdown":"An AES key is 16, 24 or 32 bytes long, so your AES key is in principle invalid. Your provider might interpret such invalid key in another way than you expect.","body":"An AES key is 16, 24 or 32 bytes long, so your AES key is in principle invalid. Your provider might interpret such invalid key in another way than you expect."},{"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"score":0,"creation_date":1475676549,"post_id":39871221,"comment_id":67039121,"body_markdown":"Actually I have mocked the secret key here. When I try to convert the original key string to bytes and get the length, it is 16. So I think that is not the issue. I will edit this in the question.","body":"Actually I have mocked the secret key here. When I try to convert the original key string to bytes and get the length, it is 16. So I think that is not the issue. I will edit this in the question."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1475691687,"post_id":39871221,"comment_id":67048975,"body_markdown":"It looks like inconsistent (A hash function has exactly one input and a block cipher has exactly 2 inputs) and incomplete (1. SHA-2? There are different lengths. 2. How is the encoding done?) web service documentation. Just ask them for example code or for a better documentation.","body":"It looks like inconsistent (A hash function has exactly one input and a block cipher has exactly 2 inputs) and incomplete (1. SHA-2? There are different lengths. 2. How is the encoding done?) web service documentation. Just ask them for example code or for a better documentation."}],"answers":[{"tags":[],"owner":{"account_id":6750608,"reputation":1,"user_id":5200707,"display_name":"Syed Aamer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1475671847,"creation_date":1475669227,"answer_id":39873532,"question_id":39871221,"body_markdown":"You need to change this:\r\n\r\n    String hashString = &quot;=&quot; + Base64.encodeBase64String(hashed);\r\n    System.out.println(hashString);\r\n\r\nTo:\r\n\r\n    String hashString = &quot;=&quot; + new String(hashed);\r\n    System.out.println(hashString);\r\n\r\n\r\nSince the hashed key is getting base64encoded before the authorization key generation.\r\n\r\n\r\n","title":"Hashing using SHA 256 and encrypting using AES","body":"<p>You need to change this:</p>\n\n<pre><code>String hashString = \"=\" + Base64.encodeBase64String(hashed);\nSystem.out.println(hashString);\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>String hashString = \"=\" + new String(hashed);\nSystem.out.println(hashString);\n</code></pre>\n\n<p>Since the hashed key is getting base64encoded before the authorization key generation.</p>\n"},{"tags":[],"owner":{"account_id":3685282,"reputation":545,"user_id":3069161,"display_name":"Amimo Benja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662635902,"creation_date":1662635902,"answer_id":73648216,"question_id":39871221,"body_markdown":"        **Encrypt and Decrypt using AES** \r\n        \r\n        public static String encrypt(String value) throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\r\n            IvParameterSpec iv = new IvParameterSpec(&quot;randomStringVec&quot;.getBytes(&quot;UTF-8&quot;));\r\n            SecretKeySpec skeySpec = new SecretKeySpec(&quot;randomStringKey&quot;.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n            cipher.init(1, skeySpec, iv);\r\n    \r\n            byte[] encrypted = cipher.doFinal(value.getBytes());\r\n            return Base64.encodeBase64String(encrypted);\r\n        }\r\n    \r\n        public static String decrypt(String encrypted) throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\r\n            IvParameterSpec iv = new IvParameterSpec(&quot;randomStringVec&quot;.getBytes(&quot;UTF-8&quot;));\r\n            SecretKeySpec skeySpec = new SecretKeySpec(&quot;randomStringKey&quot;.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n            cipher.init(2, skeySpec, iv);\r\n            byte[] original = cipher.doFinal(Base64.decodeBase64(encrypted));\r\n    \r\n            return new String(original);\r\n        }\r\n    \r\n\r\n        **Encryption Using SHA256**\r\n        private static String encrypt256(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n    \r\n            MessageDigest crypt = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            crypt.reset();\r\n            crypt.update(password.getBytes(&quot;UTF-8&quot;));\r\n            return new BigInteger(1, crypt.digest()).toString(16);\r\n        }","title":"Hashing using SHA 256 and encrypting using AES","body":"<pre><code>    **Encrypt and Decrypt using AES** \n    \n    public static String encrypt(String value) throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\n        IvParameterSpec iv = new IvParameterSpec(&quot;randomStringVec&quot;.getBytes(&quot;UTF-8&quot;));\n        SecretKeySpec skeySpec = new SecretKeySpec(&quot;randomStringKey&quot;.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n        cipher.init(1, skeySpec, iv);\n\n        byte[] encrypted = cipher.doFinal(value.getBytes());\n        return Base64.encodeBase64String(encrypted);\n    }\n\n    public static String decrypt(String encrypted) throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\n        IvParameterSpec iv = new IvParameterSpec(&quot;randomStringVec&quot;.getBytes(&quot;UTF-8&quot;));\n        SecretKeySpec skeySpec = new SecretKeySpec(&quot;randomStringKey&quot;.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n        cipher.init(2, skeySpec, iv);\n        byte[] original = cipher.doFinal(Base64.decodeBase64(encrypted));\n\n        return new String(original);\n    }\n\n\n    **Encryption Using SHA256**\n    private static String encrypt256(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n\n        MessageDigest crypt = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        crypt.reset();\n        crypt.update(password.getBytes(&quot;UTF-8&quot;));\n        return new BigInteger(1, crypt.digest()).toString(16);\n    }\n</code></pre>\n"}],"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4383,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1662635902,"creation_date":1475662376,"question_id":39871221,"body_markdown":"In order for me to consume a webservice, I need to generate a value for an header named `Authorization`. The steps to generate the header is as follows:\r\n\r\n    1. Hash Generation\r\n    \r\n       HashValue = SHA2(username, password, id)\r\n    \r\n    2. Auth Key Generation\r\n\r\n       Authkey = AES(Salt + anotherId + &quot;=&quot; + HashValue)\r\n\r\nThese are the algorithms details:\r\n\r\n    Algorithm - AES\r\n    Mode - ECB\r\n    Padding - PKCS5Padding\r\n    Secret key - someString\r\n\r\nNow I will be performing the AES encryption using the above details and the secret key which is a string. \r\n\r\nAfter the encryption, I will use the above generated encrypted value as a `header` in my rest service call.\r\n\r\nI have done this so far: \r\n\r\n    String username = &quot;username&quot;;\r\n    String password = &quot;password&quot;;\r\n    String id = &quot;123456&quot;; \r\n    \r\n    String toBeHashed = username + password + id;\r\n    MessageDigest sha256 = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    byte[] hashed = sha256.digest(toBeHashed.getBytes(&quot;UTF-8&quot;));\r\n    \r\n    String hashString = &quot;=&quot; + Base64.encodeBase64String(hashed);\r\n    System.out.println(hashString);\r\n    \r\n    String salt = &quot;salt&quot;;\r\n    String anotherId = &quot;123&quot;;\r\n    byte[] forAuth = (salt + orgId + hashString).getBytes(&quot;UTF-8&quot;);\r\n    \r\n    //Mocked &quot;secret key&quot;. Original key string is of size 16 bytes.\r\n    byte[] secKey = &quot;secret key&quot;.getBytes(&quot;UTF-8&quot;);\r\n    \r\n    SecretKey secretKey = new SecretKeySpec(secKey, 0, secKey.length, &quot;AES&quot;);\r\n    \r\n    Cipher aesCipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n    aesCipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n    \r\n    byte[] authorizationKey = aesCipher.doFinal(forAuth);\r\n    \r\n    System.out.println(&quot;-------------------&quot;);\r\n    System.out.println(&quot;-------------------&quot;);\r\n    System.out.println(Base64.encodeBase64String(authorizationKey));\r\n\r\nBut still the backend service says that my authorization key is invalid. Please tell me if I am missing something.","title":"Hashing using SHA 256 and encrypting using AES","body":"<p>In order for me to consume a webservice, I need to generate a value for an header named <code>Authorization</code>. The steps to generate the header is as follows:</p>\n\n<pre><code>1. Hash Generation\n\n   HashValue = SHA2(username, password, id)\n\n2. Auth Key Generation\n\n   Authkey = AES(Salt + anotherId + \"=\" + HashValue)\n</code></pre>\n\n<p>These are the algorithms details:</p>\n\n<pre><code>Algorithm - AES\nMode - ECB\nPadding - PKCS5Padding\nSecret key - someString\n</code></pre>\n\n<p>Now I will be performing the AES encryption using the above details and the secret key which is a string. </p>\n\n<p>After the encryption, I will use the above generated encrypted value as a <code>header</code> in my rest service call.</p>\n\n<p>I have done this so far: </p>\n\n<pre><code>String username = \"username\";\nString password = \"password\";\nString id = \"123456\"; \n\nString toBeHashed = username + password + id;\nMessageDigest sha256 = MessageDigest.getInstance(\"SHA-256\");\nbyte[] hashed = sha256.digest(toBeHashed.getBytes(\"UTF-8\"));\n\nString hashString = \"=\" + Base64.encodeBase64String(hashed);\nSystem.out.println(hashString);\n\nString salt = \"salt\";\nString anotherId = \"123\";\nbyte[] forAuth = (salt + orgId + hashString).getBytes(\"UTF-8\");\n\n//Mocked \"secret key\". Original key string is of size 16 bytes.\nbyte[] secKey = \"secret key\".getBytes(\"UTF-8\");\n\nSecretKey secretKey = new SecretKeySpec(secKey, 0, secKey.length, \"AES\");\n\nCipher aesCipher = Cipher.getInstance(\"AES/ECB/PKCS5Padding\");\naesCipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\nbyte[] authorizationKey = aesCipher.doFinal(forAuth);\n\nSystem.out.println(\"-------------------\");\nSystem.out.println(\"-------------------\");\nSystem.out.println(Base64.encodeBase64String(authorizationKey));\n</code></pre>\n\n<p>But still the backend service says that my authorization key is invalid. Please tell me if I am missing something.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":23416733,"reputation":31,"user_id":17477580,"display_name":"EverGrowing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662635868,"creation_date":1662635868,"answer_id":73648210,"question_id":73567529,"body_markdown":"I&#39;ve now figured it out - my relevant JPA-property, at least as far as Hibernate is concerned, was slightly wrong...\r\n\r\nWhereas I used (as it had once worked for me in EclipseLink, lazily leading me to believe that it was generic to all JPA-providers)\r\n&gt; javax.persistence.schema-generation.create-database-schemas\r\n\r\nI should have used this\r\n\r\n&gt; javax.persistence.create-database-schemas\r\n\r\n\r\n","title":"Does the combination of Spring Boot and H2 honor JPA-property javax.persistence.schema-generation.create-database-schemas?","body":"<p>I've now figured it out - my relevant JPA-property, at least as far as Hibernate is concerned, was slightly wrong...</p>\n<p>Whereas I used (as it had once worked for me in EclipseLink, lazily leading me to believe that it was generic to all JPA-providers)</p>\n<blockquote>\n<p>javax.persistence.schema-generation.create-database-schemas</p>\n</blockquote>\n<p>I should have used this</p>\n<blockquote>\n<p>javax.persistence.create-database-schemas</p>\n</blockquote>\n"}],"owner":{"account_id":23416733,"reputation":31,"user_id":17477580,"display_name":"EverGrowing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662635868,"creation_date":1662026470,"question_id":73567529,"body_markdown":"I have a Spring Boot app that is configured to use JPA and its default-provider Hibernate. The app, in environment Non-Local, expects, and, through Oracle, is configured to connect to, an _existing_ SQL DB, while the app, in environment Local, must, through H2, _create_ it...embedded, in-memory, and private.\r\n\r\nThe DB utilizes one schema, as seen in this entity:\r\n\r\n    @Entity @Table(schema=&quot;foo&quot;,name=&quot;transactions&quot;)\r\n\r\nEnvironment Local must, and is configured to, create (after first dropping any existing) tables and their schema. It is the creation, and dropping, of the latter - schema - that exhibits a problem:\r\n\r\n&gt; Hibernate: drop table if exists foo.foo_transactions CASCADE\r\n&gt; \r\n&gt; org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists foo.foo_transactions CASCADE &quot; via JDBC Statement\r\n&gt; \r\n&gt; Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;FOO&quot; not found; SQL statement: drop table if exists foo.foo_transactions CASCADE  [90079-200]\r\n&gt; \r\n&gt; ...and a similar one (Schema not found) for CREATE.\r\n\r\nSo as to ensure no overlap, in the classpath, between H2 and Oracle, I, in the POM, separate them by build-profile (local and non-local):\r\n\r\n    &lt;profile&gt;&lt;id&gt;local&lt;/id&gt;...&lt;dependencies&gt;&lt;dependency&gt;H2&lt;/dependency&gt;&lt;/dependencies&gt;\r\n    &lt;profile&gt;&lt;id&gt;non-local&lt;/id&gt;...&lt;dependences&gt;&lt;dependency&gt;Oracle&lt;/dependency&gt;&lt;/dependencies&gt;\r\n\r\nMy relevant configuration of Spring Boot is:\r\n\r\n    # file application.properties\r\n    spring.datasource.url=jdbc:oracle:thin...\r\n\r\n    # file application-local.properties\r\n    # blankness of following value masks default configuration, in application.properties\r\n    spring.datasource.url=\r\n    spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\r\n\r\nThat JPA-property, &lt;strong&gt;javax.persistence.schema-generation.create-database-schemas&lt;/strong&gt;, is supposed to do EXACTLY what I desire: create, in addition to tables, any internal schema. Yet, as shown in the aforementioned errors, it doesn&#39;t work!\r\n\r\n&lt;h4&gt;Does H2, or the combination of H2, JPA-provider Hibernate, and Spring Boot, not honor it??? Or, have I miscoded/misconfigured something?&lt;/h4&gt;\r\n\r\nI don&#39;t want to get bogged down in the following (as the preceding question is my main concern), but for full disclosure...\r\n\r\nP.S. If I remove the schema and build and run locally, everything works fine. But, the non-local (Production) flavor mandates that schema, so I must comply, and wish to do so also locally.\r\n\r\nP.P.S. I am, indeed, aware of H2&#39;s directive &#39;INIT=CREATE SCHEMA IF NOT EXISTS foo&#39; (to be applied to the datasource URL), and it, if used, does alleviate the problem. However, if I do use it (thereby having to _explicitly_ supply a url, thereby conceding Spring Boot&#39;s very nice and full auto-configuration [of H2]), it causes another problem, which I need to avoid:\r\n\r\n&gt; 2022-08-29 15:43:27.494  WARN 15288 --- [on(5)-127.0.0.1] o.s.b.f.support.DisposableBeanAdapter: Invocation of destroy method failed on bean with name &#39;inMemoryDatabaseShutdownExecutor&#39;: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-200]\r\n\r\nP.P.P.S. Neither that recommendation (...;DB_CLOSE_ON_EXIT=FALSE) nor its sister (...;DB_CLOSE_DELAY=-1) nor their combination alleviate that problem (attempt to close an already-closed DB).\r\n","title":"Does the combination of Spring Boot and H2 honor JPA-property javax.persistence.schema-generation.create-database-schemas?","body":"<p>I have a Spring Boot app that is configured to use JPA and its default-provider Hibernate. The app, in environment Non-Local, expects, and, through Oracle, is configured to connect to, an <em>existing</em> SQL DB, while the app, in environment Local, must, through H2, <em>create</em> it...embedded, in-memory, and private.</p>\n<p>The DB utilizes one schema, as seen in this entity:</p>\n<pre><code>@Entity @Table(schema=&quot;foo&quot;,name=&quot;transactions&quot;)\n</code></pre>\n<p>Environment Local must, and is configured to, create (after first dropping any existing) tables and their schema. It is the creation, and dropping, of the latter - schema - that exhibits a problem:</p>\n<blockquote>\n<p>Hibernate: drop table if exists foo.foo_transactions CASCADE</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists foo.foo_transactions CASCADE &quot; via JDBC Statement</p>\n<p>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;FOO&quot; not found; SQL statement: drop table if exists foo.foo_transactions CASCADE  [90079-200]</p>\n<p>...and a similar one (Schema not found) for CREATE.</p>\n</blockquote>\n<p>So as to ensure no overlap, in the classpath, between H2 and Oracle, I, in the POM, separate them by build-profile (local and non-local):</p>\n<pre><code>&lt;profile&gt;&lt;id&gt;local&lt;/id&gt;...&lt;dependencies&gt;&lt;dependency&gt;H2&lt;/dependency&gt;&lt;/dependencies&gt;\n&lt;profile&gt;&lt;id&gt;non-local&lt;/id&gt;...&lt;dependences&gt;&lt;dependency&gt;Oracle&lt;/dependency&gt;&lt;/dependencies&gt;\n</code></pre>\n<p>My relevant configuration of Spring Boot is:</p>\n<pre><code># file application.properties\nspring.datasource.url=jdbc:oracle:thin...\n\n# file application-local.properties\n# blankness of following value masks default configuration, in application.properties\nspring.datasource.url=\nspring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\n</code></pre>\n<p>That JPA-property, <strong>javax.persistence.schema-generation.create-database-schemas</strong>, is supposed to do EXACTLY what I desire: create, in addition to tables, any internal schema. Yet, as shown in the aforementioned errors, it doesn't work!</p>\n<h4>Does H2, or the combination of H2, JPA-provider Hibernate, and Spring Boot, not honor it??? Or, have I miscoded/misconfigured something?</h4>\n<p>I don't want to get bogged down in the following (as the preceding question is my main concern), but for full disclosure...</p>\n<p>P.S. If I remove the schema and build and run locally, everything works fine. But, the non-local (Production) flavor mandates that schema, so I must comply, and wish to do so also locally.</p>\n<p>P.P.S. I am, indeed, aware of H2's directive 'INIT=CREATE SCHEMA IF NOT EXISTS foo' (to be applied to the datasource URL), and it, if used, does alleviate the problem. However, if I do use it (thereby having to <em>explicitly</em> supply a url, thereby conceding Spring Boot's very nice and full auto-configuration [of H2]), it causes another problem, which I need to avoid:</p>\n<blockquote>\n<p>2022-08-29 15:43:27.494  WARN 15288 --- [on(5)-127.0.0.1] o.s.b.f.support.DisposableBeanAdapter: Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add &quot;;DB_CLOSE_ON_EXIT=FALSE&quot; to the db URL) [90121-200]</p>\n</blockquote>\n<p>P.P.P.S. Neither that recommendation (...;DB_CLOSE_ON_EXIT=FALSE) nor its sister (...;DB_CLOSE_DELAY=-1) nor their combination alleviate that problem (attempt to close an already-closed DB).</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662634234,"post_id":73647719,"comment_id":130053430,"body_markdown":"Google rejected the app, not because of WRITE_EXTERNAL_STORAGE permission, Rejected due to the MANAGE_ALL_FILES permission which you might be using.","body":"Google rejected the app, not because of WRITE_EXTERNAL_STORAGE permission, Rejected due to the MANAGE_ALL_FILES permission which you might be using."},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662634344,"post_id":73647719,"comment_id":130053474,"body_markdown":"download your pdf file in the private folder of your app and access it, For this MANAGE_ALL_FILES permission is not required.","body":"download your pdf file in the private folder of your app and access it, For this MANAGE_ALL_FILES permission is not required."},{"owner":{"account_id":26280149,"reputation":1,"user_id":19948738,"display_name":"Oza"},"score":0,"creation_date":1662637512,"post_id":73647719,"comment_id":130054633,"body_markdown":"Thanks for your answer\n\nIf i download my PDF in the private folder off my app, Will other application be able to access it ? I need them to be used with Mail app and PDFs viewers","body":"Thanks for your answer  If i download my PDF in the private folder off my app, Will other application be able to access it ? I need them to be used with Mail app and PDFs viewers"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662657443,"post_id":73647719,"comment_id":130062469,"body_markdown":"Wrong question as we see that you use ACTION_VIEW with FileProvider. All ready.","body":"Wrong question as we see that you use ACTION_VIEW with FileProvider. All ready."}],"owner":{"account_id":26280149,"reputation":1,"user_id":19948738,"display_name":"Oza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662635863,"creation_date":1662633519,"question_id":73647719,"body_markdown":"I&#39;ve got a problem during the development of my Android application.\r\n\r\nI have a web server storing some PDFs. I wanted, from my application, receive them and save them on the phone storage.\r\n\r\nSo, I used FileOutputStream and a Intent to open it, I used permissions &quot;WRITE_EXTERNAL_STORAGE&quot;, but when I propose my application to Google, they reject it because of &quot;Scoped storage&quot;.\r\n\r\nI don&#39;t know what&#39;s the &quot;best practice&quot; to do that.\r\n\r\nCan someone help me? \r\n\r\nBelow a piece of my code\r\n\r\n```java\r\nFileOutputStream fos = new FileOutputStream(file);\r\nfos.write(base64ContentOfMyFile);\r\nfos.flush();\r\nfos.close();\r\n\r\nSystem.out.println(file.getAbsolutePath() + &quot; : &quot; + Uri.fromFile(file));\r\n\r\nUri uri = FileProvider.getUriForFile(Objects.requireNonNull(getApplicationContext()),BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\r\n\r\nIntent intentView = new Intent(Intent.ACTION_VIEW);\r\nintentView.setDataAndType(uri, typeFich);\r\nintentView.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\nintentView.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\nintentView.putExtra(Intent.EXTRA_STREAM, uri);\r\nintentView.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\nintentView.setDataAndType(uri\r\n        , typeFich);\r\nIntent intentChooser = Intent.createChooser(intentView, &quot;Open with...&quot;);\r\nintentChooser.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\nstartActivity(intentChooser);\r\n```","title":"Best practice to read and write PDF received from my server","body":"<p>I've got a problem during the development of my Android application.</p>\n<p>I have a web server storing some PDFs. I wanted, from my application, receive them and save them on the phone storage.</p>\n<p>So, I used FileOutputStream and a Intent to open it, I used permissions &quot;WRITE_EXTERNAL_STORAGE&quot;, but when I propose my application to Google, they reject it because of &quot;Scoped storage&quot;.</p>\n<p>I don't know what's the &quot;best practice&quot; to do that.</p>\n<p>Can someone help me?</p>\n<p>Below a piece of my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileOutputStream fos = new FileOutputStream(file);\nfos.write(base64ContentOfMyFile);\nfos.flush();\nfos.close();\n\nSystem.out.println(file.getAbsolutePath() + &quot; : &quot; + Uri.fromFile(file));\n\nUri uri = FileProvider.getUriForFile(Objects.requireNonNull(getApplicationContext()),BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\n\nIntent intentView = new Intent(Intent.ACTION_VIEW);\nintentView.setDataAndType(uri, typeFich);\nintentView.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nintentView.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nintentView.putExtra(Intent.EXTRA_STREAM, uri);\nintentView.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\nintentView.setDataAndType(uri\n        , typeFich);\nIntent intentChooser = Intent.createChooser(intentView, &quot;Open with...&quot;);\nintentChooser.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\nstartActivity(intentChooser);\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":7689071,"reputation":593,"user_id":5825926,"display_name":"Akash"},"score":1,"creation_date":1502306627,"post_id":45599021,"comment_id":78157610,"body_markdown":"Please have a look https://stackoverflow.com/questions/34728814/spring-boot-with-two-mvc-configurations this post.","body":"Please have a look <a href=\"https://stackoverflow.com/questions/34728814/spring-boot-with-two-mvc-configurations\" title=\"spring boot with two mvc configurations\">stackoverflow.com/questions/34728814/&hellip;</a> this post."}],"answers":[{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662635240,"creation_date":1502307042,"answer_id":45599178,"question_id":45599021,"body_markdown":"The `MappingJackson2HttpMessageConverter` is common for all controller annotated with `@RestController`, nevertheless there are ways around this. A common solution is wrapping the result returned by your controller into a marker class and using a custom `MessageConverter` [(Example implementation used by Spring Hateoas)][1] and/or using a custom response media type.\r\n\r\nSample usage of `TypeConstrainedMappingJackson2HttpMessageConverter` where `ResourceSupport` is the marker class.\r\n\r\n\r\n    MappingJackson2HttpMessageConverter halConverter = \r\n        new TypeConstrainedMappingJackson2HttpMessageConverter(ResourceSupport.class);\r\n    halConverter.setSupportedMediaTypes(Arrays.asList(HAL_JSON));\r\n    halConverter.setObjectMapper(halObjectMapper);\r\n\r\n  [1]: https://github.com/spring-projects/spring-hateoas/blob/3f6cb3269ca779ba6f7b1b128ed7e195d89bff9a/src/main/java/org/springframework/hateoas/server/mvc/TypeConstrainedMappingJackson2HttpMessageConverter.java\r\n\r\nYou can find a working example based on your code here:\r\nhttps://github.com/AndreasKl/SpringBootEndpoints\r\n\r\nInstead of using a `PropertyNamingStrategy` a custom serializer can be used for your `Price` transfer object.","title":"2 @RestControllers with different configurations","body":"<p>The <code>MappingJackson2HttpMessageConverter</code> is common for all controller annotated with <code>@RestController</code>, nevertheless there are ways around this. A common solution is wrapping the result returned by your controller into a marker class and using a custom <code>MessageConverter</code> <a href=\"https://github.com/spring-projects/spring-hateoas/blob/3f6cb3269ca779ba6f7b1b128ed7e195d89bff9a/src/main/java/org/springframework/hateoas/server/mvc/TypeConstrainedMappingJackson2HttpMessageConverter.java\" rel=\"nofollow noreferrer\">(Example implementation used by Spring Hateoas)</a> and/or using a custom response media type.</p>\n<p>Sample usage of <code>TypeConstrainedMappingJackson2HttpMessageConverter</code> where <code>ResourceSupport</code> is the marker class.</p>\n<pre><code>MappingJackson2HttpMessageConverter halConverter = \n    new TypeConstrainedMappingJackson2HttpMessageConverter(ResourceSupport.class);\nhalConverter.setSupportedMediaTypes(Arrays.asList(HAL_JSON));\nhalConverter.setObjectMapper(halObjectMapper);\n</code></pre>\n<p>You can find a working example based on your code here:\n<a href=\"https://github.com/AndreasKl/SpringBootEndpoints\" rel=\"nofollow noreferrer\">https://github.com/AndreasKl/SpringBootEndpoints</a></p>\n<p>Instead of using a <code>PropertyNamingStrategy</code> a custom serializer can be used for your <code>Price</code> transfer object.</p>\n"}],"owner":{"account_id":2554674,"reputation":596,"user_id":6585764,"accept_rate":40,"display_name":"Fran&#231;ois-David Lessard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45599178,"answer_count":1,"score":5,"last_activity_date":1662635240,"creation_date":1502306491,"question_id":45599021,"body_markdown":"Is it possible to have two different **@RestControllers** that **use different** **MappingJackson2HttpMessageConverter** in Springboot ? ... or is the MappingJackson2HttpMessageConverter common for all @RestController in a spring boot application ?\r\n\r\nBasically, the goal would be to use a different MappingJackson2HttpMessageConverter containing a different Jackson ObjectMapper that uses a Jackson MixIn to rename(in the Json) the id to priceId in the 2nd Controller.\r\n\r\nWhat a call to the first controller would do :\r\n\r\nhttp://localhost:8080/controller1/price\r\n\r\n{ id: &quot;id&quot;, description: &quot;Description&quot; }\r\n\r\nWhat a call to the second controller would do :\r\n\r\nhttp://localhost:8080/controller2/price\r\n\r\n{ priceId: &quot;id&quot;, description: &quot;Description&quot; }\r\n\r\nRegards\r\n  \r\n\r\n\r\n    @SpringBootApplication\r\n    public class EndpointsApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EndpointsApplication.class, args);\r\n    }\r\n\r\n    @Data // Lombok\r\n    @AllArgsConstructor\r\n    class Price {\r\n        String id;\r\n        String description;\r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/controller1&quot;)\r\n    class PriceController1 {\r\n\r\n        @GetMapping(value = &quot;/price&quot;)\r\n        public Price getPrice() {\r\n            return new Price(&quot;id&quot;, &quot;Description&quot;);\r\n        }\r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/controller2&quot;)\r\n    class PriceController2 {\r\n\r\n        @GetMapping(value = &quot;/price&quot;)\r\n        public Price getPrice() {\r\n            return new Price(&quot;id&quot;, &quot;Description&quot;);\r\n        }\r\n    }\r\n    \r\n    }\r\n\r\n\r\nGitHub:\r\n\r\nhttps://github.com/fdlessard/SpringBootEndpoints","title":"2 @RestControllers with different configurations","body":"<p>Is it possible to have two different <strong>@RestControllers</strong> that <strong>use different</strong> <strong>MappingJackson2HttpMessageConverter</strong> in Springboot ? ... or is the MappingJackson2HttpMessageConverter common for all @RestController in a spring boot application ?</p>\n\n<p>Basically, the goal would be to use a different MappingJackson2HttpMessageConverter containing a different Jackson ObjectMapper that uses a Jackson MixIn to rename(in the Json) the id to priceId in the 2nd Controller.</p>\n\n<p>What a call to the first controller would do :</p>\n\n<p><a href=\"http://localhost:8080/controller1/price\" rel=\"nofollow noreferrer\">http://localhost:8080/controller1/price</a></p>\n\n<p>{ id: \"id\", description: \"Description\" }</p>\n\n<p>What a call to the second controller would do :</p>\n\n<p><a href=\"http://localhost:8080/controller2/price\" rel=\"nofollow noreferrer\">http://localhost:8080/controller2/price</a></p>\n\n<p>{ priceId: \"id\", description: \"Description\" }</p>\n\n<p>Regards</p>\n\n<pre><code>@SpringBootApplication\npublic class EndpointsApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(EndpointsApplication.class, args);\n}\n\n@Data // Lombok\n@AllArgsConstructor\nclass Price {\n    String id;\n    String description;\n}\n\n@RestController\n@RequestMapping(value = \"/controller1\")\nclass PriceController1 {\n\n    @GetMapping(value = \"/price\")\n    public Price getPrice() {\n        return new Price(\"id\", \"Description\");\n    }\n}\n\n@RestController\n@RequestMapping(value = \"/controller2\")\nclass PriceController2 {\n\n    @GetMapping(value = \"/price\")\n    public Price getPrice() {\n        return new Price(\"id\", \"Description\");\n    }\n}\n\n}\n</code></pre>\n\n<p>GitHub:</p>\n\n<p><a href=\"https://github.com/fdlessard/SpringBootEndpoints\" rel=\"nofollow noreferrer\">https://github.com/fdlessard/SpringBootEndpoints</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8942,"page":1050,"page_size":100}
