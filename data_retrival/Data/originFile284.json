{"items":[{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690427842,"creation_date":1690427842,"answer_id":76776292,"question_id":76776216,"body_markdown":"Check out `ResourceConfiguration#createEnvironmentResource()` newly added in 1.28.0 (https://github.com/open-telemetry/opentelemetry-java/pull/5554)","title":"Retrieve Keys/Values from OTEL_RESOURCE_ATTRIBUTES","body":"<p>Check out <code>ResourceConfiguration#createEnvironmentResource()</code> newly added in 1.28.0 (<a href=\"https://github.com/open-telemetry/opentelemetry-java/pull/5554\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java/pull/5554</a>)</p>\n"}],"owner":{"account_id":18894157,"reputation":3,"user_id":13783720,"display_name":"David Andalcio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76776292,"answer_count":1,"score":0,"last_activity_date":1690427842,"creation_date":1690426407,"question_id":76776216,"body_markdown":"When using Opentelemetry java, is there a way to get the keys and values from OTEL_RESOURCE_ATTRIBUTES?\r\n\r\n I found HostResource, OsResource, etc. but can&#39;t find how to get the custom attributes. How are the values being added to the logs and traces?","title":"Retrieve Keys/Values from OTEL_RESOURCE_ATTRIBUTES","body":"<p>When using Opentelemetry java, is there a way to get the keys and values from OTEL_RESOURCE_ATTRIBUTES?</p>\n<p>I found HostResource, OsResource, etc. but can't find how to get the custom attributes. How are the values being added to the logs and traces?</p>\n"},{"tags":["java","swing","lazy-loading"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690369450,"post_id":76769595,"comment_id":135342992,"body_markdown":"Not entirely sure this will help, but you might consider having a look at something like [this](https://stackoverflow.com/questions/8485893/get-shown-component-in-jscrollpane)","body":"Not entirely sure this will help, but you might consider having a look at something like <a href=\"https://stackoverflow.com/questions/8485893/get-shown-component-in-jscrollpane\">this</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690381241,"post_id":76769595,"comment_id":135345784,"body_markdown":"The images load simultaneously because you have a loop that loads them all at the same time. However, I&#39;m not sure why the application freezes since you appear to be using a Thread to load the images and then use invokeLater() to add each label to the panel. So that should NOT block the EDT. Maybe the issue is that you are trying to create 100 separate Threads to load the image? Note that with your current logic you can&#39;t control the order in which the images are displayed since you can&#39;t control the order in which each Thread finishes executing.","body":"The images load simultaneously because you have a loop that loads them all at the same time. However, I&#39;m not sure why the application freezes since you appear to be using a Thread to load the images and then use invokeLater() to add each label to the panel. So that should NOT block the EDT. Maybe the issue is that you are trying to create 100 separate Threads to load the image? Note that with your current logic you can&#39;t control the order in which the images are displayed since you can&#39;t control the order in which each Thread finishes executing."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690381498,"post_id":76769595,"comment_id":135345851,"body_markdown":"Check out: https://stackoverflow.com/a/67348202/131872 for my attempt to load thumbnail images into a JList. It uses a SwingWorker to load/publish the image. It takes advantage of the ExecutorService which will limit the number of SwingWorkers running to the number of CPU cores available on your system. It will still take a fixed time to load the images but the GUI is not frozen during loading. You can easily test this by resizing the frame and you will see the rows/columns of the JList change during loading. For a quick test you just provide the directory where the image are located.","body":"Check out: <a href=\"https://stackoverflow.com/a/67348202/131872\">stackoverflow.com/a/67348202/131872</a> for my attempt to load thumbnail images into a JList. It uses a SwingWorker to load/publish the image. It takes advantage of the ExecutorService which will limit the number of SwingWorkers running to the number of CPU cores available on your system. It will still take a fixed time to load the images but the GUI is not frozen during loading. You can easily test this by resizing the frame and you will see the rows/columns of the JList change during loading. For a quick test you just provide the directory where the image are located."},{"owner":{"account_id":20678027,"reputation":5,"user_id":17453417,"display_name":"John"},"score":1,"creation_date":1690417722,"post_id":76769595,"comment_id":135352477,"body_markdown":"@camickr [stackoverflow.com/a/67348202/131872](https://stackoverflow.com/a/67348202/131872), this definitely solves my problem regarding why my application freezes. As for the lazy loading, I think I&#39;ll change the way I load my images. I didn&#39;t realize I was loading all of them at the same time. I&#39;ll try to apply the approach shown in the [link](https://stackoverflow.com/questions/8485893/get-shown-component-in-jscrollpane) given by @ MadProgrammer. Thank you very much for responding to my problem.","body":"@camickr <a href=\"https://stackoverflow.com/a/67348202/131872\">stackoverflow.com/a/67348202/131872</a>, this definitely solves my problem regarding why my application freezes. As for the lazy loading, I think I&#39;ll change the way I load my images. I didn&#39;t realize I was loading all of them at the same time. I&#39;ll try to apply the approach shown in the <a href=\"https://stackoverflow.com/questions/8485893/get-shown-component-in-jscrollpane\">link</a> given by @ MadProgrammer. Thank you very much for responding to my problem."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690427169,"creation_date":1690427169,"answer_id":76776250,"question_id":76769595,"body_markdown":"Using some of the suggestions in the link provided by MadProgrammer, I modified the code found in my link from above to do lazy loading.\r\n\r\nThe basics changes are to:\r\n\r\n1. initially load the ListModel with a Thumbnail object that contains the File but a null Icon\r\n2. create a Set to contain all the Files to be loaded\r\n3. add a ChangeListener to the viewport of the scroll pane\r\n4. when the ChangeListener is invoked I get all the indexes of the images currently visible in the viewport. I then check the File of each image to see if it needs to be loaded. If so, I invoke the ThumbnailWorker to load the image (and remove it from the set of files to be loaded).\r\n\r\nHere are the new classes:\r\n\r\n**ThumbnailApp**\r\n\r\n    import java.io.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ThumbnailApp\r\n    {\r\n    \tprivate DefaultListModel&lt;Thumbnail&gt; model = new DefaultListModel&lt;Thumbnail&gt;();\r\n    \tprivate JList&lt;Thumbnail&gt; list = new JList&lt;Thumbnail&gt;(model);\r\n    \tprivate Set&lt;File&gt; filesToBeLoaded = new HashSet&lt;&gt;();\r\n    \tprivate ExecutorService service;\r\n    \r\n    \tpublic ThumbnailApp()\r\n    \t{\r\n    \t\tint processors = Runtime.getRuntime().availableProcessors();\r\n    \t\tservice = Executors.newFixedThreadPool( processors - 2 );\r\n    \t}\r\n    \r\n    \tpublic JPanel createContentPane()\r\n    \t{\r\n    \t\tJPanel cp = new JPanel( new BorderLayout() );\r\n    \r\n    \t\tlist.setCellRenderer( new ThumbnailRenderer&lt;Thumbnail&gt;() );\r\n    \t\tlist.setLayoutOrientation(JList.HORIZONTAL_WRAP);\r\n    \t\tlist.setVisibleRowCount(-1);\r\n    \t\tIcon empty = new EmptyIcon(160, 160);\r\n    \t\tThumbnail prototype = new Thumbnail(new File(&quot;PortugalSpain-000.JPG&quot;), empty);\r\n    \t\tlist.setPrototypeCellValue( prototype );\r\n    \r\n    \t\tJScrollPane scrollPane = new JScrollPane( list );\r\n    \t\tcp.add(scrollPane, BorderLayout.CENTER);\r\n    \r\n    \t\tscrollPane.getViewport().addChangeListener((e) -&gt;\r\n    \t\t{\r\n    \t\t\tint first = list.getFirstVisibleIndex();\r\n    \t\t\tint last = list.getLastVisibleIndex();\r\n    \t\t\tSystem.out.println(first + &quot; : &quot; + last);\r\n    \r\n    \t\t\tif (first == -1) return;\r\n    \r\n    \t\t\tfor (int i = first; i &lt;= last; i++)\r\n    \t\t\t{\r\n    \t\t\t\tThumbnail thumbnail = model.elementAt(i);\r\n    \t\t\t\tFile file = thumbnail.getFile();\r\n    \r\n    \t\t\t\tif (filesToBeLoaded.contains(file))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tfilesToBeLoaded.remove(file);\r\n    \t\t\t\t\tservice.submit( new ThumbnailWorker(thumbnail.getFile(), model, i) );\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (filesToBeLoaded.isEmpty())\r\n    \t\t\t\tservice.shutdown();\r\n    \t\t});\r\n    \r\n    \t\treturn cp;\r\n    \t}\r\n    \r\n    \tpublic void loadImages(File directory)\r\n    \t{\r\n    \t\tnew Thread( () -&gt; createThumbnails(directory) ).start();\r\n    \t}\r\n    \r\n    \tprivate void createThumbnails(File directory)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tFile[] files = directory.listFiles((d, f) -&gt; {return f.endsWith(&quot;.JPG&quot;);});\r\n    \r\n    \t\t\tfor (File file: files)\r\n    \t\t\t{\r\n    \t\t\t\tfilesToBeLoaded.add( file );\r\n    \t\t\t\tThumbnail thumbnail = new Thumbnail(file, null);\r\n    \t\t\t\tmodel.addElement( thumbnail );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(Exception e) { e.printStackTrace(); }\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tThumbnailApp app = new ThumbnailApp();\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;ListDrop&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setContentPane( app.createContentPane() );\r\n    \t\tframe.setSize(1600, 900);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    //\t\tFile directory = new File(&quot;C:/Users/netro/Pictures/TravelSun/2019_01_Cuba&quot;);\r\n    \t\tFile directory = new File(&quot;C:/Users/netro/Pictures/TravelAdventures/2018_PortugalSpain&quot;);\r\n    \t\tapp.loadImages( directory );\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tjavax.swing.SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\r\n    \t}\r\n    }\r\n\r\n**Thumbnail**\r\n\r\n    import java.io.File;\r\n    import javax.swing.Icon;\r\n    \r\n    public class Thumbnail\r\n    {\r\n    \tprivate File file;\r\n    \tprivate Icon icon;\r\n    \r\n    \tpublic Thumbnail(File file, Icon icon)\r\n    \t{\r\n    \t\tthis.file = file;\r\n    \t\tthis.icon = icon;\r\n    \t}\r\n    \r\n    \tpublic Icon getIcon()\r\n    \t{\r\n         \treturn icon;\r\n    \t}\r\n    \r\n    \tpublic void setIcon(Icon icon)\r\n    \t{\r\n    \t\tthis.icon = icon;\r\n    \t}\r\n    \r\n    \tpublic File getFile()\r\n    \t{\r\n    //\t\treturn file.getName();\r\n    \t\treturn file;\r\n    \t}\r\n    }\r\n\r\n**ThumbnailWorker**\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.io.*;\r\n    import java.util.Iterator;\r\n    import javax.imageio.*;\r\n    import javax.imageio.stream.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ThumbnailWorker extends SwingWorker&lt;Image, Void&gt;\r\n    {\r\n    \tprivate File file;\r\n    \tprivate DefaultListModel&lt;Thumbnail&gt; model;\r\n    \tprivate int index;\r\n    \r\n     \tpublic ThumbnailWorker(File file, DefaultListModel&lt;Thumbnail&gt; model, int index)\r\n     \t{\r\n     \t\tthis.file = file;\r\n     \t\tthis.model = model;\r\n     \t\tthis.index = index;\r\n     \t}\r\n    \r\n    \t@Override\r\n    \tprotected Image doInBackground() throws IOException\r\n    \t{\r\n    //\t\tImage image = ImageIO.read( file );\r\n    \r\n    \t\tIterator&lt;ImageReader&gt; readers = ImageIO.getImageReadersByFormatName(&quot;jpg&quot;);\r\n    \t\tImageReader reader = readers.next();\r\n    \t\tImageReadParam irp = reader.getDefaultReadParam();\r\n    //\t\tirp.setSourceSubsampling(10, 10, 0, 0);\r\n    \t\tirp.setSourceSubsampling(5, 5, 0, 0);\r\n    \t\tImageInputStream stream = new FileImageInputStream( file );\r\n    \t\treader.setInput(stream);\r\n    \t\tImage image = reader.read(0, irp);\r\n    \r\n    \t\tint width = 160;\r\n    \t\tint height = 90;\r\n    \r\n    \t\tif (image.getHeight(null) &gt; image.getWidth(null))\r\n    \t\t{\r\n    \t\t\twidth = 90;\r\n    \t\t\theight = 160;\r\n    \t\t}\r\n    \r\n    \t\tBufferedImage scaled = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n    \t\tGraphics2D g2d = scaled.createGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n    \r\n    \t\tg2d.drawImage(image, 0, 0, width, height, null);\r\n    \t\tg2d.dispose();\r\n    \t\timage = null;\r\n    \r\n    \t\treturn scaled;\r\n       }\r\n    \r\n       @Override\r\n       protected void done()\r\n       {\r\n    \t   try\r\n    \t   {\r\n    \t\t   ImageIcon icon = new ImageIcon( get() );\r\n    \t\t   Thumbnail thumbnail = model.get( index );\r\n    \t\t   thumbnail.setIcon( icon );\r\n    \t\t   model.set(index, thumbnail);\r\n    //\t\t   System.out.println(&quot;finished: &quot; + file);\r\n    \t   }\r\n    \t   catch (Exception e)\r\n    \t   {\r\n    \t\t   e.printStackTrace();\r\n    \t   }\r\n       }\r\n    }\r\n\r\n**ThumbnailRenderer**\r\n\r\n    import java.awt.Component;\r\n    import javax.swing.*;\r\n    import javax.swing.border.EmptyBorder;\r\n    \r\n    public class ThumbnailRenderer&lt;E&gt; extends JLabel implements ListCellRenderer&lt;E&gt;\r\n    {\r\n    \tpublic ThumbnailRenderer()\r\n    \t{\r\n    \t\tsetOpaque(true);\r\n    \t\tsetHorizontalAlignment(CENTER);\r\n    \t\tsetVerticalAlignment(CENTER);\r\n    \t\tsetHorizontalTextPosition( JLabel.CENTER );\r\n    \t\tsetVerticalTextPosition( JLabel.BOTTOM );\r\n    \t\tsetBorder( new EmptyBorder(4, 4, 4, 4) );\r\n    \t}\r\n    \r\n    \t/*\r\n    \t *  Display the Thumbnail Icon and file name.\r\n    \t */\r\n    \tpublic Component getListCellRendererComponent(JList&lt;? extends E&gt; list, E value, int index, boolean isSelected, boolean cellHasFocus)\r\n    \t{\r\n    \t\tif (isSelected)\r\n    \t\t{\r\n    \t\t\tsetBackground(list.getSelectionBackground());\r\n    \t\t\tsetForeground(list.getSelectionForeground());\r\n    \t\t}\r\n    \t\t else\r\n    \t\t{\r\n    \t\t\tsetBackground(list.getBackground());\r\n    \t\t\tsetForeground(list.getForeground());\r\n    \t\t}\r\n    \r\n    \t\t//Set the icon and filename\r\n    \r\n    \t\tThumbnail thumbnail = (Thumbnail)value;\r\n    \t\tsetIcon( thumbnail.getIcon() );\r\n    \t\tsetText( thumbnail.getFile().getName() );\r\n    \r\n    //\t\tSystem.out.println(thumbnail.getFileName());\r\n    \r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n\r\n**EmptyIcon**\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class EmptyIcon implements Icon\r\n    {\r\n        private int width;\r\n        private int height;\r\n    \r\n        public EmptyIcon(int width, int height)\r\n        {\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n    \r\n        public int getIconWidth()\r\n        {\r\n            return width;\r\n        }\r\n    \r\n        public int getIconHeight()\r\n        {\r\n            return height;\r\n        }\r\n    \r\n        public void paintIcon(Component c, Graphics g, int x, int y)\r\n        {\r\n        }\r\n    }\r\n\r\nYou might also want to consider removing the ChangeListener from the viewport once the filesToBeLoaded Set is empty.","title":"How to lazy load images in java swing?","body":"<p>Using some of the suggestions in the link provided by MadProgrammer, I modified the code found in my link from above to do lazy loading.</p>\n<p>The basics changes are to:</p>\n<ol>\n<li>initially load the ListModel with a Thumbnail object that contains the File but a null Icon</li>\n<li>create a Set to contain all the Files to be loaded</li>\n<li>add a ChangeListener to the viewport of the scroll pane</li>\n<li>when the ChangeListener is invoked I get all the indexes of the images currently visible in the viewport. I then check the File of each image to see if it needs to be loaded. If so, I invoke the ThumbnailWorker to load the image (and remove it from the set of files to be loaded).</li>\n</ol>\n<p>Here are the new classes:</p>\n<p><strong>ThumbnailApp</strong></p>\n<pre><code>import java.io.*;\nimport java.util.concurrent.*;\nimport java.util.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class ThumbnailApp\n{\n    private DefaultListModel&lt;Thumbnail&gt; model = new DefaultListModel&lt;Thumbnail&gt;();\n    private JList&lt;Thumbnail&gt; list = new JList&lt;Thumbnail&gt;(model);\n    private Set&lt;File&gt; filesToBeLoaded = new HashSet&lt;&gt;();\n    private ExecutorService service;\n\n    public ThumbnailApp()\n    {\n        int processors = Runtime.getRuntime().availableProcessors();\n        service = Executors.newFixedThreadPool( processors - 2 );\n    }\n\n    public JPanel createContentPane()\n    {\n        JPanel cp = new JPanel( new BorderLayout() );\n\n        list.setCellRenderer( new ThumbnailRenderer&lt;Thumbnail&gt;() );\n        list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\n        list.setVisibleRowCount(-1);\n        Icon empty = new EmptyIcon(160, 160);\n        Thumbnail prototype = new Thumbnail(new File(&quot;PortugalSpain-000.JPG&quot;), empty);\n        list.setPrototypeCellValue( prototype );\n\n        JScrollPane scrollPane = new JScrollPane( list );\n        cp.add(scrollPane, BorderLayout.CENTER);\n\n        scrollPane.getViewport().addChangeListener((e) -&gt;\n        {\n            int first = list.getFirstVisibleIndex();\n            int last = list.getLastVisibleIndex();\n            System.out.println(first + &quot; : &quot; + last);\n\n            if (first == -1) return;\n\n            for (int i = first; i &lt;= last; i++)\n            {\n                Thumbnail thumbnail = model.elementAt(i);\n                File file = thumbnail.getFile();\n\n                if (filesToBeLoaded.contains(file))\n                {\n                    filesToBeLoaded.remove(file);\n                    service.submit( new ThumbnailWorker(thumbnail.getFile(), model, i) );\n                }\n            }\n\n            if (filesToBeLoaded.isEmpty())\n                service.shutdown();\n        });\n\n        return cp;\n    }\n\n    public void loadImages(File directory)\n    {\n        new Thread( () -&gt; createThumbnails(directory) ).start();\n    }\n\n    private void createThumbnails(File directory)\n    {\n        try\n        {\n            File[] files = directory.listFiles((d, f) -&gt; {return f.endsWith(&quot;.JPG&quot;);});\n\n            for (File file: files)\n            {\n                filesToBeLoaded.add( file );\n                Thumbnail thumbnail = new Thumbnail(file, null);\n                model.addElement( thumbnail );\n            }\n        }\n        catch(Exception e) { e.printStackTrace(); }\n    }\n\n    private static void createAndShowGUI()\n    {\n        ThumbnailApp app = new ThumbnailApp();\n\n        JFrame frame = new JFrame(&quot;ListDrop&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setContentPane( app.createContentPane() );\n        frame.setSize(1600, 900);\n        frame.setVisible(true);\n\n//      File directory = new File(&quot;C:/Users/netro/Pictures/TravelSun/2019_01_Cuba&quot;);\n        File directory = new File(&quot;C:/Users/netro/Pictures/TravelAdventures/2018_PortugalSpain&quot;);\n        app.loadImages( directory );\n    }\n    public static void main(String[] args)\n    {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\n    }\n}\n</code></pre>\n<p><strong>Thumbnail</strong></p>\n<pre><code>import java.io.File;\nimport javax.swing.Icon;\n\npublic class Thumbnail\n{\n    private File file;\n    private Icon icon;\n\n    public Thumbnail(File file, Icon icon)\n    {\n        this.file = file;\n        this.icon = icon;\n    }\n\n    public Icon getIcon()\n    {\n        return icon;\n    }\n\n    public void setIcon(Icon icon)\n    {\n        this.icon = icon;\n    }\n\n    public File getFile()\n    {\n//      return file.getName();\n        return file;\n    }\n}\n</code></pre>\n<p><strong>ThumbnailWorker</strong></p>\n<pre><code>import java.awt.*;\nimport java.awt.image.*;\nimport java.io.*;\nimport java.util.Iterator;\nimport javax.imageio.*;\nimport javax.imageio.stream.*;\nimport javax.swing.*;\n\npublic class ThumbnailWorker extends SwingWorker&lt;Image, Void&gt;\n{\n    private File file;\n    private DefaultListModel&lt;Thumbnail&gt; model;\n    private int index;\n\n    public ThumbnailWorker(File file, DefaultListModel&lt;Thumbnail&gt; model, int index)\n    {\n        this.file = file;\n        this.model = model;\n        this.index = index;\n    }\n\n    @Override\n    protected Image doInBackground() throws IOException\n    {\n//      Image image = ImageIO.read( file );\n\n        Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReadersByFormatName(&quot;jpg&quot;);\n        ImageReader reader = readers.next();\n        ImageReadParam irp = reader.getDefaultReadParam();\n//      irp.setSourceSubsampling(10, 10, 0, 0);\n        irp.setSourceSubsampling(5, 5, 0, 0);\n        ImageInputStream stream = new FileImageInputStream( file );\n        reader.setInput(stream);\n        Image image = reader.read(0, irp);\n\n        int width = 160;\n        int height = 90;\n\n        if (image.getHeight(null) &gt; image.getWidth(null))\n        {\n            width = 90;\n            height = 160;\n        }\n\n        BufferedImage scaled = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2d = scaled.createGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n\n        g2d.drawImage(image, 0, 0, width, height, null);\n        g2d.dispose();\n        image = null;\n\n        return scaled;\n   }\n\n   @Override\n   protected void done()\n   {\n       try\n       {\n           ImageIcon icon = new ImageIcon( get() );\n           Thumbnail thumbnail = model.get( index );\n           thumbnail.setIcon( icon );\n           model.set(index, thumbnail);\n//         System.out.println(&quot;finished: &quot; + file);\n       }\n       catch (Exception e)\n       {\n           e.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p><strong>ThumbnailRenderer</strong></p>\n<pre><code>import java.awt.Component;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\n\npublic class ThumbnailRenderer&lt;E&gt; extends JLabel implements ListCellRenderer&lt;E&gt;\n{\n    public ThumbnailRenderer()\n    {\n        setOpaque(true);\n        setHorizontalAlignment(CENTER);\n        setVerticalAlignment(CENTER);\n        setHorizontalTextPosition( JLabel.CENTER );\n        setVerticalTextPosition( JLabel.BOTTOM );\n        setBorder( new EmptyBorder(4, 4, 4, 4) );\n    }\n\n    /*\n     *  Display the Thumbnail Icon and file name.\n     */\n    public Component getListCellRendererComponent(JList&lt;? extends E&gt; list, E value, int index, boolean isSelected, boolean cellHasFocus)\n    {\n        if (isSelected)\n        {\n            setBackground(list.getSelectionBackground());\n            setForeground(list.getSelectionForeground());\n        }\n         else\n        {\n            setBackground(list.getBackground());\n            setForeground(list.getForeground());\n        }\n\n        //Set the icon and filename\n\n        Thumbnail thumbnail = (Thumbnail)value;\n        setIcon( thumbnail.getIcon() );\n        setText( thumbnail.getFile().getName() );\n\n//      System.out.println(thumbnail.getFileName());\n\n        return this;\n    }\n}\n</code></pre>\n<p><strong>EmptyIcon</strong></p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class EmptyIcon implements Icon\n{\n    private int width;\n    private int height;\n\n    public EmptyIcon(int width, int height)\n    {\n        this.width = width;\n        this.height = height;\n    }\n\n    public int getIconWidth()\n    {\n        return width;\n    }\n\n    public int getIconHeight()\n    {\n        return height;\n    }\n\n    public void paintIcon(Component c, Graphics g, int x, int y)\n    {\n    }\n}\n</code></pre>\n<p>You might also want to consider removing the ChangeListener from the viewport once the filesToBeLoaded Set is empty.</p>\n"}],"owner":{"account_id":20678027,"reputation":5,"user_id":17453417,"display_name":"John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76776250,"answer_count":1,"score":0,"last_activity_date":1690427169,"creation_date":1690362278,"question_id":76769595,"body_markdown":"I want to load multiple images into a `JPanel`, and I prefer to load them on demand rather than all at once, especially since I&#39;m using `JScrollPane`. Most of the images I load are from direct URLs, which I store in an `array` of `Strings`. I load them one by one in a `for loop` using my `ImageLoader` method\r\n\r\n```\r\nprivate void loadOnlineImages(String[] images, int maxWidth, int maxHeight) {\r\n        imagesPanel.removeAll();\r\n        imagesPanel.setLayout(new WrapLayout(FlowLayout.LEFT));\r\n        footerPanel.setTotalItems(images.length);\r\n\r\n        for (String image : images) {\r\n            ImageLoader onlineImageLoader =\r\n                    new ImageLoader(imagesPanel, footerPanel, image, maxWidth, maxHeight);\r\n            onlineImageLoader.loadImage();\r\n        }\r\n\r\n        imagesPanel.revalidate();\r\n        imagesPanel.repaint();\r\n    }\r\n```\r\n\r\nI tried to use `imagesPanel.isDisplayable` and expected it to load the images only when they&#39;re visible in the `JScrollPane`, but it didn&#39;t work, and all the images still load simultaneously, which freezes the application. Most of the images I load are 10-50 KBs, so when I load 20 images, it doesn&#39;t freeze, but when I load 100, it freezes.\r\n\r\nHere is the `ImageLoader` class used to load the images.\r\n\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport javax.imageio.ImageReader;\r\nimport javax.imageio.stream.ImageInputStream;\r\nimport javax.swing.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.Iterator;\r\n\r\npublic class ImageLoader {\r\n    ProgressListener progressListener;\r\n    JPanel footerPanel;\r\n    JPanel imagesPanel;\r\n    String imageUrl;\r\n    int maxWidth;\r\n    int maxHeight;\r\n\r\n    public ImageLoader(JPanel imagesPanel, JPanel footerPanel, String imageUrl, int maxWidth, int maxHeight) {\r\n        this.imagesPanel = imagesPanel;\r\n        this.imageUrl = imageUrl;\r\n        this.maxWidth = maxWidth;\r\n        this.maxHeight = maxHeight;\r\n        this.footerPanel = footerPanel;\r\n        progressListener = new ProgressListener(footerPanel);\r\n    }\r\n\r\n    // Load the image only when it becomes visible\r\n    public void loadImage() {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                URI uri = URI.create(imageUrl);\r\n                ImageInputStream imageInputStream = ImageIO.createImageInputStream(uri.toURL().openStream());\r\n                Iterator&lt;ImageReader&gt; iterator = ImageIO.getImageReaders(imageInputStream);\r\n                if (iterator.hasNext()) {\r\n                    ImageReader reader = iterator.next();\r\n                    reader.setInput(imageInputStream);\r\n                    reader.addIIOReadProgressListener(progressListener);\r\n                    BufferedImage image = reader.read(reader.getMinIndex());\r\n                    final ImageIcon icon = new ImageIcon(image);\r\n\r\n                    // Check if the image is still required to be shown\r\n                    if (imagesPanel.isDisplayable()) {\r\n                        SwingUtilities.invokeLater(() -&gt; {\r\n                            JLabel imageLabel = new JLabel(IconScaler.createScaledIcon(icon, maxWidth, maxHeight));\r\n                            imagesPanel.add(imageLabel);\r\n                            imagesPanel.revalidate();\r\n                            imagesPanel.repaint();\r\n                        });\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\nThank you so much in advance for your assistance!","title":"How to lazy load images in java swing?","body":"<p>I want to load multiple images into a <code>JPanel</code>, and I prefer to load them on demand rather than all at once, especially since I'm using <code>JScrollPane</code>. Most of the images I load are from direct URLs, which I store in an <code>array</code> of <code>Strings</code>. I load them one by one in a <code>for loop</code> using my <code>ImageLoader</code> method</p>\n<pre><code>private void loadOnlineImages(String[] images, int maxWidth, int maxHeight) {\n        imagesPanel.removeAll();\n        imagesPanel.setLayout(new WrapLayout(FlowLayout.LEFT));\n        footerPanel.setTotalItems(images.length);\n\n        for (String image : images) {\n            ImageLoader onlineImageLoader =\n                    new ImageLoader(imagesPanel, footerPanel, image, maxWidth, maxHeight);\n            onlineImageLoader.loadImage();\n        }\n\n        imagesPanel.revalidate();\n        imagesPanel.repaint();\n    }\n</code></pre>\n<p>I tried to use <code>imagesPanel.isDisplayable</code> and expected it to load the images only when they're visible in the <code>JScrollPane</code>, but it didn't work, and all the images still load simultaneously, which freezes the application. Most of the images I load are 10-50 KBs, so when I load 20 images, it doesn't freeze, but when I load 100, it freezes.</p>\n<p>Here is the <code>ImageLoader</code> class used to load the images.</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.imageio.ImageReader;\nimport javax.imageio.stream.ImageInputStream;\nimport javax.swing.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.util.Iterator;\n\npublic class ImageLoader {\n    ProgressListener progressListener;\n    JPanel footerPanel;\n    JPanel imagesPanel;\n    String imageUrl;\n    int maxWidth;\n    int maxHeight;\n\n    public ImageLoader(JPanel imagesPanel, JPanel footerPanel, String imageUrl, int maxWidth, int maxHeight) {\n        this.imagesPanel = imagesPanel;\n        this.imageUrl = imageUrl;\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this.footerPanel = footerPanel;\n        progressListener = new ProgressListener(footerPanel);\n    }\n\n    // Load the image only when it becomes visible\n    public void loadImage() {\n        new Thread(() -&gt; {\n            try {\n                URI uri = URI.create(imageUrl);\n                ImageInputStream imageInputStream = ImageIO.createImageInputStream(uri.toURL().openStream());\n                Iterator&lt;ImageReader&gt; iterator = ImageIO.getImageReaders(imageInputStream);\n                if (iterator.hasNext()) {\n                    ImageReader reader = iterator.next();\n                    reader.setInput(imageInputStream);\n                    reader.addIIOReadProgressListener(progressListener);\n                    BufferedImage image = reader.read(reader.getMinIndex());\n                    final ImageIcon icon = new ImageIcon(image);\n\n                    // Check if the image is still required to be shown\n                    if (imagesPanel.isDisplayable()) {\n                        SwingUtilities.invokeLater(() -&gt; {\n                            JLabel imageLabel = new JLabel(IconScaler.createScaledIcon(icon, maxWidth, maxHeight));\n                            imagesPanel.add(imageLabel);\n                            imagesPanel.revalidate();\n                            imagesPanel.repaint();\n                        });\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>Thank you so much in advance for your assistance!</p>\n"},{"tags":["java","generics","switch-statement","solid-principles"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1690414693,"post_id":76775440,"comment_id":135352172,"body_markdown":"An example related to the `enum` approach cited is seen [here](https://stackoverflow.com/a/37885601/230513).","body":"An example related to the <code>enum</code> approach cited is seen <a href=\"https://stackoverflow.com/a/37885601/230513\">here</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690420795,"post_id":76775440,"comment_id":135352795,"body_markdown":"Why not make `calculate` a method on the `OperationType` enum, passing it `currentValue` and `newValue`?","body":"Why not make <code>calculate</code> a method on the <code>OperationType</code> enum, passing it <code>currentValue</code> and <code>newValue</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13708502,"reputation":75,"user_id":9891458,"display_name":"OE.omergunr100"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690411400,"creation_date":1690411400,"answer_id":76775490,"question_id":76775440,"body_markdown":"It&#39;s just my preference but you could instead define a functional interface that has an operation method, anytime you want to add a new operation type you just implement this interface with the operation as the function.","title":"How to avoid if-else/switch chains and preserve open/closed principle in Calculator program (java)","body":"<p>It's just my preference but you could instead define a functional interface that has an operation method, anytime you want to add a new operation type you just implement this interface with the operation as the function.</p>\n"},{"tags":[],"owner":{"account_id":10928550,"reputation":666,"user_id":8032508,"accept_rate":38,"display_name":"Jwok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690426897,"creation_date":1690426897,"answer_id":76776238,"question_id":76775440,"body_markdown":"Thanks to trashgod &amp; tgdavies for nudging me in the right direction. I finally wrapped my head around some of the extended capacities that enums are capable of and resolve my question.\r\n\r\n[This youtube video][1] was helpful for me in understanding how to use fields can be used in enums. A little more research on the [original post I referenced][2] as well as [what trashgod linked to][3] helped me understand how to create abstract enum methods and how to overwrite them on enum values.\r\n\r\nFor those who are curious, I&#39;ve posted the final code below. (Turns out I didn&#39;t even need the specific operator classes, as I could handle everything from the enum)\r\n\r\n**Calculator Class**\r\n\r\n    public class Calculator {\r\n    \r\n        private ArrayList&lt;Operation&gt; operations = new ArrayList&lt;Operation&gt;();\r\n        private float currentValue;\r\n    \r\n        public ArrayList&lt;Operation&gt; getOperations(){\r\n            return operations;\r\n        }\r\n    \r\n        public float getCurrentValue(){\r\n            return currentValue;\r\n        }\r\n    \r\n        public Calculator(float initialValue) {\r\n            currentValue = initialValue;\r\n        }\r\n    \r\n        // Because of the enum functionality, the switch statement\r\n        // can be completely removed, simplifying the code as such.\r\n        public Calculator execute(OperationType operationType, float newValue) {\r\n     \r\n            Operation newOperation = new Operation(this.currentValue, operationType, newValue);\r\n            this.currentValue = newOperation.calculate();\r\n            operations.add(newOperation);\r\n    \r\n            return this;\r\n        }\r\n    \r\n    }\r\n\r\n**Enums Class**\r\n\r\n    public enum OperationType {\r\n        add(&quot;added to&quot;) {\r\n            public float calculate(float value1, float value2){\r\n                return value1 + value2;\r\n            }\r\n        },\r\n        subtract(&quot;subtracted from&quot;) {\r\n            public float calculate(float value1, float value2){\r\n                return value1 - value2;\r\n            }\r\n        },\r\n        multiply(&quot;multiplied by&quot;) {\r\n            public float calculate(float value1, float value2){\r\n                return value1 * value2;\r\n            }\r\n        },\r\n        divide(&quot;divided by&quot;) {\r\n            public float calculate(float value1, float value2){\r\n                return value1 / value2;\r\n            }\r\n        };\r\n    \r\n        // This is used for printing purposes down the line.\r\n        // These are populated in the parenthesis next to each enum value\r\n        public final String joinerText;\r\n    \r\n        // This constructor is necessary to make the above string field work\r\n        OperationType(String joinerText){\r\n          this.joinerText = joinerText;\r\n        }\r\n    \r\n        // This declares the method for the enum, which each enum value \r\n        // sets to its own version\r\n        public abstract float calculate(float value1, float value2);\r\n    \r\n    }\r\n\r\n**Operation Class**\r\n\r\n    public class Operation {\r\n        private float value1;\r\n        private float value2;\r\n        private OperationType operationType;\r\n    \r\n        public Operation(float value1, OperationType operationType, float value2){\r\n            this.value1 = value1;\r\n            this.value2 = value2;\r\n            this.operationType = operationType;\r\n        }\r\n    \r\n        public float calculate(){\r\n            return operationType.calculate(this.value1, value2);\r\n        }\r\n    \r\n        public void printInfo(){\r\n            System.out.println(value1 + &quot; &quot; + operationType.joinerText + &quot; &quot; + value2);\r\n        }\r\n    }\r\n\r\n\r\nFor printing out results I used a separate printer method\r\n\r\n    public class PrintHandler {\r\n        \r\n        private Calculator calculator;\r\n    \r\n        public PrintHandler(Calculator calculator){\r\n            this.calculator = calculator;\r\n        }\r\n    \r\n        public void printResults(){\r\n    \r\n            ArrayList&lt;Operation&gt; operations = calculator.getOperations();\r\n    \r\n            for(Operation operation : operations){\r\n                operation.printInfo();\r\n            }\r\n    \r\n            System.out.println(&quot;-----------&quot;);\r\n            System.out.println(&quot;Total: &quot;+calculator.getCurrentValue());\r\n        }\r\n    }\r\n\r\nSo final execution looks like this:\r\n\r\n    Calculator calculator = new Calculator(0);\r\n    \r\n    calculator\r\n    .execute(OperationType.add, 10)\r\n    .execute(OperationType.add, 20)\r\n    .execute(OperationType.subtract, 15)\r\n    .execute(OperationType.multiply, 3)\r\n    .execute(OperationType.divide, 2)\r\n    .execute(OperationType.multiply, 1000);\r\n    \r\n    PrintHandler printer = new PrintHandler(calculator);\r\n    printer.printResults();\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=wq9SJb8VeyM\r\n  [2]: https://stackoverflow.com/questions/30924172/java-way-to-create-an-object-based-on-enum-type\r\n  [3]: https://stackoverflow.com/a/37885601/230513","title":"How to avoid if-else/switch chains and preserve open/closed principle in Calculator program (java)","body":"<p>Thanks to trashgod &amp; tgdavies for nudging me in the right direction. I finally wrapped my head around some of the extended capacities that enums are capable of and resolve my question.</p>\n<p><a href=\"https://www.youtube.com/watch?v=wq9SJb8VeyM\" rel=\"nofollow noreferrer\">This youtube video</a> was helpful for me in understanding how to use fields can be used in enums. A little more research on the <a href=\"https://stackoverflow.com/questions/30924172/java-way-to-create-an-object-based-on-enum-type\">original post I referenced</a> as well as <a href=\"https://stackoverflow.com/a/37885601/230513\">what trashgod linked to</a> helped me understand how to create abstract enum methods and how to overwrite them on enum values.</p>\n<p>For those who are curious, I've posted the final code below. (Turns out I didn't even need the specific operator classes, as I could handle everything from the enum)</p>\n<p><strong>Calculator Class</strong></p>\n<pre><code>public class Calculator {\n\n    private ArrayList&lt;Operation&gt; operations = new ArrayList&lt;Operation&gt;();\n    private float currentValue;\n\n    public ArrayList&lt;Operation&gt; getOperations(){\n        return operations;\n    }\n\n    public float getCurrentValue(){\n        return currentValue;\n    }\n\n    public Calculator(float initialValue) {\n        currentValue = initialValue;\n    }\n\n    // Because of the enum functionality, the switch statement\n    // can be completely removed, simplifying the code as such.\n    public Calculator execute(OperationType operationType, float newValue) {\n \n        Operation newOperation = new Operation(this.currentValue, operationType, newValue);\n        this.currentValue = newOperation.calculate();\n        operations.add(newOperation);\n\n        return this;\n    }\n\n}\n</code></pre>\n<p><strong>Enums Class</strong></p>\n<pre><code>public enum OperationType {\n    add(&quot;added to&quot;) {\n        public float calculate(float value1, float value2){\n            return value1 + value2;\n        }\n    },\n    subtract(&quot;subtracted from&quot;) {\n        public float calculate(float value1, float value2){\n            return value1 - value2;\n        }\n    },\n    multiply(&quot;multiplied by&quot;) {\n        public float calculate(float value1, float value2){\n            return value1 * value2;\n        }\n    },\n    divide(&quot;divided by&quot;) {\n        public float calculate(float value1, float value2){\n            return value1 / value2;\n        }\n    };\n\n    // This is used for printing purposes down the line.\n    // These are populated in the parenthesis next to each enum value\n    public final String joinerText;\n\n    // This constructor is necessary to make the above string field work\n    OperationType(String joinerText){\n      this.joinerText = joinerText;\n    }\n\n    // This declares the method for the enum, which each enum value \n    // sets to its own version\n    public abstract float calculate(float value1, float value2);\n\n}\n</code></pre>\n<p><strong>Operation Class</strong></p>\n<pre><code>public class Operation {\n    private float value1;\n    private float value2;\n    private OperationType operationType;\n\n    public Operation(float value1, OperationType operationType, float value2){\n        this.value1 = value1;\n        this.value2 = value2;\n        this.operationType = operationType;\n    }\n\n    public float calculate(){\n        return operationType.calculate(this.value1, value2);\n    }\n\n    public void printInfo(){\n        System.out.println(value1 + &quot; &quot; + operationType.joinerText + &quot; &quot; + value2);\n    }\n}\n</code></pre>\n<p>For printing out results I used a separate printer method</p>\n<pre><code>public class PrintHandler {\n    \n    private Calculator calculator;\n\n    public PrintHandler(Calculator calculator){\n        this.calculator = calculator;\n    }\n\n    public void printResults(){\n\n        ArrayList&lt;Operation&gt; operations = calculator.getOperations();\n\n        for(Operation operation : operations){\n            operation.printInfo();\n        }\n\n        System.out.println(&quot;-----------&quot;);\n        System.out.println(&quot;Total: &quot;+calculator.getCurrentValue());\n    }\n}\n</code></pre>\n<p>So final execution looks like this:</p>\n<pre><code>Calculator calculator = new Calculator(0);\n\ncalculator\n.execute(OperationType.add, 10)\n.execute(OperationType.add, 20)\n.execute(OperationType.subtract, 15)\n.execute(OperationType.multiply, 3)\n.execute(OperationType.divide, 2)\n.execute(OperationType.multiply, 1000);\n\nPrintHandler printer = new PrintHandler(calculator);\nprinter.printResults();\n</code></pre>\n"}],"owner":{"account_id":10928550,"reputation":666,"user_id":8032508,"accept_rate":38,"display_name":"Jwok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690426897,"creation_date":1690410540,"question_id":76775440,"body_markdown":"**TL;DR**\r\n\r\nWhat is the/a best practice approach to avoid if-else/switch statements when dealing with a calculator functionality that may expand at a later time (e.g. currently does addition/subtraction, room to add the modulo function without violating open/closed SOLID principle).\r\n\r\n\r\n**Background**\r\n\r\nI am working on a calculator program for a Udemy course assignment. The assignment asks us to modify an existing `Calculator` class to reduce the amount of if-else/switch statements. The original project was in Typescript, but I&#39;ve been converting it to Java to see if I can recreate the functionality. Omitting some of the surrounding classes for brevity, the below is the `App` class that executes the calculator functions and prints the results.\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Calculator calculator = new Calculator(0);\r\n\r\n        calculator\r\n        .execute(OperationType.add, 10)\r\n        .execute(OperationType.add, 20)\r\n        .execute(OperationType.subtract, 15)\r\n        .execute(OperationType.multiply, 3)\r\n        .execute(OperationType.divide, 2)\r\n        .execute(OperationType.multiply, 1000);\r\n\r\n        PrintHandler printer = new PrintHandler(calculator);\r\n        printer.printResults();\r\n    }\r\n\r\n}\r\n```\r\nOutput:\r\n\r\n    0.0 added to 10.0\r\n    10.0 added to 20.0\r\n    30.0 subtracted by 15.0\r\n    15.0 multiplied by 3.0\r\n    45.0 divided by 2.0\r\n    22.5 multiplied by 1000.0\r\n    -----------\r\n    Total: 22500.0\r\n\r\n\r\n**Question**\r\n\r\nWhile the code does work, the Calculator&#39;s `execute` method still has a large switch statement (code below) that routes to different class instantiation. I was attempting to simplify the `execute` method by abstracting out actual calculations (addition/subtraction) into separate classes, but I&#39;ve basically just moved that logic around rather than bypassing the need for a switch statement. Since this model violates the open-closed solid principle, I&#39;m wondering how I can implement a solution that follows solid principles and doesn&#39;t require the code to be re-opened in the event of adding a new operation type (e.g. Modulo).\r\n\r\n\r\n    public Calculator execute(OperationType operationType, float newValue) throws Exception {\r\n    \r\n        Operation newOperation;\r\n        // Operation is the interface. SpecifiedOperations is the superclass holding the \r\n        // nested classes for each operation class, which house the logic for the &quot;calculate&quot; \r\n        // method. I could also see putting each operation class in its own class\r\n    \r\n        switch (operationType) {\r\n            case add:\r\n                newOperation = new SpecifiedOperations.AdditionOperation(currentValue, newValue);\r\n                break;\r\n            case subtract:\r\n                newOperation = new SpecifiedOperations.SubtractionOperation(currentValue, newValue);\r\n                break;\r\n            case multiply:\r\n                newOperation = new SpecifiedOperations.MultiplicationOperation(currentValue, newValue);\r\n                break;\r\n            case divide:\r\n                newOperation = new SpecifiedOperations.DivisionOperation(currentValue, newValue);\r\n                break;\r\n            default:\r\n                throw new Exception(&quot;Invalid operation type&quot;);\r\n        }\r\n    \r\n        currentValue = newOperation.calculate();\r\n        operations.add(newOperation);\r\n    \r\n        return this;\r\n    }\r\n\r\n\r\n**What I&#39;ve Tried**\r\n\r\nIn typescript I was able to somewhat achieve my goal via the code below. By mapping the operation type to the type of class, rather than an instance of it, I&#39;m at least removing the need to open any methods and can just modify the map if new operation types come into the equation.\r\n\r\n    const operationGenerationMapper = new Map([\r\n      [OperationType.addition, AdditionOperation],\r\n      [OperationType.subtraction, SubtractionOperation],\r\n      [OperationType.multiplication, MultiplicationOperation],\r\n      [OperationType.division, DivisionOperation],\r\n    ]);\r\n    \r\n    export function generateOperation(\r\n      operationType: OperationType,\r\n      currentValue: number,\r\n      newValue: number\r\n    ): any {\r\n      let newOperation: Operation;\r\n    \r\n      for (let [key, value] of operationGenerationMapper) {\r\n        if (operationType == key) {\r\n          return new value(currentValue, newValue);\r\n        }\r\n      }\r\n    \r\n      return null;\r\n    }\r\n\r\nI found an interesting post titled [Java way to create an object based on enum type][1] that seems to be attempting to get at the same concept, but I&#39;m not experienced enough with Java to modify the code they discussed/provided to my situation. I also wonder if using generics like this is considered &quot;best practice&quot; or just a way to answer the question provided.\r\n\r\n\r\nI&#39;ve also tried looking into factory patterns (https://www.youtube.com/watch?v=EdFq_JIThqM, https://www.youtube.com/watch?v=QNpwWkdFvgQ), but I haven&#39;t quite understood how (or if) those solutions would apply to my scenario.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30924172/java-way-to-create-an-object-based-on-enum-type","title":"How to avoid if-else/switch chains and preserve open/closed principle in Calculator program (java)","body":"<p><strong>TL;DR</strong></p>\n<p>What is the/a best practice approach to avoid if-else/switch statements when dealing with a calculator functionality that may expand at a later time (e.g. currently does addition/subtraction, room to add the modulo function without violating open/closed SOLID principle).</p>\n<p><strong>Background</strong></p>\n<p>I am working on a calculator program for a Udemy course assignment. The assignment asks us to modify an existing <code>Calculator</code> class to reduce the amount of if-else/switch statements. The original project was in Typescript, but I've been converting it to Java to see if I can recreate the functionality. Omitting some of the surrounding classes for brevity, the below is the <code>App</code> class that executes the calculator functions and prints the results.</p>\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n\n        Calculator calculator = new Calculator(0);\n\n        calculator\n        .execute(OperationType.add, 10)\n        .execute(OperationType.add, 20)\n        .execute(OperationType.subtract, 15)\n        .execute(OperationType.multiply, 3)\n        .execute(OperationType.divide, 2)\n        .execute(OperationType.multiply, 1000);\n\n        PrintHandler printer = new PrintHandler(calculator);\n        printer.printResults();\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>0.0 added to 10.0\n10.0 added to 20.0\n30.0 subtracted by 15.0\n15.0 multiplied by 3.0\n45.0 divided by 2.0\n22.5 multiplied by 1000.0\n-----------\nTotal: 22500.0\n</code></pre>\n<p><strong>Question</strong></p>\n<p>While the code does work, the Calculator's <code>execute</code> method still has a large switch statement (code below) that routes to different class instantiation. I was attempting to simplify the <code>execute</code> method by abstracting out actual calculations (addition/subtraction) into separate classes, but I've basically just moved that logic around rather than bypassing the need for a switch statement. Since this model violates the open-closed solid principle, I'm wondering how I can implement a solution that follows solid principles and doesn't require the code to be re-opened in the event of adding a new operation type (e.g. Modulo).</p>\n<pre><code>public Calculator execute(OperationType operationType, float newValue) throws Exception {\n\n    Operation newOperation;\n    // Operation is the interface. SpecifiedOperations is the superclass holding the \n    // nested classes for each operation class, which house the logic for the &quot;calculate&quot; \n    // method. I could also see putting each operation class in its own class\n\n    switch (operationType) {\n        case add:\n            newOperation = new SpecifiedOperations.AdditionOperation(currentValue, newValue);\n            break;\n        case subtract:\n            newOperation = new SpecifiedOperations.SubtractionOperation(currentValue, newValue);\n            break;\n        case multiply:\n            newOperation = new SpecifiedOperations.MultiplicationOperation(currentValue, newValue);\n            break;\n        case divide:\n            newOperation = new SpecifiedOperations.DivisionOperation(currentValue, newValue);\n            break;\n        default:\n            throw new Exception(&quot;Invalid operation type&quot;);\n    }\n\n    currentValue = newOperation.calculate();\n    operations.add(newOperation);\n\n    return this;\n}\n</code></pre>\n<p><strong>What I've Tried</strong></p>\n<p>In typescript I was able to somewhat achieve my goal via the code below. By mapping the operation type to the type of class, rather than an instance of it, I'm at least removing the need to open any methods and can just modify the map if new operation types come into the equation.</p>\n<pre><code>const operationGenerationMapper = new Map([\n  [OperationType.addition, AdditionOperation],\n  [OperationType.subtraction, SubtractionOperation],\n  [OperationType.multiplication, MultiplicationOperation],\n  [OperationType.division, DivisionOperation],\n]);\n\nexport function generateOperation(\n  operationType: OperationType,\n  currentValue: number,\n  newValue: number\n): any {\n  let newOperation: Operation;\n\n  for (let [key, value] of operationGenerationMapper) {\n    if (operationType == key) {\n      return new value(currentValue, newValue);\n    }\n  }\n\n  return null;\n}\n</code></pre>\n<p>I found an interesting post titled <a href=\"https://stackoverflow.com/questions/30924172/java-way-to-create-an-object-based-on-enum-type\">Java way to create an object based on enum type</a> that seems to be attempting to get at the same concept, but I'm not experienced enough with Java to modify the code they discussed/provided to my situation. I also wonder if using generics like this is considered &quot;best practice&quot; or just a way to answer the question provided.</p>\n<p>I've also tried looking into factory patterns (<a href=\"https://www.youtube.com/watch?v=EdFq_JIThqM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=EdFq_JIThqM</a>, <a href=\"https://www.youtube.com/watch?v=QNpwWkdFvgQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=QNpwWkdFvgQ</a>), but I haven't quite understood how (or if) those solutions would apply to my scenario.</p>\n"},{"tags":["java","reflection","minecraft"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690423591,"post_id":76775916,"comment_id":135353031,"body_markdown":"You&#39;re using the wrong tool for the job. Have a look at `java.util.ServiceLoader`. NB ChatGPT is also the wrong tool for the job.","body":"You&#39;re using the wrong tool for the job. Have a look at <code>java.util.ServiceLoader</code>. NB ChatGPT is also the wrong tool for the job."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690424327,"creation_date":1690424327,"answer_id":76776110,"question_id":76775916,"body_markdown":"What you want is in basis __completely impossible__.\r\n\r\nThat&#39;s because of how the ClassLoader API works: A classloader __must__ be capable of loading a resource given a resource name. However, there is no need for a classloader to be able to _list the contents of a directory_ - it doesn&#39;t even have a method for this.\r\n\r\nAnd classloaders are a pluggable concept. You can&#39;t &#39;enumerate every particular kind of classloader&#39; because it&#39;s infinitely extensible.\r\n\r\nIt gets worse: packages are by default &#39;open&#39; in java - any classloader can load things in it if they want. You&#39;re not just having to list all files in a &#39;dir&#39; for a given loader, you have to do it for all loaders, now and forever. Completely impossible.\r\n\r\nYou have two broad options.\r\n\r\n## Sod it, I want to do it\r\n\r\nWhat you _can_ do, is write detectors for various kinds of classloaders and, if the underlying abstraction they represent _does_ support it, write explicit code for that kind of classloader to &#39;list the contents&#39;.\r\n\r\nThis is more practical than it sounds - while classloaders are extensible and any given classloader does not need to support a &#39;list&#39; primitive, in practice just about every classloader reads from disk or from jar, and both of _those_ concepts (folders in jars, dirs on disk) support a &#39;list&#39; concept.\r\n\r\nIt does mean you will have to accept that if your code runs on any classloader you haven&#39;t written a &#39;list&#39; implementation for, it simply cannot work. It also means you can only load all types in a package _given a context_ - &#39;whatever classloader loaded this class, find me all classes in this package that that loader can load and construct them all&#39; - that is doable, _if_ the classloader is a type you know.\r\n\r\nThe easiest way to go about it, is something along these lines:\r\n\r\n* Get a well known resource. Something you know _has_ to exist, in the jar you are interested in. Possibly there is nothing but the entrypoint (other code calls your &#39;.loadAllClassesInPackage(&quot;package.name.here&quot;)` method) can pass along its own class as a base context - now there is something you know. This resource has to exist in the same place as the classes in the package you want to run.\r\n* call `ThatClass.class.getResource(ThatClass.class.getName() + &quot;.class&quot;);`. This gets you a URL object representing the location of that.\r\n* Parse it out. It&#39;ll be `file:///com/foo/bar/pkg/name/ThatClass.class` or `jar:///com/foo/bar/myjarfile.jar!/pkg/name/ThatClass.class`. Figure out the &#39;root&#39; (the dir /com/foo/bar for the first one, the jar file /com/foo/bar/myjarfile.jar for the second).\r\n* Now open that using `Files.newInputStream` or `Files.newDirectoryStream` or however you would list the contents of a any dir on the file system / open any jar file.\r\n* List the contents of the relevant location.\r\n* Now you know the class names. Ask that loader (ContextCLass.class.getClassLoader() will get you this loader) to load them all and construct them using reflection. Consider that there may be abstract classes and the like, that you cannot construct.\r\n\r\n## Do it right\r\n\r\nThe solution to the &#39;cannot list&#39; dilemma _also_ solves the problem that you might want to create a helper type or an abstract class - something you did not intend for this system to &#39;just construct&#39;: The SPI system (Service Provider Interface).\r\n\r\nThe trick is this:\r\n\r\nDecree that a specific file path is to exist with a text file, each line of it containing the full name of a type that &#39;implements some service&#39; - the types you want to construct.\r\n\r\nBecause it&#39;s a specific location and all class loaders can be asked &#39;get me the bytes of this resource&#39;, _you can load it_. You ask any classloader for that specific file, read it as a text file, and now you have a list of class names. Ask the classloader to load each of _those_ and use reflection to construct them.\r\n\r\n__This is the right way__ - it&#39;s used by JDBC drivers, charset impls, security stuff, and more - this is what java has for the general notion of &#39;I have some abstract concept and I want to find all implementations for it - it needs to be pluggable&#39;.\r\n\r\n`java.util.ServiceLoader` is a class that can be used to load them. By convention the &#39;text file&#39; is in `/META-INF/services/com.foo.Bar` where `com.foo.Bar` is the name of an abstract class or interface that all the &#39;service implementations&#39; have to extend/implement.\r\n\r\nSome third party annotation based processors exist where you slap an `@Provider` annotation or similar on any class and the annotation processor will make that file appear automatically as part of the build process, which is pretty optimal. The process for &#39;I want to make a new doohickey&#39; is now: Make a class. extend &#39;Doohickey&#39;. Slap `@Provider` on it. Done. The system will find it and load it.\r\n","title":"How could I run the constructor of all the classes in a package without knowing the names of all of the classes?","body":"<p>What you want is in basis <strong>completely impossible</strong>.</p>\n<p>That's because of how the ClassLoader API works: A classloader <strong>must</strong> be capable of loading a resource given a resource name. However, there is no need for a classloader to be able to <em>list the contents of a directory</em> - it doesn't even have a method for this.</p>\n<p>And classloaders are a pluggable concept. You can't 'enumerate every particular kind of classloader' because it's infinitely extensible.</p>\n<p>It gets worse: packages are by default 'open' in java - any classloader can load things in it if they want. You're not just having to list all files in a 'dir' for a given loader, you have to do it for all loaders, now and forever. Completely impossible.</p>\n<p>You have two broad options.</p>\n<h2>Sod it, I want to do it</h2>\n<p>What you <em>can</em> do, is write detectors for various kinds of classloaders and, if the underlying abstraction they represent <em>does</em> support it, write explicit code for that kind of classloader to 'list the contents'.</p>\n<p>This is more practical than it sounds - while classloaders are extensible and any given classloader does not need to support a 'list' primitive, in practice just about every classloader reads from disk or from jar, and both of <em>those</em> concepts (folders in jars, dirs on disk) support a 'list' concept.</p>\n<p>It does mean you will have to accept that if your code runs on any classloader you haven't written a 'list' implementation for, it simply cannot work. It also means you can only load all types in a package <em>given a context</em> - 'whatever classloader loaded this class, find me all classes in this package that that loader can load and construct them all' - that is doable, <em>if</em> the classloader is a type you know.</p>\n<p>The easiest way to go about it, is something along these lines:</p>\n<ul>\n<li>Get a well known resource. Something you know <em>has</em> to exist, in the jar you are interested in. Possibly there is nothing but the entrypoint (other code calls your '.loadAllClassesInPackage(&quot;package.name.here&quot;)` method) can pass along its own class as a base context - now there is something you know. This resource has to exist in the same place as the classes in the package you want to run.</li>\n<li>call <code>ThatClass.class.getResource(ThatClass.class.getName() + &quot;.class&quot;);</code>. This gets you a URL object representing the location of that.</li>\n<li>Parse it out. It'll be <code>file:///com/foo/bar/pkg/name/ThatClass.class</code> or <code>jar:///com/foo/bar/myjarfile.jar!/pkg/name/ThatClass.class</code>. Figure out the 'root' (the dir /com/foo/bar for the first one, the jar file /com/foo/bar/myjarfile.jar for the second).</li>\n<li>Now open that using <code>Files.newInputStream</code> or <code>Files.newDirectoryStream</code> or however you would list the contents of a any dir on the file system / open any jar file.</li>\n<li>List the contents of the relevant location.</li>\n<li>Now you know the class names. Ask that loader (ContextCLass.class.getClassLoader() will get you this loader) to load them all and construct them using reflection. Consider that there may be abstract classes and the like, that you cannot construct.</li>\n</ul>\n<h2>Do it right</h2>\n<p>The solution to the 'cannot list' dilemma <em>also</em> solves the problem that you might want to create a helper type or an abstract class - something you did not intend for this system to 'just construct': The SPI system (Service Provider Interface).</p>\n<p>The trick is this:</p>\n<p>Decree that a specific file path is to exist with a text file, each line of it containing the full name of a type that 'implements some service' - the types you want to construct.</p>\n<p>Because it's a specific location and all class loaders can be asked 'get me the bytes of this resource', <em>you can load it</em>. You ask any classloader for that specific file, read it as a text file, and now you have a list of class names. Ask the classloader to load each of <em>those</em> and use reflection to construct them.</p>\n<p><strong>This is the right way</strong> - it's used by JDBC drivers, charset impls, security stuff, and more - this is what java has for the general notion of 'I have some abstract concept and I want to find all implementations for it - it needs to be pluggable'.</p>\n<p><code>java.util.ServiceLoader</code> is a class that can be used to load them. By convention the 'text file' is in <code>/META-INF/services/com.foo.Bar</code> where <code>com.foo.Bar</code> is the name of an abstract class or interface that all the 'service implementations' have to extend/implement.</p>\n<p>Some third party annotation based processors exist where you slap an <code>@Provider</code> annotation or similar on any class and the annotation processor will make that file appear automatically as part of the build process, which is pretty optimal. The process for 'I want to make a new doohickey' is now: Make a class. extend 'Doohickey'. Slap <code>@Provider</code> on it. Done. The system will find it and load it.</p>\n"}],"owner":{"account_id":24887277,"reputation":3,"user_id":18759728,"display_name":"Michael Capelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76776110,"answer_count":1,"score":-1,"last_activity_date":1690424327,"creation_date":1690419736,"question_id":76775916,"body_markdown":"I want to make a class that would run the constructor of each class in the package, excluding itself of course. So I would be able to add another class to the package and the constructor of the class would be run without having to go and explicitly call it in the main class. Its for a minecraft plugin so its being compiled into a jar and run that way chat gpt said that made some kind of difference.\r\n\r\nI&#39;ve tried to get the package name and use that to get a path which would look for all of the files using a class loader. I&#39;m able to get a list of the classes in a different project but not in the plugin. \r\n\r\n\r\n```\r\npublic static List&lt;Class&lt;?&gt;&gt; getClassList() {\r\n        List&lt;Class&lt;?&gt;&gt; classList = new ArrayList&lt;&gt;();\r\n        String packageName=Loader.class.getPackage().getName();\r\n        String packagePath = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n\r\n        try {\r\n            java.lang.ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n            if (classLoader == null) {\r\n                throw new ClassNotFoundException(&quot;Unable to get class loader.&quot;);\r\n            }\r\n\r\n            // Get all resources (files and directories) in the package directory\r\n            java.util.Enumeration&lt;java.net.URL&gt; resources = classLoader.getResources(packagePath);\r\n            while (resources.hasMoreElements()) {\r\n                java.net.URL resource = resources.nextElement();\r\n                if (resource.getProtocol().equals(&quot;file&quot;)) {\r\n                    // If the resource is a file, get class objects\r\n                    getClassObjectsFromFile(packageName, resource.getPath(), classList);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return classList;\r\n    }\r\n\r\n    private static void getClassObjectsFromFile(String packageName, String filePath, List&lt;Class&lt;?&gt;&gt; classList)\r\n            throws ClassNotFoundException {\r\n        java.io.File directory = new java.io.File(filePath);\r\n        if (directory.exists()) {\r\n            java.io.File[] files = directory.listFiles();\r\n            if (files != null) {\r\n                for (java.io.File file : files) {\r\n                    if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.class&quot;)) {\r\n                        String className = packageName + &#39;.&#39; + file.getName().substring(0, file.getName().length() - 6);\r\n                        Class&lt;?&gt; clazz = Class.forName(className);\r\n                        classList.add(clazz);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThanks\r\n","title":"How could I run the constructor of all the classes in a package without knowing the names of all of the classes?","body":"<p>I want to make a class that would run the constructor of each class in the package, excluding itself of course. So I would be able to add another class to the package and the constructor of the class would be run without having to go and explicitly call it in the main class. Its for a minecraft plugin so its being compiled into a jar and run that way chat gpt said that made some kind of difference.</p>\n<p>I've tried to get the package name and use that to get a path which would look for all of the files using a class loader. I'm able to get a list of the classes in a different project but not in the plugin.</p>\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassList() {\n        List&lt;Class&lt;?&gt;&gt; classList = new ArrayList&lt;&gt;();\n        String packageName=Loader.class.getPackage().getName();\n        String packagePath = packageName.replace('.', '/');\n\n        try {\n            java.lang.ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n            if (classLoader == null) {\n                throw new ClassNotFoundException(&quot;Unable to get class loader.&quot;);\n            }\n\n            // Get all resources (files and directories) in the package directory\n            java.util.Enumeration&lt;java.net.URL&gt; resources = classLoader.getResources(packagePath);\n            while (resources.hasMoreElements()) {\n                java.net.URL resource = resources.nextElement();\n                if (resource.getProtocol().equals(&quot;file&quot;)) {\n                    // If the resource is a file, get class objects\n                    getClassObjectsFromFile(packageName, resource.getPath(), classList);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return classList;\n    }\n\n    private static void getClassObjectsFromFile(String packageName, String filePath, List&lt;Class&lt;?&gt;&gt; classList)\n            throws ClassNotFoundException {\n        java.io.File directory = new java.io.File(filePath);\n        if (directory.exists()) {\n            java.io.File[] files = directory.listFiles();\n            if (files != null) {\n                for (java.io.File file : files) {\n                    if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.class&quot;)) {\n                        String className = packageName + '.' + file.getName().substring(0, file.getName().length() - 6);\n                        Class&lt;?&gt; clazz = Class.forName(className);\n                        classList.add(clazz);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","swing","user-interface","gridbaglayout"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1690371890,"post_id":76770789,"comment_id":135343508,"body_markdown":"You can use a [JSplitPane](https://docs.oracle.com/javase/tutorial/uiswing/components/splitpane.html) to set the initial dimensions, but the user can change them.","body":"You can use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/splitpane.html\" rel=\"nofollow noreferrer\">JSplitPane</a> to set the initial dimensions, but the user can change them."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690373257,"post_id":76770789,"comment_id":135343815,"body_markdown":"Put the text area into a scroll pane of its own. The text area will want to change its size based on the text","body":"Put the text area into a scroll pane of its own. The text area will want to change its size based on the text"},{"owner":{"account_id":14039797,"reputation":23,"user_id":10141531,"display_name":"apython"},"score":0,"creation_date":1690374037,"post_id":76770789,"comment_id":135343991,"body_markdown":"LineWrap has been set to True and placed in the JScrollPane","body":"LineWrap has been set to True and placed in the JScrollPane"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690405575,"post_id":76770789,"comment_id":135350911,"body_markdown":"*LineWrap has been set to True and placed in the JScrollPane* - so the problem is solved? If not, then post a proper [mre] demonstrating the problem after following the suggestions given here.","body":"<i>LineWrap has been set to True and placed in the JScrollPane</i> - so the problem is solved? If not, then post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem after following the suggestions given here."},{"owner":{"account_id":14039797,"reputation":23,"user_id":10141531,"display_name":"apython"},"score":0,"creation_date":1690412778,"post_id":76770789,"comment_id":135351937,"body_markdown":"I updated the dynamic effects of JTextArea images, I started by adding JScrollPane and LineWrap to True. The problem persists. I&#39;m trying something new. I&#39;m not sure it&#39;ll work. I&#39;m testing it","body":"I updated the dynamic effects of JTextArea images, I started by adding JScrollPane and LineWrap to True. The problem persists. I&#39;m trying something new. I&#39;m not sure it&#39;ll work. I&#39;m testing it"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690414278,"post_id":76770789,"comment_id":135352124,"body_markdown":"(1-) an image tells us nothing about your code. Post your [mre] so we can copy/paste/compile/test the code to see the behaviour you describe.","body":"(1-) an image tells us nothing about your code. Post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can copy/paste/compile/test the code to see the behaviour you describe."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690414527,"post_id":76770789,"comment_id":135352154,"body_markdown":"*JTextArea is always guaranteed to be 40% and JList is always guaranteed to be 60%.* - not of the default layout managers are designed to do this exactly. You can approximate it by using 60/40 as the weightx constraint for the two components. But remember that this weighting only applies to the &quot;extra&quot; space available after each component is displayed at its preferred size. You could use the [Relative Layout](https://tips4java.wordpress.com/2008/11/02/relative-layout/) which is specifically designed to handle relative sizes.","body":"<i>JTextArea is always guaranteed to be 40% and JList is always guaranteed to be 60%.</i> - not of the default layout managers are designed to do this exactly. You can approximate it by using 60/40 as the weightx constraint for the two components. But remember that this weighting only applies to the &quot;extra&quot; space available after each component is displayed at its preferred size. You could use the <a href=\"https://tips4java.wordpress.com/2008/11/02/relative-layout/\" rel=\"nofollow noreferrer\">Relative Layout</a> which is specifically designed to handle relative sizes."},{"owner":{"account_id":14039797,"reputation":23,"user_id":10141531,"display_name":"apython"},"score":0,"creation_date":1690423989,"post_id":76770789,"comment_id":135353062,"body_markdown":"I posted the problematic code, which was caused by JTextArea insert, delete, change events, but I have not yet resolved it.","body":"I posted the problematic code, which was caused by JTextArea insert, delete, change events, but I have not yet resolved it."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690398125,"creation_date":1690398125,"answer_id":76774289,"question_id":76770789,"body_markdown":"One simple, kind of &quot;klugy&quot; solution\r\n\r\n    public MyGridBagLayout extends GridBagLayout {\r\n      public void layoutContainer(Container parent) {\r\n        super.layoutContainer(parent);\r\n        // Now check the TextArea is the taking up the correct amount of space\r\n        // And if not, adjust it and the Component to the right\r\n      }\r\n    }\r\n\r\nLike I&#39;ve already admitted, this is a kludge. But IMO the time you spend learning to master Swing is time better spent learning CSS 3. ","title":"How does java swing fix the percentage size of the JTextArea so that it doesn&#39;t change?","body":"<p>One simple, kind of &quot;klugy&quot; solution</p>\n<pre><code>public MyGridBagLayout extends GridBagLayout {\n  public void layoutContainer(Container parent) {\n    super.layoutContainer(parent);\n    // Now check the TextArea is the taking up the correct amount of space\n    // And if not, adjust it and the Component to the right\n  }\n}\n</code></pre>\n<p>Like I've already admitted, this is a kludge. But IMO the time you spend learning to master Swing is time better spent learning CSS 3.</p>\n"}],"owner":{"account_id":14039797,"reputation":23,"user_id":10141531,"display_name":"apython"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690423881,"creation_date":1690370880,"question_id":76770789,"body_markdown":"I am developing a GUI interface using Java Swing&#39;s GridBagLayout, in which I use JTextArea, which I set to 40% on the left side after adding it to the JScrollPane, and a JList on the right side after adding the JScrollPane to 60%. When I first opened the JTextArea and the JList components were normal, but when I pasted text into the JTextArea, the size of the JTextArea changed, which bothered me for a long time.\r\n\r\nI would like to ask the gods of stackoverflow how to solve this problem. How to guarantee that no matter what I type in JTextArea, no matter how big the form is, JTextArea is always guaranteed to be 40% and JList is always guaranteed to be 60%.\r\n\r\n[![The interface after first opening the program](https://i.stack.imgur.com/E7gdd.png)](https://i.stack.imgur.com/E7gdd.png)\r\n\r\n[![The size of the JTextArea changes after the text is entered](https://i.stack.imgur.com/8aITw.png)](https://i.stack.imgur.com/8aITw.png)\r\n\r\nSometimes, when I maximize the window and minimize it may change for a while, and then for a while JTextArea&#39;s broadband will be stretched out again. It&#39;s really upsetting and I don&#39;t know what to do about it.\r\n\r\nI use GridBagLayout, I don&#39;t know if something is not adjusted properly.\r\n\r\n[![the program code snippet 1](https://i.stack.imgur.com/N2YOB.png)](https://i.stack.imgur.com/N2YOB.png)\r\n\r\n[![the program code snippet 2](https://i.stack.imgur.com/XGd8P.png)](https://i.stack.imgur.com/XGd8P.png)\r\n\r\nAt first, I thought it was the problem of GridBagLayout parameter setting. Other people had set weightx to 1.0, so I also set it to 1.0. In the beginning, I used 0.4 and 0.6. Both are set to 1.0, so that the ratio is 50%, but this does not help, the size of the JTextArea will still be widened after entering the text. I adjusted it back.\r\n\r\n\r\n\r\nOthers say to use new JTextArea(20,10) to specify rows and columns, but I&#39;ve tried that too and it doesn&#39;t work.\r\n\r\n[![I updated the dynamic effect of the JTextArea image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jJdeL.gif\r\n\r\n\r\nI found the reason, this is the code, and the reason is that I added the insert and change and delete listening events to the textArea. I added a function to these events to set the content of the JLabel to the number of words in the TextArea, and then this happened. But I haven&#39;t solved it yet.\r\n\r\n```\r\npackage jlist.demo;\r\n\r\nimport org.fife.ui.rsyntaxtextarea.RSyntaxTextArea;\r\nimport org.fife.ui.rtextarea.RTextArea;\r\nimport org.fife.ui.rtextarea.RTextScrollPane;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport java.awt.*;\r\n\r\npublic class TestWinFrame2 extends JFrame {\r\n\r\n    RTextArea textArea;\r\n    RTextScrollPane scrollForTextArea;\r\n\r\n    RTextArea textArea2;\r\n    RTextScrollPane ScrollForTextArea2;\r\n\r\n    JPanel leftPanel;\r\n\r\n    JList jList;\r\n    JScrollPane listScrollPane;\r\n\r\n    JLabel wordNumberLabel;\r\n    JToolBar toolBar;\r\n\r\n    public TestWinFrame2() {\r\n        GridBagLayout gridBagLayout = new GridBagLayout();\r\n        setLayout(gridBagLayout);\r\n\r\n        toolBar = new JToolBar(JToolBar.HORIZONTAL);\r\n\r\n        // Add the toolbar to the panel, not the frame or contentPane\r\n        GridBagConstraints bag = new GridBagConstraints();\r\n        bag.anchor = GridBagConstraints.NORTHWEST; // Adjust the position of the toolbar\r\n        bag.gridx = 0;\r\n        bag.gridy = 0;\r\n        bag.gridheight = 1;\r\n        bag.gridwidth = 2;\r\n        bag.weightx = 1.0; // Make the toolbar span the whole width of the panel\r\n        bag.fill = GridBagConstraints.HORIZONTAL; // Make the toolbar fill the horizontal space\r\n        wordNumberLabel = new JLabel(&quot;word-count&quot;);\r\n        toolBar.add(wordNumberLabel);\r\n\r\n        add(toolBar, bag);\r\n\r\n\r\n        textArea = new RSyntaxTextArea();\r\n        textArea.setLineWrap(true);\r\n        textArea.setWrapStyleWord(true);\r\n        scrollForTextArea = new RTextScrollPane(textArea);\r\n        GridBagConstraints gbc_ScrollForTextArea = new GridBagConstraints();\r\n        gbc_ScrollForTextArea.anchor = GridBagConstraints.WEST;\r\n        gbc_ScrollForTextArea.fill = GridBagConstraints.BOTH;\r\n        gbc_ScrollForTextArea.gridx = 0;\r\n        gbc_ScrollForTextArea.gridy = 1;\r\n        gbc_ScrollForTextArea.gridheight = 1;\r\n        gbc_ScrollForTextArea.gridwidth = 1;\r\n        gbc_ScrollForTextArea.weightx = 0.3d;\r\n        gbc_ScrollForTextArea.weighty = 0.5d;\r\n        add(scrollForTextArea, gbc_ScrollForTextArea);\r\n\r\n\r\n        textArea2 = new RSyntaxTextArea();\r\n        textArea2.setLineWrap(true);\r\n        textArea2.setWrapStyleWord(true);\r\n        ScrollForTextArea2 = new RTextScrollPane(textArea2);\r\n        textAreaAddInsertListener();\r\n        GridBagConstraints gbc_ScrollForTextArea2 = new GridBagConstraints();\r\n        gbc_ScrollForTextArea2.anchor = GridBagConstraints.WEST;\r\n        gbc_ScrollForTextArea2.fill = GridBagConstraints.BOTH;\r\n        gbc_ScrollForTextArea2.gridx = 0;\r\n        gbc_ScrollForTextArea2.gridy = 2;\r\n        gbc_ScrollForTextArea2.gridheight = 1;\r\n        gbc_ScrollForTextArea2.gridwidth = 1;\r\n        gbc_ScrollForTextArea2.weightx = 0.3d;\r\n        gbc_ScrollForTextArea2.weighty = 0.5d;\r\n        add(ScrollForTextArea2, gbc_ScrollForTextArea2);\r\n\r\n        jList = new JList();\r\n        listScrollPane = new JScrollPane(jList);\r\n        GridBagConstraints gbc_listScrollPane = new GridBagConstraints();\r\n        gbc_listScrollPane.anchor = GridBagConstraints.WEST;\r\n        gbc_listScrollPane.fill = GridBagConstraints.BOTH;\r\n        gbc_listScrollPane.gridx = 1;\r\n        gbc_listScrollPane.gridy = 1;\r\n        gbc_listScrollPane.gridheight = 2;\r\n        gbc_listScrollPane.gridwidth = 1;\r\n        gbc_listScrollPane.weightx = 1.0d;\r\n        gbc_listScrollPane.weighty = 1.0d;\r\n        add(listScrollPane, gbc_listScrollPane);\r\n\r\n\r\n        setSize(1200, 800);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public void textAreaAddInsertListener() {\r\n        textArea.getDocument().addDocumentListener(new DocumentListener() {\r\n            @Override\r\n            public void insertUpdate(DocumentEvent e) {\r\n                System.out.println(&quot;insertUpdate---------------&quot;);\r\n                wordNumberLabel.setText(textArea.getText().length() + &quot;&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void removeUpdate(DocumentEvent e) {\r\n                System.out.println(&quot;removeUpdate---------------&quot;);\r\n                wordNumberLabel.setText(textArea.getText().length() + &quot;&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void changedUpdate(DocumentEvent e) {\r\n                System.out.println(&quot;changedUpdate---------------&quot;);\r\n                wordNumberLabel.setText(textArea.getText().length() + &quot;&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                new TestWinFrame2();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n```","title":"How does java swing fix the percentage size of the JTextArea so that it doesn&#39;t change?","body":"<p>I am developing a GUI interface using Java Swing's GridBagLayout, in which I use JTextArea, which I set to 40% on the left side after adding it to the JScrollPane, and a JList on the right side after adding the JScrollPane to 60%. When I first opened the JTextArea and the JList components were normal, but when I pasted text into the JTextArea, the size of the JTextArea changed, which bothered me for a long time.</p>\n<p>I would like to ask the gods of stackoverflow how to solve this problem. How to guarantee that no matter what I type in JTextArea, no matter how big the form is, JTextArea is always guaranteed to be 40% and JList is always guaranteed to be 60%.</p>\n<p><a href=\"https://i.stack.imgur.com/E7gdd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E7gdd.png\" alt=\"The interface after first opening the program\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8aITw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aITw.png\" alt=\"The size of the JTextArea changes after the text is entered\" /></a></p>\n<p>Sometimes, when I maximize the window and minimize it may change for a while, and then for a while JTextArea's broadband will be stretched out again. It's really upsetting and I don't know what to do about it.</p>\n<p>I use GridBagLayout, I don't know if something is not adjusted properly.</p>\n<p><a href=\"https://i.stack.imgur.com/N2YOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N2YOB.png\" alt=\"the program code snippet 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XGd8P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGd8P.png\" alt=\"the program code snippet 2\" /></a></p>\n<p>At first, I thought it was the problem of GridBagLayout parameter setting. Other people had set weightx to 1.0, so I also set it to 1.0. In the beginning, I used 0.4 and 0.6. Both are set to 1.0, so that the ratio is 50%, but this does not help, the size of the JTextArea will still be widened after entering the text. I adjusted it back.</p>\n<p>Others say to use new JTextArea(20,10) to specify rows and columns, but I've tried that too and it doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/jJdeL.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jJdeL.gif\" alt=\"I updated the dynamic effect of the JTextArea image\" /></a></p>\n<p>I found the reason, this is the code, and the reason is that I added the insert and change and delete listening events to the textArea. I added a function to these events to set the content of the JLabel to the number of words in the TextArea, and then this happened. But I haven't solved it yet.</p>\n<pre><code>package jlist.demo;\n\nimport org.fife.ui.rsyntaxtextarea.RSyntaxTextArea;\nimport org.fife.ui.rtextarea.RTextArea;\nimport org.fife.ui.rtextarea.RTextScrollPane;\n\nimport javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport java.awt.*;\n\npublic class TestWinFrame2 extends JFrame {\n\n    RTextArea textArea;\n    RTextScrollPane scrollForTextArea;\n\n    RTextArea textArea2;\n    RTextScrollPane ScrollForTextArea2;\n\n    JPanel leftPanel;\n\n    JList jList;\n    JScrollPane listScrollPane;\n\n    JLabel wordNumberLabel;\n    JToolBar toolBar;\n\n    public TestWinFrame2() {\n        GridBagLayout gridBagLayout = new GridBagLayout();\n        setLayout(gridBagLayout);\n\n        toolBar = new JToolBar(JToolBar.HORIZONTAL);\n\n        // Add the toolbar to the panel, not the frame or contentPane\n        GridBagConstraints bag = new GridBagConstraints();\n        bag.anchor = GridBagConstraints.NORTHWEST; // Adjust the position of the toolbar\n        bag.gridx = 0;\n        bag.gridy = 0;\n        bag.gridheight = 1;\n        bag.gridwidth = 2;\n        bag.weightx = 1.0; // Make the toolbar span the whole width of the panel\n        bag.fill = GridBagConstraints.HORIZONTAL; // Make the toolbar fill the horizontal space\n        wordNumberLabel = new JLabel(&quot;word-count&quot;);\n        toolBar.add(wordNumberLabel);\n\n        add(toolBar, bag);\n\n\n        textArea = new RSyntaxTextArea();\n        textArea.setLineWrap(true);\n        textArea.setWrapStyleWord(true);\n        scrollForTextArea = new RTextScrollPane(textArea);\n        GridBagConstraints gbc_ScrollForTextArea = new GridBagConstraints();\n        gbc_ScrollForTextArea.anchor = GridBagConstraints.WEST;\n        gbc_ScrollForTextArea.fill = GridBagConstraints.BOTH;\n        gbc_ScrollForTextArea.gridx = 0;\n        gbc_ScrollForTextArea.gridy = 1;\n        gbc_ScrollForTextArea.gridheight = 1;\n        gbc_ScrollForTextArea.gridwidth = 1;\n        gbc_ScrollForTextArea.weightx = 0.3d;\n        gbc_ScrollForTextArea.weighty = 0.5d;\n        add(scrollForTextArea, gbc_ScrollForTextArea);\n\n\n        textArea2 = new RSyntaxTextArea();\n        textArea2.setLineWrap(true);\n        textArea2.setWrapStyleWord(true);\n        ScrollForTextArea2 = new RTextScrollPane(textArea2);\n        textAreaAddInsertListener();\n        GridBagConstraints gbc_ScrollForTextArea2 = new GridBagConstraints();\n        gbc_ScrollForTextArea2.anchor = GridBagConstraints.WEST;\n        gbc_ScrollForTextArea2.fill = GridBagConstraints.BOTH;\n        gbc_ScrollForTextArea2.gridx = 0;\n        gbc_ScrollForTextArea2.gridy = 2;\n        gbc_ScrollForTextArea2.gridheight = 1;\n        gbc_ScrollForTextArea2.gridwidth = 1;\n        gbc_ScrollForTextArea2.weightx = 0.3d;\n        gbc_ScrollForTextArea2.weighty = 0.5d;\n        add(ScrollForTextArea2, gbc_ScrollForTextArea2);\n\n        jList = new JList();\n        listScrollPane = new JScrollPane(jList);\n        GridBagConstraints gbc_listScrollPane = new GridBagConstraints();\n        gbc_listScrollPane.anchor = GridBagConstraints.WEST;\n        gbc_listScrollPane.fill = GridBagConstraints.BOTH;\n        gbc_listScrollPane.gridx = 1;\n        gbc_listScrollPane.gridy = 1;\n        gbc_listScrollPane.gridheight = 2;\n        gbc_listScrollPane.gridwidth = 1;\n        gbc_listScrollPane.weightx = 1.0d;\n        gbc_listScrollPane.weighty = 1.0d;\n        add(listScrollPane, gbc_listScrollPane);\n\n\n        setSize(1200, 800);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public void textAreaAddInsertListener() {\n        textArea.getDocument().addDocumentListener(new DocumentListener() {\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                System.out.println(&quot;insertUpdate---------------&quot;);\n                wordNumberLabel.setText(textArea.getText().length() + &quot;&quot;);\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                System.out.println(&quot;removeUpdate---------------&quot;);\n                wordNumberLabel.setText(textArea.getText().length() + &quot;&quot;);\n            }\n\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n                System.out.println(&quot;changedUpdate---------------&quot;);\n                wordNumberLabel.setText(textArea.getText().length() + &quot;&quot;);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new TestWinFrame2();\n            }\n        });\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","sqlite","database-cursor"],"answers":[{"tags":[],"owner":{"account_id":26155381,"reputation":1,"user_id":19842673,"display_name":"Vivek Kumar Sahani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690030323,"creation_date":1690030323,"answer_id":76743879,"question_id":76740476,"body_markdown":"To call both the `COLUMN_USERNAME` from `table_user` and `COLUMN_TIMER_RESULT_FOR_4` from `table_timer`, you&#39;ll need to modify the `getAllUsers` method in the `UserDAO` class to retrieve the necessary data from both tables and construct the `User` objects accordingly. Here&#39;s how you can achieve it:\r\n\r\n1. Update the `User` class to include the `COLUMN_TIMER_RESULT_FOR_4` field:\r\n\r\n```java\r\npublic class User {\r\n    // Other fields\r\n    private int timerResultFor4;\r\n\r\n    public User(int usernameId, String username, int timerResultFor4) {\r\n        this.usernameId = usernameId;\r\n        this.username = username;\r\n        this.timerResultFor4 = timerResultFor4;\r\n    }\r\n\r\n    // Other methods and getters/setters\r\n    // ...\r\n\r\n    public int getTimerResultFor4() {\r\n        return timerResultFor4;\r\n    }\r\n\r\n    public void setTimerResultFor4(int timerResultFor4) {\r\n        this.timerResultFor4 = timerResultFor4;\r\n    }\r\n}\r\n```\r\n\r\n2. Modify the `UserDAO` class to join the two tables and retrieve the required data:\r\n\r\n```java\r\npublic class UserDAO {\r\n    // Other methods and variables\r\n    // ...\r\n\r\n    // Modified getAllUsers method with JOIN query\r\n    public List&lt;User&gt; getAllUsers() {\r\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n\r\n        // Create the SQL query with a JOIN to fetch data from both tables\r\n        String query = &quot;SELECT u.&quot; + COLUMN_USERNAME + &quot;, t.&quot; + COLUMN_TIMER_RESULT_FOR_4 +\r\n                &quot; FROM &quot; + TABLE_USERS + &quot; u &quot; +\r\n                &quot; LEFT JOIN &quot; + TABLE_TIMER + &quot; t ON u.&quot; + COLUMN_USERNAME + &quot; = t.&quot; + COLUMN_USERNAME;\r\n\r\n        // Execute the query and get the cursor\r\n        Cursor cursor = database.rawQuery(query, null);\r\n\r\n        // Loop through the cursor(result set) and create new User objects\r\n        while (cursor.moveToNext()) {\r\n            String username = cursor.getString(cursor.getColumnIndex(COLUMN_USERNAME));\r\n            int timerResultFor4 = cursor.getInt(cursor.getColumnIndex(COLUMN_TIMER_RESULT_FOR_4));\r\n\r\n            User user = new User(-1, username, timerResultFor4);\r\n            userList.add(user);\r\n        }\r\n\r\n        cursor.close();\r\n        return userList;\r\n    }\r\n}\r\n```\r\n\r\nWith these changes, the `getAllUsers` method will return a list of `User` objects, each containing the `COLUMN_USERNAME` from `table_user` and the corresponding `COLUMN_TIMER_RESULT_FOR_4` from `table_timer`. Please note that you may need to adjust the column names and other parts of the code based on your specific table and column names.","title":"How to show a username + column_time using an SQLite cursor","body":"<p>To call both the <code>COLUMN_USERNAME</code> from <code>table_user</code> and <code>COLUMN_TIMER_RESULT_FOR_4</code> from <code>table_timer</code>, you'll need to modify the <code>getAllUsers</code> method in the <code>UserDAO</code> class to retrieve the necessary data from both tables and construct the <code>User</code> objects accordingly. Here's how you can achieve it:</p>\n<ol>\n<li>Update the <code>User</code> class to include the <code>COLUMN_TIMER_RESULT_FOR_4</code> field:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    // Other fields\n    private int timerResultFor4;\n\n    public User(int usernameId, String username, int timerResultFor4) {\n        this.usernameId = usernameId;\n        this.username = username;\n        this.timerResultFor4 = timerResultFor4;\n    }\n\n    // Other methods and getters/setters\n    // ...\n\n    public int getTimerResultFor4() {\n        return timerResultFor4;\n    }\n\n    public void setTimerResultFor4(int timerResultFor4) {\n        this.timerResultFor4 = timerResultFor4;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Modify the <code>UserDAO</code> class to join the two tables and retrieve the required data:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDAO {\n    // Other methods and variables\n    // ...\n\n    // Modified getAllUsers method with JOIN query\n    public List&lt;User&gt; getAllUsers() {\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n\n        // Create the SQL query with a JOIN to fetch data from both tables\n        String query = &quot;SELECT u.&quot; + COLUMN_USERNAME + &quot;, t.&quot; + COLUMN_TIMER_RESULT_FOR_4 +\n                &quot; FROM &quot; + TABLE_USERS + &quot; u &quot; +\n                &quot; LEFT JOIN &quot; + TABLE_TIMER + &quot; t ON u.&quot; + COLUMN_USERNAME + &quot; = t.&quot; + COLUMN_USERNAME;\n\n        // Execute the query and get the cursor\n        Cursor cursor = database.rawQuery(query, null);\n\n        // Loop through the cursor(result set) and create new User objects\n        while (cursor.moveToNext()) {\n            String username = cursor.getString(cursor.getColumnIndex(COLUMN_USERNAME));\n            int timerResultFor4 = cursor.getInt(cursor.getColumnIndex(COLUMN_TIMER_RESULT_FOR_4));\n\n            User user = new User(-1, username, timerResultFor4);\n            userList.add(user);\n        }\n\n        cursor.close();\n        return userList;\n    }\n}\n</code></pre>\n<p>With these changes, the <code>getAllUsers</code> method will return a list of <code>User</code> objects, each containing the <code>COLUMN_USERNAME</code> from <code>table_user</code> and the corresponding <code>COLUMN_TIMER_RESULT_FOR_4</code> from <code>table_timer</code>. Please note that you may need to adjust the column names and other parts of the code based on your specific table and column names.</p>\n"}],"owner":{"account_id":12941918,"reputation":1,"user_id":9357448,"display_name":"Fatkul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690423219,"creation_date":1689964882,"question_id":76740476,"body_markdown":"Right now, I&#39;m confused with the SQLite cursor. Before I made it using the recyclerview method, but in my code it uses a cursor.\r\nI can&#39;t show the column, and I&#39;m confused what should I add.\r\n\r\nIn my case I have *table_user* and *table_timer*.\r\nInside *table_user*, it has COLUMN_USERNAME, and inside the table timer, it has COLUMN_TIMER_RESULT_FOR_4.\r\nIf I want to call both of them, how do I do it?\r\n\r\nLeaderboard\r\n\r\n```\r\nprivate void populateUsernamesList(){\r\n    // Create a list of strings\r\n    List&lt;String&gt; userStrings = new ArrayList&lt;String&gt;(0);\r\n    usernames = userList.getAllUsers();\r\n\r\n    // Enters all the usernames to the array\r\n    for(int i = 0; i&lt;usernames.size(); i++){\r\n        userStrings.add(usernames.get(i).toString());\r\n    }\r\n\r\n    // Enters them to array adapter\r\n    ArrayAdapter&lt;String&gt; arrayAdapter =\r\n            new ArrayAdapter&lt;String&gt;(this, R.layout.listview_element, userStrings);\r\n    usernamesListView.setAdapter(arrayAdapter);\r\n}\r\n```\r\n\r\nUserList\r\n\r\n```\r\npublic UserList(Context c) {\r\n    userList = new ArrayList&lt;User&gt;(0);\r\n    userDataSource = new UserDAO(c);\r\n    userDataSource.open();\r\n}\r\n\r\n//Methods fot userList interact with the userDAo to get, create, check, delete and return All users\r\npublic User getUser(int userID){\r\n    return userDataSource.getUserById(userID);\r\n}\r\n\r\npublic boolean createUser(User u){\r\n    return userDataSource.createUser(u);\r\n}\r\n\r\npublic boolean checkUsername(String u){\r\n    return userDataSource.checkUsername(u);\r\n}\r\n\r\npublic Boolean deleteUser(User u){\r\n  return  userDataSource.deleteUser(u);\r\n}\r\n\r\npublic Boolean deleteResults(User u){ return userDataSource.deleteResults(u); }\r\n\r\npublic List&lt;User&gt; getAllUsers(){\r\n    userList = userDataSource.getAllUsers();\r\n    return userList;\r\n}\r\n```\r\n\r\nUser\r\n\r\n```\r\npublic User(int usernameId, String username, Integer level4) {\r\n    this.usernameId = usernameId;\r\n    this.username = username;\r\n    //this.level4 = level4;\r\n}\r\n\r\n//toString method for printing the contents of a class object\r\n@Override\r\npublic String toString() {\r\n    return username ;\r\n}\r\n\r\n//\r\n//public int getLevel4() {return level4    ;}\r\n\r\n// Getters and setters\r\npublic int getUsernameId() {\r\n    return usernameId;\r\n}\r\n\r\npublic void setUsernameId(int usernameId) {\r\n    this.usernameId = usernameId;\r\n}\r\n\r\npublic String getUsername() {\r\n    return username;\r\n}\r\n\r\npublic void setUsername(String username) {\r\n    this.username = username;\r\n}\r\n```\r\n\r\nUserDAO\r\n\r\n```\r\npublic List&lt;User&gt; getAllUsers() {\r\n    List&lt;User&gt; userList = new ArrayList&lt;User&gt;(0);\r\n\r\n    // Get data from the db\r\n    Cursor cursor = database.query(TABLE_USERS, allColumns, null, null, null, null, null);\r\n    cursor.moveToFirst();\r\n\r\n    // Loop through the cursor(result set) and create new usernames objects\r\n    while (!cursor.isAfterLast()) {\r\n\r\n        User user = cursorToUser(cursor);\r\n        userList.add(user);\r\n        cursor.moveToNext();\r\n    }\r\n    return userList;\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to show a username + column_time using an SQLite cursor","body":"<p>Right now, I'm confused with the SQLite cursor. Before I made it using the recyclerview method, but in my code it uses a cursor.\nI can't show the column, and I'm confused what should I add.</p>\n<p>In my case I have <em>table_user</em> and <em>table_timer</em>.\nInside <em>table_user</em>, it has COLUMN_USERNAME, and inside the table timer, it has COLUMN_TIMER_RESULT_FOR_4.\nIf I want to call both of them, how do I do it?</p>\n<p>Leaderboard</p>\n<pre><code>private void populateUsernamesList(){\n    // Create a list of strings\n    List&lt;String&gt; userStrings = new ArrayList&lt;String&gt;(0);\n    usernames = userList.getAllUsers();\n\n    // Enters all the usernames to the array\n    for(int i = 0; i&lt;usernames.size(); i++){\n        userStrings.add(usernames.get(i).toString());\n    }\n\n    // Enters them to array adapter\n    ArrayAdapter&lt;String&gt; arrayAdapter =\n            new ArrayAdapter&lt;String&gt;(this, R.layout.listview_element, userStrings);\n    usernamesListView.setAdapter(arrayAdapter);\n}\n</code></pre>\n<p>UserList</p>\n<pre><code>public UserList(Context c) {\n    userList = new ArrayList&lt;User&gt;(0);\n    userDataSource = new UserDAO(c);\n    userDataSource.open();\n}\n\n//Methods fot userList interact with the userDAo to get, create, check, delete and return All users\npublic User getUser(int userID){\n    return userDataSource.getUserById(userID);\n}\n\npublic boolean createUser(User u){\n    return userDataSource.createUser(u);\n}\n\npublic boolean checkUsername(String u){\n    return userDataSource.checkUsername(u);\n}\n\npublic Boolean deleteUser(User u){\n  return  userDataSource.deleteUser(u);\n}\n\npublic Boolean deleteResults(User u){ return userDataSource.deleteResults(u); }\n\npublic List&lt;User&gt; getAllUsers(){\n    userList = userDataSource.getAllUsers();\n    return userList;\n}\n</code></pre>\n<p>User</p>\n<pre><code>public User(int usernameId, String username, Integer level4) {\n    this.usernameId = usernameId;\n    this.username = username;\n    //this.level4 = level4;\n}\n\n//toString method for printing the contents of a class object\n@Override\npublic String toString() {\n    return username ;\n}\n\n//\n//public int getLevel4() {return level4    ;}\n\n// Getters and setters\npublic int getUsernameId() {\n    return usernameId;\n}\n\npublic void setUsernameId(int usernameId) {\n    this.usernameId = usernameId;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n</code></pre>\n<p>UserDAO</p>\n<pre><code>public List&lt;User&gt; getAllUsers() {\n    List&lt;User&gt; userList = new ArrayList&lt;User&gt;(0);\n\n    // Get data from the db\n    Cursor cursor = database.query(TABLE_USERS, allColumns, null, null, null, null, null);\n    cursor.moveToFirst();\n\n    // Loop through the cursor(result set) and create new usernames objects\n    while (!cursor.isAfterLast()) {\n\n        User user = cursorToUser(cursor);\n        userList.add(user);\n        cursor.moveToNext();\n    }\n    return userList;\n}\n</code></pre>\n"},{"tags":["java","docker","kubernetes","oracle11g"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1690382346,"post_id":76772207,"comment_id":135346088,"body_markdown":"I would say that is kind of expected: since there is no tty, bash process exits immediately which causes container to shutdown. The dirty hack is to replace last `/bin/bash` with `sleep infinity`, however that is worth to think about how to make it more robust and reliable, take official Oracle docker image for example.","body":"I would say that is kind of expected: since there is no tty, bash process exits immediately which causes container to shutdown. The dirty hack is to replace last <code>&#47;bin&#47;bash</code> with <code>sleep infinity</code>, however that is worth to think about how to make it more robust and reliable, take official Oracle docker image for example."},{"owner":{"account_id":17557636,"reputation":3,"user_id":12736766,"display_name":"baevBAbY"},"score":0,"creation_date":1690441187,"post_id":76772207,"comment_id":135354852,"body_markdown":"thank , this help me a lot, cheers","body":"thank , this help me a lot, cheers"}],"answers":[{"tags":[],"owner":{"account_id":16376583,"reputation":33,"user_id":11828535,"display_name":"pumkineater69"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690401492,"creation_date":1690401492,"answer_id":76774645,"question_id":76772207,"body_markdown":"The problem is with the command execution.\r\nContainer will stop as soon as your startup process is finished.\r\nYou&#39;ll be required to run your process forever.\r\nIf it&#39;s a http server,then it&#39;ll run forever.\r\nSo it&#39;s better to start the main service or you can put \r\n\r\n    command: [&quot;sleep&quot;,&quot;infinity&quot;]\r\nIn your container spec inside your deployment yaml.\r\nPlease refer this\r\nhttps://devopscube.com/keep-docker-container-running/","title":"oracle database cannot run on kubernetes","body":"<p>The problem is with the command execution.\nContainer will stop as soon as your startup process is finished.\nYou'll be required to run your process forever.\nIf it's a http server,then it'll run forever.\nSo it's better to start the main service or you can put</p>\n<pre><code>command: [&quot;sleep&quot;,&quot;infinity&quot;]\n</code></pre>\n<p>In your container spec inside your deployment yaml.\nPlease refer this\n<a href=\"https://devopscube.com/keep-docker-container-running/\" rel=\"nofollow noreferrer\">https://devopscube.com/keep-docker-container-running/</a></p>\n"}],"owner":{"account_id":17557636,"reputation":3,"user_id":12736766,"display_name":"baevBAbY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76774645,"answer_count":1,"score":-1,"last_activity_date":1690422831,"creation_date":1690380783,"question_id":76772207,"body_markdown":"I use local docker image and deploy oracle database to kubernetes from .yaml file with StatefulSet.\r\n\r\nThe image is 100GB , after running with kubectl apply -f file.yaml , database is mounted and when finish the installation the container is shutting down  and the pod create new container with same result and so on.\r\n\r\nIf i run the container from docker with docker run ..... the container work and i can enter and use the database , only in k8s cluster get the problem , Its tested from 3 computers , local and on cloud(eks) the result is the same.\r\n\r\nDockerfile is :\r\n`CMD exec  $ORACLE_HOME/startup.sh`\r\n\r\nstartup.sh file is:\r\n\r\n   \r\n\r\n    sqlplus SYS/SYS as sysdba &lt;&lt;EOF\r\n       startup\r\n       exit\r\n    EOF\r\n    /bin/bash\r\n\r\nIn the logs i see starting up and then finished the exit; command and pod instance crashed:\r\n`Database mounted.\r\nORA-03113: end-of-file on communication channel\r\nProcess ID: 124\r\nSession ID: 261 Serial number:23381\r\nSQL&gt; Disconnected from Oracle Database 19c Standard Edition 2 Release 19.0.0.0.0 - Production`\r\n\r\nI expect someone to give me advice.","title":"oracle database cannot run on kubernetes","body":"<p>I use local docker image and deploy oracle database to kubernetes from .yaml file with StatefulSet.</p>\n<p>The image is 100GB , after running with kubectl apply -f file.yaml , database is mounted and when finish the installation the container is shutting down  and the pod create new container with same result and so on.</p>\n<p>If i run the container from docker with docker run ..... the container work and i can enter and use the database , only in k8s cluster get the problem , Its tested from 3 computers , local and on cloud(eks) the result is the same.</p>\n<p>Dockerfile is :\n<code>CMD exec  $ORACLE_HOME/startup.sh</code></p>\n<p>startup.sh file is:</p>\n<pre><code>sqlplus SYS/SYS as sysdba &lt;&lt;EOF\n   startup\n   exit\nEOF\n/bin/bash\n</code></pre>\n<p>In the logs i see starting up and then finished the exit; command and pod instance crashed:\n<code>Database mounted. ORA-03113: end-of-file on communication channel Process ID: 124 Session ID: 261 Serial number:23381 SQL&gt; Disconnected from Oracle Database 19c Standard Edition 2 Release 19.0.0.0.0 - Production</code></p>\n<p>I expect someone to give me advice.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1609959735,"post_id":65600526,"comment_id":115986365,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1609959836,"post_id":65600526,"comment_id":115986401,"body_markdown":"&quot;My app is crashing&quot; Please edit your question to include: 1) the exact error message and its complete stack trace from the logcat output, 2) a single code snippet that we can run to reproduce the problem. Right now we have no way to know how the four lines are related to each other. 3) The JSON that your are reading (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu () on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data). 4) The code that reads the snapshot.","body":"&quot;My app is crashing&quot; Please edit your question to include: 1) the exact error message and its complete stack trace from the logcat output, 2) a single code snippet that we can run to reproduce the problem. Right now we have no way to know how the four lines are related to each other. 3) The JSON that your are reading (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu () on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>. 4) The code that reads the snapshot."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1610016965,"post_id":65600526,"comment_id":116002395,"body_markdown":"What type is the `score` property in the database?","body":"What type is the <code>score</code> property in the database?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1610131091,"post_id":65600526,"comment_id":116044867,"body_markdown":"Without the additional information we asked for, it is impossible to help here. I&#39;m voting to close this question for lacking enough debug information.","body":"Without the additional information we asked for, it is impossible to help here. I&#39;m voting to close this question for lacking enough debug information."}],"answers":[{"tags":[],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690422372,"creation_date":1690422372,"answer_id":76776034,"question_id":65600526,"body_markdown":"This should resolve your issue:\r\n\r\n    int name = dataSnapshot.child(&quot;score&quot;).getValue(Integer.class);","title":"How to correctly retrieve int value from firebase realtime database to textview?","body":"<p>This should resolve your issue:</p>\n<pre><code>int name = dataSnapshot.child(&quot;score&quot;).getValue(Integer.class);\n</code></pre>\n"}],"owner":{"account_id":10635219,"reputation":119,"user_id":7832132,"display_name":"SBS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690422372,"creation_date":1609954130,"question_id":65600526,"body_markdown":"I have got two values in my database under child: name and score. \r\n\r\nTo fetch name I used this line:\r\n\r\n    String name = (String) dataSnapshot.child(&quot;name&quot;).getValue();\r\n\r\nThen display to TextView as:\r\n\r\n    tv1.setText(name)\r\n\r\nThis works well.\r\n\r\nThen the score is my problem, it is an integer as it is posted to the database. I tried to retrieve it as:\r\n\r\n    int name = (int) dataSnapshot.child(&quot;score&quot;).getValue();\r\n\r\nThen display it as:\r\n\r\n    tv1.setText(score)\r\n\r\n\r\nMy app is crashing and this is because of the int line for retrieving score. How can i correct this line, or what is the best way to retrieve integers?","title":"How to correctly retrieve int value from firebase realtime database to textview?","body":"<p>I have got two values in my database under child: name and score.</p>\n<p>To fetch name I used this line:</p>\n<pre><code>String name = (String) dataSnapshot.child(&quot;name&quot;).getValue();\n</code></pre>\n<p>Then display to TextView as:</p>\n<pre><code>tv1.setText(name)\n</code></pre>\n<p>This works well.</p>\n<p>Then the score is my problem, it is an integer as it is posted to the database. I tried to retrieve it as:</p>\n<pre><code>int name = (int) dataSnapshot.child(&quot;score&quot;).getValue();\n</code></pre>\n<p>Then display it as:</p>\n<pre><code>tv1.setText(score)\n</code></pre>\n<p>My app is crashing and this is because of the int line for retrieving score. How can i correct this line, or what is the best way to retrieve integers?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690405572,"post_id":76774582,"comment_id":135350908,"body_markdown":"A common resolve in this case is to add a _&quot;load more items&quot;_ option as the last item in the list.  I imagine there may be better alternatives, though.","body":"A common resolve in this case is to add a <i>&quot;load more items&quot;</i> option as the last item in the list.  I imagine there may be better alternatives, though."},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1690419979,"post_id":76774582,"comment_id":135352716,"body_markdown":"I do not understand. @Reilas","body":"I do not understand. @Reilas"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690470710,"post_id":76774582,"comment_id":135361461,"body_markdown":"So, for example, you start the list with 10 items, and the 11th item will be a button to add 10 more items.","body":"So, for example, you start the list with 10 items, and the 11th item will be a button to add 10 more items."},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1690504989,"post_id":76774582,"comment_id":135366913,"body_markdown":"OK, let me try something with this idea","body":"OK, let me try something with this idea"}],"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690420883,"creation_date":1690400813,"question_id":76774582,"body_markdown":"How can I populate recyclerview from sqlite database as the user scrolls through the recyclerview. The data from the database are so many and it slow down the performance of the phone. \r\n\r\n\r\nIs there away I can populate the recyclerview bit by bit instead of populating it at once? \r\n\r\nThanks in advance. \r\n\r\nThe recyclerview is working but due to the large amount of data to the recyclerview the app takes time to load. \r\n\r\nDatabaseHelper \r\n```\r\npublic ArrayList&lt;AuthorInfo&gt; getAuthorInfo() {\r\nArrayList arraylist = new ArrayList() \r\nSqlitedatabase dB;\r\ndB = this.getReadableDatabase() ;\r\nCursor c = dB.rawQuery(&quot;SELECT * FROM table&quot;, null);\r\nif (c.moveToFirst() ) {\r\n    do {\r\nAuthorInfo authorInfo = new AuthorInfo();\r\nauthorInfo.getName(c.getString(0));\r\nauthorInfo.getSubject(c.getString(0));\r\narraylist.add(authorInfo);\r\n     } while (c.moveToNext()) \r\n  } \r\n   cursor.close();\r\n   return arraylist;\r\n} \r\n```\r\n\r\nMainActivity\r\n\r\n```\r\n...\r\nArrayList&lt;AuthorInfo&gt; authorInfo;\r\n....\r\n\r\nDatabaseHelper database = new DatabaseHelper(getApplicationContext()); \r\nauthorInfo = database.getAuthorInfo;\r\nRecyclerviewAdapter adapter = new RecyclerviewAdapter(getApplicationContext(), authorInfo);\r\nrecyclerviewer.setAdapter(adapter); \r\n\r\n....\r\n```","title":"How to populate recyclerview as the user scrolls down from sqlite database","body":"<p>How can I populate recyclerview from sqlite database as the user scrolls through the recyclerview. The data from the database are so many and it slow down the performance of the phone.</p>\n<p>Is there away I can populate the recyclerview bit by bit instead of populating it at once?</p>\n<p>Thanks in advance.</p>\n<p>The recyclerview is working but due to the large amount of data to the recyclerview the app takes time to load.</p>\n<p>DatabaseHelper</p>\n<pre><code>public ArrayList&lt;AuthorInfo&gt; getAuthorInfo() {\nArrayList arraylist = new ArrayList() \nSqlitedatabase dB;\ndB = this.getReadableDatabase() ;\nCursor c = dB.rawQuery(&quot;SELECT * FROM table&quot;, null);\nif (c.moveToFirst() ) {\n    do {\nAuthorInfo authorInfo = new AuthorInfo();\nauthorInfo.getName(c.getString(0));\nauthorInfo.getSubject(c.getString(0));\narraylist.add(authorInfo);\n     } while (c.moveToNext()) \n  } \n   cursor.close();\n   return arraylist;\n} \n</code></pre>\n<p>MainActivity</p>\n<pre><code>...\nArrayList&lt;AuthorInfo&gt; authorInfo;\n....\n\nDatabaseHelper database = new DatabaseHelper(getApplicationContext()); \nauthorInfo = database.getAuthorInfo;\nRecyclerviewAdapter adapter = new RecyclerviewAdapter(getApplicationContext(), authorInfo);\nrecyclerviewer.setAdapter(adapter); \n\n....\n</code></pre>\n"},{"tags":["javascript","java","json","jackson-databind"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1690363725,"post_id":76769583,"comment_id":135341794,"body_markdown":"ChatGPT is right: the second listing isnt valid JSON. There are JavaScript interpreters that can be embedded in Java applications such as [Nashorn](https://openjdk.org/projects/nashorn/), but it feels like theres some important context missing from the question. How do you need to process this? What would invoke the event handler?","body":"ChatGPT is right: the second listing isnt valid JSON. There are JavaScript interpreters that can be embedded in Java applications such as <a href=\"https://openjdk.org/projects/nashorn/\" rel=\"nofollow noreferrer\">Nashorn</a>, but it feels like theres some important context missing from the question. How do you need to process this? What would invoke the event handler?"},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1690364653,"post_id":76769583,"comment_id":135341995,"body_markdown":"@TimMooret we have a UI that has a textarea input where users can input the sample JSON. Since this is a free text area, we are doing validation that why we&#39;re parsing the JSON input. So basically, we&#39;re just validating if the JSON passed by the user is valid.","body":"@TimMooret we have a UI that has a textarea input where users can input the sample JSON. Since this is a free text area, we are doing validation that why we&#39;re parsing the JSON input. So basically, we&#39;re just validating if the JSON passed by the user is valid."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690365111,"post_id":76769583,"comment_id":135342098,"body_markdown":"Valid JSON or valid JavaScript? JSON is a subset of JavaScript syntax, and the second example is not valid JSON.","body":"Valid JSON or valid JavaScript? JSON is a subset of JavaScript syntax, and the second example is not valid JSON."},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1690365971,"post_id":76769583,"comment_id":135342294,"body_markdown":"@TimMoore you are right, JavaScript for that matter.","body":"@TimMoore you are right, JavaScript for that matter."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1690386831,"post_id":76769583,"comment_id":135347175,"body_markdown":"If its JavaScript, then you would do `eval`, but with all the warnings that go with using `eval` on user input. Do you really want to give them the possibility to inject malicious code?","body":"If its JavaScript, then you would do <code>eval</code>, but with all the warnings that go with using <code>eval</code> on user input. Do you really want to give them the possibility to inject malicious code?"},{"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"score":0,"creation_date":1690419630,"post_id":76769583,"comment_id":135352681,"body_markdown":"@trincot you are right. Allowing users to provide functions is a bad idea.","body":"@trincot you are right. Allowing users to provide functions is a bad idea."}],"answers":[{"tags":[],"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690419573,"creation_date":1690419573,"answer_id":76775912,"question_id":76769583,"body_markdown":"Had another thought about this. It is a **bad idea** to allow users to input functions because it will lead to security vulnerabilities.\r\n\r\nI ended up having flags instead.\r\n```\r\n{\r\n  &quot;headerName&quot;: &quot;Column1&quot;,\r\n  &quot;field&quot;: &quot;COLUMN1&quot;,\r\n  &quot;openPopup&quot;: &quot;true&quot;\r\n}\r\n```\r\n\r\nDepending on the flag passed, pre-defined functions will get triggered.","title":"Is there a way for com.fasterxml.jackson.databind.ObjectMapper to process JavaScript Object?","body":"<p>Had another thought about this. It is a <strong>bad idea</strong> to allow users to input functions because it will lead to security vulnerabilities.</p>\n<p>I ended up having flags instead.</p>\n<pre><code>{\n  &quot;headerName&quot;: &quot;Column1&quot;,\n  &quot;field&quot;: &quot;COLUMN1&quot;,\n  &quot;openPopup&quot;: &quot;true&quot;\n}\n</code></pre>\n<p>Depending on the flag passed, pre-defined functions will get triggered.</p>\n"}],"owner":{"account_id":8558409,"reputation":144,"user_id":6413141,"display_name":"ericute"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76775912,"answer_count":1,"score":0,"last_activity_date":1690419573,"creation_date":1690362174,"question_id":76769583,"body_markdown":"We have an existing function that uses com.fasterxml.jackson.databind.ObjectMapper and formats the following JSON as com.fasterxml.jackson.databind.JsonNode.\r\n```\r\n{\r\n  &quot;headerName&quot;: &quot;Column1&quot;,\r\n  &quot;field&quot;: &quot;COLUMN1&quot;,\r\n}\r\n```\r\n\r\nAll good and it is working as expected. Now, we want to introduce events handling. To do that, we need to add a property in the JSON that makes it no longer a JSON but a JavaScript Object. Example below.\r\n```\r\n{\r\n  &quot;headerName&quot;: &quot;Column1&quot;,\r\n  &quot;field&quot;: &quot;COLUMN1&quot;,\r\n  &quot;onCellDoubleClicked&quot;: (event) =&gt; {\r\n     this.onCellDoubleClicked(this, event, &quot;COLUMN1&quot;);\r\n   }\r\n}\r\n```\r\n\r\nIt is now throwing the following exception:\r\n```\r\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;(&#39; (code 40)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n at [Source: (String)&quot; \r\n```\r\n\r\nI checked if Chat GPT will be useful and I got the following message:\r\n[![enter image description here][1]][1]\r\n\r\nIs there an alternative to com.fasterxml.jackson so I can process this JavaScript Object?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bu7Qa.png","title":"Is there a way for com.fasterxml.jackson.databind.ObjectMapper to process JavaScript Object?","body":"<p>We have an existing function that uses com.fasterxml.jackson.databind.ObjectMapper and formats the following JSON as com.fasterxml.jackson.databind.JsonNode.</p>\n<pre><code>{\n  &quot;headerName&quot;: &quot;Column1&quot;,\n  &quot;field&quot;: &quot;COLUMN1&quot;,\n}\n</code></pre>\n<p>All good and it is working as expected. Now, we want to introduce events handling. To do that, we need to add a property in the JSON that makes it no longer a JSON but a JavaScript Object. Example below.</p>\n<pre><code>{\n  &quot;headerName&quot;: &quot;Column1&quot;,\n  &quot;field&quot;: &quot;COLUMN1&quot;,\n  &quot;onCellDoubleClicked&quot;: (event) =&gt; {\n     this.onCellDoubleClicked(this, event, &quot;COLUMN1&quot;);\n   }\n}\n</code></pre>\n<p>It is now throwing the following exception:</p>\n<pre><code>Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('(' (code 40)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n at [Source: (String)&quot; \n</code></pre>\n<p>I checked if Chat GPT will be useful and I got the following message:\n<a href=\"https://i.stack.imgur.com/bu7Qa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bu7Qa.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there an alternative to com.fasterxml.jackson so I can process this JavaScript Object?</p>\n"},{"tags":["java","math","trigonometry","accelerometer","kalman-filter"],"comments":[{"owner":{"account_id":26879596,"reputation":1092,"user_id":20460267,"display_name":"Simon Goater"},"score":0,"creation_date":1690376822,"post_id":76771227,"comment_id":135344818,"body_markdown":"I don&#39;t understand what angleX-Z mean. You start with what are presumably cartesian accelerations acX-Z yes? Are you trying to calculate accelerations in spherical polar coordinates?","body":"I don&#39;t understand what angleX-Z mean. You start with what are presumably cartesian accelerations acX-Z yes? Are you trying to calculate accelerations in spherical polar coordinates?"},{"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"score":0,"creation_date":1690382798,"post_id":76771227,"comment_id":135346217,"body_markdown":"Hi, sorry if it&#39;s not clear. I think the exact names of these angles/values in English are yaw, roll and pitch. What I need is deduce what are yaw, roll and pitch from a 3 dimensional acceleration, and its contrary. Deduce a &quot;possible&quot; acceleration from given yaw, roll and pitch data. Acceleration expressed in m/s^2 and yaw, pitch and roll in degrees.","body":"Hi, sorry if it&#39;s not clear. I think the exact names of these angles/values in English are yaw, roll and pitch. What I need is deduce what are yaw, roll and pitch from a 3 dimensional acceleration, and its contrary. Deduce a &quot;possible&quot; acceleration from given yaw, roll and pitch data. Acceleration expressed in m/s^2 and yaw, pitch and roll in degrees."},{"owner":{"account_id":26879596,"reputation":1092,"user_id":20460267,"display_name":"Simon Goater"},"score":0,"creation_date":1690390199,"post_id":76771227,"comment_id":135347984,"body_markdown":"An object has 6 degrees of freedom in 3D space, 3 for position and 3 for orientation. Acceleration in m/s^2 pertains to position. Are you sure you&#39;re trying to do something that makes sense?","body":"An object has 6 degrees of freedom in 3D space, 3 for position and 3 for orientation. Acceleration in m/s^2 pertains to position. Are you sure you&#39;re trying to do something that makes sense?"}],"answers":[{"tags":[],"owner":{"account_id":37536,"reputation":23193,"user_id":107331,"accept_rate":80,"display_name":"Daniel Martin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690419280,"creation_date":1690387482,"answer_id":76773158,"question_id":76771227,"body_markdown":"First off, what do you want your angles to measure? From the calculation that you have in `calculateAngles`, what you seem to be calculating is this:\r\n\r\n&lt;dl&gt;&lt;dt&gt;angleX&lt;/dt&gt;&lt;dd&gt;the angle between the &quot;x&quot; accelerometer measure and the floor. (that is, when the &quot;x&quot; measure is pointing straight up you get 90&#176;, when the &quot;x&quot; measure is pointed at the horizon you get 0&#176; and when the &quot;x&quot; measure is pointed at the floor you get -90&#176;)&lt;/dd&gt;\r\n&lt;dt&gt;angleY&lt;/dt&gt;&lt;dd&gt;the angle between the &quot;y&quot; accelerometer measure and the floor. (that is, when the &quot;y&quot; measure is pointing straight up you get 90&#176;, etc, same as with &quot;x&quot;)&lt;/dd&gt;\r\n&lt;dt&gt;angleZ&lt;/dt&gt;&lt;dd&gt;the angle between the &quot;z&quot; accelerometer measure and straight up. (that is, when the &quot;z&quot; measure is pointing straight up you get 0&#176;, when the &quot;z&quot; measure is pointed at the horizon you get 90&#176; and when the &quot;z&quot; measure is pointed at the floor you get 180&#176;)&lt;/dd&gt;&lt;/dl&gt;\r\n\r\nGiven your followup comment, I&#39;m going to assume that these are actually the angles you wish to measure and continue from there.\r\n\r\nNow, because of the function you&#39;re using in that method (`atan2`), multiplying all three acceleration measures by the same constant has no effect; therefore, the `* G;` step can be omitted in `calculateAngles`.\r\n\r\nSo first, I&#39;d change that function to just:\r\n\r\n       private double[] calculateAngles(double acX, double acY, double acZ) {\r\n           double angleX = Math.atan2(acX, Math.sqrt(acY * acY + acZ * acZ)) * RAD_TO_DEG;\r\n           double angleY = Math.atan2(acY, Math.sqrt(acX * acX + acZ * acZ)) * RAD_TO_DEG;\r\n           double angleZ = Math.atan2(Math.sqrt(acX * acX + acY * acY), acZ) * RAD_TO_DEG;\r\n            \r\n           return new double[] { angleX, angleY, angleZ };\r\n       }\r\n\r\nNow, to reverse the calculation, we&#39;re going to need to use the fact that when we&#39;re done we should have that the sum of the three accelerations squared should equal `G` squared. Also, we&#39;ll want to use the fact that to reverse\r\n\r\n     angle = Math.atan2(y, x);\r\n\r\nYou generally shouldn&#39;t use the `tan` function, but should instead use:\r\n\r\n     x = Math.cos(angle);\r\n     y = Math.sin(angle);\r\n\r\n     // then multiple x and y by some scaling factor\r\n\r\nSo:\r\n\r\n    private static double[] calculateAccelerations(double angleX, double angleY, double angleZ) {\r\n\r\n        // Convertir les angles en radians\r\n        double radianAngleX = angleX * DEG_TO_RAD;\r\n        double radianAngleY = angleY * DEG_TO_RAD;\r\n        double radianAngleZ = angleZ * DEG_TO_RAD;\r\n\r\n        double acX = Math.sin(radianAngleX);\r\n        double acY = Math.sin(radianAngleY);\r\n        double acZ = Math.cos(radianAngleZ);\r\n\r\n        // use this if you need the sum of the acceleration squared to be G squared\r\n        //double scaling = G / Math.sqrt(acX*acX + acY*acY + acZ*acZ);\r\n        // EDIT Cheloute: with scaling = 1, that works perfectly for my use case\r\n        double scaling = 1;\r\n\r\n        return new double[]{acX*scaling, acY*scaling, acZ*scaling};\r\n    }\r\n\r\nNote though that although the `calculateAccelerations` function will spit back values for any three input angles, that doesn&#39;t mean that any three angle combinations are actually valid; for example, the way you&#39;ve got your measurements set up, `angleY` is restricted to being between `-abs(abs(angleX)-90)` and `abs(abs(angleX)-90)`, and given `angleX` and `angleY`, I&#39;m pretty sure it&#39;s possible to determine `angleZ` or at least narrow it down to only two possibilities.\r\n\r\nHowever, if you feed `calculateAccelerations` angles that came out of `calculateAngles` you should get back the original accelerations, or close enough.","title":"How to estimate angles from acceleration and acceleration from angles in 3 dimensions?","body":"<p>First off, what do you want your angles to measure? From the calculation that you have in <code>calculateAngles</code>, what you seem to be calculating is this:</p>\n<dl><dt>angleX</dt><dd>the angle between the \"x\" accelerometer measure and the floor. (that is, when the \"x\" measure is pointing straight up you get 90, when the \"x\" measure is pointed at the horizon you get 0 and when the \"x\" measure is pointed at the floor you get -90)</dd>\n<dt>angleY</dt><dd>the angle between the \"y\" accelerometer measure and the floor. (that is, when the \"y\" measure is pointing straight up you get 90, etc, same as with \"x\")</dd>\n<dt>angleZ</dt><dd>the angle between the \"z\" accelerometer measure and straight up. (that is, when the \"z\" measure is pointing straight up you get 0, when the \"z\" measure is pointed at the horizon you get 90 and when the \"z\" measure is pointed at the floor you get 180)</dd></dl>\n<p>Given your followup comment, I'm going to assume that these are actually the angles you wish to measure and continue from there.</p>\n<p>Now, because of the function you're using in that method (<code>atan2</code>), multiplying all three acceleration measures by the same constant has no effect; therefore, the <code>* G;</code> step can be omitted in <code>calculateAngles</code>.</p>\n<p>So first, I'd change that function to just:</p>\n<pre><code>   private double[] calculateAngles(double acX, double acY, double acZ) {\n       double angleX = Math.atan2(acX, Math.sqrt(acY * acY + acZ * acZ)) * RAD_TO_DEG;\n       double angleY = Math.atan2(acY, Math.sqrt(acX * acX + acZ * acZ)) * RAD_TO_DEG;\n       double angleZ = Math.atan2(Math.sqrt(acX * acX + acY * acY), acZ) * RAD_TO_DEG;\n        \n       return new double[] { angleX, angleY, angleZ };\n   }\n</code></pre>\n<p>Now, to reverse the calculation, we're going to need to use the fact that when we're done we should have that the sum of the three accelerations squared should equal <code>G</code> squared. Also, we'll want to use the fact that to reverse</p>\n<pre><code> angle = Math.atan2(y, x);\n</code></pre>\n<p>You generally shouldn't use the <code>tan</code> function, but should instead use:</p>\n<pre><code> x = Math.cos(angle);\n y = Math.sin(angle);\n\n // then multiple x and y by some scaling factor\n</code></pre>\n<p>So:</p>\n<pre><code>private static double[] calculateAccelerations(double angleX, double angleY, double angleZ) {\n\n    // Convertir les angles en radians\n    double radianAngleX = angleX * DEG_TO_RAD;\n    double radianAngleY = angleY * DEG_TO_RAD;\n    double radianAngleZ = angleZ * DEG_TO_RAD;\n\n    double acX = Math.sin(radianAngleX);\n    double acY = Math.sin(radianAngleY);\n    double acZ = Math.cos(radianAngleZ);\n\n    // use this if you need the sum of the acceleration squared to be G squared\n    //double scaling = G / Math.sqrt(acX*acX + acY*acY + acZ*acZ);\n    // EDIT Cheloute: with scaling = 1, that works perfectly for my use case\n    double scaling = 1;\n\n    return new double[]{acX*scaling, acY*scaling, acZ*scaling};\n}\n</code></pre>\n<p>Note though that although the <code>calculateAccelerations</code> function will spit back values for any three input angles, that doesn't mean that any three angle combinations are actually valid; for example, the way you've got your measurements set up, <code>angleY</code> is restricted to being between <code>-abs(abs(angleX)-90)</code> and <code>abs(abs(angleX)-90)</code>, and given <code>angleX</code> and <code>angleY</code>, I'm pretty sure it's possible to determine <code>angleZ</code> or at least narrow it down to only two possibilities.</p>\n<p>However, if you feed <code>calculateAccelerations</code> angles that came out of <code>calculateAngles</code> you should get back the original accelerations, or close enough.</p>\n"}],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76773158,"answer_count":1,"score":2,"last_activity_date":1690419280,"creation_date":1690373896,"question_id":76771227,"body_markdown":"I saw several questions about this in lots of forums, but none of them resulted me clear enough or precise enough for my needs. Or I just didn&#39;t understand them, that&#39;s another possibility.\r\n\r\nWell, consider several accelerometer measures (3 dimensions) (m/s^2) taken by a device (that&#39;s not an android device, and no real time processing is needed here). I&#39;m reading these values from a text file and need to convert them to degrees.\r\n\r\nThe first code I tried was :\r\n\r\n       private static final double G = 9.81;\r\n       private static final double RAD_TO_DEG = 180.0 / Math.PI;\r\n        \r\n       private double[] calculateAngles(double acX, double acY, double acZ) {\r\n        \t\r\n           double accelX = acX * G;\r\n           double accelY = acY * G;\r\n           double accelZ = acZ * G;\r\n    \r\n    \t   double angleX = Math.atan2(accelX, Math.sqrt(accelY * accelY + accelZ * accelZ)) * RAD_TO_DEG;\r\n    \t   double angleY = Math.atan2(accelY, Math.sqrt(accelX * accelX + accelZ * accelZ)) * RAD_TO_DEG;\r\n    \t   double angleZ = Math.atan2(Math.sqrt(accelX * accelX + accelY * accelY), accelZ) * RAD_TO_DEG;\r\n    \t\t\r\n    \t   return new double[] { angleX, angleY, angleZ };\r\n       }\r\n\r\nThis code &quot;seems&quot; to give me a good result. At least, credible. I put my accelerometer in a fixed position, noticed the 3 angles (***UPDATE***: I&#39;m talking about yaw, pitch and roll) given by a random measure, turned the accelerometer by 90&#186; (approx) and one of the angles added this more or less 90&#186; to its value. \r\n\r\nNevertheless, the inverse operation I tried doesn&#39;t work at all :\r\n    \r\n    private static final double RAD_TO_DEG = 180.0 / Math.PI;\r\n    private static double[] calculateAccelerations(double angleX, double angleY, double angleZ) {\r\n\r\n            // Convertir les angles en radians\r\n            double radianAngleX = angleX * DEG_TO_RAD;\r\n            double radianAngleY = angleY * DEG_TO_RAD;\r\n            double radianAngleZ = angleZ * DEG_TO_RAD;\r\n    \r\n            double accelX = Math.tan(radianAngleX) / Math.sqrt(1.0 + Math.tan(radianAngleX) * Math.tan(radianAngleX) + Math.tan(radianAngleY) * Math.tan(radianAngleY));\r\n            double accelY = Math.tan(radianAngleY) / Math.sqrt(1.0 + Math.tan(radianAngleX) * Math.tan(radianAngleX) + Math.tan(radianAngleY) * Math.tan(radianAngleY));\r\n            double accelZ = Math.tan(radianAngleZ) * Math.sqrt(1.0 + Math.tan(radianAngleX) * Math.tan(radianAngleX) + Math.tan(radianAngleY) * Math.tan(radianAngleY));\r\n    \r\n            return new double[]{accelX/G, accelY/G, accelZ/G};\r\n        }\r\n\r\nIf I take my initial accelerometer values, estimate yaw, pitch and roll, convert them to accelerations... how to say... Inventing the values would be more accurate. The first question is... why? I can&#39;t see my mistake here. \r\n\r\nGoogling for alternatives, Kalman filter has been the most relevant result I could find to do this. I found an implementation in common-math3 (Apache), but I can&#39;t understand how this is working nor if it really applies here.\r\n\r\nWhat I need would be read those accelerometer values and estimate what would have been those values with the accelerometer positioned in a different way. To do that, I need to be able to &quot;estimate&quot; what are the accelerometer position, add the angles I need to add to virtually change its orientation, and go back to accelerometer values. \r\n\r\nIdeally a Java suggestion, but any help, including agnostic explanation, is welcome! ","title":"How to estimate angles from acceleration and acceleration from angles in 3 dimensions?","body":"<p>I saw several questions about this in lots of forums, but none of them resulted me clear enough or precise enough for my needs. Or I just didn't understand them, that's another possibility.</p>\n<p>Well, consider several accelerometer measures (3 dimensions) (m/s^2) taken by a device (that's not an android device, and no real time processing is needed here). I'm reading these values from a text file and need to convert them to degrees.</p>\n<p>The first code I tried was :</p>\n<pre><code>   private static final double G = 9.81;\n   private static final double RAD_TO_DEG = 180.0 / Math.PI;\n    \n   private double[] calculateAngles(double acX, double acY, double acZ) {\n        \n       double accelX = acX * G;\n       double accelY = acY * G;\n       double accelZ = acZ * G;\n\n       double angleX = Math.atan2(accelX, Math.sqrt(accelY * accelY + accelZ * accelZ)) * RAD_TO_DEG;\n       double angleY = Math.atan2(accelY, Math.sqrt(accelX * accelX + accelZ * accelZ)) * RAD_TO_DEG;\n       double angleZ = Math.atan2(Math.sqrt(accelX * accelX + accelY * accelY), accelZ) * RAD_TO_DEG;\n        \n       return new double[] { angleX, angleY, angleZ };\n   }\n</code></pre>\n<p>This code &quot;seems&quot; to give me a good result. At least, credible. I put my accelerometer in a fixed position, noticed the 3 angles (<em><strong>UPDATE</strong></em>: I'm talking about yaw, pitch and roll) given by a random measure, turned the accelerometer by 90 (approx) and one of the angles added this more or less 90 to its value.</p>\n<p>Nevertheless, the inverse operation I tried doesn't work at all :</p>\n<pre><code>private static final double RAD_TO_DEG = 180.0 / Math.PI;\nprivate static double[] calculateAccelerations(double angleX, double angleY, double angleZ) {\n\n        // Convertir les angles en radians\n        double radianAngleX = angleX * DEG_TO_RAD;\n        double radianAngleY = angleY * DEG_TO_RAD;\n        double radianAngleZ = angleZ * DEG_TO_RAD;\n\n        double accelX = Math.tan(radianAngleX) / Math.sqrt(1.0 + Math.tan(radianAngleX) * Math.tan(radianAngleX) + Math.tan(radianAngleY) * Math.tan(radianAngleY));\n        double accelY = Math.tan(radianAngleY) / Math.sqrt(1.0 + Math.tan(radianAngleX) * Math.tan(radianAngleX) + Math.tan(radianAngleY) * Math.tan(radianAngleY));\n        double accelZ = Math.tan(radianAngleZ) * Math.sqrt(1.0 + Math.tan(radianAngleX) * Math.tan(radianAngleX) + Math.tan(radianAngleY) * Math.tan(radianAngleY));\n\n        return new double[]{accelX/G, accelY/G, accelZ/G};\n    }\n</code></pre>\n<p>If I take my initial accelerometer values, estimate yaw, pitch and roll, convert them to accelerations... how to say... Inventing the values would be more accurate. The first question is... why? I can't see my mistake here.</p>\n<p>Googling for alternatives, Kalman filter has been the most relevant result I could find to do this. I found an implementation in common-math3 (Apache), but I can't understand how this is working nor if it really applies here.</p>\n<p>What I need would be read those accelerometer values and estimate what would have been those values with the accelerometer positioned in a different way. To do that, I need to be able to &quot;estimate&quot; what are the accelerometer position, add the angles I need to add to virtually change its orientation, and go back to accelerometer values.</p>\n<p>Ideally a Java suggestion, but any help, including agnostic explanation, is welcome!</p>\n"},{"tags":["java","spring-data","amazon-rds","spring-jdbc","amazon-iam"],"comments":[{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1525721330,"post_id":50220991,"comment_id":87459673,"body_markdown":"seems [this is the doc](https://aws.amazon.com/premiumsupport/knowledge-center/users-connect-rds-iam/) seems you need to implement a connection factory","body":"seems <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/users-connect-rds-iam/\" rel=\"nofollow noreferrer\">this is the doc</a> seems you need to implement a connection factory"},{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":1,"creation_date":1525791004,"post_id":50220991,"comment_id":87490234,"body_markdown":"@gusto2 - thanks for the reply, appreciated. I came across that link however, it&#39;s more of a setup (which I have done, the girl in the video appears to use some old console UI) and trying things from command prompt. I am looking for doing it programmatically  in my Java/Spring application. Any pointers on that will be helpful.","body":"@gusto2 - thanks for the reply, appreciated. I came across that link however, it&#39;s more of a setup (which I have done, the girl in the video appears to use some old console UI) and trying things from command prompt. I am looking for doing it programmatically  in my Java/Spring application. Any pointers on that will be helpful."},{"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"score":0,"creation_date":1530132640,"post_id":50220991,"comment_id":89132215,"body_markdown":"See https://stackoverflow.com/questions/50847945/accessing-aws-rds-using-iam-authentication-and-spring-jdbc-datasource-and-jdbct/51023536#51023536","body":"See <a href=\"https://stackoverflow.com/questions/50847945/accessing-aws-rds-using-iam-authentication-and-spring-jdbc-datasource-and-jdbct/51023536#51023536\" title=\"accessing aws rds using iam authentication and spring jdbc datasource and jdbct\">stackoverflow.com/questions/50847945/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3229747,"reputation":503,"user_id":2725291,"display_name":"markusgulden"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542621364,"creation_date":1542621364,"answer_id":53372118,"question_id":50220991,"body_markdown":"I had a similar problem recently.\r\n\r\nThis is what I did:\r\n\r\n - Included Spring Cloud AWS JDBC and Spring Data JPA\r\n - Implemented a custom DataSourceFactory, which generates an IAM access token and uses that for the connection\r\n\r\nYou can find a full step-by-step guide [here][1].\r\n\r\nBtw., Spring Cloud AWS JDBC provides some additional benefits, like read replica or failover support, and you only have to provide the instance ID of your RDS instance, and not the full canonical endpoint.\r\n\r\n\r\n  [1]: https://masteringaws.blogspot.com/2018/11/accessing-rds-mysql-with-spring-cloud.html","title":"How do I connect to AWS RDS MySQL from Java/Spring application using AWS IAM Authentication?","body":"<p>I had a similar problem recently.</p>\n\n<p>This is what I did:</p>\n\n<ul>\n<li>Included Spring Cloud AWS JDBC and Spring Data JPA</li>\n<li>Implemented a custom DataSourceFactory, which generates an IAM access token and uses that for the connection</li>\n</ul>\n\n<p>You can find a full step-by-step guide <a href=\"https://masteringaws.blogspot.com/2018/11/accessing-rds-mysql-with-spring-cloud.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Btw., Spring Cloud AWS JDBC provides some additional benefits, like read replica or failover support, and you only have to provide the instance ID of your RDS instance, and not the full canonical endpoint.</p>\n"},{"tags":[],"owner":{"account_id":1358805,"reputation":1195,"user_id":1296598,"display_name":"Becca Gaspard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690417299,"creation_date":1603470803,"answer_id":64503951,"question_id":50220991,"body_markdown":"**Updated for 2023!**\r\n\r\nThis can now be accomplished even more easily using the [AWS JDBC Driver for MySQL](https://awslabs.github.io/aws-mysql-jdbc/) support for [IAM Database Authentication](https://github.com/awslabs/aws-mysql-jdbc#aws-iam-database-authentication).  I tested out this configuration with Spring Boot 3 &amp; spring-boot-starter-jdbc.\r\n\r\nAdd the following dependencies:\r\n```\r\nruntimeOnly &#39;software.aws.rds:aws-mysql-jdbc:1.1.6&#39;\r\nruntimeOnly &#39;software.amazon.awssdk:rds:2.20.57&#39;\r\n```\r\n\r\nAdd the following to application.yml:\r\n```yaml\r\nspring:\r\n  datasource:\r\n    jdbc-url: jdbc:mysql:aws://yourdbcluster-xxxx.cluster-xxxx.your-region.rds.amazonaws.com:3306/yourdb\r\n    username: iam_username\r\n    #password: dont-need-this\r\n    driver-class-name: software.aws.rds.jdbc.mysql.Driver\r\n    data-source-properties:\r\n      useAwsIam: true\r\n```\r\nAnd it should just work!\r\n\r\nThe driver uses the [AWS default credentials provider chain](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html) so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  To configure failover support, review the documentation [here](https://github.com/awslabs/aws-mysql-jdbc#connection-url-descriptions).  Hope this update helps someone else!\r\n\r\n---\r\n**This is an older method using MariaDB driver - see updates above!*\r\n\r\n\r\nI know this is an older question, but after a some searching I found a pretty easy way you can now do this using the MariaDB driver. In version 2.5 they added an [AWS IAM credential plugin](https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes) to the driver. It will handle generating, caching and refreshing the token automatically.  \r\n\r\nI&#39;ve tested using Spring Boot 2.3 with the default HikariCP connection pool and it is working fine for me with these settings:\r\n\r\n```\r\nspring.datasource.url=jdbc:mariadb://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.datasource.username=iam_username\r\n#spring.datasource.password=dont-need-this\r\nspring.datasource.hikari.maxLifetime=600000\r\n```\r\n\r\nDownload [rds-combined-ca-bundle.pem](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html) and put it in `src/main/resources` so you can connect via SSL.  \r\nYou will need these dependencies on the classpath as well:\r\n\r\n```\r\nruntime &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\nruntime &#39;com.amazonaws:aws-java-sdk-rds:1.11.880&#39;\r\n```\r\n\r\nThe driver uses the standard `DefaultAWSCredentialsProviderChain` so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  \r\n\r\nAddionally, if you want failover support like @markusgulden mentioned in his answer, you can use the `aurora` mode described [here](https://mariadb.com/kb/en/failover-and-high-availability-with-mariadb-connector-j/#failover-and-load-balancing-modes).  Your endpoint would then look like \r\n\r\n```jdbc:mariadb:aurora://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem```\r\n\r\nHope this helps someone else - most examples I found online involved custom code, background threads, etc - but using the new driver feature is much easier!","title":"How do I connect to AWS RDS MySQL from Java/Spring application using AWS IAM Authentication?","body":"<p><strong>Updated for 2023!</strong></p>\n<p>This can now be accomplished even more easily using the <a href=\"https://awslabs.github.io/aws-mysql-jdbc/\" rel=\"nofollow noreferrer\">AWS JDBC Driver for MySQL</a> support for <a href=\"https://github.com/awslabs/aws-mysql-jdbc#aws-iam-database-authentication\" rel=\"nofollow noreferrer\">IAM Database Authentication</a>.  I tested out this configuration with Spring Boot 3 &amp; spring-boot-starter-jdbc.</p>\n<p>Add the following dependencies:</p>\n<pre><code>runtimeOnly 'software.aws.rds:aws-mysql-jdbc:1.1.6'\nruntimeOnly 'software.amazon.awssdk:rds:2.20.57'\n</code></pre>\n<p>Add the following to application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    jdbc-url: jdbc:mysql:aws://yourdbcluster-xxxx.cluster-xxxx.your-region.rds.amazonaws.com:3306/yourdb\n    username: iam_username\n    #password: dont-need-this\n    driver-class-name: software.aws.rds.jdbc.mysql.Driver\n    data-source-properties:\n      useAwsIam: true\n</code></pre>\n<p>And it should just work!</p>\n<p>The driver uses the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">AWS default credentials provider chain</a> so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  To configure failover support, review the documentation <a href=\"https://github.com/awslabs/aws-mysql-jdbc#connection-url-descriptions\" rel=\"nofollow noreferrer\">here</a>.  Hope this update helps someone else!</p>\n<hr />\n<p>*<em>This is an older method using MariaDB driver - see updates above!</em></p>\n<p>I know this is an older question, but after a some searching I found a pretty easy way you can now do this using the MariaDB driver. In version 2.5 they added an <a href=\"https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes\" rel=\"nofollow noreferrer\">AWS IAM credential plugin</a> to the driver. It will handle generating, caching and refreshing the token automatically.</p>\n<p>I've tested using Spring Boot 2.3 with the default HikariCP connection pool and it is working fine for me with these settings:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.datasource.username=iam_username\n#spring.datasource.password=dont-need-this\nspring.datasource.hikari.maxLifetime=600000\n</code></pre>\n<p>Download <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html\" rel=\"nofollow noreferrer\">rds-combined-ca-bundle.pem</a> and put it in <code>src/main/resources</code> so you can connect via SSL.<br />\nYou will need these dependencies on the classpath as well:</p>\n<pre><code>runtime 'org.mariadb.jdbc:mariadb-java-client'\nruntime 'com.amazonaws:aws-java-sdk-rds:1.11.880'\n</code></pre>\n<p>The driver uses the standard <code>DefaultAWSCredentialsProviderChain</code> so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.</p>\n<p>Addionally, if you want failover support like @markusgulden mentioned in his answer, you can use the <code>aurora</code> mode described <a href=\"https://mariadb.com/kb/en/failover-and-high-availability-with-mariadb-connector-j/#failover-and-load-balancing-modes\" rel=\"nofollow noreferrer\">here</a>.  Your endpoint would then look like</p>\n<p><code>jdbc:mariadb:aurora://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem</code></p>\n<p>Hope this helps someone else - most examples I found online involved custom code, background threads, etc - but using the new driver feature is much easier!</p>\n"},{"tags":[],"owner":{"account_id":4518905,"reputation":1,"user_id":3672833,"display_name":"JohnInJax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655579357,"creation_date":1655579357,"answer_id":72672020,"question_id":50220991,"body_markdown":"I would suggest using this library that you use to replace the HikariDatasource. Everything else just works like normal.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.volcanolabs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rds-iam-hikari-datasource&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How do I connect to AWS RDS MySQL from Java/Spring application using AWS IAM Authentication?","body":"<p>I would suggest using this library that you use to replace the HikariDatasource. Everything else just works like normal.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.volcanolabs&lt;/groupId&gt;\n  &lt;artifactId&gt;rds-iam-hikari-datasource&lt;/artifactId&gt;\n  &lt;version&gt;1.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690417299,"creation_date":1525720527,"question_id":50220991,"body_markdown":"I am new to AWS world and still learning. It&#39;s been only a month that I am trying things.\r\n\r\nI have been looking for it for quite a few days now and haven&#39;t been able to find a correct and more appropriate solution. Therefore it would be great if somebody can help me by giving a sample code, provide some pointer or guide in the right direction. \r\n\r\nI have a **AWS RDS MySQL** instance and a database created. I have configured &quot;**IAM DB AUthentication Enabled**&quot; to &quot;Yes&quot;.\r\n\r\nCreated an **IAM Role** and **Policy** as per AWS documentation.\r\n\r\nAnd finally, I have an **EC2 instance** with Tomcat with my **Java/Spring application** deployed and running in it. I am able to access the MySQL database using database credentials (like db user name, password, db url, etc.) successfully. So I know things are setup properly now.\r\n\r\nCan somebody please help me know how to connect to this database from my Java/Spring application using **spring-jdbc** and **AWS IAM Authentication** (the IAM role I created above)?\r\n\r\nI read somewhere that I need the **certificate file** or certificate bundle file in my application environment and that I need to generate a **token** to be connected to the database. But I am not able to think on how to put it together.\r\n\r\nAny help will be highly appreciated.\r\n\r\nThanks.","title":"How do I connect to AWS RDS MySQL from Java/Spring application using AWS IAM Authentication?","body":"<p>I am new to AWS world and still learning. It's been only a month that I am trying things.</p>\n\n<p>I have been looking for it for quite a few days now and haven't been able to find a correct and more appropriate solution. Therefore it would be great if somebody can help me by giving a sample code, provide some pointer or guide in the right direction. </p>\n\n<p>I have a <strong>AWS RDS MySQL</strong> instance and a database created. I have configured \"<strong>IAM DB AUthentication Enabled</strong>\" to \"Yes\".</p>\n\n<p>Created an <strong>IAM Role</strong> and <strong>Policy</strong> as per AWS documentation.</p>\n\n<p>And finally, I have an <strong>EC2 instance</strong> with Tomcat with my <strong>Java/Spring application</strong> deployed and running in it. I am able to access the MySQL database using database credentials (like db user name, password, db url, etc.) successfully. So I know things are setup properly now.</p>\n\n<p>Can somebody please help me know how to connect to this database from my Java/Spring application using <strong>spring-jdbc</strong> and <strong>AWS IAM Authentication</strong> (the IAM role I created above)?</p>\n\n<p>I read somewhere that I need the <strong>certificate file</strong> or certificate bundle file in my application environment and that I need to generate a <strong>token</strong> to be connected to the database. But I am not able to think on how to put it together.</p>\n\n<p>Any help will be highly appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","function","void","return-type"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1690416056,"post_id":76775715,"comment_id":135352313,"body_markdown":"Use a `Consumer&lt;String&gt;` declaration.","body":"Use a <code>Consumer&lt;String&gt;</code> declaration."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690415979,"creation_date":1690415979,"answer_id":76775750,"question_id":76775715,"body_markdown":"A `Function` has a `&lt;T,R&gt;` generic type, you are looking for `Runnable` (a `void`, `void` function) and [`Consumer&lt;T&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html) (a `void`, `T` function). Like,\r\n\r\n\tpublic Runnable fooBar() {\r\n\t\treturn this::foo;\r\n\t}\r\n\r\n\tpublic Consumer&lt;String&gt; bar() {\r\n\t\treturn this::bar;\r\n\t}","title":"Data type of Function with void return type and taking no input parameters","body":"<p>A <code>Function</code> has a <code>&lt;T,R&gt;</code> generic type, you are looking for <code>Runnable</code> (a <code>void</code>, <code>void</code> function) and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer&lt;T&gt;</code></a> (a <code>void</code>, <code>T</code> function). Like,</p>\n<pre><code>public Runnable fooBar() {\n    return this::foo;\n}\n\npublic Consumer&lt;String&gt; bar() {\n    return this::bar;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690415998,"creation_date":1690415998,"answer_id":76775752,"question_id":76775715,"body_markdown":"There are types which match `void f()` and `void f(String a)`. They are `Runnable` and `Consumer&lt;String&gt;` respectively.\r\n\r\nSo your code becomes:\r\n```\r\nimport java.util.function.Consumer;\r\n\r\nclass FooBar {\r\n    private void foo() {\r\n    }\r\n\r\n    private void bar(String s) {\r\n    }\r\n\r\n    public Runnable fooBar() {\r\n        return this::foo;\r\n    }\r\n\r\n    public Consumer&lt;String&gt; barfoo() {\r\n        return this::bar;\r\n    }\r\n}\r\n```","title":"Data type of Function with void return type and taking no input parameters","body":"<p>There are types which match <code>void f()</code> and <code>void f(String a)</code>. They are <code>Runnable</code> and <code>Consumer&lt;String&gt;</code> respectively.</p>\n<p>So your code becomes:</p>\n<pre><code>import java.util.function.Consumer;\n\nclass FooBar {\n    private void foo() {\n    }\n\n    private void bar(String s) {\n    }\n\n    public Runnable fooBar() {\n        return this::foo;\n    }\n\n    public Consumer&lt;String&gt; barfoo() {\n        return this::bar;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26500260,"reputation":13,"user_id":20137324,"display_name":"Mradul Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76775752,"answer_count":2,"score":0,"last_activity_date":1690415998,"creation_date":1690415356,"question_id":76775715,"body_markdown":"I am unable to figure what would be the return type of these functions `fooBar()` and `barFoo()`\r\nin Java and getting the following errors.\r\n\r\n```\r\nimport java.util.function.Function;\r\n\r\nclass FooBar {\r\n  private void foo() {\r\n  }\r\n\r\n  private void bar(String s) {\r\n  }\r\n\r\n  public FunctionalInterface fooBar() {\r\n    return this::foo;// The type of foo() from the type FooBar is void, this is incompatible with the\r\n                     // descriptor&#39;s return type: Class&lt;? extends Annotation&gt;\r\n  }\r\n\r\n  public Function&lt;String, Void&gt; barfoo() {\r\n    return this::bar;// The type of bar(String) from the type FooBar is void, this is incompatible\r\n                     // with the descriptor&#39;s return type: Void\r\n  }\r\n}\r\n```\r\n\r\nIs there any way to return these functions, so that they can be used by other functions?\r\n\r\n\r\nSetting return type to `FuncionalInterface` isn&#39;t helpful.\r\nSetting return type to `Void`, but however it isn&#39;t compatible with `void`\r\n\r\nThanks!\r\n","title":"Data type of Function with void return type and taking no input parameters","body":"<p>I am unable to figure what would be the return type of these functions <code>fooBar()</code> and <code>barFoo()</code>\nin Java and getting the following errors.</p>\n<pre><code>import java.util.function.Function;\n\nclass FooBar {\n  private void foo() {\n  }\n\n  private void bar(String s) {\n  }\n\n  public FunctionalInterface fooBar() {\n    return this::foo;// The type of foo() from the type FooBar is void, this is incompatible with the\n                     // descriptor's return type: Class&lt;? extends Annotation&gt;\n  }\n\n  public Function&lt;String, Void&gt; barfoo() {\n    return this::bar;// The type of bar(String) from the type FooBar is void, this is incompatible\n                     // with the descriptor's return type: Void\n  }\n}\n</code></pre>\n<p>Is there any way to return these functions, so that they can be used by other functions?</p>\n<p>Setting return type to <code>FuncionalInterface</code> isn't helpful.\nSetting return type to <code>Void</code>, but however it isn't compatible with <code>void</code></p>\n<p>Thanks!</p>\n"},{"tags":["java","installation","owasp"],"comments":[{"owner":{"account_id":1621844,"reputation":5574,"user_id":1509834,"display_name":"Simon Bennetts"},"score":0,"creation_date":1623745181,"post_id":67968805,"comment_id":120158830,"body_markdown":"What do you get it you run `java -version` from the command line?","body":"What do you get it you run <code>java -version</code> from the command line?"},{"owner":{"account_id":16865385,"reputation":61,"user_id":12195206,"display_name":"Julia Dur&#225;n"},"score":0,"creation_date":1623840306,"post_id":67968805,"comment_id":120190907,"body_markdown":"Thank you Simon for replying. I get this: openjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\nEclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Windows 10 amd64-64-Bit Compressed References 20210120_899 (JIT enabled, AOT enabled)\nOpenJ9   - 345e1b09e\nOMR      - 741e94ea8\nJCL      - 0a86953833 based on jdk-11.0.10+9)","body":"Thank you Simon for replying. I get this: openjdk version &quot;11.0.10&quot; 2021-01-19 OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9) Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Windows 10 amd64-64-Bit Compressed References 20210120_899 (JIT enabled, AOT enabled) OpenJ9   - 345e1b09e OMR      - 741e94ea8 JCL      - 0a86953833 based on jdk-11.0.10+9)"}],"answers":[{"tags":[],"owner":{"account_id":22048573,"reputation":71,"user_id":16313199,"display_name":"Gn&#252;lp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1624611264,"creation_date":1624611264,"answer_id":68128203,"question_id":67968805,"body_markdown":"Solution: Installing OpenJDK with the msi file. The installer has an option &quot;JavaSoft (Oracle) registry keys&quot;. When this is activated, the 1.8.0 message disappears in my case. If it is not selected the error persists.\r\n\r\nI encountered this error message recently on a Windows 10 machine when I wanted to run VOSViewer. I had installed Adopt OpenJDK by unzipping the files and updating the system variables (Path and JAVA_HOME). When checking java -version, it showed the correct one.\r\n\r\n[MSI Installer options][1]    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JoxOM.png","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>Solution: Installing OpenJDK with the msi file. The installer has an option &quot;JavaSoft (Oracle) registry keys&quot;. When this is activated, the 1.8.0 message disappears in my case. If it is not selected the error persists.</p>\n<p>I encountered this error message recently on a Windows 10 machine when I wanted to run VOSViewer. I had installed Adopt OpenJDK by unzipping the files and updating the system variables (Path and JAVA_HOME). When checking java -version, it showed the correct one.</p>\n<p><a href=\"https://i.stack.imgur.com/JoxOM.png\" rel=\"noreferrer\">MSI Installer options</a></p>\n"},{"tags":[],"owner":{"account_id":23013539,"reputation":281,"user_id":17135715,"display_name":"IDM"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1634051429,"creation_date":1634051429,"answer_id":69542952,"question_id":67968805,"body_markdown":"Try starting **zap.bat** file, that worked for me!","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>Try starting <strong>zap.bat</strong> file, that worked for me!</p>\n"},{"tags":[],"owner":{"account_id":14852261,"reputation":73,"user_id":10725805,"display_name":"Chandrapal Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667223461,"creation_date":1667223461,"answer_id":74264122,"question_id":67968805,"body_markdown":"Try downloading and installing jdk 11 ,\r\nVisit https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>Try downloading and installing jdk 11 ,\nVisit <a href=\"https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html</a></p>\n"},{"tags":[],"owner":{"account_id":7912956,"reputation":2540,"user_id":5976413,"display_name":"John M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670834857,"creation_date":1670834857,"answer_id":74768606,"question_id":67968805,"body_markdown":"In my case using ZAP 2.12.0, the only solution that worked was to edit the zap.bat file, I had to specify the full path to the Java executable, so the last line becomes:\r\n\r\n    C:\\jdk-17.0.5+8-jre\\bin\\java.exe %jvmopts% -jar &quot;C:\\Program Files\\OWASP\\Zed Attack Proxy\\zap-2.12.0.jar&quot; %*\r\n\r\nAdjust for your JDK/JRE install directory as appropriate","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>In my case using ZAP 2.12.0, the only solution that worked was to edit the zap.bat file, I had to specify the full path to the Java executable, so the last line becomes:</p>\n<pre><code>C:\\jdk-17.0.5+8-jre\\bin\\java.exe %jvmopts% -jar &quot;C:\\Program Files\\OWASP\\Zed Attack Proxy\\zap-2.12.0.jar&quot; %*\n</code></pre>\n<p>Adjust for your JDK/JRE install directory as appropriate</p>\n"},{"tags":[],"owner":{"account_id":27997169,"reputation":1,"user_id":21382154,"display_name":"Chi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678611382,"creation_date":1678611382,"answer_id":75712025,"question_id":67968805,"body_markdown":"Install jdk from adoptium.net, it worked in my case.","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>Install jdk from adoptium.net, it worked in my case.</p>\n"},{"tags":[],"owner":{"account_id":28949758,"reputation":1,"user_id":22174626,"display_name":"Cristian Nascimento"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688484584,"creation_date":1688484584,"answer_id":76614073,"question_id":67968805,"body_markdown":"Install jdk from adoptium.net, it worked in my case too.\r\nTks Chi!","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>Install jdk from adoptium.net, it worked in my case too.\nTks Chi!</p>\n"},{"tags":[],"owner":{"account_id":29099111,"reputation":1,"user_id":22291322,"display_name":"user22291322"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690415934,"creation_date":1690415934,"answer_id":76775741,"question_id":67968805,"body_markdown":"i just changed my zap.bat file to cd first to Java Bin directory\r\nand put the full path of zap .jar file as follows, and worked like a charm\r\nmake your path changes:\r\n\r\n    if exist &quot;%USERPROFILE%\\OWASP ZAP\\.ZAP_JVM.properties&quot; (\r\n    \tset /p jvmopts=&lt; &quot;%USERPROFILE%\\OWASP ZAP\\.ZAP_JVM.properties&quot;\r\n    ) else (\r\n    \tset jvmopts=-Xmx512m\r\n    )\r\n    **cd &quot;C:\\Program Files\\Eclipse Adoptium\\jre-17.0.7.7-hotspot\\bin&quot;**\r\n    java.exe %jvmopts% -jar **&quot;C:\\ZAP_2.13.0\\zap-2.13.0.jar&quot;** %*","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>i just changed my zap.bat file to cd first to Java Bin directory\nand put the full path of zap .jar file as follows, and worked like a charm\nmake your path changes:</p>\n<pre><code>if exist &quot;%USERPROFILE%\\OWASP ZAP\\.ZAP_JVM.properties&quot; (\n    set /p jvmopts=&lt; &quot;%USERPROFILE%\\OWASP ZAP\\.ZAP_JVM.properties&quot;\n) else (\n    set jvmopts=-Xmx512m\n)\n**cd &quot;C:\\Program Files\\Eclipse Adoptium\\jre-17.0.7.7-hotspot\\bin&quot;**\njava.exe %jvmopts% -jar **&quot;C:\\ZAP_2.13.0\\zap-2.13.0.jar&quot;** %*\n</code></pre>\n"}],"owner":{"account_id":16865385,"reputation":61,"user_id":12195206,"display_name":"Julia Dur&#225;n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17395,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1690415934,"creation_date":1623667292,"question_id":67968805,"body_markdown":"when I try to start OWASP ZAP, after installing, the following messages appears: &quot;This application requires a Java Runtime Environment 1.8.0&quot;. I have installed OpenJDK 11 properly, updated the environment variables rightly. Could you help me, please?","title":"Problem starting OWASP ZAP with OpenJDK 11 installed","body":"<p>when I try to start OWASP ZAP, after installing, the following messages appears: &quot;This application requires a Java Runtime Environment 1.8.0&quot;. I have installed OpenJDK 11 properly, updated the environment variables rightly. Could you help me, please?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1690392956,"post_id":76773721,"comment_id":135348627,"body_markdown":"If it isn&#39;t freed, what do you propose to do about it?","body":"If it isn&#39;t freed, what do you propose to do about it?"},{"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"score":0,"creation_date":1690395368,"post_id":76773721,"comment_id":135349143,"body_markdown":"it&#39;s obvious that if it isn&#39;t freed, a good practice should be to free it somewhere, this is why I made this question","body":"it&#39;s obvious that if it isn&#39;t freed, a good practice should be to free it somewhere, this is why I made this question"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690393989,"creation_date":1690393989,"answer_id":76773902,"question_id":76773721,"body_markdown":"&gt; Is CountDownTimer memory automatically freed\r\n\r\nYes. Instances are subject to garbage collection just like any other object.\r\n\r\n&gt; in onFinish() method?\r\n\r\nNo.  `CountDownTimer.onFinish()` is abstract.  You need to, and do, implement it.  Your implementation defines what it does.\r\n\r\nMore generally, Java is a garbage-collected language, with no mechanism to explicitly free any object.  No object will be freed while it is still strongly reachable, and an object is definitely strongly reachable while any thread is executing one of its instance methods.\r\n\r\n`CountDownTimer` is a bit unusual, in that it engages asynchronous execution, but it is reasonable to expect that soon after its `onFinish()` method is invoked *as part of its normal lifecycle*, that execution resource will clear all its references to that `CountDownTimer` instance.  If no other references are held, then that will make it eligible for garbage collection.\r\n\r\nI note, however, that you appear to be holding your own references to your `CountDownTimers` in variables `my_count_downtimer1` and `my_count_downtimer2`.  As long as you do, and the object to which those variables belong itself remains reachable, the `CountDownTimer`s will remain reachable, and therefore will not be subject to GC.","title":"Is CountDownTimer memory automatically freed in onFinish() method?","body":"<blockquote>\n<p>Is CountDownTimer memory automatically freed</p>\n</blockquote>\n<p>Yes. Instances are subject to garbage collection just like any other object.</p>\n<blockquote>\n<p>in onFinish() method?</p>\n</blockquote>\n<p>No.  <code>CountDownTimer.onFinish()</code> is abstract.  You need to, and do, implement it.  Your implementation defines what it does.</p>\n<p>More generally, Java is a garbage-collected language, with no mechanism to explicitly free any object.  No object will be freed while it is still strongly reachable, and an object is definitely strongly reachable while any thread is executing one of its instance methods.</p>\n<p><code>CountDownTimer</code> is a bit unusual, in that it engages asynchronous execution, but it is reasonable to expect that soon after its <code>onFinish()</code> method is invoked <em>as part of its normal lifecycle</em>, that execution resource will clear all its references to that <code>CountDownTimer</code> instance.  If no other references are held, then that will make it eligible for garbage collection.</p>\n<p>I note, however, that you appear to be holding your own references to your <code>CountDownTimers</code> in variables <code>my_count_downtimer1</code> and <code>my_count_downtimer2</code>.  As long as you do, and the object to which those variables belong itself remains reachable, the <code>CountDownTimer</code>s will remain reachable, and therefore will not be subject to GC.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690398869,"creation_date":1690398869,"answer_id":76774375,"question_id":76773721,"body_markdown":"A CountDownTimer&#39;s internal Handler&#39;s reference is captured by the Looper it is installed on until the CountDownTimer is cancelled or finishes on its own.\r\n\r\nSo in your example, there are two strong references being held per timer: \r\n\r\n1. Your member variable holding the CountDownTimer.\r\n2. The Looper&#39;s MessageQueue&#39;s reference to the CountDownTimer&#39;s internal Handler.\r\n\r\nWhen your Activity finishes, your member variable reference is dropped. The CountDownTimer instance is definitely eligible for garbage collection right then if nothing is holding a reference to the Activity. Note, your CountDownTimer itself could be holding an Activity reference if it touches any of the Activity&#39;s members, as yours do by using `mTextField`.\r\n\r\nThe CountDownTimer&#39;s internal Handler will become eligible for garbage collection if the timer is cancelled or finishes on its own.\r\n\r\nIn your example, you cancel both the timers in `onDestroy()`, so there are no memory leaks. However, there&#39;s no harm in calling `cancel()` multiple times on a timer, so you don&#39;t need those `is_active` variables if that&#39;s the only reason you have them.\r\n\r\n---\r\n\r\nYou could build a self-releasing subclass of CountDownTimer that takes a LifecycleOwner as a constructor parameter and registers to cancel itself when the associated Lifecycle is complete. ComponentActivity and AppCompatActivity are LifecycleOwners.","title":"Is CountDownTimer memory automatically freed in onFinish() method?","body":"<p>A CountDownTimer's internal Handler's reference is captured by the Looper it is installed on until the CountDownTimer is cancelled or finishes on its own.</p>\n<p>So in your example, there are two strong references being held per timer:</p>\n<ol>\n<li>Your member variable holding the CountDownTimer.</li>\n<li>The Looper's MessageQueue's reference to the CountDownTimer's internal Handler.</li>\n</ol>\n<p>When your Activity finishes, your member variable reference is dropped. The CountDownTimer instance is definitely eligible for garbage collection right then if nothing is holding a reference to the Activity. Note, your CountDownTimer itself could be holding an Activity reference if it touches any of the Activity's members, as yours do by using <code>mTextField</code>.</p>\n<p>The CountDownTimer's internal Handler will become eligible for garbage collection if the timer is cancelled or finishes on its own.</p>\n<p>In your example, you cancel both the timers in <code>onDestroy()</code>, so there are no memory leaks. However, there's no harm in calling <code>cancel()</code> multiple times on a timer, so you don't need those <code>is_active</code> variables if that's the only reason you have them.</p>\n<hr />\n<p>You could build a self-releasing subclass of CountDownTimer that takes a LifecycleOwner as a constructor parameter and registers to cancel itself when the associated Lifecycle is complete. ComponentActivity and AppCompatActivity are LifecycleOwners.</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1690415150,"creation_date":1690392403,"question_id":76773721,"body_markdown":"I have implemented 2 CountDownTimers in one activity:\r\n\r\nFirst CountDownTimer:\r\n\r\n    my_count_downtimer1 = new CountDownTimer(30000, 1000) {\r\n    \r\n        public void onTick(long millisUntilFinished) {\r\n            mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\r\n            is_active1=true;\r\n        }\r\n        @Override\r\n        public void onFinish() {\r\n        is_active1=false;\r\n    \r\n        }\r\n    \r\n    }.start();\r\n    \r\n    \r\n    public void cancelmycountdowntimer1(){\r\n    if(my_count_downtimer!=null){\r\n       my_count_downtimer.cancel();\r\n       is_active1=false;\r\n      }\r\n    }\r\n\r\nSecond CountDownTimer:\r\n\r\n\r\n    my_count_downtimer2 = new CountDownTimer(30000, 1000) {\r\n    \r\n        public void onTick(long millisUntilFinished) {\r\n            mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\r\n            is_active2=true;\r\n        }\r\n        @Override\r\n        public void onFinish() {\r\n        is_active2=false;\r\n    \r\n        }\r\n    \r\n    }.start();\r\n    \r\n    \r\n    public void cancelmycountdowntimer2(){\r\n    if(my_count_downtimer2!=null){\r\n       my_count_downtimer2.cancel();\r\n       is_active2=false;\r\n      }\r\n    }\r\n\r\nWhat I am doing to avoid memory leaks and free everything:\r\n\r\n\r\n    public void freeAllTimers(){\r\n      if(is_active1){\r\n      cancelmycountdowntimer1();\r\n      }\r\n\r\n      if(is_active2){\r\n      cancelmycountdowntimer2();\r\n      }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        freeAllTimers()\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        freeAllTimers()\r\n    }\r\n\r\n\r\nNow my question is: if one timer has finished, according to my freeAllTimers() method, that timer won&#39;t be cancelled as is_active will be false, okay, but what happens with that memory? Is that memory automatically freed in onFinish() method?\r\n\r\n\r\nIn conclusion, is my implementation of CountDownTimers looking good to avoid all possible memory leaks? Thanks\r\n\r\n\r\n\r\nUPDATED IMPLEMENTATION:\r\n\r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n        private CountDownTimer myCountDownTimer;\r\n        private long timeRemaining = 20000;\r\n        private TextView mTextField;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_my);\r\n    \r\n            mTextField = findViewById(R.id.textViewTimer);\r\n    \r\n            createTimer(timeRemaining);\r\n    \r\n            Button pauseButton = findViewById(R.id.pauseButton);\r\n            pauseButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (myCountDownTimer != null) {\r\n                        myCountDownTimer.cancel();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            Button resumeButton = findViewById(R.id.resumeButton);\r\n            resumeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    createTimer(timeRemaining);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void createTimer(long millisInFuture) {\r\n    \r\n    \r\n            myCountDownTimer = new CountDownTimer(millisInFuture, 1000) {\r\n                public void onTick(long millisUntilFinished) {\r\n                    mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\r\n                    timeRemaining = millisUntilFinished;\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                }\r\n            };\r\n    \r\n            myCountDownTimer.start();\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            if (myCountDownTimer != null) {\r\n                myCountDownTimer.cancel();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (myCountDownTimer != null) {\r\n                myCountDownTimer.cancel();\r\n                myCountDownTimer = null;\r\n            }\r\n        }\r\n    }","title":"Is CountDownTimer memory automatically freed in onFinish() method?","body":"<p>I have implemented 2 CountDownTimers in one activity:</p>\n<p>First CountDownTimer:</p>\n<pre><code>my_count_downtimer1 = new CountDownTimer(30000, 1000) {\n\n    public void onTick(long millisUntilFinished) {\n        mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\n        is_active1=true;\n    }\n    @Override\n    public void onFinish() {\n    is_active1=false;\n\n    }\n\n}.start();\n\n\npublic void cancelmycountdowntimer1(){\nif(my_count_downtimer!=null){\n   my_count_downtimer.cancel();\n   is_active1=false;\n  }\n}\n</code></pre>\n<p>Second CountDownTimer:</p>\n<pre><code>my_count_downtimer2 = new CountDownTimer(30000, 1000) {\n\n    public void onTick(long millisUntilFinished) {\n        mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\n        is_active2=true;\n    }\n    @Override\n    public void onFinish() {\n    is_active2=false;\n\n    }\n\n}.start();\n\n\npublic void cancelmycountdowntimer2(){\nif(my_count_downtimer2!=null){\n   my_count_downtimer2.cancel();\n   is_active2=false;\n  }\n}\n</code></pre>\n<p>What I am doing to avoid memory leaks and free everything:</p>\n<pre><code>public void freeAllTimers(){\n  if(is_active1){\n  cancelmycountdowntimer1();\n  }\n\n  if(is_active2){\n  cancelmycountdowntimer2();\n  }\n\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    freeAllTimers()\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    freeAllTimers()\n}\n</code></pre>\n<p>Now my question is: if one timer has finished, according to my freeAllTimers() method, that timer won't be cancelled as is_active will be false, okay, but what happens with that memory? Is that memory automatically freed in onFinish() method?</p>\n<p>In conclusion, is my implementation of CountDownTimers looking good to avoid all possible memory leaks? Thanks</p>\n<p>UPDATED IMPLEMENTATION:</p>\n<pre><code>public class MyActivity extends AppCompatActivity {\n    private CountDownTimer myCountDownTimer;\n    private long timeRemaining = 20000;\n    private TextView mTextField;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_my);\n\n        mTextField = findViewById(R.id.textViewTimer);\n\n        createTimer(timeRemaining);\n\n        Button pauseButton = findViewById(R.id.pauseButton);\n        pauseButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (myCountDownTimer != null) {\n                    myCountDownTimer.cancel();\n                }\n            }\n        });\n\n        Button resumeButton = findViewById(R.id.resumeButton);\n        resumeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                createTimer(timeRemaining);\n            }\n        });\n    }\n\n    public void createTimer(long millisInFuture) {\n\n\n        myCountDownTimer = new CountDownTimer(millisInFuture, 1000) {\n            public void onTick(long millisUntilFinished) {\n                mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\n                timeRemaining = millisUntilFinished;\n            }\n\n            @Override\n            public void onFinish() {\n            }\n        };\n\n        myCountDownTimer.start();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        if (myCountDownTimer != null) {\n            myCountDownTimer.cancel();\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (myCountDownTimer != null) {\n            myCountDownTimer.cancel();\n            myCountDownTimer = null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1690393337,"post_id":76773558,"comment_id":135348707,"body_markdown":"Hello and welcome on StackOverflow. Can you show your actual code? Also, you can use logger to be sure event are called, you can be sure it&#39;s well register in your onEnable method","body":"Hello and welcome on StackOverflow. Can you show your actual code? Also, you can use logger to be sure event are called, you can be sure it&#39;s well register in your onEnable method"},{"owner":{"account_id":29097289,"reputation":1,"user_id":22289916,"display_name":"randomUser153"},"score":0,"creation_date":1690396722,"post_id":76773558,"comment_id":135349398,"body_markdown":"@EventHandler(priority = EventPriority.LOW)\n    public void onTorchPlace_Low(BlockPlaceEvent event) {\n        if (event.getBlock().getType() == Material.TORCH) {\n            event.getBlock().setType(Material.DIAMOND_BLOCK.);\n        }\n    }\n\n    @EventHandler\n    public void onTorchPlace_Normal(BlockPlaceEvent event) {\n        Block block = event.getBlock();\n\n        if (block.getType() != Material.TORCH) {\n            return;\n        }\n\n        Bukkit.getLogger().info(&quot;A torch was placed&quot;);\n    }","body":"@EventHandler(priority = EventPriority.LOW)     public void onTorchPlace_Low(BlockPlaceEvent event) {         if (event.getBlock().getType() == Material.TORCH) {             event.getBlock().setType(Material.DIAMOND_BLOCK.);         }     }      @EventHandler     public void onTorchPlace_Normal(BlockPlaceEvent event) {         Block block = event.getBlock();          if (block.getType() != Material.TORCH) {             return;         }          Bukkit.getLogger().info(&quot;A torch was placed&quot;);     }"},{"owner":{"account_id":29097289,"reputation":1,"user_id":22289916,"display_name":"randomUser153"},"score":0,"creation_date":1690396795,"post_id":76773558,"comment_id":135349417,"body_markdown":"I&#39;m not sure if there&#39;s a better way to add it, this bit works at the moment but doesn&#39;t do what I would like it to.","body":"I&#39;m not sure if there&#39;s a better way to add it, this bit works at the moment but doesn&#39;t do what I would like it to."},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1690404078,"post_id":76773558,"comment_id":135350684,"body_markdown":"Please edit your question in the future.","body":"Please edit your question in the future."}],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690414259,"creation_date":1690414259,"answer_id":76775646,"question_id":76773558,"body_markdown":"You can achieve what you want like so:\r\n\r\n```java\r\n@EventHandler\r\npublic void onBlockPlace(BlockPlaceEvent event){\r\n    // Check the item is a SOUL_TORCH\r\n    if(event.getItemInHand().getType() == Material.SOUL_TORCH\r\n            // Check the item has metadata\r\n            &amp;&amp; event.getItemInHand().hasItemMeta()\r\n            // Check that the item has a display name (has been renamed)\r\n            &amp;&amp; event.getItemInHand().getItemMeta().hasDisplayName()\r\n            // Check if the name of item is what we&#39;re looking for (case-insensitive; e.g. &quot;hello&quot; or &quot;HeLLo&quot;)\r\n            &amp;&amp; event.getItemInHand().getItemMeta().getDisplayName().equalsIgnoreCase(&quot;hello&quot;)) {\r\n        // Set the block to a barrel\r\n        event.getBlock().setType(Material.BARREL);\r\n        // Cast the block&#39;s state to `Barrel`, which we know is safe to do because we just set it to a barrel\r\n        Barrel barrel = (Barrel) event.getBlock().getState();\r\n        // Add our items to the inventory of the barrel. In this case, one diamond block\r\n        barrel.getInventory().addItem(new ItemStack(Material.DIAMOND_BLOCK));\r\n    }\r\n}\r\n```\r\n\r\nThis code is an example of how to achieve what you&#39;re after. It will cause a barrel to be placed with a diamond block inside, where the soul torch would&#39;ve been so long as the soul torch&#39;s name was &quot;hello&quot; (regardless of case).","title":"Replace block placement with a barrel full of specific items","body":"<p>You can achieve what you want like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onBlockPlace(BlockPlaceEvent event){\n    // Check the item is a SOUL_TORCH\n    if(event.getItemInHand().getType() == Material.SOUL_TORCH\n            // Check the item has metadata\n            &amp;&amp; event.getItemInHand().hasItemMeta()\n            // Check that the item has a display name (has been renamed)\n            &amp;&amp; event.getItemInHand().getItemMeta().hasDisplayName()\n            // Check if the name of item is what we're looking for (case-insensitive; e.g. &quot;hello&quot; or &quot;HeLLo&quot;)\n            &amp;&amp; event.getItemInHand().getItemMeta().getDisplayName().equalsIgnoreCase(&quot;hello&quot;)) {\n        // Set the block to a barrel\n        event.getBlock().setType(Material.BARREL);\n        // Cast the block's state to `Barrel`, which we know is safe to do because we just set it to a barrel\n        Barrel barrel = (Barrel) event.getBlock().getState();\n        // Add our items to the inventory of the barrel. In this case, one diamond block\n        barrel.getInventory().addItem(new ItemStack(Material.DIAMOND_BLOCK));\n    }\n}\n</code></pre>\n<p>This code is an example of how to achieve what you're after. It will cause a barrel to be placed with a diamond block inside, where the soul torch would've been so long as the soul torch's name was &quot;hello&quot; (regardless of case).</p>\n"}],"owner":{"account_id":29097289,"reputation":1,"user_id":22289916,"display_name":"randomUser153"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690414259,"creation_date":1690391123,"question_id":76773558,"body_markdown":"I&#39;m trying to make a Minecraft spigot plugin using [tag:intellij]. The bit that I&#39;m struggling with is that I would like an event to be triggered when I place a certain item with a certain name and then that item be replaced with another. \r\n\r\nFor example, when a soul torch renamed &quot;hello&quot; in an anvil is placed it should be replaced with a barrel with a kit in it. I know how to cancel the original item and replace it with another, I just can&#39;t figure out or find anywhere about having the placed item only trigger the event if it has a certain name, and I don&#39;t know how to have the barrel have items in it (I&#39;ve copied the nbt tag thing ingame with the /data command on a barrel that has the items I would like to use in it).\r\n\r\nI&#39;ve tried using the BlockData() stuff, it could be right because I have not idea how to use it or it could be just really incorrect.\r\n\r\nThis is my code so far:\r\n```java\r\n@EventHandler(priority = EventPriority.LOW)\r\npublic void onTorchPlace_Low(BlockPlaceEvent event) {\r\n  if (event.getBlock().getType() == Material.TORCH) {\r\n    event.getBlock().setType(Material.DIAMOND_BLOCK.);\r\n  }\r\n}\r\n\r\n@EventHandler\r\npublic void onTorchPlace_Normal(BlockPlaceEvent event) {\r\n  Block block = event.getBlock();\r\n  if (block.getType() != Material.TORCH) {\r\n    return;\r\n  }\r\n  Bukkit.getLogger().info(&quot;A torch was placed&quot;);\r\n}\r\n```","title":"Replace block placement with a barrel full of specific items","body":"<p>I'm trying to make a Minecraft spigot plugin using <a href=\"/questions/tagged/intellij\" class=\"post-tag\" title=\"show questions tagged &#39;intellij&#39;\" aria-label=\"show questions tagged &#39;intellij&#39;\" rel=\"tag\" aria-labelledby=\"tag-intellij-tooltip-container\">intellij</a>. The bit that I'm struggling with is that I would like an event to be triggered when I place a certain item with a certain name and then that item be replaced with another.</p>\n<p>For example, when a soul torch renamed &quot;hello&quot; in an anvil is placed it should be replaced with a barrel with a kit in it. I know how to cancel the original item and replace it with another, I just can't figure out or find anywhere about having the placed item only trigger the event if it has a certain name, and I don't know how to have the barrel have items in it (I've copied the nbt tag thing ingame with the /data command on a barrel that has the items I would like to use in it).</p>\n<p>I've tried using the BlockData() stuff, it could be right because I have not idea how to use it or it could be just really incorrect.</p>\n<p>This is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler(priority = EventPriority.LOW)\npublic void onTorchPlace_Low(BlockPlaceEvent event) {\n  if (event.getBlock().getType() == Material.TORCH) {\n    event.getBlock().setType(Material.DIAMOND_BLOCK.);\n  }\n}\n\n@EventHandler\npublic void onTorchPlace_Normal(BlockPlaceEvent event) {\n  Block block = event.getBlock();\n  if (block.getType() != Material.TORCH) {\n    return;\n  }\n  Bukkit.getLogger().info(&quot;A torch was placed&quot;);\n}\n</code></pre>\n"},{"tags":["java","multithreading","hibernate","mariadb","thread-safety"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690407418,"post_id":76775189,"comment_id":135351210,"body_markdown":"Take a thread dump when your program is stuck.","body":"Take a thread dump when your program is stuck."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690412671,"post_id":76775189,"comment_id":135351921,"body_markdown":"Are you sure it isnt throwing an exception? Can we see the calling code?","body":"Are you sure it isnt throwing an exception? Can we see the calling code?"},{"owner":{"account_id":29098618,"reputation":11,"user_id":22290956,"display_name":"Luiz Fernando da Silva Santos"},"score":0,"creation_date":1690413868,"post_id":76775189,"comment_id":135352072,"body_markdown":"@tgdavies I didn&#39;t know how to take the thread dump, I&#39;ve looked up and got this: &quot;Thread-23&quot; #70 [13216] daemon prio=5 os_prio=0 cpu=285265.62ms elapsed=983.67s tid=0x000001e63ea547c0 nid=13216 runnable  [0x000000b788cff000]\n   java.lang.Thread.State: RUNNABLE\n        at ...","body":"@tgdavies I didn&#39;t know how to take the thread dump, I&#39;ve looked up and got this: &quot;Thread-23&quot; #70 [13216] daemon prio=5 os_prio=0 cpu=285265.62ms elapsed=983.67s tid=0x000001e63ea547c0 nid=13216 runnable  [0x000000b788cff000]    java.lang.Thread.State: RUNNABLE         at ..."},{"owner":{"account_id":29098618,"reputation":11,"user_id":22290956,"display_name":"Luiz Fernando da Silva Santos"},"score":0,"creation_date":1690413925,"post_id":76775189,"comment_id":135352082,"body_markdown":"@TimMoore I put the calling code in the question","body":"@TimMoore I put the calling code in the question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690415751,"post_id":76775189,"comment_id":135352278,"body_markdown":"It&#39;s worth editing your question and adding the complete thread dump. But first *&quot;the second one stops while executing the enhanced for in the save method and does not come back&quot;* -- what precisely do you observe that leads you to say this?","body":"It&#39;s worth editing your question and adding the complete thread dump. But first <i>&quot;the second one stops while executing the enhanced for in the save method and does not come back&quot;</i> -- what precisely do you observe that leads you to say this?"}],"owner":{"account_id":29098618,"reputation":11,"user_id":22290956,"display_name":"Luiz Fernando da Silva Santos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690413887,"creation_date":1690407301,"question_id":76775189,"body_markdown":"I&#39;m working on a personal project and I have multiple threads that calls the method save in the DAO, the first thread that executes the method works fine but the second one stops while executing the enhanced for in the save method and does not come back. Do I have to make something in the java code/hibernate or is this a configuration of my MariaDB? (Obs: the registers List has around 100 registers which time I save it, I do not know if this has something to do with the amout of data that I have to save).\r\n\r\n\r\n\r\n**The save method on DAO:**\r\n```\r\n\r\n`public synchronized void save(List&lt;Registers&gt; registers) throws Exception {\r\n\t    Session session = null;\r\n\t    Transaction transaction = null;\r\n\r\n\t    try {\r\n\t        session = HibernateUtil.getSessionFactory(this.url).openSession();\r\n\t        transaction = session.beginTransaction();\r\n\r\n\t        for (final Registers register : registers) {\r\n\t            session.save(register);\r\n\t        }\t        \r\n\r\n\t        transaction.commit();\r\n\t    } catch (final Exception e) {\r\n\t        if (transaction != null) {\r\n\t            transaction.rollback();\r\n\t        }\r\n\t        throw e;\r\n\t    } finally {\r\n\t        if (session != null &amp;&amp; session.isOpen()) {\r\n\t            session.close();\r\n\t        }\r\n\t    }\r\n\t}`\r\n```\r\n\r\n**The Registers class: **\r\n\r\n```\r\n`@SuppressWarnings(&quot;serial&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;TAB_REGISTERS&quot;)\r\npublic class Registers implements Serializable {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;COD_REG&quot;)\r\n\tprivate Long cod;\r\n\r\n\t// The rest of the @columns with the mapped variables  and the constructors\r\n}`\r\n```\r\n\r\n**My hibernate.cfg.xml:**\r\n```\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;2&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;100&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;1000&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;100&lt;/property&gt;\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;`\r\n```\r\n\r\n**The calling code above of the Dao:**\r\n\r\n    public void saveNewRegisters(List&lt;Registers&gt; registers){\r\n    \t\ttry {\r\n    \t\t\tthis.dao.save(registers);\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tlogger.error(&quot;save()&quot;, e);\r\n    \t\t}\r\n}","title":"Application with multithreading stopping when trying to save data with Hibernate","body":"<p>I'm working on a personal project and I have multiple threads that calls the method save in the DAO, the first thread that executes the method works fine but the second one stops while executing the enhanced for in the save method and does not come back. Do I have to make something in the java code/hibernate or is this a configuration of my MariaDB? (Obs: the registers List has around 100 registers which time I save it, I do not know if this has something to do with the amout of data that I have to save).</p>\n<p><strong>The save method on DAO:</strong></p>\n<pre><code>\n`public synchronized void save(List&lt;Registers&gt; registers) throws Exception {\n        Session session = null;\n        Transaction transaction = null;\n\n        try {\n            session = HibernateUtil.getSessionFactory(this.url).openSession();\n            transaction = session.beginTransaction();\n\n            for (final Registers register : registers) {\n                session.save(register);\n            }           \n\n            transaction.commit();\n        } catch (final Exception e) {\n            if (transaction != null) {\n                transaction.rollback();\n            }\n            throw e;\n        } finally {\n            if (session != null &amp;&amp; session.isOpen()) {\n                session.close();\n            }\n        }\n    }`\n</code></pre>\n<p>**The Registers class: **</p>\n<pre><code>`@SuppressWarnings(&quot;serial&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\n@Table(name = &quot;TAB_REGISTERS&quot;)\npublic class Registers implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;COD_REG&quot;)\n    private Long cod;\n\n    // The rest of the @columns with the mapped variables  and the constructors\n}`\n</code></pre>\n<p><strong>My hibernate.cfg.xml:</strong></p>\n<pre><code>\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.driver&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;2&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;100&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;1000&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;100&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;`\n</code></pre>\n<p><strong>The calling code above of the Dao:</strong></p>\n<pre><code>public void saveNewRegisters(List&lt;Registers&gt; registers){\n        try {\n            this.dao.save(registers);\n        } catch (final Exception e) {\n            logger.error(&quot;save()&quot;, e);\n        }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":0,"creation_date":1690452247,"post_id":76775618,"comment_id":135357064,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29022984,"reputation":1,"user_id":22231889,"display_name":"Farouk Bensoukehal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690413530,"creation_date":1690413530,"question_id":76775618,"body_markdown":"I am planning to create an Android App that will automate sending a users response to a USSD Menu. At a click of a button, the app will send the initial code, followed by the rest of the menu inputs.\r\n\r\nFor example, the initial number is *665#, followed by 1(Make a transfer), (target number), (Password), and offer want to transfer. I&#39;d like to be able to automate that sequence of inputs so that the user won&#39;t have to input it on their own.\r\nPS: I dont want to make the ussd code like *665*1*targetnymber*passwd*numoffer#\r\nbecause the offers varies that&#39;s why\r\nI know that in Android Oreo, they implemented a USSD Callback using the TelephonyManager, where the Android App can send a USSD Request, and then read the response given.\r\n\r\nI have tried only the single code can be executed\r\nand I want the pop ups in dialing ussd comes in my app not by default phone pop up","title":"Android - Navigating through USSD menu using pre-determined inputs","body":"<p>I am planning to create an Android App that will automate sending a users response to a USSD Menu. At a click of a button, the app will send the initial code, followed by the rest of the menu inputs.</p>\n<p>For example, the initial number is <em>665#, followed by 1(Make a transfer), (target number), (Password), and offer want to transfer. I'd like to be able to automate that sequence of inputs so that the user won't have to input it on their own.\nPS: I dont want to make the ussd code like <em>665</em>1</em>targetnymber<em>passwd</em>numoffer#\nbecause the offers varies that's why\nI know that in Android Oreo, they implemented a USSD Callback using the TelephonyManager, where the Android App can send a USSD Request, and then read the response given.</p>\n<p>I have tried only the single code can be executed\nand I want the pop ups in dialing ussd comes in my app not by default phone pop up</p>\n"},{"tags":["java","stream","comparator","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690412622,"creation_date":1690410868,"answer_id":76775457,"question_id":76775369,"body_markdown":"Please use the second argument `Comparator.reverseOrder()` instead of `Comparator.comparing(BigDecimal::new).reversed()`\r\n\r\n\r\n    s = Stream.of(s).filter(x -&gt; x != null)\r\n    \t\t\t\t.sorted(Comparator.comparing(BigDecimal::new, Comparator.reverseOrder()))\r\n    \t\t\t\t.toArray(String[]::new);\r\n\r\n\r\n## Incorrect &lt;s&gt;Short&lt;/s&gt; version:\r\n(Updated after comments)\r\n\r\nThis codebase is sorting Strings, not BigDecimal objects! Please don&#39;t use it:\r\n\r\n    \r\n    s = Stream.of(s).filter(x -&gt; x != null)\r\n            .sorted(Comparator.reverseOrder())\r\n            .toArray(String[]::new);","title":"Java Comparator.Comparing().reversed() won&#39;t accept BigDecimal Constructor issue","body":"<p>Please use the second argument <code>Comparator.reverseOrder()</code> instead of <code>Comparator.comparing(BigDecimal::new).reversed()</code></p>\n<pre><code>s = Stream.of(s).filter(x -&gt; x != null)\n                .sorted(Comparator.comparing(BigDecimal::new, Comparator.reverseOrder()))\n                .toArray(String[]::new);\n</code></pre>\n<h2>Incorrect <s>Short</s> version:</h2>\n<p>(Updated after comments)</p>\n<p>This codebase is sorting Strings, not BigDecimal objects! Please don't use it:</p>\n<pre><code>s = Stream.of(s).filter(x -&gt; x != null)\n        .sorted(Comparator.reverseOrder())\n        .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690411535,"creation_date":1690411535,"answer_id":76775498,"question_id":76775369,"body_markdown":"Expressions need types. For example:\r\n\r\n```\r\nObject o = 5;\r\n```\r\n\r\n&#39;5&#39; is an expression. Its type is `int`. This is valid java code, but the type of the expression remains `int`; the fact that its being assigned to a variable of type `Object` does not change this. The compiler applies auto-boxing (assumes you meant to write `Object o = Integer.valueOf(5)`), and thus the desugared type of that expression becomes `Integer`, which is a subtype of Object and therefore can be assigned to variable o.\r\n\r\nThe thing about lambdas (`(x, y) -&gt; foo`) and function references (`something::methodName`) is that they, too, are values, and therefore they, too, need to have a type.\r\n\r\nAnd therein lies the rub. Java is designed so that there aren&#39;t generalized functional types. Instead, java checks the context _around_ the method reference or lambda and checks: Which functional interface type is required here? - and then assumes that&#39;s the type that lambda/functional type is meant to have, and __only then__ does the compiler actually parse the content of the lambda/method ref.\r\n\r\nIt has to do it this way, after all, `(x) -&gt; x.toLowerCase().length() &lt; 5` or whatever has to be a compiler error _unless_ the type of `x` is `String` or something else with a `toLowerCase()` method, so to even begin to compile this, the compiler needs to know x is of type `String` but it can&#39;t know that unless the context _around_ the `x -&gt; x.toLowerCase().length() &lt; 5` expression gives the compiler enough info to e.g. infer that the thing is meant to be a `Predicate&lt;String&gt;`.\r\n\r\nThe compiler does this by going inside-out, then outside-in, then inside-out again: First the compiler zooms in on everything and assigns types to it (i.e. in `Object o = 5;`, the compiler zooms in on the 5, it knows what type that is (`int`), and then zooms back out and figures out that auto-boxing is needed) - that&#39;s inside-out.\r\n\r\nWith lambdas/methodrefs, the compiler doesn&#39;t go any further than &#39;some lambda / some methodref, with unknown types&#39; and doesn&#39;t try to parse the content at all. With that info it continues (and e.g. figures out which of a bunch of overloaded methods you meant), and only if that determines a single unique functional interface, that interface is applied and the lambda/methodref is parsed in that light.\r\n\r\nA functional interface is any interface where you list all methods, remove anything with a default impl, remove anything that `j.l.Object` already has, and if there is precisely 1 method left over - then that is a functional interface, and you can implement it using lambda syntax or methodref syntax.\r\n\r\nHere, if you wrote:\r\n\r\n```\r\ns = Stream.of(s).filter(x -&gt; x != null).sorted(Comparator.comparing(BigDecimal::new)).toArray(String[]::new); \r\n```\r\n\r\nAll is well: `BigDecimal::new` is first treated as &#39;some methodref&#39;, then `Comparator.comparing` is checked, which determines that the argument has to be of type `Comparator&lt;? super X&gt;` where X isn&#39;t clear yet, so the compiler continues and eventually figures out that `s` is a `String[]`, from there it determines that therefore `Stream.of(s)` is a `Stream&lt;String&gt;`, therefore `Stream.of(s).filter(x -&gt; x != null)` is a `Stream&lt;String&gt;`, and from there that the argument to calling `.sorted()` on that must be `Comparator&lt;? super String&gt;`, and picks the most specific bound (`String`), and figures out that the argument needs to be a `Function&lt;String, Z extends Comparable&lt;Z&gt;` where Z can be anything.\r\n\r\nThat&#39;s all _very very_ complicated but the compiler manages to get that far, and in that light, parsed `BigDecimal::new` and figures it out: That is an implementation of `Function&lt;String, BigDecimal&gt;`, and BigDecimal is indeed a valid type for Z here. The code compiles and works.\r\n\r\nNow go back to what you have (which tosses a `reversed()` in the mix) and you&#39;ve exceeding the compiler&#39;s abilities to figure this out. It decides to go ahead and &#39;parse&#39; `BigDecimal::new` with less info (because it needs to figure out what `.reversed()` does before it can figure out the context around it), so it tries its best and parses it as a `Function&lt;Object, Z extends Comparable&lt;Z&gt;&gt;` and `BigDecimal::new` doesn&#39;t &#39;fit&#39; that type (as `new BigDecimal(anyObject)` doesn&#39;t exist).\r\n\r\nAnd that&#39;s the error you see.\r\n\r\nSolving it:\r\n\r\nYou need to tell the compiler about that context &#39;sooner&#39;. In your original code, you do that by assigning the comparator to a variable - because now the type of the variable serves as context. You can do that in the second snippet too:\r\n\r\n```\r\nComparator&lt;String&gt; byValue = Comparator.comparing(BigDecimal::new);\r\ns = Stream.of(s).filter(x -&gt; x != null).sorted(byValue.reversed()).toArray(String[]::new);\r\n```\r\n","title":"Java Comparator.Comparing().reversed() won&#39;t accept BigDecimal Constructor issue","body":"<p>Expressions need types. For example:</p>\n<pre><code>Object o = 5;\n</code></pre>\n<p>'5' is an expression. Its type is <code>int</code>. This is valid java code, but the type of the expression remains <code>int</code>; the fact that its being assigned to a variable of type <code>Object</code> does not change this. The compiler applies auto-boxing (assumes you meant to write <code>Object o = Integer.valueOf(5)</code>), and thus the desugared type of that expression becomes <code>Integer</code>, which is a subtype of Object and therefore can be assigned to variable o.</p>\n<p>The thing about lambdas (<code>(x, y) -&gt; foo</code>) and function references (<code>something::methodName</code>) is that they, too, are values, and therefore they, too, need to have a type.</p>\n<p>And therein lies the rub. Java is designed so that there aren't generalized functional types. Instead, java checks the context <em>around</em> the method reference or lambda and checks: Which functional interface type is required here? - and then assumes that's the type that lambda/functional type is meant to have, and <strong>only then</strong> does the compiler actually parse the content of the lambda/method ref.</p>\n<p>It has to do it this way, after all, <code>(x) -&gt; x.toLowerCase().length() &lt; 5</code> or whatever has to be a compiler error <em>unless</em> the type of <code>x</code> is <code>String</code> or something else with a <code>toLowerCase()</code> method, so to even begin to compile this, the compiler needs to know x is of type <code>String</code> but it can't know that unless the context <em>around</em> the <code>x -&gt; x.toLowerCase().length() &lt; 5</code> expression gives the compiler enough info to e.g. infer that the thing is meant to be a <code>Predicate&lt;String&gt;</code>.</p>\n<p>The compiler does this by going inside-out, then outside-in, then inside-out again: First the compiler zooms in on everything and assigns types to it (i.e. in <code>Object o = 5;</code>, the compiler zooms in on the 5, it knows what type that is (<code>int</code>), and then zooms back out and figures out that auto-boxing is needed) - that's inside-out.</p>\n<p>With lambdas/methodrefs, the compiler doesn't go any further than 'some lambda / some methodref, with unknown types' and doesn't try to parse the content at all. With that info it continues (and e.g. figures out which of a bunch of overloaded methods you meant), and only if that determines a single unique functional interface, that interface is applied and the lambda/methodref is parsed in that light.</p>\n<p>A functional interface is any interface where you list all methods, remove anything with a default impl, remove anything that <code>j.l.Object</code> already has, and if there is precisely 1 method left over - then that is a functional interface, and you can implement it using lambda syntax or methodref syntax.</p>\n<p>Here, if you wrote:</p>\n<pre><code>s = Stream.of(s).filter(x -&gt; x != null).sorted(Comparator.comparing(BigDecimal::new)).toArray(String[]::new); \n</code></pre>\n<p>All is well: <code>BigDecimal::new</code> is first treated as 'some methodref', then <code>Comparator.comparing</code> is checked, which determines that the argument has to be of type <code>Comparator&lt;? super X&gt;</code> where X isn't clear yet, so the compiler continues and eventually figures out that <code>s</code> is a <code>String[]</code>, from there it determines that therefore <code>Stream.of(s)</code> is a <code>Stream&lt;String&gt;</code>, therefore <code>Stream.of(s).filter(x -&gt; x != null)</code> is a <code>Stream&lt;String&gt;</code>, and from there that the argument to calling <code>.sorted()</code> on that must be <code>Comparator&lt;? super String&gt;</code>, and picks the most specific bound (<code>String</code>), and figures out that the argument needs to be a <code>Function&lt;String, Z extends Comparable&lt;Z&gt;</code> where Z can be anything.</p>\n<p>That's all <em>very very</em> complicated but the compiler manages to get that far, and in that light, parsed <code>BigDecimal::new</code> and figures it out: That is an implementation of <code>Function&lt;String, BigDecimal&gt;</code>, and BigDecimal is indeed a valid type for Z here. The code compiles and works.</p>\n<p>Now go back to what you have (which tosses a <code>reversed()</code> in the mix) and you've exceeding the compiler's abilities to figure this out. It decides to go ahead and 'parse' <code>BigDecimal::new</code> with less info (because it needs to figure out what <code>.reversed()</code> does before it can figure out the context around it), so it tries its best and parses it as a <code>Function&lt;Object, Z extends Comparable&lt;Z&gt;&gt;</code> and <code>BigDecimal::new</code> doesn't 'fit' that type (as <code>new BigDecimal(anyObject)</code> doesn't exist).</p>\n<p>And that's the error you see.</p>\n<p>Solving it:</p>\n<p>You need to tell the compiler about that context 'sooner'. In your original code, you do that by assigning the comparator to a variable - because now the type of the variable serves as context. You can do that in the second snippet too:</p>\n<pre><code>Comparator&lt;String&gt; byValue = Comparator.comparing(BigDecimal::new);\ns = Stream.of(s).filter(x -&gt; x != null).sorted(byValue.reversed()).toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":29098737,"reputation":11,"user_id":22291048,"display_name":"Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690412622,"creation_date":1690409448,"question_id":76775369,"body_markdown":"I&#39;m working on a problem where you are given a String[] containing numbers that are all formatted differently - e.g. &quot;9&quot;, &quot;-100&quot;, &quot;56.6&quot;, &quot;0.12&quot;, &quot;.12&quot;, &quot;02.34&quot;, &quot;000.000&quot;, etc. The idea being that you need to sort the array in descending order while maintaining the given format. There are also null values in there. I have solved the problem multiple ways, but I ran into a problem that I can&#39;t seem to wrap my head around. \r\n\r\n\r\nI originally solved the problem using the following logic:\r\n\r\n```\r\nComparator&lt;String&gt; com = (x, y) -&gt; new BigDecimal(y).compareTo(new BigDecimal(x));\r\n \r\ns = Stream.of(s).filter(x -&gt; x != null).sorted(com).toArray(String[]::new);\r\n```\r\n\r\nI then tried to apply similar logic, which is where things broke down:\r\n\r\n`s = Stream.of(s).filter(x -&gt; x != null).sorted(Comparator.comparing(BigDecimal::new).reversed()).toArray(String[]::new);\r\n`\r\n\r\nThis threw the following error:\r\n\r\n&gt; java: incompatible types: cannot infer type-variable(s) T,U\r\n    (argument mismatch; invalid constructor reference\r\n      no suitable constructor found for BigDecimal(java.lang.Object)\r\n          constructor java.math.BigDecimal.BigDecimal(char[]) is not applicable\r\n            (argument mismatch; java.lang.Object cannot be converted to char[])\r\n          constructor java.math.BigDecimal.BigDecimal(java.lang.String) is not applicable\r\n            (argument mismatch; java.lang.Object cannot be converted to java.lang.String)\r\n          constructor java.math.BigDecimal.BigDecimal(double) is not applicable\r\n            (argument mismatch; java.lang.Object cannot be converted to double)\r\n\r\n\r\nI honestly can&#39;t make heads or tails of this. Disclaimer, I&#39;m still pretty new to working with streams. I would appreciate any insight. ","title":"Java Comparator.Comparing().reversed() won&#39;t accept BigDecimal Constructor issue","body":"<p>I'm working on a problem where you are given a String[] containing numbers that are all formatted differently - e.g. &quot;9&quot;, &quot;-100&quot;, &quot;56.6&quot;, &quot;0.12&quot;, &quot;.12&quot;, &quot;02.34&quot;, &quot;000.000&quot;, etc. The idea being that you need to sort the array in descending order while maintaining the given format. There are also null values in there. I have solved the problem multiple ways, but I ran into a problem that I can't seem to wrap my head around.</p>\n<p>I originally solved the problem using the following logic:</p>\n<pre><code>Comparator&lt;String&gt; com = (x, y) -&gt; new BigDecimal(y).compareTo(new BigDecimal(x));\n \ns = Stream.of(s).filter(x -&gt; x != null).sorted(com).toArray(String[]::new);\n</code></pre>\n<p>I then tried to apply similar logic, which is where things broke down:</p>\n<p><code>s = Stream.of(s).filter(x -&gt; x != null).sorted(Comparator.comparing(BigDecimal::new).reversed()).toArray(String[]::new); </code></p>\n<p>This threw the following error:</p>\n<blockquote>\n<p>java: incompatible types: cannot infer type-variable(s) T,U\n(argument mismatch; invalid constructor reference\nno suitable constructor found for BigDecimal(java.lang.Object)\nconstructor java.math.BigDecimal.BigDecimal(char[]) is not applicable\n(argument mismatch; java.lang.Object cannot be converted to char[])\nconstructor java.math.BigDecimal.BigDecimal(java.lang.String) is not applicable\n(argument mismatch; java.lang.Object cannot be converted to java.lang.String)\nconstructor java.math.BigDecimal.BigDecimal(double) is not applicable\n(argument mismatch; java.lang.Object cannot be converted to double)</p>\n</blockquote>\n<p>I honestly can't make heads or tails of this. Disclaimer, I'm still pretty new to working with streams. I would appreciate any insight.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":6,"creation_date":1690409828,"post_id":76775381,"comment_id":135351556,"body_markdown":"The key lies in **how** you are running it.  Command Line? Which OS? In an IDE?","body":"The key lies in <b>how</b> you are running it.  Command Line? Which OS? In an IDE?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1690412942,"post_id":76775381,"comment_id":135351955,"body_markdown":"Welcome to Stack Overflow. Please read [ask] and take the [tour]. It is especially important to note that this is **not a discussion forum**, and posts you make here are not the start of &quot;threads&quot;; they are expected to be **questions** that can be concretely answered. Please do not use the answer section to follow up unless you are answering your own question, and please do not talk about yourself in the question.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>. It is especially important to note that this is <b>not a discussion forum</b>, and posts you make here are not the start of &quot;threads&quot;; they are expected to be <b>questions</b> that can be concretely answered. Please do not use the answer section to follow up unless you are answering your own question, and please do not talk about yourself in the question."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690410022,"creation_date":1690410022,"answer_id":76775405,"question_id":76775381,"body_markdown":"For me, it works \r\n\r\nI stored the code above to a file named `Main.java` in an empty folder, than I started a console, moved to that folder and entered\r\n\r\n```shell\r\n% java Main.java\r\n```\r\n\r\nThat returned `I love pizza` as expected.\r\n\r\nI was using Java 17; if you use an older version, you may have to type\r\n\r\n```shell\r\n% javac Main.java\r\n% java Main\r\n```\r\n ","title":"Why am I getting a Error when I try to run my Java code?","body":"<p>For me, it works </p>\n<p>I stored the code above to a file named <code>Main.java</code> in an empty folder, than I started a console, moved to that folder and entered</p>\n<pre class=\"lang-bash prettyprint-override\"><code>% java Main.java\n</code></pre>\n<p>That returned <code>I love pizza</code> as expected.</p>\n<p>I was using Java 17; if you use an older version, you may have to type</p>\n<pre class=\"lang-bash prettyprint-override\"><code>% javac Main.java\n% java Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29098822,"reputation":1,"user_id":22291101,"display_name":"Muzammil Shaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690410106,"creation_date":1690410106,"answer_id":76775410,"question_id":76775381,"body_markdown":"Make sure you have &quot;classname&quot; and &quot;filename&quot; are same. It&#39;s case-sensity.\r\n\r\n    //filename: Main.java\r\n\r\n    public class Main{\r\n     public static void main(String args[]){  \r\n     System.out.println(&quot;Hello Java&quot;);  \r\n     }\r\n    }\r\n    //Hope this helps.\r\n\r\n\r\n  ","title":"Why am I getting a Error when I try to run my Java code?","body":"<p>Make sure you have &quot;classname&quot; and &quot;filename&quot; are same. It's case-sensity.</p>\n<pre><code>//filename: Main.java\n\npublic class Main{\n public static void main(String args[]){  \n System.out.println(&quot;Hello Java&quot;);  \n }\n}\n//Hope this helps.\n</code></pre>\n"}],"owner":{"account_id":29090286,"reputation":11,"user_id":22284332,"display_name":"User102"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690426566,"answer_count":2,"score":0,"last_activity_date":1690412173,"creation_date":1690409672,"question_id":76775381,"body_markdown":"I&#39;m trying to learn Java for the first time and I&#39;m following a toutorial but i keep getting the same error after i try to run my code :/\r\nMy code:\r\n\r\n```\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.print(&quot;I love pizza&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy error:\r\n\r\n```\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.ClassNotFoundException: Main\r\n```\r\nI&#39;ve already created a &#39;Main&#39; class but it won&#39;t work.\r\n\r\n\r\nI thought it would print &#39;I love pizza&#39; to the console window like it did in the toutorial i was watching but that does not happen :/","title":"Why am I getting a Error when I try to run my Java code?","body":"<p>I'm trying to learn Java for the first time and I'm following a toutorial but i keep getting the same error after i try to run my code :/\nMy code:</p>\n<pre><code>\npublic class Main {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.print(&quot;I love pizza&quot;);\n    }\n\n}\n\n</code></pre>\n<p>My error:</p>\n<pre><code>Error: Could not find or load main class Main\nCaused by: java.lang.ClassNotFoundException: Main\n</code></pre>\n<p>I've already created a 'Main' class but it won't work.</p>\n<p>I thought it would print 'I love pizza' to the console window like it did in the toutorial i was watching but that does not happen :/</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675706320,"creation_date":1675706320,"answer_id":75364935,"question_id":75364480,"body_markdown":"This should work.\r\n\r\nNote that I have used ArrayList &amp; Array where [] would be better, but you mentioned API using ArrayList. Used List in declarations rather than ArrayList (because that&#39;s better practise)\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class PackageBuilderDemo {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPackageBuilderDemo packageBuilderDemo = new PackageBuilderDemo();\r\n    \t\tpackageBuilderDemo.createMyPayload(&quot;studentOne&quot;, &quot;joe&quot;, &quot;bloggs&quot;, &quot;https://example.com/myparts/a1234567-5d25-9gf1-23ua-45pb3874265l&quot;, Arrays.asList(new String[] {&quot;https:/example.com/myPackages/0sk98926-939a-444a-95ta-8eb40125f7r1&quot;}));\r\n    \t}\r\n    \t\r\n    \tpublic DemoRequest createMyPayload(String myId, String myFirstName, String myLastName, String myParts, List&lt;String&gt; myPackages) { \r\n    \t    DemoPackage demoPackage = DemoPackage.builder().myparts(myParts).myPackages(myPackages).build();\r\n    \t\tList&lt;DemoPackage&gt; demoPackages = new ArrayList&lt;&gt;();\r\n    \t\t\t\tdemoPackages.add(demoPackage);\r\n    \t\treturn DemoRequest.builder()\r\n    \t                         .myId(myId)\r\n    \t                         .myFirstName(myFirstName)\r\n    \t                         .myLastName(myLastName)\r\n    \t                         .demoPackages(demoPackages)\r\n    \t                         .build();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DemoRequest {\r\n      private String myId;\r\n      private String myFirstName;\r\n      private String myLastName;\r\n      private List&lt;DemoPackage&gt; demoPackages;\r\n      \r\n    }\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DemoPackage{\r\n        private String myparts;\r\n        private List&lt;String&gt; myPackages;\r\n      }\r\n\r\n","title":"Is there a way to pass an API ArrayList field in POJO builder object?","body":"<p>This should work.</p>\n<p>Note that I have used ArrayList &amp; Array where [] would be better, but you mentioned API using ArrayList. Used List in declarations rather than ArrayList (because that's better practise)</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class PackageBuilderDemo {\n    \n    public static void main(String[] args) {\n        PackageBuilderDemo packageBuilderDemo = new PackageBuilderDemo();\n        packageBuilderDemo.createMyPayload(&quot;studentOne&quot;, &quot;joe&quot;, &quot;bloggs&quot;, &quot;https://example.com/myparts/a1234567-5d25-9gf1-23ua-45pb3874265l&quot;, Arrays.asList(new String[] {&quot;https:/example.com/myPackages/0sk98926-939a-444a-95ta-8eb40125f7r1&quot;}));\n    }\n    \n    public DemoRequest createMyPayload(String myId, String myFirstName, String myLastName, String myParts, List&lt;String&gt; myPackages) { \n        DemoPackage demoPackage = DemoPackage.builder().myparts(myParts).myPackages(myPackages).build();\n        List&lt;DemoPackage&gt; demoPackages = new ArrayList&lt;&gt;();\n                demoPackages.add(demoPackage);\n        return DemoRequest.builder()\n                             .myId(myId)\n                             .myFirstName(myFirstName)\n                             .myLastName(myLastName)\n                             .demoPackages(demoPackages)\n                             .build();\n    }\n\n}\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DemoRequest {\n  private String myId;\n  private String myFirstName;\n  private String myLastName;\n  private List&lt;DemoPackage&gt; demoPackages;\n  \n}\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DemoPackage{\n    private String myparts;\n    private List&lt;String&gt; myPackages;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29098946,"reputation":1,"user_id":22291199,"display_name":"user22291199"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690412139,"creation_date":1690412139,"answer_id":76775537,"question_id":75364480,"body_markdown":"could be done by directly converting array to list.\r\n\r\nreturn DemoRequest.builder()\r\n                             .myId(myId)\r\n                             .myFirstName(myFirstName)\r\n                             .myLastName(myLastName)\r\n                             .Arrays.asList(demoPackages(DemoPackage.builder()\r\n.myparts(myParts)\r\n.myPackages(myPackages)\r\n.build()))\r\n                             .build();","title":"Is there a way to pass an API ArrayList field in POJO builder object?","body":"<p>could be done by directly converting array to list.</p>\n<p>return DemoRequest.builder()\n.myId(myId)\n.myFirstName(myFirstName)\n.myLastName(myLastName)\n.Arrays.asList(demoPackages(DemoPackage.builder()\n.myparts(myParts)\n.myPackages(myPackages)\n.build()))\n.build();</p>\n"}],"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75364935,"answer_count":2,"score":1,"last_activity_date":1690412139,"creation_date":1675703555,"question_id":75364480,"body_markdown":"I have this API request payload containing some nested fields:\r\n\r\n   \r\n\r\n     {\r\n          &quot;myId&quot;: &quot;studentOne&quot;,\r\n          &quot;myFirstName&quot;: &quot;joe&quot;,\r\n          &quot;myLastName&quot;: &quot;bloggs&quot;,\r\n          &quot;demoPackages&quot;: \r\n           [{\r\n              &quot;myparts&quot;: &quot;https://example.com/myparts/a1234567-5d25-9gf1-23ua-45pb3874265l&quot;,\r\n              &quot;myPackages&quot;: [\r\n               &quot;https:/example.com/myPackages/0sk98926-939a-444a-95ta-8eb40125f7r1&quot;\r\n                ]\r\n            }\r\n           ]\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nI have this corresponding request model DTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DemoRequest {\r\n      private String myId;\r\n      private String myFirstName;\r\n      private String myLastName;\r\n      private ArrayList&lt;DemoPackage&gt; demoPackages;\r\n    \r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n      public class DemoPackage{\r\n        private String myparts;\r\n        private ArrayList myPackages;\r\n      }\r\n    }\r\n\r\nNow, the challenge. When creating a builder object that holds the API request, I am lost as to how to pass the ArrayList fields. I tried this:\r\n\r\n\r\n    public Object createMyPayload(String myId, String myFirstName, String myLastName, ArrayList myparts, ArrayList myPackages) { //not too sure if I am passing myParts and myPackages correctly here\r\n        return DemoRequest.builder()\r\n                             .myId(myId)\r\n                             .myFirstName(myFirstName)\r\n                             .myLastName(myLastName)\r\n                             .releasePackages(myparts)\r\n                             .releasePackages(myPackages)\r\n                             .build();\r\n\r\n\r\n\r\nWhen I call the `createMyPayload()` from another class to use the builder object, I am getting a compilation error which suggests that my ArrayList fields data type is wrong:\r\n\r\n\r\n     @When(&quot;I send a POST request to the endpoint (.*)$&quot;)\r\n    public void create(String endpoint, String myId, String myFirstName, String myLastName, ArrayList myparts, ArrayList myPackages) {\r\n    \r\n    \r\n    String id = &quot;studentOne&quot;\r\n    String myFirstName = &quot;joe&quot;\r\n    String myLastName = &quot;bloggs&quot;\r\n    String myParts = &quot;https://example.com/myparts/a1234567-5d25-9gf1-23ua-45pb3874265l&quot;;\r\n    String myPackages = &quot;https:/example.com/myPackages/0sk98926-939a-444a-95ta-8eb40125f7r1&quot;;\r\n    \r\n    \r\n        demoClass.post(createPayload.createMyPayload(myId, myFirstName, myLastName, myParts, myPackages), endpoint); // myParts and myPackages throw compilation error that data should be Arraylist but when I change to ArrayList, it&#39;s asking me to change back to String\r\n\r\n\r\nHow do I correctly pass `myParts` and `myPackages` to the lombok builder object and reuse them elsewhere?\r\n","title":"Is there a way to pass an API ArrayList field in POJO builder object?","body":"<p>I have this API request payload containing some nested fields:</p>\n<pre><code> {\n      &quot;myId&quot;: &quot;studentOne&quot;,\n      &quot;myFirstName&quot;: &quot;joe&quot;,\n      &quot;myLastName&quot;: &quot;bloggs&quot;,\n      &quot;demoPackages&quot;: \n       [{\n          &quot;myparts&quot;: &quot;https://example.com/myparts/a1234567-5d25-9gf1-23ua-45pb3874265l&quot;,\n          &quot;myPackages&quot;: [\n           &quot;https:/example.com/myPackages/0sk98926-939a-444a-95ta-8eb40125f7r1&quot;\n            ]\n        }\n       ]\n    }\n</code></pre>\n<p>I have this corresponding request model DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DemoRequest {\n  private String myId;\n  private String myFirstName;\n  private String myLastName;\n  private ArrayList&lt;DemoPackage&gt; demoPackages;\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n  public class DemoPackage{\n    private String myparts;\n    private ArrayList myPackages;\n  }\n}\n</code></pre>\n<p>Now, the challenge. When creating a builder object that holds the API request, I am lost as to how to pass the ArrayList fields. I tried this:</p>\n<pre><code>public Object createMyPayload(String myId, String myFirstName, String myLastName, ArrayList myparts, ArrayList myPackages) { //not too sure if I am passing myParts and myPackages correctly here\n    return DemoRequest.builder()\n                         .myId(myId)\n                         .myFirstName(myFirstName)\n                         .myLastName(myLastName)\n                         .releasePackages(myparts)\n                         .releasePackages(myPackages)\n                         .build();\n</code></pre>\n<p>When I call the <code>createMyPayload()</code> from another class to use the builder object, I am getting a compilation error which suggests that my ArrayList fields data type is wrong:</p>\n<pre><code> @When(&quot;I send a POST request to the endpoint (.*)$&quot;)\npublic void create(String endpoint, String myId, String myFirstName, String myLastName, ArrayList myparts, ArrayList myPackages) {\n\n\nString id = &quot;studentOne&quot;\nString myFirstName = &quot;joe&quot;\nString myLastName = &quot;bloggs&quot;\nString myParts = &quot;https://example.com/myparts/a1234567-5d25-9gf1-23ua-45pb3874265l&quot;;\nString myPackages = &quot;https:/example.com/myPackages/0sk98926-939a-444a-95ta-8eb40125f7r1&quot;;\n\n\n    demoClass.post(createPayload.createMyPayload(myId, myFirstName, myLastName, myParts, myPackages), endpoint); // myParts and myPackages throw compilation error that data should be Arraylist but when I change to ArrayList, it's asking me to change back to String\n</code></pre>\n<p>How do I correctly pass <code>myParts</code> and <code>myPackages</code> to the lombok builder object and reuse them elsewhere?</p>\n"},{"tags":["java","spring","maven","dto"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1689967349,"post_id":76740693,"comment_id":135292681,"body_markdown":"I feel like this question is opinion-based.","body":"I feel like this question is opinion-based."}],"answers":[{"tags":[],"owner":{"account_id":2995936,"reputation":106,"user_id":2542481,"display_name":"Thomas Nagel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689972342,"creation_date":1689972342,"answer_id":76741136,"question_id":76740693,"body_markdown":"i think this is not a question related to spring alone. It could be asked in any producer-consumer situation. The question can be restatet like &quot;who describes the data&quot;. \r\n\r\nThe DTOs are the data model. So probably they need to be known by both sides. It would be a good guess to locate them in a shared module. This can be owned by the backend. \r\n\r\nThe probability is that the backend produes the answers, and the queries are more simple, so the the queries will often be arguments to functions, and the answers will often be a series of data rows. Thats what is done often. So the backend can own the types, but must export them to the con sumer.\r\n\r\nMaybe it helps to think of modules that need not be written in the same language. If XML or JSON is used to transfer the data, the question is the same: who owns the regiment of describing the data. And that is probably safer to put into the producer.\r\n","title":"Wondering where DTO classes belong in multimodule Maven project","body":"<p>i think this is not a question related to spring alone. It could be asked in any producer-consumer situation. The question can be restatet like &quot;who describes the data&quot;.</p>\n<p>The DTOs are the data model. So probably they need to be known by both sides. It would be a good guess to locate them in a shared module. This can be owned by the backend.</p>\n<p>The probability is that the backend produes the answers, and the queries are more simple, so the the queries will often be arguments to functions, and the answers will often be a series of data rows. Thats what is done often. So the backend can own the types, but must export them to the con sumer.</p>\n<p>Maybe it helps to think of modules that need not be written in the same language. If XML or JSON is used to transfer the data, the question is the same: who owns the regiment of describing the data. And that is probably safer to put into the producer.</p>\n"}],"owner":{"account_id":1035463,"reputation":505,"user_id":1042869,"accept_rate":54,"display_name":"Marcin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690411655,"creation_date":1689967272,"question_id":76740693,"body_markdown":"I have Maven Spring Boot application with following modules:\r\n\r\n- root (root pom)\r\n    - backend (Spring backend, has many REST endpoints)\r\n    - gateway (common configuration for api clients)\r\n        - xxx-api (connects to xxx service, generates Java from openapi)\r\n        - yyy-api (connects to yyy service, generates Java from openapi)\r\n\r\nThe xxx and yyy service have their own transport models that I need to convert (mostly simplify). I&#39;m using mapstruct for this.\r\n\r\nI&#39;m wondering where should I put my mapstruct **@Mapper**s and **DTO** classes (they need to go together in same module). One side of me is telling me that **xxx-api** and **yyy-api** modules are ok for this (the closest to the source of data), the other says that **DTO**s (and in consequence **@Mapper**s) should be defined in the **backend** module (after all they are returned by the Spring controllers).\r\n\r\nWhat&#39;s your take on this? I feel like I&#39;m overcomplicating but I&#39;m not sure if **DTO** classes can (by the design) **not** be placed in the **backend** module.\r\n","title":"Wondering where DTO classes belong in multimodule Maven project","body":"<p>I have Maven Spring Boot application with following modules:</p>\n<ul>\n<li>root (root pom)\n<ul>\n<li>backend (Spring backend, has many REST endpoints)</li>\n<li>gateway (common configuration for api clients)\n<ul>\n<li>xxx-api (connects to xxx service, generates Java from openapi)</li>\n<li>yyy-api (connects to yyy service, generates Java from openapi)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The xxx and yyy service have their own transport models that I need to convert (mostly simplify). I'm using mapstruct for this.</p>\n<p>I'm wondering where should I put my mapstruct <strong>@Mapper</strong>s and <strong>DTO</strong> classes (they need to go together in same module). One side of me is telling me that <strong>xxx-api</strong> and <strong>yyy-api</strong> modules are ok for this (the closest to the source of data), the other says that <strong>DTO</strong>s (and in consequence <strong>@Mapper</strong>s) should be defined in the <strong>backend</strong> module (after all they are returned by the Spring controllers).</p>\n<p>What's your take on this? I feel like I'm overcomplicating but I'm not sure if <strong>DTO</strong> classes can (by the design) <strong>not</strong> be placed in the <strong>backend</strong> module.</p>\n"},{"tags":["java","mule","mulesoft","mule4","mule-component"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689791891,"post_id":76724092,"comment_id":135265152,"body_markdown":"This may be an [XY Problem](https://xyproblem.info/). You should provide more clarity into what are you trying to achieve, what is the original problem you are trying to resolve. For what you need to access the object in Java instead of using Mule 4 features? Depending on that the answer could be different.","body":"This may be an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. You should provide more clarity into what are you trying to achieve, what is the original problem you are trying to resolve. For what you need to access the object in Java instead of using Mule 4 features? Depending on that the answer could be different."}],"owner":{"account_id":29051348,"reputation":11,"user_id":22254103,"display_name":"Andre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690410793,"creation_date":1689789867,"question_id":76724092,"body_markdown":"\r\nI have a java connector that access the registry and triggers a flow using Java SDK. The result of the flow execution is a JSON payload. The reason I am doing this is because the requirement is to invoke a flow, get the response back, extract the attributes and use them to query another API using the pollingsource strategy as a source adding the queryparameters found in the resulting payload from the flow invocation.\r\n\r\nThe response payload is an object:\r\n```\r\norg.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider@2e58ddfc\r\n```\r\nWould you have any idea on how to parse it to a JSON or any other way of accessing the values? \r\n\r\n","title":"How to read a Mulesoft 4 flow response in java","body":"<p>I have a java connector that access the registry and triggers a flow using Java SDK. The result of the flow execution is a JSON payload. The reason I am doing this is because the requirement is to invoke a flow, get the response back, extract the attributes and use them to query another API using the pollingsource strategy as a source adding the queryparameters found in the resulting payload from the flow invocation.</p>\n<p>The response payload is an object:</p>\n<pre><code>org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider@2e58ddfc\n</code></pre>\n<p>Would you have any idea on how to parse it to a JSON or any other way of accessing the values?</p>\n"},{"tags":["java","android","android-app-bundle"],"answers":[{"tags":[],"owner":{"account_id":19012450,"reputation":161,"user_id":13878117,"display_name":"Yama&#231; Bayn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1597354354,"creation_date":1597354354,"answer_id":63403506,"question_id":63401305,"body_markdown":"After spending so many hours I managed to build the bundle successfully.\r\n\r\nSimply remove brackets from your asset folder&#39;s build.gradle file\r\n\r\n    deliveryType = &quot;install-time&quot;\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nThis is Google&#39;s example code for Play Asset Delivery\r\n\r\n    // In the asset packs build.gradle file:\r\n    apply plugin: &#39;com.android.asset-pack&#39;\r\n    \r\n    assetPack {\r\n        packName = &quot;asset-pack-name&quot; // Directory name for the asset pack\r\n        dynamicDelivery {\r\n            deliveryType = &quot;[ install-time | fast-follow | on-demand ]&quot;\r\n        }\r\n    }\r\n\r\nI thought  *deliveryType = &quot;[install-time]&quot;*  would be the correct syntax. After comparing my asset pack manifest with a dynamic feature&#39;s manifest I realized gradle produces a wrong dist attribute. \r\n\r\nThis is what i got for writing deliveryType with brackets\r\n\r\n    &lt;dist:[install-time]/&gt;\r\n\r\nThis is the correct syntax in the dynamic feature&#39;s manifest\r\n\r\n    &lt;dist:on-demand /&gt;\r\n\r\nRemoving brackets did the trick. Hope it helps someone.","title":"Play Asset Delivery Android resource linking failed - Execution failed for task :app:linkDebugManifestForAssetPacks","body":"<p>After spending so many hours I managed to build the bundle successfully.</p>\n<p>Simply remove brackets from your asset folder's build.gradle file</p>\n<pre><code>deliveryType = &quot;install-time&quot;\n</code></pre>\n<br>\n<br>\n<p>This is Google's example code for Play Asset Delivery</p>\n<pre><code>// In the asset packs build.gradle file:\napply plugin: 'com.android.asset-pack'\n\nassetPack {\n    packName = &quot;asset-pack-name&quot; // Directory name for the asset pack\n    dynamicDelivery {\n        deliveryType = &quot;[ install-time | fast-follow | on-demand ]&quot;\n    }\n}\n</code></pre>\n<p>I thought  <em>deliveryType = &quot;[install-time]&quot;</em>  would be the correct syntax. After comparing my asset pack manifest with a dynamic feature's manifest I realized gradle produces a wrong dist attribute.</p>\n<p>This is what i got for writing deliveryType with brackets</p>\n<pre><code>&lt;dist:[install-time]/&gt;\n</code></pre>\n<p>This is the correct syntax in the dynamic feature's manifest</p>\n<pre><code>&lt;dist:on-demand /&gt;\n</code></pre>\n<p>Removing brackets did the trick. Hope it helps someone.</p>\n"}],"owner":{"account_id":19012450,"reputation":161,"user_id":13878117,"display_name":"Yama&#231; Bayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63403506,"answer_count":1,"score":3,"last_activity_date":1690410698,"creation_date":1597343832,"question_id":63401305,"body_markdown":"I&#39;m trying to build a soundboard app. I have lots of sounds to deploy so I decided to use Play Asset Delivery. I followed the instructions in the Google&#39;s guide.\r\n\r\n 1. I created an asset pack folder in the top level and named it sounds. This is how my project looks\r\n\r\n     Project structure:\r\n![][1]\r\n\r\n&lt;br&gt;\r\n\r\nThis is the `build.gradle` file in the sounds directory\r\n\r\n    apply plugin: &#39;com.android.asset-pack&#39;\r\n\r\n    assetPack {\r\n    packName = &quot;sounds&quot; // Directory name for the asset pack\r\n    dynamicDelivery {\r\n        deliveryType = &quot;[install-time]&quot;\r\n    }\r\n    }\r\n\r\n&lt;br&gt;\r\n\r\n 2. Updated my app build.gradle file \r\n\r\n        android {\r\n        .\r\n        .\r\n        .\r\n        assetPacks = [&quot;:sounds&quot;]\r\n        }\r\n\r\nand my settings.gradle file\r\n\r\n    include &#39;:app&#39;\r\n    include &#39;:sounds&#39;\r\n\r\n\r\n&lt;br&gt;\r\n\r\n 3. Placed the assets in the sounds/src/main/assets \r\n\r\n\r\nWhen I try to build the bundle I keep getting this error\r\n\r\nGradle Error:\r\n![][2]\r\n\r\nThis is the Manifest in the sounds folder\r\n\r\nManifest with errors:\r\n![][3]\r\n\r\n\r\nI tried cleaning the project, invalidating caches and restarting but nothing seems to work.\r\n\r\n  [1]: https://i.stack.imgur.com/tIste.png\r\n  [2]: https://i.stack.imgur.com/56aGO.png\r\n  [3]: https://i.stack.imgur.com/I3MSE.png","title":"Play Asset Delivery Android resource linking failed - Execution failed for task :app:linkDebugManifestForAssetPacks","body":"<p>I'm trying to build a soundboard app. I have lots of sounds to deploy so I decided to use Play Asset Delivery. I followed the instructions in the Google's guide.</p>\n<ol>\n<li><p>I created an asset pack folder in the top level and named it sounds. This is how my project looks</p>\n<p>Project structure:\n<img src=\"https://i.stack.imgur.com/tIste.png\" alt=\"\" /></p>\n</li>\n</ol>\n<br>\n<p>This is the <code>build.gradle</code> file in the sounds directory</p>\n<pre><code>apply plugin: 'com.android.asset-pack'\n\nassetPack {\npackName = &quot;sounds&quot; // Directory name for the asset pack\ndynamicDelivery {\n    deliveryType = &quot;[install-time]&quot;\n}\n}\n</code></pre>\n<br>\n<ol start=\"2\">\n<li><p>Updated my app build.gradle file</p>\n<pre><code>android {\n.\n.\n.\nassetPacks = [&quot;:sounds&quot;]\n}\n</code></pre>\n</li>\n</ol>\n<p>and my settings.gradle file</p>\n<pre><code>include ':app'\ninclude ':sounds'\n</code></pre>\n<br>\n<ol start=\"3\">\n<li>Placed the assets in the sounds/src/main/assets</li>\n</ol>\n<p>When I try to build the bundle I keep getting this error</p>\n<p>Gradle Error:\n<img src=\"https://i.stack.imgur.com/56aGO.png\" alt=\"\" /></p>\n<p>This is the Manifest in the sounds folder</p>\n<p>Manifest with errors:\n<img src=\"https://i.stack.imgur.com/I3MSE.png\" alt=\"\" /></p>\n<p>I tried cleaning the project, invalidating caches and restarting but nothing seems to work.</p>\n"},{"tags":["java","apache","jboss"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1456311033,"post_id":35599883,"comment_id":58884648,"body_markdown":"What have you tried so far? Putting `Disable OPTIONS HTTP on Apache Server` in Google returns on top https://sureshk37.wordpress.com/2014/10/01/how-to-disable-apache-http-options-method/.","body":"What have you tried so far? Putting <code>Disable OPTIONS HTTP on Apache Server</code> in Google returns on top <a href=\"https://sureshk37.wordpress.com/2014/10/01/how-to-disable-apache-http-options-method/\" rel=\"nofollow noreferrer\">sureshk37.wordpress.com/2014/10/01/&hellip;</a>."},{"owner":{"account_id":112461,"reputation":9786,"user_id":296635,"accept_rate":74,"display_name":"Mercer"},"score":1,"creation_date":1456311064,"post_id":35599883,"comment_id":58884666,"body_markdown":"Dear gentlemen, if you downvote please give at least a small comment how my answer can be improved.","body":"Dear gentlemen, if you downvote please give at least a small comment how my answer can be improved."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1456312586,"post_id":35599883,"comment_id":58885849,"body_markdown":"Did you follow the link I posted? You would have found the same solution posted by Stefano. Seems the answer was not hidden in the internet. ;-)","body":"Did you follow the link I posted? You would have found the same solution posted by Stefano. Seems the answer was not hidden in the internet. ;-)"},{"owner":{"account_id":112461,"reputation":9786,"user_id":296635,"accept_rate":74,"display_name":"Mercer"},"score":0,"creation_date":1456312626,"post_id":35599883,"comment_id":58885883,"body_markdown":"@SubOptimal i follow the link but he doesn&#39;t talk about `ping`","body":"@SubOptimal i follow the link but he doesn&#39;t talk about <code>ping</code>"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1456313635,"post_id":35599883,"comment_id":58886613,"body_markdown":"Maybe add more information what you tried, what you expect and what you get instead. What do you mean with `you want to PING your server`? Something like `ping your.server.ip`?","body":"Maybe add more information what you tried, what you expect and what you get instead. What do you mean with <code>you want to PING your server</code>? Something like <code>ping your.server.ip</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7902939,"reputation":704,"user_id":5969413,"display_name":"Stefano Lonati"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1456311100,"creation_date":1456311100,"answer_id":35600049,"question_id":35599883,"body_markdown":"OPTIONS method cannot be disabled using RewriteCond.\r\nYou must disabled by using LimitExcept directive.\r\n\r\nBelow is the snippet could be added on outside of the &lt;VirtualHost&gt; of the Apache configuration: \r\n\r\n    &lt;Location /&gt;\r\n        &lt;LimitExcept GET POST&gt;\r\n            order deny,allow\r\n            deny from all\r\n        &lt;/LimitExcept&gt;\r\n    &lt;/Location&gt;\r\n\r\nPlease do not forget to re-start the web server :)","title":"Disable OPTIONS HTTP on Apache Server","body":"<p>OPTIONS method cannot be disabled using RewriteCond.\nYou must disabled by using LimitExcept directive.</p>\n\n<p>Below is the snippet could be added on outside of the  of the Apache configuration: </p>\n\n<pre><code>&lt;Location /&gt;\n    &lt;LimitExcept GET POST&gt;\n        order deny,allow\n        deny from all\n    &lt;/LimitExcept&gt;\n&lt;/Location&gt;\n</code></pre>\n\n<p>Please do not forget to re-start the web server :)</p>\n"},{"tags":[],"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604371195,"creation_date":1604371195,"answer_id":64656069,"question_id":35599883,"body_markdown":"In case you want to apply it to a particular project:\r\n\r\nSimply adding these lines to an `.htaccess` file worked for me:\r\n\r\n```\r\nRewriteCond %{REQUEST_METHOD} ^(OPTIONS)\r\nRewriteRule .* - [F]\r\n```\r\n\r\nFor this to work, make sure you have enabled the `mod_rewrite` and that you use `RewriteEngine On` before these lines.","title":"Disable OPTIONS HTTP on Apache Server","body":"<p>In case you want to apply it to a particular project:</p>\n<p>Simply adding these lines to an <code>.htaccess</code> file worked for me:</p>\n<pre><code>RewriteCond %{REQUEST_METHOD} ^(OPTIONS)\nRewriteRule .* - [F]\n</code></pre>\n<p>For this to work, make sure you have enabled the <code>mod_rewrite</code> and that you use <code>RewriteEngine On</code> before these lines.</p>\n"},{"tags":[],"owner":{"account_id":112461,"reputation":9786,"user_id":296635,"accept_rate":74,"display_name":"Mercer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690410683,"creation_date":1690410683,"answer_id":76775448,"question_id":35599883,"body_markdown":"To disable the **HTTP OPTIONS** method on your `Apache server` while still allow **GET**, **POST**, and **PING** requests, you can use the following configuration in your **httpd.conf file**:\r\n\r\n\r\n    RewriteEngine On\r\n    RewriteCond %{REQUEST_METHOD} ^OPTIONS$\r\n    RewriteRule .* - [R=405,L]\r\n    \r\n    &lt;LocationMatch &quot;/your_ping_endpoint&quot;&gt;\r\n        Order Deny,Allow\r\n        Deny from all\r\n        Allow from 127.0.0.1\r\n    &lt;/LocationMatch&gt;\r\n\r\n\r\nReplace `/your_ping_endpoint` with the actual **URL** endpoint you want to use for **PING** requests. This configuration will return a **405** (**Method not allowed**) response for any **OPTIONS** requests and deny access to the `your_ping_endpoint` **URL** from anywhere except **localhost** (**127.0.0.1**).\r\n\r\nAdditionally, make sure to enable the rewrite module in Apache by running the following command:\r\n\r\n    sudo a2enmod rewrite\r\n\r\n\r\nAfter making these changes, restart your Apache server for the configuration to take effect.","title":"Disable OPTIONS HTTP on Apache Server","body":"<p>To disable the <strong>HTTP OPTIONS</strong> method on your <code>Apache server</code> while still allow <strong>GET</strong>, <strong>POST</strong>, and <strong>PING</strong> requests, you can use the following configuration in your <strong>httpd.conf file</strong>:</p>\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_METHOD} ^OPTIONS$\nRewriteRule .* - [R=405,L]\n\n&lt;LocationMatch &quot;/your_ping_endpoint&quot;&gt;\n    Order Deny,Allow\n    Deny from all\n    Allow from 127.0.0.1\n&lt;/LocationMatch&gt;\n</code></pre>\n<p>Replace <code>/your_ping_endpoint</code> with the actual <strong>URL</strong> endpoint you want to use for <strong>PING</strong> requests. This configuration will return a <strong>405</strong> (<strong>Method not allowed</strong>) response for any <strong>OPTIONS</strong> requests and deny access to the <code>your_ping_endpoint</code> <strong>URL</strong> from anywhere except <strong>localhost</strong> (<strong>127.0.0.1</strong>).</p>\n<p>Additionally, make sure to enable the rewrite module in Apache by running the following command:</p>\n<pre><code>sudo a2enmod rewrite\n</code></pre>\n<p>After making these changes, restart your Apache server for the configuration to take effect.</p>\n"}],"owner":{"account_id":112461,"reputation":9786,"user_id":296635,"accept_rate":74,"display_name":"Mercer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26416,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35600049,"answer_count":3,"score":5,"last_activity_date":1690410683,"creation_date":1456310661,"question_id":35599883,"body_markdown":"    Request:\r\n    OPTIONS / HTTP/1.1\r\n    Host: webcat.staci.com\r\n    Connection: Keep-alive\r\n    Accept-Encoding: gzip,deflate\r\n    User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.21 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.21\r\n    Accept: */*\r\n    \r\n    Response:\r\n    HTTP/1.1 200 OK\r\n    Date: Thu, 01 Oct 2015 12:24:59 GMT\r\n    Server: Apache\r\n    X-Frame-Options: SAMEORIGIN\r\n    Allow: GET,HEAD,POST,OPTIONS,TRACE\r\n    Vary: Accept-Encoding,User-Agent\r\n    Content-Length: 0\r\n    Keep-Alive: timeout=7, max=95\r\n    Connection: Keep-Alive\r\n    Content-Type: httpd/unix-directory\r\n    Set-Cookie: BIGipServerwebcat-ssl=192938503.47873.0000; path=/; httponly; secure\r\n\r\ni want to disable HTTP OPTIONS on my Apache Server but i want to keep `GET`, `POST` and i want to `PING` my server.\r\n\r\nhow could I do that ?\r\n\r\n***my httpd.conf:***\r\n\r\n    RewriteEngine On\r\n    RewriteCond %{REQUEST_METHOD} !^ (GET,POST,HEAD)\r\n    RewriteRule .*  [R=405,L]","title":"Disable OPTIONS HTTP on Apache Server","body":"<pre><code>Request:\nOPTIONS / HTTP/1.1\nHost: webcat.staci.com\nConnection: Keep-alive\nAccept-Encoding: gzip,deflate\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.21 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.21\nAccept: */*\n\nResponse:\nHTTP/1.1 200 OK\nDate: Thu, 01 Oct 2015 12:24:59 GMT\nServer: Apache\nX-Frame-Options: SAMEORIGIN\nAllow: GET,HEAD,POST,OPTIONS,TRACE\nVary: Accept-Encoding,User-Agent\nContent-Length: 0\nKeep-Alive: timeout=7, max=95\nConnection: Keep-Alive\nContent-Type: httpd/unix-directory\nSet-Cookie: BIGipServerwebcat-ssl=192938503.47873.0000; path=/; httponly; secure\n</code></pre>\n\n<p>i want to disable HTTP OPTIONS on my Apache Server but i want to keep <code>GET</code>, <code>POST</code> and i want to <code>PING</code> my server.</p>\n\n<p>how could I do that ?</p>\n\n<p><strong><em>my httpd.conf:</em></strong></p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_METHOD} !^ (GET,POST,HEAD)\nRewriteRule .*  [R=405,L]\n</code></pre>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":28560955,"reputation":11,"user_id":21864501,"display_name":"wsxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690409023,"creation_date":1690408868,"question_id":76775324,"body_markdown":"I have problem with parsing response because I have null value in &quot;type&quot; field in DocWriteResponse which is required. I don&#39;t understand it because this type is deprecated but still required.\r\nHave yuo idea how can I avoid this problem?\r\n\r\nCode:\r\n\r\n\r\n\r\n\r\n```\r\njava.io.IOException: Unable to parse response body for Response{requestLine=POST /_bulk?timeout=1m HTTP/1.1, host=xxx, response=HTTP/1.1 200 OK} \r\nat org.elasticsearch.client.RestHighLevelClient$1.onSuccess(RestHighLevelClient.java:1665) [elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onSuccess(RestClient.java:590) [elasticsearch-rest-client-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:333) [elasticsearch-rest-client-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:327) [elasticsearch-rest-client-7.6.1.jar:7.6.1] \r\nat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:122) [httpcore-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:181) [httpasyncclient-4.1.4.jar!/:4.1.4] \r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:448) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:338) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) [httpasyncclient-4.1.4.jar!/:4.1.4] \r\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) [httpasyncclient-4.1.4.jar!/:4.1.4] \r\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) [httpcore-nio-4.4.14.jar!/:4.4.14] \r\nat java.lang.Thread.run(Thread.java:833) [?:?] Caused by: java.lang.NullPointerException at java.util.Objects.requireNonNull(Objects.java:208) ~[?:?] \r\nat org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:127) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:50) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:39) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:103) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:100) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.action.bulk.BulkItemResponse.fromXContent(BulkItemResponse.java:158) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.action.bulk.BulkResponse.fromXContent(BulkResponse.java:196) ~[elasticsearch-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793) ~[elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAsyncAndParseEntity$10(RestHighLevelClient.java:1581) ~[elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] \r\nat org.elasticsearch.client.RestHighLevelClient$1.onSuccess(RestHighLevelClient.java:1663) [elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] ... 18 more\r\n```\r\n\r\n\r\nOne solution is upgrade api elasticsearch in my project to 8.0.0 version, but my elasticsearch on server is still 7.X, so I want to be compatibile with server version.\r\nHave you any ideas?","title":"Elasticseaarch java.util.Objects.requireNonNull in type field in DocWriteResponse","body":"<p>I have problem with parsing response because I have null value in &quot;type&quot; field in DocWriteResponse which is required. I don't understand it because this type is deprecated but still required.\nHave yuo idea how can I avoid this problem?</p>\n<p>Code:</p>\n<pre><code>java.io.IOException: Unable to parse response body for Response{requestLine=POST /_bulk?timeout=1m HTTP/1.1, host=xxx, response=HTTP/1.1 200 OK} \nat org.elasticsearch.client.RestHighLevelClient$1.onSuccess(RestHighLevelClient.java:1665) [elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] \nat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onSuccess(RestClient.java:590) [elasticsearch-rest-client-7.6.1.jar:7.6.1] \nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:333) [elasticsearch-rest-client-7.6.1.jar:7.6.1] \nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:327) [elasticsearch-rest-client-7.6.1.jar:7.6.1] \nat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:122) [httpcore-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:181) [httpasyncclient-4.1.4.jar!/:4.1.4] \nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:448) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:338) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) [httpasyncclient-4.1.4.jar!/:4.1.4] \nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) [httpasyncclient-4.1.4.jar!/:4.1.4] \nat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) [httpcore-nio-4.4.14.jar!/:4.4.14] \nat java.lang.Thread.run(Thread.java:833) [?:?] Caused by: java.lang.NullPointerException at java.util.Objects.requireNonNull(Objects.java:208) ~[?:?] \nat org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:127) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:50) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:39) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:103) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:100) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.action.bulk.BulkItemResponse.fromXContent(BulkItemResponse.java:158) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.action.bulk.BulkResponse.fromXContent(BulkResponse.java:196) ~[elasticsearch-7.6.1.jar:7.6.1] \nat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793) ~[elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] \nat org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAsyncAndParseEntity$10(RestHighLevelClient.java:1581) ~[elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] \nat org.elasticsearch.client.RestHighLevelClient$1.onSuccess(RestHighLevelClient.java:1663) [elasticsearch-rest-high-level-client-7.6.1.jar:7.6.1] ... 18 more\n</code></pre>\n<p>One solution is upgrade api elasticsearch in my project to 8.0.0 version, but my elasticsearch on server is still 7.X, so I want to be compatibile with server version.\nHave you any ideas?</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1689952507,"post_id":76739171,"comment_id":135290199,"body_markdown":"Questions on SO are expected to be self contained. Do not post link to your repository, instead edit question to add the problem class as well formatted text (should be `Car` in this case).","body":"Questions on SO are expected to be self contained. Do not post link to your repository, instead edit question to add the problem class as well formatted text (should be <code>Car</code> in this case)."},{"owner":{"account_id":321634,"reputation":596,"user_id":2860981,"display_name":"MK Tan"},"score":0,"creation_date":1689952533,"post_id":76739171,"comment_id":135290206,"body_markdown":"is your class com.example.carsharing.repository.entity.Car annotate wit @Entity?","body":"is your class com.example.carsharing.repository.entity.Car annotate wit @Entity?"},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1689952609,"post_id":76739171,"comment_id":135290224,"body_markdown":"Please include a [mre] **in the question itself** - don&#39;t just link to your entire code offline. If the link goes dead, the question will become incomprehensible to future readers. Keep in mind that Stack Overflow questions are supposed to help everyone who has a similar problem (not just you).","body":"Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> <b>in the question itself</b> - don&#39;t just link to your entire code offline. If the link goes dead, the question will become incomprehensible to future readers. Keep in mind that Stack Overflow questions are supposed to help everyone who has a similar problem (not just you)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689952876,"post_id":76739171,"comment_id":135290259,"body_markdown":"In case `Car` is annotated with `@Entity`, please ensure that it uses the correct `Entity` annotation (for spring-boot `2.x`, it should come from package `javax`; for spring-boot `3.x`, it should come from package `jakarta`).","body":"In case <code>Car</code> is annotated with <code>@Entity</code>, please ensure that it uses the correct <code>Entity</code> annotation (for spring-boot <code>2.x</code>, it should come from package <code>javax</code>; for spring-boot <code>3.x</code>, it should come from package <code>jakarta</code>)."},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1689953003,"post_id":76739171,"comment_id":135290284,"body_markdown":"@Turing85 We should probably wait for the OP to [edit] the question before answering (even in the comments): [Should one advise on off-topic questions?](https://meta.stackoverflow.com/questions/276572/should-one-advise-on-off-topic-questions)","body":"@Turing85 We should probably wait for the OP to <a href=\"https://stackoverflow.com/posts/76739171/edit\">edit</a> the question before answering (even in the comments): <a href=\"https://meta.stackoverflow.com/questions/276572/should-one-advise-on-off-topic-questions\">Should one advise on off-topic questions?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689953056,"post_id":76739171,"comment_id":135290294,"body_markdown":"@EJoshuaS-StandwithUkraine you mean... I should... moderate?","body":"@EJoshuaS-StandwithUkraine you mean... I should... moderate?"},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1689953075,"post_id":76739171,"comment_id":135290298,"body_markdown":"@Turing85 Good point, not until the strike is over :) Almost forgot myself for a second...","body":"@Turing85 Good point, not until the strike is over :) Almost forgot myself for a second..."},{"owner":{"account_id":29064828,"reputation":1,"user_id":22264681,"display_name":"Pawe Knapik"},"score":0,"creation_date":1689956730,"post_id":76739171,"comment_id":135290981,"body_markdown":"@EJoshuaS-StandwithUkraine Thanks for this coment in future i will post just code not link to github.\n\nIf someones will be readint this in futere i was wrong import, it should be package  jakarta and i was javax","body":"@EJoshuaS-StandwithUkraine Thanks for this coment in future i will post just code not link to github.  If someones will be readint this in futere i was wrong import, it should be package  jakarta and i was javax"},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1689957795,"post_id":76739171,"comment_id":135291182,"body_markdown":"Please don&#39;t just do it in the future, [edit] this question so that it doesn&#39;t become obsolete.","body":"Please don&#39;t just do it in the future, <a href=\"https://stackoverflow.com/posts/76739171/edit\">edit</a> this question so that it doesn&#39;t become obsolete."}],"answers":[{"tags":[],"owner":{"account_id":29064828,"reputation":1,"user_id":22264681,"display_name":"Pawe Knapik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690408955,"creation_date":1690028217,"answer_id":76743727,"question_id":76739171,"body_markdown":"In case Car is annotated with `@Entity`, please ensure that it uses the correct Entity annotation. \r\n\r\n - for `spring-boot 2.x`, it should come from package `javax`\r\n - for `spring-boot 3.x`, it should come from package `jakarta`\r\n ","title":"What is wrong with entity class on my code?","body":"<p>In case Car is annotated with <code>@Entity</code>, please ensure that it uses the correct Entity annotation.</p>\n<ul>\n<li>for <code>spring-boot 2.x</code>, it should come from package <code>javax</code></li>\n<li>for <code>spring-boot 3.x</code>, it should come from package <code>jakarta</code></li>\n</ul>\n"}],"owner":{"account_id":29064828,"reputation":1,"user_id":22264681,"display_name":"Pawe Knapik"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1690408955,"creation_date":1689952164,"question_id":76739171,"body_markdown":"I have no idea why I see this error on my code.\r\n\r\nI was tryed almost everything but there is still error \r\n\r\n(This is not a part of problem description but i need to add some more text so i add this stupid comment to can update me post :/.\r\nThis is still not enought but i have no idea what more about it i can say and probles is fixed (in the comments is answer))\r\n\r\n\r\nCode:\r\n\r\n    package com.example.carsharing.repository.entity;\r\n\r\n    import javax.persistence.*;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;CAR&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Car {\r\n      @Id\r\n      @GeneratedValue\r\n      @Column(name = &quot;ID&quot;)\r\n      Long ID;\r\n      @Column(name = &quot;car_name&quot;)\r\n      String carName;\r\n      @Column(name = &quot;company_id&quot;)\r\n      Long companyId;\r\n\r\n\r\n\r\n      public Car(long ID, String carName, long companyId) {\r\n          this.ID = ID;\r\n          this.carName = carName;\r\n          this.companyId = companyId;\r\n      }\r\n    }\r\n\r\n\r\n```\r\n\r\n&gt; Error starting ApplicationContext. To display the condition evaluation\r\n&gt; report re-run your application with &#39;debug&#39; enabled.\r\n&gt; 2023-07-21T17:00:49.296+02:00 ERROR 3872 --- [           main]\r\n&gt; o.s.boot.SpringApplication               : Application run failed\r\n&gt; \r\n&gt; **org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;carRepository&#39; defined in\r\n&gt; com.example.carsharing.repository.carRepository defined in\r\n&gt; @EnableJpaRepositories declared on Main: Not a managed type: class\r\n&gt; com.example.carsharing.repository.entity.Car** \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\r\n&gt; ~[spring-context-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n&gt; ~[spring-context-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n&gt; ~[spring-boot-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n&gt; ~[spring-boot-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n&gt; ~[spring-boot-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n&gt; ~[spring-boot-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n&gt; ~[spring-boot-3.1.1.jar:3.1.1] \tat\r\n&gt; com.example.carsharing.Main.main(Main.java:24) ~[classes/:na]\r\n&gt; **Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.carsharing.repository.entity.Car** \tat\r\n&gt; org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192)\r\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final] \tat\r\n&gt; org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467)\r\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final] \tat\r\n&gt; org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97)\r\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)\r\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\r\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.util.Lazy.getNullable(Lazy.java:245)\r\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.util.Lazy.get(Lazy.java:114)\r\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\r\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\r\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n&gt; ~[spring-beans-6.0.10.jar:6.0.10] \t... 15 common frames omitted ```\r\n","title":"What is wrong with entity class on my code?","body":"<p>I have no idea why I see this error on my code.</p>\n<p>I was tryed almost everything but there is still error</p>\n<p>(This is not a part of problem description but i need to add some more text so i add this stupid comment to can update me post :/.\nThis is still not enought but i have no idea what more about it i can say and probles is fixed (in the comments is answer))</p>\n<p>Code:</p>\n<pre><code>package com.example.carsharing.repository.entity;\n\nimport javax.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n\n@Entity\n@Table(name = &quot;CAR&quot;)\n@Data\n@NoArgsConstructor\npublic class Car {\n  @Id\n  @GeneratedValue\n  @Column(name = &quot;ID&quot;)\n  Long ID;\n  @Column(name = &quot;car_name&quot;)\n  String carName;\n  @Column(name = &quot;company_id&quot;)\n  Long companyId;\n\n\n\n  public Car(long ID, String carName, long companyId) {\n      this.ID = ID;\n      this.carName = carName;\n      this.companyId = companyId;\n  }\n}\n</code></pre>\n<pre><code>\n&gt; Error starting ApplicationContext. To display the condition evaluation\n&gt; report re-run your application with 'debug' enabled.\n&gt; 2023-07-21T17:00:49.296+02:00 ERROR 3872 --- [           main]\n&gt; o.s.boot.SpringApplication               : Application run failed\n&gt; \n&gt; **org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'carRepository' defined in\n&gt; com.example.carsharing.repository.carRepository defined in\n&gt; @EnableJpaRepositories declared on Main: Not a managed type: class\n&gt; com.example.carsharing.repository.entity.Car**    at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\n&gt; ~[spring-context-6.0.10.jar:6.0.10]   at\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n&gt; ~[spring-context-6.0.10.jar:6.0.10]   at\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n&gt; ~[spring-boot-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n&gt; ~[spring-boot-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n&gt; ~[spring-boot-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n&gt; ~[spring-boot-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n&gt; ~[spring-boot-3.1.1.jar:3.1.1]    at\n&gt; com.example.carsharing.Main.main(Main.java:24) ~[classes/:na]\n&gt; **Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.carsharing.repository.entity.Car**     at\n&gt; org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192)\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]     at\n&gt; org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467)\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]     at\n&gt; org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97)\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]     at\n&gt; org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.util.Lazy.getNullable(Lazy.java:245)\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.util.Lazy.get(Lazy.java:114)\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\n&gt; ~[spring-data-commons-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\n&gt; ~[spring-data-jpa-3.1.1.jar:3.1.1]    at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n&gt; ~[spring-beans-6.0.10.jar:6.0.10]     ... 15 common frames omitted ```\n</code></pre>\n"},{"tags":["java","swing","detection","hittest"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690364635,"post_id":76769651,"comment_id":135341990,"body_markdown":"It&#39;s sort of working for me. What I would say is that your minrep is not quite min enough ;) The main thing is that you should not save `Graphics` instances as they are not valid outside their painting methods. I would get rid of the anonymous inner classes as they make for tricky code and nasty binaries. Private classes are better. Your hit testing would be simpler with `System.out.println(canvas.rectangle.contains(e.getPoint())? &quot;HIT!&quot; : &quot;MISS!&quot;);\n` although you should probably do something about that public global stuff (private classes will help).","body":"It&#39;s sort of working for me. What I would say is that your minrep is not quite min enough ;) The main thing is that you should not save <code>Graphics</code> instances as they are not valid outside their painting methods. I would get rid of the anonymous inner classes as they make for tricky code and nasty binaries. Private classes are better. Your hit testing would be simpler with <code>System.out.println(canvas.rectangle.contains(e.getPoint())? &quot;HIT!&quot; : &quot;MISS!&quot;); </code> although you should probably do something about that public global stuff (private classes will help)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690364758,"post_id":76769651,"comment_id":135342018,"body_markdown":"The creation of the rectangle is a little surprising too - one expects a regular drag operation, followed by its being painted in the dimensions of choice. Someone using this might never see a rectangle - I almost didn&#39;t","body":"The creation of the rectangle is a little surprising too - one expects a regular drag operation, followed by its being painted in the dimensions of choice. Someone using this might never see a rectangle - I almost didn&#39;t"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690371005,"post_id":76769651,"comment_id":135343315,"body_markdown":"While testing your code, I made the &quot;target&quot; a variable (`Rectangle hit = new Rectangle(e.getPoint(), new Dimension(1, 1));`) and passed this to `hit` and it worked.  Having said that, I&#39;ve never actually used it, I&#39;ve always used the `Shape` API directly - this saves you from having to maintain a reference to `Graphics` context, which is always a bad idea, and in your example, could lead to some memory leaks or undesirable GC overhead","body":"While testing your code, I made the &quot;target&quot; a variable (<code>Rectangle hit = new Rectangle(e.getPoint(), new Dimension(1, 1));</code>) and passed this to <code>hit</code> and it worked.  Having said that, I&#39;ve never actually used it, I&#39;ve always used the <code>Shape</code> API directly - this saves you from having to maintain a reference to <code>Graphics</code> context, which is always a bad idea, and in your example, could lead to some memory leaks or undesirable GC overhead"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690372562,"post_id":76769651,"comment_id":135343655,"body_markdown":"*this saves you from having to maintain a reference to Graphics context,* @MadProgrammer, I&#39;m not sure why one is necessary. There isn&#39;t one in the code I posted","body":"<i>this saves you from having to maintain a reference to Graphics context,</i> @MadProgrammer, I&#39;m not sure why one is necessary. There isn&#39;t one in the code I posted"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690373113,"post_id":76769651,"comment_id":135343782,"body_markdown":"@g00se Graphics2D storedG2d, which the op then references from a seperate class - thus is weird and troublesome to me","body":"@g00se Graphics2D storedG2d, which the op then references from a seperate class - thus is weird and troublesome to me"},{"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"score":0,"creation_date":1690376664,"post_id":76769651,"comment_id":135344786,"body_markdown":"@g00se I use the hit method because in my project, I also need to perform a hit test on the outline of the geometry. To achieve this, I simply set the third parameter of hit to true. That&#39;s why I need to store the Graphics2D object.","body":"@g00se I use the hit method because in my project, I also need to perform a hit test on the outline of the geometry. To achieve this, I simply set the third parameter of hit to true. That&#39;s why I need to store the Graphics2D object."},{"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"score":0,"creation_date":1690376913,"post_id":76769651,"comment_id":135344832,"body_markdown":"@MadProgrammer Making the &#39;target&#39; a variable didn&#39;t work for me...","body":"@MadProgrammer Making the &#39;target&#39; a variable didn&#39;t work for me..."},{"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"score":0,"creation_date":1690377048,"post_id":76769651,"comment_id":135344869,"body_markdown":"_maintain a reference to Graphics context, which is always a bad idea, and in your example, could lead to some memory leaks or undesirable GC overhead._ @MadProgrammer, is there still a possibility of memory leaks when I use the create() method to create a &quot;copy&quot; of Graphics?","body":"<i>maintain a reference to Graphics context, which is always a bad idea, and in your example, could lead to some memory leaks or undesirable GC overhead.</i> @MadProgrammer, is there still a possibility of memory leaks when I use the create() method to create a &quot;copy&quot; of Graphics?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690378025,"post_id":76769651,"comment_id":135345067,"body_markdown":"*I use the hit method because in my project, I also need to perform a hit test on the outline of the geometry.* The method used is not the issue. The issue is that you keep around an overhead of a stale graphics object. `Shape` has two `intersects` methods, neither of which rely on a graphics context","body":"<i>I use the hit method because in my project, I also need to perform a hit test on the outline of the geometry.</i> The method used is not the issue. The issue is that you keep around an overhead of a stale graphics object. <code>Shape</code> has two <code>intersects</code> methods, neither of which rely on a graphics context"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690406552,"post_id":76769651,"comment_id":135351080,"body_markdown":"@Jacky Yes, because you never dispose it","body":"@Jacky Yes, because you never dispose it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690408843,"creation_date":1690408477,"answer_id":76775284,"question_id":76769651,"body_markdown":"IMHO, this...\r\n\r\n    class CanvasArea extends JPanel {\r\n        Graphics2D storedG2d;\r\n        //...\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            //...\r\n            storedG2d = (Graphics2D) g2d.create();\r\n        }\r\n    }\r\n\r\nis a bad idea.  You shouldn&#39;t be holding onto a reference of the system `Graphics` context, to many things can simply go wrong.\r\n\r\nI&#39;ve never used `Graphics2D#hit`, I&#39;ve always used the `Shape` API instead, which has it&#39;s own built in hit detection.\r\n\r\nHowever, if I was going to use `Graphics2D#hit`, I would do so from within the `paintComponent` method, for example...\r\n\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n            private DrawPane drawPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n                drawPane = new DrawPane();\r\n\r\n                add(drawPane);\r\n\r\n                drawPane.addMouseMotionListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        drawPane.didHit(e.getPoint());\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class DrawPane extends JPanel {\r\n\r\n            private Rectangle rectangle;\r\n            private Rectangle hitBounds;\r\n            final private Dimension hitSize = new Dimension(1, 1);\r\n\r\n            public DrawPane() {\r\n                rectangle = new Rectangle(150, 150, 100, 100);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            // It&#39;s VERY important that the Point is within the context of the\r\n            // this component, otherwise you will get werid results\r\n            public void didHit(Point p) {\r\n                hitBounds = new Rectangle(p, hitSize);\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                if (hitBounds != null) {\r\n                    if (g2d.hit(hitBounds, rectangle, false)) {\r\n                        g2d.fill(rectangle);\r\n                    } else {\r\n                        g2d.draw(rectangle);\r\n                    }\r\n                } else {\r\n                    g2d.draw(rectangle);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\nBut that raises a bunch of new issues, as you should avoid having to much logic in the `paintComponent` ... and how do you flag/notify the fact that a hit occurred?\r\n\r\nInstead, I&#39;d make use the `Shape#contains(Point)` method for hit detection instead.  This can be done independently of the `Graphics` context and painting workflows, which make it easier to use as part of the &quot;update&quot; phase or for other conditional workflows.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n            private DrawPane drawPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n                drawPane = new DrawPane();\r\n\r\n                add(drawPane);\r\n\r\n                drawPane.addMouseMotionListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        drawPane.didHit(e.getPoint());\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n        }\r\n\r\n        public class DrawPane extends JPanel {\r\n\r\n            private Rectangle rectangle;\r\n            private boolean hit = false;\r\n\r\n            public DrawPane() {\r\n                rectangle = new Rectangle(150, 150, 100, 100);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            // It&#39;s VERY important that the Point is within the context of the\r\n            // this component, otherwise you will get werid results\r\n            public boolean didHit(Point p) {\r\n                hit = false;\r\n                if (rectangle.contains(p)) {\r\n                    hit = true;\r\n                }\r\n                repaint();\r\n                return hit;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                if (hit) {\r\n                    g2d.fill(rectangle);\r\n                } else {\r\n                    g2d.draw(rectangle);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nThis would also allow you to decouple the management of the `Shape`s from the paint workflow, supporting concepts like &quot;model-view-controller&quot;","title":"Graphics2D.hit method returns an unexpected boolean value","body":"<p>IMHO, this...</p>\n<pre><code>class CanvasArea extends JPanel {\n    Graphics2D storedG2d;\n    //...\n    @Override\n    protected void paintComponent(Graphics g) {\n        //...\n        storedG2d = (Graphics2D) g2d.create();\n    }\n}\n</code></pre>\n<p>is a bad idea.  You shouldn't be holding onto a reference of the system <code>Graphics</code> context, to many things can simply go wrong.</p>\n<p>I've never used <code>Graphics2D#hit</code>, I've always used the <code>Shape</code> API instead, which has it's own built in hit detection.</p>\n<p>However, if I was going to use <code>Graphics2D#hit</code>, I would do so from within the <code>paintComponent</code> method, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n        private DrawPane drawPane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n            drawPane = new DrawPane();\n\n            add(drawPane);\n\n            drawPane.addMouseMotionListener(new MouseAdapter() {\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    drawPane.didHit(e.getPoint());\n                }\n            });\n        }\n\n    }\n\n    public class DrawPane extends JPanel {\n\n        private Rectangle rectangle;\n        private Rectangle hitBounds;\n        final private Dimension hitSize = new Dimension(1, 1);\n\n        public DrawPane() {\n            rectangle = new Rectangle(150, 150, 100, 100);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        // It's VERY important that the Point is within the context of the\n        // this component, otherwise you will get werid results\n        public void didHit(Point p) {\n            hitBounds = new Rectangle(p, hitSize);\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            if (hitBounds != null) {\n                if (g2d.hit(hitBounds, rectangle, false)) {\n                    g2d.fill(rectangle);\n                } else {\n                    g2d.draw(rectangle);\n                }\n            } else {\n                g2d.draw(rectangle);\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>But that raises a bunch of new issues, as you should avoid having to much logic in the <code>paintComponent</code> ... and how do you flag/notify the fact that a hit occurred?</p>\n<p>Instead, I'd make use the <code>Shape#contains(Point)</code> method for hit detection instead.  This can be done independently of the <code>Graphics</code> context and painting workflows, which make it easier to use as part of the &quot;update&quot; phase or for other conditional workflows.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n        private DrawPane drawPane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n            drawPane = new DrawPane();\n\n            add(drawPane);\n\n            drawPane.addMouseMotionListener(new MouseAdapter() {\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    drawPane.didHit(e.getPoint());\n                }\n            });\n        }\n\n\n    }\n\n    public class DrawPane extends JPanel {\n\n        private Rectangle rectangle;\n        private boolean hit = false;\n\n        public DrawPane() {\n            rectangle = new Rectangle(150, 150, 100, 100);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        // It's VERY important that the Point is within the context of the\n        // this component, otherwise you will get werid results\n        public boolean didHit(Point p) {\n            hit = false;\n            if (rectangle.contains(p)) {\n                hit = true;\n            }\n            repaint();\n            return hit;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            if (hit) {\n                g2d.fill(rectangle);\n            } else {\n                g2d.draw(rectangle);\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>This would also allow you to decouple the management of the <code>Shape</code>s from the paint workflow, supporting concepts like &quot;model-view-controller&quot;</p>\n"}],"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690408843,"creation_date":1690362827,"question_id":76769651,"body_markdown":"I originally attempted to perform a hit test on geometric shapes within a Canvas, checking if the mouse click position is within the bounds of the shape. However, the results were not as expected. \r\n\r\nTherefore, I created a Minimal, Reproducible Example. The code snippet in this example creates a rectangle in the Canvas based on the mouse&#39;s position. When we select the &#39;select&#39; RadioButton and click within the bounds of the rectangle on the Canvas, I expected the hit method to return true, but it actually returns false. \r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.swing.event.MouseInputAdapter;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\n\r\nclass CanvasArea extends JPanel {\r\n    Rectangle rectangle = new Rectangle();\r\n    MouseInputAdapter mode;\r\n    Graphics2D storedG2d;\r\n\r\n    CanvasArea() {\r\n        setBackground(Color.WHITE);\r\n        setPreferredSize(new Dimension(1000, 600));\r\n    }\r\n\r\n    void setRectangle(Rectangle r) {\r\n        repaint(rectangle.x, rectangle.y, rectangle.width + 1, rectangle.height + 1);\r\n        rectangle = r;\r\n        repaint(rectangle.x, rectangle.y, rectangle.width + 1, rectangle.height + 1);\r\n    }\r\n\r\n    void setMode(MouseInputAdapter mode) {\r\n        removeMouseListener(this.mode);\r\n        this.mode = mode;\r\n        addMouseListener(this.mode);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.draw(rectangle);\r\n        storedG2d = (Graphics2D) g2d.create();\r\n    }\r\n}\r\n\r\nclass RectangleListener extends MouseInputAdapter {\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n        HitTest.canvas.setRectangle(new Rectangle(e.getPoint(), new Dimension(100, 120)));\r\n    }\r\n}\r\n\r\nclass SelectListener extends MouseInputAdapter {\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        System.out.println(e.getPoint());\r\n        System.out.println(HitTest.canvas.rectangle);\r\n        Rectangle mousePosition = new Rectangle(e.getPoint(), new Dimension(1, 1));\r\n        System.out.println(HitTest.canvas.storedG2d.hit(mousePosition, HitTest.canvas.rectangle, false));\r\n    }\r\n}\r\n\r\npublic class HitTest {\r\n    static CanvasArea canvas = new CanvasArea();\r\n\r\n    private Container createContentPane() {\r\n        JPanel contentPane = new JPanel(new BorderLayout());\r\n        contentPane.setOpaque(true);\r\n\r\n        JRadioButton rb1 = new JRadioButton(&quot;rectangle&quot;);\r\n        rb1.addActionListener(e -&gt; canvas.setMode(new RectangleListener()));\r\n\r\n        JRadioButton rb2 = new JRadioButton(&quot;select&quot;);\r\n        rb2.addActionListener(e -&gt; canvas.setMode(new SelectListener()));\r\n\r\n        JToolBar toolBar = new JToolBar(JToolBar.VERTICAL);\r\n        ButtonGroup group = new ButtonGroup();\r\n        toolBar.add(rb1);\r\n        group.add(rb1);\r\n        toolBar.add(rb2);\r\n        group.add(rb2);\r\n\r\n        contentPane.add(toolBar, BorderLayout.LINE_START);\r\n        contentPane.add(canvas, BorderLayout.CENTER);\r\n        return contentPane;\r\n    }\r\n\r\n    private static void createAndShowGUI() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        HitTest hitTest = new HitTest();\r\n        frame.setContentPane(hitTest.createContentPane());\r\n\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(HitTest::createAndShowGUI);\r\n    }\r\n}\r\n```\r\n\r\nIt can be observed that the mouse click position is within the bounds of the rectangle, but the hit method is returning false.\r\n[![output][1]][1]\r\n\r\n\r\nI used debugging to step into the hit method and noticed that the position and dimensions of the rectangle are being transformed (according to the documentation for [hit][2] method, I assume it is transformed into device space, but I&#39;m not sure). After the transformation, the rectangle does not intersect with the mouse click position, resulting in a false return value. I&#39;m unsure how to proceed to get the correct result.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tMTqw.png\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html#hit(java.awt.Rectangle,java.awt.Shape,boolean)","title":"Graphics2D.hit method returns an unexpected boolean value","body":"<p>I originally attempted to perform a hit test on geometric shapes within a Canvas, checking if the mouse click position is within the bounds of the shape. However, the results were not as expected.</p>\n<p>Therefore, I created a Minimal, Reproducible Example. The code snippet in this example creates a rectangle in the Canvas based on the mouse's position. When we select the 'select' RadioButton and click within the bounds of the rectangle on the Canvas, I expected the hit method to return true, but it actually returns false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.event.MouseInputAdapter;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\n\nclass CanvasArea extends JPanel {\n    Rectangle rectangle = new Rectangle();\n    MouseInputAdapter mode;\n    Graphics2D storedG2d;\n\n    CanvasArea() {\n        setBackground(Color.WHITE);\n        setPreferredSize(new Dimension(1000, 600));\n    }\n\n    void setRectangle(Rectangle r) {\n        repaint(rectangle.x, rectangle.y, rectangle.width + 1, rectangle.height + 1);\n        rectangle = r;\n        repaint(rectangle.x, rectangle.y, rectangle.width + 1, rectangle.height + 1);\n    }\n\n    void setMode(MouseInputAdapter mode) {\n        removeMouseListener(this.mode);\n        this.mode = mode;\n        addMouseListener(this.mode);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.draw(rectangle);\n        storedG2d = (Graphics2D) g2d.create();\n    }\n}\n\nclass RectangleListener extends MouseInputAdapter {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        HitTest.canvas.setRectangle(new Rectangle(e.getPoint(), new Dimension(100, 120)));\n    }\n}\n\nclass SelectListener extends MouseInputAdapter {\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(e.getPoint());\n        System.out.println(HitTest.canvas.rectangle);\n        Rectangle mousePosition = new Rectangle(e.getPoint(), new Dimension(1, 1));\n        System.out.println(HitTest.canvas.storedG2d.hit(mousePosition, HitTest.canvas.rectangle, false));\n    }\n}\n\npublic class HitTest {\n    static CanvasArea canvas = new CanvasArea();\n\n    private Container createContentPane() {\n        JPanel contentPane = new JPanel(new BorderLayout());\n        contentPane.setOpaque(true);\n\n        JRadioButton rb1 = new JRadioButton(&quot;rectangle&quot;);\n        rb1.addActionListener(e -&gt; canvas.setMode(new RectangleListener()));\n\n        JRadioButton rb2 = new JRadioButton(&quot;select&quot;);\n        rb2.addActionListener(e -&gt; canvas.setMode(new SelectListener()));\n\n        JToolBar toolBar = new JToolBar(JToolBar.VERTICAL);\n        ButtonGroup group = new ButtonGroup();\n        toolBar.add(rb1);\n        group.add(rb1);\n        toolBar.add(rb2);\n        group.add(rb2);\n\n        contentPane.add(toolBar, BorderLayout.LINE_START);\n        contentPane.add(canvas, BorderLayout.CENTER);\n        return contentPane;\n    }\n\n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        HitTest hitTest = new HitTest();\n        frame.setContentPane(hitTest.createContentPane());\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(HitTest::createAndShowGUI);\n    }\n}\n</code></pre>\n<p>It can be observed that the mouse click position is within the bounds of the rectangle, but the hit method is returning false.\n<a href=\"https://i.stack.imgur.com/tMTqw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMTqw.png\" alt=\"output\" /></a></p>\n<p>I used debugging to step into the hit method and noticed that the position and dimensions of the rectangle are being transformed (according to the documentation for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html#hit(java.awt.Rectangle,java.awt.Shape,boolean)\" rel=\"nofollow noreferrer\">hit</a> method, I assume it is transformed into device space, but I'm not sure). After the transformation, the rectangle does not intersect with the mouse click position, resulting in a false return value. I'm unsure how to proceed to get the correct result.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457121093,"creation_date":1457120609,"answer_id":35804770,"question_id":35804042,"body_markdown":"Just to be clear, the client does two different requests:\r\n\r\n 1. The first to get the HTML (including the image url).\r\n 2. The second to fetch the image data from the url.\r\n\r\nIn other words, the image data is not inlined in the HTML.\r\n\r\nBased on this knowledge you can have a Lambda (behind the API gateway) as you suggest. The Lambda implementation can have some logic that determines the url to the image stored in S3. However, the Lambda returns JSON data and not HTML (there are workarounds such as [return the html in a variable][1]) which makes things trickier, especially for large HTML pages. \r\n\r\nI suggest a slightly different approach, since just receiving an image tag will not get you far. I assume you will inline the image tag in a HTML document, probably by using JavaScript. Then you might as well let the API Gateway / Lambda request return a JSON document with the image url and let the JavaScript either update an existing image tag with the new url or generate the tag for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31937282/303598\r\n  [2]: http://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html","title":"AWS API Gateway and Lambda to return image","body":"<p>Just to be clear, the client does two different requests:</p>\n\n<ol>\n<li>The first to get the HTML (including the image url).</li>\n<li>The second to fetch the image data from the url.</li>\n</ol>\n\n<p>In other words, the image data is not inlined in the HTML.</p>\n\n<p>Based on this knowledge you can have a Lambda (behind the API gateway) as you suggest. The Lambda implementation can have some logic that determines the url to the image stored in S3. However, the Lambda returns JSON data and not HTML (there are workarounds such as <a href=\"https://stackoverflow.com/a/31937282/303598\">return the html in a variable</a>) which makes things trickier, especially for large HTML pages. </p>\n\n<p>I suggest a slightly different approach, since just receiving an image tag will not get you far. I assume you will inline the image tag in a HTML document, probably by using JavaScript. Then you might as well let the API Gateway / Lambda request return a JSON document with the image url and let the JavaScript either update an existing image tag with the new url or generate the tag for you.</p>\n"},{"tags":[],"owner":{"account_id":2722422,"reputation":1,"user_id":2348423,"display_name":"aomega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457505490,"creation_date":1457505490,"answer_id":35884651,"question_id":35804042,"body_markdown":"It currently isn&#39;t possible because you cannot return binary data through the AWS API Gateway. \r\n\r\nFor this to work, the lambda function would need to return the image data as binary blob, and some meta-information such as the image content type. Then, AWS API Gateway would need to be able to map this to the HTTP response. For example:-\r\n\r\nlambda returns:\r\n`{\r\n   contentType: &#39;image/png&#39;,\r\n   image: &quot;encoded binary data&quot;\r\n}`\r\n\r\nthen API gateway would need to map contentType to the &#39;content-type&#39; header of the response, and put the image data in the body of the response with the right encoding and length.\r\n\r\nUnfortunately, it doesn&#39;t do this right now. It only maps text encodings like application/json or application/xml as the response type (it is designed for APIs after all).\r\n\r\nYou could very easily achieve this using ElasticBeanstalk where you have a lot more control over the http response.\r\n","title":"AWS API Gateway and Lambda to return image","body":"<p>It currently isn't possible because you cannot return binary data through the AWS API Gateway. </p>\n\n<p>For this to work, the lambda function would need to return the image data as binary blob, and some meta-information such as the image content type. Then, AWS API Gateway would need to be able to map this to the HTTP response. For example:-</p>\n\n<p>lambda returns:\n<code>{\n   contentType: 'image/png',\n   image: \"encoded binary data\"\n}</code></p>\n\n<p>then API gateway would need to map contentType to the 'content-type' header of the response, and put the image data in the body of the response with the right encoding and length.</p>\n\n<p>Unfortunately, it doesn't do this right now. It only maps text encodings like application/json or application/xml as the response type (it is designed for APIs after all).</p>\n\n<p>You could very easily achieve this using ElasticBeanstalk where you have a lot more control over the http response.</p>\n"},{"tags":[],"owner":{"account_id":308440,"reputation":175,"user_id":620324,"accept_rate":75,"display_name":"Theodor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1476109834,"creation_date":1476109834,"answer_id":39960659,"question_id":35804042,"body_markdown":"I&#39;ve run in to a similar problem. As mentioned you currently can&#39;t directly return your image in binary format from your API Gateway endpoint, which would be required for the browser to display it correctly.\r\n\r\nHowever, I solved this by instead having API Gateway return a **302 Redirect**, pointing to the correct file in S3. You can have your Lambda function return the url to the file, which is later on mapped to the Location header in API Gateway. The browser will follow the redirect and display the image properly. \r\n\r\nThere are several ways to implement the redirect, but I did as follow:\r\n\r\n - Lambda returns an object with the target image like so:\r\n\r\n        function handler(event, context) {\r\n             context.succeed({ \r\n                 location: &quot;https://[bucket-name].s3-eu-west-1.amazonaws.com/myimage.png&quot; });\r\n             });\r\n        }\r\n\r\n - Remove the normal &#39;200&#39; Method Response Status from The Integration Response in API Gateway. Replace it with a &#39;302&#39; response status and add the &#39;Location&#39; header mapped to value &#39;integration.response.body.location&#39;\r\n\r\n - Add the 302 status to the Method Response as well\r\n\r\n","title":"AWS API Gateway and Lambda to return image","body":"<p>I've run in to a similar problem. As mentioned you currently can't directly return your image in binary format from your API Gateway endpoint, which would be required for the browser to display it correctly.</p>\n\n<p>However, I solved this by instead having API Gateway return a <strong>302 Redirect</strong>, pointing to the correct file in S3. You can have your Lambda function return the url to the file, which is later on mapped to the Location header in API Gateway. The browser will follow the redirect and display the image properly. </p>\n\n<p>There are several ways to implement the redirect, but I did as follow:</p>\n\n<ul>\n<li><p>Lambda returns an object with the target image like so:</p>\n\n<pre><code>function handler(event, context) {\n     context.succeed({ \n         location: \"https://[bucket-name].s3-eu-west-1.amazonaws.com/myimage.png\" });\n     });\n}\n</code></pre></li>\n<li><p>Remove the normal '200' Method Response Status from The Integration Response in API Gateway. Replace it with a '302' response status and add the 'Location' header mapped to value 'integration.response.body.location'</p></li>\n<li><p>Add the 302 status to the Method Response as well</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":371896,"reputation":2381,"user_id":720665,"display_name":"David Salamon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1484479903,"creation_date":1484479903,"answer_id":41660602,"question_id":35804042,"body_markdown":"Luckily, now AWS API Gateway supports binary data, though you also need to update your resource method through the CLI as it is not yet implemented in the Console. This is what you need to do:  \r\n\r\n 1. In the **Method Response** of your method  \r\n Set `Content-Type` as `image/jpeg` in HTTP 200 Status Response\r\n    Header\r\n 2. In the **Integration Response** of your method  \r\n Set `Content-Type` as `&#39;image/jpeg&#39;` in Header Mappings. **Mind the quotes!**\r\n 3.  With the AWS CLI, set `contentHandling` attribute to `CONVERT_TO_BINARY`on your Integration Response\r\n\r\nCheck to entire process in this great step-by step guide:     https://stackoverflow.com/a/41434295/720665","title":"AWS API Gateway and Lambda to return image","body":"<p>Luckily, now AWS API Gateway supports binary data, though you also need to update your resource method through the CLI as it is not yet implemented in the Console. This is what you need to do:  </p>\n\n<ol>\n<li>In the <strong>Method Response</strong> of your method<br>\nSet <code>Content-Type</code> as <code>image/jpeg</code> in HTTP 200 Status Response\nHeader</li>\n<li>In the <strong>Integration Response</strong> of your method<br>\nSet <code>Content-Type</code> as <code>'image/jpeg'</code> in Header Mappings. <strong>Mind the quotes!</strong></li>\n<li>With the AWS CLI, set <code>contentHandling</code> attribute to <code>CONVERT_TO_BINARY</code>on your Integration Response</li>\n</ol>\n\n<p>Check to entire process in this great step-by step guide:     <a href=\"https://stackoverflow.com/a/41434295/720665\">https://stackoverflow.com/a/41434295/720665</a></p>\n"},{"tags":[],"owner":{"account_id":1167178,"reputation":10175,"user_id":1145177,"accept_rate":50,"display_name":"Doug S"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1528054927,"creation_date":1528054367,"answer_id":50670252,"question_id":35804042,"body_markdown":"It seems AWS has simplified this process, so that many answers are outdated and/or overly complicated.\r\n\r\nThis is how I got Lambda to return an image through the API Gateway, as of June 2018:\r\n\r\n1) In API Gateway, enable `Use Lambda Proxy integration` for your API. (This setting is located on the Integration Request section, where you had set the type to Lambda.)\r\n\r\n2) In API Gateway, select your API and click `Settings`. In `Binary Media Types` add `*/*`. (Note: I tried adding simply &#39;image/jpeg&#39;, but it seems to require `*/*` to get all of this to work)\r\n\r\n3) Be sure to deploy your API, otherwise your changes will not be live. (In API Gateway, select your API, then Actions &gt; Deploy API).\r\n\r\n4) In your Lambda code, return your image in Base64 encoding (this example is C# code):\r\n\r\n        // set the Content-type header\r\n        // set to whichever image type you&#39;re returning\r\n        var headersDic = new Dictionary&lt;string, string&gt;();\r\n        headersDic.Add(&quot;Content-type&quot;, &quot;image/jpeg&quot;);\r\n\r\n        // return the response object that APIGateway requires\r\n        return new APIGatewayProxyResponse\r\n        {\r\n        \tStatusCode = 200,\r\n        \tHeaders = headersDic,\r\n        \t// return the image in Base64 encoding\r\n        \tBody = Convert.ToBase64String(...your image data...),\r\n        \tIsBase64Encoded = true\r\n        };\r\n\r\nDone.\r\n\r\nIf you&#39;ve setup your API to not require authentication, simply type your API link into your browser, and it will display the image. Or put the API link into an `IMG` tag. e.g. `&lt;img src=&quot;https://asdf.execute-api.us-east-1.amazonaws.com/live/myapi&quot; /&gt;`\r\n\r\nNote: Even though in step 2 you set the `Binary Media Types` to `*/*`, API Gateway will still return text if that is what your Lambda is returning.","title":"AWS API Gateway and Lambda to return image","body":"<p>It seems AWS has simplified this process, so that many answers are outdated and/or overly complicated.</p>\n\n<p>This is how I got Lambda to return an image through the API Gateway, as of June 2018:</p>\n\n<p>1) In API Gateway, enable <code>Use Lambda Proxy integration</code> for your API. (This setting is located on the Integration Request section, where you had set the type to Lambda.)</p>\n\n<p>2) In API Gateway, select your API and click <code>Settings</code>. In <code>Binary Media Types</code> add <code>*/*</code>. (Note: I tried adding simply 'image/jpeg', but it seems to require <code>*/*</code> to get all of this to work)</p>\n\n<p>3) Be sure to deploy your API, otherwise your changes will not be live. (In API Gateway, select your API, then Actions > Deploy API).</p>\n\n<p>4) In your Lambda code, return your image in Base64 encoding (this example is C# code):</p>\n\n<pre><code>    // set the Content-type header\n    // set to whichever image type you're returning\n    var headersDic = new Dictionary&lt;string, string&gt;();\n    headersDic.Add(\"Content-type\", \"image/jpeg\");\n\n    // return the response object that APIGateway requires\n    return new APIGatewayProxyResponse\n    {\n        StatusCode = 200,\n        Headers = headersDic,\n        // return the image in Base64 encoding\n        Body = Convert.ToBase64String(...your image data...),\n        IsBase64Encoded = true\n    };\n</code></pre>\n\n<p>Done.</p>\n\n<p>If you've setup your API to not require authentication, simply type your API link into your browser, and it will display the image. Or put the API link into an <code>IMG</code> tag. e.g. <code>&lt;img src=\"https://asdf.execute-api.us-east-1.amazonaws.com/live/myapi\" /&gt;</code></p>\n\n<p>Note: Even though in step 2 you set the <code>Binary Media Types</code> to <code>*/*</code>, API Gateway will still return text if that is what your Lambda is returning.</p>\n"},{"tags":[],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671729901,"creation_date":1671729901,"answer_id":74891888,"question_id":35804042,"body_markdown":"I resolved this problem be reconsidering my design. The underlying thinking is that Lambdas are good computing units and bad file servers.\r\n\r\nI changed \r\n* `Client &gt; APIGW &gt; Lambda &gt; Image` \r\n\r\ninto \r\n* `Client &gt; APIGW &gt; Lambda &gt; SignedURL` \r\n* then `Client(SignedURL) &gt; Image`\r\n\r\nSince my client was web based, everything was easier after that shift","title":"AWS API Gateway and Lambda to return image","body":"<p>I resolved this problem be reconsidering my design. The underlying thinking is that Lambdas are good computing units and bad file servers.</p>\n<p>I changed</p>\n<ul>\n<li><code>Client &gt; APIGW &gt; Lambda &gt; Image</code></li>\n</ul>\n<p>into</p>\n<ul>\n<li><code>Client &gt; APIGW &gt; Lambda &gt; SignedURL</code></li>\n<li>then <code>Client(SignedURL) &gt; Image</code></li>\n</ul>\n<p>Since my client was web based, everything was easier after that shift</p>\n"}],"owner":{"account_id":1925673,"reputation":313,"user_id":1736191,"accept_rate":40,"display_name":"user1736191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37359,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":6,"score":25,"last_activity_date":1690407546,"creation_date":1457118116,"question_id":35804042,"body_markdown":"Say I have this HTML:\r\n\r\n    &lt;img src=&quot;http://example.com/pic&quot;/&gt;\r\n\r\nWhat I would like to do is have example.com/pic map to an AWS API Gateway endpoint. \r\n\r\nThat endpoint would then call a lambda function. \r\n\r\nThat lambda function would read a random image from an s3 bucket and return it.\r\n\r\nSo my aim is to use a STANDARD HTML image tag and end up with an image from an s3 bucket but going via some decision code in the lambda to decide the image to return.\r\n\r\nI know you can use s3 to serve static content directly (hence the lambda to make the decision about what image). I also know I could do stuff in the lambda like b64 encode the response and then handle it on the client but I am aiming to use the standard HTML IMG tag.\r\n\r\nIs this possible?\r\n\r\nI&#39;ve tried using the `ResponseStreamHandler` (Java SDK) for the lambda and returning the byte array of the image and also added the API gateway config to not map the output to JSON, but nothing seems to work!\r\n","title":"AWS API Gateway and Lambda to return image","body":"<p>Say I have this HTML:</p>\n<pre><code>&lt;img src=&quot;http://example.com/pic&quot;/&gt;\n</code></pre>\n<p>What I would like to do is have example.com/pic map to an AWS API Gateway endpoint.</p>\n<p>That endpoint would then call a lambda function.</p>\n<p>That lambda function would read a random image from an s3 bucket and return it.</p>\n<p>So my aim is to use a STANDARD HTML image tag and end up with an image from an s3 bucket but going via some decision code in the lambda to decide the image to return.</p>\n<p>I know you can use s3 to serve static content directly (hence the lambda to make the decision about what image). I also know I could do stuff in the lambda like b64 encode the response and then handle it on the client but I am aiming to use the standard HTML IMG tag.</p>\n<p>Is this possible?</p>\n<p>I've tried using the <code>ResponseStreamHandler</code> (Java SDK) for the lambda and returning the byte array of the image and also added the API gateway config to not map the output to JSON, but nothing seems to work!</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":28981489,"reputation":1,"user_id":22204325,"display_name":"jashdajsd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690407355,"creation_date":1689000038,"question_id":76654846,"body_markdown":"Possible the problem is not even in this, however, I don&#39;t know why my code is still not working correctly.\r\n\r\n**Task**: Write a Minecraft 1.12.2 mod that performs a right-click (RMB) on behalf of the player when the number 6 is present in the title bar on the screen.\r\n\r\n**Code**:\r\n\r\nImports:\r\n\r\n```\r\npackage com.example.examplemod;\r\n\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.client.gui.GuiIngame;\r\nimport net.minecraft.client.settings.KeyBinding;\r\nimport net.minecraft.entity.player.EntityPlayer;\r\nimport net.minecraft.util.EnumHand;\r\nimport net.minecraft.util.text.TextComponentString;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.fml.client.registry.ClientRegistry;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.Mod.EventHandler;\r\nimport net.minecraftforge.fml.common.ObfuscationReflectionHelper;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.eventhandler.EventPriority;\r\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\r\nimport net.minecraftforge.fml.common.gameevent.InputEvent;\r\nimport net.minecraftforge.fml.common.gameevent.TickEvent;\r\nimport org.lwjgl.input.Keyboard;\r\n\r\nimport java.lang.reflect.Field;\r\n```\r\nDeclaration of all fields, etc.:\r\n\r\n```\r\n@Mod(modid = ExampleMod.MODID, name = ExampleMod.NAME, version = ExampleMod.VERSION)\r\npublic class ExampleMod {\r\n    public static final String MODID = &quot;examplemod&quot;;\r\n    public static final String NAME = &quot;Example Mod&quot;;\r\n    public static final String VERSION = &quot;1.0&quot;;\r\n    public static KeyBinding[] keyBindings = { new KeyBinding(&quot;key.toggleMod.desc&quot;, Keyboard.KEY_RMENU, &quot;key.categories.mod&quot;) };\r\n    private boolean modEnabled = false;\r\n    private Field displayedTitleField;\r\n    private final Minecraft mc = Minecraft.getMinecraft();\r\n```\r\nInitialization during client startup. Added the search for `displayedTitleField` here right away because they say that `ObfuscationReflectionHelper` is quite slow, so it&#39;s better to use it once:\r\n\r\n```\r\n\r\n    @EventHandler\r\n    public void preInit(FMLInitializationEvent event) {\r\n        MinecraftForge.EVENT_BUS.register(this);\r\n        ClientRegistry.registerKeyBinding(keyBindings[0]);\r\n        displayedTitleField = ObfuscationReflectionHelper.findField(GuiIngame.class, &quot;field_175201_x&quot;);\r\n        displayedTitleField.setAccessible(true);\r\n    }\r\n```\r\nCode for simulating enabling/disabling the mod:\r\n\r\n```\r\n\r\n    @SubscribeEvent\r\n    public void onKeyInput(InputEvent.KeyInputEvent event) {\r\n        if (keyBindings[0].isPressed()) {\r\n            modEnabled = !modEnabled;\r\n            EntityPlayer player = Minecraft.getMinecraft().player;\r\n            player.sendMessage(new TextComponentString(modEnabled ? &quot;Mod enabled!&quot; : &quot;Mod disabled!&quot;));\r\n        }\r\n    }\r\n```\r\nProblematic part. The `onTick` method is called every tick. If the current value of `currentTitle` contains &quot;a6&quot; (a - color code before the number 6 to avoid triggering on other sixes), then a right-click is performed, and the mod is &quot;disabled&quot;. `assert currentTitle != null;` - a placeholder to prevent `NullPointerException`, I will remove it later (however, if you remove it, I won&#39;t object :) ). `currentTitle` does contain the current value in the title bar on the screen, I made sure of it using `mc.player.sendMessage(new TextComponentString(&quot;Current displayedTitle: &quot; + currentTitle));`, which is also a temporary placeholder.\r\n\r\n```\r\n\r\n    @SubscribeEvent(priority = EventPriority.NORMAL, receiveCanceled = true)\r\n    public void onTick(TickEvent.ClientTickEvent event) {\r\n        if (event.phase == TickEvent.Phase.START) {\r\n            if (modEnabled) {\r\n                String currentTitle = getCurrentTitle();\r\n                assert currentTitle != null;\r\n                mc.player.sendMessage(new TextComponentString(&quot;Current displayedTitle: &quot; + currentTitle));\r\n                if (currentTitle.contains(&quot;a6&quot;)) {\r\n                    mc.playerController.processRightClick(mc.player, mc.world, EnumHand.MAIN_HAND);\r\n                    modEnabled = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nMethod to get the text from the title bar:\r\n\r\n```\r\n\r\n    public String getCurrentTitle() {\r\n        try {\r\n            GuiIngame ingameGUI = mc.ingameGUI;\r\n            if (ingameGUI != null) {\r\n                String displayedTitle = (String) displayedTitleField.get(ingameGUI);\r\n                return displayedTitle != null ? displayedTitle : &quot;&quot;;\r\n            }\r\n        } catch (IllegalAccessException | IllegalArgumentException | SecurityException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\nThe problem is that in my case, random numbers from 1 to 6 appear on the screen every 4 ticks. And my mod either clicks RMB too early or, conversely, lags behind by several ticks. I don&#39;t know, but most of the time it clicks RMB at the wrong time when the number on the screen is no longer 6 but another number.\r\n\r\nHere&#39;s the complete code for those who want to copy everything at once:\r\n\r\n```\r\npackage com.example.examplemod;\r\n\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.client.gui.GuiIngame;\r\nimport net.minecraft.client.settings.KeyBinding;\r\nimport net.minecraft.entity.player.EntityPlayer;\r\nimport net.minecraft.util.EnumHand;\r\nimport net.minecraft.util.text.TextComponentString;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.fml.client.registry.ClientRegistry;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.Mod.EventHandler;\r\nimport net.minecraftforge.fml.common.ObfuscationReflectionHelper;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.eventhandler.EventPriority;\r\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\r\nimport net.minecraftforge.fml.common.gameevent.InputEvent;\r\nimport net.minecraftforge.fml.common.gameevent.TickEvent;\r\nimport org.lwjgl.input.Keyboard;\r\n\r\nimport java.lang.reflect.Field;\r\n\r\n@Mod(modid = ExampleMod.MODID, name = ExampleMod.NAME, version = ExampleMod.VERSION)\r\npublic class ExampleMod {\r\n    public static final String MODID = &quot;examplemod&quot;;\r\n    public static final String NAME = &quot;Example Mod&quot;;\r\n    public static final String VERSION = &quot;1.0&quot;;\r\n    public static KeyBinding[] keyBindings = { new KeyBinding(&quot;key.toggleMod.desc&quot;, Keyboard.KEY_RMENU, &quot;key.categories.mod&quot;) };\r\n    private boolean modEnabled = false;\r\n    private Field displayedTitleField;\r\n    private final Minecraft mc = Minecraft.getMinecraft();\r\n    @EventHandler\r\n    public void preInit(FMLInitializationEvent event) {\r\n        MinecraftForge.EVENT_BUS.register(this);\r\n        ClientRegistry.registerKeyBinding(keyBindings[0]);\r\n        displayedTitleField = ObfuscationReflectionHelper.findField(GuiIngame.class, &quot;field_175201_x&quot;);\r\n        displayedTitleField.setAccessible(true);\r\n    }\r\n    @SubscribeEvent\r\n    public void onKeyInput(InputEvent.KeyInputEvent event) {\r\n        if (keyBindings[0].isPressed()) {\r\n            modEnabled = !modEnabled;\r\n            EntityPlayer player = Minecraft.getMinecraft().player;\r\n            player.sendMessage(new TextComponentString(modEnabled ? &quot;Mod enabled!&quot; : &quot;Mod disabled!&quot;));\r\n        }\r\n    }\r\n    @SubscribeEvent(priority = EventPriority.NORMAL, receiveCanceled = true)\r\n    public void onTick(TickEvent.ClientTickEvent event) {\r\n        if (event.phase == TickEvent.Phase.START) {\r\n            if (modEnabled) {\r\n                String currentTitle = getCurrentTitle();\r\n                assert currentTitle != null;\r\n                mc.player.sendMessage(new TextComponentString(&quot;Current displayedTitle: &quot; + currentTitle));\r\n                if (currentTitle.contains(&quot;a6&quot;)) {\r\n                    mc.playerController.processRightClick(mc.player, mc.world, EnumHand.MAIN_HAND);\r\n                    modEnabled = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public String getCurrentTitle() {\r\n        try {\r\n            GuiIngame ingameGUI = mc.ingameGUI;\r\n            if (ingameGUI != null) {\r\n                String displayedTitle = (String) displayedTitleField.get(ingameGUI);\r\n                return displayedTitle != null ? displayedTitle : &quot;&quot;;\r\n            }\r\n        } catch (IllegalAccessException | IllegalArgumentException | SecurityException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI tried using the `onRenderGameOverlay` method, but even though it has more iterations than 20 ticks per second, it still &quot;clicks&quot; RMB at the wrong time.","title":"Forge 1.12.2 / Cannot synchronise client and server","body":"<p>Possible the problem is not even in this, however, I don't know why my code is still not working correctly.</p>\n<p><strong>Task</strong>: Write a Minecraft 1.12.2 mod that performs a right-click (RMB) on behalf of the player when the number 6 is present in the title bar on the screen.</p>\n<p><strong>Code</strong>:</p>\n<p>Imports:</p>\n<pre><code>package com.example.examplemod;\n\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.gui.GuiIngame;\nimport net.minecraft.client.settings.KeyBinding;\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.util.EnumHand;\nimport net.minecraft.util.text.TextComponentString;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.fml.client.registry.ClientRegistry;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.ObfuscationReflectionHelper;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.eventhandler.EventPriority;\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\nimport net.minecraftforge.fml.common.gameevent.InputEvent;\nimport net.minecraftforge.fml.common.gameevent.TickEvent;\nimport org.lwjgl.input.Keyboard;\n\nimport java.lang.reflect.Field;\n</code></pre>\n<p>Declaration of all fields, etc.:</p>\n<pre><code>@Mod(modid = ExampleMod.MODID, name = ExampleMod.NAME, version = ExampleMod.VERSION)\npublic class ExampleMod {\n    public static final String MODID = &quot;examplemod&quot;;\n    public static final String NAME = &quot;Example Mod&quot;;\n    public static final String VERSION = &quot;1.0&quot;;\n    public static KeyBinding[] keyBindings = { new KeyBinding(&quot;key.toggleMod.desc&quot;, Keyboard.KEY_RMENU, &quot;key.categories.mod&quot;) };\n    private boolean modEnabled = false;\n    private Field displayedTitleField;\n    private final Minecraft mc = Minecraft.getMinecraft();\n</code></pre>\n<p>Initialization during client startup. Added the search for <code>displayedTitleField</code> here right away because they say that <code>ObfuscationReflectionHelper</code> is quite slow, so it's better to use it once:</p>\n<pre><code>\n    @EventHandler\n    public void preInit(FMLInitializationEvent event) {\n        MinecraftForge.EVENT_BUS.register(this);\n        ClientRegistry.registerKeyBinding(keyBindings[0]);\n        displayedTitleField = ObfuscationReflectionHelper.findField(GuiIngame.class, &quot;field_175201_x&quot;);\n        displayedTitleField.setAccessible(true);\n    }\n</code></pre>\n<p>Code for simulating enabling/disabling the mod:</p>\n<pre><code>\n    @SubscribeEvent\n    public void onKeyInput(InputEvent.KeyInputEvent event) {\n        if (keyBindings[0].isPressed()) {\n            modEnabled = !modEnabled;\n            EntityPlayer player = Minecraft.getMinecraft().player;\n            player.sendMessage(new TextComponentString(modEnabled ? &quot;Mod enabled!&quot; : &quot;Mod disabled!&quot;));\n        }\n    }\n</code></pre>\n<p>Problematic part. The <code>onTick</code> method is called every tick. If the current value of <code>currentTitle</code> contains &quot;a6&quot; (a - color code before the number 6 to avoid triggering on other sixes), then a right-click is performed, and the mod is &quot;disabled&quot;. <code>assert currentTitle != null;</code> - a placeholder to prevent <code>NullPointerException</code>, I will remove it later (however, if you remove it, I won't object :) ). <code>currentTitle</code> does contain the current value in the title bar on the screen, I made sure of it using <code>mc.player.sendMessage(new TextComponentString(&quot;Current displayedTitle: &quot; + currentTitle));</code>, which is also a temporary placeholder.</p>\n<pre><code>\n    @SubscribeEvent(priority = EventPriority.NORMAL, receiveCanceled = true)\n    public void onTick(TickEvent.ClientTickEvent event) {\n        if (event.phase == TickEvent.Phase.START) {\n            if (modEnabled) {\n                String currentTitle = getCurrentTitle();\n                assert currentTitle != null;\n                mc.player.sendMessage(new TextComponentString(&quot;Current displayedTitle: &quot; + currentTitle));\n                if (currentTitle.contains(&quot;a6&quot;)) {\n                    mc.playerController.processRightClick(mc.player, mc.world, EnumHand.MAIN_HAND);\n                    modEnabled = false;\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Method to get the text from the title bar:</p>\n<pre><code>\n    public String getCurrentTitle() {\n        try {\n            GuiIngame ingameGUI = mc.ingameGUI;\n            if (ingameGUI != null) {\n                String displayedTitle = (String) displayedTitleField.get(ingameGUI);\n                return displayedTitle != null ? displayedTitle : &quot;&quot;;\n            }\n        } catch (IllegalAccessException | IllegalArgumentException | SecurityException e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>The problem is that in my case, random numbers from 1 to 6 appear on the screen every 4 ticks. And my mod either clicks RMB too early or, conversely, lags behind by several ticks. I don't know, but most of the time it clicks RMB at the wrong time when the number on the screen is no longer 6 but another number.</p>\n<p>Here's the complete code for those who want to copy everything at once:</p>\n<pre><code>package com.example.examplemod;\n\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.gui.GuiIngame;\nimport net.minecraft.client.settings.KeyBinding;\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.util.EnumHand;\nimport net.minecraft.util.text.TextComponentString;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.fml.client.registry.ClientRegistry;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.ObfuscationReflectionHelper;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.eventhandler.EventPriority;\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\nimport net.minecraftforge.fml.common.gameevent.InputEvent;\nimport net.minecraftforge.fml.common.gameevent.TickEvent;\nimport org.lwjgl.input.Keyboard;\n\nimport java.lang.reflect.Field;\n\n@Mod(modid = ExampleMod.MODID, name = ExampleMod.NAME, version = ExampleMod.VERSION)\npublic class ExampleMod {\n    public static final String MODID = &quot;examplemod&quot;;\n    public static final String NAME = &quot;Example Mod&quot;;\n    public static final String VERSION = &quot;1.0&quot;;\n    public static KeyBinding[] keyBindings = { new KeyBinding(&quot;key.toggleMod.desc&quot;, Keyboard.KEY_RMENU, &quot;key.categories.mod&quot;) };\n    private boolean modEnabled = false;\n    private Field displayedTitleField;\n    private final Minecraft mc = Minecraft.getMinecraft();\n    @EventHandler\n    public void preInit(FMLInitializationEvent event) {\n        MinecraftForge.EVENT_BUS.register(this);\n        ClientRegistry.registerKeyBinding(keyBindings[0]);\n        displayedTitleField = ObfuscationReflectionHelper.findField(GuiIngame.class, &quot;field_175201_x&quot;);\n        displayedTitleField.setAccessible(true);\n    }\n    @SubscribeEvent\n    public void onKeyInput(InputEvent.KeyInputEvent event) {\n        if (keyBindings[0].isPressed()) {\n            modEnabled = !modEnabled;\n            EntityPlayer player = Minecraft.getMinecraft().player;\n            player.sendMessage(new TextComponentString(modEnabled ? &quot;Mod enabled!&quot; : &quot;Mod disabled!&quot;));\n        }\n    }\n    @SubscribeEvent(priority = EventPriority.NORMAL, receiveCanceled = true)\n    public void onTick(TickEvent.ClientTickEvent event) {\n        if (event.phase == TickEvent.Phase.START) {\n            if (modEnabled) {\n                String currentTitle = getCurrentTitle();\n                assert currentTitle != null;\n                mc.player.sendMessage(new TextComponentString(&quot;Current displayedTitle: &quot; + currentTitle));\n                if (currentTitle.contains(&quot;a6&quot;)) {\n                    mc.playerController.processRightClick(mc.player, mc.world, EnumHand.MAIN_HAND);\n                    modEnabled = false;\n                }\n            }\n        }\n    }\n    public String getCurrentTitle() {\n        try {\n            GuiIngame ingameGUI = mc.ingameGUI;\n            if (ingameGUI != null) {\n                String displayedTitle = (String) displayedTitleField.get(ingameGUI);\n                return displayedTitle != null ? displayedTitle : &quot;&quot;;\n            }\n        } catch (IllegalAccessException | IllegalArgumentException | SecurityException e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>I tried using the <code>onRenderGameOverlay</code> method, but even though it has more iterations than 20 ticks per second, it still &quot;clicks&quot; RMB at the wrong time.</p>\n"},{"tags":["java","visual-studio-code","testng"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690443179,"post_id":76775186,"comment_id":135355213,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\n\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":5455098,"reputation":795,"user_id":4338776,"display_name":"Zigzagoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690407273,"creation_date":1690407273,"question_id":76775186,"body_markdown":"I am trying to run some Java unit tests from VSCode, but I&#39;m getting the following error:\r\n```\r\nException occured while running tests.\r\njava.lang.NoSuchMethodError: &#39;void org.testng.TestNG.addListener(org.testng.ITestNGListener)&#39;\r\n\tat com.microsoft.java.test.runner.testng.TestNGRunner.run(TestNGRunner.java:41)\r\n\tat com.microsoft.java.test.runner.testng.TestNGLauncher.execute(TestNGLauncher.java:32)\r\n\tat com.microsoft.java.test.runner.Launcher.main(Launcher.java:57)\r\n```\r\nMy tests are written with TestNG, I have the following extensions installed in VSCode, any ideas what might cause the error?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TtDzl.png","title":"java.lang.NoSuchMethodError, Running unit tests in VSCode","body":"<p>I am trying to run some Java unit tests from VSCode, but I'm getting the following error:</p>\n<pre><code>Exception occured while running tests.\njava.lang.NoSuchMethodError: 'void org.testng.TestNG.addListener(org.testng.ITestNGListener)'\n    at com.microsoft.java.test.runner.testng.TestNGRunner.run(TestNGRunner.java:41)\n    at com.microsoft.java.test.runner.testng.TestNGLauncher.execute(TestNGLauncher.java:32)\n    at com.microsoft.java.test.runner.Launcher.main(Launcher.java:57)\n</code></pre>\n<p>My tests are written with TestNG, I have the following extensions installed in VSCode, any ideas what might cause the error?</p>\n<p><a href=\"https://i.stack.imgur.com/TtDzl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TtDzl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jdbc","named-parameters"],"comments":[{"owner":{"account_id":100602,"reputation":1271,"user_id":271104,"accept_rate":33,"display_name":"Sorin Postelnicu"},"score":0,"creation_date":1486145300,"post_id":2309970,"comment_id":71235300,"body_markdown":"This article here offers a quick implementation of such a class: http://www.javaworld.com/article/2077706/core-java/named-parameters-for-preparedstatement.html","body":"This article here offers a quick implementation of such a class: <a href=\"http://www.javaworld.com/article/2077706/core-java/named-parameters-for-preparedstatement.html\" rel=\"nofollow noreferrer\">javaworld.com/article/2077706/core-java/&hellip;</a>"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1563206872,"post_id":2309970,"comment_id":100614762,"body_markdown":"`I think Oracle JDBC driver supports calling regular SQL statements with named parameters when using CallableStatement`.","body":"<code>I think Oracle JDBC driver supports calling regular SQL statements with named parameters when using CallableStatement</code>."}],"answers":[{"tags":[],"owner":{"account_id":38920,"reputation":9506,"user_id":112041,"accept_rate":92,"display_name":"Malax"},"down_vote_count":6,"up_vote_count":95,"is_accepted":true,"score":89,"last_activity_date":1573470034,"creation_date":1266831658,"answer_id":2309984,"question_id":2309970,"body_markdown":"JDBC does not support named parameters. Unless you are bound to using plain JDBC (which causes pain, let me tell you that) I would suggest to use Springs Excellent JDBCTemplate which can be used without the whole IoC Container.\r\n\r\n[NamedParameterJDBCTemplate][1] supports named parameters, you can use them like that:\r\n\r\n    \r\n     NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n\r\n     MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n     paramSource.addValue(&quot;name&quot;, name);\r\n     paramSource.addValue(&quot;city&quot;, city);\r\n     jdbcTemplate.queryForRowSet(&quot;SELECT * FROM customers WHERE name = :name AND city = :city&quot;, paramSource);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html","title":"Named parameters in JDBC","body":"<p>JDBC does not support named parameters. Unless you are bound to using plain JDBC (which causes pain, let me tell you that) I would suggest to use Springs Excellent JDBCTemplate which can be used without the whole IoC Container.</p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html\" rel=\"noreferrer\">NamedParameterJDBCTemplate</a> supports named parameters, you can use them like that:</p>\n\n<pre><code> NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n MapSqlParameterSource paramSource = new MapSqlParameterSource();\n paramSource.addValue(\"name\", name);\n paramSource.addValue(\"city\", city);\n jdbcTemplate.queryForRowSet(\"SELECT * FROM customers WHERE name = :name AND city = :city\", paramSource);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50317,"reputation":385,"user_id":150043,"display_name":"Ivan Vrtari"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1266831752,"creation_date":1266831752,"answer_id":2309993,"question_id":2309970,"body_markdown":"You can&#39;t use named parameters in JDBC itself. You could try using Spring framework, as it has some extensions that allow the use of named parameters in queries.","title":"Named parameters in JDBC","body":"<p>You can't use named parameters in JDBC itself. You could try using Spring framework, as it has some extensions that allow the use of named parameters in queries.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1389638738,"creation_date":1266832515,"answer_id":2310045,"question_id":2309970,"body_markdown":"Vanilla JDBC only supports named parameters in a `CallableStatement` (e.g. `setString(&quot;name&quot;, name)`), and even then, I suspect the underlying stored procedure implementation has to support it.\r\n\r\nAn example of how to use named parameters:\r\n\r\n    //uss Sybase ASE sysobjects table...adjust for your RDBMS\r\n    stmt = conn.prepareCall(&quot;create procedure p1 (@id int = null, @name varchar(255) = null) as begin &quot;\r\n    \t\t+ &quot;if @id is not null &quot;\r\n    \t\t+ &quot;select * from sysobjects where id = @id &quot;\r\n    \t\t+ &quot;else if @name is not null &quot;\r\n    \t\t+ &quot;select * from sysobjects where name = @name &quot;\r\n    \t\t+ &quot; end&quot;);\r\n    stmt.execute();\r\n    \r\n    //call the proc using one of the 2 optional params\r\n    stmt = conn.prepareCall(&quot;{call p1 ?}&quot;);\r\n    stmt.setInt(&quot;@id&quot;, 10);\r\n    ResultSet rs = stmt.executeQuery();\r\n    while (rs.next())\r\n    {\r\n    \tSystem.out.println(rs.getString(1));\r\n    }\r\n\r\n    \r\n    //use the other optional param\r\n    stmt = conn.prepareCall(&quot;{call p1 ?}&quot;);\r\n    stmt.setString(&quot;@name&quot;, &quot;sysprocedures&quot;);\r\n    rs = stmt.executeQuery();\r\n    while (rs.next())\r\n    {\r\n    \tSystem.out.println(rs.getString(1));\r\n    }","title":"Named parameters in JDBC","body":"<p>Vanilla JDBC only supports named parameters in a <code>CallableStatement</code> (e.g. <code>setString(\"name\", name)</code>), and even then, I suspect the underlying stored procedure implementation has to support it.</p>\n\n<p>An example of how to use named parameters:</p>\n\n<pre><code>//uss Sybase ASE sysobjects table...adjust for your RDBMS\nstmt = conn.prepareCall(\"create procedure p1 (@id int = null, @name varchar(255) = null) as begin \"\n        + \"if @id is not null \"\n        + \"select * from sysobjects where id = @id \"\n        + \"else if @name is not null \"\n        + \"select * from sysobjects where name = @name \"\n        + \" end\");\nstmt.execute();\n\n//call the proc using one of the 2 optional params\nstmt = conn.prepareCall(\"{call p1 ?}\");\nstmt.setInt(\"@id\", 10);\nResultSet rs = stmt.executeQuery();\nwhile (rs.next())\n{\n    System.out.println(rs.getString(1));\n}\n\n\n//use the other optional param\nstmt = conn.prepareCall(\"{call p1 ?}\");\nstmt.setString(\"@name\", \"sysprocedures\");\nrs = stmt.executeQuery();\nwhile (rs.next())\n{\n    System.out.println(rs.getString(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21136,"reputation":2453,"user_id":51162,"accept_rate":70,"display_name":"kovica"},"down_vote_count":5,"up_vote_count":6,"is_accepted":false,"score":1,"last_activity_date":1684311280,"creation_date":1319909353,"answer_id":7940495,"question_id":2309970,"body_markdown":"Plain vanilla JDBC does not support named parameters.\r\n\r\nIf you are using DB2 then using DB2 classes directly:\r\n\r\n 1. [Using named parameter markers with PreparedStatement objects][1]\r\n 2. [Using named parameter markers with CallableStatement objects][2]\r\n\r\n\r\nEDIT: New links for Db2 v11.5:\r\n1. [Using named parameter markers with PreparedStatement objects][3]\r\n2. [Using named parameter markers with CallableStatement objects][4]\r\n\r\nEDIT 2: New links for Db2 on z/OS (v13)\r\n1. [Using named parameter markers with PreparedStatement objects][5]\r\n2. [Using named parameter markers with Callable Statement objects][6]\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_t0054762.html\r\n  [2]: http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_t0054764.html\r\n  [3]: https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-preparedstatement-objects\r\n  [4]: https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-callablestatement-objects\r\n  [5]: https://www.ibm.com/docs/en/db2-for-zos/13?topic=applications-using-named-parameter-markers-preparedstatement-objects\r\n  [6]: https://www.ibm.com/docs/en/db2-for-zos/13?topic=applications-using-named-parameter-markers-callablestatement-objects","title":"Named parameters in JDBC","body":"<p>Plain vanilla JDBC does not support named parameters.</p>\n<p>If you are using DB2 then using DB2 classes directly:</p>\n<ol>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_t0054762.html\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a></li>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_t0054764.html\" rel=\"nofollow noreferrer\">Using named parameter markers with CallableStatement objects</a></li>\n</ol>\n<p>EDIT: New links for Db2 v11.5:</p>\n<ol>\n<li><a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-preparedstatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a></li>\n<li><a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-callablestatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with CallableStatement objects</a></li>\n</ol>\n<p>EDIT 2: New links for Db2 on z/OS (v13)</p>\n<ol>\n<li><a href=\"https://www.ibm.com/docs/en/db2-for-zos/13?topic=applications-using-named-parameter-markers-preparedstatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a></li>\n<li><a href=\"https://www.ibm.com/docs/en/db2-for-zos/13?topic=applications-using-named-parameter-markers-callablestatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with Callable Statement objects</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1095576,"reputation":3241,"user_id":1089231,"display_name":"InvulgoSoft"},"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1690407145,"creation_date":1387314646,"answer_id":20644736,"question_id":2309970,"body_markdown":"To avoid including a large framework, I think a simple homemade class can do the trick.\r\n\r\nExample of class to handle named parameters:\r\n\r\n```java\r\npublic class NamedParamStatement implements AutoClosable {\r\n\r\n    private final PreparedStatement prepStmt;\r\n    private final List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n\r\n    public NamedParamStatement(final Connection conn, String sql) throws SQLException {\r\n        int pos;\r\n        while((pos = sql.indexOf(&quot;:&quot;)) != -1) {\r\n            int end = sql.indexOf(&quot; &quot;, pos);\r\n            if (end == -1) {\r\n    \t\t    end = sql.length();\r\n    \t    }\r\n    \t\tfields.add(sql.substring(pos + 1,end));\r\n    \t\tsql = sql.substring(0, pos) + &quot;?&quot; + sql.substring(end);\r\n    \t}\t\t\r\n    \tprepStmt = conn.prepareStatement(sql);\r\n    }\r\n\r\n    public void close() throws SQLException {\r\n    \tprepStmt.close();\r\n    }\r\n    public PreparedStatement getPreparedStatement() {\r\n        return prepStmt;\r\n    }\r\n    public ResultSet executeQuery() throws SQLException {\r\n    \treturn prepStmt.executeQuery();\r\n    }\r\n\r\n    public void setInt(final String name, final int value) throws SQLException {\t\t\r\n    \tprepStmt.setInt(getIndex(name), value);\r\n    }\r\n\r\n    private int getIndex(final String name) {\r\n    \treturn fields.indexOf(name) + 1;\r\n    }\r\n}\r\n```\r\n\r\nExample of calling the class:\r\n\r\n```java\r\nString sql = &quot;SELECT id, Name, Age, TS FROM TestTable WHERE Age &lt; :age OR id = :id&quot;;\r\ntry (NamedParamStatement stmt = new NamedParamStatement(conn, sql))\r\n{\r\n    stmt.setInt(&quot;age&quot;, 35);\r\n    stmt.setInt(&quot;id&quot;, 2);\r\n    ResultSet rs = stmt.executeQuery();\r\n}\r\n```\r\n\r\nPlease note that the above simple example does not handle using named parameter twice. Nor does it handle using the `:` sign inside quotes.","title":"Named parameters in JDBC","body":"<p>To avoid including a large framework, I think a simple homemade class can do the trick.</p>\n<p>Example of class to handle named parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NamedParamStatement implements AutoClosable {\n\n    private final PreparedStatement prepStmt;\n    private final List&lt;String&gt; fields = new ArrayList&lt;&gt;();\n\n    public NamedParamStatement(final Connection conn, String sql) throws SQLException {\n        int pos;\n        while((pos = sql.indexOf(&quot;:&quot;)) != -1) {\n            int end = sql.indexOf(&quot; &quot;, pos);\n            if (end == -1) {\n                end = sql.length();\n            }\n            fields.add(sql.substring(pos + 1,end));\n            sql = sql.substring(0, pos) + &quot;?&quot; + sql.substring(end);\n        }       \n        prepStmt = conn.prepareStatement(sql);\n    }\n\n    public void close() throws SQLException {\n        prepStmt.close();\n    }\n    public PreparedStatement getPreparedStatement() {\n        return prepStmt;\n    }\n    public ResultSet executeQuery() throws SQLException {\n        return prepStmt.executeQuery();\n    }\n\n    public void setInt(final String name, final int value) throws SQLException {        \n        prepStmt.setInt(getIndex(name), value);\n    }\n\n    private int getIndex(final String name) {\n        return fields.indexOf(name) + 1;\n    }\n}\n</code></pre>\n<p>Example of calling the class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;SELECT id, Name, Age, TS FROM TestTable WHERE Age &lt; :age OR id = :id&quot;;\ntry (NamedParamStatement stmt = new NamedParamStatement(conn, sql))\n{\n    stmt.setInt(&quot;age&quot;, 35);\n    stmt.setInt(&quot;id&quot;, 2);\n    ResultSet rs = stmt.executeQuery();\n}\n</code></pre>\n<p>Please note that the above simple example does not handle using named parameter twice. Nor does it handle using the <code>:</code> sign inside quotes.</p>\n"}],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149991,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"closed_date":1597549384,"accepted_answer_id":2309984,"answer_count":5,"score":84,"last_activity_date":1690407145,"creation_date":1266831464,"question_id":2309970,"body_markdown":"Are there named parameters in JDBC instead of positional ones, like the `@name`, `@city` in the ADO.NET query below?\r\n\r\n    select * from customers where name=@name and city = @city\r\n\r\n\r\n","title":"Named parameters in JDBC","body":"<p>Are there named parameters in JDBC instead of positional ones, like the <code>@name</code>, <code>@city</code> in the ADO.NET query below?</p>\n\n<pre><code>select * from customers where name=@name and city = @city\n</code></pre>\n"},{"tags":["java","concurrency","dictionary"],"comments":[{"owner":{"display_name":"user684934"},"score":2,"creation_date":1327807799,"post_id":9050668,"comment_id":11355903,"body_markdown":"ConcurrentHashMap is thread safe.  That comes with an overhead for every operation on it.  But you wouldn&#39;t notice the difference, unless your app spends 90% of its time retrieving values from it.","body":"ConcurrentHashMap is thread safe.  That comes with an overhead for every operation on it.  But you wouldn&#39;t notice the difference, unless your app spends 90% of its time retrieving values from it."},{"owner":{"account_id":1167224,"reputation":2444,"user_id":1145216,"accept_rate":78,"display_name":"user1145216"},"score":0,"creation_date":1327807802,"post_id":9050668,"comment_id":11355904,"body_markdown":"Hello, why do I get a downvote? Please explain why!","body":"Hello, why do I get a downvote? Please explain why!"},{"owner":{"account_id":312321,"reputation":3200,"user_id":626318,"display_name":"blackcompe"},"score":1,"creation_date":1327818891,"post_id":9050668,"comment_id":11356956,"body_markdown":"Have you look at the API? It clearly states that writes are synchronized and retrievals aren&#39;t. What else is there to know?","body":"Have you look at the API? It clearly states that writes are synchronized and retrievals aren&#39;t. What else is there to know?"},{"owner":{"account_id":42255,"reputation":8377,"user_id":123054,"accept_rate":83,"display_name":"Matt"},"score":0,"creation_date":1327828414,"post_id":9050668,"comment_id":11357863,"body_markdown":"the code for get in either case is not particularly complex, just read the code and make an informed decision","body":"the code for get in either case is not particularly complex, just read the code and make an informed decision"}],"answers":[{"tags":[],"owner":{"account_id":312321,"reputation":3200,"user_id":626318,"display_name":"blackcompe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327808110,"creation_date":1327808110,"answer_id":9050715,"question_id":9050668,"body_markdown":"According to the `ConcurrentHashMap` API, there is no locking for retrieval methods. So, I&#39;d say they are equal in performance.","title":"Java Concurrency: Are &quot;get(Key) for HashMap and ConcurrentHashMap equal in performance?","body":"<p>According to the <code>ConcurrentHashMap</code> API, there is no locking for retrieval methods. So, I'd say they are equal in performance.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1327825430,"creation_date":1327808760,"answer_id":9050744,"question_id":9050668,"body_markdown":"You&#39;re asking the wrong question.\r\n\r\nIf you need concurrency, you need it *no matter* the performance impact. \r\n\r\nA correctly behaving program almost always ranks more highly than a faster program. I say &quot;almost always&quot; because there may be business reasons to release software with bugs rather than holding back until the bugs are fixed.","title":"Java Concurrency: Are &quot;get(Key) for HashMap and ConcurrentHashMap equal in performance?","body":"<p>You're asking the wrong question.</p>\n\n<p>If you need concurrency, you need it <em>no matter</em> the performance impact. </p>\n\n<p>A correctly behaving program almost always ranks more highly than a faster program. I say \"almost always\" because there may be business reasons to release software with bugs rather than holding back until the bugs are fixed.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1327856964,"creation_date":1327856964,"answer_id":9054989,"question_id":9050668,"body_markdown":"You could look at the source code.  (I&#39;m looking at JDK 6)  HashMap.get() is pretty simple:\r\n\r\n    public V get(Object key) {\r\n            if (key == null)\r\n                return getForNullKey();\r\n            int hash = hash(key.hashCode());\r\n            for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];\r\n                 e != null;\r\n                 e = e.next) {\r\n                Object k;\r\n                if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k)))\r\n                    return e.value;\r\n            }\r\n            return null;\r\n        }\r\n\r\nWhere hash() does some extra shifting and XORing to &quot;improve&quot; your hash code.\r\n\r\n\r\nConcurrentHashMap.get() is a bit more complex, but not a lot\r\n\r\n    public V get(Object key) {\r\n        int hash = hash(key.hashCode());\r\n        return segmentFor(hash).get(key, hash);\r\n    }\r\n\r\nAgain, hash() does some shifting and XORing.  setMentFor(int hash) does a simple array lookup.  The only complex stuff is in Segment.get().  But even that doesn&#39;t look like rocket science:\r\n\r\n   \r\n\r\n    V get(Object key, int hash) {\r\n       if (count != 0) { // read-volatile\r\n          HashEntry&lt;K,V&gt; e = getFirst(hash);\r\n          while (e != null) {\r\n             if (e.hash == hash &amp;&amp; key.equals(e.key)) {\r\n                V v = e.value;\r\n                if (v != null)\r\n                   return v;\r\n                return readValueUnderLock(e); // recheck\r\n              }\r\n              e = e.next;\r\n          }\r\n     }\r\n      return null;\r\n    }\r\n\r\n\r\nThe one place where is gets a lock is readValueUnderLock().  The comments say that this is technically legal under the memory model but never known to occur.\r\n\r\nOverall, looks like the code is pretty similar for both.  Just a bit better organized in ConcurrentHashMap.  So I&#39;d guess that the performance is similar enough.\r\n\r\n\r\n*That said, if puts really are extremely rare, you could consider implementing a &quot;copy on write&quot; type of mechanism.*\r\n","title":"Java Concurrency: Are &quot;get(Key) for HashMap and ConcurrentHashMap equal in performance?","body":"<p>You could look at the source code.  (I'm looking at JDK 6)  HashMap.get() is pretty simple:</p>\n\n<pre><code>public V get(Object key) {\n        if (key == null)\n            return getForNullKey();\n        int hash = hash(key.hashCode());\n        for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];\n             e != null;\n             e = e.next) {\n            Object k;\n            if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k)))\n                return e.value;\n        }\n        return null;\n    }\n</code></pre>\n\n<p>Where hash() does some extra shifting and XORing to \"improve\" your hash code.</p>\n\n<p>ConcurrentHashMap.get() is a bit more complex, but not a lot</p>\n\n<pre><code>public V get(Object key) {\n    int hash = hash(key.hashCode());\n    return segmentFor(hash).get(key, hash);\n}\n</code></pre>\n\n<p>Again, hash() does some shifting and XORing.  setMentFor(int hash) does a simple array lookup.  The only complex stuff is in Segment.get().  But even that doesn't look like rocket science:</p>\n\n<pre><code>V get(Object key, int hash) {\n   if (count != 0) { // read-volatile\n      HashEntry&lt;K,V&gt; e = getFirst(hash);\n      while (e != null) {\n         if (e.hash == hash &amp;&amp; key.equals(e.key)) {\n            V v = e.value;\n            if (v != null)\n               return v;\n            return readValueUnderLock(e); // recheck\n          }\n          e = e.next;\n      }\n }\n  return null;\n}\n</code></pre>\n\n<p>The one place where is gets a lock is readValueUnderLock().  The comments say that this is technically legal under the memory model but never known to occur.</p>\n\n<p>Overall, looks like the code is pretty similar for both.  Just a bit better organized in ConcurrentHashMap.  So I'd guess that the performance is similar enough.</p>\n\n<p><em>That said, if puts really are extremely rare, you could consider implementing a \"copy on write\" type of mechanism.</em></p>\n"}],"owner":{"account_id":1167224,"reputation":2444,"user_id":1145216,"accept_rate":78,"display_name":"user1145216"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":9054989,"answer_count":3,"score":5,"last_activity_date":1690407127,"creation_date":1327807507,"question_id":9050668,"body_markdown":"Are `get(Key)` method calls for a standard `HashMap` and a `ConcurrentHashMap` equal in performance when no modifications happen for the underlying Map (so only get() operations are performed.)\r\n\r\n\r\nUpdate with Background:\r\n\r\nConcurrency is quite a complex topic: I do need &quot;concurrency/threadsafety&quot; but only on puts, that happen extremely seldom. And for the puts I could swap the Map Associations itself (which is atomic and threadsafe).\r\n\r\nTherefore I am asking I am doing a lot of gets (and have the option to either implement it with a HashMap (create a temporary Hashmap, Copy Data into a new HashMap, and swap association) or using a ConcurrentHashMap... As my App really does a lot of gets I want to learn more how performance is lost with both different gets.\r\n\r\nAs silly this sounds, the internet has so much unnecessary information around but this is something I think could be of interest to a lot more people. So if someone knows the inner workings of ConcurrentHashMap for gets it would be great to answer the question. \r\n\r\nThanks very much!","title":"Java Concurrency: Are &quot;get(Key) for HashMap and ConcurrentHashMap equal in performance?","body":"<p>Are <code>get(Key)</code> method calls for a standard <code>HashMap</code> and a <code>ConcurrentHashMap</code> equal in performance when no modifications happen for the underlying Map (so only get() operations are performed.)</p>\n<p>Update with Background:</p>\n<p>Concurrency is quite a complex topic: I do need &quot;concurrency/threadsafety&quot; but only on puts, that happen extremely seldom. And for the puts I could swap the Map Associations itself (which is atomic and threadsafe).</p>\n<p>Therefore I am asking I am doing a lot of gets (and have the option to either implement it with a HashMap (create a temporary Hashmap, Copy Data into a new HashMap, and swap association) or using a ConcurrentHashMap... As my App really does a lot of gets I want to learn more how performance is lost with both different gets.</p>\n<p>As silly this sounds, the internet has so much unnecessary information around but this is something I think could be of interest to a lot more people. So if someone knows the inner workings of ConcurrentHashMap for gets it would be great to answer the question.</p>\n<p>Thanks very much!</p>\n"},{"tags":["java","minecraft","copy-paste","minecraft-forge"],"owner":{"account_id":28233463,"reputation":1,"user_id":21582336,"display_name":"Cloxeer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690407063,"creation_date":1680794794,"question_id":75951223,"body_markdown":"I am trying to create ForgeTiers For each Item in the game so I can associate them with armor and tools instead of making each class separately. Is there a way I could make a method that just creates them for me?\r\n\r\n\r\n```\r\npublic static final ForgeTier DIRT = new ForgeTier(0, 100, .5f, 1f, 2, BlockTags.NEEDS_IRON_TOOL,\r\n            () -&gt; Ingredient.of(new ItemStack(Items.DIRT)));\r\n```\r\n\r\n\r\nThis is what I have now. I have been copy pasting but I feel there is a better way to do it.\r\n\r\nIf there is also a way to make a method to maybe just type in the item i want it to be called and it be made for me for example this is my Item.\r\n\r\n```\r\npublic static final RegistryObject&lt;Item&gt; DIRT_PICKAXE = ITEMS.register(&quot;dirt_pickaxe&quot;,\r\n                () -&gt; new PickaxeItem(UtiltyTiers.DIRT, 1, 2, new Item.Properties()));\r\n```\r\n\r\n\r\n\r\nFor each item I just copy and paste this over and over again. Is there a Method I can make to and be like \r\n\r\n```\r\n&#39;public class Items(ItemRegistry) {\r\n create.quartz_pickaxe;\r\n}&#39;\r\n```\r\n\r\n\r\n\r\nI am new to this coding thing but have really gotten into it, but as I come up with new ideas I realize I make things hard for myself. If anyone on here can help me that would be wonderful!\r\n","title":"Creating a Method for repeating Tiers Minecraft 1.19.3","body":"<p>I am trying to create ForgeTiers For each Item in the game so I can associate them with armor and tools instead of making each class separately. Is there a way I could make a method that just creates them for me?</p>\n<pre><code>public static final ForgeTier DIRT = new ForgeTier(0, 100, .5f, 1f, 2, BlockTags.NEEDS_IRON_TOOL,\n            () -&gt; Ingredient.of(new ItemStack(Items.DIRT)));\n</code></pre>\n<p>This is what I have now. I have been copy pasting but I feel there is a better way to do it.</p>\n<p>If there is also a way to make a method to maybe just type in the item i want it to be called and it be made for me for example this is my Item.</p>\n<pre><code>public static final RegistryObject&lt;Item&gt; DIRT_PICKAXE = ITEMS.register(&quot;dirt_pickaxe&quot;,\n                () -&gt; new PickaxeItem(UtiltyTiers.DIRT, 1, 2, new Item.Properties()));\n</code></pre>\n<p>For each item I just copy and paste this over and over again. Is there a Method I can make to and be like</p>\n<pre><code>'public class Items(ItemRegistry) {\n create.quartz_pickaxe;\n}'\n</code></pre>\n<p>I am new to this coding thing but have really gotten into it, but as I come up with new ideas I realize I make things hard for myself. If anyone on here can help me that would be wonderful!</p>\n"},{"tags":["java","keycloak","authenticator"],"owner":{"account_id":371109,"reputation":1068,"user_id":1384545,"accept_rate":0,"display_name":"Harlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690406907,"creation_date":1690405582,"question_id":76775041,"body_markdown":"I am attempting to implement an Authenticator interface with the purpose of having a user with an x509 certificate card to have a user created in Keycloak and then just allowing the user to login since we trust the username and other information given from the certificate.\r\n\r\nWe are set up in Keycloak like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWe are using the following to gather this information from the cert (which btw, does well when we use it get the cert information for a form if we use normal registration):\r\n\r\n```java\r\npackage com.mycompany.pki.pkihelper;\r\n\r\n...\r\n\r\nimport org.jboss.resteasy.spi.HttpRequest;\r\n...\r\nimport org.jboss.logging.Logger;\r\n\r\npublic class CertHelper {\r\n    private static final Logger logger = Logger.getLogger(CertHelper.class);\r\n\r\n    private static String removeBeginEndPem(String pem) {\r\n        pem = pem.replace(&quot;-----BEGIN CERTIFICATE-----&quot;, &quot;&quot;);\r\n        pem = pem.replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\r\n        pem = pem.replace(&quot;\\r\\n&quot;, &quot;&quot;);\r\n        pem = pem.replace(&quot;\\n&quot;, &quot;&quot;);\r\n        return pem.trim();\r\n    }\r\n\r\n    ...\r\n\r\n    public static String getCertificateUserName(HttpRequest httpRequest) {\r\n        \r\n        String firstName = getCertificateFirstName(httpRequest);\r\n        String lastName = getCertificateLastName(httpRequest);\r\n        String userName = firstName+ &quot;.&quot; + lastName;\r\n\r\n        if(firstName == &quot;&quot;){\r\n            return &quot;&quot;;\r\n        }else{\r\n            return userName;\r\n        }\r\n        \r\n    }\r\n\r\n    ...\r\n    \r\n}\r\n``` \r\n\r\nand then we are using this authenticator class:\r\n\r\n```java\r\npackage com.mycomponay.authentication;\r\n\r\nimport org.keycloak.authentication.AuthenticationFlowContext;\r\nimport org.keycloak.authentication.Authenticator;\r\nimport org.keycloak.authentication.authenticators.browser.UsernamePasswordForm;\r\nimport org.keycloak.models.KeycloakSession;\r\nimport org.keycloak.models.RealmModel;\r\nimport org.keycloak.models.UserModel;\r\nimport org.keycloak.models.UserProvider;\r\nimport com.mycompoany.pki.pkihelper.CertHelper;\r\n\r\n\r\npublic class InternalAuthenticator implements Authenticator {\r\n\r\n    @Override\r\n    public void authenticate(AuthenticationFlowContext context) {\r\n        String username = context.getHttpRequest().getDecodedFormParameters().getFirst(UsernamePasswordForm.ATTEMPTED_USERNAME);\r\n        RealmModel realm = context.getRealm();\r\n\r\n        UserProvider userProvider = context.getSession().userStorageManager();\r\n        UserModel userModel = userProvider.getUserByUsername(username, realm);\r\n\r\n        if (userModel == null) {\r\n            // If the user doesn&#39;t exist, create a new user\r\n            username = CertHelper.getCertificateUserName(context.getHttpRequest());\r\n            userModel = createUser(context, realm, username);\r\n            userModel.setFirstName(CertHelper.getCertificateFirstName(context.getHttpRequest()));\r\n            userModel.setLastName(CertHelper.getCertificateLastName(context.getHttpRequest()));\r\n            userModel.setEmail(&quot;testuser@mycompany.com&quot;);\r\n            userModel.setEnabled(true);\r\n        }\r\n\r\n        context.setUser(userModel);\r\n        context.success();\r\n    }\r\n\r\n    private UserModel createUser(AuthenticationFlowContext context, RealmModel realm, String username) {\r\n        KeycloakSession session = context.getSession();\r\n        UserProvider userProvider = session.userStorageManager();\r\n    \r\n        UserModel newUser = userProvider.addUser(realm, username);\r\n        newUser.setSingleAttribute(&quot;username&quot;, username);\r\n        session.getTransactionManager().commit();\r\n    \r\n        return newUser;\r\n    }\r\n    \r\n\r\n    @Override\r\n    ... // other overridden methods\r\n\r\n}\r\n\r\n```\r\n\r\nWhen we do this, we seem to get an error message:\r\n\r\n```log\r\n20:48:32,938 WARN  [org.keycloak.services] (default task-3) KC-SERVICES0013: Failed authentication: org.keycloak.authentication.AuthenticationFlowException: Not found serialized context in clientSession\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.authenticators.broker.AbstractIdpAuthenticator.authenticate(AbstractIdpAuthenticator.java:68)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:446)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:250)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.AuthenticationProcessor.authenticateOnly(AuthenticationProcessor.java:1017)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.AuthenticationProcessor.authenticate(AuthenticationProcessor.java:879)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.AuthorizationEndpointBase.handleBrowserAuthenticationRequest(AuthorizationEndpointBase.java:151)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint.buildAuthorizationCodeAuthorizationResponse(AuthorizationEndpoint.java:338)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint.process(AuthorizationEndpoint.java:194)\r\n\tat org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint.buildGet(AuthorizationEndpoint.java:112)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8UZV5.png\r\n  [2]: https://i.stack.imgur.com/pOTa7.png\r\n\r\nMy question I think is how can we get a proper session so that we can make use of our CertHelper class from within an Authenticator interface?","title":"Keycloak Attempting to create a user from information from x509 certificate: AuthenticationFlowException Not found serialized context in clientSession","body":"<p>I am attempting to implement an Authenticator interface with the purpose of having a user with an x509 certificate card to have a user created in Keycloak and then just allowing the user to login since we trust the username and other information given from the certificate.</p>\n<p>We are set up in Keycloak like so:</p>\n<p><a href=\"https://i.stack.imgur.com/8UZV5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8UZV5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pOTa7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOTa7.png\" alt=\"enter image description here\" /></a></p>\n<p>We are using the following to gather this information from the cert (which btw, does well when we use it get the cert information for a form if we use normal registration):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.pki.pkihelper;\n\n...\n\nimport org.jboss.resteasy.spi.HttpRequest;\n...\nimport org.jboss.logging.Logger;\n\npublic class CertHelper {\n    private static final Logger logger = Logger.getLogger(CertHelper.class);\n\n    private static String removeBeginEndPem(String pem) {\n        pem = pem.replace(&quot;-----BEGIN CERTIFICATE-----&quot;, &quot;&quot;);\n        pem = pem.replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\n        pem = pem.replace(&quot;\\r\\n&quot;, &quot;&quot;);\n        pem = pem.replace(&quot;\\n&quot;, &quot;&quot;);\n        return pem.trim();\n    }\n\n    ...\n\n    public static String getCertificateUserName(HttpRequest httpRequest) {\n        \n        String firstName = getCertificateFirstName(httpRequest);\n        String lastName = getCertificateLastName(httpRequest);\n        String userName = firstName+ &quot;.&quot; + lastName;\n\n        if(firstName == &quot;&quot;){\n            return &quot;&quot;;\n        }else{\n            return userName;\n        }\n        \n    }\n\n    ...\n    \n}\n</code></pre>\n<p>and then we are using this authenticator class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycomponay.authentication;\n\nimport org.keycloak.authentication.AuthenticationFlowContext;\nimport org.keycloak.authentication.Authenticator;\nimport org.keycloak.authentication.authenticators.browser.UsernamePasswordForm;\nimport org.keycloak.models.KeycloakSession;\nimport org.keycloak.models.RealmModel;\nimport org.keycloak.models.UserModel;\nimport org.keycloak.models.UserProvider;\nimport com.mycompoany.pki.pkihelper.CertHelper;\n\n\npublic class InternalAuthenticator implements Authenticator {\n\n    @Override\n    public void authenticate(AuthenticationFlowContext context) {\n        String username = context.getHttpRequest().getDecodedFormParameters().getFirst(UsernamePasswordForm.ATTEMPTED_USERNAME);\n        RealmModel realm = context.getRealm();\n\n        UserProvider userProvider = context.getSession().userStorageManager();\n        UserModel userModel = userProvider.getUserByUsername(username, realm);\n\n        if (userModel == null) {\n            // If the user doesn't exist, create a new user\n            username = CertHelper.getCertificateUserName(context.getHttpRequest());\n            userModel = createUser(context, realm, username);\n            userModel.setFirstName(CertHelper.getCertificateFirstName(context.getHttpRequest()));\n            userModel.setLastName(CertHelper.getCertificateLastName(context.getHttpRequest()));\n            userModel.setEmail(&quot;testuser@mycompany.com&quot;);\n            userModel.setEnabled(true);\n        }\n\n        context.setUser(userModel);\n        context.success();\n    }\n\n    private UserModel createUser(AuthenticationFlowContext context, RealmModel realm, String username) {\n        KeycloakSession session = context.getSession();\n        UserProvider userProvider = session.userStorageManager();\n    \n        UserModel newUser = userProvider.addUser(realm, username);\n        newUser.setSingleAttribute(&quot;username&quot;, username);\n        session.getTransactionManager().commit();\n    \n        return newUser;\n    }\n    \n\n    @Override\n    ... // other overridden methods\n\n}\n\n</code></pre>\n<p>When we do this, we seem to get an error message:</p>\n<pre><code>20:48:32,938 WARN  [org.keycloak.services] (default task-3) KC-SERVICES0013: Failed authentication: org.keycloak.authentication.AuthenticationFlowException: Not found serialized context in clientSession\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.authenticators.broker.AbstractIdpAuthenticator.authenticate(AbstractIdpAuthenticator.java:68)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:446)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:250)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.AuthenticationProcessor.authenticateOnly(AuthenticationProcessor.java:1017)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.authentication.AuthenticationProcessor.authenticate(AuthenticationProcessor.java:879)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.AuthorizationEndpointBase.handleBrowserAuthenticationRequest(AuthorizationEndpointBase.java:151)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint.buildAuthorizationCodeAuthorizationResponse(AuthorizationEndpoint.java:338)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint.process(AuthorizationEndpoint.java:194)\n    at org.keycloak.keycloak-services@19.0.3//org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint.buildGet(AuthorizationEndpoint.java:112)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n</code></pre>\n<p>My question I think is how can we get a proper session so that we can make use of our CertHelper class from within an Authenticator interface?</p>\n"},{"tags":["java","spring","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":24810219,"reputation":1,"user_id":18691761,"display_name":"Hasttag_boy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690296810,"creation_date":1690296745,"answer_id":76763920,"question_id":76763861,"body_markdown":"The content &quot;Content Type &quot; header is important while dealing with data as it is given in docs. try this \r\n\r\n   String originalPostBody = exchange.getIn().getHeader(&quot;CamelHttpPostBody&quot;).toString();\r\n\r\nor ;\r\n\r\nString originalPostBody = exchange.getIn().getBody(String.class);\r\n","title":"Getting the original POST body from an Undertow route in Apache Camel","body":"<p>The content &quot;Content Type &quot; header is important while dealing with data as it is given in docs. try this</p>\n<p>String originalPostBody = exchange.getIn().getHeader(&quot;CamelHttpPostBody&quot;).toString();</p>\n<p>or ;</p>\n<p>String originalPostBody = exchange.getIn().getBody(String.class);</p>\n"}],"owner":{"account_id":3136091,"reputation":1869,"user_id":2652567,"accept_rate":60,"display_name":"sba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690406174,"creation_date":1690296209,"question_id":76763861,"body_markdown":"I try to set up an HTTP endpoint where clients can send files. Given this route in Apache Camel:\r\n\r\n        &lt;route id=&quot;example-inbox&quot;&gt;\r\n            &lt;from uri=&quot;undertow:http://localhost:8080/example-inbox&quot; /&gt;\r\n            &lt;to uri=&quot;file:inbox/&quot; /&gt;\r\n        &lt;/route&gt;\r\n\r\nI get a file containing the string `hello` in the `inbox/` dir when I do\r\n\r\n    curl -i -X POST localhost:8080/example-inbox \\\r\n        -H &quot;Content-Type: text/plain&quot; \\\r\n        --data &#39;hello&#39;\r\n\r\nSo it works fine. However, when I leave out the `Content-Type` header, I get an error:\r\n\r\n     org.apache.camel.InvalidPayloadException: No body available of type: java.io.InputStream but has type: java.util.HashMap on: Message[98010B440702286-0000000000000000]. Caused by: No type converter available to convert from type: java.util.HashMap to the required type: java.io.InputStream. Exchange[98010B440702286-0000000000000000]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: java.util.HashMap to the required type: java.io.InputStream]\r\n\r\nI can avoid the error by converting the body to a string:\r\n\r\n    &lt;convertBodyTo type=&quot;java.lang.String&quot; /&gt;\r\n\r\nUnfortunately, this converts the Hashmap to the string `{hello=}`.\r\n\r\nHow can I write the original POST body to the file regardless of any `Content-Type` header?\r\n\r\n**Edit:**\r\n\r\nTurns out Undertow will generate a HashMap because it assumes the content-type is `application/x-www-form-urlencoded`. So I&#39;d like to turn off any processing and just get the bytes as posted.\r\n","title":"Getting the original POST body from an Undertow route in Apache Camel","body":"<p>I try to set up an HTTP endpoint where clients can send files. Given this route in Apache Camel:</p>\n<pre><code>    &lt;route id=&quot;example-inbox&quot;&gt;\n        &lt;from uri=&quot;undertow:http://localhost:8080/example-inbox&quot; /&gt;\n        &lt;to uri=&quot;file:inbox/&quot; /&gt;\n    &lt;/route&gt;\n</code></pre>\n<p>I get a file containing the string <code>hello</code> in the <code>inbox/</code> dir when I do</p>\n<pre><code>curl -i -X POST localhost:8080/example-inbox \\\n    -H &quot;Content-Type: text/plain&quot; \\\n    --data 'hello'\n</code></pre>\n<p>So it works fine. However, when I leave out the <code>Content-Type</code> header, I get an error:</p>\n<pre><code> org.apache.camel.InvalidPayloadException: No body available of type: java.io.InputStream but has type: java.util.HashMap on: Message[98010B440702286-0000000000000000]. Caused by: No type converter available to convert from type: java.util.HashMap to the required type: java.io.InputStream. Exchange[98010B440702286-0000000000000000]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: java.util.HashMap to the required type: java.io.InputStream]\n</code></pre>\n<p>I can avoid the error by converting the body to a string:</p>\n<pre><code>&lt;convertBodyTo type=&quot;java.lang.String&quot; /&gt;\n</code></pre>\n<p>Unfortunately, this converts the Hashmap to the string <code>{hello=}</code>.</p>\n<p>How can I write the original POST body to the file regardless of any <code>Content-Type</code> header?</p>\n<p><strong>Edit:</strong></p>\n<p>Turns out Undertow will generate a HashMap because it assumes the content-type is <code>application/x-www-form-urlencoded</code>. So I'd like to turn off any processing and just get the bytes as posted.</p>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","amazon-emr"],"comments":[{"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"score":0,"creation_date":1690472550,"post_id":76774804,"comment_id":135361864,"body_markdown":"Usually the connection closed is result, not cause. Do you have any stdout/stderr logs, especially logs from the driver?","body":"Usually the connection closed is result, not cause. Do you have any stdout/stderr logs, especially logs from the driver?"}],"owner":{"account_id":5877498,"reputation":2130,"user_id":4627942,"accept_rate":25,"display_name":"Hasnain Ali Bohra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690405567,"creation_date":1690402994,"question_id":76774804,"body_markdown":"Hello I am reading the parquet file but I am getting below error in AWS EMR :- \r\n\r\nERROR TransportResponseHandler: Still have 518 requests outstanding when connection from ip-100-73-112-181.ec2.internal/100.73.112.181:7337 is closed\r\n\r\nMy spark command :- \r\n\r\nspark-submit --deploy-mode cluster --class com.abcMain --driver-memory 6g --executor-memory 80g --conf avro.mapred.ignore.inputs.without.extension=false --conf &quot;spark.driver.extraJavaOptions=-XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=35 -XX:ConcGCThreads=2 -XX:+UseCompressedOops&quot; --conf spark.executor.cores=16 --conf &quot;spark.executor.extraJavaOptions=-XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=35 -XX:ConcGCThreads=2 -XX:+UseCompressedOops&quot; --conf spark.task.maxFailures=20 --conf spark.ui.retainedTasks=1280 --conf spark.yarn.am.attemptFailuresValidityInterval=1h --conf spark.yarn.executor.failuresValidityInterval=1h --conf spark.yarn.max.executor.failures=100 --conf spark.yarn.maxAppAttempts=1 ","title":"Spark Executor is connection is getting closed","body":"<p>Hello I am reading the parquet file but I am getting below error in AWS EMR :-</p>\n<p>ERROR TransportResponseHandler: Still have 518 requests outstanding when connection from ip-100-73-112-181.ec2.internal/100.73.112.181:7337 is closed</p>\n<p>My spark command :-</p>\n<p>spark-submit --deploy-mode cluster --class com.abcMain --driver-memory 6g --executor-memory 80g --conf avro.mapred.ignore.inputs.without.extension=false --conf &quot;spark.driver.extraJavaOptions=-XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=35 -XX:ConcGCThreads=2 -XX:+UseCompressedOops&quot; --conf spark.executor.cores=16 --conf &quot;spark.executor.extraJavaOptions=-XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=35 -XX:ConcGCThreads=2 -XX:+UseCompressedOops&quot; --conf spark.task.maxFailures=20 --conf spark.ui.retainedTasks=1280 --conf spark.yarn.am.attemptFailuresValidityInterval=1h --conf spark.yarn.executor.failuresValidityInterval=1h --conf spark.yarn.max.executor.failures=100 --conf spark.yarn.maxAppAttempts=1</p>\n"},{"tags":["java","spring","long-polling","spring-websocket","sockjs"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690405189,"creation_date":1476384153,"answer_id":40028614,"question_id":39998653,"body_markdown":"If your server doesn&#39;t support websockets, make sure that it still support async handling.\r\n\r\nYou can disable the websocket transport on the server side with the following option:\r\n\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry ser) {\r\n        ser.addEndpoint(&quot;/notifications&quot;).withSockJS().setWebSocketEnabled(false);\r\n    }\r\n\r\nSockJS clients will automatically select the best available transport supported by the server. In your case, this is the preferred way to deal with this.\r\n\r\nAs explained in the [SockJS client documentation][1], you can limit the available transports on the client side with a `transports` argument when creating the SockJS client.\r\n\r\n\r\n    sockJsProtocols = [&quot;xhr-streaming&quot;, &quot;xhr-polling&quot;];\r\n    socket.cliente = new SockJS(url, null, {transports: sockJsProtocols});\r\n\r\nThe full [list of available transports is here][2]. But technically, if you&#39;re not restricting the available transports on the server side, a client could still attempt to connect using websockets.\r\n\r\n\r\n  [1]: https://github.com/sockjs/sockjs-client#sockjs-client-api\r\n  [2]: https://github.com/sockjs/sockjs-client#supported-transports-by-browser-html-served-from-http-or-https","title":"Manually set transport type on a Spring + Sockjs application","body":"<p>If your server doesn't support websockets, make sure that it still support async handling.</p>\n<p>You can disable the websocket transport on the server side with the following option:</p>\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry ser) {\n    ser.addEndpoint(&quot;/notifications&quot;).withSockJS().setWebSocketEnabled(false);\n}\n</code></pre>\n<p>SockJS clients will automatically select the best available transport supported by the server. In your case, this is the preferred way to deal with this.</p>\n<p>As explained in the <a href=\"https://github.com/sockjs/sockjs-client#sockjs-client-api\" rel=\"nofollow noreferrer\">SockJS client documentation</a>, you can limit the available transports on the client side with a <code>transports</code> argument when creating the SockJS client.</p>\n<pre><code>sockJsProtocols = [&quot;xhr-streaming&quot;, &quot;xhr-polling&quot;];\nsocket.cliente = new SockJS(url, null, {transports: sockJsProtocols});\n</code></pre>\n<p>The full <a href=\"https://github.com/sockjs/sockjs-client#supported-transports-by-browser-html-served-from-http-or-https\" rel=\"nofollow noreferrer\">list of available transports is here</a>. But technically, if you're not restricting the available transports on the server side, a client could still attempt to connect using websockets.</p>\n"}],"owner":{"account_id":6110187,"reputation":95,"user_id":4766729,"display_name":"pallendes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11388,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":40028614,"answer_count":1,"score":8,"last_activity_date":1690405189,"creation_date":1476275306,"question_id":39998653,"body_markdown":"I need to install an application on a non JEE7 compliant server. I am using Spring + Stomp + SocksJs for realtime notifications.\r\n\r\nMy code looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry ser) {\r\n            ser.addEndpoint(&quot;/notifications&quot;).withSockJS()\r\n        }\r\n    \r\n       }\r\n       \r\n    }\r\n\r\nAnd on the client:\r\n\r\n    function setSocket(broker, callbackFn) {\r\n    \r\n    \tvar socket = {};\r\n    \r\n    \tsocket.cliente = new SockJS(path + broker);\r\n    \tsocket.stomp = Stomp.over(socket.cliente);\r\n    \r\n    \tsocket.stomp.connect({}, function () {\r\n    \t\tsocket.stomp.subscribe(&quot;/topic&quot; + broker, callbackFn);\r\n    \t});\r\n    \r\n    }\r\n\r\nIs there any way to manually set the transport type to use and avoid the use of websockets? \r\n\r\n","title":"Manually set transport type on a Spring + Sockjs application","body":"<p>I need to install an application on a non JEE7 compliant server. I am using Spring + Stomp + SocksJs for realtime notifications.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(\"/topic\");\n        config.setApplicationDestinationPrefixes(\"/app\");\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry ser) {\n        ser.addEndpoint(\"/notifications\").withSockJS()\n    }\n\n   }\n\n}\n</code></pre>\n\n<p>And on the client:</p>\n\n<pre><code>function setSocket(broker, callbackFn) {\n\n    var socket = {};\n\n    socket.cliente = new SockJS(path + broker);\n    socket.stomp = Stomp.over(socket.cliente);\n\n    socket.stomp.connect({}, function () {\n        socket.stomp.subscribe(\"/topic\" + broker, callbackFn);\n    });\n\n}\n</code></pre>\n\n<p>Is there any way to manually set the transport type to use and avoid the use of websockets? </p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690404908,"creation_date":1464894407,"answer_id":37600211,"question_id":37599844,"body_markdown":"You have multiple options:\r\n\r\n1. Put `@JsonIgnoreProperties` on your `StudentEntity` class. See: [JsonIgnoreProperties (Jackson-annotations 2.7.4 API)](https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.7.4/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html).\r\n\r\n2. Write a custom `JsonSerializer` for `StudentEntity`. Here you will have to write down code that constructs each field for the output JSON. See: [Jackson - Custom Serializer | Baeldung](https://www.baeldung.com/jackson-custom-serialization).\r\n\r\n3. Use a Mixin, which is basically an interface that matches your `StudentEntity`. Here you can use `@JsonIgnore` on the `getTeacher()` method. See: [JacksonMixInAnnotations &#183; FasterXML/jackson-docs Wiki &#183; GitHub](https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations).\r\n\r\n4. Put a `@JsonSerialize` on you `idGroup` property within your `StudentEntity` class. The annotation takes a class as argument that implements `JsonSerializer`. Though you can specify a way to serialize the `idGroup` property if (and only if) Jackson serializes an instance of `StudentEntity`. (this is more or less just like *option `2.`*, but much more simple to implement)\r\n\r\n5. Write a DTO class that matches your output format. Then copy field by field from your `StudentEntity` object to the `StudentEntityDTO` object (which doesn&#39;t have a `teacher` property) and then let Jackson serialize the DTO object instead of the original `StudentEntity` object. That&#39;s a lot of code to write and only useful if the output JSON is really much different from the original object.\r\n\r\nI&#39;d go for one of the first four options.","title":"Ignore Jackson property","body":"<p>You have multiple options:</p>\n<ol>\n<li><p>Put <code>@JsonIgnoreProperties</code> on your <code>StudentEntity</code> class. See: <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.7.4/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html\" rel=\"nofollow noreferrer\">JsonIgnoreProperties (Jackson-annotations 2.7.4 API)</a>.</p>\n</li>\n<li><p>Write a custom <code>JsonSerializer</code> for <code>StudentEntity</code>. Here you will have to write down code that constructs each field for the output JSON. See: <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">Jackson - Custom Serializer | Baeldung</a>.</p>\n</li>\n<li><p>Use a Mixin, which is basically an interface that matches your <code>StudentEntity</code>. Here you can use <code>@JsonIgnore</code> on the <code>getTeacher()</code> method. See: <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">JacksonMixInAnnotations  FasterXML/jackson-docs Wiki  GitHub</a>.</p>\n</li>\n<li><p>Put a <code>@JsonSerialize</code> on you <code>idGroup</code> property within your <code>StudentEntity</code> class. The annotation takes a class as argument that implements <code>JsonSerializer</code>. Though you can specify a way to serialize the <code>idGroup</code> property if (and only if) Jackson serializes an instance of <code>StudentEntity</code>. (this is more or less just like <em>option <code>2.</code></em>, but much more simple to implement)</p>\n</li>\n<li><p>Write a DTO class that matches your output format. Then copy field by field from your <code>StudentEntity</code> object to the <code>StudentEntityDTO</code> object (which doesn't have a <code>teacher</code> property) and then let Jackson serialize the DTO object instead of the original <code>StudentEntity</code> object. That's a lot of code to write and only useful if the output JSON is really much different from the original object.</p>\n</li>\n</ol>\n<p>I'd go for one of the first four options.</p>\n"},{"tags":[],"owner":{"account_id":8422891,"reputation":1577,"user_id":6321150,"display_name":"Tanvi B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464895019,"creation_date":1464895019,"answer_id":37600385,"question_id":37599844,"body_markdown":"Put @JsonIgnore on getter of teacher, it will not come in out put json","title":"Ignore Jackson property","body":"<p>Put @JsonIgnore on getter of teacher, it will not come in out put json</p>\n"}],"owner":{"account_id":3997513,"reputation":415,"user_id":3294573,"accept_rate":62,"display_name":"TVH7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37600211,"answer_count":2,"score":0,"last_activity_date":1690404908,"creation_date":1464893070,"question_id":37599844,"body_markdown":"    {admin&quot;: false,\r\n        &quot;email&quot;: &quot;student@student.com&quot;,\r\n        &quot;firstName&quot;: &quot;Student&quot;,\r\n        &quot;idGroup&quot;: {\r\n          &quot;idGroup&quot;: 1,\r\n          &quot;name&quot;: &quot;BlijkbaarGeenGroep&quot;,\r\n          &quot;teacher&quot;: {\r\n            &quot;admin&quot;: true,\r\n            &quot;email&quot;: &quot;1&quot;,\r\n            &quot;firstName&quot;: &quot;Example&quot;,\r\n            &quot;idUser&quot;: 1,\r\n            &quot;lastName&quot;: &quot;User&quot;,\r\n            &quot;teacher&quot;: true\r\n          }\r\n        }\r\n\r\nThe folliwing is returned. What I want jackson todo is to ignore teacher. I don&#39;t really care about the teacher items for this call. Problem is I don&#39;t want to access the GroupEntity because I do need groupinfo sometimes. \r\n\r\n   \r\n\r\n         package org.hva.folivora.daomodel.user;\r\n        \r\n        import com.owlike.genson.annotation.JsonIgnore;\r\n        import com.owlike.genson.annotation.JsonProperty;\r\n        import org.codehaus.jackson.annotate.JsonIgnoreProperties;\r\n        import org.codehaus.jackson.annotate.JsonIgnoreType;\r\n        import org.hva.folivora.daomodel.global.GroupEntity;\r\n        \r\n        import javax.persistence.*;\r\n        import java.io.Serializable;\r\n        \r\n        /**\r\n         * @author\r\n         */\r\n        @Entity\r\n        @Table(name = &quot;Student&quot;, schema = &quot;pad_ijburg&quot;, catalog = &quot;&quot;)\r\n        public class StudentEntity extends UserEntity implements Serializable {\r\n            private GroupEntity idGroup;\r\n        \r\n            public StudentEntity(String email, String firstName, String lastName, String password, GroupEntity idGroup) {\r\n                //A student cannot be an admin or teacher. (False, False)\r\n                super(email, firstName, lastName, password, false, false);\r\n                this.idGroup = idGroup;\r\n            }\r\n        \r\n            public StudentEntity() {\r\n        \r\n            }\r\n            \r\n    //Something like ignore all but idgroup??!\r\n            @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n            @JoinColumn(name = &quot;idGroup&quot;)\r\n            public GroupEntity getIdGroup() {\r\n                return idGroup;\r\n            }\r\n        \r\n            public void setIdGroup(GroupEntity idGroup) {\r\n                this.idGroup = idGroup;\r\n            }\r\n        \r\n        }\r\n\r\n\r\n\r\n","title":"Ignore Jackson property","body":"<pre><code>{admin\": false,\n    \"email\": \"student@student.com\",\n    \"firstName\": \"Student\",\n    \"idGroup\": {\n      \"idGroup\": 1,\n      \"name\": \"BlijkbaarGeenGroep\",\n      \"teacher\": {\n        \"admin\": true,\n        \"email\": \"1\",\n        \"firstName\": \"Example\",\n        \"idUser\": 1,\n        \"lastName\": \"User\",\n        \"teacher\": true\n      }\n    }\n</code></pre>\n\n<p>The folliwing is returned. What I want jackson todo is to ignore teacher. I don't really care about the teacher items for this call. Problem is I don't want to access the GroupEntity because I do need groupinfo sometimes. </p>\n\n<pre><code>     package org.hva.folivora.daomodel.user;\n\n    import com.owlike.genson.annotation.JsonIgnore;\n    import com.owlike.genson.annotation.JsonProperty;\n    import org.codehaus.jackson.annotate.JsonIgnoreProperties;\n    import org.codehaus.jackson.annotate.JsonIgnoreType;\n    import org.hva.folivora.daomodel.global.GroupEntity;\n\n    import javax.persistence.*;\n    import java.io.Serializable;\n\n    /**\n     * @author\n     */\n    @Entity\n    @Table(name = \"Student\", schema = \"pad_ijburg\", catalog = \"\")\n    public class StudentEntity extends UserEntity implements Serializable {\n        private GroupEntity idGroup;\n\n        public StudentEntity(String email, String firstName, String lastName, String password, GroupEntity idGroup) {\n            //A student cannot be an admin or teacher. (False, False)\n            super(email, firstName, lastName, password, false, false);\n            this.idGroup = idGroup;\n        }\n\n        public StudentEntity() {\n\n        }\n\n//Something like ignore all but idgroup??!\n        @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n        @JoinColumn(name = \"idGroup\")\n        public GroupEntity getIdGroup() {\n            return idGroup;\n        }\n\n        public void setIdGroup(GroupEntity idGroup) {\n            this.idGroup = idGroup;\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","user-interface","javafx-2","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1690404841,"creation_date":1342294839,"answer_id":11486865,"question_id":11484960,"body_markdown":"**Update 2023**\r\n\r\nJavaFX 20 contains numerous improvements to column resize logic and new resize polices which can be applied.\r\n\r\nConsult the [JavaFX 20 `TableView` documentation][1] sections on various RESIZE_POLICY types for more details.\r\n\r\n**Update**\r\n\r\nNew features in the JavaFX 2.2+ releases have rendered this answer obsolete when applied with an FXML document.\r\n\r\nAn FXML based solution which uses new FXML features to allow the column size to be set via FXML is provided in: https://stackoverflow.com/questions/14095708/fxml-set-tableview-column-resize-policy.\r\n\r\n    &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;110.0&quot; layoutY=&quot;78.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;396.0&quot;&gt;\r\n        &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;&lt;/columnResizePolicy&gt;\r\n        &lt;columns&gt;\r\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\r\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\r\n        &lt;/columns&gt;\r\n    &lt;/TableView&gt;\r\n\r\nIf you are not using FXML the TableView&#39;s resize policy can still be set by code as defined in this answer:\r\n\r\n    tableView.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);\r\n\r\n--------\r\n\r\nIn your FXML, you have defined the preferred width of the table to 837, and the preferred width of each column to 75.  By default, the JavaFX column resizing policy will keep the columns at their preferred widths.  You aren&#39;t going to get the table columns filling the width of your entire table unless you either set a new column resizing policy or set the sum of the preferred widths of all of your columns to add up to your table width.\r\n\r\nJavaFX does provide a mechanism to [modify the default column resizing policy][2]. By setting the column resize policy to a [CONSTRAINED_RESIZE_POLICY][3], the sum of the widths of every column will be constrained to fill the width of the tableview - even if the tableview is resized or individual columns are resized.  This is likely the behaviour which you desire.\r\n\r\nWhile there may be a way to set a CONSTRAINED_RESIZE_POLICY on a tableView from FXML, I am not aware of one (though my skills in fxml are rudimentary - so perhaps somebody more informed can accomplish the configuration using pure fxml).\r\n\r\nWhat you can do is define a controller for your fxml file and then configure the resize policy in the controller.  The following code demonstrates a complete example (written against the JavaFX 2.2b17 preview).\r\n\r\nFXML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.paint.*?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;tableview.TableViewController&quot;&gt;\r\n      &lt;children&gt;\r\n        &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;110.0&quot; layoutY=&quot;78.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;396.0&quot;&gt;\r\n          &lt;columns&gt;\r\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\r\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\r\n          &lt;/columns&gt;\r\n        &lt;/TableView&gt;\r\n      &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nController class:\r\n\r\n    package tableview;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.TableView;\r\n    \r\n    /* controller class for the tableview fxml definition */\r\n    public class TableViewController implements Initializable {\r\n      @FXML //  fx:id=&quot;tableView&quot;\r\n      private TableView&lt;?&gt; tableView; // Value injected by FXMLLoader\r\n    \r\n      @Override // This method is called by the FXMLLoader when initialization is complete\r\n      public void initialize(URL fxmlFileLocation, ResourceBundle resources) {\r\n        assert tableView != null : &quot;fx:id=\\&quot;tableView\\&quot; was not injected: check your FXML file &#39;tableview.fxml&#39;.&quot;;\r\n        \r\n        // initialize your logic here: all @FXML variables will have been injected\r\n        tableView.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);\r\n      }\r\n    }\r\n\r\nApplication class:\r\n\r\n    package tableview;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    /** Main application class for tableview fxml demo application */\r\n    public class TableViewApplication extends Application {\r\n      public static void main(String[] args) { launch(args); }\r\n      @Override public void start(Stage stage) throws IOException {\r\n        AnchorPane layout = FXMLLoader.load(\r\n          new URL(TableViewApplication.class.getResource(&quot;tableview.fxml&quot;).toExternalForm())\r\n        );\r\n        stage.setScene(new Scene(layout));\r\n        stage.show();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/TableView.html#UNCONSTRAINED_RESIZE_POLICY\r\n  [2]: http://docs.oracle.com/javafx/2/api/javafx/scene/control/TableView.html#setColumnResizePolicy%28javafx.util.Callback%29\r\n  [3]: http://docs.oracle.com/javafx/2/api/javafx/scene/control/TableView.html#CONSTRAINED_RESIZE_POLICY","title":"table column won&#39;t take full size of the table view in javaFX","body":"<p><strong>Update 2023</strong></p>\n<p>JavaFX 20 contains numerous improvements to column resize logic and new resize polices which can be applied.</p>\n<p>Consult the <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/TableView.html#UNCONSTRAINED_RESIZE_POLICY\" rel=\"nofollow noreferrer\">JavaFX 20 <code>TableView</code> documentation</a> sections on various RESIZE_POLICY types for more details.</p>\n<p><strong>Update</strong></p>\n<p>New features in the JavaFX 2.2+ releases have rendered this answer obsolete when applied with an FXML document.</p>\n<p>An FXML based solution which uses new FXML features to allow the column size to be set via FXML is provided in: <a href=\"https://stackoverflow.com/questions/14095708/fxml-set-tableview-column-resize-policy\">FXML set TableView column resize policy</a>.</p>\n<pre><code>&lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;110.0&quot; layoutY=&quot;78.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;396.0&quot;&gt;\n    &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;&lt;/columnResizePolicy&gt;\n    &lt;columns&gt;\n        &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\n        &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\n    &lt;/columns&gt;\n&lt;/TableView&gt;\n</code></pre>\n<p>If you are not using FXML the TableView's resize policy can still be set by code as defined in this answer:</p>\n<pre><code>tableView.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);\n</code></pre>\n<hr />\n<p>In your FXML, you have defined the preferred width of the table to 837, and the preferred width of each column to 75.  By default, the JavaFX column resizing policy will keep the columns at their preferred widths.  You aren't going to get the table columns filling the width of your entire table unless you either set a new column resizing policy or set the sum of the preferred widths of all of your columns to add up to your table width.</p>\n<p>JavaFX does provide a mechanism to <a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/control/TableView.html#setColumnResizePolicy%28javafx.util.Callback%29\" rel=\"nofollow noreferrer\">modify the default column resizing policy</a>. By setting the column resize policy to a <a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/control/TableView.html#CONSTRAINED_RESIZE_POLICY\" rel=\"nofollow noreferrer\">CONSTRAINED_RESIZE_POLICY</a>, the sum of the widths of every column will be constrained to fill the width of the tableview - even if the tableview is resized or individual columns are resized.  This is likely the behaviour which you desire.</p>\n<p>While there may be a way to set a CONSTRAINED_RESIZE_POLICY on a tableView from FXML, I am not aware of one (though my skills in fxml are rudimentary - so perhaps somebody more informed can accomplish the configuration using pure fxml).</p>\n<p>What you can do is define a controller for your fxml file and then configure the resize policy in the controller.  The following code demonstrates a complete example (written against the JavaFX 2.2b17 preview).</p>\n<p>FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.paint.*?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;tableview.TableViewController&quot;&gt;\n  &lt;children&gt;\n    &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;110.0&quot; layoutY=&quot;78.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;396.0&quot;&gt;\n      &lt;columns&gt;\n        &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\n        &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\n      &lt;/columns&gt;\n    &lt;/TableView&gt;\n  &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Controller class:</p>\n<pre><code>package tableview;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TableView;\n\n/* controller class for the tableview fxml definition */\npublic class TableViewController implements Initializable {\n  @FXML //  fx:id=&quot;tableView&quot;\n  private TableView&lt;?&gt; tableView; // Value injected by FXMLLoader\n\n  @Override // This method is called by the FXMLLoader when initialization is complete\n  public void initialize(URL fxmlFileLocation, ResourceBundle resources) {\n    assert tableView != null : &quot;fx:id=\\&quot;tableView\\&quot; was not injected: check your FXML file 'tableview.fxml'.&quot;;\n    \n    // initialize your logic here: all @FXML variables will have been injected\n    tableView.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);\n  }\n}\n</code></pre>\n<p>Application class:</p>\n<pre><code>package tableview;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\n/** Main application class for tableview fxml demo application */\npublic class TableViewApplication extends Application {\n  public static void main(String[] args) { launch(args); }\n  @Override public void start(Stage stage) throws IOException {\n    AnchorPane layout = FXMLLoader.load(\n      new URL(TableViewApplication.class.getResource(&quot;tableview.fxml&quot;).toExternalForm())\n    );\n    stage.setScene(new Scene(layout));\n    stage.show();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1759456,"reputation":537,"user_id":1606953,"accept_rate":86,"display_name":"Edu Castrillon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348855582,"creation_date":1345554413,"answer_id":12055542,"question_id":11484960,"body_markdown":"It is not currently possible to set a `CONSTRAINED_RESIZE_POLICY` on a `tableView` from FXML : \r\n\r\nhttps://forums.oracle.com/forums/thread.jspa?threadID=2337733","title":"table column won&#39;t take full size of the table view in javaFX","body":"<p>It is not currently possible to set a <code>CONSTRAINED_RESIZE_POLICY</code> on a <code>tableView</code> from FXML : </p>\n\n<p><a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2337733\" rel=\"nofollow\">https://forums.oracle.com/forums/thread.jspa?threadID=2337733</a></p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422782823,"creation_date":1422782823,"answer_id":28261293,"question_id":11484960,"body_markdown":"In case you use JavaFX GUI builder &quot;SceneBuilder 2.0&quot; - use TableView property [ColumnResizePolicy][1] &quot;constrained-resize&quot; value.\r\n\r\n\r\n  [1]: http://download.java.net/jdk8/jfxdocs/javafx/scene/control/TableView.html#getColumnResizePolicy--","title":"table column won&#39;t take full size of the table view in javaFX","body":"<p>In case you use JavaFX GUI builder \"SceneBuilder 2.0\" - use TableView property <a href=\"http://download.java.net/jdk8/jfxdocs/javafx/scene/control/TableView.html#getColumnResizePolicy--\" rel=\"nofollow\">ColumnResizePolicy</a> \"constrained-resize\" value.</p>\n"}],"owner":{"account_id":551404,"reputation":713,"user_id":916237,"accept_rate":65,"display_name":"Raven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44311,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11486865,"answer_count":3,"score":25,"last_activity_date":1690404841,"creation_date":1342279595,"question_id":11484960,"body_markdown":"i am trying to create a table with two columns.\r\ni am using the scene builder included in netbeans 7.2.\r\nin all the examples i have seen all you need to do is drag the table column to the table and it will take the full size, this is not true in my case.\r\nthis is the fxml file generated by the scene builder.\r\njust to be clear i am not changing the table properties from the java.\r\n\r\nthe fxml:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.net.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.geometry.*?&gt;\r\n    &lt;?import javafx.scene.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.image.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.text.*?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;758.0&quot; prefWidth=&quot;956.0&quot; styleClass=&quot;screen&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;bgu.dcr.az.cpu.ui.expb.ExperimentBuilderScreen&quot;&gt;\r\n      &lt;children&gt;\r\n        &lt;GridPane id=&quot;gridPane1&quot; prefHeight=&quot;517.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n          &lt;children&gt;\r\n            &lt;Label id=&quot;label1&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; prefHeight=&quot;38.0&quot; prefWidth=&quot;9999.0&quot; styleClass=&quot;caption&quot; text=&quot;Create New Experiment&quot; textFill=&quot;#990000&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;0&quot;&gt;\r\n              &lt;font&gt;\r\n                &lt;Font name=&quot;Consolas Bold&quot; size=&quot;20.0&quot; /&gt;\r\n              &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;HBox id=&quot;hBox1&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; spacing=&quot;5.0&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n              &lt;children&gt;\r\n                &lt;Label id=&quot;label2&quot; graphicTextGap=&quot;0.0&quot; styleClass=&quot;field-label&quot; text=&quot;Experiment Name&quot;&gt;\r\n                  &lt;font&gt;\r\n                    &lt;Font name=&quot;Consolas&quot; size=&quot;15.0&quot; /&gt;\r\n                  &lt;/font&gt;\r\n                  &lt;HBox.margin&gt;\r\n                    &lt;Insets top=&quot;3.0&quot; /&gt;\r\n                  &lt;/HBox.margin&gt;\r\n                &lt;/Label&gt;\r\n                &lt;TextField id=&quot;textField1&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\r\n                &lt;Button id=&quot;button2&quot; fx:id=&quot;saveButton&quot; styleClass=&quot;dialog-button&quot; text=&quot;Save&quot; /&gt;\r\n                &lt;Button id=&quot;button3&quot; styleClass=&quot;dialog-button&quot; text=&quot;Dismiss&quot; /&gt;\r\n              &lt;/children&gt;\r\n              &lt;padding&gt;\r\n                &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; fx:id=&quot;x3&quot; /&gt;\r\n              &lt;/padding&gt;\r\n            &lt;/HBox&gt;\r\n            &lt;VBox id=&quot;VBox&quot; alignment=&quot;CENTER&quot; spacing=&quot;5.0&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n              &lt;children&gt;\r\n                &lt;Label id=&quot;label3&quot; prefWidth=&quot;9999.0&quot; styleClass=&quot;field-label&quot; text=&quot;Experiment Tests&quot;&gt;\r\n                  &lt;VBox.margin&gt;\r\n                    &lt;Insets left=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\r\n                  &lt;/VBox.margin&gt;\r\n                &lt;/Label&gt;\r\n                &lt;HBox id=&quot;HBox&quot; alignment=&quot;CENTER&quot; spacing=&quot;5.0&quot;&gt;\r\n                  &lt;children&gt;\r\n                    &lt;Button id=&quot;button1&quot; prefHeight=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot;&gt;\r\n                      &lt;HBox.margin&gt;\r\n                        &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; fx:id=&quot;x3&quot; /&gt;\r\n                      &lt;/HBox.margin&gt;\r\n                    &lt;/Button&gt;\r\n                    &lt;ListView id=&quot;listView1&quot; fx:id=&quot;tests&quot; orientation=&quot;HORIZONTAL&quot; prefHeight=&quot;999.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                      &lt;HBox.margin&gt;\r\n                        &lt;Insets bottom=&quot;4.0&quot; right=&quot;5.0&quot; top=&quot;4.0&quot; /&gt;\r\n                      &lt;/HBox.margin&gt;\r\n                    &lt;/ListView&gt;\r\n                  &lt;/children&gt;\r\n                &lt;/HBox&gt;\r\n              &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n            &lt;VBox id=&quot;vBox1&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n              &lt;children&gt;\r\n                &lt;GridPane id=&quot;gridPane2&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n                  &lt;children&gt;\r\n                    &lt;VBox id=&quot;vBox2&quot; prefHeight=&quot;321.0&quot; prefWidth=&quot;150.0&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;0&quot; GridPane.rowSpan=&quot;4&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label4&quot; text=&quot;Algorithms&quot;&gt;\r\n                          &lt;graphic&gt;\r\n                            &lt;ImageView id=&quot;emptyImageView1&quot; fitHeight=&quot;32.0&quot; fitWidth=&quot;32.0&quot; preserveRatio=&quot;true&quot;&gt;\r\n                              &lt;image&gt;\r\n                                &lt;Image url=&quot;@_algo.png&quot; preserveRatio=&quot;false&quot; smooth=&quot;false&quot; /&gt;\r\n                              &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                          &lt;/graphic&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Button id=&quot;button1&quot; fx:id=&quot;newAlgorithmButton&quot; prefWidth=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot; VBox.margin=&quot;$x3&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                      &lt;GridPane.margin&gt;\r\n                        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; fx:id=&quot;x2&quot; /&gt;\r\n                      &lt;/GridPane.margin&gt;\r\n                    &lt;/VBox&gt;\r\n                    &lt;VBox id=&quot;vBox2&quot; prefHeight=&quot;321.0&quot; prefWidth=&quot;150.0&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;1&quot; GridPane.margin=&quot;$x2&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label4&quot; text=&quot;Problem Generator&quot;&gt;\r\n                          &lt;graphic&gt;\r\n                            &lt;ImageView id=&quot;emptyImageView1&quot; fitHeight=&quot;32.0&quot; fitWidth=&quot;32.0&quot; preserveRatio=&quot;true&quot;&gt;\r\n                              &lt;image&gt;\r\n                                &lt;Image url=&quot;@_pgen.png&quot; preserveRatio=&quot;false&quot; smooth=&quot;false&quot; /&gt;\r\n                              &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                          &lt;/graphic&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Button id=&quot;button1&quot; maxHeight=&quot;999.0&quot; prefHeight=&quot;999.0&quot; prefWidth=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot; VBox.margin=&quot;$x3&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                    &lt;/VBox&gt;\r\n                    &lt;VBox id=&quot;vBox2&quot; prefHeight=&quot;321.0&quot; prefWidth=&quot;150.0&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;2&quot; GridPane.margin=&quot;$x2&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label4&quot; prefWidth=&quot;9999.0&quot; text=&quot;Correctness tester&quot;&gt;\r\n                          &lt;graphic&gt;\r\n                            &lt;ImageView id=&quot;emptyImageView1&quot; fitHeight=&quot;32.0&quot; fitWidth=&quot;32.0&quot; preserveRatio=&quot;true&quot;&gt;\r\n                              &lt;image&gt;\r\n                                &lt;Image url=&quot;@_ctest.png&quot; preserveRatio=&quot;false&quot; smooth=&quot;false&quot; /&gt;\r\n                              &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                          &lt;/graphic&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Button id=&quot;button1&quot; maxHeight=&quot;999.0&quot; maxWidth=&quot;999.0&quot; prefHeight=&quot;999.0&quot; prefWidth=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot; VBox.margin=&quot;$x3&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                    &lt;/VBox&gt;\r\n                    &lt;VBox id=&quot;vBox2&quot; prefHeight=&quot;321.0&quot; prefWidth=&quot;150.0&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;1&quot; GridPane.margin=&quot;$x2&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label4&quot; prefWidth=&quot;130.0&quot; text=&quot;Message delayer&quot;&gt;\r\n                          &lt;graphic&gt;\r\n                            &lt;ImageView id=&quot;emptyImageView1&quot; fitHeight=&quot;32.0&quot; fitWidth=&quot;32.0&quot; preserveRatio=&quot;true&quot;&gt;\r\n                              &lt;image&gt;\r\n                                &lt;Image url=&quot;@_mdel.png&quot; preserveRatio=&quot;false&quot; smooth=&quot;false&quot; /&gt;\r\n                              &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                          &lt;/graphic&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Button id=&quot;button1&quot; maxHeight=&quot;999.0&quot; maxWidth=&quot;999.0&quot; prefHeight=&quot;999.0&quot; prefWidth=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot; VBox.margin=&quot;$x3&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                    &lt;/VBox&gt;\r\n                    &lt;VBox id=&quot;vBox2&quot; prefHeight=&quot;321.0&quot; prefWidth=&quot;150.0&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;2&quot; GridPane.margin=&quot;$x2&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label4&quot; prefWidth=&quot;130.0&quot; text=&quot;Limiter&quot;&gt;\r\n                          &lt;graphic&gt;\r\n                            &lt;ImageView id=&quot;emptyImageView1&quot; fitHeight=&quot;32.0&quot; fitWidth=&quot;32.0&quot; preserveRatio=&quot;true&quot;&gt;\r\n                              &lt;image&gt;\r\n                                &lt;Image url=&quot;@_limiter.png&quot; preserveRatio=&quot;false&quot; smooth=&quot;false&quot; /&gt;\r\n                              &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                          &lt;/graphic&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Button id=&quot;button1&quot; maxHeight=&quot;999.0&quot; maxWidth=&quot;999.0&quot; prefHeight=&quot;999.0&quot; prefWidth=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot; VBox.margin=&quot;$x3&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                    &lt;/VBox&gt;\r\n                    &lt;VBox id=&quot;vBox2&quot; prefHeight=&quot;321.0&quot; prefWidth=&quot;150.0&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;3&quot; GridPane.margin=&quot;$x2&quot; GridPane.rowIndex=&quot;0&quot; GridPane.rowSpan=&quot;4&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label4&quot; prefWidth=&quot;9999.0&quot; text=&quot;Statistic collectors&quot;&gt;\r\n                          &lt;graphic&gt;\r\n                            &lt;ImageView id=&quot;emptyImageView1&quot; fitHeight=&quot;32.0&quot; fitWidth=&quot;32.0&quot; preserveRatio=&quot;true&quot;&gt;\r\n                              &lt;image&gt;\r\n                                &lt;Image url=&quot;@_scol.png&quot; preserveRatio=&quot;false&quot; smooth=&quot;false&quot; /&gt;\r\n                              &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                          &lt;/graphic&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Button id=&quot;button1&quot; prefWidth=&quot;999.0&quot; styleClass=&quot;add-button&quot; text=&quot;New&quot; VBox.margin=&quot;$x3&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                    &lt;/VBox&gt;\r\n                    &lt;HBox id=&quot;hBox1&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; spacing=&quot;5.0&quot; GridPane.columnIndex=&quot;1&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;0&quot;&gt;\r\n                      &lt;children&gt;\r\n                        &lt;Label id=&quot;label2&quot; graphicTextGap=&quot;0.0&quot; styleClass=&quot;field-label&quot; text=&quot;Name&quot;&gt;\r\n                          &lt;HBox.margin&gt;\r\n                            &lt;Insets top=&quot;7.0&quot; /&gt;\r\n                          &lt;/HBox.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;TextField id=&quot;textField1&quot; maxHeight=&quot;28.0&quot; minHeight=&quot;28.0&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;200.0&quot; text=&quot;Empty Test&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\r\n                      &lt;/children&gt;\r\n                      &lt;padding&gt;\r\n                        &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; fx:id=&quot;x3&quot; /&gt;\r\n                      &lt;/padding&gt;\r\n                    &lt;/HBox&gt;\r\n                    &lt;VBox id=&quot;vBox3&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n                  &lt;/children&gt;\r\n                  &lt;columnConstraints&gt;\r\n                    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                  &lt;/columnConstraints&gt;\r\n                  &lt;rowConstraints&gt;\r\n                    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                  &lt;/rowConstraints&gt;\r\n                &lt;/GridPane&gt;\r\n              &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n            &lt;VBox id=&quot;vBox4&quot; alignment=&quot;CENTER&quot; styleClass=&quot;with-dashed-border&quot; GridPane.columnIndex=&quot;0&quot; GridPane.halignment=&quot;CENTER&quot; GridPane.hgrow=&quot;ALWAYS&quot; GridPane.rowIndex=&quot;4&quot; GridPane.valignment=&quot;CENTER&quot; GridPane.vgrow=&quot;ALWAYS&quot;&gt;\r\n              &lt;children&gt;\r\n                &lt;TableView id=&quot;tableView1&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;837.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n                  &lt;columns&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Column X&quot; /&gt;\r\n                  &lt;/columns&gt;\r\n                &lt;/TableView&gt;\r\n              &lt;/children&gt;\r\n              &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; fx:id=&quot;x2&quot; /&gt;\r\n              &lt;/GridPane.margin&gt;\r\n            &lt;/VBox&gt;\r\n          &lt;/children&gt;\r\n          &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n          &lt;/columnConstraints&gt;\r\n          &lt;rowConstraints&gt;\r\n            &lt;RowConstraints maxHeight=&quot;38.0&quot; minHeight=&quot;38.0&quot; prefHeight=&quot;38.0&quot; vgrow=&quot;NEVER&quot; /&gt;\r\n            &lt;RowConstraints maxHeight=&quot;32.0&quot; minHeight=&quot;32.0&quot; prefHeight=&quot;32.0&quot; vgrow=&quot;NEVER&quot; /&gt;\r\n            &lt;RowConstraints maxHeight=&quot;100.0&quot; minHeight=&quot;100.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n            &lt;RowConstraints vgrow=&quot;SOMETIMES&quot; /&gt;\r\n            &lt;RowConstraints maxHeight=&quot;100.0&quot; prefHeight=&quot;100.0&quot; valignment=&quot;CENTER&quot; vgrow=&quot;ALWAYS&quot; /&gt;\r\n          &lt;/rowConstraints&gt;\r\n        &lt;/GridPane&gt;\r\n      &lt;/children&gt;\r\n      &lt;stylesheets&gt;\r\n        &lt;URL value=&quot;@_style.css&quot; /&gt;\r\n        &lt;URL value=&quot;@../_style.css&quot; /&gt;\r\n      &lt;/stylesheets&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n","title":"table column won&#39;t take full size of the table view in javaFX","body":"<p>i am trying to create a table with two columns.\ni am using the scene builder included in netbeans 7.2.\nin all the examples i have seen all you need to do is drag the table column to the table and it will take the full size, this is not true in my case.\nthis is the fxml file generated by the scene builder.\njust to be clear i am not changing the table properties from the java.</p>\n\n<p>the fxml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.net.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.image.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n\n&lt;AnchorPane id=\"AnchorPane\" prefHeight=\"758.0\" prefWidth=\"956.0\" styleClass=\"screen\" xmlns:fx=\"http://javafx.com/fxml\" fx:controller=\"bgu.dcr.az.cpu.ui.expb.ExperimentBuilderScreen\"&gt;\n  &lt;children&gt;\n    &lt;GridPane id=\"gridPane1\" prefHeight=\"517.0\" prefWidth=\"600.0\" AnchorPane.bottomAnchor=\"0.0\" AnchorPane.leftAnchor=\"0.0\" AnchorPane.rightAnchor=\"0.0\" AnchorPane.topAnchor=\"0.0\"&gt;\n      &lt;children&gt;\n        &lt;Label id=\"label1\" alignment=\"CENTER\" contentDisplay=\"CENTER\" prefHeight=\"38.0\" prefWidth=\"9999.0\" styleClass=\"caption\" text=\"Create New Experiment\" textFill=\"#990000\" GridPane.columnIndex=\"0\" GridPane.rowIndex=\"0\"&gt;\n          &lt;font&gt;\n            &lt;Font name=\"Consolas Bold\" size=\"20.0\" /&gt;\n          &lt;/font&gt;\n        &lt;/Label&gt;\n        &lt;HBox id=\"hBox1\" alignment=\"CENTER\" prefHeight=\"100.0\" prefWidth=\"200.0\" spacing=\"5.0\" GridPane.columnIndex=\"0\" GridPane.rowIndex=\"1\"&gt;\n          &lt;children&gt;\n            &lt;Label id=\"label2\" graphicTextGap=\"0.0\" styleClass=\"field-label\" text=\"Experiment Name\"&gt;\n              &lt;font&gt;\n                &lt;Font name=\"Consolas\" size=\"15.0\" /&gt;\n              &lt;/font&gt;\n              &lt;HBox.margin&gt;\n                &lt;Insets top=\"3.0\" /&gt;\n              &lt;/HBox.margin&gt;\n            &lt;/Label&gt;\n            &lt;TextField id=\"textField1\" prefWidth=\"200.0\" HBox.hgrow=\"ALWAYS\" /&gt;\n            &lt;Button id=\"button2\" fx:id=\"saveButton\" styleClass=\"dialog-button\" text=\"Save\" /&gt;\n            &lt;Button id=\"button3\" styleClass=\"dialog-button\" text=\"Dismiss\" /&gt;\n          &lt;/children&gt;\n          &lt;padding&gt;\n            &lt;Insets bottom=\"5.0\" left=\"5.0\" right=\"5.0\" top=\"5.0\" fx:id=\"x3\" /&gt;\n          &lt;/padding&gt;\n        &lt;/HBox&gt;\n        &lt;VBox id=\"VBox\" alignment=\"CENTER\" spacing=\"5.0\" GridPane.columnIndex=\"0\" GridPane.rowIndex=\"2\"&gt;\n          &lt;children&gt;\n            &lt;Label id=\"label3\" prefWidth=\"9999.0\" styleClass=\"field-label\" text=\"Experiment Tests\"&gt;\n              &lt;VBox.margin&gt;\n                &lt;Insets left=\"5.0\" top=\"5.0\" /&gt;\n              &lt;/VBox.margin&gt;\n            &lt;/Label&gt;\n            &lt;HBox id=\"HBox\" alignment=\"CENTER\" spacing=\"5.0\"&gt;\n              &lt;children&gt;\n                &lt;Button id=\"button1\" prefHeight=\"999.0\" styleClass=\"add-button\" text=\"New\"&gt;\n                  &lt;HBox.margin&gt;\n                    &lt;Insets bottom=\"5.0\" left=\"5.0\" right=\"5.0\" top=\"5.0\" fx:id=\"x3\" /&gt;\n                  &lt;/HBox.margin&gt;\n                &lt;/Button&gt;\n                &lt;ListView id=\"listView1\" fx:id=\"tests\" orientation=\"HORIZONTAL\" prefHeight=\"999.0\" prefWidth=\"200.0\" HBox.hgrow=\"ALWAYS\"&gt;\n                  &lt;HBox.margin&gt;\n                    &lt;Insets bottom=\"4.0\" right=\"5.0\" top=\"4.0\" /&gt;\n                  &lt;/HBox.margin&gt;\n                &lt;/ListView&gt;\n              &lt;/children&gt;\n            &lt;/HBox&gt;\n          &lt;/children&gt;\n        &lt;/VBox&gt;\n        &lt;VBox id=\"vBox1\" prefHeight=\"200.0\" prefWidth=\"100.0\" GridPane.columnIndex=\"0\" GridPane.rowIndex=\"3\"&gt;\n          &lt;children&gt;\n            &lt;GridPane id=\"gridPane2\" VBox.vgrow=\"ALWAYS\"&gt;\n              &lt;children&gt;\n                &lt;VBox id=\"vBox2\" prefHeight=\"321.0\" prefWidth=\"150.0\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"0\" GridPane.rowIndex=\"0\" GridPane.rowSpan=\"4\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label4\" text=\"Algorithms\"&gt;\n                      &lt;graphic&gt;\n                        &lt;ImageView id=\"emptyImageView1\" fitHeight=\"32.0\" fitWidth=\"32.0\" preserveRatio=\"true\"&gt;\n                          &lt;image&gt;\n                            &lt;Image url=\"@_algo.png\" preserveRatio=\"false\" smooth=\"false\" /&gt;\n                          &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                      &lt;/graphic&gt;\n                    &lt;/Label&gt;\n                    &lt;Button id=\"button1\" fx:id=\"newAlgorithmButton\" prefWidth=\"999.0\" styleClass=\"add-button\" text=\"New\" VBox.margin=\"$x3\" /&gt;\n                  &lt;/children&gt;\n                  &lt;GridPane.margin&gt;\n                    &lt;Insets bottom=\"10.0\" left=\"10.0\" right=\"10.0\" top=\"10.0\" fx:id=\"x2\" /&gt;\n                  &lt;/GridPane.margin&gt;\n                &lt;/VBox&gt;\n                &lt;VBox id=\"vBox2\" prefHeight=\"321.0\" prefWidth=\"150.0\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"1\" GridPane.margin=\"$x2\" GridPane.rowIndex=\"1\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label4\" text=\"Problem Generator\"&gt;\n                      &lt;graphic&gt;\n                        &lt;ImageView id=\"emptyImageView1\" fitHeight=\"32.0\" fitWidth=\"32.0\" preserveRatio=\"true\"&gt;\n                          &lt;image&gt;\n                            &lt;Image url=\"@_pgen.png\" preserveRatio=\"false\" smooth=\"false\" /&gt;\n                          &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                      &lt;/graphic&gt;\n                    &lt;/Label&gt;\n                    &lt;Button id=\"button1\" maxHeight=\"999.0\" prefHeight=\"999.0\" prefWidth=\"999.0\" styleClass=\"add-button\" text=\"New\" VBox.margin=\"$x3\" VBox.vgrow=\"ALWAYS\" /&gt;\n                  &lt;/children&gt;\n                &lt;/VBox&gt;\n                &lt;VBox id=\"vBox2\" prefHeight=\"321.0\" prefWidth=\"150.0\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"2\" GridPane.margin=\"$x2\" GridPane.rowIndex=\"1\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label4\" prefWidth=\"9999.0\" text=\"Correctness tester\"&gt;\n                      &lt;graphic&gt;\n                        &lt;ImageView id=\"emptyImageView1\" fitHeight=\"32.0\" fitWidth=\"32.0\" preserveRatio=\"true\"&gt;\n                          &lt;image&gt;\n                            &lt;Image url=\"@_ctest.png\" preserveRatio=\"false\" smooth=\"false\" /&gt;\n                          &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                      &lt;/graphic&gt;\n                    &lt;/Label&gt;\n                    &lt;Button id=\"button1\" maxHeight=\"999.0\" maxWidth=\"999.0\" prefHeight=\"999.0\" prefWidth=\"999.0\" styleClass=\"add-button\" text=\"New\" VBox.margin=\"$x3\" VBox.vgrow=\"ALWAYS\" /&gt;\n                  &lt;/children&gt;\n                &lt;/VBox&gt;\n                &lt;VBox id=\"vBox2\" prefHeight=\"321.0\" prefWidth=\"150.0\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"1\" GridPane.margin=\"$x2\" GridPane.rowIndex=\"2\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label4\" prefWidth=\"130.0\" text=\"Message delayer\"&gt;\n                      &lt;graphic&gt;\n                        &lt;ImageView id=\"emptyImageView1\" fitHeight=\"32.0\" fitWidth=\"32.0\" preserveRatio=\"true\"&gt;\n                          &lt;image&gt;\n                            &lt;Image url=\"@_mdel.png\" preserveRatio=\"false\" smooth=\"false\" /&gt;\n                          &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                      &lt;/graphic&gt;\n                    &lt;/Label&gt;\n                    &lt;Button id=\"button1\" maxHeight=\"999.0\" maxWidth=\"999.0\" prefHeight=\"999.0\" prefWidth=\"999.0\" styleClass=\"add-button\" text=\"New\" VBox.margin=\"$x3\" VBox.vgrow=\"ALWAYS\" /&gt;\n                  &lt;/children&gt;\n                &lt;/VBox&gt;\n                &lt;VBox id=\"vBox2\" prefHeight=\"321.0\" prefWidth=\"150.0\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"2\" GridPane.margin=\"$x2\" GridPane.rowIndex=\"2\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label4\" prefWidth=\"130.0\" text=\"Limiter\"&gt;\n                      &lt;graphic&gt;\n                        &lt;ImageView id=\"emptyImageView1\" fitHeight=\"32.0\" fitWidth=\"32.0\" preserveRatio=\"true\"&gt;\n                          &lt;image&gt;\n                            &lt;Image url=\"@_limiter.png\" preserveRatio=\"false\" smooth=\"false\" /&gt;\n                          &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                      &lt;/graphic&gt;\n                    &lt;/Label&gt;\n                    &lt;Button id=\"button1\" maxHeight=\"999.0\" maxWidth=\"999.0\" prefHeight=\"999.0\" prefWidth=\"999.0\" styleClass=\"add-button\" text=\"New\" VBox.margin=\"$x3\" VBox.vgrow=\"ALWAYS\" /&gt;\n                  &lt;/children&gt;\n                &lt;/VBox&gt;\n                &lt;VBox id=\"vBox2\" prefHeight=\"321.0\" prefWidth=\"150.0\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"3\" GridPane.margin=\"$x2\" GridPane.rowIndex=\"0\" GridPane.rowSpan=\"4\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label4\" prefWidth=\"9999.0\" text=\"Statistic collectors\"&gt;\n                      &lt;graphic&gt;\n                        &lt;ImageView id=\"emptyImageView1\" fitHeight=\"32.0\" fitWidth=\"32.0\" preserveRatio=\"true\"&gt;\n                          &lt;image&gt;\n                            &lt;Image url=\"@_scol.png\" preserveRatio=\"false\" smooth=\"false\" /&gt;\n                          &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                      &lt;/graphic&gt;\n                    &lt;/Label&gt;\n                    &lt;Button id=\"button1\" prefWidth=\"999.0\" styleClass=\"add-button\" text=\"New\" VBox.margin=\"$x3\" /&gt;\n                  &lt;/children&gt;\n                &lt;/VBox&gt;\n                &lt;HBox id=\"hBox1\" alignment=\"CENTER\" prefHeight=\"100.0\" prefWidth=\"200.0\" spacing=\"5.0\" GridPane.columnIndex=\"1\" GridPane.columnSpan=\"2\" GridPane.rowIndex=\"0\"&gt;\n                  &lt;children&gt;\n                    &lt;Label id=\"label2\" graphicTextGap=\"0.0\" styleClass=\"field-label\" text=\"Name\"&gt;\n                      &lt;HBox.margin&gt;\n                        &lt;Insets top=\"7.0\" /&gt;\n                      &lt;/HBox.margin&gt;\n                    &lt;/Label&gt;\n                    &lt;TextField id=\"textField1\" maxHeight=\"28.0\" minHeight=\"28.0\" prefHeight=\"28.0\" prefWidth=\"200.0\" text=\"Empty Test\" HBox.hgrow=\"ALWAYS\" /&gt;\n                  &lt;/children&gt;\n                  &lt;padding&gt;\n                    &lt;Insets bottom=\"5.0\" left=\"5.0\" right=\"5.0\" top=\"5.0\" fx:id=\"x3\" /&gt;\n                  &lt;/padding&gt;\n                &lt;/HBox&gt;\n                &lt;VBox id=\"vBox3\" prefHeight=\"200.0\" prefWidth=\"100.0\" GridPane.columnIndex=\"1\" GridPane.rowIndex=\"3\" /&gt;\n              &lt;/children&gt;\n              &lt;columnConstraints&gt;\n                &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"10.0\" prefWidth=\"100.0\" /&gt;\n                &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"10.0\" prefWidth=\"100.0\" /&gt;\n                &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"10.0\" prefWidth=\"100.0\" /&gt;\n                &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"10.0\" prefWidth=\"100.0\" /&gt;\n              &lt;/columnConstraints&gt;\n              &lt;rowConstraints&gt;\n                &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n                &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n                &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n                &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n              &lt;/rowConstraints&gt;\n            &lt;/GridPane&gt;\n          &lt;/children&gt;\n        &lt;/VBox&gt;\n        &lt;VBox id=\"vBox4\" alignment=\"CENTER\" styleClass=\"with-dashed-border\" GridPane.columnIndex=\"0\" GridPane.halignment=\"CENTER\" GridPane.hgrow=\"ALWAYS\" GridPane.rowIndex=\"4\" GridPane.valignment=\"CENTER\" GridPane.vgrow=\"ALWAYS\"&gt;\n          &lt;children&gt;\n            &lt;TableView id=\"tableView1\" prefHeight=\"54.0\" prefWidth=\"837.0\" VBox.vgrow=\"ALWAYS\"&gt;\n              &lt;columns&gt;\n                &lt;TableColumn prefWidth=\"75.0\" text=\"Column X\" /&gt;\n                &lt;TableColumn prefWidth=\"75.0\" text=\"Column X\" /&gt;\n              &lt;/columns&gt;\n            &lt;/TableView&gt;\n          &lt;/children&gt;\n          &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"10.0\" left=\"10.0\" right=\"10.0\" top=\"10.0\" fx:id=\"x2\" /&gt;\n          &lt;/GridPane.margin&gt;\n        &lt;/VBox&gt;\n      &lt;/children&gt;\n      &lt;columnConstraints&gt;\n        &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"10.0\" prefWidth=\"100.0\" /&gt;\n      &lt;/columnConstraints&gt;\n      &lt;rowConstraints&gt;\n        &lt;RowConstraints maxHeight=\"38.0\" minHeight=\"38.0\" prefHeight=\"38.0\" vgrow=\"NEVER\" /&gt;\n        &lt;RowConstraints maxHeight=\"32.0\" minHeight=\"32.0\" prefHeight=\"32.0\" vgrow=\"NEVER\" /&gt;\n        &lt;RowConstraints maxHeight=\"100.0\" minHeight=\"100.0\" prefHeight=\"100.0\" vgrow=\"SOMETIMES\" /&gt;\n        &lt;RowConstraints vgrow=\"SOMETIMES\" /&gt;\n        &lt;RowConstraints maxHeight=\"100.0\" prefHeight=\"100.0\" valignment=\"CENTER\" vgrow=\"ALWAYS\" /&gt;\n      &lt;/rowConstraints&gt;\n    &lt;/GridPane&gt;\n  &lt;/children&gt;\n  &lt;stylesheets&gt;\n    &lt;URL value=\"@_style.css\" /&gt;\n    &lt;URL value=\"@../_style.css\" /&gt;\n  &lt;/stylesheets&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","generics","lambda"],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588838828,"creation_date":1588838828,"answer_id":61652825,"question_id":61652033,"body_markdown":"The problem you have is in the line:\r\n\r\n    ConcurrentHashMap&lt;Object, T&gt; memo = cache.containsKey(o.getClass()) ? (ConcurrentHashMap&lt;Object, T&gt;) cache.get(o.getClass()) : new ConcurrentHashMap&lt;&gt;();\r\n\r\nYou check whether an entry with the key `o.getClass()` exists. If yes, you `get()` it else you use a newly initialized `ConcurrentHashMap`. The problem now with that is, you don&#39;t save this newly created map, back in the cache.\r\n\r\nSo either:\r\n\r\n - Place `cache.put(o.getClass(), memo);` after the line above\r\n - Or even better use the `computeIfAbsent()` method:\r\n\r\n        ConcurrentHashMap&lt;Object, T&gt; memo = cache.computeIfAbsent(o.getClass(), \r\n                                                                  k -&gt; new ConcurrentHashMap&lt;&gt;());\r\n\r\nAlso because you know the structure of your `cache` you can make it more typesafe, so that you don&#39;t have to cast everywhere:\r\n\r\n    private static final Map&lt;Object, Map&lt;Operator&lt;?&gt;, Object&gt;&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\nAlso you can shorten your method even more by using the earlier mentioned `computeIfAbsent()`:\r\n\r\n    public static &lt;T&gt; T memoize(Operator&lt;T&gt; o) {\r\n        return (T) cache\r\n            .computeIfAbsent(o.getClass(), k -&gt; new ConcurrentHashMap&lt;&gt;())\r\n            .computeIfAbsent(o, k -&gt; o.op());\r\n    }\r\n\r\n1. `(T)`: simply casts the unknown return type of `Object` to the required output type `T`\r\n2. `.computeIfAbsent(o.getClass(), k -&gt; new ConcurrentHashMap&lt;&gt;())`: invokes the provided lambda `k -&gt; new ConcurrentHashMap&lt;&gt;()` when there is no mapping for the key `o.getClass()` in `cache`\r\n3. `.computeIfAbsent(o, k -&gt; o.op());`: this is invoked on the returned value from the `computeIfAbsent` call of **2.**. If `o` doesn&#39;t exist in the nested map then execute the lambda `k -&gt; o.op()` the return value is then stored in the map and returned.\r\n","title":"Java general lambda memoization","body":"<p>The problem you have is in the line:</p>\n\n<pre><code>ConcurrentHashMap&lt;Object, T&gt; memo = cache.containsKey(o.getClass()) ? (ConcurrentHashMap&lt;Object, T&gt;) cache.get(o.getClass()) : new ConcurrentHashMap&lt;&gt;();\n</code></pre>\n\n<p>You check whether an entry with the key <code>o.getClass()</code> exists. If yes, you <code>get()</code> it else you use a newly initialized <code>ConcurrentHashMap</code>. The problem now with that is, you don't save this newly created map, back in the cache.</p>\n\n<p>So either:</p>\n\n<ul>\n<li>Place <code>cache.put(o.getClass(), memo);</code> after the line above</li>\n<li><p>Or even better use the <code>computeIfAbsent()</code> method:</p>\n\n<pre><code>ConcurrentHashMap&lt;Object, T&gt; memo = cache.computeIfAbsent(o.getClass(), \n                                                          k -&gt; new ConcurrentHashMap&lt;&gt;());\n</code></pre></li>\n</ul>\n\n<p>Also because you know the structure of your <code>cache</code> you can make it more typesafe, so that you don't have to cast everywhere:</p>\n\n<pre><code>private static final Map&lt;Object, Map&lt;Operator&lt;?&gt;, Object&gt;&gt; cache = new ConcurrentHashMap&lt;&gt;();\n</code></pre>\n\n<p>Also you can shorten your method even more by using the earlier mentioned <code>computeIfAbsent()</code>:</p>\n\n<pre><code>public static &lt;T&gt; T memoize(Operator&lt;T&gt; o) {\n    return (T) cache\n        .computeIfAbsent(o.getClass(), k -&gt; new ConcurrentHashMap&lt;&gt;())\n        .computeIfAbsent(o, k -&gt; o.op());\n}\n</code></pre>\n\n<ol>\n<li><code>(T)</code>: simply casts the unknown return type of <code>Object</code> to the required output type <code>T</code></li>\n<li><code>.computeIfAbsent(o.getClass(), k -&gt; new ConcurrentHashMap&lt;&gt;())</code>: invokes the provided lambda <code>k -&gt; new ConcurrentHashMap&lt;&gt;()</code> when there is no mapping for the key <code>o.getClass()</code> in <code>cache</code></li>\n<li><code>.computeIfAbsent(o, k -&gt; o.op());</code>: this is invoked on the returned value from the <code>computeIfAbsent</code> call of <strong>2.</strong>. If <code>o</code> doesn't exist in the nested map then execute the lambda <code>k -&gt; o.op()</code> the return value is then stored in the map and returned.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588917554,"creation_date":1588840700,"answer_id":61653394,"question_id":61652033,"body_markdown":"The [answer by Lino][1] points out a couple of flaws in the code, but doesn&#39;t work if not reusing the same lambda.\r\n\r\nThis is because `o.getClass()` does not return the class of what is returned by the lambda, but the class of the lambda itself. As such, the below code returns two different classes:\r\n\r\n    Util.memoize(() -&gt; longCalculation(1));\r\n    Util.memoize(() -&gt; longCalculation(1));\r\n\r\nI don&#39;t think there is a good way to find out the class of the returned type without actually executing the potentially long running code, which of course is what you want to avoid.\r\n\r\nWith this in mind I would suggest passing the class as a second parameter to `memoize()`. This would give you:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T memoize(Operator&lt;T&gt; o, Class&lt;T&gt; clazz) {\r\n      return (T) cache.computeIfAbsent(clazz, k -&gt; o.op());\r\n    }\r\n\r\nThis is based on that you change the type of `cache` to:\r\n\r\n    private static final Map&lt;Class&lt;?&gt;, Object&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\nUnfortunately, you have to downcast the `Object` to a `T`, but you can guarantee that it is safe with the `@SuppressWarnings(&quot;unchecked&quot;)` annotation. After all, you are in control of the code and know that the class of the value will be the same as the key in the map.\r\n\r\nAn alternative would be to use Guavas [`ClassToInstanceMap`][2]:\r\n\r\n    private static final ClassToInstanceMap&lt;Object&gt; cache = MutableClassToInstanceMap.create(new ConcurrentHashMap&lt;&gt;());\r\n\r\nThis, however, doesn&#39;t allow you to use `computeIfAbsent()` without casting, since it returns an `Object`, so the code would become a bit more verbose:\r\n\r\n    public static &lt;T&gt; T memoize(Operator&lt;T&gt; o, Class&lt;T&gt; clazz) {\r\n      T cachedCalculation = cache.getInstance(clazz);\r\n      if (cachedCalculation != null) {\r\n        return cachedCalculation;\r\n      }\r\n      T calculation = o.op();\r\n      cache.put(clazz, calculation);\r\n      return calculation;\r\n    }\r\n\r\n---\r\n\r\nAs a final side note, you don&#39;t need to specify your own functional interface, but you can use the `Supplier` interface:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T memoize(Supplier&lt;T&gt; o, Class&lt;T&gt; clazz) {\r\n      return (T) cache.computeIfAbsent(clazz, k -&gt; o.get());\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61652825/1421925\r\n  [2]: https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ClassToInstanceMap.html","title":"Java general lambda memoization","body":"<p>The <a href=\"https://stackoverflow.com/a/61652825/1421925\">answer by Lino</a> points out a couple of flaws in the code, but doesn't work if not reusing the same lambda.</p>\n\n<p>This is because <code>o.getClass()</code> does not return the class of what is returned by the lambda, but the class of the lambda itself. As such, the below code returns two different classes:</p>\n\n<pre><code>Util.memoize(() -&gt; longCalculation(1));\nUtil.memoize(() -&gt; longCalculation(1));\n</code></pre>\n\n<p>I don't think there is a good way to find out the class of the returned type without actually executing the potentially long running code, which of course is what you want to avoid.</p>\n\n<p>With this in mind I would suggest passing the class as a second parameter to <code>memoize()</code>. This would give you:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; T memoize(Operator&lt;T&gt; o, Class&lt;T&gt; clazz) {\n  return (T) cache.computeIfAbsent(clazz, k -&gt; o.op());\n}\n</code></pre>\n\n<p>This is based on that you change the type of <code>cache</code> to:</p>\n\n<pre><code>private static final Map&lt;Class&lt;?&gt;, Object&gt; cache = new ConcurrentHashMap&lt;&gt;();\n</code></pre>\n\n<p>Unfortunately, you have to downcast the <code>Object</code> to a <code>T</code>, but you can guarantee that it is safe with the <code>@SuppressWarnings(\"unchecked\")</code> annotation. After all, you are in control of the code and know that the class of the value will be the same as the key in the map.</p>\n\n<p>An alternative would be to use Guavas <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ClassToInstanceMap.html\" rel=\"nofollow noreferrer\"><code>ClassToInstanceMap</code></a>:</p>\n\n<pre><code>private static final ClassToInstanceMap&lt;Object&gt; cache = MutableClassToInstanceMap.create(new ConcurrentHashMap&lt;&gt;());\n</code></pre>\n\n<p>This, however, doesn't allow you to use <code>computeIfAbsent()</code> without casting, since it returns an <code>Object</code>, so the code would become a bit more verbose:</p>\n\n<pre><code>public static &lt;T&gt; T memoize(Operator&lt;T&gt; o, Class&lt;T&gt; clazz) {\n  T cachedCalculation = cache.getInstance(clazz);\n  if (cachedCalculation != null) {\n    return cachedCalculation;\n  }\n  T calculation = o.op();\n  cache.put(clazz, calculation);\n  return calculation;\n}\n</code></pre>\n\n<hr>\n\n<p>As a final side note, you don't need to specify your own functional interface, but you can use the <code>Supplier</code> interface:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; T memoize(Supplier&lt;T&gt; o, Class&lt;T&gt; clazz) {\n  return (T) cache.computeIfAbsent(clazz, k -&gt; o.get());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690404829,"creation_date":1690404829,"answer_id":76774975,"question_id":61652033,"body_markdown":"Old question, I know, but I didn&#39;t see this answer (for `Function`s):\r\n\r\n```\r\npublic static &lt;T, R&gt; Function&lt;T, R&gt; memoize(Function&lt;T, R&gt; f) {\r\n    var cache = new ConcurrentHashMap&lt;T, R&gt;();\r\n    return t -&gt; cache.computeIfAbsent(t, f::apply);\r\n}\r\n```\r\n`cache`, in other words, doesn&#39;t have to be a `static` field of some other class; you can just close over it.\r\n\r\nFor memoizing `Supplier`s, see https://stackoverflow.com/a/35335467/208288.","title":"Java general lambda memoization","body":"<p>Old question, I know, but I didn't see this answer (for <code>Function</code>s):</p>\n<pre><code>public static &lt;T, R&gt; Function&lt;T, R&gt; memoize(Function&lt;T, R&gt; f) {\n    var cache = new ConcurrentHashMap&lt;T, R&gt;();\n    return t -&gt; cache.computeIfAbsent(t, f::apply);\n}\n</code></pre>\n<p><code>cache</code>, in other words, doesn't have to be a <code>static</code> field of some other class; you can just close over it.</p>\n<p>For memoizing <code>Supplier</code>s, see <a href=\"https://stackoverflow.com/a/35335467/208288\">https://stackoverflow.com/a/35335467/208288</a>.</p>\n"}],"owner":{"account_id":1986385,"reputation":570,"user_id":1781499,"display_name":"saidaspen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61652825,"answer_count":3,"score":3,"last_activity_date":1690404829,"creation_date":1588836159,"question_id":61652033,"body_markdown":"\r\nI want to write a utility for general memoization in Java, I want the code be able to look like this:\r\n\r\n    Util.memoize(() -&gt; longCalculation(1));\r\n\r\nwhere \r\n\r\n    private Integer longCalculation(Integer x) {\r\n        try { \r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException ignored) {}\r\n        return x * 2;\r\n    }\r\n\r\nTo do this, I was thinking I could do something like this:\r\n\r\n    public class Util{\r\n        private static final Map&lt;Object, Object&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n        public interface Operator&lt;T&gt; {\r\n            T op();\r\n        }\r\n        \r\n        public static&lt;T&gt; T memoize(Operator&lt;T&gt; o) {\r\n            ConcurrentHashMap&lt;Object, T&gt; memo = cache.containsKey(o.getClass()) ? (ConcurrentHashMap&lt;Object, T&gt;) cache.get(o.getClass()) : new ConcurrentHashMap&lt;&gt;();\r\n            if (memo.containsKey(o)) {\r\n                return memo.get(o);\r\n            } else {\r\n                T val = o.op();\r\n                memo.put(o, val);\r\n                return val;\r\n            }\r\n        }\r\n    }\r\n\r\nI was expecting this to work, but I see no memoization being done. I have tracked it down to the  `o.getClass()` being different for each invocation. \r\nI was thinking that I could try to get the run-time type of `T` but I cannot figure out a way of doing that.\r\n","title":"Java general lambda memoization","body":"<p>I want to write a utility for general memoization in Java, I want the code be able to look like this:</p>\n\n<pre><code>Util.memoize(() -&gt; longCalculation(1));\n</code></pre>\n\n<p>where </p>\n\n<pre><code>private Integer longCalculation(Integer x) {\n    try { \n        Thread.sleep(1000);\n    } catch (InterruptedException ignored) {}\n    return x * 2;\n}\n</code></pre>\n\n<p>To do this, I was thinking I could do something like this:</p>\n\n<pre><code>public class Util{\n    private static final Map&lt;Object, Object&gt; cache = new ConcurrentHashMap&lt;&gt;();\n    public interface Operator&lt;T&gt; {\n        T op();\n    }\n\n    public static&lt;T&gt; T memoize(Operator&lt;T&gt; o) {\n        ConcurrentHashMap&lt;Object, T&gt; memo = cache.containsKey(o.getClass()) ? (ConcurrentHashMap&lt;Object, T&gt;) cache.get(o.getClass()) : new ConcurrentHashMap&lt;&gt;();\n        if (memo.containsKey(o)) {\n            return memo.get(o);\n        } else {\n            T val = o.op();\n            memo.put(o, val);\n            return val;\n        }\n    }\n}\n</code></pre>\n\n<p>I was expecting this to work, but I see no memoization being done. I have tracked it down to the  <code>o.getClass()</code> being different for each invocation. \nI was thinking that I could try to get the run-time type of <code>T</code> but I cannot figure out a way of doing that.</p>\n"},{"tags":["java","version"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1690400211,"post_id":76774502,"comment_id":135350006,"body_markdown":"&quot;*My fear is that we are moving from one outdated platform to another.*&quot; - This is exactly what you are doing. Java 5&#39;s EOL was in 2009. To my knowledge, neither Azul nor Red Hat (two prominent members in the java community) provide any support for java 5.","body":"&quot;<i>My fear is that we are moving from one outdated platform to another.</i>&quot; - This is exactly what you are doing. Java 5&#39;s EOL was in 2009. To my knowledge, neither Azul nor Red Hat (two prominent members in the java community) provide any support for java 5."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":5,"creation_date":1690400472,"post_id":76774502,"comment_id":135350054,"body_markdown":"This questions is probably opinion based and as such likely off topic on this site. I can tell you that staying with Java 5 is incredible risky from a security standpoint, and missing all the good stuff between 5 and 8 at least which is a lot. Only Oracle Java 8+ not free(don&#39;t remember the exact update but it must be in the article you linked). However all OpenJDK releases are free. There are several distributions of OpenJDK (Eclipse, Amazon, Redhat, etc) that you can use. Using Java 5 for new projects today is just insane. Java 8 is still Ok for a few years. This is just my personal opinion.","body":"This questions is probably opinion based and as such likely off topic on this site. I can tell you that staying with Java 5 is incredible risky from a security standpoint, and missing all the good stuff between 5 and 8 at least which is a lot. Only Oracle Java 8+ not free(don&#39;t remember the exact update but it must be in the article you linked). However all OpenJDK releases are free. There are several distributions of OpenJDK (Eclipse, Amazon, Redhat, etc) that you can use. Using Java 5 for new projects today is just insane. Java 8 is still Ok for a few years. This is just my personal opinion."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690400779,"post_id":76774502,"comment_id":135350097,"body_markdown":"For new projects I would consider going directly to the latest long term support (LTS) JDK available.","body":"For new projects I would consider going directly to the latest long term support (LTS) JDK available."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1690400830,"post_id":76774502,"comment_id":135350108,"body_markdown":"The article you linked describes licensing for Oracle JDK (Note: Oracle JDK 17 binaries are free to use in production and free to redistribute, at no cost, under the Oracle No-Fee Terms and Conditions). But, as mentioned above, there are multiple, free to use JDK distributions.","body":"The article you linked describes licensing for Oracle JDK (Note: Oracle JDK 17 binaries are free to use in production and free to redistribute, at no cost, under the Oracle No-Fee Terms and Conditions). But, as mentioned above, there are multiple, free to use JDK distributions."},{"owner":{"account_id":29097980,"reputation":1,"user_id":22290470,"display_name":"LEDMAN"},"score":0,"creation_date":1690402814,"post_id":76774502,"comment_id":135350469,"body_markdown":"I was worried this might be off topic but I was though I would get some honest and reasoned answers on here compared to the more generic forums that often descent into arguments. I Appreciate the feedback from you all.","body":"I was worried this might be off topic but I was though I would get some honest and reasoned answers on here compared to the more generic forums that often descent into arguments. I Appreciate the feedback from you all."},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":3,"creation_date":1690403288,"post_id":76774502,"comment_id":135350551,"body_markdown":"Given all of this, I wonder if it may be worth asking (politely) for a citation for Java 5 being the &quot;last free version.&quot; Maybe it was based on a faulty assumption that nobody has questioned up &#39;til now. I hope you can get the ball rolling for updating the java version. I don&#39;t envy your situation...","body":"Given all of this, I wonder if it may be worth asking (politely) for a citation for Java 5 being the &quot;last free version.&quot; Maybe it was based on a faulty assumption that nobody has questioned up &#39;til now. I hope you can get the ball rolling for updating the java version. I don&#39;t envy your situation..."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690405984,"post_id":76774502,"comment_id":135350979,"body_markdown":"I&#39;ve never understood why some people use older _Java_ versions.","body":"I&#39;ve never understood why some people use older <i>Java</i> versions."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690406865,"post_id":76774502,"comment_id":135351135,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690504125,"post_id":76774502,"comment_id":135366842,"body_markdown":"Your team *really* should read this: [*Java Is Still Free 3.0.0 (Oct 2021)*](https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b).","body":"Your team <i>really</i> should read this: <a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"nofollow noreferrer\"><i>Java Is Still Free 3.0.0 (Oct 2021)</i></a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690504233,"post_id":76774502,"comment_id":135366856,"body_markdown":"Related: [*Is there any OpenJDK that is fully free and will be available for commercial use*](https://stackoverflow.com/q/54282556/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/54282556/642706\"><i>Is there any OpenJDK that is fully free and will be available for commercial use</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690404275,"creation_date":1690404275,"answer_id":76774926,"question_id":76774502,"body_markdown":"&gt; What are we really missing out on by not moving away from Java 5?\r\n\r\nLots of new language and standard library features, including some really significant ones (e.g. lambdas and streams).  Lots of third-party software that depends on the newer features.  Technological improvements in the JVM.  Bug fixes in the JVM, standard library, and third-party libraries.\r\n\r\n&gt; Are there security concerns or is it just functionality we are missing out on?\r\n\r\nI am not aware that any version of Java was 100% free of security issues.  And there are bugs that do not (directly) have security implications, which I don&#39;t care to lump in with &quot;functionality&quot;.\r\n\r\n&gt; Do people still want to develop in Java 5?\r\n\r\nYour guy does.  He might not be unique in the world in that respect.  But I am not aware of any subculture of Java developers who are interested in programming specifically and only for Java 5.\r\n\r\n&gt; Do you young go getters out there care about what version of Java a company is using.\r\n\r\nI&#39;m not exactly young, but thanks.\r\n\r\nIf I&#39;m buying software, I don&#39;t directly care much about what version of Java an application uses. But if I&#39;m *comparing* competing offerings, and one uses long-obsolete Java 5 whereas another uses up to date technology, then that would be a significant point in favor of the latter. I might even be inclined to suppose that the Java 5 alternative was some kind of legacy product.\r\n\r\n&gt; We&#39;re trying to port another piece of software from VB6 to this Java 5 platform.\r\n&gt; \r\n&gt; My fear is that we are moving from one outdated platform to another. I would never dream of starting a new project in .net 2.0 for example.\r\n\r\nThat&#39;s not a fear, it&#39;s a fact.  Given the opportunity to choose a target Java version for a new, blue-sky effort today, I would never consider Java 5.  I *would* consider Java 8, which, though a bit old, is a long-term support version not scheduled for end-of-life until 2030.  But I would also give strong consideration to some of the more recent versions, especially other LTS releases such as Java 17.\r\n\r\n&gt; Our company uses Java 5 for one of our software platforms, the argument being that it is the last free version for windows and Java 5 does everything we need.\r\n\r\n&quot;Free&quot; is a business criterion, not a technical one.  If you&#39;re selling your software then it affects your profit margin and / or price point, but it&#39;s by no means the only thing that does.  Development and maintenance costs are other big ones, and even if you have to pay for Java licenses for your development team, they may favor newer Java versions.  Risk is another criterion -- what if your creaky old Java 5 VM no longer runs on the next version of &amp;lt;OS Of Choice&amp;gt;?\r\n\r\nJava 5 probably does do everything you *need*, at least as long as you don&#39;t need to use recent versions of any third-party components or frameworks.  Or attract and retain young development talent.  But if you have developers who would use newer Java features effectively given the opportunity to do so, then I expect that newer Java would provide some technical advantages.\r\n\r\n&gt; Or are my concerns unfounded?\r\n\r\nYour concerns seem somewhat vague, but I think there is some basis for them.\r\n\r\n&gt; oh and is Java 5 really still free for commercial use?\r\n\r\nJava 5 is no longer distributed (by Oracle) at all.  Your rights with respect to it depend on the license you already have for it, or any license you might be able to negotiate with Oracle now.  I&#39;m not sure to what extent it ever was free for commercial use, but note well that there is a significant difference in that regard between distributing your own software, built for Java 5, and distributing or using a Java 5 VM and library for it to run on.  And note that if your software depends on Java 5 then you will probably need to provide the Java 5 VM and runtime environment, and Oracle might have something to say about that if it&#39;s theirs that you would be distributing.\r\n","title":"Why stick with Java 5? or why migrate?","body":"<blockquote>\n<p>What are we really missing out on by not moving away from Java 5?</p>\n</blockquote>\n<p>Lots of new language and standard library features, including some really significant ones (e.g. lambdas and streams).  Lots of third-party software that depends on the newer features.  Technological improvements in the JVM.  Bug fixes in the JVM, standard library, and third-party libraries.</p>\n<blockquote>\n<p>Are there security concerns or is it just functionality we are missing out on?</p>\n</blockquote>\n<p>I am not aware that any version of Java was 100% free of security issues.  And there are bugs that do not (directly) have security implications, which I don't care to lump in with &quot;functionality&quot;.</p>\n<blockquote>\n<p>Do people still want to develop in Java 5?</p>\n</blockquote>\n<p>Your guy does.  He might not be unique in the world in that respect.  But I am not aware of any subculture of Java developers who are interested in programming specifically and only for Java 5.</p>\n<blockquote>\n<p>Do you young go getters out there care about what version of Java a company is using.</p>\n</blockquote>\n<p>I'm not exactly young, but thanks.</p>\n<p>If I'm buying software, I don't directly care much about what version of Java an application uses. But if I'm <em>comparing</em> competing offerings, and one uses long-obsolete Java 5 whereas another uses up to date technology, then that would be a significant point in favor of the latter. I might even be inclined to suppose that the Java 5 alternative was some kind of legacy product.</p>\n<blockquote>\n<p>We're trying to port another piece of software from VB6 to this Java 5 platform.</p>\n<p>My fear is that we are moving from one outdated platform to another. I would never dream of starting a new project in .net 2.0 for example.</p>\n</blockquote>\n<p>That's not a fear, it's a fact.  Given the opportunity to choose a target Java version for a new, blue-sky effort today, I would never consider Java 5.  I <em>would</em> consider Java 8, which, though a bit old, is a long-term support version not scheduled for end-of-life until 2030.  But I would also give strong consideration to some of the more recent versions, especially other LTS releases such as Java 17.</p>\n<blockquote>\n<p>Our company uses Java 5 for one of our software platforms, the argument being that it is the last free version for windows and Java 5 does everything we need.</p>\n</blockquote>\n<p>&quot;Free&quot; is a business criterion, not a technical one.  If you're selling your software then it affects your profit margin and / or price point, but it's by no means the only thing that does.  Development and maintenance costs are other big ones, and even if you have to pay for Java licenses for your development team, they may favor newer Java versions.  Risk is another criterion -- what if your creaky old Java 5 VM no longer runs on the next version of &lt;OS Of Choice&gt;?</p>\n<p>Java 5 probably does do everything you <em>need</em>, at least as long as you don't need to use recent versions of any third-party components or frameworks.  Or attract and retain young development talent.  But if you have developers who would use newer Java features effectively given the opportunity to do so, then I expect that newer Java would provide some technical advantages.</p>\n<blockquote>\n<p>Or are my concerns unfounded?</p>\n</blockquote>\n<p>Your concerns seem somewhat vague, but I think there is some basis for them.</p>\n<blockquote>\n<p>oh and is Java 5 really still free for commercial use?</p>\n</blockquote>\n<p>Java 5 is no longer distributed (by Oracle) at all.  Your rights with respect to it depend on the license you already have for it, or any license you might be able to negotiate with Oracle now.  I'm not sure to what extent it ever was free for commercial use, but note well that there is a significant difference in that regard between distributing your own software, built for Java 5, and distributing or using a Java 5 VM and library for it to run on.  And note that if your software depends on Java 5 then you will probably need to provide the Java 5 VM and runtime environment, and Oracle might have something to say about that if it's theirs that you would be distributing.</p>\n"}],"owner":{"account_id":29097980,"reputation":1,"user_id":22290470,"display_name":"LEDMAN"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690407017,"answer_count":1,"score":-2,"last_activity_date":1690404275,"creation_date":1690399991,"question_id":76774502,"body_markdown":"I&#39;m after some advice, I&#39;m a long time dabbler in C# with a reasonable knowledge, I learned C# at Uni but since then I mostly write the odd test program or control or configurator tools for hardware products. I&#39;ve tried to keep up to date over the last 19 years and use the latest frameworks and generally have benefitted from this.\r\n\r\nI have no idea about Java, and would really appreciate some advice from people actually writing code.\r\nOur company uses Java 5 for one of our software platforms, the argument being that it is the last free version for windows and Java 5 does everything we need.\r\n\r\nWe&#39;re trying to port another piece of software from VB6 to this Java 5 platform.\r\n\r\nMy fear is that we are moving from one outdated platform to another. I would never dream of starting a new project in .net 2.0 for example.\r\n\r\nI also worry that our software developer who is a very smart chap but now in his mid 60s is just stuck in his ways. And that persisting with Java 5 and not wanting to move on will not allow us to attract new talented developers to ultimately hand the torch to, and who I would expect would want to keep upto date with the latest stable technologies.\r\n\r\nWhat are we really missing out on by not moving away from Java 5? Are there security concerns or is it just functionality we are missing out on?\r\nDo people still want to develop in Java 5? Do you young go getters out there care about what version of Java a company is using.\r\n\r\nOr are my concerns unfounded?\r\n\r\noh and is Java 5 really still free for commercial use?\r\nI read a few articles including this one:\r\n\r\nhttps://redresscompliance.com/decoding-oracle-java-licensing-java-licensing-changes-2023/#:~:text=Oracle%20Java%20JDK%20versions%201%2D8%20%E2%80%93%20applying%20security%20patch%20211,products%20listed%20in%20schedule%20b.\r\n\r\nThe table (about a 3rd of the way down) suggested that all versions 1 - 8 require a license.\r\n\r\n\r\nI have had a bit of a look through the forum but cannot find any thing recent enough to be relevant on the subject.","title":"Why stick with Java 5? or why migrate?","body":"<p>I'm after some advice, I'm a long time dabbler in C# with a reasonable knowledge, I learned C# at Uni but since then I mostly write the odd test program or control or configurator tools for hardware products. I've tried to keep up to date over the last 19 years and use the latest frameworks and generally have benefitted from this.</p>\n<p>I have no idea about Java, and would really appreciate some advice from people actually writing code.\nOur company uses Java 5 for one of our software platforms, the argument being that it is the last free version for windows and Java 5 does everything we need.</p>\n<p>We're trying to port another piece of software from VB6 to this Java 5 platform.</p>\n<p>My fear is that we are moving from one outdated platform to another. I would never dream of starting a new project in .net 2.0 for example.</p>\n<p>I also worry that our software developer who is a very smart chap but now in his mid 60s is just stuck in his ways. And that persisting with Java 5 and not wanting to move on will not allow us to attract new talented developers to ultimately hand the torch to, and who I would expect would want to keep upto date with the latest stable technologies.</p>\n<p>What are we really missing out on by not moving away from Java 5? Are there security concerns or is it just functionality we are missing out on?\nDo people still want to develop in Java 5? Do you young go getters out there care about what version of Java a company is using.</p>\n<p>Or are my concerns unfounded?</p>\n<p>oh and is Java 5 really still free for commercial use?\nI read a few articles including this one:</p>\n<p><a href=\"https://redresscompliance.com/decoding-oracle-java-licensing-java-licensing-changes-2023/#:%7E:text=Oracle%20Java%20JDK%20versions%201%2D8%20%E2%80%93%20applying%20security%20patch%20211,products%20listed%20in%20schedule%20b\" rel=\"nofollow noreferrer\">https://redresscompliance.com/decoding-oracle-java-licensing-java-licensing-changes-2023/#:~:text=Oracle%20Java%20JDK%20versions%201%2D8%20%E2%80%93%20applying%20security%20patch%20211,products%20listed%20in%20schedule%20b</a>.</p>\n<p>The table (about a 3rd of the way down) suggested that all versions 1 - 8 require a license.</p>\n<p>I have had a bit of a look through the forum but cannot find any thing recent enough to be relevant on the subject.</p>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":17511873,"reputation":1,"user_id":12699765,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578921294,"creation_date":1578921294,"answer_id":59717400,"question_id":59717136,"body_markdown":"Similar question like this were asked here https://stackoverflow.com/a/28346375/12699765.\r\nTry to use @EmbeddedId.","title":"CrudRepository, cant save entity with a composite primary key using IdClass","body":"<p>Similar question like this were asked here <a href=\"https://stackoverflow.com/a/28346375/12699765\">https://stackoverflow.com/a/28346375/12699765</a>.\nTry to use @EmbeddedId.</p>\n"},{"tags":[],"owner":{"account_id":7846967,"reputation":11,"user_id":5931720,"display_name":"Omar E"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578921468,"creation_date":1578921468,"answer_id":59717444,"question_id":59717136,"body_markdown":"Your repository is expecting ProjectEmployeeId suppose to have an id with Long data type. What you have in your code ProjectEmployeeId with private Employee employee object and not long primitive id.\r\n\r\nYour composite primary should include the ID from Employee and Project and not the entire entity. In this case, consider using @Embeddable and @EmbeddedId annotations instead of @IdClass.","title":"CrudRepository, cant save entity with a composite primary key using IdClass","body":"<p>Your repository is expecting ProjectEmployeeId suppose to have an id with Long data type. What you have in your code ProjectEmployeeId with private Employee employee object and not long primitive id.</p>\n\n<p>Your composite primary should include the ID from Employee and Project and not the entire entity. In this case, consider using @Embeddable and @EmbeddedId annotations instead of @IdClass.</p>\n"},{"tags":[],"owner":{"account_id":7913261,"reputation":1438,"user_id":5976604,"accept_rate":21,"display_name":"Jelle den Burger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686062813,"creation_date":1686062813,"answer_id":76415871,"question_id":59717136,"body_markdown":"I ran into this exact same edge-case error and as Omar described in his answer, I changed the referenced entity in the &quot;IdClass&quot; entity to a Long.\r\n\r\nThis fixed the issue.\r\n\r\nSo in the example in the question:\r\n- Convert `Project project` to `Long projectId`.\r\n- Convert `Employee employee` to `Long employeeId`.","title":"CrudRepository, cant save entity with a composite primary key using IdClass","body":"<p>I ran into this exact same edge-case error and as Omar described in his answer, I changed the referenced entity in the &quot;IdClass&quot; entity to a Long.</p>\n<p>This fixed the issue.</p>\n<p>So in the example in the question:</p>\n<ul>\n<li>Convert <code>Project project</code> to <code>Long projectId</code>.</li>\n<li>Convert <code>Employee employee</code> to <code>Long employeeId</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13780785,"reputation":66,"user_id":9945960,"display_name":"CoYoT3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690404243,"creation_date":1690404243,"answer_id":76774922,"question_id":59717136,"body_markdown":"Changing types of attributes inside the `ClassId` to match the type of Id used by nested class work for me :\r\n\r\n    @Data\r\n    public class ProjectEmployeeId implements Serializable {\r\n      private Long project;\r\n    \r\n      private Long employee;\r\n    }","title":"CrudRepository, cant save entity with a composite primary key using IdClass","body":"<p>Changing types of attributes inside the <code>ClassId</code> to match the type of Id used by nested class work for me :</p>\n<pre><code>@Data\npublic class ProjectEmployeeId implements Serializable {\n  private Long project;\n\n  private Long employee;\n}\n</code></pre>\n"}],"owner":{"account_id":10008409,"reputation":920,"user_id":7402025,"display_name":"M.Dietz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3207,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1690404243,"creation_date":1578920312,"question_id":59717136,"body_markdown":"I have the following entity:\r\n\r\n    @Entity\r\n    @Data\r\n    @IdClass(ProjectEmployeeId.class)\r\n    public class ProjectEmployee {\r\n    \r\n      @Id\r\n      @ManyToOne\r\n      private Project project;\r\n    \r\n      @Id\r\n      @ManyToOne\r\n      private Employee employee;\r\n    \r\n      @ManyToOne\r\n      private ProjectEmployeeRole projectEmployeeRole;\r\n    }\r\n\r\nThe id class which defines the composite primary key for the above entity:\r\n\r\n    @Data\r\n    public class ProjectEmployeeId implements Serializable {\r\n      private Project project;\r\n    \r\n      private Employee employee;\r\n    }\r\n\r\nThats the repository:\r\n\r\n    public interface ProjectEmployeeRepository\r\n            extends CrudRepository&lt;ProjectEmployee, ProjectEmployeeId&gt; {\r\n    }\r\n\r\nI tried to save a projectEmployee:\r\n\r\n    projectEmployeeRepository.save(projectEmployee);\r\n\r\nwhich gives me the following error:\r\n\r\n    Resolved [org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type &#39;java.lang.Long&#39; to required type &#39;de.employee.Employee&#39; for property &#39;employee&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.Long&#39; to required type &#39;de.employee.Employee&#39; for property &#39;employee&#39;: no matching editors or conversion strategy found]\r\n\r\nIm using a composite primary key for the first time, so i&#180;m not sure how it is supposed to work. The problem probably comes from defining `CrudRepository&lt;ProjectEmployee, ProjectEmployeeId&gt;`. The second argument is supposed to represent the id. But `ProjetEmployee` doesnt have one primary key, instead it has two so i thought i should add the id class into the id argument which does not work. How do i save an entity with a composite primary using IdClass key with a CrudRepository?\r\n\r\n","title":"CrudRepository, cant save entity with a composite primary key using IdClass","body":"<p>I have the following entity:</p>\n\n<pre><code>@Entity\n@Data\n@IdClass(ProjectEmployeeId.class)\npublic class ProjectEmployee {\n\n  @Id\n  @ManyToOne\n  private Project project;\n\n  @Id\n  @ManyToOne\n  private Employee employee;\n\n  @ManyToOne\n  private ProjectEmployeeRole projectEmployeeRole;\n}\n</code></pre>\n\n<p>The id class which defines the composite primary key for the above entity:</p>\n\n<pre><code>@Data\npublic class ProjectEmployeeId implements Serializable {\n  private Project project;\n\n  private Employee employee;\n}\n</code></pre>\n\n<p>Thats the repository:</p>\n\n<pre><code>public interface ProjectEmployeeRepository\n        extends CrudRepository&lt;ProjectEmployee, ProjectEmployeeId&gt; {\n}\n</code></pre>\n\n<p>I tried to save a projectEmployee:</p>\n\n<pre><code>projectEmployeeRepository.save(projectEmployee);\n</code></pre>\n\n<p>which gives me the following error:</p>\n\n<pre><code>Resolved [org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type 'java.lang.Long' to required type 'de.employee.Employee' for property 'employee'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.Long' to required type 'de.employee.Employee' for property 'employee': no matching editors or conversion strategy found]\n</code></pre>\n\n<p>Im using a composite primary key for the first time, so im not sure how it is supposed to work. The problem probably comes from defining <code>CrudRepository&lt;ProjectEmployee, ProjectEmployeeId&gt;</code>. The second argument is supposed to represent the id. But <code>ProjetEmployee</code> doesnt have one primary key, instead it has two so i thought i should add the id class into the id argument which does not work. How do i save an entity with a composite primary using IdClass key with a CrudRepository?</p>\n"},{"tags":["java","java-stream","option-type"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1620747992,"post_id":67490088,"comment_id":119289997,"body_markdown":"How about using `map` instead of `mapToDouble`?","body":"How about using <code>map</code> instead of <code>mapToDouble</code>?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1620748135,"post_id":67490088,"comment_id":119290069,"body_markdown":"@AndyTurner Only the primitive stream specializations have `average()`. `Stream&lt;Double&gt;` doesn&#39;t have it. Do you could do it with a reduce, but it&#39;d be uglier","body":"@AndyTurner Only the primitive stream specializations have <code>average()</code>. <code>Stream&lt;Double&gt;</code> doesn&#39;t have it. Do you could do it with a reduce, but it&#39;d be uglier"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":8,"creation_date":1620748724,"post_id":67490088,"comment_id":119290369,"body_markdown":"Why not simply have the method return an `OptionalDouble`? I mean ... that is exactly why optionals were introduced. They signal the possible absence of a value after calling some method.","body":"Why not simply have the method return an <code>OptionalDouble</code>? I mean ... that is exactly why optionals were introduced. They signal the possible absence of a value after calling some method."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1620754459,"creation_date":1620747901,"answer_id":67490132,"question_id":67490088,"body_markdown":"`OptionalDouble` contains a **primitive** double. If you want an optional of a wrapped double you can just use `Optional&lt;Double&gt;`. Primitives can&#39;t be null, so `orElseNull` does not make sense.\r\n\r\nAs for how to convert between the two, it already has an answer here: https://stackoverflow.com/questions/42210935/convert-optionaldouble-to-optional-java-lang-double. TL;DR there is no nice, native way to do it yet. Wait for [valhalla](https://openjdk.java.net/jeps/218).","title":"Why no OptionalDouble orElseNull() or a better solution","body":"<p><code>OptionalDouble</code> contains a <strong>primitive</strong> double. If you want an optional of a wrapped double you can just use <code>Optional&lt;Double&gt;</code>. Primitives can't be null, so <code>orElseNull</code> does not make sense.</p>\n<p>As for how to convert between the two, it already has an answer here: <a href=\"https://stackoverflow.com/questions/42210935/convert-optionaldouble-to-optional-java-lang-double\">Convert OptionalDouble to Optional &lt;java.lang.Double&gt;</a>. TL;DR there is no nice, native way to do it yet. Wait for <a href=\"https://openjdk.java.net/jeps/218\" rel=\"noreferrer\">valhalla</a>.</p>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621332194,"creation_date":1620829583,"answer_id":67505601,"question_id":67490088,"body_markdown":"If you are returning `null` just to indicate that all costs are `0`(or the list is empty), then you could return `Double.NaN` instead. This would allow your return type to be primitive `double`.\r\n\r\n```java\r\nprivate double calculateAverageCost(List&lt;Item&gt; items) {\r\n    return items.stream()\r\n                .mapToDouble(item -&gt; item.cost)\r\n                .filter(cost -&gt; cost &gt; 0) // Ignore zero cost items\r\n                .average()\r\n                .orElse(Double.NaN);\r\n}\r\n```\r\n\r\n```java\r\ndouble avg = calculateAverageCost(items);\r\nif(Double.isNaN(avg)) {\r\n    System.out.println(&quot;All costs are zero&quot;);\r\n}\r\n```\r\n\r\nOtherwise, you could just use `orElse(0d)`. Since you are filtering **only positive costs**, the average would be `0` only if all costs are 0 (or if the list is empty). So if the result is 0, then it definitely implies the absence of positive costs.","title":"Why no OptionalDouble orElseNull() or a better solution","body":"<p>If you are returning <code>null</code> just to indicate that all costs are <code>0</code>(or the list is empty), then you could return <code>Double.NaN</code> instead. This would allow your return type to be primitive <code>double</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double calculateAverageCost(List&lt;Item&gt; items) {\n    return items.stream()\n                .mapToDouble(item -&gt; item.cost)\n                .filter(cost -&gt; cost &gt; 0) // Ignore zero cost items\n                .average()\n                .orElse(Double.NaN);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>double avg = calculateAverageCost(items);\nif(Double.isNaN(avg)) {\n    System.out.println(&quot;All costs are zero&quot;);\n}\n</code></pre>\n<p>Otherwise, you could just use <code>orElse(0d)</code>. Since you are filtering <strong>only positive costs</strong>, the average would be <code>0</code> only if all costs are 0 (or if the list is empty). So if the result is 0, then it definitely implies the absence of positive costs.</p>\n"},{"tags":[],"owner":{"account_id":9054451,"reputation":61,"user_id":6743298,"display_name":"Ravi Varu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690404139,"creation_date":1690404139,"answer_id":76774910,"question_id":67490088,"body_markdown":"You can use `.boxed()` function of `DoubleStream` in your chain after `mapToDouble()`, that will convert your `DoubleStream` chain *(stream of primitive)* to `Stream&lt;Double&gt;` chain *(stream of wrapper)*. \r\n\r\nYour chain will look like:\r\n```\r\n  items.stream()\r\n    .mapToDouble(item -&gt; item.cost)\r\n    .filter(cost -&gt; cost &gt; 0)\r\n    .boxed() \r\n    .collect(Collectors.averagingDouble(Double::doubleValue)); //can&#39;t use average() function of DoubleStream\r\n```","title":"Why no OptionalDouble orElseNull() or a better solution","body":"<p>You can use <code>.boxed()</code> function of <code>DoubleStream</code> in your chain after <code>mapToDouble()</code>, that will convert your <code>DoubleStream</code> chain <em>(stream of primitive)</em> to <code>Stream&lt;Double&gt;</code> chain <em>(stream of wrapper)</em>.</p>\n<p>Your chain will look like:</p>\n<pre><code>  items.stream()\n    .mapToDouble(item -&gt; item.cost)\n    .filter(cost -&gt; cost &gt; 0)\n    .boxed() \n    .collect(Collectors.averagingDouble(Double::doubleValue)); //can't use average() function of DoubleStream\n</code></pre>\n"}],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":67490132,"answer_count":3,"score":2,"last_activity_date":1690404139,"creation_date":1620747736,"question_id":67490088,"body_markdown":"I have a stream calculating average costs the code looks something like this\r\n```\r\nprivate Double calculateAverageCost(List&lt;Item&gt; items) {\r\n    return items.stream()\r\n                .mapToDouble(item -&gt; item.cost)\r\n                .filter(cost -&gt; cost &gt; 0) // Ignore zero cost items\r\n                .average()\r\n                . // Something here to convert an OptionalDouble to value or null\r\n}\r\n```\r\nI need the method to return the value or `null` if there is no value (e.g. when all costs are zero). My problem is there is no `orElseNull` method on `OptionalDouble` to do the conversion. I can do it in another step e.g.\r\n```\r\nprivate Double calculateAverageCost(List&lt;Item&gt; items) {\r\n    final OptionalDouble average = items.stream()\r\n                .mapToDouble(item -&gt; item.cost)\r\n                .filter(cost -&gt; cost &gt; 0) // Ignore zero cost items\r\n                .average();\r\n    return average.isPresent() ? average.getAsDouble() : null;\r\n}\r\n```\r\nI realise this is a &quot;primitive&quot; stream and my method is returning boxed `Double` but it would seem like this could be helpful, similar to (`Optional.empty().orElseGet(null)`).\r\n\r\nIs there a reason or a better solution im missing?","title":"Why no OptionalDouble orElseNull() or a better solution","body":"<p>I have a stream calculating average costs the code looks something like this</p>\n<pre><code>private Double calculateAverageCost(List&lt;Item&gt; items) {\n    return items.stream()\n                .mapToDouble(item -&gt; item.cost)\n                .filter(cost -&gt; cost &gt; 0) // Ignore zero cost items\n                .average()\n                . // Something here to convert an OptionalDouble to value or null\n}\n</code></pre>\n<p>I need the method to return the value or <code>null</code> if there is no value (e.g. when all costs are zero). My problem is there is no <code>orElseNull</code> method on <code>OptionalDouble</code> to do the conversion. I can do it in another step e.g.</p>\n<pre><code>private Double calculateAverageCost(List&lt;Item&gt; items) {\n    final OptionalDouble average = items.stream()\n                .mapToDouble(item -&gt; item.cost)\n                .filter(cost -&gt; cost &gt; 0) // Ignore zero cost items\n                .average();\n    return average.isPresent() ? average.getAsDouble() : null;\n}\n</code></pre>\n<p>I realise this is a &quot;primitive&quot; stream and my method is returning boxed <code>Double</code> but it would seem like this could be helpful, similar to (<code>Optional.empty().orElseGet(null)</code>).</p>\n<p>Is there a reason or a better solution im missing?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690304235,"post_id":76764950,"comment_id":135333568,"body_markdown":"Can you show us what code you have tried?  It would be helpful to know what library you are using and how you are calling that library.","body":"Can you show us what code you have tried?  It would be helpful to know what library you are using and how you are calling that library."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690304407,"post_id":76764950,"comment_id":135333605,"body_markdown":"It sounds like what you really want is to print your object as a json and omit all null values.","body":"It sounds like what you really want is to print your object as a json and omit all null values."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1690304818,"post_id":76764950,"comment_id":135333699,"body_markdown":"Converting Java objects to a JSON String can be done with existing libraries like jackson. see: [Converting Java objects to JSON with Jackson](https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson) - As for controlling whether null values should be included in the JSON or not, there are multiple ways to control that behavior: https://www.baeldung.com/jackson-ignore-null-fields","body":"Converting Java objects to a JSON String can be done with existing libraries like jackson. see: <a href=\"https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson\">Converting Java objects to JSON with Jackson</a> - As for controlling whether null values should be included in the JSON or not, there are multiple ways to control that behavior: <a href=\"https://www.baeldung.com/jackson-ignore-null-fields\" rel=\"nofollow noreferrer\">baeldung.com/jackson-ignore-null-fields</a>"},{"owner":{"account_id":9071166,"reputation":39,"user_id":16359344,"display_name":"Ruan Roussenq Alves"},"score":0,"creation_date":1690305063,"post_id":76764950,"comment_id":135333753,"body_markdown":"Thank you @OHGODSPIDERS , jackson solved that issue for me!","body":"Thank you @OHGODSPIDERS , jackson solved that issue for me!"}],"answers":[{"tags":[],"owner":{"account_id":1872786,"reputation":43,"user_id":3241830,"display_name":"Khalil ALMAASALI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690309508,"creation_date":1690309508,"answer_id":76765565,"question_id":76764950,"body_markdown":"In this particular case, the MappingCustomizer class is annotated with @Singleton, which means that there will be only one instance of this class created by Quarkus at runtime, and this instance will be reused throughout the application.\r\n\r\nThe customize method is implemented to customize the behavior of the ObjectMapper instance. In this case, the method sets the serialization inclusion to JsonInclude.Include.NON_NULL, which means that any properties with null values will be excluded from the JSON output.\r\n\r\nBy using this customization, any JSON output generated by the application will exclude any properties with null values, which can help to reduce the size of the output and make it more concise.\r\n\r\nTo use this customization in your Quarkus application, you can register the MappingCustomizer class with the ObjectMapperCustomizer interface, like so:\r\n\r\n    @Singleton\r\n    public class MappingCustomizer implements ObjectMapperCustomizer {\r\n        @Override\r\n        public void customize(ObjectMapper mapper) {\r\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        }\r\n    }","title":"How to create a Class in java that has an array which can accept different objects","body":"<p>In this particular case, the MappingCustomizer class is annotated with @Singleton, which means that there will be only one instance of this class created by Quarkus at runtime, and this instance will be reused throughout the application.</p>\n<p>The customize method is implemented to customize the behavior of the ObjectMapper instance. In this case, the method sets the serialization inclusion to JsonInclude.Include.NON_NULL, which means that any properties with null values will be excluded from the JSON output.</p>\n<p>By using this customization, any JSON output generated by the application will exclude any properties with null values, which can help to reduce the size of the output and make it more concise.</p>\n<p>To use this customization in your Quarkus application, you can register the MappingCustomizer class with the ObjectMapperCustomizer interface, like so:</p>\n<pre><code>@Singleton\npublic class MappingCustomizer implements ObjectMapperCustomizer {\n    @Override\n    public void customize(ObjectMapper mapper) {\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690402292,"creation_date":1690309999,"answer_id":76765608,"question_id":76764950,"body_markdown":"### Serialize an object to JSON using Jackson library\r\nWith the [hint of OH GOD SPIDERS&#39;s][1], follow the answers to:\r\n\r\n* https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson\r\n\r\nThese are the 3 steps to use Jackson:\r\n1. add Jackson dependencies `jackson-core`, `jackson-annotations` and `jackson-databind` to your project, e.g. [to Maven][2] POM\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. Create an [`ObjectMapper`][3] to use for JSON mapping (generation/parsing)\r\n```java\r\nvar mapper = new ObjectMapper();\r\n// optional configuration\r\n```\r\n3. pass your object instance to the suitable [`write..`][4] method\r\n```java\r\ntry {\r\n    // convert object to JSON string and print it \r\n    String json = mapper.writeValueAsString(person)\r\n    System.out.println(json);\r\n}\r\ncatch (JsonGenerationException | JsonMappingException  e) {\r\n    // catch various errors\r\n    e.printStackTrace();\r\n}\r\n```\r\n** Note:** You need public getters so Jackson mapper can access and serialize to JSON.\r\n\r\n## Configure desired serialization\r\n\r\n### Exclude null, empty or absent values\r\nTo exclude `null` values in written JSON, you can add the annotation [`@JsonInclude(Include.NON_NULL)`][5] to your properties:\r\n```java\r\npublic class Data {\r\n\r\n  private String name;\r\n  private String age;\r\n  @JsonInclude(Include.NON_NULL)\r\n  private String job;\r\n\r\n  // getters and setters omitted\r\n\r\n}\r\n```\r\nThere are a few of similar ex-/inclusion options:\r\n\r\n* `NON_ABSENT`\r\n  &gt; Value that indicates that properties are included unless their value is: null &quot;absent&quot; value of a referential type (like Java 8 `Optional`, or {link java.util.concurrent.atomic.AtomicReference}); that is, something that would not deference to a non-null value.\r\n* `NON_EMPTY`\r\n  &gt; Value that indicates that only properties with null value, or what is considered empty, are not to be included.\r\n* `NON_NULL`\r\n  &gt; Value that indicates that only properties with non-null values are to be included.\r\n\r\n### Conditional in-/exclusion\r\n\r\n&gt; I want to create a list of people, but I want the attribute `job` only to appear when the person is more than 30 years old.\r\n\r\nFollowing are 2 ways to achieve this conditional serialization:\r\n* [KISS] a &quot;quick and dirty&quot; solution\r\n* [SOLID] a safe and maintainable design\r\n\r\n#### [KISS] Simple modification of default getter\r\nAssume the class `Data` is only used for the JSON-representation (what we call a DTO).\r\nThen I would solve this simply by implementing a **conditional getter** like:\r\n```java\r\npublic class Data {\r\n\r\n  private String name;\r\n  private String age;\r\n  @JsonInclude(Include.NON_NULL)\r\n  private String job;\r\n\r\n  public String getJob() {\r\n    // exclude in JSON if 30 or younger\r\n    if (Integer.valueOf(age) &lt;= 30) {\r\n       return null;\r\n    }\r\n\r\n    return job;\r\n  }\r\n\r\n  // remaining getters and setters omitted\r\n\r\n}\r\n```\r\n** Warning:** This modification breaks the conventional behavior of Java-getters. They should be free of conditions. Thus I added a comment to explain the &quot;why&quot; and kept the if-block easily removable to undo. \r\n\r\n#### [SOLID] Add a custom accessor\r\nClean-code (expressive/additive) that follows design-principles (SRP/OCP) [as recommended by Reilas][6] would:\r\n 1. keep `getJob` as your accessor, and \r\n 2. make a different method to provide the conditional check, call it `job` or `jobIfOver30`. \r\n\r\nExample:\r\n```java\r\nprivate String job;\r\n\r\n// other fields and getters omitted to focus on custom property serialization\r\n\r\n@JsonIgnore  // 1. ignore the original property to keep accessor\r\npublic String getJob() {\r\n  return job;\r\n}\r\n\r\n@JsonProperty(&quot;job&quot;)  // 2. conditional serialization with original name\r\n@JsonInclude(Include.NON_NULL)\r\npublic String jobIfOver30() {\r\n  if (Integer.valueOf(age) &gt; 30) {\r\n     return job;\r\n  }\r\n\r\n  return null;\r\n}\r\n```\r\n**&#128154; Benefit:** We don&#39;t need a comment and can invert the if-statement because the added method has\r\n* a single responsibility (JSON serialization only) and \r\n* a self-expressive name.\r\n\r\n#### See also\r\nUnfortunately not the case here, but when the condition depends only on values of the same property, you could use the `@JsonInclude` annotation with [`CUSTOM`][7] option as explained in:\r\n\r\n* https://stackoverflow.com/questions/60422906/jsonignore-with-conditions\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76764950/how-to-create-a-class-in-java-that-has-an-array-which-can-accept-different-objec#comment135333699_76764950\r\n  [2]: https://github.com/FasterXML/jackson-databind#maven\r\n  [3]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.15.2/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [4]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.15.2/com/fasterxml/jackson/databind/ObjectMapper.html#writeValueAsString-java.lang.Object-\r\n  [5]: https://fasterxml.github.io/jackson-annotations/javadoc/2.15.2/com/fasterxml/jackson/annotation/JsonInclude.Include.html\r\n  [6]: https://stackoverflow.com/questions/76764950/how-to-create-a-class-in-java-that-has-an-array-which-can-accept-different-objec/76765608#comment135336569_76765608\r\n  [7]: https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonInclude.Include.html#CUSTOM","title":"How to create a Class in java that has an array which can accept different objects","body":"<h3>Serialize an object to JSON using Jackson library</h3>\n<p>With the <a href=\"https://stackoverflow.com/questions/76764950/how-to-create-a-class-in-java-that-has-an-array-which-can-accept-different-objec#comment135333699_76764950\">hint of OH GOD SPIDERS's</a>, follow the answers to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson\">Converting Java objects to JSON with Jackson</a></li>\n</ul>\n<p>These are the 3 steps to use Jackson:</p>\n<ol>\n<li>add Jackson dependencies <code>jackson-core</code>, <code>jackson-annotations</code> and <code>jackson-databind</code> to your project, e.g. <a href=\"https://github.com/FasterXML/jackson-databind#maven\" rel=\"nofollow noreferrer\">to Maven</a> POM</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Create an <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.15.2/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> to use for JSON mapping (generation/parsing)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>var mapper = new ObjectMapper();\n// optional configuration\n</code></pre>\n<ol start=\"3\">\n<li>pass your object instance to the suitable <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.15.2/com/fasterxml/jackson/databind/ObjectMapper.html#writeValueAsString-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>write..</code></a> method</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // convert object to JSON string and print it \n    String json = mapper.writeValueAsString(person)\n    System.out.println(json);\n}\ncatch (JsonGenerationException | JsonMappingException  e) {\n    // catch various errors\n    e.printStackTrace();\n}\n</code></pre>\n<p><strong> Note:</strong> You need public getters so Jackson mapper can access and serialize to JSON.</p>\n<h2>Configure desired serialization</h2>\n<h3>Exclude null, empty or absent values</h3>\n<p>To exclude <code>null</code> values in written JSON, you can add the annotation <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.15.2/com/fasterxml/jackson/annotation/JsonInclude.Include.html\" rel=\"nofollow noreferrer\"><code>@JsonInclude(Include.NON_NULL)</code></a> to your properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Data {\n\n  private String name;\n  private String age;\n  @JsonInclude(Include.NON_NULL)\n  private String job;\n\n  // getters and setters omitted\n\n}\n</code></pre>\n<p>There are a few of similar ex-/inclusion options:</p>\n<ul>\n<li><code>NON_ABSENT</code>\n<blockquote>\n<p>Value that indicates that properties are included unless their value is: null &quot;absent&quot; value of a referential type (like Java 8 <code>Optional</code>, or {link java.util.concurrent.atomic.AtomicReference}); that is, something that would not deference to a non-null value.</p>\n</blockquote>\n</li>\n<li><code>NON_EMPTY</code>\n<blockquote>\n<p>Value that indicates that only properties with null value, or what is considered empty, are not to be included.</p>\n</blockquote>\n</li>\n<li><code>NON_NULL</code>\n<blockquote>\n<p>Value that indicates that only properties with non-null values are to be included.</p>\n</blockquote>\n</li>\n</ul>\n<h3>Conditional in-/exclusion</h3>\n<blockquote>\n<p>I want to create a list of people, but I want the attribute <code>job</code> only to appear when the person is more than 30 years old.</p>\n</blockquote>\n<p>Following are 2 ways to achieve this conditional serialization:</p>\n<ul>\n<li>[KISS] a &quot;quick and dirty&quot; solution</li>\n<li>[SOLID] a safe and maintainable design</li>\n</ul>\n<h4>[KISS] Simple modification of default getter</h4>\n<p>Assume the class <code>Data</code> is only used for the JSON-representation (what we call a DTO).\nThen I would solve this simply by implementing a <strong>conditional getter</strong> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Data {\n\n  private String name;\n  private String age;\n  @JsonInclude(Include.NON_NULL)\n  private String job;\n\n  public String getJob() {\n    // exclude in JSON if 30 or younger\n    if (Integer.valueOf(age) &lt;= 30) {\n       return null;\n    }\n\n    return job;\n  }\n\n  // remaining getters and setters omitted\n\n}\n</code></pre>\n<p><strong> Warning:</strong> This modification breaks the conventional behavior of Java-getters. They should be free of conditions. Thus I added a comment to explain the &quot;why&quot; and kept the if-block easily removable to undo.</p>\n<h4>[SOLID] Add a custom accessor</h4>\n<p>Clean-code (expressive/additive) that follows design-principles (SRP/OCP) <a href=\"https://stackoverflow.com/questions/76764950/how-to-create-a-class-in-java-that-has-an-array-which-can-accept-different-objec/76765608#comment135336569_76765608\">as recommended by Reilas</a> would:</p>\n<ol>\n<li>keep <code>getJob</code> as your accessor, and</li>\n<li>make a different method to provide the conditional check, call it <code>job</code> or <code>jobIfOver30</code>.</li>\n</ol>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String job;\n\n// other fields and getters omitted to focus on custom property serialization\n\n@JsonIgnore  // 1. ignore the original property to keep accessor\npublic String getJob() {\n  return job;\n}\n\n@JsonProperty(&quot;job&quot;)  // 2. conditional serialization with original name\n@JsonInclude(Include.NON_NULL)\npublic String jobIfOver30() {\n  if (Integer.valueOf(age) &gt; 30) {\n     return job;\n  }\n\n  return null;\n}\n</code></pre>\n<p><strong> Benefit:</strong> We don't need a comment and can invert the if-statement because the added method has</p>\n<ul>\n<li>a single responsibility (JSON serialization only) and</li>\n<li>a self-expressive name.</li>\n</ul>\n<h4>See also</h4>\n<p>Unfortunately not the case here, but when the condition depends only on values of the same property, you could use the <code>@JsonInclude</code> annotation with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonInclude.Include.html#CUSTOM\" rel=\"nofollow noreferrer\"><code>CUSTOM</code></a> option as explained in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/60422906/jsonignore-with-conditions\">@JsonIgnore with Conditions</a></li>\n</ul>\n"}],"owner":{"account_id":9071166,"reputation":39,"user_id":16359344,"display_name":"Ruan Roussenq Alves"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76765608,"answer_count":2,"score":2,"last_activity_date":1690402292,"creation_date":1690304159,"question_id":76764950,"body_markdown":"I am using Quarkus framework. I am new to Java, so I don&#39;t have knowledge of libraries, so I just created these classes and returning them as response:\r\n\r\n### Code\r\n```java\r\npublic class Person {\r\n\r\n  private ArrayList&lt;Data&gt; data = new ArrayList();\r\n\r\n}\r\n\r\npublic class Data {\r\n\r\n  private String name;\r\n  private String age;\r\n  private String job;\r\n\r\n}\r\n```\r\n### Wanted\r\nI want to print the object as JSON and omit all null values.\r\n\r\nI want to create a list of people, but I want the attribute `job` only to appear when the person is more than 30 years old. \r\n\r\nThe final result should be like:\r\n```json\r\n    {\r\n     data:\r\n          [\r\n           {\r\n            &quot;name&quot;: John,\r\n            &quot;age&quot;: 40,\r\n            &quot;job&quot;: Medic\r\n           },\r\n           {\r\n            &quot;name&quot;: Paul,\r\n            &quot;age&quot;: 29\r\n           },\r\n           {\r\n            &quot;name&quot;: Lua,\r\n            &quot;age&quot;: 20\r\n           }\r\n          ]\r\n    }\r\n```\r\n\r\n### Question\r\n\r\nWhat is the way to do that?","title":"How to create a Class in java that has an array which can accept different objects","body":"<p>I am using Quarkus framework. I am new to Java, so I don't have knowledge of libraries, so I just created these classes and returning them as response:</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n\n  private ArrayList&lt;Data&gt; data = new ArrayList();\n\n}\n\npublic class Data {\n\n  private String name;\n  private String age;\n  private String job;\n\n}\n</code></pre>\n<h3>Wanted</h3>\n<p>I want to print the object as JSON and omit all null values.</p>\n<p>I want to create a list of people, but I want the attribute <code>job</code> only to appear when the person is more than 30 years old.</p>\n<p>The final result should be like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n     data:\n          [\n           {\n            &quot;name&quot;: John,\n            &quot;age&quot;: 40,\n            &quot;job&quot;: Medic\n           },\n           {\n            &quot;name&quot;: Paul,\n            &quot;age&quot;: 29\n           },\n           {\n            &quot;name&quot;: Lua,\n            &quot;age&quot;: 20\n           }\n          ]\n    }\n</code></pre>\n<h3>Question</h3>\n<p>What is the way to do that?</p>\n"},{"tags":["java","timezone","localdate","zoneid"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690386906,"post_id":76773034,"comment_id":135347194,"body_markdown":"You&#39;re wrong, it is currently 26 July 2023 04:54 in Samoa, while it is 26 July 2023 16:54 in London. See https://www.timeanddate.com/worldclock/american-samoa. It has UTC -11, not UTC +11","body":"You&#39;re wrong, it is currently 26 July 2023 04:54 in Samoa, while it is 26 July 2023 16:54 in London. See <a href=\"https://www.timeanddate.com/worldclock/american-samoa\" rel=\"nofollow noreferrer\">timeanddate.com/worldclock/american-samoa</a>. It has UTC -11, not UTC +11"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690387114,"post_id":76773034,"comment_id":135347244,"body_markdown":"@MarkRotteveel Samoa and American Samoa are not the same country: https://www.timeanddate.com/worldclock/samoa","body":"@MarkRotteveel Samoa and American Samoa are not the same country: <a href=\"https://www.timeanddate.com/worldclock/samoa\" rel=\"nofollow noreferrer\">timeanddate.com/worldclock/samoa</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1690387390,"post_id":76773034,"comment_id":135347304,"body_markdown":"@OHGODSPIDERS Sure, but Pacific/Samoa refers to American Samoa these days (in the past it was also for Samoa). The one for Samoa is Pacific/Apia","body":"@OHGODSPIDERS Sure, but Pacific/Samoa refers to American Samoa these days (in the past it was also for Samoa). The one for Samoa is Pacific/Apia"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690387968,"post_id":76773034,"comment_id":135347446,"body_markdown":"@OHGODSPIDERS You&#39;re right, I focused too much on the time zone and not the country :)","body":"@OHGODSPIDERS You&#39;re right, I focused too much on the time zone and not the country :)"}],"answers":[{"tags":[],"owner":{"account_id":17484289,"reputation":118,"user_id":12677653,"display_name":"Loz"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1690402285,"creation_date":1690386850,"answer_id":76773070,"question_id":76773034,"body_markdown":"According to [the docs](https://docs.oracle.com/middleware/1221/wcs/tag-ref/MISC/TimeZones.html), you&#39;ll want to use a `ZoneId` of `Pacific/Pago_Pago` to get Samoan time.\r\n\r\nEdit: As Jon corrected below; the doc I&#39;ve linked to is old and `Pacific/Samoa` is an acceptable ID. Leaving this here as reference.","title":"Java Timezone issue with LocalDate not showing correct date","body":"<p>According to <a href=\"https://docs.oracle.com/middleware/1221/wcs/tag-ref/MISC/TimeZones.html\" rel=\"nofollow noreferrer\">the docs</a>, you'll want to use a <code>ZoneId</code> of <code>Pacific/Pago_Pago</code> to get Samoan time.</p>\n<p>Edit: As Jon corrected below; the doc I've linked to is old and <code>Pacific/Samoa</code> is an acceptable ID. Leaving this here as reference.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690387768,"creation_date":1690387768,"answer_id":76773195,"question_id":76773034,"body_markdown":"The problem is that Pacific/Samoa is no longer the time zone for Samoa, but only the time zone for American Samoa. And in American Samoa, it is currently 05:07 on the 26th of July (18:07 on the 26th of July Europe/Amsterdam).\r\n\r\nA few years ago (in 2011), Samoa transited the international dateline resulting in a new time zone, and you need to use the time zone Pacific/Apia:\r\n\r\n```none\r\njshell&gt; LocalDate.now(ZoneId.of(&quot;Pacific/Apia&quot;))\r\n$3 ==&gt; 2023-07-27\r\njshell&gt; LocalDateTime.now(ZoneId.of(&quot;Pacific/Apia&quot;))\r\n$4 ==&gt; 2023-07-27T05:07:08.188250\r\n```","title":"Java Timezone issue with LocalDate not showing correct date","body":"<p>The problem is that Pacific/Samoa is no longer the time zone for Samoa, but only the time zone for American Samoa. And in American Samoa, it is currently 05:07 on the 26th of July (18:07 on the 26th of July Europe/Amsterdam).</p>\n<p>A few years ago (in 2011), Samoa transited the international dateline resulting in a new time zone, and you need to use the time zone Pacific/Apia:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jshell&gt; LocalDate.now(ZoneId.of(&quot;Pacific/Apia&quot;))\n$3 ==&gt; 2023-07-27\njshell&gt; LocalDateTime.now(ZoneId.of(&quot;Pacific/Apia&quot;))\n$4 ==&gt; 2023-07-27T05:07:08.188250\n</code></pre>\n"}],"owner":{"account_id":29096950,"reputation":3,"user_id":22289647,"display_name":"Joao Pedro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76773195,"answer_count":2,"score":0,"last_activity_date":1690402285,"creation_date":1690386585,"question_id":76773034,"body_markdown":"I&#39;m currently based in Europe/London\r\n\r\nI am trying to get the current day in Samoa, which is 27 July with the following code:\r\n\r\n    LocalDate localDate = LocalDate.now(ZoneId.of(&quot;Pacific/Samoa&quot;));\r\n\r\nHowever for some reason this outputs as: \r\n\r\n    2023-07-26\r\n\r\nIt&#39;s currently 16:47, 26 July in London, and 4:47, 27 July in Samoa.\r\n\r\nI don&#39;t understand why I&#39;m getting the 26 as output if Im using Samoas zoneId.\r\n\r\n\r\n","title":"Java Timezone issue with LocalDate not showing correct date","body":"<p>I'm currently based in Europe/London</p>\n<p>I am trying to get the current day in Samoa, which is 27 July with the following code:</p>\n<pre><code>LocalDate localDate = LocalDate.now(ZoneId.of(&quot;Pacific/Samoa&quot;));\n</code></pre>\n<p>However for some reason this outputs as:</p>\n<pre><code>2023-07-26\n</code></pre>\n<p>It's currently 16:47, 26 July in London, and 4:47, 27 July in Samoa.</p>\n<p>I don't understand why I'm getting the 26 as output if Im using Samoas zoneId.</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1690382951,"post_id":76771706,"comment_id":135346248,"body_markdown":"I know this does not answer your question. But it&#39;s not a good idea/practice to keep so many messages in a queue. Messages should be consumed as and when they arrive. Having many messages will slow down message consumption.","body":"I know this does not answer your question. But it&#39;s not a good idea/practice to keep so many messages in a queue. Messages should be consumed as and when they arrive. Having many messages will slow down message consumption."},{"owner":{"account_id":7050143,"reputation":50,"user_id":5399526,"display_name":"JP13"},"score":0,"creation_date":1690383179,"post_id":76771706,"comment_id":135346325,"body_markdown":"You are certainly right. However, I unfortunately have no influence on message consumption in my environment.","body":"You are certainly right. However, I unfortunately have no influence on message consumption in my environment."}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690402192,"creation_date":1690402192,"answer_id":76774726,"question_id":76771706,"body_markdown":"IBM MQ has a few quirks. I&#39;ll try not to go too technically in-depth but you &amp; future readers need to understand how to deal with these quirks.\r\n\r\n1. There is no ability to move the &#39;read&#39; cursor forward other than actually getting or browsing a message.\r\n\r\n2. There may be far more MQGETs performed than you actually realize.\r\n\r\nThe reason why it takes more than 45 seconds to get to message # 39,500 is because you are pulling all of the data across the network. By that I mean, if the average message size was 100k and you retrieved 39,500 messages, then you dragged a minimum of 3.8GB of data across the network to get to message number 39,500 plus a minimum of 39,500 MQGET API calls.\r\n\r\nNow why do I say &quot;minimum&quot; of 39,500 MQGET API calls? It is because for Java, JMS and .NET applications, the MQ Client library preallocates a 4KB buffer to retrieve the message. So, under the covers, it may take 2 MQGETs to actually retrieve your message if it is larger than 4KB.\r\n\r\nI&#39;ve written a lot about it on my blog:\r\n- [JMS and Java Client Mode Performance Issues for MQ Get API Calls][1]\r\n- [How to Improve Your Java/JMS MQ Tuning Cred.][2]\r\n- [Tuning Java Programs for Optimum MQ Get API Calls Performance][3]\r\n\r\nNow to the second part, how to speed up moving the cursor from the current message to say message number 39,500.\r\n\r\nThere are 3 get methods for the MQQueue class: https://www.ibm.com/docs/en/ibm-mq/latest?topic=java-mqqueue\r\n\r\nYou should be using the get method that takes 3 parameters for when you are simply wanting to move the cursor forward.\r\n\r\n    public void get(MQMessage message,\r\n                    MQGetMessageOptions getMessageOptions,\r\n                    int maxMsgSize)\r\n             throws MQException\r\n\r\nTherefore, in the loop for moving the cursor forward, you change:\r\n\r\n    queue.get(message, gmo); \r\n\r\nto\r\n\r\n    queue.get(message, gmo, 0); \r\n\r\nThere used to be a weird bug if you set the max message length to zero but it appears that it has been fixed.  I still use 1 just to make sure I don&#39;t hit that issue.\r\n\r\nAnd you need to add the MQGMO_ACCEPT_TRUNCATED_MSG option to GMO options.\r\ni.e.\r\n\r\n    gmo.options = CMQC.MQGMO_BROWSE_NEXT + CMQC.MQGMO_FAIL_IF_QUIESCING + CMQC.MQGMO_ACCEPT_TRUNCATED_MSG;\r\n\r\nFinally, you should ALWAYS have &quot;Fail if Quiescing&quot; options added to MQ API calls like MQOPEN, MQGET, MQPUT, etc.\r\n\r\nWhen you set the max. message length to zero &amp; add the MQGMO_ACCEPT_TRUNCATED_MSG option, the MQGET call will throw an MQ exception of 2079 - MQRC_TRUNCATED_MSG_ACCEPTED which is perfectly normal. MQ will return the MQMD of the message along with an empty message buffer. You just handle the MQ exception and loop again for the next message.\r\n\r\nHence, the time it takes to move the cursor to message number 39,500 should now be under 5 seconds, maybe even less than 1 second depending on your network traffic.\r\n\r\n  [1]: https://www.capitalware.com/rl_blog/?p=5647\r\n  [2]: https://www.capitalware.com/rl_blog/?p=5619\r\n  [3]: https://www.capitalware.com/rl_blog/?p=5598","title":"How can I set the Curser for an IBM MQQueue explicitly?","body":"<p>IBM MQ has a few quirks. I'll try not to go too technically in-depth but you &amp; future readers need to understand how to deal with these quirks.</p>\n<ol>\n<li><p>There is no ability to move the 'read' cursor forward other than actually getting or browsing a message.</p>\n</li>\n<li><p>There may be far more MQGETs performed than you actually realize.</p>\n</li>\n</ol>\n<p>The reason why it takes more than 45 seconds to get to message # 39,500 is because you are pulling all of the data across the network. By that I mean, if the average message size was 100k and you retrieved 39,500 messages, then you dragged a minimum of 3.8GB of data across the network to get to message number 39,500 plus a minimum of 39,500 MQGET API calls.</p>\n<p>Now why do I say &quot;minimum&quot; of 39,500 MQGET API calls? It is because for Java, JMS and .NET applications, the MQ Client library preallocates a 4KB buffer to retrieve the message. So, under the covers, it may take 2 MQGETs to actually retrieve your message if it is larger than 4KB.</p>\n<p>I've written a lot about it on my blog:</p>\n<ul>\n<li><a href=\"https://www.capitalware.com/rl_blog/?p=5647\" rel=\"nofollow noreferrer\">JMS and Java Client Mode Performance Issues for MQ Get API Calls</a></li>\n<li><a href=\"https://www.capitalware.com/rl_blog/?p=5619\" rel=\"nofollow noreferrer\">How to Improve Your Java/JMS MQ Tuning Cred.</a></li>\n<li><a href=\"https://www.capitalware.com/rl_blog/?p=5598\" rel=\"nofollow noreferrer\">Tuning Java Programs for Optimum MQ Get API Calls Performance</a></li>\n</ul>\n<p>Now to the second part, how to speed up moving the cursor from the current message to say message number 39,500.</p>\n<p>There are 3 get methods for the MQQueue class: <a href=\"https://www.ibm.com/docs/en/ibm-mq/latest?topic=java-mqqueue\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/latest?topic=java-mqqueue</a></p>\n<p>You should be using the get method that takes 3 parameters for when you are simply wanting to move the cursor forward.</p>\n<pre><code>public void get(MQMessage message,\n                MQGetMessageOptions getMessageOptions,\n                int maxMsgSize)\n         throws MQException\n</code></pre>\n<p>Therefore, in the loop for moving the cursor forward, you change:</p>\n<pre><code>queue.get(message, gmo); \n</code></pre>\n<p>to</p>\n<pre><code>queue.get(message, gmo, 0); \n</code></pre>\n<p>There used to be a weird bug if you set the max message length to zero but it appears that it has been fixed.  I still use 1 just to make sure I don't hit that issue.</p>\n<p>And you need to add the MQGMO_ACCEPT_TRUNCATED_MSG option to GMO options.\ni.e.</p>\n<pre><code>gmo.options = CMQC.MQGMO_BROWSE_NEXT + CMQC.MQGMO_FAIL_IF_QUIESCING + CMQC.MQGMO_ACCEPT_TRUNCATED_MSG;\n</code></pre>\n<p>Finally, you should ALWAYS have &quot;Fail if Quiescing&quot; options added to MQ API calls like MQOPEN, MQGET, MQPUT, etc.</p>\n<p>When you set the max. message length to zero &amp; add the MQGMO_ACCEPT_TRUNCATED_MSG option, the MQGET call will throw an MQ exception of 2079 - MQRC_TRUNCATED_MSG_ACCEPTED which is perfectly normal. MQ will return the MQMD of the message along with an empty message buffer. You just handle the MQ exception and loop again for the next message.</p>\n<p>Hence, the time it takes to move the cursor to message number 39,500 should now be under 5 seconds, maybe even less than 1 second depending on your network traffic.</p>\n"}],"owner":{"account_id":7050143,"reputation":50,"user_id":5399526,"display_name":"JP13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76774726,"answer_count":1,"score":0,"last_activity_date":1690402192,"creation_date":1690377149,"question_id":76771706,"body_markdown":"I&#39;m currently writing an Application for viewing messages in an IBM MQ.\r\nNow I am implementing pagination. I have Queues with arround 40000 entries.\r\nI wrote code (see shortened example) that just skips the messages I dont want to display and only handles the messages I want to display. However this is very slow (&gt;45 seconds).\r\nTherefore my question is: can I set the cursor explicitly for example to position 35900? I could not find anything in the IBM documentation.\r\n\r\n```\r\nimport com.ibm.mq.*;\r\n\r\npublic class IBMMQMessageBrowser {\r\n    private static final String QUEUE_MANAGER_NAME = &quot;QMGR_NAME&quot;;\r\n    private static final String QUEUE_NAME = &quot;QUEUE_NAME&quot;;\r\n    private static final int START_MESSAGE_NUMBER = 100;\r\n    private static final int END_MESSAGE_NUMBER = 200;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            MQQueueManager queueManager = new MQQueueManager(QUEUE_MANAGER_NAME);\r\n            int openOptions = MQC.MQOO_BROWSE | MQC.MQOO_INQUIRE;\r\n            MQQueue queue = queueManager.accessQueue(QUEUE_NAME, openOptions);\r\n\r\n            MQMessage message = new MQMessage();\r\n            MQGetMessageOptions gmo = new MQGetMessageOptions();\r\n            gmo.options = MQC.MQGMO_BROWSE_FIRST;\r\n\r\n            int messageCounter = 0;\r\n\r\n            while (true) {\r\n                try {\r\n                    queue.get(message, gmo); //Even if i set the desired message size to 0 for Messages I want to skip it is very slow.\r\n                    messageCounter++;\r\n\r\n                    // Check if we are within the desired range\r\n                    if (messageCounter &gt;= START_MESSAGE_NUMBER &amp;&amp; messageCounter &lt;= END_MESSAGE_NUMBER) {\r\n                        // Process the message here (e.g., print its contents)\r\n                        System.out.println(&quot;Message: &quot; + message.readStringOfByteLength(message.getMessageLength()));\r\n                    }\r\n\r\n                    // Break the loop if we have reached the end of the range\r\n                    if (messageCounter &gt; END_MESSAGE_NUMBER) {\r\n                        break;\r\n                    }\r\n\r\n                    gmo.options = MQC.MQGMO_BROWSE_NEXT;\r\n                } catch (MQException mqe) {\r\n                    if (mqe.reasonCode == MQException.MQRC_NO_MSG_AVAILABLE) {\r\n                        break; // No more messages to browse\r\n                    } else {\r\n                        throw mqe; // Handle other exceptions\r\n                    }\r\n                }\r\n            }\r\n\r\n            queue.close();\r\n            queueManager.disconnect();\r\n        } catch (MQException mqe) {\r\n            // Handle MQException\r\n            mqe.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I set the Curser for an IBM MQQueue explicitly?","body":"<p>I'm currently writing an Application for viewing messages in an IBM MQ.\nNow I am implementing pagination. I have Queues with arround 40000 entries.\nI wrote code (see shortened example) that just skips the messages I dont want to display and only handles the messages I want to display. However this is very slow (&gt;45 seconds).\nTherefore my question is: can I set the cursor explicitly for example to position 35900? I could not find anything in the IBM documentation.</p>\n<pre><code>import com.ibm.mq.*;\n\npublic class IBMMQMessageBrowser {\n    private static final String QUEUE_MANAGER_NAME = &quot;QMGR_NAME&quot;;\n    private static final String QUEUE_NAME = &quot;QUEUE_NAME&quot;;\n    private static final int START_MESSAGE_NUMBER = 100;\n    private static final int END_MESSAGE_NUMBER = 200;\n\n    public static void main(String[] args) {\n        try {\n            MQQueueManager queueManager = new MQQueueManager(QUEUE_MANAGER_NAME);\n            int openOptions = MQC.MQOO_BROWSE | MQC.MQOO_INQUIRE;\n            MQQueue queue = queueManager.accessQueue(QUEUE_NAME, openOptions);\n\n            MQMessage message = new MQMessage();\n            MQGetMessageOptions gmo = new MQGetMessageOptions();\n            gmo.options = MQC.MQGMO_BROWSE_FIRST;\n\n            int messageCounter = 0;\n\n            while (true) {\n                try {\n                    queue.get(message, gmo); //Even if i set the desired message size to 0 for Messages I want to skip it is very slow.\n                    messageCounter++;\n\n                    // Check if we are within the desired range\n                    if (messageCounter &gt;= START_MESSAGE_NUMBER &amp;&amp; messageCounter &lt;= END_MESSAGE_NUMBER) {\n                        // Process the message here (e.g., print its contents)\n                        System.out.println(&quot;Message: &quot; + message.readStringOfByteLength(message.getMessageLength()));\n                    }\n\n                    // Break the loop if we have reached the end of the range\n                    if (messageCounter &gt; END_MESSAGE_NUMBER) {\n                        break;\n                    }\n\n                    gmo.options = MQC.MQGMO_BROWSE_NEXT;\n                } catch (MQException mqe) {\n                    if (mqe.reasonCode == MQException.MQRC_NO_MSG_AVAILABLE) {\n                        break; // No more messages to browse\n                    } else {\n                        throw mqe; // Handle other exceptions\n                    }\n                }\n            }\n\n            queue.close();\n            queueManager.disconnect();\n        } catch (MQException mqe) {\n            // Handle MQException\n            mqe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690406228,"post_id":76774702,"comment_id":135351027,"body_markdown":"You can use the delegate pattern to create a `WebDriver` that isn&#39;t instantiated until it is actually used. See the `LazyWebDriver` here https://stackoverflow.com/questions/67724604/how-to-design-a-cucumber-selenium-framework-without-using-static-instances-of-th/67729493#67729493","body":"You can use the delegate pattern to create a <code>WebDriver</code> that isn&#39;t instantiated until it is actually used. See the <code>LazyWebDriver</code> here <a href=\"https://stackoverflow.com/questions/67724604/how-to-design-a-cucumber-selenium-framework-without-using-static-instances-of-th/67729493#67729493\" title=\"how to design a cucumber selenium framework without using static instances of th\">stackoverflow.com/questions/67724604/&hellip;</a>"}],"owner":{"account_id":12340469,"reputation":82,"user_id":9003853,"display_name":"Bhala T R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690402030,"creation_date":1690402030,"question_id":76774702,"body_markdown":"I have an automation test project which has both the API &amp; GUI tests. It&#39;s been configured with Spring Boot annotation @SpringBootTest as below:\r\n\r\n       @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes =           WebDriverConfiguration.class)\r\n        @CucumberContextConfiguration\r\n        public class SpringCucumberTest {\r\n    \r\n        }\r\n\r\n        @Configuration\r\n        @Scope(CucumberTestContext.SCOPE_CUCUMBER_GLUE)\r\n        @ComponentScan(&quot;org.ki&quot;)\r\n        public class WebDriverConfiguration {\r\n    \r\n        @Autowired\r\n        private WebDriverFactory webDriverFactory;\r\n    \r\n        @Scope(CucumberTestContext.SCOPE_CUCUMBER_GLUE)\r\n        @Bean(initMethod = &quot;&quot;, destroyMethod = &quot;quit&quot;)\r\n        public WebDriver webDriver() throws MalformedURLException {\r\n            return webDriverFactory.createWebDriver();\r\n        }\r\n       }\r\n\r\n\r\nNow the problem I&#39;m facing is that the selenium webdriver is getting instantiated everytime irrespective of GUI or API test. My task is not to instantiate the webdriver instance if the test is API, we do have the tag in the cucumber feature file as @api.\r\nPlease advise. Thanks!\r\n\r\nI would say I&#39;m new to Spring framework but I have tried searching so many places but couldn&#39;t get it working even after adding custom annotations as below but none worked for me:\r\n\r\n    @Target({ElementType.METHOD, TYPE, ANNOTATION_TYPE })\r\n    @Retention(RUNTIME)\r\n    @ExtendWith(ExcludeTagsCondition.class)\r\n    public @interface ExcludeTags {\r\n    String[] value();\r\n    }\r\n    \r\n\r\n        public class ExcludeTagsCondition implements ExecutionCondition {\r\n    \r\n        private static final ConditionEvaluationResult ENABLED_IF_EXCLUDE_TAG_IS_INVALID =\r\n                ConditionEvaluationResult.enabled(\r\n                        &quot;@ExcludeTags does not have a valid tag to exclude, all tests will be run&quot;);\r\n        private static Set&lt;String&gt; tagsThatMustBeIncluded = new HashSet&lt;&gt;();\r\n    \r\n        public static void setMustIncludeTags(final Set&lt;String&gt; tagsThatMustBeIncluded) {\r\n            ExcludeTagsCondition.tagsThatMustBeIncluded = new HashSet&lt;&gt;(tagsThatMustBeIncluded);\r\n        }\r\n    \r\n        @Override\r\n        public ConditionEvaluationResult evaluateExecutionCondition(\r\n                ExtensionContext context) {\r\n            final AnnotatedElement element = context\r\n                    .getElement()\r\n                    .orElseThrow(IllegalStateException::new);\r\n            final Optional&lt;Set&lt;String&gt;&gt; tagsToExclude = AnnotationUtils.findAnnotation(\r\n                            context.getRequiredTestClass(),\r\n                            ExcludeTags.class\r\n                    )\r\n                    .map(a -&gt;\r\n                            Arrays.stream(a.value())\r\n                                    .filter(t -&gt; !tagsThatMustBeIncluded.contains(t))\r\n                                    .collect(Collectors.toSet())\r\n                    );\r\n            if (tagsToExclude.isEmpty() || tagsToExclude.get().stream()\r\n                    .allMatch(s -&gt; (s == null) || s.trim().isEmpty())) {\r\n                return ENABLED_IF_EXCLUDE_TAG_IS_INVALID;\r\n            }\r\n            final Optional&lt;String&gt; tag = AnnotationUtils.findAnnotation(element, Tag.class)\r\n                    .map(Tag::value);\r\n            if (tagsToExclude.get().contains(tag.map(String::trim).orElse(&quot;&quot;))) {\r\n                return ConditionEvaluationResult\r\n                        .disabled(String.format(\r\n                                &quot;test method \\&quot;%s\\&quot; has tag \\&quot;%s\\&quot; which is on the @ExcludeTags list \\&quot;[%s]\\&quot;, test will be skipped&quot;,\r\n                                (element instanceof Method) ? ((Method) element).getName()\r\n                                        : element.getClass().getSimpleName(),\r\n                                tag.get(),\r\n                                String.join(&quot;,&quot;, tagsToExclude.get())\r\n                        ));\r\n            }\r\n            return ConditionEvaluationResult.enabled(\r\n                    String.format(\r\n                            &quot;test method \\&quot;%s\\&quot; has tag \\&quot;%s\\&quot; which is not on the @ExcludeTags list \\&quot;[%s]\\&quot;, test will be run&quot;,\r\n                            (element instanceof Method) ? ((Method) element).getName()\r\n                                    : element.getClass().getSimpleName(),\r\n                            tag.orElse(&quot;&lt;no tag present&gt;&quot;),\r\n                            String.join(&quot;,&quot;, tagsToExclude.get())\r\n                    ));\r\n         }\r\n       }","title":"How to exclude the tags in spring boot test project?","body":"<p>I have an automation test project which has both the API &amp; GUI tests. It's been configured with Spring Boot annotation @SpringBootTest as below:</p>\n<pre><code>   @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes =           WebDriverConfiguration.class)\n    @CucumberContextConfiguration\n    public class SpringCucumberTest {\n\n    }\n\n    @Configuration\n    @Scope(CucumberTestContext.SCOPE_CUCUMBER_GLUE)\n    @ComponentScan(&quot;org.ki&quot;)\n    public class WebDriverConfiguration {\n\n    @Autowired\n    private WebDriverFactory webDriverFactory;\n\n    @Scope(CucumberTestContext.SCOPE_CUCUMBER_GLUE)\n    @Bean(initMethod = &quot;&quot;, destroyMethod = &quot;quit&quot;)\n    public WebDriver webDriver() throws MalformedURLException {\n        return webDriverFactory.createWebDriver();\n    }\n   }\n</code></pre>\n<p>Now the problem I'm facing is that the selenium webdriver is getting instantiated everytime irrespective of GUI or API test. My task is not to instantiate the webdriver instance if the test is API, we do have the tag in the cucumber feature file as @api.\nPlease advise. Thanks!</p>\n<p>I would say I'm new to Spring framework but I have tried searching so many places but couldn't get it working even after adding custom annotations as below but none worked for me:</p>\n<pre><code>@Target({ElementType.METHOD, TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@ExtendWith(ExcludeTagsCondition.class)\npublic @interface ExcludeTags {\nString[] value();\n}\n\n\n    public class ExcludeTagsCondition implements ExecutionCondition {\n\n    private static final ConditionEvaluationResult ENABLED_IF_EXCLUDE_TAG_IS_INVALID =\n            ConditionEvaluationResult.enabled(\n                    &quot;@ExcludeTags does not have a valid tag to exclude, all tests will be run&quot;);\n    private static Set&lt;String&gt; tagsThatMustBeIncluded = new HashSet&lt;&gt;();\n\n    public static void setMustIncludeTags(final Set&lt;String&gt; tagsThatMustBeIncluded) {\n        ExcludeTagsCondition.tagsThatMustBeIncluded = new HashSet&lt;&gt;(tagsThatMustBeIncluded);\n    }\n\n    @Override\n    public ConditionEvaluationResult evaluateExecutionCondition(\n            ExtensionContext context) {\n        final AnnotatedElement element = context\n                .getElement()\n                .orElseThrow(IllegalStateException::new);\n        final Optional&lt;Set&lt;String&gt;&gt; tagsToExclude = AnnotationUtils.findAnnotation(\n                        context.getRequiredTestClass(),\n                        ExcludeTags.class\n                )\n                .map(a -&gt;\n                        Arrays.stream(a.value())\n                                .filter(t -&gt; !tagsThatMustBeIncluded.contains(t))\n                                .collect(Collectors.toSet())\n                );\n        if (tagsToExclude.isEmpty() || tagsToExclude.get().stream()\n                .allMatch(s -&gt; (s == null) || s.trim().isEmpty())) {\n            return ENABLED_IF_EXCLUDE_TAG_IS_INVALID;\n        }\n        final Optional&lt;String&gt; tag = AnnotationUtils.findAnnotation(element, Tag.class)\n                .map(Tag::value);\n        if (tagsToExclude.get().contains(tag.map(String::trim).orElse(&quot;&quot;))) {\n            return ConditionEvaluationResult\n                    .disabled(String.format(\n                            &quot;test method \\&quot;%s\\&quot; has tag \\&quot;%s\\&quot; which is on the @ExcludeTags list \\&quot;[%s]\\&quot;, test will be skipped&quot;,\n                            (element instanceof Method) ? ((Method) element).getName()\n                                    : element.getClass().getSimpleName(),\n                            tag.get(),\n                            String.join(&quot;,&quot;, tagsToExclude.get())\n                    ));\n        }\n        return ConditionEvaluationResult.enabled(\n                String.format(\n                        &quot;test method \\&quot;%s\\&quot; has tag \\&quot;%s\\&quot; which is not on the @ExcludeTags list \\&quot;[%s]\\&quot;, test will be run&quot;,\n                        (element instanceof Method) ? ((Method) element).getName()\n                                : element.getClass().getSimpleName(),\n                        tag.orElse(&quot;&lt;no tag present&gt;&quot;),\n                        String.join(&quot;,&quot;, tagsToExclude.get())\n                ));\n     }\n   }\n</code></pre>\n"},{"tags":["java","jpa","serialization","serializable","externalizable"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689981581,"post_id":76741637,"comment_id":135294339,"body_markdown":"I think youll need to use two different classes. Java Serialization is not a great choice for storing objects to a database. This is one example of why.","body":"I think youll need to use two different classes. Java Serialization is not a great choice for storing objects to a database. This is one example of why."},{"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"score":0,"creation_date":1689981682,"post_id":76741637,"comment_id":135294344,"body_markdown":"@TimMoore Unfortunately I did not follow my due diligence and do some more research into the shortcomings of Java Serialization when I was originally implementing this system.  Would that be the only way?\n\nEven using two different classes, how would I perform the swap?","body":"@TimMoore Unfortunately I did not follow my due diligence and do some more research into the shortcomings of Java Serialization when I was originally implementing this system.  Would that be the only way?  Even using two different classes, how would I perform the swap?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1689981876,"post_id":76741637,"comment_id":135294359,"body_markdown":"I would recommend migrating away from Java Serialization entirely, rather than changing Serializable to Externalizable. Please see https://stackoverflow.com/a/818093/29470","body":"I would recommend migrating away from Java Serialization entirely, rather than changing Serializable to Externalizable. Please see <a href=\"https://stackoverflow.com/a/818093/29470\">stackoverflow.com/a/818093/29470</a>"},{"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"score":0,"creation_date":1689982011,"post_id":76741637,"comment_id":135294375,"body_markdown":"@TimMoore I have done some research this time and do believe that the Java Externalizable solution fits perfectly my needs. \n\nEven using two different classes as you suggested, how would I perform the swap?","body":"@TimMoore I have done some research this time and do believe that the Java Externalizable solution fits perfectly my needs.   Even using two different classes as you suggested, how would I perform the swap?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689984076,"post_id":76741637,"comment_id":135294509,"body_markdown":"I think its possible to implement your `readExternal` method in a way that can read previously serialized data, but if the format is different than the one produced by `writeExternal`, it will be up to you to write the logic to determine which format is in the stream and handle the differences.","body":"I think its possible to implement your <code>readExternal</code> method in a way that can read previously serialized data, but if the format is different than the one produced by <code>writeExternal</code>, it will be up to you to write the logic to determine which format is in the stream and handle the differences."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689984172,"post_id":76741637,"comment_id":135294518,"body_markdown":"If you want to use two different classes, you can leave the original Serializable class mostly alone to retain the automatic deserialization logic, but implement `readResolve` to return an instance of the new Externalizable class with data copied as needed.","body":"If you want to use two different classes, you can leave the original Serializable class mostly alone to retain the automatic deserialization logic, but implement <code>readResolve</code> to return an instance of the new Externalizable class with data copied as needed."}],"answers":[{"tags":[],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690401754,"creation_date":1689984693,"answer_id":76741849,"question_id":76741637,"body_markdown":"Seemed to have found a relatively simple fix without double classes.\r\n\r\nAttain the plugin JRebel (I got a trial). Upon Init store a list of all of the entries in your database. Update the classes to implement Externalizable (seeing as you already have the infrastructure in place). Wipe your database, and add back all of the elements in your prior list. (The HotReload will have updated them)","title":"Migrating Old Serialized Data to Externalizable Data","body":"<p>Seemed to have found a relatively simple fix without double classes.</p>\n<p>Attain the plugin JRebel (I got a trial). Upon Init store a list of all of the entries in your database. Update the classes to implement Externalizable (seeing as you already have the infrastructure in place). Wipe your database, and add back all of the elements in your prior list. (The HotReload will have updated them)</p>\n"}],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76741849,"answer_count":1,"score":1,"last_activity_date":1690401754,"creation_date":1689979921,"question_id":76741637,"body_markdown":"I am working with a Spring JPA database and am attempting to migrate old Serializable objects to Externalible ones (for future data restructures, etc).\r\n\r\nExample Structure\r\n\r\n``` \r\n- Entity\r\n\r\n(Encryption Convertor)\r\nSerializble Field\r\n```\r\n\r\nMy goal is to take this existing Serializble object and migrate it to an Externalizble version. Somehow working around `Serializable incompatible with Externalizable`\r\n\r\nThank you for all the help\r\n","title":"Migrating Old Serialized Data to Externalizable Data","body":"<p>I am working with a Spring JPA database and am attempting to migrate old Serializable objects to Externalible ones (for future data restructures, etc).</p>\n<p>Example Structure</p>\n<pre><code>- Entity\n\n(Encryption Convertor)\nSerializble Field\n</code></pre>\n<p>My goal is to take this existing Serializble object and migrate it to an Externalizble version. Somehow working around <code>Serializable incompatible with Externalizable</code></p>\n<p>Thank you for all the help</p>\n"},{"tags":["java","spring","spring-security","path"],"answers":[{"tags":[],"owner":{"account_id":28517278,"reputation":1,"user_id":21826473,"display_name":"p3tition"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690400605,"creation_date":1690400605,"answer_id":76774556,"question_id":76772797,"body_markdown":"ok, I solve it, searching similar problem [here solution][1]. Maybe someone needs it. Put a folder near &quot;java&quot; and &quot;resources&quot; folders and add this handler to config:\r\n\r\n    registry.addResourceHandler(&quot;/upload/**&quot;)\r\n                .addResourceLocations(&quot;file:///&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/upload/&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/39464942/spring-boot-load-image-after-upload","title":"How to display file outside root directory java spring project?","body":"<p>ok, I solve it, searching similar problem <a href=\"https://stackoverflow.com/questions/39464942/spring-boot-load-image-after-upload\">here solution</a>. Maybe someone needs it. Put a folder near &quot;java&quot; and &quot;resources&quot; folders and add this handler to config:</p>\n<pre><code>registry.addResourceHandler(&quot;/upload/**&quot;)\n            .addResourceLocations(&quot;file:///&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/upload/&quot;);\n</code></pre>\n"}],"owner":{"account_id":28517278,"reputation":1,"user_id":21826473,"display_name":"p3tition"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690400605,"creation_date":1690384737,"question_id":76772797,"body_markdown":"I have database where store path to images and some title,id,description. When I store pictures in path resources/static/img/pic.png that&#39;s work fine, but when I add new query to database with picture it&#39;s save in folder, but can&#39;t display, so I need to restart application for see them.\r\n\r\nI try create folder in folder with src(screenshot)[path](https://i.stack.imgur.com/pDBPs.png), also I add resource handler:\r\n```\r\n@Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/static/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                .setCacheControl(CacheControl.noStore());\r\n        registry.addResourceHandler(&quot;/uploads/**&quot;)\r\n                .addResourceLocations(&quot;file:anination07/uploads/&quot;)\r\n                .setCacheControl(CacheControl.noStore());\r\n    }\r\n```\r\nalso in security config this:\r\n\r\n```\r\n.requestMatchers(&quot;/img/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/storage/**&quot;,&quot;/users_pic/**&quot;,&quot;/posts_pic/**&quot;,&quot;/uploads/**&quot;).permitAll()\r\n```\r\nin html I get this, one located in static path displays, but in uploads no:\r\n[](https://i.stack.imgur.com/Ev5lh.png).\r\nWhen I add a new entry to the database, the java code adds an image to the correct folder, but it cannot display it","title":"How to display file outside root directory java spring project?","body":"<p>I have database where store path to images and some title,id,description. When I store pictures in path resources/static/img/pic.png that's work fine, but when I add new query to database with picture it's save in folder, but can't display, so I need to restart application for see them.</p>\n<p>I try create folder in folder with src(screenshot)<a href=\"https://i.stack.imgur.com/pDBPs.png\" rel=\"nofollow noreferrer\">path</a>, also I add resource handler:</p>\n<pre><code>@Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/static/**&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;)\n                .setCacheControl(CacheControl.noStore());\n        registry.addResourceHandler(&quot;/uploads/**&quot;)\n                .addResourceLocations(&quot;file:anination07/uploads/&quot;)\n                .setCacheControl(CacheControl.noStore());\n    }\n</code></pre>\n<p>also in security config this:</p>\n<pre><code>.requestMatchers(&quot;/img/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/storage/**&quot;,&quot;/users_pic/**&quot;,&quot;/posts_pic/**&quot;,&quot;/uploads/**&quot;).permitAll()\n</code></pre>\n<p>in html I get this, one located in static path displays, but in uploads no:\n<a href=\"https://i.stack.imgur.com/Ev5lh.png\" rel=\"nofollow noreferrer\"></a>.\nWhen I add a new entry to the database, the java code adds an image to the correct folder, but it cannot display it</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1690386298,"post_id":76772467,"comment_id":135347051,"body_markdown":"You should probably change your credentials now that you have shared them here.","body":"You should probably change your credentials now that you have shared them here."},{"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"score":0,"creation_date":1690440132,"post_id":76772467,"comment_id":135354658,"body_markdown":"Thanks but to start with, these are not my actual credentials.","body":"Thanks but to start with, these are not my actual credentials."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690400424,"creation_date":1690385928,"answer_id":76772954,"question_id":76772467,"body_markdown":"Please learn how to use SO markdown to format code (see my edits).\r\n\r\nYou need `spring:` as the first element.\r\n\r\n`bootstrap-servers` should NOT be under `properties`, just under `spring.kafka`.\r\n\r\n`properties` is for kafka properties that are not exposed directly by Boot.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties\r\n\r\nOtherwise, Spring Boot will default to `127.0.0.1:9092`","title":"why is springboot not picking up apache kafka bootstrap-servers in application.yml?","body":"<p>Please learn how to use SO markdown to format code (see my edits).</p>\n<p>You need <code>spring:</code> as the first element.</p>\n<p><code>bootstrap-servers</code> should NOT be under <code>properties</code>, just under <code>spring.kafka</code>.</p>\n<p><code>properties</code> is for kafka properties that are not exposed directly by Boot.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka.additional-properties</a></p>\n<p>Otherwise, Spring Boot will default to <code>127.0.0.1:9092</code></p>\n"}],"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772954,"answer_count":1,"score":0,"last_activity_date":1690400424,"creation_date":1690382530,"question_id":76772467,"body_markdown":"My Springboot application does not seem to pick up the credentials provided in the application.yml for confluent kafka credentials. It is able to pick for other credentials like email apart from Kafka confluent which makes me realise that the issue is coming from my configuration. I pasted what was made available to me on their platform.\r\n\r\nI have tried to comment out the credentials, I noticed the application gives the same issues. Here is my configuration.\r\n```yaml\r\n  kafka:\r\n    properties:\r\n      sasl:\r\n        mechanism: PLAIN\r\n        jaas:\r\n          enabled: true\r\n          config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&#39;&lt;redacted&gt;&#39; password=&#39;&lt;redacted&gt;&#39;;\r\n      bootstrap-servers: pkc-12p03.xxxxxx.azure.confluent.cloud:9092\r\n      security:\r\n        protocol: SASL_SSL\r\n      session:\r\n        timeout:\r\n          ms: 5000\r\n      basic:\r\n        auth:\r\n          credentials:\r\n            source: USER_INFO\r\n          user:\r\n            info: &lt;redacted&gt;:&lt;redacted&gt;\r\n      schema:\r\n        registry:\r\n          url: https://pkc-12p03.xxxx.azure.confluent.cloud:443\r\n```\r\n\r\nThis is what I get in response when I try to hit the endpoint\r\n\r\n```\r\n2023-07-26 15:43:10 [,] - INFO [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-07-26 15:43:10 [,] - WARN [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-07-26 15:43:10 [,] - WARN [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-07-26 15:43:11 [,] - INFO [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-07-26 15:43:11 [,] - WARN [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-07-26 15:43:11 [,] - WARN [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-07-26 15:43:12 [,] - INFO [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-07-26 15:43:12 [,] - WARN [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-07-26 15:43:12 [,] - WARN [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n```\r\n\r\nIt times out. This is how I am using Kafka. It is a simple usage. \r\n\r\n```java\r\npublic class MailServiceImpl implements MailService {\r\n\r\n    private final JavaMailSender javaMailSender;\r\n    private final MailConfiguration mailConfiguration;\r\n    private final KafkaTemplate&lt;String, MailRequestDto&gt; kafkaTemplate;\r\n    private final String topicName = &quot;email_topic&quot;;\r\n\r\n    @Override\r\n    public BaseResponse&lt;?&gt; sendMail( MailRequestDto emailRequestDto) {\r\n        MimeMessage message = javaMailSender.createMimeMessage();\r\n        MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(message);\r\n\r\n       try {\r\n           mimeMessageHelper.setFrom(mailConfiguration.getMailUsername());\r\n           mimeMessageHelper.setTo(emailRequestDto.getRecipient());\r\n           mimeMessageHelper.setSubject(emailRequestDto.getSubject());\r\n           mimeMessageHelper.setText(emailRequestDto.getText());\r\n           javaMailSender.send(message);\r\n\r\n           kafkaTemplate.send(topicName, emailRequestDto);\r\n\r\n           Map&lt;String, Object&gt; responseData = buildResponseData(emailRequestDto);\r\n           return buildSuccessResponse(responseData);\r\n       } catch (MessagingException e) {\r\n           return buildErrorResponse(e.getLocalizedMessage());\r\n       }\r\n    }\r\n\r\n}\r\n```\r\n\r\nDoing a telnet on my bootstrap-server, I get success message. What could be wrong please? I have the necessary dependencies in my pom.xml","title":"why is springboot not picking up apache kafka bootstrap-servers in application.yml?","body":"<p>My Springboot application does not seem to pick up the credentials provided in the application.yml for confluent kafka credentials. It is able to pick for other credentials like email apart from Kafka confluent which makes me realise that the issue is coming from my configuration. I pasted what was made available to me on their platform.</p>\n<p>I have tried to comment out the credentials, I noticed the application gives the same issues. Here is my configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  kafka:\n    properties:\n      sasl:\n        mechanism: PLAIN\n        jaas:\n          enabled: true\n          config: org.apache.kafka.common.security.plain.PlainLoginModule required username='&lt;redacted&gt;' password='&lt;redacted&gt;';\n      bootstrap-servers: pkc-12p03.xxxxxx.azure.confluent.cloud:9092\n      security:\n        protocol: SASL_SSL\n      session:\n        timeout:\n          ms: 5000\n      basic:\n        auth:\n          credentials:\n            source: USER_INFO\n          user:\n            info: &lt;redacted&gt;:&lt;redacted&gt;\n      schema:\n        registry:\n          url: https://pkc-12p03.xxxx.azure.confluent.cloud:443\n</code></pre>\n<p>This is what I get in response when I try to hit the endpoint</p>\n<pre><code>2023-07-26 15:43:10 [,] - INFO [Producer clientId=producer-1] Node -1 disconnected.\n2023-07-26 15:43:10 [,] - WARN [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-07-26 15:43:10 [,] - WARN [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-07-26 15:43:11 [,] - INFO [Producer clientId=producer-1] Node -1 disconnected.\n2023-07-26 15:43:11 [,] - WARN [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-07-26 15:43:11 [,] - WARN [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-07-26 15:43:12 [,] - INFO [Producer clientId=producer-1] Node -1 disconnected.\n2023-07-26 15:43:12 [,] - WARN [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-07-26 15:43:12 [,] - WARN [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n</code></pre>\n<p>It times out. This is how I am using Kafka. It is a simple usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MailServiceImpl implements MailService {\n\n    private final JavaMailSender javaMailSender;\n    private final MailConfiguration mailConfiguration;\n    private final KafkaTemplate&lt;String, MailRequestDto&gt; kafkaTemplate;\n    private final String topicName = &quot;email_topic&quot;;\n\n    @Override\n    public BaseResponse&lt;?&gt; sendMail( MailRequestDto emailRequestDto) {\n        MimeMessage message = javaMailSender.createMimeMessage();\n        MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(message);\n\n       try {\n           mimeMessageHelper.setFrom(mailConfiguration.getMailUsername());\n           mimeMessageHelper.setTo(emailRequestDto.getRecipient());\n           mimeMessageHelper.setSubject(emailRequestDto.getSubject());\n           mimeMessageHelper.setText(emailRequestDto.getText());\n           javaMailSender.send(message);\n\n           kafkaTemplate.send(topicName, emailRequestDto);\n\n           Map&lt;String, Object&gt; responseData = buildResponseData(emailRequestDto);\n           return buildSuccessResponse(responseData);\n       } catch (MessagingException e) {\n           return buildErrorResponse(e.getLocalizedMessage());\n       }\n    }\n\n}\n</code></pre>\n<p>Doing a telnet on my bootstrap-server, I get success message. What could be wrong please? I have the necessary dependencies in my pom.xml</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690391732,"post_id":76773600,"comment_id":135348344,"body_markdown":"`boat` has no `e`, it seems your problem is double-counting `been` (you shouldn&#39;t count the same character more than once per string)","body":"<code>boat</code> has no <code>e</code>, it seems your problem is double-counting <code>been</code> (you shouldn&#39;t count the same character more than once per string)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690392360,"post_id":76773600,"comment_id":135348502,"body_markdown":"Which can get a little tricky if each word has more than one of any given character.","body":"Which can get a little tricky if each word has more than one of any given character."}],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690394329,"creation_date":1690394329,"answer_id":76773942,"question_id":76773600,"body_markdown":"You can add a set to keep track of the characters present in the current index  you are processing to avoid double counting of a character from the current index.\r\n\r\nIn you first for loop create a set to track those characters.\r\n\r\n               for(int i = 0; i &lt; str.length; i++) {\r\n    \t            String temp = str[i];\r\n    \t            Set&lt;Character&gt; uniqueCharactersInIndex = new HashSet&lt;Character&gt;();\r\n    \t            for(int j =0; j &lt; temp.length(); j++) {\r\n    \t            \tif(!uniqueCharactersInIndex.contains(temp.charAt(j))) {\r\n    \t                  if(repeated_char.get(temp.charAt(j)) == null) {\r\n    \t                    repeated_char.put(temp.charAt(j), 1); \r\n    \t                  } else {\r\n    \t                    repeated_char.put(temp.charAt(j), repeated_char.get(temp.charAt(j))+1);\r\n    \t                  }\r\n    \t            \t  uniqueCharactersInIndex.add(temp.charAt(j));\r\n    \t            \t}\r\n    \t            }\r\n    \t        }\r\n\r\nNote: If the character was already processed for that index you are not doing anything but moving to the next character.","title":"How to find character in a String array that exist in all Indexes","body":"<p>You can add a set to keep track of the characters present in the current index  you are processing to avoid double counting of a character from the current index.</p>\n<p>In you first for loop create a set to track those characters.</p>\n<pre><code>           for(int i = 0; i &lt; str.length; i++) {\n                String temp = str[i];\n                Set&lt;Character&gt; uniqueCharactersInIndex = new HashSet&lt;Character&gt;();\n                for(int j =0; j &lt; temp.length(); j++) {\n                    if(!uniqueCharactersInIndex.contains(temp.charAt(j))) {\n                      if(repeated_char.get(temp.charAt(j)) == null) {\n                        repeated_char.put(temp.charAt(j), 1); \n                      } else {\n                        repeated_char.put(temp.charAt(j), repeated_char.get(temp.charAt(j))+1);\n                      }\n                      uniqueCharactersInIndex.add(temp.charAt(j));\n                    }\n                }\n            }\n</code></pre>\n<p>Note: If the character was already processed for that index you are not doing anything but moving to the next character.</p>\n"},{"tags":[],"owner":{"account_id":18786818,"reputation":28,"user_id":13700242,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690400115,"creation_date":1690400115,"answer_id":76774513,"question_id":76773600,"body_markdown":"With this exercise, you will need to run the first word only, because if none of the characters from the first word exist in other, then there is none.\r\nSomething like this quick draft:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class RepeatedChar {\r\n        public static void main(String[] args) {\r\n            String[] str = {&quot;been&quot;, &quot;bean&quot;, &quot;bread&quot;, &quot;boat&quot;};\r\n            Map&lt;Character, Integer&gt; result = new HashMap&lt;&gt;();\r\n            for (char character : str[0].toCharArray()) {\r\n                for (int i = 1; i &lt; str.length; i++) {\r\n                    if (!str[i].contains(String.valueOf(character))) {\r\n                        break;\r\n                    }\r\n                    if (str.length == i+1) {\r\n                        AtomicInteger counter = new AtomicInteger();\r\n                        List.of(str).forEach(word -&gt; List.of(word.split(&quot;&quot;)).forEach(x -&gt; {\r\n                            if (Objects.equals(x, String.valueOf(character))) {\r\n                                counter.getAndIncrement();\r\n                            }\r\n                        }));\r\n                        result.put(character, counter.get());\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"How to find character in a String array that exist in all Indexes","body":"<p>With this exercise, you will need to run the first word only, because if none of the characters from the first word exist in other, then there is none.\nSomething like this quick draft:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class RepeatedChar {\n    public static void main(String[] args) {\n        String[] str = {&quot;been&quot;, &quot;bean&quot;, &quot;bread&quot;, &quot;boat&quot;};\n        Map&lt;Character, Integer&gt; result = new HashMap&lt;&gt;();\n        for (char character : str[0].toCharArray()) {\n            for (int i = 1; i &lt; str.length; i++) {\n                if (!str[i].contains(String.valueOf(character))) {\n                    break;\n                }\n                if (str.length == i+1) {\n                    AtomicInteger counter = new AtomicInteger();\n                    List.of(str).forEach(word -&gt; List.of(word.split(&quot;&quot;)).forEach(x -&gt; {\n                        if (Objects.equals(x, String.valueOf(character))) {\n                            counter.getAndIncrement();\n                        }\n                    }));\n                    result.put(character, counter.get());\n                }\n            }\n        }\n        System.out.println(result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13991755,"reputation":11,"user_id":10105597,"display_name":"simon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690400115,"creation_date":1690391548,"question_id":76773600,"body_markdown":"I have String of arrays and trying to print out the characters that are common in all indexes along with their frequency. \r\n\r\n    input: String[] str = {&quot;been&quot;, &quot;bean&quot;, &quot;bread&quot;, &quot;boat&quot;};\r\n    output: &#39;b&#39;:4 \r\n      \r\n\r\nI tried it below code but the output \r\n\r\n\r\n\r\n\r\n\t\r\n```\r\npublic class RepeatedChar {\r\n\tpublic static Map&lt;Character, Integer&gt; repeatedChars(String[] str){\r\n        HashMap&lt;Character, Integer&gt; repeated_char = new HashMap&lt;Character, Integer&gt;();\r\n        HashMap&lt;Character, Integer&gt; output = new HashMap&lt;Character, Integer&gt;();\r\n        for(int i = 0; i &lt; str.length; i++) {\r\n            String temp = str[i];\r\n            for(int j =0; j &lt; temp.length(); j++) {\r\n                if(repeated_char.get(temp.charAt(j)) == null) {\r\n                    repeated_char.put(temp.charAt(j), 1); \r\n                } else {\r\n                    repeated_char.put(temp.charAt(j), repeated_char.get(temp.charAt(j))+1);\r\n                }\r\n            }\r\n            }\r\n       \r\n            for (Character i : repeated_char.keySet()) {\r\n            \t\r\n                if(repeated_char.get(i) &gt; 1) {\r\n                \tif(repeated_char.get(i)&gt;=str.length) {\r\n                \t\toutput.put(i, repeated_char.get(i));\r\n                \t\t\r\n                \t}\r\n                }\r\n            }\r\n                return output;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n     String[] input = {&quot;been&quot;, &quot;bean&quot;, &quot;bread&quot;, &quot;boat&quot;};\r\n    System.out.println(RepeatedChar.repeatedChars(input));\r\n}\r\n}\r\n```\r\n\r\noutput should be &#39;b&#39;:4 only but it is printing &#39;e&#39;:4 as well.\t","title":"How to find character in a String array that exist in all Indexes","body":"<p>I have String of arrays and trying to print out the characters that are common in all indexes along with their frequency.</p>\n<pre><code>input: String[] str = {&quot;been&quot;, &quot;bean&quot;, &quot;bread&quot;, &quot;boat&quot;};\noutput: 'b':4 \n  \n</code></pre>\n<p>I tried it below code but the output</p>\n<pre><code>public class RepeatedChar {\n    public static Map&lt;Character, Integer&gt; repeatedChars(String[] str){\n        HashMap&lt;Character, Integer&gt; repeated_char = new HashMap&lt;Character, Integer&gt;();\n        HashMap&lt;Character, Integer&gt; output = new HashMap&lt;Character, Integer&gt;();\n        for(int i = 0; i &lt; str.length; i++) {\n            String temp = str[i];\n            for(int j =0; j &lt; temp.length(); j++) {\n                if(repeated_char.get(temp.charAt(j)) == null) {\n                    repeated_char.put(temp.charAt(j), 1); \n                } else {\n                    repeated_char.put(temp.charAt(j), repeated_char.get(temp.charAt(j))+1);\n                }\n            }\n            }\n       \n            for (Character i : repeated_char.keySet()) {\n                \n                if(repeated_char.get(i) &gt; 1) {\n                    if(repeated_char.get(i)&gt;=str.length) {\n                        output.put(i, repeated_char.get(i));\n                        \n                    }\n                }\n            }\n                return output;\n    }\n    public static void main(String[] args) {\n     String[] input = {&quot;been&quot;, &quot;bean&quot;, &quot;bread&quot;, &quot;boat&quot;};\n    System.out.println(RepeatedChar.repeatedChars(input));\n}\n}\n</code></pre>\n<p>output should be 'b':4 only but it is printing 'e':4 as well.</p>\n"},{"tags":["java","spring","spring-boot","azure","azure-keyvault"],"comments":[{"owner":{"account_id":3086196,"reputation":10637,"user_id":4144042,"accept_rate":75,"display_name":"Thanh Nguyen Van"},"score":0,"creation_date":1690404288,"post_id":76774500,"comment_id":135350708,"body_markdown":"can you share `application.properties ` file","body":"can you share <code>application.properties </code> file"},{"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"score":0,"creation_date":1690422396,"post_id":76774500,"comment_id":135352924,"body_markdown":"I don&#39;t have application.properties I only have applications.yml that i have shared above @ThanhNguyenVan","body":"I don&#39;t have application.properties I only have applications.yml that i have shared above @ThanhNguyenVan"},{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1690457569,"post_id":76774500,"comment_id":135358153,"body_markdown":"@AravindR Can you provide your code once, will check it.","body":"@AravindR Can you provide your code once, will check it."},{"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"score":1,"creation_date":1690465899,"post_id":76774500,"comment_id":135360236,"body_markdown":"@DasariKamali based on the link I attached above for the keystone part there is no need for any specific code. It is just the configuration and the POM file. I can attach the POM here is that what you need? Can you take a look at the attached link?","body":"@DasariKamali based on the link I attached above for the keystone part there is no need for any specific code. It is just the configuration and the POM file. I can attach the POM here is that what you need? Can you take a look at the attached link?"},{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1690516143,"post_id":76774500,"comment_id":135367715,"body_markdown":"@AravindR Yes, provide your POM.xml file here.","body":"@AravindR Yes, provide your POM.xml file here."}],"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690399979,"creation_date":1690399979,"question_id":76774500,"body_markdown":"I am trying to use &#39;azure-spring-boot-starter-keyvault-certificates&#39; starter jar to load the keystore and trust store into my spring boot application based on this tutorial:\r\n\r\nhttps://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-key-vault-certificates\r\n\r\nThe steps I did are as below\r\n\r\n 1. Created a spring boot application with the dependencies suggested on the above page\r\n2. Created a new Vault, and uploaded a certificate\r\n3. Created an app, provided all permissions, and attached it to access policy\r\n\r\nHowever, when I start the application I get this error:\r\n\r\n    Caused by: org. spring framework.boot.web.server.WebServerException: Could not load key store &#39;null&#39;\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslKeyStore(SslConnectorCustomizer.java:154) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSsl(SslConnectorCustomizer.java:103) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.customize(SslConnectorCustomizer.java:61) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:366) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:343) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\t... 8 common frames omitted                                                                 \r\n    Caused by: java.lang.IllegalArgumentException: Resource location must not be null\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.29.jar:5.3.29]\r\n\tat org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:130) ~[spring-core-5.3.29.jar:5.3.29]\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslKeyStore(SslConnectorCustomizer.java:151) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\t... 15 common frames omitted\r\n\r\nNot sure what I am doing wrong in this case. here is my application.yml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n        exposure:\r\n          include: health,info,prometheus\r\n    spring:\r\n      application:\r\n        name: AzureKV\r\n    server:\r\n     port: 8443\r\n     ssl:\r\n      enabled: true\r\n      key-alias: certName\r\n      key-store-type: AzureKeyVault\r\n      trust-store-type: AzureKeyVault\r\n\r\n    azure:\r\n     keyvault:\r\n        enabled: true\r\n        uri: &lt;uri&gt;\r\n        client-id: &lt;client ID&gt;\r\n        client-key: &lt;Secret&gt;\r\n        tenant-id: &lt;tenant-ID&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny pointers will be helpful.\r\n\r\nThanks","title":"azure-spring-boot-starter-keyvault-certificates gives Null for keystore location","body":"<p>I am trying to use 'azure-spring-boot-starter-keyvault-certificates' starter jar to load the keystore and trust store into my spring boot application based on this tutorial:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-key-vault-certificates\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-key-vault-certificates</a></p>\n<p>The steps I did are as below</p>\n<ol>\n<li>Created a spring boot application with the dependencies suggested on the above page</li>\n<li>Created a new Vault, and uploaded a certificate</li>\n<li>Created an app, provided all permissions, and attached it to access policy</li>\n</ol>\n<p>However, when I start the application I get this error:</p>\n<pre><code>Caused by: org. spring framework.boot.web.server.WebServerException: Could not load key store 'null'\nat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslKeyStore(SslConnectorCustomizer.java:154) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSsl(SslConnectorCustomizer.java:103) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.customize(SslConnectorCustomizer.java:61) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:366) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:343) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]\n... 8 common frames omitted                                                                 \nCaused by: java.lang.IllegalArgumentException: Resource location must not be null\nat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.29.jar:5.3.29]\nat org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:130) ~[spring-core-5.3.29.jar:5.3.29]\nat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslKeyStore(SslConnectorCustomizer.java:151) ~[spring-boot-2.7.14.jar:2.7.14]\n... 15 common frames omitted\n</code></pre>\n<p>Not sure what I am doing wrong in this case. here is my application.yml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>management:\n  endpoints:\n    web:\n    exposure:\n      include: health,info,prometheus\nspring:\n  application:\n    name: AzureKV\nserver:\n port: 8443\n ssl:\n  enabled: true\n  key-alias: certName\n  key-store-type: AzureKeyVault\n  trust-store-type: AzureKeyVault\n\nazure:\n keyvault:\n    enabled: true\n    uri: &lt;uri&gt;\n    client-id: &lt;client ID&gt;\n    client-key: &lt;Secret&gt;\n    tenant-id: &lt;tenant-ID&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Any pointers will be helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690441703,"post_id":76774424,"comment_id":135354950,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690441826,"post_id":76774424,"comment_id":135354969,"body_markdown":"Besides that, I think that this [resource](https://medium.com/firebase-developers/how-to-map-an-array-of-objects-from-realtime-database-to-a-list-of-objects-53f27b33c8f3) might help.","body":"Besides that, I think that this <a href=\"https://medium.com/firebase-developers/how-to-map-an-array-of-objects-from-realtime-database-to-a-list-of-objects-53f27b33c8f3\" rel=\"nofollow noreferrer\">resource</a> might help."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690453600,"post_id":76774424,"comment_id":135357360,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29098127,"reputation":1,"user_id":22290589,"display_name":"yyon "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690399774,"creation_date":1690399367,"question_id":76774424,"body_markdown":"The isRoomLiked boolean value does not get updated in firebase when I tried to update it. The like button text cannot be changed to unliked when I liked it for some of the rooms. For the rooms that could be liked, they cannot be unliked. When I exit the liked page, the liked button should be showing &quot;Unlike&quot; as I have liked the room, but it jumps back to like.\r\n\r\n        private void readFavDB(FavListCallback callback){\r\n        userDocFav.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                if (documentSnapshot.exists()) {\r\n                    List&lt;Map&lt;String, Object&gt;&gt; favRoomListData = (List&lt;Map&lt;String, Object&gt;&gt;) documentSnapshot.get(&quot;favRoomList&quot;);\r\n                    ArrayList&lt;Room&gt; favRoomList = new ArrayList&lt;&gt;();\r\n\r\n                    // Loop through the list of Room objects and convert them to Room instances\r\n                    for (Map&lt;String, Object&gt; roomData : favRoomListData) {\r\n                        long roomIDLong = (long) roomData.get(&quot;roomID&quot;);\r\n                        int roomID = (int) roomIDLong;\r\n                        boolean isRoomLikedRead = (boolean) roomData.get(&quot;isRoomLiked&quot;);\r\n                        Room retrievedRoom = new Room(roomID, null, null, null, 0, null, 0, null, true, 0, isRoomLikedRead);\r\n                        favRoomList.add(retrievedRoom);\r\n                        Log.v(title, &quot;In the loop:&quot;+ favRoomList);\r\n                    }\r\n                    // Call the callback method with the favorite list\r\n                    callback.onFavListLoaded(favRoomList);\r\n                } else {\r\n                    //No doc\r\n                    Log.d(&quot;Firebase&quot;, &quot;Document not found.&quot;);\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.e(&quot;Firebase&quot;, &quot;Error fetching document: &quot; + e);\r\n            }\r\n        });\r\n        Log.v(title, &quot;After List&quot;+favRoomList);\r\n    }\r\n\r\n        public interface FavListCallback {\r\n        void onFavListLoaded(ArrayList&lt;Room&gt; favRoomList);\r\n    }\r\n\r\n     private void updateLikedStatusDB(int roomID, boolean updateLikedStatus){\r\n        String fieldToMatch = &quot;roomID&quot;;\r\n        //String roomIDString = Integer.toString(roomID);\r\n        // Create a query to find the document that matches the specified condition\r\n        Query query = db.collection(&quot;favRoomList&quot;)\r\n                .whereEqualTo(fieldToMatch, roomID);\r\n\r\n        // Execute the query and get the result\r\n        query.get().addOnCompleteListener(new OnCompleteListener&lt; QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        // Get the document ID of the matched document\r\n                        String documentId = document.getId();\r\n\r\n                        // Create a map with the field you want to update and its new value\r\n                        Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();\r\n                        updates.put(&quot;isRoomLiked&quot;, updateLikedStatus);\r\n\r\n                        // Update the field in the matched document\r\n                        db.collection(&quot;favRoomList&quot;).document(userDocID)\r\n                                .update(updates)\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void aVoid) {\r\n                                        // Update successful\r\n                                        Log.d(&quot;Firebase&quot;, &quot;Field updated successfully!&quot;);\r\n                                    }\r\n                                })\r\n                                .addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        // Update failed\r\n                                        Log.e(&quot;Firebase&quot;, &quot;Error updating field: &quot; + e);\r\n                                    }\r\n                                });\r\n                    }\r\n                } else {\r\n                    // Query failed\r\n                    Log.e(&quot;Firebase&quot;, &quot;Error getting documents: &quot; + task.getException());\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n            Button likedButton = (Button)findViewById(R.id.button5);\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n        // Get the serialized array string from SharedPreferences\r\n        String serializedArray = sharedPreferences.getString(&quot;favouriteList&quot;, &quot;&quot;);\r\n\r\n        // Convert the serialized string back to an ArrayList using the delimiter\r\n        String[] arrayElements = serializedArray.split(&quot;,&quot;);\r\n        ArrayList&lt;String&gt; storedFavList = new ArrayList&lt;&gt;(Arrays.asList(arrayElements));\r\n\r\n        likedButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                readFavDB(new FavListCallback() {\r\n                    @Override\r\n                    public void onFavListLoaded(ArrayList&lt;Room&gt; favRoomList) {\r\n                        boolean isRoomFound = false;\r\n                        List&lt;Room&gt; roomsToRemove = new ArrayList&lt;&gt;();\r\n\r\n                        for (Room room : favRoomList) {\r\n                            if (room.getRoomID() == roomReceived.getRoomID()) {\r\n                                isRoomFound = true;\r\n                                boolean isRoomLiked = room.isRoomLiked();\r\n                                Log.v(title, &quot;Is Room Liked when Retrieving:&quot; + isRoomLiked);\r\n                                isRoomLiked = !isRoomLiked;\r\n                                //updating the value of isRoomLiked to the opposite, this does not update the database\r\n                                room.setRoomLiked(isRoomLiked);\r\n                                //updating the boolean value in the firebase base\r\n                                updateLikedStatusDB(room.getRoomID(),isRoomLiked);\r\n                                Log.v(title, &quot;RoomID After Retrieving:&quot; + room.getRoomID());\r\n                                Log.v(title, &quot;Is Room Liked After setting it to opposite:&quot; + isRoomLiked);\r\n\r\n                                if (isRoomLiked) {\r\n                                    likedButton.setText(&quot;Unlike&quot;);\r\n                                } else {\r\n                                    likedButton.setText(&quot;Like&quot;);\r\n                                    roomsToRemove.add(room);\r\n                                    Log.v(title, &quot;These are the rooms to remove&quot;+roomsToRemove.add(room));\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        // If the roomReceived was not found in favRoomList, add or remove it accordingly.\r\n                        if (!isRoomFound) {\r\n                            if (roomReceived.isRoomLiked()) {\r\n                                likedButton.setText(&quot;Unlike&quot;);\r\n                                favRoomList.add(roomReceived);\r\n                            } else {\r\n                                likedButton.setText(&quot;Like&quot;);\r\n                                // If the room is not liked, remove it from the list (if it exists)\r\n                                favRoomList.removeIf(room -&gt; room.getRoomID() == roomReceived.getRoomID());\r\n                            }\r\n                        }\r\n\r\n                        // Remove the rooms that need to be removed\r\n                        favRoomList.removeAll(roomsToRemove);\r\n\r\n                        // Update the database after all modifications are completed\r\n                        favouritetoDB(favRoomList);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nI am expecting a like and unlike toggle button based on the boolean of the room that I grab from Firebase. It is an array.","title":"How do I grab an array list from firebase and update the values in it? Why are my values not updated?","body":"<p>The isRoomLiked boolean value does not get updated in firebase when I tried to update it. The like button text cannot be changed to unliked when I liked it for some of the rooms. For the rooms that could be liked, they cannot be unliked. When I exit the liked page, the liked button should be showing &quot;Unlike&quot; as I have liked the room, but it jumps back to like.</p>\n<pre><code>    private void readFavDB(FavListCallback callback){\n    userDocFav.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onSuccess(DocumentSnapshot documentSnapshot) {\n            if (documentSnapshot.exists()) {\n                List&lt;Map&lt;String, Object&gt;&gt; favRoomListData = (List&lt;Map&lt;String, Object&gt;&gt;) documentSnapshot.get(&quot;favRoomList&quot;);\n                ArrayList&lt;Room&gt; favRoomList = new ArrayList&lt;&gt;();\n\n                // Loop through the list of Room objects and convert them to Room instances\n                for (Map&lt;String, Object&gt; roomData : favRoomListData) {\n                    long roomIDLong = (long) roomData.get(&quot;roomID&quot;);\n                    int roomID = (int) roomIDLong;\n                    boolean isRoomLikedRead = (boolean) roomData.get(&quot;isRoomLiked&quot;);\n                    Room retrievedRoom = new Room(roomID, null, null, null, 0, null, 0, null, true, 0, isRoomLikedRead);\n                    favRoomList.add(retrievedRoom);\n                    Log.v(title, &quot;In the loop:&quot;+ favRoomList);\n                }\n                // Call the callback method with the favorite list\n                callback.onFavListLoaded(favRoomList);\n            } else {\n                //No doc\n                Log.d(&quot;Firebase&quot;, &quot;Document not found.&quot;);\n            }\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Log.e(&quot;Firebase&quot;, &quot;Error fetching document: &quot; + e);\n        }\n    });\n    Log.v(title, &quot;After List&quot;+favRoomList);\n}\n\n    public interface FavListCallback {\n    void onFavListLoaded(ArrayList&lt;Room&gt; favRoomList);\n}\n\n private void updateLikedStatusDB(int roomID, boolean updateLikedStatus){\n    String fieldToMatch = &quot;roomID&quot;;\n    //String roomIDString = Integer.toString(roomID);\n    // Create a query to find the document that matches the specified condition\n    Query query = db.collection(&quot;favRoomList&quot;)\n            .whereEqualTo(fieldToMatch, roomID);\n\n    // Execute the query and get the result\n    query.get().addOnCompleteListener(new OnCompleteListener&lt; QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    // Get the document ID of the matched document\n                    String documentId = document.getId();\n\n                    // Create a map with the field you want to update and its new value\n                    Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();\n                    updates.put(&quot;isRoomLiked&quot;, updateLikedStatus);\n\n                    // Update the field in the matched document\n                    db.collection(&quot;favRoomList&quot;).document(userDocID)\n                            .update(updates)\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void aVoid) {\n                                    // Update successful\n                                    Log.d(&quot;Firebase&quot;, &quot;Field updated successfully!&quot;);\n                                }\n                            })\n                            .addOnFailureListener(new OnFailureListener() {\n                                @Override\n                                public void onFailure(@NonNull Exception e) {\n                                    // Update failed\n                                    Log.e(&quot;Firebase&quot;, &quot;Error updating field: &quot; + e);\n                                }\n                            });\n                }\n            } else {\n                // Query failed\n                Log.e(&quot;Firebase&quot;, &quot;Error getting documents: &quot; + task.getException());\n            }\n        }\n    });\n\n\n}\n        Button likedButton = (Button)findViewById(R.id.button5);\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n    // Get the serialized array string from SharedPreferences\n    String serializedArray = sharedPreferences.getString(&quot;favouriteList&quot;, &quot;&quot;);\n\n    // Convert the serialized string back to an ArrayList using the delimiter\n    String[] arrayElements = serializedArray.split(&quot;,&quot;);\n    ArrayList&lt;String&gt; storedFavList = new ArrayList&lt;&gt;(Arrays.asList(arrayElements));\n\n    likedButton.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            readFavDB(new FavListCallback() {\n                @Override\n                public void onFavListLoaded(ArrayList&lt;Room&gt; favRoomList) {\n                    boolean isRoomFound = false;\n                    List&lt;Room&gt; roomsToRemove = new ArrayList&lt;&gt;();\n\n                    for (Room room : favRoomList) {\n                        if (room.getRoomID() == roomReceived.getRoomID()) {\n                            isRoomFound = true;\n                            boolean isRoomLiked = room.isRoomLiked();\n                            Log.v(title, &quot;Is Room Liked when Retrieving:&quot; + isRoomLiked);\n                            isRoomLiked = !isRoomLiked;\n                            //updating the value of isRoomLiked to the opposite, this does not update the database\n                            room.setRoomLiked(isRoomLiked);\n                            //updating the boolean value in the firebase base\n                            updateLikedStatusDB(room.getRoomID(),isRoomLiked);\n                            Log.v(title, &quot;RoomID After Retrieving:&quot; + room.getRoomID());\n                            Log.v(title, &quot;Is Room Liked After setting it to opposite:&quot; + isRoomLiked);\n\n                            if (isRoomLiked) {\n                                likedButton.setText(&quot;Unlike&quot;);\n                            } else {\n                                likedButton.setText(&quot;Like&quot;);\n                                roomsToRemove.add(room);\n                                Log.v(title, &quot;These are the rooms to remove&quot;+roomsToRemove.add(room));\n                            }\n                            break;\n                        }\n                    }\n\n                    // If the roomReceived was not found in favRoomList, add or remove it accordingly.\n                    if (!isRoomFound) {\n                        if (roomReceived.isRoomLiked()) {\n                            likedButton.setText(&quot;Unlike&quot;);\n                            favRoomList.add(roomReceived);\n                        } else {\n                            likedButton.setText(&quot;Like&quot;);\n                            // If the room is not liked, remove it from the list (if it exists)\n                            favRoomList.removeIf(room -&gt; room.getRoomID() == roomReceived.getRoomID());\n                        }\n                    }\n\n                    // Remove the rooms that need to be removed\n                    favRoomList.removeAll(roomsToRemove);\n\n                    // Update the database after all modifications are completed\n                    favouritetoDB(favRoomList);\n                }\n            });\n        }\n    });\n}\n</code></pre>\n<p>I am expecting a like and unlike toggle button based on the boolean of the room that I grab from Firebase. It is an array.</p>\n"},{"tags":["java","c#","rsa","signature"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690386534,"post_id":76772850,"comment_id":135347116,"body_markdown":"`Signature.getInstance(&quot;NONEwithRSA&quot;)` &lt;&gt; SHA256..., that would be `&quot;SHA256withRSA&quot;`","body":"<code>Signature.getInstance(&quot;NONEwithRSA&quot;)</code> &lt;&gt; SHA256..., that would be <code>&quot;SHA256withRSA&quot;</code>"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1690402020,"post_id":76772850,"comment_id":135350341,"body_markdown":"@MarkRotteveel - In the Java code, although `NONEwithRSA` is used, the *DigestInfo* value (consisting of SHA256-ID || SHA256-hash) is passed, which is equivalent to signing the data (from which the SHA256-hash was generated) with SHA256withRSA.","body":"@MarkRotteveel - In the Java code, although <code>NONEwithRSA</code> is used, the <i>DigestInfo</i> value (consisting of SHA256-ID || SHA256-hash) is passed, which is equivalent to signing the data (from which the SHA256-hash was generated) with SHA256withRSA."},{"owner":{"account_id":25819156,"reputation":98,"user_id":19558604,"display_name":"bsanchezb"},"score":0,"creation_date":1690438686,"post_id":76772850,"comment_id":135354428,"body_markdown":"@MarkRotteveel, &quot;NONEwithRSA&quot; indicates that the hash value is computed in advance, thus the Signature instance will no apply hash function on the provided data, but will try to verify it directly. The same applies on signing.","body":"@MarkRotteveel, &quot;NONEwithRSA&quot; indicates that the hash value is computed in advance, thus the Signature instance will no apply hash function on the provided data, but will try to verify it directly. The same applies on signing."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690399403,"creation_date":1690394798,"answer_id":76773982,"question_id":76772850,"body_markdown":"The Java code uses PKCS#1 v1.5 padding. To find a fix for the C# code, at least a rough understanding of PKCS#1 v1.5 padding is required (for an exact specification see [RFC8017][1]): \r\n \r\nFor PKCS#1 v1.5 padding, the message M is first hashed: H, then the digest ID is prepended:  \r\nT = ID || H (more precisely, T is the DER encoding of the DigestInfo).  \r\nWhen padding, T is prefixed with 0x00 || 0x01 || PS || 0x00, where PS consists of so many 0xFF values that the signature size is equal to the RSA key size (i.e. the modulus).  \r\n\r\nSo the whole signature is: 0x00 || 0x01 || PS || 0x00 || T.\r\n\r\n--------------------\r\n\r\nIn the Java code, `hashBase64` corresponds to the Base64 encoding of T, where the ID corresponds to that of SHA256. To see this, the easiest way is to Base64 decode `hashBase64` and then hex encode the resulting data:  \r\n```none\r\n3031300d060960864801650304020105000420 6944f8baf4cbbea730e77134bbb59398389777dea16538318666f32a34379bc4\r\n```\r\nThis value, i.e. T, becomes most understandable when viewed in an Asn.1 parser, e.g. https://lapo.it/asn1js/.  \r\n\r\n`NONEwithRSA` defines that the data is *directly* interpreted as T (so neither the message is hashed nor an ID is prepended). \r\n \r\nIn this way, the signature 0x00 || 0x01 || PS || 0x00 || T is also generated, i.e. you get the same PKCS#1 v1.5 compliant signature as if you use the original data (from which the hash was generated) and the algorithm `SHA256withRSA`.\r\n\r\nSigning already hashed data is the actual purpose of `NONEwithRSA` (namely when the signing authority is only allowed to know the hash, but not the actual data). Unfortunately, `NONEwithRSA` is often misused, that is, for signing *unhashed* data.\r\n\r\n----------------\r\n\r\nIn the C# code the same can be achieved with `VerifyHash()`. However, not T must be passed, but only the hash. The digest ID is added *implicitly* by `VerifyHash()`, which is the reason that the digest must be specified.\r\n\r\nThe bug in the current C# code is that T (i.e. `hashBytes`) and not H is passed, so replace `hashBytes` with `hashBytes[^32..]` and verification is successful.\r\n\r\n-----------\r\n\r\nSample code Java:\r\n\r\n```java\r\n// Import public key\r\nbyte[] spkiDer = Base64.getDecoder().decode(&quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAvgyRQ3SRGFFf/5pBql59itVdsb2aX9vmwNiN9isrnQotQw8zDgoHb50qNlorjU1K4QmRYtvKRu0RTqBbwk1UwSodcdLT3CdQ2zzD29GJdDg422qQHlJ9thIs6kAHhNqsRQsjzdyZA+VpkihncBTjGMjtETVdl/wAoIiiZHhTlwq6djTYMNc6Qo2oxpeXVNo1yBsoEh1atwNW682zhq8my3JY4vTV/KqAWlz1/k1QDaMkT+QJNohhjyEvU8p6xhNbj3LawBV3RikwNSAIs00osWXycSS8/y7pFZUxL0uJonfXIFFCx5rthdi7GxXBS8/D849oMSYdUvgmKZ2tyrcNyrtlDX13xhrH6l8l1U3FA5eAIc7i/Df4iSeLQsDb3yUv1PoX4G/3caPiWQ496dk5sYO5vs0IMhgBJ6xizVBHhjSxBDNtAJgAIq4UrgIY9SCu9AFi0hNbxpna1Y3+CBGH5jWylEkkQBDlW3D8rY6Jztqtzj1cbaRziqPcVbyi+NZDVgx0g8ER8qWi7g2oQvOb5m5mOVCPxQwjNFZqNNVOgHQ7OBzmJgZqzgvL0LPqbtpqN7wgWcb2DKcjEePwerpQiLEo3qIyAjqhltCCEXDJFhkSc/ChGL5M1pXUpsP/aQ0y3OZdXns+HegW7ifL6LVdlFCciuQO+xK3bhW3ZZIbYkcCAwEAAQ==&quot;);\r\nKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\nX509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(spkiDer);\r\nRSAPublicKey pubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\r\n\r\n// Verify\r\nbyte[] hashBytes = Base64.getDecoder().decode(&quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;);\r\nbyte[] signature = Base64.getDecoder().decode(&quot;N3Zc/d8UzODZvlndRhlc6b4uDX2Z6a5okA9al51W2B9hAKjxLygyoZmNkALn/BNyEAWhFQAiC6mFkF0/KmAVF0ci7ZVFlfLkiDSqo4QS67KPHUeDk15aARk/sB5B4yAyG9p4OvhX4gZ+IZNWFb7sqzJ/bdZ39bxxeLGKsChVlsaY4VvROWZRclI2Hox/80znMYfFBU6bQysp34F3+WQo8BE0gXnmwe99y9beyWK099mnjtDf79ZeQ0n34SyYAjf5Hh7xh13VaQ7pXaMkf1gKCXoClbLyKkn/HUgvBZliUhPGI1QTrLGuJSjvPHUA4RNu/jx7XNfp2Sav4yCikL1waOkl3notZBMZyH908wTRAvCvNO7Al453Af22otK5ybgU6HuVqmS6epQXXutUVpCWZKTYrcU+kmQmBqOjAaSRmbzoJw0h8uWJ9mpjdpxpr9U6Y5ri4A8DKt/TyFySA7tRNiuAh8iH737qmsDrpdvbKk661l9ftXWrDqiyVagqfe1/taNFrattQ9wFY4z2bdEHDKZvyLp15/hWZjeH2NvgC0mvuAq+KPgOlXqjgwfq7xS/8OUhYZhkRDvWKR2g3NidXG75RVUHggMIfu0blO/doE0u6cLqYaMprbw4fe+JtUKTkxyWa2Q9tbaPKMc6FepYOw1m2BKM0oDofrmZ5WDud5E=&quot;);\r\nSignature verifier = Signature.getInstance(&quot;NONEwithRSA&quot;);\r\nverifier.initVerify(pubKey);\r\nverifier.update(hashBytes); \t\t\t\t\t// pass T = ID|H\r\nboolean verified = verifier.verify(signature);\r\nSystem.out.println(verified);\t\t\t\t\t// true\r\n```\r\n\r\nSample code C#:\r\n```cs\r\n// Import public key\r\nbyte[] spkiDer = Convert.FromBase64String(&quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAvgyRQ3SRGFFf/5pBql59itVdsb2aX9vmwNiN9isrnQotQw8zDgoHb50qNlorjU1K4QmRYtvKRu0RTqBbwk1UwSodcdLT3CdQ2zzD29GJdDg422qQHlJ9thIs6kAHhNqsRQsjzdyZA+VpkihncBTjGMjtETVdl/wAoIiiZHhTlwq6djTYMNc6Qo2oxpeXVNo1yBsoEh1atwNW682zhq8my3JY4vTV/KqAWlz1/k1QDaMkT+QJNohhjyEvU8p6xhNbj3LawBV3RikwNSAIs00osWXycSS8/y7pFZUxL0uJonfXIFFCx5rthdi7GxXBS8/D849oMSYdUvgmKZ2tyrcNyrtlDX13xhrH6l8l1U3FA5eAIc7i/Df4iSeLQsDb3yUv1PoX4G/3caPiWQ496dk5sYO5vs0IMhgBJ6xizVBHhjSxBDNtAJgAIq4UrgIY9SCu9AFi0hNbxpna1Y3+CBGH5jWylEkkQBDlW3D8rY6Jztqtzj1cbaRziqPcVbyi+NZDVgx0g8ER8qWi7g2oQvOb5m5mOVCPxQwjNFZqNNVOgHQ7OBzmJgZqzgvL0LPqbtpqN7wgWcb2DKcjEePwerpQiLEo3qIyAjqhltCCEXDJFhkSc/ChGL5M1pXUpsP/aQ0y3OZdXns+HegW7ifL6LVdlFCciuQO+xK3bhW3ZZIbYkcCAwEAAQ==&quot;);\r\nRSA rsa = RSA.Create();\r\nrsa.ImportSubjectPublicKeyInfo(spkiDer, out _);\r\n\r\n// Verify\r\nbyte[] hashBytes = Convert.FromBase64String(&quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;);\r\nbyte[] signature = Convert.FromBase64String(&quot;N3Zc/d8UzODZvlndRhlc6b4uDX2Z6a5okA9al51W2B9hAKjxLygyoZmNkALn/BNyEAWhFQAiC6mFkF0/KmAVF0ci7ZVFlfLkiDSqo4QS67KPHUeDk15aARk/sB5B4yAyG9p4OvhX4gZ+IZNWFb7sqzJ/bdZ39bxxeLGKsChVlsaY4VvROWZRclI2Hox/80znMYfFBU6bQysp34F3+WQo8BE0gXnmwe99y9beyWK099mnjtDf79ZeQ0n34SyYAjf5Hh7xh13VaQ7pXaMkf1gKCXoClbLyKkn/HUgvBZliUhPGI1QTrLGuJSjvPHUA4RNu/jx7XNfp2Sav4yCikL1waOkl3notZBMZyH908wTRAvCvNO7Al453Af22otK5ybgU6HuVqmS6epQXXutUVpCWZKTYrcU+kmQmBqOjAaSRmbzoJw0h8uWJ9mpjdpxpr9U6Y5ri4A8DKt/TyFySA7tRNiuAh8iH737qmsDrpdvbKk661l9ftXWrDqiyVagqfe1/taNFrattQ9wFY4z2bdEHDKZvyLp15/hWZjeH2NvgC0mvuAq+KPgOlXqjgwfq7xS/8OUhYZhkRDvWKR2g3NidXG75RVUHggMIfu0blO/doE0u6cLqYaMprbw4fe+JtUKTkxyWa2Q9tbaPKMc6FepYOw1m2BKM0oDofrmZ5WDud5E=&quot;);\r\nbool verified = rsa.VerifyHash(\r\n    hashBytes[^32..],               // pass H\r\n    signature,\r\n    HashAlgorithmName.SHA256,       // digest is explicitly specified\r\n    RSASignaturePadding.Pkcs1);\r\nConsole.WriteLine(verified);        // True\r\n```\r\n[1]: https://datatracker.ietf.org/doc/html/rfc8017#section-9.2","title":"C#: Verify signature does not work, but works with Java","body":"<p>The Java code uses PKCS#1 v1.5 padding. To find a fix for the C# code, at least a rough understanding of PKCS#1 v1.5 padding is required (for an exact specification see <a href=\"https://datatracker.ietf.org/doc/html/rfc8017#section-9.2\" rel=\"nofollow noreferrer\">RFC8017</a>):</p>\n<p>For PKCS#1 v1.5 padding, the message M is first hashed: H, then the digest ID is prepended:<br />\nT = ID || H (more precisely, T is the DER encoding of the DigestInfo).<br />\nWhen padding, T is prefixed with 0x00 || 0x01 || PS || 0x00, where PS consists of so many 0xFF values that the signature size is equal to the RSA key size (i.e. the modulus).</p>\n<p>So the whole signature is: 0x00 || 0x01 || PS || 0x00 || T.</p>\n<hr />\n<p>In the Java code, <code>hashBase64</code> corresponds to the Base64 encoding of T, where the ID corresponds to that of SHA256. To see this, the easiest way is to Base64 decode <code>hashBase64</code> and then hex encode the resulting data:</p>\n<pre class=\"lang-none prettyprint-override\"><code>3031300d060960864801650304020105000420 6944f8baf4cbbea730e77134bbb59398389777dea16538318666f32a34379bc4\n</code></pre>\n<p>This value, i.e. T, becomes most understandable when viewed in an Asn.1 parser, e.g. <a href=\"https://lapo.it/asn1js/\" rel=\"nofollow noreferrer\">https://lapo.it/asn1js/</a>.</p>\n<p><code>NONEwithRSA</code> defines that the data is <em>directly</em> interpreted as T (so neither the message is hashed nor an ID is prepended).</p>\n<p>In this way, the signature 0x00 || 0x01 || PS || 0x00 || T is also generated, i.e. you get the same PKCS#1 v1.5 compliant signature as if you use the original data (from which the hash was generated) and the algorithm <code>SHA256withRSA</code>.</p>\n<p>Signing already hashed data is the actual purpose of <code>NONEwithRSA</code> (namely when the signing authority is only allowed to know the hash, but not the actual data). Unfortunately, <code>NONEwithRSA</code> is often misused, that is, for signing <em>unhashed</em> data.</p>\n<hr />\n<p>In the C# code the same can be achieved with <code>VerifyHash()</code>. However, not T must be passed, but only the hash. The digest ID is added <em>implicitly</em> by <code>VerifyHash()</code>, which is the reason that the digest must be specified.</p>\n<p>The bug in the current C# code is that T (i.e. <code>hashBytes</code>) and not H is passed, so replace <code>hashBytes</code> with <code>hashBytes[^32..]</code> and verification is successful.</p>\n<hr />\n<p>Sample code Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Import public key\nbyte[] spkiDer = Base64.getDecoder().decode(&quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAvgyRQ3SRGFFf/5pBql59itVdsb2aX9vmwNiN9isrnQotQw8zDgoHb50qNlorjU1K4QmRYtvKRu0RTqBbwk1UwSodcdLT3CdQ2zzD29GJdDg422qQHlJ9thIs6kAHhNqsRQsjzdyZA+VpkihncBTjGMjtETVdl/wAoIiiZHhTlwq6djTYMNc6Qo2oxpeXVNo1yBsoEh1atwNW682zhq8my3JY4vTV/KqAWlz1/k1QDaMkT+QJNohhjyEvU8p6xhNbj3LawBV3RikwNSAIs00osWXycSS8/y7pFZUxL0uJonfXIFFCx5rthdi7GxXBS8/D849oMSYdUvgmKZ2tyrcNyrtlDX13xhrH6l8l1U3FA5eAIc7i/Df4iSeLQsDb3yUv1PoX4G/3caPiWQ496dk5sYO5vs0IMhgBJ6xizVBHhjSxBDNtAJgAIq4UrgIY9SCu9AFi0hNbxpna1Y3+CBGH5jWylEkkQBDlW3D8rY6Jztqtzj1cbaRziqPcVbyi+NZDVgx0g8ER8qWi7g2oQvOb5m5mOVCPxQwjNFZqNNVOgHQ7OBzmJgZqzgvL0LPqbtpqN7wgWcb2DKcjEePwerpQiLEo3qIyAjqhltCCEXDJFhkSc/ChGL5M1pXUpsP/aQ0y3OZdXns+HegW7ifL6LVdlFCciuQO+xK3bhW3ZZIbYkcCAwEAAQ==&quot;);\nKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\nX509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(spkiDer);\nRSAPublicKey pubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\n\n// Verify\nbyte[] hashBytes = Base64.getDecoder().decode(&quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;);\nbyte[] signature = Base64.getDecoder().decode(&quot;N3Zc/d8UzODZvlndRhlc6b4uDX2Z6a5okA9al51W2B9hAKjxLygyoZmNkALn/BNyEAWhFQAiC6mFkF0/KmAVF0ci7ZVFlfLkiDSqo4QS67KPHUeDk15aARk/sB5B4yAyG9p4OvhX4gZ+IZNWFb7sqzJ/bdZ39bxxeLGKsChVlsaY4VvROWZRclI2Hox/80znMYfFBU6bQysp34F3+WQo8BE0gXnmwe99y9beyWK099mnjtDf79ZeQ0n34SyYAjf5Hh7xh13VaQ7pXaMkf1gKCXoClbLyKkn/HUgvBZliUhPGI1QTrLGuJSjvPHUA4RNu/jx7XNfp2Sav4yCikL1waOkl3notZBMZyH908wTRAvCvNO7Al453Af22otK5ybgU6HuVqmS6epQXXutUVpCWZKTYrcU+kmQmBqOjAaSRmbzoJw0h8uWJ9mpjdpxpr9U6Y5ri4A8DKt/TyFySA7tRNiuAh8iH737qmsDrpdvbKk661l9ftXWrDqiyVagqfe1/taNFrattQ9wFY4z2bdEHDKZvyLp15/hWZjeH2NvgC0mvuAq+KPgOlXqjgwfq7xS/8OUhYZhkRDvWKR2g3NidXG75RVUHggMIfu0blO/doE0u6cLqYaMprbw4fe+JtUKTkxyWa2Q9tbaPKMc6FepYOw1m2BKM0oDofrmZ5WDud5E=&quot;);\nSignature verifier = Signature.getInstance(&quot;NONEwithRSA&quot;);\nverifier.initVerify(pubKey);\nverifier.update(hashBytes);                     // pass T = ID|H\nboolean verified = verifier.verify(signature);\nSystem.out.println(verified);                   // true\n</code></pre>\n<p>Sample code C#:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>// Import public key\nbyte[] spkiDer = Convert.FromBase64String(&quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAvgyRQ3SRGFFf/5pBql59itVdsb2aX9vmwNiN9isrnQotQw8zDgoHb50qNlorjU1K4QmRYtvKRu0RTqBbwk1UwSodcdLT3CdQ2zzD29GJdDg422qQHlJ9thIs6kAHhNqsRQsjzdyZA+VpkihncBTjGMjtETVdl/wAoIiiZHhTlwq6djTYMNc6Qo2oxpeXVNo1yBsoEh1atwNW682zhq8my3JY4vTV/KqAWlz1/k1QDaMkT+QJNohhjyEvU8p6xhNbj3LawBV3RikwNSAIs00osWXycSS8/y7pFZUxL0uJonfXIFFCx5rthdi7GxXBS8/D849oMSYdUvgmKZ2tyrcNyrtlDX13xhrH6l8l1U3FA5eAIc7i/Df4iSeLQsDb3yUv1PoX4G/3caPiWQ496dk5sYO5vs0IMhgBJ6xizVBHhjSxBDNtAJgAIq4UrgIY9SCu9AFi0hNbxpna1Y3+CBGH5jWylEkkQBDlW3D8rY6Jztqtzj1cbaRziqPcVbyi+NZDVgx0g8ER8qWi7g2oQvOb5m5mOVCPxQwjNFZqNNVOgHQ7OBzmJgZqzgvL0LPqbtpqN7wgWcb2DKcjEePwerpQiLEo3qIyAjqhltCCEXDJFhkSc/ChGL5M1pXUpsP/aQ0y3OZdXns+HegW7ifL6LVdlFCciuQO+xK3bhW3ZZIbYkcCAwEAAQ==&quot;);\nRSA rsa = RSA.Create();\nrsa.ImportSubjectPublicKeyInfo(spkiDer, out _);\n\n// Verify\nbyte[] hashBytes = Convert.FromBase64String(&quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;);\nbyte[] signature = Convert.FromBase64String(&quot;N3Zc/d8UzODZvlndRhlc6b4uDX2Z6a5okA9al51W2B9hAKjxLygyoZmNkALn/BNyEAWhFQAiC6mFkF0/KmAVF0ci7ZVFlfLkiDSqo4QS67KPHUeDk15aARk/sB5B4yAyG9p4OvhX4gZ+IZNWFb7sqzJ/bdZ39bxxeLGKsChVlsaY4VvROWZRclI2Hox/80znMYfFBU6bQysp34F3+WQo8BE0gXnmwe99y9beyWK099mnjtDf79ZeQ0n34SyYAjf5Hh7xh13VaQ7pXaMkf1gKCXoClbLyKkn/HUgvBZliUhPGI1QTrLGuJSjvPHUA4RNu/jx7XNfp2Sav4yCikL1waOkl3notZBMZyH908wTRAvCvNO7Al453Af22otK5ybgU6HuVqmS6epQXXutUVpCWZKTYrcU+kmQmBqOjAaSRmbzoJw0h8uWJ9mpjdpxpr9U6Y5ri4A8DKt/TyFySA7tRNiuAh8iH737qmsDrpdvbKk661l9ftXWrDqiyVagqfe1/taNFrattQ9wFY4z2bdEHDKZvyLp15/hWZjeH2NvgC0mvuAq+KPgOlXqjgwfq7xS/8OUhYZhkRDvWKR2g3NidXG75RVUHggMIfu0blO/doE0u6cLqYaMprbw4fe+JtUKTkxyWa2Q9tbaPKMc6FepYOw1m2BKM0oDofrmZ5WDud5E=&quot;);\nbool verified = rsa.VerifyHash(\n    hashBytes[^32..],               // pass H\n    signature,\n    HashAlgorithmName.SHA256,       // digest is explicitly specified\n    RSASignaturePadding.Pkcs1);\nConsole.WriteLine(verified);        // True\n</code></pre>\n"}],"owner":{"account_id":25819156,"reputation":98,"user_id":19558604,"display_name":"bsanchezb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76773982,"answer_count":1,"score":1,"last_activity_date":1690399403,"creation_date":1690385145,"question_id":76772850,"body_markdown":"I have a problem verifying an RSA signature with C# by providing digest only. Here is my code in Java, which returns a &quot;true&quot; value, indicating that the signature is correct:\r\n\r\n```\r\n        String certificateBase64 = &quot;MIIC6jCCAdKgAwI...&quot;;\r\n        String signatureValueBase64 = &quot;d0rLeNX+sQCZ3io0ji6j0P2M4bpGYxA+WKS6KkP4GYDxm4qrfhnvrKUOqvDmXNT3kNhv8I6Se6T4TFqJmYPTTQ8O914nDNmqASlknii6EA4ALExVhXfuZ7BeVNZy33AacBF8K/GIYH9DyvtWz9lVFaIX4BV9176CHo2FdSYXfNnrpJWQBIlpEhnsVHThCAabF/AOM/G2vgr5yO2Etbz3VCyZJesBOEmqRl6VlndFXZBgR527zknrH5fnACYrDacVXnFFY1OYGhaRI7tZrOvgkELnXV55aYhShWjAVcrGxaTC6vCHx3Ou4bsbjSCs4PXNMaaPcHUKH99xXODHFnMOjA==&quot;;\r\n        String hashBase64 = &quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;;\r\n\r\n        Base64.Decoder decoder = Base64.getDecoder();\r\n\r\n        CertificateFactory x509Factory = CertificateFactory.getInstance(&quot;X509&quot;);\r\n        X509Certificate x509Cert;\r\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(decoder.decode(certificateBase64))) {\r\n            x509Cert = (X509Certificate) x509Factory.generateCertificate(bais);\r\n        }\r\n\r\n        Signature signature = Signature.getInstance(&quot;NONEwithRSA&quot;);\r\n        signature.initVerify(x509Cert.getPublicKey());\r\n        signature.update(decoder.decode(hashBase64));\r\n\r\n        boolean valid = signature.verify(decoder.decode(signatureValueBase64));\r\n        System.out.println(valid);\r\n```\r\n\r\nHowever, when I try to validate signature with C# providing the same input parameters, I always receive &quot;false&quot;. Here is my code:\r\n\r\n```\r\n    string certificateBase64 = &quot;MIIC6jCCAdKgAwI...&quot;;\r\n    string signatureValueBase64 = &quot;d0rLeNX+sQCZ3io0ji6j0P2M4bpGYxA+WKS6KkP4GYDxm4qrfhnvrKUOqvDmXNT3kNhv8I6Se6T4TFqJmYPTTQ8O914nDNmqASlknii6EA4ALExVhXfuZ7BeVNZy33AacBF8K/GIYH9DyvtWz9lVFaIX4BV9176CHo2FdSYXfNnrpJWQBIlpEhnsVHThCAabF/AOM/G2vgr5yO2Etbz3VCyZJesBOEmqRl6VlndFXZBgR527zknrH5fnACYrDacVXnFFY1OYGhaRI7tZrOvgkELnXV55aYhShWjAVcrGxaTC6vCHx3Ou4bsbjSCs4PXNMaaPcHUKH99xXODHFnMOjA==&quot;;\r\n    string hashBase64 = &quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;;\r\n\r\n    byte[] certificateBytes = Convert.FromBase64String(certificateBase64);\r\n    byte[] signatureValueBytes = Convert.FromBase64String(signatureValueBase64);\r\n    byte[] hashBytes = Convert.FromBase64String(hashBase64);\r\n\r\n    X509Certificate2 x509Cert = new X509Certificate2(certificateBytes);\r\n    RSA publicKey = (RSA)x509Cert.GetRSAPublicKey();\r\n\r\n    bool isValid = publicKey.VerifyHash(hashBytes, signatureValueBytes, HashAlgorithmName.SHA256, RSASignaturePadding.Pkcs1);\r\n        \r\n    Console.WriteLine(isValid);\r\n```\r\n\r\nDo you have any ideas?\r\n\r\nI tried to validate signature in C# using RSA, RSACryptoServiceProvider and RSAPKCS1Signatureformatter, but no luck with none of them.\r\nI&#39;m not experienced C# programmer, so I do not know all the possibilities.","title":"C#: Verify signature does not work, but works with Java","body":"<p>I have a problem verifying an RSA signature with C# by providing digest only. Here is my code in Java, which returns a &quot;true&quot; value, indicating that the signature is correct:</p>\n<pre><code>        String certificateBase64 = &quot;MIIC6jCCAdKgAwI...&quot;;\n        String signatureValueBase64 = &quot;d0rLeNX+sQCZ3io0ji6j0P2M4bpGYxA+WKS6KkP4GYDxm4qrfhnvrKUOqvDmXNT3kNhv8I6Se6T4TFqJmYPTTQ8O914nDNmqASlknii6EA4ALExVhXfuZ7BeVNZy33AacBF8K/GIYH9DyvtWz9lVFaIX4BV9176CHo2FdSYXfNnrpJWQBIlpEhnsVHThCAabF/AOM/G2vgr5yO2Etbz3VCyZJesBOEmqRl6VlndFXZBgR527zknrH5fnACYrDacVXnFFY1OYGhaRI7tZrOvgkELnXV55aYhShWjAVcrGxaTC6vCHx3Ou4bsbjSCs4PXNMaaPcHUKH99xXODHFnMOjA==&quot;;\n        String hashBase64 = &quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;;\n\n        Base64.Decoder decoder = Base64.getDecoder();\n\n        CertificateFactory x509Factory = CertificateFactory.getInstance(&quot;X509&quot;);\n        X509Certificate x509Cert;\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(decoder.decode(certificateBase64))) {\n            x509Cert = (X509Certificate) x509Factory.generateCertificate(bais);\n        }\n\n        Signature signature = Signature.getInstance(&quot;NONEwithRSA&quot;);\n        signature.initVerify(x509Cert.getPublicKey());\n        signature.update(decoder.decode(hashBase64));\n\n        boolean valid = signature.verify(decoder.decode(signatureValueBase64));\n        System.out.println(valid);\n</code></pre>\n<p>However, when I try to validate signature with C# providing the same input parameters, I always receive &quot;false&quot;. Here is my code:</p>\n<pre><code>    string certificateBase64 = &quot;MIIC6jCCAdKgAwI...&quot;;\n    string signatureValueBase64 = &quot;d0rLeNX+sQCZ3io0ji6j0P2M4bpGYxA+WKS6KkP4GYDxm4qrfhnvrKUOqvDmXNT3kNhv8I6Se6T4TFqJmYPTTQ8O914nDNmqASlknii6EA4ALExVhXfuZ7BeVNZy33AacBF8K/GIYH9DyvtWz9lVFaIX4BV9176CHo2FdSYXfNnrpJWQBIlpEhnsVHThCAabF/AOM/G2vgr5yO2Etbz3VCyZJesBOEmqRl6VlndFXZBgR527zknrH5fnACYrDacVXnFFY1OYGhaRI7tZrOvgkELnXV55aYhShWjAVcrGxaTC6vCHx3Ou4bsbjSCs4PXNMaaPcHUKH99xXODHFnMOjA==&quot;;\n    string hashBase64 = &quot;MDEwDQYJYIZIAWUDBAIBBQAEIGlE+Lr0y76nMOdxNLu1k5g4l3feoWU4MYZm8yo0N5vE&quot;;\n\n    byte[] certificateBytes = Convert.FromBase64String(certificateBase64);\n    byte[] signatureValueBytes = Convert.FromBase64String(signatureValueBase64);\n    byte[] hashBytes = Convert.FromBase64String(hashBase64);\n\n    X509Certificate2 x509Cert = new X509Certificate2(certificateBytes);\n    RSA publicKey = (RSA)x509Cert.GetRSAPublicKey();\n\n    bool isValid = publicKey.VerifyHash(hashBytes, signatureValueBytes, HashAlgorithmName.SHA256, RSASignaturePadding.Pkcs1);\n        \n    Console.WriteLine(isValid);\n</code></pre>\n<p>Do you have any ideas?</p>\n<p>I tried to validate signature in C# using RSA, RSACryptoServiceProvider and RSAPKCS1Signatureformatter, but no luck with none of them.\nI'm not experienced C# programmer, so I do not know all the possibilities.</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"owner":{"account_id":18188074,"reputation":1,"user_id":13234381,"display_name":"Pramod Madhusankha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690399126,"creation_date":1690399126,"question_id":76774399,"body_markdown":"I want to register a `ConditionalGenericConverter` and I want it to be used to convert POJOs to MongoDB Documents when the `ConditionalGenericConverter.matcher()` returns `true`; otherwise the default converter should be used.\r\n\r\nI have the model `Workflow` and it has a property `tags` of type `List&lt;Tag&gt;` where `Tag` is also a model. And wrote the class `TagsConditionalConverter` which implements the `ConditionalGenericConverter` interface. Finally I registered the `TagsConditionalConverter` in `MongoCustomConversions` in the `ConverterConfig` class. This works fine when the `/*matcher condition*/` is satisfied (i.e., `TagsConditionalConverter.match()` returns `true`) for a conversion. However, when the `/*matcher condition*/` is not satisfied (i.e., `TagsConditionalConverter.match()` returns `false`), it throws a `ConverterNotFoundException`.\r\n\r\nException: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.zs.model.Tag] to type [org.bson.Document]\r\n\r\n\r\n**Model**\r\n```\r\n@Document\r\npublic class Workflow {\r\n    @Id\r\n    private String id;\r\n    private List&lt;Tag&gt; tags;\r\n    \r\n    // getters and setters\r\n}\r\n```\r\n\r\n**Converter**\r\n```\r\npublic class TagsConditionalConverter implements ConditionalGenericConverter {\r\n    @Override\r\n    public boolean matches(TypeDescriptor sourceType, TypeDescriptor targetType) {\r\n        if (/*matcher condition*/) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;ConvertiblePair&gt; getConvertibleTypes() {\r\n        return Collections.singleton(\r\n            new ConvertiblePair(List.class, Document.class)\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public Object convert(Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {\r\n        Document document = new Document();\r\n        // conversion logic\r\n        return document;\r\n    }\r\n}\r\n```\r\n\r\n**Configuration**\r\n```\r\n@Configuration\r\npublic class ConverterConfig {\r\n    @Bean\r\n    public MongoCustomConversions mongoCustomConversions() {\r\n        return new MongoCustomConversions(Arrays.asList(\r\n            new TagsConditionalConverter()\r\n        ));\r\n    }\r\n}\r\n```\r\nCan anyone please suggest a way to register the `TagsConditionalConverter` such that `MappingMongoConverter` uses it for mapping when the `/*matcher condition*/` is satisfied and uses the default converter otherwise, or is there any other approach to achieve this objective.\r\n\r\nI tried the solution in https://stackoverflow.com/questions/24887914/custom-annotation-driven-formatting-spring-mvc and other solutions to similar questions, but `parse()` and `print()` methods are never called - the conversions are done using the default converter. Plus, I do not want a formatter; only want to add a converter for `List` (`List&lt;Tag&gt;`) to `Document`.\r\n\r\nThanks in advance","title":"How to register a ConditionalGenericConverter so that MappingMongoConverter uses the default converter when matcher() returns false","body":"<p>I want to register a <code>ConditionalGenericConverter</code> and I want it to be used to convert POJOs to MongoDB Documents when the <code>ConditionalGenericConverter.matcher()</code> returns <code>true</code>; otherwise the default converter should be used.</p>\n<p>I have the model <code>Workflow</code> and it has a property <code>tags</code> of type <code>List&lt;Tag&gt;</code> where <code>Tag</code> is also a model. And wrote the class <code>TagsConditionalConverter</code> which implements the <code>ConditionalGenericConverter</code> interface. Finally I registered the <code>TagsConditionalConverter</code> in <code>MongoCustomConversions</code> in the <code>ConverterConfig</code> class. This works fine when the <code>/*matcher condition*/</code> is satisfied (i.e., <code>TagsConditionalConverter.match()</code> returns <code>true</code>) for a conversion. However, when the <code>/*matcher condition*/</code> is not satisfied (i.e., <code>TagsConditionalConverter.match()</code> returns <code>false</code>), it throws a <code>ConverterNotFoundException</code>.</p>\n<p>Exception: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.zs.model.Tag] to type [org.bson.Document]</p>\n<p><strong>Model</strong></p>\n<pre><code>@Document\npublic class Workflow {\n    @Id\n    private String id;\n    private List&lt;Tag&gt; tags;\n    \n    // getters and setters\n}\n</code></pre>\n<p><strong>Converter</strong></p>\n<pre><code>public class TagsConditionalConverter implements ConditionalGenericConverter {\n    @Override\n    public boolean matches(TypeDescriptor sourceType, TypeDescriptor targetType) {\n        if (/*matcher condition*/) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public Set&lt;ConvertiblePair&gt; getConvertibleTypes() {\n        return Collections.singleton(\n            new ConvertiblePair(List.class, Document.class)\n        );\n    }\n\n    @Override\n    public Object convert(Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {\n        Document document = new Document();\n        // conversion logic\n        return document;\n    }\n}\n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre><code>@Configuration\npublic class ConverterConfig {\n    @Bean\n    public MongoCustomConversions mongoCustomConversions() {\n        return new MongoCustomConversions(Arrays.asList(\n            new TagsConditionalConverter()\n        ));\n    }\n}\n</code></pre>\n<p>Can anyone please suggest a way to register the <code>TagsConditionalConverter</code> such that <code>MappingMongoConverter</code> uses it for mapping when the <code>/*matcher condition*/</code> is satisfied and uses the default converter otherwise, or is there any other approach to achieve this objective.</p>\n<p>I tried the solution in <a href=\"https://stackoverflow.com/questions/24887914/custom-annotation-driven-formatting-spring-mvc\">Custom Annotation-driven Formatting Spring MVC</a> and other solutions to similar questions, but <code>parse()</code> and <code>print()</code> methods are never called - the conversions are done using the default converter. Plus, I do not want a formatter; only want to add a converter for <code>List</code> (<code>List&lt;Tag&gt;</code>) to <code>Document</code>.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","firebase","react-native","android-gradle-plugin"],"owner":{"account_id":18122728,"reputation":916,"user_id":13178529,"display_name":"Nilton Schumacher F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690398310,"creation_date":1690393199,"question_id":76773795,"body_markdown":"I&#39;m trying to generate a debug build on react native, although when working with native android. I can&#39;t create a debug apk. I keep getting the no matching client. I attempted to insert 2 google services, The one that has the `com.mypackagename.dev` (dev firebase) and the one with `com.mypackagename` (prod firebase)\r\n&lt;br&gt;\r\n```\r\n&gt; Task :app:processProductionDebugGoogleServices FAILED\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processProductionDebugGoogleServices&#39;.\r\n&gt; No matching client found for package name &#39;com.mypackagename&#39;\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n```\r\nthis `google-service` is responsible for the dev firebase (com.mypackagename.dev), the other `google-service` (which is not presentable at the moment) is responsible for (com.mypackagename) :\r\n```\r\n{\r\n  &quot;project_info&quot;: {\r\n    &quot;project_number&quot;: &quot;xxx&quot;,\r\n    &quot;project_id&quot;: &quot;xxx&quot;,\r\n    &quot;storage_bucket&quot;: xxx\r\n  },\r\n  &quot;client&quot;: [\r\n    {\r\n      &quot;client_info&quot;: {\r\n        &quot;mobilesdk_app_id&quot;: &quot;xxx&quot;,\r\n        &quot;android_client_info&quot;: {\r\n          &quot;package_name&quot;: &quot;com.mypackagename.dev&quot;\r\n        }\r\n      },\r\n```\r\nmy `app/build.gradlew`:\r\n```\r\napply plugin: &quot;com.android.application&quot;\r\napply plugin: &quot;com.facebook.react&quot;\r\napply plugin: &quot;com.google.gms.google-services&quot;\r\napply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;\r\n\r\nproject.ext.envConfigFiles = [\r\n    development: &quot;.env.development&quot;,\r\n    production : &quot;.env.production&quot;,\r\n]\r\n\r\napply from: project(&#39;:react-native-config&#39;).projectDir.getPath() + &quot;/dotenv.gradle&quot;\r\n\r\nimport com.android.build.OutputFile\r\n\r\n/**\r\n * This is the configuration block to customize your React Native Android app.\r\n * By default you don&#39;t need to apply any configuration, just uncomment the lines you need.\r\n */\r\nreact {\r\n    /* Folders */\r\n    //   The root of your project, i.e. where &quot;package.json&quot; lives. Default is &#39;..&#39;\r\n    // root = file(&quot;../&quot;)\r\n    //   The folder where the react-native NPM package is. Default is ../node_modules/react-native\r\n    // reactNativeDir = file(&quot;../node_modules/react-native&quot;)\r\n    //   The folder where the react-native Codegen package is. Default is ../node_modules/react-native-codegen\r\n    // codegenDir = file(&quot;../node_modules/react-native-codegen&quot;)\r\n    //   The cli.js file which is the React Native CLI entrypoint. Default is ../node_modules/react-native/cli.js\r\n    // cliFile = file(&quot;../node_modules/react-native/cli.js&quot;)\r\n\r\n    /* Variants */\r\n    //   The list of variants to that are debuggable. For those we&#39;re going to\r\n    //   skip the bundling of the JS bundle and the assets. By default is just &#39;debug&#39;.\r\n    //   If you add flavors like lite, prod, etc. you&#39;ll have to list your debuggableVariants.\r\n    // debuggableVariants = [&quot;liteDebug&quot;, &quot;prodDebug&quot;]\r\n\r\n    /* Bundling */\r\n    //   A list containing the node command and its flags. Default is just &#39;node&#39;.\r\n    // nodeExecutableAndArgs = [&quot;node&quot;]\r\n    //\r\n    //   The command to run when bundling. By default is &#39;bundle&#39;\r\n    // bundleCommand = &quot;ram-bundle&quot;\r\n    //\r\n    //   The path to the CLI configuration file. Default is empty.\r\n    // bundleConfig = file(../rn-cli.config.js)\r\n    //\r\n    //   The name of the generated asset file containing your JS bundle\r\n    // bundleAssetName = &quot;MyApplication.android.bundle&quot;\r\n    //\r\n    //   The entry file for bundle generation. Default is &#39;index.android.js&#39; or &#39;index.js&#39;\r\n    // entryFile = file(&quot;../js/MyApplication.android.js&quot;)\r\n    //\r\n    //   A list of extra flags to pass to the &#39;bundle&#39; commands.\r\n    //   See https://github.com/react-native-community/cli/blob/main/docs/commands.md#bundle\r\n    // extraPackagerArgs = []\r\n\r\n    /* Hermes Commands */\r\n    //   The hermes compiler command to run. By default it is &#39;hermesc&#39;\r\n    // hermesCommand = &quot;$rootDir/my-custom-hermesc/bin/hermesc&quot;\r\n    //\r\n    //   The list of flags to pass to the Hermes compiler. By default is &quot;-O&quot;, &quot;-output-source-map&quot;\r\n    // hermesFlags = [&quot;-O&quot;, &quot;-output-source-map&quot;]\r\n}\r\n\r\n/**\r\n * Set this to true to create four separate APKs instead of one,\r\n * one for each native architecture. This is useful if you don&#39;t\r\n * use App Bundles (https://developer.android.com/guide/app-bundle/)\r\n * and want to have separate APKs to upload to the Play Store.\r\n */\r\ndef enableSeparateBuildPerCPUArchitecture = false\r\n\r\n/**\r\n * Set this to true to Run Proguard on Release builds to minify the Java bytecode.\r\n */\r\ndef enableProguardInReleaseBuilds = false\r\n\r\n/**\r\n * The preferred build flavor of JavaScriptCore (JSC)\r\n *\r\n * For example, to use the international variant, you can use:\r\n * `def jscFlavor = &#39;org.webkit:android-jsc-intl:+&#39;`\r\n *\r\n * The international variant includes ICU i18n library and necessary data\r\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\r\n * give correct results when using with locales other than en-US. Note that\r\n * this variant is about 6MiB larger per architecture than default.\r\n */\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n\r\n/**\r\n * Private function to get the list of Native Architectures you want to build.\r\n * This reads the value from reactNativeArchitectures in your gradle.properties\r\n * file and works together with the --active-arch-only flag of react-native run-android.\r\n */\r\ndef reactNativeArchitectures() {\r\n    def value = project.getProperties().get(&quot;reactNativeArchitectures&quot;)\r\n    return value ? value.split(&quot;,&quot;) : [&quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;x86_64&quot;, &quot;arm64-v8a&quot;]\r\n}\r\n\r\nandroid {\r\n    ndkVersion rootProject.ext.ndkVersion\r\n\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    namespace &quot;com.mypackagename&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.mypackagename&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        multiDexEnabled true\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;        \r\n    }\r\n\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include (*reactNativeArchitectures())\r\n        }\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            debuggable true\r\n            signingConfig signingConfigs.debug            \r\n            matchingFallbacks = [&#39;debug&#39;, &#39;release&#39;]\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n\r\n    flavorDimensions &quot;environment&quot;\r\n\r\n    productFlavors {\r\n        production {\r\n            dimension &quot;environment&quot; \r\n            resValue &quot;string&quot;, &quot;build_config_package&quot;, &quot;com.mypackagename&quot;\r\n        }\r\n        development {            \r\n            dimension &quot;environment&quot;\r\n            applicationIdSuffix &quot;.dev&quot;              \r\n        }        \r\n    }\r\n\r\n    packagingOptions {\r\n        pickFirst &#39;**/*.so&#39;\r\n    }\r\n\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // https://developer.android.com/studio/build/configure-apk-splits.html\r\n            // Example: versionCode 1 will generate 1001 for armeabi-v7a, 1002 for x86, etc.\r\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        defaultConfig.versionCode * 1000 + versionCodes.get(abi)\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // The version of react-native is set by the React Native Gradle Plugin\r\n    implementation(&quot;com.facebook.react:react-android&quot;)\r\n\r\n    implementation(&quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;)\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;)\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;)\r\n    if (hermesEnabled.toBoolean()) {\r\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n}\r\n\r\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n```\r\nThe script I&#39;m running:\r\n```\r\n./gradlew assembleDebug\r\n```\r\nFile structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1qS1R.png","title":"No matching client found for package name &#39;com.mypackagename&#39; multiple flavors","body":"<p>I'm trying to generate a debug build on react native, although when working with native android. I can't create a debug apk. I keep getting the no matching client. I attempted to insert 2 google services, The one that has the <code>com.mypackagename.dev</code> (dev firebase) and the one with <code>com.mypackagename</code> (prod firebase)\n<br></p>\n<pre><code>&gt; Task :app:processProductionDebugGoogleServices FAILED\n\nFAILURE: Build completed with 2 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:processProductionDebugGoogleServices'.\n&gt; No matching client found for package name 'com.mypackagename'\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n</code></pre>\n<p>this <code>google-service</code> is responsible for the dev firebase (com.mypackagename.dev), the other <code>google-service</code> (which is not presentable at the moment) is responsible for (com.mypackagename) :</p>\n<pre><code>{\n  &quot;project_info&quot;: {\n    &quot;project_number&quot;: &quot;xxx&quot;,\n    &quot;project_id&quot;: &quot;xxx&quot;,\n    &quot;storage_bucket&quot;: xxx\n  },\n  &quot;client&quot;: [\n    {\n      &quot;client_info&quot;: {\n        &quot;mobilesdk_app_id&quot;: &quot;xxx&quot;,\n        &quot;android_client_info&quot;: {\n          &quot;package_name&quot;: &quot;com.mypackagename.dev&quot;\n        }\n      },\n</code></pre>\n<p>my <code>app/build.gradlew</code>:</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\napply plugin: &quot;com.facebook.react&quot;\napply plugin: &quot;com.google.gms.google-services&quot;\napply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;\n\nproject.ext.envConfigFiles = [\n    development: &quot;.env.development&quot;,\n    production : &quot;.env.production&quot;,\n]\n\napply from: project(':react-native-config').projectDir.getPath() + &quot;/dotenv.gradle&quot;\n\nimport com.android.build.OutputFile\n\n/**\n * This is the configuration block to customize your React Native Android app.\n * By default you don't need to apply any configuration, just uncomment the lines you need.\n */\nreact {\n    /* Folders */\n    //   The root of your project, i.e. where &quot;package.json&quot; lives. Default is '..'\n    // root = file(&quot;../&quot;)\n    //   The folder where the react-native NPM package is. Default is ../node_modules/react-native\n    // reactNativeDir = file(&quot;../node_modules/react-native&quot;)\n    //   The folder where the react-native Codegen package is. Default is ../node_modules/react-native-codegen\n    // codegenDir = file(&quot;../node_modules/react-native-codegen&quot;)\n    //   The cli.js file which is the React Native CLI entrypoint. Default is ../node_modules/react-native/cli.js\n    // cliFile = file(&quot;../node_modules/react-native/cli.js&quot;)\n\n    /* Variants */\n    //   The list of variants to that are debuggable. For those we're going to\n    //   skip the bundling of the JS bundle and the assets. By default is just 'debug'.\n    //   If you add flavors like lite, prod, etc. you'll have to list your debuggableVariants.\n    // debuggableVariants = [&quot;liteDebug&quot;, &quot;prodDebug&quot;]\n\n    /* Bundling */\n    //   A list containing the node command and its flags. Default is just 'node'.\n    // nodeExecutableAndArgs = [&quot;node&quot;]\n    //\n    //   The command to run when bundling. By default is 'bundle'\n    // bundleCommand = &quot;ram-bundle&quot;\n    //\n    //   The path to the CLI configuration file. Default is empty.\n    // bundleConfig = file(../rn-cli.config.js)\n    //\n    //   The name of the generated asset file containing your JS bundle\n    // bundleAssetName = &quot;MyApplication.android.bundle&quot;\n    //\n    //   The entry file for bundle generation. Default is 'index.android.js' or 'index.js'\n    // entryFile = file(&quot;../js/MyApplication.android.js&quot;)\n    //\n    //   A list of extra flags to pass to the 'bundle' commands.\n    //   See https://github.com/react-native-community/cli/blob/main/docs/commands.md#bundle\n    // extraPackagerArgs = []\n\n    /* Hermes Commands */\n    //   The hermes compiler command to run. By default it is 'hermesc'\n    // hermesCommand = &quot;$rootDir/my-custom-hermesc/bin/hermesc&quot;\n    //\n    //   The list of flags to pass to the Hermes compiler. By default is &quot;-O&quot;, &quot;-output-source-map&quot;\n    // hermesFlags = [&quot;-O&quot;, &quot;-output-source-map&quot;]\n}\n\n/**\n * Set this to true to create four separate APKs instead of one,\n * one for each native architecture. This is useful if you don't\n * use App Bundles (https://developer.android.com/guide/app-bundle/)\n * and want to have separate APKs to upload to the Play Store.\n */\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n * Set this to true to Run Proguard on Release builds to minify the Java bytecode.\n */\ndef enableProguardInReleaseBuilds = false\n\n/**\n * The preferred build flavor of JavaScriptCore (JSC)\n *\n * For example, to use the international variant, you can use:\n * `def jscFlavor = 'org.webkit:android-jsc-intl:+'`\n *\n * The international variant includes ICU i18n library and necessary data\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\n * give correct results when using with locales other than en-US. Note that\n * this variant is about 6MiB larger per architecture than default.\n */\ndef jscFlavor = 'org.webkit:android-jsc:+'\n\n/**\n * Private function to get the list of Native Architectures you want to build.\n * This reads the value from reactNativeArchitectures in your gradle.properties\n * file and works together with the --active-arch-only flag of react-native run-android.\n */\ndef reactNativeArchitectures() {\n    def value = project.getProperties().get(&quot;reactNativeArchitectures&quot;)\n    return value ? value.split(&quot;,&quot;) : [&quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;x86_64&quot;, &quot;arm64-v8a&quot;]\n}\n\nandroid {\n    ndkVersion rootProject.ext.ndkVersion\n\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    namespace &quot;com.mypackagename&quot;\n    defaultConfig {\n        applicationId &quot;com.mypackagename&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        multiDexEnabled true\n        versionCode 1\n        versionName &quot;1.0&quot;        \n    }\n\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include (*reactNativeArchitectures())\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            debuggable true\n            signingConfig signingConfigs.debug            \n            matchingFallbacks = ['debug', 'release']\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n\n    flavorDimensions &quot;environment&quot;\n\n    productFlavors {\n        production {\n            dimension &quot;environment&quot; \n            resValue &quot;string&quot;, &quot;build_config_package&quot;, &quot;com.mypackagename&quot;\n        }\n        development {            \n            dimension &quot;environment&quot;\n            applicationIdSuffix &quot;.dev&quot;              \n        }        \n    }\n\n    packagingOptions {\n        pickFirst '**/*.so'\n    }\n\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            // Example: versionCode 1 will generate 1001 for armeabi-v7a, 1002 for x86, etc.\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        defaultConfig.versionCode * 1000 + versionCodes.get(abi)\n            }\n\n        }\n    }\n}\n\ndependencies {\n    // The version of react-native is set by the React Native Gradle Plugin\n    implementation(&quot;com.facebook.react:react-android&quot;)\n\n    implementation(&quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;)\n\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;)\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;)\n    if (hermesEnabled.toBoolean()) {\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n</code></pre>\n<p>The script I'm running:</p>\n<pre><code>./gradlew assembleDebug\n</code></pre>\n<p>File structure:</p>\n<p><a href=\"https://i.stack.imgur.com/1qS1R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1qS1R.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","c#","unity-game-engine","build","admob"],"answers":[{"tags":[],"owner":{"account_id":12635942,"reputation":356,"user_id":9185347,"display_name":"Ali Amini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561284789,"creation_date":1561284789,"answer_id":56722878,"question_id":56722286,"body_markdown":"check is your Java set true or not:\r\ngo to cmd and type JAVA -version \r\n[![][1]][1]\r\nif this appeared means your JDK is set if not check this link: https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\r\n\r\nafter these, if you have the problem again update your JDK\r\nfrom https://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n\r\n  [1]: https://i.stack.imgur.com/hsKxi.jpg","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>check is your Java set true or not:\ngo to cmd and type JAVA -version \n<a href=\"https://i.stack.imgur.com/hsKxi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsKxi.jpg\" alt=\"\"></a>\nif this appeared means your JDK is set if not check this link: <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html</a></p>\n\n<p>after these, if you have the problem again update your JDK\nfrom <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":2055900,"reputation":7174,"user_id":1889720,"accept_rate":78,"display_name":"Evorlor"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1670949391,"creation_date":1565017202,"answer_id":57361245,"question_id":56722286,"body_markdown":"It is a Unity bug.  To fix:\r\n\r\n    Edit-&gt;Preferences-&gt;External Tools\r\n    Uncheck Android SDK Tools Installed with Unity (recommended)\r\n    Press Browse -&gt; It might update the filepath\r\n    Recheck Android SDK Tools Installed with Unity (recommended)\r\n\r\nThen:\r\n\r\n    Assets-&gt;Play Services Resolver-&gt;Android Resolver-&gt;Resolve\r\n\r\nThis has been tested and works with Unity 2019, Unity 2020, and Unity 2021.","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>It is a Unity bug.  To fix:</p>\n<pre><code>Edit-&gt;Preferences-&gt;External Tools\nUncheck Android SDK Tools Installed with Unity (recommended)\nPress Browse -&gt; It might update the filepath\nRecheck Android SDK Tools Installed with Unity (recommended)\n</code></pre>\n<p>Then:</p>\n<pre><code>Assets-&gt;Play Services Resolver-&gt;Android Resolver-&gt;Resolve\n</code></pre>\n<p>This has been tested and works with Unity 2019, Unity 2020, and Unity 2021.</p>\n"},{"tags":[],"owner":{"account_id":17385243,"reputation":1,"user_id":12596686,"display_name":"Noman Aslam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587495770,"creation_date":1587495770,"answer_id":61351183,"question_id":56722286,"body_markdown":"i was using admob plugin in my project and this is how i resolved the issue after trying all given solutions. \r\n\r\n- reimport the admob plugin / plugins you are using in your project. (i just reimport the latest version of admob plugin and issue resolved)","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>i was using admob plugin in my project and this is how i resolved the issue after trying all given solutions. </p>\n\n<ul>\n<li>reimport the admob plugin / plugins you are using in your project. (i just reimport the latest version of admob plugin and issue resolved)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18791661,"reputation":144,"user_id":13703969,"display_name":"Pranav Mehta"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1591593516,"creation_date":1591593516,"answer_id":62255477,"question_id":56722286,"body_markdown":"try\r\nAssets-&gt; Play Services Resolver-&gt; Android Resolver-&gt; Delete Resolved Libraries","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>try\nAssets-> Play Services Resolver-> Android Resolver-> Delete Resolved Libraries</p>\n"},{"tags":[],"owner":{"account_id":2467121,"reputation":562,"user_id":2149955,"display_name":"Patrick Fay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595289863,"creation_date":1595289863,"answer_id":63005487,"question_id":56722286,"body_markdown":"For me it was similar to this answer https://stackoverflow.com/a/57361245/2149955 but just a bit different so sharing a separate answer for when you haven&#39;t installed the tools through unity hub.\r\n\r\nIn Unity:\r\n```\r\nEdit-&gt;Preferences-&gt;External Tools\r\nSee error messages &quot;You are missing the recommended &lt;TOOL&gt;. Install the recommended version using Unity Hub&quot;\r\n```\r\n\r\nIn Unity Hub:\r\n```\r\nInstalls -&gt; My Unity Version -&gt; ... -&gt; Add Modules, Twirl open Android Build Support -&gt; Check Android SDK &amp; NDK Tools (I also checked OpenJDK)\r\nPress Next -&gt; Accept Terms\r\nWait for install to finish\r\n```\r\n\r\nAfter that finishes, back in Unity:\r\n```\r\nIf you look in external tools again, the error messages will be gone\r\nAssets-&gt;Play Services Resolver-&gt;Android Resolver-&gt;Resolve\r\n```","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>For me it was similar to this answer <a href=\"https://stackoverflow.com/a/57361245/2149955\">https://stackoverflow.com/a/57361245/2149955</a> but just a bit different so sharing a separate answer for when you haven't installed the tools through unity hub.</p>\n<p>In Unity:</p>\n<pre><code>Edit-&gt;Preferences-&gt;External Tools\nSee error messages &quot;You are missing the recommended &lt;TOOL&gt;. Install the recommended version using Unity Hub&quot;\n</code></pre>\n<p>In Unity Hub:</p>\n<pre><code>Installs -&gt; My Unity Version -&gt; ... -&gt; Add Modules, Twirl open Android Build Support -&gt; Check Android SDK &amp; NDK Tools (I also checked OpenJDK)\nPress Next -&gt; Accept Terms\nWait for install to finish\n</code></pre>\n<p>After that finishes, back in Unity:</p>\n<pre><code>If you look in external tools again, the error messages will be gone\nAssets-&gt;Play Services Resolver-&gt;Android Resolver-&gt;Resolve\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16499144,"reputation":13,"user_id":11920887,"display_name":"Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600062807,"creation_date":1600062807,"answer_id":63878751,"question_id":56722286,"body_markdown":"Update to Unity 2019.4.10f\r\n fixed it","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>Update to Unity 2019.4.10f\nfixed it</p>\n"},{"tags":[],"owner":{"account_id":16297977,"reputation":21,"user_id":11856724,"display_name":"Beyza Kurt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623378320,"creation_date":1623378320,"answer_id":67930554,"question_id":56722286,"body_markdown":"When I wanted to make an app for Android, I got this and many more as errors. Nothing worked, including the solutions here. I tried both Unity versions 2020.3.5f1 and 2019.4.22f1, it didn&#39;t work.\r\n\r\nI figured out that the problem was due to &quot;Android Built Support&quot; not being fully installed. I did the following and the problem was gone:\r\n\r\n 1. Unity Hub (my version 2.4.3) -&gt; from the left menu, go Installs\r\n 2. Click the 3 dots in the upper right corner of the Unity version you want (I used 2019.4.22f1) -&gt; Add Modules\r\n 3. From Platforms, find &quot;Android Built Support&quot;\r\n 4. Its check box was checked because I installed it before, but if you don&#39;t have it, first install it\r\n 5. Display its submodules with the arrow to its left; &quot;Android SDK &amp; NDK Tools&quot; and &quot;OpenJDK&quot;\r\n 6. Check their check boxes, next and install\r\n 7. Restart Unity\r\n 8. When you open the project, it resolves\r\n 9. It gave me another warning after the resolve, so I made sure that the problem was gone by doing &quot;Assets-&gt;External Dependency Maneger-&gt;Android Resolver-&gt;Force Resolve&quot; in the project again.","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>When I wanted to make an app for Android, I got this and many more as errors. Nothing worked, including the solutions here. I tried both Unity versions 2020.3.5f1 and 2019.4.22f1, it didn't work.</p>\n<p>I figured out that the problem was due to &quot;Android Built Support&quot; not being fully installed. I did the following and the problem was gone:</p>\n<ol>\n<li>Unity Hub (my version 2.4.3) -&gt; from the left menu, go Installs</li>\n<li>Click the 3 dots in the upper right corner of the Unity version you want (I used 2019.4.22f1) -&gt; Add Modules</li>\n<li>From Platforms, find &quot;Android Built Support&quot;</li>\n<li>Its check box was checked because I installed it before, but if you don't have it, first install it</li>\n<li>Display its submodules with the arrow to its left; &quot;Android SDK &amp; NDK Tools&quot; and &quot;OpenJDK&quot;</li>\n<li>Check their check boxes, next and install</li>\n<li>Restart Unity</li>\n<li>When you open the project, it resolves</li>\n<li>It gave me another warning after the resolve, so I made sure that the problem was gone by doing &quot;Assets-&gt;External Dependency Maneger-&gt;Android Resolver-&gt;Force Resolve&quot; in the project again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635713752,"creation_date":1635712865,"answer_id":69790434,"question_id":56722286,"body_markdown":"I faced this error when I wanted to build for Android. The reason I have faced this is that I had 2 Unity versions (2019.4.9f1 and 2020.3.3f1), and my JAVA_HOME was configured to use the java folder inside 2019.4.9f1. I then uninstalled and removed 2019.4.9f1, and after that, I got this error when trying to build in 2020.3.3f1.\r\n\r\n 1. I changed my JAVA_HOME variable permanently, following the link below:\r\nhttps://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently\r\n 2. Restarted my Macbook.\r\n\r\n 3. Went to Unity -&gt; Preferences -&gt; External tools, unchecked NDK, JDK, etc., clicked the Browse button that appeared, and selected the folder under 2020.3.3f1 manually for JDK.\r\n\r\n(In the end, no folder should change when you uncheck and check again)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ny5px.png","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>I faced this error when I wanted to build for Android. The reason I have faced this is that I had 2 Unity versions (2019.4.9f1 and 2020.3.3f1), and my JAVA_HOME was configured to use the java folder inside 2019.4.9f1. I then uninstalled and removed 2019.4.9f1, and after that, I got this error when trying to build in 2020.3.3f1.</p>\n<ol>\n<li><p>I changed my JAVA_HOME variable permanently, following the link below:\n<a href=\"https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently\">How to set JAVA_HOME in Mac permanently?</a></p>\n</li>\n<li><p>Restarted my Macbook.</p>\n</li>\n<li><p>Went to Unity -&gt; Preferences -&gt; External tools, unchecked NDK, JDK, etc., clicked the Browse button that appeared, and selected the folder under 2020.3.3f1 manually for JDK.</p>\n</li>\n</ol>\n<p>(In the end, no folder should change when you uncheck and check again)</p>\n<p><a href=\"https://i.stack.imgur.com/ny5px.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ny5px.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6952957,"reputation":91,"user_id":5334989,"display_name":"Jim Kniest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638572454,"creation_date":1638572106,"answer_id":70221533,"question_id":56722286,"body_markdown":"Simple fix. I got this message about Missing the JDK. If you have one that is similar or pointing to the wrong JDK you can try this fix. \r\n\r\nHere is the Error I was getting:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/63LFG.png\r\nI solved this by:\r\n\r\n 1. In Unity goto &quot;Edit-&gt;Preferences-&gt;External Tools&quot;\r\n 2. Unchecked the box &quot;JDK Installed with Unity (recommended)&quot;, and noticed that the Path was pointing to an Old version of Unity I had uninstalled.\r\n 3. Changed the Path to the current version of Unity I am usings, OpenJDK directory.\r\n 4. Re-checked the box &quot;JDK Installed with Unity (recommended)&quot;\r\n\r\nThen was able to build my game, and build to my android phone just fine.\r\nNote: If your having problems with the SDK or NDK you could try this solution, by unchecking, and re-checking their respective boxes.","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>Simple fix. I got this message about Missing the JDK. If you have one that is similar or pointing to the wrong JDK you can try this fix.</p>\n<p>Here is the Error I was getting:\n<a href=\"https://i.stack.imgur.com/63LFG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/63LFG.png\" alt=\"enter image description here\" /></a></p>\n<p>I solved this by:</p>\n<ol>\n<li>In Unity goto &quot;Edit-&gt;Preferences-&gt;External Tools&quot;</li>\n<li>Unchecked the box &quot;JDK Installed with Unity (recommended)&quot;, and noticed that the Path was pointing to an Old version of Unity I had uninstalled.</li>\n<li>Changed the Path to the current version of Unity I am usings, OpenJDK directory.</li>\n<li>Re-checked the box &quot;JDK Installed with Unity (recommended)&quot;</li>\n</ol>\n<p>Then was able to build my game, and build to my android phone just fine.\nNote: If your having problems with the SDK or NDK you could try this solution, by unchecking, and re-checking their respective boxes.</p>\n"},{"tags":[],"owner":{"account_id":24089931,"reputation":1,"user_id":18063348,"display_name":"Karthik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643449080,"creation_date":1643449080,"answer_id":70904028,"question_id":56722286,"body_markdown":"This Worked For me:\r\nIf u had rectified \r\nJAVA_HOME,\r\nJDK SDK files &amp;\r\nevery possible way and solution does not show up try \r\n\r\npreference -&gt; in android untick the JDK installed..,\r\nif you see a change in directory then just re tick,\r\ncopy path of JDK and uncheck,\r\nfinally paste the path close(x) preference TRY BUILD &amp; RUN\r\nNext time you open Unity Editor then try to check &amp; uncheck JDK we have to see the same directory both ways","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>This Worked For me:\nIf u had rectified\nJAVA_HOME,\nJDK SDK files &amp;\nevery possible way and solution does not show up try</p>\n<p>preference -&gt; in android untick the JDK installed..,\nif you see a change in directory then just re tick,\ncopy path of JDK and uncheck,\nfinally paste the path close(x) preference TRY BUILD &amp; RUN\nNext time you open Unity Editor then try to check &amp; uncheck JDK we have to see the same directory both ways</p>\n"},{"tags":[],"owner":{"account_id":1367010,"reputation":121,"user_id":1303238,"display_name":"dqshll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663051352,"creation_date":1663051352,"answer_id":73698527,"question_id":56722286,"body_markdown":"there is no sdk if you install unity editor without hub.\r\nit seems unity want to use the versions they want. so it&#39;s very poor support for previous historty version.\r\nthere is a workaround. you can install a version offically recommanded.\r\nand then copy the sdk, ndk, openjdk folder from the offical version folder to the folder you are using. for windows, these folder is like this:\r\nfrom:\r\nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.21f1c1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\r\nto: \r\nC:\\Program Files\\Unity\\Hub\\Editor\\[your_version]\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>there is no sdk if you install unity editor without hub.\nit seems unity want to use the versions they want. so it's very poor support for previous historty version.\nthere is a workaround. you can install a version offically recommanded.\nand then copy the sdk, ndk, openjdk folder from the offical version folder to the folder you are using. for windows, these folder is like this:\nfrom:\nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.21f1c1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\nto:\nC:\\Program Files\\Unity\\Hub\\Editor[your_version]\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK</p>\n"},{"tags":[],"owner":{"account_id":29098038,"reputation":1,"user_id":22290515,"display_name":"madhur gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397976,"creation_date":1690397976,"answer_id":76774266,"question_id":56722286,"body_markdown":"This error appears when you have any google sdk present in your project.\r\n\r\nFix:\r\n 1. In your unity Preferences (Edit -&gt; Preferences) there is a JDK path, copy it.\r\n 2. Open Environment variables in windows. Look under &quot;System variables&quot; for a variable name &quot;JAVA_HOME&quot; then Click Edit. (If not present Click Create).\r\n 3. write variable name as &quot;JAVA_HOME&quot; and in variable value paste the JDK path you copied. and press OK.\r\n 4. Restart unity.\r\n\r\nAnd it should work Fine!","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>This error appears when you have any google sdk present in your project.</p>\n<p>Fix:</p>\n<ol>\n<li>In your unity Preferences (Edit -&gt; Preferences) there is a JDK path, copy it.</li>\n<li>Open Environment variables in windows. Look under &quot;System variables&quot; for a variable name &quot;JAVA_HOME&quot; then Click Edit. (If not present Click Create).</li>\n<li>write variable name as &quot;JAVA_HOME&quot; and in variable value paste the JDK path you copied. and press OK.</li>\n<li>Restart unity.</li>\n</ol>\n<p>And it should work Fine!</p>\n"}],"owner":{"account_id":14857187,"reputation":305,"user_id":10868492,"display_name":"JediMan4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32226,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":12,"score":19,"last_activity_date":1690397976,"creation_date":1561278974,"question_id":56722286,"body_markdown":"I have a problem showed on this screenshot: [![https://imgur.com/a/VGHrpVV][1]][1]\r\n\r\n&gt; Android Resolver\r\n&gt; \r\n&gt; JAVA_HOME environment references a directory (C:\\Program\r\n&gt; Files\\Java\\jdk1.8.0_212) that does not contain java which is required\r\n&gt; to process Android libraries.\r\n\r\nThe  problem has appeared when I imported GoogleMobileAds package to insert AdMob ads to my project. I tried to create 2 local variables &quot;JAVA_HOME&quot; and &quot;PATH&quot; in environment variables using this guide https://null-code.ru/solution/157-reshenie-exception-jar-not-found-windows.html , but it doesn&#39;t help me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WI6au.png","title":"How to fix &quot;JAVA_HOME environment references a directory&quot; in unity3d","body":"<p>I have a problem showed on this screenshot: <a href=\"https://i.stack.imgur.com/WI6au.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WI6au.png\" alt=\"https://imgur.com/a/VGHrpVV\" /></a></p>\n<blockquote>\n<p>Android Resolver</p>\n<p>JAVA_HOME environment references a directory (C:\\Program\nFiles\\Java\\jdk1.8.0_212) that does not contain java which is required\nto process Android libraries.</p>\n</blockquote>\n<p>The  problem has appeared when I imported GoogleMobileAds package to insert AdMob ads to my project. I tried to create 2 local variables &quot;JAVA_HOME&quot; and &quot;PATH&quot; in environment variables using this guide <a href=\"https://null-code.ru/solution/157-reshenie-exception-jar-not-found-windows.html\" rel=\"nofollow noreferrer\">https://null-code.ru/solution/157-reshenie-exception-jar-not-found-windows.html</a> , but it doesn't help me.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1314767435,"creation_date":1314767435,"answer_id":7252786,"question_id":7252731,"body_markdown":"[This article][1] offers one piece of advice: \r\n\r\n&gt; Objects placed in a List , Set, or Map (as either a key or value) should have an appropriate definition of equals.\r\n\r\nSurely DTOs are used for more than just transfer, we do keep them, sort them, cache them ...\r\n\r\nIn practice do folks provide equals and hash? No not always. Should we? I think so.\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=17","title":"Overriding equals method in DTO&#39;s","body":"<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=17\">This article</a> offers one piece of advice: </p>\n\n<blockquote>\n  <p>Objects placed in a List , Set, or Map (as either a key or value) should have an appropriate definition of equals.</p>\n</blockquote>\n\n<p>Surely DTOs are used for more than just transfer, we do keep them, sort them, cache them ...</p>\n\n<p>In practice do folks provide equals and hash? No not always. Should we? I think so.</p>\n"},{"tags":[],"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314793112,"creation_date":1314768220,"answer_id":7252854,"question_id":7252731,"body_markdown":"Whether or not you need to provide `equals` and `hashcode` implementations for your DTO classes depends on how you use them. \r\n\r\nIf you use them with one or more Collections, you should provide the implementation for the appropriate method. Almost all Collections call `equals` on the objects they store. Hash table based Collections like `HashSet` and `HashMap` call `hashcode`, whereas sorted Collections like `TreeSet` and `TreeMap` call `compareTo` method in addition to `equals`.","title":"Overriding equals method in DTO&#39;s","body":"<p>Whether or not you need to provide <code>equals</code> and <code>hashcode</code> implementations for your DTO classes depends on how you use them. </p>\n\n<p>If you use them with one or more Collections, you should provide the implementation for the appropriate method. Almost all Collections call <code>equals</code> on the objects they store. Hash table based Collections like <code>HashSet</code> and <code>HashMap</code> call <code>hashcode</code>, whereas sorted Collections like <code>TreeSet</code> and <code>TreeMap</code> call <code>compareTo</code> method in addition to <code>equals</code>.</p>\n"},{"tags":[],"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396267768,"creation_date":1396267768,"answer_id":22761168,"question_id":7252731,"body_markdown":"If it becomes too trivial I can recommend using the lombok annotations\r\nhttp://projectlombok.org/features/\r\n\r\n\r\n","title":"Overriding equals method in DTO&#39;s","body":"<p>If it becomes too trivial I can recommend using the lombok annotations\n<a href=\"http://projectlombok.org/features/\" rel=\"nofollow\">http://projectlombok.org/features/</a></p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7917,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":7252786,"answer_count":3,"score":19,"last_activity_date":1690397693,"creation_date":1314766846,"question_id":7252731,"body_markdown":"Is it necessary to override equals and hashcode methods in DTO&#39;s? Because DTO&#39;s are just use for transfer data. Is there any best practice or something regarding this?\r\n\r\nThanks.","title":"Overriding equals method in DTO&#39;s","body":"<p>Is it necessary to override equals and hashcode methods in DTO's? Because DTO's are just use for transfer data. Is there any best practice or something regarding this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","gradle"],"owner":{"account_id":13608013,"reputation":63,"user_id":9816524,"display_name":"c.s_._._"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690397404,"creation_date":1690397404,"question_id":76774213,"body_markdown":"Recently did a jump in version for the `org.springframework.boot` plugin from 1.5.x to 2.3.x in my build.gradle file. I have been going up by increments as suggested by my coworkers and encountered this issue at spring 2.0.x stating: \r\n\r\n```Could not create an Appender of type [org.springframework.boot.logging.logback.LevelRemappingAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.springframework.boot.logging.logback.LevelRemappingAppender```\r\n\r\n and no matter what version I am using past 2.x.x the issue doesnt seem to resolve. I saw [this thread](https://stackoverflow.com/questions/50407297/replacement-for-logback-levelremappingappender-in-spring-boot-2) on here talking about a replacement for the `LevelRemappingAppender` and then someone answered saying it was not needed anymore.\r\n\r\nIm not sure exactly what I need in order to resolve this error as it is only an issue for me past spring 2.x.x. Has anyone come across this before, if so do you have a solution or even a doc I could use to solve it","title":"Could not create an Appender of type [org.springframework.boot.logging.logback.LevelRemappingAppender]","body":"<p>Recently did a jump in version for the <code>org.springframework.boot</code> plugin from 1.5.x to 2.3.x in my build.gradle file. I have been going up by increments as suggested by my coworkers and encountered this issue at spring 2.0.x stating:</p>\n<p><code>Could not create an Appender of type [org.springframework.boot.logging.logback.LevelRemappingAppender]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.springframework.boot.logging.logback.LevelRemappingAppender</code></p>\n<p>and no matter what version I am using past 2.x.x the issue doesnt seem to resolve. I saw <a href=\"https://stackoverflow.com/questions/50407297/replacement-for-logback-levelremappingappender-in-spring-boot-2\">this thread</a> on here talking about a replacement for the <code>LevelRemappingAppender</code> and then someone answered saying it was not needed anymore.</p>\n<p>Im not sure exactly what I need in order to resolve this error as it is only an issue for me past spring 2.x.x. Has anyone come across this before, if so do you have a solution or even a doc I could use to solve it</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":293322,"reputation":10392,"user_id":596555,"accept_rate":75,"display_name":"boiledwater"},"score":0,"creation_date":1549940616,"post_id":36301277,"comment_id":96076004,"body_markdown":"Pls https://stackoverflow.com/a/29461997/596555","body":"Pls <a href=\"https://stackoverflow.com/a/29461997/596555\">stackoverflow.com/a/29461997/596555</a>"}],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459340765,"creation_date":1459322025,"answer_id":36302033,"question_id":36301277,"body_markdown":"Based on what you have posted you have removed to much from the plugin configuration. In the `&lt;executions&gt;` section you need to specify the goal.\r\n\r\namend your pom.xml as below\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                ...\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer\r\n                                implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;mainClass&gt;your.Main&lt;/mainClass&gt;\r\n                            &lt;/transformer&gt;\r\n                        &lt;/transformers&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nExecuting `mvn package` will create in `./target` the shaded Jar. In the log you should see something similar\r\n\r\n    [INFO] Replacing ../target/..-SNAPSHOT.jar with ../target/..-SNAPSHOT-shaded.jar\r\n\r\nAs you don&#39;t show your `pom.xml` have a look at following discrepancy.\r\n\r\nin the posted `pom.xml` snippet you have as implementation class\r\n\r\n    org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\r\n\r\nbut the exception complains about\r\n\r\n    org.apache.maven.plugins.shade.resource.AppendingTransformer","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>Based on what you have posted you have removed to much from the plugin configuration. In the <code>&lt;executions&gt;</code> section you need to specify the goal.</p>\n\n<p>amend your pom.xml as below</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;build&gt;\n        &lt;plugins&gt;\n            ...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                            implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                            &lt;mainClass&gt;your.Main&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Executing <code>mvn package</code> will create in <code>./target</code> the shaded Jar. In the log you should see something similar</p>\n\n<pre><code>[INFO] Replacing ../target/..-SNAPSHOT.jar with ../target/..-SNAPSHOT-shaded.jar\n</code></pre>\n\n<p>As you don't show your <code>pom.xml</code> have a look at following discrepancy.</p>\n\n<p>in the posted <code>pom.xml</code> snippet you have as implementation class</p>\n\n<pre><code>org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\n</code></pre>\n\n<p>but the exception complains about</p>\n\n<pre><code>org.apache.maven.plugins.shade.resource.AppendingTransformer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":260339,"reputation":2671,"user_id":543836,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1525191211,"creation_date":1525119975,"answer_id":50107719,"question_id":36301277,"body_markdown":"I had this same issue. Turned out it was caused by some config Spring Boot brings in. I am using spring-boot-starter-parent as my parent pom. \r\n\r\nI resolved the issue by setting the `start-class` property and removing the `ManifestResourceTransformer` configuration from the shade plugin in my pom.xml.\r\n\r\n    &lt;properties&gt;\r\n      &lt;start-class&gt;package.Main&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\nI found this property by searching the effective pom for `ManifestResourceTransformer`.","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>I had this same issue. Turned out it was caused by some config Spring Boot brings in. I am using spring-boot-starter-parent as my parent pom. </p>\n\n<p>I resolved the issue by setting the <code>start-class</code> property and removing the <code>ManifestResourceTransformer</code> configuration from the shade plugin in my pom.xml.</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;start-class&gt;package.Main&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I found this property by searching the effective pom for <code>ManifestResourceTransformer</code>.</p>\n"},{"tags":[],"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397234,"creation_date":1690397234,"answer_id":76774203,"question_id":36301277,"body_markdown":"For anyone that also has `spring-boot-starter-parent` as a parent module: check your effective pom. If you need to have a separate execution, unlike [@Dima&#39;s answer][1], find out what execution `id` has Spring configured for theirs. If there&#39;s none, then it&#39;s `&#39;default&#39;` and you can disable it for your child pom by changing the execution phase as follows:\r\n\r\n```xml\r\n&lt;execution&gt;\r\n  &lt;id&gt;default&lt;/id&gt;\r\n  &lt;phase&gt;never (or any nonexistent phase)&lt;/phase&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50107719/8802609","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>For anyone that also has <code>spring-boot-starter-parent</code> as a parent module: check your effective pom. If you need to have a separate execution, unlike <a href=\"https://stackoverflow.com/a/50107719/8802609\">@Dima's answer</a>, find out what execution <code>id</code> has Spring configured for theirs. If there's none, then it's <code>'default'</code> and you can disable it for your child pom by changing the execution phase as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n  &lt;id&gt;default&lt;/id&gt;\n  &lt;phase&gt;never (or any nonexistent phase)&lt;/phase&gt;\n&lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":6493583,"reputation":97,"user_id":5026838,"accept_rate":25,"display_name":"elkan1788"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12648,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1690397234,"creation_date":1459319282,"question_id":36301277,"body_markdown":"There are a very strange build with **`maven-shade-plugin:2.4.3`** in a standard maven project. It was throw can not find `mainClass` exception always when execute maven package command. I just simulate an maven-shade-plugin example, see below:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mkyong.core.utils&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dateUtils&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;dateUtils&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jdk.version&gt;1.7&lt;/jdk.version&gt;\r\n    \t\t&lt;jodatime.version&gt;2.5&lt;/jodatime.version&gt;\r\n    \t\t&lt;junit.version&gt;4.11&lt;/junit.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jodatime.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;dateutils&lt;/finalName&gt;\r\n        \r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;!-- download source code in Eclipse, best practice --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.9&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Set a compiler level --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${jdk.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${jdk.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Maven Shade Plugin --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;!-- Run shade goal on package phase --&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;\r\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;transformers&gt;\r\n                  &lt;transformer\r\n                          implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;mainClass&gt;com.mkyong.core.utils.App&lt;/mainClass&gt;\r\n                  &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n            \r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis one can run success. Then just change the main Class name, and other like this:\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer\r\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;mainClass&gt;xxxxxxx&lt;/mainClass&gt;\r\n                            &lt;/transformer&gt;\r\n                        &lt;/transformers&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nthe parent `pom.xml` file about the plugin line:\r\n\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n           \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    \r\n    &lt;/pluginManagement&gt;\r\n\r\n\r\nSo the modules will extends parent, but when package it throws exception, said: \r\n\r\n`[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade (default) on project analytics-sdk-storm-local: Unable to parse configuration of mojo org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade for parameter mainClass: Cannot find &#39;mainClass&#39; in class org.apache.maven.plugins.shade.resource.AppendingTransformer -&gt; [Help 1]\r\n`\r\n\r\nBut why it was happened.There are the maven dependencies tree show:\r\n\r\n    [INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ xxxxx ---\r\n    [INFO] local:jar:1.0.1-SNAPSHOT\r\n    [INFO] +- org.apache.kafka:kafka_2.10:jar:0.8.1.1:compile\r\n    [INFO] |  +- com.yammer.metrics:metrics-core:jar:2.2.0:compile\r\n    [INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.2:compile\r\n    [INFO] |  +- net.sf.jopt-simple:jopt-simple:jar:3.2:compile\r\n    [INFO] |  +- org.scala-lang:scala-library:jar:2.10.1:compile\r\n    [INFO] |  \\- com.101tec:zkclient:jar:0.3:compile\r\n    [INFO] +- org.apache.storm:storm-core:jar:0.9.3:provided\r\n    [INFO] |  +- org.clojure:clojure:jar:1.5.1:provided\r\n    [INFO] |  +- clj-time:clj-time:jar:0.4.1:provided\r\n    [INFO] |  +- joda-time:joda-time:jar:2.8.2:provided\r\n    [INFO] |  +- compojure:compojure:jar:1.1.3:provided\r\n    [INFO] |  +- org.clojure:core.incubator:jar:0.1.0:provided\r\n    [INFO] |  +- org.clojure:tools.macro:jar:0.1.0:provided\r\n    [INFO] |  +- clout:clout:jar:1.0.1:provided\r\n    [INFO] |  +- ring:ring-core:jar:1.1.5:provided\r\n    [INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.1:provided\r\n    [INFO] |  +- javax.servlet:servlet-api:jar:2.5:provided\r\n    [INFO] |  +- hiccup:hiccup:jar:0.3.6:provided\r\n    [INFO] |  +- ring:ring-devel:jar:0.3.11:provided\r\n    [INFO] |  +- clj-stacktrace:clj-stacktrace:jar:0.2.2:provided\r\n    [INFO] |  +- ring:ring-jetty-adapter:jar:0.3.11:provided\r\n    [INFO] |  +- ring:ring-servlet:jar:0.3.11:provided\r\n    [INFO] |  +- org.mortbay.jetty:jetty:jar:6.1.26:provided\r\n    [INFO] |  +- org.mortbay.jetty:jetty-util:jar:6.1.26:provided\r\n    [INFO] |  +- org.clojure:tools.logging:jar:0.2.3:provided\r\n    [INFO] |  +- org.clojure:math.numeric-tower:jar:0.0.1:provided\r\n    [INFO] |  +- org.clojure:tools.cli:jar:0.2.4:provided\r\n    [INFO] |  +- commons-io:commons-io:jar:2.4:provided\r\n    [INFO] |  +- org.apache.commons:commons-exec:jar:1.1:provided\r\n    [INFO] |  +- commons-lang:commons-lang:jar:2.5:provided\r\n    [INFO] |  +- com.googlecode.json-simple:json-simple:jar:1.1.1:provided\r\n    [INFO] |  |  \\- junit:junit:jar:4.12:provided\r\n    [INFO] |  |     \\- org.hamcrest:hamcrest-core:jar:1.3:provided\r\n    [INFO] |  +- com.twitter:carbonite:jar:1.4.0:provided\r\n    [INFO] |  +- com.esotericsoftware.kryo:kryo:jar:2.21:provided\r\n    [INFO] |  +- com.esotericsoftware.reflectasm:reflectasm:jar:shaded:1.07:provided\r\n    [INFO] |  +- org.ow2.asm:asm:jar:4.0:compile\r\n    [INFO] |  +- com.esotericsoftware.minlog:minlog:jar:1.2:provided\r\n    [INFO] |  +- org.objenesis:objenesis:jar:1.2:compile\r\n    [INFO] |  +- com.twitter:chill-java:jar:0.3.5:provided\r\n    [INFO] |  +- org.yaml:snakeyaml:jar:1.16:provided\r\n    [INFO] |  +- commons-logging:commons-logging:jar:1.1.3:provided\r\n    [INFO] |  +- commons-codec:commons-codec:jar:1.9:provided\r\n    [INFO] |  +- com.googlecode.disruptor:disruptor:jar:2.10.1:provided\r\n    [INFO] |  +- org.jgrapht:jgrapht-core:jar:0.9.0:provided\r\n    [INFO] |  +- ch.qos.logback:logback-classic:jar:1.1.5:provided\r\n    [INFO] |  +- ch.qos.logback:logback-core:jar:1.0.13:provided\r\n    [INFO] |  +- org.slf4j:slf4j-api:jar:1.7.12:compile\r\n    [INFO] |  +- org.slf4j:log4j-over-slf4j:jar:1.7.16:provided\r\n    [INFO] |  \\- jline:jline:jar:2.11:compile\r\n    [INFO] +- org.apache.storm:storm-kafka:jar:0.9.3:compile\r\n    [INFO] |  \\- org.apache.curator:curator-framework:jar:2.5.0:compile\r\n    [INFO] |     +- org.apache.curator:curator-client:jar:2.5.0:compile\r\n    [INFO] |     +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\r\n    [INFO] |     |  \\- io.netty:netty:jar:3.7.0.Final:compile\r\n    [INFO] |     \\- com.google.guava:guava:jar:19.0:compile\r\n    [INFO] +- so.sao.analytics:analytics-sdk-common:jar:1.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- com.esotericsoftware:kryo:jar:3.0.3:compile\r\n    [INFO] |  |  +- com.esotericsoftware:reflectasm:jar:1.10.1:compile\r\n    [INFO] |  |  \\- com.esotericsoftware:minlog:jar:1.3.0:compile\r\n    [INFO] |  \\- org.mapdb:mapdb:jar:2.0-beta12:compile\r\n    [INFO] \\- so.sao.analytics:analytics-sdk-storm-common:jar:1.0.1-SNAPSHOT:compile\r\n\r\n\r\nI real don&#39;t known why it was failed. Now just annotation the code. Is you had meet this one, show me, thanks.\r\n","title":"Maven shade plugin can not find &#39;mainClass&#39; exception?","body":"<p>There are a very strange build with <strong><code>maven-shade-plugin:2.4.3</code></strong> in a standard maven project. It was throw can not find <code>mainClass</code> exception always when execute maven package command. I just simulate an maven-shade-plugin example, see below:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mkyong.core.utils&lt;/groupId&gt;\n    &lt;artifactId&gt;dateUtils&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dateUtils&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;jdk.version&gt;1.7&lt;/jdk.version&gt;\n        &lt;jodatime.version&gt;2.5&lt;/jodatime.version&gt;\n        &lt;junit.version&gt;4.11&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;${jodatime.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;dateutils&lt;/finalName&gt;\n\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n\n            &lt;!-- download source code in Eclipse, best practice --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Set a compiler level --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Maven Shade Plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- Run shade goal on package phase --&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n          &lt;/execution&gt;\n                &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n            &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;transformers&gt;\n              &lt;transformer\n                      implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;com.mkyong.core.utils.App&lt;/mainClass&gt;\n              &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>This one can run success. Then just change the main Class name, and other like this:</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                                implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                            &lt;mainClass&gt;xxxxxxx&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>the parent <code>pom.xml</code> file about the plugin line:</p>\n\n<pre><code>&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n&lt;/pluginManagement&gt;\n</code></pre>\n\n<p>So the modules will extends parent, but when package it throws exception, said: </p>\n\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade (default) on project analytics-sdk-storm-local: Unable to parse configuration of mojo org.apache.maven.plugins:maven-shade-plugin:2.4.3:shade for parameter mainClass: Cannot find 'mainClass' in class org.apache.maven.plugins.shade.resource.AppendingTransformer -&gt; [Help 1]\n</code></p>\n\n<p>But why it was happened.There are the maven dependencies tree show:</p>\n\n<pre><code>[INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ xxxxx ---\n[INFO] local:jar:1.0.1-SNAPSHOT\n[INFO] +- org.apache.kafka:kafka_2.10:jar:0.8.1.1:compile\n[INFO] |  +- com.yammer.metrics:metrics-core:jar:2.2.0:compile\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.2:compile\n[INFO] |  +- net.sf.jopt-simple:jopt-simple:jar:3.2:compile\n[INFO] |  +- org.scala-lang:scala-library:jar:2.10.1:compile\n[INFO] |  \\- com.101tec:zkclient:jar:0.3:compile\n[INFO] +- org.apache.storm:storm-core:jar:0.9.3:provided\n[INFO] |  +- org.clojure:clojure:jar:1.5.1:provided\n[INFO] |  +- clj-time:clj-time:jar:0.4.1:provided\n[INFO] |  +- joda-time:joda-time:jar:2.8.2:provided\n[INFO] |  +- compojure:compojure:jar:1.1.3:provided\n[INFO] |  +- org.clojure:core.incubator:jar:0.1.0:provided\n[INFO] |  +- org.clojure:tools.macro:jar:0.1.0:provided\n[INFO] |  +- clout:clout:jar:1.0.1:provided\n[INFO] |  +- ring:ring-core:jar:1.1.5:provided\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.1:provided\n[INFO] |  +- javax.servlet:servlet-api:jar:2.5:provided\n[INFO] |  +- hiccup:hiccup:jar:0.3.6:provided\n[INFO] |  +- ring:ring-devel:jar:0.3.11:provided\n[INFO] |  +- clj-stacktrace:clj-stacktrace:jar:0.2.2:provided\n[INFO] |  +- ring:ring-jetty-adapter:jar:0.3.11:provided\n[INFO] |  +- ring:ring-servlet:jar:0.3.11:provided\n[INFO] |  +- org.mortbay.jetty:jetty:jar:6.1.26:provided\n[INFO] |  +- org.mortbay.jetty:jetty-util:jar:6.1.26:provided\n[INFO] |  +- org.clojure:tools.logging:jar:0.2.3:provided\n[INFO] |  +- org.clojure:math.numeric-tower:jar:0.0.1:provided\n[INFO] |  +- org.clojure:tools.cli:jar:0.2.4:provided\n[INFO] |  +- commons-io:commons-io:jar:2.4:provided\n[INFO] |  +- org.apache.commons:commons-exec:jar:1.1:provided\n[INFO] |  +- commons-lang:commons-lang:jar:2.5:provided\n[INFO] |  +- com.googlecode.json-simple:json-simple:jar:1.1.1:provided\n[INFO] |  |  \\- junit:junit:jar:4.12:provided\n[INFO] |  |     \\- org.hamcrest:hamcrest-core:jar:1.3:provided\n[INFO] |  +- com.twitter:carbonite:jar:1.4.0:provided\n[INFO] |  +- com.esotericsoftware.kryo:kryo:jar:2.21:provided\n[INFO] |  +- com.esotericsoftware.reflectasm:reflectasm:jar:shaded:1.07:provided\n[INFO] |  +- org.ow2.asm:asm:jar:4.0:compile\n[INFO] |  +- com.esotericsoftware.minlog:minlog:jar:1.2:provided\n[INFO] |  +- org.objenesis:objenesis:jar:1.2:compile\n[INFO] |  +- com.twitter:chill-java:jar:0.3.5:provided\n[INFO] |  +- org.yaml:snakeyaml:jar:1.16:provided\n[INFO] |  +- commons-logging:commons-logging:jar:1.1.3:provided\n[INFO] |  +- commons-codec:commons-codec:jar:1.9:provided\n[INFO] |  +- com.googlecode.disruptor:disruptor:jar:2.10.1:provided\n[INFO] |  +- org.jgrapht:jgrapht-core:jar:0.9.0:provided\n[INFO] |  +- ch.qos.logback:logback-classic:jar:1.1.5:provided\n[INFO] |  +- ch.qos.logback:logback-core:jar:1.0.13:provided\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.12:compile\n[INFO] |  +- org.slf4j:log4j-over-slf4j:jar:1.7.16:provided\n[INFO] |  \\- jline:jline:jar:2.11:compile\n[INFO] +- org.apache.storm:storm-kafka:jar:0.9.3:compile\n[INFO] |  \\- org.apache.curator:curator-framework:jar:2.5.0:compile\n[INFO] |     +- org.apache.curator:curator-client:jar:2.5.0:compile\n[INFO] |     +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\n[INFO] |     |  \\- io.netty:netty:jar:3.7.0.Final:compile\n[INFO] |     \\- com.google.guava:guava:jar:19.0:compile\n[INFO] +- so.sao.analytics:analytics-sdk-common:jar:1.0.1-SNAPSHOT:compile\n[INFO] |  +- com.esotericsoftware:kryo:jar:3.0.3:compile\n[INFO] |  |  +- com.esotericsoftware:reflectasm:jar:1.10.1:compile\n[INFO] |  |  \\- com.esotericsoftware:minlog:jar:1.3.0:compile\n[INFO] |  \\- org.mapdb:mapdb:jar:2.0-beta12:compile\n[INFO] \\- so.sao.analytics:analytics-sdk-storm-common:jar:1.0.1-SNAPSHOT:compile\n</code></pre>\n\n<p>I real don't known why it was failed. Now just annotation the code. Is you had meet this one, show me, thanks.</p>\n"},{"tags":["java","xml","maven","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1613988249,"post_id":66313390,"comment_id":117236639,"body_markdown":"Do you get the same error if you package it from command line outside IDE?","body":"Do you get the same error if you package it from command line outside IDE?"},{"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"score":0,"creation_date":1613988396,"post_id":66313390,"comment_id":117236694,"body_markdown":"I get same error if I package it from command line outside IDE(mvn clean package at parent project directory)","body":"I get same error if I package it from command line outside IDE(mvn clean package at parent project directory)"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613990061,"creation_date":1613990061,"answer_id":66314021,"question_id":66313390,"body_markdown":"There is no compiler plugin in version 3.6.3. The recent version is 3.8.1.\r\n\r\nThe version of the compiler plugin is not related to the version of Maven itself.\r\n\r\nThe parent project does not use the compile plugin, so the problem appears when building the child.","title":"child maven project cannot find maven-compiler-plugin","body":"<p>There is no compiler plugin in version 3.6.3. The recent version is 3.8.1.</p>\n<p>The version of the compiler plugin is not related to the version of Maven itself.</p>\n<p>The parent project does not use the compile plugin, so the problem appears when building the child.</p>\n"}],"owner":{"account_id":15469855,"reputation":93,"user_id":11160245,"display_name":"Dennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66314021,"answer_count":1,"score":0,"last_activity_date":1690396322,"creation_date":1613987628,"question_id":66313390,"body_markdown":"I use intellij2020.3.2, **maven version 3.6.3, java version 15.0.2**.  \r\nI has a **parent project** named **sdsd3**, and **child project** named **Module_Project**.  \r\nI **cannot package the child project**, here is the error message of parent and child project, respectively. \r\n```\r\n[INFO] SDSD3 Project ...................................... SUCCESS [  0.004 s]\r\n[INFO] SDSD3 Project - Module ............................. FAILURE [  0.075 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[ERROR] Plugin org.apache.maven.plugins:maven-compiler-plugin:3.6.3 or one of its dependencies could not be resolved: Failure to find org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n[ERROR] \r\n```  \r\n```\r\n[WARNING] The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\r\nThe POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\r\n```\r\nHere is my pom.xml of parent project:  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;aa.com.dennis&lt;/groupId&gt;\r\n  &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n  &lt;name&gt;SDSD3 Project&lt;/name&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;build.stage&gt;local&lt;/build.stage&gt;\r\n    &lt;org.slf4j.version&gt;1.7.21&lt;/org.slf4j.version&gt;\r\n    &lt;org.projectlombok.version&gt;1.16.10&lt;/org.projectlombok.version&gt;\r\n    &lt;org.springframework.version&gt;4.3.3.RELEASE&lt;/org.springframework.version&gt;\r\n    &lt;org.apache.tiles.version&gt;3.0.7&lt;/org.apache.tiles.version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt;\r\n    &lt;mybatis-spring.version&gt;1.3.0&lt;/mybatis-spring.version&gt;\r\n    &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\r\n    &lt;javax.servlet-api.version&gt;4.0.0-b01&lt;/javax.servlet-api.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;modules&gt;\r\n\r\n    &lt;module&gt;Module_Project&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n            &lt;source&gt;${java.version}&lt;/source&gt;\r\n            &lt;target&gt;${java.version}&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```  \r\nand pom.xml of child project  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\r\n        &lt;groupId&gt;tw.com.gss&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;artifactId&gt;Module_Project&lt;/artifactId&gt;\r\n\r\n\r\n    &lt;name&gt;SDSD3 Project - Module&lt;/name&gt;\r\n\r\n&lt;!--    &lt;properties&gt;--&gt;\r\n&lt;!--        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;--&gt;\r\n&lt;!--        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;--&gt;\r\n&lt;!--    &lt;/properties&gt;--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n            &lt;version&gt;${mybatis.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${mybatis-spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.10&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-b01&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;Module_Project&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/${build.stage}&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/common&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nWhy parent project can compile, but child cannot? How to fix it?\r\n[![enter image description here][1]][1] here is my intellij maven setting\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NnWbr.png","title":"child maven project cannot find maven-compiler-plugin","body":"<p>I use intellij2020.3.2, <strong>maven version 3.6.3, java version 15.0.2</strong>.<br />\nI has a <strong>parent project</strong> named <strong>sdsd3</strong>, and <strong>child project</strong> named <strong>Module_Project</strong>.<br />\nI <strong>cannot package the child project</strong>, here is the error message of parent and child project, respectively.</p>\n<pre><code>[INFO] SDSD3 Project ...................................... SUCCESS [  0.004 s]\n[INFO] SDSD3 Project - Module ............................. FAILURE [  0.075 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[ERROR] Plugin org.apache.maven.plugins:maven-compiler-plugin:3.6.3 or one of its dependencies could not be resolved: Failure to find org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n</code></pre>\n<pre><code>[WARNING] The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\nThe POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.6.3 is missing, no dependency information available\n</code></pre>\n<p>Here is my pom.xml of parent project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;aa.com.dennis&lt;/groupId&gt;\n  &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n  &lt;name&gt;SDSD3 Project&lt;/name&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;build.stage&gt;local&lt;/build.stage&gt;\n    &lt;org.slf4j.version&gt;1.7.21&lt;/org.slf4j.version&gt;\n    &lt;org.projectlombok.version&gt;1.16.10&lt;/org.projectlombok.version&gt;\n    &lt;org.springframework.version&gt;4.3.3.RELEASE&lt;/org.springframework.version&gt;\n    &lt;org.apache.tiles.version&gt;3.0.7&lt;/org.apache.tiles.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt;\n    &lt;mybatis-spring.version&gt;1.3.0&lt;/mybatis-spring.version&gt;\n    &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\n    &lt;javax.servlet-api.version&gt;4.0.0-b01&lt;/javax.servlet-api.version&gt;\n  &lt;/properties&gt;\n  &lt;modules&gt;\n\n    &lt;module&gt;Module_Project&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.6.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>and pom.xml of child project</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;sdsd3&lt;/artifactId&gt;\n        &lt;groupId&gt;tw.com.gss&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;artifactId&gt;Module_Project&lt;/artifactId&gt;\n\n\n    &lt;name&gt;SDSD3 Project - Module&lt;/name&gt;\n\n&lt;!--    &lt;properties&gt;--&gt;\n&lt;!--        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;--&gt;\n&lt;!--        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;--&gt;\n&lt;!--    &lt;/properties&gt;--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n            &lt;version&gt;${mybatis.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n            &lt;version&gt;${mybatis-spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.tiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.10&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-b01&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;Module_Project&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/${build.stage}&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/common&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Why parent project can compile, but child cannot? How to fix it?\n<a href=\"https://i.stack.imgur.com/NnWbr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NnWbr.png\" alt=\"enter image description here\" /></a> here is my intellij maven setting</p>\n"},{"tags":["java","maven","intellij-idea","javafx","openweathermap"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690409603,"post_id":76774109,"comment_id":135351527,"body_markdown":"You are getting a [HTTP `400` error](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400#).  Provide the server with the data it is able to understand (currently you are not doing that).  What the server requires is API specific and will be documented in the server API documentation, to which you must conform.  If still in doubt, request help directly from the maintainers of the `OWM` API that you are using.","body":"You are getting a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400#\" rel=\"nofollow noreferrer\">HTTP <code>400</code> error</a>.  Provide the server with the data it is able to understand (currently you are not doing that).  What the server requires is API specific and will be documented in the server API documentation, to which you must conform.  If still in doubt, request help directly from the maintainers of the <code>OWM</code> API that you are using."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690409781,"post_id":76774109,"comment_id":135351546,"body_markdown":"Learn how to [read a stack trace](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors).  The `InvocationTargetException` is a symptom of the error and not the ultimate cause, which is indicated in the trace by `Caused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request`.","body":"Learn how to <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">read a stack trace</a>.  The <code>InvocationTargetException</code> is a symptom of the error and not the ultimate cause, which is indicated in the trace by <code>Caused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690410354,"post_id":76774109,"comment_id":135351614,"body_markdown":"Instead of *&quot;JavaFX,Maven: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException&quot;*, your question should actually be, *&quot;What is the correct input to use for the openweathermap API call: `owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode)`?&quot;* and in the question, provide the name of the city you want a weather forecast for and the actual value you are providing to the method call which is failing (which you can obtain through a debugger or log statement), also check the API authentication credentials used.","body":"Instead of <i>&quot;JavaFX,Maven: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException&quot;</i>, your question should actually be, <i>&quot;What is the correct input to use for the openweathermap API call: <code>owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode)</code>&zwnj;&#8203;?&quot;</i> and in the question, provide the name of the city you want a weather forecast for and the actual value you are providing to the method call which is failing (which you can obtain through a debugger or log statement), also check the API authentication credentials used."}],"owner":{"account_id":29097704,"reputation":1,"user_id":22290249,"display_name":"dar1o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690396237,"creation_date":1690396237,"question_id":76774109,"body_markdown":"I am writing Weather Application to forecast weather for 2 cities.\r\nI use JavaFx, maven, SceneBuilder.\r\nI get an error while changing first city.\r\nThe second city works good.\r\n\r\nI get this error:\r\n\r\n\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\r\n\t... 47 more\r\nCaused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request\r\n\tat owm.japis@2.5.3.0/net.aksingh.owmjapis.core.OWM.hourlyWeatherForecastByCityName(OWM.kt:331)\r\n\tat WeatherApp/com.dariuszkrygier.model.WeatherForecastFetcher.getWeatherForecast(WeatherForecastFetcher.java:16)\r\n\tat WeatherApp/com.dariuszkrygier.controller.MainWindowController.showCurrentWeather(MainWindowController.java:285)\r\n\tat WeatherApp/com.dariuszkrygier.controller.MainWindowController.changeFirstCityLocationButtonAction(MainWindowController.java:202)\r\n\t... 58 more\r\n\r\nProcess finished with exit code 130\r\n\r\n```\r\n\r\n\r\n\r\nProblems caused by are bolded:\r\n\r\n```\r\n\r\n\r\n public WeatherForecastFetcher(String apiKey) {\r\n        owm = new OWM(apiKey);\r\n        owm.setUnit(OWM.Unit.METRIC);\r\n    }\r\n\r\n    public Weather getWeatherForecast(String cityNameWithCountryCode) throws APIException {\r\n**        HourlyWeatherForecast hourlyWeatherForecast = owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode);**\r\n        if (hourlyWeatherForecast.hasRespCode() &amp;&amp; hourlyWeatherForecast.getRespCode().equals(&quot;200&quot;)) {\r\n            return new Weather(hourlyWeatherForecast);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nprivate void showCurrentWeather(TextField locationField, Label locationName, Label locationDate,\r\n                                    ImageView locationImage, Label locationTemp, Label locationWeather\r\n                                    ) throws APIException {\r\n\r\n        **var weather = weatherForecastFetcher.getWeatherForecast(locationField.getText());**\r\n        int currentTimeIndex = 0;\r\n\r\n        String cityNameWithCountryCode = weather.getCityName() + &quot;, &quot; + weather .getCountryCode();\r\n        String dateWithDay =\r\n                weather.getDayOfTheWeek(currentTimeIndex) + &quot;, &quot; + weather.getDateWithoutTime(currentTimeIndex);\r\n        Image image = new Image(weather .getIconLink(currentTimeIndex));\r\n        String temp = weather .getTemp(currentTimeIndex);\r\n        String description = weather .getDescription(currentTimeIndex);\r\n\r\n        locationName.setText(cityNameWithCountryCode);\r\n        locationDate.setText(dateWithDay);\r\n        locationImage.setImage(image);\r\n        locationTemp.setText(temp);\r\n        locationWeather.setText(description);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n@FXML\r\n    void changeFirstCityLocationButtonAction() throws APIException {\r\n        if (firstFieldIsValid()) {\r\n           ** showCurrentWeather(firstCityPicker, firstCity, firstCityFirstDayDate, firstCityFirstDayImage,\r\n                    firstCityFirstDayTemp, firstCityFirstDayDescription );**\r\n            //day2\r\n            showNextDays(firstCityPicker, 8, firstCitySecondDayDate, firstCitySecondDayImage,\r\n                    firstCitySecondDayTemp, firstCitySecondDayDescription);\r\n            //day3\r\n            showNextDays(firstCityPicker, 16, firstCityThirdDayDate, firstCityThirdDayImage,\r\n                    firstCityThirdDayTemp, firstCityThirdDayDescription);\r\n            //day4\r\n            showNextDays(firstCityPicker, 24, firstCityFourthDayDate, firstCityFourthDayImage,\r\n                    firstCityFourthDayTemp, firstCityFourthDayDescription);\r\n            //day5\r\n            showNextDays(firstCityPicker, 32, firstCityFifthDayDate, firstCityFifthDayImage,\r\n                    firstCityFifthDayTemp, firstCityFifthDayDescription);\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\nThe path to github is:\r\n\r\nhttps://github.com/dariuszkrygier/WeatherApp.git\r\n\r\nPlease help me.\r\n\r\n\r\n","title":"JavaFX,Maven: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException","body":"<p>I am writing Weather Application to forecast weather for 2 cities.\nI use JavaFx, maven, SceneBuilder.\nI get an error while changing first city.\nThe second city works good.</p>\n<p>I get this error:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\n    ... 47 more\nCaused by: net.aksingh.owmjapis.api.APIException: API call gave error: 400 - Bad Request\n    at owm.japis@2.5.3.0/net.aksingh.owmjapis.core.OWM.hourlyWeatherForecastByCityName(OWM.kt:331)\n    at WeatherApp/com.dariuszkrygier.model.WeatherForecastFetcher.getWeatherForecast(WeatherForecastFetcher.java:16)\n    at WeatherApp/com.dariuszkrygier.controller.MainWindowController.showCurrentWeather(MainWindowController.java:285)\n    at WeatherApp/com.dariuszkrygier.controller.MainWindowController.changeFirstCityLocationButtonAction(MainWindowController.java:202)\n    ... 58 more\n\nProcess finished with exit code 130\n\n</code></pre>\n<p>Problems caused by are bolded:</p>\n<pre><code>\n\n public WeatherForecastFetcher(String apiKey) {\n        owm = new OWM(apiKey);\n        owm.setUnit(OWM.Unit.METRIC);\n    }\n\n    public Weather getWeatherForecast(String cityNameWithCountryCode) throws APIException {\n**        HourlyWeatherForecast hourlyWeatherForecast = owm.hourlyWeatherForecastByCityName(cityNameWithCountryCode);**\n        if (hourlyWeatherForecast.hasRespCode() &amp;&amp; hourlyWeatherForecast.getRespCode().equals(&quot;200&quot;)) {\n            return new Weather(hourlyWeatherForecast);\n        }\n        return null;\n    }\n}\n\n\n\n\n\nprivate void showCurrentWeather(TextField locationField, Label locationName, Label locationDate,\n                                    ImageView locationImage, Label locationTemp, Label locationWeather\n                                    ) throws APIException {\n\n        **var weather = weatherForecastFetcher.getWeatherForecast(locationField.getText());**\n        int currentTimeIndex = 0;\n\n        String cityNameWithCountryCode = weather.getCityName() + &quot;, &quot; + weather .getCountryCode();\n        String dateWithDay =\n                weather.getDayOfTheWeek(currentTimeIndex) + &quot;, &quot; + weather.getDateWithoutTime(currentTimeIndex);\n        Image image = new Image(weather .getIconLink(currentTimeIndex));\n        String temp = weather .getTemp(currentTimeIndex);\n        String description = weather .getDescription(currentTimeIndex);\n\n        locationName.setText(cityNameWithCountryCode);\n        locationDate.setText(dateWithDay);\n        locationImage.setImage(image);\n        locationTemp.setText(temp);\n        locationWeather.setText(description);\n\n    }\n\n\n\n\n\n@FXML\n    void changeFirstCityLocationButtonAction() throws APIException {\n        if (firstFieldIsValid()) {\n           ** showCurrentWeather(firstCityPicker, firstCity, firstCityFirstDayDate, firstCityFirstDayImage,\n                    firstCityFirstDayTemp, firstCityFirstDayDescription );**\n            //day2\n            showNextDays(firstCityPicker, 8, firstCitySecondDayDate, firstCitySecondDayImage,\n                    firstCitySecondDayTemp, firstCitySecondDayDescription);\n            //day3\n            showNextDays(firstCityPicker, 16, firstCityThirdDayDate, firstCityThirdDayImage,\n                    firstCityThirdDayTemp, firstCityThirdDayDescription);\n            //day4\n            showNextDays(firstCityPicker, 24, firstCityFourthDayDate, firstCityFourthDayImage,\n                    firstCityFourthDayTemp, firstCityFourthDayDescription);\n            //day5\n            showNextDays(firstCityPicker, 32, firstCityFifthDayDate, firstCityFifthDayImage,\n                    firstCityFifthDayTemp, firstCityFifthDayDescription);\n        }\n    }\n\n\n</code></pre>\n<p>The path to github is:</p>\n<p><a href=\"https://github.com/dariuszkrygier/WeatherApp.git\" rel=\"nofollow noreferrer\">https://github.com/dariuszkrygier/WeatherApp.git</a></p>\n<p>Please help me.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1690395212,"post_id":76773946,"comment_id":135349118,"body_markdown":"Runs here as expected. The code snippet won&#39;t compile (previousFruitName has no type), probably you are running old code.","body":"Runs here as expected. The code snippet won&#39;t compile (previousFruitName has no type), probably you are running old code."},{"owner":{"account_id":29097706,"reputation":1,"user_id":22290251,"display_name":"Alok Kumar"},"score":0,"creation_date":1690396418,"post_id":76773946,"comment_id":135349337,"body_markdown":"sorry could you please elaborate what you expected. My expectation was that every time I hit /api1 previousFruitName should print the previous value. But it is giving null every time instead.","body":"sorry could you please elaborate what you expected. My expectation was that every time I hit /api1 previousFruitName should print the previous value. But it is giving null every time instead."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1690396491,"post_id":76773946,"comment_id":135349349,"body_markdown":"Correct, that is the expected and observed behavior to print the old  value before new assignment.","body":"Correct, that is the expected and observed behavior to print the old  value before new assignment."}],"answers":[{"tags":[],"owner":{"account_id":18786818,"reputation":28,"user_id":13700242,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690395306,"creation_date":1690395243,"answer_id":76774026,"question_id":76773946,"body_markdown":"Your example works as you expected it to be. Only the private class field needs to be type defined as String.\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    public class Application {\r\n        private String previousFruitName = null;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @GetMapping(&quot;/api1&quot;)\r\n        public String method1(@RequestParam String newFruitName){\r\n            System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\r\n            previousFruitName=newFruitName;\r\n            return &quot;ok&quot;;\r\n        }\r\n    }","title":"Singleton scope behaviour in a Spring Boot app","body":"<p>Your example works as you expected it to be. Only the private class field needs to be type defined as String.</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class Application {\n    private String previousFruitName = null;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @GetMapping(&quot;/api1&quot;)\n    public String method1(@RequestParam String newFruitName){\n        System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\n        previousFruitName=newFruitName;\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29097706,"reputation":1,"user_id":22290251,"display_name":"Alok Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76774026,"answer_count":1,"score":-2,"last_activity_date":1690396160,"creation_date":1690394345,"question_id":76773946,"body_markdown":"I want to ask a question regarding Spring Beans.\r\n\r\nLet us say we have a simple Spring Boot application and there we have a @RestController class. I want to know why is this previousFruitName not changing and keeping to null. Like if we have a singleton bean then it should remember the previousFruitName once /api1 ran for the first time. Its current behaviour is that it is keeping to null.\r\n\r\n````\r\n@RestController\r\npublic class Class1{\r\n    private String previousFruitName = null;\r\n    \r\n    @GetMapping(&quot;/api1&quot;)\r\n    public String method1(@RequestParam String newFruitName){\r\n        \r\n        System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\r\n        previousFruitName=newFruitName;\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n````\r\n\r\n","title":"Singleton scope behaviour in a Spring Boot app","body":"<p>I want to ask a question regarding Spring Beans.</p>\n<p>Let us say we have a simple Spring Boot application and there we have a @RestController class. I want to know why is this previousFruitName not changing and keeping to null. Like if we have a singleton bean then it should remember the previousFruitName once /api1 ran for the first time. Its current behaviour is that it is keeping to null.</p>\n<pre><code>@RestController\npublic class Class1{\n    private String previousFruitName = null;\n    \n    @GetMapping(&quot;/api1&quot;)\n    public String method1(@RequestParam String newFruitName){\n        \n        System.out.println(&quot;previous fruit is &quot;+previousFruitName + &quot; and new fruit name is &quot; + newFruitName);\n        previousFruitName=newFruitName;\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1690391216,"post_id":76773409,"comment_id":135348225,"body_markdown":"does it change anything if the route starts with / ? aka: &quot;/business-objects&quot; ?","body":"does it change anything if the route starts with / ? aka: &quot;/business-objects&quot; ?"},{"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"score":0,"creation_date":1690393959,"post_id":76773409,"comment_id":135348851,"body_markdown":"Nope, no dice :(","body":"Nope, no dice :("},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1690396058,"post_id":76773409,"comment_id":135349278,"body_markdown":"show the stacktrace please","body":"show the stacktrace please"},{"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"score":0,"creation_date":1690396685,"post_id":76773409,"comment_id":135349389,"body_markdown":"There is no stacktrace other than &quot;No GET for business-objects&quot; in the log when requests are made.","body":"There is no stacktrace other than &quot;No GET for business-objects&quot; in the log when requests are made."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1690402305,"post_id":76773409,"comment_id":135350388,"body_markdown":"which @Transactional annotation are you using?","body":"which @Transactional annotation are you using?"},{"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"score":0,"creation_date":1690410648,"post_id":76773409,"comment_id":135351650,"body_markdown":"`org.springframework.transaction.annotation.Transactional`","body":"<code>org.springframework.transaction.annotation.Transactional</code>"}],"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690395825,"creation_date":1690389674,"question_id":76773409,"body_markdown":"I&#39;m having a very odd problem. I&#39;ve recently had to add a @Transactional annotation to one of our Spring controllers, and it suddenly is giving a 404 error when making any requests. No @Transactional, no errors. I&#39;ve confirmed that the bean is being created in both instances, it just appears that Spring can&#39;t find the route. This is in Spring 5.3.27, not Spring Boot.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;business-objects&quot;)\r\n@Transactional\r\npublic class BusinessObjectsController {\r\n```\r\n\r\nSince this is the only thing that has changed, I&#39;m totally at a loss for why this would be happening, and am looking for any advice on what could be causing this issue.\r\n\r\nThanks!\r\n\r\nEdit To Add:\r\nSo after digging into the bowels of Spring, looking in `AbstractHandlerMethodMapping.processCandidateBean`, when the annotation is added, it generates a JDK Proxy, which is then failing the `isHandler` check, so it&#39;s not being added to the mapping.","title":"Why would adding a @Transactional annotation to Spring controller cause 404 errors","body":"<p>I'm having a very odd problem. I've recently had to add a @Transactional annotation to one of our Spring controllers, and it suddenly is giving a 404 error when making any requests. No @Transactional, no errors. I've confirmed that the bean is being created in both instances, it just appears that Spring can't find the route. This is in Spring 5.3.27, not Spring Boot.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;business-objects&quot;)\n@Transactional\npublic class BusinessObjectsController {\n</code></pre>\n<p>Since this is the only thing that has changed, I'm totally at a loss for why this would be happening, and am looking for any advice on what could be causing this issue.</p>\n<p>Thanks!</p>\n<p>Edit To Add:\nSo after digging into the bowels of Spring, looking in <code>AbstractHandlerMethodMapping.processCandidateBean</code>, when the annotation is added, it generates a JDK Proxy, which is then failing the <code>isHandler</code> check, so it's not being added to the mapping.</p>\n"},{"tags":["java","arrays","string","output"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689714233,"post_id":76716418,"comment_id":135252140,"body_markdown":"What should be the output if there are two *different* words with the same maximum length? For example, if you added `&quot;wazup&quot;` to the array?","body":"What should be the output if there are two <i>different</i> words with the same maximum length? For example, if you added <code>&quot;wazup&quot;</code> to the array?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689733824,"post_id":76716418,"comment_id":135253925,"body_markdown":"you could try `maxString += &quot;, &quot; + string;` --&gt; `if (!maxString.contains(string)) { `maxString += &quot;, &quot; + string; }`","body":"you could try <code>maxString += &quot;, &quot; + string;</code> --&gt; <code>if (!maxString.contains(string)) { </code>maxString += &quot;, &quot; + string; }`"}],"answers":[{"tags":[],"owner":{"account_id":4347153,"reputation":93,"user_id":3548808,"accept_rate":17,"display_name":"user3548808"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713442,"creation_date":1689713442,"answer_id":76716464,"question_id":76716418,"body_markdown":"```\r\n   if (string.length() == longestString.length()) {\r\n           longestString = string;\r\n           maxString += &quot;, &quot; + string;\r\n       }\r\n```\r\nremove this part, it adds, the second one at the end of first.","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<pre><code>   if (string.length() == longestString.length()) {\n           longestString = string;\n           maxString += &quot;, &quot; + string;\n       }\n</code></pre>\n<p>remove this part, it adds, the second one at the end of first.</p>\n"},{"tags":[],"owner":{"account_id":11749447,"reputation":1109,"user_id":10403061,"display_name":"liakoyras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689714008,"creation_date":1689713686,"answer_id":76716493,"question_id":76716418,"body_markdown":"```\r\nif (string.length() == longestString.length()) {\r\n    longestString = string;\r\n    maxString += &quot;, &quot; + string;\r\n}\r\n```\r\nThis part of the code appends any string that is found to be equal to the longest string found thus far.\r\n\r\nIn order to keep only the longest string that appears first, just remove this block.\r\n\r\nIf on the other hand you wish to keep the last, after removing, make the first if statement to check equality too:\r\n```\r\nif (string.length() &gt;= longestString.length())\r\n```","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<pre><code>if (string.length() == longestString.length()) {\n    longestString = string;\n    maxString += &quot;, &quot; + string;\n}\n</code></pre>\n<p>This part of the code appends any string that is found to be equal to the longest string found thus far.</p>\n<p>In order to keep only the longest string that appears first, just remove this block.</p>\n<p>If on the other hand you wish to keep the last, after removing, make the first if statement to check equality too:</p>\n<pre><code>if (string.length() &gt;= longestString.length())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16563652,"reputation":473,"user_id":11968910,"display_name":"Borisonekenobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713749,"creation_date":1689713749,"answer_id":76716499,"question_id":76716418,"body_markdown":"This is the way I solved this:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\n        int longestString = 0;\r\n\r\n        for (int i = 0; i &lt; massive.length; i++) {\r\n            if (massive[i].length() &gt; massive[longestString].length) {\r\n                longestString = i;\r\n            }\r\n        }\r\n        System.out.println(massive[longestString]);\r\n    }\r\n}\r\n```\r\nEvery iteration of the loop, I check to see if the current word is longer than the `longestString`, and at the end of the loop, it prints out the longest one.\r\n\r\nHope this helps! :)","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>This is the way I solved this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\n        int longestString = 0;\n\n        for (int i = 0; i &lt; massive.length; i++) {\n            if (massive[i].length() &gt; massive[longestString].length) {\n                longestString = i;\n            }\n        }\n        System.out.println(massive[longestString]);\n    }\n}\n</code></pre>\n<p>Every iteration of the loop, I check to see if the current word is longer than the <code>longestString</code>, and at the end of the loop, it prints out the longest one.</p>\n<p>Hope this helps! :)</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690032519,"creation_date":1689738809,"answer_id":76717881,"question_id":76716418,"body_markdown":"You should contain the data differently.  \r\nCreate the appended string after the loop; checking if the value already exists.\r\n\r\n```java\r\nString[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;wazup&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\nString longestString = &quot;&quot;;\r\nString maxString = &quot;&quot;;\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nfor (String string : massive) {\r\n    if (string.length() &gt; longestString.length()) {\r\n        list = new ArrayList&lt;&gt;();\r\n        list.add(longestString = string);\r\n    } else if (string.length() == longestString.length()) {\r\n        if (!list.contains(string)) list.add(string);\r\n    }\r\n}\r\n\r\nmaxString = String.join(&quot;, &quot;, list);\r\nSystem.out.println(maxString);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nhello, wazup\r\n```","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>You should contain the data differently.<br />\nCreate the appended string after the loop; checking if the value already exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;wazup&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\nString longestString = &quot;&quot;;\nString maxString = &quot;&quot;;\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (String string : massive) {\n    if (string.length() &gt; longestString.length()) {\n        list = new ArrayList&lt;&gt;();\n        list.add(longestString = string);\n    } else if (string.length() == longestString.length()) {\n        if (!list.contains(string)) list.add(string);\n    }\n}\n\nmaxString = String.join(&quot;, &quot;, list);\nSystem.out.println(maxString);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>hello, wazup\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29044470,"reputation":11,"user_id":22248628,"display_name":"Denis Zabelin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690394926,"creation_date":1690028842,"answer_id":76743773,"question_id":76716418,"body_markdown":"I have found out the right solution as below:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] massive = {&quot;hello&quot;, &quot;abcde&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\n            String longestString = &quot;&quot;;\r\n            String maxString = &quot;&quot;;\r\n            for (String string : massive) {\r\n                if (string.length() &gt; longestString.length()) {\r\n                    longestString = string;\r\n                    maxString = string;\r\n                    continue;\r\n                }\r\n                if (string.length() == longestString.length()) {\r\n                    longestString = string;\r\n                    if (!maxString.contains(string)) {\r\n                        maxString += &quot;, &quot; + string;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(maxString);\r\n        }\r\n    }\r\n\r\nMy mistake in forming the question was that I did not fully spell out the requirements of the task. Here are the requirements: \r\n\r\n`[&quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]` -&gt; hello\r\n\r\n`[&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]` -&gt; hello\r\n\r\n`[&quot;hello&quot;, &quot;bingo&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]` -&gt; hello, bingo\r\n","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>I have found out the right solution as below:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String[] massive = {&quot;hello&quot;, &quot;abcde&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\n        String longestString = &quot;&quot;;\n        String maxString = &quot;&quot;;\n        for (String string : massive) {\n            if (string.length() &gt; longestString.length()) {\n                longestString = string;\n                maxString = string;\n                continue;\n            }\n            if (string.length() == longestString.length()) {\n                longestString = string;\n                if (!maxString.contains(string)) {\n                    maxString += &quot;, &quot; + string;\n                }\n            }\n        }\n        System.out.println(maxString);\n    }\n}\n</code></pre>\n<p>My mistake in forming the question was that I did not fully spell out the requirements of the task. Here are the requirements:</p>\n<p><code>[&quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]</code> -&gt; hello</p>\n<p><code>[&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]</code> -&gt; hello</p>\n<p><code>[&quot;hello&quot;, &quot;bingo&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;]</code> -&gt; hello, bingo</p>\n"}],"owner":{"account_id":29044470,"reputation":11,"user_id":22248628,"display_name":"Denis Zabelin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1690394926,"creation_date":1689712956,"question_id":76716418,"body_markdown":"the main goal is to write a method that finds the longest string in any given array. I don&#39;t quite understand how to adjust my code so that &quot;hello&quot; string value is output only once from the above array. \r\n\r\nCould someone please suggest how to correct the code? Thanks in advance!\r\n\r\n```package com.amigoscode;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\r\n        String longestString = &quot;&quot;;\r\n        String maxString = &quot;&quot;;\r\n        for (String string : massive) {\r\n            if (string.length() &gt; longestString.length()) {\r\n                longestString = string;\r\n                maxString = string;\r\n                continue;\r\n            }\r\n            if (string.length() == longestString.length()) {\r\n                longestString = string;\r\n                maxString += &quot;, &quot; + string;\r\n            }\r\n        }\r\n        System.out.println(maxString);\r\n    }\r\n}```","title":"How to output &quot;hello&quot; value only once from array containing &quot;hello&quot; two times?","body":"<p>the main goal is to write a method that finds the longest string in any given array. I don't quite understand how to adjust my code so that &quot;hello&quot; string value is output only once from the above array.</p>\n<p>Could someone please suggest how to correct the code? Thanks in advance!</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args) {\n        String[] massive = {&quot;hello&quot;, &quot;hello&quot;, &quot;ola&quot;, &quot;bye&quot;, &quot;ciao&quot;};\n        String longestString = &quot;&quot;;\n        String maxString = &quot;&quot;;\n        for (String string : massive) {\n            if (string.length() &gt; longestString.length()) {\n                longestString = string;\n                maxString = string;\n                continue;\n            }\n            if (string.length() == longestString.length()) {\n                longestString = string;\n                maxString += &quot;, &quot; + string;\n            }\n        }\n        System.out.println(maxString);\n    }\n}```\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690353883,"post_id":76767993,"comment_id":135339787,"body_markdown":"Typically, you can&#39;t. You need get the [`AnnotationValue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/lang/model/element/AnnotationValue.html) from the `AnnotationMirror` and call `getValue()` on it. The previously linked documentation explains what types that method can return. Note for an annotation element, it will return a `TypeMirror`. For an array (of any type) element, it will return a `List&lt;? extends AnnotationValue&gt;`; you can call `getValue()` on each `AnnotationValue` in the list to get the individual values.","body":"Typically, you can&#39;t. You need get the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/lang/model/element/AnnotationValue.html\" rel=\"nofollow noreferrer\"><code>AnnotationValue</code></a> from the <code>AnnotationMirror</code> and call <code>getValue()</code> on it. The previously linked documentation explains what types that method can return. Note for an annotation element, it will return a <code>TypeMirror</code>. For an array (of any type) element, it will return a <code>List&lt;? extends AnnotationValue&gt;</code>; you can call <code>getValue()</code> on each <code>AnnotationValue</code> in the list to get the individual values."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690353998,"post_id":76767993,"comment_id":135339815,"body_markdown":"So, if you had `@Foo(tableClass = Bar.class)`, then ultimately, you&#39;d end up with a `TypeMirror` representing the `Bar` type. You then use that `TypeMirror` as needed.","body":"So, if you had <code>@Foo(tableClass = Bar.class)</code>, then ultimately, you&#39;d end up with a <code>TypeMirror</code> representing the <code>Bar</code> type. You then use that <code>TypeMirror</code> as needed."},{"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"score":0,"creation_date":1690366243,"post_id":76767993,"comment_id":135342362,"body_markdown":"I see, for example: A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor?","body":"I see, for example: A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690407652,"post_id":76767993,"comment_id":135351237,"body_markdown":"Not that I know of, particularly not if `Bar` is a class being compiled. But... are you trying to create a _compile-time_ annotation processor (you seem to be, given your use of `DeclaredType`), or are you trying to create a _run-time_ annotation processor?","body":"Not that I know of, particularly not if <code>Bar</code> is a class being compiled. But... are you trying to create a <i>compile-time</i> annotation processor (you seem to be, given your use of <code>DeclaredType</code>), or are you trying to create a <i>run-time</i> annotation processor?"},{"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"score":0,"creation_date":1690421240,"post_id":76767993,"comment_id":135352831,"body_markdown":"Thank you, yes I&#39;m trying to create a compile-time annotation processor just like Android Jetpack or lombok.   Such as RoomDataBase, it could call methods annotated by @TypeConverter in compile-time, and generate final class files in project directory. I&#39;ve tried to read the source code of these frameworks but failed. : (  If there is any way to solve this problem......?","body":"Thank you, yes I&#39;m trying to create a compile-time annotation processor just like Android Jetpack or lombok.   Such as RoomDataBase, it could call methods annotated by @TypeConverter in compile-time, and generate final class files in project directory. I&#39;ve tried to read the source code of these frameworks but failed. : (  If there is any way to solve this problem......?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690430436,"post_id":76767993,"comment_id":135353531,"body_markdown":"Lombok is different from other annotation processors (it hacks the internals of the compiler to modify the source tree before it&#39;s actually compiled, allowing it to add getters, setters, etc.). I&#39;m not familiar with Room&#39;s implementation, but from a quick perusal it appears that it generates code based on the annotations via the `Filer` (after validating the annotations and their element values). At run-time, it finds and loads the generated classes based on naming patterns (e.g., the name of the `@Database`-annotated class plus a known suffix).","body":"Lombok is different from other annotation processors (it hacks the internals of the compiler to modify the source tree before it&#39;s actually compiled, allowing it to add getters, setters, etc.). I&#39;m not familiar with Room&#39;s implementation, but from a quick perusal it appears that it generates code based on the annotations via the <code>Filer</code> (after validating the annotations and their element values). At run-time, it finds and loads the generated classes based on naming patterns (e.g., the name of the <code>@Database</code>-annotated class plus a known suffix)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690430662,"post_id":76767993,"comment_id":135353550,"body_markdown":"Note it also seems to use the [Auto](https://github.com/google/auto/tree/main) and [JavaPoet](https://github.com/square/javapoet) libraries to make implementing an annotation processor and generating source code easier.","body":"Note it also seems to use the <a href=\"https://github.com/google/auto/tree/main\" rel=\"nofollow noreferrer\">Auto</a> and <a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">JavaPoet</a> libraries to make implementing an annotation processor and generating source code easier."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690430857,"post_id":76767993,"comment_id":135353566,"body_markdown":"&quot;_A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor_&quot; -- So, I guess it depends on what you mean by &quot;call this method&quot;. You can certainly generate code that will call the method when executed (after compilation).","body":"&quot;<i>A method &quot;call()&quot; in Bar.class, are there exists any ways to call this method in AnnotationProcessor</i>&quot; -- So, I guess it depends on what you mean by &quot;call this method&quot;. You can certainly generate code that will call the method when executed (after compilation)."},{"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"score":0,"creation_date":1690443242,"post_id":76767993,"comment_id":135355227,"body_markdown":"OK, I got it, anyway. thank you very much!!","body":"OK, I got it, anyway. thank you very much!!"}],"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690394812,"creation_date":1690344697,"question_id":76767993,"body_markdown":"I&#39;m trying to make a custom Annotation Processor\r\n\r\nThis is my annotation var\r\n\r\n`Class&lt;?&gt; tableClass();`\r\n\r\nNow I have got the `DeclaredType`,\r\nand how can I get the `Class&lt;?&gt;` object which the `DeclaredType` refers to.\r\n\r\nBy the way, if annotation has a var of `Class&lt;?&gt;[]`, how could I get the class array?","title":"How to get Class&lt;?&gt; through Element or TypeMirror","body":"<p>I'm trying to make a custom Annotation Processor</p>\n<p>This is my annotation var</p>\n<p><code>Class&lt;?&gt; tableClass();</code></p>\n<p>Now I have got the <code>DeclaredType</code>,\nand how can I get the <code>Class&lt;?&gt;</code> object which the <code>DeclaredType</code> refers to.</p>\n<p>By the way, if annotation has a var of <code>Class&lt;?&gt;[]</code>, how could I get the class array?</p>\n"},{"tags":["java","mongodb","spring-boot","mongotemplate"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1690390100,"post_id":76773422,"comment_id":135347960,"body_markdown":"Can you use mongo compass to first execute raw query? what are the input documents?","body":"Can you use mongo compass to first execute raw query? what are the input documents?"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1690390237,"post_id":76773422,"comment_id":135347994,"body_markdown":"@silentsudo Yes i executed the query in mongo compass and it returns the data","body":"@silentsudo Yes i executed the query in mongo compass and it returns the data"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1690390327,"post_id":76773422,"comment_id":135348018,"body_markdown":"can you share sample inmput documents?","body":"can you share sample inmput documents?"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1690390746,"post_id":76773422,"comment_id":135348124,"body_markdown":"Sure, \n[{\n  &quot;_id&quot;: &quot;1684172039694001NAhc&quot;,\n  &quot;eventId&quot;: &quot;12345&quot;,\n  &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecosystem. &lt;/p&gt;&quot;,\n  &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG say YES to advancing care delivery while reducing inefficiencies&quot;\n},\n{\n  &quot;_id&quot;: &quot;1686082012480001ny5O&quot;,\n  &quot;eventId&quot;: &quot;12345&quot;,\n  &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases.&quot;,\n  &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot;\n}]","body":"Sure,  [{   &quot;_id&quot;: &quot;1684172039694001NAhc&quot;,   &quot;eventId&quot;: &quot;12345&quot;,   &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecosystem. &lt;/p&gt;&quot;,   &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG say YES to advancing care delivery while reducing inefficiencies&quot; }, {   &quot;_id&quot;: &quot;1686082012480001ny5O&quot;,   &quot;eventId&quot;: &quot;12345&quot;,   &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases.&quot;,   &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot; }]"}],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690394075,"creation_date":1690394075,"answer_id":76773911,"question_id":76773422,"body_markdown":"Can you try following code, i think you are not using aggregation instead simple find query using [filter][1] wrapped inside and and or\r\n\r\n```java\r\nBson eventBson = Filters.eq(&quot;eventId&quot;, &quot;12345&quot;);\r\n        Bson titleSearchBson = Filters.regex(&quot;title&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\r\n        Bson descriptionSearchBson = Filters.regex(&quot;description&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\r\n\r\n        Bson titleOrDescriptionSearchBson = Filters.or(titleSearchBson, descriptionSearchBson);\r\n        Bson mongoQuery = Filters.and(eventBson, titleOrDescriptionSearchBson);\r\n        System.out.println(mongoQuery.toBsonDocument().toJson());\r\n\r\n        MongoCollection&lt;Document&gt; news = mongoTemplate.getCollection(&quot;news&quot;);\r\n\r\n        Iterable&lt;Document&gt; documents = news.find(mongoQuery);\r\n        List&lt;Document&gt; result = StreamSupport.stream(documents.spliterator(), false).toList();\r\n```\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.5/javadoc/com/mongodb/client/model/Filters.html","title":"MongoDb aggregation not returning result","body":"<p>Can you try following code, i think you are not using aggregation instead simple find query using <a href=\"https://mongodb.github.io/mongo-java-driver/3.5/javadoc/com/mongodb/client/model/Filters.html\" rel=\"nofollow noreferrer\">filter</a> wrapped inside and and or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bson eventBson = Filters.eq(&quot;eventId&quot;, &quot;12345&quot;);\n        Bson titleSearchBson = Filters.regex(&quot;title&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\n        Bson descriptionSearchBson = Filters.regex(&quot;description&quot;, &quot;.*learning.*&quot;, &quot;i&quot;);\n\n        Bson titleOrDescriptionSearchBson = Filters.or(titleSearchBson, descriptionSearchBson);\n        Bson mongoQuery = Filters.and(eventBson, titleOrDescriptionSearchBson);\n        System.out.println(mongoQuery.toBsonDocument().toJson());\n\n        MongoCollection&lt;Document&gt; news = mongoTemplate.getCollection(&quot;news&quot;);\n\n        Iterable&lt;Document&gt; documents = news.find(mongoQuery);\n        List&lt;Document&gt; result = StreamSupport.stream(documents.spliterator(), false).toList();\n</code></pre>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690394075,"creation_date":1690389847,"question_id":76773422,"body_markdown":"I&#39;m trying to find data from a document which has the fields : eventId, title and description and the result has to contain the eventId and a text matching either in title or description.\r\n\r\nThe query I&#39;m trying to run is:\r\n```\r\n{\r\n  &quot;$and&quot;: [\r\n    {\r\n      &quot;eventId&quot;: &quot;12345&quot;\r\n    },\r\n    {\r\n      &quot;$or&quot;: [\r\n        {\r\n          &quot;title&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\r\n        },\r\n        {\r\n          &quot;description&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\nI&#39;ve written equivalent code in spring boot using the mongo template&#39;s aggregate. My code that searches the data:\r\n\r\n```java\r\n public Page&lt;?&gt; searchFilter(String eventId, Class domainType, PageRequest pageRequest, String... text) {\r\n        String textPattern = &quot;.*&quot; + text[0] + &quot;.*&quot;;\r\n\r\n        Criteria selectCriteria = Criteria.where(&quot;eventId&quot;).is(eventId);\r\n\r\n        List&lt;Criteria&gt; orCriteria = new ArrayList&lt;&gt;();\r\n        orCriteria.add(Criteria.where(&quot;title&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\r\n        orCriteria.add(Criteria.where(&quot;description&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\r\n        \r\n        String data = &quot;data&quot;;\r\n        GroupOperation group = Aggregation.group().addToSet(Aggregation.ROOT)\r\n                .as(data).count().as(&quot;count&quot;);\r\n        ProjectionOperation project = Aggregation.project()\r\n                .andInclude(&quot;count&quot;)\r\n                .and(ArrayOperators.Slice.sliceArrayOf(data).offset((int) pageRequest.getOffset()).itemCount(pageRequest.getPageSize()))\r\n                .as(data);\r\n        \r\n        Criteria searchCriteria = new Criteria().andOperator(selectCriteria, new Criteria().orOperator(orCriteria));\r\n        \r\n        MatchOperation match = Aggregation.match(searchCriteria);\r\n\r\n        Aggregation aggregation  = Aggregation.newAggregation(match, group, project);\r\n\r\n        var results = mongoTemplate.aggregate(aggregation, domainType, PaginationWrapper.class)\r\n                .getUniqueMappedResult();\r\n\r\n\r\n        if (results == null) return new PageImpl&lt;&gt;(Collections.emptyList());\r\n        List&lt;LinkedHashMap&gt; reponseData = results.getData();\r\n        var domainList = reponseData.stream()\r\n                .map(hm -&gt; {\r\n                    if (hm.get(&quot;_id&quot;) != null) {\r\n                        hm.put(&quot;id&quot;, hm.get(&quot;_id&quot;));\r\n                    }\r\n                    if(hm.get(&quot;attributes&quot;) != null) {\r\n                        hm.put(&quot;Attributes&quot;, hm.get(&quot;attributes&quot;));\r\n                    }\r\n                    return hm;\r\n                })\r\n                .map(a -&gt; objectMapper.convertValue(a, domainType))\r\n                .collect(Collectors.toList());\r\n        return new PageImpl&lt;&gt;(domainList, pageRequest, results.getCount());\r\n    }\r\n\r\n```\r\n\r\nWhen search request is made for an eventId and specific text, if the text exists in title it returns the result. But if the text exists in description then it returns empty result.\r\n\r\nFor example: if search is made for eventId 12345 and text &quot;pandemic&quot;, it should return result with 2 data.\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;eventId&quot;: &quot;12345&quot;,\r\n            &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG&quot;,\r\n            &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecos&quot;\r\n        },\r\n        {\r\n            &quot;eventId&quot;: &quot;12345&quot;,\r\n            &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot;,\r\n            &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases for.&quot;\r\n        }\r\n    ],\r\n    &quot;errors&quot;: [],\r\n    &quot;timestamp&quot;: 1690388775373,\r\n    &quot;page&quot;: 0,\r\n    &quot;size&quot;: 2,\r\n    &quot;totalPage&quot;: 0\r\n}\r\n\r\n```\r\n\r\nBut the current code is returning empty result on search.\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: [],\r\n    &quot;errors&quot;: [],\r\n    &quot;timestamp&quot;: 1690389617769,\r\n    &quot;page&quot;: 0,\r\n    &quot;size&quot;: 0,\r\n    &quot;totalPage&quot;: 0\r\n}\r\n```\r\n\r\nFor same data set if search is made for text NBA, it returns the result. What is wrong in the above java code ?\r\n\r\nWent through similar question : https://stackoverflow.com/questions/76671712/mongodb-aggregation-returns-an-empty-result but didn&#39;t find solution.","title":"MongoDb aggregation not returning result","body":"<p>I'm trying to find data from a document which has the fields : eventId, title and description and the result has to contain the eventId and a text matching either in title or description.</p>\n<p>The query I'm trying to run is:</p>\n<pre><code>{\n  &quot;$and&quot;: [\n    {\n      &quot;eventId&quot;: &quot;12345&quot;\n    },\n    {\n      &quot;$or&quot;: [\n        {\n          &quot;title&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\n        },\n        {\n          &quot;description&quot;: { &quot;$regex&quot;: &quot;.*text_here*.&quot;, &quot;$options&quot;: &quot;i&quot; }\n        }\n      ]\n    }\n  ]\n}\n\n</code></pre>\n<p>I've written equivalent code in spring boot using the mongo template's aggregate. My code that searches the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public Page&lt;?&gt; searchFilter(String eventId, Class domainType, PageRequest pageRequest, String... text) {\n        String textPattern = &quot;.*&quot; + text[0] + &quot;.*&quot;;\n\n        Criteria selectCriteria = Criteria.where(&quot;eventId&quot;).is(eventId);\n\n        List&lt;Criteria&gt; orCriteria = new ArrayList&lt;&gt;();\n        orCriteria.add(Criteria.where(&quot;title&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\n        orCriteria.add(Criteria.where(&quot;description&quot;).regex(String.join(&quot;|&quot;, textPattern), &quot;i&quot;));\n        \n        String data = &quot;data&quot;;\n        GroupOperation group = Aggregation.group().addToSet(Aggregation.ROOT)\n                .as(data).count().as(&quot;count&quot;);\n        ProjectionOperation project = Aggregation.project()\n                .andInclude(&quot;count&quot;)\n                .and(ArrayOperators.Slice.sliceArrayOf(data).offset((int) pageRequest.getOffset()).itemCount(pageRequest.getPageSize()))\n                .as(data);\n        \n        Criteria searchCriteria = new Criteria().andOperator(selectCriteria, new Criteria().orOperator(orCriteria));\n        \n        MatchOperation match = Aggregation.match(searchCriteria);\n\n        Aggregation aggregation  = Aggregation.newAggregation(match, group, project);\n\n        var results = mongoTemplate.aggregate(aggregation, domainType, PaginationWrapper.class)\n                .getUniqueMappedResult();\n\n\n        if (results == null) return new PageImpl&lt;&gt;(Collections.emptyList());\n        List&lt;LinkedHashMap&gt; reponseData = results.getData();\n        var domainList = reponseData.stream()\n                .map(hm -&gt; {\n                    if (hm.get(&quot;_id&quot;) != null) {\n                        hm.put(&quot;id&quot;, hm.get(&quot;_id&quot;));\n                    }\n                    if(hm.get(&quot;attributes&quot;) != null) {\n                        hm.put(&quot;Attributes&quot;, hm.get(&quot;attributes&quot;));\n                    }\n                    return hm;\n                })\n                .map(a -&gt; objectMapper.convertValue(a, domainType))\n                .collect(Collectors.toList());\n        return new PageImpl&lt;&gt;(domainList, pageRequest, results.getCount());\n    }\n\n</code></pre>\n<p>When search request is made for an eventId and specific text, if the text exists in title it returns the result. But if the text exists in description then it returns empty result.</p>\n<p>For example: if search is made for eventId 12345 and text &quot;pandemic&quot;, it should return result with 2 data.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: [\n        {\n            &quot;eventId&quot;: &quot;12345&quot;,\n            &quot;title&quot;: &quot;Spotlight Keynote: Oslo University Hospital and KPMG&quot;,\n            &quot;description&quot;: &quot;&lt;p&gt;The pandemic has forever changed all aspects of the healthcare ecos&quot;\n        },\n        {\n            &quot;eventId&quot;: &quot;12345&quot;,\n            &quot;title&quot;: &quot;NBA Properties revolutionizes workplace experiences&quot;,\n            &quot;description&quot;: &quot;The NBA emerged from the pandemic with new learnings and use cases for.&quot;\n        }\n    ],\n    &quot;errors&quot;: [],\n    &quot;timestamp&quot;: 1690388775373,\n    &quot;page&quot;: 0,\n    &quot;size&quot;: 2,\n    &quot;totalPage&quot;: 0\n}\n\n</code></pre>\n<p>But the current code is returning empty result on search.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: [],\n    &quot;errors&quot;: [],\n    &quot;timestamp&quot;: 1690389617769,\n    &quot;page&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;totalPage&quot;: 0\n}\n</code></pre>\n<p>For same data set if search is made for text NBA, it returns the result. What is wrong in the above java code ?</p>\n<p>Went through similar question : <a href=\"https://stackoverflow.com/questions/76671712/mongodb-aggregation-returns-an-empty-result\">MongoDB aggregation returns an empty result</a> but didn't find solution.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"owner":{"account_id":17668342,"reputation":37,"user_id":12825166,"display_name":"Michael Adolfo Huerta Ramirez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690393753,"creation_date":1690393753,"question_id":76773876,"body_markdown":"I am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.\r\n\r\napplication.properties\r\n\r\n```\r\nspring.data.mongodb = localhost\r\nspring.data.mongodb.port = 27017\r\nspring.data.mongodb.database=youtube\r\n#####Amazon WebService\r\ncloud.aws.region.static=us-east-1\r\ncloud.aws.stack.auto=false\r\n\r\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\r\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\r\naws.region=us-east-1\r\ncloud.aws.region.use-default-aws-region-chain=true\r\ncloud.aws.ec2.metadata.enabled=false\r\n```\r\nVideostreamingApplication.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming;\r\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\n@EnableContextInstanceData\r\npublic class VideostreamingApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(VideostreamingApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nS3Service.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.service;\r\nimport com.amazonaws.services.s3.AmazonS3Client;\r\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class S3Service implements FileService {\r\n\r\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\r\n    private final AmazonS3Client awsS3Client;\r\n\r\n    @Override\r\n    public String uploadFile(MultipartFile file) {\r\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\r\n\r\n        var key = UUID.randomUUID().toString() + filenameExtension;\r\n\r\n        var metadata = new ObjectMetadata();\r\n        metadata.setContentLength(file.getSize());\r\n        metadata.setContentType(file.getContentType());\r\n\r\n        try {\r\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\r\n        } catch (IOException ioException) {\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                    &quot;An Exception occured while uploading the file&quot;);\r\n        }\r\n\r\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\r\n\r\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\r\n    }\r\n}\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\r\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.395&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nVideoController.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.controller;\r\n\r\nimport com.fitomx19.videostreaming.service.VideoService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/videos&quot;)\r\n@RequiredArgsConstructor\r\npublic class VideoController {\r\n\r\n    private final VideoService videoService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        videoService.uploadVideo(file);\r\n    }\r\n}\r\n```\r\n\r\nMy structure is this -&gt;\r\n\r\n```\r\nbackend\r\n--src\r\n  --main\r\n    --java\r\n       --com.fitomx19.videostreaming\r\n           --controller\r\n             videoController\r\n           --model\r\n             Comment\r\n             User\r\n             Video\r\n             VideoStatus\r\n           --repository\r\n             VideoRepository\r\n           --service\r\n             FileService\r\n             S3Service\r\n             VideoService\r\n           VideostreamingApplication.java\r\n```\r\n\r\nI am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.\r\n\r\napplication.properties\r\n\r\n```\r\nspring.data.mongodb = localhost\r\nspring.data.mongodb.port = 27017\r\nspring.data.mongodb.database=youtube\r\n#####Amazon WebService\r\ncloud.aws.region.static=us-east-1\r\ncloud.aws.stack.auto=false\r\n\r\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\r\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\r\naws.region=us-east-1\r\ncloud.aws.region.use-default-aws-region-chain=true\r\ncloud.aws.ec2.metadata.enabled=false\r\n```\r\nVideostreamingApplication.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming;\r\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\n@EnableContextInstanceData\r\npublic class VideostreamingApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(VideostreamingApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nS3Service.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.service;\r\nimport com.amazonaws.services.s3.AmazonS3Client;\r\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class S3Service implements FileService {\r\n\r\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\r\n    private final AmazonS3Client awsS3Client;\r\n\r\n    @Override\r\n    public String uploadFile(MultipartFile file) {\r\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\r\n\r\n        var key = UUID.randomUUID().toString() + filenameExtension;\r\n\r\n        var metadata = new ObjectMetadata();\r\n        metadata.setContentLength(file.getSize());\r\n        metadata.setContentType(file.getContentType());\r\n\r\n        try {\r\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\r\n        } catch (IOException ioException) {\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                    &quot;An Exception occured while uploading the file&quot;);\r\n        }\r\n\r\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\r\n\r\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\r\n    }\r\n}\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\r\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.395&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nVideoController.java\r\n\r\n```\r\npackage com.fitomx19.videostreaming.controller;\r\n\r\nimport com.fitomx19.videostreaming.service.VideoService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/videos&quot;)\r\n@RequiredArgsConstructor\r\npublic class VideoController {\r\n\r\n    private final VideoService videoService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        videoService.uploadVideo(file);\r\n    }\r\n}\r\n```\r\n\r\nMy structure is this -&gt;\r\n\r\n```\r\nbackend\r\n--src\r\n  --main\r\n    --java\r\n       --com.fitomx19.videostreaming\r\n           --controller\r\n             videoController\r\n           --model\r\n             Comment\r\n             User\r\n             Video\r\n             VideoStatus\r\n           --repository\r\n             VideoRepository\r\n           --service\r\n             FileService\r\n             S3Service\r\n             VideoService\r\n           VideostreamingApplication.java\r\n```","title":"Spring Maven AWS S3 Bucket -&gt; Unable to retrieve the requested metadata (/latest/user-data/). Failed to connect to service endpoint:","body":"<p>I am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.</p>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb = localhost\nspring.data.mongodb.port = 27017\nspring.data.mongodb.database=youtube\n#####Amazon WebService\ncloud.aws.region.static=us-east-1\ncloud.aws.stack.auto=false\n\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\naws.region=us-east-1\ncloud.aws.region.use-default-aws-region-chain=true\ncloud.aws.ec2.metadata.enabled=false\n</code></pre>\n<p>VideostreamingApplication.java</p>\n<pre><code>package com.fitomx19.videostreaming;\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@EnableContextInstanceData\npublic class VideostreamingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(VideostreamingApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>S3Service.java</p>\n<pre><code>package com.fitomx19.videostreaming.service;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Service\n@RequiredArgsConstructor\npublic class S3Service implements FileService {\n\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\n    private final AmazonS3Client awsS3Client;\n\n    @Override\n    public String uploadFile(MultipartFile file) {\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n\n        var key = UUID.randomUUID().toString() + filenameExtension;\n\n        var metadata = new ObjectMetadata();\n        metadata.setContentLength(file.getSize());\n        metadata.setContentType(file.getContentType());\n\n        try {\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\n        } catch (IOException ioException) {\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                    &quot;An Exception occured while uploading the file&quot;);\n        }\n\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\n\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.395&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>VideoController.java</p>\n<pre><code>package com.fitomx19.videostreaming.controller;\n\nimport com.fitomx19.videostreaming.service.VideoService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;/api/videos&quot;)\n@RequiredArgsConstructor\npublic class VideoController {\n\n    private final VideoService videoService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        videoService.uploadVideo(file);\n    }\n}\n</code></pre>\n<p>My structure is this -&gt;</p>\n<pre><code>backend\n--src\n  --main\n    --java\n       --com.fitomx19.videostreaming\n           --controller\n             videoController\n           --model\n             Comment\n             User\n             Video\n             VideoStatus\n           --repository\n             VideoRepository\n           --service\n             FileService\n             S3Service\n             VideoService\n           VideostreamingApplication.java\n</code></pre>\n<p>I am setting up this project with Spring, Maven, and MongoDB. I am encountering an issue when running the application because it seems that I have an error in the AWS configuration.</p>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb = localhost\nspring.data.mongodb.port = 27017\nspring.data.mongodb.database=youtube\n#####Amazon WebService\ncloud.aws.region.static=us-east-1\ncloud.aws.stack.auto=false\n\ncloud.aws.credentials.access-key=XXXXXXXXXXXXXXXXXX\ncloud.aws.credentials.secret-key=XXXXXXXXXXXXXXXXXX\naws.region=us-east-1\ncloud.aws.region.use-default-aws-region-chain=true\ncloud.aws.ec2.metadata.enabled=false\n</code></pre>\n<p>VideostreamingApplication.java</p>\n<pre><code>package com.fitomx19.videostreaming;\nimport io.awspring.cloud.context.config.annotation.EnableContextInstanceData;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@EnableContextInstanceData\npublic class VideostreamingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(VideostreamingApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>S3Service.java</p>\n<pre><code>package com.fitomx19.videostreaming.service;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Service\n@RequiredArgsConstructor\npublic class S3Service implements FileService {\n\n    public static final String BUCKET_NAME = &quot;bucketvideosfito&quot;;\n    private final AmazonS3Client awsS3Client;\n\n    @Override\n    public String uploadFile(MultipartFile file) {\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n\n        var key = UUID.randomUUID().toString() + filenameExtension;\n\n        var metadata = new ObjectMetadata();\n        metadata.setContentLength(file.getSize());\n        metadata.setContentType(file.getContentType());\n\n        try {\n            awsS3Client.putObject(BUCKET_NAME, key, file.getInputStream(), metadata);\n        } catch (IOException ioException) {\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                    &quot;An Exception occured while uploading the file&quot;);\n        }\n\n        awsS3Client.setObjectAcl(BUCKET_NAME, key, CannedAccessControlList.PublicRead);\n\n        return awsS3Client.getResourceUrl(BUCKET_NAME, key);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.fitomx19.videostreaming&lt;/groupId&gt;\n        &lt;artifactId&gt;videostreaming&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;name&gt;Archetype - backend&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.395&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>VideoController.java</p>\n<pre><code>package com.fitomx19.videostreaming.controller;\n\nimport com.fitomx19.videostreaming.service.VideoService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;/api/videos&quot;)\n@RequiredArgsConstructor\npublic class VideoController {\n\n    private final VideoService videoService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void uploadVideo(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        videoService.uploadVideo(file);\n    }\n}\n</code></pre>\n<p>My structure is this -&gt;</p>\n<pre><code>backend\n--src\n  --main\n    --java\n       --com.fitomx19.videostreaming\n           --controller\n             videoController\n           --model\n             Comment\n             User\n             Video\n             VideoStatus\n           --repository\n             VideoRepository\n           --service\n             FileService\n             S3Service\n             VideoService\n           VideostreamingApplication.java\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":18786818,"reputation":28,"user_id":13700242,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690388767,"creation_date":1690388573,"answer_id":76773278,"question_id":76773055,"body_markdown":"Properties with square brackets are still strings, not a collection.\r\nYou can try to deserialize these non-standard field names from the JSON using Jackson.\r\nReference: https://github.com/FasterXML/jackson.\r\nYou POJO would look like this:\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class MyResponse {\r\n    \r\n        private final String type;\r\n        private final String dataEmail;\r\n        private final String dataMergesFn;\r\n    \r\n        @JsonCreator\r\n        public MyResponse(\r\n                @JsonProperty(&quot;type&quot;) String type,\r\n                @JsonProperty(&quot;data[email]&quot;) String dataEmail,\r\n                @JsonProperty(&quot;data[merges][FN]&quot;) String dataMergesFn) {\r\n            this.type = type;\r\n            this.dataEmail = dataEmail;\r\n            this.dataMergesFn = dataMergesFn;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public String getDataEmail() {\r\n            return dataEmail;\r\n        }\r\n    \r\n        public String getDataMergesFn() {\r\n            return dataMergesFn;\r\n        }\r\n    }\r\n\r\nYour controller will parse that json with `@RequestBody MyResponse myResponse`","title":"Spring Boot 2.5 - unable to convert form data to custom POJO","body":"<p>Properties with square brackets are still strings, not a collection.\nYou can try to deserialize these non-standard field names from the JSON using Jackson.\nReference: <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson</a>.\nYou POJO would look like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class MyResponse {\n\n    private final String type;\n    private final String dataEmail;\n    private final String dataMergesFn;\n\n    @JsonCreator\n    public MyResponse(\n            @JsonProperty(&quot;type&quot;) String type,\n            @JsonProperty(&quot;data[email]&quot;) String dataEmail,\n            @JsonProperty(&quot;data[merges][FN]&quot;) String dataMergesFn) {\n        this.type = type;\n        this.dataEmail = dataEmail;\n        this.dataMergesFn = dataMergesFn;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public String getDataEmail() {\n        return dataEmail;\n    }\n\n    public String getDataMergesFn() {\n        return dataMergesFn;\n    }\n}\n</code></pre>\n<p>Your controller will parse that json with <code>@RequestBody MyResponse myResponse</code></p>\n"},{"tags":[],"owner":{"account_id":296266,"reputation":1246,"user_id":601129,"accept_rate":73,"display_name":"AAP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690393695,"creation_date":1690393695,"answer_id":76773867,"question_id":76773055,"body_markdown":"Finally using ServerWebExchange worked for me:\r\n\r\n    @PostMapping(\r\n      path = &quot;/hook&quot;,\r\n      consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n    public Mono&lt;Void&gt; registerWebhook(ServerWebExchange serverWebExchange) {\r\n    \r\n    \treturn serverWebExchange.getFormData()\r\n        \t.flatMap(formData -&gt; {\r\n    \t      String type = formData.getFirst(&quot;type&quot;);\r\n    \t      String email = formData.getFirst(&quot;data[email]&quot;);\r\n    \t      String mergesFN = formData.getFirst(&quot;data[merges][FN]&quot;);\r\n    \t      return Mono.empty();\r\n        });","title":"Spring Boot 2.5 - unable to convert form data to custom POJO","body":"<p>Finally using ServerWebExchange worked for me:</p>\n<pre><code>@PostMapping(\n  path = &quot;/hook&quot;,\n  consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic Mono&lt;Void&gt; registerWebhook(ServerWebExchange serverWebExchange) {\n\n    return serverWebExchange.getFormData()\n        .flatMap(formData -&gt; {\n          String type = formData.getFirst(&quot;type&quot;);\n          String email = formData.getFirst(&quot;data[email]&quot;);\n          String mergesFN = formData.getFirst(&quot;data[merges][FN]&quot;);\n          return Mono.empty();\n    });\n</code></pre>\n"}],"owner":{"account_id":296266,"reputation":1246,"user_id":601129,"accept_rate":73,"display_name":"AAP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690393695,"creation_date":1690386724,"question_id":76773055,"body_markdown":"I am having difficulty converting an incoming form data to a POJO.\r\nI have a Spring Boot application which receives a POST request from a 3rd party server with content as x-www-form-urlencoded.\r\nThe form data is like this:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;xyz&quot;,\r\n        &quot;data[email]&quot;: &quot;test@test.com&quot;,\r\n        &quot;data[merges][FN]&quot;: &quot;test&quot;\r\n    }\r\n\r\nIn my RestController, I have the relevant PostMapping with a custom object created to receive the form data.\r\nHowever, I am only able to create the custom object and receive simple String parameter like the &quot;type&quot;.\r\n\r\nex: This works\r\n\r\n    class MyResponse {\r\n    \r\n        private String type;\r\n    } //WORKS\r\n\r\nHowever, if I try to create a Map&lt;String, String&gt; or Map&lt;String, AnotherObj&gt; to parse the remaining fields &#39;data[email]&#39; &amp; &#39;data[merges][FN]&#39;, it does not work.\r\n\r\nIf I simply use Map&lt;String, String&gt; request instead of a custom object, the data is empty.\r\nIf I use &#39;@RequestBody Map&lt;String, String&gt; request&#39;, it throws 415 UNSUPPORTED_MEDIA_TYPE\r\n\r\nIf I add another inner class Data property like this to my custom object:\r\n\r\n    private Map&lt;String, Data&gt; data;\r\nit throws an error:\r\n\r\n    Invalid property &#39;data[merges][FN]&#39; of bean class [...MyResponse]: Property referenced in indexed property path &#39;data[merges][FN]&#39; is neither an array nor a List nor a Map; returned value was [...MyResponse$Data@26f008e0]\r\n\r\nI even looked at this example for guidance, but could not find a solution:\r\nhttps://github.com/spring-attic/spring-mvc-showcase/blob/master/src/main/java/org/springframework/samples/mvc/convert/NestedBean.java\r\n\r\nWhat wrong am I doing?","title":"Spring Boot 2.5 - unable to convert form data to custom POJO","body":"<p>I am having difficulty converting an incoming form data to a POJO.\nI have a Spring Boot application which receives a POST request from a 3rd party server with content as x-www-form-urlencoded.\nThe form data is like this:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;xyz&quot;,\n    &quot;data[email]&quot;: &quot;test@test.com&quot;,\n    &quot;data[merges][FN]&quot;: &quot;test&quot;\n}\n</code></pre>\n<p>In my RestController, I have the relevant PostMapping with a custom object created to receive the form data.\nHowever, I am only able to create the custom object and receive simple String parameter like the &quot;type&quot;.</p>\n<p>ex: This works</p>\n<pre><code>class MyResponse {\n\n    private String type;\n} //WORKS\n</code></pre>\n<p>However, if I try to create a Map&lt;String, String&gt; or Map&lt;String, AnotherObj&gt; to parse the remaining fields 'data[email]' &amp; 'data[merges][FN]', it does not work.</p>\n<p>If I simply use Map&lt;String, String&gt; request instead of a custom object, the data is empty.\nIf I use '@RequestBody Map&lt;String, String&gt; request', it throws 415 UNSUPPORTED_MEDIA_TYPE</p>\n<p>If I add another inner class Data property like this to my custom object:</p>\n<pre><code>private Map&lt;String, Data&gt; data;\n</code></pre>\n<p>it throws an error:</p>\n<pre><code>Invalid property 'data[merges][FN]' of bean class [...MyResponse]: Property referenced in indexed property path 'data[merges][FN]' is neither an array nor a List nor a Map; returned value was [...MyResponse$Data@26f008e0]\n</code></pre>\n<p>I even looked at this example for guidance, but could not find a solution:\n<a href=\"https://github.com/spring-attic/spring-mvc-showcase/blob/master/src/main/java/org/springframework/samples/mvc/convert/NestedBean.java\" rel=\"nofollow noreferrer\">https://github.com/spring-attic/spring-mvc-showcase/blob/master/src/main/java/org/springframework/samples/mvc/convert/NestedBean.java</a></p>\n<p>What wrong am I doing?</p>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684746466,"post_id":76304136,"comment_id":134556573,"body_markdown":"Probably you are mixing jars from different versions of a framework, bu trying to outsmart the Spring Boot (starters) dependency management. Add the full error / stacktrace and add your build file to the question.","body":"Probably you are mixing jars from different versions of a framework, bu trying to outsmart the Spring Boot (starters) dependency management. Add the full error / stacktrace and add your build file to the question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1684750084,"post_id":76304136,"comment_id":134557380,"body_markdown":"Please include the gradle file and a snippet of the relevant class showing the failing line and all the imports to the question","body":"Please include the gradle file and a snippet of the relevant class showing the failing line and all the imports to the question"}],"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690393458,"creation_date":1684742632,"question_id":76304136,"body_markdown":"I am upgrading my springboot application from springboot 2.9.7 to springboot 3.0.2.\r\nWhile doing clean build, I am getting below error related to Rest API calls (using Rest template).\r\n\r\n&gt; Caused by: java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()&#39;\r\n\r\nAs per my understanding it has something to do with upgarde happening to springframework to some 6.*.* version due to upgrade in springboot version to 3.0.2.\r\n\r\nAnyone has faced this issue? how this can be fixed.","title":"Spring boot 3 upgrade error : &#39;org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()&#39;","body":"<p>I am upgrading my springboot application from springboot 2.9.7 to springboot 3.0.2.\nWhile doing clean build, I am getting below error related to Rest API calls (using Rest template).</p>\n<blockquote>\n<p>Caused by: java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()'</p>\n</blockquote>\n<p>As per my understanding it has something to do with upgarde happening to springframework to some 6.<em>.</em> version due to upgrade in springboot version to 3.0.2.</p>\n<p>Anyone has faced this issue? how this can be fixed.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":20,"creation_date":1355864326,"post_id":4385623,"comment_id":19223787,"body_markdown":"One might want to use a String to represent the body of an HTTP response and use the size to set the &quot;Content-Length&quot; header, which is specified in octets/bytes not characters. http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13","body":"One might want to use a String to represent the body of an HTTP response and use the size to set the &quot;Content-Length&quot; header, which is specified in octets/bytes not characters. <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13\" rel=\"nofollow noreferrer\">w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13</a>"},{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":4,"creation_date":1370326178,"post_id":4385623,"comment_id":24408019,"body_markdown":"A database column may have length restriction in bytes, e.g. VARCHAR2 (4000 BYTE) in Oracle. One might want to know the byte count of a String in desired encoding to know if the String would fit.","body":"A database column may have length restriction in bytes, e.g. VARCHAR2 (4000 BYTE) in Oracle. One might want to know the byte count of a String in desired encoding to know if the String would fit."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1372416474,"post_id":4385623,"comment_id":25197346,"body_markdown":"@iX3 Exactly the same as I was trying to do.","body":"@iX3 Exactly the same as I was trying to do."},{"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"score":1,"creation_date":1466341989,"post_id":4385623,"comment_id":63267285,"body_markdown":"I believe there are two possible interpretations of this question, depending on the intent: One is &quot;how much memory does my String use?&quot;. The answer to that is provided by @roozbeh below (maybe modulo VM subtleties like compressed OOPS). The other is, &quot;if I convert the string to a byte[] how much memory would that byte array use?&quot;. This is the question that is answered by Andrzej Doyle. The difference can be large: &quot;Hello World&quot; in UTF8 is 11 bytes, but the String (per @roozbeh) is 50 bytes (if my math is right).","body":"I believe there are two possible interpretations of this question, depending on the intent: One is &quot;how much memory does my String use?&quot;. The answer to that is provided by @roozbeh below (maybe modulo VM subtleties like compressed OOPS). The other is, &quot;if I convert the string to a byte[] how much memory would that byte array use?&quot;. This is the question that is answered by Andrzej Doyle. The difference can be large: &quot;Hello World&quot; in UTF8 is 11 bytes, but the String (per @roozbeh) is 50 bytes (if my math is right)."},{"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"score":0,"creation_date":1466342853,"post_id":4385623,"comment_id":63267521,"body_markdown":"I should have added that the 11 bytes doesn&#39;t include the overhead of the byte[] object that holds them, so the comparison is somewhat misleading.","body":"I should have added that the 11 bytes doesn&#39;t include the overhead of the byte[] object that holds them, so the comparison is somewhat misleading."}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlovi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1291798305,"creation_date":1291798305,"answer_id":4385640,"question_id":4385623,"body_markdown":"According to https://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java/88863#88863:\r\n\r\n    String s = &quot;some text here&quot;;\r\n    byte[] b = s.getBytes(&quot;UTF-8&quot;);\r\n    System.out.println(b.length);","title":"Bytes of a string in Java","body":"<p>According to <a href=\"https://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java/88863#88863\">How to convert Strings to and from UTF8 byte arrays in Java</a>:</p>\n\n<pre><code>String s = \"some text here\";\nbyte[] b = s.getBytes(\"UTF-8\");\nSystem.out.println(b.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1291798332,"creation_date":1291798332,"answer_id":4385645,"question_id":4385623,"body_markdown":"There&#39;s a method called [getBytes()][1]. Use it wisely .\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes()","title":"Bytes of a string in Java","body":"<p>There's a method called <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes%28%29\" rel=\"noreferrer\">getBytes()</a>. Use it wisely .</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":343,"is_accepted":false,"score":343,"last_activity_date":1400793333,"creation_date":1291798372,"answer_id":4385653,"question_id":4385623,"body_markdown":"A string is a list of *characters* (i.e. code points).  The number of bytes taken to represent the string **depends entirely on which encoding you use to turn it into bytes**.\r\n\r\nThat said, you can turn the string into a byte array and then look at its size as follows:\r\n\r\n    // The input string for this test\r\n    final String string = &quot;Hello World&quot;;\r\n\r\n    // Check length, in characters\r\n    System.out.println(string.length()); // prints &quot;11&quot;\r\n\r\n    // Check encoded sizes\r\n    final byte[] utf8Bytes = string.getBytes(&quot;UTF-8&quot;);\r\n    System.out.println(utf8Bytes.length); // prints &quot;11&quot;\r\n\r\n    final byte[] utf16Bytes= string.getBytes(&quot;UTF-16&quot;);\r\n    System.out.println(utf16Bytes.length); // prints &quot;24&quot;\r\n\r\n    final byte[] utf32Bytes = string.getBytes(&quot;UTF-32&quot;);\r\n    System.out.println(utf32Bytes.length); // prints &quot;44&quot;\r\n\r\n    final byte[] isoBytes = string.getBytes(&quot;ISO-8859-1&quot;);\r\n    System.out.println(isoBytes.length); // prints &quot;11&quot;\r\n\r\n    final byte[] winBytes = string.getBytes(&quot;CP1252&quot;);\r\n    System.out.println(winBytes.length); // prints &quot;11&quot;\r\n\r\nSo you see, even a simple &quot;ASCII&quot; string can have different number of bytes in its representation, depending which encoding is used.  Use whichever character set you&#39;re interested in for your case, as the argument to `getBytes()`.  And don&#39;t fall into the trap of assuming that UTF-8 represents *every* character as a single byte, as that&#39;s not true either:\r\n\r\n    final String interesting = &quot;\\uF93D\\uF936\\uF949\\uF942&quot;; // Chinese ideograms\r\n\r\n    // Check length, in characters\r\n    System.out.println(interesting.length()); // prints &quot;4&quot;\r\n\r\n    // Check encoded sizes\r\n    final byte[] utf8Bytes = interesting.getBytes(&quot;UTF-8&quot;);\r\n    System.out.println(utf8Bytes.length); // prints &quot;12&quot;\r\n\r\n    final byte[] utf16Bytes= interesting.getBytes(&quot;UTF-16&quot;);\r\n    System.out.println(utf16Bytes.length); // prints &quot;10&quot;\r\n\r\n    final byte[] utf32Bytes = interesting.getBytes(&quot;UTF-32&quot;);\r\n    System.out.println(utf32Bytes.length); // prints &quot;16&quot;\r\n\r\n    final byte[] isoBytes = interesting.getBytes(&quot;ISO-8859-1&quot;);\r\n    System.out.println(isoBytes.length); // prints &quot;4&quot; (probably encoded &quot;????&quot;)\r\n\r\n    final byte[] winBytes = interesting.getBytes(&quot;CP1252&quot;);\r\n    System.out.println(winBytes.length); // prints &quot;4&quot; (probably encoded &quot;????&quot;)\r\n\r\n(Note that if you don&#39;t provide a character set argument, the platform&#39;s *default character set* is used.  This might be useful in some contexts, but in general you should avoid depending on defaults, and always use an explicit character set when encoding/decoding is required.)","title":"Bytes of a string in Java","body":"<p>A string is a list of <em>characters</em> (i.e. code points).  The number of bytes taken to represent the string <strong>depends entirely on which encoding you use to turn it into bytes</strong>.</p>\n\n<p>That said, you can turn the string into a byte array and then look at its size as follows:</p>\n\n<pre><code>// The input string for this test\nfinal String string = \"Hello World\";\n\n// Check length, in characters\nSystem.out.println(string.length()); // prints \"11\"\n\n// Check encoded sizes\nfinal byte[] utf8Bytes = string.getBytes(\"UTF-8\");\nSystem.out.println(utf8Bytes.length); // prints \"11\"\n\nfinal byte[] utf16Bytes= string.getBytes(\"UTF-16\");\nSystem.out.println(utf16Bytes.length); // prints \"24\"\n\nfinal byte[] utf32Bytes = string.getBytes(\"UTF-32\");\nSystem.out.println(utf32Bytes.length); // prints \"44\"\n\nfinal byte[] isoBytes = string.getBytes(\"ISO-8859-1\");\nSystem.out.println(isoBytes.length); // prints \"11\"\n\nfinal byte[] winBytes = string.getBytes(\"CP1252\");\nSystem.out.println(winBytes.length); // prints \"11\"\n</code></pre>\n\n<p>So you see, even a simple \"ASCII\" string can have different number of bytes in its representation, depending which encoding is used.  Use whichever character set you're interested in for your case, as the argument to <code>getBytes()</code>.  And don't fall into the trap of assuming that UTF-8 represents <em>every</em> character as a single byte, as that's not true either:</p>\n\n<pre><code>final String interesting = \"\\uF93D\\uF936\\uF949\\uF942\"; // Chinese ideograms\n\n// Check length, in characters\nSystem.out.println(interesting.length()); // prints \"4\"\n\n// Check encoded sizes\nfinal byte[] utf8Bytes = interesting.getBytes(\"UTF-8\");\nSystem.out.println(utf8Bytes.length); // prints \"12\"\n\nfinal byte[] utf16Bytes= interesting.getBytes(\"UTF-16\");\nSystem.out.println(utf16Bytes.length); // prints \"10\"\n\nfinal byte[] utf32Bytes = interesting.getBytes(\"UTF-32\");\nSystem.out.println(utf32Bytes.length); // prints \"16\"\n\nfinal byte[] isoBytes = interesting.getBytes(\"ISO-8859-1\");\nSystem.out.println(isoBytes.length); // prints \"4\" (probably encoded \"????\")\n\nfinal byte[] winBytes = interesting.getBytes(\"CP1252\");\nSystem.out.println(winBytes.length); // prints \"4\" (probably encoded \"????\")\n</code></pre>\n\n<p>(Note that if you don't provide a character set argument, the platform's <em>default character set</em> is used.  This might be useful in some contexts, but in general you should avoid depending on defaults, and always use an explicit character set when encoding/decoding is required.)</p>\n"},{"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1291800160,"creation_date":1291800160,"answer_id":4385860,"question_id":4385623,"body_markdown":"Try this :\r\n\r\n    Bytes.toBytes(x).length\r\n\r\nAssuming you declared and initialized x before","title":"Bytes of a string in Java","body":"<p>Try this :</p>\n\n<pre><code>Bytes.toBytes(x).length\n</code></pre>\n\n<p>Assuming you declared and initialized x before</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1291800379,"creation_date":1291800379,"answer_id":4385890,"question_id":4385623,"body_markdown":"A `String` instance allocates a certain amount of bytes in memory. Maybe you&#39;re looking at something like `sizeof(&quot;Hello World&quot;)` which would return the number of bytes allocated by the datastructure itself?\r\n\r\nIn Java, there&#39;s usually no need for a `sizeof` function, because we never allocate memory to store a data structure. We can have a look at the `String.java` file for a rough estimation, and we see some &#39;int&#39;, some references and a `char[]`. The [Java language specification][1] defines, that a `char` ranges from 0 to 65535, so two bytes are sufficient to keep a single char in memory. But a JVM does not have to store one char in 2 bytes, it only has to guarantee, that the implementation of `char` can hold values of the defines range.\r\n\r\nSo `sizeof` really does not make any sense in Java. But, assuming that we have a large String and one `char` allocates two bytes, then the memory footprint of a `String` object is at least `2 * str.length()` in bytes.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1","title":"Bytes of a string in Java","body":"<p>A <code>String</code> instance allocates a certain amount of bytes in memory. Maybe you're looking at something like <code>sizeof(\"Hello World\")</code> which would return the number of bytes allocated by the datastructure itself?</p>\n\n<p>In Java, there's usually no need for a <code>sizeof</code> function, because we never allocate memory to store a data structure. We can have a look at the <code>String.java</code> file for a rough estimation, and we see some 'int', some references and a <code>char[]</code>. The <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1\" rel=\"noreferrer\">Java language specification</a> defines, that a <code>char</code> ranges from 0 to 65535, so two bytes are sufficient to keep a single char in memory. But a JVM does not have to store one char in 2 bytes, it only has to guarantee, that the implementation of <code>char</code> can hold values of the defines range.</p>\n\n<p>So <code>sizeof</code> really does not make any sense in Java. But, assuming that we have a large String and one <code>char</code> allocates two bytes, then the memory footprint of a <code>String</code> object is at least <code>2 * str.length()</code> in bytes.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1291812289,"creation_date":1291812289,"answer_id":4387559,"question_id":4385623,"body_markdown":"The pedantic answer (though not necessarily the most useful one, depending on what you want to do with the result) is:\r\n\r\n    string.length() * 2\r\n\r\nJava strings are physically stored in `UTF-16BE` encoding, which uses 2 bytes per code unit, and `String.length()` measures the length in UTF-16 code units, so this is equivalent to:\r\n\r\n    final byte[] utf16Bytes= string.getBytes(&quot;UTF-16BE&quot;);\r\n    System.out.println(utf16Bytes.length);\r\n\r\nAnd this will tell you the size of the internal `char` array, in _bytes_.\r\n\r\nNote: `&quot;UTF-16&quot;` will give a different result from `&quot;UTF-16BE&quot;` as the former encoding will insert a [BOM](http://en.wikipedia.org/wiki/Byte_order_mark), adding 2 bytes to the length of the array.","title":"Bytes of a string in Java","body":"<p>The pedantic answer (though not necessarily the most useful one, depending on what you want to do with the result) is:</p>\n\n<pre><code>string.length() * 2\n</code></pre>\n\n<p>Java strings are physically stored in <code>UTF-16BE</code> encoding, which uses 2 bytes per code unit, and <code>String.length()</code> measures the length in UTF-16 code units, so this is equivalent to:</p>\n\n<pre><code>final byte[] utf16Bytes= string.getBytes(\"UTF-16BE\");\nSystem.out.println(utf16Bytes.length);\n</code></pre>\n\n<p>And this will tell you the size of the internal <code>char</code> array, in <em>bytes</em>.</p>\n\n<p>Note: <code>\"UTF-16\"</code> will give a different result from <code>\"UTF-16BE\"</code> as the former encoding will insert a <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">BOM</a>, adding 2 bytes to the length of the array.</p>\n"},{"tags":[],"owner":{"account_id":2974024,"reputation":809,"user_id":2525493,"display_name":"roozbeh"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1375516190,"creation_date":1375516190,"answer_id":18030595,"question_id":4385623,"body_markdown":"If you&#39;re running with 64-bit references:\r\n\r\n    sizeof(string) = \r\n    8 + // object header used by the VM\r\n    8 + // 64-bit reference to char array (value)\r\n    8 + string.length() * 2 + // character array itself (object header + 16-bit chars)\r\n    4 + // offset integer\r\n    4 + // count integer\r\n    4 + // cached hash code\r\n\r\nIn other words:\r\n\r\n    sizeof(string) = 36 + string.length() * 2\r\n\r\nOn a 32-bit VM or a 64-bit VM with compressed OOPs (-XX:+UseCompressedOops), the references are 4 bytes. So the total would be:\r\n\r\n    sizeof(string) = 32 + string.length() * 2\r\n\r\nThis does not take into account the references to the string object.","title":"Bytes of a string in Java","body":"<p>If you're running with 64-bit references:</p>\n\n<pre><code>sizeof(string) = \n8 + // object header used by the VM\n8 + // 64-bit reference to char array (value)\n8 + string.length() * 2 + // character array itself (object header + 16-bit chars)\n4 + // offset integer\n4 + // count integer\n4 + // cached hash code\n</code></pre>\n\n<p>In other words:</p>\n\n<pre><code>sizeof(string) = 36 + string.length() * 2\n</code></pre>\n\n<p>On a 32-bit VM or a 64-bit VM with compressed OOPs (-XX:+UseCompressedOops), the references are 4 bytes. So the total would be:</p>\n\n<pre><code>sizeof(string) = 32 + string.length() * 2\n</code></pre>\n\n<p>This does not take into account the references to the string object.</p>\n"},{"tags":[],"owner":{"account_id":4529435,"reputation":2030,"user_id":3680373,"display_name":"radu_paun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586936766,"creation_date":1586936766,"answer_id":61223765,"question_id":4385623,"body_markdown":"To avoid try catch, use:\r\n\r\n    String s = &quot;some text here&quot;;\r\n    byte[] b = s.getBytes(StandardCharsets.UTF_8);\r\n    System.out.println(b.length);","title":"Bytes of a string in Java","body":"<p>To avoid try catch, use:</p>\n\n<pre><code>String s = \"some text here\";\nbyte[] b = s.getBytes(StandardCharsets.UTF_8);\nSystem.out.println(b.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197238,"reputation":5764,"user_id":441200,"accept_rate":38,"display_name":"Preetam Purbia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604991050,"creation_date":1604991050,"answer_id":64764119,"question_id":4385623,"body_markdown":"Try this using [apache commons][1]:\r\n\r\n    String src = &quot;Hello&quot;; //This will work with any serialisable object\r\n    System.out.println(\r\n                &quot;Object Size:&quot; + SerializationUtils.serialize((Serializable) src).length)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SerializationUtils.html","title":"Bytes of a string in Java","body":"<p>Try this using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SerializationUtils.html\" rel=\"nofollow noreferrer\">apache commons</a>:</p>\n<pre><code>String src = &quot;Hello&quot;; //This will work with any serialisable object\nSystem.out.println(\n            &quot;Object Size:&quot; + SerializationUtils.serialize((Serializable) src).length)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690393380,"creation_date":1690393380,"answer_id":76773823,"question_id":4385623,"body_markdown":"If you want to reference `Charset` from some standard package instead of using String literal `&quot;UTF-8&quot;` then you can use `java.nio`\r\n\r\n```\r\nimport java.nio.charset.StandardCharsets;\r\n..\r\nint numBytes = myString.getBytes(StandardCharsets.UTF_8).length;\r\n```","title":"Bytes of a string in Java","body":"<p>If you want to reference <code>Charset</code> from some standard package instead of using String literal <code>&quot;UTF-8&quot;</code> then you can use <code>java.nio</code></p>\n<pre><code>import java.nio.charset.StandardCharsets;\n..\nint numBytes = myString.getBytes(StandardCharsets.UTF_8).length;\n</code></pre>\n"}],"owner":{"account_id":684768,"reputation":2209,"user_id":533266,"display_name":"Green "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357383,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"answer_count":10,"score":220,"last_activity_date":1690393380,"creation_date":1291798145,"question_id":4385623,"body_markdown":"In Java, if I have a String `x`, how can I calculate the number of bytes in that string?\r\n","title":"Bytes of a string in Java","body":"<p>In Java, if I have a String <code>x</code>, how can I calculate the number of bytes in that string?</p>\n"},{"tags":["java","enums","specifications"],"comments":[{"owner":{"account_id":178678,"reputation":7051,"user_id":410823,"accept_rate":78,"display_name":"Skarab"},"score":1,"creation_date":1285838639,"post_id":3820149,"comment_id":4065555,"body_markdown":"I iterate over my enum to fill a list, which than in other place in the code I read iterating over this enum.","body":"I iterate over my enum to fill a list, which than in other place in the code I read iterating over this enum."},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":11,"creation_date":1344859115,"post_id":3820149,"comment_id":15894532,"body_markdown":"@MitchWheat For the same reason that you would rely on a List preserving order: because the JDK is a tool which gives you certain guarantees and relying on these guarantees helps you to write more succinct and better code. Admittedly, the question &quot;Is it guaranteed not to be changed?&quot; is impossible to answer, you certainly can&#39;t rely on that, nothing has that guarantee.","body":"@MitchWheat For the same reason that you would rely on a List preserving order: because the JDK is a tool which gives you certain guarantees and relying on these guarantees helps you to write more succinct and better code. Admittedly, the question &quot;Is it guaranteed not to be changed?&quot; is impossible to answer, you certainly can&#39;t rely on that, nothing has that guarantee."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1285751248,"creation_date":1285751248,"answer_id":3820186,"question_id":3820149,"body_markdown":"Yes, it is a guaranteed to return them in that order.\r\n\r\nHowever you should avoid relying on that, and on the `ordinal()` value, since it can change after inserting new items, for example.","title":"enum.values() - is an order of returned enums deterministic","body":"<p>Yes, it is a guaranteed to return them in that order.</p>\n\n<p>However you should avoid relying on that, and on the <code>ordinal()</code> value, since it can change after inserting new items, for example.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1285751569,"creation_date":1285751251,"answer_id":3820187,"question_id":3820149,"body_markdown":"It is determined by the order your values are declared in. However, **there is no guarantee that you (or someone else) won&#39;t reorder / insert / remove values in the future**. So you shouldn&#39;t rely on the order.\r\n\r\nEffective Java 2nd. Edition dedicates its Item 31 to a closely related topic: **Use instance fields instead of ordinals**:\r\n\r\n&gt; Never derive a value associated with an enum from its ordinal; store it in an instance field instead.\r\n","title":"enum.values() - is an order of returned enums deterministic","body":"<p>It is determined by the order your values are declared in. However, <strong>there is no guarantee that you (or someone else) won't reorder / insert / remove values in the future</strong>. So you shouldn't rely on the order.</p>\n\n<p>Effective Java 2nd. Edition dedicates its Item 31 to a closely related topic: <strong>Use instance fields instead of ordinals</strong>:</p>\n\n<blockquote>\n  <p>Never derive a value associated with an enum from its ordinal; store it in an instance field instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"down_vote_count":0,"up_vote_count":149,"is_accepted":true,"score":149,"last_activity_date":1428336479,"creation_date":1285751282,"answer_id":3820188,"question_id":3820149,"body_markdown":"The Java language specification uses this explicit language:\r\n\r\n&gt; @return an array containing the constants of this enum type, in the order they&#39;re declared [&lt;sup&gt;[Source]&lt;/sup&gt;][1]\r\n\r\nSo, yes, they will be returned in declaration order. It&#39;s worth noting that the order might change over time if someone changes the class so be very careful about how you use this.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se6/html/classes.html#8.9","title":"enum.values() - is an order of returned enums deterministic","body":"<p>The Java language specification uses this explicit language:</p>\n\n<blockquote>\n  <p>@return an array containing the constants of this enum type, in the order they're declared <a href=\"http://docs.oracle.com/javase/specs/jls/se6/html/classes.html#8.9\" rel=\"noreferrer\"><sup>[Source]</sup></a></p>\n</blockquote>\n\n<p>So, yes, they will be returned in declaration order. It's worth noting that the order might change over time if someone changes the class so be very careful about how you use this.</p>\n"},{"tags":[],"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344859517,"creation_date":1344859517,"answer_id":11933991,"question_id":3820149,"body_markdown":"The other answers are good, but don&#39;t comment on this: \r\n\r\n&gt; &quot;Is it a rule or it is not guaranteed to be not changed in the next\r\n&gt; Jdk releases?&quot;\r\n\r\n I don&#39;t believe that guarantees on future JDKs exist, so you shouldn&#39;t even worry about them. There would be no way to enforce them, future JDK leads might just decide to reneg on such guarantees. It&#39;s like the Westminster system of parliament: &quot;No Parliament can bind a future parliament.&quot;\r\n\r\nThat said, the history of the JDK reveals excellent consistency. They don&#39;t make a lot of breaking changes, so you can be pretty confident that current **specified** (not just observed) behaviour will be preserved.","title":"enum.values() - is an order of returned enums deterministic","body":"<p>The other answers are good, but don't comment on this: </p>\n\n<blockquote>\n  <p>\"Is it a rule or it is not guaranteed to be not changed in the next\n  Jdk releases?\"</p>\n</blockquote>\n\n<p>I don't believe that guarantees on future JDKs exist, so you shouldn't even worry about them. There would be no way to enforce them, future JDK leads might just decide to reneg on such guarantees. It's like the Westminster system of parliament: \"No Parliament can bind a future parliament.\"</p>\n\n<p>That said, the history of the JDK reveals excellent consistency. They don't make a lot of breaking changes, so you can be pretty confident that current <strong>specified</strong> (not just observed) behaviour will be preserved.</p>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690392598,"creation_date":1690392598,"answer_id":76773733,"question_id":3820149,"body_markdown":"To add on top of [GaryF answer][1].\r\n\r\nYes the order is guaranty by the Java. However... \r\n\r\n**Obfuscation can break it**. So be very carful with it\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3820188/1129332","title":"enum.values() - is an order of returned enums deterministic","body":"<p>To add on top of <a href=\"https://stackoverflow.com/a/3820188/1129332\">GaryF answer</a>.</p>\n<p>Yes the order is guaranty by the Java. However...</p>\n<p><strong>Obfuscation can break it</strong>. So be very carful with it</p>\n"}],"owner":{"account_id":178678,"reputation":7051,"user_id":410823,"accept_rate":78,"display_name":"Skarab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33695,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":3820188,"answer_count":5,"score":111,"last_activity_date":1690392598,"creation_date":1285750881,"question_id":3820149,"body_markdown":"I have a enum `SOME_ENUM`: \r\n\r\n    public enum SOME_ENUM {\r\n      EN_ONE,\r\n      EN_TWO,\r\n      EN_THREE;\r\n    }\r\n\r\nWill `SOME_ENUM.values()` always return the enums in the order of enum declarations:\r\n`EN_ONE, EN_TWO, EN_THREE`? Is it a rule or it is not guaranteed to be not changed in the next JDK releases? ","title":"enum.values() - is an order of returned enums deterministic","body":"<p>I have a enum <code>SOME_ENUM</code>: </p>\n\n<pre><code>public enum SOME_ENUM {\n  EN_ONE,\n  EN_TWO,\n  EN_THREE;\n}\n</code></pre>\n\n<p>Will <code>SOME_ENUM.values()</code> always return the enums in the order of enum declarations:\n<code>EN_ONE, EN_TWO, EN_THREE</code>? Is it a rule or it is not guaranteed to be not changed in the next JDK releases? </p>\n"},{"tags":["java","apache","http","google-chrome","tomcat"],"comments":[{"owner":{"account_id":431867,"reputation":21470,"user_id":816213,"accept_rate":88,"display_name":"Sachin Jain"},"score":2,"creation_date":1460036775,"post_id":22931720,"comment_id":60566256,"body_markdown":"You can try [Requestly](http://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa) for modifying HTTP requests in Chrome. It allows you to Rewrite urls, block websites, modify headers etc..","body":"You can try <a href=\"http://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa\" rel=\"nofollow noreferrer\">Requestly</a> for modifying HTTP requests in Chrome. It allows you to Rewrite urls, block websites, modify headers etc.."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balaic"},"score":0,"creation_date":1542288175,"post_id":22931720,"comment_id":93520878,"body_markdown":"Firefox as of 2018 can do it with its builtin Developer Tools (press F12 to activate it).","body":"Firefox as of 2018 can do it with its builtin Developer Tools (press F12 to activate it)."},{"owner":{"account_id":1525128,"reputation":53868,"user_id":2377343,"accept_rate":36,"display_name":"T.Todua"},"score":0,"creation_date":1592436090,"post_id":22931720,"comment_id":110428644,"body_markdown":"Does this answer your question? [Edit and replay XHR chrome/firefox etc?](https://stackoverflow.com/questions/28775123/edit-and-replay-xhr-chrome-firefox-etc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28775123/edit-and-replay-xhr-chrome-firefox-etc\">Edit and replay XHR chrome/firefox etc?</a>"}],"answers":[{"tags":[],"owner":{"account_id":17814006,"reputation":165,"user_id":12937990,"display_name":"Daniel Caldas"},"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1627539646,"creation_date":1582280854,"answer_id":60336658,"question_id":22931720,"body_markdown":"You can use [tweak][1] chrome extension and you&#39;ll be able to do exactly that, intercept and modify HTTP requests.\r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/tweak-mock-api-calls/feahianecghpnipmhphmfgmpdodhcapi","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>You can use <a href=\"https://chrome.google.com/webstore/detail/tweak-mock-api-calls/feahianecghpnipmhphmfgmpdodhcapi\" rel=\"noreferrer\">tweak</a> chrome extension and you'll be able to do exactly that, intercept and modify HTTP requests.</p>\n"},{"tags":[],"owner":{"account_id":3058272,"reputation":7935,"user_id":3356679,"accept_rate":50,"display_name":"oriadam"},"down_vote_count":2,"up_vote_count":74,"is_accepted":false,"score":72,"last_activity_date":1586251619,"creation_date":1586251619,"answer_id":61076792,"question_id":22931720,"body_markdown":"This might help in some cases - use fetch command to send another, tampered, request. here&#39;s how to do it in Chrome:\r\n\r\n1. open DevTools, tab Network\r\n2. clear\r\n3. create your request normally\r\n4. right click that request and select Copy &gt; Copy as fetch\r\n5. go to Console tab and paste\r\n6. tamper the data and hit Enter\r\n\r\n\r\n[![steps 1-4][1]][1][![steps 5-6][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uZjZb.png\r\n  [2]: https://i.stack.imgur.com/6fRzL.png","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>This might help in some cases - use fetch command to send another, tampered, request. here's how to do it in Chrome:</p>\n\n<ol>\n<li>open DevTools, tab Network</li>\n<li>clear</li>\n<li>create your request normally</li>\n<li>right click that request and select Copy > Copy as fetch</li>\n<li>go to Console tab and paste</li>\n<li>tamper the data and hit Enter</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/uZjZb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uZjZb.png\" alt=\"steps 1-4\"></a><a href=\"https://i.stack.imgur.com/6fRzL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6fRzL.png\" alt=\"steps 5-6\"></a></p>\n"},{"tags":[],"owner":{"account_id":19078206,"reputation":35,"user_id":13931027,"display_name":"Gabriel Petersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690392539,"creation_date":1690392539,"answer_id":76773731,"question_id":22931720,"body_markdown":"I am not sure if this solves your specific problem, but you can use Chrome Overrides to override file contents and response headers for web requests. \r\nThis documentation https://developer.chrome.com/docs/devtools/overrides/ has been very handy for me when I want to modify a request in a remote environment.","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>I am not sure if this solves your specific problem, but you can use Chrome Overrides to override file contents and response headers for web requests.\nThis documentation <a href=\"https://developer.chrome.com/docs/devtools/overrides/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/devtools/overrides/</a> has been very handy for me when I want to modify a request in a remote environment.</p>\n"}],"owner":{"account_id":303117,"reputation":2259,"user_id":611874,"accept_rate":57,"display_name":"J. Lin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109303,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":3,"score":43,"last_activity_date":1690392539,"creation_date":1396946087,"question_id":22931720,"body_markdown":"Is there a way to modify an HTTP request using Chrome dev tools or Firebug? For example when developing locally and testing in Chrome, I have a page that needs an HTTP request to fill some data. Because it&#39;s local, that service isn&#39;t available.\r\n\r\nCurrently the only way of getting around the problem is configuring a proxy pass in Apache so it hits a QA environment for that call. I&#39;m looking or a simpler way to achieve this because I use Jetty to test the app and can&#39;t configure a proxy pass (or that I know of).\r\n\r\nIn other words, is there a way to create a temporary proxy pass for the current session when testing an app locally?","title":"Is there a way to modify an HTTP request in Chrome or Firefox?","body":"<p>Is there a way to modify an HTTP request using Chrome dev tools or Firebug? For example when developing locally and testing in Chrome, I have a page that needs an HTTP request to fill some data. Because it's local, that service isn't available.</p>\n\n<p>Currently the only way of getting around the problem is configuring a proxy pass in Apache so it hits a QA environment for that call. I'm looking or a simpler way to achieve this because I use Jetty to test the app and can't configure a proxy pass (or that I know of).</p>\n\n<p>In other words, is there a way to create a temporary proxy pass for the current session when testing an app locally?</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1688496394,"post_id":76615130,"comment_id":135080842,"body_markdown":"Atlas or self-managed cluster? If the former then that&#39;s what Atlas Search is for. If the latter then regex is the simplest but very slow, manual tokenization could be an option but is more difficult to implement","body":"Atlas or self-managed cluster? If the former then that&#39;s what Atlas Search is for. If the latter then regex is the simplest but very slow, manual tokenization could be an option but is more difficult to implement"}],"answers":[{"tags":[],"owner":{"account_id":26348958,"reputation":16,"user_id":20006878,"display_name":"java-enthusiast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690392235,"creation_date":1690392235,"answer_id":76773688,"question_id":76615130,"body_markdown":"Atlas Search is likely what you are looking for, specifically support for Partial Match queries.\r\n\r\nhttps://www.mongodb.com/docs/atlas/atlas-search/tutorial/partial-match/.\r\n\r\nThe Spring Data MongoDB documentation also include a code snippet to get started with Atlas Search. Check out the &quot;Tip&quot; section of this page:\r\n\r\nhttps://docs.spring.io/spring-data/mongodb/docs/4.0.0-RC1/reference/html/#mongo.aggregation.supported-aggregation-operations\r\n","title":"Partial Search Spring MongoDB","body":"<p>Atlas Search is likely what you are looking for, specifically support for Partial Match queries.</p>\n<p><a href=\"https://www.mongodb.com/docs/atlas/atlas-search/tutorial/partial-match/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/atlas/atlas-search/tutorial/partial-match/</a>.</p>\n<p>The Spring Data MongoDB documentation also include a code snippet to get started with Atlas Search. Check out the &quot;Tip&quot; section of this page:</p>\n<p><a href=\"https://docs.spring.io/spring-data/mongodb/docs/4.0.0-RC1/reference/html/#mongo.aggregation.supported-aggregation-operations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/4.0.0-RC1/reference/html/#mongo.aggregation.supported-aggregation-operations</a></p>\n"}],"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76773688,"answer_count":1,"score":0,"last_activity_date":1690392235,"creation_date":1688495673,"question_id":76615130,"body_markdown":"Mongo provides a text search feature. It returns a match if a whole word is found. I want to search for a partial word to provide a predictive search. I am saving full queries in my mongodb. \r\n\r\nFor example, tesla model 3 might be a full-text query, tesla model x might be another. when the user enters tesla, i want to return a list of queries relating to the search.\r\n\r\ne.g. the user enters tesla, I want to return tesla model 3 and tesla model x as predictions. \r\n\r\nI am using Spring Framework for Java. Spring Data MongoDB. \r\n\r\nStill trying to figure out how to approach this, so no code yet.","title":"Partial Search Spring MongoDB","body":"<p>Mongo provides a text search feature. It returns a match if a whole word is found. I want to search for a partial word to provide a predictive search. I am saving full queries in my mongodb.</p>\n<p>For example, tesla model 3 might be a full-text query, tesla model x might be another. when the user enters tesla, i want to return a list of queries relating to the search.</p>\n<p>e.g. the user enters tesla, I want to return tesla model 3 and tesla model x as predictions.</p>\n<p>I am using Spring Framework for Java. Spring Data MongoDB.</p>\n<p>Still trying to figure out how to approach this, so no code yet.</p>\n"},{"tags":["java","android","syntax-error"],"comments":[{"owner":{"account_id":1538832,"reputation":2242,"user_id":1434031,"accept_rate":29,"display_name":"Akhi"},"score":1,"creation_date":1342362124,"post_id":11492657,"comment_id":15180349,"body_markdown":"am not getting it.. can u just refresh the project.","body":"am not getting it.. can u just refresh the project."},{"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"score":0,"creation_date":1342362482,"post_id":11492657,"comment_id":15180431,"body_markdown":"Refreshed it a couple of times, Restarted Eclipse but no luck ..","body":"Refreshed it a couple of times, Restarted Eclipse but no luck .."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1342362178,"creation_date":1342362178,"answer_id":11492677,"question_id":11492657,"body_markdown":"Try it like this: \r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\r\n        boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n        if (isFirstLaunch) {   // &lt;&lt;&lt;&lt; Syntax Error ?\r\n        // Do Something\r\n        }\r\n    }","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>Try it like this: </p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\n    boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\n    if (isFirstLaunch) {   // &lt;&lt;&lt;&lt; Syntax Error ?\n    // Do Something\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342362521,"creation_date":1342362521,"answer_id":11492711,"question_id":11492657,"body_markdown":"Try this...\r\n\r\n1. First see that you have declared isFirstLaunch as boolean, if you have it should work.\r\n\r\n2. No need to use `isFirstLaunch == true`\r\n\r\n    \r\n\r\n   ` if(isFirstLaunch) `\r\n\r\n \r\n\r\n    \r\n    \r\n\r\n","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>Try this...</p>\n\n<ol>\n<li><p>First see that you have declared isFirstLaunch as boolean, if you have it should work.</p></li>\n<li><p>No need to use <code>isFirstLaunch == true</code></p>\n\n<p><code>if(isFirstLaunch)</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":360296,"reputation":5356,"user_id":702229,"accept_rate":50,"display_name":"NitroG42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342362770,"creation_date":1342362770,"answer_id":11492742,"question_id":11492657,"body_markdown":"You are getting a Boolean instead of a boolean. So you should use either :\r\n\r\n    Boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n    if (isFirstLaunch.booleanValue()) {   \r\n    }\r\n\r\nor :\r\n\r\n    boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n    if (isFirstLaunch) {   \r\n    }\r\n\r\nAnd try to click on the error icon on the left, and choose &quot;Clear all lint marker&quot; (if it&#39;s there).","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>You are getting a Boolean instead of a boolean. So you should use either :</p>\n\n<pre><code>Boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\nif (isFirstLaunch.booleanValue()) {   \n}\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\nif (isFirstLaunch) {   \n}\n</code></pre>\n\n<p>And try to click on the error icon on the left, and choose \"Clear all lint marker\" (if it's there).</p>\n"},{"tags":[],"owner":{"account_id":26552876,"reputation":31,"user_id":20181931,"display_name":"Subhajit Khasnobish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690392164,"creation_date":1690093554,"answer_id":76746886,"question_id":11492657,"body_markdown":"This is the error that you get if you dont have a Boolean value in the `if` condition or if you are comparing some different types, like `(&quot;java&quot; &gt; 0)`. ","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>This is the error that you get if you dont have a Boolean value in the <code>if</code> condition or if you are comparing some different types, like <code>(&quot;java&quot; &gt; 0)</code>.</p>\n"}],"owner":{"account_id":1458995,"reputation":32657,"user_id":1373822,"accept_rate":72,"display_name":"Amyth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5485,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":11492677,"answer_count":4,"score":-1,"last_activity_date":1690392164,"creation_date":1342361972,"question_id":11492657,"body_markdown":"Why do i get the following Syntax error ?\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\r\n        Boolean isFirstLaunch = pvtPref.getBoolean(&quot;isFirstLaunch&quot;, false);\r\n        if (isFirstLaunch == true) {   // &lt;&lt;&lt;&lt; Syntax Error ?\r\n        // Do Something\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    Multiple Markers at this line\r\n    -Syntax error on token &quot;if&quot;, ( expected after this token\r\n    -Line breakpoint:LaunchEngine[line:30] - onCreate(Bundle)","title":"Android, Java, Eclipse: Syntax Error on token &quot;if&quot;, ( expected after this token","body":"<p>Why do i get the following Syntax error ?</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    SharedPreferences pvtPref = getPreferences(MODE_PRIVATE);\n    Boolean isFirstLaunch = pvtPref.getBoolean(\"isFirstLaunch\", false);\n    if (isFirstLaunch == true) {   // &lt;&lt;&lt;&lt; Syntax Error ?\n    // Do Something\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Multiple Markers at this line\n-Syntax error on token \"if\", ( expected after this token\n-Line breakpoint:LaunchEngine[line:30] - onCreate(Bundle)\n</code></pre>\n"},{"tags":["java","python","spring"],"answers":[{"tags":[],"owner":{"account_id":17234238,"reputation":51,"user_id":12478046,"display_name":"Asad Javed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690392010,"creation_date":1612420097,"answer_id":66040380,"question_id":54449911,"body_markdown":"In my case I have achieved this using `spring-config-client` library. I am sharing the code sample.  \r\n \r\n    from spring_config.client import SpringConfigClient\r\n    from spring_config import ClientConfigurationBuilder\r\n    \r\n    config = (\r\n        ClientConfigurationBuilder()\r\n        .app_name(&quot;dashboard-service-python11&quot;) #config file\r\n        .address(&quot;http://localhost:3051&quot;)\r\n        .build()\r\n    )\r\n    \r\n    c = SpringConfigClient(config)\r\n    c.get_config()\r\n    print(c.get_config())","title":"Access config properties with Python from Java Spring Cloud Config Server","body":"<p>In my case I have achieved this using <code>spring-config-client</code> library. I am sharing the code sample.</p>\n<pre><code>from spring_config.client import SpringConfigClient\nfrom spring_config import ClientConfigurationBuilder\n\nconfig = (\n    ClientConfigurationBuilder()\n    .app_name(&quot;dashboard-service-python11&quot;) #config file\n    .address(&quot;http://localhost:3051&quot;)\n    .build()\n)\n\nc = SpringConfigClient(config)\nc.get_config()\nprint(c.get_config())\n</code></pre>\n"}],"owner":{"account_id":15234713,"reputation":51,"user_id":10992732,"display_name":"Eduardo Rios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690392010,"creation_date":1548884140,"question_id":54449911,"body_markdown":"I have a repository containing config properties that a Java Spring Cloud Config Server accesses whenever another Java Spring App requests to pull the properties. I want to have the same concept, but with a Python app that pulls similar properties. I know there&#39;s Python Spring libraries out there, but I can&#39;t find an example of Python pulling these properties from a similar config server.\r\n","title":"Access config properties with Python from Java Spring Cloud Config Server","body":"<p>I have a repository containing config properties that a Java Spring Cloud Config Server accesses whenever another Java Spring App requests to pull the properties. I want to have the same concept, but with a Python app that pulls similar properties. I know there's Python Spring libraries out there, but I can't find an example of Python pulling these properties from a similar config server.</p>\n"},{"tags":["java","arrays","recursion","permutation"],"owner":{"account_id":29069181,"reputation":1,"user_id":22267985,"display_name":"Ajay Balamurugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690391999,"creation_date":1690027771,"question_id":76743704,"body_markdown":"A permutation of an array of integers is an arrangement of its members into a sequence or linear order.\r\n\r\nFor example, for arr = [1,2,3], the following are all the permutations of arr: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], **[3,1,2], [3,2,1]**.\r\n\r\nFor the array {1,2,3}\r\n\r\nMy code is giving the output as: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], **[3,2,1], [3,1,2].**\r\n\r\nThe correct output is: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], **[3,1,2], [3,2,1]**.\r\n\r\nThe last two permutations are not in the right order. Where am I going wrong with my code? I have used Java to write the code.\r\n\r\nI have been trying to figure it out for hours, but I did not succeed.\r\n\r\n```\r\nimport java.util.*;\r\nclass Solution {\r\n    public void nextPermutation(int[] nums)\r\n    {\r\n        List&lt;List&lt;Integer&gt;&gt; permutations = new ArrayList&lt;&gt;();\r\n        Arrays.sort(nums);\r\n        generate(nums,0,permutations);\r\n        System.out.println(permutations);\r\n    }\r\n    public void generate(int nums[],int index ,List&lt;List&lt;Integer&gt;&gt; permutations)\r\n    {\r\n        if(index==nums.length-1)\r\n        {\r\n            List&lt;Integer&gt; permutation = new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;nums.length;i++)\r\n            {\r\n                permutation.add(nums[i]);\r\n            }\r\n            permutations.add(permutation);\r\n            return;\r\n        }\r\n        for(int i=index;i&lt;nums.length;i++)\r\n        {\r\n            swap(nums,index,i);\r\n            generate(nums,index+1,permutations);\r\n            swap(nums,index,i);\r\n        }\r\n    }\r\n    public void swap(int[] nums,int i,int j)\r\n    {\r\n        int t = nums[i];\r\n        nums[i] = nums[j];\r\n        nums[j] = t;\r\n    }\r\n}\r\n```\r\n\r\n","title":"All possible permutations of an array is not in the right order","body":"<p>A permutation of an array of integers is an arrangement of its members into a sequence or linear order.</p>\n<p>For example, for arr = [1,2,3], the following are all the permutations of arr: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], <strong>[3,1,2], [3,2,1]</strong>.</p>\n<p>For the array {1,2,3}</p>\n<p>My code is giving the output as: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], <strong>[3,2,1], [3,1,2].</strong></p>\n<p>The correct output is: [1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], <strong>[3,1,2], [3,2,1]</strong>.</p>\n<p>The last two permutations are not in the right order. Where am I going wrong with my code? I have used Java to write the code.</p>\n<p>I have been trying to figure it out for hours, but I did not succeed.</p>\n<pre><code>import java.util.*;\nclass Solution {\n    public void nextPermutation(int[] nums)\n    {\n        List&lt;List&lt;Integer&gt;&gt; permutations = new ArrayList&lt;&gt;();\n        Arrays.sort(nums);\n        generate(nums,0,permutations);\n        System.out.println(permutations);\n    }\n    public void generate(int nums[],int index ,List&lt;List&lt;Integer&gt;&gt; permutations)\n    {\n        if(index==nums.length-1)\n        {\n            List&lt;Integer&gt; permutation = new ArrayList&lt;&gt;();\n            for(int i=0;i&lt;nums.length;i++)\n            {\n                permutation.add(nums[i]);\n            }\n            permutations.add(permutation);\n            return;\n        }\n        for(int i=index;i&lt;nums.length;i++)\n        {\n            swap(nums,index,i);\n            generate(nums,index+1,permutations);\n            swap(nums,index,i);\n        }\n    }\n    public void swap(int[] nums,int i,int j)\n    {\n        int t = nums[i];\n        nums[i] = nums[j];\n        nums[j] = t;\n    }\n}\n</code></pre>\n"},{"tags":["java","cobol","copybook","jrecord"],"comments":[{"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"score":2,"creation_date":1690273627,"post_id":76760595,"comment_id":135326620,"body_markdown":"Did you have a look at the documentation? https://jrecord.sourceforge.net/JRecord04.html#Header_10 If this allows you to solve the problem: please answer your own question and accept it as &quot;works for me&quot;, outlining where the issue was.","body":"Did you have a look at the documentation? <a href=\"https://jrecord.sourceforge.net/JRecord04.html#Header_10\" rel=\"nofollow noreferrer\">jrecord.sourceforge.net/JRecord04.html#Header_10</a> If this allows you to solve the problem: please answer your own question and accept it as &quot;works for me&quot;, outlining where the issue was."}],"answers":[{"tags":[],"owner":{"account_id":16609877,"reputation":97,"user_id":12003236,"display_name":"Mathamagic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690391901,"creation_date":1690391901,"answer_id":76773644,"question_id":76760595,"body_markdown":"From the bugs section in the JRecord source forge, it was infered that cb2xml is to be added as a dependency separately sometime between 0.80.5 and 0.81.5 . On adding it I was able to parse the copybook correctly. ","title":"Reading/parsing a copybook in text format using JRecord, the builder seems to think it&#39;s an XML file","body":"<p>From the bugs section in the JRecord source forge, it was infered that cb2xml is to be added as a dependency separately sometime between 0.80.5 and 0.81.5 . On adding it I was able to parse the copybook correctly.</p>\n"}],"owner":{"account_id":16609877,"reputation":97,"user_id":12003236,"display_name":"Mathamagic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690391901,"creation_date":1690272070,"question_id":76760595,"body_markdown":"I&#39;m trying to read,parse a copybook in .txt format using [JRecord][1] and then process a binary file using the copybook schema.\r\n\r\nWhen I try to read the binary file using `schemaBuilder.newReader(binaryFile)`, it gives me an exception saying :-\r\n\r\n    CopybookFile.txt:1:1:net.sf.JRecord.Common.RecordException : Content is not allowed in prolog.\r\n\r\nThe nested exception seems to be a SAXParseException with the same message.\r\n\r\nI notice that while using the IOBUilder with the copybook file, the loader seems to be an XMlCopyBookLoader and not a cobol file loader. **How do I make the IOBuilder recognise that I&#39;m trying to parse a txt/cbl file?**\r\n\r\nMinimal sample below :\r\n\r\n    ICobolIOBuilder schemaBuilder = JRecordInterface1.COBOL.newIOBuilder(copyBookFilePathWithDotTxt).setDialect(1).setFont(&quot;cp037&quot;).setDropCopyBookNameFromFields(true); // using the debugger, I see that schemaBuilder.loader is an  XMLCopyBookLoader and schemaBuilder is of type CblIOBuilderMultiSchema\r\n    try { \r\n    AbstractLineReader reader = schemaBuilder.newReader(binaryFilePath);\r\n    } catch(Exception e) { e.printStackTrace(); }\r\n\r\nI have tried using the same file with .cbl extension as well. I also know that it&#39;s able to read the file because if I put xml content in there it seems to atleast move till the first invalid character. i.e line after XML.\r\n\r\njava version - 8\r\n\r\nJRecord version 0.81.5\r\n\r\n\r\n  [1]: https://jrecord.sourceforge.net/\r\n\r\n","title":"Reading/parsing a copybook in text format using JRecord, the builder seems to think it&#39;s an XML file","body":"<p>I'm trying to read,parse a copybook in .txt format using <a href=\"https://jrecord.sourceforge.net/\" rel=\"nofollow noreferrer\">JRecord</a> and then process a binary file using the copybook schema.</p>\n<p>When I try to read the binary file using <code>schemaBuilder.newReader(binaryFile)</code>, it gives me an exception saying :-</p>\n<pre><code>CopybookFile.txt:1:1:net.sf.JRecord.Common.RecordException : Content is not allowed in prolog.\n</code></pre>\n<p>The nested exception seems to be a SAXParseException with the same message.</p>\n<p>I notice that while using the IOBUilder with the copybook file, the loader seems to be an XMlCopyBookLoader and not a cobol file loader. <strong>How do I make the IOBuilder recognise that I'm trying to parse a txt/cbl file?</strong></p>\n<p>Minimal sample below :</p>\n<pre><code>ICobolIOBuilder schemaBuilder = JRecordInterface1.COBOL.newIOBuilder(copyBookFilePathWithDotTxt).setDialect(1).setFont(&quot;cp037&quot;).setDropCopyBookNameFromFields(true); // using the debugger, I see that schemaBuilder.loader is an  XMLCopyBookLoader and schemaBuilder is of type CblIOBuilderMultiSchema\ntry { \nAbstractLineReader reader = schemaBuilder.newReader(binaryFilePath);\n} catch(Exception e) { e.printStackTrace(); }\n</code></pre>\n<p>I have tried using the same file with .cbl extension as well. I also know that it's able to read the file because if I put xml content in there it seems to atleast move till the first invalid character. i.e line after XML.</p>\n<p>java version - 8</p>\n<p>JRecord version 0.81.5</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1420614272,"post_id":27814063,"comment_id":44035002,"body_markdown":"The input string always starts and ends with `$$`?","body":"The input string always starts and ends with <code>$$</code>?"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1420615537,"post_id":27814063,"comment_id":44035444,"body_markdown":"Putting things in square brackets seems to be a common mistake.  I don&#39;t really know why.  Square brackets in a regex mean &quot;match **one** character, if the character is one of the characters listed inside the square brackets&quot;.  So the pattern `[\\\\$\\\\$]` will match a single `$`, not the two-character `$$` sequence.","body":"Putting things in square brackets seems to be a common mistake.  I don&#39;t really know why.  Square brackets in a regex mean &quot;match <b>one</b> character, if the character is one of the characters listed inside the square brackets&quot;.  So the pattern <code>[\\\\$\\\\$]</code> will match a single <code>$</code>, not the two-character <code>$$</code> sequence."}],"answers":[{"tags":[],"owner":{"account_id":4528276,"reputation":67276,"user_id":3679490,"accept_rate":81,"display_name":"vks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690391708,"creation_date":1420614269,"answer_id":27814091,"question_id":27814063,"body_markdown":"    ^\\\\$\\\\$(?:(?!\\\\$\\\\$).)*\\\\$\\\\$$\r\n\r\nJust add anchors and a negative lookahead to make sure `$$` is not in middle.\r\n\r\nSee demo.\r\n\r\nhttps://regex101.com/r/sH8aR8/8\r\n\r\nThe problem with your regex was `[\\\\$\\\\$]` will accept `$` only one time as it is inside character class and without `^` and `$` it will not be strict with boundaries. Also `.*` will accept anything that is why your second `$` was getting accepted.\r\n\r\n`(?:(?!\\\\$\\\\$).)*` makes sure `$$` does not occur in between.\r\n\r\nEdit\r\n---\r\n\r\nIf count of `$` is not fixed use \r\n\r\n    ^\\\\$+(?:(?!\\\\$).)*\\\\$+$\r\n","title":"Java Regex to accept anything within qualifier","body":"<pre><code>^\\\\$\\\\$(?:(?!\\\\$\\\\$).)*\\\\$\\\\$$\n</code></pre>\n<p>Just add anchors and a negative lookahead to make sure <code>$$</code> is not in middle.</p>\n<p>See demo.</p>\n<p><a href=\"https://regex101.com/r/sH8aR8/8\" rel=\"nofollow noreferrer\">https://regex101.com/r/sH8aR8/8</a></p>\n<p>The problem with your regex was <code>[\\\\$\\\\$]</code> will accept <code>$</code> only one time as it is inside character class and without <code>^</code> and <code>$</code> it will not be strict with boundaries. Also <code>.*</code> will accept anything that is why your second <code>$</code> was getting accepted.</p>\n<p><code>(?:(?!\\\\$\\\\$).)*</code> makes sure <code>$$</code> does not occur in between.</p>\n<h2>Edit</h2>\n<p>If count of <code>$</code> is not fixed use</p>\n<pre><code>^\\\\$+(?:(?!\\\\$).)*\\\\$+$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420615747,"creation_date":1420615747,"answer_id":27814424,"question_id":27814063,"body_markdown":"Another way of looking at it is there are not 2 &quot;$$&quot; after the first $$:\r\n\r\n    ^\\\\$\\\\$(?!(.*?\\\\$\\\\$){2}).*\\\\$\\\\$$\r\n","title":"Java Regex to accept anything within qualifier","body":"<p>Another way of looking at it is there are not 2 \"$$\" after the first $$:</p>\n\n<pre><code>^\\\\$\\\\$(?!(.*?\\\\$\\\\$){2}).*\\\\$\\\\$$\n</code></pre>\n"}],"owner":{"account_id":4744535,"reputation":27,"user_id":3836204,"accept_rate":100,"display_name":"lostcoderx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27814091,"answer_count":2,"score":1,"last_activity_date":1690391708,"creation_date":1420614141,"question_id":27814063,"body_markdown":"I need a bit tricky java regex pattern to achieve the following.\r\n\r\nAccept anything wihtin the qualifier say &quot;$$&quot; Something like below does most of the job:\r\n\r\n\tPattern rc = Pattern.compile(&quot;[\\\\$\\\\$].*[\\\\$\\\\$]&quot;);\r\n\r\nThis will accept strings like : `&quot;$$ANYTHING$$&quot;` , `&quot;$$A$@#$@NYTHING!!!$$&quot;` etc.\r\n\r\nHowever I want to prohibit : `$$abc$$xyz$$` as it contains `&quot;$$&quot;` in the middle! Please tell me a way to achieve this. Also `$$$$xyz$$` and `$$xyz$$$$` should be rejected\r\n","title":"Java Regex to accept anything within qualifier","body":"<p>I need a bit tricky java regex pattern to achieve the following.</p>\n\n<p>Accept anything wihtin the qualifier say \"$$\" Something like below does most of the job:</p>\n\n<pre><code>Pattern rc = Pattern.compile(\"[\\\\$\\\\$].*[\\\\$\\\\$]\");\n</code></pre>\n\n<p>This will accept strings like : <code>\"$$ANYTHING$$\"</code> , <code>\"$$A$@#$@NYTHING!!!$$\"</code> etc.</p>\n\n<p>However I want to prohibit : <code>$$abc$$xyz$$</code> as it contains <code>\"$$\"</code> in the middle! Please tell me a way to achieve this. Also <code>$$$$xyz$$</code> and <code>$$xyz$$$$</code> should be rejected</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1654122682,"post_id":72468682,"comment_id":128019393,"body_markdown":"Look into `@ParameterizedTest`","body":"Look into <code>@ParameterizedTest</code>"}],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654123511,"creation_date":1654122800,"answer_id":72468712,"question_id":72468682,"body_markdown":"[@ParameterizedTest][2] is meant for this. A separate annotation is used with it to provide the data. [Here is the official guide to using it.][3] Here are some examples of how to use it:\r\n\r\n## Value source\r\n\r\n```java\r\n@ParameterizedTest\r\n@ValueSource(strings = { &quot;racecar&quot;, &quot;radar&quot;, &quot;able was I ere I saw elba&quot; })\r\nvoid palindromes(String candidate) {\r\n    assertTrue(StringUtils.isPalindrome(candidate));\r\n}\r\n\r\n```\r\n\r\n## Enum source\r\n\r\n```java\r\n\r\n\r\n@ParameterizedTest\r\n@EnumSource\r\nvoid testWithEnumSourceWithAutoDetection(ChronoUnit unit) {\r\n    assertNotNull(unit);\r\n}\r\n\r\n```\r\n## Method source\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;stringProvider&quot;)\r\nvoid testWithExplicitLocalMethodSource(String argument) {\r\n    assertNotNull(argument);\r\n}\r\n\r\nstatic Stream&lt;String&gt; stringProvider() {\r\n    return Stream.of(&quot;apple&quot;, &quot;banana&quot;);\r\n}\r\n\r\n```\r\n## Cvs source\r\n```java\r\n@ParameterizedTest\r\n@CsvSource({\r\n    &quot;apple,         1&quot;,\r\n    &quot;banana,        2&quot;,\r\n    &quot;&#39;lemon, lime&#39;, 0xF1&quot;,\r\n    &quot;strawberry,    700_000&quot;\r\n})\r\nvoid testWithCsvSource(String fruit, int rank) {\r\n    assertNotNull(fruit);\r\n    assertNotEquals(0, rank);\r\n}\r\n\r\n```\r\n## Cvs File source\r\n```java\r\n\r\n\r\n@ParameterizedTest\r\n@CsvFileSource(resources = &quot;/two-column.csv&quot;, numLinesToSkip = 1)\r\nvoid testWithCsvFileSourceFromClasspath(String country, int reference) {\r\n    assertNotNull(country);\r\n    assertNotEquals(0, reference);\r\n}\r\n\r\n```\r\n## Arguments source\r\n```java\r\n\r\n@ParameterizedTest\r\n@ArgumentsSource(MyArgumentsProvider.class)\r\nvoid testWithArgumentsSource(String argument) {\r\n    assertNotNull(argument);\r\n}\r\n\r\npublic class MyArgumentsProvider implements ArgumentsProvider {\r\n\r\n    @Override\r\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\r\n        return Stream.of(&quot;apple&quot;, &quot;banana&quot;).map(Arguments::of);\r\n    }\r\n}\r\n\r\n```\r\n\r\nGiven your question, `@ValueSource` seems like the closest match to how you want to write it.\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/4.12/org/junit/runners/Parameterized.html\r\n  [2]: https://junit.org/junit5/docs/5.8.1/api/org.junit.jupiter.params/org/junit/jupiter/params/ParameterizedTest.html\r\n  [3]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests","title":"How can I test for multiple cases using Junit?","body":"<p><a href=\"https://junit.org/junit5/docs/5.8.1/api/org.junit.jupiter.params/org/junit/jupiter/params/ParameterizedTest.html\" rel=\"nofollow noreferrer\">@ParameterizedTest</a> is meant for this. A separate annotation is used with it to provide the data. <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">Here is the official guide to using it.</a> Here are some examples of how to use it:</p>\n<h2>Value source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@ValueSource(strings = { &quot;racecar&quot;, &quot;radar&quot;, &quot;able was I ere I saw elba&quot; })\nvoid palindromes(String candidate) {\n    assertTrue(StringUtils.isPalindrome(candidate));\n}\n\n</code></pre>\n<h2>Enum source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n@ParameterizedTest\n@EnumSource\nvoid testWithEnumSourceWithAutoDetection(ChronoUnit unit) {\n    assertNotNull(unit);\n}\n\n</code></pre>\n<h2>Method source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;stringProvider&quot;)\nvoid testWithExplicitLocalMethodSource(String argument) {\n    assertNotNull(argument);\n}\n\nstatic Stream&lt;String&gt; stringProvider() {\n    return Stream.of(&quot;apple&quot;, &quot;banana&quot;);\n}\n\n</code></pre>\n<h2>Cvs source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@CsvSource({\n    &quot;apple,         1&quot;,\n    &quot;banana,        2&quot;,\n    &quot;'lemon, lime', 0xF1&quot;,\n    &quot;strawberry,    700_000&quot;\n})\nvoid testWithCsvSource(String fruit, int rank) {\n    assertNotNull(fruit);\n    assertNotEquals(0, rank);\n}\n\n</code></pre>\n<h2>Cvs File source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n@ParameterizedTest\n@CsvFileSource(resources = &quot;/two-column.csv&quot;, numLinesToSkip = 1)\nvoid testWithCsvFileSourceFromClasspath(String country, int reference) {\n    assertNotNull(country);\n    assertNotEquals(0, reference);\n}\n\n</code></pre>\n<h2>Arguments source</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ParameterizedTest\n@ArgumentsSource(MyArgumentsProvider.class)\nvoid testWithArgumentsSource(String argument) {\n    assertNotNull(argument);\n}\n\npublic class MyArgumentsProvider implements ArgumentsProvider {\n\n    @Override\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\n        return Stream.of(&quot;apple&quot;, &quot;banana&quot;).map(Arguments::of);\n    }\n}\n\n</code></pre>\n<p>Given your question, <code>@ValueSource</code> seems like the closest match to how you want to write it.</p>\n"},{"tags":[],"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690391622,"creation_date":1690391622,"answer_id":76773612,"question_id":72468682,"body_markdown":"Lets - we are solving the Leetcode TwoSum, and writing two tests under single `@Test` annotation\r\n\r\nJunit Test\r\n\r\n````java\r\nint[] nums = {2, 7, 11, 5};\r\n\r\n//second array\r\nint[] second_nums = {4, 5, 7, 9, 11};\r\n\r\n@Test\r\nvoid twoSum(){\r\n TwoSum twosum = new TwoSum();\r\n assertArrayEquals(new int[]{2, 7}, twosum.twoSum(nums, 9));\r\n\r\n//second test\r\nTwoSum twosum_second = new TwoSum();\r\nassertArrayEquals(new int[]{5, 9}, twosum_second.twoSum(second_nums, 14));\r\n\r\n}\r\n\r\n\r\n````\r\nThe class with logic\r\n````java\r\n\r\npublic class TwoSum(){\r\n public int[] twoSum(int[] nums, int target){\r\n //logic\r\n }\r\n}\r\n\r\n````","title":"How can I test for multiple cases using Junit?","body":"<p>Lets - we are solving the Leetcode TwoSum, and writing two tests under single <code>@Test</code> annotation</p>\n<p>Junit Test</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = {2, 7, 11, 5};\n\n//second array\nint[] second_nums = {4, 5, 7, 9, 11};\n\n@Test\nvoid twoSum(){\n TwoSum twosum = new TwoSum();\n assertArrayEquals(new int[]{2, 7}, twosum.twoSum(nums, 9));\n\n//second test\nTwoSum twosum_second = new TwoSum();\nassertArrayEquals(new int[]{5, 9}, twosum_second.twoSum(second_nums, 14));\n\n}\n\n\n</code></pre>\n<p>The class with logic</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TwoSum(){\n public int[] twoSum(int[] nums, int target){\n //logic\n }\n}\n\n</code></pre>\n"}],"owner":{"account_id":289628,"reputation":8386,"user_id":590719,"accept_rate":95,"display_name":"WEFX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690391622,"creation_date":1654122453,"question_id":72468682,"body_markdown":"I&#39;m looking for a way to test multiple scenarios with a single test in Junit, but I&#39;ve not found the proper syntax for this.\r\n\r\nIn other words, I want to write something similar to this Nunit code:\r\n\r\n    [TestCase(3, 2, true)]\r\n    [TestCase(2, 3, true)]\r\n    [TestCase(3, 3, true)]\r\n    public void MyTest(int var1, int var2, bool var3)\r\n    {\r\n        ...\r\n    }\r\n\r\nAny help is appreciated.","title":"How can I test for multiple cases using Junit?","body":"<p>I'm looking for a way to test multiple scenarios with a single test in Junit, but I've not found the proper syntax for this.</p>\n<p>In other words, I want to write something similar to this Nunit code:</p>\n<pre><code>[TestCase(3, 2, true)]\n[TestCase(2, 3, true)]\n[TestCase(3, 3, true)]\npublic void MyTest(int var1, int var2, bool var3)\n{\n    ...\n}\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","while-loop","break"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1690061663,"post_id":76745839,"comment_id":135301383,"body_markdown":"The find methods are wrong. You&#39;re putting i in smallest when you should be putting list.get(i).","body":"The find methods are wrong. You&#39;re putting i in smallest when you should be putting list.get(i)."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690062832,"creation_date":1690062832,"answer_id":76745918,"question_id":76745839,"body_markdown":"Your `break` is working correctly. The issue is in the implementations of `findSmallest` and `findLargest`. For instance, you have:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n        int smallest = list.get(0);\r\n        for (int i=0;i&lt;list.size()-1;i++) {\r\n            if (i&lt;smallest) {\r\n                smallest = i;\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nHere, `i` is the **index**, not the _value_ at that index. Also, your loop&#39;s condition is wrong. It&#39;s already exclusive, since you are using `&lt;`, meaning you should not be subtracting one from the size of the list.\r\n\r\nYou want something like:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n        int smallest = list.get(0);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i) &lt; smallest) {\r\n                smallest = list.get(i);\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nOr you can use a for-each loop:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n        int smallest = list.get(0);\r\n        for (Integer value : list) {\r\n            if (value &lt; smallest) {\r\n                smallest = value;\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nSimilar changes need to be made for `findLargest`.","title":"break statement does not stop executing while loop Immediately in java","body":"<p>Your <code>break</code> is working correctly. The issue is in the implementations of <code>findSmallest</code> and <code>findLargest</code>. For instance, you have:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list){\n    int smallest = list.get(0);\n    for (int i=0;i&lt;list.size()-1;i++) {\n        if (i&lt;smallest) {\n            smallest = i;\n        }\n    }\n    return smallest;\n}\n</code></pre>\n<p>Here, <code>i</code> is the <strong>index</strong>, not the <em>value</em> at that index. Also, your loop's condition is wrong. It's already exclusive, since you are using <code>&lt;</code>, meaning you should not be subtracting one from the size of the list.</p>\n<p>You want something like:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list){\n    int smallest = list.get(0);\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i) &lt; smallest) {\n            smallest = list.get(i);\n        }\n    }\n    return smallest;\n}\n</code></pre>\n<p>Or you can use a for-each loop:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list){\n    int smallest = list.get(0);\n    for (Integer value : list) {\n        if (value &lt; smallest) {\n            smallest = value;\n        }\n    }\n    return smallest;\n}\n</code></pre>\n<p>Similar changes need to be made for <code>findLargest</code>.</p>\n"},{"tags":[],"owner":{"account_id":6184830,"reputation":11,"user_id":17621044,"display_name":"tans flou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690390758,"creation_date":1690063540,"answer_id":76745946,"question_id":76745839,"body_markdown":"You actually don&#39;t compare items of the list with the smallest variable and the largest variable. You just compare the index of the for loop with them, so you need to change them as follows:\r\n\r\n    private static int findSmallest(ArrayList&lt;Integer&gt; list) {\r\n        int smallest = list.get(0);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i) &lt; smallest) {\r\n                smallest = list.get(i);\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\n    \r\n    private static int findLargest(ArrayList&lt;Integer&gt; list) {\r\n        int Largest = list.get(0);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i) &gt; Largest) {\r\n                Largest = list.get(i);\r\n            }\r\n        }\r\n        return Largest;\r\n    }","title":"break statement does not stop executing while loop Immediately in java","body":"<p>You actually don't compare items of the list with the smallest variable and the largest variable. You just compare the index of the for loop with them, so you need to change them as follows:</p>\n<pre><code>private static int findSmallest(ArrayList&lt;Integer&gt; list) {\n    int smallest = list.get(0);\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i) &lt; smallest) {\n            smallest = list.get(i);\n        }\n    }\n    return smallest;\n}\n\n\nprivate static int findLargest(ArrayList&lt;Integer&gt; list) {\n    int Largest = list.get(0);\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (list.get(i) &gt; Largest) {\n            Largest = list.get(i);\n        }\n    }\n    return Largest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690064565,"creation_date":1690064565,"answer_id":76745992,"question_id":76745839,"body_markdown":"Actually, you do not need to keep an array. All you need is just two `int` values.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.println(&quot;This program finds the largest and smallest numbers.&quot;);\r\n    System.out.println(&quot;Type &#39;0&#39; to exit the program.&quot;);\r\n\r\n    int min = Integer.MAX_VALUE;\r\n    int max = Integer.MIN_VALUE;\r\n    boolean empty = true;\r\n\r\n    while (true) {\r\n        System.out.print(&quot;&gt; &quot;);\r\n        int val = scan.nextInt();\r\n\r\n        if (val == 0) {\r\n            break;\r\n        }\r\n\r\n        min = Math.min(min, val);\r\n        max = Math.max(max, val);\r\n        empty = false;\r\n    }\r\n\r\n    if (empty) {\r\n        System.out.println(&quot;No input&quot;);\r\n    } else {\r\n        System.out.println(&quot;smallest: &quot; + min);\r\n        System.out.println(&quot;largest: &quot; + max);\r\n    }\r\n}\r\n```","title":"break statement does not stop executing while loop Immediately in java","body":"<p>Actually, you do not need to keep an array. All you need is just two <code>int</code> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(&quot;This program finds the largest and smallest numbers.&quot;);\n    System.out.println(&quot;Type '0' to exit the program.&quot;);\n\n    int min = Integer.MAX_VALUE;\n    int max = Integer.MIN_VALUE;\n    boolean empty = true;\n\n    while (true) {\n        System.out.print(&quot;&gt; &quot;);\n        int val = scan.nextInt();\n\n        if (val == 0) {\n            break;\n        }\n\n        min = Math.min(min, val);\n        max = Math.max(max, val);\n        empty = false;\n    }\n\n    if (empty) {\n        System.out.println(&quot;No input&quot;);\n    } else {\n        System.out.println(&quot;smallest: &quot; + min);\n        System.out.println(&quot;largest: &quot; + max);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29071222,"reputation":11,"user_id":22269519,"display_name":"Allen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76745918,"answer_count":3,"score":1,"last_activity_date":1690390758,"creation_date":1690061101,"question_id":76745839,"body_markdown":"I am trying to run a program that asks the user to list some values. These values will then be stored in a list and once the user types 0 the loop should terminate and the program should find the smallest and largest values the user had inputted. \r\n\r\n\r\nthe code where I initialise the loop to store the values is below:\r\n\r\n\r\n```\r\n\tpublic static void main(String[] Args){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tSystem.out.println(&quot;This program finds the largest and smallest numbers&quot;);\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;?&quot;);\r\n\t\t\tint value = in.nextInt();\r\n\t\t\tif(value == 0) {break;}\r\n\t\t\tlist.add(value);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;smallest:&quot; + findSmallest(list));\r\n\t\tSystem.out.println(&quot;largest:&quot; + findLargest(list));\r\n\t}\r\n\r\n\r\n```\r\n\r\n\t\r\n\r\nInstead of the break statement exiting the while loop immediately before adding the input 0 to the list, it triggers only after the entire while loop had finished. For example If i type 5,3 and 0 I should get:\r\n\r\nsmallest:3\r\nlargest:5\r\n\r\nbut instead i get:\r\n\r\nsmallest:0\r\nlargest:5\r\n\r\n\r\n\r\nWhy is this happenning and how can I solve it?\r\n\r\n\r\n\r\nFor reference here is the entire code:\r\n\r\n\r\n```\r\npackage Programs;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class FindRange {\r\n\t/* sentinel value for exiting the program*/\r\n\tprivate static final int sentinel = 0;\r\n\t\r\n\t\r\n\tpublic static void main(String[] Args){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tSystem.out.println(&quot;This program finds the largest and smallest numbers&quot;);\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;?&quot;);\r\n\t\t\tint value = in.nextInt();\r\n\t\t\tif(value == 0) {break;}\r\n\t\t\tlist.add(value);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;smallest:&quot; + findSmallest(list));\r\n\t\tSystem.out.println(&quot;largest:&quot; + findLargest(list));\r\n\t}\r\n\t\r\n\t/* \r\n\t * Precondition: We must receive a list of type ArrayList containing\r\n\t * int values provided by the user\r\n\t * PostConditions: Provides the smallest value in the list \r\n\t * */\r\n\tprivate static int findSmallest(ArrayList&lt;Integer&gt; list){\r\n\t\tint smallest = list.get(0);\r\n\t\tfor (int i=0;i&lt;list.size()-1;i++) {\r\n\t\t\tif (i&lt;smallest) {\r\n\t\t\t\tsmallest = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn smallest;\r\n\t\t\t\t}\r\n\t\r\n\t/* \r\n\t * Precondition: We must receive a list of type ArrayList containing\r\n\t * int values provided by the user\r\n\t * PostConditions: Provides the Largest value in the list \r\n\t * \r\n\t * Error with code: Some reason break statement on main doesn&#39;t stop the execution of the loop straight away\r\n\t * resulting in the sentinel 0 being stored in the list. \r\n\t * */\r\n\tprivate static int findLargest(ArrayList&lt;Integer&gt; list){\r\n\t\tint Largest = list.get(0);\r\n\t\tfor (int i=0;i&lt;list.size()-1;i++) {\r\n\t\t\tif (i&gt;Largest) {\r\n\t\t\t\tLargest = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Largest;\r\n\t\t\t\t}\r\n\t\r\n\r\n}\r\n\t\r\n```\r\n\t\t\t","title":"break statement does not stop executing while loop Immediately in java","body":"<p>I am trying to run a program that asks the user to list some values. These values will then be stored in a list and once the user types 0 the loop should terminate and the program should find the smallest and largest values the user had inputted.</p>\n<p>the code where I initialise the loop to store the values is below:</p>\n<pre><code>    public static void main(String[] Args){\n        Scanner in = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        System.out.println(&quot;This program finds the largest and smallest numbers&quot;);\n        while(true) {\n            System.out.println(&quot;?&quot;);\n            int value = in.nextInt();\n            if(value == 0) {break;}\n            list.add(value);\n        }\n        System.out.println(&quot;smallest:&quot; + findSmallest(list));\n        System.out.println(&quot;largest:&quot; + findLargest(list));\n    }\n\n\n</code></pre>\n<p>Instead of the break statement exiting the while loop immediately before adding the input 0 to the list, it triggers only after the entire while loop had finished. For example If i type 5,3 and 0 I should get:</p>\n<p>smallest:3\nlargest:5</p>\n<p>but instead i get:</p>\n<p>smallest:0\nlargest:5</p>\n<p>Why is this happenning and how can I solve it?</p>\n<p>For reference here is the entire code:</p>\n<pre><code>package Programs;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class FindRange {\n    /* sentinel value for exiting the program*/\n    private static final int sentinel = 0;\n    \n    \n    public static void main(String[] Args){\n        Scanner in = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        System.out.println(&quot;This program finds the largest and smallest numbers&quot;);\n        while(true) {\n            System.out.println(&quot;?&quot;);\n            int value = in.nextInt();\n            if(value == 0) {break;}\n            list.add(value);\n        }\n        System.out.println(&quot;smallest:&quot; + findSmallest(list));\n        System.out.println(&quot;largest:&quot; + findLargest(list));\n    }\n    \n    /* \n     * Precondition: We must receive a list of type ArrayList containing\n     * int values provided by the user\n     * PostConditions: Provides the smallest value in the list \n     * */\n    private static int findSmallest(ArrayList&lt;Integer&gt; list){\n        int smallest = list.get(0);\n        for (int i=0;i&lt;list.size()-1;i++) {\n            if (i&lt;smallest) {\n                smallest = i;\n            }\n        }\n        return smallest;\n                }\n    \n    /* \n     * Precondition: We must receive a list of type ArrayList containing\n     * int values provided by the user\n     * PostConditions: Provides the Largest value in the list \n     * \n     * Error with code: Some reason break statement on main doesn't stop the execution of the loop straight away\n     * resulting in the sentinel 0 being stored in the list. \n     * */\n    private static int findLargest(ArrayList&lt;Integer&gt; list){\n        int Largest = list.get(0);\n        for (int i=0;i&lt;list.size()-1;i++) {\n            if (i&gt;Largest) {\n                Largest = i;\n            }\n        }\n        return Largest;\n                }\n    \n\n}\n    \n</code></pre>\n"},{"tags":["java","graphql"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690389442,"post_id":76771716,"comment_id":135347805,"body_markdown":"When you get `NoSuchMethodError` it generally means you&#39;re using incompatible versions of dependencies. Spring Boot 3.1.2 seems to depend on entirely different libraries and different versions for OAuth2 support, so probably your current dependency on `org.springframework.security.oauth:spring-security-oauth2:2.5.2.RELEASE` is simply the wrong thing for Spring Boot 3.1.2.","body":"When you get <code>NoSuchMethodError</code> it generally means you&#39;re using incompatible versions of dependencies. Spring Boot 3.1.2 seems to depend on entirely different libraries and different versions for OAuth2 support, so probably your current dependency on <code>org.springframework.security.oauth:spring-security-oauth2:2.&zwnj;&#8203;5.2.RELEASE</code> is simply the wrong thing for Spring Boot 3.1.2."},{"owner":{"account_id":27043712,"reputation":603,"user_id":20598202,"display_name":"Samuel"},"score":0,"creation_date":1690389900,"post_id":76771716,"comment_id":135347908,"body_markdown":"It is best to use the boot versions of them. https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html . There you can leave out the version as the parent knows best with which version it is compatible with.","body":"It is best to use the boot versions of them. <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/logi&zwnj;&#8203;n/&hellip;</a> . There you can leave out the version as the parent knows best with which version it is compatible with."}],"owner":{"account_id":14257214,"reputation":1,"user_id":10299103,"display_name":"yalamarthi lakshmi priyanka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690389530,"creation_date":1690377222,"question_id":76771716,"body_markdown":"Here is the pom.xml\r\n\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t \r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \t\t \r\n  &lt;version&gt;3.1.2&lt;/version&gt;\r\n  &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt; \t\t\t \r\n &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt; \t\t\t \r\n &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt; \t\t\t \r\n &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nwhen trying to execute below code, getting the error. The rest api is returning the response.However the below code is throwing the error.\r\n```java\r\npublic RefundOrderDetailsResponse\r\n  getRefundOrderDetails(String employeeId, String orderId) {\r\n  UriComponentsBuilder builder =\r\n    UriComponentsBuilder.fromUriString(refundOrderDetailsUrl)\r\n\t  .queryParam(&quot;employeeId&quot;, employeeId)\r\n\t  .queryParam(&quot;orderId&quot;, orderId);\r\n  ResponseEntity&lt;RefundOrderDetailsResponse&gt;\r\n    response = restTemplate.getForEntity(builder.toUriString(),\r\n\tRefundOrderDetailsResponse.class);\r\n  return response.getBody();\r\n}\r\n\r\npackage com.octanner.commerceconfig.dto.refundorder;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class RefundOrderDetailsResponse {\r\n\tprivate String employeeId;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String orderId;\r\n\tprivate Double pointBalance;\r\n\tprivate String orderStatus;\r\n\tprivate boolean refundable;\r\n}\r\n```\r\n","title":"Getting &#39;java.lang.NoSuchMethodError&#39; exception in graphql","body":"<p>Here is the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        \n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        \n  &lt;version&gt;3.1.2&lt;/version&gt;\n  &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;             \n &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;           \n &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;             \n &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>when trying to execute below code, getting the error. The rest api is returning the response.However the below code is throwing the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public RefundOrderDetailsResponse\n  getRefundOrderDetails(String employeeId, String orderId) {\n  UriComponentsBuilder builder =\n    UriComponentsBuilder.fromUriString(refundOrderDetailsUrl)\n      .queryParam(&quot;employeeId&quot;, employeeId)\n      .queryParam(&quot;orderId&quot;, orderId);\n  ResponseEntity&lt;RefundOrderDetailsResponse&gt;\n    response = restTemplate.getForEntity(builder.toUriString(),\n    RefundOrderDetailsResponse.class);\n  return response.getBody();\n}\n\npackage com.octanner.commerceconfig.dto.refundorder;\nimport lombok.Data;\n\n@Data\npublic class RefundOrderDetailsResponse {\n    private String employeeId;\n    private String firstName;\n    private String lastName;\n    private String orderId;\n    private Double pointBalance;\n    private String orderStatus;\n    private boolean refundable;\n}\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-firestore","firebase-security"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690388884,"creation_date":1596926798,"answer_id":63320894,"question_id":63320761,"body_markdown":"It&#39;s not possible in security rules.\r\n\r\nIf you want a document count, you will have to manage one of your own in a single document.  Then you could write rules to check against the count that you manage in that document.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46554091/cloud-firestore-collection-count","title":"Is there a way to check the size of a Cloud Firestore collection using Security Rules?","body":"<p>It's not possible in security rules.</p>\n<p>If you want a document count, you will have to manage one of your own in a single document.  Then you could write rules to check against the count that you manage in that document.</p>\n"}],"owner":{"account_id":18795610,"reputation":29,"user_id":13707159,"display_name":"DangItsPang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63320894,"answer_count":1,"score":1,"last_activity_date":1690388884,"creation_date":1596925365,"question_id":63320761,"body_markdown":"In my app, each user has a document in the users collection of my database. Under each user&#39;s document, there is a subcollection for that user&#39;s uploaded foods. By default, I want to limit it so that the user cannot add more than 25 foods to their personal subcollection. Is there a way to check via Security Rules if the collection size is &lt;= 25?","title":"Is there a way to check the size of a Cloud Firestore collection using Security Rules?","body":"<p>In my app, each user has a document in the users collection of my database. Under each user's document, there is a subcollection for that user's uploaded foods. By default, I want to limit it so that the user cannot add more than 25 foods to their personal subcollection. Is there a way to check via Security Rules if the collection size is &lt;= 25?</p>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":17879033,"reputation":154,"user_id":12988325,"display_name":"wolf"},"score":0,"creation_date":1690388806,"post_id":76773284,"comment_id":135347641,"body_markdown":"Have you added the JAR in class path ?","body":"Have you added the JAR in class path ?"},{"owner":{"account_id":17879033,"reputation":154,"user_id":12988325,"display_name":"wolf"},"score":0,"creation_date":1690389100,"post_id":76773284,"comment_id":135347715,"body_markdown":"Does this answer your question? [Correct way to add external jars (lib/\\*.jar) to an IntelliJ IDEA project](https://stackoverflow.com/questions/1051640/correct-way-to-add-external-jars-lib-jar-to-an-intellij-idea-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1051640/correct-way-to-add-external-jars-lib-jar-to-an-intellij-idea-project\">Correct way to add external jars (lib/*.jar) to an IntelliJ IDEA project</a>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1690389327,"post_id":76773284,"comment_id":135347764,"body_markdown":"Do you have a `module-info.java` in the project? If you do you are using the Java 9 module system and need to update the module-info.java to require the java.desktop module - or just delete it to stop using the module system.","body":"Do you have a <code>module-info.java</code> in the project? If you do you are using the Java 9 module system and need to update the module-info.java to require the java.desktop module - or just delete it to stop using the module system."},{"owner":{"account_id":21624810,"reputation":3,"user_id":20357912,"display_name":"halemley"},"score":0,"creation_date":1690390219,"post_id":76773284,"comment_id":135347988,"body_markdown":"@greg-449 That did it! You are a life saver! Thank you &amp; everyone so much!","body":"@greg-449 That did it! You are a life saver! Thank you &amp; everyone so much!"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690391298,"post_id":76773284,"comment_id":135348244,"body_markdown":"If @greg-449 declines, you can [answer your own question](http://meta.stackoverflow.com/q/17463/163188).","body":"If @greg-449 declines, you can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>."}],"owner":{"account_id":21624810,"reputation":3,"user_id":20357912,"display_name":"halemley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690393047,"answer_count":0,"score":0,"last_activity_date":1690388618,"creation_date":1690388618,"question_id":76773284,"body_markdown":"I am creating a GUI on Eclipse using Java code. Everything in my code is fine except for some reason the java swing package is not being recognized by my IDE. I have used the correct imports and I am using JDK-17 which should include the swing package by default and yet the issue persists. I get the following error when I run my code: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tSwingUtilities cannot be resolved. It also mentions that the package in not accessible.\r\n\r\nI&#39;d appreciate any kind of help with this.\r\n\r\nHere is my code [Java Code](https://i.stack.imgur.com/a8dEk.png).\r\nAll of the imports are not accessible for some reason.","title":"Is there a solution as to why the javax.swing import is not working on my Eclipse IDE?","body":"<p>I am creating a GUI on Eclipse using Java code. Everything in my code is fine except for some reason the java swing package is not being recognized by my IDE. I have used the correct imports and I am using JDK-17 which should include the swing package by default and yet the issue persists. I get the following error when I run my code: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nSwingUtilities cannot be resolved. It also mentions that the package in not accessible.</p>\n<p>I'd appreciate any kind of help with this.</p>\n<p>Here is my code <a href=\"https://i.stack.imgur.com/a8dEk.png\" rel=\"nofollow noreferrer\">Java Code</a>.\nAll of the imports are not accessible for some reason.</p>\n"},{"tags":["java","android","android-studio","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1537041118,"post_id":52348197,"comment_id":91642021,"body_markdown":"Just checking-  you know junit is built in and does non-instrumented unit tests, right?  I doubt you&#39;ll find too many people who use cucumber given the ease of using junit.","body":"Just checking-  you know junit is built in and does non-instrumented unit tests, right?  I doubt you&#39;ll find too many people who use cucumber given the ease of using junit."},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537041252,"post_id":52348197,"comment_id":91642050,"body_markdown":"@GabeSechan Thanks.  I&#39;m aware of that. Perhaps the baked in JUnit test runner is responsible for my features being ignored?","body":"@GabeSechan Thanks.  I&#39;m aware of that. Perhaps the baked in JUnit test runner is responsible for my features being ignored?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1537041361,"post_id":52348197,"comment_id":91642074,"body_markdown":"Possibly. Also I see cucumber-jvm there. Android doesn&#39;t ruin the jvm it runs art. There could be issues there.","body":"Possibly. Also I see cucumber-jvm there. Android doesn&#39;t ruin the jvm it runs art. There could be issues there."},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537087460,"post_id":52348197,"comment_id":91649868,"body_markdown":"@GabeSechan what is &quot;art&quot;? Can I perhaps configure it to also run my Cucumber JUnit tests on top of the regular Android unit tests?","body":"@GabeSechan what is &quot;art&quot;? Can I perhaps configure it to also run my Cucumber JUnit tests on top of the regular Android unit tests?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1537111274,"post_id":52348197,"comment_id":91655697,"body_markdown":"art is an alternative virtual machine.  JVM is Oracle&#39;s (formerly Sun&#39;s).  There are differences in the bytecode and other things, if something assumes jvm it may not run on art.  But if you can get the test to run from Android Studio then that&#39;s not likely a problem","body":"art is an alternative virtual machine.  JVM is Oracle&#39;s (formerly Sun&#39;s).  There are differences in the bytecode and other things, if something assumes jvm it may not run on art.  But if you can get the test to run from Android Studio then that&#39;s not likely a problem"},{"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"score":0,"creation_date":1537112459,"post_id":52348197,"comment_id":91656045,"body_markdown":"Thanks.  I now think the default test runner for Android local unit tests is responsible for my features being ignored.  Likely I need to customize my gradle.build file to also run the Cucumber test runner in the &#39;test&#39; task.  Trying to learn how to do that now.  Would love to get help with that if anyone knows how to get it done.","body":"Thanks.  I now think the default test runner for Android local unit tests is responsible for my features being ignored.  Likely I need to customize my gradle.build file to also run the Cucumber test runner in the &#39;test&#39; task.  Trying to learn how to do that now.  Would love to get help with that if anyone knows how to get it done."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537041938,"creation_date":1537041938,"answer_id":52348420,"question_id":52348197,"body_markdown":"Your feature files are probably not getting picked up because you did not include a runner. You can either create a [JUnit Runner][1] or use the [Gradle cucumber plugin][2]. I am not sure if either would work in Android though.\r\n\r\nAlso you don&#39;t need `io.cucumber:cucumber-jvm:3.0.2` as a dependency. It is only a pom.\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/v3.0.2/junit\r\n  [2]: https://github.com/samueltbrown/gradle-cucumber-plugin","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>Your feature files are probably not getting picked up because you did not include a runner. You can either create a <a href=\"https://github.com/cucumber/cucumber-jvm/tree/v3.0.2/junit\" rel=\"nofollow noreferrer\">JUnit Runner</a> or use the <a href=\"https://github.com/samueltbrown/gradle-cucumber-plugin\" rel=\"nofollow noreferrer\">Gradle cucumber plugin</a>. I am not sure if either would work in Android though.</p>\n\n<p>Also you don't need <code>io.cucumber:cucumber-jvm:3.0.2</code> as a dependency. It is only a pom.</p>\n"},{"tags":[],"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537983309,"creation_date":1537983309,"answer_id":52523306,"question_id":52348197,"body_markdown":"I&#39;ve found out how to configure my Android app to run my Cucumber tests as &quot;local unit tests&quot; when I run `gradlew test` from the command line. This is based on my [SO question here][1] and I&#39;ve written a &quot;HOWTO&quot; blog post about it here: [Android: Run Cucumber tests without a device or an emulator][2].\r\n\r\nThe key to getting it done is in the app&#39;s `build.gradle` file. By latching on to the `unitTests.all` hook in the `testOptions` section I am able to run Cucumber using `javaexec` like so:\r\n\r\n    android {\r\n        ...\r\n        testOptions {\r\n            unitTests.all {\r\n                def classpath2 = getClasspath()\r\n                javaexec {\r\n                    main = &quot;cucumber.api.cli.Main&quot;\r\n                    classpath = classpath2\r\n                    args = [&#39;--plugin&#39;, &#39;pretty&#39;, &#39;--glue&#39;, &#39;gradle.cucumber&#39;, &#39;src/test/java/cucumber/assets&#39;]\r\n                }\r\n            }\r\n        }\r\n    )\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52474366/gradle-for-android-why-doesnt-javaexec-pick-up-my-classpath\r\n  [2]: https://www.urig.io/blog/android-run-cucumber-tests-without-a-device-or-an-emulator","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>I've found out how to configure my Android app to run my Cucumber tests as \"local unit tests\" when I run <code>gradlew test</code> from the command line. This is based on my <a href=\"https://stackoverflow.com/questions/52474366/gradle-for-android-why-doesnt-javaexec-pick-up-my-classpath\">SO question here</a> and I've written a \"HOWTO\" blog post about it here: <a href=\"https://www.urig.io/blog/android-run-cucumber-tests-without-a-device-or-an-emulator\" rel=\"nofollow noreferrer\">Android: Run Cucumber tests without a device or an emulator</a>.</p>\n\n<p>The key to getting it done is in the app's <code>build.gradle</code> file. By latching on to the <code>unitTests.all</code> hook in the <code>testOptions</code> section I am able to run Cucumber using <code>javaexec</code> like so:</p>\n\n<pre><code>android {\n    ...\n    testOptions {\n        unitTests.all {\n            def classpath2 = getClasspath()\n            javaexec {\n                main = \"cucumber.api.cli.Main\"\n                classpath = classpath2\n                args = ['--plugin', 'pretty', '--glue', 'gradle.cucumber', 'src/test/java/cucumber/assets']\n            }\n        }\n    }\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690388202,"creation_date":1690387505,"answer_id":76773165,"question_id":52348197,"body_markdown":"Or there is another way to directly run android unit tests from a custom runner. This is easiest approach for kotlin Android project.\r\n\r\nIn my app-level build.gradle, \r\n\r\n    dependencies {\r\n       //Cucumber\r\n       testImplementation(&quot;io.cucumber:cucumber-java:7.13.0&quot;)\r\n       testImplementation(&quot;io.cucumber:cucumber-junit:7.13.0&quot;)\r\n       testImplementation(&quot;io.cucumber:cucumber-jvm:7.13.0&quot;)\r\n    }\r\n\r\nThen as shown in picture below, I managed to run a cucumber scenario through the CucumberTestRunner green run arrow.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/48nPo.jpg\r\n\r\n**Sample Source Code**\r\n\r\nFor any entity data class **UserEntity.kt**, \r\n\r\n    import androidx.room.Entity\r\n    import androidx.room.PrimaryKey\r\n    \r\n    @Entity(tableName = &quot;users&quot;)\r\n    data class UserEntity(\r\n        @PrimaryKey val id: Int,\r\n        val name: String\r\n    )\r\n\r\nI first, created a feature file named **UserEntityBdd.feature** as, \r\n\r\n    Feature: UserEntity class behavior\r\n    \r\n      Scenario: Create a new UserEntity\r\n        Given a user ID\r\n        And a user name\r\n        When a UserEntity is created\r\n        Then the UserEntity should have the given ID and name\r\n\r\n\r\nThen, corresponding steps definitions file named **UserEntityStepDefinitions.kt** as,\r\n\r\n    import com.example.mvvm.datalayer.model.UserEntity\r\n    import io.cucumber.java.en.Given\r\n    import io.cucumber.java.en.Then\r\n    import io.cucumber.java.en.When\r\n    import org.junit.Assert.assertEquals\r\n    import kotlin.properties.Delegates\r\n    \r\n    class UserEntityStepDefinitions {\r\n        private var userId by Delegates.notNull&lt;Int&gt;()\r\n        private lateinit var userName: String\r\n        private lateinit var userEntity: UserEntity\r\n    \r\n        @Given(&quot;a user ID&quot;)\r\n        fun givenUserId() {\r\n            userId = 123\r\n        }\r\n    \r\n        @Given(&quot;a user name&quot;)\r\n        fun givenUserName() {\r\n            userName = &quot;John Doe&quot;\r\n        }\r\n    \r\n        @When(&quot;a UserEntity is created&quot;)\r\n        fun createUserEntity() {\r\n            userEntity = UserEntity(userId, userName)\r\n        }\r\n    \r\n        @Then(&quot;the UserEntity should have the given ID and name&quot;)\r\n        fun checkUserEntity() {\r\n            assertEquals(userId, userEntity.id)\r\n            assertEquals(userName, userEntity.name)\r\n        }\r\n    }\r\n\r\nand finally the Cuccumber Custom Runner, named **CucumberTestRunner.kt**, as\r\n\r\n    import io.cucumber.junit.Cucumber\r\n    import io.cucumber.junit.CucumberOptions\r\n    import org.junit.runner.RunWith\r\n    \r\n    @RunWith(Cucumber::class)\r\n    @CucumberOptions(\r\n        features = [&quot;.&quot;], // The package where your feature files are located\r\n        glue = [&quot;.&quot;], // The package where your step definitions are located\r\n        plugin = [&quot;pretty&quot;, &quot;html:reports/test-report&quot;] // Report plugins\r\n    )\r\n    class CucumberTestRunner\r\n\r\n\r\nAnd doing this approach made me I don&#39;t need to convert/port below groovy snippet to kts \r\n\r\n    testOptions {\r\n            unitTests.all {\r\n                def classpath2 = getClasspath()\r\n                javaexec {\r\n                    main = &quot;cucumber.api.cli.Main&quot;\r\n                    classpath = classpath2\r\n                    args = [&#39;--plugin&#39;, &#39;pretty&#39;, &#39;--glue&#39;, &#39;gradle.cucumber&#39;, &#39;src/test/java/cucumber/assets&#39;]\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>Or there is another way to directly run android unit tests from a custom runner. This is easiest approach for kotlin Android project.</p>\n<p>In my app-level build.gradle,</p>\n<pre><code>dependencies {\n   //Cucumber\n   testImplementation(&quot;io.cucumber:cucumber-java:7.13.0&quot;)\n   testImplementation(&quot;io.cucumber:cucumber-junit:7.13.0&quot;)\n   testImplementation(&quot;io.cucumber:cucumber-jvm:7.13.0&quot;)\n}\n</code></pre>\n<p>Then as shown in picture below, I managed to run a cucumber scenario through the CucumberTestRunner green run arrow.</p>\n<p><a href=\"https://i.stack.imgur.com/48nPo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/48nPo.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Sample Source Code</strong></p>\n<p>For any entity data class <strong>UserEntity.kt</strong>,</p>\n<pre><code>import androidx.room.Entity\nimport androidx.room.PrimaryKey\n\n@Entity(tableName = &quot;users&quot;)\ndata class UserEntity(\n    @PrimaryKey val id: Int,\n    val name: String\n)\n</code></pre>\n<p>I first, created a feature file named <strong>UserEntityBdd.feature</strong> as,</p>\n<pre><code>Feature: UserEntity class behavior\n\n  Scenario: Create a new UserEntity\n    Given a user ID\n    And a user name\n    When a UserEntity is created\n    Then the UserEntity should have the given ID and name\n</code></pre>\n<p>Then, corresponding steps definitions file named <strong>UserEntityStepDefinitions.kt</strong> as,</p>\n<pre><code>import com.example.mvvm.datalayer.model.UserEntity\nimport io.cucumber.java.en.Given\nimport io.cucumber.java.en.Then\nimport io.cucumber.java.en.When\nimport org.junit.Assert.assertEquals\nimport kotlin.properties.Delegates\n\nclass UserEntityStepDefinitions {\n    private var userId by Delegates.notNull&lt;Int&gt;()\n    private lateinit var userName: String\n    private lateinit var userEntity: UserEntity\n\n    @Given(&quot;a user ID&quot;)\n    fun givenUserId() {\n        userId = 123\n    }\n\n    @Given(&quot;a user name&quot;)\n    fun givenUserName() {\n        userName = &quot;John Doe&quot;\n    }\n\n    @When(&quot;a UserEntity is created&quot;)\n    fun createUserEntity() {\n        userEntity = UserEntity(userId, userName)\n    }\n\n    @Then(&quot;the UserEntity should have the given ID and name&quot;)\n    fun checkUserEntity() {\n        assertEquals(userId, userEntity.id)\n        assertEquals(userName, userEntity.name)\n    }\n}\n</code></pre>\n<p>and finally the Cuccumber Custom Runner, named <strong>CucumberTestRunner.kt</strong>, as</p>\n<pre><code>import io.cucumber.junit.Cucumber\nimport io.cucumber.junit.CucumberOptions\nimport org.junit.runner.RunWith\n\n@RunWith(Cucumber::class)\n@CucumberOptions(\n    features = [&quot;.&quot;], // The package where your feature files are located\n    glue = [&quot;.&quot;], // The package where your step definitions are located\n    plugin = [&quot;pretty&quot;, &quot;html:reports/test-report&quot;] // Report plugins\n)\nclass CucumberTestRunner\n</code></pre>\n<p>And doing this approach made me I don't need to convert/port below groovy snippet to kts</p>\n<pre><code>testOptions {\n        unitTests.all {\n            def classpath2 = getClasspath()\n            javaexec {\n                main = &quot;cucumber.api.cli.Main&quot;\n                classpath = classpath2\n                args = ['--plugin', 'pretty', '--glue', 'gradle.cucumber', 'src/test/java/cucumber/assets']\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":15694,"reputation":16160,"user_id":33404,"accept_rate":71,"display_name":"urig"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2709,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52523306,"answer_count":3,"score":2,"last_activity_date":1690388202,"creation_date":1537040179,"question_id":52348197,"body_markdown":"I have an Android project written in Java that I&#39;m working on in Android Studio.\r\n\r\nI&#39;d like to use Cucumber for integration testing of some internal components (note: I know this is not the BDD way, nonetheless useful to me). I want the tests to run as [local unit tests][1] (without Instrumentation) using `gradlew test` because the components under test do not interact with the Android SDK.\r\n\r\n**My problem is that the Cucumber features are not recognized by Gradle and do not run when I run `gradlew test`.**\r\n\r\nHere&#39;s how I set it up so far:\r\n\r\n1. Added these dependencies to my app&#39;s build.gradle:\r\n\r\n        testImplementation &#39;io.cucumber:cucumber-java:3.0.2&#39;\r\n        testImplementation &#39;io.cucumber:cucumber-junit:3.0.2&#39;\r\n        testImplementation &#39;io.cucumber:cucumber-jvm:3.0.2&#39;\r\n\r\n\r\n2. Also there, I added the path to where I&#39;ve put my Feature file:\r\n\r\n        android {\r\n            ...\r\n            sourceSets {\r\n                test {\r\n                    assets.srcDirs = [&#39;src/test/java/integrationTest/assets&#39;]\r\n                }\r\n            }\r\n        }\r\n\r\n    This is based on this folder structure:\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n3. Added a class for the steps (`Steps1.java`) as can be seen above.\r\n\r\nWhat am I missing here?\r\n\r\n\r\n  [1]: https://developer.android.com/studio/test/command-line\r\n  [2]: https://i.stack.imgur.com/5R3RM.png","title":"How to make Cucumber features run in an Android project as local unit tests?","body":"<p>I have an Android project written in Java that I'm working on in Android Studio.</p>\n\n<p>I'd like to use Cucumber for integration testing of some internal components (note: I know this is not the BDD way, nonetheless useful to me). I want the tests to run as <a href=\"https://developer.android.com/studio/test/command-line\" rel=\"nofollow noreferrer\">local unit tests</a> (without Instrumentation) using <code>gradlew test</code> because the components under test do not interact with the Android SDK.</p>\n\n<p><strong>My problem is that the Cucumber features are not recognized by Gradle and do not run when I run <code>gradlew test</code>.</strong></p>\n\n<p>Here's how I set it up so far:</p>\n\n<ol>\n<li><p>Added these dependencies to my app's build.gradle:</p>\n\n<pre><code>testImplementation 'io.cucumber:cucumber-java:3.0.2'\ntestImplementation 'io.cucumber:cucumber-junit:3.0.2'\ntestImplementation 'io.cucumber:cucumber-jvm:3.0.2'\n</code></pre></li>\n<li><p>Also there, I added the path to where I've put my Feature file:</p>\n\n<pre><code>android {\n    ...\n    sourceSets {\n        test {\n            assets.srcDirs = ['src/test/java/integrationTest/assets']\n        }\n    }\n}\n</code></pre>\n\n<p>This is based on this folder structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5R3RM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5R3RM.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Added a class for the steps (<code>Steps1.java</code>) as can be seen above.</p></li>\n</ol>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":0,"creation_date":1541988535,"post_id":52656517,"comment_id":93394907,"body_markdown":"I faced the same exact issue, added the prop entry and I&#39;m able to see the response, previously it was failing. Thanks for this questions and the hint `fail-on-empty-beans`","body":"I faced the same exact issue, added the prop entry and I&#39;m able to see the response, previously it was failing. Thanks for this questions and the hint <code>fail-on-empty-beans</code>"},{"owner":{"account_id":2481597,"reputation":98,"user_id":2160969,"display_name":"Wiz"},"score":1,"creation_date":1557813343,"post_id":52656517,"comment_id":98879610,"body_markdown":"check the answer here https://stackoverflow.com/a/51129161/2160969","body":"check the answer here <a href=\"https://stackoverflow.com/a/51129161/2160969\">stackoverflow.com/a/51129161/2160969</a>"},{"owner":{"account_id":22656461,"reputation":2316,"user_id":16830299,"display_name":"Rajanboy"},"score":1,"creation_date":1656562725,"post_id":52656517,"comment_id":128604571,"body_markdown":"spring.jackson.serialization.fail-on-empty-beans=false\nsolves for me too. but i dont know what is error on","body":"spring.jackson.serialization.fail-on-empty-beans=false solves for me too. but i dont know what is error on"},{"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"score":0,"creation_date":1657794953,"post_id":52656517,"comment_id":128897531,"body_markdown":"In my case I was using groovy / grails and wasn&#39;t working as response wasn&#39;t in the JSON format. Added  ```return result as JSON``` and it worked.","body":"In my case I was using groovy / grails and wasn&#39;t working as response wasn&#39;t in the JSON format. Added  <code>return result as JSON</code> and it worked."},{"owner":{"account_id":7852820,"reputation":87,"user_id":5935755,"display_name":"Kevin Onofre"},"score":0,"creation_date":1660100047,"post_id":52656517,"comment_id":129450562,"body_markdown":"Me too. Thanks. But i do not know what is error.","body":"Me too. Thanks. But i do not know what is error."}],"answers":[{"tags":[],"owner":{"account_id":5578886,"reputation":345,"user_id":4421445,"display_name":"Ivan Perales M."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538703884,"creation_date":1538703884,"answer_id":52657221,"question_id":52656517,"body_markdown":"Hmm are you traying to send entities from one instance of the jvm to another one which need to serialize them?  if this is the case i think the error is because you fetched the entities somehow and hibernate is using its not serializable classes, you need to convert entities to pojo&#39;s (i mean use native types or objects that are serializables).","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Hmm are you traying to send entities from one instance of the jvm to another one which need to serialize them?  if this is the case i think the error is because you fetched the entities somehow and hibernate is using its not serializable classes, you need to convert entities to pojo's (i mean use native types or objects that are serializables).</p>\n"},{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"down_vote_count":2,"up_vote_count":136,"is_accepted":false,"score":134,"last_activity_date":1569468839,"creation_date":1548744123,"answer_id":54415243,"question_id":52656517,"body_markdown":"You can Ignore to produce JSON output of a property by \r\n\r\n    @JsonIgnore \r\n\r\nOr If you have any lazy loaded properties having a relationship. You can use this annotation at top of the property.\r\n    \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) \r\n\r\nExample:\r\n\r\n    @Entity\r\n    public class Product implements Serializable{\r\n       private int id;\r\n       private String name;\r\n       private String photo;\r\n       private double price;\r\n       private int quantity;\r\n       private Double rating;\r\n       private Provider provider;\r\n       private String description;\r\n\r\n       @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n       private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\r\n\r\n       @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n       private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\r\n     \r\n       // Getters &amp; Setters\r\n    }\r\n\r\nIf you still have this error, please add this line of code in your application.properties file\r\n\r\n    spring.jackson.serialization.fail-on-empty-beans=false\r\n\r\nI hope your problem will be solved. Thanks.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>You can Ignore to produce JSON output of a property by </p>\n\n<pre><code>@JsonIgnore \n</code></pre>\n\n<p>Or If you have any lazy loaded properties having a relationship. You can use this annotation at top of the property.</p>\n\n<pre><code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"}) \n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@Entity\npublic class Product implements Serializable{\n   private int id;\n   private String name;\n   private String photo;\n   private double price;\n   private int quantity;\n   private Double rating;\n   private Provider provider;\n   private String description;\n\n   @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n   private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\n\n   @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n   private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\n\n   // Getters &amp; Setters\n}\n</code></pre>\n\n<p>If you still have this error, please add this line of code in your application.properties file</p>\n\n<pre><code>spring.jackson.serialization.fail-on-empty-beans=false\n</code></pre>\n\n<p>I hope your problem will be solved. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":13610812,"reputation":2719,"user_id":9818388,"display_name":"Szelek"},"down_vote_count":1,"up_vote_count":213,"is_accepted":true,"score":212,"last_activity_date":1610627008,"creation_date":1571676477,"answer_id":58490797,"question_id":52656517,"body_markdown":"I came across this error while doing a tutorial with spring repository. It turned out that the error was made at the stage of building the service class for my entity. \r\n\r\nIn your serviceImpl class, you probably have something like:\r\n\r\n        @Override\r\n        public YourEntityClass findYourEntityClassById(Long id) {\r\n          return YourEntityClassRepositorie.getOne(id);\r\n        }\r\n\r\nChange this to:\r\n\r\n        @Override\r\n        public YourEntityClass findYourEntityClassById(Long id) {\r\n          return YourEntityClassRepositorie.findById(id).get();\r\n        }\r\n\r\nBasically getOne is a lazy load operation. Thus you get only a reference (a proxy) to the entity. That means no DB access is actually made. Only when you call it&#39;s properties then it will query the DB. findByID does the call &#39;eagerly&#39;/immediately when you call it, thus you have the actual entity fully populated.\r\n\r\nTake a look at this: [Link to the difference between getOne &amp; findByID][1]\r\n\r\n\r\n  [1]: https://www.javacodemonk.com/difference-between-getone-and-findbyid-in-spring-data-jpa-3a96c3ff","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>I came across this error while doing a tutorial with spring repository. It turned out that the error was made at the stage of building the service class for my entity.</p>\n<p>In your serviceImpl class, you probably have something like:</p>\n<pre><code>    @Override\n    public YourEntityClass findYourEntityClassById(Long id) {\n      return YourEntityClassRepositorie.getOne(id);\n    }\n</code></pre>\n<p>Change this to:</p>\n<pre><code>    @Override\n    public YourEntityClass findYourEntityClassById(Long id) {\n      return YourEntityClassRepositorie.findById(id).get();\n    }\n</code></pre>\n<p>Basically getOne is a lazy load operation. Thus you get only a reference (a proxy) to the entity. That means no DB access is actually made. Only when you call it's properties then it will query the DB. findByID does the call 'eagerly'/immediately when you call it, thus you have the actual entity fully populated.</p>\n<p>Take a look at this: <a href=\"https://www.javacodemonk.com/difference-between-getone-and-findbyid-in-spring-data-jpa-3a96c3ff\" rel=\"noreferrer\">Link to the difference between getOne &amp; findByID</a></p>\n"},{"tags":[],"owner":{"account_id":104443,"reputation":69,"user_id":279242,"display_name":"SNabi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610636466,"creation_date":1576266921,"answer_id":59329020,"question_id":52656517,"body_markdown":"I also faced with this problem. @Szelek&#39;s answer helped me. But I did it with another way. Changed getOne() method to:\r\n\r\n    repository.findById(id).orElse(null)\r\n\r\nEnsure you are taking care of the `NullPointerException` this will generate when it&#39;s not found.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>I also faced with this problem. @Szelek's answer helped me. But I did it with another way. Changed getOne() method to:</p>\n<pre><code>repository.findById(id).orElse(null)\n</code></pre>\n<p>Ensure you are taking care of the <code>NullPointerException</code> this will generate when it's not found.</p>\n"},{"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1671285499,"creation_date":1584702679,"answer_id":60773017,"question_id":52656517,"body_markdown":"Changing the `FetchType` from `Lazy` to `Eager` did the trick for me.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Changing the <code>FetchType</code> from <code>Lazy</code> to <code>Eager</code> did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1597515172,"creation_date":1597514470,"answer_id":63429269,"question_id":52656517,"body_markdown":"`@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})` work for me very well. **It doesn&#39;t miss any reference objects** and resolve the problem.\r\n\r\nIn my case:\r\n\r\n    @Entity\r\n    @Table(name = &quot;applications&quot;)\r\n    public class Application implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 36, min = 36)\r\n        private String guid;\r\n    \r\n        @NotBlank\r\n        @Size(max = 60)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;refresh_delay&quot;)\r\n        private int refreshDelay;\r\n    \r\n        @ManyToOne(fetch = LAZY)\r\n        @JoinColumn(name = &quot;id_production&quot;, referencedColumnName = &quot;id&quot;)\r\n        @JsonIgnoreProperties(value = {&quot;applications&quot;, &quot;hibernateLazyInitializer&quot;})\r\n        private Production production;","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p><code>@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})</code> work for me very well. <strong>It doesn't miss any reference objects</strong> and resolve the problem.</p>\n<p>In my case:</p>\n<pre><code>@Entity\n@Table(name = &quot;applications&quot;)\npublic class Application implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 36, min = 36)\n    private String guid;\n\n    @NotBlank\n    @Size(max = 60)\n    private String name;\n\n    @Column(name = &quot;refresh_delay&quot;)\n    private int refreshDelay;\n\n    @ManyToOne(fetch = LAZY)\n    @JoinColumn(name = &quot;id_production&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonIgnoreProperties(value = {&quot;applications&quot;, &quot;hibernateLazyInitializer&quot;})\n    private Production production;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15427686,"reputation":82,"user_id":11129951,"display_name":"akhil Raj Kunwar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601295138,"creation_date":1601295138,"answer_id":64101954,"question_id":52656517,"body_markdown":"i also faced same problem.\r\nI was using repo.getOne(id);\r\ni changed it to repo.findById(id). It returned optional, but now error is gone","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>i also faced same problem.\nI was using repo.getOne(id);\ni changed it to repo.findById(id). It returned optional, but now error is gone</p>\n"},{"tags":[],"owner":{"account_id":20085691,"reputation":31,"user_id":14727301,"display_name":"Georges MOMO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619493253,"creation_date":1606613750,"answer_id":65056163,"question_id":52656517,"body_markdown":"Changing from\r\n```\r\nMyEntityClassRepositorie.getOne(id)\r\n```\r\nto\r\n```\r\nMyEntityClassRepositorie.findById(id).get()\r\n``` \r\nwork fine for me.\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Changing from</p>\n<pre><code>MyEntityClassRepositorie.getOne(id)\n</code></pre>\n<p>to</p>\n<pre><code>MyEntityClassRepositorie.findById(id).get()\n</code></pre>\n<p>work fine for me.</p>\n"},{"tags":[],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612858066,"creation_date":1612858066,"answer_id":66115122,"question_id":52656517,"body_markdown":"For me, I got this error for a DTO object. The problem was I didn&#39;t provide getters for DTO properties. Therefore, Jackson was not able to fetch those values and assumed the bean is empty. **Solution**:\r\n\r\n&gt; Add Getters to your DTO","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>For me, I got this error for a DTO object. The problem was I didn't provide getters for DTO properties. Therefore, Jackson was not able to fetch those values and assumed the bean is empty. <strong>Solution</strong>:</p>\n<blockquote>\n<p>Add Getters to your DTO</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16633777,"reputation":61,"user_id":12021005,"display_name":"Arber Berisha"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612948409,"creation_date":1612917054,"answer_id":66129267,"question_id":52656517,"body_markdown":"This solved my issue.\r\n\r\n     @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n\r\n\r\n\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>This solved my issue.</p>\n<pre><code> @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6364163,"reputation":188,"user_id":4938634,"display_name":"kvs"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1646864523,"creation_date":1646864523,"answer_id":71416675,"question_id":52656517,"body_markdown":"This answer comes from the book: &quot;learn microservices with spring boot&quot;\r\nInstead of supressing the error on empty bean which is suggested by the spring there are more preferable ways to handle this.\r\n\r\n&gt; We configured our nested User entities to be fetched in LAZY mode, so\r\n&gt; theyre not being queried from the database. We also said that\r\n&gt; Hibernate creates proxies for our classes in runtime. Thats the\r\n&gt; reason behind the ByteBuddyInterceptor class. You can try switching\r\n&gt; the fetch mode to EAGER, and you will no longer get this error. But\r\n&gt; thats not the proper solution to this problem since then well be\r\n&gt; triggering many queries for data we dont need. Lets keep the lazy\r\n&gt; fetch mode and fix this accordingly. The first option we have is to\r\n&gt; customize our JSON serialization so it can handle Hibernate objects.\r\n&gt; Luckily, FasterXML,the provider of Jackson libraries, has a specific\r\n&gt; module for Hibernate that we can use in our ObjectMapper objects:\r\n&gt; jackson-datatype-hibernate:\r\n\r\n    &lt;dependency&gt;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; We create a bean for our new Hibernate module for Jackson. Spring\r\n&gt; Boots Jackson2ObjectMapperBuilder will use it via autoconfiguration,\r\n&gt; and all our ObjectMapper instances will use the Spring Boot defaults\r\n&gt; plus our own customization.\r\n\r\n\r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    @Configuration\r\n    public class JsonConfiguration {\r\n    &#160;&#160;&#160;&#160;@Bean\r\n    &#160;&#160;&#160;&#160;public Module hibernateModule() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return new Hibernate5Module();\r\n    &#160;&#160;&#160;&#160;}\r\n    }","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>This answer comes from the book: &quot;learn microservices with spring boot&quot;\nInstead of supressing the error on empty bean which is suggested by the spring there are more preferable ways to handle this.</p>\n<blockquote>\n<p>We configured our nested User entities to be fetched in LAZY mode, so\ntheyre not being queried from the database. We also said that\nHibernate creates proxies for our classes in runtime. Thats the\nreason behind the ByteBuddyInterceptor class. You can try switching\nthe fetch mode to EAGER, and you will no longer get this error. But\nthats not the proper solution to this problem since then well be\ntriggering many queries for data we dont need. Lets keep the lazy\nfetch mode and fix this accordingly. The first option we have is to\ncustomize our JSON serialization so it can handle Hibernate objects.\nLuckily, FasterXML,the provider of Jackson libraries, has a specific\nmodule for Hibernate that we can use in our ObjectMapper objects:\njackson-datatype-hibernate:</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>We create a bean for our new Hibernate module for Jackson. Spring\nBoots Jackson2ObjectMapperBuilder will use it via autoconfiguration,\nand all our ObjectMapper instances will use the Spring Boot defaults\nplus our own customization.</p>\n</blockquote>\n<pre><code>import com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\npublic class JsonConfiguration {\n@Bean\npublic Module hibernateModule() {\nreturn new Hibernate5Module();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656309833,"creation_date":1650995199,"answer_id":72018348,"question_id":52656517,"body_markdown":"In my case I was facing same exception with `@EntityGraph`. Actually I was trying to fetch OneToMany (**inventoryList**) via EntityGraph and it&#39;s working but when I tried get another relation with ManyToOne (**category**) it was giving error. I don&#39;t know why it became lazy. As we know `@ManyToOne` is by default eager.\r\n\r\n    class Product {\r\n     \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;categoryId&quot;)\r\n        private Category category;\r\n\r\n        @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Inventory&gt; inventoryList;\r\n    }\r\n\r\nRepository method:\r\n\r\n    @EntityGraph(attributePaths = { &quot;inventoryList&quot; })\r\n    List&lt;Product&gt; findAll();\r\n\r\nI was getting same expection because I didn&#39;t add category in EntityGraph fetch. After adding **category** it&#39;s get fixed.\r\n\r\n    @EntityGraph(attributePaths = { &quot;inventoryList&quot;, &quot;category&quot; })\r\n    List&lt;Product&gt; findAll();\r\n","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>In my case I was facing same exception with <code>@EntityGraph</code>. Actually I was trying to fetch OneToMany (<strong>inventoryList</strong>) via EntityGraph and it's working but when I tried get another relation with ManyToOne (<strong>category</strong>) it was giving error. I don't know why it became lazy. As we know <code>@ManyToOne</code> is by default eager.</p>\n<pre><code>class Product {\n \n    @ManyToOne\n    @JoinColumn(name = &quot;categoryId&quot;)\n    private Category category;\n\n    @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\n    private List&lt;Inventory&gt; inventoryList;\n}\n</code></pre>\n<p>Repository method:</p>\n<pre><code>@EntityGraph(attributePaths = { &quot;inventoryList&quot; })\nList&lt;Product&gt; findAll();\n</code></pre>\n<p>I was getting same expection because I didn't add category in EntityGraph fetch. After adding <strong>category</strong> it's get fixed.</p>\n<pre><code>@EntityGraph(attributePaths = { &quot;inventoryList&quot;, &quot;category&quot; })\nList&lt;Product&gt; findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19444772,"reputation":52,"user_id":14222561,"display_name":"Abhishek Agashe"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659293432,"creation_date":1659293432,"answer_id":73186088,"question_id":52656517,"body_markdown":"As I worked on localhost I just needed a Server. The following worked for me\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;9.0.65&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>As I worked on localhost I just needed a Server. The following worked for me</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n        &lt;version&gt;9.0.65&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4606828,"reputation":1240,"user_id":3736063,"display_name":"Malek Tubaisaht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959422,"creation_date":1675959422,"answer_id":75401425,"question_id":52656517,"body_markdown":"I faced this problem once I moved to using `jakarta.persistence` library , once I changed back to `javax.persistence` the problem sovled.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>I faced this problem once I moved to using <code>jakarta.persistence</code> library , once I changed back to <code>javax.persistence</code> the problem sovled.</p>\n"},{"tags":[],"owner":{"account_id":16056405,"reputation":59,"user_id":11588592,"display_name":"Apoorv Vardhman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676964902,"creation_date":1676439847,"answer_id":75455897,"question_id":52656517,"body_markdown":"If you are using spring 6 then it will work \r\n\r\n    spring:\r\n      jackson:\r\n        serialization:\r\n          fail-on-empty-beans: false","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>If you are using spring 6 then it will work</p>\n<pre><code>spring:\n  jackson:\n    serialization:\n      fail-on-empty-beans: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688058002,"creation_date":1688058002,"answer_id":76583167,"question_id":52656517,"body_markdown":"Add the following dependency in your pom.xml for javax.*\r\n\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n\r\nOr following for jakarta.*\r\n\r\n\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\r\n\r\nAnd add the configuration as below for javax.*: \r\n\r\n    package microservices.book.multiplication.configuration;\r\n    \r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class JsonConfiguration {\r\n        @Bean\r\n        public Module hibernateModule() {\r\n            return new Hibernate5JakartaModule();\r\n        }\r\n       \r\n    }\r\n\r\nOr for jakarta.* package, add the configuration as below:\r\n\r\n    package microservices.book.multiplication.configuration;\r\n    \r\n    import com.fasterxml.jackson.databind.Module;\r\n    import com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class JsonConfiguration {\r\n        @Bean\r\n        public Module hibernateModule() {\r\n            return new Hibernate5JakartaModule();\r\n        }\r\n       \r\n    }\r\n\r\nThe above two steps should resolve this issue.","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>Add the following dependency in your pom.xml for javax.*</p>\n<pre><code>&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n</code></pre>\n<p>Or following for jakarta.*</p>\n<pre><code>&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\n</code></pre>\n<p>And add the configuration as below for javax.*:</p>\n<pre><code>package microservices.book.multiplication.configuration;\n\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class JsonConfiguration {\n    @Bean\n    public Module hibernateModule() {\n        return new Hibernate5JakartaModule();\n    }\n   \n}\n</code></pre>\n<p>Or for jakarta.* package, add the configuration as below:</p>\n<pre><code>package microservices.book.multiplication.configuration;\n\nimport com.fasterxml.jackson.databind.Module;\nimport com.fasterxml.jackson.datatype.hibernate5.jakarta.Hibernate5JakartaModule;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class JsonConfiguration {\n    @Bean\n    public Module hibernateModule() {\n        return new Hibernate5JakartaModule();\n    }\n   \n}\n</code></pre>\n<p>The above two steps should resolve this issue.</p>\n"},{"tags":[],"owner":{"account_id":27069487,"reputation":1,"user_id":20620326,"display_name":"cs7eric"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690388159,"creation_date":1690388159,"answer_id":76773234,"question_id":52656517,"body_markdown":"i found the approach from other article, you can add the public setter and getter in your class, it can solve this problem","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>i found the approach from other article, you can add the public setter and getter in your class, it can solve this problem</p>\n"}],"owner":{"account_id":9675677,"reputation":8158,"user_id":10257611,"display_name":"Ayoub k"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170893,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":58490797,"answer_count":17,"score":131,"last_activity_date":1690388159,"creation_date":1538696978,"question_id":52656517,"body_markdown":"When i try to navigate to an endpoint i get the following error\r\n\r\n    Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)  \r\n\r\nI checked all my models and all the attributes have getters and setters. So what&#39;s the problem ?\r\n\r\nI can fix that by adding `spring.jackson.serialization.fail-on-empty-beans=false` but i think this is just a work around to hide the exception.\r\n\r\n**Edit**  \r\n\r\n`Product` model:  \r\n\r\n    @Entity\r\n    public class Product {\r\n        private int id;\r\n        private String name;\r\n        private String photo;\r\n        private double price;\r\n        private int quantity;\r\n        private Double rating;\r\n        private Provider provider;\r\n        private String description;\r\n        private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\r\n        private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\r\n        \r\n        // Getters &amp; Setters\r\n    }\r\n\r\n`PagedResponse` class :\r\n\r\n    public class PagedResponse&lt;T&gt; {\r\n    \r\n        private List&lt;T&gt; content;\r\n        private int page;\r\n        private int size;\r\n        private long totalElements;\r\n        private int totalPages;\r\n        private boolean last;\r\n        \r\n        // Getters &amp; Setters\r\n    }\r\n\r\n`RestResponse` Class :\r\n\r\n    public class RestResponse&lt;T&gt; {\r\n    \tprivate String status;\r\n    \tprivate int code;\r\n    \tprivate String message;\r\n    \tprivate T result;\r\n    \r\n        // Getters &amp; Setters\r\n    }\r\n\r\nIn my controller i&#39;m returning **`ResponseEntity&lt;RestResponse&lt;PagedResponse&lt;Product&gt;&gt;&gt;`**","title":"No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor","body":"<p>When i try to navigate to an endpoint i get the following error</p>\n<pre><code>Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)  \n</code></pre>\n<p>I checked all my models and all the attributes have getters and setters. So what's the problem ?</p>\n<p>I can fix that by adding <code>spring.jackson.serialization.fail-on-empty-beans=false</code> but i think this is just a work around to hide the exception.</p>\n<p><strong>Edit</strong></p>\n<p><code>Product</code> model:</p>\n<pre><code>@Entity\npublic class Product {\n    private int id;\n    private String name;\n    private String photo;\n    private double price;\n    private int quantity;\n    private Double rating;\n    private Provider provider;\n    private String description;\n    private List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\n    private List&lt;Photo&gt; photos = new ArrayList&lt;&gt;();\n    \n    // Getters &amp; Setters\n}\n</code></pre>\n<p><code>PagedResponse</code> class :</p>\n<pre><code>public class PagedResponse&lt;T&gt; {\n\n    private List&lt;T&gt; content;\n    private int page;\n    private int size;\n    private long totalElements;\n    private int totalPages;\n    private boolean last;\n    \n    // Getters &amp; Setters\n}\n</code></pre>\n<p><code>RestResponse</code> Class :</p>\n<pre><code>public class RestResponse&lt;T&gt; {\n    private String status;\n    private int code;\n    private String message;\n    private T result;\n\n    // Getters &amp; Setters\n}\n</code></pre>\n<p>In my controller i'm returning <strong><code>ResponseEntity&lt;RestResponse&lt;PagedResponse&lt;Product&gt;&gt;&gt;</code></strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1690386811,"post_id":76773051,"comment_id":135347171,"body_markdown":"IS this a BroadcastReceiver?  If so, a BroadcastReceiver can no longer start a foreground process.  See https://developer.android.com/guide/components/activities/background-starts","body":"IS this a BroadcastReceiver?  If so, a BroadcastReceiver can no longer start a foreground process.  See <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":19076289,"reputation":1,"user_id":13929503,"display_name":"skzao"},"score":0,"creation_date":1690386994,"post_id":76773051,"comment_id":135347215,"body_markdown":"Yes it is, what should i do to make it work? But right now im not using a foreground service","body":"Yes it is, what should i do to make it work? But right now im not using a foreground service"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1690388374,"post_id":76773051,"comment_id":135347547,"body_markdown":"If you want your app to start when the device starts, create a launcher.","body":"If you want your app to start when the device starts, create a launcher."},{"owner":{"account_id":19076289,"reputation":1,"user_id":13929503,"display_name":"skzao"},"score":0,"creation_date":1690447507,"post_id":76773051,"comment_id":135356054,"body_markdown":"Do you have any resource?","body":"Do you have any resource?"}],"owner":{"account_id":19076289,"reputation":1,"user_id":13929503,"display_name":"skzao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690387602,"creation_date":1690386689,"question_id":76773051,"body_markdown":"So i have the down code and the app still does not open the app i want.\r\nIt does not give any error on the try catch and says it open the app.\r\nIs it something about android api 29?\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.content.pm.PackageManager;\r\n    import android.util.Log;\r\n    \r\n    public class StartOnBootUpReceiver extends BroadcastReceiver {\r\n        private static final String PREF_SELECTED_APP_PACKAGE = &quot;selected_app_package&quot;;\r\n        private static final String TAG = &quot;StartOnBootUpReceiver&quot;;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n    \r\n            if (Intent.ACTION_BOOT_COMPLETED.equals(action) ||\r\n                    Intent.ACTION_SCREEN_ON.equals(action) ||\r\n                    Intent.ACTION_USER_PRESENT.equals(action)) {\r\n    \r\n                // Retrieve the selected app&#39;s package name from SharedPreferences\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n                String selectedAppPackage = sharedPreferences.getString(PREF_SELECTED_APP_PACKAGE, null);\r\n    \r\n                if (selectedAppPackage != null) {\r\n                    PackageManager packageManager = context.getPackageManager();\r\n                    Intent launchIntent = packageManager.getLaunchIntentForPackage(selectedAppPackage);\r\n                    if (launchIntent != null) {\r\n                        launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        try {\r\n                            context.startActivity(launchIntent);\r\n                            Log.d(TAG, &quot;App launched: &quot; + selectedAppPackage);\r\n                        } catch (Exception e) {\r\n                            Log.e(TAG, &quot;Error launching app: &quot; + e.getMessage());\r\n                        }\r\n                    } else {\r\n                        Log.d(TAG, &quot;Launch intent is null for package: &quot; + selectedAppPackage);\r\n                    }\r\n                } else {\r\n                    Log.d(TAG, &quot;Selected app package is null.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI tried also make it by a background service but it still didnt work.\r\nI already have the on boot complete permission.\r\n\r\n","title":"How can i make my android app open another app?","body":"<p>So i have the down code and the app still does not open the app i want.\nIt does not give any error on the try catch and says it open the app.\nIs it something about android api 29?</p>\n<pre><code>import android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.util.Log;\n\npublic class StartOnBootUpReceiver extends BroadcastReceiver {\n    private static final String PREF_SELECTED_APP_PACKAGE = &quot;selected_app_package&quot;;\n    private static final String TAG = &quot;StartOnBootUpReceiver&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        if (Intent.ACTION_BOOT_COMPLETED.equals(action) ||\n                Intent.ACTION_SCREEN_ON.equals(action) ||\n                Intent.ACTION_USER_PRESENT.equals(action)) {\n\n            // Retrieve the selected app's package name from SharedPreferences\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n            String selectedAppPackage = sharedPreferences.getString(PREF_SELECTED_APP_PACKAGE, null);\n\n            if (selectedAppPackage != null) {\n                PackageManager packageManager = context.getPackageManager();\n                Intent launchIntent = packageManager.getLaunchIntentForPackage(selectedAppPackage);\n                if (launchIntent != null) {\n                    launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    try {\n                        context.startActivity(launchIntent);\n                        Log.d(TAG, &quot;App launched: &quot; + selectedAppPackage);\n                    } catch (Exception e) {\n                        Log.e(TAG, &quot;Error launching app: &quot; + e.getMessage());\n                    }\n                } else {\n                    Log.d(TAG, &quot;Launch intent is null for package: &quot; + selectedAppPackage);\n                }\n            } else {\n                Log.d(TAG, &quot;Selected app package is null.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I tried also make it by a background service but it still didnt work.\nI already have the on boot complete permission.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","ehcache"],"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690387168,"creation_date":1690376646,"question_id":76771640,"body_markdown":"As stated in the title, I see a behaviour for which I wasn&#39;t able to find an answer that would actually explain or help to understand whether my cache for queries works or not.\r\n\r\nWhat I have is:\r\n\r\n1. An entity\r\n```\r\n@Entity\r\n@Table(name = &quot;customer&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@Cacheable\r\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE, region = &quot;customer&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;product_id&quot;)\r\n    private String productId;\r\n```\r\n\r\n2. Repository\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n\r\n    @QueryHints({\r\n            @QueryHint(name = &quot;org.hibernate.cacheable&quot;, value = &quot;true&quot;)\r\n    })\r\n    Optional&lt;Customer&gt; findByProductId(String productId);\r\n\r\n}\r\n```\r\n3. application.yaml\r\n```\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: test\r\n  jpa:\r\n    generate-ddl: true\r\n    hibernate:\r\n        ddl-auto: create-drop\r\n    properties:\r\n      javax:\r\n        persistence:\r\n          sharedCache:\r\n            mode: ENABLE_SELECTIVE\r\n      hibernate:\r\n        generate_statistics: true\r\n        cache:\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n          region:\r\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\r\n        javax:\r\n          cache:\r\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\r\n            #missing_cache_strategy: fail\r\n            uri: ehcache.xml\r\n```\r\n4. ehcache config\r\n```\r\n&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://www.ehcache.org/v3&quot;\r\n        xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\r\n\r\n    &lt;cache alias=&quot;customer&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;seconds&quot;&gt;15&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n            &lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache&gt;\r\n\r\n&lt;/config&gt;\r\n```\r\n5. Test\r\n```\r\n@Test\r\npublic void test() {\r\n        // setup\r\n        Customer customer = new Customer();\r\n        customer.setProductId(&quot;product_1&quot;);\r\n\r\n        customerRepository.persist(customer);\r\n\r\n        // test\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product2&quot;);\r\n        customerRepository.findByProductId(&quot;product2&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findByProductId(&quot;product1&quot;);\r\n        customerRepository.findById(customer.getId());\r\n        customerRepository.findById(customer.getId());\r\n        customerRepository.findById(customer.getId());\r\n}\r\n```\r\nWhen the test is executed I see the following statistics:\r\n```\r\n...\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\r\n\r\n2023-07-26T13:52:14.245+01:00  INFO 98236 --- [    Test worker] i.StatisticalLoggingSessionEventListener : Session Metrics {\r\n    804750 nanoseconds spent acquiring 1 JDBC connections;\r\n    0 nanoseconds spent releasing 0 JDBC connections;\r\n    2941542 nanoseconds spent preparing 9 JDBC statements;\r\n    11014291 nanoseconds spent executing 9 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    14025208 nanoseconds spent performing 9 L2C puts;\r\n    1288917 nanoseconds spent performing 10 L2C hits;\r\n    154709 nanoseconds spent performing 2 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    2719793 nanoseconds spent executing 8 partial-flushes (flushing a total of 7 entities and 7 collections)\r\n```\r\nFrom what we see, hibernate still generates queries and executes them. So the cache isn&#39;t actually working, right? If such so, what am I might be missing?\r\n\r\n**UPDATE:** I have 2 different sources which point to the different DBs and I just have discovered that this behaviour only happens for the Data Source which is set as @Primary. For the alternative one, there are no queries being generated if there is a hit. How can I fix it for the @Primary data source?","title":"Hibernate 2nd level query caching generates queries on hits","body":"<p>As stated in the title, I see a behaviour for which I wasn't able to find an answer that would actually explain or help to understand whether my cache for queries works or not.</p>\n<p>What I have is:</p>\n<ol>\n<li>An entity</li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;customer&quot;)\n@Data\n@NoArgsConstructor\n@Cacheable\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE, region = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;product_id&quot;)\n    private String productId;\n</code></pre>\n<ol start=\"2\">\n<li>Repository</li>\n</ol>\n<pre><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n\n    @QueryHints({\n            @QueryHint(name = &quot;org.hibernate.cacheable&quot;, value = &quot;true&quot;)\n    })\n    Optional&lt;Customer&gt; findByProductId(String productId);\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>application.yaml</li>\n</ol>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: test\n  jpa:\n    generate-ddl: true\n    hibernate:\n        ddl-auto: create-drop\n    properties:\n      javax:\n        persistence:\n          sharedCache:\n            mode: ENABLE_SELECTIVE\n      hibernate:\n        generate_statistics: true\n        cache:\n          use_second_level_cache: true\n          use_query_cache: true\n          region:\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\n        javax:\n          cache:\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\n            #missing_cache_strategy: fail\n            uri: ehcache.xml\n</code></pre>\n<ol start=\"4\">\n<li>ehcache config</li>\n</ol>\n<pre><code>&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;http://www.ehcache.org/v3&quot;\n        xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\n        xsi:schemaLocation=&quot;\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\n\n    &lt;cache alias=&quot;customer&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;seconds&quot;&gt;15&lt;/ttl&gt;\n        &lt;/expiry&gt;\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n            &lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\n        &lt;/resources&gt;\n    &lt;/cache&gt;\n\n&lt;/config&gt;\n</code></pre>\n<ol start=\"5\">\n<li>Test</li>\n</ol>\n<pre><code>@Test\npublic void test() {\n        // setup\n        Customer customer = new Customer();\n        customer.setProductId(&quot;product_1&quot;);\n\n        customerRepository.persist(customer);\n\n        // test\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product2&quot;);\n        customerRepository.findByProductId(&quot;product2&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findByProductId(&quot;product1&quot;);\n        customerRepository.findById(customer.getId());\n        customerRepository.findById(customer.getId());\n        customerRepository.findById(customer.getId());\n}\n</code></pre>\n<p>When the test is executed I see the following statistics:</p>\n<pre><code>...\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\nHibernate: select c1_0.id,c1_0.product_id from customer c1_0 where c1_0.product_id=?\n\n2023-07-26T13:52:14.245+01:00  INFO 98236 --- [    Test worker] i.StatisticalLoggingSessionEventListener : Session Metrics {\n    804750 nanoseconds spent acquiring 1 JDBC connections;\n    0 nanoseconds spent releasing 0 JDBC connections;\n    2941542 nanoseconds spent preparing 9 JDBC statements;\n    11014291 nanoseconds spent executing 9 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    14025208 nanoseconds spent performing 9 L2C puts;\n    1288917 nanoseconds spent performing 10 L2C hits;\n    154709 nanoseconds spent performing 2 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    2719793 nanoseconds spent executing 8 partial-flushes (flushing a total of 7 entities and 7 collections)\n</code></pre>\n<p>From what we see, hibernate still generates queries and executes them. So the cache isn't actually working, right? If such so, what am I might be missing?</p>\n<p><strong>UPDATE:</strong> I have 2 different sources which point to the different DBs and I just have discovered that this behaviour only happens for the Data Source which is set as @Primary. For the alternative one, there are no queries being generated if there is a hit. How can I fix it for the @Primary data source?</p>\n"},{"tags":["java","gwt"],"answers":[{"tags":[],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690385799,"creation_date":1690385799,"answer_id":76772937,"question_id":76772936,"body_markdown":"Using simple iteration and copying:\r\n```java\r\nimport elemental2.core.JsObject;\r\nimport jsinterop.base.Js;\r\nimport jsinterop.base.JsPropertyMap;\r\n\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\r\n    Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n    JsPropertyMap&lt;Object&gt; propMap = Js.asPropertyMap(obj);\r\n    propMap.forEach(key -&gt; {\r\n        result.put(key, Objects.toString(propMap.get(key)));\r\n    });\r\n    return result;\r\n}\r\n```","title":"How to convert Elemental2 JsObject to Map&lt;String, String&gt;?","body":"<p>Using simple iteration and copying:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.JsObject;\nimport jsinterop.base.Js;\nimport jsinterop.base.JsPropertyMap;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\n    Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n    JsPropertyMap&lt;Object&gt; propMap = Js.asPropertyMap(obj);\n    propMap.forEach(key -&gt; {\n        result.put(key, Objects.toString(propMap.get(key)));\n    });\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76772937,"answer_count":1,"score":-1,"last_activity_date":1690385799,"creation_date":1690385799,"question_id":76772936,"body_markdown":"Looking for a way to convert Elemental2 `JsObject` to `Map&lt;String, String&gt;`:\r\n```java\r\nimport elemental2.core.JsObject;\r\n\r\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\r\n    // code in question\r\n}\r\n```\r\nIs there a more efficient way that just iterating and creating a new map (I&#39;ll post that as my own answer)?","title":"How to convert Elemental2 JsObject to Map&lt;String, String&gt;?","body":"<p>Looking for a way to convert Elemental2 <code>JsObject</code> to <code>Map&lt;String, String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.JsObject;\n\npublic static Map&lt;String, String&gt; jsObjectToMap(JsObject obj) {\n    // code in question\n}\n</code></pre>\n<p>Is there a more efficient way that just iterating and creating a new map (I'll post that as my own answer)?</p>\n"},{"tags":["java","graphql","schema","code-first","generate"],"owner":{"account_id":29094980,"reputation":1,"user_id":22288049,"display_name":"Stupify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690385475,"creation_date":1690371048,"question_id":76770815,"body_markdown":"I want to generate GraphQL schema files from Java model, specifically for input operator filters for each field similar to https://www.mongodb.com/docs/atlas/app-services/graphql/types-and-resolvers/#std-label-graphql-input-types where it generates filters with the format [field-name]_[operator]. \r\n\r\nAnd then on query, how can i de-serialize the input/filter as there are no Java objects defined to match the filter or its properties?\r\n\r\nFor example, if i had a POJO class as follows:\r\n    `\r\n\r\n    public class Person{\r\n        private String firstname;\r\n        private String lastname;\r\n        private int age;\r\n    }\r\n    `\r\n\r\nit would auto generate schema file with input filters with operators for each field, like so:\r\n    `\r\n\r\n    type input PersonFilter {\r\n        firstname_contains\r\n        firstname_startsWith\r\n        ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\r\n        lastname_contains\r\n        lastname_startsWith\r\n        ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\r\n        age_lte\r\n        age_lt\r\n        ... (no startsWith or contains as is num, not a string)\r\n    }\r\n\r\n    `\r\n\r\ni see SPQR, java-annotations, ... that can be used for Code-first, schema generation, but none go into details of how to work with inputs or operators based input filters.\r\n\r\n","title":"Java Spring for Graphql - Code-first - how to generate schema with dynamic input types","body":"<p>I want to generate GraphQL schema files from Java model, specifically for input operator filters for each field similar to <a href=\"https://www.mongodb.com/docs/atlas/app-services/graphql/types-and-resolvers/#std-label-graphql-input-types\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/atlas/app-services/graphql/types-and-resolvers/#std-label-graphql-input-types</a> where it generates filters with the format [field-name]_[operator].</p>\n<p>And then on query, how can i de-serialize the input/filter as there are no Java objects defined to match the filter or its properties?</p>\n<p>For example, if i had a POJO class as follows:\n`</p>\n<pre><code>public class Person{\n    private String firstname;\n    private String lastname;\n    private int age;\n}\n`\n</code></pre>\n<p>it would auto generate schema file with input filters with operators for each field, like so:\n`</p>\n<pre><code>type input PersonFilter {\n    firstname_contains\n    firstname_startsWith\n    ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\n    lastname_contains\n    lastname_startsWith\n    ... (no lte (&gt;=) or lt (&gt;) - is string, not a num)\n    age_lte\n    age_lt\n    ... (no startsWith or contains as is num, not a string)\n}\n\n`\n</code></pre>\n<p>i see SPQR, java-annotations, ... that can be used for Code-first, schema generation, but none go into details of how to work with inputs or operators based input filters.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1690317329,"creation_date":1690317329,"answer_id":76766340,"question_id":76764618,"body_markdown":"I ran into the same exception in a very basic configuration with Spring Security 6.1.2. I solved it with:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.\r\n                authorizeHttpRequests(requests -&gt; {\r\n                        requests.requestMatchers(new AntPathRequestMatcher(&quot;/&quot;), new AntPathRequestMatcher(&quot;/style.css&quot;)).permitAll();\r\n                        requests.requestMatchers(new AntPathRequestMatcher(&quot;/secure/**&quot;)).hasAuthority(&quot;MyAuthority&quot;);\r\n                }).\r\n\r\nI&#39;m not sure if this is the right way do to it but it does seem to work. Within Spring Security 6, `AbstractRequestMatcherRegistry` doesn&#39;t have a `.antMatchers()` method anymore. Again, not really sure if this is the best way and not completely sure why I would want an ant matcher vs an MVC endpoint matcher.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.html","title":"SecurityFilterChain fails to instantiate after spring boot migration from 3.0.8 to 3.0.9","body":"<p>I ran into the same exception in a very basic configuration with Spring Security 6.1.2. I solved it with:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.\n            authorizeHttpRequests(requests -&gt; {\n                    requests.requestMatchers(new AntPathRequestMatcher(&quot;/&quot;), new AntPathRequestMatcher(&quot;/style.css&quot;)).permitAll();\n                    requests.requestMatchers(new AntPathRequestMatcher(&quot;/secure/**&quot;)).hasAuthority(&quot;MyAuthority&quot;);\n            }).\n</code></pre>\n<p>I'm not sure if this is the right way do to it but it does seem to work. Within Spring Security 6, <code>AbstractRequestMatcherRegistry</code> doesn't have a <code>.antMatchers()</code> method anymore. Again, not really sure if this is the best way and not completely sure why I would want an ant matcher vs an MVC endpoint matcher.</p>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690385451,"creation_date":1690385451,"answer_id":76772883,"question_id":76764618,"body_markdown":"user2959589 answer shows me the right way, thanks!\r\n\r\n    http\r\n        // public routes\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;))\r\n        .permitAll()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/favicon.ico&quot;))\r\n        .permitAll()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/v3/api-docs*&quot;))\r\n        .permitAll()\r\n        .and()\r\n\r\n        // enable security for the log-view\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/log&quot;))\r\n        .hasAnyRole(ROLE_LOGVIEWER)\r\n        .and()\r\n\r\n        // enable security for the health check\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/manage/health&quot;))\r\n        .hasAnyRole(ROLE_HEALTH)\r\n        .and()\r\n\r\n        // enable basic-auth and ROLE_USER for all other routes\r\n        .authorizeHttpRequests()\r\n        .anyRequest()\r\n        .hasAnyRole(ROLE_USER)\r\n        .and()\r\n        .httpBasic();","title":"SecurityFilterChain fails to instantiate after spring boot migration from 3.0.8 to 3.0.9","body":"<p>user2959589 answer shows me the right way, thanks!</p>\n<pre><code>http\n    // public routes\n    .authorizeHttpRequests()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;))\n    .permitAll()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/favicon.ico&quot;))\n    .permitAll()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/v3/api-docs*&quot;))\n    .permitAll()\n    .and()\n\n    // enable security for the log-view\n    .authorizeHttpRequests()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/log&quot;))\n    .hasAnyRole(ROLE_LOGVIEWER)\n    .and()\n\n    // enable security for the health check\n    .authorizeHttpRequests()\n    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/manage/health&quot;))\n    .hasAnyRole(ROLE_HEALTH)\n    .and()\n\n    // enable basic-auth and ROLE_USER for all other routes\n    .authorizeHttpRequests()\n    .anyRequest()\n    .hasAnyRole(ROLE_USER)\n    .and()\n    .httpBasic();\n</code></pre>\n"}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3822,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":76772883,"answer_count":2,"score":9,"last_activity_date":1690385451,"creation_date":1690301562,"question_id":76764618,"body_markdown":"In my spring boot project I&#39;ve got the following definition of a SecurityFilterChain: \r\n\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      http\r\n\r\n        // public routes\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/&quot;, &quot;/favicon.ico&quot;, &quot;/v3/api-docs*&quot;)\r\n        .permitAll()\r\n        .and()\r\n\r\n        // enable security for the log-view\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/log&quot;)\r\n        .hasAnyRole(ROLE_LOGVIEWER)\r\n        .and()\r\n\r\n        // enable security for the health check\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/manage/health&quot;)\r\n        .hasAnyRole(ROLE_HEALTH)\r\n        .and()\r\n\r\n        // enable basic-auth and ROLE_USER for all other routes\r\n        .authorizeHttpRequests()\r\n        .anyRequest()\r\n        .hasAnyRole(ROLE_USER)\r\n        .and()\r\n        .httpBasic();\r\n\r\n      return http.build();\r\n    }\r\n\r\nIt&#39;s tested in several mockup tests and runs as expected in the production environment.\r\n\r\nBut after the migration from spring-boot 3.0.8 to 3.0.9, I&#39;ve got the following error:\r\n\r\n    Factory method &#39;filterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n\r\nI tried to use a more specific requst matcher, but without success.\r\n\r\nAny hints for me?","title":"SecurityFilterChain fails to instantiate after spring boot migration from 3.0.8 to 3.0.9","body":"<p>In my spring boot project I've got the following definition of a SecurityFilterChain:</p>\n<pre><code>public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n  http\n\n    // public routes\n    .authorizeHttpRequests()\n    .requestMatchers(&quot;/&quot;, &quot;/favicon.ico&quot;, &quot;/v3/api-docs*&quot;)\n    .permitAll()\n    .and()\n\n    // enable security for the log-view\n    .authorizeHttpRequests()\n    .requestMatchers(&quot;/log&quot;)\n    .hasAnyRole(ROLE_LOGVIEWER)\n    .and()\n\n    // enable security for the health check\n    .authorizeHttpRequests()\n    .requestMatchers(&quot;/manage/health&quot;)\n    .hasAnyRole(ROLE_HEALTH)\n    .and()\n\n    // enable basic-auth and ROLE_USER for all other routes\n    .authorizeHttpRequests()\n    .anyRequest()\n    .hasAnyRole(ROLE_USER)\n    .and()\n    .httpBasic();\n\n  return http.build();\n}\n</code></pre>\n<p>It's tested in several mockup tests and runs as expected in the production environment.</p>\n<p>But after the migration from spring-boot 3.0.8 to 3.0.9, I've got the following error:</p>\n<pre><code>Factory method 'filterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n</code></pre>\n<p>I tried to use a more specific requst matcher, but without success.</p>\n<p>Any hints for me?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690385030,"creation_date":1690385030,"answer_id":76772832,"question_id":76772096,"body_markdown":"The solution provided out-of-the-box by Spring Boot Data JPA is based on locking of the specified row of the database table. It can be locked either\r\n- just for reading - to avoid so called dirty reads \r\n- or for update - to avoid overwriting of changes made by somebody else.\r\n\r\nDepending on your business case you can choose optimistic or pessimistic locking. The former is simpler and should be preferred when your application mostly reads data and only rarely update it. The latter can be used in the opposite case or if the more advance logic is needed.\r\n\r\nFor more details and code examples you can check:\r\n1. [https://www.baeldung.com/jpa-optimistic-locking][1]\r\n1. [https://www.baeldung.com/jpa-pessimistic-locking][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-optimistic-locking\r\n  [2]: https://www.baeldung.com/jpa-pessimistic-locking","title":"Solution for many spring boot processes to read and update data in one table","body":"<p>The solution provided out-of-the-box by Spring Boot Data JPA is based on locking of the specified row of the database table. It can be locked either</p>\n<ul>\n<li>just for reading - to avoid so called dirty reads</li>\n<li>or for update - to avoid overwriting of changes made by somebody else.</li>\n</ul>\n<p>Depending on your business case you can choose optimistic or pessimistic locking. The former is simpler and should be preferred when your application mostly reads data and only rarely update it. The latter can be used in the opposite case or if the more advance logic is needed.</p>\n<p>For more details and code examples you can check:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-optimistic-locking</a></li>\n<li><a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-pessimistic-locking</a></li>\n</ol>\n"}],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690385030,"creation_date":1690380005,"question_id":76772096,"body_markdown":"It seems that **shedlock** works in this case, but what I want here is that all processes on multiple nodes run at the same time, unlike shedlock, which locks the table and can only be accessed by the locked person.\r\n\r\nIs there any solution for this problem?\r\n\r\nThanks so much for the help","title":"Solution for many spring boot processes to read and update data in one table","body":"<p>It seems that <strong>shedlock</strong> works in this case, but what I want here is that all processes on multiple nodes run at the same time, unlike shedlock, which locks the table and can only be accessed by the locked person.</p>\n<p>Is there any solution for this problem?</p>\n<p>Thanks so much for the help</p>\n"},{"tags":["java","apache-flink","amazon-kinesis","amazon-kinesis-analytics"],"comments":[{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652105039,"post_id":72172566,"comment_id":127518720,"body_markdown":"The `WatermarkStrategy` contains both the `TimestampAssigner` and the `WatermarkGenerator` and they are working in hand and hand. So, where did you read that the assigner API is deprecated?","body":"The <code>WatermarkStrategy</code> contains both the <code>TimestampAssigner</code> and the <code>WatermarkGenerator</code> and they are working in hand and hand. So, where did you read that the assigner API is deprecated?"},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652166552,"post_id":72172566,"comment_id":127533746,"body_markdown":"Hi @PeterCsala - it&#39;s from the flink docs at the bottom of this page: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/event-time/generating_watermarks/\nThe Kinesis consumer takes an AssignerWithPeriodicWatermarks - this is deprecated","body":"Hi @PeterCsala - it&#39;s from the flink docs at the bottom of this page: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/event-time/generating_watermarks/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/&zwnj;&#8203;&hellip;</a> The Kinesis consumer takes an AssignerWithPeriodicWatermarks - this is deprecated"},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652166736,"post_id":72172566,"comment_id":127533791,"body_markdown":"Should also add that kinesis docs also stipulate adding the method `setStreamTimeCharacteristic()` on the StreamExecutionEnvironment - which is also deprecated.","body":"Should also add that kinesis docs also stipulate adding the method <code>setStreamTimeCharacteristic()</code> on the StreamExecutionEnvironment - which is also deprecated."},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652167630,"post_id":72172566,"comment_id":127534077,"body_markdown":"Which version of Flink are you using in KDA? 1.11?","body":"Which version of Flink are you using in KDA? 1.11?"},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652169099,"post_id":72172566,"comment_id":127534530,"body_markdown":"The latest version - 1.13\nThe same methods and docs show these things deprecated in flink 1.13","body":"The latest version - 1.13 The same methods and docs show these things deprecated in flink 1.13"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652169336,"post_id":72172566,"comment_id":127534603,"body_markdown":"[Before 1.12 the default](https://nightlies.apache.org/flink/flink-docs-release-1.11/dev/table/streaming/time_attributes.html#introduction-to-time-attributes) TimeCharacteristic was ProcessingTime. In [1.12](https://flink.apache.org/news/2020/12/10/release-1.12.0.html#important-changes) this has been changed to EventTime so that&#39;s why the `setStreamTimeCharacteristic` become deprecated.","body":"<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.11/dev/table/streaming/time_attributes.html#introduction-to-time-attributes\" rel=\"nofollow noreferrer\">Before 1.12 the default</a> TimeCharacteristic was ProcessingTime. In <a href=\"https://flink.apache.org/news/2020/12/10/release-1.12.0.html#important-changes\" rel=\"nofollow noreferrer\">1.12</a> this has been changed to EventTime so that&#39;s why the <code>setStreamTimeCharacteristic</code> become deprecated."},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":1,"creation_date":1652169808,"post_id":72172566,"comment_id":127534736,"body_markdown":"Ah cool. So that explains that. But then the questions still remains - how to implement a Watermark strategy on a Kinesis consumer without using deprecated methods?","body":"Ah cool. So that explains that. But then the questions still remains - how to implement a Watermark strategy on a Kinesis consumer without using deprecated methods?"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652170502,"post_id":72172566,"comment_id":127534970,"body_markdown":"As far as I can see from the [github source code](https://github.com/awslabs/amazon-kinesis-connector-flink) of the connector it is compatible with 1.11. The [`FlinkKinesisConsumer`](https://github.com/awslabs/amazon-kinesis-connector-flink/blob/master/amazon-kinesis-connector-flink/src/main/java/software/amazon/kinesis/connectors/flink/FlinkKinesisConsumer.java#L259) does not expose a method which anticipates a WatermarkingStrategy  . So I think it is fine to use the `setPeriodicWatermarkAssigner` method.","body":"As far as I can see from the <a href=\"https://github.com/awslabs/amazon-kinesis-connector-flink\" rel=\"nofollow noreferrer\">github source code</a> of the connector it is compatible with 1.11. The <a href=\"https://github.com/awslabs/amazon-kinesis-connector-flink/blob/master/amazon-kinesis-connector-flink/src/main/java/software/amazon/kinesis/connectors/flink/FlinkKinesisConsumer.java#L259\" rel=\"nofollow noreferrer\"><code>FlinkKinesisConsumer</code></a> does not expose a method which anticipates a WatermarkingStrategy  . So I think it is fine to use the <code>setPeriodicWatermarkAssigner</code> method."},{"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"score":0,"creation_date":1652170894,"post_id":72172566,"comment_id":127535092,"body_markdown":"Yeah. But I think it then also relies (according to docs and examples on Flink github) with a `setStreamTimeCharacteristic`. So to use a Watermark strategy with a kinesis consumer I believe the only way is to not set it on the source itself but on the stream and let Flink create a new stream from this and apply the Watermark strategy there. Thanks for all your help here @PeterCsala","body":"Yeah. But I think it then also relies (according to docs and examples on Flink github) with a <code>setStreamTimeCharacteristic</code>. So to use a Watermark strategy with a kinesis consumer I believe the only way is to not set it on the source itself but on the stream and let Flink create a new stream from this and apply the Watermark strategy there. Thanks for all your help here @PeterCsala"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":1,"creation_date":1652171122,"post_id":72172566,"comment_id":127535168,"body_markdown":"Yepp, calling the `assignTimestampsAndWatermarks` on a `DataStream&lt;T&gt;` is also viable option.","body":"Yepp, calling the <code>assignTimestampsAndWatermarks</code> on a <code>DataStream&lt;T&gt;</code> is also viable option."}],"answers":[{"tags":[],"owner":{"account_id":24470605,"reputation":425,"user_id":18579129,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690384603,"creation_date":1690384214,"answer_id":76772722,"question_id":72172566,"body_markdown":"It&#39;s not possible to set it directly on `FlinkKinesisConsumer` (excepting, as you pointed out, by using the deprecated `AssignerWithPeriodicWatermarks` interface) nor any other implementation of `SourceFunction`, but you can set the watermarks as soon as you get the datastream.\r\n\r\nJudging from the comments I think you&#39;ve already figured it out, but this is what I&#39;m doing.\r\n\r\n```java\r\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisConsumer;\r\n\r\n// Set up\r\nvar env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nvar consumerProperties = ...;\r\nvar deserializer = ...;\r\nvar kinesisConsumer = new FlinkKinesisConsumer&lt;MyDataType&gt;(kinesisStreamName, deserializer, consumerProperties);\r\n\r\n// Pick a watermark strategy.\r\n// Use some timestamp field from your event object.\r\nvar strategy = WatermarkStrategy.forMonotonousTimestamps&lt;MyDataType&gt;()\r\n                                .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp());\r\n\r\n// Start reading from Kinesis\r\nvar dataStream = env.addSource(kinesisConsumer)\r\n                    .assignTimestampsAndWatermarks(strategy);\r\n```\r\n\r\nYou&#39;ll have to tweak this to your use case. Obviously replace `MyDataType` with whatever is actually in your stream, but also note that `forMonotonousTimestamps` may not be suited to your use case, and `forBoundedOutOfOrderness` may work better.","title":"Watermark strategy on Flink Kinesis Consumer","body":"<p>It's not possible to set it directly on <code>FlinkKinesisConsumer</code> (excepting, as you pointed out, by using the deprecated <code>AssignerWithPeriodicWatermarks</code> interface) nor any other implementation of <code>SourceFunction</code>, but you can set the watermarks as soon as you get the datastream.</p>\n<p>Judging from the comments I think you've already figured it out, but this is what I'm doing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kinesis.FlinkKinesisConsumer;\n\n// Set up\nvar env = StreamExecutionEnvironment.getExecutionEnvironment();\nvar consumerProperties = ...;\nvar deserializer = ...;\nvar kinesisConsumer = new FlinkKinesisConsumer&lt;MyDataType&gt;(kinesisStreamName, deserializer, consumerProperties);\n\n// Pick a watermark strategy.\n// Use some timestamp field from your event object.\nvar strategy = WatermarkStrategy.forMonotonousTimestamps&lt;MyDataType&gt;()\n                                .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp());\n\n// Start reading from Kinesis\nvar dataStream = env.addSource(kinesisConsumer)\n                    .assignTimestampsAndWatermarks(strategy);\n</code></pre>\n<p>You'll have to tweak this to your use case. Obviously replace <code>MyDataType</code> with whatever is actually in your stream, but also note that <code>forMonotonousTimestamps</code> may not be suited to your use case, and <code>forBoundedOutOfOrderness</code> may work better.</p>\n"}],"owner":{"account_id":2854774,"reputation":83,"user_id":2451248,"display_name":"Bombington"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690384603,"creation_date":1652101975,"question_id":72172566,"body_markdown":"I am investigating using Flink with a Kinesis stream as a source. I would like to use Event Time watermarking.\r\nPlanning on running this on AWS managed Flink (Kinesis Analytics) platform.\r\n\r\nLooking at the AWS documentation and indeed [Flink documentation][1] it is recommended to use the FlinkKinesisConsumer.  \r\nTo enable EventTime on this consumer I see that the recommendation is to use a custom `AssignerWithPeriodicWatermarks()` and set it on the `KinesisConsumer` with `setPeriodicWatermarkAssigner`.\r\n\r\nHowever, I also read on the Flink documentation that this API is deprecated and it advised to use WatermarkStrategies.\r\n\r\nMy questions:\r\n- is it possible to use the WatermarkStrategy on the kinesis consumer or must it be applied after a non-source operation on the DataStream itself (discouraged in flink docs)?\r\n- if not possible and must be used after a non-source operation what does this mean? Why is it discouraged? how does it will performance of the workload\r\n- Or is it recommended to continue to use a deprecated API?\r\n- or is there another kinesis flink consumer than can be recommended\r\n\r\nThanks in advance for any suggestions\r\n\r\nAlexis\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kinesis/","title":"Watermark strategy on Flink Kinesis Consumer","body":"<p>I am investigating using Flink with a Kinesis stream as a source. I would like to use Event Time watermarking.\nPlanning on running this on AWS managed Flink (Kinesis Analytics) platform.</p>\n<p>Looking at the AWS documentation and indeed <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kinesis/\" rel=\"nofollow noreferrer\">Flink documentation</a> it is recommended to use the FlinkKinesisConsumer.<br />\nTo enable EventTime on this consumer I see that the recommendation is to use a custom <code>AssignerWithPeriodicWatermarks()</code> and set it on the <code>KinesisConsumer</code> with <code>setPeriodicWatermarkAssigner</code>.</p>\n<p>However, I also read on the Flink documentation that this API is deprecated and it advised to use WatermarkStrategies.</p>\n<p>My questions:</p>\n<ul>\n<li>is it possible to use the WatermarkStrategy on the kinesis consumer or must it be applied after a non-source operation on the DataStream itself (discouraged in flink docs)?</li>\n<li>if not possible and must be used after a non-source operation what does this mean? Why is it discouraged? how does it will performance of the workload</li>\n<li>Or is it recommended to continue to use a deprecated API?</li>\n<li>or is there another kinesis flink consumer than can be recommended</li>\n</ul>\n<p>Thanks in advance for any suggestions</p>\n<p>Alexis</p>\n"},{"tags":["java","eclipse","eclipse-plugin","runtime"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1690380895,"post_id":76771894,"comment_id":135345704,"body_markdown":"It&#39;s not via a listener. Your job has to do `if (monitor.isCanceled()) return Status.CANCEL_STATUS;`: https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm","body":"It&#39;s not via a listener. Your job has to do <code>if (monitor.isCanceled()) return Status.CANCEL_STATUS;</code>: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690452299,"post_id":76771894,"comment_id":135357077,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690384538,"creation_date":1690384538,"answer_id":76772765,"question_id":76771894,"body_markdown":"It&#39;s not via a listener. Your job has to execute the following on a regular basis (say a few times per second):\r\n\r\n    if (monitor.isCanceled())\r\n        return Status.CANCEL_STATUS;\r\n\r\nOtherwise, hitting the stop button will not stop the running job.\r\n\r\nSee: [Eclipse help: Platform Plug-in Developer Guide &gt; Reporting progress][1]\r\n\r\n\r\n  [1]: https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm","title":"Eclipse Plugin Development stop button in progress bar","body":"<p>It's not via a listener. Your job has to execute the following on a regular basis (say a few times per second):</p>\n<pre><code>if (monitor.isCanceled())\n    return Status.CANCEL_STATUS;\n</code></pre>\n<p>Otherwise, hitting the stop button will not stop the running job.</p>\n<p>See: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/runtime_jobs_progress.htm\" rel=\"nofollow noreferrer\">Eclipse help: Platform Plug-in Developer Guide &gt; Reporting progress</a></p>\n"}],"owner":{"account_id":26977574,"reputation":3,"user_id":20542483,"display_name":"Pravesh Gurjar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772765,"answer_count":1,"score":0,"last_activity_date":1690384538,"creation_date":1690378620,"question_id":76771894,"body_markdown":"My plugin runs a job and is shown in progress bar but i am unable to stop the job from progress bar , i figured out there is IProgressMonitor.setcanceled(True) but i can&#39;t figure out where or how can there be a listener to the stop button on progress bar\r\n\r\nFor your reference https://help.eclipse.org/latest/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#isCanceled() ","title":"Eclipse Plugin Development stop button in progress bar","body":"<p>My plugin runs a job and is shown in progress bar but i am unable to stop the job from progress bar , i figured out there is IProgressMonitor.setcanceled(True) but i can't figure out where or how can there be a listener to the stop button on progress bar</p>\n<p>For your reference <a href=\"https://help.eclipse.org/latest/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#isCanceled()\" rel=\"nofollow noreferrer\">https://help.eclipse.org/latest/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IProgressMonitor.html#isCanceled()</a></p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22070829,"reputation":49,"user_id":16331833,"display_name":"sonnv0812"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690384471,"creation_date":1690384471,"answer_id":76772758,"question_id":76772322,"body_markdown":"Configure your WebMvcConfigurer as follows:\r\n\r\n    @Configuration\r\n    class WebMvcConfig : WebMvcConfigurer {\r\n    \r\n        override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;&gt;) {\r\n            converters.add(ByteArrayHttpMessageConverter())\r\n            converters.add(ResourceHttpMessageConverter())\r\n        }\r\n    }\r\n\r\nThen try this code to return response:\r\n\r\n    val pdfContent: ByteArray = ...\r\n    val resource = ByteArrayResource(pdfContent)\r\n    val responseEntity: ResponseEntity&lt;ByteArrayResource&gt; = ResponseEntity.ok()\r\n        .contentType(MediaType.APPLICATION_PDF)\r\n        .body(resource)","title":"How to add converter APPLICATION_PDF to the client in spring","body":"<p>Configure your WebMvcConfigurer as follows:</p>\n<pre><code>@Configuration\nclass WebMvcConfig : WebMvcConfigurer {\n\n    override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;&gt;) {\n        converters.add(ByteArrayHttpMessageConverter())\n        converters.add(ResourceHttpMessageConverter())\n    }\n}\n</code></pre>\n<p>Then try this code to return response:</p>\n<pre><code>val pdfContent: ByteArray = ...\nval resource = ByteArrayResource(pdfContent)\nval responseEntity: ResponseEntity&lt;ByteArrayResource&gt; = ResponseEntity.ok()\n    .contentType(MediaType.APPLICATION_PDF)\n    .body(resource)\n</code></pre>\n"}],"owner":{"account_id":29081666,"reputation":1,"user_id":22277541,"display_name":"Hpnotiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690384471,"creation_date":1690381595,"question_id":76772322,"body_markdown":"I&#39;m using the standard SpringDecoder, but HttpMessageConverters doesn&#39;t have a converter that supports MediaType APPLICATION_PDF\r\n\r\n```\r\n@Bean\r\n    fun decoder(messageConverters: ObjectFactory&lt;HttpMessageConverters&gt;) = SpringDecoder(messageConverters)\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/download/receipt&quot;)\r\n    fun downloadReceipt(@PathVariable id: Long, @PathVariable receiptId: Long): ResponseEntity&lt;ByteArrayResource&gt;\r\n```\r\n\r\n```\r\n&quot;Could not extract response: no suitable HttpMessageConverter found for response type [org.springframework.http.ResponseEntity&lt;org.springframework.core.io.ByteArrayResource&gt;] and content type [application/pdf]&quot;\r\n```\r\n\r\nPlease tell me how to fix this problem\r\n\r\nAdd new converters to HttpMessageConverters failed","title":"How to add converter APPLICATION_PDF to the client in spring","body":"<p>I'm using the standard SpringDecoder, but HttpMessageConverters doesn't have a converter that supports MediaType APPLICATION_PDF</p>\n<pre><code>@Bean\n    fun decoder(messageConverters: ObjectFactory&lt;HttpMessageConverters&gt;) = SpringDecoder(messageConverters)\n</code></pre>\n<pre><code>@PostMapping(&quot;/download/receipt&quot;)\n    fun downloadReceipt(@PathVariable id: Long, @PathVariable receiptId: Long): ResponseEntity&lt;ByteArrayResource&gt;\n</code></pre>\n<pre><code>&quot;Could not extract response: no suitable HttpMessageConverter found for response type [org.springframework.http.ResponseEntity&lt;org.springframework.core.io.ByteArrayResource&gt;] and content type [application/pdf]&quot;\n</code></pre>\n<p>Please tell me how to fix this problem</p>\n<p>Add new converters to HttpMessageConverters failed</p>\n"},{"tags":["java","jaxb","modularity"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690382130,"post_id":76770108,"comment_id":135346024,"body_markdown":"You&#39;re using incompatible versions... JAXB-API 2.3.1 uses the `javax.xml.*` package names and module name `java.xml.bind`, while 3.0.2 uses the `jakarta.xml.*` package names, and its module name is `jakarta.xml.bind`.","body":"You&#39;re using incompatible versions... JAXB-API 2.3.1 uses the <code>javax.xml.*</code> package names and module name <code>java.xml.bind</code>, while 3.0.2 uses the <code>jakarta.xml.*</code> package names, and its module name is <code>jakarta.xml.bind</code>."},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1690383554,"post_id":76770108,"comment_id":135346431,"body_markdown":"@Mark I commented the jaxb-core and jaxb-impl with 3.02 version :                        but stil have error on module-info.java (module java.xml.bind unknow and JaxbException is stil in &quot;package javax.xml.bind is not visible\n  (package javax.xml.bind is declared in the unnamed module, but module View does not read it)&quot;","body":"@Mark I commented the jaxb-core and jaxb-impl with 3.02 version :                        but stil have error on module-info.java (module java.xml.bind unknow and JaxbException is stil in &quot;package javax.xml.bind is not visible   (package javax.xml.bind is declared in the unnamed module, but module View does not read it)&quot;"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690385878,"post_id":76770108,"comment_id":135346947,"body_markdown":"Then you have put the jaxb-api JAR on the classpath and not on the modulepath. Things that are on the classpath all end up in the unnamed module, and then the module `java.xml.bind` is not found as it doesn&#39;t exist.","body":"Then you have put the jaxb-api JAR on the classpath and not on the modulepath. Things that are on the classpath all end up in the unnamed module, and then the module <code>java.xml.bind</code> is not found as it doesn&#39;t exist."},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1690444627,"post_id":76770108,"comment_id":135355500,"body_markdown":"@Mark I think so , because putting dependency in maven mean putting in classpath . But , yes , I think need putting on modulepath , but how ? I thought that this was done by maven compiler plugin , I need more configuration in this plugin ?","body":"@Mark I think so , because putting dependency in maven mean putting in classpath . But , yes , I think need putting on modulepath , but how ? I thought that this was done by maven compiler plugin , I need more configuration in this plugin ?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690445485,"post_id":76770108,"comment_id":135355680,"body_markdown":"I haven&#39;t actually used Maven with modules yet, only Gradle, but a quick Google suggests it should do so automatically.","body":"I haven&#39;t actually used Maven with modules yet, only Gradle, but a quick Google suggests it should do so automatically."}],"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690384278,"creation_date":1690365930,"question_id":76770108,"body_markdown":"I am trying to migrate my project to JDK 20 ( I am new to java modularization)\r\nThe project is very simple , it is a JAXB compile utility to have Google Kml Classes.\r\nI created the module-info.java as :\r\n\r\n    module View {\r\n       requires java.base;\r\n       requires java.xml.bind;\r\n    }\r\n\r\nAnd the maven compiler in pom.xml is as :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;savino.prove&lt;/groupId&gt;\r\n    &lt;artifactId&gt;View&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       \r\n        &lt;!-- JAXB for JDK --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;CSGXml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        \r\n                        &lt;release&gt;20&lt;/release&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n                            &lt;arg&gt;java.xml.bind&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;    \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc-schema1&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--target&gt;3.0&lt;/target--&gt;\r\n                            &lt;xjbSources&gt;\r\n                                &lt;xjbSource&gt;src/main/bindings.xjb&lt;/xjbSource&gt;\r\n                            &lt;/xjbSources&gt;\r\n                            &lt;!--outputDirectory&gt;${basedir}/out&lt;/outputDirectory--&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;\r\n                                    src/main/xsd/ogckml22.xsd\r\n                                &lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                \r\n            &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThe problems are :\r\n1. in module-info.java &#39;requires java.xml.bind&#39;  report message &#39;module not found&#39; \r\n2. in generated classes all import that involves &#39;javax.xml.*&#39; package report message &#39;package javax.xml.bind is not visible\r\n  (package javax.xml.bind is declared in the unnamed module, but module View does not read it)&#39;\r\n\r\nofcourse in project dependencies I can see the jaxb-api-2.3.1.jar \r\n\r\nthen where I am doing wrong ? \r\n\r\nNow , just a cleaning of pom avoiding dependencies with version 3.0.2.Now I am just:                                                       \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;savino.prove&lt;/groupId&gt;\r\n    &lt;artifactId&gt;View&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       \r\n        &lt;!-- JAXB for JDK --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        \r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;CSGXml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        \r\n            &lt;plugins&gt;  \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;20&lt;/source&gt;\r\n                        &lt;target&gt;20&lt;/target&gt;\r\n                        &lt;release&gt;20&lt;/release&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n                            &lt;arg&gt;java.xml.bind&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            \r\n        \r\n          \r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nNow I have just dependency from jaxb-api 2.3.1 (containing javax.xml.bind module) and a simple class that need some  classes from javax.xml.bind but stil two problem are here!","title":"JAXB compile jdk 20 (&gt;= 11)","body":"<p>I am trying to migrate my project to JDK 20 ( I am new to java modularization)\nThe project is very simple , it is a JAXB compile utility to have Google Kml Classes.\nI created the module-info.java as :</p>\n<pre><code>module View {\n   requires java.base;\n   requires java.xml.bind;\n}\n</code></pre>\n<p>And the maven compiler in pom.xml is as :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;savino.prove&lt;/groupId&gt;\n&lt;artifactId&gt;View&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n    &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n   \n    &lt;!-- JAXB for JDK --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    \n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;CSGXml&lt;/groupId&gt;\n        &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    \n                    &lt;release&gt;20&lt;/release&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-modules&lt;/arg&gt;\n                        &lt;arg&gt;java.xml.bind&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;    \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc-schema1&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!--target&gt;3.0&lt;/target--&gt;\n                        &lt;xjbSources&gt;\n                            &lt;xjbSource&gt;src/main/bindings.xjb&lt;/xjbSource&gt;\n                        &lt;/xjbSources&gt;\n                        &lt;!--outputDirectory&gt;${basedir}/out&lt;/outputDirectory--&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;\n                                src/main/xsd/ogckml22.xsd\n                            &lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            \n        &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The problems are :</p>\n<ol>\n<li>in module-info.java 'requires java.xml.bind'  report message 'module not found'</li>\n<li>in generated classes all import that involves 'javax.xml.*' package report message 'package javax.xml.bind is not visible\n(package javax.xml.bind is declared in the unnamed module, but module View does not read it)'</li>\n</ol>\n<p>ofcourse in project dependencies I can see the jaxb-api-2.3.1.jar</p>\n<p>then where I am doing wrong ?</p>\n<p>Now , just a cleaning of pom avoiding dependencies with version 3.0.2.Now I am just:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;savino.prove&lt;/groupId&gt;\n&lt;artifactId&gt;View&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n    &lt;exec.mainClass&gt;savino.prove.view.View&lt;/exec.mainClass&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n   \n    &lt;!-- JAXB for JDK --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    \n    &lt;!--\n    &lt;dependency&gt;\n        &lt;groupId&gt;CSGXml&lt;/groupId&gt;\n        &lt;artifactId&gt;XmlModels&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    --&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    \n        &lt;plugins&gt;  \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;20&lt;/source&gt;\n                    &lt;target&gt;20&lt;/target&gt;\n                    &lt;release&gt;20&lt;/release&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-modules&lt;/arg&gt;\n                        &lt;arg&gt;java.xml.bind&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        \n    \n      \n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Now I have just dependency from jaxb-api 2.3.1 (containing javax.xml.bind module) and a simple class that need some  classes from javax.xml.bind but stil two problem are here!</p>\n"},{"tags":["java","json","spring","get-mapping"],"answers":[{"tags":[],"owner":{"account_id":29044288,"reputation":11,"user_id":22248486,"display_name":"Andrew"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690308741,"creation_date":1690308741,"answer_id":76765483,"question_id":76765437,"body_markdown":"Try using produces=MediaType.APPLICATION_JSON_VALUE. For example annotate your controller method with:\r\n\r\n    @GetMapping(value=&quot;/path&quot;, produces=MediaType.APPLICATION_JSON_VALUE)","title":"SpringBoot Return String as JSON","body":"<p>Try using produces=MediaType.APPLICATION_JSON_VALUE. For example annotate your controller method with:</p>\n<pre><code>@GetMapping(value=&quot;/path&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690308980,"creation_date":1690308980,"answer_id":76765510,"question_id":76765437,"body_markdown":"Try to specify the `produces` in the annotation `@RequestMapping` as `application/json` and it will help you. For example:\r\n\r\n    @RestController\r\n    public class TestController {\r\n\r\n        @GetMapping(path = &quot;/test&quot;, produces = MediaType.APPLICATION_JSON_VALUE) // equals &#39;produces = &quot;application/json&quot;&#39;\r\n        public ResponseEntity&lt;String&gt; test() {\r\n            return ResponseEntity.ok(&quot;{}&quot;); // put your string here\r\n        }\r\n    }","title":"SpringBoot Return String as JSON","body":"<p>Try to specify the <code>produces</code> in the annotation <code>@RequestMapping</code> as <code>application/json</code> and it will help you. For example:</p>\n<pre><code>@RestController\npublic class TestController {\n\n    @GetMapping(path = &quot;/test&quot;, produces = MediaType.APPLICATION_JSON_VALUE) // equals 'produces = &quot;application/json&quot;'\n    public ResponseEntity&lt;String&gt; test() {\n        return ResponseEntity.ok(&quot;{}&quot;); // put your string here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29091836,"reputation":1,"user_id":22285474,"display_name":"unusualcoder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690339332,"creation_date":1690339278,"answer_id":76767690,"question_id":76765437,"body_markdown":"You can try these things: \r\n\r\n 1. replace produces=text/plain with produces=MediaType.APPLICATION_JSON_VALUE\r\n 2. Use @RestController instead of @Controller, then remove @ResponseBody","title":"SpringBoot Return String as JSON","body":"<p>You can try these things:</p>\n<ol>\n<li>replace produces=text/plain with produces=MediaType.APPLICATION_JSON_VALUE</li>\n<li>Use @RestController instead of @Controller, then remove @ResponseBody</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690353031,"creation_date":1690353031,"answer_id":76768564,"question_id":76765437,"body_markdown":"To explicitly control the return type wrap it in an `ResponseEntity` and specify the content type on that. \r\n\r\n```java\r\n@GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\r\n@ResponseBody\r\npublic ResponeEntity&lt;String&gt; getCount(@RequestParam...) {\r\n   return ResponseEntity.ok()\r\n           .contentType(MediaType.APPLICATION_JSON)\r\n           .body(&quot;{type: &quot;&quot;, List1: []...}&quot;);\r\n}\r\n```\r\n\r\nThis will use the actual content type you provided instead of trying to infer it from the return type of the method.  ","title":"SpringBoot Return String as JSON","body":"<p>To explicitly control the return type wrap it in an <code>ResponseEntity</code> and specify the content type on that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\n@ResponseBody\npublic ResponeEntity&lt;String&gt; getCount(@RequestParam...) {\n   return ResponseEntity.ok()\n           .contentType(MediaType.APPLICATION_JSON)\n           .body(&quot;{type: &quot;&quot;, List1: []...}&quot;);\n}\n</code></pre>\n<p>This will use the actual content type you provided instead of trying to infer it from the return type of the method.</p>\n"}],"owner":{"account_id":12365901,"reputation":11,"user_id":22284025,"display_name":"Luke Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1690383898,"creation_date":1690308368,"question_id":76765437,"body_markdown":"I have a method that returns a fully formatted JSON as a String, ex { type: &quot;&quot;, List1: []...}\r\nI&#39;m trying to return that in a way that the browser interprets it as a JSON (Firefox). I&#39;ve tried specifying that it produces=&quot;text/plain&quot; but no luck.\r\nI can&#39;t put it in a wrapper class as it&#39;s already formatted.\r\n\r\nI tried specifying produces=&quot;text/plain&quot; and @ResponseBody. No luck, still interpreted as text, not JSON.\r\n\r\nedit: For my purposes, using  produces=MediaType.APPLICATION_JSON_VALUE worked.\r\n\r\n    @GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\r\n    @ResponseBody\r\n    public String getCount(@RequestParam...) {\r\n       return &quot;{type: &quot;&quot;, List1: []...}&quot;;\r\n    }\r\n","title":"SpringBoot Return String as JSON","body":"<p>I have a method that returns a fully formatted JSON as a String, ex { type: &quot;&quot;, List1: []...}\nI'm trying to return that in a way that the browser interprets it as a JSON (Firefox). I've tried specifying that it produces=&quot;text/plain&quot; but no luck.\nI can't put it in a wrapper class as it's already formatted.</p>\n<p>I tried specifying produces=&quot;text/plain&quot; and @ResponseBody. No luck, still interpreted as text, not JSON.</p>\n<p>edit: For my purposes, using  produces=MediaType.APPLICATION_JSON_VALUE worked.</p>\n<pre><code>@GetMapping(value=&quot;/v1/Count&quot;, produces=&quot;text/plain&quot;\n@ResponseBody\npublic String getCount(@RequestParam...) {\n   return &quot;{type: &quot;&quot;, List1: []...}&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mocking"],"answers":[{"tags":[],"owner":{"account_id":7975532,"reputation":103,"user_id":6018837,"display_name":"Daniel Matev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690383784,"creation_date":1690383319,"answer_id":76772581,"question_id":76772410,"body_markdown":"You should use the `RestTemplate` as a bean in your serivce like so: \r\n```\r\n @Autowired private RestTemplate restTemplate; \r\n```\r\nEDIT:\r\nYou&#39;re not required to use @Autowired since you have `@AllArgsConstructor`, just need to have the field declared but not initialized.\r\n\r\nSince @InjectMocks only injects mocks by constructor or properties, but in your case you&#39;re initializing yourself in the service. \r\n\r\nAs a side note, you should extract the logic for the `RestTemplate` request outside of your service since this way you have both web request logic and business logic in the service and it becomes difficult to unit test down the road.  \r\nThink about extracting the web request logic for fetching the token to a different client class - e.g. `ExampleServiceClient`. Then you can autowire that class to your service, mock the whole web request logic and only test the business logic.","title":"Unit test spring boot","body":"<p>You should use the <code>RestTemplate</code> as a bean in your serivce like so:</p>\n<pre><code> @Autowired private RestTemplate restTemplate; \n</code></pre>\n<p>EDIT:\nYou're not required to use @Autowired since you have <code>@AllArgsConstructor</code>, just need to have the field declared but not initialized.</p>\n<p>Since @InjectMocks only injects mocks by constructor or properties, but in your case you're initializing yourself in the service.</p>\n<p>As a side note, you should extract the logic for the <code>RestTemplate</code> request outside of your service since this way you have both web request logic and business logic in the service and it becomes difficult to unit test down the road.<br />\nThink about extracting the web request logic for fetching the token to a different client class - e.g. <code>ExampleServiceClient</code>. Then you can autowire that class to your service, mock the whole web request logic and only test the business logic.</p>\n"}],"owner":{"account_id":26061174,"reputation":11,"user_id":19762482,"display_name":"tonylex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690383784,"creation_date":1690382173,"question_id":76772410,"body_markdown":"I have this spring boot class (imports and business logic omitted for brevity)\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class  TokenService {\r\n\r\n    private String token;\r\n    private final RestTemplate restTemplate = new RestTemplate();\r\n\r\n    private JsonNode getApiToken() {\r\n      ...\r\n      ...\r\n        return Optional.of(someResponseEntity);\r\n    }\r\n\r\n    public synchronized String getToken() {\r\n        if (token == null) {\r\n            log.info(&quot;No token, refreshing...&quot;);\r\n            JsonNode response = getApiToken();\r\n            if (response != null) {\r\n                token = response.get(&quot;access_token&quot;).asText();\r\n            }\r\n        }\r\n        return token;\r\n    }\r\n}\r\n\r\n```\r\nand it&#39;s unit test (also redacted):\r\n\r\n\r\n```\r\npublic class TokenServiceTest {\r\n\r\n    @Mock\r\n    private RestTemplate restTemplate;\r\n\r\n    @InjectMocks\r\n    private TokenService tokenService;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testGetToken() {\r\n        String accessToken = &quot;your-access-token&quot;;\r\n        String responseBody = &quot;{\\&quot;access_token\\&quot;:\\&quot;&quot; + accessToken + &quot;\\&quot;}&quot;;\r\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(responseBody, HttpStatus.OK);\r\n\r\n        when(restTemplate.exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class)))\r\n                .thenReturn(responseEntity);\r\n\r\n        String token = tokenService.getToken();\r\n\r\n        assertEquals(accessToken, token);\r\n\r\n        verify(restTemplate).exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class));\r\n    }\r\n}\r\n```\r\nThe unit test runs but it actually sends the post request to the endpoint, which is not desirable when running tests. How can I modify the test class so that requests are actually not sent?\r\n\r\nkind regards\r\n \r\n\r\n\r\nI tried refactoring the service to use a singleton of Resttemplate which I can override but the results are the same: an actual call is sent to the api","title":"Unit test spring boot","body":"<p>I have this spring boot class (imports and business logic omitted for brevity)</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class  TokenService {\n\n    private String token;\n    private final RestTemplate restTemplate = new RestTemplate();\n\n    private JsonNode getApiToken() {\n      ...\n      ...\n        return Optional.of(someResponseEntity);\n    }\n\n    public synchronized String getToken() {\n        if (token == null) {\n            log.info(&quot;No token, refreshing...&quot;);\n            JsonNode response = getApiToken();\n            if (response != null) {\n                token = response.get(&quot;access_token&quot;).asText();\n            }\n        }\n        return token;\n    }\n}\n\n</code></pre>\n<p>and it's unit test (also redacted):</p>\n<pre><code>public class TokenServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private TokenService tokenService;\n\n    @BeforeEach\n    public void setup() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public void testGetToken() {\n        String accessToken = &quot;your-access-token&quot;;\n        String responseBody = &quot;{\\&quot;access_token\\&quot;:\\&quot;&quot; + accessToken + &quot;\\&quot;}&quot;;\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(responseBody, HttpStatus.OK);\n\n        when(restTemplate.exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class)))\n                .thenReturn(responseEntity);\n\n        String token = tokenService.getToken();\n\n        assertEquals(accessToken, token);\n\n        verify(restTemplate).exchange(eq(&quot;https://example.com/token&quot;), eq(HttpMethod.POST), any(), eq(String.class));\n    }\n}\n</code></pre>\n<p>The unit test runs but it actually sends the post request to the endpoint, which is not desirable when running tests. How can I modify the test class so that requests are actually not sent?</p>\n<p>kind regards</p>\n<p>I tried refactoring the service to use a singleton of Resttemplate which I can override but the results are the same: an actual call is sent to the api</p>\n"},{"tags":["java","visual-studio-code","gradle","intellisense"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689296439,"post_id":76681131,"comment_id":135196950,"body_markdown":"[Might be the same problem](https://github.com/redhat-developer/vscode-java/issues/3191).","body":"<a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">Might be the same problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":17265376,"reputation":1384,"user_id":12502237,"display_name":"ckesplin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690383644,"creation_date":1690383644,"answer_id":76772629,"question_id":76681131,"body_markdown":"Apparently, 3 versions of Java were installed on the workspace.  Finding the correct JVM and setting the Gradle daemon to use it solved all of my issues. \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFJ4I.png","title":"vsCode does not show Java intelliSense","body":"<p>Apparently, 3 versions of Java were installed on the workspace.  Finding the correct JVM and setting the Gradle daemon to use it solved all of my issues.</p>\n<p><a href=\"https://i.stack.imgur.com/rFJ4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFJ4I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17265376,"reputation":1384,"user_id":12502237,"display_name":"ckesplin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76772629,"answer_count":1,"score":0,"last_activity_date":1690383644,"creation_date":1689262426,"question_id":76681131,"body_markdown":"I received a new Amazon Workspaces workspace and have been running into the following error: \r\n\r\n```\r\n&quot;Could not run phased build action using connection to Gradle distribution \r\n&#39;https://services.gradle.org/distributions/gradle-6.8-bin.zip&#39;.\r\nGradle 6.8 requires Java 8 or later to run. Your build is currently\r\n configured to use Java 7.&quot;\r\n```\r\n\r\nThe app compiles and runs fine, I just get no intelliSense help.  \r\n\r\nCurrent Java installation uses: \r\n\r\n```\r\nopenjdk 11.0.19 2023-04-18 LTS\r\nOpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\r\n```\r\n\r\nThe `build.gradle` file sets the version:\r\n```\r\nsourceCompatibility = &#39;1.11&#39;\r\ntargetCompatibility = &#39;1.11&#39;\r\n```\r\n\r\nThe recommended Java extension is installed: `Language Support for Java(TM) by Red Hat`\r\n\r\nI&#39;m not quite sure how to set the java runtime version within vsCode and get it to take.  When attempting the change the setting, there is no Java version set (see image below). The edit button takes me to the build.gradle which sets the `sourceCompatibility` and `targetCompatibility`. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/xI8FZ.png)](https://i.stack.imgur.com/xI8FZ.png)\r\n\r\nAny suggestions?","title":"vsCode does not show Java intelliSense","body":"<p>I received a new Amazon Workspaces workspace and have been running into the following error:</p>\n<pre><code>&quot;Could not run phased build action using connection to Gradle distribution \n'https://services.gradle.org/distributions/gradle-6.8-bin.zip'.\nGradle 6.8 requires Java 8 or later to run. Your build is currently\n configured to use Java 7.&quot;\n</code></pre>\n<p>The app compiles and runs fine, I just get no intelliSense help.</p>\n<p>Current Java installation uses:</p>\n<pre><code>openjdk 11.0.19 2023-04-18 LTS\nOpenJDK Runtime Environment Corretto-11.0.19.7.1 (build 11.0.19+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.19.7.1 (build 11.0.19+7-LTS, mixed mode)\n</code></pre>\n<p>The <code>build.gradle</code> file sets the version:</p>\n<pre><code>sourceCompatibility = '1.11'\ntargetCompatibility = '1.11'\n</code></pre>\n<p>The recommended Java extension is installed: <code>Language Support for Java(TM) by Red Hat</code></p>\n<p>I'm not quite sure how to set the java runtime version within vsCode and get it to take.  When attempting the change the setting, there is no Java version set (see image below). The edit button takes me to the build.gradle which sets the <code>sourceCompatibility</code> and <code>targetCompatibility</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/xI8FZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xI8FZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9708,"page":284,"page_size":100}
