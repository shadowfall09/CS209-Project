{"items":[{"tags":["java","generics"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":15,"creation_date":1348397461,"post_id":12551674,"comment_id":16904305,"body_markdown":"How about reading the next sentence in the link you gave: &quot;The declaration Collection&lt;String&gt; denotes a parameterized type, which is an instantiation of the generic type Collection ,  where the place holder E has been replaced by the concrete type String&quot;?","body":"How about reading the next sentence in the link you gave: &quot;The declaration Collection&lt;String&gt; denotes a parameterized type, which is an instantiation of the generic type Collection ,  where the place holder E has been replaced by the concrete type String&quot;?"},{"owner":{"account_id":241880,"reputation":6756,"user_id":512994,"accept_rate":96,"display_name":"wulfgarpro"},"score":0,"creation_date":1348397531,"post_id":12551674,"comment_id":16904322,"body_markdown":"@JBNizet, Yes, my confusion stems from the instantiation type `LinkedList&lt;String&gt;`. Your comment below clarifies it for me.","body":"@JBNizet, Yes, my confusion stems from the instantiation type <code>LinkedList&lt;String&gt;</code>. Your comment below clarifies it for me."}],"answers":[{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1348398493,"creation_date":1348397543,"answer_id":12551716,"question_id":12551674,"body_markdown":"They are both parameterized types: types that take other types as parameters.\r\n\r\nThe fact that you have different types on the two sides of the expression is irrelevant, and has to do with polymorphic behavior i.e. because `LinkedList` is a subtype of `Collection`.","title":"What is meant by parameterized type?","body":"<p>They are both parameterized types: types that take other types as parameters.</p>\n\n<p>The fact that you have different types on the two sides of the expression is irrelevant, and has to do with polymorphic behavior i.e. because <code>LinkedList</code> is a subtype of <code>Collection</code>.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348397574,"creation_date":1348397574,"answer_id":12551719,"question_id":12551674,"body_markdown":"Both uses of collection\r\n\r\n    Collection&lt;String&gt; \r\n    LinkedList&lt;String&gt;\r\n\r\nare parameterized types here with `String` being the type used.","title":"What is meant by parameterized type?","body":"<p>Both uses of collection</p>\n\n<pre><code>Collection&lt;String&gt; \nLinkedList&lt;String&gt;\n</code></pre>\n\n<p>are parameterized types here with <code>String</code> being the type used.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1466136882,"creation_date":1348397609,"answer_id":12551723,"question_id":12551674,"body_markdown":"Parameterized type generally is a class that deals with other object without interesting what type is it. The type may be defined using symbolic &quot;name&quot; and then passed when instance of class is created.\r\n\r\nFor example:\r\n\r\n    class MyClass&lt;T&gt; {\r\n        private T obj;\r\n        public MyClass&lt;T&gt;(T obj) {\r\n            this.obj = obj;\r\n        }\r\n        public int getId() {\r\n            return obj.hashCode();\r\n        }\r\n    }\r\n\r\n\r\nIn example above `MyClass` wraps object of any type and executes its method `hashCode()` using the fact that this method always exists.\r\n\r\nHere is how this class is used:\r\n\r\n`int sid = new MyClass&lt;String&gt;(&quot;aaaa&quot;).hashCode();`\r\n\r\nPlease pay attention that you cannot say  `new MyClass&lt;String&gt;(123)`: the fact that object is created with parameter `String` dictates the type of constructor argument.\r\n\r\nComing back to your example `Collection&lt;String&gt;` means &quot;collection of strings&quot;. This means that you cannot add object of other type to this collection. \r\n\r\n\r\n","title":"What is meant by parameterized type?","body":"<p>Parameterized type generally is a class that deals with other object without interesting what type is it. The type may be defined using symbolic \"name\" and then passed when instance of class is created.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyClass&lt;T&gt; {\n    private T obj;\n    public MyClass&lt;T&gt;(T obj) {\n        this.obj = obj;\n    }\n    public int getId() {\n        return obj.hashCode();\n    }\n}\n</code></pre>\n\n<p>In example above <code>MyClass</code> wraps object of any type and executes its method <code>hashCode()</code> using the fact that this method always exists.</p>\n\n<p>Here is how this class is used:</p>\n\n<p><code>int sid = new MyClass&lt;String&gt;(\"aaaa\").hashCode();</code></p>\n\n<p>Please pay attention that you cannot say  <code>new MyClass&lt;String&gt;(123)</code>: the fact that object is created with parameter <code>String</code> dictates the type of constructor argument.</p>\n\n<p>Coming back to your example <code>Collection&lt;String&gt;</code> means \"collection of strings\". This means that you cannot add object of other type to this collection. </p>\n"},{"tags":[],"owner":{"account_id":8144265,"reputation":7,"user_id":6133372,"display_name":"sujit shelar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461829876,"creation_date":1461829876,"answer_id":36908490,"question_id":12551674,"body_markdown":"ParameterizedType represents a parameterized type such as Collection&lt;String&gt;.\r\n\r\nA parameterized type is created the first time it is needed by a reflective method, as specified in this package. When a parameterized type p is created, the generic type declaration that p instantiates is resolved, and all type arguments of p are created recursively. See TypeVariable for details on the creation process for type variables. Repeated creation of a parameterized type has no effect.\r\n\r\nInstances of classes that implement this interface must implement an equals() method that equates any two instances that share the same generic type declaration and have equal type parameters.","title":"What is meant by parameterized type?","body":"<p>ParameterizedType represents a parameterized type such as Collection.</p>\n\n<p>A parameterized type is created the first time it is needed by a reflective method, as specified in this package. When a parameterized type p is created, the generic type declaration that p instantiates is resolved, and all type arguments of p are created recursively. See TypeVariable for details on the creation process for type variables. Repeated creation of a parameterized type has no effect.</p>\n\n<p>Instances of classes that implement this interface must implement an equals() method that equates any two instances that share the same generic type declaration and have equal type parameters.</p>\n"},{"tags":[],"owner":{"account_id":9508774,"reputation":107,"user_id":7067337,"display_name":"Roy Alilin"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1477370092,"creation_date":1477366840,"answer_id":40230992,"question_id":12551674,"body_markdown":"It seems generic type and parameterized type are synonymous.  But it seems not right to call for example `Box&lt;Integer&gt;` a generic type since in the sense of the word not generic anymore. So probably:\r\n\r\nA generic type is the declaration with formal type parameter/s\r\n\r\n    class Box&lt;T&gt; { .. }\r\n\r\n`Box&lt;T&gt;` is a generic type\r\n\r\n\r\nA parameterized type is the declaration with actual type argument/s\r\n\r\n    Box&lt;Integer&gt; b;        \r\n`Box&lt;Integer&gt;` is a parameterized type\r\n\r\nA raw type is the declaration of a generic type with no actual type argument/s.\r\n\r\n    class Box&lt;T&gt; { .. }\r\n    Box b;\r\n`Box` is a raw type","title":"What is meant by parameterized type?","body":"<p>It seems generic type and parameterized type are synonymous.  But it seems not right to call for example <code>Box&lt;Integer&gt;</code> a generic type since in the sense of the word not generic anymore. So probably:</p>\n\n<p>A generic type is the declaration with formal type parameter/s</p>\n\n<pre><code>class Box&lt;T&gt; { .. }\n</code></pre>\n\n<p><code>Box&lt;T&gt;</code> is a generic type</p>\n\n<p>A parameterized type is the declaration with actual type argument/s</p>\n\n<pre><code>Box&lt;Integer&gt; b;        \n</code></pre>\n\n<p><code>Box&lt;Integer&gt;</code> is a parameterized type</p>\n\n<p>A raw type is the declaration of a generic type with no actual type argument/s.</p>\n\n<pre><code>class Box&lt;T&gt; { .. }\nBox b;\n</code></pre>\n\n<p><code>Box</code> is a raw type</p>\n"},{"tags":[],"owner":{"account_id":3199351,"reputation":89,"user_id":2701740,"display_name":"Al W"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1608307304,"creation_date":1608305131,"answer_id":65359643,"question_id":12551674,"body_markdown":"Here&#39;s a quick breakdown of the nomenclature...\r\n - Type parameter: Simply the placeholder, i.e., `&quot;&lt;T&gt;&quot;`\r\n - Type argument: Is passed to the type parameter when declaring, i.e., `&quot;&lt;String&gt;&quot;`\r\n - Parameterized type (generic): Type with formal type parameter(s), i.e., `&quot;List&lt;T&gt;&quot;`\r\n - Parameterized type (concrete): Type with declared type arguments(s) as parameters, i.e., `&quot;List&lt;String&gt;&quot;`","title":"What is meant by parameterized type?","body":"<p>Here's a quick breakdown of the nomenclature...</p>\n<ul>\n<li>Type parameter: Simply the placeholder, i.e., <code>&quot;&lt;T&gt;&quot;</code></li>\n<li>Type argument: Is passed to the type parameter when declaring, i.e., <code>&quot;&lt;String&gt;&quot;</code></li>\n<li>Parameterized type (generic): Type with formal type parameter(s), i.e., <code>&quot;List&lt;T&gt;&quot;</code></li>\n<li>Parameterized type (concrete): Type with declared type arguments(s) as parameters, i.e., <code>&quot;List&lt;String&gt;&quot;</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676455431,"creation_date":1676455431,"answer_id":75458151,"question_id":12551674,"body_markdown":"Even if this is a fairly old question, I still think I can add something - especially clarification to the difference between terms &quot;generic type&quot; and &quot;parameterized type&quot;, which, in the beginning, confused me to some extent.\r\n\r\nFrom the [Java Docs Tutorial](https://docs.oracle.com/javase/tutorial/java/generics/types.html):\r\n\r\nWe call *generic type* to type definition, e.g.: `SomeType&lt;T&gt;`, and we call parameterized type to type invocation, e.g.: `SomeType&lt;SpecificType&gt;` (when we provide specific class as an argument to the type parameter).\r\n\r\nE.g. `List&lt;T&gt;` is a generic type and `List&lt;String&gt;` is a parameterized type.","title":"What is meant by parameterized type?","body":"<p>Even if this is a fairly old question, I still think I can add something - especially clarification to the difference between terms &quot;generic type&quot; and &quot;parameterized type&quot;, which, in the beginning, confused me to some extent.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">Java Docs Tutorial</a>:</p>\n<p>We call <em>generic type</em> to type definition, e.g.: <code>SomeType&lt;T&gt;</code>, and we call parameterized type to type invocation, e.g.: <code>SomeType&lt;SpecificType&gt;</code> (when we provide specific class as an argument to the type parameter).</p>\n<p>E.g. <code>List&lt;T&gt;</code> is a generic type and <code>List&lt;String&gt;</code> is a parameterized type.</p>\n"}],"owner":{"account_id":241880,"reputation":6756,"user_id":512994,"accept_rate":96,"display_name":"wulfgarpro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65377,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":12551716,"answer_count":7,"score":41,"last_activity_date":1676455431,"creation_date":1348397170,"question_id":12551674,"body_markdown":"[This](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ001) link states the following:\r\n\r\n&gt; The instantiation of a generic type with actual type arguments is called a parameterized type . \r\nExample (of a parameterized type): \r\n\r\n&gt; `Collection&lt;String&gt; coll = new LinkedList&lt;String&gt;();`\r\n\r\nSo what is the parameterized type? \r\n\r\n* `Collection&lt;String&gt;` or\r\n* `LinkedList&lt;String&gt;`","title":"What is meant by parameterized type?","body":"<p><a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ001\" rel=\"noreferrer\">This</a> link states the following:</p>\n\n<blockquote>\n  <p>The instantiation of a generic type with actual type arguments is called a parameterized type . \n  Example (of a parameterized type): </p>\n  \n  <p><code>Collection&lt;String&gt; coll = new LinkedList&lt;String&gt;();</code></p>\n</blockquote>\n\n<p>So what is the parameterized type? </p>\n\n<ul>\n<li><code>Collection&lt;String&gt;</code> or</li>\n<li><code>LinkedList&lt;String&gt;</code></li>\n</ul>\n"},{"tags":["java","sockets","grpc","java-11"],"comments":[{"owner":{"account_id":19569874,"reputation":54,"user_id":14321268,"display_name":"Philipp"},"score":1,"creation_date":1661939969,"post_id":73554080,"comment_id":129889393,"body_markdown":"Please take a look at this post: https://stackoverflow.com/a/73170621/14321268","body":"Please take a look at this post: <a href=\"https://stackoverflow.com/a/73170621/14321268\">stackoverflow.com/a/73170621/14321268</a>"},{"owner":{"account_id":23069558,"reputation":77,"user_id":17183543,"display_name":"ajs"},"score":0,"creation_date":1661957529,"post_id":73554080,"comment_id":129895885,"body_markdown":"Thanks, the answer on that post also solved it for me!","body":"Thanks, the answer on that post also solved it for me!"}],"answers":[{"tags":[],"owner":{"account_id":15649265,"reputation":13,"user_id":11290953,"display_name":"Gary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676455218,"creation_date":1676010758,"answer_id":75407641,"question_id":73554080,"body_markdown":"For those using maven shade plugin:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;transformers&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n        &lt;/transformers&gt;\r\n    &lt;configuration&gt;\r\n\r\nReference to fix: https://github.com/grpc/grpc-java/issues/9387\r\n","title":"Unable to connect to gRPC server when build as jar","body":"<p>For those using maven shade plugin:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;transformers&gt;\n        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n    &lt;/transformers&gt;\n&lt;configuration&gt;\n</code></pre>\n<p>Reference to fix: <a href=\"https://github.com/grpc/grpc-java/issues/9387\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/issues/9387</a></p>\n"}],"owner":{"account_id":23069558,"reputation":77,"user_id":17183543,"display_name":"ajs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676455218,"creation_date":1661939637,"question_id":73554080,"body_markdown":"I am trying gRPC and I having some issues. I have build a gRPC server and a client. Did almost the same as the java example of gRPC (https://grpc.io/docs/languages/java/basics/) so nothing special. Now when I create a jar of the server it runs well but when I create a jar of my client it throws the following exception:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\nat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\nat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\nat com.example.grpc.server.classifier.classifierGrpc$classifierBlockingStub.classify(classifierGrpc.java:210)\r\nat com.example.grpc.client.Main.sendMessage(Main.java:35)\r\nat com.example.grpc.client.Main.main(Main.java:29)\r\nCaused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Invalid argument: /172.16.3.14:530\r\nCaused by: java.net.ConnectException: connect(..) failed: Invalid argument\r\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:155)\r\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\r\nat io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollSocketChannel.doConnect0(EpollSocketChannel.java:144)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\r\nat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\nat io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\nat io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\r\nat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nThis does not happen when I run the client in Intellij.\r\n\r\nAfter searching for a while I found some posts that suggest using flag `java.net.preferIPv4Stack=true` to force ipv4 usage but that did not work.\r\n\r\n\r\nSome versions of protobuf &amp; gRPC\r\n\r\n```\r\n    implementation &#39;com.google.protobuf:protobuf-java:3.21.5&#39;\r\n    implementation &#39;io.grpc:grpc-netty-shaded:1.49.0&#39;\r\n    implementation &#39;io.grpc:grpc-protobuf:1.49.0&#39;\r\n    implementation &#39;io.grpc:grpc-stub:1.49.0&#39;\r\n```\r\n\r\n\r\nSo to be clear, the client works when it is run in Intellij but not when build as a jar.","title":"Unable to connect to gRPC server when build as jar","body":"<p>I am trying gRPC and I having some issues. I have build a gRPC server and a client. Did almost the same as the java example of gRPC (<a href=\"https://grpc.io/docs/languages/java/basics/\" rel=\"nofollow noreferrer\">https://grpc.io/docs/languages/java/basics/</a>) so nothing special. Now when I create a jar of the server it runs well but when I create a jar of my client it throws the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\nat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\nat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\nat com.example.grpc.server.classifier.classifierGrpc$classifierBlockingStub.classify(classifierGrpc.java:210)\nat com.example.grpc.client.Main.sendMessage(Main.java:35)\nat com.example.grpc.client.Main.main(Main.java:29)\nCaused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Invalid argument: /172.16.3.14:530\nCaused by: java.net.ConnectException: connect(..) failed: Invalid argument\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:155)\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\nat io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollSocketChannel.doConnect0(EpollSocketChannel.java:144)\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\nat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\nat io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\nat io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\nat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>This does not happen when I run the client in Intellij.</p>\n<p>After searching for a while I found some posts that suggest using flag <code>java.net.preferIPv4Stack=true</code> to force ipv4 usage but that did not work.</p>\n<p>Some versions of protobuf &amp; gRPC</p>\n<pre><code>    implementation 'com.google.protobuf:protobuf-java:3.21.5'\n    implementation 'io.grpc:grpc-netty-shaded:1.49.0'\n    implementation 'io.grpc:grpc-protobuf:1.49.0'\n    implementation 'io.grpc:grpc-stub:1.49.0'\n</code></pre>\n<p>So to be clear, the client works when it is run in Intellij but not when build as a jar.</p>\n"},{"tags":["java","kotlin","stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676453959,"post_id":75457727,"comment_id":133138008,"body_markdown":"Does this answer your question? [Java - Find Element in Array using Condition and Lambda](https://stackoverflow.com/questions/32262059/java-find-element-in-array-using-condition-and-lambda)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32262059/java-find-element-in-array-using-condition-and-lambda\">Java - Find Element in Array using Condition and Lambda</a>"},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1676458396,"post_id":75457727,"comment_id":133139212,"body_markdown":"Ouch, this reminds me of school, where we wrote code in French. I found it ugly, but I didn&#39;t realize how much harder this makes reading the code for people who don&#39;t understand the language. For some reason it&#39;s harder to read this than reading abstract `a`, `b`, `c` as identifiers (at least for me)","body":"Ouch, this reminds me of school, where we wrote code in French. I found it ugly, but I didn&#39;t realize how much harder this makes reading the code for people who don&#39;t understand the language. For some reason it&#39;s harder to read this than reading abstract <code>a</code>, <code>b</code>, <code>c</code> as identifiers (at least for me)"}],"answers":[{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676454636,"creation_date":1676454321,"answer_id":75457932,"question_id":75457727,"body_markdown":"I am writing here to find string from the list what I have understand.\r\n```\r\nList&lt;String&gt; result = list.stream()\r\n  .filter(x -&gt; x.contains(&quot;string&quot;)\r\n  .collect(Collectors.toList());\r\n```\r\nLets keep posted if you need more help","title":"Kotlin or Java: Using stream() to find element in list","body":"<p>I am writing here to find string from the list what I have understand.</p>\n<pre><code>List&lt;String&gt; result = list.stream()\n  .filter(x -&gt; x.contains(&quot;string&quot;)\n  .collect(Collectors.toList());\n</code></pre>\n<p>Lets keep posted if you need more help</p>\n"},{"tags":[],"owner":{"account_id":8606880,"reputation":94,"user_id":6446742,"display_name":"Hafizur Rahman Arfin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676454964,"creation_date":1676454964,"answer_id":75458055,"question_id":75457727,"body_markdown":"You can use streams to filter the **tidslinjehendelser** list to get only the elements whose **innhold**() method returns a string containing a certain text string. Here&#39;s an example:\r\n\r\n    tidslinjehendelser.stream()\r\n    .filter { hendelse -&gt; hendelse.innhold().contains(melding) }\r\n    .forEach { hendelse -&gt; println(&quot;yay!&quot;) }\r\n\r\nThis code uses the **stream**() method to convert the **tidslinjehendelser** list to a stream. Then, it uses the **filter**() method to filter the stream and keep only the elements whose **innhold**() method returns a string containing the melding text. Finally, it uses the **forEach**() method to loop over the filtered stream and print &quot;yay!&quot; for each matching element.\r\n\r\nYou can replace the **println(&quot;yay!&quot;)** statement with any other code you want to execute for the matching elements. Also note that this code will stop iterating over the stream once it finds the first matching element. If you want to find all the matching elements, you can use the **collect**() method instead of **forEach**() to collect the matching elements into a new list or other collection.","title":"Kotlin or Java: Using stream() to find element in list","body":"<p>You can use streams to filter the <strong>tidslinjehendelser</strong> list to get only the elements whose <strong>innhold</strong>() method returns a string containing a certain text string. Here's an example:</p>\n<pre><code>tidslinjehendelser.stream()\n.filter { hendelse -&gt; hendelse.innhold().contains(melding) }\n.forEach { hendelse -&gt; println(&quot;yay!&quot;) }\n</code></pre>\n<p>This code uses the <strong>stream</strong>() method to convert the <strong>tidslinjehendelser</strong> list to a stream. Then, it uses the <strong>filter</strong>() method to filter the stream and keep only the elements whose <strong>innhold</strong>() method returns a string containing the melding text. Finally, it uses the <strong>forEach</strong>() method to loop over the filtered stream and print &quot;yay!&quot; for each matching element.</p>\n<p>You can replace the <strong>println(&quot;yay!&quot;)</strong> statement with any other code you want to execute for the matching elements. Also note that this code will stop iterating over the stream once it finds the first matching element. If you want to find all the matching elements, you can use the <strong>collect</strong>() method instead of <strong>forEach</strong>() to collect the matching elements into a new list or other collection.</p>\n"}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458055,"answer_count":2,"score":0,"last_activity_date":1676454964,"creation_date":1676453140,"question_id":75457727,"body_markdown":"I have the following list:\r\n\r\n    val tidslinjehendelser = kontaktPage.tidslinjeCard().getTidslinjehendelser()\r\n    \r\n    fun getTidslinjehendelser(): MutableList&lt;TidslinjehendelseElement&gt; {\r\n        return Getters.getElementsInElement(element, By.tagName(&quot;tidslinje-hendelse&quot;)).stream()\r\n            .map { el: WebElement? -&gt; TidslinjehendelseElement(el) }.collect(Collectors.toList())\r\n    }\r\n\r\nWhich is created from this class:\r\n\r\n    class TidslinjehendelseElement(private val element: WebElement?) {\r\n        fun dato(): String {\r\n        return getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=tidslinje-hendelse-dato]&quot;)).text\r\n        }\r\n        \r\n        fun navn(): String { return getElementInElement(element, By.className(&quot;hendelse-navn&quot;)).text }\r\n        \r\n        fun innhold(): String { return getElementInElement(element, By.className(&quot;hendelse-body&quot;)).text }\r\n    }\r\n\r\nWhat I want to do, is to search for an element where the innhold() text contains a certain text string.\r\n\r\n\r\nRight now, I&#39;m doing it with a loop:\r\n\r\n    for (hendelse in tidslinjehendelser) {\r\n        if (hendelse.innhold().contains(melding)) {\r\n            print(&quot;yay!&quot;)\r\n        }\r\n    }\r\n\r\nBut since I&#39;ve just started looking at streams, I&#39;d like to explore using that method instead of the looping method.","title":"Kotlin or Java: Using stream() to find element in list","body":"<p>I have the following list:</p>\n<pre><code>val tidslinjehendelser = kontaktPage.tidslinjeCard().getTidslinjehendelser()\n\nfun getTidslinjehendelser(): MutableList&lt;TidslinjehendelseElement&gt; {\n    return Getters.getElementsInElement(element, By.tagName(&quot;tidslinje-hendelse&quot;)).stream()\n        .map { el: WebElement? -&gt; TidslinjehendelseElement(el) }.collect(Collectors.toList())\n}\n</code></pre>\n<p>Which is created from this class:</p>\n<pre><code>class TidslinjehendelseElement(private val element: WebElement?) {\n    fun dato(): String {\n    return getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=tidslinje-hendelse-dato]&quot;)).text\n    }\n    \n    fun navn(): String { return getElementInElement(element, By.className(&quot;hendelse-navn&quot;)).text }\n    \n    fun innhold(): String { return getElementInElement(element, By.className(&quot;hendelse-body&quot;)).text }\n}\n</code></pre>\n<p>What I want to do, is to search for an element where the innhold() text contains a certain text string.</p>\n<p>Right now, I'm doing it with a loop:</p>\n<pre><code>for (hendelse in tidslinjehendelser) {\n    if (hendelse.innhold().contains(melding)) {\n        print(&quot;yay!&quot;)\n    }\n}\n</code></pre>\n<p>But since I've just started looking at streams, I'd like to explore using that method instead of the looping method.</p>\n"},{"tags":["java","ubuntu","selenium-webdriver","selenium-chromedriver","robotframework"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676454673,"creation_date":1676454673,"answer_id":75457993,"question_id":75456265,"body_markdown":"Robot class is generally inconsistent as it blindly performs keyboard or mouse actions. I have figured out a solution to select the browser certificate without Robot class. This works only on Firefox though. If you are happy to switch from Chrome to Firefox, try the below code:\r\n\r\n````\r\nFirefoxOptions options = new FirefoxOptions();\r\noptions.addArguments(&quot;-profile&quot;);\r\noptions.addArguments(&quot;C:/Users/username/AppData/Roaming/Mozilla/Firefox/Profiles/zyz.default&quot;);\r\nWebDriver driver = new FirefoxDriver(options);\r\n````\r\n\r\nIn the above code, driver instance is loaded with the default Firefox browser profile. This profile will contain the certificate which will be accepted automatically and pop-up will not even be triggered. Try this and see if you can get away from using Robot class.","title":"How to handle keyboard operation on selenium chrome browser running on virtual ubuntu 22","body":"<p>Robot class is generally inconsistent as it blindly performs keyboard or mouse actions. I have figured out a solution to select the browser certificate without Robot class. This works only on Firefox though. If you are happy to switch from Chrome to Firefox, try the below code:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();\noptions.addArguments(&quot;-profile&quot;);\noptions.addArguments(&quot;C:/Users/username/AppData/Roaming/Mozilla/Firefox/Profiles/zyz.default&quot;);\nWebDriver driver = new FirefoxDriver(options);\n</code></pre>\n<p>In the above code, driver instance is loaded with the default Firefox browser profile. This profile will contain the certificate which will be accepted automatically and pop-up will not even be triggered. Try this and see if you can get away from using Robot class.</p>\n"}],"owner":{"account_id":5647530,"reputation":354,"user_id":4469122,"accept_rate":55,"display_name":"RISHI KHANNA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676454673,"creation_date":1676443089,"question_id":75456265,"body_markdown":"I am trying to select &quot;OK&quot; button against my browser certificate pop-up using robot class. The same piece of code works well on windows but failing on ubuntu.\r\n\r\nCode:\r\n\r\n    public void load() {\r\n        setUrl();\r\n        Thread threadNavigation = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                driver.navigate().to(url);\r\n\r\n            }\r\n        };\r\n\r\n        Thread threadCertificateHandler = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(3000);\r\n                    Robot robot = new Robot();\r\n                    robot.keyPress(KeyEvent.VK_ENTER);\r\n                    robot.delay(2000);\r\n                    robot.keyRelease(KeyEvent.VK_ENTER);\r\n                    Thread.sleep(3000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n\r\n        // Start the threads.\r\n        threadNavigation.start();\r\n        threadCertificateHandler.start();\r\n\r\n        // Wait for them both to finish\r\n        try {\r\n            threadNavigation.join();\r\n            threadCertificateHandler.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n**Code Explanation:** As soon as url is navigated using selenium, a certificate pop-up is displayed before page is loaded. The approach I have used here - 1 thread used here to get application url and another thread is used to handle the pop-up.\r\n\r\nAttaching screenshot of the pop-up.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lYap8.png\r\n\r\n**ChromeDriver Init Code:**\r\n\r\n    public void getStandaloneHubNodeServerDriver(String browserType,String platformType, String url) throws MalformedURLException  {\r\n        DesiredCapabilities caps = new DesiredCapabilities();\r\n        logger.log(Level.INFO, () -&gt; &quot;Setting browser address @: &quot; + url);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\r\n        options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\r\n        options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\r\n        options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n        options.setAcceptInsecureCerts(true);\r\n        options.setUnhandledPromptBehaviour(UnexpectedAlertBehaviour.ACCEPT);\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,Arrays.asList(&quot;disable-popup-blocking&quot;));\r\n        //threadLocalDriver.set(new RemoteWebDriver(new URL(url),options));\r\n        driver = new RemoteWebDriver(new URL(url),options);\r\n        driver.manage().window().maximize();\r\n    }\r\n\r\nThe same code works like a charm on local windows but when executed on remote VM running on linux, it does not perform the &quot;Enter&quot; event. Is there&#39;s any alternative to Robot class that can be used for linux?","title":"How to handle keyboard operation on selenium chrome browser running on virtual ubuntu 22","body":"<p>I am trying to select &quot;OK&quot; button against my browser certificate pop-up using robot class. The same piece of code works well on windows but failing on ubuntu.</p>\n<p>Code:</p>\n<pre><code>public void load() {\n    setUrl();\n    Thread threadNavigation = new Thread() {\n        @Override\n        public void run() {\n            driver.navigate().to(url);\n\n        }\n    };\n\n    Thread threadCertificateHandler = new Thread() {\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(3000);\n                Robot robot = new Robot();\n                robot.keyPress(KeyEvent.VK_ENTER);\n                robot.delay(2000);\n                robot.keyRelease(KeyEvent.VK_ENTER);\n                Thread.sleep(3000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n\n    // Start the threads.\n    threadNavigation.start();\n    threadCertificateHandler.start();\n\n    // Wait for them both to finish\n    try {\n        threadNavigation.join();\n        threadCertificateHandler.join();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>Code Explanation:</strong> As soon as url is navigated using selenium, a certificate pop-up is displayed before page is loaded. The approach I have used here - 1 thread used here to get application url and another thread is used to handle the pop-up.</p>\n<p>Attaching screenshot of the pop-up.\n<a href=\"https://i.stack.imgur.com/lYap8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYap8.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>ChromeDriver Init Code:</strong></p>\n<pre><code>public void getStandaloneHubNodeServerDriver(String browserType,String platformType, String url) throws MalformedURLException  {\n    DesiredCapabilities caps = new DesiredCapabilities();\n    logger.log(Level.INFO, () -&gt; &quot;Setting browser address @: &quot; + url);\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\n    options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\n    options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\n    options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\n    options.setAcceptInsecureCerts(true);\n    options.setUnhandledPromptBehaviour(UnexpectedAlertBehaviour.ACCEPT);\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Arrays.asList(&quot;disable-popup-blocking&quot;));\n    //threadLocalDriver.set(new RemoteWebDriver(new URL(url),options));\n    driver = new RemoteWebDriver(new URL(url),options);\n    driver.manage().window().maximize();\n}\n</code></pre>\n<p>The same code works like a charm on local windows but when executed on remote VM running on linux, it does not perform the &quot;Enter&quot; event. Is there's any alternative to Robot class that can be used for linux?</p>\n"},{"tags":["java","jvm","java-8","java-7","jdk1.7"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1454416657,"post_id":35153270,"comment_id":58025607,"body_markdown":"http://stackoverflow.com/questions/17619638/eclipse-kepler-java-8","body":"<a href=\"http://stackoverflow.com/questions/17619638/eclipse-kepler-java-8\" title=\"eclipse kepler java 8\">stackoverflow.com/questions/17619638/eclipse-kepler-java-8</a>"}],"answers":[{"tags":[],"owner":{"account_id":7751369,"reputation":41,"user_id":5867185,"display_name":"Christian Constantinescu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676454498,"creation_date":1454415833,"answer_id":35153462,"question_id":35153270,"body_markdown":"Create a script that changes the JAVA_HOME environment accordingly, for example:\r\n\r\n    @echo off\r\n    echo Setting JAVA_HOME\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_11\r\n    echo setting PATH\r\n    set PATH=C:\\Program Files\\Java\\jdk1.6.0_11\\bin;%PATH%\r\n    echo Display java version\r\n    java -version\r\n\r\nSource:\r\n[https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150705070000/https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v","title":"install and switch between java 7 and java 8 in windows","body":"<p>Create a script that changes the JAVA_HOME environment accordingly, for example:</p>\n<pre><code>@echo off\necho Setting JAVA_HOME\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_11\necho setting PATH\nset PATH=C:\\Program Files\\Java\\jdk1.6.0_11\\bin;%PATH%\necho Display java version\njava -version\n</code></pre>\n<p>Source:\n<a href=\"https://web.archive.org/web/20150705070000/https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v</a></p>\n"},{"tags":[],"owner":{"account_id":7114567,"reputation":115,"user_id":5441334,"accept_rate":60,"display_name":"gascon95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454416193,"creation_date":1454416193,"answer_id":35153596,"question_id":35153270,"body_markdown":"If you are using Eclipse, you can set the compiler preferences with the Java version you want to use for every project.\r\n\r\nGo to `Window -&gt; Preferences -&gt; Java -&gt; Compiler` and there you can change the Java version.\r\n\r\nThis way, you can update your PC to Java 8 and you&#39;ll have no problem with the older projects.","title":"install and switch between java 7 and java 8 in windows","body":"<p>If you are using Eclipse, you can set the compiler preferences with the Java version you want to use for every project.</p>\n\n<p>Go to <code>Window -&gt; Preferences -&gt; Java -&gt; Compiler</code> and there you can change the Java version.</p>\n\n<p>This way, you can update your PC to Java 8 and you'll have no problem with the older projects.</p>\n"},{"tags":[],"owner":{"account_id":7231669,"reputation":309,"user_id":5518262,"accept_rate":50,"display_name":"Kunal_89"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454417404,"creation_date":1454417404,"answer_id":35154018,"question_id":35153270,"body_markdown":"Install both JDKs in your system and for any project if you want to use jdk 1.8. Do this\r\n\r\n    Right click on that project-&gt;Properties-&gt;java complier-&gt;set compliance level to 1.8","title":"install and switch between java 7 and java 8 in windows","body":"<p>Install both JDKs in your system and for any project if you want to use jdk 1.8. Do this</p>\n\n<pre><code>Right click on that project-&gt;Properties-&gt;java complier-&gt;set compliance level to 1.8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9886143,"reputation":143,"user_id":7320609,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1482300642,"creation_date":1482300326,"answer_id":41256185,"question_id":35153270,"body_markdown":"Well after installing both JDK 7 &amp; JDK 8,\r\nThere are two scenarios.\r\n\r\n1) If you are using Eclipse to run your program\r\n\r\nIn Eclipse just go to project-&gt;Properties-&gt;java complier-&gt;set compliance level to 1.8 or 1.7 accordingly\r\n\r\n2) If you are running your program using Command Prompt\r\n\r\nIn this case, you have to enter following commands before compiling your program\r\n\r\n      set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102\r\n      set PATH=C:\\Program Files\\Java\\jdk1.8.0_102\\bin;%PATH%\r\n      java -version\r\n\r\nyou can also make a batch file of the same. just copy and paste to notepad and save it with the .bat extension \r\n","title":"install and switch between java 7 and java 8 in windows","body":"<p>Well after installing both JDK 7 &amp; JDK 8,\nThere are two scenarios.</p>\n\n<p>1) If you are using Eclipse to run your program</p>\n\n<p>In Eclipse just go to project->Properties->java complier->set compliance level to 1.8 or 1.7 accordingly</p>\n\n<p>2) If you are running your program using Command Prompt</p>\n\n<p>In this case, you have to enter following commands before compiling your program</p>\n\n<pre><code>  set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102\n  set PATH=C:\\Program Files\\Java\\jdk1.8.0_102\\bin;%PATH%\n  java -version\n</code></pre>\n\n<p>you can also make a batch file of the same. just copy and paste to notepad and save it with the .bat extension </p>\n"}],"owner":{"account_id":1900708,"reputation":95,"user_id":1716625,"accept_rate":60,"display_name":"Aman Agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18789,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":35154018,"answer_count":4,"score":3,"last_activity_date":1676454498,"creation_date":1454415360,"question_id":35153270,"body_markdown":"I am on widows and also using eclipse. Currently I am using java 7. Now I want to use java 8. but i cannot uninstall java 7 as some of my old projects are working in java 7. \r\n\r\nSo how can I install both java version at same time and switch between these versions.\r\n\r\n\r\nI want only some particular projects will use java 8.","title":"install and switch between java 7 and java 8 in windows","body":"<p>I am on widows and also using eclipse. Currently I am using java 7. Now I want to use java 8. but i cannot uninstall java 7 as some of my old projects are working in java 7. </p>\n\n<p>So how can I install both java version at same time and switch between these versions.</p>\n\n<p>I want only some particular projects will use java 8.</p>\n"},{"tags":["java","c++","windows"],"comments":[{"owner":{"account_id":5482007,"reputation":1536,"user_id":4358137,"accept_rate":86,"display_name":"Seth Kitchen"},"score":2,"creation_date":1442326305,"post_id":32586883,"comment_id":53030248,"body_markdown":"http://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings\r\n\r\n?","body":"<a href=\"http://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings\" title=\"how to get windows display settings\">stackoverflow.com/questions/5977445/&hellip;</a>    ?"},{"owner":{"account_id":67561,"reputation":7959,"user_id":197657,"accept_rate":85,"display_name":"dutt"},"score":0,"creation_date":1442330484,"post_id":32586883,"comment_id":53033415,"body_markdown":"thanks :) didn&#39;t find that when searching.","body":"thanks :) didn&#39;t find that when searching."}],"answers":[{"tags":[],"owner":{"account_id":5482007,"reputation":1536,"user_id":4358137,"accept_rate":86,"display_name":"Seth Kitchen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442327564,"creation_date":1442326449,"answer_id":32588375,"question_id":32586883,"body_markdown":"Maybe this [answer](https://stackoverflow.com/a/21450169/2436655) from [here](https://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings) might help you:\r\n\r\n    [DllImport(&quot;gdi32.dll&quot;)]\r\n    static extern int GetDeviceCaps(IntPtr hdc, int nIndex);\r\n    public enum DeviceCap\r\n    {\r\n        VERTRES = 10,\r\n        DESKTOPVERTRES = 117,\r\n\r\n        // http://pinvoke.net/default.aspx/gdi32/GetDeviceCaps.html\r\n    }  \r\n\r\n\r\n    private float getScalingFactor()\r\n    {\r\n        Graphics g = Graphics.FromHwnd(IntPtr.Zero);\r\n        IntPtr desktop = g.GetHdc();\r\n        int LogicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.VERTRES);\r\n        int PhysicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.DESKTOPVERTRES); \r\n\r\n        float ScreenScalingFactor = (float)PhysicalScreenHeight / (float)LogicalScreenHeight;\r\n\r\n        return ScreenScalingFactor; // 1.25 = 125%\r\n    }","title":"Windows scaling","body":"<p>Maybe this <a href=\"https://stackoverflow.com/a/21450169/2436655\">answer</a> from <a href=\"https://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings\">here</a> might help you:</p>\n\n<pre><code>[DllImport(\"gdi32.dll\")]\nstatic extern int GetDeviceCaps(IntPtr hdc, int nIndex);\npublic enum DeviceCap\n{\n    VERTRES = 10,\n    DESKTOPVERTRES = 117,\n\n    // http://pinvoke.net/default.aspx/gdi32/GetDeviceCaps.html\n}  \n\n\nprivate float getScalingFactor()\n{\n    Graphics g = Graphics.FromHwnd(IntPtr.Zero);\n    IntPtr desktop = g.GetHdc();\n    int LogicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.VERTRES);\n    int PhysicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.DESKTOPVERTRES); \n\n    float ScreenScalingFactor = (float)PhysicalScreenHeight / (float)LogicalScreenHeight;\n\n    return ScreenScalingFactor; // 1.25 = 125%\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1539257151,"creation_date":1539257151,"answer_id":52758883,"question_id":32586883,"body_markdown":"`java.awt.Toolkit.getDefaultToolkit().getScreenResolution()` see [API][1]\r\n\r\n&gt; Returns the screen resolution in dots-per-inch.\r\n\r\nAssumen your 100% is 96pixel you&#39;re able to calculate your scaling factor.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--","title":"Windows scaling","body":"<p><code>java.awt.Toolkit.getDefaultToolkit().getScreenResolution()</code> see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--\" rel=\"noreferrer\">API</a></p>\n\n<blockquote>\n  <p>Returns the screen resolution in dots-per-inch.</p>\n</blockquote>\n\n<p>Assumen your 100% is 96pixel you're able to calculate your scaling factor.</p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659972081,"creation_date":1564600820,"answer_id":57297599,"question_id":32586883,"body_markdown":"Adopting @seth-kitchen&#39;s example using JNA, this is possible, even on older JDKs like Java 8.\r\n\r\n**Note:** The JNA portion of this technique doesn&#39;t work well on JDK11.  A comment in the code explains how it will fallback to the `Toolkit` technique.\r\n\r\n    public static double getScaleFactor() {\r\n        WinDef.HDC hdc = GDI32.INSTANCE.CreateCompatibleDC(null);\r\n        if (hdc != null) {\r\n            int actual = GDI32.INSTANCE.GetDeviceCaps(hdc, 10 /* VERTRES */);\r\n            int logical = GDI32.INSTANCE.GetDeviceCaps(hdc, 117 /* DESKTOPVERTRES */);\r\n            GDI32.INSTANCE.DeleteDC(hdc);\r\n            // JDK11 seems to always return 1, use fallback below\r\n            if (logical != 0 &amp;&amp; logical/actual &gt; 1) {\r\n                return (double)logical/actual;\r\n            }\r\n        }\r\n        return Toolkit.getDefaultToolkit().getScreenResolution() / 96.0d;\r\n    }\r\n\r\n\r\nThis above solution grabs the default display for simplicity purposes.  You can enhance it to get the display of the current Window by finding the current Window handle (through `Native.getComponentPointer(Component)` or by title using `User32.INSTANCE.FindWindow(...)`) and then using `CreateaCompatibleDC(GetDC(window))`.\r\n\r\n","title":"Windows scaling","body":"<p>Adopting @seth-kitchen's example using JNA, this is possible, even on older JDKs like Java 8.</p>\n<p><strong>Note:</strong> The JNA portion of this technique doesn't work well on JDK11.  A comment in the code explains how it will fallback to the <code>Toolkit</code> technique.</p>\n<pre><code>public static double getScaleFactor() {\n    WinDef.HDC hdc = GDI32.INSTANCE.CreateCompatibleDC(null);\n    if (hdc != null) {\n        int actual = GDI32.INSTANCE.GetDeviceCaps(hdc, 10 /* VERTRES */);\n        int logical = GDI32.INSTANCE.GetDeviceCaps(hdc, 117 /* DESKTOPVERTRES */);\n        GDI32.INSTANCE.DeleteDC(hdc);\n        // JDK11 seems to always return 1, use fallback below\n        if (logical != 0 &amp;&amp; logical/actual &gt; 1) {\n            return (double)logical/actual;\n        }\n    }\n    return Toolkit.getDefaultToolkit().getScreenResolution() / 96.0d;\n}\n</code></pre>\n<p>This above solution grabs the default display for simplicity purposes.  You can enhance it to get the display of the current Window by finding the current Window handle (through <code>Native.getComponentPointer(Component)</code> or by title using <code>User32.INSTANCE.FindWindow(...)</code>) and then using <code>CreateaCompatibleDC(GetDC(window))</code>.</p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565107946,"creation_date":1565107519,"answer_id":57380042,"question_id":32586883,"body_markdown":"Although the question asks about Windows scaling, the accepted solution(s), do not work properly with Linux running JDK11.\r\n\r\nThe below technique uses JNA to detect the screen scale factor on Linux, which is compatible with Linux desktops exposing the Gtk (Gimp Toolkit) libraries.\r\n\r\nThe snippet contains several Gtk version-dependent workarounds as the Gtk API exposing scaling information has changed several times.  Furthermore, information may be inaccurate for specific use-cases (mixed standard and HiDPI monitors on the same desktop) as scaling is monitor-specific.\r\n\r\n**Warning**:  If Java fixes this behavior -- or equally if Gtk changes their API -- in a future version, this solution will need to be updated.  Furthermore, this solution requires Linux-only components: reflection is required (included) for cross-compilation to succeed.\r\n\r\nUsage: `GtkUtilities.getScaleFactor()`\r\n\r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Pointer;\r\n\r\n    import java.lang.reflect.Method;\r\n\r\n    public class GtkUtilities {\r\n        /**\r\n        * Initializes Gtk2/3 and returns the desktop scaling factor, usually 1.0 or 2.0\r\n        */\r\n        public static double getScaleFactor() {\r\n            GTK gtkHandle = getGtkInstance();\r\n            if (gtkHandle != null &amp;&amp; gtkHandle.gtk_init_check(0, null)) {\r\n                System.out.println(&quot;Initialized Gtk&quot;);\r\n\r\n                if (gtkHandle instanceof GTK2) {\r\n                    return getGtk2ScaleFactor((GTK2)gtkHandle);\r\n                } else {\r\n                    return getGtk3ScaleFactor((GTK3)gtkHandle);\r\n                }\r\n            } else {\r\n                System.err.println(&quot;An error occurred initializing the Gtk library&quot;);\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        private static GTK getGtkInstance() {\r\n            System.out.println(&quot;Finding preferred Gtk version...&quot;);\r\n            switch(getGtkMajorVersion()) {\r\n                case 2:\r\n                    return GTK2.INSTANCE;\r\n                case 3:\r\n                    return GTK3.INSTANCE;\r\n                default:\r\n                    System.err.println(&quot;Not a compatible Gtk version&quot;);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        /**\r\n        * Get the major version of Gtk (e.g. 2, 3)\r\n        * UNIXToolkit is unavailable on Windows or Mac; reflection is required.\r\n        * @return Major version if found, zero if not.\r\n        */\r\n        private static int getGtkMajorVersion() {\r\n            try {\r\n                Class toolkitClass = Class.forName(&quot;sun.awt.UNIXToolkit&quot;);\r\n                Method versionMethod = toolkitClass.getDeclaredMethod(&quot;getGtkVersion&quot;);\r\n                Enum versionInfo = (Enum)versionMethod.invoke(toolkitClass);\r\n                Method numberMethod = versionInfo.getClass().getDeclaredMethod(&quot;getNumber&quot;);\r\n                int version = ((Integer)numberMethod.invoke(versionInfo)).intValue();\r\n                System.out.println(&quot;Found Gtk &quot; + version);\r\n                return version;\r\n            } catch(Throwable t) {\r\n                System.err.println(&quot;Could not obtain GtkVersion information from UNIXToolkit: {}&quot;, t.getMessage());\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        private static double getGtk2ScaleFactor(GTK2 gtk2) {\r\n            Pointer display = gtk2.gdk_display_get_default();\r\n            System.out.println(&quot;Gtk 2.10+ detected, calling \\&quot;gdk_screen_get_resolution\\&quot;&quot;);\r\n            Pointer screen = gtk2.gdk_display_get_default_screen(display);\r\n            return gtk2.gdk_screen_get_resolution(screen) / 96.0d;\r\n        }\r\n\r\n        private static double getGtk3ScaleFactor(GTK3 gtk3) {\r\n            Pointer display = gtk3.gdk_display_get_default();\r\n            int gtkMinorVersion = gtk3.gtk_get_minor_version();\r\n            if (gtkMinorVersion &lt; 10) {\r\n                System.err.println(&quot;Gtk 3.10+ is required to detect scaling factor, skipping.&quot;);\r\n            } else if (gtkMinorVersion &gt;= 22) {\r\n                System.out.println(&quot;Gtk 3.22+ detected, calling \\&quot;gdk_monitor_get_scale_factor\\&quot;&quot;);\r\n                Pointer monitor = gtk3.gdk_display_get_primary_monitor(display);\r\n                return gtk3.gdk_monitor_get_scale_factor(monitor);\r\n            } else if (gtkMinorVersion &gt;= 10) {\r\n                System.out.println(&quot;Gtk 3.10+ detected, calling \\&quot;gdk_screen_get_monitor_scale_factor\\&quot;&quot;);\r\n                Pointer screen = gtk3.gdk_display_get_default_screen(display);\r\n                return gtk3.gdk_screen_get_monitor_scale_factor(screen, 0);\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        /**\r\n        * Gtk2/Gtk3 wrapper\r\n        */\r\n        private interface GTK extends Library {\r\n            // Gtk2.0+\r\n            boolean gtk_init_check(int argc, String[] argv);\r\n            Pointer gdk_display_get_default();\r\n            Pointer gdk_display_get_default_screen (Pointer display);\r\n        }\r\n\r\n        private interface GTK3 extends GTK {\r\n            GTK3 INSTANCE = Native.loadLibrary(&quot;gtk-3&quot;, GTK3.class);\r\n\r\n            // Gtk 3.0+\r\n            int gtk_get_minor_version ();\r\n\r\n            // Gtk 3.10-3.21\r\n            int gdk_screen_get_monitor_scale_factor (Pointer screen, int monitor_num);\r\n\r\n            // Gtk 3.22+\r\n            Pointer gdk_display_get_primary_monitor (Pointer display);\r\n            int gdk_monitor_get_scale_factor (Pointer monitor);\r\n        }\r\n\r\n        private interface GTK2 extends GTK {\r\n            GTK2 INSTANCE = Native.loadLibrary(&quot;gtk-x11-2.0&quot;, GTK2.class);\r\n\r\n            // Gtk 2.1-3.0\r\n            double gdk_screen_get_resolution(Pointer screen);\r\n        }\r\n    }\r\n","title":"Windows scaling","body":"<p>Although the question asks about Windows scaling, the accepted solution(s), do not work properly with Linux running JDK11.</p>\n\n<p>The below technique uses JNA to detect the screen scale factor on Linux, which is compatible with Linux desktops exposing the Gtk (Gimp Toolkit) libraries.</p>\n\n<p>The snippet contains several Gtk version-dependent workarounds as the Gtk API exposing scaling information has changed several times.  Furthermore, information may be inaccurate for specific use-cases (mixed standard and HiDPI monitors on the same desktop) as scaling is monitor-specific.</p>\n\n<p><strong>Warning</strong>:  If Java fixes this behavior -- or equally if Gtk changes their API -- in a future version, this solution will need to be updated.  Furthermore, this solution requires Linux-only components: reflection is required (included) for cross-compilation to succeed.</p>\n\n<p>Usage: <code>GtkUtilities.getScaleFactor()</code></p>\n\n<pre><code>import com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\n\nimport java.lang.reflect.Method;\n\npublic class GtkUtilities {\n    /**\n    * Initializes Gtk2/3 and returns the desktop scaling factor, usually 1.0 or 2.0\n    */\n    public static double getScaleFactor() {\n        GTK gtkHandle = getGtkInstance();\n        if (gtkHandle != null &amp;&amp; gtkHandle.gtk_init_check(0, null)) {\n            System.out.println(\"Initialized Gtk\");\n\n            if (gtkHandle instanceof GTK2) {\n                return getGtk2ScaleFactor((GTK2)gtkHandle);\n            } else {\n                return getGtk3ScaleFactor((GTK3)gtkHandle);\n            }\n        } else {\n            System.err.println(\"An error occurred initializing the Gtk library\");\n        }\n        return 0;\n    }\n\n    private static GTK getGtkInstance() {\n        System.out.println(\"Finding preferred Gtk version...\");\n        switch(getGtkMajorVersion()) {\n            case 2:\n                return GTK2.INSTANCE;\n            case 3:\n                return GTK3.INSTANCE;\n            default:\n                System.err.println(\"Not a compatible Gtk version\");\n        }\n        return null;\n    }\n\n    /**\n    * Get the major version of Gtk (e.g. 2, 3)\n    * UNIXToolkit is unavailable on Windows or Mac; reflection is required.\n    * @return Major version if found, zero if not.\n    */\n    private static int getGtkMajorVersion() {\n        try {\n            Class toolkitClass = Class.forName(\"sun.awt.UNIXToolkit\");\n            Method versionMethod = toolkitClass.getDeclaredMethod(\"getGtkVersion\");\n            Enum versionInfo = (Enum)versionMethod.invoke(toolkitClass);\n            Method numberMethod = versionInfo.getClass().getDeclaredMethod(\"getNumber\");\n            int version = ((Integer)numberMethod.invoke(versionInfo)).intValue();\n            System.out.println(\"Found Gtk \" + version);\n            return version;\n        } catch(Throwable t) {\n            System.err.println(\"Could not obtain GtkVersion information from UNIXToolkit: {}\", t.getMessage());\n        }\n        return 0;\n    }\n\n    private static double getGtk2ScaleFactor(GTK2 gtk2) {\n        Pointer display = gtk2.gdk_display_get_default();\n        System.out.println(\"Gtk 2.10+ detected, calling \\\"gdk_screen_get_resolution\\\"\");\n        Pointer screen = gtk2.gdk_display_get_default_screen(display);\n        return gtk2.gdk_screen_get_resolution(screen) / 96.0d;\n    }\n\n    private static double getGtk3ScaleFactor(GTK3 gtk3) {\n        Pointer display = gtk3.gdk_display_get_default();\n        int gtkMinorVersion = gtk3.gtk_get_minor_version();\n        if (gtkMinorVersion &lt; 10) {\n            System.err.println(\"Gtk 3.10+ is required to detect scaling factor, skipping.\");\n        } else if (gtkMinorVersion &gt;= 22) {\n            System.out.println(\"Gtk 3.22+ detected, calling \\\"gdk_monitor_get_scale_factor\\\"\");\n            Pointer monitor = gtk3.gdk_display_get_primary_monitor(display);\n            return gtk3.gdk_monitor_get_scale_factor(monitor);\n        } else if (gtkMinorVersion &gt;= 10) {\n            System.out.println(\"Gtk 3.10+ detected, calling \\\"gdk_screen_get_monitor_scale_factor\\\"\");\n            Pointer screen = gtk3.gdk_display_get_default_screen(display);\n            return gtk3.gdk_screen_get_monitor_scale_factor(screen, 0);\n        }\n        return 0;\n    }\n\n    /**\n    * Gtk2/Gtk3 wrapper\n    */\n    private interface GTK extends Library {\n        // Gtk2.0+\n        boolean gtk_init_check(int argc, String[] argv);\n        Pointer gdk_display_get_default();\n        Pointer gdk_display_get_default_screen (Pointer display);\n    }\n\n    private interface GTK3 extends GTK {\n        GTK3 INSTANCE = Native.loadLibrary(\"gtk-3\", GTK3.class);\n\n        // Gtk 3.0+\n        int gtk_get_minor_version ();\n\n        // Gtk 3.10-3.21\n        int gdk_screen_get_monitor_scale_factor (Pointer screen, int monitor_num);\n\n        // Gtk 3.22+\n        Pointer gdk_display_get_primary_monitor (Pointer display);\n        int gdk_monitor_get_scale_factor (Pointer monitor);\n    }\n\n    private interface GTK2 extends GTK {\n        GTK2 INSTANCE = Native.loadLibrary(\"gtk-x11-2.0\", GTK2.class);\n\n        // Gtk 2.1-3.0\n        double gdk_screen_get_resolution(Pointer screen);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6483508,"reputation":111,"user_id":5019820,"display_name":"Alexander Zuban"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570240818,"creation_date":1570240818,"answer_id":58244790,"question_id":32586883,"body_markdown":"The following works for me. You need to get window actual device(for multi-monitor enviroment) and calc it&#39;s bound dimension agains display mode dimension.\r\n\r\n    public static double getWindowScale(Window window) {\r\n\t\tGraphicsDevice device = getWindowDevice(window);\r\n\t\treturn device.getDisplayMode().getWidth() / (double) device.getDefaultConfiguration().getBounds().width;\r\n\t}\r\n\r\n\tpublic static GraphicsDevice getWindowDevice(Window window) {\r\n\t\tRectangle bounds = window.getBounds();\r\n\t\treturn asList(GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()).stream()\r\n\r\n\t\t\t\t// pick devices where window located\r\n\t\t\t\t.filter(d -&gt; d.getDefaultConfiguration().getBounds().intersects(bounds))\r\n\r\n\t\t\t\t// sort by biggest intersection square\r\n\t\t\t\t.sorted((f, s) -&gt; Long.compare(//\r\n\t\t\t\t\t\tsquare(f.getDefaultConfiguration().getBounds().intersection(bounds)),\r\n\t\t\t\t\t\tsquare(s.getDefaultConfiguration().getBounds().intersection(bounds))))\r\n\r\n\t\t\t\t// use one with the biggest part of the window\r\n\t\t\t\t.reduce((f, s) -&gt; s) //\r\n\r\n\t\t\t\t// fallback to default device\r\n\t\t\t\t.orElse(window.getGraphicsConfiguration().getDevice());\r\n\t}\r\n\r\n\tpublic static long square(Rectangle rec) {\r\n\t\treturn Math.abs(rec.width * rec.height);\r\n\t}","title":"Windows scaling","body":"<p>The following works for me. You need to get window actual device(for multi-monitor enviroment) and calc it's bound dimension agains display mode dimension.</p>\n\n<pre><code>public static double getWindowScale(Window window) {\n    GraphicsDevice device = getWindowDevice(window);\n    return device.getDisplayMode().getWidth() / (double) device.getDefaultConfiguration().getBounds().width;\n}\n\npublic static GraphicsDevice getWindowDevice(Window window) {\n    Rectangle bounds = window.getBounds();\n    return asList(GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()).stream()\n\n            // pick devices where window located\n            .filter(d -&gt; d.getDefaultConfiguration().getBounds().intersects(bounds))\n\n            // sort by biggest intersection square\n            .sorted((f, s) -&gt; Long.compare(//\n                    square(f.getDefaultConfiguration().getBounds().intersection(bounds)),\n                    square(s.getDefaultConfiguration().getBounds().intersection(bounds))))\n\n            // use one with the biggest part of the window\n            .reduce((f, s) -&gt; s) //\n\n            // fallback to default device\n            .orElse(window.getGraphicsConfiguration().getDevice());\n}\n\npublic static long square(Rectangle rec) {\n    return Math.abs(rec.width * rec.height);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638131445,"creation_date":1637902503,"answer_id":70119734,"question_id":32586883,"body_markdown":"This works on macOS and Windows with Java 17\r\n```\r\npublic static Window getWindow(Component component) {\r\n    return component instanceof Window ? (Window) component : getWindow(component.getParent());\r\n}\r\n\r\n@Override\r\npublic synchronized void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n\r\n    float displayScaling = (float) getWindow(this).getGraphicsConfiguration().getDefaultTransform().getScaleX();\r\n}\r\n```","title":"Windows scaling","body":"<p>This works on macOS and Windows with Java 17</p>\n<pre><code>public static Window getWindow(Component component) {\n    return component instanceof Window ? (Window) component : getWindow(component.getParent());\n}\n\n@Override\npublic synchronized void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    float displayScaling = (float) getWindow(this).getGraphicsConfiguration().getDefaultTransform().getScaleX();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3117228,"reputation":31,"user_id":2637743,"display_name":"MsxCowboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676454478,"creation_date":1676454478,"answer_id":75457960,"question_id":32586883,"body_markdown":"Here&#39;s a &quot;one liner&quot; that should give you the scaling factor:\r\n\r\n```java\r\ndouble scale = java.awt.GraphicsEnvironment\r\n    .getLocalGraphicsEnvironment()\r\n    .getDefaultScreenDevice() // or cycle your getScreenDevices()\r\n    .getDefaultConfiguration()\r\n    .getDefaultTransform()\r\n    .getScaleX();\r\n```\r\n\r\nIf you already have a java.awt.Component, you can use this instead:\r\n\r\n```java\r\ndouble scale = myComponent.getGraphicsConfiguration().getDefaultTransform().getScaleX();\r\n```\r\n\r\n(based on [this article][1])\r\n\r\n\r\n  [1]: https://kynosarges.org/GuiDpiScaling.html#Factor","title":"Windows scaling","body":"<p>Here's a &quot;one liner&quot; that should give you the scaling factor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double scale = java.awt.GraphicsEnvironment\n    .getLocalGraphicsEnvironment()\n    .getDefaultScreenDevice() // or cycle your getScreenDevices()\n    .getDefaultConfiguration()\n    .getDefaultTransform()\n    .getScaleX();\n</code></pre>\n<p>If you already have a java.awt.Component, you can use this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double scale = myComponent.getGraphicsConfiguration().getDefaultTransform().getScaleX();\n</code></pre>\n<p>(based on <a href=\"https://kynosarges.org/GuiDpiScaling.html#Factor\" rel=\"nofollow noreferrer\">this article</a>)</p>\n"}],"owner":{"account_id":67561,"reputation":7959,"user_id":197657,"accept_rate":85,"display_name":"dutt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8781,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":32588375,"answer_count":7,"score":11,"last_activity_date":1676454478,"creation_date":1442322299,"question_id":32586883,"body_markdown":"Windows 8/10 has started to include a slider for how much GUI elements should scale, right click on desktop -&gt; display. For a colleague with a laptop 4k-screen it&#39;s 250% while another colleague using the same resolution on a 4k 28&quot; screen it&#39;s 150%.\r\n\r\nHow do I read that value programmatically? I need to adjust some graphics so it looks the same on all screens.\r\n\r\nI&#39;m working in Java on a Eclipse RCP application, but a way that uses C or C++ through JNI works too. I&#39;ve been looking around but can&#39;t find anything.","title":"Windows scaling","body":"<p>Windows 8/10 has started to include a slider for how much GUI elements should scale, right click on desktop -> display. For a colleague with a laptop 4k-screen it's 250% while another colleague using the same resolution on a 4k 28\" screen it's 150%.</p>\n\n<p>How do I read that value programmatically? I need to adjust some graphics so it looks the same on all screens.</p>\n\n<p>I'm working in Java on a Eclipse RCP application, but a way that uses C or C++ through JNI works too. I've been looking around but can't find anything.</p>\n"},{"tags":["javascript","java","node.js","authentication","passport.js"],"answers":[{"tags":[],"owner":{"account_id":12257466,"reputation":2150,"user_id":9662626,"display_name":"Algo7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587378177,"creation_date":1587378177,"answer_id":61320152,"question_id":61276545,"body_markdown":"It should be\n \n\n    passport.use(new LocalStrategy ...\n\ninstead of your \n\n    passport.use(new Strategy(.....","title":"Nodejs Passport Failure message not working","body":"<p>It should be</p>\n\n<pre><code>passport.use(new LocalStrategy ...\n</code></pre>\n\n<p>instead of your </p>\n\n<pre><code>passport.use(new Strategy(.....\n</code></pre>\n"}],"owner":{"account_id":7833413,"reputation":73,"user_id":5922492,"accept_rate":36,"display_name":"Coco12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676454280,"creation_date":1587141763,"question_id":61276545,"body_markdown":"I have Passport Local working on my app.\r\n\r\nSuccess brings authenticates and failure does not.\r\nHowever im trying to make it fail better through fail messages and escaping the action.\r\n\r\nTried following the passport documentation.\r\n\r\nThe error messages are not appearing for some reason, would appreciate some assistance!\r\n\r\nhere is the local startegy\r\n```\r\n// Configure the local strategy for use by Passport.\r\npassport.use(new Strategy(\r\n  function(username, password, cb) {\r\n    db.users.findByUsername(username, function(err, user) {\r\n      if (err) { return cb(err); }\r\n      if (!user) { return cb(null, false,req.flash(&#39;message&#39;,&#39;Invalid username or password&#39;)); }\r\n      if (user.password != password) { return cb(null, false,req.flash(&#39;message&#39;,&#39;Invalid username or password&#39;)); }\r\n      return cb(null, user);\r\n    });\r\n  }));\r\n```\r\n\r\nThe authentication\r\n```\r\n//Home\r\napp.post(&#39;/home.ejs&#39;,\r\n  passport.authenticate(&#39;local&#39;),\r\n  function(req, res) {\r\n    res.redirect(&#39;/&#39;);\r\n  });\r\n```\r\nI also have another attempt at authentication if this is more accurate but also had no luck\r\n```\r\n  //Home\r\n  app.post(&#39;/home.ejs&#39;, function( req, res, next) { passport.authenticate(&#39;local&#39;, function(err, user, info) {\r\n\r\n            if (err) { return next(err);  req.flash(&#39;message&#39;,&#39;Invalid username or password&#39;) }\r\n\r\n            if (!user) { return res.redirect(&#39;/&#39;);  failureFlash: &#39;Invalid username or password&#39; }\r\n\r\n            req.logIn(user, function(err) {\r\n            if (err) { return next(err); }\r\n              return res.redirect(&#39;/&#39;);\r\n\r\n        });\r\n      })(req, res, next);\r\n    });*/\r\n\r\n```\r\n\r\n","title":"Nodejs Passport Failure message not working","body":"<p>I have Passport Local working on my app.</p>\n\n<p>Success brings authenticates and failure does not.\nHowever im trying to make it fail better through fail messages and escaping the action.</p>\n\n<p>Tried following the passport documentation.</p>\n\n<p>The error messages are not appearing for some reason, would appreciate some assistance!</p>\n\n<p>here is the local startegy</p>\n\n<pre><code>// Configure the local strategy for use by Passport.\npassport.use(new Strategy(\n  function(username, password, cb) {\n    db.users.findByUsername(username, function(err, user) {\n      if (err) { return cb(err); }\n      if (!user) { return cb(null, false,req.flash('message','Invalid username or password')); }\n      if (user.password != password) { return cb(null, false,req.flash('message','Invalid username or password')); }\n      return cb(null, user);\n    });\n  }));\n</code></pre>\n\n<p>The authentication</p>\n\n<pre><code>//Home\napp.post('/home.ejs',\n  passport.authenticate('local'),\n  function(req, res) {\n    res.redirect('/');\n  });\n</code></pre>\n\n<p>I also have another attempt at authentication if this is more accurate but also had no luck</p>\n\n<pre><code>  //Home\n  app.post('/home.ejs', function( req, res, next) { passport.authenticate('local', function(err, user, info) {\n\n            if (err) { return next(err);  req.flash('message','Invalid username or password') }\n\n            if (!user) { return res.redirect('/');  failureFlash: 'Invalid username or password' }\n\n            req.logIn(user, function(err) {\n            if (err) { return next(err); }\n              return res.redirect('/');\n\n        });\n      })(req, res, next);\n    });*/\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676454171,"creation_date":1676445963,"answer_id":75456613,"question_id":75455450,"body_markdown":"&gt; I think the `set()` method is a good choice, but I want to ensure that this method doesn&#39;t touch the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nYes, it&#39;s a good choice but as long as you call [DocumentReference#set(@NonNull Object data, @NonNull SetOptions options)][1] which:\r\n\r\n&gt; Writes to the document referred to by this DocumentReference. If the document does not yet exist, it will be created. If you pass SetOptions, the provided data can be **merged** into an existing document.\r\n\r\nSo in code, it should look like this:\r\n\r\n    Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n    update.put(&quot;field&quot;, &quot;data&quot;);\r\n    db.collection(&quot;screens&quot;).document(&quot;docId&quot;).set(data, SetOptions.merge());\r\n    //                                                      &#128070;        &#128070;\r\n\r\n**Edit:**\r\n\r\nIf you don&#39;t want the `creation date` and `name` fields to be overwritten, then **never** add into the `update` object the `creation date&#39; and &#39;name&#39; as keys. So use any other keys you want, but not those ones. In that way, you always have those two fields exactly as they were when they were created.\r\n\r\n&gt; but I want to ensure that this method doesn&#39;t touch the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nAs long as you never add those keys, you don&#39;t have to worry about it.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#set(java.lang.Object,com.google.firebase.firestore.SetOptions)","title":"How to use Firestore set() method to update user fields without affecting required fields?","body":"<blockquote>\n<p>I think the <code>set()</code> method is a good choice, but I want to ensure that this method doesn't touch the 'creation date' and 'name' fields.</p>\n</blockquote>\n<p>Yes, it's a good choice but as long as you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#set(java.lang.Object,com.google.firebase.firestore.SetOptions)\" rel=\"nofollow noreferrer\">DocumentReference#set(@NonNull Object data, @NonNull SetOptions options)</a> which:</p>\n<blockquote>\n<p>Writes to the document referred to by this DocumentReference. If the document does not yet exist, it will be created. If you pass SetOptions, the provided data can be <strong>merged</strong> into an existing document.</p>\n</blockquote>\n<p>So in code, it should look like this:</p>\n<pre><code>Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\nupdate.put(&quot;field&quot;, &quot;data&quot;);\ndb.collection(&quot;screens&quot;).document(&quot;docId&quot;).set(data, SetOptions.merge());\n//                                                      👆        👆\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>If you don't want the <code>creation date</code> and <code>name</code> fields to be overwritten, then <strong>never</strong> add into the <code>update</code> object the `creation date' and 'name' as keys. So use any other keys you want, but not those ones. In that way, you always have those two fields exactly as they were when they were created.</p>\n<blockquote>\n<p>but I want to ensure that this method doesn't touch the 'creation date' and 'name' fields.</p>\n</blockquote>\n<p>As long as you never add those keys, you don't have to worry about it.</p>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75456613,"answer_count":1,"score":0,"last_activity_date":1676454171,"creation_date":1676434747,"question_id":75455450,"body_markdown":"In Firestore, inside the &#39;screens&#39; collection, every document must have two required fields - &#39;creation date&#39; and &#39;name&#39; - and optional fields according to each user.\r\n\r\nI want to delete all fields inside the document and rewrite new fields when they click on the save button. However, I don&#39;t want to delete the &#39;creation date&#39; and &#39;name&#39; fields since they are created when the screen is first created.\r\n\r\nSince every user has different fields, I don&#39;t know what the fields will be, but every document should contain the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nPlease don&#39;t suggest using the &#39;update&#39; method since I need to remove all fields manually before rewriting new fields.\r\n\r\nI think the `set()` method is a good choice, but I want to ensure that this method doesn&#39;t touch the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nThere is no code currently, but I&#39;m asking if is there any easy way to do that or not.","title":"How to use Firestore set() method to update user fields without affecting required fields?","body":"<p>In Firestore, inside the 'screens' collection, every document must have two required fields - 'creation date' and 'name' - and optional fields according to each user.</p>\n<p>I want to delete all fields inside the document and rewrite new fields when they click on the save button. However, I don't want to delete the 'creation date' and 'name' fields since they are created when the screen is first created.</p>\n<p>Since every user has different fields, I don't know what the fields will be, but every document should contain the 'creation date' and 'name' fields.</p>\n<p>Please don't suggest using the 'update' method since I need to remove all fields manually before rewriting new fields.</p>\n<p>I think the <code>set()</code> method is a good choice, but I want to ensure that this method doesn't touch the 'creation date' and 'name' fields.</p>\n<p>There is no code currently, but I'm asking if is there any easy way to do that or not.</p>\n"},{"tags":["java","flutter"],"answers":[{"tags":[],"owner":{"account_id":27784591,"reputation":11,"user_id":21212316,"display_name":"Krunal Lunagariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676453716,"creation_date":1676453716,"answer_id":75457829,"question_id":75457439,"body_markdown":"Check your java version , if your **Java** version is **18,19** or **20** delete your latest version and try to use **Java-8** or **Java-11**. \r\n\r\n-&gt; I tried Java **version 11** , My error was solve ","title":"FAILURE: Build failed with an exception. * Where: Build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle&#39; line: 26","body":"<p>Check your java version , if your <strong>Java</strong> version is <strong>18,19</strong> or <strong>20</strong> delete your latest version and try to use <strong>Java-8</strong> or <strong>Java-11</strong>.</p>\n<p>-&gt; I tried Java <strong>version 11</strong> , My error was solve</p>\n"}],"owner":{"account_id":27784591,"reputation":11,"user_id":21212316,"display_name":"Krunal Lunagariya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676453716,"creation_date":1676451676,"question_id":75457439,"body_markdown":"FAILURE: Build failed with an exception. * Where: Build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle&#39; line: 26 * What went wrong: A problem occurred evaluating root project &#39;android&#39;. &gt; A problem occurred configuring project &#39;:app&#39;. &gt; Could not open proj generic class cache for build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\app\\build.gradle&#39; (C:\\Users\\dell\\.gradle\\caches\\7.4\\scripts\\6kf7hlj2razsy2gytva6h994n). &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63 * Try: &gt; Run with --stacktrace option to get the stack trace. &gt; Run with --info or --debug option to get more log output. &gt; Run with --scan to get full insights.[![Open this image for output](https://i.stack.imgur.com/IGA7K.png)](https://i.stack.imgur.com/IGA7K.png)\r\n\r\nI tried to remove invalidate caches , after that i restart my computer , after that i unistall my flutter app in my device but, nothig happen.","title":"FAILURE: Build failed with an exception. * Where: Build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle&#39; line: 26","body":"<p>FAILURE: Build failed with an exception. * Where: Build file 'C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle' line: 26 * What went wrong: A problem occurred evaluating root project 'android'. &gt; A problem occurred configuring project ':app'. &gt; Could not open proj generic class cache for build file 'C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\app\\build.gradle' (C:\\Users\\dell.gradle\\caches\\7.4\\scripts\\6kf7hlj2razsy2gytva6h994n). &gt; BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63 * Try: &gt; Run with --stacktrace option to get the stack trace. &gt; Run with --info or --debug option to get more log output. &gt; Run with --scan to get full insights.<a href=\"https://i.stack.imgur.com/IGA7K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IGA7K.png\" alt=\"Open this image for output\" /></a></p>\n<p>I tried to remove invalidate caches , after that i restart my computer , after that i unistall my flutter app in my device but, nothig happen.</p>\n"},{"tags":["java","spring-boot","servlets"],"answers":[{"tags":[],"owner":{"account_id":16661749,"reputation":31,"user_id":12041531,"display_name":"Garage Coder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568717642,"creation_date":1568717642,"answer_id":57972749,"question_id":55466852,"body_markdown":"I started having the same problem when I upgraded to spring boot 2.1 from 1.5.8.\r\n\r\nBefore the upgrade, the filter HeaderWriterFilter was not in the filter chain, it seems to be added by spring automatically. This filter is also calling your filter when sendError is called.\r\n\r\nYou did not mention if you are implementing Filter or extending a specific filter, but if you can extend OncePerRequestFilter it should fix the issue.","title":"Why sendError returns empty response body","body":"<p>I started having the same problem when I upgraded to spring boot 2.1 from 1.5.8.</p>\n\n<p>Before the upgrade, the filter HeaderWriterFilter was not in the filter chain, it seems to be added by spring automatically. This filter is also calling your filter when sendError is called.</p>\n\n<p>You did not mention if you are implementing Filter or extending a specific filter, but if you can extend OncePerRequestFilter it should fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676453662,"creation_date":1676453662,"answer_id":75457817,"question_id":55466852,"body_markdown":"For Spring Boot 2.3 and above, **Add below property**\r\n\r\nin `application.yaml`\r\n```\r\nserver:\r\n  error:\r\n    include-message: always\r\n```\r\nor in `application.properties`\r\n```\r\nserver.error.include-message=always\r\n```\r\n\r\n**Note**:\r\nThis increases the risk of leaking information to a client.\r\n\r\n**From Spring Boot 2.3 Release Notes**:\r\n\r\n&gt; The error message and any binding errors are no longer included in the\r\n&gt; default error page by default. This reduces the risk of leaking\r\n&gt; information to a client. server.error.include-message and\r\n&gt; server.error.include-binding-errors can be used to control the\r\n&gt; inclusion of the message and binding errors respectively. Supported\r\n&gt; values are always, on-param, and never.\r\n\r\n\r\n\r\n**References**:\r\n- https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content\r\n- https://stackoverflow.com/a/62069243/5384491\r\n- https://stackoverflow.com/a/63732087/5384491\r\n- https://stackoverflow.com/a/67582855/5384491","title":"Why sendError returns empty response body","body":"<p>For Spring Boot 2.3 and above, <strong>Add below property</strong></p>\n<p>in <code>application.yaml</code></p>\n<pre><code>server:\n  error:\n    include-message: always\n</code></pre>\n<p>or in <code>application.properties</code></p>\n<pre><code>server.error.include-message=always\n</code></pre>\n<p><strong>Note</strong>:\nThis increases the risk of leaking information to a client.</p>\n<p><strong>From Spring Boot 2.3 Release Notes</strong>:</p>\n<blockquote>\n<p>The error message and any binding errors are no longer included in the\ndefault error page by default. This reduces the risk of leaking\ninformation to a client. server.error.include-message and\nserver.error.include-binding-errors can be used to control the\ninclusion of the message and binding errors respectively. Supported\nvalues are always, on-param, and never.</p>\n</blockquote>\n<p><strong>References</strong>:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content</a></li>\n<li><a href=\"https://stackoverflow.com/a/62069243/5384491\">https://stackoverflow.com/a/62069243/5384491</a></li>\n<li><a href=\"https://stackoverflow.com/a/63732087/5384491\">https://stackoverflow.com/a/63732087/5384491</a></li>\n<li><a href=\"https://stackoverflow.com/a/67582855/5384491\">https://stackoverflow.com/a/67582855/5384491</a></li>\n</ul>\n"}],"owner":{"account_id":6210451,"reputation":71,"user_id":4836892,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2454,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1676453662,"creation_date":1554178367,"question_id":55466852,"body_markdown":"I am trying to use sendError method from HttpServletResponse, but always get back an empty body response.\r\n\r\n```java\r\n@Override\r\nprotected void doFilterInternal(@NonNull HttpServletRequest httpServletRequest, \r\n                                @NonNull HttpServletResponse httpServletResponse,\r\n                                @NonNull FilterChain filterChain)\r\n                                    throws ServletException, IOException {\r\n        \r\n        String token = jwtTokenProvider.resolveToken(httpServletRequest);\r\n        try {\r\n            if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\r\n                Authentication auth = jwtTokenProvider.getAuthentication(token);\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n        } catch (CustomException ex) {\r\n            SecurityContextHolder.clearContext();\r\n            httpServletResponse.sendError(ex.getHttpStatus().value(), ex.getMessage());\r\n            return;\r\n        }\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n}\r\n```\r\n\r\nSince it didn&#39;t work, I tried constructing my own response and return it to client (this is an API call).\r\n\r\n```java\r\nString error = &quot;Expired or invalid JWT token&quot;;\r\nApiError errorResponse = new ApiError(new Date(),500, HttpStatus.INTERNAL_SERVER_ERROR, error, ex.getLocalizedMessage(), httpServletRequest.getRequestURL().toString());\r\nhttpServletResponse.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\nhttpServletResponse.getWriter().write(convertObjectToJson(errorResponse));\r\n```\r\n\r\n```java\r\nprivate String convertObjectToJson(Object object) throws JsonProcessingException {\r\n        if (object == null) {\r\n            return null;\r\n        }\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.writeValueAsString(object);\r\n}\r\n```\r\n\r\nThis works, but I had to construct it using string and then convert it to JSON. I want to just use the sendError method. Can someone help me figure out why the response body is always empty? The status code of the empty body response (when using sendError) is 403.","title":"Why sendError returns empty response body","body":"<p>I am trying to use sendError method from HttpServletResponse, but always get back an empty body response.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doFilterInternal(@NonNull HttpServletRequest httpServletRequest, \n                                @NonNull HttpServletResponse httpServletResponse,\n                                @NonNull FilterChain filterChain)\n                                    throws ServletException, IOException {\n\n        String token = jwtTokenProvider.resolveToken(httpServletRequest);\n        try {\n            if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\n                Authentication auth = jwtTokenProvider.getAuthentication(token);\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            }\n        } catch (CustomException ex) {\n            SecurityContextHolder.clearContext();\n            httpServletResponse.sendError(ex.getHttpStatus().value(), ex.getMessage());\n            return;\n        }\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n}\n</code></pre>\n\n<p>Since it didn't work, I tried constructing my own response and return it to client (this is an API call).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String error = \"Expired or invalid JWT token\";\nApiError errorResponse = new ApiError(new Date(),500, HttpStatus.INTERNAL_SERVER_ERROR, error, ex.getLocalizedMessage(), httpServletRequest.getRequestURL().toString());\nhttpServletResponse.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\nhttpServletResponse.getWriter().write(convertObjectToJson(errorResponse));\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>private String convertObjectToJson(Object object) throws JsonProcessingException {\n        if (object == null) {\n            return null;\n        }\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.writeValueAsString(object);\n}\n</code></pre>\n\n<p>This works, but I had to construct it using string and then convert it to JSON. I want to just use the sendError method. Can someone help me figure out why the response body is always empty? The status code of the empty body response (when using sendError) is 403.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1605188011,"post_id":64804837,"comment_id":114578102,"body_markdown":"Reread the error message. Where is your Errors parameter declared? Does it satisfy what the error message says?","body":"Reread the error message. Where is your Errors parameter declared? Does it satisfy what the error message says?"},{"owner":{"account_id":18001860,"reputation":293,"user_id":13499542,"display_name":"Gabriel Pulga"},"score":0,"creation_date":1605188293,"post_id":64804837,"comment_id":114578225,"body_markdown":"@SotiriosDelimanolis My Errors parameter is declared within the input parameters from the allocate() function. I don&#39;t know what you mean, I used a very similar logic in building all my other controllers and they worked fine.","body":"@SotiriosDelimanolis My Errors parameter is declared within the input parameters from the allocate() function. I don&#39;t know what you mean, I used a very similar logic in building all my other controllers and they worked fine."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1605188416,"post_id":64804837,"comment_id":114578284,"body_markdown":"I’m talking about your transfer method.  Is the Errors parameter “declared immediately after the model attribute, the `@RequestBody` or the `@RequestPart` arguments”?","body":"I’m talking about your transfer method.  Is the Errors parameter “declared immediately after the model attribute, the <code>@RequestBody</code> or the <code>@RequestPart</code> arguments”?"},{"owner":{"account_id":18001860,"reputation":293,"user_id":13499542,"display_name":"Gabriel Pulga"},"score":0,"creation_date":1605189160,"post_id":64804837,"comment_id":114578653,"body_markdown":"I got it now, thank you. But now I&#39;m getting another type of error, it&#39;s saying that the &quot;code&quot; parameter is missing, I think from the servlet side.","body":"I got it now, thank you. But now I&#39;m getting another type of error, it&#39;s saying that the &quot;code&quot; parameter is missing, I think from the servlet side."}],"owner":{"account_id":18001860,"reputation":293,"user_id":13499542,"display_name":"Gabriel Pulga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676453080,"creation_date":1605187838,"question_id":64804837,"body_markdown":"Below is code from a controller that I&#39;m aiming to make sure it&#39;s receiving two input parameters (name and code) from a front-end interface.\r\n\r\nIt&#39;s a page that takes two parameters within a submit form, &quot;name&quot; and &quot;code&quot;.\r\n\r\n    @RequestMapping(method = RequestMethod.POST)\r\n        public String transfer(@RequestParam(name = &quot;name&quot;) String name,\r\n                             @RequestParam(name = &quot;code&quot;) String code,\r\n                             Errors errors, RedirectAttributes redirectAttributes) {\r\n            if (errors.hasErrors()) {\r\n                return &quot;htmlPageOne&quot;;\r\n            }\r\n    \r\n            try {\r\n                User userToBeTransferred = usersRepository.findByName(name);\r\n                userToBeTransferred.setTransferred(true);\r\n    \r\n                Region regionOfTransference = regionsRepository.findByCode(code);\r\n                regionOfTransference.setPopulationNumber(regionOfTransference.getPopulationNumber() + 1);\r\n    \r\n                userToBeTransferred.setRegion(regionOfTransference);\r\n    \r\n                usersRepository.save(userToBeTransferred);\r\n                regionsRepository.save(regionOfTransference);\r\n    \r\n                return &quot;redirect:/section/users/new&quot;;\r\n            } catch (IllegalArgumentException e) {\r\n                return &quot;htmlPageOne&quot;;\r\n            }\r\n        }\r\n\r\nThe front-page form :\r\n\r\n    &lt;form class=&quot;form-horizontal&quot; method=&quot;POST&quot; action=&quot;/section/users/new&quot; th:object=&quot;${user}&quot;&gt;\r\n    \r\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\r\n                    &lt;div class=&quot;form-group row&quot;&gt;\r\n                    &lt;label for=&quot;name&quot; class=&quot;col-form-label&quot;&gt;User name&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;*{name}&quot; name=&quot;name&quot;/&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;form-group row&quot;&gt;\r\n                    &lt;label for=&quot;code&quot; class=&quot;col-form-label&quot;&gt;Code&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;code&quot; th:field=&quot;*{region.code}&quot; name=&quot;code&quot;/&gt;&lt;/div&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary col-sm-6 &quot;&gt;Save&lt;/button&gt;\r\n            &lt;/form&gt;\r\n\r\nFor some reason, I&#39;m getting the following error after I click to submit the form :\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An Errors/BindingResult argument is expected to be declared immediately after the model attribute, the @RequestBody or the @RequestPart arguments to which they apply: public java.lang.String\r\n\r\nI&#39;m not sure if I&#39;m using the requestparams correctly, so maybe it&#39;s got something to do with this? I don&#39;t know, I&#39;ve been stuck on this for a few hours now, so would appreciate if someone could help me.","title":"BindingResult error from submitting a form with two request parameters","body":"<p>Below is code from a controller that I'm aiming to make sure it's receiving two input parameters (name and code) from a front-end interface.</p>\n<p>It's a page that takes two parameters within a submit form, &quot;name&quot; and &quot;code&quot;.</p>\n<pre><code>@RequestMapping(method = RequestMethod.POST)\n    public String transfer(@RequestParam(name = &quot;name&quot;) String name,\n                         @RequestParam(name = &quot;code&quot;) String code,\n                         Errors errors, RedirectAttributes redirectAttributes) {\n        if (errors.hasErrors()) {\n            return &quot;htmlPageOne&quot;;\n        }\n\n        try {\n            User userToBeTransferred = usersRepository.findByName(name);\n            userToBeTransferred.setTransferred(true);\n\n            Region regionOfTransference = regionsRepository.findByCode(code);\n            regionOfTransference.setPopulationNumber(regionOfTransference.getPopulationNumber() + 1);\n\n            userToBeTransferred.setRegion(regionOfTransference);\n\n            usersRepository.save(userToBeTransferred);\n            regionsRepository.save(regionOfTransference);\n\n            return &quot;redirect:/section/users/new&quot;;\n        } catch (IllegalArgumentException e) {\n            return &quot;htmlPageOne&quot;;\n        }\n    }\n</code></pre>\n<p>The front-page form :</p>\n<pre><code>&lt;form class=&quot;form-horizontal&quot; method=&quot;POST&quot; action=&quot;/section/users/new&quot; th:object=&quot;${user}&quot;&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label for=&quot;name&quot; class=&quot;col-form-label&quot;&gt;User name&lt;/label&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;*{name}&quot; name=&quot;name&quot;/&gt;&lt;/div&gt;\n            &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label for=&quot;code&quot; class=&quot;col-form-label&quot;&gt;Code&lt;/label&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;code&quot; th:field=&quot;*{region.code}&quot; name=&quot;code&quot;/&gt;&lt;/div&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary col-sm-6 &quot;&gt;Save&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>For some reason, I'm getting the following error after I click to submit the form :</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn Errors/BindingResult argument is expected to be declared immediately after the model attribute, the @RequestBody or the @RequestPart arguments to which they apply: public java.lang.String\n</code></pre>\n<p>I'm not sure if I'm using the requestparams correctly, so maybe it's got something to do with this? I don't know, I've been stuck on this for a few hours now, so would appreciate if someone could help me.</p>\n"},{"tags":["java","testing","lambda","junit"],"answers":[{"tags":[],"owner":{"account_id":13312895,"reputation":33,"user_id":9610377,"display_name":"Asel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676452769,"creation_date":1676452769,"answer_id":75457657,"question_id":75457230,"body_markdown":"Since you want to test the behavior of the listFiles method when it is passed a lambda expression as a parameter, you can create a mock object of the File class and set it up to return the expected array of files when the listFiles method is called with a lambda expression that matches the condition you want to test.\r\n\r\nPlease refer to the example test case using Mockito :\r\n\r\n    @Test\r\n        public void testListFiles() {\r\n            File[] expectedFiles = {new File(&quot;FILE_50020230215.txt&quot;), new File(&quot;FILE_50020230215.csv&quot;)};\r\n            File directory = mock(File.class);\r\n            when(directory.listFiles(any())).thenReturn(expectedFiles);\r\n            \r\n            File[] actualFiles = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_50020230215&quot;));\r\n            \r\n            assertEquals(expectedFiles.length, actualFiles.length);\r\n            for (int i = 0; i &lt; expectedFiles.length; i++) {\r\n                assertEquals(expectedFiles[i], actualFiles[i]);\r\n            }\r\n        }\r\n\r\n","title":"JUnit lambda expression","body":"<p>Since you want to test the behavior of the listFiles method when it is passed a lambda expression as a parameter, you can create a mock object of the File class and set it up to return the expected array of files when the listFiles method is called with a lambda expression that matches the condition you want to test.</p>\n<p>Please refer to the example test case using Mockito :</p>\n<pre><code>@Test\n    public void testListFiles() {\n        File[] expectedFiles = {new File(&quot;FILE_50020230215.txt&quot;), new File(&quot;FILE_50020230215.csv&quot;)};\n        File directory = mock(File.class);\n        when(directory.listFiles(any())).thenReturn(expectedFiles);\n        \n        File[] actualFiles = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_50020230215&quot;));\n        \n        assertEquals(expectedFiles.length, actualFiles.length);\n        for (int i = 0; i &lt; expectedFiles.length; i++) {\n            assertEquals(expectedFiles[i], actualFiles[i]);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676452769,"creation_date":1676450461,"question_id":75457230,"body_markdown":"Good morning,\r\nI need to make a test for a class which use the following method:\r\n\r\n    File[] files = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_500&quot;+date));\r\n\r\nTo test this part of code I have the following code:\r\n\r\n    when(directory.listFiles((dir,name)-&gt;name.startsWith(&quot;FILE_500&quot;))).thenReturn(files);\r\nBut IDE says &quot;Unnecessary stubbings detected&quot; because name.startsWith is never call on test.\r\n\r\nHow can I test this part of code?\r\n\r\nKind regards","title":"JUnit lambda expression","body":"<p>Good morning,\nI need to make a test for a class which use the following method:</p>\n<pre><code>File[] files = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_500&quot;+date));\n</code></pre>\n<p>To test this part of code I have the following code:</p>\n<pre><code>when(directory.listFiles((dir,name)-&gt;name.startsWith(&quot;FILE_500&quot;))).thenReturn(files);\n</code></pre>\n<p>But IDE says &quot;Unnecessary stubbings detected&quot; because name.startsWith is never call on test.</p>\n<p>How can I test this part of code?</p>\n<p>Kind regards</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676452438,"creation_date":1676452438,"answer_id":75457578,"question_id":75457528,"body_markdown":"Make sure that the DocumentRepository is being scanned by Spring component scanning. This can be done by adding the @ComponentScan annotation to your @SpringBootTest class.\r\nExample:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ComponentScan(basePackages = &quot;com.example.repository&quot;)\r\n    public class DocumentServiceTest {\r\n    \r\n        @Autowired\r\n        protected DocumentRepositoryTest documentRepositoryTest;\r\n    \r\n        @Test\r\n        void testQuery() {\r\n            Object o = documentRepositoryTest.runQuery(2);\r\n        }\r\n    }","title":"Junit basic test for native query not working properly","body":"<p>Make sure that the DocumentRepository is being scanned by Spring component scanning. This can be done by adding the @ComponentScan annotation to your @SpringBootTest class.\nExample:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ComponentScan(basePackages = &quot;com.example.repository&quot;)\npublic class DocumentServiceTest {\n\n    @Autowired\n    protected DocumentRepositoryTest documentRepositoryTest;\n\n    @Test\n    void testQuery() {\n        Object o = documentRepositoryTest.runQuery(2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75457578,"answer_count":1,"score":0,"last_activity_date":1676452438,"creation_date":1676452162,"question_id":75457528,"body_markdown":"I&#39;m trying to test in SpringBoot application using JUnit some query and I&#39;m getting this error:\r\n\r\n    NoSuchBeanDefinitionException: No qualifying bean of type DocumentRepositoryTest\r\n\r\n```java\r\n@Repository\r\npublic interface DocumentRepositoryTest extends DocumentRepository {\r\n\r\n\t@Query(&quot;SELECT * &quot; +\r\n\t\t\t&quot;FROM document d&quot; +\r\n\t\t\t&quot;WHERE d.id = :id&quot;)\r\n\tObject runQuery(@NonNull Integer id);\r\n}\r\n\r\n@SpringBootTest\r\npublic class DocumentServiceTest {\r\n\r\n\t@Autowired\r\n\tprotected DocumentRepositoryTest documentRepositoryTest;\r\n\r\n\t@Test\r\n\tvoid testQuery() {\r\n\t\tObject o = documentRepositoryTest.runQuery(2);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI cant understand why I have this issue ?","title":"Junit basic test for native query not working properly","body":"<p>I'm trying to test in SpringBoot application using JUnit some query and I'm getting this error:</p>\n<pre><code>NoSuchBeanDefinitionException: No qualifying bean of type DocumentRepositoryTest\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface DocumentRepositoryTest extends DocumentRepository {\n\n    @Query(&quot;SELECT * &quot; +\n            &quot;FROM document d&quot; +\n            &quot;WHERE d.id = :id&quot;)\n    Object runQuery(@NonNull Integer id);\n}\n\n@SpringBootTest\npublic class DocumentServiceTest {\n\n    @Autowired\n    protected DocumentRepositoryTest documentRepositoryTest;\n\n    @Test\n    void testQuery() {\n        Object o = documentRepositoryTest.runQuery(2);\n    }\n}\n\n</code></pre>\n<p>I cant understand why I have this issue ?</p>\n"},{"tags":["java","spring","soap","wsdl","spring-ws"],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676452417,"creation_date":1676452417,"question_id":75457570,"body_markdown":"I am trying to rewrite existing service from Axis 1 to Spring WS. I have been looking at a lot of examples and simple tutorials but none of them uses multiple parts in input message of SOAP operation.\r\n\r\nDoes Spring WS allow binding multiple `wsdl:part`s to a function parameters in `@Endpoint` class? If it does, how?\r\n\r\nMy input message looks like this:\r\n\r\n\t&lt;wsdl:message name=&quot;getMetricDataRequest&quot;&gt;\r\n\t\t&lt;wsdl:part name=&quot;agent&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t&lt;wsdl:part name=&quot;metric&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t&lt;wsdl:part name=&quot;startTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t\t&lt;wsdl:part name=&quot;endTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t&lt;/wsdl:message&gt;","title":"Multiple wsdl:part elements in input message of SOAP operation","body":"<p>I am trying to rewrite existing service from Axis 1 to Spring WS. I have been looking at a lot of examples and simple tutorials but none of them uses multiple parts in input message of SOAP operation.</p>\n<p>Does Spring WS allow binding multiple <code>wsdl:part</code>s to a function parameters in <code>@Endpoint</code> class? If it does, how?</p>\n<p>My input message looks like this:</p>\n<pre><code>&lt;wsdl:message name=&quot;getMetricDataRequest&quot;&gt;\n    &lt;wsdl:part name=&quot;agent&quot; type=&quot;xsd:string&quot;/&gt;\n    &lt;wsdl:part name=&quot;metric&quot; type=&quot;xsd:string&quot;/&gt;\n    &lt;wsdl:part name=&quot;startTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\n    &lt;wsdl:part name=&quot;endTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\n&lt;/wsdl:message&gt;\n</code></pre>\n"},{"tags":["java","jpa","junit","query-by-example"],"owner":{"account_id":16221088,"reputation":45,"user_id":11712609,"display_name":"momo1108"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676451625,"creation_date":1676355777,"question_id":75444141,"body_markdown":"I&#39;m testing my jpa codes with junit, which using ExampleMatcher.\r\n\r\nThis code should **filter users with email by matching end of it.**\r\n\r\n#### Here&#39;s my code about domain object(User)\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Entity\r\n@Table(name = &quot;myuser&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private long id;\r\n\r\n    @NonNull\r\n    private String name;\r\n\r\n    @NonNull\r\n    private String email;\r\n\r\n    private LocalDateTime createdAt;\r\n\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\n#### And I tested filtering with my code below.\r\n```java\r\n@Test\r\nvoid crud7(){\r\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\r\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\r\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\r\n    ExampleMatcher matcher = ExampleMatcher.matching()\r\n            .withIgnorePaths(&quot;name&quot;)\r\n            .withMatcher(&quot;email&quot;, endsWith());\r\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\r\n\r\n    userRepository.findAll(example).forEach(System.out::println);\r\n}\r\n```\r\n\r\nI thought this code would work fine, but no matching data was found.\r\n\r\nI&#39;ve also made sure that three user data are properly been saved.\r\n\r\n#### Also, I found that Hibernate log contains code about matching primary key in query.\r\n\r\n```mysql\r\nHibernate: \r\n    select\r\n        u1_0.id,\r\n        u1_0.created_at,\r\n        u1_0.email,\r\n        u1_0.name,\r\n        u1_0.updated_at \r\n    from\r\n        myuser u1_0 \r\n    where\r\n        u1_0.id=? \r\n        and u1_0.email like ? escape &#39;\\&#39;\r\n```\r\n\r\n---\r\n\r\n##### I don&#39;t know why that happened, but when I fix my filtering code like below, it works fine as I want.\r\nI added code to ignore primary key (`.withIgnorePaths(&quot;id&quot;)`)\r\n```java\r\n@Test\r\nvoid crud7(){\r\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\r\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\r\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\r\n    ExampleMatcher matcher = ExampleMatcher.matching()\r\n            .withIgnorePaths(&quot;name&quot;)\r\n            .withIgnorePaths(&quot;id&quot;)\r\n            .withMatcher(&quot;email&quot;, endsWith());\r\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\r\n\r\n    userRepository.findAll(example).forEach(System.out::println);\r\n}\r\n```\r\n\r\nSo, does ExampleMatcher works with primary key by default, or am I missing something?\r\n\r\nFYI) Release Version\r\n```gradle\r\nid &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\ncom.h2database:h2:2.1.214\r\n```\r\n","title":"Does ExampleMatcher match primarykey by default?","body":"<p>I'm testing my jpa codes with junit, which using ExampleMatcher.</p>\n<p>This code should <strong>filter users with email by matching end of it.</strong></p>\n<h4>Here's my code about domain object(User)</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;myuser&quot;)\npublic class User {\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @NonNull\n    private String name;\n\n    @NonNull\n    private String email;\n\n    private LocalDateTime createdAt;\n\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<h4>And I tested filtering with my code below.</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid crud7(){\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\n    ExampleMatcher matcher = ExampleMatcher.matching()\n            .withIgnorePaths(&quot;name&quot;)\n            .withMatcher(&quot;email&quot;, endsWith());\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\n\n    userRepository.findAll(example).forEach(System.out::println);\n}\n</code></pre>\n<p>I thought this code would work fine, but no matching data was found.</p>\n<p>I've also made sure that three user data are properly been saved.</p>\n<h4>Also, I found that Hibernate log contains code about matching primary key in query.</h4>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    select\n        u1_0.id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.updated_at \n    from\n        myuser u1_0 \n    where\n        u1_0.id=? \n        and u1_0.email like ? escape '\\'\n</code></pre>\n<hr />\n<h5>I don't know why that happened, but when I fix my filtering code like below, it works fine as I want.</h5>\n<p>I added code to ignore primary key (<code>.withIgnorePaths(&quot;id&quot;)</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid crud7(){\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\n    ExampleMatcher matcher = ExampleMatcher.matching()\n            .withIgnorePaths(&quot;name&quot;)\n            .withIgnorePaths(&quot;id&quot;)\n            .withMatcher(&quot;email&quot;, endsWith());\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\n\n    userRepository.findAll(example).forEach(System.out::println);\n}\n</code></pre>\n<p>So, does ExampleMatcher works with primary key by default, or am I missing something?</p>\n<p>FYI) Release Version</p>\n<pre><code>id 'org.springframework.boot' version '3.0.2'\ncom.h2database:h2:2.1.214\n</code></pre>\n"},{"tags":["java","spring-boot","service","annotations","repository"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1676415985,"post_id":75453427,"comment_id":133132000,"body_markdown":"Can you provide the reference of &#39;---myprojectpath---&#39; ?\nLooks like there is reference of ---myprojectpath--- somewhere in your MyRepository","body":"Can you provide the reference of &#39;---myprojectpath---&#39; ? Looks like there is reference of ---myprojectpath--- somewhere in your MyRepository"}],"answers":[{"tags":[],"owner":{"account_id":11173409,"reputation":1641,"user_id":8199738,"display_name":"Arun Kumar N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676437547,"creation_date":1676437547,"answer_id":75455678,"question_id":75453427,"body_markdown":"No major mistakes in your code. Just use the naming standards(camelCase) properly for your objects. Here is the working code with the proper naming of variables.\r\n\r\n**MyServiceImpl.java**\r\n\r\n    @Service\r\n    @Transactional(readOnly = false)\r\n    public class MyServiceImpl implements MyService{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\r\n    \r\n        @Autowired\r\n        private MyRepository myRepository ;\r\n    \r\n        public List&lt;Data&gt; getDatasBean() throws Exception {\r\n            LOGGER.info(String.format(&quot;looking for datas&quot;));\r\n            try {\r\n                return myRepository.getAllDatas();\r\n            } catch (NoResultException e) {\r\n                return null;\r\n            } catch (IllegalStateException | IllegalArgumentException e) {\r\n                throw new Exception(e);\r\n                //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\r\n            }\r\n        }\r\n    }\r\n\r\n**Mycontroller.java**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/Mycontroller&quot;)\r\n    public class Mycontroller{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        @Autowired\r\n        private MyService myService ;\r\n    \r\n        @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\r\n        public ResponseEntity getDatas() {\r\n            try {\r\n                List responseEntity = new ArrayList();\r\n                List&lt;Data&gt; datas= myService.getDatasBean();\r\n    \r\n            } catch (Exception e) {\r\n            }\r\n            ..........\r\n        }\r\n    }","title":"My springBoot project can&#39;t autowire his services with the repositories","body":"<p>No major mistakes in your code. Just use the naming standards(camelCase) properly for your objects. Here is the working code with the proper naming of variables.</p>\n<p><strong>MyServiceImpl.java</strong></p>\n<pre><code>@Service\n@Transactional(readOnly = false)\npublic class MyServiceImpl implements MyService{\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\n\n    @Autowired\n    private MyRepository myRepository ;\n\n    public List&lt;Data&gt; getDatasBean() throws Exception {\n        LOGGER.info(String.format(&quot;looking for datas&quot;));\n        try {\n            return myRepository.getAllDatas();\n        } catch (NoResultException e) {\n            return null;\n        } catch (IllegalStateException | IllegalArgumentException e) {\n            throw new Exception(e);\n            //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\n        }\n    }\n}\n</code></pre>\n<p><strong>Mycontroller.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/Mycontroller&quot;)\npublic class Mycontroller{\n    private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\n    ObjectMapper mapper = new ObjectMapper();\n    @Autowired\n    private MyService myService ;\n\n    @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity getDatas() {\n        try {\n            List responseEntity = new ArrayList();\n            List&lt;Data&gt; datas= myService.getDatasBean();\n\n        } catch (Exception e) {\n        }\n        ..........\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23609072,"reputation":21,"user_id":17644344,"display_name":"pietro99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676451617,"creation_date":1676409999,"question_id":75453427,"body_markdown":"As i said in the title i have a springboot project and i&#39;m trying to run it, but when i try to start a clean install using maven i get an error during the test :\r\n\r\n&gt; `Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.805 s &lt;&lt;&lt; FAILURE! - in ---myprojectpath---`\r\n&gt; `contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!`\r\n&gt; `java.lang.IllegalStateException: Failed to load ApplicationContext`\r\n&gt; `Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myController&#39;: Unsatisfied dependency expressed through field &#39;myService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;myRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;---myprojectpath---&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n&gt; `Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;myRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;---myprojectpath---&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n&gt; `Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;---myprojectpath---&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n\r\nif i ignore this error during the build of mav`your text`en i still get a different error when i try tu run my app, i hope that resolving this error ill&#39; be finally able to solve everything.\r\n\r\nAnyways here is a part of  my controller:\r\n\r\n```\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/Mycontroller&quot;)\r\n    public class Mycontroller{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        @Autowired\r\n        private MyService MyService ;\r\n    \r\n        @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\r\n        public ResponseEntity getDatas() {\r\n            try {\r\n                DataList responseEntity = new DataList ();\r\n                List&lt;Data&gt; datas= MyService.getDatasBean();\r\n                ..........\r\n    \r\n            } catch (Exception e) {\r\n                ..........\r\n            }\r\n    \r\n        }\r\n    }\r\n```\r\n\r\nhere is my service:\r\n\r\n```\r\n\r\n    public interface MyService {\r\n    \r\n        List&lt;Data&gt; getDatasBean() throws Exception;\r\n    }\r\n```\r\n\r\nhere is the implementation of my service\r\n\r\n```\r\n    import org.slf4j.Logger;import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import javax.persistence.NoResultException;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @Transactional(readOnly = false)\r\n    public class MyServiceImpl implements MyService{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\r\n    \r\n        @Autowired\r\n        private MyRepository MyRepository ;\r\n    \r\n        public List&lt;Data&gt; getDatasBean() throws Exception {\r\n            LOGGER.info(String.format(&quot;looking for datas&quot;));\r\n            try {\r\n                return MyRepository.getAllDatas();\r\n            } catch (NoResultException e) {\r\n                return null;\r\n            } catch (IllegalStateException | IllegalArgumentException e) {\r\n                throw new Exception(e);\r\n                //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nhere is the repository:\r\n\r\n```\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface MyRepository extends CrudRepository&lt;Data, Long&gt; {\r\n        @Query(&quot;SELECT a &quot; +&quot;FROM Data a &quot;)\r\n        List&lt;Data&gt; getAllDatas();\r\n    }\r\n```\r\n\r\nas you can read in the log the error is when i bind Myserviceimpl with MyRepository... but i don&#39;t understand what i did wrong.... here is my pom.xml:\r\n\r\n```\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven 4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.1&lt;/version&gt;\r\n                &lt;relativePath/&gt;\r\n                &lt;!-- lookup parent from repository --&gt;\r\n            &lt;/parent&gt;\r\n        \r\n            &lt;artifactId&gt;Myproject-jpa&lt;/artifactId&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;name&gt;Myproject-jpa&lt;/name&gt;\r\n        \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                    &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.12.4&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.3.14&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n        \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.6.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;11&lt;/source&gt;\r\n                            &lt;target&gt;11&lt;/target&gt;\r\n                            &lt;annotationProcessorPaths&gt;\r\n                                &lt;path&gt;\r\n                                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n                                &lt;/path&gt;\r\n                            &lt;/annotationProcessorPaths&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/project&gt;\r\n```\r\n\r\nany help is appreciated, thanks :)\r\n\r\nI tried to run the various maven steps (clean,validate,compile,test,package,verify,install) but i got the error that i already pasted, and i tryed to run anyway my application but i get a different error(i think that this last error can be resolvedjust resolving the error that comes up during the test).\r\ni tryed to change the dependencies in the pom.xml but honestly i still don&#39;t understand it at all.","title":"My springBoot project can&#39;t autowire his services with the repositories","body":"<p>As i said in the title i have a springboot project and i'm trying to run it, but when i try to start a clean install using maven i get an error during the test :</p>\n<blockquote>\n<p><code>Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.805 s &lt;&lt;&lt; FAILURE! - in ---myprojectpath---</code>\n<code>contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!</code>\n<code>java.lang.IllegalStateException: Failed to load ApplicationContext</code>\n<code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myController': Unsatisfied dependency expressed through field 'myService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'myRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '---myprojectpath---' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code>\n<code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'myRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '---myprojectpath---' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code>\n<code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '---myprojectpath---' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code></p>\n</blockquote>\n<p>if i ignore this error during the build of mav<code>your text</code>en i still get a different error when i try tu run my app, i hope that resolving this error ill' be finally able to solve everything.</p>\n<p>Anyways here is a part of  my controller:</p>\n<pre><code>    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    import org.springframework.http.ResponseEntity;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    \n    import java.util.List;\n    \n    @RestController\n    @RequestMapping(&quot;/Mycontroller&quot;)\n    public class Mycontroller{\n        private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\n        ObjectMapper mapper = new ObjectMapper();\n        @Autowired\n        private MyService MyService ;\n    \n        @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\n        public ResponseEntity getDatas() {\n            try {\n                DataList responseEntity = new DataList ();\n                List&lt;Data&gt; datas= MyService.getDatasBean();\n                ..........\n    \n            } catch (Exception e) {\n                ..........\n            }\n    \n        }\n    }\n</code></pre>\n<p>here is my service:</p>\n<pre><code>\n    public interface MyService {\n    \n        List&lt;Data&gt; getDatasBean() throws Exception;\n    }\n</code></pre>\n<p>here is the implementation of my service</p>\n<pre><code>    import org.slf4j.Logger;import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n    import org.springframework.transaction.annotation.Transactional;\n    import javax.persistence.NoResultException;\n    import java.util.List;\n    \n    @Service\n    @Transactional(readOnly = false)\n    public class MyServiceImpl implements MyService{\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\n    \n        @Autowired\n        private MyRepository MyRepository ;\n    \n        public List&lt;Data&gt; getDatasBean() throws Exception {\n            LOGGER.info(String.format(&quot;looking for datas&quot;));\n            try {\n                return MyRepository.getAllDatas();\n            } catch (NoResultException e) {\n                return null;\n            } catch (IllegalStateException | IllegalArgumentException e) {\n                throw new Exception(e);\n                //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\n            }\n        }\n    }\n</code></pre>\n<p>here is the repository:</p>\n<pre><code>    import org.springframework.data.jpa.repository.Query;\n    import org.springframework.data.repository.CrudRepository;\n    import org.springframework.data.repository.query.Param;\n    import org.springframework.stereotype.Repository;\n    \n    import java.util.List;\n    \n    @Repository\n    public interface MyRepository extends CrudRepository&lt;Data, Long&gt; {\n        @Query(&quot;SELECT a &quot; +&quot;FROM Data a &quot;)\n        List&lt;Data&gt; getAllDatas();\n    }\n</code></pre>\n<p>as you can read in the log the error is when i bind Myserviceimpl with MyRepository... but i don't understand what i did wrong.... here is my pom.xml:</p>\n<pre><code>        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven 4.0.0.xsd&quot;&gt;\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        \n            &lt;parent&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;2.7.1&lt;/version&gt;\n                &lt;relativePath/&gt;\n                &lt;!-- lookup parent from repository --&gt;\n            &lt;/parent&gt;\n        \n            &lt;artifactId&gt;Myproject-jpa&lt;/artifactId&gt;\n            &lt;packaging&gt;jar&lt;/packaging&gt;\n            &lt;name&gt;Myproject-jpa&lt;/name&gt;\n        \n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n                    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                    &lt;version&gt;2.12.4&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/dependency&gt;\n        \n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n                    &lt;version&gt;5.3.14&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                    &lt;version&gt;2.2.3&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        \n            &lt;build&gt;\n                &lt;plugins&gt;\n        \n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.6.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;11&lt;/source&gt;\n                            &lt;target&gt;11&lt;/target&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;path&gt;\n                                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                                &lt;/path&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/project&gt;\n</code></pre>\n<p>any help is appreciated, thanks :)</p>\n<p>I tried to run the various maven steps (clean,validate,compile,test,package,verify,install) but i got the error that i already pasted, and i tryed to run anyway my application but i get a different error(i think that this last error can be resolvedjust resolving the error that comes up during the test).\ni tryed to change the dependencies in the pom.xml but honestly i still don't understand it at all.</p>\n"},{"tags":["java","spring","exception","iterator","azure-cosmosdb"],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676451357,"creation_date":1676397638,"question_id":75451586,"body_markdown":"I have a requirement of using a java model which will have couple of attributes but some of them will have values and some of them will not have and this is not fixed. For example if it has 4 attribute 3 may have values while passing it to the controller method or it may so happen 2 of them will have values but then rest of the attributes will be null. So to handle this i choose to use Query by example of spring , but i am getting \r\n\r\n    java.lang.IllegalArgumentException : &quot;Should not reach the end of iterator&quot;\r\n\r\nI am trying to fetch data from a Azure CosmosDB. Below is the code i have used \r\n\r\n    ExampleMatcher macther = ExampleMatcher.matching().withIgnoreNullValues();\r\n    Example&lt;RequestModel&gt; exampleQ = Example.of(new RequestModel(\r\n    req.getEmp(), // these are the attributes which can have alternatively values or can be empty \r\n    req.getBase(),\r\n    req.getSeat(),\r\n    req.getRent()\r\n    ),matcher);\r\n\r\n    sampleRepo.findByEmpOrBaseOrSeatOrRent(exampleQ ); // here i am getting the exception\r\n\r\nThe Repository\r\n   \r\n    public interface SampleRepo extends CosmosRepository&lt;TableA,String&gt;,BaseContainerRepo{\r\n    } \r\n\r\nThe container\r\n      \r\n     @Container(containerName= &quot;${container-tableA}&quot;)\r\n      public class TableA extends BaseContainer{\r\n      }\r\n\r\nBase model class \r\n\r\n    public class BaseContainer{\r\n     @Id\r\n     private String id;\r\n     private Inetger emp;\r\n     @PartitionKey\r\n     private String key;\r\n     private String base;\r\n     private String eqp;\r\n    }\r\n\r\n\r\n  The base container repo\r\n\r\n    public interface BaseContainerRepo{\r\n    List&lt;BaseContainer&gt; findByEmpOrBaseOrSeatOrRent(Example&lt;RequestModel&gt; exampleQ);\r\n    }\r\n\r\nCan anyone please let me know where i am doing it wrong .\r\n","title":"How to resolve &quot;Should not reach the end of iterator&quot; while trying to use Query by example of Spring for Cosmos DB","body":"<p>I have a requirement of using a java model which will have couple of attributes but some of them will have values and some of them will not have and this is not fixed. For example if it has 4 attribute 3 may have values while passing it to the controller method or it may so happen 2 of them will have values but then rest of the attributes will be null. So to handle this i choose to use Query by example of spring , but i am getting</p>\n<pre><code>java.lang.IllegalArgumentException : &quot;Should not reach the end of iterator&quot;\n</code></pre>\n<p>I am trying to fetch data from a Azure CosmosDB. Below is the code i have used</p>\n<pre><code>ExampleMatcher macther = ExampleMatcher.matching().withIgnoreNullValues();\nExample&lt;RequestModel&gt; exampleQ = Example.of(new RequestModel(\nreq.getEmp(), // these are the attributes which can have alternatively values or can be empty \nreq.getBase(),\nreq.getSeat(),\nreq.getRent()\n),matcher);\n\nsampleRepo.findByEmpOrBaseOrSeatOrRent(exampleQ ); // here i am getting the exception\n</code></pre>\n<p>The Repository</p>\n<pre><code>public interface SampleRepo extends CosmosRepository&lt;TableA,String&gt;,BaseContainerRepo{\n} \n</code></pre>\n<p>The container</p>\n<pre><code> @Container(containerName= &quot;${container-tableA}&quot;)\n  public class TableA extends BaseContainer{\n  }\n</code></pre>\n<p>Base model class</p>\n<pre><code>public class BaseContainer{\n @Id\n private String id;\n private Inetger emp;\n @PartitionKey\n private String key;\n private String base;\n private String eqp;\n}\n</code></pre>\n<p>The base container repo</p>\n<pre><code>public interface BaseContainerRepo{\nList&lt;BaseContainer&gt; findByEmpOrBaseOrSeatOrRent(Example&lt;RequestModel&gt; exampleQ);\n}\n</code></pre>\n<p>Can anyone please let me know where i am doing it wrong .</p>\n"},{"tags":["java","android","button"],"answers":[{"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676451201,"creation_date":1676451201,"answer_id":75457354,"question_id":75451139,"body_markdown":"You are missing `else` branch in `sendSMSMessage`, so you are not sending SMS if `SEND_SMS` permission is already granted. You are also not doing anything if you need to show permission rationale, which results in a broken experience.\r\n\r\nOverall I would suggest to read carefully the [docs on requesting permissions][1]. It explains both your approach with `onRequestPermissionsResult` as well as the new recommended way of using `ActivityResultContracts`.\r\n\r\nWithout rewriting your code to the contracts I would fix it like this:\r\n```\r\nprotected void sendSMSMessage() {\r\n    if (ContextCompat.checkSelfPermission(this,\r\n            Manifest.permission.SEND_SMS)\r\n            != PackageManager.PERMISSION_GRANTED) {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                Manifest.permission.SEND_SMS)) {\r\n            // fixme: show explanation \r\n            // before requesting the permission again\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.SEND_SMS},\r\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n        } else {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.SEND_SMS},\r\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n        }\r\n    } else {\r\n        sendSmsImpl();\r\n    }\r\n}\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n    switch (requestCode) {\r\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n            if (grantResults.length &gt; 0\r\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                sendSmsImpl();\r\n            } else {\r\n                // fixme: explain that it can&#39;t send SMS without the permission\r\n                Toast.makeText(getApplicationContext(),\r\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            // !!! NOTE: you still need break inside switch/case\r\n            // even with curly braces\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\nprivate void sendSmsImpl() {\r\n    SmsManager smsManager = SmsManager.getDefault();\r\n    smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\r\n    //todo: use sentIntent argument of sendTextMessage to detect success/error\r\n    Toast.makeText(getApplicationContext(),\r\n        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#request-permission","title":"Why my button work juste one time ? - Android studio","body":"<p>You are missing <code>else</code> branch in <code>sendSMSMessage</code>, so you are not sending SMS if <code>SEND_SMS</code> permission is already granted. You are also not doing anything if you need to show permission rationale, which results in a broken experience.</p>\n<p>Overall I would suggest to read carefully the <a href=\"https://developer.android.com/training/permissions/requesting#request-permission\" rel=\"nofollow noreferrer\">docs on requesting permissions</a>. It explains both your approach with <code>onRequestPermissionsResult</code> as well as the new recommended way of using <code>ActivityResultContracts</code>.</p>\n<p>Without rewriting your code to the contracts I would fix it like this:</p>\n<pre><code>protected void sendSMSMessage() {\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n            // fixme: show explanation \n            // before requesting the permission again\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    } else {\n        sendSmsImpl();\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                sendSmsImpl();\n            } else {\n                // fixme: explain that it can't send SMS without the permission\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n            // !!! NOTE: you still need break inside switch/case\n            // even with curly braces\n            break;\n        }\n    }\n}\n\nprivate void sendSmsImpl() {\n    SmsManager smsManager = SmsManager.getDefault();\n    smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\n    //todo: use sentIntent argument of sendTextMessage to detect success/error\n    Toast.makeText(getApplicationContext(),\n        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"}],"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676451201,"creation_date":1676394701,"question_id":75451139,"body_markdown":"I am trying tp send sms by clicking a button bt this button is working juste one time.\r\nAnd i don&#39;t know how I can get it so the button can be pressed an infinite amount of time.\r\nCan you please help me to fix that.\r\nthis is my code :\r\n\r\n    Button sendBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n\r\n        sendBtn = (Button) findViewById(R.id.btnSendSMS);\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                sendSMSMessage();\r\n            }\r\n        });\r\n\r\n    }\r\n    protected void sendSMSMessage() {\r\n\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.SEND_SMS)) {\r\n            } else {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    SmsManager smsManager = SmsManager.getDefault();\r\n                    smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Why my button work juste one time ? - Android studio","body":"<p>I am trying tp send sms by clicking a button bt this button is working juste one time.\nAnd i don't know how I can get it so the button can be pressed an infinite amount of time.\nCan you please help me to fix that.\nthis is my code :</p>\n<pre><code>Button sendBtn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n\n\n    sendBtn = (Button) findViewById(R.id.btnSendSMS);\n    sendBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            sendSMSMessage();\n        }\n    });\n\n}\nprotected void sendSMSMessage() {\n\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                SmsManager smsManager = SmsManager.getDefault();\n                smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jetty","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1471335842,"creation_date":1471162669,"answer_id":38940413,"question_id":38940330,"body_markdown":"When you do  `jettyServer.destroy()` , you request to Destroy \r\n\r\n&gt; the managed Destroyable beans in the reverse order they were added\r\n\r\nAnd this code is performed as soon as the server has finished his start :\r\n\r\n     jettyServer.join();\r\n\r\n\r\nSo, you should remove the block :\r\n\r\n     finally {\r\n          jettyServer.destroy();\r\n        }\r\nbecause I imagine that you want that your server goes on working after its startup.\r\n\r\nI guess from the message \r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: !STOPPED\r\n\r\nthat you should use`jettyServer.destroy()` only after stopping it and I suppose in two cases :\r\n\r\n- if any exception occurs during the server startup. \r\n- if you deliberately stopped the server.\r\n\r\nIf any exception occurs during the server startup, you could try something like that :\r\n\r\n      try {\r\n          jettyServer.start();\r\n          jettyServer.join();\r\n        } catch (Exception e){\r\n            logger.errror(&quot;error during server starting&quot;,e)\r\n            jettyServer.stop();\r\n            jettyServer.destroy();\r\n        }","title":"Embedded jetty. java.lang.IllegalStateException: !STOPPED","body":"<p>When you do  <code>jettyServer.destroy()</code> , you request to Destroy </p>\n\n<blockquote>\n  <p>the managed Destroyable beans in the reverse order they were added</p>\n</blockquote>\n\n<p>And this code is performed as soon as the server has finished his start :</p>\n\n<pre><code> jettyServer.join();\n</code></pre>\n\n<p>So, you should remove the block :</p>\n\n<pre><code> finally {\n      jettyServer.destroy();\n    }\n</code></pre>\n\n<p>because I imagine that you want that your server goes on working after its startup.</p>\n\n<p>I guess from the message </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: !STOPPED</p>\n</blockquote>\n\n<p>that you should use<code>jettyServer.destroy()</code> only after stopping it and I suppose in two cases :</p>\n\n<ul>\n<li>if any exception occurs during the server startup. </li>\n<li>if you deliberately stopped the server.</li>\n</ul>\n\n<p>If any exception occurs during the server startup, you could try something like that :</p>\n\n<pre><code>  try {\n      jettyServer.start();\n      jettyServer.join();\n    } catch (Exception e){\n        logger.errror(\"error during server starting\",e)\n        jettyServer.stop();\n        jettyServer.destroy();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117925,"reputation":4564,"user_id":308578,"accept_rate":88,"display_name":"saber tabatabaee yazdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676450930,"creation_date":1676450930,"answer_id":75457300,"question_id":38940330,"body_markdown":"in my case. jersey error solved by these steps:\r\n\r\n 1. mvn clean install \r\n 2. mvn build \r\n 3. cd ./target\r\n 4. java -jar  YOURPROJECT.jarfile\r\n\r\n \r\n \r\n\r\n\r\neverything ok after those steps","title":"Embedded jetty. java.lang.IllegalStateException: !STOPPED","body":"<p>in my case. jersey error solved by these steps:</p>\n<ol>\n<li>mvn clean install</li>\n<li>mvn build</li>\n<li>cd ./target</li>\n<li>java -jar  YOURPROJECT.jarfile</li>\n</ol>\n<p>everything ok after those steps</p>\n"}],"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5565,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38940413,"answer_count":2,"score":4,"last_activity_date":1676450930,"creation_date":1471161870,"question_id":38940330,"body_markdown":"I trying to make simple servlet in embedded jetty container.\r\nThis is my jetty configuration:\r\n\r\n    public class Application {\r\n      public static void main(String[] args) throws Exception {\r\n        //-Dport=8188\r\n        int port = 8188;\r\n        if(System.getProperty(&quot;port&quot;) != null) {\r\n          port = Integer.valueOf(System.getProperty(&quot;port&quot;));\r\n        }\r\n    \r\n        //-Dhost=&quot;127.0.0.1&quot;\r\n        String host = System.getProperty(&quot;host&quot;);\r\n        if(host == null || host.isEmpty()) {\r\n          host = &quot;127.0.0.1&quot;;\r\n        }\r\n    \r\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n        context.setContextPath(&quot;/&quot;);\r\n    \r\n        InetAddress address = InetAddress.getByName(host);\r\n        InetSocketAddress socketAddress = new InetSocketAddress(address, port);\r\n    \r\n        Server jettyServer = new Server(socketAddress);\r\n        jettyServer.setHandler(context);\r\n    \r\n        ServletHolder jerseyServlet = context.addServlet(org.glassfish.jersey.servlet.ServletContainer.class, &quot;/*&quot;);\r\n        jerseyServlet.setInitOrder(0);\r\n    \r\n        // Initializing servlet\r\n        jerseyServlet.setInitParameter(\r\n          &quot;jersey.config.server.provider.classnames&quot;,\r\n          Proxy.class.getCanonicalName()\r\n        );\r\n    \r\n        try {\r\n          jettyServer.start();\r\n          jettyServer.join();\r\n        } finally {\r\n          jettyServer.destroy();\r\n        }\r\n      }\r\n    }\r\n\r\nI add a simplest servlet, that does nothing. Just wrote some string to response:\r\n\r\n    public class Proxy extends HttpServlet {\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n            doRequest(request, response);\r\n        }\r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n            doRequest(request, response);\r\n        }\r\n    \r\n        private void doRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n           PrintWriter writer = response.getWriter();\r\n            writer.println(&quot;GOT IT!&quot;);\r\n        }\r\n    }\r\n\r\nWhen I start it, I get an error:\r\n\r\n    2016-08-14 10:53:42.338:INFO::main: Logging initialized @110ms\r\n    2016-08-14 10:53:47.404:INFO:oejs.Server:main: jetty-9.3.z-SNAPSHOT\r\n    2016-08-14 10:53:47.923:INFO:oejsh.ContextHandler:main: Started o.e.j.s.ServletContextHandler@8458f04{/,null,AVAILABLE}\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: !STOPPED\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.destroy(HandlerWrapper.java:135)\r\n    \tat ru.gridr.Application.main(Application.java:50)\r\n\r\nWhere is the mistake?\r\nMay be someone can show some simple example?\r\n","title":"Embedded jetty. java.lang.IllegalStateException: !STOPPED","body":"<p>I trying to make simple servlet in embedded jetty container.\nThis is my jetty configuration:</p>\n\n<pre><code>public class Application {\n  public static void main(String[] args) throws Exception {\n    //-Dport=8188\n    int port = 8188;\n    if(System.getProperty(\"port\") != null) {\n      port = Integer.valueOf(System.getProperty(\"port\"));\n    }\n\n    //-Dhost=\"127.0.0.1\"\n    String host = System.getProperty(\"host\");\n    if(host == null || host.isEmpty()) {\n      host = \"127.0.0.1\";\n    }\n\n    ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\n    context.setContextPath(\"/\");\n\n    InetAddress address = InetAddress.getByName(host);\n    InetSocketAddress socketAddress = new InetSocketAddress(address, port);\n\n    Server jettyServer = new Server(socketAddress);\n    jettyServer.setHandler(context);\n\n    ServletHolder jerseyServlet = context.addServlet(org.glassfish.jersey.servlet.ServletContainer.class, \"/*\");\n    jerseyServlet.setInitOrder(0);\n\n    // Initializing servlet\n    jerseyServlet.setInitParameter(\n      \"jersey.config.server.provider.classnames\",\n      Proxy.class.getCanonicalName()\n    );\n\n    try {\n      jettyServer.start();\n      jettyServer.join();\n    } finally {\n      jettyServer.destroy();\n    }\n  }\n}\n</code></pre>\n\n<p>I add a simplest servlet, that does nothing. Just wrote some string to response:</p>\n\n<pre><code>public class Proxy extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n        doRequest(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n        doRequest(request, response);\n    }\n\n    private void doRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\n       PrintWriter writer = response.getWriter();\n        writer.println(\"GOT IT!\");\n    }\n}\n</code></pre>\n\n<p>When I start it, I get an error:</p>\n\n<pre><code>2016-08-14 10:53:42.338:INFO::main: Logging initialized @110ms\n2016-08-14 10:53:47.404:INFO:oejs.Server:main: jetty-9.3.z-SNAPSHOT\n2016-08-14 10:53:47.923:INFO:oejsh.ContextHandler:main: Started o.e.j.s.ServletContextHandler@8458f04{/,null,AVAILABLE}\nException in thread \"main\" java.lang.IllegalStateException: !STOPPED\n    at org.eclipse.jetty.server.handler.HandlerWrapper.destroy(HandlerWrapper.java:135)\n    at ru.gridr.Application.main(Application.java:50)\n</code></pre>\n\n<p>Where is the mistake?\nMay be someone can show some simple example?</p>\n"},{"tags":["java","android","kotlin","android-widget"],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676450529,"creation_date":1676416108,"question_id":75454077,"body_markdown":"If the user drags a widget normally to the home screen, then the configuration activity is started (if set). If the activity returns a result code of ``RESULT_CANCELED``, then the widget creation is cancelled. \r\nThis is documented [here][1]. \r\n\r\nAlternativly, to add a widget from an activity, one can use ``AppWidgetManager.requestPinAppWidget()``.\r\nBut then the configuration activity is not started, and the program should explicitly start it, as documented [here][2].\r\n\r\nThis is my code that does it:\r\n```kotlin\r\nobject StartWidgetConfigureReceiver : BroadcastReceiver() {\r\n        const val ACTION_NEW_WIDGET = &quot;ACTION_NEW_WIDGET&quot;\r\n\r\n        override fun onReceive(context: Context?, intent: Intent?) {\r\n\r\n            Intent(context, MyWidgetConfigureActivity::class.java).apply {\r\n                action = ACTION_APPWIDGET_CONFIGURE\r\n                putExtras(intent)\r\n                context?.startActivity(this)\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n```kotlin\r\n   val appWidgetManager = AppWidgetManager.getInstance(context)\r\n   val myProvider = ComponentName(applicationContext, MyWidgetProvider::class.java)\r\n   val successIntent = PendingIntent.getBroadcast(applicationContext, 0, \r\n             Intent(StartWidgetConfigureReceiver.ACTION_NEW_WIDGET),\r\n             PendingIntent.FLAG_MUTABLE)\r\n   appWidgetManager.requestPinAppWidget(myProvider,null, successIntent)\r\n```\r\n\r\nBut how to cancel the widget if needed?\r\n\r\nAdding ``resultCode = Activity.RESULT_CANCELED`` in ``onReceive`` does not seem to do it.\r\n\r\n(I would need to wait for the result from the configuration activity, but that is not the question. Unless the way of starting the activity is relevant.)\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/appwidgets/configuration#update\r\n  [2]: https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)","title":"How to cancel a widget when creating by AppWidgetManager.requestPinAppWidget()?","body":"<p>If the user drags a widget normally to the home screen, then the configuration activity is started (if set). If the activity returns a result code of <code>RESULT_CANCELED</code>, then the widget creation is cancelled.\nThis is documented <a href=\"https://developer.android.com/develop/ui/views/appwidgets/configuration#update\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Alternativly, to add a widget from an activity, one can use <code>AppWidgetManager.requestPinAppWidget()</code>.\nBut then the configuration activity is not started, and the program should explicitly start it, as documented <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This is my code that does it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object StartWidgetConfigureReceiver : BroadcastReceiver() {\n        const val ACTION_NEW_WIDGET = &quot;ACTION_NEW_WIDGET&quot;\n\n        override fun onReceive(context: Context?, intent: Intent?) {\n\n            Intent(context, MyWidgetConfigureActivity::class.java).apply {\n                action = ACTION_APPWIDGET_CONFIGURE\n                putExtras(intent)\n                context?.startActivity(this)\n            }\n\n        }\n    }\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>   val appWidgetManager = AppWidgetManager.getInstance(context)\n   val myProvider = ComponentName(applicationContext, MyWidgetProvider::class.java)\n   val successIntent = PendingIntent.getBroadcast(applicationContext, 0, \n             Intent(StartWidgetConfigureReceiver.ACTION_NEW_WIDGET),\n             PendingIntent.FLAG_MUTABLE)\n   appWidgetManager.requestPinAppWidget(myProvider,null, successIntent)\n</code></pre>\n<p>But how to cancel the widget if needed?</p>\n<p>Adding <code>resultCode = Activity.RESULT_CANCELED</code> in <code>onReceive</code> does not seem to do it.</p>\n<p>(I would need to wait for the result from the configuration activity, but that is not the question. Unless the way of starting the activity is relevant.)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676482965,"post_id":75457225,"comment_id":133147423,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27790965,"reputation":1,"user_id":21217415,"display_name":"Banny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676450446,"creation_date":1676450446,"question_id":75457225,"body_markdown":"On the phone, wifi and data transfer (mobile Internet) are enabled at the same time. When connected to a websocket, it knocks on the mobile Internet. It is necessary that when connecting to a websocket from knocking on wifi\r\n\r\nI did not find such information","title":"how to send message to websocket via wifi connection with data transfer enabled(mobile internet) android java","body":"<p>On the phone, wifi and data transfer (mobile Internet) are enabled at the same time. When connected to a websocket, it knocks on the mobile Internet. It is necessary that when connecting to a websocket from knocking on wifi</p>\n<p>I did not find such information</p>\n"},{"tags":["java","rest","spotify"],"answers":[{"tags":[],"owner":{"account_id":3337625,"reputation":2422,"user_id":2804722,"display_name":"Marc Sances"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579596850,"creation_date":1579596850,"answer_id":59837309,"question_id":59837044,"body_markdown":"Try removing this line:\r\n\r\n```\r\nconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n````\r\n\r\nHTTP 406 Error is &quot;Not Acceptable&quot; meaning the server has generated a reply that it can&#39;t return as the requested Accept content type.","title":"spotify web api with java","body":"<p>Try removing this line:</p>\n\n<pre><code>conn.setRequestProperty(\"Accept\", \"application/json\");\n</code></pre>\n\n<p>HTTP 406 Error is \"Not Acceptable\" meaning the server has generated a reply that it can't return as the requested Accept content type.</p>\n"},{"tags":[],"owner":{"account_id":27791076,"reputation":1,"user_id":21217498,"display_name":"RishChopper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676450414,"creation_date":1676450414,"answer_id":75457217,"question_id":59837044,"body_markdown":"You are trying to open a webpage (HTML) via code and you set \r\n\r\n    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\nThis will not work for auth. You should open the link in the browser, let the user sign in and take the code from the redirect url.","title":"spotify web api with java","body":"<p>You are trying to open a webpage (HTML) via code and you set</p>\n<pre><code>conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>This will not work for auth. You should open the link in the browser, let the user sign in and take the code from the redirect url.</p>\n"}],"owner":{"account_id":284494,"reputation":1553,"user_id":582643,"accept_rate":74,"display_name":"sefiroths"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676450414,"creation_date":1579595828,"question_id":59837044,"body_markdown":"I want to make some searches in spotify database only for learning purpose of rest app.\r\nI&#39;m stuck on the first point of \r\nhttps://developer.spotify.com/documentation/general/guides/authorization-guide/ \r\nAuthorization Code Flow \r\nto login in spotify with java app:\r\n```\r\npackage spotify;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\n/*\r\n\t1) https://developer.spotify.com/dashboard/applications\r\n*/\r\n\r\npublic class SpotifyMain {\r\n\t\r\n\tstatic final String CLIENTID = &quot;blablablablablablablabla&quot;;\r\n\tstatic final String CLIENTSECRET = &quot;blablablablablablablabla&quot;;\r\n\tstatic final String REDIRECTURL = &quot;https://github.com/blablablablablablablabla&quot;; //whiltelisted set inside spotify\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tString url_auth = \r\n\t\t\t&quot;https://accounts.spotify.com/authorize?&quot;\r\n\t\t\t+ &quot;client_id=&quot;+CLIENTID+&quot;&amp;&quot;\r\n\t\t\t+ &quot;response_type=code&amp;&quot;\r\n\t\t\t+ &quot;redirect_uri=&quot;+REDIRECTURL+&quot;&amp;&quot;\r\n\t\t\t+ &quot;scope=user-read-private%20user-read-email&amp;&quot;\r\n\t\t\t+ &quot;state=34fFs29kd09&quot;;\r\n\t\t\t\r\n\t\t\tSystem.out.println(url_auth);\r\n\t\t\t\r\n            URL url = new URL(url_auth);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n            if (conn.getResponseCode() != 200) {\r\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + conn.getResponseCode());\r\n            }\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\r\n\r\n            String output;\r\n            System.out.println(&quot;Output from Server .... \\n&quot;);\r\n            while ((output = br.readLine()) != null) {\r\n                System.out.println(output);\r\n            }\r\n            conn.disconnect();\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI get error 406.\r\nThe url I think is correct because if I put that url inside a browser it displays correctly that the app want to access some resources.\r\nIf I put that url inside postman the error changes in 400 bad request...\r\nAm I missing something?\r\nthanks","title":"spotify web api with java","body":"<p>I want to make some searches in spotify database only for learning purpose of rest app.\nI'm stuck on the first point of \n<a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/\" rel=\"nofollow noreferrer\">https://developer.spotify.com/documentation/general/guides/authorization-guide/</a> \nAuthorization Code Flow \nto login in spotify with java app:</p>\n\n<pre><code>package spotify;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n/*\n    1) https://developer.spotify.com/dashboard/applications\n*/\n\npublic class SpotifyMain {\n\n    static final String CLIENTID = \"blablablablablablablabla\";\n    static final String CLIENTSECRET = \"blablablablablablablabla\";\n    static final String REDIRECTURL = \"https://github.com/blablablablablablablabla\"; //whiltelisted set inside spotify\n\n    public static void main(String[] args) {\n        try {\n            String url_auth = \n            \"https://accounts.spotify.com/authorize?\"\n            + \"client_id=\"+CLIENTID+\"&amp;\"\n            + \"response_type=code&amp;\"\n            + \"redirect_uri=\"+REDIRECTURL+\"&amp;\"\n            + \"scope=user-read-private%20user-read-email&amp;\"\n            + \"state=34fFs29kd09\";\n\n            System.out.println(url_auth);\n\n            URL url = new URL(url_auth);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(\"GET\");\n            conn.setRequestProperty(\"Accept\", \"application/json\");\n\n            if (conn.getResponseCode() != 200) {\n                throw new RuntimeException(\"Failed : HTTP error code : \" + conn.getResponseCode());\n            }\n\n            BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\n\n            String output;\n            System.out.println(\"Output from Server .... \\n\");\n            while ((output = br.readLine()) != null) {\n                System.out.println(output);\n            }\n            conn.disconnect();\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n\n<p>I get error 406.\nThe url I think is correct because if I put that url inside a browser it displays correctly that the app want to access some resources.\nIf I put that url inside postman the error changes in 400 bad request...\nAm I missing something?\nthanks</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13312895,"reputation":33,"user_id":9610377,"display_name":"Asel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676450408,"creation_date":1676450408,"answer_id":75457215,"question_id":75456874,"body_markdown":"Based on the information, it seems like you have a one-to-many relationship between ORDER and STATUS tables, where an ORDER can have multiple STATUS records.\r\n\r\nTo design your entities, you can create two classes: Order and Status. The Order class will have a collection of Status objects as a member variable to represent the one-to-many relationship. The Order class will also have attributes for OrderId and product, and the Status class will have attributes for statusCode, lastUpdatedBy, and lastUpdatedDateTime. You can then use JPA annotations to map these classes to the corresponding tables in the database.\r\n\r\nWhen you want to fetch order details with the latest status, you can use a query that joins the ORDER and STATUS tables and selects the top record from the STATUS table for each ORDER record.Check below example query \r\n\r\n        SELECT o.OrderId, o.product, s.statusCode, s.lastUpdatedBy\r\n    FROM ORDER o\r\n    LEFT JOIN STATUS s ON o.OrderId = s.OrderId\r\n    AND s.lastUpdatedDateTime = (\r\n        SELECT MAX(s2.lastUpdatedDateTime)\r\n        FROM STATUS s2\r\n        WHERE s2.OrderId = o.OrderId\r\n    )\r\n\r\nThis query joins the ORDER and STATUS tables on the OrderId column and uses a subquery to select the latest STATUS record for each ORDER record. The LEFT JOIN ensures that all ORDER records are included in the result, even if there are no corresponding STATUS records.\r\n\r\nTo use this query with dynamic where clause requirements, you can create a JPA CriteriaQuery object and add predicates to it based on the search criteria.Here&#39;s an example\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\r\n    Root&lt;Order&gt; orderRoot = query.from(Order.class);\r\n    Join&lt;Order, Status&gt; statusJoin = orderRoot.join(&quot;statuses&quot;, JoinType.LEFT);\r\n    query.multiselect(\r\n        orderRoot.get(&quot;OrderId&quot;),\r\n        orderRoot.get(&quot;product&quot;),\r\n        statusJoin.get(&quot;statusCode&quot;),\r\n        statusJoin.get(&quot;lastUpdatedBy&quot;)\r\n    );\r\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    predicates.add(cb.equal(statusJoin.get(&quot;statusCode&quot;), &quot;IP&quot;));\r\n    query.where(predicates.toArray(new Predicate[0]));\r\n    query.orderBy(cb.desc(statusJoin.get(&quot;lastUpdatedDateTime&quot;)));\r\n    \r\n    List&lt;Order&gt; result = em.createQuery(query).getResultList();\r\n\r\n","title":"Spring JPA: Association requirement when joining tables","body":"<p>Based on the information, it seems like you have a one-to-many relationship between ORDER and STATUS tables, where an ORDER can have multiple STATUS records.</p>\n<p>To design your entities, you can create two classes: Order and Status. The Order class will have a collection of Status objects as a member variable to represent the one-to-many relationship. The Order class will also have attributes for OrderId and product, and the Status class will have attributes for statusCode, lastUpdatedBy, and lastUpdatedDateTime. You can then use JPA annotations to map these classes to the corresponding tables in the database.</p>\n<p>When you want to fetch order details with the latest status, you can use a query that joins the ORDER and STATUS tables and selects the top record from the STATUS table for each ORDER record.Check below example query</p>\n<pre><code>    SELECT o.OrderId, o.product, s.statusCode, s.lastUpdatedBy\nFROM ORDER o\nLEFT JOIN STATUS s ON o.OrderId = s.OrderId\nAND s.lastUpdatedDateTime = (\n    SELECT MAX(s2.lastUpdatedDateTime)\n    FROM STATUS s2\n    WHERE s2.OrderId = o.OrderId\n)\n</code></pre>\n<p>This query joins the ORDER and STATUS tables on the OrderId column and uses a subquery to select the latest STATUS record for each ORDER record. The LEFT JOIN ensures that all ORDER records are included in the result, even if there are no corresponding STATUS records.</p>\n<p>To use this query with dynamic where clause requirements, you can create a JPA CriteriaQuery object and add predicates to it based on the search criteria.Here's an example</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\nRoot&lt;Order&gt; orderRoot = query.from(Order.class);\nJoin&lt;Order, Status&gt; statusJoin = orderRoot.join(&quot;statuses&quot;, JoinType.LEFT);\nquery.multiselect(\n    orderRoot.get(&quot;OrderId&quot;),\n    orderRoot.get(&quot;product&quot;),\n    statusJoin.get(&quot;statusCode&quot;),\n    statusJoin.get(&quot;lastUpdatedBy&quot;)\n);\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\npredicates.add(cb.equal(statusJoin.get(&quot;statusCode&quot;), &quot;IP&quot;));\nquery.where(predicates.toArray(new Predicate[0]));\nquery.orderBy(cb.desc(statusJoin.get(&quot;lastUpdatedDateTime&quot;)));\n\nList&lt;Order&gt; result = em.createQuery(query).getResultList();\n</code></pre>\n"}],"owner":{"account_id":6512038,"reputation":41,"user_id":5038946,"accept_rate":0,"display_name":"Deepa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676450408,"creation_date":1676447724,"question_id":75456874,"body_markdown":"We have two tables, ORDER and STATUS.\r\nFor every change in the orders in ORDER table, we enter the audit into STATUS table with lastUpdatedDateTime.\r\n\r\nSometimes, I just need to fetch order detail and sometimes I need latest status along with order details.\r\n\r\nHow should I design my entity and how should I join tables when needed?\r\nDo I need to add associations to join table(using criteria builder)?\r\nIf I add associations, status data from STATUS table will be pulled even when not needed (e.g. when doing findBy on ORDER where we just need order details)?\r\n\r\nAlso when I display to the User the orders, they should look like below. Need status and lastUpdatedBy in the Order object\r\n```\r\n[\r\n    {\r\n        &quot;OrderId&quot;: &quot;1&quot;,\r\n        &quot;product&quot;: &quot;pen&quot;,\r\n        &quot;status&quot;: &quot;IP&quot;,\r\n        &quot;lastUpdatedBy&quot;: &quot;user1&quot;\r\n    },\r\n    {\r\n        &quot;OrderId&quot;: &quot;1&quot;,\r\n        &quot;product&quot;: &quot;book&quot;,\r\n        &quot;status&quot;: &quot;CP&quot;,\r\n        &quot;lastUpdatedBy&quot;: &quot;user2&quot;\r\n    }\r\n]\r\n```\r\n\r\nI have tried using association and criteria builder to join tables.\r\n\r\nQuestions:\r\n1. A right way to design my entites\r\n2. how to join tables to fetch the top record from status table for a given order.\r\n(P.S i need to use predicates as I have dynamic where clause requirement)\r\n\r\nSample SQL\r\n\r\n```\r\nSelect f, o.statusCode, o.lastUpdatedBy\r\nfrom FX_ORDER f left join ORDER o\r\nON f.ORDER_ID = o.ORDER_ID\r\nand f.SEQUENCE= o.SEQUENCE\r\nwhere o.statusCode = &#39;IP&#39;\r\nand o.lastUpdatedDateTime in (select max(s.lastUpdatedDateTime)\r\n   from ORDER s where\r\n    s.ORDER_ID = o.ORDER_ID\r\n    and s.SEQUENCE= o.SEQUENCE);\r\n```","title":"Spring JPA: Association requirement when joining tables","body":"<p>We have two tables, ORDER and STATUS.\nFor every change in the orders in ORDER table, we enter the audit into STATUS table with lastUpdatedDateTime.</p>\n<p>Sometimes, I just need to fetch order detail and sometimes I need latest status along with order details.</p>\n<p>How should I design my entity and how should I join tables when needed?\nDo I need to add associations to join table(using criteria builder)?\nIf I add associations, status data from STATUS table will be pulled even when not needed (e.g. when doing findBy on ORDER where we just need order details)?</p>\n<p>Also when I display to the User the orders, they should look like below. Need status and lastUpdatedBy in the Order object</p>\n<pre><code>[\n    {\n        &quot;OrderId&quot;: &quot;1&quot;,\n        &quot;product&quot;: &quot;pen&quot;,\n        &quot;status&quot;: &quot;IP&quot;,\n        &quot;lastUpdatedBy&quot;: &quot;user1&quot;\n    },\n    {\n        &quot;OrderId&quot;: &quot;1&quot;,\n        &quot;product&quot;: &quot;book&quot;,\n        &quot;status&quot;: &quot;CP&quot;,\n        &quot;lastUpdatedBy&quot;: &quot;user2&quot;\n    }\n]\n</code></pre>\n<p>I have tried using association and criteria builder to join tables.</p>\n<p>Questions:</p>\n<ol>\n<li>A right way to design my entites</li>\n<li>how to join tables to fetch the top record from status table for a given order.\n(P.S i need to use predicates as I have dynamic where clause requirement)</li>\n</ol>\n<p>Sample SQL</p>\n<pre><code>Select f, o.statusCode, o.lastUpdatedBy\nfrom FX_ORDER f left join ORDER o\nON f.ORDER_ID = o.ORDER_ID\nand f.SEQUENCE= o.SEQUENCE\nwhere o.statusCode = 'IP'\nand o.lastUpdatedDateTime in (select max(s.lastUpdatedDateTime)\n   from ORDER s where\n    s.ORDER_ID = o.ORDER_ID\n    and s.SEQUENCE= o.SEQUENCE);\n</code></pre>\n"},{"tags":["java","arraylist","interface"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":4,"creation_date":1676431634,"post_id":75455227,"comment_id":133134009,"body_markdown":"Remove the quotes. `flyingThings.add(myPlane);`","body":"Remove the quotes. <code>flyingThings.add(myPlane);</code>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":2,"creation_date":1676432298,"post_id":75455227,"comment_id":133134057,"body_markdown":"The objects you add need to be of the `ArrayList`&#39;s type parameter, which is `Flyable`. &quot;myPlane&quot; is of type String. Hence the error.","body":"The objects you add need to be of the <code>ArrayList</code>&#39;s type parameter, which is <code>Flyable</code>. &quot;myPlane&quot; is of type String. Hence the error."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1676432719,"post_id":75455227,"comment_id":133134109,"body_markdown":"Do not change your question after you&#39;ve already received an answer.","body":"Do not change your question after you&#39;ve already received an answer."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676487268,"post_id":75455227,"comment_id":133148647,"body_markdown":"The answer fixed the problem as asked. But, changing the question so the answer given is no longer applicable is not fair to the person providing the answer. I suggest you consult with your teacher / professor, teacher&#39;s aid, or other students taking the course. Unfortunately, Stack Overflow is not tutorial service. It&#39;s not set up so someone can get one problem addressed, and then another, and possibly another, and so on, all for the same code. For something like that, a conversation is needed. But, needing a conversation / tutorial makes the issue inappropriate for Stack Overflow.","body":"The answer fixed the problem as asked. But, changing the question so the answer given is no longer applicable is not fair to the person providing the answer. I suggest you consult with your teacher / professor, teacher&#39;s aid, or other students taking the course. Unfortunately, Stack Overflow is not tutorial service. It&#39;s not set up so someone can get one problem addressed, and then another, and possibly another, and so on, all for the same code. For something like that, a conversation is needed. But, needing a conversation / tutorial makes the issue inappropriate for Stack Overflow."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676487368,"post_id":75455227,"comment_id":133148679,"body_markdown":"I wrote my previous comment because the O/P&#39;s response to the answer, plus the attempt to instantiate an interface mentioned in the question shows some misunderstanding of interfaces in Java.","body":"I wrote my previous comment because the O/P&#39;s response to the answer, plus the attempt to instantiate an interface mentioned in the question shows some misunderstanding of interfaces in Java."}],"answers":[{"tags":[],"owner":{"account_id":18624972,"reputation":69,"user_id":13574306,"display_name":"Bi Ka Sh Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676449936,"creation_date":1676432278,"answer_id":75455268,"question_id":75455227,"body_markdown":"    ArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\r\n\r\nHere you have created an array list which should have datatype of Flyable object.\r\n\r\n    flyingThings.add(&quot;myPlane&quot;);\r\n    flyingThings.add(&quot;myHangglider&quot;);\r\n    flyingThings.add(&quot;myBird&quot;);\r\n\r\nYour are trying to add objects of strings i.e &quot;myPlane&quot;,.. are strings so that strings could not be added. The solution is to remove those double-quote marks. \r\n\r\n     flyingThings.add(myPlane);\r\n     flyingThings.add(myHangglider);\r\n     flyingThings.add(myBird);\r\n\r\n\r\n\r\n\r\n","title":"Why can I not add these objects to an array list","body":"<pre><code>ArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\n</code></pre>\n<p>Here you have created an array list which should have datatype of Flyable object.</p>\n<pre><code>flyingThings.add(&quot;myPlane&quot;);\nflyingThings.add(&quot;myHangglider&quot;);\nflyingThings.add(&quot;myBird&quot;);\n</code></pre>\n<p>Your are trying to add objects of strings i.e &quot;myPlane&quot;,.. are strings so that strings could not be added. The solution is to remove those double-quote marks.</p>\n<pre><code> flyingThings.add(myPlane);\n flyingThings.add(myHangglider);\n flyingThings.add(myBird);\n</code></pre>\n"}],"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1676433621,"answer_count":1,"score":-2,"last_activity_date":1676449936,"creation_date":1676431496,"question_id":75455227,"body_markdown":"I am trying to add the three flying objects to an array list of type flyable which is an abstract interface I have created in my package, this is my code.\r\n```\r\npackage labInterface;\r\nimport java.util.ArrayList;\r\npublic class App \r\n{\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tPlane myPlane = new Plane(4, &quot;Boing 747&quot;);\r\n\t\tSystem.out.printf(&quot;myPlane: %s%n&quot;, myPlane);\r\n\r\n\t\tHangglider myHangglider = new Hangglider(true);\r\n\t\tSystem.out.printf(&quot;myHangglider: %s%n&quot;, myHangglider);\r\n\r\n\t\tBird myBird = new Bird(&quot;Swallow&quot;);\r\n\t\tSystem.out.printf(&quot;myBird: %s%n&quot;, myBird);\r\n\t\t\r\n\t\t\r\n\t\tArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\r\n\t\tflyingThings.add(&quot;myPlane&quot;);\r\n\t\tflyingThings.add(&quot;myHangglider&quot;);\r\n\t\tflyingThings.add(&quot;myBird&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI get the error &quot;The method add(Flyable) in the type ArrayList&lt;Flyable&gt; is not applicable for the arguments (String)&quot;. \r\nAny help would be greatly appreciated, thank you.\r\n\r\n\r\nI have tried using `flyingThings.add(new Flyable(&quot;myPlane&quot;));` but I get the error, &quot;cannot instantiate the Type Flyable&quot;.","title":"Why can I not add these objects to an array list","body":"<p>I am trying to add the three flying objects to an array list of type flyable which is an abstract interface I have created in my package, this is my code.</p>\n<pre><code>package labInterface;\nimport java.util.ArrayList;\npublic class App \n{\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args)\n    {\n        Plane myPlane = new Plane(4, &quot;Boing 747&quot;);\n        System.out.printf(&quot;myPlane: %s%n&quot;, myPlane);\n\n        Hangglider myHangglider = new Hangglider(true);\n        System.out.printf(&quot;myHangglider: %s%n&quot;, myHangglider);\n\n        Bird myBird = new Bird(&quot;Swallow&quot;);\n        System.out.printf(&quot;myBird: %s%n&quot;, myBird);\n        \n        \n        ArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\n        flyingThings.add(&quot;myPlane&quot;);\n        flyingThings.add(&quot;myHangglider&quot;);\n        flyingThings.add(&quot;myBird&quot;);\n        \n    }\n\n}\n\n</code></pre>\n<p>I get the error &quot;The method add(Flyable) in the type ArrayList is not applicable for the arguments (String)&quot;.\nAny help would be greatly appreciated, thank you.</p>\n<p>I have tried using <code>flyingThings.add(new Flyable(&quot;myPlane&quot;));</code> but I get the error, &quot;cannot instantiate the Type Flyable&quot;.</p>\n"},{"tags":["java","postgresql","scala","jdbc","playframework"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1676402364,"post_id":75450027,"comment_id":133128896,"body_markdown":"Can you share the code of `MyController`? I believe you&#39;re injecting `Datasource` instead of `Database`.","body":"Can you share the code of <code>MyController</code>? I believe you&#39;re injecting <code>Datasource</code> instead of <code>Database</code>."},{"owner":{"account_id":12696795,"reputation":11,"user_id":9224986,"display_name":"sukesh u"},"score":0,"creation_date":1676449555,"post_id":75450027,"comment_id":133136873,"body_markdown":"package controllers;\nimport java.sql.*;\n\nimport play.mvc.Controller;\nimport play.mvc.Result;\n\nimport javax.inject.*;\nimport javax.sql.*;\n\npublic class MyController extends Controller {\n\t\n\t private DataSource dataSource;\n\n\t  @Inject\n\t  public MyController(DataSource dataSource) {\n\t    this.dataSource = dataSource;\n\t  }\n\t  \n  public Result index() {\n    try (Connection conn = dataSource.getConnection()) {\n     return &quot;connected database&quot;\n    } catch (SQLException e) {\n      return internalServerError(&quot;Database error: &quot; + e.getMessage());\n    }\n  }\n\n}","body":"package controllers; import java.sql.*;  import play.mvc.Controller; import play.mvc.Result;  import javax.inject.*; import javax.sql.*;  public class MyController extends Controller { \t \t private DataSource dataSource;  \t  @Inject \t  public MyController(DataSource dataSource) { \t    this.dataSource = dataSource; \t  } \t     public Result index() {     try (Connection conn = dataSource.getConnection()) {      return &quot;connected database&quot;     } catch (SQLException e) {       return internalServerError(&quot;Database error: &quot; + e.getMessage());     }   }  }"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1676453282,"post_id":75450027,"comment_id":133137806,"body_markdown":"Check out documentation: https://www.playframework.com/documentation/2.8.x/AccessingAnSQLDatabase#Accessing-the-JDBC-datasource, you need to inject `Database`.","body":"Check out documentation: <a href=\"https://www.playframework.com/documentation/2.8.x/AccessingAnSQLDatabase#Accessing-the-JDBC-datasource\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.8.x/&hellip;</a>, you need to inject <code>Database</code>."}],"owner":{"account_id":12696795,"reputation":11,"user_id":9224986,"display_name":"sukesh u"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676449856,"creation_date":1676388622,"question_id":75450027,"body_markdown":"I am trying to connect PostgreSQL from play 2.8 project using java (not scala). But unable to do. I am using JDK 11, Play 2.8.x version.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FyDh6.png)](https://i.stack.imgur.com/FyDh6.png)\r\n\r\nSBT dependencies:\r\n```scala\r\n     libraryDependencies ++= Seq(\r\n    \t&quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.3.1&quot;,\r\n    \tjdbc,\r\n  \t\t&quot;org.playframework.anorm&quot; %% &quot;anorm&quot; % &quot;2.7.0&quot;,\r\n  \t\tjavaJpa,\r\n    \t&quot;org.hibernate&quot; % &quot;hibernate-core&quot; % &quot;5.4.32.Final&quot;,\r\n    \t&quot;com.typesafe.play&quot; %% &quot;play-java-jpa&quot; % &quot;2.8.8&quot;,\r\n\t\t&quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\r\n\t\tguice,\r\n\t\t&quot;io.dropwizard.metrics&quot; % &quot;metrics-core&quot; % &quot;4.1.1&quot;,\r\n\t\t&quot;com.palominolabs.http&quot; % &quot;url-builder&quot; % &quot;1.1.0&quot;,\r\n\t\t&quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\r\n        ),\r\n```\r\n\r\nConfig file:\r\n```\r\ndb.default {\r\n  \tdriver=org.postgresql.Driver\r\n\turl=&quot;jdbc:postgresql://localhost/mydatabase&quot;\r\n \tuser=&quot;postgres&quot;\r\n \tpassword=&quot;root@123&quot;\r\n}\r\n```\r\n\r\nMyController\r\n\r\n    public class MyController extends Controller {\r\n    \t\r\n    \t private DataSource dataSource;\r\n    \r\n    \t  @Inject\r\n    \t  public MyController(DataSource dataSource) {\r\n    \t    this.dataSource = dataSource;\r\n    \t  }\r\n    \t  \r\n      public Result index() {\r\n        try (Connection conn = dataSource.getConnection()) {\r\n         return &quot;connected database&quot;\r\n        } catch (SQLException e) {\r\n          return internalServerError(&quot;Database error: &quot; + e.getMessage());\r\n        }\r\n      }\r\n    \r\n    }","title":"How to connect postgresSQL using play 2.8 java","body":"<p>I am trying to connect PostgreSQL from play 2.8 project using java (not scala). But unable to do. I am using JDK 11, Play 2.8.x version.</p>\n<p><a href=\"https://i.stack.imgur.com/FyDh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyDh6.png\" alt=\"enter image description here\" /></a></p>\n<p>SBT dependencies:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>     libraryDependencies ++= Seq(\n        &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.3.1&quot;,\n        jdbc,\n        &quot;org.playframework.anorm&quot; %% &quot;anorm&quot; % &quot;2.7.0&quot;,\n        javaJpa,\n        &quot;org.hibernate&quot; % &quot;hibernate-core&quot; % &quot;5.4.32.Final&quot;,\n        &quot;com.typesafe.play&quot; %% &quot;play-java-jpa&quot; % &quot;2.8.8&quot;,\n        &quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\n        guice,\n        &quot;io.dropwizard.metrics&quot; % &quot;metrics-core&quot; % &quot;4.1.1&quot;,\n        &quot;com.palominolabs.http&quot; % &quot;url-builder&quot; % &quot;1.1.0&quot;,\n        &quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\n        ),\n</code></pre>\n<p>Config file:</p>\n<pre><code>db.default {\n    driver=org.postgresql.Driver\n    url=&quot;jdbc:postgresql://localhost/mydatabase&quot;\n    user=&quot;postgres&quot;\n    password=&quot;root@123&quot;\n}\n</code></pre>\n<p>MyController</p>\n<pre><code>public class MyController extends Controller {\n    \n     private DataSource dataSource;\n\n      @Inject\n      public MyController(DataSource dataSource) {\n        this.dataSource = dataSource;\n      }\n      \n  public Result index() {\n    try (Connection conn = dataSource.getConnection()) {\n     return &quot;connected database&quot;\n    } catch (SQLException e) {\n      return internalServerError(&quot;Database error: &quot; + e.getMessage());\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","database","spring-boot","spring-data-jpa","entity"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1676399832,"post_id":75451934,"comment_id":133128145,"body_markdown":"Ask yourself the question, what a _blank_ float would look like ...","body":"Ask yourself the question, what a <i>blank</i> float would look like ..."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676399880,"post_id":75451934,"comment_id":133128157,"body_markdown":"How it should be?","body":"How it should be?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676399922,"post_id":75451934,"comment_id":133128169,"body_markdown":"The JavaDoc for `@NotBlank` specifically says, &quot;Accpts `CharSequence`.&quot; `Float` is not a `CharSequence`.","body":"The JavaDoc for <code>@NotBlank</code> specifically says, &quot;Accpts <code>CharSequence</code>.&quot; <code>Float</code> is not a <code>CharSequence</code>."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1676400056,"post_id":75451934,"comment_id":133128226,"body_markdown":"Ehhmm ... I told you to ask _yourself_ that question. While thinking about it, you might come to the conclusion that a float cannot be blank.","body":"Ehhmm ... I told you to ask <i>yourself</i> that question. While thinking about it, you might come to the conclusion that a float cannot be blank."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676400410,"post_id":75451934,"comment_id":133128316,"body_markdown":"So what would be the best way to validate a float?","body":"So what would be the best way to validate a float?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1676400594,"post_id":75451934,"comment_id":133128363,"body_markdown":"What validation do you want to have on your float? As it is, you can check nullness (because it is a `Float` - with a capital F), and you can also check the value. What do you want?","body":"What validation do you want to have on your float? As it is, you can check nullness (because it is a <code>Float</code> - with a capital F), and you can also check the value. What do you want?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676400852,"post_id":75451934,"comment_id":133128455,"body_markdown":"I erasing my &quot;price&quot; from dto do I have to declare it in my controlle then? right? Since my model is being built based on my dto (as I showed in the updated code)","body":"I erasing my &quot;price&quot; from dto do I have to declare it in my controlle then? right? Since my model is being built based on my dto (as I showed in the updated code)"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676401387,"post_id":75451934,"comment_id":133128609,"body_markdown":"Would you know how I can pass the request body inside my setPrice in controller?","body":"Would you know how I can pass the request body inside my setPrice in controller?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676401426,"post_id":75451934,"comment_id":133128623,"body_markdown":"like:         orderModel.setPrice(I would like to know how to pass the request body here\n);","body":"like:         orderModel.setPrice(I would like to know how to pass the request body here );"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676405800,"post_id":75451934,"comment_id":133129817,"body_markdown":"You&#39;re trying to validate that a `Float` is &quot;not blank&quot;, but that just doesn&#39;t make any sense at all. It&#39;s like validating that a circle has only 3 sides - the concept of &quot;sides&quot; doesn&#39;t apply to a circle. Similarly, the concept of &quot;blankness&quot; doesn&#39;t apply to a `Float`.","body":"You&#39;re trying to validate that a <code>Float</code> is &quot;not blank&quot;, but that just doesn&#39;t make any sense at all. It&#39;s like validating that a circle has only 3 sides - the concept of &quot;sides&quot; doesn&#39;t apply to a circle. Similarly, the concept of &quot;blankness&quot; doesn&#39;t apply to a <code>Float</code>."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676405834,"post_id":75451934,"comment_id":133129825,"body_markdown":"Perhaps you just need `@NotNull`?","body":"Perhaps you just need <code>@NotNull</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676449448,"creation_date":1676449448,"answer_id":75457106,"question_id":75451934,"body_markdown":"You need to use `@NotNull` for `Float`. The [documentation for `@NotBlank`][1] states:\r\n&gt; The annotated element must not be null and must contain at least one non-whitespace character. Accepts CharSequence.\r\n\r\nSo, as long as you don&#39;t use `@NotBlank` on a `String` or `Char` it won&#39;t work.\r\n\r\nIf you need additional validations on the value of the float, you can use `@Min`, `@Max`, `@Positive` and more.\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/validation/constraints/NotBlank.html","title":"NotBlank validation error in float java (spring boot)","body":"<p>You need to use <code>@NotNull</code> for <code>Float</code>. The <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/validation/constraints/NotBlank.html\" rel=\"nofollow noreferrer\">documentation for <code>@NotBlank</code></a> states:</p>\n<blockquote>\n<p>The annotated element must not be null and must contain at least one non-whitespace character. Accepts CharSequence.</p>\n</blockquote>\n<p>So, as long as you don't use <code>@NotBlank</code> on a <code>String</code> or <code>Char</code> it won't work.</p>\n<p>If you need additional validations on the value of the float, you can use <code>@Min</code>, <code>@Max</code>, <code>@Positive</code> and more.</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676449448,"creation_date":1676399646,"question_id":75451934,"body_markdown":"I&#39;m trying to develop an API with an order model and one of the requirements in my model is &quot;price&quot; which takes a float instead of a string\r\n\r\nthis is the model\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;TB_ORDER&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(nullable = true, length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String order;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\nthis is the dto package\r\n\r\n```\r\npackage com.api.order_control.dtos;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\npublic class OrderDto {\r\n    @NotBlank\r\n    private String customerName;\r\n    @NotBlank\r\n    private String phoneNumber;\r\n    @NotBlank\r\n    private String address;\r\n    @NotBlank\r\n    private String doorNumber;\r\n    @NotBlank\r\n    private String block;\r\n    @NotBlank\r\n    private String order;\r\n    @NotBlank\r\n    private Float price;\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String doorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void doorNumber(String doorName) {\r\n        this.doorNumber = doorName;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI created my post method in my controller, but when I test it in my postman I get this error in the terminal:\r\n\r\n```\r\njakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;jakarta.validation.constraints.NotBlank&#39; validating type &#39;java.lang.Float&#39;. Check configuration for &#39;price&#39;\r\n\r\n```\r\n\r\nI understand that the problem is in float, but I can&#39;t understand what&#39;s wrong with this code.\r\n\r\n\r\nupdate: controller\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/order&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```","title":"NotBlank validation error in float java (spring boot)","body":"<p>I'm trying to develop an API with an order model and one of the requirements in my model is &quot;price&quot; which takes a float instead of a string</p>\n<p>this is the model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;TB_ORDER&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(nullable = true, length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String order;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>this is the dto package</p>\n<pre><code>package com.api.order_control.dtos;\n\nimport jakarta.validation.constraints.NotBlank;\n\npublic class OrderDto {\n    @NotBlank\n    private String customerName;\n    @NotBlank\n    private String phoneNumber;\n    @NotBlank\n    private String address;\n    @NotBlank\n    private String doorNumber;\n    @NotBlank\n    private String block;\n    @NotBlank\n    private String order;\n    @NotBlank\n    private Float price;\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String doorNumber() {\n        return doorNumber;\n    }\n\n    public void doorNumber(String doorName) {\n        this.doorNumber = doorName;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n}\n\n</code></pre>\n<p>I created my post method in my controller, but when I test it in my postman I get this error in the terminal:</p>\n<pre><code>jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Float'. Check configuration for 'price'\n\n</code></pre>\n<p>I understand that the problem is in float, but I can't understand what's wrong with this code.</p>\n<p>update: controller</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/order&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","process","boot"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1676259015,"post_id":75431479,"comment_id":133094880,"body_markdown":"(This comment from a linux user, but I think Windows behaves similarly).  When you type in the command interactively, you&#39;re typing it to cmd.exe,  for which &#39;&lt;&#39; is meaningful; cmd will run java for you with redirected input.  When you exec java, there is no cmd.exe involvement, so there&#39;s nothing to interpret &#39;&lt;&#39;.   Change your command to exec cmd, with the java command as argument to cmd.","body":"(This comment from a linux user, but I think Windows behaves similarly).  When you type in the command interactively, you&#39;re typing it to cmd.exe,  for which &#39;&lt;&#39; is meaningful; cmd will run java for you with redirected input.  When you exec java, there is no cmd.exe involvement, so there&#39;s nothing to interpret &#39;&lt;&#39;.   Change your command to exec cmd, with the java command as argument to cmd."},{"owner":{"account_id":15997753,"reputation":73,"user_id":11545272,"display_name":"Gaurav kedia"},"score":0,"creation_date":1676260928,"post_id":75431479,"comment_id":133095072,"body_markdown":"Can you please explain, using an example, Thanks for your response!","body":"Can you please explain, using an example, Thanks for your response!"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676291511,"post_id":75431479,"comment_id":133101422,"body_markdown":"`command = &quot;cmd /c java D:/code.java &lt; D:/input.txt&quot;`","body":"<code>command = &quot;cmd &#47;c java D:&#47;code.java &lt; D:&#47;input.txt&quot;</code>"},{"owner":{"account_id":15997753,"reputation":73,"user_id":11545272,"display_name":"Gaurav kedia"},"score":0,"creation_date":1676713699,"post_id":75431479,"comment_id":133195895,"body_markdown":"this is working in only windows, when I tried to execute the same code in Linux environment, the error is thrown, &quot; io exception: &quot;cmd&quot; no such file or directory found&quot;","body":"this is working in only windows, when I tried to execute the same code in Linux environment, the error is thrown, &quot; io exception: &quot;cmd&quot; no such file or directory found&quot;"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676727256,"post_id":75431479,"comment_id":133197590,"body_markdown":"Of course you can&#39;t execute Windows commands in Linux.  As soon as you write code to run particular commands, you&#39;re in OS-specific territory. Under Linux, you&#39;d need to run some shell to get &#39;&lt;&#39; support. For what it&#39;s worth, you can&#39;t use the Windows-style drive letters shown in your command string, either.","body":"Of course you can&#39;t execute Windows commands in Linux.  As soon as you write code to run particular commands, you&#39;re in OS-specific territory. Under Linux, you&#39;d need to run some shell to get &#39;&lt;&#39; support. For what it&#39;s worth, you can&#39;t use the Windows-style drive letters shown in your command string, either."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676727505,"post_id":75431479,"comment_id":133197637,"body_markdown":"You can avoid the whole &#39;&lt;&#39; issue by using ProcessBuilder rather than Runtime.exec, and running java directly rather than via a command interpreter.  ProcessBuilder allows you to specify the source of standard input.","body":"You can avoid the whole &#39;&lt;&#39; issue by using ProcessBuilder rather than Runtime.exec, and running java directly rather than via a command interpreter.  ProcessBuilder allows you to specify the source of standard input."}],"owner":{"account_id":15997753,"reputation":73,"user_id":11545272,"display_name":"Gaurav kedia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676449447,"creation_date":1676255493,"question_id":75431479,"body_markdown":"```\r\nString command = &quot;java D:/code.java &lt; D:/input.txt&quot;;\r\nProcess process = Runtime.getRuntime().exec(command);\r\n```\r\nWhen this part of the code is triggered, the thread keeps on waiting for the input, it is not able to take input from the &#39;input.txt&#39; file.\r\nBut when running an explicit command in the cmd terminal, the same command works perfectly fine.","title":"I am trying to execute a separate java file, using cmd commands, in spring boot","body":"<pre><code>String command = &quot;java D:/code.java &lt; D:/input.txt&quot;;\nProcess process = Runtime.getRuntime().exec(command);\n</code></pre>\n<p>When this part of the code is triggered, the thread keeps on waiting for the input, it is not able to take input from the 'input.txt' file.\nBut when running an explicit command in the cmd terminal, the same command works perfectly fine.</p>\n"},{"tags":["java","spring","spring-boot","properties","configuration"],"comments":[{"owner":{"account_id":229930,"reputation":1278,"user_id":493216,"accept_rate":50,"display_name":"BigGinDaHouse"},"score":1,"creation_date":1521021614,"post_id":49274032,"comment_id":85551700,"body_markdown":"what about creating @Configuration class which will have one global variable with @Value(&quot;$APP_ID&quot;) and reuse that var in the other clasess ?","body":"what about creating @Configuration class which will have one global variable with @Value(&quot;$APP_ID&quot;) and reuse that var in the other clasess ?"},{"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"score":0,"creation_date":1521027887,"post_id":49274032,"comment_id":85556132,"body_markdown":"Seems like a possible workaround/solution. You wouldn&#39;t be able to make that global variable `final`, would you?","body":"Seems like a possible workaround/solution. You wouldn&#39;t be able to make that global variable <code>final</code>, would you?"}],"answers":[{"tags":[],"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521113488,"creation_date":1521113488,"answer_id":49298326,"question_id":49274032,"body_markdown":"One way to do it (as suggested by [wilkinsoa][1] in [this thread][2]) is to &quot;bind a single random value into a `@ConfigurationProperties` annotated bean and then use that bean to configure anything else that needed the same value.&quot;\r\n\r\nThis results in an `application.properties` file:\r\n\r\n    app.id=${random.uuid}\r\n\r\nThe configuration properties file is:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;app&quot;)\r\n    public class AppProperties {\r\n\r\n      private String id;\r\n\r\n      public String getId() {\r\n        return this.id;\r\n      }\r\n\r\n      public void setId(String id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n\r\nThe class using the id:\r\n\r\n    @Component\r\n    public class DoStuff {\r\n\r\n      private AppProperties appProperties;\r\n\r\n      @Autowired\r\n      public DoStuff(AppProperties appProperties) {\r\n        this.appProperties = appProperties;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/wilkinsona\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/7009","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>One way to do it (as suggested by <a href=\"https://github.com/wilkinsona\" rel=\"noreferrer\">wilkinsoa</a> in <a href=\"https://github.com/spring-projects/spring-boot/issues/7009\" rel=\"noreferrer\">this thread</a>) is to \"bind a single random value into a <code>@ConfigurationProperties</code> annotated bean and then use that bean to configure anything else that needed the same value.\"</p>\n\n<p>This results in an <code>application.properties</code> file:</p>\n\n<pre><code>app.id=${random.uuid}\n</code></pre>\n\n<p>The configuration properties file is:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"app\")\npublic class AppProperties {\n\n  private String id;\n\n  public String getId() {\n    return this.id;\n  }\n\n  public void setId(String id) {\n    this.id = id;\n  }\n}\n</code></pre>\n\n<p>The class using the id:</p>\n\n<pre><code>@Component\npublic class DoStuff {\n\n  private AppProperties appProperties;\n\n  @Autowired\n  public DoStuff(AppProperties appProperties) {\n    this.appProperties = appProperties;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13896008,"reputation":103,"user_id":10032858,"display_name":"Dmytro Verbivskyi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548856990,"creation_date":1548856990,"answer_id":54442388,"question_id":49274032,"body_markdown":"You can generate random value as constant for your test.\r\n\r\n    package com.yourdomain.config;\r\n\r\n    import org.apache.commons.lang3.RandomUtils;\r\n    \r\n    public class TestConfig {\r\n\r\n        public static final long RANDOM_LONG = RandomUtils.nextLong();\r\n    }\r\n\r\nand then reference it like:\r\n\r\n    integration.test.random.seed=#{T(com.yourdomain.config.TestConfig).RANDOM_LONG}\r\n    rabbitmq.queue=queueName_${integration.test.random.seed}","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>You can generate random value as constant for your test.</p>\n\n<pre><code>package com.yourdomain.config;\n\nimport org.apache.commons.lang3.RandomUtils;\n\npublic class TestConfig {\n\n    public static final long RANDOM_LONG = RandomUtils.nextLong();\n}\n</code></pre>\n\n<p>and then reference it like:</p>\n\n<pre><code>integration.test.random.seed=#{T(com.yourdomain.config.TestConfig).RANDOM_LONG}\nrabbitmq.queue=queueName_${integration.test.random.seed}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9874622,"reputation":166,"user_id":7312879,"display_name":"Bal&#225;zs Eszes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550872918,"creation_date":1550872918,"answer_id":54835800,"question_id":49274032,"body_markdown":"I think I&#39;ve found the most simple but harder to document solution.\r\n\r\nThe issue with using a class to store the value and autowiring is that you still lose the stateful-ness of the environmental variable. If someone makes a mistake and tries to reference it again you could easily run into some errors.\r\n\r\n    @Configuration\r\n    public class FileSharingConfiguration {\r\n\t\r\n\t    private final static UUID app_id = UUID.randomUUID();\r\n\t\r\n\t    @PostConstruct\r\n\t    private void init() {\r\n\t\t    System.setProperty(&quot;app.instance-id&quot;, app_id.toString());\r\n\t    }\r\n    }\r\nI wouldn&#39;t rely on #{random.uuid} because it makes references stateless, so I generate my own in the program. Then in a post construction sequence you push that value into environmental variables.\r\n\r\nThis solution is better when you are forced to reference the same property multiple times (e.g: Thymeleaf templates) and they are read at runtime.\r\n\r\nA slight disadvantage is that the property won&#39;t show up in the config files, unless you initialize them with a default value. So you have to find other ways of documenting it.\r\n\r\nThe major disadvantage still is that there&#39;s no guarantee that @Value(&quot;...&quot;) will initialize after you&#39;ve set the environmental property. The Autowiring solution overcomes this problem by forcing the initialization order. But with this one you only need\r\n\r\n    @Autowired \r\n    private AppConfig config;\r\n\r\n \r\nto cause them to be initialized after, you could also use @DependsOn and you don&#39;t need to use a getter.\r\n\r\nIn my opinion there needs to be a better way to do this, random properties being stateless makes them impractical for anything other than testing. But they certainly don&#39;t want doing it considering they have created so many workarounds for assigning and reading back random port numbers.","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>I think I've found the most simple but harder to document solution.</p>\n\n<p>The issue with using a class to store the value and autowiring is that you still lose the stateful-ness of the environmental variable. If someone makes a mistake and tries to reference it again you could easily run into some errors.</p>\n\n<pre><code>@Configuration\npublic class FileSharingConfiguration {\n\n    private final static UUID app_id = UUID.randomUUID();\n\n    @PostConstruct\n    private void init() {\n        System.setProperty(\"app.instance-id\", app_id.toString());\n    }\n}\n</code></pre>\n\n<p>I wouldn't rely on #{random.uuid} because it makes references stateless, so I generate my own in the program. Then in a post construction sequence you push that value into environmental variables.</p>\n\n<p>This solution is better when you are forced to reference the same property multiple times (e.g: Thymeleaf templates) and they are read at runtime.</p>\n\n<p>A slight disadvantage is that the property won't show up in the config files, unless you initialize them with a default value. So you have to find other ways of documenting it.</p>\n\n<p>The major disadvantage still is that there's no guarantee that @Value(\"...\") will initialize after you've set the environmental property. The Autowiring solution overcomes this problem by forcing the initialization order. But with this one you only need</p>\n\n<pre><code>@Autowired \nprivate AppConfig config;\n</code></pre>\n\n<p>to cause them to be initialized after, you could also use @DependsOn and you don't need to use a getter.</p>\n\n<p>In my opinion there needs to be a better way to do this, random properties being stateless makes them impractical for anything other than testing. But they certainly don't want doing it considering they have created so many workarounds for assigning and reading back random port numbers.</p>\n"},{"tags":[],"owner":{"account_id":12287605,"reputation":81,"user_id":8966288,"display_name":"City Snail"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590141892,"creation_date":1590139575,"answer_id":61951822,"question_id":49274032,"body_markdown":"You can put system property directly in properties file if it is not set.\r\nThe following code:\r\n\r\n 1. Checks for `APP_UUID` system prop.\r\n 2. If `APP_UUID` is not set, sets random `UUID` to `APP_UUID` system prop, and sets the same value to `APP_ID` spring prop.\r\n 3. If `APP_UUID` is set, uses this value for `APP_ID` spring prop.\r\n\r\nCode (for YAML format. For .properties format &quot;&quot; marks should be omitted):\r\n\r\n    APP_ID: &quot;#{systemProperties[&#39;APP_UUID&#39;] = (systemProperties[&#39;APP_UUID&#39;] ?: &#39;${random.uuid}&#39;) }&quot;\r\n\r\nNote: System prop can have same name as spring prop, so:\r\n\r\n    APP_ID: &quot;#{systemProperties[&#39;APP_ID&#39;] = (systemProperties[&#39;APP_ID&#39;] ?: &#39;${random.uuid}&#39;) }&quot;\r\n ","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>You can put system property directly in properties file if it is not set.\nThe following code:</p>\n\n<ol>\n<li>Checks for <code>APP_UUID</code> system prop.</li>\n<li>If <code>APP_UUID</code> is not set, sets random <code>UUID</code> to <code>APP_UUID</code> system prop, and sets the same value to <code>APP_ID</code> spring prop.</li>\n<li>If <code>APP_UUID</code> is set, uses this value for <code>APP_ID</code> spring prop.</li>\n</ol>\n\n<p>Code (for YAML format. For .properties format \"\" marks should be omitted):</p>\n\n<pre><code>APP_ID: \"#{systemProperties['APP_UUID'] = (systemProperties['APP_UUID'] ?: '${random.uuid}') }\"\n</code></pre>\n\n<p>Note: System prop can have same name as spring prop, so:</p>\n\n<pre><code>APP_ID: \"#{systemProperties['APP_ID'] = (systemProperties['APP_ID'] ?: '${random.uuid}') }\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3123026,"reputation":489,"user_id":2642447,"display_name":"pasquale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645336977,"creation_date":1611825620,"answer_id":65934216,"question_id":49274032,"body_markdown":"You can inject directly a UUID to your .properties file:\r\n\r\n    service.uuid=#{T(java.util.UUID).randomUUID().toString()}\r\n\r\nThis technique can be used on environments without Spring Boot.","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>You can inject directly a UUID to your .properties file:</p>\n<pre><code>service.uuid=#{T(java.util.UUID).randomUUID().toString()}\n</code></pre>\n<p>This technique can be used on environments without Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":2264406,"reputation":339,"user_id":1993555,"display_name":"helios"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619431607,"creation_date":1619431607,"answer_id":67264663,"question_id":49274032,"body_markdown":"After trying different Methods this was the one working in all cases.\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;APP_UUID&quot;, UUID.randomUUID().toString());\r\n        SpringApplication app = new SpringApplication(Restdemo1Application.class);\r\n    }\r\nThen reference it in the config\r\n\r\n    info:\r\n      app:\r\n        uuid: ${APP_UUID}\r\n    \r\n    spring:\r\n      cloud:\r\n        stream:\r\n          binders:\r\n            solace-broker:\r\n              environment:\r\n                solace:\r\n                  java:\r\n                    client-name: ${info.app.name:-}/${spring.profiles.active}/${info.app.uuid}\r\n\r\nThe approach with: \r\n\r\n    #{T(com.yourdomain.config.TestConfig).RANDOM_LONG} \r\n\r\nand \r\n\r\n    &quot;#{systemProperties[&#39;APP_UUID&#39;] = (systemProperties[&#39;APP_UUID&#39;] ?: &#39;${random.uuid}&#39;) }&quot;\r\n\r\ndid not work for be because some frameworks (for example spring cloud stream with solace) do not evaluate the custom expressions.","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>After trying different Methods this was the one working in all cases.</p>\n<pre><code>public static void main(String[] args) {\n    System.setProperty(&quot;APP_UUID&quot;, UUID.randomUUID().toString());\n    SpringApplication app = new SpringApplication(Restdemo1Application.class);\n}\n</code></pre>\n<p>Then reference it in the config</p>\n<pre><code>info:\n  app:\n    uuid: ${APP_UUID}\n\nspring:\n  cloud:\n    stream:\n      binders:\n        solace-broker:\n          environment:\n            solace:\n              java:\n                client-name: ${info.app.name:-}/${spring.profiles.active}/${info.app.uuid}\n</code></pre>\n<p>The approach with:</p>\n<pre><code>#{T(com.yourdomain.config.TestConfig).RANDOM_LONG} \n</code></pre>\n<p>and</p>\n<pre><code>&quot;#{systemProperties['APP_UUID'] = (systemProperties['APP_UUID'] ?: '${random.uuid}') }&quot;\n</code></pre>\n<p>did not work for be because some frameworks (for example spring cloud stream with solace) do not evaluate the custom expressions.</p>\n"}],"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9784,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":6,"score":12,"last_activity_date":1676449223,"creation_date":1521019930,"question_id":49274032,"body_markdown":"I have the application property `APP_ID` that should be randomly generated (UUID) and that should have the same value for the entire Spring Boot application.\r\n\r\nWhat I did was the following: I defined in the `application.properties` file the `APP_ID=${random.uuid}`.\r\n\r\nThe UUID gets created successfully, however for every property reference `@Value(&quot;${APP_ID}&quot;)` I will get a different UUID.\r\n\r\nExample: In class `Foo` I want to use the `appId`:\r\n\r\n    @Value(&quot;${APP_ID}&quot;)\r\n    private String appId;\r\nIn class `Bar` I want to use the `appId`, too:\r\n\r\n    @Value(&quot;${APP_ID}&quot;)\r\n    private String appId;\r\nHowever, the `appId` in `Bar` is always different to the `appId` in `Foo`.\r\n\r\nI have read in this [thread][1] that this behavior is the correct one.\r\n\r\nWhat would be proper implementation to always get the same `APP_ID`? \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/7009","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>I have the application property <code>APP_ID</code> that should be randomly generated (UUID) and that should have the same value for the entire Spring Boot application.</p>\n\n<p>What I did was the following: I defined in the <code>application.properties</code> file the <code>APP_ID=${random.uuid}</code>.</p>\n\n<p>The UUID gets created successfully, however for every property reference <code>@Value(\"${APP_ID}\")</code> I will get a different UUID.</p>\n\n<p>Example: In class <code>Foo</code> I want to use the <code>appId</code>:</p>\n\n<pre><code>@Value(\"${APP_ID}\")\nprivate String appId;\n</code></pre>\n\n<p>In class <code>Bar</code> I want to use the <code>appId</code>, too:</p>\n\n<pre><code>@Value(\"${APP_ID}\")\nprivate String appId;\n</code></pre>\n\n<p>However, the <code>appId</code> in <code>Bar</code> is always different to the <code>appId</code> in <code>Foo</code>.</p>\n\n<p>I have read in this <a href=\"https://github.com/spring-projects/spring-boot/issues/7009\" rel=\"noreferrer\">thread</a> that this behavior is the correct one.</p>\n\n<p>What would be proper implementation to always get the same <code>APP_ID</code>? </p>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1676665532,"post_id":75457069,"comment_id":133190441,"body_markdown":"I compiled the code in my local did not get that error check https://gist.github.com/ozkanpakdil/814d0e25baecb84cc5513885f6af113d","body":"I compiled the code in my local did not get that error check <a href=\"https://gist.github.com/ozkanpakdil/814d0e25baecb84cc5513885f6af113d\" rel=\"nofollow noreferrer\">gist.github.com/ozkanpakdil/814d0e25baecb84cc5513885f6af113d</a>"},{"owner":{"account_id":7705017,"reputation":43,"user_id":5836232,"display_name":"clembo590"},"score":1,"creation_date":1676881540,"post_id":75457069,"comment_id":133219659,"body_markdown":"thanks a lot! This was actually fixed by the last release of graalvm (it was not working with graalvm64-17.0.5 but WORKS with graalvm64-17.0.6)","body":"thanks a lot! This was actually fixed by the last release of graalvm (it was not working with graalvm64-17.0.5 but WORKS with graalvm64-17.0.6)"}],"owner":{"account_id":7705017,"reputation":43,"user_id":5836232,"display_name":"clembo590"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676449119,"creation_date":1676449119,"question_id":75457069,"body_markdown":"I must say that I am pretty new with graalvm (like most people nowadays).\r\nI have been following [this guide](https://github.com/spring-tips/spring-boot-3-aot) created by [@joshLong](https://stackoverflow.com/users/607357/josh-long) to create a spring boot native application.\r\nIn the guide it explains that we can use the java agent while executing tests in order to create the `reflect-config.json` and other files that are &quot;given as an input to the graalVm compiler&quot;. This is also explained in the spring boot documentation [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent) and also [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent.launch)\r\n\r\nI created a repo (Which is a clone of the one from the guide), and just made one commit in order to &quot;activate the java agent while executing the test&quot; (in the history of the branch just look at the last commit).\r\n\r\nplease get it like this:\r\n`git clone https://github.com/clembo590/issues.git --branch issue_with_agent`\r\n\r\n\r\nwhen executing: `mvn clean -P native native:compile` I get this error\r\n\r\n```\r\nCaused by: com.oracle.svm.core.util.VMError$HostedError: New Method or Constructor found as reachable after static analysis: public java.lang.String com.example.aot.properties.DemoProperties.name()\r\n```\r\n\r\nI looked on the web if I could find something about this issue:\r\nI found [one issue on github about that](https://github.com/oracle/graal/discussions/4670) , but I do not know how to fix it in the case of a spring boot app. \r\n\r\nThank you for your help.\r\n","title":"spring boot 3 native fail with javaAgent configured","body":"<p>I must say that I am pretty new with graalvm (like most people nowadays).\nI have been following <a href=\"https://github.com/spring-tips/spring-boot-3-aot\" rel=\"nofollow noreferrer\">this guide</a> created by <a href=\"https://stackoverflow.com/users/607357/josh-long\">@joshLong</a> to create a spring boot native application.\nIn the guide it explains that we can use the java agent while executing tests in order to create the <code>reflect-config.json</code> and other files that are &quot;given as an input to the graalVm compiler&quot;. This is also explained in the spring boot documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent\" rel=\"nofollow noreferrer\">here</a> and also <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent.launch\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I created a repo (Which is a clone of the one from the guide), and just made one commit in order to &quot;activate the java agent while executing the test&quot; (in the history of the branch just look at the last commit).</p>\n<p>please get it like this:\n<code>git clone https://github.com/clembo590/issues.git --branch issue_with_agent</code></p>\n<p>when executing: <code>mvn clean -P native native:compile</code> I get this error</p>\n<pre><code>Caused by: com.oracle.svm.core.util.VMError$HostedError: New Method or Constructor found as reachable after static analysis: public java.lang.String com.example.aot.properties.DemoProperties.name()\n</code></pre>\n<p>I looked on the web if I could find something about this issue:\nI found <a href=\"https://github.com/oracle/graal/discussions/4670\" rel=\"nofollow noreferrer\">one issue on github about that</a> , but I do not know how to fix it in the case of a spring boot app.</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","metaprogramming","repeat"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":4,"creation_date":1676448048,"post_id":75456896,"comment_id":133136493,"body_markdown":"For this reason in Java we have Collections. I.e. Lists, Arrays, Maps etc. You can put all values in a list and all Integers in another list.\nThis should also help : https://stackoverflow.com/questions/8631935/creating-a-variable-name-using-a-string-value","body":"For this reason in Java we have Collections. I.e. Lists, Arrays, Maps etc. You can put all values in a list and all Integers in another list. This should also help : <a href=\"https://stackoverflow.com/questions/8631935/creating-a-variable-name-using-a-string-value\" title=\"creating a variable name using a string value\">stackoverflow.com/questions/8631935/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676448987,"post_id":75456896,"comment_id":133136713,"body_markdown":"In programming, if you ever find yourself wanting to create many variables of the same type, then you should immediately consider using an array, list, set, map, or other data structure that represents a collection of items. With a naming pattern like `valueX`, where `X` is replaced by incrementing numbers, then an array or list is the ideal choice. It&#39;s the same idea as how if you find yourself writing fundamentally the same code over and over, you should immediately consider using a loop or creating a method, depending on the context.","body":"In programming, if you ever find yourself wanting to create many variables of the same type, then you should immediately consider using an array, list, set, map, or other data structure that represents a collection of items. With a naming pattern like <code>valueX</code>, where <code>X</code> is replaced by incrementing numbers, then an array or list is the ideal choice. It&#39;s the same idea as how if you find yourself writing fundamentally the same code over and over, you should immediately consider using a loop or creating a method, depending on the context."}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676448856,"creation_date":1676448268,"answer_id":75456951,"question_id":75456896,"body_markdown":"It was a little strange question and I don&#39;t know if I understood your meaning correctly or not.\r\nBut in this particular case, instead of repeating the code, you can use a data structure like an array. See [Oracle tutorial][1]. \r\n\r\n    int[] numvar = new int[arr.length];\r\n    for (int i = 0; i &lt; args.length; i++) {\r\n        int someNumber = Integer.parseInt(args[i]);\r\n        numvar[i] = someNumber;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"Is there a way to do many similar tasks in Java?","body":"<p>It was a little strange question and I don't know if I understood your meaning correctly or not.\nBut in this particular case, instead of repeating the code, you can use a data structure like an array. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a>.</p>\n<pre><code>int[] numvar = new int[arr.length];\nfor (int i = 0; i &lt; args.length; i++) {\n    int someNumber = Integer.parseInt(args[i]);\n    numvar[i] = someNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":27790975,"reputation":3,"user_id":21217422,"display_name":"JLDoucet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676449178,"accepted_answer_id":75456951,"answer_count":1,"score":-3,"last_activity_date":1676448856,"creation_date":1676447851,"question_id":75456896,"body_markdown":"Say for instance I want to repeat the line of code \r\n```\r\nInteger int1 = new Integer(value1);\r\n```\r\nfor many variables, such as int1 to int100. I am not asking about this exact task in particular - I am asking about any such situation where the code would be identical save for replacing small details like int1 and value1 with int2, value2. Is there a way to have the JVM complete this for me?\r\n\r\n\r\nI am not even sure what approach to take on this or what term to search for more information. The only thing I can think to try is instead of typing &quot;int1&quot;, having a loop that changes a string containing the name and attempting to pass the string as a symbol to the JVM but this of course does not work.","title":"Is there a way to do many similar tasks in Java?","body":"<p>Say for instance I want to repeat the line of code</p>\n<pre><code>Integer int1 = new Integer(value1);\n</code></pre>\n<p>for many variables, such as int1 to int100. I am not asking about this exact task in particular - I am asking about any such situation where the code would be identical save for replacing small details like int1 and value1 with int2, value2. Is there a way to have the JVM complete this for me?</p>\n<p>I am not even sure what approach to take on this or what term to search for more information. The only thing I can think to try is instead of typing &quot;int1&quot;, having a loop that changes a string containing the name and attempting to pass the string as a symbol to the JVM but this of course does not work.</p>\n"},{"tags":["java","spring","jpa","reflection","mybatis"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1675826021,"post_id":75380973,"comment_id":133010289,"body_markdown":"That&#39;s not how fields on an entity class should work -- you should have a gender field with a getter and setter, and then a getDescription method, with no setter for description.","body":"That&#39;s not how fields on an entity class should work -- you should have a gender field with a getter and setter, and then a getDescription method, with no setter for description."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675826699,"post_id":75380973,"comment_id":133010351,"body_markdown":"@tgdavies No, describe can be completely replaced by gender, I will modify it right away, you will understand what I mean","body":"@tgdavies No, describe can be completely replaced by gender, I will modify it right away, you will understand what I mean"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675827677,"post_id":75380973,"comment_id":133010456,"body_markdown":"What gets stored into the gender column in the DB? What happens when a `Human` object is created from a row of DB data. And what happens when `setAge` is called with a different value?","body":"What gets stored into the gender column in the DB? What happens when a <code>Human</code> object is created from a row of DB data. And what happens when <code>setAge</code> is called with a different value?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675827964,"post_id":75380973,"comment_id":133010489,"body_markdown":"And I don&#39;t think your table is in 3NF.","body":"And I don&#39;t think your table is in 3NF."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675827994,"post_id":75380973,"comment_id":133010492,"body_markdown":"@tgdavies I understand what you mean. This entity class Human cannot be stored in the database, and the original data will be destroyed, but I don&#39;t need it to be stored. It has no writing method. \nOr, you can think that it is not read from the database, its initialization data only comes from xml, yml, configuration center","body":"@tgdavies I understand what you mean. This entity class Human cannot be stored in the database, and the original data will be destroyed, but I don&#39;t need it to be stored. It has no writing method.  Or, you can think that it is not read from the database, its initialization data only comes from xml, yml, configuration center"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675828093,"post_id":75380973,"comment_id":133010506,"body_markdown":"@tgdavies Thanks for your answer, yes this is not 3NF compliant, I&#39;m just giving an example of fetching data, what I want to know is how to control the order of setter calls","body":"@tgdavies Thanks for your answer, yes this is not 3NF compliant, I&#39;m just giving an example of fetching data, what I want to know is how to control the order of setter calls"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675829128,"post_id":75380973,"comment_id":133010599,"body_markdown":"If your instances are being created by Spring, then use constructor injection and don&#39;t have any setters at all.","body":"If your instances are being created by Spring, then use constructor injection and don&#39;t have any setters at all."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1675855106,"post_id":75380973,"comment_id":133016405,"body_markdown":"If you have a calculated property (such as `description` here), you either calculate the value in its getter, or if you cache it (as you do it here) then you need to recalculate it if any property it depends on changes. This means that `setAge` is missing a bunch of code.","body":"If you have a calculated property (such as <code>description</code> here), you either calculate the value in its getter, or if you cache it (as you do it here) then you need to recalculate it if any property it depends on changes. This means that <code>setAge</code> is missing a bunch of code."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676036998,"post_id":75380973,"comment_id":133061846,"body_markdown":"This new class is pointless. Why does it calculate a string in the `setGender` method that is not used anywhere?","body":"This new class is pointless. Why does it calculate a string in the <code>setGender</code> method that is not used anywhere?"},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1676276817,"post_id":75380973,"comment_id":133097458,"body_markdown":"Setters and Getters are primarily aimed at controlling the read / modification of a single field. Its RESPONSIBILITY also is scoped for that.","body":"Setters and Getters are primarily aimed at controlling the read / modification of a single field. Its RESPONSIBILITY also is scoped for that."}],"answers":[{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676276952,"creation_date":1676276569,"answer_id":75433410,"question_id":75380973,"body_markdown":"If you have a table in the database containing age and gender you could use something like this:\r\n\r\n    @Entity\r\n    public class Human {\r\n        @Id\r\n        private String id;\r\n        private Integer age;\r\n        private String gender;\r\n        @Transient\r\n        private String describe;\r\n\r\n        public void setId(String id){\r\n            this.id = id;\r\n        }\r\n\r\n        public void setAge(Integer age){\r\n            this.age = age;\r\n        }\r\n\r\n        public void setGender(String gender){\r\n            this.gender = gender;\r\n        }\r\n\r\n        @PostLoad\r\n        public void initDescribe(){\r\n            if (this.age &lt; 30) {\r\n                this.describe = &quot;young &quot; + this.gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                this.describe = &quot;middle-aged &quot; + this.gender;\r\n            } else {\r\n                this.describe = &quot;old &quot; + this.gender;\r\n            }\r\n        }\r\n    }\r\n\r\nSince the describe field is not in the database table it can be annotated with @Transient and the @PostLoad annotation will ensure that the initDescribe() method is called after age and gender fields are set.","title":"In spring, when the entity class is reflected into a bean, how to specify the calling order of the setter method?","body":"<p>If you have a table in the database containing age and gender you could use something like this:</p>\n<pre><code>@Entity\npublic class Human {\n    @Id\n    private String id;\n    private Integer age;\n    private String gender;\n    @Transient\n    private String describe;\n\n    public void setId(String id){\n        this.id = id;\n    }\n\n    public void setAge(Integer age){\n        this.age = age;\n    }\n\n    public void setGender(String gender){\n        this.gender = gender;\n    }\n\n    @PostLoad\n    public void initDescribe(){\n        if (this.age &lt; 30) {\n            this.describe = &quot;young &quot; + this.gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            this.describe = &quot;middle-aged &quot; + this.gender;\n        } else {\n            this.describe = &quot;old &quot; + this.gender;\n        }\n    }\n}\n</code></pre>\n<p>Since the describe field is not in the database table it can be annotated with @Transient and the @PostLoad annotation will ensure that the initDescribe() method is called after age and gender fields are set.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676448812,"creation_date":1676444175,"answer_id":75456402,"question_id":75380973,"body_markdown":"Test with:\r\n- spring-core-5.2.12.RELEASE.jar\r\n- spring-beans-5.2.12.RELEASE.jar\r\n- java version &quot;1.8.0_121&quot;\r\n\r\nLooking forward to a better solution.\r\n\r\nHere is my code for testing and debugging:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    public class RepositoryBean {\r\n        public static void main(String[] args) {\r\n            ApplicationContext AcContext = new AnnotationConfigApplicationContext(User.class, Configs.class);\r\n            System.out.println(AcContext.getBean(&quot;user&quot;, User.class));\r\n        }\r\n    }\r\n    \r\n    @Configuration\r\n    class Configs {\r\n        @Bean\r\n        public String name() { return &quot;the name&quot;; }\r\n        @Bean\r\n        public int age() { return 100; }\r\n    }\r\n    \r\n    @Component\r\n    class User {\r\n        private int age;\r\n        private String name;\r\n    \r\n        public User() { }\r\n    \r\n        @Autowired\r\n        public void setName(String name) { this.name = name; }\r\n    \r\n        public User(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public int getAge() { return age; }\r\n        public String getName() { return name; }\r\n    \r\n        @Autowired\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n    //        text =  Objects.requireNonNull(this.name) + age;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n------\r\nI am full of curiosity about this question. I have tried to find the answer from the source code these days (only for spring, other middleware, I have no energy to do it)\r\n\r\nFirst of all, the conclusion is that when spring initializes beans, it cannot control the order in which the setter methods are called(According to the results of my investigation of the source code, there may be omissions. If there is an error in my conclusion, I hope everyone can help point out).\r\n\r\nNow, please take a look at the documentation of [Class#getDeclaredMethods][1]:\r\n&gt; The elements in the returned array are not sorted and are not in any particular order.\r\n\r\nThrough reflection, when using getDeclaredMethods to get the Method array, there is no &quot;order&quot;. No &quot;order&quot; means that it is not sorted according to any rules, but the returned order seems to be regular every time it is called, i use the following code to test:\r\n\r\n    class User {\r\n        private int age;\r\n        private String name;\r\n        public void setName(String name) { this.name = name; }\r\n        public int getAge() { return age; }\r\n        public void setAge(int age) { this.age = age; }\r\n        public String getName() { return name; }\r\n    }\r\n    public static void main(String[] args) {\r\n        Class&lt;User&gt; c = User.class;\r\n        Method[] m = c.getDeclaredMethods();\r\n        Arrays.stream(m).forEach(System.out::println);\r\n    }\r\n\r\nNo matter how many times I run it(run about 20 times in a row, and run once in a while later), no matter what the setter method and attribute order in the User class are, the final output result, setAge is before setName:\r\n\r\n    public int com.anno.User.getAge()\r\n    public void com.anno.User.setAge(int)\r\n    public java.lang.String com.anno.User.getName()\r\n    public void com.anno.User.setName(java.lang.String)\r\nor:\r\n\r\n    public void com.anno.User.setAge(int)\r\n    public int com.anno.User.getAge()\r\n    public java.lang.String com.anno.User.getName()\r\n    public void com.anno.User.setName(java.lang.String)\r\n\r\n\r\nTherefore, in spring, when obtaining the method list through reflection, it is impossible to specify the order, and track the entire operation chain, and finally to the execution of the setter method, the method list still maintains the order in which it was obtained.\r\n\r\nDuring the entire initialization process, the processing of sorting the data in the method data is not seen.\r\n\r\nThe method `org.springframework.util.ReflectionUtils#getDeclaredMethods(Class&lt;?&gt;, boolean)` use `Class#getDeclaredMethods` to gets the array of all methods in User:\r\n\r\n\tprivate static Method[] getDeclaredMethods(Class&lt;?&gt; clazz, boolean defensive) {\r\n\t\tAssert.notNull(clazz, &quot;Class must not be null&quot;);\r\n\t\tMethod[] result = declaredMethodsCache.get(clazz);\r\n\t\tif (result == null) {\r\n\t\t\ttry {\r\n\t\t\t\tMethod[] declaredMethods = clazz.getDeclaredMethods();\r\n\t\t\t\tList&lt;Method&gt; defaultMethods = findConcreteMethodsOnInterfaces(clazz);\r\n\t\t\t\tif (defaultMethods != null) {\r\n\t\t\t\t\tresult = new Method[declaredMethods.length + defaultMethods.size()];\r\n\t\t\t\t\tSystem.arraycopy(declaredMethods, 0, result, 0, declaredMethods.length);\r\n\t\t\t\t\tint index = declaredMethods.length;\r\n\t\t\t\t\tfor (Method defaultMethod : defaultMethods) {\r\n\t\t\t\t\t\tresult[index] = defaultMethod;\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tresult = declaredMethods;\r\n\t\t\t\t}\r\n\t\t\t\tdeclaredMethodsCache.put(clazz, (result.length == 0 ? EMPTY_METHOD_ARRAY : result));\r\n\t\t\t}\r\n\t\t\tcatch (Throwable ex) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;Failed to introspect Class [&quot; + clazz.getName() +\r\n\t\t\t\t\t\t&quot;] from ClassLoader [&quot; + clazz.getClassLoader() + &quot;]&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (result.length == 0 || !defensive) ? result : result.clone();\r\n\t}\r\n\r\nOther related methods are as follows, please check by yourself:\r\n\r\n - `org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#postProcessProperties`\r\n - `org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#findAutowiringMetadata`\r\n - `org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#buildAutowiringMetadata`\r\n - `org.springframework.util.ReflectionUtils#doWithLocalMethods`\r\n\r\nThe final conclusion is that no matter how the setter methods and attributes are arranged in the User entity, setAge will be called first when the bean is initialized.\r\n\r\n**In other words, the final setter method will only be called in the order of the methods in the method array returned by Class#getDeclaredMethods()**\r\n\r\nI&#39;m not sure if other libraries provide the ability to specify the order in which the setter methods are called during reflection, so I can only assume that the order in which the setter methods are called cannot be guaranteed.\r\n\r\nsome advices\r\n------\r\nI think I understand your question, you seem to want to encapsulate the changing part into the setter method, so that even in your application, there are many places referencing this entity (say there are 100 places referencing it), you can just pass \r\nModify the setter method once to make the function effective for all referenced places.\r\n\r\nI think there is really no way to control its calling order. Apart from spring, we can&#39;t figure out all the implementations of other libraries.\r\n\r\nBut we can do conversion during the development process, you can look at the concepts of PO (persistant object)\r\n, BO(business object), DTO(data transfer object), VO(value object).\r\n\r\nYou can use PO, get the data from the xml、yml、configuration center or other data sources:\r\n\r\n    class HumanPO {\r\n        private Integer age;\r\n        private String gender;\r\n\r\n        public Integer getAge() { return age; }\r\n        public void setAge(Integer age) { this.age = age; }\r\n        public String getGender() { return gender; }\r\n        public void setGender(String gender) { this.gender = gender; }\r\n    }\r\n\r\nThen, convert it to a business object &#39;BO&#39; where you can encapsulate logic:\r\n\r\n    class HumanBO {\r\n        private Integer age;\r\n        private String gender;\r\n        private String describe;\r\n    \r\n    \r\n        public static HumanBO PoConvertToBo(HumanPO humanPo) {\r\n            HumanBO rt = new HumanBO();\r\n            rt.setAge(humanPo.getAge());\r\n            rt.setGender(humanPo.getGender());\r\n            rt.setDescribe(humanPo.getGender());\r\n            return rt;\r\n        }\r\n    \r\n        public Integer getAge() { return age; }\r\n        public void setAge(Integer age) { this.age = age; }\r\n        public String getGender() { return gender; }\r\n        public void setGender(String gender) { this.gender = gender; }\r\n        public String getDescribe() { return describe; }\r\n        public void setDescribe(String gender) {\r\n            String describe = &quot;&quot;;\r\n            if (this.age &lt; 30) {\r\n                describe = &quot;young &quot; + gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                describe = &quot;middle-aged &quot; + gender;\r\n            } else {\r\n                describe = &quot;old &quot; + gender;\r\n            }\r\n            this.describe = describe;\r\n        }\r\n    }\r\n\r\nNow, you can implement your changing needs by modifying HumanBO.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethods--\r\n","title":"In spring, when the entity class is reflected into a bean, how to specify the calling order of the setter method?","body":"<p>Test with:</p>\n<ul>\n<li>spring-core-5.2.12.RELEASE.jar</li>\n<li>spring-beans-5.2.12.RELEASE.jar</li>\n<li>java version &quot;1.8.0_121&quot;</li>\n</ul>\n<p>Looking forward to a better solution.</p>\n<p>Here is my code for testing and debugging:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\npublic class RepositoryBean {\n    public static void main(String[] args) {\n        ApplicationContext AcContext = new AnnotationConfigApplicationContext(User.class, Configs.class);\n        System.out.println(AcContext.getBean(&quot;user&quot;, User.class));\n    }\n}\n\n@Configuration\nclass Configs {\n    @Bean\n    public String name() { return &quot;the name&quot;; }\n    @Bean\n    public int age() { return 100; }\n}\n\n@Component\nclass User {\n    private int age;\n    private String name;\n\n    public User() { }\n\n    @Autowired\n    public void setName(String name) { this.name = name; }\n\n    public User(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getAge() { return age; }\n    public String getName() { return name; }\n\n    @Autowired\n    public void setAge(int age) {\n        this.age = age;\n//        text =  Objects.requireNonNull(this.name) + age;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<hr />\n<p>I am full of curiosity about this question. I have tried to find the answer from the source code these days (only for spring, other middleware, I have no energy to do it)</p>\n<p>First of all, the conclusion is that when spring initializes beans, it cannot control the order in which the setter methods are called(According to the results of my investigation of the source code, there may be omissions. If there is an error in my conclusion, I hope everyone can help point out).</p>\n<p>Now, please take a look at the documentation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethods--\" rel=\"nofollow noreferrer\">Class#getDeclaredMethods</a>:</p>\n<blockquote>\n<p>The elements in the returned array are not sorted and are not in any particular order.</p>\n</blockquote>\n<p>Through reflection, when using getDeclaredMethods to get the Method array, there is no &quot;order&quot;. No &quot;order&quot; means that it is not sorted according to any rules, but the returned order seems to be regular every time it is called, i use the following code to test:</p>\n<pre><code>class User {\n    private int age;\n    private String name;\n    public void setName(String name) { this.name = name; }\n    public int getAge() { return age; }\n    public void setAge(int age) { this.age = age; }\n    public String getName() { return name; }\n}\npublic static void main(String[] args) {\n    Class&lt;User&gt; c = User.class;\n    Method[] m = c.getDeclaredMethods();\n    Arrays.stream(m).forEach(System.out::println);\n}\n</code></pre>\n<p>No matter how many times I run it(run about 20 times in a row, and run once in a while later), no matter what the setter method and attribute order in the User class are, the final output result, setAge is before setName:</p>\n<pre><code>public int com.anno.User.getAge()\npublic void com.anno.User.setAge(int)\npublic java.lang.String com.anno.User.getName()\npublic void com.anno.User.setName(java.lang.String)\n</code></pre>\n<p>or:</p>\n<pre><code>public void com.anno.User.setAge(int)\npublic int com.anno.User.getAge()\npublic java.lang.String com.anno.User.getName()\npublic void com.anno.User.setName(java.lang.String)\n</code></pre>\n<p>Therefore, in spring, when obtaining the method list through reflection, it is impossible to specify the order, and track the entire operation chain, and finally to the execution of the setter method, the method list still maintains the order in which it was obtained.</p>\n<p>During the entire initialization process, the processing of sorting the data in the method data is not seen.</p>\n<p>The method <code>org.springframework.util.ReflectionUtils#getDeclaredMethods(Class&lt;?&gt;, boolean)</code> use <code>Class#getDeclaredMethods</code> to gets the array of all methods in User:</p>\n<pre><code>private static Method[] getDeclaredMethods(Class&lt;?&gt; clazz, boolean defensive) {\n    Assert.notNull(clazz, &quot;Class must not be null&quot;);\n    Method[] result = declaredMethodsCache.get(clazz);\n    if (result == null) {\n        try {\n            Method[] declaredMethods = clazz.getDeclaredMethods();\n            List&lt;Method&gt; defaultMethods = findConcreteMethodsOnInterfaces(clazz);\n            if (defaultMethods != null) {\n                result = new Method[declaredMethods.length + defaultMethods.size()];\n                System.arraycopy(declaredMethods, 0, result, 0, declaredMethods.length);\n                int index = declaredMethods.length;\n                for (Method defaultMethod : defaultMethods) {\n                    result[index] = defaultMethod;\n                    index++;\n                }\n            }\n            else {\n                result = declaredMethods;\n            }\n            declaredMethodsCache.put(clazz, (result.length == 0 ? EMPTY_METHOD_ARRAY : result));\n        }\n        catch (Throwable ex) {\n            throw new IllegalStateException(&quot;Failed to introspect Class [&quot; + clazz.getName() +\n                    &quot;] from ClassLoader [&quot; + clazz.getClassLoader() + &quot;]&quot;, ex);\n        }\n    }\n    return (result.length == 0 || !defensive) ? result : result.clone();\n}\n</code></pre>\n<p>Other related methods are as follows, please check by yourself:</p>\n<ul>\n<li><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#postProcessProperties</code></li>\n<li><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#findAutowiringMetadata</code></li>\n<li><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#buildAutowiringMetadata</code></li>\n<li><code>org.springframework.util.ReflectionUtils#doWithLocalMethods</code></li>\n</ul>\n<p>The final conclusion is that no matter how the setter methods and attributes are arranged in the User entity, setAge will be called first when the bean is initialized.</p>\n<p><strong>In other words, the final setter method will only be called in the order of the methods in the method array returned by Class#getDeclaredMethods()</strong></p>\n<p>I'm not sure if other libraries provide the ability to specify the order in which the setter methods are called during reflection, so I can only assume that the order in which the setter methods are called cannot be guaranteed.</p>\n<h2>some advices</h2>\n<p>I think I understand your question, you seem to want to encapsulate the changing part into the setter method, so that even in your application, there are many places referencing this entity (say there are 100 places referencing it), you can just pass\nModify the setter method once to make the function effective for all referenced places.</p>\n<p>I think there is really no way to control its calling order. Apart from spring, we can't figure out all the implementations of other libraries.</p>\n<p>But we can do conversion during the development process, you can look at the concepts of PO (persistant object)\n, BO(business object), DTO(data transfer object), VO(value object).</p>\n<p>You can use PO, get the data from the xml、yml、configuration center or other data sources:</p>\n<pre><code>class HumanPO {\n    private Integer age;\n    private String gender;\n\n    public Integer getAge() { return age; }\n    public void setAge(Integer age) { this.age = age; }\n    public String getGender() { return gender; }\n    public void setGender(String gender) { this.gender = gender; }\n}\n</code></pre>\n<p>Then, convert it to a business object 'BO' where you can encapsulate logic:</p>\n<pre><code>class HumanBO {\n    private Integer age;\n    private String gender;\n    private String describe;\n\n\n    public static HumanBO PoConvertToBo(HumanPO humanPo) {\n        HumanBO rt = new HumanBO();\n        rt.setAge(humanPo.getAge());\n        rt.setGender(humanPo.getGender());\n        rt.setDescribe(humanPo.getGender());\n        return rt;\n    }\n\n    public Integer getAge() { return age; }\n    public void setAge(Integer age) { this.age = age; }\n    public String getGender() { return gender; }\n    public void setGender(String gender) { this.gender = gender; }\n    public String getDescribe() { return describe; }\n    public void setDescribe(String gender) {\n        String describe = &quot;&quot;;\n        if (this.age &lt; 30) {\n            describe = &quot;young &quot; + gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            describe = &quot;middle-aged &quot; + gender;\n        } else {\n            describe = &quot;old &quot; + gender;\n        }\n        this.describe = describe;\n    }\n}\n</code></pre>\n<p>Now, you can implement your changing needs by modifying HumanBO.</p>\n"}],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75456402,"answer_count":2,"score":3,"last_activity_date":1676448812,"creation_date":1675824840,"question_id":75380973,"body_markdown":"I have encountered a rather difficult problem, Suppose there is an entity class, the code is as follows:\r\n\r\n    class Human {\r\n        private Integer age; // age of the human\r\n        private String describe; // description of the human based on their age\r\n    \r\n        /**\r\n         * Setter method for the age of the human\r\n         *\r\n         * @param age the age of the human\r\n         */\r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        /**\r\n         * Setter method for the description of the human\r\n         * The description is determined based on their age\r\n         *\r\n         * @param gender the gender of the human\r\n         */\r\n        public void setDescribe(String gender) {\r\n            String describe = &quot;&quot;;\r\n            if (this.age &lt; 30) {\r\n                describe = &quot;young &quot; + gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                describe = &quot;middle-aged &quot; + gender;\r\n            } else {\r\n                describe = &quot;old &quot; + gender;\r\n            }\r\n            this.describe = describe;\r\n        }\r\n    }\r\n\r\nAs shown in the code (just an example, the attribute or class may be arbitrary), if I use spring and use spring to generate beans, I must ensure that method `setAge` is called first. How can I ensure this?\r\n\r\nIf there is a table in the database that stores age and gender, how can I ensure that setAge is called first when I use jpa, mybatis or other libraries to reflect entities?\r\n\r\nI tried to search, but I didn&#39;t find the answer. The following are the keywords I searched and some related answers, but it doesn&#39;t seem to solve my doubts：\r\n\r\n***Spring init bean, how to ensure that a setter method is executed first*** \r\n\r\n***Spring reflection entity class, how to ensure that a setter method is executed first***\r\n\r\n***spring call setter after other setter***\r\n\r\n***When jpa reflects entity classes  setter methods call order***\r\n\r\n[Spring setter method order][1]\r\n\r\n[Spring - why initialization is called after setter method][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5139301/spring-setter-method-order\r\n  [2]: https://stackoverflow.com/questions/15261760/spring-why-initialization-is-called-after-setter-method\r\n\r\n---------\r\nFor tgdavies comment，if the demand of the product is to expand the gender description function and add the age description，the class like this：\r\n\r\n    class Human {\r\n        private Integer age;\r\n        private String gender;\r\n    \r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public void setGender(String gender) {\r\n            String describe = &quot;&quot;;\r\n            if (this.age &lt; 30) {\r\n                describe = &quot;young &quot; + gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                describe = &quot;middle-aged&quot; + gender;\r\n            } else {\r\n                describe = &quot;old&quot; + gender;\r\n            }\r\n            this.gender = describe;\r\n        }\r\n    }\r\n\r\n","title":"In spring, when the entity class is reflected into a bean, how to specify the calling order of the setter method?","body":"<p>I have encountered a rather difficult problem, Suppose there is an entity class, the code is as follows:</p>\n<pre><code>class Human {\n    private Integer age; // age of the human\n    private String describe; // description of the human based on their age\n\n    /**\n     * Setter method for the age of the human\n     *\n     * @param age the age of the human\n     */\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    /**\n     * Setter method for the description of the human\n     * The description is determined based on their age\n     *\n     * @param gender the gender of the human\n     */\n    public void setDescribe(String gender) {\n        String describe = &quot;&quot;;\n        if (this.age &lt; 30) {\n            describe = &quot;young &quot; + gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            describe = &quot;middle-aged &quot; + gender;\n        } else {\n            describe = &quot;old &quot; + gender;\n        }\n        this.describe = describe;\n    }\n}\n</code></pre>\n<p>As shown in the code (just an example, the attribute or class may be arbitrary), if I use spring and use spring to generate beans, I must ensure that method <code>setAge</code> is called first. How can I ensure this?</p>\n<p>If there is a table in the database that stores age and gender, how can I ensure that setAge is called first when I use jpa, mybatis or other libraries to reflect entities?</p>\n<p>I tried to search, but I didn't find the answer. The following are the keywords I searched and some related answers, but it doesn't seem to solve my doubts：</p>\n<p><em><strong>Spring init bean, how to ensure that a setter method is executed first</strong></em></p>\n<p><em><strong>Spring reflection entity class, how to ensure that a setter method is executed first</strong></em></p>\n<p><em><strong>spring call setter after other setter</strong></em></p>\n<p><em><strong>When jpa reflects entity classes  setter methods call order</strong></em></p>\n<p><a href=\"https://stackoverflow.com/questions/5139301/spring-setter-method-order\">Spring setter method order</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15261760/spring-why-initialization-is-called-after-setter-method\">Spring - why initialization is called after setter method</a></p>\n<hr />\n<p>For tgdavies comment，if the demand of the product is to expand the gender description function and add the age description，the class like this：</p>\n<pre><code>class Human {\n    private Integer age;\n    private String gender;\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public void setGender(String gender) {\n        String describe = &quot;&quot;;\n        if (this.age &lt; 30) {\n            describe = &quot;young &quot; + gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            describe = &quot;middle-aged&quot; + gender;\n        } else {\n            describe = &quot;old&quot; + gender;\n        }\n        this.gender = describe;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3670781,"reputation":2885,"user_id":3058050,"accept_rate":38,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484031830,"creation_date":1484031830,"answer_id":41562994,"question_id":41562905,"body_markdown":"From the reference of [calculate age][1], use period class as following:\r\n\r\n    LocalDate today = LocalDate.now();\r\n    LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\r\n     \r\n    Period p = Period.between(birthday, today);\r\n     \r\n    //Now access the values as below\r\n    System.out.println(period.getDays());\r\n    System.out.println(period.getMonths());\r\n    System.out.println(period.getYears());\r\n \r\nhope it will solve your concern.\r\n\r\n\r\n  [1]: http://howtodoinjava.com/for-fun-only/java-code-to-calculate-age-from-date-of-birth/","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>From the reference of <a href=\"http://howtodoinjava.com/for-fun-only/java-code-to-calculate-age-from-date-of-birth/\" rel=\"nofollow noreferrer\">calculate age</a>, use period class as following:</p>\n\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\n\nPeriod p = Period.between(birthday, today);\n\n//Now access the values as below\nSystem.out.println(period.getDays());\nSystem.out.println(period.getMonths());\nSystem.out.println(period.getYears());\n</code></pre>\n\n<p>hope it will solve your concern.</p>\n"},{"tags":[],"owner":{"account_id":9052913,"reputation":417,"user_id":6742238,"accept_rate":73,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484036526,"creation_date":1484036526,"answer_id":41564224,"question_id":41562905,"body_markdown":"try this...\r\n\r\n    private String getAge(int year, int month, int day) {\r\n        //calculating age from dob\r\n        Calendar dob = Calendar.getInstance();\r\n        Calendar today = Calendar.getInstance();\r\n        dob.set(year, month, day);\r\n        int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n        if (today.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)) {\r\n            age--;\r\n        }\r\n        return age;\r\n    }","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>try this...</p>\n\n<pre><code>private String getAge(int year, int month, int day) {\n    //calculating age from dob\n    Calendar dob = Calendar.getInstance();\n    Calendar today = Calendar.getInstance();\n    dob.set(year, month, day);\n    int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n    if (today.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)) {\n        age--;\n    }\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541151,"reputation":771,"user_id":2206934,"display_name":"Devram Kandhare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484039606,"creation_date":1484039606,"answer_id":41565095,"question_id":41562905,"body_markdown":"Use following code snippet to calculate the age:\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class AgeCalculator {\r\n    \r\n    \tpublic static int calculateAge(Date birthdate) {\r\n    \t\tCalendar birth = Calendar.getInstance();\r\n    \t\tbirth.setTime(birthdate);\r\n    \t\tCalendar today = Calendar.getInstance();\r\n    \r\n    \t\tint yearDifference = today.get(Calendar.YEAR)\r\n    \t\t\t\t- birth.get(Calendar.YEAR);\r\n    \r\n    \t\tif (today.get(Calendar.MONTH) &lt; birth.get(Calendar.MONTH)) {\r\n    \t\t\tyearDifference--;\r\n    \t\t} else {\r\n    \t\t\tif (today.get(Calendar.MONTH) == birth.get(Calendar.MONTH)\r\n    \t\t\t\t\t&amp;&amp; today.get(Calendar.DAY_OF_MONTH) &lt; birth\r\n    \t\t\t\t\t\t\t.get(Calendar.DAY_OF_MONTH)) {\r\n    \t\t\t\tyearDifference--;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn yearDifference;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\t// date format dd-mm-yyyy\r\n    \t\tString birthdateStr = &quot;11-01-1991&quot;;\r\n    \t\tSimpleDateFormat df = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);\r\n    \t\tDate birthdate = df.parse(birthdateStr);\r\n    \t\tSystem.out.println(AgeCalculator.calculateAge(birthdate));\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Use following code snippet to calculate the age:</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class AgeCalculator {\n\n    public static int calculateAge(Date birthdate) {\n        Calendar birth = Calendar.getInstance();\n        birth.setTime(birthdate);\n        Calendar today = Calendar.getInstance();\n\n        int yearDifference = today.get(Calendar.YEAR)\n                - birth.get(Calendar.YEAR);\n\n        if (today.get(Calendar.MONTH) &lt; birth.get(Calendar.MONTH)) {\n            yearDifference--;\n        } else {\n            if (today.get(Calendar.MONTH) == birth.get(Calendar.MONTH)\n                    &amp;&amp; today.get(Calendar.DAY_OF_MONTH) &lt; birth\n                            .get(Calendar.DAY_OF_MONTH)) {\n                yearDifference--;\n            }\n\n        }\n\n        return yearDifference;\n    }\n\n    public static void main(String[] args) throws ParseException {\n        // date format dd-mm-yyyy\n        String birthdateStr = \"11-01-1991\";\n        SimpleDateFormat df = new SimpleDateFormat(\"dd-mm-yyyy\");\n        Date birthdate = df.parse(birthdateStr);\n        System.out.println(AgeCalculator.calculateAge(birthdate));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13391357,"reputation":11,"user_id":9663637,"display_name":"Gopal_Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559025313,"creation_date":1559024319,"answer_id":56336071,"question_id":41562905,"body_markdown":"  This will be the suitable method for each condition of calculating Age from given Date --\r\n    \r\n    public static String getAge(int year, int month, int day) \r\n    {\r\n    \r\n     Calendar dob = Calendar.getInstance();\r\n    \r\n     Calendar today = Calendar.getInstance();\r\n    \r\n    dob.set(year, month, day);\r\n    \r\n    int today_m = today.get(Calendar.MONTH);\r\n    \r\n    int dob_m = dob.get(Calendar.MONTH);\r\n    \r\n    int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n    \r\n    if (dob_m &gt; today_m) \r\n    {\r\n    \r\n    age--;\r\n    } \r\n    else if (dob_m == today_m) \r\n    {\r\n    \r\n    int day_today = today.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    int day_dob = dob.get(Calendar.DAY_OF_MONTH);\r\n    if (day_dob &gt; day_today) {\r\n    age--;}\r\n   \r\n    }\r\n    return age+&quot;&quot;;\r\n    }\r\n    \r\nIn MainActivity\r\n\r\n\r\n    public SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(sdf2.parse(&quot;2000-03-21&quot;));\r\n    \r\n    String age=Util.getAge(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DATE));\r\n    \r\n    \r\nI am setting the given date in a calendar and sending the year,date and month to getAge() method.\r\n    you can change the date format as per you requirement.\r\n\r\n","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>This will be the suitable method for each condition of calculating Age from given Date --</p>\n\n<pre><code>public static String getAge(int year, int month, int day) \n{\n\n Calendar dob = Calendar.getInstance();\n\n Calendar today = Calendar.getInstance();\n\ndob.set(year, month, day);\n\nint today_m = today.get(Calendar.MONTH);\n\nint dob_m = dob.get(Calendar.MONTH);\n\nint age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n\nif (dob_m &gt; today_m) \n{\n\nage--;\n} \nelse if (dob_m == today_m) \n{\n\nint day_today = today.get(Calendar.DAY_OF_MONTH);\n\nint day_dob = dob.get(Calendar.DAY_OF_MONTH);\nif (day_dob &gt; day_today) {\nage--;}\n\n}\nreturn age+\"\";\n}\n</code></pre>\n\n<p>In MainActivity</p>\n\n<pre><code>public SimpleDateFormat sdf2 = new SimpleDateFormat(\"yyyy-MM-dd\");\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(sdf2.parse(\"2000-03-21\"));\n\nString age=Util.getAge(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DATE));\n</code></pre>\n\n<p>I am setting the given date in a calendar and sending the year,date and month to getAge() method.\n    you can change the date format as per you requirement.</p>\n"},{"tags":[],"owner":{"account_id":10031172,"reputation":308,"user_id":7863940,"display_name":"ThiagoYou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576599242,"creation_date":1576597507,"answer_id":59377675,"question_id":41562905,"body_markdown":"I know it&#39;s already an old question, but date calculation is something that always back to the discussion. \r\n\r\nThis is the method im actually using to get the exact year between two dates:\r\n\r\n        public static String getYear(Date value) {\r\n            Calendar date = Calendar.getInstance();\r\n            Calendar today = Calendar.getInstance();\r\n    \r\n            date.setTime(value);\r\n    \r\n            /* get raw year between dates */\r\n            int year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\r\n    \r\n            /* calculate exact year */\r\n            if (\r\n                    (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\r\n                    (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\r\n            ) {\r\n                year--;\r\n            }\r\n    \r\n            return year &gt; 0 ? Integer.toString(year) : &quot;0&quot;;\r\n        }\r\n\r\n**-- EDIT**\r\n\r\nWith JDK 8 is easier to get the year difference between dates:\r\n\r\n([As explained in this other answer][1])\r\n\r\n    public static String getYear(Date value) {\r\n        LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n        int year = Period.between(date, LocalDate.now()).getYears();\r\n\r\n        return year &gt; 0 ? Integer.toString(year) : &quot;0&quot;;\r\n    }\r\n\r\n\r\nBut into Android (JAVA) this only work on API 26+, so it&#39;s better to use both methods based on SDK version:\r\n\r\n    public static String getYear(Date value) {\r\n        int year;\r\n    \r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n            year = Period.between(date, LocalDate.now()).getYears();\r\n        } else {\r\n            Calendar date = Calendar.getInstance();\r\n            Calendar today = Calendar.getInstance();\r\n    \r\n            date.setTime(value);\r\n    \r\n            /* get raw year between dates */\r\n            year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\r\n    \r\n            /* calculate exact year */\r\n            if (\r\n                    (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\r\n                    (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\r\n            ) {\r\n                year--;\r\n            }\r\n        }\r\n    \r\n        return year &gt; 0 ? Integer.toString(year) : &quot;0&quot;;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/1116138/7863940","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>I know it's already an old question, but date calculation is something that always back to the discussion. </p>\n\n<p>This is the method im actually using to get the exact year between two dates:</p>\n\n<pre><code>    public static String getYear(Date value) {\n        Calendar date = Calendar.getInstance();\n        Calendar today = Calendar.getInstance();\n\n        date.setTime(value);\n\n        /* get raw year between dates */\n        int year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\n\n        /* calculate exact year */\n        if (\n                (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\n                (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\n        ) {\n            year--;\n        }\n\n        return year &gt; 0 ? Integer.toString(year) : \"0\";\n    }\n</code></pre>\n\n<p><strong>-- EDIT</strong></p>\n\n<p>With JDK 8 is easier to get the year difference between dates:</p>\n\n<p>(<a href=\"https://stackoverflow.com/a/1116138/7863940\">As explained in this other answer</a>)</p>\n\n<pre><code>public static String getYear(Date value) {\n    LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n    int year = Period.between(date, LocalDate.now()).getYears();\n\n    return year &gt; 0 ? Integer.toString(year) : \"0\";\n}\n</code></pre>\n\n<p>But into Android (JAVA) this only work on API 26+, so it's better to use both methods based on SDK version:</p>\n\n<pre><code>public static String getYear(Date value) {\n    int year;\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n        year = Period.between(date, LocalDate.now()).getYears();\n    } else {\n        Calendar date = Calendar.getInstance();\n        Calendar today = Calendar.getInstance();\n\n        date.setTime(value);\n\n        /* get raw year between dates */\n        year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\n\n        /* calculate exact year */\n        if (\n                (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\n                (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\n        ) {\n            year--;\n        }\n    }\n\n    return year &gt; 0 ? Integer.toString(year) : \"0\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7410856,"reputation":1553,"user_id":5638220,"display_name":"Ashish Chaugule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585502861,"creation_date":1578401049,"answer_id":59628679,"question_id":41562905,"body_markdown":"Check this for android in Kotlin : \r\n\r\n    fun calculateAgeFromDob(birthDate: String,dateFormat:String): Int {\r\n          \r\n            val sdf = SimpleDateFormat(dateFormat)\r\n            val dob = Calendar.getInstance()\r\n            dob.time = sdf.parse(birthDate)\r\n\r\n            val today = Calendar.getInstance()\r\n\r\n            val curYear = today.get(Calendar.YEAR)\r\n            val dobYear = dob.get(Calendar.YEAR)\r\n\r\n            var age = curYear - dobYear\r\n\r\n            try {\r\n                // if dob is month or day is behind today&#39;s month or day\r\n                // reduce age by 1\r\n                val curMonth = today.get(Calendar.MONTH+1)\r\n                val dobMonth = dob.get(Calendar.MONTH+1)\r\n                if (dobMonth &gt;curMonth) { // this year can&#39;t be counted!\r\n                    age--\r\n                } else if (dobMonth == curMonth) { // same month? check for day\r\n                    val curDay = today.get(Calendar.DAY_OF_MONTH)\r\n                    val dobDay = dob.get(Calendar.DAY_OF_MONTH)\r\n                    if (dobDay &gt; curDay) { // this year can&#39;t be counted!\r\n                        age--\r\n                    }\r\n                }\r\n            } catch (ex: Exception) {\r\n                ex.printStackTrace()\r\n            }\r\n\r\n            return age\r\n        }","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Check this for android in Kotlin : </p>\n\n<pre><code>fun calculateAgeFromDob(birthDate: String,dateFormat:String): Int {\n\n        val sdf = SimpleDateFormat(dateFormat)\n        val dob = Calendar.getInstance()\n        dob.time = sdf.parse(birthDate)\n\n        val today = Calendar.getInstance()\n\n        val curYear = today.get(Calendar.YEAR)\n        val dobYear = dob.get(Calendar.YEAR)\n\n        var age = curYear - dobYear\n\n        try {\n            // if dob is month or day is behind today's month or day\n            // reduce age by 1\n            val curMonth = today.get(Calendar.MONTH+1)\n            val dobMonth = dob.get(Calendar.MONTH+1)\n            if (dobMonth &gt;curMonth) { // this year can't be counted!\n                age--\n            } else if (dobMonth == curMonth) { // same month? check for day\n                val curDay = today.get(Calendar.DAY_OF_MONTH)\n                val dobDay = dob.get(Calendar.DAY_OF_MONTH)\n                if (dobDay &gt; curDay) { // this year can't be counted!\n                    age--\n                }\n            }\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n\n        return age\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590039827,"creation_date":1590039827,"answer_id":61928014,"question_id":41562905,"body_markdown":"Here i have calculated the age as year/month/day ,which works accurately to solve your problem.\r\n\r\n1. **Inputs are taken from datepicker.**\r\n\r\n2. **Look at this code [here](https://github.com/PrathameshJadhav33/Age_Calculator.git)!**\r\n\r\n            public void onClick(View v) {\r\n                int sday=d1.getDayOfMonth();\r\n                int smonth=d1.getMonth();\r\n                int syear=d1.getYear();\r\n\r\n                int eday=d2.getDayOfMonth();\r\n                int emonth=d2.getMonth();\r\n                int eyear=d2.getYear();\r\n\r\n                    //calculating year\r\n                    resyear = eyear - syear;\r\n\r\n                    //calculating month\r\n                    if (emonth &gt;= smonth) {\r\n                        resmonth = emonth - smonth;\r\n                    } else {\r\n                        resmonth = emonth - smonth;\r\n                        resmonth = 12 + resmonth;\r\n                        resyear--;\r\n                    }\r\n\r\n                    //calculating date\r\n                    if (eday &gt;= sday) {\r\n                        resday = eday - sday;\r\n                    } else {\r\n                        resday = eday - sday;\r\n                        resday = 31 + resday;\r\n                        if (resmonth == 0) {\r\n                            resmonth = 11;\r\n                            resyear--;\r\n                        } else {\r\n                            resmonth--;\r\n                        }\r\n                    }\r\n\r\n                    //displaying error if calculated age is negative\r\n                    if (resday &lt;0 || resmonth&lt;0 || resyear&lt;0) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Current Date must be greater than Date of Birth&quot;, Toast.LENGTH_LONG).show();\r\n                        t1.setText(&quot;Current Date must be greater than Date of Birth&quot;);\r\n                    }\r\n                    else {\r\n                        t1.setText(&quot;Age: &quot; + resyear + &quot; years /&quot; + resmonth + &quot; months/&quot; + resday + &quot; days&quot;);\r\n                    }\r\n                }\r\n     \r\n\r\n\r\n      ","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Here i have calculated the age as year/month/day ,which works accurately to solve your problem.</p>\n\n<ol>\n<li><p><strong>Inputs are taken from datepicker.</strong></p></li>\n<li><p><strong>Look at this code <a href=\"https://github.com/PrathameshJadhav33/Age_Calculator.git\" rel=\"nofollow noreferrer\">here</a>!</strong></p>\n\n<pre><code>    public void onClick(View v) {\n        int sday=d1.getDayOfMonth();\n        int smonth=d1.getMonth();\n        int syear=d1.getYear();\n\n        int eday=d2.getDayOfMonth();\n        int emonth=d2.getMonth();\n        int eyear=d2.getYear();\n\n            //calculating year\n            resyear = eyear - syear;\n\n            //calculating month\n            if (emonth &gt;= smonth) {\n                resmonth = emonth - smonth;\n            } else {\n                resmonth = emonth - smonth;\n                resmonth = 12 + resmonth;\n                resyear--;\n            }\n\n            //calculating date\n            if (eday &gt;= sday) {\n                resday = eday - sday;\n            } else {\n                resday = eday - sday;\n                resday = 31 + resday;\n                if (resmonth == 0) {\n                    resmonth = 11;\n                    resyear--;\n                } else {\n                    resmonth--;\n                }\n            }\n\n            //displaying error if calculated age is negative\n            if (resday &lt;0 || resmonth&lt;0 || resyear&lt;0) {\n                Toast.makeText(getApplicationContext(), \"Current Date must be greater than Date of Birth\", Toast.LENGTH_LONG).show();\n                t1.setText(\"Current Date must be greater than Date of Birth\");\n            }\n            else {\n                t1.setText(\"Age: \" + resyear + \" years /\" + resmonth + \" months/\" + resday + \" days\");\n            }\n        }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13535741,"reputation":1832,"user_id":9764941,"display_name":"Ali Azaz Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592467420,"creation_date":1592467420,"answer_id":62445235,"question_id":41562905,"body_markdown":"Use of JakeWharton library [ThreeTenABP][1]. As it&#39;s easy to use and provides awesome functionality.\r\n\r\n**Implementation**\r\n\r\nFirst, implement the Age Model class:\r\n\r\n    data class AgeModel(val day: Int, val month: Int, val year: Int)\r\n\r\nSecondly, Some functionality stuff:\r\n\r\n&gt; This function will validate the date like not greater than today&#39;s date but you could also do pass date in (***currentDate***) argument if you want to change the max range. Secondly, it&#39;ll also check these dates: 30-February, 31-June and return null.. And so on...\r\n\r\n    private fun getDate(year: Int, month: Int, day: Int): LocalDate? {\r\n            return try {\r\n                run { LocalDate.of(year, month, day) }\r\n            } catch (e: DateTimeException) {\r\n                null\r\n            }\r\n        }\r\n\r\n    fun getCalculatedAge(currentDate: LocalDate = LocalDate.now(), year: Int, month: Int, day: Int): AgeModel? {\r\n\r\n            var curdate = currentDate.dayOfMonth\r\n            var curmonth = currentDate.monthValue\r\n            var curyear = currentDate.year\r\n\r\n            val calculateDate = getDate(year, month, if (day == 0) curdate else day)\r\n                    ?: return null\r\n\r\n            if (calculateDate &gt; currentDate) return null\r\n\r\n            if (day &gt; curdate) {\r\n                curmonth -= 1\r\n                curdate += calculateDate.lengthOfMonth()\r\n            }\r\n\r\n            if (month &gt; curmonth) {\r\n                curyear -= 1\r\n                curmonth += 12\r\n            }\r\n            return AgeModel(curdate - day, curmonth - month, curyear - year)\r\n        }\r\n\r\n  [1]: https://github.com/JakeWharton/ThreeTenABP","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Use of JakeWharton library <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>. As it's easy to use and provides awesome functionality.</p>\n\n<p><strong>Implementation</strong></p>\n\n<p>First, implement the Age Model class:</p>\n\n<pre><code>data class AgeModel(val day: Int, val month: Int, val year: Int)\n</code></pre>\n\n<p>Secondly, Some functionality stuff:</p>\n\n<blockquote>\n  <p>This function will validate the date like not greater than today's date but you could also do pass date in (<strong><em>currentDate</em></strong>) argument if you want to change the max range. Secondly, it'll also check these dates: 30-February, 31-June and return null.. And so on...</p>\n</blockquote>\n\n<pre><code>private fun getDate(year: Int, month: Int, day: Int): LocalDate? {\n        return try {\n            run { LocalDate.of(year, month, day) }\n        } catch (e: DateTimeException) {\n            null\n        }\n    }\n\nfun getCalculatedAge(currentDate: LocalDate = LocalDate.now(), year: Int, month: Int, day: Int): AgeModel? {\n\n        var curdate = currentDate.dayOfMonth\n        var curmonth = currentDate.monthValue\n        var curyear = currentDate.year\n\n        val calculateDate = getDate(year, month, if (day == 0) curdate else day)\n                ?: return null\n\n        if (calculateDate &gt; currentDate) return null\n\n        if (day &gt; curdate) {\n            curmonth -= 1\n            curdate += calculateDate.lengthOfMonth()\n        }\n\n        if (month &gt; curmonth) {\n            curyear -= 1\n            curmonth += 12\n        }\n        return AgeModel(curdate - day, curmonth - month, curyear - year)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676448324,"creation_date":1676448324,"answer_id":75456958,"question_id":41562905,"body_markdown":"**Perfect age calculate to used every side**\r\n*used this code in Utils folder*\r\n\r\n    public static int getPerfectAge(int year, int month, int date) {\r\n\r\n        Calendar dobCalendar = Calendar.getInstance();\r\n\r\n        dobCalendar.set(Calendar.YEAR, year);\r\n        dobCalendar.set(Calendar.MONTH, month);\r\n        dobCalendar.set(Calendar.DATE, date);\r\n\r\n        int ageInteger = 0;\r\n\r\n        Calendar today = Calendar.getInstance();\r\n\r\n        ageInteger = today.get(Calendar.YEAR) - dobCalendar.get(Calendar.YEAR);\r\n\r\n        if (today.get(Calendar.MONTH) == dobCalendar.get(Calendar.MONTH)) {\r\n\r\n            if (today.get(Calendar.DAY_OF_MONTH) &lt; dobCalendar.get(Calendar.DAY_OF_MONTH)) {\r\n\r\n                ageInteger = ageInteger - 1;\r\n            }\r\n\r\n        } else if (today.get(Calendar.MONTH) &lt; dobCalendar.get(Calendar.MONTH)) {\r\n\r\n            ageInteger = ageInteger - 1;\r\n\r\n        }\r\n\r\n        return ageInteger;\r\n    }","title":"how to calculate the exact age of a person from date of birth in android","body":"<p><strong>Perfect age calculate to used every side</strong>\n<em>used this code in Utils folder</em></p>\n<pre><code>public static int getPerfectAge(int year, int month, int date) {\n\n    Calendar dobCalendar = Calendar.getInstance();\n\n    dobCalendar.set(Calendar.YEAR, year);\n    dobCalendar.set(Calendar.MONTH, month);\n    dobCalendar.set(Calendar.DATE, date);\n\n    int ageInteger = 0;\n\n    Calendar today = Calendar.getInstance();\n\n    ageInteger = today.get(Calendar.YEAR) - dobCalendar.get(Calendar.YEAR);\n\n    if (today.get(Calendar.MONTH) == dobCalendar.get(Calendar.MONTH)) {\n\n        if (today.get(Calendar.DAY_OF_MONTH) &lt; dobCalendar.get(Calendar.DAY_OF_MONTH)) {\n\n            ageInteger = ageInteger - 1;\n        }\n\n    } else if (today.get(Calendar.MONTH) &lt; dobCalendar.get(Calendar.MONTH)) {\n\n        ageInteger = ageInteger - 1;\n\n    }\n\n    return ageInteger;\n}\n</code></pre>\n"}],"owner":{"account_id":9351776,"reputation":11,"user_id":7397901,"display_name":"suraj karnati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34008,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":9,"score":0,"last_activity_date":1676448324,"creation_date":1484031522,"question_id":41562905,"body_markdown":"      First example: birthdate :10-01-1991(ddmmyyyy) \r\n                     CurrentDate :10-01-2017 \r\n if above is the condition then I want to print 26 as  current age. \r\n      Second example: birthdate :25-07-1991(ddmmyyyy)           \r\n                      CurrentDate :10-01-2017 \r\n if above is the condition then I want to print 25 as current age.\r\n\r\n   please help me ....!!!!!!\r\n\r\nBelow is the code that i have tried.      \r\n   \r\n\r\n    private int calculateage(Integer day1, Integer month1, Integer year1)\r\n    {\r\n\tCalendar birthCal = new GregorianCalendar(1991, 01, 10);\r\n\r\n\tCalendar nowCal = new GregorianCalendar();\r\n\r\n\tage = nowCal.get(Calendar.YEAR) - birthCal.get(Calendar.YEAR);\r\n\tboolean isMonthGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal\r\n\t\t\t.get(Calendar.MONTH);\r\n\r\n\tboolean isMonthSameButDayGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal.get(Calendar.MONTH)\r\n\t\t\t&amp;&amp; birthCal.get(Calendar.DAY_OF_MONTH) &gt;= nowCal\r\n\t\t\t\t\t.get(Calendar.DAY_OF_MONTH);\r\n\r\n\tif (age &lt; 18) {\r\n\t\tAge = age;\r\n\t}\r\n\telse if (isMonthGreater || isMonthSameButDayGreater) {\r\n\t\tAge = age - 1;\r\n\t}\r\n\treturn Age;\r\n}\r\n\r\n\r\n","title":"how to calculate the exact age of a person from date of birth in android","body":"<pre><code>  First example: birthdate :10-01-1991(ddmmyyyy) \n                 CurrentDate :10-01-2017 \n</code></pre>\n\n<p>if above is the condition then I want to print 26 as  current age. \n      Second example: birthdate :25-07-1991(ddmmyyyy)<br>\n                      CurrentDate :10-01-2017 \n if above is the condition then I want to print 25 as current age.</p>\n\n<p>please help me ....!!!!!!</p>\n\n<p>Below is the code that i have tried.      </p>\n\n<pre><code>private int calculateage(Integer day1, Integer month1, Integer year1)\n{\nCalendar birthCal = new GregorianCalendar(1991, 01, 10);\n\nCalendar nowCal = new GregorianCalendar();\n\nage = nowCal.get(Calendar.YEAR) - birthCal.get(Calendar.YEAR);\nboolean isMonthGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal\n        .get(Calendar.MONTH);\n\nboolean isMonthSameButDayGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal.get(Calendar.MONTH)\n        &amp;&amp; birthCal.get(Calendar.DAY_OF_MONTH) &gt;= nowCal\n                .get(Calendar.DAY_OF_MONTH);\n\nif (age &lt; 18) {\n    Age = age;\n}\nelse if (isMonthGreater || isMonthSameButDayGreater) {\n    Age = age - 1;\n}\nreturn Age;\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","jackson","spring-batch","lombok"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676447748,"creation_date":1676447748,"answer_id":75456881,"question_id":75454143,"body_markdown":"Data transformation is a typical use case for an item processor.\r\n\r\nThe way I would implement this with Spring Batch is configure a chunk-oriented step defined as follows:\r\n\r\n* A `JsonItemReader` to read the input file\r\n* An item processor that adds the business information\r\n* A `JsonItemWriter` to write the output file","title":"How do I create a nested JSON using Jackson?","body":"<p>Data transformation is a typical use case for an item processor.</p>\n<p>The way I would implement this with Spring Batch is configure a chunk-oriented step defined as follows:</p>\n<ul>\n<li>A <code>JsonItemReader</code> to read the input file</li>\n<li>An item processor that adds the business information</li>\n<li>A <code>JsonItemWriter</code> to write the output file</li>\n</ul>\n"}],"owner":{"account_id":20692100,"reputation":21,"user_id":15193247,"display_name":"jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676447748,"creation_date":1676416851,"question_id":75454143,"body_markdown":"I am trying to add the BusinessInformation data in my existing JSON.\r\n\r\n```\r\n{\r\n    &quot;Original&quot;: &quot;Web Form&quot;,\r\n    &quot;SubmitterNetworkName&quot;: &quot;null&quot;,\r\n    &quot;SourceName&quot;: &quot;Contact Request Form&quot;,\r\n    &quot;SourceKind&quot;: &quot;Web Form&quot;,\r\n\r\n**    &quot;BusinessInformation&quot;: {\r\n        &quot;BusinessContactName&quot;: null,\r\n        “AccountNumber”:null,\r\n    },**\r\n\r\n    &quot;EmployeeName&quot;: null,\r\n    &quot;EmployeeDOB&quot;: null,\r\n}\r\n```\r\n\r\nSo I have a Spring Batch app that exports data from a database to another DB and during that run some JSON needs to be created mapping multiple columns. I am using lombok and jackson mainly for the creation of JSON.\r\n\r\n\r\nThe model sample that I have. I also tried creating BusinessInformation class.\r\n\r\n```\r\npackage model\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ColumnNameForTheDBImImportingTo implements Serializable {\r\n\r\n    @JsonProperty(&quot;Origin&quot;)\r\n    private String Origin;\r\n\r\n    and so on..\r\n\r\n}\r\n```\r\n\r\nAnd then I have the Service for it.\r\n\r\n```\r\nimport org.codehaus.jackson.map.ObjectMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport twc.batch.extcbk.model.*;\r\nimport java.io.IOException;\r\n\r\n@Component\r\n@Slf4j\r\npublic class ColumnNameForTheDBImImportingToService {\r\n\t\t\r\n\tprivate ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo (some codes) {\r\n      \r\n        ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo = ColumnNameForTheDBImImportingTo .builder().build();\r\n\r\n        columnNameForTheDBImImportingTo.setOrigin(&quot;Web Form&quot;);\r\n}\r\n\r\n**Then I have a method for the object mapper.**\r\n\r\n\tprivate String getColumnNameForTheDBImImportingTo (ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo ) {\r\n\t\tString columnNameForTheDBImImportingToStr = null;\r\n\r\n\t\ttry {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tcolumnNameForTheDBImImportingToStr = mapper.writeValueAsString(columnNameForTheDBImImportingTo );\r\n\r\n\t\t\tlog.debug(&quot;columnNameForTheDBImImportingToStr {}&quot;, columnNameForTheDBImImportingToStr );\r\n\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(&quot;getColumnNameForTheDBImImportingTo &quot; + e.getMessage());\r\n\r\n\t\t}\r\n\t\treturn columnNameForTheDBImImportingToStr ;\r\n\t}\r\n\r\n**Then another class builds the db columns and sets the values.**\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried following the Baeldung but I don&#39;t quite understand it.\r\n\r\nI tried creating a new class for the business information and i was thinking of inserting it in the ColumnNameForTheDBImImportingTo.\r\n\r\nPlease refer me to any useful information I can follow for this problem.\r\n\r\nThanks!","title":"How do I create a nested JSON using Jackson?","body":"<p>I am trying to add the BusinessInformation data in my existing JSON.</p>\n<pre><code>{\n    &quot;Original&quot;: &quot;Web Form&quot;,\n    &quot;SubmitterNetworkName&quot;: &quot;null&quot;,\n    &quot;SourceName&quot;: &quot;Contact Request Form&quot;,\n    &quot;SourceKind&quot;: &quot;Web Form&quot;,\n\n**    &quot;BusinessInformation&quot;: {\n        &quot;BusinessContactName&quot;: null,\n        “AccountNumber”:null,\n    },**\n\n    &quot;EmployeeName&quot;: null,\n    &quot;EmployeeDOB&quot;: null,\n}\n</code></pre>\n<p>So I have a Spring Batch app that exports data from a database to another DB and during that run some JSON needs to be created mapping multiple columns. I am using lombok and jackson mainly for the creation of JSON.</p>\n<p>The model sample that I have. I also tried creating BusinessInformation class.</p>\n<pre><code>package model\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ColumnNameForTheDBImImportingTo implements Serializable {\n\n    @JsonProperty(&quot;Origin&quot;)\n    private String Origin;\n\n    and so on..\n\n}\n</code></pre>\n<p>And then I have the Service for it.</p>\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport lombok.extern.slf4j.Slf4j;\nimport twc.batch.extcbk.model.*;\nimport java.io.IOException;\n\n@Component\n@Slf4j\npublic class ColumnNameForTheDBImImportingToService {\n        \n    private ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo (some codes) {\n      \n        ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo = ColumnNameForTheDBImImportingTo .builder().build();\n\n        columnNameForTheDBImImportingTo.setOrigin(&quot;Web Form&quot;);\n}\n\n**Then I have a method for the object mapper.**\n\n    private String getColumnNameForTheDBImImportingTo (ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo ) {\n        String columnNameForTheDBImImportingToStr = null;\n\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            columnNameForTheDBImImportingToStr = mapper.writeValueAsString(columnNameForTheDBImImportingTo );\n\n            log.debug(&quot;columnNameForTheDBImImportingToStr {}&quot;, columnNameForTheDBImImportingToStr );\n\n\n        } catch (IOException e) {\n            log.error(&quot;getColumnNameForTheDBImImportingTo &quot; + e.getMessage());\n\n        }\n        return columnNameForTheDBImImportingToStr ;\n    }\n\n**Then another class builds the db columns and sets the values.**\n\n</code></pre>\n<p>I've tried following the Baeldung but I don't quite understand it.</p>\n<p>I tried creating a new class for the business information and i was thinking of inserting it in the ColumnNameForTheDBImImportingTo.</p>\n<p>Please refer me to any useful information I can follow for this problem.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","c++","tensorflow","android-ndk"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676281283,"post_id":75433618,"comment_id":133098647,"body_markdown":"You probably compiled a shared library for Android which had its own dependencies (libm.so) which aren&#39;t there in CMakeLists.txt.","body":"You probably compiled a shared library for Android which had its own dependencies (libm.so) which aren&#39;t there in CMakeLists.txt."},{"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"score":0,"creation_date":1676282795,"post_id":75433618,"comment_id":133099084,"body_markdown":"@kiner_shah I&#39;ve searched the library a bit which seems to be `math.h`, which apparently can be included with `-lm` flag but adding it changed nothing...","body":"@kiner_shah I&#39;ve searched the library a bit which seems to be <code>math.h</code>, which apparently can be included with <code>-lm</code> flag but adding it changed nothing..."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676282940,"post_id":75433618,"comment_id":133099135,"body_markdown":"Make sure to clean and rebuild your project after making changes to CMakeLists.txt","body":"Make sure to clean and rebuild your project after making changes to CMakeLists.txt"},{"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"score":0,"creation_date":1676286909,"post_id":75433618,"comment_id":133100177,"body_markdown":"@kiner_shah no change","body":"@kiner_shah no change"}],"answers":[{"tags":[],"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676447191,"creation_date":1676447191,"answer_id":75456792,"question_id":75433618,"body_markdown":"The reason was I ran with the `--config=elinux_aarch64` flag not `--config=android_arm64`. Using the android version of the command caused a bunch of more problems but I think it&#39;s the right way to go. The new problems are mainly caused by me trying to cross-compile an aarch64 code on a linux amd machine and it is not fully supported by tensorflow yet as far as I&#39;m concerned. Although I&#39;m not quite sure how someone can compile *on* an aarch64 machine...\r\n\r\n If someone has a pre-compiled aarch64 c++ tensorflow lite library links I would appreciate it.","title":"UnsatisfiedLinkError when running android project with tflite","body":"<p>The reason was I ran with the <code>--config=elinux_aarch64</code> flag not <code>--config=android_arm64</code>. Using the android version of the command caused a bunch of more problems but I think it's the right way to go. The new problems are mainly caused by me trying to cross-compile an aarch64 code on a linux amd machine and it is not fully supported by tensorflow yet as far as I'm concerned. Although I'm not quite sure how someone can compile <em>on</em> an aarch64 machine...</p>\n<p>If someone has a pre-compiled aarch64 c++ tensorflow lite library links I would appreciate it.</p>\n"}],"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75456792,"answer_count":1,"score":0,"last_activity_date":1676447191,"creation_date":1676277868,"question_id":75433618,"body_markdown":"I&#39;m trying to use `libtensorflow.so` in my c++ project so I can use it in my android wrapper. My project is a c++ project at it&#39;s core but uses different UI binders mainly android NDK. I&#39;ve checked the [official build docs][1] and ran this command: `bazel build --config=elinux_aarch64 -c opt //tensorflow/lite/c:libtensorflowlite_c.so` which built with no proplems. Then I got the necessary include directories mainly `tensorflow` and `flatbuffers` from the tensorflow source directory I got from github (Where I ran bazel).\r\n\r\nThen I&#39;ve added it to my android cmake like so:\r\n\r\n```cmake\r\n\r\ninclude_directories(${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/include/tflite)\r\n\r\nadd_library(libtensorflowlite \r\n            SHARED \r\n            IMPORTED)\r\n\r\nset_target_properties(\r\n        libtensorflowlite \r\n        PROPERTIES \r\n        IMPORTED_LOCATION \r\n        ${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/libs/tflite/arm64-v8a/libtensorflowlite.so\r\n)\r\n...\r\ntarget_link_libraries(\r\n...\r\n#tflite\r\nlibtensorflowlite\r\n...\r\n)\r\n``` \r\n\r\nWhen I run my project I get this output on logcat:\r\n\r\n```\r\n2023-02-13 11:37:01.222  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\n2023-02-13 11:37:01.223  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\n2023-02-13 11:37:01.229  3987-3987  AndroidRuntime          com.example.my_proj                D  Shutting down VM\r\n2023-02-13 11:37:01.231  3987-3987  AndroidRuntime          com.example.my_proj                E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.my_proj, PID: 3987\r\n                                                                                                    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libm.so.6&quot; not found: needed by /data/app/~~0XEVJKwYyglTdlVABYHPjw==/com.example.my_proj-8OVBEONU7K3bv0RuyroYKA==/base.apk!/lib/arm64-v8a/libtensorflowlite.so in namespace classloader-namespace\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:1077)\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:998)\r\n                                                                                                    \tat java.lang.System.loadLibrary(System.java:1656)\r\n                                                                                                    \tat com.example.my_proj.My_proj.&lt;clinit&gt;(My_proj.java:40)\r\n                                                                                                    \tat com.example.my_proj.MainActivity.onCreate(MainActivity.java:76)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8326)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8306)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1347)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4212)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4403)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:104)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2498)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:313)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8855)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n2023-02-13 11:37:01.246  3987-3987  Process                 com.example.My_proj                I  Sending signal. PID: 3987 SIG: 9\r\n---------------------------- PROCESS ENDED (3987) for package com.example.my_proj ----------------------------\r\n2023-02-13 11:37:01.268  1161-2253  WindowManager           system_server                        E  win=Window{a2940e9 u0 Splash Screen com.example.my_proj EXITING} destroySurfaces: appStopped=false win.mWindowRemovalAllowed=true win.mRemoveOnExit=true win.mViewVisibility=0 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6283 com.android.server.wm.ActivityRecord.destroySurfaces:6264 com.android.server.wm.WindowState.onExitAnimationDone:6089 com.android.server.wm.ActivityRecord$$ExternalSyntheticLambda14.accept:2 java.util.ArrayList.forEach:1262 com.android.server.wm.ActivityRecord.onAnimationFinished:8340 com.android.server.wm.ActivityRecord.postApplyAnimation:6016 \r\n\r\n```\r\n\r\n\r\n  [1]: https://www.tensorflow.org/lite/guide/build_arm","title":"UnsatisfiedLinkError when running android project with tflite","body":"<p>I'm trying to use <code>libtensorflow.so</code> in my c++ project so I can use it in my android wrapper. My project is a c++ project at it's core but uses different UI binders mainly android NDK. I've checked the <a href=\"https://www.tensorflow.org/lite/guide/build_arm\" rel=\"nofollow noreferrer\">official build docs</a> and ran this command: <code>bazel build --config=elinux_aarch64 -c opt //tensorflow/lite/c:libtensorflowlite_c.so</code> which built with no proplems. Then I got the necessary include directories mainly <code>tensorflow</code> and <code>flatbuffers</code> from the tensorflow source directory I got from github (Where I ran bazel).</p>\n<p>Then I've added it to my android cmake like so:</p>\n<pre><code>\ninclude_directories(${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/include/tflite)\n\nadd_library(libtensorflowlite \n            SHARED \n            IMPORTED)\n\nset_target_properties(\n        libtensorflowlite \n        PROPERTIES \n        IMPORTED_LOCATION \n        ${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/libs/tflite/arm64-v8a/libtensorflowlite.so\n)\n...\ntarget_link_libraries(\n...\n#tflite\nlibtensorflowlite\n...\n)\n</code></pre>\n<p>When I run my project I get this output on logcat:</p>\n<pre><code>2023-02-13 11:37:01.222  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\n2023-02-13 11:37:01.223  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\n2023-02-13 11:37:01.229  3987-3987  AndroidRuntime          com.example.my_proj                D  Shutting down VM\n2023-02-13 11:37:01.231  3987-3987  AndroidRuntime          com.example.my_proj                E  FATAL EXCEPTION: main\n                                                                                                    Process: com.example.my_proj, PID: 3987\n                                                                                                    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libm.so.6&quot; not found: needed by /data/app/~~0XEVJKwYyglTdlVABYHPjw==/com.example.my_proj-8OVBEONU7K3bv0RuyroYKA==/base.apk!/lib/arm64-v8a/libtensorflowlite.so in namespace classloader-namespace\n                                                                                                        at java.lang.Runtime.loadLibrary0(Runtime.java:1077)\n                                                                                                        at java.lang.Runtime.loadLibrary0(Runtime.java:998)\n                                                                                                        at java.lang.System.loadLibrary(System.java:1656)\n                                                                                                        at com.example.my_proj.My_proj.&lt;clinit&gt;(My_proj.java:40)\n                                                                                                        at com.example.my_proj.MainActivity.onCreate(MainActivity.java:76)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8326)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8306)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1347)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4212)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4403)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:104)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2498)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:226)\n                                                                                                        at android.os.Looper.loop(Looper.java:313)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8855)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n2023-02-13 11:37:01.246  3987-3987  Process                 com.example.My_proj                I  Sending signal. PID: 3987 SIG: 9\n---------------------------- PROCESS ENDED (3987) for package com.example.my_proj ----------------------------\n2023-02-13 11:37:01.268  1161-2253  WindowManager           system_server                        E  win=Window{a2940e9 u0 Splash Screen com.example.my_proj EXITING} destroySurfaces: appStopped=false win.mWindowRemovalAllowed=true win.mRemoveOnExit=true win.mViewVisibility=0 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6283 com.android.server.wm.ActivityRecord.destroySurfaces:6264 com.android.server.wm.WindowState.onExitAnimationDone:6089 com.android.server.wm.ActivityRecord$$ExternalSyntheticLambda14.accept:2 java.util.ArrayList.forEach:1262 com.android.server.wm.ActivityRecord.onAnimationFinished:8340 com.android.server.wm.ActivityRecord.postApplyAnimation:6016 \n\n</code></pre>\n"},{"tags":["java","parsing","antlr","antlr4"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676446978,"creation_date":1676446978,"answer_id":75456758,"question_id":75416884,"body_markdown":"There is no way to tell up front which parser rule(s) are going to be invoked for a given input source. \r\n\r\nSince a visitor will not cause the entire parse tree to be visited (you determine that by overriding only the method you wish to visit), you could start off by writing a visitor that can be used up until the rule that contains the `(child1 | child2)` and inside that `visit...` method, invoke the specific listener. \r\n\r\nThat could look something like this:\r\n\r\n```java\r\nclass MainVisitor extends MainLangFileBaseVisitor&lt;Object&gt; {\r\n\r\n    @Override\r\n    public Object visitParse(MainLangFileParser.ParseContext ctx) {\r\n\r\n        if (ctx.child1() != null) {\r\n            ParseTreeWalker.DEFAULT.walk(new Child1Listener(), ctx);\r\n        }\r\n        else {\r\n            ParseTreeWalker.DEFAULT.walk(new Child2Listener(), ctx);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nclass Child1Listener extends Child1LangFileBaseListener {\r\n    // ...\r\n}\r\n\r\nclass Child2Listener extends Child2LangFileBaseListener {\r\n    // ...\r\n}\r\n```","title":"ANTLR How to specify which listener (or lexer/parser) I want to be used based on input on my multi-grammar structure?","body":"<p>There is no way to tell up front which parser rule(s) are going to be invoked for a given input source.</p>\n<p>Since a visitor will not cause the entire parse tree to be visited (you determine that by overriding only the method you wish to visit), you could start off by writing a visitor that can be used up until the rule that contains the <code>(child1 | child2)</code> and inside that <code>visit...</code> method, invoke the specific listener.</p>\n<p>That could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MainVisitor extends MainLangFileBaseVisitor&lt;Object&gt; {\n\n    @Override\n    public Object visitParse(MainLangFileParser.ParseContext ctx) {\n\n        if (ctx.child1() != null) {\n            ParseTreeWalker.DEFAULT.walk(new Child1Listener(), ctx);\n        }\n        else {\n            ParseTreeWalker.DEFAULT.walk(new Child2Listener(), ctx);\n        }\n\n        return null;\n    }\n}\n\nclass Child1Listener extends Child1LangFileBaseListener {\n    // ...\n}\n\nclass Child2Listener extends Child2LangFileBaseListener {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":9489385,"reputation":395,"user_id":7054753,"display_name":"Foreign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75456758,"answer_count":1,"score":2,"last_activity_date":1676446978,"creation_date":1676069961,"question_id":75416884,"body_markdown":"**MainLangFile.g4**\r\n```\r\ngrammar MainLangFile;\r\n\r\nimport Child1LangFile, Child2LangFile;\r\n\r\nparse:\r\n    A (child1 | child2) EOF\r\n;\r\n\r\nA: &#39;A&#39;;\r\nB: &#39;B&#39;;\r\nC: &#39;C&#39;;\r\n```\r\n\r\n**Child1LangFile.g4**\r\n```\r\ngrammar Child1LangFile;\r\n\r\nchild1:\r\n    CHILD1\r\n;\r\n\r\nCHILD1: &#39;CHILD1&#39;;\r\n```\r\n\r\n**Child2LangFile.g4**\r\n```\r\ngrammar Child2LangFile;\r\n\r\nchild2:\r\n    CHILD2\r\n;\r\n\r\nCHILD2: &#39;CHILD2&#39;;\r\n```\r\n\r\n**My Java application:**\r\n\r\n```\r\npublic static class MyApp {\r\n\r\n    public void execute(String query) {\r\n\r\n        MainLangFileLexer lexer = new MainLangFileLexer(CharStreams.fromString(query));\r\n        MainLangFileParser parser = new MainLangFileParser(new CommonTokenStream(lexer));\r\n        MainLangFileParser.ParseContext parse = parser.parse();\r\n\r\n        ParseTreeWalker walker = new ParseTreeWalker();\r\n        walker.walk(new Child1Listener(), parse);\r\n        walker.walk(new Child2Listener(), parse);\r\n    }\r\n\r\n    static class Child1Listener extends MainLangFileBaseListener {\r\n\r\n        @Override\r\n        public void enterChild1(MainLangFileParser.Child1Context ctx) {\r\n        }\r\n    }\r\n\r\n\r\n    static class Child2Listener extends MainLangFileBaseListener {\r\n\r\n        @Override\r\n        public void enterChild2(MainLangFileParser.Child2Context ctx) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to have a multi-grammar structure. The solution I&#39;ve above works perfectly in the sense that each `ChildXListener` is properly invoked based on the query. It would be the same as just having a single listener and implementing both methods.\r\n\r\nThe issue begins where there is a `enterCommon()` method invoked, it is invoked for both listeners even though I &quot;forked&quot; the language and went only on one specific direction.\r\n\r\nI need a clever way of selecting which listener should be used by `ParseTreeWalker`. \r\n\r\nAlso, I&#39;d rather have each listener, extending their respective grammars, i.e.: `Child1Listener` should extends `Child1LangFileBaseListener`, by doing so I have a clear scope of what methods I can safely override as only `Child1LangFile.g4` rules will be available. \r\n\r\nI couldn&#39;t figure out a way of doing this without initializing `Child1Lexer`, `Child1Parser` and parsing everything again, either way, this brings me back to the previous issue, how do I know which lexer/parser to use?\r\n\r\nAny thoughts? Thanks in advance.\r\n\r\n\r\n","title":"ANTLR How to specify which listener (or lexer/parser) I want to be used based on input on my multi-grammar structure?","body":"<p><strong>MainLangFile.g4</strong></p>\n<pre><code>grammar MainLangFile;\n\nimport Child1LangFile, Child2LangFile;\n\nparse:\n    A (child1 | child2) EOF\n;\n\nA: 'A';\nB: 'B';\nC: 'C';\n</code></pre>\n<p><strong>Child1LangFile.g4</strong></p>\n<pre><code>grammar Child1LangFile;\n\nchild1:\n    CHILD1\n;\n\nCHILD1: 'CHILD1';\n</code></pre>\n<p><strong>Child2LangFile.g4</strong></p>\n<pre><code>grammar Child2LangFile;\n\nchild2:\n    CHILD2\n;\n\nCHILD2: 'CHILD2';\n</code></pre>\n<p><strong>My Java application:</strong></p>\n<pre><code>public static class MyApp {\n\n    public void execute(String query) {\n\n        MainLangFileLexer lexer = new MainLangFileLexer(CharStreams.fromString(query));\n        MainLangFileParser parser = new MainLangFileParser(new CommonTokenStream(lexer));\n        MainLangFileParser.ParseContext parse = parser.parse();\n\n        ParseTreeWalker walker = new ParseTreeWalker();\n        walker.walk(new Child1Listener(), parse);\n        walker.walk(new Child2Listener(), parse);\n    }\n\n    static class Child1Listener extends MainLangFileBaseListener {\n\n        @Override\n        public void enterChild1(MainLangFileParser.Child1Context ctx) {\n        }\n    }\n\n\n    static class Child2Listener extends MainLangFileBaseListener {\n\n        @Override\n        public void enterChild2(MainLangFileParser.Child2Context ctx) {\n        }\n    }\n}\n</code></pre>\n<p>I'm trying to have a multi-grammar structure. The solution I've above works perfectly in the sense that each <code>ChildXListener</code> is properly invoked based on the query. It would be the same as just having a single listener and implementing both methods.</p>\n<p>The issue begins where there is a <code>enterCommon()</code> method invoked, it is invoked for both listeners even though I &quot;forked&quot; the language and went only on one specific direction.</p>\n<p>I need a clever way of selecting which listener should be used by <code>ParseTreeWalker</code>.</p>\n<p>Also, I'd rather have each listener, extending their respective grammars, i.e.: <code>Child1Listener</code> should extends <code>Child1LangFileBaseListener</code>, by doing so I have a clear scope of what methods I can safely override as only <code>Child1LangFile.g4</code> rules will be available.</p>\n<p>I couldn't figure out a way of doing this without initializing <code>Child1Lexer</code>, <code>Child1Parser</code> and parsing everything again, either way, this brings me back to the previous issue, how do I know which lexer/parser to use?</p>\n<p>Any thoughts? Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1647709875,"post_id":71529569,"comment_id":126441220,"body_markdown":"seem like you use spring security? have you protected some page?","body":"seem like you use spring security? have you protected some page?"},{"owner":{"account_id":3846624,"reputation":307,"user_id":3187960,"accept_rate":83,"display_name":"user3187960"},"score":0,"creation_date":1647723591,"post_id":71529569,"comment_id":126444146,"body_markdown":"Yes, I&#39; m using spring security but the page i&#39;m requesting is marked as permitAll. (See endpoint /basis/customers/3 in WebSecurityConfig)","body":"Yes, I&#39; m using spring security but the page i&#39;m requesting is marked as permitAll. (See endpoint /basis/customers/3 in WebSecurityConfig)"}],"answers":[{"tags":[],"owner":{"account_id":27790852,"reputation":1,"user_id":21217318,"display_name":"jm09as"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676446829,"creation_date":1676446739,"answer_id":75456721,"question_id":71529569,"body_markdown":"Check your public.js directory name. You want to reach public/js/test.js and is not exist! I am not sure that is a main problem but it can help.","title":"Can&#39;t load static resource with Thymeleaf","body":"<p>Check your public.js directory name. You want to reach public/js/test.js and is not exist! I am not sure that is a main problem but it can help.</p>\n"}],"owner":{"account_id":3846624,"reputation":307,"user_id":3187960,"accept_rate":83,"display_name":"user3187960"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676446829,"creation_date":1647618025,"question_id":71529569,"body_markdown":"In my multi-module spring boot project I have included thymeleaf in the *bo_ui* module to show html pages.\r\n\r\nBelow what has been done so far.\r\n\r\nMVC configuration class:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan({ &quot;com.cmw.bo.console&quot; })\r\n    /**\r\n     * Java configuration file that is used for Spring MVC and Thymeleaf\r\n     * configurations\r\n     */\r\n    public class WebMVCConfig implements WebMvcConfigurer,  ApplicationContextAware {\r\n    \r\n        private ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.addPathPrefix(&quot;/ui&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.ui&quot;))\r\n    //                  .addPathPrefix(&quot;/basis&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.basis&quot;))\r\n                      .addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.api&quot;));\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver htmlViewResolver() {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine(htmlTemplateResolver()));\r\n            resolver.setContentType(&quot;text/html&quot;);\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            resolver.setViewNames(ArrayUtil.array(&quot;*.html&quot;));\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver javascriptViewResolver() {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine(javascriptTemplateResolver()));\r\n            resolver.setContentType(&quot;application/javascript&quot;);\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            resolver.setViewNames(ArrayUtil.array(&quot;*.js&quot;));\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver plainViewResolver() {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine(plainTemplateResolver()));\r\n            resolver.setContentType(&quot;text/plain&quot;);\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            resolver.setViewNames(ArrayUtil.array(&quot;*.txt&quot;));\r\n            return resolver;\r\n        }\r\n    \r\n        private ISpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\r\n            SpringTemplateEngine engine = new SpringTemplateEngine();\r\n            engine.addDialect(new LayoutDialect(new GroupingStrategy()));\r\n            engine.addDialect(new Java8TimeDialect());\r\n            engine.setTemplateResolver(templateResolver);\r\n            engine.setTemplateEngineMessageSource(messageSource());\r\n            return engine;\r\n        }\r\n    \r\n        @Bean\r\n        public ITemplateResolver htmlTemplateResolver() {\r\n            SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n            resolver.setApplicationContext(applicationContext);\r\n            resolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n            resolver.setCacheable(false);\r\n            resolver.setOrder(0);\r\n            resolver.setTemplateMode(TemplateMode.HTML);\r\n            return resolver;\r\n        }\r\n    \r\n        private ITemplateResolver javascriptTemplateResolver() {\r\n            SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n            resolver.setApplicationContext(applicationContext);\r\n            resolver.setPrefix(&quot;classpath:/public/js/&quot;);\r\n            resolver.setOrder(1);\r\n            resolver.setCacheable(false);\r\n            resolver.setTemplateMode(TemplateMode.JAVASCRIPT);\r\n            return resolver;\r\n        }\r\n    \r\n        private ITemplateResolver plainTemplateResolver() {\r\n            SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n            resolver.setApplicationContext(applicationContext);\r\n            resolver.setPrefix(&quot;classpath:/templates/txt/&quot;);\r\n            resolver.setCacheable(false);\r\n            resolver.setTemplateMode(TemplateMode.TEXT);\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        @Description(&quot;Spring Message Resolver&quot;)\r\n        public ResourceBundleMessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;messages&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n        @Bean\r\n        public LocaleResolver localeResolver() {\r\n            SessionLocaleResolver localeResolver = new SessionLocaleResolver();\r\n            localeResolver.setDefaultLocale(new Locale(&quot;it&quot;));\r\n            return localeResolver;\r\n        }\r\n    \r\n        @Bean\r\n        public LocaleChangeInterceptor localeChangeInterceptor() {\r\n            LocaleChangeInterceptor localeChangeInterceptor = new LocaleChangeInterceptor();\r\n            localeChangeInterceptor.setParamName(&quot;lang&quot;);\r\n            return localeChangeInterceptor;\r\n        }\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(localeChangeInterceptor());\r\n        }\r\n    \r\n        @Override\r\n        public void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n        }\r\n    \r\n        @Override\r\n        @Description(&quot;Custom Conversion Service&quot;)\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addFormatter(new NameFormatter());\r\n        }\r\n        \r\n    }\r\n\r\n\r\nThymeleaf dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ntestPage.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;my test&lt;/title&gt;\r\n        &lt;script th:src=&quot;@{/public/js/test.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;this is a test page&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nresources folder of the project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YuSaq.png\r\n\r\nWhen I try to reach the testPage.html through my endpoint, the page loads correctly, but inspecting the elements I see a 404 error on test.js.\r\n\r\nI tried on both the *public* folder and the *static* folder.\r\n\r\nLooking at the springboot logs I see:\r\n\r\n\r\n    2022-03-18 16:10:27.372 DEBUG 8940 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /public/js/test.js\r\n    2022-03-18 16:10:27.375  WARN 8940 --- [nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /public/js/test.js\r\n\r\nSo I suppose there is also a problem at the springsecurity level. Here is the configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private static final String REMEMBER_ME_INTERNAL_SHARED_KEY = &quot;f1406c2dfghdfghf-26e3-dfgh45ed-8dfgh19c-dfgh4131cadaa431&quot;;\r\n    \r\n        private static final String REMEMBER_ME_COOKIE_NAME = &quot;cmw-session-id&quot;;\r\n        private static final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\r\n    \r\n        @Autowired\r\n        private OperatorsAuthenticationService authenticationService;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;basisDataSource&quot;)\r\n        private DataSource dataSource;\r\n    \r\n    \r\n        @Bean\r\n        public static RoleHierarchyImpl roleHierarchy() {\r\n    \r\n            RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\r\n            hierarchy.setHierarchy(\r\n    \r\n                    &quot;ROLE_ADMIN &gt; ROLE_MANAGER\\n&quot; +\r\n                            &quot;ROLE_MANAGER &gt; ROLE_HELPDESK\\n&quot; +\r\n                            &quot;ROLE_HELPDESK &gt; ROLE_MARKETING\\n&quot; +\r\n                            &quot;ROLE_MARKETING &gt; ROLE_OPERATOR\\n&quot; +\r\n                            &quot;ROLE_OPERATOR &gt; ROLE_USER&quot;\r\n            );\r\n    \r\n            return hierarchy;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n    \r\n            web\r\n                    .ignoring()\r\n                    .antMatchers(&quot;/resources/**&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/resources**&quot;).permitAll()\r\n                    .antMatchers(&quot;/static**&quot;).permitAll()\r\n                    .antMatchers(&quot;/public**&quot;).permitAll()\r\n                    .antMatchers(&quot;/login**&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/otp/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/customers/1&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/customers/3&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/profiles/**/chpass/otp/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/operators/chpass/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/admin**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    .anyRequest().hasAnyRole(&quot;ADMIN&quot;, &quot;MANAGER&quot;, &quot;HELPDESK&quot;, &quot;MARKETING&quot;, &quot;OPERATOR&quot;)\r\n    //                .anyRequest().authenticated()\r\n                    .accessDecisionManager(accessDecisionManager())\r\n                    .and()\r\n                    .formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n                    .failureHandler(authenticationFailureHandler())\r\n                    .and()\r\n                    .httpBasic()\r\n                    .and()\r\n                    .rememberMe()\r\n                    .rememberMeServices(rememberMeServices())\r\n                    .key(REMEMBER_ME_INTERNAL_SHARED_KEY)\r\n                    .and()\r\n                    .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(REMEMBER_ME_COOKIE_NAME, SESSION_COOKIE_NAME)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .invalidSessionUrl(&quot;/login&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider() {\r\n    \r\n            return new AuthenticationProviderImpl();\r\n        }\r\n    \r\n    //    @Bean\r\n    //    public AuthenticationProvider googleAuthenticationProvider() {\r\n    //\r\n    //        return new GoogleAuthenticationProviderImpl();\r\n    //    }\r\n    \r\n        @Bean\r\n        public RememberMeServices rememberMeServices() {\r\n    \r\n            PersistentTokenBasedRememberMeServices services = new PersistentTokenBasedRememberMeServices(REMEMBER_ME_INTERNAL_SHARED_KEY,\r\n                    authenticationService, tokenRepository());\r\n            services.setAlwaysRemember(true);\r\n            services.setTokenValiditySeconds(432000);\r\n            services.setCookieName(REMEMBER_ME_COOKIE_NAME);\r\n            services.setParameter(&quot;remember-me&quot;);\r\n    \r\n            return services;\r\n        }\r\n    \r\n        @Bean\r\n        public PersistentTokenRepository tokenRepository() {\r\n    \r\n            JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\r\n            tokenRepository.setDataSource(dataSource);\r\n            tokenRepository.setCreateTableOnStartup(false); // Set to false in production\r\n    \r\n            return tokenRepository;\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultWebSecurityExpressionHandler webSecurityExpressionHandler() {\r\n    \r\n            DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\r\n            expressionHandler.setRoleHierarchy(roleHierarchy());\r\n    \r\n            return expressionHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public WebExpressionVoter webExpressionVoter() {\r\n    \r\n            WebExpressionVoter webExpressionVoter = new WebExpressionVoter();\r\n            webExpressionVoter.setExpressionHandler(webSecurityExpressionHandler());\r\n    \r\n            return webExpressionVoter;\r\n        }\r\n    \r\n        @Bean\r\n        public RoleHierarchyVoter roleHierarchyVoter() {\r\n    \r\n            return new RoleHierarchyVoter(roleHierarchy());\r\n        }\r\n    \r\n        @Bean\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public AffirmativeBased accessDecisionManager() {\r\n    \r\n            List&lt;AccessDecisionVoter&lt;?&gt;&gt; voters = new ArrayList&lt;&gt;();\r\n            voters.add(roleHierarchyVoter());\r\n            voters.add(webExpressionVoter());\r\n    \r\n            return new AffirmativeBased(voters);\r\n        }\r\n    \r\n        @Bean\r\n        protected AuthenticationFailureHandler authenticationFailureHandler() {\r\n    \r\n            Map&lt;String, String&gt; exceptionMappings = new HashMap&lt;&gt;();\r\n    \r\n            exceptionMappings.put(InternalAuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\r\n            exceptionMappings.put(AuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\r\n            exceptionMappings.put(BadCredentialsException.class.getCanonicalName(), &quot;/login?error=authfailed&quot;);\r\n            exceptionMappings.put(DisabledException.class.getCanonicalName(), &quot;/login?error=disabled&quot;);\r\n            exceptionMappings.put(UsernameNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\r\n            exceptionMappings.put(CredentialsExpiredException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\r\n            exceptionMappings.put(AuthenticationCredentialsNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\r\n    \r\n            exceptionMappings.put(UsernameCredentialsExpiredException.class.getCanonicalName(), &quot;/basis/operators/chpass&quot;);\r\n    \r\n            final UsernameCachingExceptionMappingAuthenticationFailureHandler result = new UsernameCachingExceptionMappingAuthenticationFailureHandler();\r\n            result.setExceptionMappings(exceptionMappings);\r\n            result.setDefaultFailureUrl(&quot;/login?error=default&quot;);\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nI have tried several configurations but without success.\r\n\r\nAnyone have an idea what could be wrong?\r\n\r\nThanks in advance","title":"Can&#39;t load static resource with Thymeleaf","body":"<p>In my multi-module spring boot project I have included thymeleaf in the <em>bo_ui</em> module to show html pages.</p>\n<p>Below what has been done so far.</p>\n<p>MVC configuration class:</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan({ &quot;com.cmw.bo.console&quot; })\n/**\n * Java configuration file that is used for Spring MVC and Thymeleaf\n * configurations\n */\npublic class WebMVCConfig implements WebMvcConfigurer,  ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.addPathPrefix(&quot;/ui&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.ui&quot;))\n//                  .addPathPrefix(&quot;/basis&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.basis&quot;))\n                  .addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.api&quot;));\n    }\n\n    @Bean\n    public ViewResolver htmlViewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine(htmlTemplateResolver()));\n        resolver.setContentType(&quot;text/html&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setViewNames(ArrayUtil.array(&quot;*.html&quot;));\n        return resolver;\n    }\n\n    @Bean\n    public ViewResolver javascriptViewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine(javascriptTemplateResolver()));\n        resolver.setContentType(&quot;application/javascript&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setViewNames(ArrayUtil.array(&quot;*.js&quot;));\n        return resolver;\n    }\n\n    @Bean\n    public ViewResolver plainViewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine(plainTemplateResolver()));\n        resolver.setContentType(&quot;text/plain&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setViewNames(ArrayUtil.array(&quot;*.txt&quot;));\n        return resolver;\n    }\n\n    private ISpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.addDialect(new LayoutDialect(new GroupingStrategy()));\n        engine.addDialect(new Java8TimeDialect());\n        engine.setTemplateResolver(templateResolver);\n        engine.setTemplateEngineMessageSource(messageSource());\n        return engine;\n    }\n\n    @Bean\n    public ITemplateResolver htmlTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;classpath:/templates/&quot;);\n        resolver.setCacheable(false);\n        resolver.setOrder(0);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n\n    private ITemplateResolver javascriptTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;classpath:/public/js/&quot;);\n        resolver.setOrder(1);\n        resolver.setCacheable(false);\n        resolver.setTemplateMode(TemplateMode.JAVASCRIPT);\n        return resolver;\n    }\n\n    private ITemplateResolver plainTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;classpath:/templates/txt/&quot;);\n        resolver.setCacheable(false);\n        resolver.setTemplateMode(TemplateMode.TEXT);\n        return resolver;\n    }\n\n    @Bean\n    @Description(&quot;Spring Message Resolver&quot;)\n    public ResourceBundleMessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(&quot;messages&quot;);\n        return messageSource;\n    }\n\n    @Bean\n    public LocaleResolver localeResolver() {\n        SessionLocaleResolver localeResolver = new SessionLocaleResolver();\n        localeResolver.setDefaultLocale(new Locale(&quot;it&quot;));\n        return localeResolver;\n    }\n\n    @Bean\n    public LocaleChangeInterceptor localeChangeInterceptor() {\n        LocaleChangeInterceptor localeChangeInterceptor = new LocaleChangeInterceptor();\n        localeChangeInterceptor.setParamName(&quot;lang&quot;);\n        return localeChangeInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(localeChangeInterceptor());\n    }\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n    }\n\n    @Override\n    @Description(&quot;Custom Conversion Service&quot;)\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addFormatter(new NameFormatter());\n    }\n    \n}\n</code></pre>\n<p>Thymeleaf dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n    &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n    &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>testPage.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;my test&lt;/title&gt;\n    &lt;script th:src=&quot;@{/public/js/test.js}&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;this is a test page&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>resources folder of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/YuSaq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuSaq.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to reach the testPage.html through my endpoint, the page loads correctly, but inspecting the elements I see a 404 error on test.js.</p>\n<p>I tried on both the <em>public</em> folder and the <em>static</em> folder.</p>\n<p>Looking at the springboot logs I see:</p>\n<pre><code>2022-03-18 16:10:27.372 DEBUG 8940 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /public/js/test.js\n2022-03-18 16:10:27.375  WARN 8940 --- [nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /public/js/test.js\n</code></pre>\n<p>So I suppose there is also a problem at the springsecurity level. Here is the configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String REMEMBER_ME_INTERNAL_SHARED_KEY = &quot;f1406c2dfghdfghf-26e3-dfgh45ed-8dfgh19c-dfgh4131cadaa431&quot;;\n\n    private static final String REMEMBER_ME_COOKIE_NAME = &quot;cmw-session-id&quot;;\n    private static final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\n\n    @Autowired\n    private OperatorsAuthenticationService authenticationService;\n\n    @Autowired\n    @Qualifier(&quot;basisDataSource&quot;)\n    private DataSource dataSource;\n\n\n    @Bean\n    public static RoleHierarchyImpl roleHierarchy() {\n\n        RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\n        hierarchy.setHierarchy(\n\n                &quot;ROLE_ADMIN &gt; ROLE_MANAGER\\n&quot; +\n                        &quot;ROLE_MANAGER &gt; ROLE_HELPDESK\\n&quot; +\n                        &quot;ROLE_HELPDESK &gt; ROLE_MARKETING\\n&quot; +\n                        &quot;ROLE_MARKETING &gt; ROLE_OPERATOR\\n&quot; +\n                        &quot;ROLE_OPERATOR &gt; ROLE_USER&quot;\n        );\n\n        return hierarchy;\n    }\n\n\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n\n        web\n                .ignoring()\n                .antMatchers(&quot;/resources/**&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/resources**&quot;).permitAll()\n                .antMatchers(&quot;/static**&quot;).permitAll()\n                .antMatchers(&quot;/public**&quot;).permitAll()\n                .antMatchers(&quot;/login**&quot;).permitAll()\n                .antMatchers(&quot;/basis/otp/**&quot;).permitAll()\n                .antMatchers(&quot;/basis/customers/1&quot;).permitAll()\n                .antMatchers(&quot;/basis/customers/3&quot;).permitAll()\n                .antMatchers(&quot;/basis/profiles/**/chpass/otp/**&quot;).permitAll()\n                .antMatchers(&quot;/basis/operators/chpass/**&quot;).permitAll()\n                .antMatchers(&quot;/admin**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().hasAnyRole(&quot;ADMIN&quot;, &quot;MANAGER&quot;, &quot;HELPDESK&quot;, &quot;MARKETING&quot;, &quot;OPERATOR&quot;)\n//                .anyRequest().authenticated()\n                .accessDecisionManager(accessDecisionManager())\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\n                .failureHandler(authenticationFailureHandler())\n                .and()\n                .httpBasic()\n                .and()\n                .rememberMe()\n                .rememberMeServices(rememberMeServices())\n                .key(REMEMBER_ME_INTERNAL_SHARED_KEY)\n                .and()\n                .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/login&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(REMEMBER_ME_COOKIE_NAME, SESSION_COOKIE_NAME)\n                .and()\n                .sessionManagement()\n                .invalidSessionUrl(&quot;/login&quot;);\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n\n        return new AuthenticationProviderImpl();\n    }\n\n//    @Bean\n//    public AuthenticationProvider googleAuthenticationProvider() {\n//\n//        return new GoogleAuthenticationProviderImpl();\n//    }\n\n    @Bean\n    public RememberMeServices rememberMeServices() {\n\n        PersistentTokenBasedRememberMeServices services = new PersistentTokenBasedRememberMeServices(REMEMBER_ME_INTERNAL_SHARED_KEY,\n                authenticationService, tokenRepository());\n        services.setAlwaysRemember(true);\n        services.setTokenValiditySeconds(432000);\n        services.setCookieName(REMEMBER_ME_COOKIE_NAME);\n        services.setParameter(&quot;remember-me&quot;);\n\n        return services;\n    }\n\n    @Bean\n    public PersistentTokenRepository tokenRepository() {\n\n        JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\n        tokenRepository.setDataSource(dataSource);\n        tokenRepository.setCreateTableOnStartup(false); // Set to false in production\n\n        return tokenRepository;\n    }\n\n    @Bean\n    public DefaultWebSecurityExpressionHandler webSecurityExpressionHandler() {\n\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy());\n\n        return expressionHandler;\n    }\n\n    @Bean\n    public WebExpressionVoter webExpressionVoter() {\n\n        WebExpressionVoter webExpressionVoter = new WebExpressionVoter();\n        webExpressionVoter.setExpressionHandler(webSecurityExpressionHandler());\n\n        return webExpressionVoter;\n    }\n\n    @Bean\n    public RoleHierarchyVoter roleHierarchyVoter() {\n\n        return new RoleHierarchyVoter(roleHierarchy());\n    }\n\n    @Bean\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public AffirmativeBased accessDecisionManager() {\n\n        List&lt;AccessDecisionVoter&lt;?&gt;&gt; voters = new ArrayList&lt;&gt;();\n        voters.add(roleHierarchyVoter());\n        voters.add(webExpressionVoter());\n\n        return new AffirmativeBased(voters);\n    }\n\n    @Bean\n    protected AuthenticationFailureHandler authenticationFailureHandler() {\n\n        Map&lt;String, String&gt; exceptionMappings = new HashMap&lt;&gt;();\n\n        exceptionMappings.put(InternalAuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\n        exceptionMappings.put(AuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\n        exceptionMappings.put(BadCredentialsException.class.getCanonicalName(), &quot;/login?error=authfailed&quot;);\n        exceptionMappings.put(DisabledException.class.getCanonicalName(), &quot;/login?error=disabled&quot;);\n        exceptionMappings.put(UsernameNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\n        exceptionMappings.put(CredentialsExpiredException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\n        exceptionMappings.put(AuthenticationCredentialsNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\n\n        exceptionMappings.put(UsernameCredentialsExpiredException.class.getCanonicalName(), &quot;/basis/operators/chpass&quot;);\n\n        final UsernameCachingExceptionMappingAuthenticationFailureHandler result = new UsernameCachingExceptionMappingAuthenticationFailureHandler();\n        result.setExceptionMappings(exceptionMappings);\n        result.setDefaultFailureUrl(&quot;/login?error=default&quot;);\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>I have tried several configurations but without success.</p>\n<p>Anyone have an idea what could be wrong?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","arrays","loops","recursion"],"comments":[{"owner":{"account_id":10528572,"reputation":734,"user_id":7758765,"display_name":"Welgriv"},"score":0,"creation_date":1595514185,"post_id":63056442,"comment_id":111507008,"body_markdown":"Several issues : There is no question. You do not provide the output of your trying. StakOverflow is not a place where you ask other people do your homework.","body":"Several issues : There is no question. You do not provide the output of your trying. StakOverflow is not a place where you ask other people do your homework."},{"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"score":0,"creation_date":1595514346,"post_id":63056442,"comment_id":111507082,"body_markdown":"Ask your self: Do your code meet the requirement that _&quot;The driver can switch paths only once between arrays.&quot;_?","body":"Ask your self: Do your code meet the requirement that <i>&quot;The driver can switch paths only once between arrays.&quot;</i>?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1595514353,"post_id":63056442,"comment_id":111507086,"body_markdown":"Debug your application and see why it&#39;s not behaving as you want it.","body":"Debug your application and see why it&#39;s not behaving as you want it."},{"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"score":1,"creation_date":1595514380,"post_id":63056442,"comment_id":111507102,"body_markdown":"Also please read [ask] and take the [tour].","body":"Also please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1595516061,"post_id":63056442,"comment_id":111508096,"body_markdown":"You ask *My question is how do I make the recursion stop after switching to the other array?* The answer: Don’t use recursion. This can be solved using only 1 pass over the arrays. It’s your job to figure out how.","body":"You ask <i>My question is how do I make the recursion stop after switching to the other array?</i> The answer: Don’t use recursion. This can be solved using only 1 pass over the arrays. It’s your job to figure out how."}],"answers":[{"tags":[],"owner":{"account_id":4185179,"reputation":1214,"user_id":3429103,"display_name":"ibra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1595522308,"creation_date":1595521629,"answer_id":63058891,"question_id":63056442,"body_markdown":"Let the following schema to illustrate your problem  \r\n [![enter image description here][1]][1]\r\n\r\nWe have two paths, and each path contain many nodes (values) , we can switch from one path to another just one time. Find the best combination of nodes (values) that minimise the score.  \r\nWe can distinguish 4 cases:  \r\n1- the sum of the values of the first path without switching.  \r\n2-the sum of the values of the second path without switching.  \r\n3-the sum of the values from the first path until a node i, then switch to path second path from node i+1 (sum from node+1 til the end)  \r\n4-the inverse of the point 3.  \r\n\r\n    static int shortestRoad(int road1[], int road2[])\r\n    {\r\n    \t// case 1\r\n    \tint bestValue = sumValues(road1,0);\r\n    \r\n    \t// case 2\r\n    \tint sumValuesRoad2 = sumValues(road2,0);\r\n    \tif ( sumValuesRoad2 &lt; bestValue)\r\n    \t\tbestValue = sumValuesRoad2;\r\n    \r\n    \t// case 3: best values of all combination from road 1 to road 2\r\n    \tint bestValuesSwitchFromRoad1ToRoad2 = shortestRoad_Switch_RoadFrom_RoadTo(road1, road2);\r\n    \tif ( bestValuesSwitchFromRoad1ToRoad2 &lt; bestValue)\r\n    \t\tbestValue = bestValuesSwitchFromRoad1ToRoad2;\r\n    \r\n    \t// case 4: best values of all combination from road 2 to road 1\r\n    \tint bestValuesSwitchFromRoad2ToRoad1 =  shortestRoad_Switch_RoadFrom_RoadTo(road2, road1);\r\n    \r\n    \tif ( bestValuesSwitchFromRoad2ToRoad1 &lt; bestValue)\r\n    \t\tbestValue = bestValuesSwitchFromRoad2ToRoad1;\r\n    \r\n    \treturn bestValue;\r\n    }\r\n\r\nsum the values of a given array from idx til the end: \r\n\r\n    static int sumValues(int array[], int idx_from)\r\n    {\r\n    \tint sum = 0;\r\n    \tfor (int i = idx_from; i&lt;array.length; ++i)\r\n    \t\tsum += array[i];\r\n    \r\n    \treturn sum;\r\n    }\r\n\r\ncase 3 and 4:\r\n\r\n    static int shortestRoad_Switch_RoadFrom_RoadTo(int[] road_from, int[] road_to)\r\n    {\r\n    \tint sumValues_RoadFrom_til_idx = 0;\r\n    \tint sumValues_RoadFrom_idx_switch_RoadTo = 0;\r\n    \tint bestValue = Integer.MAX_VALUE;\r\n    \r\n    \tfor (int i = 0; i&lt;road_from.length-1; ++i)\r\n    \t{\r\n    \t\tsumValues_RoadFrom_til_idx += road_from[i];\r\n    \r\n    \t\tsumValues_RoadFrom_idx_switch_RoadTo = sumValues_RoadFrom_til_idx+sumValues(road_to,i+1);\r\n    \r\n    \t\tif(sumValues_RoadFrom_idx_switch_RoadTo &lt; bestValue )\r\n    \t\t\tbestValue = sumValues_RoadFrom_idx_switch_RoadTo;\r\n    \t}\r\n    \r\n    \treturn bestValue;\r\n    }\r\n\r\nDriver code:\r\n\r\n\r\n\r\n    public static void main(String[] args) \r\n    {\r\n    \t\r\n    \tint road1[] = { 5, 4, 5, 8, 12, 9, 9, 3 };\r\n    \tint road2[] = { 7, 3, 3, 12, 10, 2, 10, 7 };\r\n    \r\n    \tint road_a[] = { 1, 1, 1, 1, 1, 9, 9, 9,9,9 };\r\n    \tint road_b[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\r\n    \r\n    \tint road_c[] = { 1, 1, 1, 1, 1, 2 };\r\n    \tint road_d[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\r\n    \r\n    \tSystem.out.println(&quot;best road1, road2 = &quot;+shortestRoad(road1,road2));\r\n    \tSystem.out.println(&quot;best road_a, road_b = &quot;+shortestRoad(road_a,road_b));\r\n    \tSystem.out.println(&quot;best road_c, road_d = &quot;+shortestRoad(road_c,road_d));\r\n    \r\n    \treturn 0;\r\n    }\r\n\r\nResults:\r\n\r\n    best road1, road2 = 49\r\n    best road_a, road_b = 10\r\n    best road_c, road_d = 7 \r\n\r\nps:\r\nthe best path in your example is begin from road2 and then switch to road 1 at i=5 (i begin from 0)\r\n\r\n    {    5, 4, 5, 8, 12, 9,  --&gt;9, 3 }  \r\n    { --&gt;7, 3, 3, 12, 10, 2 /, 10, 7 }\r\n\r\n[1]: https://i.stack.imgur.com/qA74k.png\r\n\r\n\r\n","title":"Small exercise for Java given two arrays which represents a path","body":"<p>Let the following schema to illustrate your problem<br />\n<a href=\"https://i.stack.imgur.com/qA74k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qA74k.png\" alt=\"enter image description here\" /></a></p>\n<p>We have two paths, and each path contain many nodes (values) , we can switch from one path to another just one time. Find the best combination of nodes (values) that minimise the score.<br />\nWe can distinguish 4 cases:<br />\n1- the sum of the values of the first path without switching.<br />\n2-the sum of the values of the second path without switching.<br />\n3-the sum of the values from the first path until a node i, then switch to path second path from node i+1 (sum from node+1 til the end)<br />\n4-the inverse of the point 3.</p>\n<pre><code>static int shortestRoad(int road1[], int road2[])\n{\n    // case 1\n    int bestValue = sumValues(road1,0);\n\n    // case 2\n    int sumValuesRoad2 = sumValues(road2,0);\n    if ( sumValuesRoad2 &lt; bestValue)\n        bestValue = sumValuesRoad2;\n\n    // case 3: best values of all combination from road 1 to road 2\n    int bestValuesSwitchFromRoad1ToRoad2 = shortestRoad_Switch_RoadFrom_RoadTo(road1, road2);\n    if ( bestValuesSwitchFromRoad1ToRoad2 &lt; bestValue)\n        bestValue = bestValuesSwitchFromRoad1ToRoad2;\n\n    // case 4: best values of all combination from road 2 to road 1\n    int bestValuesSwitchFromRoad2ToRoad1 =  shortestRoad_Switch_RoadFrom_RoadTo(road2, road1);\n\n    if ( bestValuesSwitchFromRoad2ToRoad1 &lt; bestValue)\n        bestValue = bestValuesSwitchFromRoad2ToRoad1;\n\n    return bestValue;\n}\n</code></pre>\n<p>sum the values of a given array from idx til the end:</p>\n<pre><code>static int sumValues(int array[], int idx_from)\n{\n    int sum = 0;\n    for (int i = idx_from; i&lt;array.length; ++i)\n        sum += array[i];\n\n    return sum;\n}\n</code></pre>\n<p>case 3 and 4:</p>\n<pre><code>static int shortestRoad_Switch_RoadFrom_RoadTo(int[] road_from, int[] road_to)\n{\n    int sumValues_RoadFrom_til_idx = 0;\n    int sumValues_RoadFrom_idx_switch_RoadTo = 0;\n    int bestValue = Integer.MAX_VALUE;\n\n    for (int i = 0; i&lt;road_from.length-1; ++i)\n    {\n        sumValues_RoadFrom_til_idx += road_from[i];\n\n        sumValues_RoadFrom_idx_switch_RoadTo = sumValues_RoadFrom_til_idx+sumValues(road_to,i+1);\n\n        if(sumValues_RoadFrom_idx_switch_RoadTo &lt; bestValue )\n            bestValue = sumValues_RoadFrom_idx_switch_RoadTo;\n    }\n\n    return bestValue;\n}\n</code></pre>\n<p>Driver code:</p>\n<pre><code>public static void main(String[] args) \n{\n    \n    int road1[] = { 5, 4, 5, 8, 12, 9, 9, 3 };\n    int road2[] = { 7, 3, 3, 12, 10, 2, 10, 7 };\n\n    int road_a[] = { 1, 1, 1, 1, 1, 9, 9, 9,9,9 };\n    int road_b[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\n\n    int road_c[] = { 1, 1, 1, 1, 1, 2 };\n    int road_d[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\n\n    System.out.println(&quot;best road1, road2 = &quot;+shortestRoad(road1,road2));\n    System.out.println(&quot;best road_a, road_b = &quot;+shortestRoad(road_a,road_b));\n    System.out.println(&quot;best road_c, road_d = &quot;+shortestRoad(road_c,road_d));\n\n    return 0;\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>best road1, road2 = 49\nbest road_a, road_b = 10\nbest road_c, road_d = 7 \n</code></pre>\n<p>ps:\nthe best path in your example is begin from road2 and then switch to road 1 at i=5 (i begin from 0)</p>\n<pre><code>{    5, 4, 5, 8, 12, 9,  --&gt;9, 3 }  \n{ --&gt;7, 3, 3, 12, 10, 2 /, 10, 7 }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26767590,"reputation":11,"user_id":20926237,"display_name":"Rami Mamadov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676446810,"creation_date":1675775713,"answer_id":75373896,"question_id":63056442,"body_markdown":"    public static int shortestRoad(int[]road1, int[]road2)\r\n    {\r\n      int sumRoad1Only = 0;\r\n      int sumRoad2Only = 0;\r\n      for(int i=0; i&lt;road1.length; i++)\r\n      {\r\n        sumRoad1Only += road1[i];\r\n        sumRoad2Only += road2[i];\r\n      }\r\n\r\nThose sums are for the option that the driver chooses one lane, and doesn&#39;t change it until the end. Now, we can find the switch index, for options like starting at one road, and switching to the other. In this specific question I realized that the best point of switch between the arrays - is where the difference between the two collected sums until a certain index is the largest. In your example, it is index 6. That doesn&#39;t say that switching a lane is always giving a smaller sum.\r\n\r\n    int roadIndex1 = road1.length-1;\r\n    int roadIndex2 = road2.length-1;\r\n    int totalSumRoad1 = sumRoad1Only;\r\n    int totalSumRoad2 = sumRoad2Only;\r\n\r\n    int max = 0;\r\n    int indexOfSwitch = 0;\r\n    int diff = 0;\r\n\r\n    while(roadIndex1 &gt;=0 &amp;&amp; roadIndex2 &gt;=0)\r\n    {\r\n      diff = Math.abs(totalSumRoad2 - totalSumRoad1);\r\n      if(diff &gt; max)\r\n      {\r\n        max = diff;\r\n        indexOfSwitch = roadIndex1;\r\n      }\r\n      totalSumRoad1 -= road1[roadIndex1];\r\n      totalSumRoad2 -= road2[roadIndex2];\r\n      roadIndex1--;\r\n      roadIndex2--;\r\n    }\r\n\r\nIf the index of switch is at last index, we shall move it one left, so there be a transition between the arrays.\r\n\r\n    if(indexOfSwitch == road1.length-1)\r\n    {\r\n      indexOfSwitch--;\r\n    }\r\n\r\nnow we found the indexOfSwitch, we can calculate the options of starting at road1, and switching exactly once to road2, and vice versa:\r\n\r\n    int begin1 = 0;\r\n    int begin2 = 0;\r\n    for(int k = 0; k&lt;=indexOfSwitch; k++)\r\n    {\r\n      begin1 += road1[k];\r\n      begin2 += road2[k];\r\n    }\r\n\r\n    int end1 = sumRoad1Only - begin1;\r\n    int end2 = sumRoad2Only - begin2;\r\n    \r\n    int begin1End2 = begin1 + end2;\r\n    int begin2End1 = begin2 + end1;\r\n\r\nand when we find all the options, we can return the minimum.\r\n\r\n    return Math.min(Math.min(sumRoad1Only, sumRoad2Only), Math.min(begin1End2, begin2End1));\r\n\r\n\r\n\r\n   \r\n\r\n   \r\n\r\n","title":"Small exercise for Java given two arrays which represents a path","body":"<pre><code>public static int shortestRoad(int[]road1, int[]road2)\n{\n  int sumRoad1Only = 0;\n  int sumRoad2Only = 0;\n  for(int i=0; i&lt;road1.length; i++)\n  {\n    sumRoad1Only += road1[i];\n    sumRoad2Only += road2[i];\n  }\n</code></pre>\n<p>Those sums are for the option that the driver chooses one lane, and doesn't change it until the end. Now, we can find the switch index, for options like starting at one road, and switching to the other. In this specific question I realized that the best point of switch between the arrays - is where the difference between the two collected sums until a certain index is the largest. In your example, it is index 6. That doesn't say that switching a lane is always giving a smaller sum.</p>\n<pre><code>int roadIndex1 = road1.length-1;\nint roadIndex2 = road2.length-1;\nint totalSumRoad1 = sumRoad1Only;\nint totalSumRoad2 = sumRoad2Only;\n\nint max = 0;\nint indexOfSwitch = 0;\nint diff = 0;\n\nwhile(roadIndex1 &gt;=0 &amp;&amp; roadIndex2 &gt;=0)\n{\n  diff = Math.abs(totalSumRoad2 - totalSumRoad1);\n  if(diff &gt; max)\n  {\n    max = diff;\n    indexOfSwitch = roadIndex1;\n  }\n  totalSumRoad1 -= road1[roadIndex1];\n  totalSumRoad2 -= road2[roadIndex2];\n  roadIndex1--;\n  roadIndex2--;\n}\n</code></pre>\n<p>If the index of switch is at last index, we shall move it one left, so there be a transition between the arrays.</p>\n<pre><code>if(indexOfSwitch == road1.length-1)\n{\n  indexOfSwitch--;\n}\n</code></pre>\n<p>now we found the indexOfSwitch, we can calculate the options of starting at road1, and switching exactly once to road2, and vice versa:</p>\n<pre><code>int begin1 = 0;\nint begin2 = 0;\nfor(int k = 0; k&lt;=indexOfSwitch; k++)\n{\n  begin1 += road1[k];\n  begin2 += road2[k];\n}\n\nint end1 = sumRoad1Only - begin1;\nint end2 = sumRoad2Only - begin2;\n\nint begin1End2 = begin1 + end2;\nint begin2End1 = begin2 + end1;\n</code></pre>\n<p>and when we find all the options, we can return the minimum.</p>\n<pre><code>return Math.min(Math.min(sumRoad1Only, sumRoad2Only), Math.min(begin1End2, begin2End1));\n</code></pre>\n"}],"owner":{"account_id":19132090,"reputation":43,"user_id":13973750,"display_name":"Daniel Hollander"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":63058891,"answer_count":2,"score":-2,"last_activity_date":1676446810,"creation_date":1595513900,"question_id":63056442,"body_markdown":"Given two arrays which represents a path and each element in the array represent the time it takes the driver to travel, write a method that chooses the fastest path he can take. The driver can switch paths only once between arrays.\r\nFor example the following arrays:\r\n\r\n    int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\r\n    int[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\r\n\r\nthe output should be 49 since the driver will start at road2 and switch at index 6 to the second Array.\r\n\r\nEdit:\r\nMy question is how do I make the recursion stop after switching to the other array? I tried to put a counter marker but it didn&#39;t work and I reverted back to my original output. Am I missing something about how recursion works?\r\n\r\nMy code prints 53 where it should print 49. \r\n\r\nMy code:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n    public static int shortestRoad(int[] road1, int[] road2) {\r\n        return shortestRoadNumbers(road1, road2, 0);\r\n    }\r\n\r\n    private static int shortestRoadNumbers(int[] road1, int[] road2, int index) {\r\n        if (index == road1.length || index == road2.length) {\r\n            return 0;\r\n        }\r\n        if (road1[index] &gt;= road2[index] &amp;&amp; road1[index + 2] &gt;= road2[index + 2]) {\r\n            return (road2[index] + shortestRoadNumbers(road1, road2, index + 1));\r\n        } else {\r\n            return (road1[index] + shortestRoadNumbers(road1, road2, index + 1));\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\r\n        int[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\r\n        MyClass.shortestRoad(road1, road2);\r\n        int result = MyClass.shortestRoad(road1, road2);\r\n        System.out.println(result);\r\n    }\r\n}","title":"Small exercise for Java given two arrays which represents a path","body":"<p>Given two arrays which represents a path and each element in the array represent the time it takes the driver to travel, write a method that chooses the fastest path he can take. The driver can switch paths only once between arrays.\nFor example the following arrays:</p>\n<pre><code>int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\nint[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\n</code></pre>\n<p>the output should be 49 since the driver will start at road2 and switch at index 6 to the second Array.</p>\n<p>Edit:\nMy question is how do I make the recursion stop after switching to the other array? I tried to put a counter marker but it didn't work and I reverted back to my original output. Am I missing something about how recursion works?</p>\n<p>My code prints 53 where it should print 49.</p>\n<p>My code:</p>\n<pre><code>public class MyClass {\n\n    public static int shortestRoad(int[] road1, int[] road2) {\n        return shortestRoadNumbers(road1, road2, 0);\n    }\n\n    private static int shortestRoadNumbers(int[] road1, int[] road2, int index) {\n        if (index == road1.length || index == road2.length) {\n            return 0;\n        }\n        if (road1[index] &gt;= road2[index] &amp;&amp; road1[index + 2] &gt;= road2[index + 2]) {\n            return (road2[index] + shortestRoadNumbers(road1, road2, index + 1));\n        } else {\n            return (road1[index] + shortestRoadNumbers(road1, road2, index + 1));\n        }\n\n    }\n\n    public static void main(String args[]) {\n        int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\n        int[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\n        MyClass.shortestRoad(road1, road2);\n        int result = MyClass.shortestRoad(road1, road2);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","sockets","spring-integration"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676395001,"post_id":75451116,"comment_id":133126874,"body_markdown":"If the `SocketUtils` method is working for you, why do you need to change it? A deprecation warning isn&#39;t a prohibition against using it; as long as you understand the consequences, it&#39;s not unreasonable to continue using a deprecated class/method as long as it is the best tool for your need.","body":"If the <code>SocketUtils</code> method is working for you, why do you need to change it? A deprecation warning isn&#39;t a prohibition against using it; as long as you understand the consequences, it&#39;s not unreasonable to continue using a deprecated class/method as long as it is the best tool for your need."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1676396551,"post_id":75451116,"comment_id":133127322,"body_markdown":"That technique to find an available port is not reliable; it is best to set the port to 0 and let the OS choose the port; then use the port that the OS selected.","body":"That technique to find an available port is not reliable; it is best to set the port to 0 and let the OS choose the port; then use the port that the OS selected."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1676446451,"post_id":75451116,"comment_id":133136110,"body_markdown":"@GaryRussell well but due to legacy reasons I have to stick to that port.","body":"@GaryRussell well but due to legacy reasons I have to stick to that port."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1676446468,"post_id":75451116,"comment_id":133136117,"body_markdown":"@E-Riz the class is removed in Spring 6, so I&#39;m forced to migrate.","body":"@E-Riz the class is removed in Spring 6, so I&#39;m forced to migrate."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695020973,"post_id":75451116,"comment_id":135963001,"body_markdown":"If you have a fixed port....why do you use a utility method for finding available ports? Why don&#39;t you just use the fixed port and ditch `SocketUtils` completely?","body":"If you have a fixed port....why do you use a utility method for finding available ports? Why don&#39;t you just use the fixed port and ditch <code>SocketUtils</code> completely?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695021155,"post_id":75451116,"comment_id":135963031,"body_markdown":"Also this sounds like a hacky workaround to a different problem, because if you&#39;re running on a fixed port, why wouldn&#39;t it be free? Because the last instance didn&#39;t shutdown properly?","body":"Also this sounds like a hacky workaround to a different problem, because if you&#39;re running on a fixed port, why wouldn&#39;t it be free? Because the last instance didn&#39;t shutdown properly?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695032095,"post_id":75451116,"comment_id":135965093,"body_markdown":"@Kayaman because instance-2 should warm up except for the socket port, while instance-1 is still running. Then when instance-1 is shut down, the port will be free.","body":"@Kayaman because instance-2 should warm up except for the socket port, while instance-1 is still running. Then when instance-1 is shut down, the port will be free."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676396905,"creation_date":1676396905,"answer_id":75451485,"question_id":75451116,"body_markdown":"There is a `org.springframework.test.util.TestSocketUtils` instead. But as Gary said it is better to rely on operation system choice via `0` for port option. Although why would one select a random port in a production code...\r\n\r\nTo get a real selected port you can listen for a `TcpConnectionServerListeningEvent` which will bring for you that actual value.","title":"Replacement for SocketUtils.findAvailableTcpPort()?","body":"<p>There is a <code>org.springframework.test.util.TestSocketUtils</code> instead. But as Gary said it is better to rely on operation system choice via <code>0</code> for port option. Although why would one select a random port in a production code...</p>\n<p>To get a real selected port you can listen for a <code>TcpConnectionServerListeningEvent</code> which will bring for you that actual value.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2431,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1676446509,"creation_date":1676394600,"question_id":75451116,"body_markdown":"The following initializes as socket with `spring-integration` on a dedicated port.\r\n\r\nGoal is to give the application 2 minutes of time to run on that port, or fail is not successful. But the application start should *not* fail *directly* of that port is not free on startup!\r\n\r\n    @Configuration\r\n    @EnableIntegration\r\n    public class SocketConfiguration {    \r\n            @Value(&quot;${app.port}&quot;)\r\n            private String port;\r\n        \r\n        \t@Bean\r\n        \tpublic TcpConnectionFactoryFactoryBean tcpFactory() {\r\n                CompletableFuture.runAsync(() -&gt; SocketUtils.findAvailableTcpPort(port, port)).get(2, TimeUnit.MINUTES);\r\n            }\r\n    }\r\n\r\nProblem: `SocketUtils` is `@Deprecated` since Spring Framework 6.\r\nWhat is a proper replacement for it?\r\n\r\nThe docs only state as an alternative:\r\n\r\n&gt; Instead of using SocketUtils to find an available local port for a server, it is recommended that you rely on a server&#39;s ability to start on a random port\r\n\r\nWell, that&#39;s not what I want, neither can I use if, because I&#39;m historically bound to that specific port!","title":"Replacement for SocketUtils.findAvailableTcpPort()?","body":"<p>The following initializes as socket with <code>spring-integration</code> on a dedicated port.</p>\n<p>Goal is to give the application 2 minutes of time to run on that port, or fail is not successful. But the application start should <em>not</em> fail <em>directly</em> of that port is not free on startup!</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class SocketConfiguration {    \n        @Value(&quot;${app.port}&quot;)\n        private String port;\n    \n        @Bean\n        public TcpConnectionFactoryFactoryBean tcpFactory() {\n            CompletableFuture.runAsync(() -&gt; SocketUtils.findAvailableTcpPort(port, port)).get(2, TimeUnit.MINUTES);\n        }\n}\n</code></pre>\n<p>Problem: <code>SocketUtils</code> is <code>@Deprecated</code> since Spring Framework 6.\nWhat is a proper replacement for it?</p>\n<p>The docs only state as an alternative:</p>\n<blockquote>\n<p>Instead of using SocketUtils to find an available local port for a server, it is recommended that you rely on a server's ability to start on a random port</p>\n</blockquote>\n<p>Well, that's not what I want, neither can I use if, because I'm historically bound to that specific port!</p>\n"},{"tags":["java","reflection","java-annotations"],"answers":[{"tags":[],"owner":{"account_id":27789685,"reputation":1,"user_id":21216371,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676441954,"creation_date":1676441954,"answer_id":75456125,"question_id":75456060,"body_markdown":"Maybe you can like this:\r\n\r\n    if(class.hasMethodAnnotation(Annotation.class)){}\r\n\r\n","title":"How do you know if a class is an annotation","body":"<p>Maybe you can like this:</p>\n<pre><code>if(class.hasMethodAnnotation(Annotation.class)){}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676444282,"creation_date":1676444282,"answer_id":75456417,"question_id":75456060,"body_markdown":"Maybe you can do like this;\r\n\r\n    if (MyExampleClass.class.isAnnotationPresent(MyExampleAnnotation.class)) {\r\n    }\r\n","title":"How do you know if a class is an annotation","body":"<p>Maybe you can do like this;</p>\n<pre><code>if (MyExampleClass.class.isAnnotationPresent(MyExampleAnnotation.class)) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676445898,"creation_date":1676445898,"answer_id":75456604,"question_id":75456060,"body_markdown":"If you have the source code: an annotation is declard as\r\n\r\n    @interface MyAnnotation { /* ... */ }\r\n\r\nIf you have some class object:\r\n\r\n    // Class&lt;?&gt; myClass = MyAnnotation.class;\r\n    if (myClass.isAnnotation()) { /* ... */ }\r\n","title":"How do you know if a class is an annotation","body":"<p>If you have the source code: an annotation is declard as</p>\n<pre><code>@interface MyAnnotation { /* ... */ }\n</code></pre>\n<p>If you have some class object:</p>\n<pre><code>// Class&lt;?&gt; myClass = MyAnnotation.class;\nif (myClass.isAnnotation()) { /* ... */ }\n</code></pre>\n"}],"owner":{"account_id":26725490,"reputation":1,"user_id":20328672,"display_name":"yqingyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1676445898,"creation_date":1676441399,"question_id":75456060,"body_markdown":"how to juge a class is an annotation,\r\n\r\n- How do you know if a class is an annotation\r\n\r\nIs there a good Samaritan out there,,,,,,,\r\nhow to juge a class is an annotation","title":"How do you know if a class is an annotation","body":"<p>how to juge a class is an annotation,</p>\n<ul>\n<li>How do you know if a class is an annotation</li>\n</ul>\n<p>Is there a good Samaritan out there,,,,,,,\nhow to juge a class is an annotation</p>\n"},{"tags":["java","loops","if-statement"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676437713,"post_id":75455661,"comment_id":133134744,"body_markdown":"You need to show the `if` statements you tried.","body":"You need to show the <code>if</code> statements you tried."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676438530,"post_id":75455661,"comment_id":133134841,"body_markdown":"What do you think the `,` in your if statement does?","body":"What do you think the <code>,</code> in your if statement does?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1676438890,"post_id":75455661,"comment_id":133134877,"body_markdown":"If the random number to match is an `int` type, why are you using `double` as the type for the user guess? Similarly, why is your &quot;lives&quot; variable using a `double`? What would it mean to have, for instance, `3.1415926` lives?...","body":"If the random number to match is an <code>int</code> type, why are you using <code>double</code> as the type for the user guess? Similarly, why is your &quot;lives&quot; variable using a <code>double</code>? What would it mean to have, for instance, <code>3.1415926</code> lives?..."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1676440601,"post_id":75455661,"comment_id":133135080,"body_markdown":"Have you actually tried to Search in **StackOverflow** for [Java Number Guessing Game](https://stackoverflow.com/search?q=Java+Number+Guessing+Game)? You can also go here for a [Runnable Example](https://controlc.com/682fd3b5).","body":"Have you actually tried to Search in <b>StackOverflow</b> for <a href=\"https://stackoverflow.com/search?q=Java+Number+Guessing+Game\">Java Number Guessing Game</a>? You can also go here for a <a href=\"https://controlc.com/682fd3b5\" rel=\"nofollow noreferrer\">Runnable Example</a>."}],"answers":[{"tags":[],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676439284,"creation_date":1676438310,"answer_id":75455734,"question_id":75455661,"body_markdown":"Starting with the `lives` variable, I&#39;d recommend you setting it to `int`, instead of `double`. Not that it would change the flow of your code at this moment, but it is not worth storing counters in anything other than `int`.\r\n\r\nSo, instead of this:\r\n\r\n```\r\ndouble lives = input.nextDouble();\r\n```\r\nUse this:\r\n```\r\nint lives = input.nextInt();\r\n```\r\n\r\nI&#39;d recommend doing the same for `userGuess` and `number1` (which are going to be compared). Your randomly generated number is of type `int`, but you are asking the user to provide a `double`. Either change `number1` to `double`, or `userGuess` to `int`, in order to have matching types.\r\n\r\n`tooHigh` and `tooLow` are not needed when using if statements. I&#39;m pretty sure you&#39;re not limited by memory, but instead of declaring new `boolean` variables, for readability purposes, just write the relational expressions in the `if` statements. In your case:\r\n```\r\nwhile (count &lt; lives ) {\r\n    System.out.println(&quot; So... what number am I thinking of?&quot;);\r\n    int userGuess = input.nextInt();\r\n\r\n    if (userGuess &gt; number1) {\r\n        System.out.println(&quot;Guess lower!&quot;);\r\n    }\r\n    else if (userGuess &lt; number1) {\r\n        System.out.println(&quot;Guess higher!&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;You guessed correctly!&quot;);\r\n        break; // Exit while loop. Stop asking for input.\r\n    }\r\n    \r\n    count++;\r\n}\r\n```\r\n\r\nI saw that you&#39;d want your user to decide if to allow hints or not, so I&#39;d recommend you declaring a variable of type `boolean`:\r\n```\r\nboolean allowHints;\r\n\r\nSystem.out.print(&quot;Want to enable lower/higher hints? Type \\&quot;N\\&quot; or \\&quot;Y\\&quot;.&quot;);\r\nchar c = input.next().charAt(0);\r\nif (c == &#39;Y&#39;) {\r\n    allowHints = true;\r\n}\r\nelse {\r\n    allowHints = false;\r\n}\r\n```\r\n\r\nNow, you&#39;re waiting for user input and storing his reponse in `allowHints`, but you&#39;re still displaying the hints, no matter what. In your `if` statements from the while loop, also check if hints are allowed, before checking if the guessed value is higher or lower.\r\n\r\n```\r\n// Check if the guess is right first. You won&#39;t need to display any hints if the user types in the correct answer\r\nif (userGuess == number1) {\r\n    System.out.println(&quot;You guessed correctly!&quot;);\r\n    break;\r\n}\r\nelse if (allowHints == true) {\r\n    if (userGuess &gt; number1) {\r\n        System.out.println(&quot;Guess lower!&quot;);\r\n    else if (userGuess &lt; number1) {\r\n        System.out.println(&quot;Guess higher!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOr, simply add `allowHints` to your existing `if` statements:\r\n```\r\nif (userGuess == number1) // ...\r\nelse if (allowHints == true &amp;&amp; userGuess &gt; number1) // ...\r\nelse if (allowHints == true &amp;&amp; userGuess &lt; number1) // ...\r\n```\r\n\r\n\r\n","title":"How to code &quot;incorrect&quot; and &quot;correct&quot; answers with optional hints?","body":"<p>Starting with the <code>lives</code> variable, I'd recommend you setting it to <code>int</code>, instead of <code>double</code>. Not that it would change the flow of your code at this moment, but it is not worth storing counters in anything other than <code>int</code>.</p>\n<p>So, instead of this:</p>\n<pre><code>double lives = input.nextDouble();\n</code></pre>\n<p>Use this:</p>\n<pre><code>int lives = input.nextInt();\n</code></pre>\n<p>I'd recommend doing the same for <code>userGuess</code> and <code>number1</code> (which are going to be compared). Your randomly generated number is of type <code>int</code>, but you are asking the user to provide a <code>double</code>. Either change <code>number1</code> to <code>double</code>, or <code>userGuess</code> to <code>int</code>, in order to have matching types.</p>\n<p><code>tooHigh</code> and <code>tooLow</code> are not needed when using if statements. I'm pretty sure you're not limited by memory, but instead of declaring new <code>boolean</code> variables, for readability purposes, just write the relational expressions in the <code>if</code> statements. In your case:</p>\n<pre><code>while (count &lt; lives ) {\n    System.out.println(&quot; So... what number am I thinking of?&quot;);\n    int userGuess = input.nextInt();\n\n    if (userGuess &gt; number1) {\n        System.out.println(&quot;Guess lower!&quot;);\n    }\n    else if (userGuess &lt; number1) {\n        System.out.println(&quot;Guess higher!&quot;);\n    }\n    else {\n        System.out.println(&quot;You guessed correctly!&quot;);\n        break; // Exit while loop. Stop asking for input.\n    }\n    \n    count++;\n}\n</code></pre>\n<p>I saw that you'd want your user to decide if to allow hints or not, so I'd recommend you declaring a variable of type <code>boolean</code>:</p>\n<pre><code>boolean allowHints;\n\nSystem.out.print(&quot;Want to enable lower/higher hints? Type \\&quot;N\\&quot; or \\&quot;Y\\&quot;.&quot;);\nchar c = input.next().charAt(0);\nif (c == 'Y') {\n    allowHints = true;\n}\nelse {\n    allowHints = false;\n}\n</code></pre>\n<p>Now, you're waiting for user input and storing his reponse in <code>allowHints</code>, but you're still displaying the hints, no matter what. In your <code>if</code> statements from the while loop, also check if hints are allowed, before checking if the guessed value is higher or lower.</p>\n<pre><code>// Check if the guess is right first. You won't need to display any hints if the user types in the correct answer\nif (userGuess == number1) {\n    System.out.println(&quot;You guessed correctly!&quot;);\n    break;\n}\nelse if (allowHints == true) {\n    if (userGuess &gt; number1) {\n        System.out.println(&quot;Guess lower!&quot;);\n    else if (userGuess &lt; number1) {\n        System.out.println(&quot;Guess higher!&quot;);\n    }\n}\n</code></pre>\n<p>Or, simply add <code>allowHints</code> to your existing <code>if</code> statements:</p>\n<pre><code>if (userGuess == number1) // ...\nelse if (allowHints == true &amp;&amp; userGuess &gt; number1) // ...\nelse if (allowHints == true &amp;&amp; userGuess &lt; number1) // ...\n</code></pre>\n"}],"owner":{"account_id":27789629,"reputation":11,"user_id":21216319,"display_name":"kefirsloth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676440630,"answer_count":1,"score":1,"last_activity_date":1676445795,"creation_date":1676437369,"question_id":75455661,"body_markdown":"\r\n\r\n```\r\n    import java.util.Scanner;\r\n\r\n  public class GuessingGame {\r\n    public static void main(String[] args) {\r\n        int number1 = (int)(Math.random() * 20);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n      // prompting user to enter their desired amount of lives\r\n        System.out.println(&quot;Welcome to the Guessing Game! I&#39;ll think of a number, and you guess what it is! How many lives do you want to have?&quot;);\r\n        double lives = input.nextDouble();\r\n\r\n        System.out.print(&quot;Great! You have &quot; + lives + &quot; attempts to guess correctly.&quot;); //reminder of lives\r\n      \r\n        System.out.print(&quot;&quot;Want to enable lower/higher hints? Type &quot;N&quot; or &quot;Y&quot;.&quot;&quot;);\r\n        // ???\r\n\r\n        System.out.print(&quot; Let&#39;s begin!&quot;);\r\n       // game begin\r\n        int count = 0;     \r\n        while (count &lt;  lives ) {\r\n          System.out.println(&quot; So... what number am I thinking of?&quot;);\r\n          double userGuess = input.nextDouble();\r\n          boolean tooHigh = userGuess &gt; number1; // tell user to guess lower\r\n          boolean tooLow = userGuess &lt; number1; // tell user to guess higher\r\n\r\n          count++;\r\n   \r\n   \r\n        }\r\n     }\r\n  }    \r\n\r\n```\r\n\r\n\r\nI tried using if statements to get solid feedback, but I might have been typing them incorrectly. I tried to code: if userGuess is higher than the randomly generated number1, tell user to guess lower. I also am trying to figure out the hint option: if the user types Y for yes on hints, I use system print to say &quot;guess lower/higher&quot;? Also, the last loop gets stuck in eternity repeatedly asking &quot;So what number am I thinking of?&quot; which is funny, but I need it to say something like &quot;try again!&quot; with no hints and &quot;try again, guess lower&quot; *with* hints.\r\n\r\nHere is how I coded my if statements:\r\n\r\n    if (userGuess &gt; number1, userGuess &lt; number1) {\r\n            System.out.print(&quot;Try again! You have &quot; + lives + &quot; lives left.&quot;)\r\n          }\r\n          else {\r\n            System.out.print(&quot;Good job!&quot;)\r\n          }","title":"How to code &quot;incorrect&quot; and &quot;correct&quot; answers with optional hints?","body":"<pre><code>    import java.util.Scanner;\n\n  public class GuessingGame {\n    public static void main(String[] args) {\n        int number1 = (int)(Math.random() * 20);\n\n        Scanner input = new Scanner(System.in);\n\n      // prompting user to enter their desired amount of lives\n        System.out.println(&quot;Welcome to the Guessing Game! I'll think of a number, and you guess what it is! How many lives do you want to have?&quot;);\n        double lives = input.nextDouble();\n\n        System.out.print(&quot;Great! You have &quot; + lives + &quot; attempts to guess correctly.&quot;); //reminder of lives\n      \n        System.out.print(&quot;&quot;Want to enable lower/higher hints? Type &quot;N&quot; or &quot;Y&quot;.&quot;&quot;);\n        // ???\n\n        System.out.print(&quot; Let's begin!&quot;);\n       // game begin\n        int count = 0;     \n        while (count &lt;  lives ) {\n          System.out.println(&quot; So... what number am I thinking of?&quot;);\n          double userGuess = input.nextDouble();\n          boolean tooHigh = userGuess &gt; number1; // tell user to guess lower\n          boolean tooLow = userGuess &lt; number1; // tell user to guess higher\n\n          count++;\n   \n   \n        }\n     }\n  }    \n\n</code></pre>\n<p>I tried using if statements to get solid feedback, but I might have been typing them incorrectly. I tried to code: if userGuess is higher than the randomly generated number1, tell user to guess lower. I also am trying to figure out the hint option: if the user types Y for yes on hints, I use system print to say &quot;guess lower/higher&quot;? Also, the last loop gets stuck in eternity repeatedly asking &quot;So what number am I thinking of?&quot; which is funny, but I need it to say something like &quot;try again!&quot; with no hints and &quot;try again, guess lower&quot; <em>with</em> hints.</p>\n<p>Here is how I coded my if statements:</p>\n<pre><code>if (userGuess &gt; number1, userGuess &lt; number1) {\n        System.out.print(&quot;Try again! You have &quot; + lives + &quot; lives left.&quot;)\n      }\n      else {\n        System.out.print(&quot;Good job!&quot;)\n      }\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":21009739,"reputation":1,"user_id":15438627,"display_name":"dedman2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676445453,"creation_date":1676114242,"question_id":75419791,"body_markdown":"I am trying to use `findViewById` to be able to define a view and a layout in my class. As suggested online I made an activity context yet it still returns the object as null. I am still a beginner in coding so please do bear with me \r\n\r\nHere my class:\r\n\r\n    public class team{\r\n        //defining activity class to use\r\n        Activity activity;\r\n        Context context;\r\n\r\n        //definging text box\r\n        LinearLayout lay = activity.findViewById(R.id.Scontainer);\r\n        View Tbox = activity.getLayoutInflater().inflate(R.layout.text_box_output, null);\r\n\r\n        //mebers Deffing\r\n        String teamname;\r\n        String teacher;\r\n        ArrayList&lt;Players&gt; members = new ArrayList&lt;Players&gt;();\r\n\r\n        public team(Context context, Activity activity, String teamname,String teacher) {\r\n            //to be able to use activity\r\n            this.context=context;\r\n            this.activity=activity;\r\n\r\n            //normal things to define\r\n            this.teamname = teamname;\r\n            this.teacher= teacher;\r\n        }\r\n    //mainactivity\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.sports_screen);\r\n \r\n            Activity act= this;\r\n\r\n\r\n            //creating the list that is on screen\r\n            FloatingActionButton addClass = findViewById(R.id.Add_class_button);\r\n\r\n\r\n\r\n            // input\r\n            addClass.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    team sportsteam = new team(MainActivity.this,act,&quot;&quot;,&quot;&quot;);\r\n                    sportsteam.addtext();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n`\r\n","title":"How to use Activity function in another class","body":"<p>I am trying to use <code>findViewById</code> to be able to define a view and a layout in my class. As suggested online I made an activity context yet it still returns the object as null. I am still a beginner in coding so please do bear with me</p>\n<p>Here my class:</p>\n<pre><code>public class team{\n    //defining activity class to use\n    Activity activity;\n    Context context;\n\n    //definging text box\n    LinearLayout lay = activity.findViewById(R.id.Scontainer);\n    View Tbox = activity.getLayoutInflater().inflate(R.layout.text_box_output, null);\n\n    //mebers Deffing\n    String teamname;\n    String teacher;\n    ArrayList&lt;Players&gt; members = new ArrayList&lt;Players&gt;();\n\n    public team(Context context, Activity activity, String teamname,String teacher) {\n        //to be able to use activity\n        this.context=context;\n        this.activity=activity;\n\n        //normal things to define\n        this.teamname = teamname;\n        this.teacher= teacher;\n    }\n//mainactivity\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sports_screen);\n\n        Activity act= this;\n\n\n        //creating the list that is on screen\n        FloatingActionButton addClass = findViewById(R.id.Add_class_button);\n\n\n\n        // input\n        addClass.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                team sportsteam = new team(MainActivity.this,act,&quot;&quot;,&quot;&quot;);\n                sportsteam.addtext();\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android"],"owner":{"account_id":27237860,"reputation":33,"user_id":20764502,"display_name":"Shubham Pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676445121,"creation_date":1676445121,"question_id":75456520,"body_markdown":"In my food delivery app, as the user selects the items to order the CartList gets updated. But whenever user closes the app the existing cart items remain same. I want to change it such that whenever the user closes the app, the existing cartList gets deleted and user gets refreshed cart. Can someone help me out with it!\r\n\r\n\r\n```\r\n`\r\n\r\npublic class CartList extends AppCompatActivity {\r\n\r\n    private RecyclerView.Adapter adapter;\r\n    private RecyclerView recyclerViewList;\r\n    private ManagementCart managementCart;\r\n    TextView totalItemFee, discountText, taxText, deliveryChargesText,totalText,emptyTxt;\r\n    private double tax;\r\n    private ScrollView scrollView3;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart_list);\r\n\r\n\r\n        managementCart = new ManagementCart(this);\r\n\r\n        initView();\r\n        initList();\r\n        calculateCart();\r\n    }\r\n\r\n\r\n    private void initView() {\r\n\r\n        recyclerViewList = findViewById(R.id.recycleViewList2);\r\n        totalItemFee = findViewById(R.id.totalItemFee);\r\n        taxText = findViewById(R.id.taxText);\r\n        discountText = findViewById(R.id.discountText);\r\n        deliveryChargesText = findViewById(R.id.deliveryChargesText);\r\n        totalText = findViewById(R.id.totalText);\r\n        scrollView3 = findViewById(R.id.scrollView3);\r\n        emptyTxt = findViewById(R.id.emptyTxt);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private void initList(){\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false);\r\n        recyclerViewList.setLayoutManager(linearLayoutManager);\r\n        adapter = new CartListAdapator(managementCart.getListCart(),  this, new ChangeNumberItemListener() {\r\n            @Override\r\n            public void changed() {\r\n                calculateCart();\r\n            }\r\n        });\r\n\r\n        recyclerViewList.setAdapter(adapter);\r\n        if(managementCart.getListCart().isEmpty()){\r\n            emptyTxt.setVisibility(View.VISIBLE);\r\n            scrollView3.setVisibility(View.GONE);\r\n        }else{\r\n            emptyTxt.setVisibility(View.GONE);\r\n            scrollView3.setVisibility(View.VISIBLE);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // to calculate the total amount of the cart\r\n\r\n    private void calculateCart(){\r\n        double percentTax= 0.02;\r\n        double delivery = 10;\r\n\r\n        tax = Math.round(managementCart.getTotalFee()*percentTax*100)/100;\r\n        double total = Math.round((managementCart.getTotalFee()+ tax + delivery)*100)/100;\r\n        double itemTotal = Math.round(managementCart.getTotalFee()*100)/100;\r\n\r\n\r\n        totalItemFee.setText(&quot;$&quot;+ itemTotal);\r\n        taxText.setText(&quot;$&quot;+ tax);\r\n        deliveryChargesText.setText(&quot;$&quot;+ delivery);\r\n        totalText.setText(&quot;$&quot;+total);\r\n\r\n    }\r\n\r\n}`\r\n```\r\n\r\n\r\nManagementCart Code: \r\n\r\n\r\n```\r\n\r\n\r\npublic class ManagementCart {\r\n\r\n    private Context context;\r\n    private TinyDB tinyDB;\r\n\r\n    public ManagementCart(Context context){\r\n        this.context = context;\r\n        this.tinyDB = new TinyDB(context);\r\n    }\r\n\r\n    public void insertFood(FoodDomain item){\r\n\r\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\r\n        boolean alreadyExists= false;\r\n\r\n        int n=0;\r\n        for(int i = 0; i&lt;listFood.size();i++){\r\n            if(listFood.get(i).getTitle().equals(item.getTitle())){\r\n                alreadyExists = true;\r\n                n = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(alreadyExists){\r\n            listFood.get(n).setNumberInCart(item.getNumberInCart());\r\n        }\r\n        else{\r\n            listFood.add(item);\r\n        }\r\n        tinyDB.putListObject(&quot;CartList&quot;,listFood);\r\n        Toast.makeText(context, &quot;Item added to your cart&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    public ArrayList&lt;FoodDomain&gt; getListCart() {\r\n\r\n        return tinyDB.getListObject(&quot;CartList&quot;);\r\n\r\n    }\r\n\r\n    public void plusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\r\n        listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart() + 1);\r\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\r\n        changeNumberItemListener.changed();\r\n\r\n\r\n    }\r\n\r\n    public void minusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\r\n        if(listFood.get(position).getNumberInCart() == 1){\r\n            listFood.remove(position);\r\n        }\r\n        else{\r\n            listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart()-1);\r\n\r\n        }\r\n\r\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\r\n        changeNumberItemListener.changed();\r\n    }\r\n\r\n    public Double getTotalFee(){\r\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\r\n        double fee = 0;\r\n        for(int i = 0; i &lt; listFood.size(); i++ ){\r\n            fee = fee+(listFood.get(i).getFee() *listFood.get(i).getNumberInCart());\r\n\r\n        }\r\n        return fee;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nTried with finish() at the end of initView() and initList()","title":"How can I destroy the elements in the existing cart as soon as the user closes the app &amp; gets the new cart everytime user opens the app?","body":"<p>In my food delivery app, as the user selects the items to order the CartList gets updated. But whenever user closes the app the existing cart items remain same. I want to change it such that whenever the user closes the app, the existing cartList gets deleted and user gets refreshed cart. Can someone help me out with it!</p>\n<pre><code>`\n\npublic class CartList extends AppCompatActivity {\n\n    private RecyclerView.Adapter adapter;\n    private RecyclerView recyclerViewList;\n    private ManagementCart managementCart;\n    TextView totalItemFee, discountText, taxText, deliveryChargesText,totalText,emptyTxt;\n    private double tax;\n    private ScrollView scrollView3;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cart_list);\n\n\n        managementCart = new ManagementCart(this);\n\n        initView();\n        initList();\n        calculateCart();\n    }\n\n\n    private void initView() {\n\n        recyclerViewList = findViewById(R.id.recycleViewList2);\n        totalItemFee = findViewById(R.id.totalItemFee);\n        taxText = findViewById(R.id.taxText);\n        discountText = findViewById(R.id.discountText);\n        deliveryChargesText = findViewById(R.id.deliveryChargesText);\n        totalText = findViewById(R.id.totalText);\n        scrollView3 = findViewById(R.id.scrollView3);\n        emptyTxt = findViewById(R.id.emptyTxt);\n\n\n\n\n    }\n\n\n    private void initList(){\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false);\n        recyclerViewList.setLayoutManager(linearLayoutManager);\n        adapter = new CartListAdapator(managementCart.getListCart(),  this, new ChangeNumberItemListener() {\n            @Override\n            public void changed() {\n                calculateCart();\n            }\n        });\n\n        recyclerViewList.setAdapter(adapter);\n        if(managementCart.getListCart().isEmpty()){\n            emptyTxt.setVisibility(View.VISIBLE);\n            scrollView3.setVisibility(View.GONE);\n        }else{\n            emptyTxt.setVisibility(View.GONE);\n            scrollView3.setVisibility(View.VISIBLE);\n\n        }\n\n    }\n\n\n    // to calculate the total amount of the cart\n\n    private void calculateCart(){\n        double percentTax= 0.02;\n        double delivery = 10;\n\n        tax = Math.round(managementCart.getTotalFee()*percentTax*100)/100;\n        double total = Math.round((managementCart.getTotalFee()+ tax + delivery)*100)/100;\n        double itemTotal = Math.round(managementCart.getTotalFee()*100)/100;\n\n\n        totalItemFee.setText(&quot;$&quot;+ itemTotal);\n        taxText.setText(&quot;$&quot;+ tax);\n        deliveryChargesText.setText(&quot;$&quot;+ delivery);\n        totalText.setText(&quot;$&quot;+total);\n\n    }\n\n}`\n</code></pre>\n<p>ManagementCart Code:</p>\n<pre><code>\n\npublic class ManagementCart {\n\n    private Context context;\n    private TinyDB tinyDB;\n\n    public ManagementCart(Context context){\n        this.context = context;\n        this.tinyDB = new TinyDB(context);\n    }\n\n    public void insertFood(FoodDomain item){\n\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\n        boolean alreadyExists= false;\n\n        int n=0;\n        for(int i = 0; i&lt;listFood.size();i++){\n            if(listFood.get(i).getTitle().equals(item.getTitle())){\n                alreadyExists = true;\n                n = i;\n                break;\n            }\n        }\n\n        if(alreadyExists){\n            listFood.get(n).setNumberInCart(item.getNumberInCart());\n        }\n        else{\n            listFood.add(item);\n        }\n        tinyDB.putListObject(&quot;CartList&quot;,listFood);\n        Toast.makeText(context, &quot;Item added to your cart&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    public ArrayList&lt;FoodDomain&gt; getListCart() {\n\n        return tinyDB.getListObject(&quot;CartList&quot;);\n\n    }\n\n    public void plusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\n        listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart() + 1);\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\n        changeNumberItemListener.changed();\n\n\n    }\n\n    public void minusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\n        if(listFood.get(position).getNumberInCart() == 1){\n            listFood.remove(position);\n        }\n        else{\n            listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart()-1);\n\n        }\n\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\n        changeNumberItemListener.changed();\n    }\n\n    public Double getTotalFee(){\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\n        double fee = 0;\n        for(int i = 0; i &lt; listFood.size(); i++ ){\n            fee = fee+(listFood.get(i).getFee() *listFood.get(i).getNumberInCart());\n\n        }\n        return fee;\n    }\n\n\n\n}\n\n</code></pre>\n<p>Tried with finish() at the end of initView() and initList()</p>\n"},{"tags":["java","spring-data-jpa","javers"],"comments":[{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562129523,"post_id":56852206,"comment_id":100275296,"body_markdown":"Debug whats going on in `JaversSchemaManager.ensureTable()`","body":"Debug whats going on in <code>JaversSchemaManager.ensureTable()</code>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562137255,"post_id":56852206,"comment_id":100278096,"body_markdown":"@BartekWalacik - `if (schemaInspector.relationExists(tableName)) {\n            return;\n        }` This method should return true, because table already present on the schema, due to which its failing. I&#39;m not clear why?","body":"@BartekWalacik - <code>if (schemaInspector.relationExists(tableName)) {             return;         }</code> This method should return true, because table already present on the schema, due to which its failing. I&#39;m not clear why?"},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562157363,"post_id":56852206,"comment_id":100289174,"body_markdown":"use your debugger and step into `schemaInspector.relationExists(tableName)` and find out what&#39;s wrong","body":"use your debugger and step into <code>schemaInspector.relationExists(tableName)</code> and find out what&#39;s wrong"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562159870,"post_id":56852206,"comment_id":100290845,"body_markdown":"I checked `ResultSet resultSet = metadata.getTables(catalog, schemaName, convertCase(name), new String[]{&quot;TABLE&quot;});` schemaName itself coming and null and resultset is also null and thus getting error.","body":"I checked <code>ResultSet resultSet = metadata.getTables(catalog, schemaName, convertCase(name), new String[]{&quot;TABLE&quot;});</code> schemaName itself coming and null and resultset is also null and thus getting error."},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562217335,"post_id":56852206,"comment_id":100309996,"body_markdown":"on which version of Postgres?","body":"on which version of Postgres?"},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562217634,"post_id":56852206,"comment_id":100310071,"body_markdown":"see https://github.com/javers/javers/issues/826, think about contributing a failing test case","body":"see <a href=\"https://github.com/javers/javers/issues/826\" rel=\"nofollow noreferrer\">github.com/javers/javers/issues/826</a>, think about contributing a failing test case"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562304145,"post_id":56852206,"comment_id":100339601,"body_markdown":"@BartekWalacik - I&#39;m using Postgres 11 version, However if you simple try to run the code you should be able to reproduced this error.","body":"@BartekWalacik - I&#39;m using Postgres 11 version, However if you simple try to run the code you should be able to reproduced this error."},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562322024,"post_id":56852206,"comment_id":100347349,"body_markdown":"watch this issue https://github.com/javers/javers/issues/826","body":"watch this issue <a href=\"https://github.com/javers/javers/issues/826\" rel=\"nofollow noreferrer\">github.com/javers/javers/issues/826</a>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562424423,"post_id":56852206,"comment_id":100373008,"body_markdown":"@BartekWalacik - Thanks ! Look like this has been mark as bug &amp; fixed. In which version of Javers, this fixed can be seen ?","body":"@BartekWalacik - Thanks ! Look like this has been mark as bug &amp; fixed. In which version of Javers, this fixed can be seen ?"},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562433005,"post_id":56852206,"comment_id":100375002,"body_markdown":"fixed in Javers 5.6.2","body":"fixed in Javers 5.6.2"}],"answers":[{"tags":[],"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563375405,"creation_date":1563375405,"answer_id":57078826,"question_id":56852206,"body_markdown":"This issue is fixed in Javers 5.6.2","title":"Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists","body":"<p>This issue is fixed in Javers 5.6.2</p>\n"},{"tags":[],"owner":{"account_id":461527,"reputation":21,"user_id":863263,"display_name":"Chetan D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676444304,"creation_date":1676444304,"answer_id":75456419,"question_id":56852206,"body_markdown":"This issue is not yet fixed and can be easily seen in version 6.9.1 as well. ","title":"Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists","body":"<p>This issue is not yet fixed and can be easily seen in version 6.9.1 as well.</p>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57078826,"answer_count":2,"score":0,"last_activity_date":1676444304,"creation_date":1562069563,"question_id":56852206,"body_markdown":"I am using **Spring Data JPA and Javers** example. With the clean DB, when I run the project first time and then it works, when I run second time with hibernate:ddl-auto: create, it fails with below error. \r\n\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jpaJaversApplication&#39;: Unsatisfied dependency expressed through field &#39;javers&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JaversFromStarter&#39; defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\r\n    CREATE TABLE jv_commit (\r\n    commit_pk BIGINT NOT NULL,\r\n    author VARCHAR(200),\r\n    commit_date TIMESTAMP,\r\n    commit_date_instant VARCHAR(30),\r\n    commit_id NUMERIC(22,2),\r\n    CONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\r\n    ) \r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat com.example.JpaJaversApplication.main(JpaJaversApplication.java:26) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JaversFromStarter&#39; defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\r\n    CREATE TABLE jv_commit (\r\n    commit_pk BIGINT NOT NULL,\r\n    author VARCHAR(200),\r\n    commit_date TIMESTAMP,\r\n    commit_date_instant VARCHAR(30),\r\n    commit_id NUMERIC(22,2),\r\n    CONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\r\n    ) \r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \t... 18 common frames omitted\r\n    Caused by: org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\r\n    CREATE TABLE jv_commit (\r\n    commit_pk BIGINT NOT NULL,\r\n    author VARCHAR(200),\r\n    commit_date TIMESTAMP,\r\n    commit_date_instant VARCHAR(30),\r\n    commit_id NUMERIC(22,2),\r\n    CONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\r\n    ) \r\n    \tat org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:91) ~[polyjdbc-0.7.6.jar:na]\r\n    \tat org.polyjdbc.core.schema.SchemaManagerImpl.create(SchemaManagerImpl.java:52) ~[polyjdbc-0.7.6.jar:na]\r\n    \tat org.javers.repository.sql.schema.JaversSchemaManager.ensureTable(JaversSchemaManager.java:223) ~[javers-persistence-sql-5.6.1.jar:na]\r\n    \tat org.javers.repository.sql.schema.JaversSchemaManager.ensureSchema(JaversSchemaManager.java:47) ~[javers-persistence-sql-5.6.1.jar:na]\r\n    \tat org.javers.repository.sql.JaversSqlRepository.ensureSchema(JaversSqlRepository.java:186) ~[javers-persistence-sql-5.6.1.jar:na]\r\n    \tat org.javers.spring.jpa.JaversTransactionalDecorator$1.doInTransactionWithoutResult(JaversTransactionalDecorator.java:186) ~[javers-spring-jpa-5.6.1.jar:na]\r\n    \tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.javers.spring.jpa.JaversTransactionalDecorator.ensureSchema(JaversTransactionalDecorator.java:183) ~[javers-spring-jpa-5.6.1.jar:na]\r\n    \tat org.javers.spring.jpa.JaversTransactionalDecorator.afterPropertiesSet(JaversTransactionalDecorator.java:177) ~[javers-spring-jpa-5.6.1.jar:na]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \t... 28 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.2.0.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.2.0.jar:na]\r\n    \tat org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:88) ~[polyjdbc-0.7.6.jar:na]\r\n    \t... 39 common frames omitted\r\n\r\n**Book.java**\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    @Entity\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String author;\r\n    \r\n    \tprivate String title;\r\n    \t\r\n    \tprivate String email;\r\n    }\r\n\r\nBookRepository.java\r\n\r\n    @JaversSpringDataAuditable\r\n    public interface BookRepository extends JpaRepository&lt;Book, Long&gt;{\r\n        Stream&lt;Book&gt; findAllByAuthor(String author);\r\n    }\r\n\r\n","title":"Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists","body":"<p>I am using <strong>Spring Data JPA and Javers</strong> example. With the clean DB, when I run the project first time and then it works, when I run second time with hibernate:ddl-auto: create, it fails with below error. </p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jpaJaversApplication': Unsatisfied dependency expressed through field 'javers'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'JaversFromStarter' defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\nCREATE TABLE jv_commit (\ncommit_pk BIGINT NOT NULL,\nauthor VARCHAR(200),\ncommit_date TIMESTAMP,\ncommit_date_instant VARCHAR(30),\ncommit_id NUMERIC(22,2),\nCONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\n) \n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at com.example.JpaJaversApplication.main(JpaJaversApplication.java:26) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'JaversFromStarter' defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\nCREATE TABLE jv_commit (\ncommit_pk BIGINT NOT NULL,\nauthor VARCHAR(200),\ncommit_date TIMESTAMP,\ncommit_date_instant VARCHAR(30),\ncommit_id NUMERIC(22,2),\nCONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\n) \n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    ... 18 common frames omitted\nCaused by: org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\nCREATE TABLE jv_commit (\ncommit_pk BIGINT NOT NULL,\nauthor VARCHAR(200),\ncommit_date TIMESTAMP,\ncommit_date_instant VARCHAR(30),\ncommit_id NUMERIC(22,2),\nCONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\n) \n    at org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:91) ~[polyjdbc-0.7.6.jar:na]\n    at org.polyjdbc.core.schema.SchemaManagerImpl.create(SchemaManagerImpl.java:52) ~[polyjdbc-0.7.6.jar:na]\n    at org.javers.repository.sql.schema.JaversSchemaManager.ensureTable(JaversSchemaManager.java:223) ~[javers-persistence-sql-5.6.1.jar:na]\n    at org.javers.repository.sql.schema.JaversSchemaManager.ensureSchema(JaversSchemaManager.java:47) ~[javers-persistence-sql-5.6.1.jar:na]\n    at org.javers.repository.sql.JaversSqlRepository.ensureSchema(JaversSqlRepository.java:186) ~[javers-persistence-sql-5.6.1.jar:na]\n    at org.javers.spring.jpa.JaversTransactionalDecorator$1.doInTransactionWithoutResult(JaversTransactionalDecorator.java:186) ~[javers-spring-jpa-5.6.1.jar:na]\n    at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.javers.spring.jpa.JaversTransactionalDecorator.ensureSchema(JaversTransactionalDecorator.java:183) ~[javers-spring-jpa-5.6.1.jar:na]\n    at org.javers.spring.jpa.JaversTransactionalDecorator.afterPropertiesSet(JaversTransactionalDecorator.java:177) ~[javers-spring-jpa-5.6.1.jar:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    ... 28 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \"jv_commit\" already exists\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.2.0.jar:na]\n    at org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:88) ~[polyjdbc-0.7.6.jar:na]\n    ... 39 common frames omitted\n</code></pre>\n\n<p><strong>Book.java</strong></p>\n\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@Entity\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String author;\n\n    private String title;\n\n    private String email;\n}\n</code></pre>\n\n<p>BookRepository.java</p>\n\n<pre><code>@JaversSpringDataAuditable\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt;{\n    Stream&lt;Book&gt; findAllByAuthor(String author);\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","volatile","java-memory-model"],"comments":[{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676416437,"post_id":75453944,"comment_id":133132088,"body_markdown":"I&#39;ve added some examples, maybe it can clarify what i am talking about, so u can provide some more precise answer. But anyway thank you for the answer )","body":"I&#39;ve added some examples, maybe it can clarify what i am talking about, so u can provide some more precise answer. But anyway thank you for the answer )"},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676416872,"post_id":75453944,"comment_id":133132151,"body_markdown":"&#39;xxx&#39; is not boolean value, it is just any object that was changes or set in the Thread1, and i am interested if writing to the same volatile variable will provide access to this data for another Thread2. In case of reading it is 100%, but nothing about subsequent writes :(","body":"&#39;xxx&#39; is not boolean value, it is just any object that was changes or set in the Thread1, and i am interested if writing to the same volatile variable will provide access to this data for another Thread2. In case of reading it is 100%, but nothing about subsequent writes :("},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676417474,"post_id":75453944,"comment_id":133132238,"body_markdown":"you are not correct, when you are reading volatile field all the data that was accessible to the writer thread becomes accessible to the reader thread: http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html","body":"you are not correct, when you are reading volatile field all the data that was accessible to the writer thread becomes accessible to the reader thread: <a href=\"http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html\" rel=\"nofollow noreferrer\">jeremymanson.blogspot.com/2008/11/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1676419532,"post_id":75453944,"comment_id":133132562,"body_markdown":"*&quot;[I] can&#39;t find anything about it in the official docs.&quot;* -  It is all specified in Chapter 17 of the JLS.  Yes, it is not easy to read ... but if you are going to write code that depends on `volatile` for synchronization, then you need to understand this stuff.  And conversely, if you can&#39;t understand what the JLS says you shouldn&#39;t be attempting to do your synchronization this way.  (Use the higher level concurrency primitives.  In the vast majority of use-cases, &quot;lock free&quot; synchronization is unnecessary.)","body":"<i>&quot;[I] can&#39;t find anything about it in the official docs.&quot;</i> -  It is all specified in Chapter 17 of the JLS.  Yes, it is not easy to read ... but if you are going to write code that depends on <code>volatile</code> for synchronization, then you need to understand this stuff.  And conversely, if you can&#39;t understand what the JLS says you shouldn&#39;t be attempting to do your synchronization this way.  (Use the higher level concurrency primitives.  In the vast majority of use-cases, &quot;lock free&quot; synchronization is unnecessary.)"},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676422509,"post_id":75453944,"comment_id":133132941,"body_markdown":"Thank you for your comment. I’ve read it once more and found same blocks of text. A write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). And this: A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field. So no info about subsequent writes... maybe i m just blind(","body":"Thank you for your comment. I’ve read it once more and found same blocks of text. A write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). And this: A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field. So no info about subsequent writes... maybe i m just blind("},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1676423209,"post_id":75453944,"comment_id":133133041,"body_markdown":"Well ... it doesn&#39;t mention subsequent writes by thread A because subsequent writes  have no associated guarantees.  The JMM spec is all about what &gt;is&lt; guaranteed.  It doesn&#39;t (and doesn&#39;t need to) enumerate the infinite set of things that are not guaranteed. If something is not *stated* as guaranteed then it is not guaranteed.","body":"Well ... it doesn&#39;t mention subsequent writes by thread A because subsequent writes  have no associated guarantees.  The JMM spec is all about what &gt;is&lt; guaranteed.  It doesn&#39;t (and doesn&#39;t need to) enumerate the infinite set of things that are not guaranteed. If something is not <i>stated</i> as guaranteed then it is not guaranteed."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676423321,"post_id":75453944,"comment_id":133133050,"body_markdown":"Like I said, the spec is not easy to read ... but all of the information is there.  And if *reasoning* about what is stated (and not stated) in the spec is too difficult for you, you shouldn&#39;t be attempting to do clever things with `volatile`.   IMO.","body":"Like I said, the spec is not easy to read ... but all of the information is there.  And if <i>reasoning</i> about what is stated (and not stated) in the spec is too difficult for you, you shouldn&#39;t be attempting to do clever things with <code>volatile</code>.   IMO."},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676423929,"post_id":75453944,"comment_id":133133139,"body_markdown":"Maybe you are right. And I am still not ready for such things. But anyway thanks a lot for clarifying the correct answer to my question!","body":"Maybe you are right. And I am still not ready for such things. But anyway thanks a lot for clarifying the correct answer to my question!"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676443739,"creation_date":1676426207,"answer_id":75454851,"question_id":75453944,"body_markdown":"To give a bit more comprehensive answer by building up the happens-before relation out of its basic orders:\r\n\r\n1) synchronization order: this is the total order of all synchronization actions. Since a volatile write is a synchronization action, the 2 volatile writes to the same or different variables are part of the synchronization order. The synchronization order will even order e.g. the lock of A and the volatile read of B because it is a total order. \r\n\r\n2) synchronizes-with order. This is a partial order that only orders certain synchronization actions. For example, the release of a lock with all subsequent acquires of that same lock and the write of a volatile variable and all subsequent reads of that variable. So 2 volatile writes to different or the same variables are not ordered by the synchronizes-with order.\r\n\r\n3) program order: in simple terms, it is the order as specified by the program code. In your case, the 2 volatiles writes are not ordered by program order since they are issued by different threads.\r\n\r\nNow we get to the last step: the happens-before relation which is an order. It is the transitive closure of the union of the program order and the synchronizes-with order.\r\n\r\nSo even though the 2 volatile writes are part of the synchronization order, they are not part of the synchronizes-with order, and as a consequence, they are not part of the happens-before order. So they don&#39;t induce any happens-before edges.\r\n","title":"Volatile happens-before clarification/misunderstanding?","body":"<p>To give a bit more comprehensive answer by building up the happens-before relation out of its basic orders:</p>\n<ol>\n<li><p>synchronization order: this is the total order of all synchronization actions. Since a volatile write is a synchronization action, the 2 volatile writes to the same or different variables are part of the synchronization order. The synchronization order will even order e.g. the lock of A and the volatile read of B because it is a total order.</p>\n</li>\n<li><p>synchronizes-with order. This is a partial order that only orders certain synchronization actions. For example, the release of a lock with all subsequent acquires of that same lock and the write of a volatile variable and all subsequent reads of that variable. So 2 volatile writes to different or the same variables are not ordered by the synchronizes-with order.</p>\n</li>\n<li><p>program order: in simple terms, it is the order as specified by the program code. In your case, the 2 volatiles writes are not ordered by program order since they are issued by different threads.</p>\n</li>\n</ol>\n<p>Now we get to the last step: the happens-before relation which is an order. It is the transitive closure of the union of the program order and the synchronizes-with order.</p>\n<p>So even though the 2 volatile writes are part of the synchronization order, they are not part of the synchronizes-with order, and as a consequence, they are not part of the happens-before order. So they don't induce any happens-before edges.</p>\n"}],"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75454851,"answer_count":1,"score":2,"last_activity_date":1676443739,"creation_date":1676414814,"question_id":75453944,"body_markdown":"&quot;A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.&quot;\r\n\r\nSo I know that volatile field can be used as synchronization in order to guarantee that that all the information that thread 1 has before writing to volatile field is going to be visible to thread 2 after reading that volatile.\r\n\r\nBut what about subsequent writes? Is the behavior the same?\r\nAny help appreciated, can&#39;t find anything about it in the official docs.\r\n\r\nExamples:\r\n\r\n    ### Write -&gt; Read\r\n\r\n    #Thread1 (Write)\r\n    xxx = &quot;anyValue&quot; - any variable with value before volatile\r\n    boolean volatile b = true\r\n   \r\n    #Thread2 (Read)\r\n    if (b) { -&gt; here we read volatile value\r\n     print(xxx) -&gt; guaranteed visibility of &#39;xxx&#39; 100%, will print 100% &quot;anyValue&quot;\r\n    }\r\n\r\n    ### Write -&gt; Write\r\n\r\n    #Thread1 (Write)\r\n    xxx = &quot;anyValue&quot; - any variable with value before volatile\r\n    boolean volatile b = true;\r\n   \r\n    #Thread2 (Write)\r\n    b = false; -&gt; here we write to volatile value\r\n    print(xxx); -&gt; guaranteed visibility of &#39;xxx&#39;???, what will be printed?\r\n   ","title":"Volatile happens-before clarification/misunderstanding?","body":"<p>&quot;A write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.&quot;</p>\n<p>So I know that volatile field can be used as synchronization in order to guarantee that that all the information that thread 1 has before writing to volatile field is going to be visible to thread 2 after reading that volatile.</p>\n<p>But what about subsequent writes? Is the behavior the same?\nAny help appreciated, can't find anything about it in the official docs.</p>\n<p>Examples:</p>\n<pre><code>### Write -&gt; Read\n\n#Thread1 (Write)\nxxx = &quot;anyValue&quot; - any variable with value before volatile\nboolean volatile b = true\n\n#Thread2 (Read)\nif (b) { -&gt; here we read volatile value\n print(xxx) -&gt; guaranteed visibility of 'xxx' 100%, will print 100% &quot;anyValue&quot;\n}\n\n### Write -&gt; Write\n\n#Thread1 (Write)\nxxx = &quot;anyValue&quot; - any variable with value before volatile\nboolean volatile b = true;\n\n#Thread2 (Write)\nb = false; -&gt; here we write to volatile value\nprint(xxx); -&gt; guaranteed visibility of 'xxx'???, what will be printed?\n</code></pre>\n"},{"tags":["java","svn","intellij-idea"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1309918365,"post_id":6590842,"comment_id":7774951,"body_markdown":"are you sure you committed all the files from the first computer? what does svn log show?","body":"are you sure you committed all the files from the first computer? what does svn log show?"},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309918791,"post_id":6590842,"comment_id":7775011,"body_markdown":"@matt I think so... I click commit on the desktop and it says there are no changes, and all the files are there on the laptop. I think it&#39;s this .iml file as shown in the screenshot, which contains the wrong content url. But I don&#39;t want to change it because when I commit it&#39;ll be copied to my desktop then presumably the project won&#39;t work there","body":"@matt I think so... I click commit on the desktop and it says there are no changes, and all the files are there on the laptop. I think it&#39;s this .iml file as shown in the screenshot, which contains the wrong content url. But I don&#39;t want to change it because when I commit it&#39;ll be copied to my desktop then presumably the project won&#39;t work there"},{"owner":{"account_id":125069,"reputation":6157,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":0,"creation_date":1309923274,"post_id":6590842,"comment_id":7775566,"body_markdown":"You can check if you have commited everything using an external svn client like tortoise SVN (in windows) it will colorize all the files under version control","body":"You can check if you have commited everything using an external svn client like tortoise SVN (in windows) it will colorize all the files under version control"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1309941899,"post_id":6590842,"comment_id":7778707,"body_markdown":"After performing the initial import you need to do a checkout in order to use version control in IDEA.","body":"After performing the initial import you need to do a checkout in order to use version control in IDEA."},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309964186,"post_id":6590842,"comment_id":7785251,"body_markdown":"@CrazyCoder OK, nice to know. I may be wrong but I thought I&#39;d imported into Subversion with other projects in the past and didn&#39;t have to explicitly check out.","body":"@CrazyCoder OK, nice to know. I may be wrong but I thought I&#39;d imported into Subversion with other projects in the past and didn&#39;t have to explicitly check out."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1309964248,"creation_date":1309918701,"answer_id":6590893,"question_id":6590842,"body_markdown":"Please [refer to the FAQ][1].\r\n\r\nAs for the content root, make sure that it&#39;s located under the project root or module root, in this case the path will be stored relatively to the project/modile root inside the iml file. If the fixed system specific path is used in the iml, such module will not work on other systems.\r\n\r\n**UPDATE**:\r\nMake an explicit mapping between the actual working directory and Subversion in Settings | Version Control dialog. If you are using the default &lt;Project Root&gt; placeholder and your project files are not under the checkout root, it could be the case.\r\n\r\nAfter performing the initial import you need to do a checkout in order to use version control in IDEA.\r\n\r\n  [1]: http://devnet.jetbrains.net/docs/DOC-1186","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>Please <a href=\"http://devnet.jetbrains.net/docs/DOC-1186\" rel=\"noreferrer\">refer to the FAQ</a>.</p>\n\n<p>As for the content root, make sure that it's located under the project root or module root, in this case the path will be stored relatively to the project/modile root inside the iml file. If the fixed system specific path is used in the iml, such module will not work on other systems.</p>\n\n<p><strong>UPDATE</strong>:\nMake an explicit mapping between the actual working directory and Subversion in Settings | Version Control dialog. If you are using the default  placeholder and your project files are not under the checkout root, it could be the case.</p>\n\n<p>After performing the initial import you need to do a checkout in order to use version control in IDEA.</p>\n"},{"tags":[],"owner":{"account_id":376226,"reputation":515,"user_id":727541,"display_name":"Max P Magee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402697698,"creation_date":1402697698,"answer_id":24214490,"question_id":6590842,"body_markdown":"I just ran into this today- checked out an existing project and had to update the SVN scheme from 1.6 (I think) to 1.8. That seemed to make Subversion not recognize that it was wrong it its belief- even though I could DIFF and see changes relative to the latest repository version- that &quot;No Changes Detected.&quot;\r\n\r\nI got so fed up that I shut down Intellij...on a whim I reopened it, and the file in question appeared blue...hmmm...yep, now it detected the changes.\r\n\r\n![Thanks, Roy!][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FBljO.gif","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I just ran into this today- checked out an existing project and had to update the SVN scheme from 1.6 (I think) to 1.8. That seemed to make Subversion not recognize that it was wrong it its belief- even though I could DIFF and see changes relative to the latest repository version- that \"No Changes Detected.\"</p>\n\n<p>I got so fed up that I shut down Intellij...on a whim I reopened it, and the file in question appeared blue...hmmm...yep, now it detected the changes.</p>\n\n<p><img src=\"https://i.stack.imgur.com/FBljO.gif\" alt=\"Thanks, Roy!\"></p>\n"},{"tags":[],"owner":{"account_id":45537,"reputation":2744,"user_id":134276,"accept_rate":50,"display_name":"Stoffe"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1412781251,"creation_date":1412781251,"answer_id":26260454,"question_id":6590842,"body_markdown":"VCS -&gt; Refresh File Status solved this for me, when Intellij suddenly stopped noticing changes.","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>VCS -> Refresh File Status solved this for me, when Intellij suddenly stopped noticing changes.</p>\n"},{"tags":[],"owner":{"account_id":7015233,"reputation":16344,"user_id":5376813,"accept_rate":55,"display_name":"TetraDev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467754288,"creation_date":1467754288,"answer_id":38213109,"question_id":6590842,"body_markdown":"Sometimes doing `VCS -&gt; Refresh File Status` works for me.\r\n\r\nOther times, it does nothing.\r\n\r\nA solution is to \r\n\r\n 1. COPY all your file contents to clipboard / external notepad (for backup)\r\n 2. Choose Rollback on the file which needs updating. Now it is up-to-date with the server and does not contain your new changes.\r\n 3. Edit file again (checkout), and PASTE your original file contents. \r\n 4. Attempt to commit changes. It should detect them now.\r\n","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>Sometimes doing <code>VCS -&gt; Refresh File Status</code> works for me.</p>\n\n<p>Other times, it does nothing.</p>\n\n<p>A solution is to </p>\n\n<ol>\n<li>COPY all your file contents to clipboard / external notepad (for backup)</li>\n<li>Choose Rollback on the file which needs updating. Now it is up-to-date with the server and does not contain your new changes.</li>\n<li>Edit file again (checkout), and PASTE your original file contents. </li>\n<li>Attempt to commit changes. It should detect them now.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519832279,"creation_date":1507662237,"answer_id":46674114,"question_id":6590842,"body_markdown":"I got into the similar issue today and I tried `VCS -&gt; Refresh File Status`, but it didn&#39;t help me. When i looked at `Version Control-&gt;Subversion Working Copies Information`, i found an svn error `The working copy at /home/project is too old to work with svn client 1.9.4`. First i ran `svn upgrade` and then doing `VCS -&gt; Refresh File Status` resolved my issue and i was able to commit my changes.","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I got into the similar issue today and I tried <code>VCS -&gt; Refresh File Status</code>, but it didn't help me. When i looked at <code>Version Control-&gt;Subversion Working Copies Information</code>, i found an svn error <code>The working copy at /home/project is too old to work with svn client 1.9.4</code>. First i ran <code>svn upgrade</code> and then doing <code>VCS -&gt; Refresh File Status</code> resolved my issue and i was able to commit my changes.</p>\n"},{"tags":[],"owner":{"account_id":1801760,"reputation":2213,"user_id":1639918,"accept_rate":86,"display_name":"Panu Logic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516219389,"creation_date":1516219045,"answer_id":48309033,"question_id":6590842,"body_markdown":"I had the same issue it seems it may have been caused by having a file with the same name in two different GIT-repositories. \r\n\r\nI was able to fix it by opening File -&gt; Settings -&gt; Version Control and then un-assigning and re-assigning GIT as the VCS of the two directories which both had the file. First the directory in which there was no changes in the file then the other active one which did have changes (but which did not detect them before).\r\n\r\n\r\n","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I had the same issue it seems it may have been caused by having a file with the same name in two different GIT-repositories. </p>\n\n<p>I was able to fix it by opening File -> Settings -> Version Control and then un-assigning and re-assigning GIT as the VCS of the two directories which both had the file. First the directory in which there was no changes in the file then the other active one which did have changes (but which did not detect them before).</p>\n"},{"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676443698,"creation_date":1676443698,"answer_id":75456332,"question_id":6590842,"body_markdown":"None of the other solutions here helped me.\r\n\r\nEnded up checking out the entire repository again, copied all the sub folders over to the newly checked out folder and submitted the changes.\r\n\r\nDeleted the old folder and renamed the new folder to the old folders name.","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>None of the other solutions here helped me.</p>\n<p>Ended up checking out the entire repository again, copied all the sub folders over to the newly checked out folder and submitted the changes.</p>\n<p>Deleted the old folder and renamed the new folder to the old folders name.</p>\n"}],"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28229,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":6590893,"answer_count":7,"score":11,"last_activity_date":1676443698,"creation_date":1309918105,"question_id":6590842,"body_markdown":"I&#39;m trying to share a project between my desktop and laptop using Subversion. The project has 3 modules. I&#39;ve imported the project folder into a repository in a shared folder that my laptop can access over the network. \r\n\r\nI checked the project out on my laptop and then tried to open the project. None of the modules are visible, only the project&#39;s .iml file, as in the screenshot below.\r\n\r\nI notice that the .iml file has a line for &quot;content url&quot;, which refers to a location on my desktop. Maybe this is the problem. What can I do about it? Do I have to create a new project on the laptop and import the modules - so there would be 2 different top level .iml files, one for the desktop and one for the laptop? Am I going about this the wrong way?\r\n\r\n![intelliJ][1]\r\n\r\n**UPDATE**: The problem seems to be with committing. When I make a change in a file, save, and hit Commit Changes, I get a popup saying &quot;No changes detected&quot;. This is the same on both laptop and desktop, and meant that I downloaded the wrong version onto my laptop before. I deleted the repository and created a new one, and my project works on my laptop now, but I can&#39;t commit changes from within IntelliJ (only with TortoiseSVN via file manager). Also, when I imported my project into version control from my desktop computer, the working copy wasn&#39;t put under version control. So I can&#39;t update from my desktop unless I check it out to a different folder.\r\n\r\nI think there is something wrong with the SVN plugin with this version of IntelliJ (10.5.1). Does anyone else have problems with committing changes?\r\n\r\n**RESOLUTION** I needed to\r\n1) Update Settings | Version Control  to map Subversion to the working directory\r\n2) Import into Version Control\r\n3) Check it out again\r\n\r\nIt may possibly have been caused by the fact that the modules were originally standalone projects which were in separate repositories. Whatever the cause, IntelliJ&#39;s &quot;No changes detected&quot; dialog isn&#39;t the most helpful.\r\n\r\n  [1]: http://i.stack.imgur.com/1thMc.png","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I'm trying to share a project between my desktop and laptop using Subversion. The project has 3 modules. I've imported the project folder into a repository in a shared folder that my laptop can access over the network. </p>\n\n<p>I checked the project out on my laptop and then tried to open the project. None of the modules are visible, only the project's .iml file, as in the screenshot below.</p>\n\n<p>I notice that the .iml file has a line for \"content url\", which refers to a location on my desktop. Maybe this is the problem. What can I do about it? Do I have to create a new project on the laptop and import the modules - so there would be 2 different top level .iml files, one for the desktop and one for the laptop? Am I going about this the wrong way?</p>\n\n<p><img src=\"https://i.stack.imgur.com/1thMc.png\" alt=\"intelliJ\"></p>\n\n<p><strong>UPDATE</strong>: The problem seems to be with committing. When I make a change in a file, save, and hit Commit Changes, I get a popup saying \"No changes detected\". This is the same on both laptop and desktop, and meant that I downloaded the wrong version onto my laptop before. I deleted the repository and created a new one, and my project works on my laptop now, but I can't commit changes from within IntelliJ (only with TortoiseSVN via file manager). Also, when I imported my project into version control from my desktop computer, the working copy wasn't put under version control. So I can't update from my desktop unless I check it out to a different folder.</p>\n\n<p>I think there is something wrong with the SVN plugin with this version of IntelliJ (10.5.1). Does anyone else have problems with committing changes?</p>\n\n<p><strong>RESOLUTION</strong> I needed to\n1) Update Settings | Version Control  to map Subversion to the working directory\n2) Import into Version Control\n3) Check it out again</p>\n\n<p>It may possibly have been caused by the fact that the modules were originally standalone projects which were in separate repositories. Whatever the cause, IntelliJ's \"No changes detected\" dialog isn't the most helpful.</p>\n"},{"tags":["java","jmeter","java-me","jmeter-plugins","blazemeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676443659,"creation_date":1676443659,"answer_id":75456325,"question_id":75455954,"body_markdown":"&quot;Not recorded properly&quot; shouldn&#39;t be the case, the request is either recorded or not. If JMeter fails to capture the request body fully it shouldn&#39;t create the relevant [HTTP Request][1] sampler. And also JMeter should print some information on the problem to [jmeter.log file][2]. \r\n\r\nSo my expectation is that you&#39;re introducing the &quot;problem&quot; when you&#39;re &quot;trying to modify the ids&quot;\r\n\r\nIf it&#39;s really a JMeter problem you should [raise an issue][3] so developers and maintainers could fix it. In the meantime you can use the following workarounds:\r\n\r\n 1. Use your [browser developer tools][4] or 3rd-party sniffer tool like [Fiddler][5] or [Wireshark][6] to capture particular this request (or the whole test scenario)\r\n 2. You can use i.e. [BlazeMeter Converter][7] to transform captured requests into .jmx script. \r\n\r\n 3. Try upgrading to the latest stable version of JMeter which is [JMeter 5.5][8] as of now because it&#39;s [recommended to use the latest version][9]. \r\n\r\n\r\n     \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [3]: https://jmeter.apache.org/issues.html\r\n  [4]: https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Tools_and_setup/What_are_browser_developer_tools\r\n  [5]: https://www.telerik.com/fiddler\r\n  [6]: https://www.wireshark.org/\r\n  [7]: https://converter.blazemeter.com/\r\n  [8]: https://lists.apache.org/thread/k575c2oqnr0pv52fckcg399o4nkqt8c6\r\n  [9]: https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version","title":"How to increase a body data size while recording the script using JMeter?","body":"<p>&quot;Not recorded properly&quot; shouldn't be the case, the request is either recorded or not. If JMeter fails to capture the request body fully it shouldn't create the relevant <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler. And also JMeter should print some information on the problem to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a>.</p>\n<p>So my expectation is that you're introducing the &quot;problem&quot; when you're &quot;trying to modify the ids&quot;</p>\n<p>If it's really a JMeter problem you should <a href=\"https://jmeter.apache.org/issues.html\" rel=\"nofollow noreferrer\">raise an issue</a> so developers and maintainers could fix it. In the meantime you can use the following workarounds:</p>\n<ol>\n<li><p>Use your <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Tools_and_setup/What_are_browser_developer_tools\" rel=\"nofollow noreferrer\">browser developer tools</a> or 3rd-party sniffer tool like <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> or <a href=\"https://www.wireshark.org/\" rel=\"nofollow noreferrer\">Wireshark</a> to capture particular this request (or the whole test scenario)</p>\n</li>\n<li><p>You can use i.e. <a href=\"https://converter.blazemeter.com/\" rel=\"nofollow noreferrer\">BlazeMeter Converter</a> to transform captured requests into .jmx script.</p>\n</li>\n<li><p>Try upgrading to the latest stable version of JMeter which is <a href=\"https://lists.apache.org/thread/k575c2oqnr0pv52fckcg399o4nkqt8c6\" rel=\"nofollow noreferrer\">JMeter 5.5</a> as of now because it's <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version\" rel=\"nofollow noreferrer\">recommended to use the latest version</a>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1922777,"reputation":25,"user_id":1733869,"display_name":"ankit dasani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676443659,"creation_date":1676440427,"question_id":75455954,"body_markdown":"I am using Jmeter 5.2.1. While recording the script due to the heavy response, body data is not recorded properly and due to this when I tried to modify the ids at that time its request failed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn addition, I also tried the same with the **BlazeMeter chrome extension** but the result is the same.\r\n\r\nIs it possible to increase the size of the body data or any other possible way to manage these types of requests at recording time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFHlW.png","title":"How to increase a body data size while recording the script using JMeter?","body":"<p>I am using Jmeter 5.2.1. While recording the script due to the heavy response, body data is not recorded properly and due to this when I tried to modify the ids at that time its request failed.</p>\n<p><a href=\"https://i.stack.imgur.com/ZFHlW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFHlW.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, I also tried the same with the <strong>BlazeMeter chrome extension</strong> but the result is the same.</p>\n<p>Is it possible to increase the size of the body data or any other possible way to manage these types of requests at recording time?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1676442450,"post_id":75455991,"comment_id":133135387,"body_markdown":"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters - the example in documentation uses ant patterns, not class names.","body":"<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/&hellip;</a> - the example in documentation uses ant patterns, not class names."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676443676,"post_id":75455991,"comment_id":133135588,"body_markdown":"@AndreyB.Panfilov That has not worked as well for me","body":"@AndreyB.Panfilov That has not worked as well for me"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676450192,"post_id":75455991,"comment_id":133137015,"body_markdown":"If you have spring boot application don&#39;t use maven-shade-plugin use spring-boot-maven-plugin instead....","body":"If you have spring boot application don&#39;t use maven-shade-plugin use spring-boot-maven-plugin instead...."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676504815,"post_id":75455991,"comment_id":133152661,"body_markdown":"@khmarbaise I tried using filter conditions first in spring-boot-maven-plugin, but didn&#39;t work. So migrated to maven shade plugin. I&#39;ll go back to it.","body":"@khmarbaise I tried using filter conditions first in spring-boot-maven-plugin, but didn&#39;t work. So migrated to maven shade plugin. I&#39;ll go back to it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676547038,"post_id":75455991,"comment_id":133160707,"body_markdown":"`My pom.xml has one dependency which has shaded classes conflicting with other dependencies` That sounds like the dependency is the culprit... Are those deps not provided by other deps instead of the shaded one???","body":"<code>My pom.xml has one dependency which has shaded classes conflicting with other dependencies</code> That sounds like the dependency is the culprit... Are those deps not provided by other deps instead of the shaded one???"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1676850749,"post_id":75455991,"comment_id":133215344,"body_markdown":"&quot;After compiling it still shows those classes not being removed.&quot; (a) who is &quot;it&quot; showing classes not being removed?  (b) &quot;not being removed&quot; from where? the point here - shade plugin removes filtered files from uber-jar, but don&#39;t touch anythin in target/classes directory","body":"&quot;After compiling it still shows those classes not being removed.&quot; (a) who is &quot;it&quot; showing classes not being removed?  (b) &quot;not being removed&quot; from where? the point here - shade plugin removes filtered files from uber-jar, but don&#39;t touch anythin in target/classes directory"},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676869660,"post_id":75455991,"comment_id":133217514,"body_markdown":"@ursa Running the application gives an error when the application picks the shaded classes at runtime instead of the io.confluent classes.","body":"@ursa Running the application gives an error when the application picks the shaded classes at runtime instead of the io.confluent classes."}],"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676443658,"creation_date":1676440753,"question_id":75455991,"body_markdown":"The classes added to exclude in maven shade plugin don&#39;t get excluded.\r\n\r\nMy pom.xml has one dependency which has shaded classes conflicting with other dependencies. \r\n\r\nSo I added the path to those classes in maven shade plugin to exclude them.\r\n \r\nI have this for maven shade plugin.\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n\r\n                &lt;execution&gt;\r\n\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;io.confluent.shaded.kafka.serializers.subject.*&lt;/exclude&gt;\r\n              &lt;exclude&gt;io/confluent/shaded/kafka/serializers/subject/*&lt;/exclude&gt;\r\n\r\n                            &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;mainClass&gt;com.expediagroup.das.businessevent.CommerceBusinessBookingEventMetricCalculatorApp&lt;/mainClass&gt;\r\n                            &lt;layout&gt;JAR&lt;/layout&gt;\r\n                        &lt;/configuration&gt;\r\n\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAfter compiling it still shows those classes not being removed.\r\n\r\nAny help is appreciated. \r\n","title":"Excluding Classes using Maven Shade Plugin not working","body":"<p>The classes added to exclude in maven shade plugin don't get excluded.</p>\n<p>My pom.xml has one dependency which has shaded classes conflicting with other dependencies.</p>\n<p>So I added the path to those classes in maven shade plugin to exclude them.</p>\n<p>I have this for maven shade plugin.</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;executions&gt;\n\n                &lt;execution&gt;\n\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                            &lt;filter&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;io.confluent.shaded.kafka.serializers.subject.*&lt;/exclude&gt;\n              &lt;exclude&gt;io/confluent/shaded/kafka/serializers/subject/*&lt;/exclude&gt;\n\n                            &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;mainClass&gt;com.expediagroup.das.businessevent.CommerceBusinessBookingEventMetricCalculatorApp&lt;/mainClass&gt;\n                            &lt;layout&gt;JAR&lt;/layout&gt;\n                        &lt;/configuration&gt;\n\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After compiling it still shows those classes not being removed.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","tomcat","servlets","jersey"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1647261587,"post_id":71375427,"comment_id":126319171,"body_markdown":"[setStatus](https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservletresponse#setStatus-int-java.lang.String-) is removed in Servlet 6. Possibly you use too new Tomcat (Tomcat 10.1.), for which you would need Jersey 3.1.0 which is not out, yet.","body":"<a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservletresponse#setStatus-int-java.lang.String-\" rel=\"nofollow noreferrer\">setStatus</a> is removed in Servlet 6. Possibly you use too new Tomcat (Tomcat 10.1.), for which you would need Jersey 3.1.0 which is not out, yet."}],"answers":[{"tags":[],"owner":{"account_id":27790249,"reputation":31,"user_id":21216828,"display_name":"krasky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676442446,"creation_date":1676442446,"answer_id":75456191,"question_id":71375427,"body_markdown":"As comment said, if you are deploying on Tomcat 10.1.x or greater you need to upgrade your jersey version to 3.1+ (it is out now).\r\nTo get a starting template use the maven build archetype for Jersey 3.1.1 as seen [here.][1] \r\n\r\nThis is a confusing error too because the updates from Tomcat 10.0.x to Tomcat 10.1.x entail an entire version jump in Servlet spec (version 5 to 6) [see link][2]. Usually there arent such big version changes within the same major version ie 10.x\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey/download.html\r\n  [2]: https://tomcat.apache.org/whichversion.html","title":"Jersey servlet version issues [java.lang.NoSuchMethodError] jakarta httpservlet","body":"<p>As comment said, if you are deploying on Tomcat 10.1.x or greater you need to upgrade your jersey version to 3.1+ (it is out now).\nTo get a starting template use the maven build archetype for Jersey 3.1.1 as seen <a href=\"https://eclipse-ee4j.github.io/jersey/download.html\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>This is a confusing error too because the updates from Tomcat 10.0.x to Tomcat 10.1.x entail an entire version jump in Servlet spec (version 5 to 6) <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">see link</a>. Usually there arent such big version changes within the same major version ie 10.x</p>\n"}],"owner":{"account_id":15086617,"reputation":1,"user_id":10887660,"display_name":"nanashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676442446,"creation_date":1646614563,"question_id":71375427,"body_markdown":"I&#39;m learning Java web technologies and I&#39;m trying to deploy a trivial REST service using Jersey, when I try to access the resource I get greeted with the following error:\r\n\r\n    SEVERE: Servlet.service() for servlet [Jersey REST Service] in context with path [/mkstick] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: &#39;void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)&#39;] with root cause\r\n    java.lang.NoSuchMethodError: &#39;void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)&#39;\r\n\r\nMy java class resource:\r\n\r\n    package com.dbmw.mkstick;\r\n    \r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class Resource {\r\n    \t\r\n        @GET\r\n        @Produces(MediaType.TEXT_HTML)\r\n        public String getText() {\r\n        \t return &quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;&quot; ;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy web xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.dbmw.mkstick&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.dbmw&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mkstick&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1&lt;/version&gt;\r\n    \t&lt;name&gt;mkstick&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t\t&lt;finalName&gt;mkstick&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;/project&gt;\r\n\r\nFrom what I can grasp it seems to be an issue with versions and I&#39;ve tried to get every dependency up to date but it has not helped at all.","title":"Jersey servlet version issues [java.lang.NoSuchMethodError] jakarta httpservlet","body":"<p>I'm learning Java web technologies and I'm trying to deploy a trivial REST service using Jersey, when I try to access the resource I get greeted with the following error:</p>\n<pre><code>SEVERE: Servlet.service() for servlet [Jersey REST Service] in context with path [/mkstick] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: 'void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)'] with root cause\njava.lang.NoSuchMethodError: 'void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)'\n</code></pre>\n<p>My java class resource:</p>\n<pre><code>package com.dbmw.mkstick;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class Resource {\n    \n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String getText() {\n         return &quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;&quot; ;\n    }\n\n}\n</code></pre>\n<p>My web xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.dbmw.mkstick&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dbmw&lt;/groupId&gt;\n    &lt;artifactId&gt;mkstick&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;name&gt;mkstick&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;finalName&gt;mkstick&lt;/finalName&gt;\n    &lt;/build&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;/project&gt;\n</code></pre>\n<p>From what I can grasp it seems to be an issue with versions and I've tried to get every dependency up to date but it has not helped at all.</p>\n"},{"tags":["java","multithreading","parallel-processing","synchronization","data-consistency"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676259600,"post_id":75431201,"comment_id":133094943,"body_markdown":"At present your second process &quot;wins&quot;. You should modify the first process so that it doesn&#39;t update that value, then you can run them concurrently.","body":"At present your second process &quot;wins&quot;. You should modify the first process so that it doesn&#39;t update that value, then you can run them concurrently."}],"answers":[{"tags":[],"owner":{"account_id":311725,"reputation":809,"user_id":4894473,"display_name":"Lam Le"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676338587,"creation_date":1676254115,"answer_id":75431385,"question_id":75431201,"body_markdown":"To avoid race condition, you should wait for both thread collect all data from 2 rest calls then do the database modification, like example:\r\n\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    List&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\r\n\r\n    todo.add(Executors.callable(new TaskCallRest1())); \r\n    todo.add(Executors.callable(new TaskCallRest2())); \r\n\r\n    List&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\r\n\r\nFor database synchronization, you can use optimistic lock to prevent multiple update. Optimistic lock simple is version of your record and the query look like: \r\n\r\n    update A set B = b, version = 2 where version = 1; \r\n\r\nOnly one thread can execute successful this query due to database ACID.\r\nIf you use Hibernate for persistence layer, you can looking for Hibernate Versioning","title":"How to avoid thread interference while updating database in multithreading","body":"<p>To avoid race condition, you should wait for both thread collect all data from 2 rest calls then do the database modification, like example:</p>\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(2);\nList&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\n\ntodo.add(Executors.callable(new TaskCallRest1())); \ntodo.add(Executors.callable(new TaskCallRest2())); \n\nList&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\n</code></pre>\n<p>For database synchronization, you can use optimistic lock to prevent multiple update. Optimistic lock simple is version of your record and the query look like:</p>\n<pre><code>update A set B = b, version = 2 where version = 1; \n</code></pre>\n<p>Only one thread can execute successful this query due to database ACID.\nIf you use Hibernate for persistence layer, you can looking for Hibernate Versioning</p>\n"},{"tags":[],"owner":{"account_id":12607983,"reputation":318,"user_id":9168200,"display_name":"Ilam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676442169,"creation_date":1676442169,"answer_id":75456150,"question_id":75431201,"body_markdown":"It is better to view this problem from data integrity perspective rather than threads. Because your application could run in a cluster (if not now, maybe later). There could be other users updating same table, from other applications. \r\n\r\nThe solution depends on the level of contention(the number of threads trying to update the same database table).\r\n\r\nIf there is high contention, use pessimistic locking. Refer [pessimistic locking][1]\r\n\r\n\r\nIf there is low contention, use optimistic locking. Refer [optimistic locking][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-pessimistic-locking\r\n  [2]: https://www.baeldung.com/jpa-optimistic-locking","title":"How to avoid thread interference while updating database in multithreading","body":"<p>It is better to view this problem from data integrity perspective rather than threads. Because your application could run in a cluster (if not now, maybe later). There could be other users updating same table, from other applications.</p>\n<p>The solution depends on the level of contention(the number of threads trying to update the same database table).</p>\n<p>If there is high contention, use pessimistic locking. Refer <a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">pessimistic locking</a></p>\n<p>If there is low contention, use optimistic locking. Refer <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">optimistic locking</a></p>\n"}],"owner":{"account_id":15553016,"reputation":67,"user_id":11220219,"display_name":"Siva Sai kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676442169,"creation_date":1676251029,"question_id":75431201,"body_markdown":"I have a java class ,which has two methods .These methods will be called one after the other. These methods are making rest calls to different services. After getting data from rest call ,i&#39;m updating multiple tables and some of the tables will be updated by both methods. My task is to implement multithreading to run both methods simultaneously but avoid threads to override data while they are updating the same table. What are the different ways to do it and how can i do it effectively in java8.","title":"How to avoid thread interference while updating database in multithreading","body":"<p>I have a java class ,which has two methods .These methods will be called one after the other. These methods are making rest calls to different services. After getting data from rest call ,i'm updating multiple tables and some of the tables will be updated by both methods. My task is to implement multithreading to run both methods simultaneously but avoid threads to override data while they are updating the same table. What are the different ways to do it and how can i do it effectively in java8.</p>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676398897,"creation_date":1676398897,"answer_id":75451810,"question_id":75451714,"body_markdown":"Your port mapping for `mysqldb` is maybe not needed? That is unless you really want to expose MySQL&#39;s server to the outside world (`outside:inside`). In your case on port 3307.\r\n\r\n    ports:\r\n      - 3307:3306\r\n\r\nI&#39;m not sure if you really mean to expose your server, but inside of your container you should be using the real port, `localhost:3306`.","title":"HikariPool-1 - Exception during pool initialization. Trying to build Spring boot application using MySQL docker image","body":"<p>Your port mapping for <code>mysqldb</code> is maybe not needed? That is unless you really want to expose MySQL's server to the outside world (<code>outside:inside</code>). In your case on port 3307.</p>\n<pre><code>ports:\n  - 3307:3306\n</code></pre>\n<p>I'm not sure if you really mean to expose your server, but inside of your container you should be using the real port, <code>localhost:3306</code>.</p>\n"}],"owner":{"display_name":"user21213468"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75451810,"answer_count":1,"score":0,"last_activity_date":1676441504,"creation_date":1676398439,"question_id":75451714,"body_markdown":"I am trying to create a application using Spring boot and MySQL.\r\nThe application is running successfully when working on local server, but when try to trying to create docker image the service is throwing Exception during pool initialization error.\r\n\r\nBelow are my project config\r\nSpring boot version: 3.0.1\r\nJava version: 17\r\nMySQL version: 8\r\n\r\n**application properties**\r\n```\r\nserver.port=3005\r\nspring.application.name=user-service\r\nspring.datasource.url=jdbc:mysql://localhost:3307/bank_app?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=123456\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\n```\r\n\r\n**docker-compose.yml**\r\n\r\n```\r\nversion: &quot;3.8&quot;\r\nservices:\r\n  mysqldb:\r\n    image: mysql:latest\r\n    container_name: mysqldb\r\n    restart: unless-stopped\r\n    env_file: ./.env\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=123456\r\n      - MYSQL_DATABASE=bank_app\r\n      - MYSQL_USER=root\r\n      - MYSQL_PASSWORD=123456\r\n    ports:\r\n      - 3307:3306\r\n    volumes:\r\n      - db:/var/lib/mysql\r\n    networks:\r\n      - main-network\r\n  user-service:\r\n    build:\r\n      context: ../code/user-service\r\n      dockerfile: Dockerfile\r\n    image: user-service\r\n    container_name: user-service\r\n    restart: on-failure\r\n    depends_on:\r\n      - mysqldb\r\n    ports:\r\n      - 3005:3005\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=prod\r\n      - SPRING_APPLICATION_NAME=user-service\r\n      - SPRING_APPLICATION_JSON={&quot;eureka&quot;:{&quot;client&quot;:{&quot;serviceUrl&quot;:{&quot;defaultZone&quot;:&quot;http://eureka-service:8761/eureka&quot;}}}}\r\n    networks:\r\n      - main-network\r\nnetworks:\r\n  main-network:\r\n    external:\r\n      name: main-network\r\nvolumes:\r\n  db:\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n   &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n   &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI tried by replacing the **localhost** with container name **mysqldb** in the datasource URL but still I&#39;m facing same error\r\n\r\n**Issue**\r\n```\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.221Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3005 (http)\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.292Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.293Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n2023-02-14 22:44:08 2023-02-14T17:14:08.255Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-02-14 22:44:08 2023-02-14T17:14:08.294Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18593 ms\r\n2023-02-14 22:44:10 2023-02-14T17:14:10.390Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-02-14 22:44:11 2023-02-14T17:14:11.085Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n2023-02-14 22:44:13 2023-02-14T17:14:13.010Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2023-02-14 22:44:13 2023-02-14T17:14:13.810Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-02-14 22:44:15 2023-02-14T17:14:15.664Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n2023-02-14 22:44:15 \r\n2023-02-14 22:44:15 com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n2023-02-14 22:44:15 \r\n2023-02-14 22:44:15 The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n```\r\n","title":"HikariPool-1 - Exception during pool initialization. Trying to build Spring boot application using MySQL docker image","body":"<p>I am trying to create a application using Spring boot and MySQL.\nThe application is running successfully when working on local server, but when try to trying to create docker image the service is throwing Exception during pool initialization error.</p>\n<p>Below are my project config\nSpring boot version: 3.0.1\nJava version: 17\nMySQL version: 8</p>\n<p><strong>application properties</strong></p>\n<pre><code>server.port=3005\nspring.application.name=user-service\nspring.datasource.url=jdbc:mysql://localhost:3307/bank_app?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: &quot;3.8&quot;\nservices:\n  mysqldb:\n    image: mysql:latest\n    container_name: mysqldb\n    restart: unless-stopped\n    env_file: ./.env\n    environment:\n      - MYSQL_ROOT_PASSWORD=123456\n      - MYSQL_DATABASE=bank_app\n      - MYSQL_USER=root\n      - MYSQL_PASSWORD=123456\n    ports:\n      - 3307:3306\n    volumes:\n      - db:/var/lib/mysql\n    networks:\n      - main-network\n  user-service:\n    build:\n      context: ../code/user-service\n      dockerfile: Dockerfile\n    image: user-service\n    container_name: user-service\n    restart: on-failure\n    depends_on:\n      - mysqldb\n    ports:\n      - 3005:3005\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - SPRING_APPLICATION_NAME=user-service\n      - SPRING_APPLICATION_JSON={&quot;eureka&quot;:{&quot;client&quot;:{&quot;serviceUrl&quot;:{&quot;defaultZone&quot;:&quot;http://eureka-service:8761/eureka&quot;}}}}\n    networks:\n      - main-network\nnetworks:\n  main-network:\n    external:\n      name: main-network\nvolumes:\n  db:\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;6.1.7.Final&lt;/version&gt;\n   &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried by replacing the <strong>localhost</strong> with container name <strong>mysqldb</strong> in the datasource URL but still I'm facing same error</p>\n<p><strong>Issue</strong></p>\n<pre><code>2023-02-14 22:44:07 2023-02-14T17:14:07.221Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3005 (http)\n2023-02-14 22:44:07 2023-02-14T17:14:07.292Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-02-14 22:44:07 2023-02-14T17:14:07.293Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-02-14 22:44:08 2023-02-14T17:14:08.255Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-02-14 22:44:08 2023-02-14T17:14:08.294Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18593 ms\n2023-02-14 22:44:10 2023-02-14T17:14:10.390Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-02-14 22:44:11 2023-02-14T17:14:11.085Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\n2023-02-14 22:44:13 2023-02-14T17:14:13.010Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2023-02-14 22:44:13 2023-02-14T17:14:13.810Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-02-14 22:44:15 2023-02-14T17:14:15.664Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n2023-02-14 22:44:15 \n2023-02-14 22:44:15 com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n2023-02-14 22:44:15 \n2023-02-14 22:44:15 The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1498099091,"post_id":44641878,"comment_id":76362151,"body_markdown":"Also posted at http://www.javaprogrammingforums.com/whats-wrong-my-code/40246-cant-install-jdk-9-because-%93another-java-installation-progress%94.html","body":"Also posted at <a href=\"http://www.javaprogrammingforums.com/whats-wrong-my-code/40246-cant-install-jdk-9-because-%93another-java-installation-progress%94.html\" rel=\"nofollow noreferrer\">javaprogrammingforums.com/whats-wrong-my-code/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2428893,"reputation":753,"user_id":2120259,"display_name":"BlackSheeep"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1551390148,"creation_date":1508948865,"answer_id":46937582,"question_id":44641878,"body_markdown":"On Windows, Java prevents starting the Installer twice by creating (two) lock files. If those files exist, Java Installer show the Message: &quot;Another Java installation is in progress (...)&quot;.\r\n\r\nIf Java Installer crashes, or Windows crashes during Java Installation, the installer cannot delete the lock files when finalizing. \r\n\r\nSolution:\r\n\r\nDeleting the lock files, unlocks the Installer and Java can be installed again.\r\n\r\nThe lock files are located at:\r\n\r\n    C:\\ProgramData\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n    %USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>On Windows, Java prevents starting the Installer twice by creating (two) lock files. If those files exist, Java Installer show the Message: \"Another Java installation is in progress (...)\".</p>\n\n<p>If Java Installer crashes, or Windows crashes during Java Installation, the installer cannot delete the lock files when finalizing. </p>\n\n<p>Solution:</p>\n\n<p>Deleting the lock files, unlocks the Installer and Java can be installed again.</p>\n\n<p>The lock files are located at:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\JAVA_INSTALL_FLAG\n%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\n%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1427957,"reputation":138,"user_id":1351016,"display_name":"Lex van Buiten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527032533,"creation_date":1522760354,"answer_id":49630731,"question_id":44641878,"body_markdown":"Kill any remaining Windows&#174; installer `msiexec.exe` processes using the Task Manager of Windows. The Windows installer process apparently locks any java files/processes which blocks the Java JDK to be updated.\r\n\r\nMy problem installing Java 9 began after I upgraded JetBeans IntelliJ which uses Java JRE/JDK. I first tried the suggested solution [that BlackSheeep posted](https://stackoverflow.com/a/46937582/589259), but without any luck.\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Kill any remaining Windows® installer <code>msiexec.exe</code> processes using the Task Manager of Windows. The Windows installer process apparently locks any java files/processes which blocks the Java JDK to be updated.</p>\n\n<p>My problem installing Java 9 began after I upgraded JetBeans IntelliJ which uses Java JRE/JDK. I first tried the suggested solution <a href=\"https://stackoverflow.com/a/46937582/589259\">that BlackSheeep posted</a>, but without any luck.</p>\n"},{"tags":[],"owner":{"account_id":222161,"reputation":1242,"user_id":480583,"display_name":"AhmedBM"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1524001460,"creation_date":1524001460,"answer_id":49887937,"question_id":44641878,"body_markdown":"Although this was written for *JDK9*, *JDK10* will suffer from the same issue BUT the lock location is different. The new lock file is located in  `%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG`.\r\n\r\nSimply deleting this file should allow you to proceed with the install.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Although this was written for <em>JDK9</em>, <em>JDK10</em> will suffer from the same issue BUT the lock location is different. The new lock file is located in  <code>%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG</code>.</p>\n\n<p>Simply deleting this file should allow you to proceed with the install.</p>\n"},{"tags":[],"owner":{"account_id":4695574,"reputation":52,"user_id":3800535,"display_name":"martin_"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1526519401,"creation_date":1526518279,"answer_id":50381835,"question_id":44641878,"body_markdown":"Try locating the lock file here:\r\n\r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\r\n\r\nDeleting it allowed my Java 10 installation to start.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Try locating the lock file here:</p>\n\n<pre><code>%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\n</code></pre>\n\n<p>Deleting it allowed my Java 10 installation to start.</p>\n"},{"tags":[],"owner":{"account_id":14074857,"reputation":61,"user_id":10167437,"display_name":"NurSultan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1533152812,"creation_date":1533148468,"answer_id":51640133,"question_id":44641878,"body_markdown":"This helped me:\r\n\r\nDELETE:\r\n    \r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n    and\r\n    %USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>This helped me:</p>\n\n<p>DELETE:</p>\n\n<pre><code>%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\nand\n%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14185397,"reputation":530,"user_id":10247526,"display_name":"heyt0pe"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1536736791,"creation_date":1536736791,"answer_id":52289563,"question_id":44641878,"body_markdown":"I had this problem also and i came to this page but i couldn&#39;t solve it at first because i thought my system didn&#39;t have &#39;ProgramData&#39; in my C: drive because its hidden i guess. This is what worked for me. Go to the windows file explorer and delete the &#39;JAVA_INSTALL_FLAG&#39; files in all these directories\r\n\r\n    %ProgramData%\\Oracle\\Java\r\n    %UserProile%\\AppData\\LocalLow\\Sun\\Java\r\n    %UserProile%\\AppData\\LocalLow\\Oracle\\Java\r\nThen Java jdk installs smoothly. i have recreated this problem and tried this solution again and it works.\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I had this problem also and i came to this page but i couldn't solve it at first because i thought my system didn't have 'ProgramData' in my C: drive because its hidden i guess. This is what worked for me. Go to the windows file explorer and delete the 'JAVA_INSTALL_FLAG' files in all these directories</p>\n\n<pre><code>%ProgramData%\\Oracle\\Java\n%UserProile%\\AppData\\LocalLow\\Sun\\Java\n%UserProile%\\AppData\\LocalLow\\Oracle\\Java\n</code></pre>\n\n<p>Then Java jdk installs smoothly. i have recreated this problem and tried this solution again and it works.</p>\n"},{"tags":[],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575469109,"creation_date":1575414078,"answer_id":59166682,"question_id":44641878,"body_markdown":"I don&#39;t mean to be cheap but `Control Panel` &gt; `Uninstall a program` &gt; `Java 9` is your friend","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I don't mean to be cheap but <code>Control Panel</code> > <code>Uninstall a program</code> > <code>Java 9</code> is your friend</p>\n"},{"tags":[],"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589639172,"creation_date":1589639172,"answer_id":61838307,"question_id":44641878,"body_markdown":"on windows 10, delete below directories,\r\n\r\nC:\\Program Files\\Java\r\nC:\\ProgramData\\Oracle\\Java\r\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Sun\\Java\r\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Oracle\\Java\r\n\r\nand try again.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>on windows 10, delete below directories,</p>\n\n<p>C:\\Program Files\\Java\nC:\\ProgramData\\Oracle\\Java\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Sun\\Java\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Oracle\\Java</p>\n\n<p>and try again.</p>\n"},{"tags":[],"owner":{"account_id":1483642,"reputation":31,"user_id":1392369,"display_name":"Patrick Samples"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667630249,"creation_date":1667630249,"answer_id":74325656,"question_id":44641878,"body_markdown":"I blue-screened during a JDK-19_64.msi installation. I have tried restarting and removing the lock files. It kept giving me the &quot;another java installation is in progress.&quot;\r\n\r\nI fixed it by cleaning out my %temp%\\ folder.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I blue-screened during a JDK-19_64.msi installation. I have tried restarting and removing the lock files. It kept giving me the &quot;another java installation is in progress.&quot;</p>\n<p>I fixed it by cleaning out my %temp%\\ folder.</p>\n"},{"tags":[],"owner":{"account_id":6130840,"reputation":677,"user_id":7793652,"display_name":"Pritam Pawade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673080768,"creation_date":1673080768,"answer_id":75039048,"question_id":44641878,"body_markdown":"For Windows 11, and recent Java versions, delete lock files as mentioned by others. Then delete temp files.\r\n\r\n    1. Press Windows +R\r\n    2. Type temp -&gt;delete all files\r\n    3. Again press Windows + R -&gt; Type %temp% -&gt; delete all files\r\n\r\n\r\n\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>For Windows 11, and recent Java versions, delete lock files as mentioned by others. Then delete temp files.</p>\n<pre><code>1. Press Windows +R\n2. Type temp -&gt;delete all files\n3. Again press Windows + R -&gt; Type %temp% -&gt; delete all files\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4200329,"reputation":2634,"user_id":3440582,"accept_rate":54,"display_name":"BlackPearl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676441003,"creation_date":1676441003,"answer_id":75456021,"question_id":44641878,"body_markdown":"On Windows\r\n\r\nDelete the file `JAVA_MSIUI_FLAG`\r\n\r\nIt can be found in \r\n`C:\\Users\\{Computer Name}\\AppData\\Local\\Temp`","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>On Windows</p>\n<p>Delete the file <code>JAVA_MSIUI_FLAG</code></p>\n<p>It can be found in\n<code>C:\\Users\\{Computer Name}\\AppData\\Local\\Temp</code></p>\n"}],"owner":{"account_id":10817078,"reputation":885,"user_id":7955643,"display_name":"Clancy Merrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47061,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":11,"score":28,"last_activity_date":1676441003,"creation_date":1497918429,"question_id":44641878,"body_markdown":"I have been using JDK 9 on Windows 10 x64 for a while but when I went to install the latest early release (b174), I first uninstalled the previous version (as usual) and then ran the new installer.\r\n\r\nIt fails with a message box saying &quot;Another Java installation is in progress. You must complete that installation before you can run this installer&quot;.\r\n\r\nIt seems there are some artifacts around causing the problem but only for JDK 9 as I can uninstall &amp; reinstall JDK 8 without any issues.  Also, the same problem occurs if I try to run the installers for any prior JDK 9 releases as well (even though they worked before).\r\n\r\nSearches have suggested various options like using a Microsoft MSI clean-up tool and registry hacks but nothing is helping.\r\n\r\nCan anyone suggest a way to get JDK 9 installed (as now I cannot use any release of JDK 9 at all)?","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I have been using JDK 9 on Windows 10 x64 for a while but when I went to install the latest early release (b174), I first uninstalled the previous version (as usual) and then ran the new installer.</p>\n\n<p>It fails with a message box saying \"Another Java installation is in progress. You must complete that installation before you can run this installer\".</p>\n\n<p>It seems there are some artifacts around causing the problem but only for JDK 9 as I can uninstall &amp; reinstall JDK 8 without any issues.  Also, the same problem occurs if I try to run the installers for any prior JDK 9 releases as well (even though they worked before).</p>\n\n<p>Searches have suggested various options like using a Microsoft MSI clean-up tool and registry hacks but nothing is helping.</p>\n\n<p>Can anyone suggest a way to get JDK 9 installed (as now I cannot use any release of JDK 9 at all)?</p>\n"},{"tags":["java","wav","avaya","audioformat","java-audio"],"owner":{"account_id":16767093,"reputation":216,"user_id":12120494,"display_name":"Mr Freak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676440955,"creation_date":1676440955,"question_id":75456016,"body_markdown":"I want to convert audio **InputStream** to **wav** file format in java.\r\n\r\nRequire format is : mu-law 8000 Hz 64 kbps Mono\r\n\r\nI am using the following method for the conversion but generated audio file is corrupted.\r\n\r\n\r\n    public static void getWavFile(String filePath, InputStream audioStream) throws IOException, UnsupportedAudioFileException {\r\n    \ttry {\r\n    \r\n    \t\tbyte[] decodedData = IOUtils.toByteArray(audioStream);\r\n    \r\n    \t\tFile outFile = new File(filePath);\r\n    \t\t\r\n    \t\tAudioFormat format = new AudioFormat(AudioFormat.Encoding.ALAW, 8000, 16, 2, 4, 8000, false);\r\n    \t\t\t\t    \r\n    \t\tAudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData), format, decodedData.length),\r\n    \t\t\t\tAudioFileFormat.Type.WAVE, outFile);\r\n    \t\t\r\n    \t} catch (IOException ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nI am using this audio file to play in my IVR flow and it strictly allow only the given format.\r\n","title":"Audio Input Stream To IVR supported WAV file [JAVA]","body":"<p>I want to convert audio <strong>InputStream</strong> to <strong>wav</strong> file format in java.</p>\n<p>Require format is : mu-law 8000 Hz 64 kbps Mono</p>\n<p>I am using the following method for the conversion but generated audio file is corrupted.</p>\n<pre><code>public static void getWavFile(String filePath, InputStream audioStream) throws IOException, UnsupportedAudioFileException {\n    try {\n\n        byte[] decodedData = IOUtils.toByteArray(audioStream);\n\n        File outFile = new File(filePath);\n        \n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.ALAW, 8000, 16, 2, 4, 8000, false);\n                    \n        AudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData), format, decodedData.length),\n                AudioFileFormat.Type.WAVE, outFile);\n        \n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am using this audio file to play in my IVR flow and it strictly allow only the given format.</p>\n"},{"tags":["java","tomcat","jdbc","java-8","oracle19c"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1676453678,"post_id":75455921,"comment_id":133137922,"body_markdown":"If you&#39;re using a connection pool then &#39;closing&#39; the connection just releases it back to the pool (hence &#39;borrowObject&#39;), it doesn&#39;t close (or reset) the underlying connection to the database or its session. I *think* the behaviour suggests you have a pool with minimum size of zero and after you release the connection the pool is being shrunk some time later (~10s), apparently back down to zero. But if you&#39;re expecting a new real connection each time that would make a pool a bit pointless. Perhaps you didn&#39;t use a pool before, or had different timeouts?","body":"If you&#39;re using a connection pool then &#39;closing&#39; the connection just releases it back to the pool (hence &#39;borrowObject&#39;), it doesn&#39;t close (or reset) the underlying connection to the database or its session. I <i>think</i> the behaviour suggests you have a pool with minimum size of zero and after you release the connection the pool is being shrunk some time later (~10s), apparently back down to zero. But if you&#39;re expecting a new real connection each time that would make a pool a bit pointless. Perhaps you didn&#39;t use a pool before, or had different timeouts?"}],"owner":{"account_id":25122235,"reputation":1,"user_id":18970421,"display_name":"Promit Banik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676459124,"answer_count":0,"score":0,"last_activity_date":1676440125,"creation_date":1676440125,"question_id":75455921,"body_markdown":"Recently we have done an environment setup upgradation/migration as mentioned below for our application:\r\nJDK 1.7 ---&gt; JDK 1.8\r\nTomcat 7.0.47 ---&gt; Tomcat 9.0.60 (Also using Apache HTTP Server along with Apache Tomcat for new setup)\r\nojdbc7.jar ---&gt; ojdbc8.jar\r\nOracle 12c (12.1.0.2.0) ---&gt; Oracle 19c (19.14.0.0)\r\n\r\nWe have been facing a JDBC autocommit issue since then in this new environment setup:\r\n\r\nIssue: For the first time AutoCommit is true by default. We update the value of autocommit to false and manually commit the transaction. After that, we also close the connection. Now if we try to create another connection object with &quot;DataSource.getConnection()&quot; within 10 seconds (in debug mode), the previous connection object is getting assigned with autocommit value to false. But, we expect a new connection object to be assigned with autocommit value set to true.\r\n\r\nDuring debugging, we found that in the &quot;GenericObjectPool&quot; class, inside the method &quot;borrowObject&quot;, the line &quot;p = idleObjects.pollFirst();&quot; assigns\r\n(i) if within 10 seconds=&gt; the value of p is the previous connection object; or,\r\n(ii) if after 10 seconds=&gt; the value of p is null and thus one new connection object is created for p with autocommit value to true\r\n\r\npublic T borrowObject(final Duration borrowMaxWaitDuration) throws Exception {\r\n    ...........\r\n    ...........\r\n    ...........\r\n    while (p == null) {\r\n        create = false;\r\n        p = idleObjects.pollFirst();\r\n        if (p == null) {\r\n            p = create();\r\n            if (p != null) {\r\n                create = true;\r\n            }\r\n        }\r\n    }\r\n    .........\r\n    .........\r\n    .........\r\n}\r\n\r\nOur initial understanding is that this code segment is the reason behind such behavior. But, please help us understand the reason why it is behaving differently in the new environment setup. Also, please help us with the Java source code to create a new connection object with autocommit value to true for subsequent connection objects.\r\n\r\n***Note: In the previous old environment setup mentioned before, the same source code works perfectly fine i.e. the autocommit is set to true by default every time we try to create a connection object with the same code &quot;DataSource.getConnection()&quot;.\r\n\r\nIn Tomcat 7.0.47, the connection is retaining autocommit value to true also for second and any subsequent connections. But in Tomcat 9.0.60, autocommit value is true only for the first connection and autocommit value for any subsequent connections are false (if subsequent connections are created within 10 seconds of the first connection object creation).","title":"Autocommit issue with JDK 1.8, Tomcat 9.0.60, ojdbc8.jar and Oracle DB 19c (19.14.0.0.)","body":"<p>Recently we have done an environment setup upgradation/migration as mentioned below for our application:\nJDK 1.7 ---&gt; JDK 1.8\nTomcat 7.0.47 ---&gt; Tomcat 9.0.60 (Also using Apache HTTP Server along with Apache Tomcat for new setup)\nojdbc7.jar ---&gt; ojdbc8.jar\nOracle 12c (12.1.0.2.0) ---&gt; Oracle 19c (19.14.0.0)</p>\n<p>We have been facing a JDBC autocommit issue since then in this new environment setup:</p>\n<p>Issue: For the first time AutoCommit is true by default. We update the value of autocommit to false and manually commit the transaction. After that, we also close the connection. Now if we try to create another connection object with &quot;DataSource.getConnection()&quot; within 10 seconds (in debug mode), the previous connection object is getting assigned with autocommit value to false. But, we expect a new connection object to be assigned with autocommit value set to true.</p>\n<p>During debugging, we found that in the &quot;GenericObjectPool&quot; class, inside the method &quot;borrowObject&quot;, the line &quot;p = idleObjects.pollFirst();&quot; assigns\n(i) if within 10 seconds=&gt; the value of p is the previous connection object; or,\n(ii) if after 10 seconds=&gt; the value of p is null and thus one new connection object is created for p with autocommit value to true</p>\n<p>public T borrowObject(final Duration borrowMaxWaitDuration) throws Exception {\n...........\n...........\n...........\nwhile (p == null) {\ncreate = false;\np = idleObjects.pollFirst();\nif (p == null) {\np = create();\nif (p != null) {\ncreate = true;\n}\n}\n}\n.........\n.........\n.........\n}</p>\n<p>Our initial understanding is that this code segment is the reason behind such behavior. But, please help us understand the reason why it is behaving differently in the new environment setup. Also, please help us with the Java source code to create a new connection object with autocommit value to true for subsequent connection objects.</p>\n<p>***Note: In the previous old environment setup mentioned before, the same source code works perfectly fine i.e. the autocommit is set to true by default every time we try to create a connection object with the same code &quot;DataSource.getConnection()&quot;.</p>\n<p>In Tomcat 7.0.47, the connection is retaining autocommit value to true also for second and any subsequent connections. But in Tomcat 9.0.60, autocommit value is true only for the first connection and autocommit value for any subsequent connections are false (if subsequent connections are created within 10 seconds of the first connection object creation).</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":4513919,"reputation":647,"user_id":3669309,"accept_rate":83,"display_name":"Tupac"},"score":0,"creation_date":1452229212,"post_id":34669708,"comment_id":57085194,"body_markdown":"Do you have the administration permission? Maybe is just that. Because it is in a user folder","body":"Do you have the administration permission? Maybe is just that. Because it is in a user folder"},{"owner":{"account_id":5927760,"reputation":601,"user_id":4663187,"accept_rate":71,"display_name":"Karthikeyan Velmurugan"},"score":0,"creation_date":1452230791,"post_id":34669708,"comment_id":57085700,"body_markdown":"@Tupac yes, i am checking with admin only.","body":"@Tupac yes, i am checking with admin only."}],"answers":[{"tags":[],"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452244917,"creation_date":1452244917,"answer_id":34673383,"question_id":34669708,"body_markdown":"It seems like a bug in Undertow ([UNDERTOW-542](https://issues.jboss.org/browse/UNDERTOW-542)) discussed [here][1] in Spring Boot context. To quote the [analysis of Andy Wilkinson][2]:\n\n&gt; The good news is that the exception&#39;s benign and you can safely ignore it. All it&#39;s telling you, albeit very noisily, is that the file couldn&#39;t be deleted as it&#39;s already been deleted. The reason is that there&#39;s a race condition in Undertow that means that two threads end up trying to delete the file at the same time.\n&gt;\n&gt; *[...]*\n&gt;\n&gt; This has been fixed in Undertow 1.3 and 1.2. Spring Boot 1.3 uses Undertow 1.3 so we&#39;re good there. Unfortunately Spring Boot 1.2 uses Undertow 1.1 so we&#39;ll just have to live with the benign warning there.\n\n\n  [1]: https://github.com/spring-projects/spring-boot/issues/3966\n  [2]: https://github.com/spring-projects/spring-boot/issues/3966#issuecomment-140742820","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>It seems like a bug in Undertow (<a href=\"https://issues.jboss.org/browse/UNDERTOW-542\" rel=\"nofollow noreferrer\">UNDERTOW-542</a>) discussed <a href=\"https://github.com/spring-projects/spring-boot/issues/3966\" rel=\"nofollow noreferrer\">here</a> in Spring Boot context. To quote the <a href=\"https://github.com/spring-projects/spring-boot/issues/3966#issuecomment-140742820\" rel=\"nofollow noreferrer\">analysis of Andy Wilkinson</a>:</p>\n<blockquote>\n<p>The good news is that the exception's benign and you can safely ignore it. All it's telling you, albeit very noisily, is that the file couldn't be deleted as it's already been deleted. The reason is that there's a race condition in Undertow that means that two threads end up trying to delete the file at the same time.</p>\n<p><em>[...]</em></p>\n<p>This has been fixed in Undertow 1.3 and 1.2. Spring Boot 1.3 uses Undertow 1.3 so we're good there. Unfortunately Spring Boot 1.2 uses Undertow 1.1 so we'll just have to live with the benign warning there.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7151432,"reputation":1,"user_id":5465330,"display_name":"Alok Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676439899,"creation_date":1676439899,"answer_id":75455903,"question_id":34669708,"body_markdown":"This issue is with some of the version of Spring Boot. As for example, getting error when using Spring Boot 2.7.8 version. But error go away when started using older 2.1.7.RELEASE. ","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>This issue is with some of the version of Spring Boot. As for example, getting error when using Spring Boot 2.7.8 version. But error go away when started using older 2.1.7.RELEASE.</p>\n"}],"owner":{"account_id":5927760,"reputation":601,"user_id":4663187,"accept_rate":71,"display_name":"Karthikeyan Velmurugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2642,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34673383,"answer_count":2,"score":1,"last_activity_date":1676439899,"creation_date":1452228502,"question_id":34669708,"body_markdown":"I am using spring boot and mysql for my application. While I am trying to upload a file it shows error message like given below,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    java.io.IOException: UT010015: Could not delete file C:\\Users\\KARTHI~1\\AppData\\Local\\Temp\\undertow7745669140970195692upload\r\n    \tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n    \tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:86)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1104)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:989)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n    \tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nand my coding is,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; action=&quot;http://localhost:8080/surf/upload&quot;&gt;\r\n    File to upload: &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br /&gt; Name: &lt;input\r\n    \t\t\ttype=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br /&gt; &lt;br /&gt; &lt;input type=&quot;submit&quot;\r\n    \t\t\tvalue=&quot;Upload&quot;&gt; Press here to upload the file!\r\n    &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand my java class\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     @RequestMapping(value=&quot;/upload&quot;, method=RequestMethod.POST)\r\n     public @ResponseBody String handleFileUpload(@RequestParam(&quot;name&quot;) String name,\r\n    \t        @RequestParam(&quot;file&quot;) MultipartFile file){\r\n    \t        if (!file.isEmpty()) {\r\n    \t            try {\r\n    \t                byte[] bytes = file.getBytes();\r\n    \t                BufferedOutputStream stream =\r\n    \t                        new BufferedOutputStream(new FileOutputStream(new File(&quot;D:/Test/surfImg/&quot;)));\r\n    \t                stream.write(bytes);\r\n    \t                stream.close();\r\n    \t                return &quot;You successfully uploaded &quot; + name + &quot;!&quot;;\r\n    \t            } catch (Exception e) {\r\n    \t                return &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n    \t            }\r\n    \t        } else {\r\n    \t            return &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n    \t        }\r\n    \t    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>I am using spring boot and mysql for my application. While I am trying to upload a file it shows error message like given below,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>java.io.IOException: UT010015: Could not delete file C:\\Users\\KARTHI~1\\AppData\\Local\\Temp\\undertow7745669140970195692upload\r\n\tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:86)\r\n\tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1104)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:989)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n\tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my coding is,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form method=\"POST\" enctype=\"multipart/form-data\" action=\"http://localhost:8080/surf/upload\"&gt;\r\nFile to upload: &lt;input type=\"file\" name=\"file\"&gt;&lt;br /&gt; Name: &lt;input\r\n\t\t\ttype=\"text\" name=\"name\"&gt;&lt;br /&gt; &lt;br /&gt; &lt;input type=\"submit\"\r\n\t\t\tvalue=\"Upload\"&gt; Press here to upload the file!\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my java class</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> @RequestMapping(value=\"/upload\", method=RequestMethod.POST)\r\n public @ResponseBody String handleFileUpload(@RequestParam(\"name\") String name,\r\n\t        @RequestParam(\"file\") MultipartFile file){\r\n\t        if (!file.isEmpty()) {\r\n\t            try {\r\n\t                byte[] bytes = file.getBytes();\r\n\t                BufferedOutputStream stream =\r\n\t                        new BufferedOutputStream(new FileOutputStream(new File(\"D:/Test/surfImg/\")));\r\n\t                stream.write(bytes);\r\n\t                stream.close();\r\n\t                return \"You successfully uploaded \" + name + \"!\";\r\n\t            } catch (Exception e) {\r\n\t                return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\r\n\t            }\r\n\t        } else {\r\n\t            return \"You failed to upload \" + name + \" because the file was empty.\";\r\n\t        }\r\n\t    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676439678,"post_id":75455847,"comment_id":133134962,"body_markdown":"See https://stackoverflow.com/questions/64992940/spring-data-jpa-native-query-with-null-parameter-postgresql","body":"See <a href=\"https://stackoverflow.com/questions/64992940/spring-data-jpa-native-query-with-null-parameter-postgresql\" title=\"spring data jpa native query with null parameter postgresql\">stackoverflow.com/questions/64992940/&hellip;</a>"}],"owner":{"account_id":17051052,"reputation":17,"user_id":12336678,"display_name":"Micro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676439458,"creation_date":1676439342,"question_id":75455847,"body_markdown":"Getting the query in Statement Inspector after the parameters are binded.\r\n\r\nI am following the below links for statement inspector, can the query be modified after the parameters are binded.\r\n[https://vladmihalcea.com/hibernate-statementinspector/](https://www.stackoverflow.com/)\r\n[https://stackoverflow.com/questions/39112308/how-i-can-configure-statementinspector-in-hibernate](https://www.stackoverflow.com/)\r\nFor eg:\r\n\r\n```\r\nQuery q = entityManager.createNativeQuery(&quot;Select * from employees where address2_id = ?&quot;);\r\nq.setParameter(1, address2_idval);\r\n```\r\n\r\nFor the above scenario if i log the query using inspector it&#39;s printing \r\n`Select * from employees where address2_id = ?`\r\n\r\nthe reason i am using inspector is sometimes address2_idval can be empty(very rare case) at that time it&#39;s generating `Select * from employees where address2_id = &#39;&#39;` where address2_id is a numeric datatype in Db(POSTGRES).\r\nI am getting the following error invalid `input syntax for type numeric &quot;&quot;`.\r\n\r\nWhat i am planning on implementing in inspector is if i can get `Select * from employees where address2_id = &#39;&#39;` like this in inspector block i can check with regex and replace = &#39;&#39; with is null.\r\n\r\nCan anyone pls suggest if this is possible?\r\n\r\nNOTE: We are migrating from oracle to potgres so there are tons of queries which might face this issue, so planning on implementing in one place which intercept all the queries with this scenario","title":"Can we modify the query using Statement Inspector after binding the parameters to query","body":"<p>Getting the query in Statement Inspector after the parameters are binded.</p>\n<p>I am following the below links for statement inspector, can the query be modified after the parameters are binded.\n<a href=\"https://www.stackoverflow.com/\">https://vladmihalcea.com/hibernate-statementinspector/</a>\n<a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/questions/39112308/how-i-can-configure-statementinspector-in-hibernate</a>\nFor eg:</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;Select * from employees where address2_id = ?&quot;);\nq.setParameter(1, address2_idval);\n</code></pre>\n<p>For the above scenario if i log the query using inspector it's printing\n<code>Select * from employees where address2_id = ?</code></p>\n<p>the reason i am using inspector is sometimes address2_idval can be empty(very rare case) at that time it's generating <code>Select * from employees where address2_id = ''</code> where address2_id is a numeric datatype in Db(POSTGRES).\nI am getting the following error invalid <code>input syntax for type numeric &quot;&quot;</code>.</p>\n<p>What i am planning on implementing in inspector is if i can get <code>Select * from employees where address2_id = ''</code> like this in inspector block i can check with regex and replace = '' with is null.</p>\n<p>Can anyone pls suggest if this is possible?</p>\n<p>NOTE: We are migrating from oracle to potgres so there are tons of queries which might face this issue, so planning on implementing in one place which intercept all the queries with this scenario</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676441888,"post_id":75455848,"comment_id":133135290,"body_markdown":"How is the `Authorization` header defined in your code? It must be defined as a [security scheme](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations), not a header parameter.","body":"How is the <code>Authorization</code> header defined in your code? It must be defined as a <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations\" rel=\"nofollow noreferrer\">security scheme</a>, not a header parameter."},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1676443512,"post_id":75455848,"comment_id":133135563,"body_markdown":"@Helen thanks for advice. this helped me. I created swagger.yml added security schema. then tis working.","body":"@Helen thanks for advice. this helped me. I created swagger.yml added security schema. then tis working."}],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676439359,"creation_date":1676439359,"question_id":75455848,"body_markdown":"iam trying to test api using swagger UI. but **Authorization** request header is not getting added to request headers. But correlationId is getting added. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W97lv.png\r\n  [2]: https://i.stack.imgur.com/AbPTN.png","title":"openapi swagger ui not passing Authorization in request headers","body":"<p>iam trying to test api using swagger UI. but <strong>Authorization</strong> request header is not getting added to request headers. But correlationId is getting added.</p>\n<p><a href=\"https://i.stack.imgur.com/W97lv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W97lv.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AbPTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AbPTN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","jira","python-jira"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":1,"creation_date":1669039900,"post_id":74519435,"comment_id":131545858,"body_markdown":"From what i see in their documentation most of the operations are done via their api.  They have plugins for Jenkins/BitBucket CI servers. The AIO Tests plugin in Jira mostly used for visualizing and mapping of the results of your automation. https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/Jenkins+-+Continuous+Integration","body":"From what i see in their documentation most of the operations are done via their api.  They have plugins for Jenkins/BitBucket CI servers. The AIO Tests plugin in Jira mostly used for visualizing and mapping of the results of your automation. <a href=\"https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/Jenkins+-+Continuous+Integration\" rel=\"nofollow noreferrer\">aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/&hellip;</a>"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669040545,"post_id":74519435,"comment_id":131546121,"body_markdown":"The triggering should happen in the CI server (time schedule or code change) rather than from Jira.","body":"The triggering should happen in the CI server (time schedule or code change) rather than from Jira."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1669040974,"post_id":74519435,"comment_id":131546281,"body_markdown":"Hey @AlexKaramfilov thanks for commenting :). Yeah, i found something similar but i am having trouble trying to set everything. I do have my java application and now, what? WHat should i do first based on the documentation?. I&#39;m kinda lost :/","body":"Hey @AlexKaramfilov thanks for commenting :). Yeah, i found something similar but i am having trouble trying to set everything. I do have my java application and now, what? WHat should i do first based on the documentation?. I&#39;m kinda lost :/"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669041126,"post_id":74519435,"comment_id":131546343,"body_markdown":"In order for this to work your next step is to configure Jenkins/BitBucket CI pipeline/job where you should execute your tests. Depending on your CI server option you will need to use different plugins/configurations. It will require some time unfortunately. Its not just a simple command.","body":"In order for this to work your next step is to configure Jenkins/BitBucket CI pipeline/job where you should execute your tests. Depending on your CI server option you will need to use different plugins/configurations. It will require some time unfortunately. Its not just a simple command."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1669041661,"post_id":74519435,"comment_id":131546526,"body_markdown":"@AlexKaramfilov Alex, suppose i managed to configure Jenkins/BitBucket CI pipeline/job, i am not understanding how that may &quot;connect&quot; to JIRA - AIO TEST. I was trying to have something like this: &quot;run a script from AIO TEST called test1 and somehow obtain the output from that and paste in the comments&quot;. Something like &quot;TEST 1: 0 FAILURES&quot; or &quot;TEST 1: 1 FAILURES&quot;","body":"@AlexKaramfilov Alex, suppose i managed to configure Jenkins/BitBucket CI pipeline/job, i am not understanding how that may &quot;connect&quot; to JIRA - AIO TEST. I was trying to have something like this: &quot;run a script from AIO TEST called test1 and somehow obtain the output from that and paste in the comments&quot;. Something like &quot;TEST 1: 0 FAILURES&quot; or &quot;TEST 1: 1 FAILURES&quot;"}],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676438127,"creation_date":1676438127,"answer_id":75455719,"question_id":74519435,"body_markdown":"AIO Tests does not support triggering tests from within the application.  The process to achieve reporting results to AIO Tests would be as follows:\r\n\r\n1. Generate an AIO Tests API Key[ \\[Ref\\]][1].  This would authenticate you to AIO Tests in Jira.\r\n\r\n2. You can trigger your automation runs from any CI/CD server.  If you are using Jenkins and using any of the testing frameworks from (TestNG/JUnit/NUnit/Postman/Cucumber) or are able to generate the JUnit report or Cucumber report, you can use the [AIO Tests Jenkins][2] plugin as a post build step to report results.\r\n\r\n2. If you are not using the plugin, then use the API Key to report results to your cases in AIO Tests.  The APIs available for reporting are available @ [AIO Tests Swagger documentation.][3]\r\n\r\n\r\n\r\n  [1]: https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/484048912/Access+Token\r\n  [2]: https://plugins.jenkins.io/aio-tests/\r\n  [3]: https://tcms.aiojiraapps.com/aio-tcms/aiotcms-static/api-docs/#/","title":"Triggering Java &amp; Selenium automation in Attlasian (TEST AIO)","body":"<p>AIO Tests does not support triggering tests from within the application.  The process to achieve reporting results to AIO Tests would be as follows:</p>\n<ol>\n<li><p>Generate an AIO Tests API Key<a href=\"https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/484048912/Access+Token\" rel=\"nofollow noreferrer\"> [Ref]</a>.  This would authenticate you to AIO Tests in Jira.</p>\n</li>\n<li><p>You can trigger your automation runs from any CI/CD server.  If you are using Jenkins and using any of the testing frameworks from (TestNG/JUnit/NUnit/Postman/Cucumber) or are able to generate the JUnit report or Cucumber report, you can use the <a href=\"https://plugins.jenkins.io/aio-tests/\" rel=\"nofollow noreferrer\">AIO Tests Jenkins</a> plugin as a post build step to report results.</p>\n</li>\n<li><p>If you are not using the plugin, then use the API Key to report results to your cases in AIO Tests.  The APIs available for reporting are available @ <a href=\"https://tcms.aiojiraapps.com/aio-tcms/aiotcms-static/api-docs/#/\" rel=\"nofollow noreferrer\">AIO Tests Swagger documentation.</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676438127,"creation_date":1669035947,"question_id":74519435,"body_markdown":"I am searching and i don&#39;t know how could i execute a JAVA automation using the Attlasian tool called AIO TEST:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ScD6g.png\r\n\r\n\r\nI have a program .java and it runs just fine but i would like to trigger this java program by calling it directly from AIO TEST.\r\n\r\nIs there any way to achieve that? Have you ever done something like that?\r\n\r\n","title":"Triggering Java &amp; Selenium automation in Attlasian (TEST AIO)","body":"<p>I am searching and i don't know how could i execute a JAVA automation using the Attlasian tool called AIO TEST:</p>\n<p><a href=\"https://i.stack.imgur.com/ScD6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ScD6g.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a program .java and it runs just fine but i would like to trigger this java program by calling it directly from AIO TEST.</p>\n<p>Is there any way to achieve that? Have you ever done something like that?</p>\n"},{"tags":["java","android","kotlin","kotlin-multiplatform"],"comments":[{"owner":{"account_id":4399745,"reputation":73358,"user_id":3585796,"display_name":"Phil Dukhov"},"score":1,"creation_date":1676667169,"post_id":75455697,"comment_id":133190786,"body_markdown":"No you can&#39;t use any java code in shared module, you need to create expect class URL in shared code and implement it on each platform. Actual implementation can also be done with typealias(`actual typealias URL = java.net.URL`) so each platform will see it as it&#39;s own url type. in this case if some functional has different function name on different platforms, you can create shared API with except extension functions.","body":"No you can&#39;t use any java code in shared module, you need to create expect class URL in shared code and implement it on each platform. Actual implementation can also be done with typealias(<code>actual typealias URL = java.net.URL</code>) so each platform will see it as it&#39;s own url type. in this case if some functional has different function name on different platforms, you can create shared API with except extension functions."},{"owner":{"account_id":4399745,"reputation":73358,"user_id":3585796,"display_name":"Phil Dukhov"},"score":1,"creation_date":1676667258,"post_id":75455697,"comment_id":133190803,"body_markdown":"Generally, you look for some library which is already KMM in the first place - e.g. Ktor should have it&#39;s own url class, and if only need to use the class from shared code, you can use it. But if you need to create API to be used from platform side, you have to build it by yourself.","body":"Generally, you look for some library which is already KMM in the first place - e.g. Ktor should have it&#39;s own url class, and if only need to use the class from shared code, you can use it. But if you need to create API to be used from platform side, you have to build it by yourself."}],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676437805,"creation_date":1676437805,"question_id":75455697,"body_markdown":"I am new to KMM but know that expressly declared java classes will not be compiled into a multiplatform form in multiplatform mobile.  However,  if a kotlin class uses java classes (java.net.URL in this case) with that class work across multiple platforms? If not what is a workaround that will?","title":"If a kotlin script in KMM uses Java classes, will it work for multiple platforms?","body":"<p>I am new to KMM but know that expressly declared java classes will not be compiled into a multiplatform form in multiplatform mobile.  However,  if a kotlin class uses java classes (java.net.URL in this case) with that class work across multiple platforms? If not what is a workaround that will?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1676435856,"post_id":75455517,"comment_id":133134477,"body_markdown":"I think the `mDataList` value is getting updated based on the last call of `addValueEventListener`","body":"I think the <code>mDataList</code> value is getting updated based on the last call of <code>addValueEventListener</code>"},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1676436097,"post_id":75455517,"comment_id":133134517,"body_markdown":"but what to do to read at once both data in recyclerview....any idea ????","body":"but what to do to read at once both data in recyclerview....any idea ????"},{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1676437188,"post_id":75455517,"comment_id":133134669,"body_markdown":"You can try declaring `dataModel` right below `mDataList.clear();`.  \n\nRight now your `dataModel` is declared twice in both `addValueEventListener` which is leading to this issue. \nWhat you can try is declaring `question_profile_read_data dataModel` below `mDataList.clear();` and in `addValueEventListener` use `dataModel=childSnapshot.getValue(question_profile_read_data.class)`;\n\nI hope this helps!!!","body":"You can try declaring <code>dataModel</code> right below <code>mDataList.clear();</code>.    Right now your <code>dataModel</code> is declared twice in both <code>addValueEventListener</code> which is leading to this issue.  What you can try is declaring <code>question_profile_read_data dataModel</code> below <code>mDataList.clear();</code> and in <code>addValueEventListener</code> use <code>dataModel=childSnapshot.getValue(question_profile_read_data.&zwnj;&#8203;class)</code>;  I hope this helps!!!"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676445378,"post_id":75455517,"comment_id":133135895,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data) and indicate the exact data you want to read.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a> and indicate the exact data you want to read."},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1676445801,"post_id":75455517,"comment_id":133135979,"body_markdown":"i tried but it didn&#39;t work.","body":"i tried but it didn&#39;t work."}],"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676436695,"creation_date":1676435387,"question_id":75455517,"body_markdown":"How to read data from two different firebase database parent node in a recyclerview.\r\nI want to fetch data from two different firebase parent node recyclerview, but i ended up reading only one node from firebase and displying to recycyclerview.\r\n\r\n\r\n```\r\n// Load data from Firebase into mDataList\r\nprivate void loadDataFromFirebase() {\r\n\r\n    mDataList.clear();\r\n    mDatabase.child(&quot;QnA&quot;).child(&quot;Questions&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                scholarid = childSnapshot.child(&quot;id&quot;).getValue(String.class);\r\n//                System.out.println(id);\r\n\r\n                question_profile_read_data dataModel = childSnapshot.getValue(question_profile_read_data.class);\r\n                mDataList.add(dataModel);\r\n                notifyDataSetChanged();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    });\r\n\r\n    System.out.println(scholarid);\r\n\r\n    mDatabase.child(&quot;users&quot;).child(&quot;child&quot;).child(&quot;profiles&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n//            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n                question_profile_read_data dataModel = dataSnapshot.getValue(question_profile_read_data.class);\r\n                mDataList.add(dataModel);\r\n                notifyDataSetChanged();\r\n\r\n                System.out.println(scholarid);\r\n//            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI used above method to retrieve data and i used this method in adapter class. but this only reading data from single database.\r\n\r\n","title":"How to read data from two parent nodes in firebase in recyclerview android","body":"<p>How to read data from two different firebase database parent node in a recyclerview.\nI want to fetch data from two different firebase parent node recyclerview, but i ended up reading only one node from firebase and displying to recycyclerview.</p>\n<pre><code>// Load data from Firebase into mDataList\nprivate void loadDataFromFirebase() {\n\n    mDataList.clear();\n    mDatabase.child(&quot;QnA&quot;).child(&quot;Questions&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n\n                scholarid = childSnapshot.child(&quot;id&quot;).getValue(String.class);\n//                System.out.println(id);\n\n                question_profile_read_data dataModel = childSnapshot.getValue(question_profile_read_data.class);\n                mDataList.add(dataModel);\n                notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n        }\n    });\n\n    System.out.println(scholarid);\n\n    mDatabase.child(&quot;users&quot;).child(&quot;child&quot;).child(&quot;profiles&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n//            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n                question_profile_read_data dataModel = dataSnapshot.getValue(question_profile_read_data.class);\n                mDataList.add(dataModel);\n                notifyDataSetChanged();\n\n                System.out.println(scholarid);\n//            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n        }\n    });\n}\n</code></pre>\n<p>I used above method to retrieve data and i used this method in adapter class. but this only reading data from single database.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676436382,"creation_date":1676436382,"answer_id":75455591,"question_id":75454633,"body_markdown":"Stack trace says that you have a problem in generated sql script at pos. 169. `order` is a keyword in sql, don&#39;t use it as a property name. Meanwhile, your table can have name `orders` without any problem","title":"Error executing DDL postgres Java spring boot API","body":"<p>Stack trace says that you have a problem in generated sql script at pos. 169. <code>order</code> is a keyword in sql, don't use it as a property name. Meanwhile, your table can have name <code>orders</code> without any problem</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75455591,"answer_count":1,"score":0,"last_activity_date":1676436382,"creation_date":1676423021,"question_id":75454633,"body_markdown":"I&#39;m developing a request API in java spring boot, I developed my post but when testing it returns the 400 bad request error and the following error in the terminal\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table restaurant_orders (id uuid not null, address varchar(25) not null, block varchar(5), customer_name varchar(11) not null, door_number varchar(10) not null, order varchar(30) not null, phone_number varchar(15) not null, price float4 not null, registration_date timestamp(6) not null, primary key (id))&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.api.order_control.OrderControlApplication.main(OrderControlApplication.java:12) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;order&quot;\r\n  Position: 169\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\t... 36 common frames omitted\r\n\r\n```\r\n\r\nI saw in some searches that the name &quot;order&quot; could be causing a problem in the database, so I changed it to &quot;orders_restaurant&quot; and I still have the same problem\r\n\r\n\r\nmodel\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;restaurant_orders&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(nullable = true, length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String order;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\ncontroller\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/order&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        orderModel.setPrice(70.8f);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```","title":"Error executing DDL postgres Java spring boot API","body":"<p>I'm developing a request API in java spring boot, I developed my post but when testing it returns the 400 bad request error and the following error in the terminal</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table restaurant_orders (id uuid not null, address varchar(25) not null, block varchar(5), customer_name varchar(11) not null, door_number varchar(10) not null, order varchar(30) not null, phone_number varchar(15) not null, price float4 not null, registration_date timestamp(6) not null, primary key (id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.api.order_control.OrderControlApplication.main(OrderControlApplication.java:12) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;order&quot;\n  Position: 169\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    ... 36 common frames omitted\n\n</code></pre>\n<p>I saw in some searches that the name &quot;order&quot; could be causing a problem in the database, so I changed it to &quot;orders_restaurant&quot; and I still have the same problem</p>\n<p>model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;restaurant_orders&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(nullable = true, length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String order;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>controller</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/order&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        orderModel.setPrice(70.8f);\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rbac"],"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676436322,"creation_date":1676436322,"question_id":75455588,"body_markdown":"Is it possible in spring boot to dynamically update RBAC but only for certain methods? I have my `application.yml` like this which I store in cloud config server\r\n\r\n```json\r\nrbac:\r\n  - endpoint: /api/v1/user\r\n    permissions: read-user, write-user\r\n  - endpoint: /api/v1/admin\r\n    permissions: read-admin, write-admin\r\n```\r\n\r\nIn my `SecurityConfig` class, I have marked it as RefreshScope and I parse these configs and add the rbac in spring security. This works fine and if I updated the yml file in my repo, config server successfully pushes it to the running instances and it gets dynamically updated. \r\n\r\nBut now I want to define a more granular level of RBAC by adding it on methods such that certain methods can only be accessed by some users. Is it possible in Spring Boot to do this and also that we can update the method level RBAC dynamically via some config file without requiring to restart the application?\r\n","title":"Spring boot dynamically updated the RBAC config for specific methods","body":"<p>Is it possible in spring boot to dynamically update RBAC but only for certain methods? I have my <code>application.yml</code> like this which I store in cloud config server</p>\n<pre class=\"lang-json prettyprint-override\"><code>rbac:\n  - endpoint: /api/v1/user\n    permissions: read-user, write-user\n  - endpoint: /api/v1/admin\n    permissions: read-admin, write-admin\n</code></pre>\n<p>In my <code>SecurityConfig</code> class, I have marked it as RefreshScope and I parse these configs and add the rbac in spring security. This works fine and if I updated the yml file in my repo, config server successfully pushes it to the running instances and it gets dynamically updated.</p>\n<p>But now I want to define a more granular level of RBAC by adding it on methods such that certain methods can only be accessed by some users. Is it possible in Spring Boot to do this and also that we can update the method level RBAC dynamically via some config file without requiring to restart the application?</p>\n"},{"tags":["java","multipartform-data","java-11","multipartfile"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762066,"post_id":75371278,"comment_id":132993378,"body_markdown":"Does [this](https://stackoverflow.com/questions/41956365/spring-rest-multipart-file-upload-with-java-configuration-without-spring-boot) help?","body":"Does <a href=\"https://stackoverflow.com/questions/41956365/spring-rest-multipart-file-upload-with-java-configuration-without-spring-boot\">this</a> help?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675762258,"post_id":75371278,"comment_id":132993438,"body_markdown":"No, its using spring but we don&#39;t want to use any framework.","body":"No, its using spring but we don&#39;t want to use any framework."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762525,"post_id":75371278,"comment_id":132993528,"body_markdown":"Could you improve your question? The &quot;using java11 **with** spring&quot; is sorta misleading, given that a sentence later you&#39;re saying &quot;without spring&quot;.","body":"Could you improve your question? The &quot;using java11 <b>with</b> spring&quot; is sorta misleading, given that a sentence later you&#39;re saying &quot;without spring&quot;."},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675762798,"post_id":75371278,"comment_id":132993607,"body_markdown":"Thank you, just edited. I want the ans wothout spring.","body":"Thank you, just edited. I want the ans wothout spring."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762863,"post_id":75371278,"comment_id":132993624,"body_markdown":"Thanks for the edit. So you want to create a Java-App, which **accepts** `multipart/form-data`? Are you using jakarta/javax by any chance?","body":"Thanks for the edit. So you want to create a Java-App, which <b>accepts</b> <code>multipart&#47;form-data</code>? Are you using jakarta/javax by any chance?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763105,"post_id":75371278,"comment_id":132993711,"body_markdown":"javax yes we are using","body":"javax yes we are using"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763212,"post_id":75371278,"comment_id":132993749,"body_markdown":"not the upload part just how to grab the multipart file from the restapi","body":"not the upload part just how to grab the multipart file from the restapi"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763320,"post_id":75371278,"comment_id":132993790,"body_markdown":"Are you developing an application with servlets?","body":"Are you developing an application with servlets?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763565,"post_id":75371278,"comment_id":132993881,"body_markdown":"application is serverless. using aws lambda","body":"application is serverless. using aws lambda"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763583,"post_id":75371278,"comment_id":132993885,"body_markdown":"Can you show the relevant code?","body":"Can you show the relevant code?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763861,"post_id":75371278,"comment_id":132993982,"body_markdown":"You might want to take a look at [this](https://github.com/CorkHounds/multipart-fileupload-java-lambda/blob/master/src/main/java/fileupload/FileUploadFunctionHandler.java) and [that](https://stackoverflow.com/questions/43875504/parse-multipart-form-data-body-on-aws-lambda-in-java).","body":"You might want to take a look at <a href=\"https://github.com/CorkHounds/multipart-fileupload-java-lambda/blob/master/src/main/java/fileupload/FileUploadFunctionHandler.java\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/43875504/parse-multipart-form-data-body-on-aws-lambda-in-java\">that</a>."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1675764030,"post_id":75371278,"comment_id":132994030,"body_markdown":"@Shivam so you ARE using libraries, you said you don&#39;t want to...","body":"@Shivam so you ARE using libraries, you said you don&#39;t want to..."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675764237,"post_id":75371278,"comment_id":132994110,"body_markdown":"Are you allowed to use jax-rs and jersey (glassfish) libraries?","body":"Are you allowed to use jax-rs and jersey (glassfish) libraries?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675764294,"post_id":75371278,"comment_id":132994123,"body_markdown":"Can use library but not from spring.","body":"Can use library but not from spring."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1675764399,"post_id":75371278,"comment_id":132994148,"body_markdown":"You need to include some code in this. &quot;i need to open an endpoint where the consumer is multipart/form-data.&quot; What is this? How are you obtaining it? Do you have an actual java class that this is in reference to? Are you trying to handle an http request that has multipart/form-data?","body":"You need to include some code in this. &quot;i need to open an endpoint where the consumer is multipart/form-data.&quot; What is this? How are you obtaining it? Do you have an actual java class that this is in reference to? Are you trying to handle an http request that has multipart/form-data?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675794857,"post_id":75371278,"comment_id":133004279,"body_markdown":"The JavaMail library, part of standard Java EE, includes a [MimeMultipart](https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html) class.","body":"The JavaMail library, part of standard Java EE, includes a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html\" rel=\"nofollow noreferrer\">MimeMultipart</a> class."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675860658,"post_id":75371278,"comment_id":133018019,"body_markdown":"Can you possibly add serverless to the title somewhere?","body":"Can you possibly add serverless to the title somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763986,"creation_date":1675763986,"answer_id":75371708,"question_id":75371278,"body_markdown":"So you don&#39;t want to use ANY libraries?\r\nIn that case you first have to implement your own code to handle http requests, and then code to extract the data you want from them.\r\n\r\nI seriously doubt you want to do that (though it&#39;s an interesting exercise if you have the time and skill).\r\n\r\nBut if you insist, the HTTP RFC is where you want to start.","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>So you don't want to use ANY libraries?\nIn that case you first have to implement your own code to handle http requests, and then code to extract the data you want from them.</p>\n<p>I seriously doubt you want to do that (though it's an interesting exercise if you have the time and skill).</p>\n<p>But if you insist, the HTTP RFC is where you want to start.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675860497,"creation_date":1675856857,"answer_id":75385369,"question_id":75371278,"body_markdown":"Note that on the way to your Serverless Java Lambda the AWS ApiGateway will transform your request into JSON for passing through to Lambda.\r\n\r\nTo get this to work for multipart form you need to [define multipart/form-data as a binary media type for your API][1] and proxy the payload directly to a Lambda function.\r\n\r\nThis is how you [implement the Lambda in Java][2] to consume the resulting payload.\r\n\r\nNo Spring in sight. Just apache commons and aws stuff.\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html\r\n  [2]: https://medium.com/swlh/processing-multipart-form-data-using-api-gateway-and-a-java-lambda-proxy-for-storage-in-s3-e6598033ff3e","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>Note that on the way to your Serverless Java Lambda the AWS ApiGateway will transform your request into JSON for passing through to Lambda.</p>\n<p>To get this to work for multipart form you need to <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html\" rel=\"nofollow noreferrer\">define multipart/form-data as a binary media type for your API</a> and proxy the payload directly to a Lambda function.</p>\n<p>This is how you <a href=\"https://medium.com/swlh/processing-multipart-form-data-using-api-gateway-and-a-java-lambda-proxy-for-storage-in-s3-e6598033ff3e\" rel=\"nofollow noreferrer\">implement the Lambda in Java</a> to consume the resulting payload.</p>\n<p>No Spring in sight. Just apache commons and aws stuff.</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75385369,"answer_count":2,"score":1,"last_activity_date":1676435646,"creation_date":1675761984,"question_id":75371278,"body_markdown":"I need to develop the severless application using java11 without spring. In this application i need to open an endpoint where the consumer is multipart/form-data. I know in spring we have a MultipartFile class using which we can grab the object and use it but i want to know how to do it without spring. After that i need to upload that file in amazon S3. &lt;br/&gt;\r\nI am using Amazon Api gateway to expose the endpoint and amazon s3 for storage.\r\n","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>I need to develop the severless application using java11 without spring. In this application i need to open an endpoint where the consumer is multipart/form-data. I know in spring we have a MultipartFile class using which we can grab the object and use it but i want to know how to do it without spring. After that i need to upload that file in amazon S3. <br/>\nI am using Amazon Api gateway to expose the endpoint and amazon s3 for storage.</p>\n"},{"tags":["java","maven","unit-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":0,"creation_date":1471415070,"post_id":38989221,"comment_id":65331013,"body_markdown":"Do you tried to remove the executions part?","body":"Do you tried to remove the executions part?"},{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1471416268,"post_id":38989221,"comment_id":65331612,"body_markdown":"Please add (trimmed) the output of `mvn clean install`, especially the lines starting with `[INFO] --- maven-surefire-plugin` - that should help track when and how many times the plugin is executed.","body":"Please add (trimmed) the output of <code>mvn clean install</code>, especially the lines starting with <code>[INFO] --- maven-surefire-plugin</code> - that should help track when and how many times the plugin is executed."},{"owner":{"account_id":382603,"reputation":9058,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":0,"creation_date":1471417165,"post_id":38989221,"comment_id":65332105,"body_markdown":"It only runs once, do you have other plugins?","body":"It only runs once, do you have other plugins?"},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466013,"post_id":38989221,"comment_id":65363239,"body_markdown":"@Zelldon Yes I tried removing the execution part, still calling it twice.","body":"@Zelldon Yes I tried removing the execution part, still calling it twice."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466169,"post_id":38989221,"comment_id":65363307,"body_markdown":"@ravthiru The only other plugin is `maven-surefire-report-plugin`. You can see the full maven &lt;build&gt; above.","body":"@ravthiru The only other plugin is <code>maven-surefire-report-plugin</code>. You can see the full maven &lt;build&gt; above."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466646,"post_id":38989221,"comment_id":65363520,"body_markdown":"@AdamMichalik Could you please explain what do you mean by &#39;adding trimmed&#39;? Can you suggest a revised configuration? Thanks.","body":"@AdamMichalik Could you please explain what do you mean by &#39;adding trimmed&#39;? Can you suggest a revised configuration? Thanks."},{"owner":{"account_id":3511027,"reputation":2596,"user_id":2935333,"accept_rate":29,"display_name":"Rocherlee"},"score":0,"creation_date":1471482861,"post_id":38989221,"comment_id":65368704,"body_markdown":"Trimmed output means a short copy of your log when you run mvn clean install. It helps to see when the maven test is invoked","body":"Trimmed output means a short copy of your log when you run mvn clean install. It helps to see when the maven test is invoked"}],"answers":[{"tags":[],"owner":{"account_id":3511027,"reputation":2596,"user_id":2935333,"accept_rate":29,"display_name":"Rocherlee"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471419301,"creation_date":1471418012,"answer_id":38990295,"question_id":38989221,"body_markdown":"I think the `&lt;execution&gt;` in your `pom.xml` causes the 2nd test run. Maven sees it as another goal to execute in addition to the default goal in the test phase.\r\n\r\nSince `maven-surefire-plugin` is a plugin used by default in Maven for test phase, you only need to provide the `&lt;configuration&gt;` part outside of `&lt;execution&gt;`. Modify your `pom.xml` as below\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;parallel&gt;classes&lt;/parallel&gt;\r\n            &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>I think the <code>&lt;execution&gt;</code> in your <code>pom.xml</code> causes the 2nd test run. Maven sees it as another goal to execute in addition to the default goal in the test phase.</p>\n\n<p>Since <code>maven-surefire-plugin</code> is a plugin used by default in Maven for test phase, you only need to provide the <code>&lt;configuration&gt;</code> part outside of <code>&lt;execution&gt;</code>. Modify your <code>pom.xml</code> as below</p>\n\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;parallel&gt;classes&lt;/parallel&gt;\n        &lt;threadCount&gt;3&lt;/threadCount&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386748,"reputation":23,"user_id":4290381,"display_name":"Ankit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607473073,"creation_date":1607473073,"answer_id":65208886,"question_id":38989221,"body_markdown":"If in your pom both cobertura and surefire plugin are there tests will execute twice. To avoid that add execution phase as none in cobertura plugin like mentioned below:\r\n        \r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>If in your pom both cobertura and surefire plugin are there tests will execute twice. To avoid that add execution phase as none in cobertura plugin like mentioned below:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654850083,"creation_date":1654850083,"answer_id":72571338,"question_id":38989221,"body_markdown":"In my case, I found that:  \r\nbecause of using `rerunFailingTestsCount` of `maven-surefire-plugin`, so in case of there is a failed test, it will be run again.\r\n\r\nBy the way:  \r\nI am against trying to re-run flaky test multiple times till success, instead we can resolve the root cause of it.\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            ...\r\n            &lt;!-- Workaround to make builds more stable while having flaky tests --&gt;\r\n            &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>In my case, I found that:<br />\nbecause of using <code>rerunFailingTestsCount</code> of <code>maven-surefire-plugin</code>, so in case of there is a failed test, it will be run again.</p>\n<p>By the way:<br />\nI am against trying to re-run flaky test multiple times till success, instead we can resolve the root cause of it.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        ...\n        &lt;!-- Workaround to make builds more stable while having flaky tests --&gt;\n        &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27789515,"reputation":1,"user_id":21216230,"display_name":"Jek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676435584,"creation_date":1676435584,"answer_id":75455531,"question_id":38989221,"body_markdown":"I was able to do it by only running mvn surefire-report:report -DskipTests.\r\nit ran the whole soapui project- in my soapuimaven plugin configuration and then generated the surefire html report.\r\n","title":"How can I stop maven from running TEST twice?","body":"<p>I was able to do it by only running mvn surefire-report:report -DskipTests.\nit ran the whole soapui project- in my soapuimaven plugin configuration and then generated the surefire html report.</p>\n"}],"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13459,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1676435584,"creation_date":1471414207,"question_id":38989221,"body_markdown":"I have a big project with around 5000 test cases. When running `mvn clean install` it will run the `test` goal twice (one as part of the install and the second time as part of the `surefire` plugin).\r\n\r\nWhy it needs to run the `test` for the second time? And is there away to force `surefire` to use the `test` goal results instead of re-invoking it&#39;s own?\r\nI see it as a waste of time and machine resource, especially recently the second round of running the `test` caused a `PermGen` build error and no matter how much heap I pump into maven runner it still dies in the second testing round.\r\n\r\nThis is my surefire pluging configuration:\r\n\r\n     &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n             &lt;id&gt;default-test&lt;/id&gt;\r\n             &lt;phase&gt;test&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                 &lt;goal&gt;test&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n             &lt;configuration&gt;\r\n                &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n             &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIs there a way to tweak the plugin to better handle machine resources?\r\n\r\nHere is the full default maven profile &lt;build&gt; which gets executed:\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n    \t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t\t\t&lt;Build-Number&gt;${build.number}&lt;/Build-Number&gt;\r\n    \t\t\t\t\t\t&lt;Job-Name&gt;${job.name}&lt;/Job-Name&gt;\r\n    \t\t\t\t\t\t&lt;Build-Url&gt;${build.url}&lt;/Build-Url&gt;\r\n    \t\t\t\t\t\t&lt;Git-Commit&gt;${git.commit}&lt;/Git-Commit&gt;\r\n    \t\t\t\t\t\t&lt;Git-Branch&gt;${git.branch}&lt;/Git-Branch&gt;\r\n    \t\t\t\t\t\t&lt;Timestamp&gt;${maven.build.timestamp}&lt;/Timestamp&gt;\r\n    \t\t\t\t\t\t&lt;StyleGuide-Version&gt;${styleguide.version}&lt;/StyleGuide-Version&gt;\r\n    \t\t\t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;warName&gt;pss&lt;/warName&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;com.cj.jshintmojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jshint-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;lint&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;options&gt;maxparams:5,camelcase,eqeqeq,forin,immed,latedef,noarg,noempty,nonew,expr&lt;/options&gt;\r\n    \t\t\t\t&lt;directories&gt;\r\n    \t\t\t\t\t&lt;directory&gt;src/main/webapp/js/page&lt;/directory&gt;\r\n    \t\t\t\t&lt;/directories&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/marketingPreferences.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/changeCarParkingDetails.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/angularjs-app.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/content-cover.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/amendmentConfirm.js&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.lesscss&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lesscss-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;bingleless&lt;/id&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/sourceDirectory&gt;\r\n    \t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t&lt;include&gt;**\\/policy-self-service\\/**\\/*pss-sg.less&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t&lt;compress&gt;true&lt;/compress&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;compress&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.min.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.min.css&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/style-guide/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/generated/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/common/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/bower_components/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/policy-self-service/**&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;nosuffix&gt;true&lt;/nosuffix&gt;\r\n    \t\t\t\t&lt;jswarn&gt;false&lt;/jswarn&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n    \t\t\t\t&lt;threadCount&gt;3&lt;/threadCount&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-surefire-report-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;report-only&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>I have a big project with around 5000 test cases. When running <code>mvn clean install</code> it will run the <code>test</code> goal twice (one as part of the install and the second time as part of the <code>surefire</code> plugin).</p>\n\n<p>Why it needs to run the <code>test</code> for the second time? And is there away to force <code>surefire</code> to use the <code>test</code> goal results instead of re-invoking it's own?\nI see it as a waste of time and machine resource, especially recently the second round of running the <code>test</code> caused a <code>PermGen</code> build error and no matter how much heap I pump into maven runner it still dies in the second testing round.</p>\n\n<p>This is my surefire pluging configuration:</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n         &lt;id&gt;default-test&lt;/id&gt;\n         &lt;phase&gt;test&lt;/phase&gt;\n         &lt;goals&gt;\n             &lt;goal&gt;test&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;parallel&gt;classes&lt;/parallel&gt;\n            &lt;threadCount&gt;3&lt;/threadCount&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Is there a way to tweak the plugin to better handle machine resources?</p>\n\n<p>Here is the full default maven profile  which gets executed:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Build-Number&gt;${build.number}&lt;/Build-Number&gt;\n                        &lt;Job-Name&gt;${job.name}&lt;/Job-Name&gt;\n                        &lt;Build-Url&gt;${build.url}&lt;/Build-Url&gt;\n                        &lt;Git-Commit&gt;${git.commit}&lt;/Git-Commit&gt;\n                        &lt;Git-Branch&gt;${git.branch}&lt;/Git-Branch&gt;\n                        &lt;Timestamp&gt;${maven.build.timestamp}&lt;/Timestamp&gt;\n                        &lt;StyleGuide-Version&gt;${styleguide.version}&lt;/StyleGuide-Version&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n                &lt;warName&gt;pss&lt;/warName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.cj.jshintmojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jshint-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;lint&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;options&gt;maxparams:5,camelcase,eqeqeq,forin,immed,latedef,noarg,noempty,nonew,expr&lt;/options&gt;\n                &lt;directories&gt;\n                    &lt;directory&gt;src/main/webapp/js/page&lt;/directory&gt;\n                &lt;/directories&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/marketingPreferences.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/changeCarParkingDetails.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/angularjs-app.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/content-cover.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/amendmentConfirm.js&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.lesscss&lt;/groupId&gt;\n            &lt;artifactId&gt;lesscss-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;bingleless&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/sourceDirectory&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/outputDirectory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**\\/policy-self-service\\/**\\/*pss-sg.less&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;compress&gt;true&lt;/compress&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compress&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.min.js&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.min.css&lt;/exclude&gt;\n                    &lt;exclude&gt;**/style-guide/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/generated/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/common/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/bower_components/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/policy-self-service/**&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;nosuffix&gt;true&lt;/nosuffix&gt;\n                &lt;jswarn&gt;false&lt;/jswarn&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;parallel&gt;classes&lt;/parallel&gt;\n                &lt;threadCount&gt;3&lt;/threadCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-report-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report-only&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","mvvm","android-xml","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":22415217,"reputation":185,"user_id":16623378,"display_name":"Quốc H&#249;ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676433904,"creation_date":1676433904,"answer_id":75455378,"question_id":37127567,"body_markdown":"For me, I solve the updating items of `RecyclerView` using `@BindingAdapter`:\r\n\r\nBuild base adapter:\r\n```kotlin\r\nabstract class BaseAdapter&lt;Item, VH : ViewHolder&gt; : Adapter&lt;VH&gt;() {\r\n    abstract fun setItems(items: List&lt;Item&gt;)\r\n}\r\n\r\n\r\n@BindingAdapter(&quot;items&quot;)\r\nfun &lt;Item&gt; updateItems(view: RecyclerView, items: List&lt;Item&gt;) {\r\n    (view.adapter as? BaseAdapter&lt;Item, in ViewHolder&gt;)?.setItems(items)\r\n}\r\n```\r\n\r\nCall on binding:\r\n```xml\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layoutManager=&quot;@{layoutManager}&quot;\r\n            android:adapter=&quot;@{adapter}&quot;\r\n            items=&quot;@{viewModel.items}&quot;/&gt;\r\n```","title":"How do I use Android data binding to populate a list?","body":"<p>For me, I solve the updating items of <code>RecyclerView</code> using <code>@BindingAdapter</code>:</p>\n<p>Build base adapter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class BaseAdapter&lt;Item, VH : ViewHolder&gt; : Adapter&lt;VH&gt;() {\n    abstract fun setItems(items: List&lt;Item&gt;)\n}\n\n\n@BindingAdapter(&quot;items&quot;)\nfun &lt;Item&gt; updateItems(view: RecyclerView, items: List&lt;Item&gt;) {\n    (view.adapter as? BaseAdapter&lt;Item, in ViewHolder&gt;)?.setItems(items)\n}\n</code></pre>\n<p>Call on binding:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layoutManager=&quot;@{layoutManager}&quot;\n            android:adapter=&quot;@{adapter}&quot;\n            items=&quot;@{viewModel.items}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":1512052,"reputation":907,"user_id":1413900,"accept_rate":61,"display_name":"Travis Well"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1676433904,"creation_date":1462841099,"question_id":37127567,"body_markdown":"I can get POJOs out of my ORM (Cupboard), but I can&#39;t figure out how to write the xml to bind to such a list. All the examples are singular except for [a very brief mention of using them inside a ListView or RecyclerView][1]. So I&#39;ve tried having a singular binding in an xml file that I &quot;inflate&quot; again for each item. That code follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private void listThings() {\r\n  \r\n      LinearLayout gList = (LinearLayout) findViewById(R.id.thingList);\r\n      gList.removeAllViews();\r\n  \r\n      SQLiteDatabase db = new CGDatabaseHandler(gList.getContext()).getReadableDatabase();\r\n      DatabaseCompartment dbc = cupboard().withDatabase(db);\r\n  \r\n      QueryResultIterable&lt;Thing&gt; itr = null;\r\n      try {\r\n        itr = dbc.query(Thing.class).query();\r\n  \r\n        for (Thing thing : itr) {\r\n          // use data binding to create a UI widget for each\r\n          LayoutInflater inflater = (LayoutInflater) getBaseContext()\r\n              .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n          ThingDocumentLabelBinding binding = DataBindingUtil.inflate(inflater,\r\n              R.layout.thing_document_label, gList, false);\r\n          binding.setThing(thing);\r\n          // \r\n          gList.addView(binding.getRoot());\r\n        }\r\n      } finally {\r\n        // close the cursor\r\n        if (itr != null)\r\n          itr.close();\r\n      }\r\n    }\r\n\r\nI am aware that this uses a LinearLayout not a ListView or RecyclerView. What&#39;s the difference? I couldn&#39;t get anything at all to show up in a ListView. ListView also doesn&#39;t seem to support clearing the list with removeAllViews.\r\nAnd here is the XML for the file thing_document_label.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n      &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;thing&quot;\r\n            type=&quot;com.example.Thing&quot;/&gt;\r\n      &lt;/data&gt;\r\n    \r\n      &lt;TextView android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:paddingBottom=&quot;20dp&quot;\r\n                android:paddingTop=&quot;20dp&quot;\r\n                android:text=&quot;@{@string/thing_document_label(thing.gName, thing.dstName, thing.property3)}&quot;\r\n          &gt;\r\n    \r\n      &lt;/TextView&gt;\r\n    &lt;/layout&gt;\r\n\r\nWhat I get is a single TextView showing in my LinearLayout. I should be seeing six of them. I had them showing up before I started trying to do data-binding. I had just subclassed TextView and instantiated them in the same loop shown here. That worked fine, but I&#39;m in the beginning stages of this app and I want to standardize on data-binding if possible.\r\n\r\n\r\n  [1]: https://developer.android.com/tools/data-binding/guide.html#binding_data","title":"How do I use Android data binding to populate a list?","body":"<p>I can get POJOs out of my ORM (Cupboard), but I can't figure out how to write the xml to bind to such a list. All the examples are singular except for <a href=\"https://developer.android.com/tools/data-binding/guide.html#binding_data\" rel=\"nofollow\">a very brief mention of using them inside a ListView or RecyclerView</a>. So I've tried having a singular binding in an xml file that I \"inflate\" again for each item. That code follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void listThings() {\n\n  LinearLayout gList = (LinearLayout) findViewById(R.id.thingList);\n  gList.removeAllViews();\n\n  SQLiteDatabase db = new CGDatabaseHandler(gList.getContext()).getReadableDatabase();\n  DatabaseCompartment dbc = cupboard().withDatabase(db);\n\n  QueryResultIterable&lt;Thing&gt; itr = null;\n  try {\n    itr = dbc.query(Thing.class).query();\n\n    for (Thing thing : itr) {\n      // use data binding to create a UI widget for each\n      LayoutInflater inflater = (LayoutInflater) getBaseContext()\n          .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n      ThingDocumentLabelBinding binding = DataBindingUtil.inflate(inflater,\n          R.layout.thing_document_label, gList, false);\n      binding.setThing(thing);\n      // \n      gList.addView(binding.getRoot());\n    }\n  } finally {\n    // close the cursor\n    if (itr != null)\n      itr.close();\n  }\n}\n</code></pre>\n\n<p>I am aware that this uses a LinearLayout not a ListView or RecyclerView. What's the difference? I couldn't get anything at all to show up in a ListView. ListView also doesn't seem to support clearing the list with removeAllViews.\nAnd here is the XML for the file thing_document_label.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n  &lt;data&gt;\n    &lt;variable\n        name=\"thing\"\n        type=\"com.example.Thing\"/&gt;\n  &lt;/data&gt;\n\n  &lt;TextView android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:paddingBottom=\"20dp\"\n            android:paddingTop=\"20dp\"\n            android:text=\"@{@string/thing_document_label(thing.gName, thing.dstName, thing.property3)}\"\n      &gt;\n\n  &lt;/TextView&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>What I get is a single TextView showing in my LinearLayout. I should be seeing six of them. I had them showing up before I started trying to do data-binding. I had just subclassed TextView and instantiated them in the same loop shown here. That worked fine, but I'm in the beginning stages of this app and I want to standardize on data-binding if possible.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676433271,"creation_date":1676433271,"question_id":75455340,"body_markdown":"I am trying to map a JsonNode to a 3rd-party object using Jackson&#39;s ObjectMapper. The target class is `HikariConfig.class` and has a default constructor and getter and setter for all necessary properties. The class contains complex data structures like ThreadFactory or ScheduledExecutorService. The project framework is Spring Boot 3.0.2 (version numbers predefined by Spring Boot: Tomcat 10.1.5, Jackson 2.14.1, Hikari 5.0.1).\r\n\r\nThe JsonNode is flat structured and looks like this:\r\n```json\r\n{\r\n  &quot;jdbcUrl&quot;: &quot;jdbc:h2:mem:example-db&quot;,\r\n  &quot;driverClassName&quot;: &quot;org.h2.Driver&quot;,\r\n  &quot;username&quot;: &quot;sa&quot;,\r\n}\r\n```\r\n\r\nSince unknown properties are not to be processed, and also in order to ignore the complex data structures, a Mixin comes into play:\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\nprivate static abstract class HikariConfigMixin {\r\n\r\n    @JsonIgnore private static char[] ID_CHARACTERS;\r\n    @JsonIgnore private DataSource dataSource;\r\n    @JsonIgnore private Properties dataSourceProperties;\r\n    @JsonIgnore private ThreadFactory threadFactory;\r\n    @JsonIgnore private ScheduledExecutorService scheduledExecutor;\r\n    @JsonIgnore private MetricsTrackerFactory metricsTrackerFactory;\r\n    @JsonIgnore private Object metricRegistry;\r\n    @JsonIgnore private Object healthCheckRegistry;\r\n    @JsonIgnore private Properties healthCheckProperties;\r\n}\r\n\r\n```\r\n\r\nAnd here now the usage of the ObjectMapper:\r\n```java\r\nHikariConfig config = new ObjectMapper()\r\n        .addMixIn(HikariConfig.class, HikariConfigMixin.class)\r\n        .readerFor(HikariConfig.class)\r\n        .readValue(jsonNode);\r\n```\r\n\r\nUnfortunately this will throw the following error:\r\n```error\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n```\r\n\r\nHere the complete stack strace:\r\n```error\r\n2023-02-15 04:10:24,988 main ERROR An exception occurred processing Appender DataBase org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.ExceptionInInitializerError\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:683)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:641)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:624)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:560)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:162)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\r\n\tat org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\r\n\tat org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:614)\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:387)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n\tat com.example.Application.main(Application.java:16)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource$1.getConnection(FactoryMethodConnectionSource.java:105)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource.getConnection(FactoryMethodConnectionSource.java:53)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndPrepare(JdbcDatabaseManager.java:592)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndStart(JdbcDatabaseManager.java:613)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeThrough(JdbcDatabaseManager.java:888)\r\n\tat org.apache.logging.log4j.core.appender.db.AbstractDatabaseManager.write(AbstractDatabaseManager.java:298)\r\n\tat org.apache.logging.log4j.core.appender.db.AbstractDatabaseAppender.append(AbstractDatabaseAppender.java:110)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\t... 23 more\r\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:210)\r\n\tat com.example.config.Log4j2ConnectionFactory.&lt;clinit&gt;(Log4j2ConnectionFactory.java:73)\r\n\t... 35 more\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1887)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.SubTypeValidator.validateSubType(SubTypeValidator.java:302)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory._validateSubType(BeanDeserializerFactory.java:1032)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._findRootDeserializer(ObjectReader.java:2386)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)\r\n\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1724)\r\n\tat com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:198)\r\n\t... 36 more\r\n```\r\nBy the way, the exact same error is thrown even if no Mixin is applied.\r\n\r\n&lt;h2&gt;My question:&lt;/h2&gt;\r\nCan anyone tell why `com.zaxxer.hikari.HikariConfig` is an illegal type that must not be deserialized for security reasons and how to fix this?\r\n\r\n&lt;p&gt;&lt;br/&gt;\r\n&lt;b&gt;Many thanks for any help&lt;/b&gt;\r\n","title":"How to resolve Jackson Databind InvalidDefinitionException: Invalid type definition for type (Illegal type to deserialize)?","body":"<p>I am trying to map a JsonNode to a 3rd-party object using Jackson's ObjectMapper. The target class is <code>HikariConfig.class</code> and has a default constructor and getter and setter for all necessary properties. The class contains complex data structures like ThreadFactory or ScheduledExecutorService. The project framework is Spring Boot 3.0.2 (version numbers predefined by Spring Boot: Tomcat 10.1.5, Jackson 2.14.1, Hikari 5.0.1).</p>\n<p>The JsonNode is flat structured and looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;jdbcUrl&quot;: &quot;jdbc:h2:mem:example-db&quot;,\n  &quot;driverClassName&quot;: &quot;org.h2.Driver&quot;,\n  &quot;username&quot;: &quot;sa&quot;,\n}\n</code></pre>\n<p>Since unknown properties are not to be processed, and also in order to ignore the complex data structures, a Mixin comes into play:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\nprivate static abstract class HikariConfigMixin {\n\n    @JsonIgnore private static char[] ID_CHARACTERS;\n    @JsonIgnore private DataSource dataSource;\n    @JsonIgnore private Properties dataSourceProperties;\n    @JsonIgnore private ThreadFactory threadFactory;\n    @JsonIgnore private ScheduledExecutorService scheduledExecutor;\n    @JsonIgnore private MetricsTrackerFactory metricsTrackerFactory;\n    @JsonIgnore private Object metricRegistry;\n    @JsonIgnore private Object healthCheckRegistry;\n    @JsonIgnore private Properties healthCheckProperties;\n}\n\n</code></pre>\n<p>And here now the usage of the ObjectMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig config = new ObjectMapper()\n        .addMixIn(HikariConfig.class, HikariConfigMixin.class)\n        .readerFor(HikariConfig.class)\n        .readValue(jsonNode);\n</code></pre>\n<p>Unfortunately this will throw the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n</code></pre>\n<p>Here the complete stack strace:</p>\n<pre><code>2023-02-15 04:10:24,988 main ERROR An exception occurred processing Appender DataBase org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.ExceptionInInitializerError\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:683)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:641)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:624)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:560)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:162)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\n    at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\n    at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:614)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:387)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at com.example.Application.main(Application.java:16)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource$1.getConnection(FactoryMethodConnectionSource.java:105)\n    at org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource.getConnection(FactoryMethodConnectionSource.java:53)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndPrepare(JdbcDatabaseManager.java:592)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndStart(JdbcDatabaseManager.java:613)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeThrough(JdbcDatabaseManager.java:888)\n    at org.apache.logging.log4j.core.appender.db.AbstractDatabaseManager.write(AbstractDatabaseManager.java:298)\n    at org.apache.logging.log4j.core.appender.db.AbstractDatabaseAppender.append(AbstractDatabaseAppender.java:110)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    ... 23 more\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:210)\n    at com.example.config.Log4j2ConnectionFactory.&lt;clinit&gt;(Log4j2ConnectionFactory.java:73)\n    ... 35 more\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1887)\n    at com.fasterxml.jackson.databind.jsontype.impl.SubTypeValidator.validateSubType(SubTypeValidator.java:302)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory._validateSubType(BeanDeserializerFactory.java:1032)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\n    at com.fasterxml.jackson.databind.ObjectReader._findRootDeserializer(ObjectReader.java:2386)\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1724)\n    at com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:198)\n    ... 36 more\n</code></pre>\n<p>By the way, the exact same error is thrown even if no Mixin is applied.</p>\n<h2>My question:</h2>\nCan anyone tell why `com.zaxxer.hikari.HikariConfig` is an illegal type that must not be deserialized for security reasons and how to fix this?\n<p><br/>\n<b>Many thanks for any help</b>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":13317882,"reputation":11,"user_id":9613619,"display_name":"leowangzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676432989,"creation_date":1676432989,"answer_id":75455317,"question_id":75435470,"body_markdown":"My problem is solved. In response to this problem, I was inspired by the following link:[Gradle Plugins Offline Resolution][1]\r\n\r\n\r\nIn this answer from the gradle community, I learned how gradle parses plugins: `${pluginId}:${pluginId}.gradle.plugin:${pluginVersion}`.\r\nSo I changed the plugins in the plugins directory to the corresponding format.\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\r\n    }\r\n}\r\n```\r\nBut then I ran into a new problem when I executed`gradlew --offline bootJar` with the error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\norg/springframework/boot/loader/tools/MainClassFinder\r\n&gt; org.springframework.boot.loader.tools.MainClassFinder\r\n```\r\nSo I used org.springframework.boot.loader.tools.MainClassFinder class Google search, found that is spring-boot-loader-tools the contents of the jar package, I then added this jar to the plugins, and change the `buildscript {...} block`\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:spring-boot-loader-tools:2.2.0.RELEASE&quot;\r\n    }\r\n}\r\n```\r\nNow it works on my Mac.\r\nBut when I put the project on an environment without internet (the build environment of the final project is no internet), there are other problems, similar to a class not being found. I guess this kind of problem is the bootJar plugin execution can not find the relevant dependencies, so I copied the `.m2` file from my mac, and finally built and ran successfully.\r\n\r\nSo to summarize, there are two problems: \r\n1. plugins directory plug-in name and gradle for the resolution of the plug-in name does not match\r\n2. in addition to the plugins specified in buildscript{}, the plugins&#39; related dependencies (there may be many) also need to be found in the environment.\r\nWhy did I copy the .m2 over instead of putting all the related dependencies into plugins? Because there are too many dependencies...\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/gradle-plugins-offline-resolution/28161","title":"How to specify local plugins when building with gradle offline mode?","body":"<p>My problem is solved. In response to this problem, I was inspired by the following link:<a href=\"https://discuss.gradle.org/t/gradle-plugins-offline-resolution/28161\" rel=\"nofollow noreferrer\">Gradle Plugins Offline Resolution</a></p>\n<p>In this answer from the gradle community, I learned how gradle parses plugins: <code>${pluginId}:${pluginId}.gradle.plugin:${pluginVersion}</code>.\nSo I changed the plugins in the plugins directory to the corresponding format.</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\n    }\n}\n</code></pre>\n<p>But then I ran into a new problem when I executed<code>gradlew --offline bootJar</code> with the error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\norg/springframework/boot/loader/tools/MainClassFinder\n&gt; org.springframework.boot.loader.tools.MainClassFinder\n</code></pre>\n<p>So I used org.springframework.boot.loader.tools.MainClassFinder class Google search, found that is spring-boot-loader-tools the contents of the jar package, I then added this jar to the plugins, and change the <code>buildscript {...} block</code></p>\n<pre><code>buildscript {\n    dependencies {\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\n        classpath &quot;org.springframework.boot:spring-boot-loader-tools:2.2.0.RELEASE&quot;\n    }\n}\n</code></pre>\n<p>Now it works on my Mac.\nBut when I put the project on an environment without internet (the build environment of the final project is no internet), there are other problems, similar to a class not being found. I guess this kind of problem is the bootJar plugin execution can not find the relevant dependencies, so I copied the <code>.m2</code> file from my mac, and finally built and ran successfully.</p>\n<p>So to summarize, there are two problems:</p>\n<ol>\n<li>plugins directory plug-in name and gradle for the resolution of the plug-in name does not match</li>\n<li>in addition to the plugins specified in buildscript{}, the plugins' related dependencies (there may be many) also need to be found in the environment.\nWhy did I copy the .m2 over instead of putting all the related dependencies into plugins? Because there are too many dependencies...</li>\n</ol>\n"}],"owner":{"account_id":13317882,"reputation":11,"user_id":9613619,"display_name":"leowangzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676432989,"creation_date":1676288869,"question_id":75435470,"body_markdown":"I used gradle to build the project in an environment without internet, and I put all the project dependencies into the libs directory in the project root, and everything worked fine. Because it is a spring-boot project, I need to package it with the gradle plugin org.springframework.boot, so I put the jar of the plugin spring-boot-gradle-plugin-2.2.0.RELEASE.jar into the project&#39;s But I have used many ways from the Internet to specify the plugins in the plugins directory, but none of them work.\r\n\r\nThe project directory is as follows:\r\n\r\n    projectRoot\r\n    ├── build.gradle\r\n    ├── gradle\r\n    │&#160;&#160; └── wrapper\r\n    ├── gradlew\r\n    ├── gradlew.bat\r\n    ├── libs\r\n    │&#160;&#160; └── xxx.jar\r\n    ├── plugins\r\n    │&#160;&#160; ├── dependency-management-plugin-1.0.11.RELEASE.jar\r\n    │&#160;&#160; └── spring-boot-gradle-plugin-2.2.0.RELEASE.jar\r\n    ├── resource\r\n    ├── settings.gradle\r\n    └── src\r\n        ├── main\r\n        └── test\r\n\r\n\r\nAnd the settings.gradle file is as follows:\r\n```\r\npluginManagement {\r\n    repositories {\r\n        mavenLocal()\r\n        flatDir { dirs &#39;plugins&#39; }\r\n    }\r\n\r\n}\r\nrootProject.name = &#39;example&#39;\r\n```\r\n\r\nAnd the build.gradle file is as follows:\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.2.0.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;1.0.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n}\r\n\r\ndependencies {\r\n    implementation files(&#39;libs/xxx.jar&#39;,&#39;libs/others_of_libs.jar&#39;)\r\n}\r\n```\r\n\r\nBut when I execute it via offline mode:`./gradlew build --offline `,I get the following error:\r\n```\r\nPlugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.2.0.RELEASE&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&#39;)\r\n  Searched in the following repositories:\r\n    maven(file:/User/myName/example/plugins/)\r\n```\r\nHow exactly is this situation specified? Do I need to install the two jars in the plugins directory to the local maven repository?\r\n\r\n\r\nI have found many ways to compile specified plugins offline on the web, including this:\r\n\r\n```\r\n    buildscript {\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url(&#39;plugins&#39;) }\r\n    }\r\n\r\n    dependencies {\r\n        classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;plugins&#39;)\r\n        classpath files(&#39;plugins/dependency-management-plugin-1.0.11.RELEASE.jar&#39;)\r\n        classpath files(&#39;plugins/spring-boot-gradle-plugin-2.2.0.RELEASE.jar&#39;)\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.11.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.0.RELEASE&quot;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI still get the same error.","title":"How to specify local plugins when building with gradle offline mode?","body":"<p>I used gradle to build the project in an environment without internet, and I put all the project dependencies into the libs directory in the project root, and everything worked fine. Because it is a spring-boot project, I need to package it with the gradle plugin org.springframework.boot, so I put the jar of the plugin spring-boot-gradle-plugin-2.2.0.RELEASE.jar into the project's But I have used many ways from the Internet to specify the plugins in the plugins directory, but none of them work.</p>\n<p>The project directory is as follows:</p>\n<pre><code>projectRoot\n├── build.gradle\n├── gradle\n│   └── wrapper\n├── gradlew\n├── gradlew.bat\n├── libs\n│   └── xxx.jar\n├── plugins\n│   ├── dependency-management-plugin-1.0.11.RELEASE.jar\n│   └── spring-boot-gradle-plugin-2.2.0.RELEASE.jar\n├── resource\n├── settings.gradle\n└── src\n    ├── main\n    └── test\n</code></pre>\n<p>And the settings.gradle file is as follows:</p>\n<pre><code>pluginManagement {\n    repositories {\n        mavenLocal()\n        flatDir { dirs 'plugins' }\n    }\n\n}\nrootProject.name = 'example'\n</code></pre>\n<p>And the build.gradle file is as follows:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.0.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '1.0.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenLocal()\n}\n\ndependencies {\n    implementation files('libs/xxx.jar','libs/others_of_libs.jar')\n}\n</code></pre>\n<p>But when I execute it via offline mode:<code>./gradlew build --offline </code>,I get the following error:</p>\n<pre><code>Plugin [id: 'org.springframework.boot', version: '2.2.0.RELEASE'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE')\n  Searched in the following repositories:\n    maven(file:/User/myName/example/plugins/)\n</code></pre>\n<p>How exactly is this situation specified? Do I need to install the two jars in the plugins directory to the local maven repository?</p>\n<p>I have found many ways to compile specified plugins offline on the web, including this:</p>\n<pre><code>    buildscript {\n\n    repositories {\n        mavenLocal()\n        maven { url('plugins') }\n    }\n\n    dependencies {\n        classpath fileTree(include: ['*.jar'], dir: 'plugins')\n        classpath files('plugins/dependency-management-plugin-1.0.11.RELEASE.jar')\n        classpath files('plugins/spring-boot-gradle-plugin-2.2.0.RELEASE.jar')\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.11.RELEASE&quot;\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.0.RELEASE&quot;\n    }\n\n}\n</code></pre>\n<p>I still get the same error.</p>\n"},{"tags":["java","properties","ant","task","build.xml"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1676430111,"post_id":75455117,"comment_id":133133832,"body_markdown":"This is not clear.  `resultproperty` doesn&#39;t appear anywhere in the code you shared.","body":"This is not clear.  <code>resultproperty</code> doesn&#39;t appear anywhere in the code you shared."},{"owner":{"account_id":15525839,"reputation":1,"user_id":11200669,"display_name":"Yuki Yasha"},"score":0,"creation_date":1676452207,"post_id":75455117,"comment_id":133137528,"body_markdown":"@JimGarrison I mean `resultproperty` can get only 1 value so I don&#39;t use it in my code.","body":"@JimGarrison I mean <code>resultproperty</code> can get only 1 value so I don&#39;t use it in my code."}],"owner":{"account_id":15525839,"reputation":1,"user_id":11200669,"display_name":"Yuki Yasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676431647,"creation_date":1676429730,"question_id":75455117,"body_markdown":"exampleClass.java\r\n```\r\nString key1 = &quot;my.test.key1&quot;;\r\nString value1 = &quot;my.test.value1&quot;;\r\nString key2 = &quot;my.test.key2&quot;;\r\nString value2 = &quot;my.test.value2&quot;;\r\n\r\nProperties systemProperties = System.getProperties();\r\nsystemProperties.put(key1, value1);\r\nsystemProperties.put(key2, value2);\r\nSystem.setProperties(systemProperties);\r\n```\r\n\r\nbuild.xml\r\n```\r\n  &lt;macrodef name=&quot;nexDecryptingPwds&quot;&gt;\r\n    &lt;sequential&gt;\r\n      &lt;java classname=&quot;my.util.exec.exampleClass&quot; fork=&quot;true&quot; failonerror=&quot;false&quot;&gt;\r\n        &lt;classpath&gt;\r\n          &lt;fileset dir=&quot;${install.dir}/lib/&quot;&gt;\r\n            &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n          &lt;pathelement location=&quot;${basedir}&quot; /&gt;\r\n        &lt;/classpath&gt;\r\n      &lt;/java&gt;\r\n    &lt;/sequential&gt;\r\n  &lt;/macrodef&gt;\r\n\r\n&lt;echo message=&quot;my.test.key1: ${my.test.key1}&quot; /&gt;\r\n&lt;echo message=&quot;my.test.key2: ${my.test.key2}&quot; /&gt;\r\n```\r\n\r\nHow can I get the value of both keys above?\r\nThe attribute &#39;resultproperty&#39; can get only 1 value at a time.","title":"How can get multi value from java class and use it as property in ant task (build.xml)","body":"<p>exampleClass.java</p>\n<pre><code>String key1 = &quot;my.test.key1&quot;;\nString value1 = &quot;my.test.value1&quot;;\nString key2 = &quot;my.test.key2&quot;;\nString value2 = &quot;my.test.value2&quot;;\n\nProperties systemProperties = System.getProperties();\nsystemProperties.put(key1, value1);\nsystemProperties.put(key2, value2);\nSystem.setProperties(systemProperties);\n</code></pre>\n<p>build.xml</p>\n<pre><code>  &lt;macrodef name=&quot;nexDecryptingPwds&quot;&gt;\n    &lt;sequential&gt;\n      &lt;java classname=&quot;my.util.exec.exampleClass&quot; fork=&quot;true&quot; failonerror=&quot;false&quot;&gt;\n        &lt;classpath&gt;\n          &lt;fileset dir=&quot;${install.dir}/lib/&quot;&gt;\n            &lt;include name=&quot;**/*.jar&quot; /&gt;\n          &lt;/fileset&gt;\n          &lt;pathelement location=&quot;${basedir}&quot; /&gt;\n        &lt;/classpath&gt;\n      &lt;/java&gt;\n    &lt;/sequential&gt;\n  &lt;/macrodef&gt;\n\n&lt;echo message=&quot;my.test.key1: ${my.test.key1}&quot; /&gt;\n&lt;echo message=&quot;my.test.key2: ${my.test.key2}&quot; /&gt;\n</code></pre>\n<p>How can I get the value of both keys above?\nThe attribute 'resultproperty' can get only 1 value at a time.</p>\n"},{"tags":["java","selenium","testing","testng","testng-dataprovider"],"answers":[{"tags":[],"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676431220,"creation_date":1676431220,"answer_id":75455210,"question_id":75404521,"body_markdown":"If there are no restrictions to convert your tests into individual methods, the above ask can be achieved using below approach. Let me know if this helps. \r\n\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class StackTest {\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Object[][] returnData(){\r\n    \t\treturn new Object [][]{{&quot;Input 1&quot;}, {&quot;Input 2&quot;}};\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider=&quot;returnData&quot;)\r\n    \tpublic void iterativeTest(String val) {\r\n    \t\tSystem.out.println(&quot;This is from returned Data : &quot;+ val);\r\n    \t\tdp1(val);\r\n    \t\tdp2(val);\r\n    \t}\r\n    \t\r\n    \tpublic void dp1(String val) {\r\n    \t\tSystem.out.println(&quot;Value from dp1 : &quot;+ val);\r\n    \t}\r\n    \t\r\n    \tpublic void dp2(String val) {\r\n    \t\tSystem.out.println(&quot;Value from dp2 : &quot;+ val);\r\n    \t\tAssert.assertEquals(true, true);\r\n    \t}\r\n    }","title":"Run every test for a single instance of @DataProvider using a @Factory","body":"<p>If there are no restrictions to convert your tests into individual methods, the above ask can be achieved using below approach. Let me know if this helps.</p>\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\npublic class StackTest {\n    \n    @DataProvider\n    public Object[][] returnData(){\n        return new Object [][]{{&quot;Input 1&quot;}, {&quot;Input 2&quot;}};\n    }\n    \n    @Test(dataProvider=&quot;returnData&quot;)\n    public void iterativeTest(String val) {\n        System.out.println(&quot;This is from returned Data : &quot;+ val);\n        dp1(val);\n        dp2(val);\n    }\n    \n    public void dp1(String val) {\n        System.out.println(&quot;Value from dp1 : &quot;+ val);\n    }\n    \n    public void dp2(String val) {\n        System.out.println(&quot;Value from dp2 : &quot;+ val);\n        Assert.assertEquals(true, true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24826914,"reputation":21,"user_id":18706576,"display_name":"Ben Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75455210,"answer_count":1,"score":0,"last_activity_date":1676431220,"creation_date":1675977637,"question_id":75404521,"body_markdown":"I have a test class with about 5+ tests in it that I want to run once for each url sequentially.  For example: \r\n\r\n&gt; URL 1 From @DataProvider:  \r\nTest 1: Pass  \r\nTest 2: Fail  \r\nTest 3: Fail  \r\nTest 4: Pass  \r\nURL 2 From @DataProvider:  \r\nTest 1: Pass  \r\nTest 2: Fail  \r\nTest 3: Fail  \r\nTest 4: Pass  \r\n&gt; \r\nInstead of how it is currently:\r\n&gt; URL 1:  \r\nTest 1: Pass   \r\nURL 2:  \r\nTest 1: Pass  \r\nURL 1:  \r\nTest 2: Fail  \r\nURL 2:  \r\nTest 2: Fail \r\netc.\r\n&gt; \r\nI&#39;m pulling the URLs from an excel sheet in my DataProvider like so: \r\n\r\n    @DataProvider\r\n    public Object[][] urlDataProvider() throws Exception {\r\n        File file = new File(&quot;ExampleClients.xlsx&quot;);\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n        XSSFSheet sheet = workbook.getSheet(&quot;URL&#39;s&quot;);\r\n\r\n        int rowCount = sheet.getLastRowNum();\r\n        Object[][] urlData = new Object[rowCount+1][1];\r\n\r\n        for (int i = 0; i &lt;= rowCount; i++) {\r\n            XSSFRow row = sheet.getRow(i);\r\n            XSSFCell cell = row.getCell(0);\r\n            String URL = cell.getStringCellValue();\r\n            urlData[i][0] = URL;\r\n        }\r\n        return urlData;\r\n    }\r\nI&#39;ve tried using a @Factory but am new to the whole QA/TestNG and am confused by it:\r\n\r\n    @Factory(dataProvider=&quot;urlDataProvider&quot;)\r\n    public CareFirstTests(String url) {\r\n        this.url = url;\r\n    }\r\nAll of my test methods, @Factory and @DataProvider are in the same java test file.\r\nWhen I try using the Factory I get this error\r\n\r\n&gt; Couldn&#39;t find a constructor in class\r\n&gt;\r\nI&#39;m also open to hearing any other ways how to accomplish something like this.\r\n ","title":"Run every test for a single instance of @DataProvider using a @Factory","body":"<p>I have a test class with about 5+ tests in it that I want to run once for each url sequentially.  For example:</p>\n<blockquote>\n<p>URL 1 From @DataProvider:<br />\nTest 1: Pass<br />\nTest 2: Fail<br />\nTest 3: Fail<br />\nTest 4: Pass<br />\nURL 2 From @DataProvider:<br />\nTest 1: Pass<br />\nTest 2: Fail<br />\nTest 3: Fail<br />\nTest 4: Pass</p>\n</blockquote>\n<p>Instead of how it is currently:</p>\n<blockquote>\n<p>URL 1:<br />\nTest 1: Pass<br />\nURL 2:<br />\nTest 1: Pass<br />\nURL 1:<br />\nTest 2: Fail<br />\nURL 2:<br />\nTest 2: Fail\netc.</p>\n</blockquote>\n<p>I'm pulling the URLs from an excel sheet in my DataProvider like so:</p>\n<pre><code>@DataProvider\npublic Object[][] urlDataProvider() throws Exception {\n    File file = new File(&quot;ExampleClients.xlsx&quot;);\n    FileInputStream inputStream = new FileInputStream(file);\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n    XSSFSheet sheet = workbook.getSheet(&quot;URL's&quot;);\n\n    int rowCount = sheet.getLastRowNum();\n    Object[][] urlData = new Object[rowCount+1][1];\n\n    for (int i = 0; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n        XSSFCell cell = row.getCell(0);\n        String URL = cell.getStringCellValue();\n        urlData[i][0] = URL;\n    }\n    return urlData;\n}\n</code></pre>\n<p>I've tried using a @Factory but am new to the whole QA/TestNG and am confused by it:</p>\n<pre><code>@Factory(dataProvider=&quot;urlDataProvider&quot;)\npublic CareFirstTests(String url) {\n    this.url = url;\n}\n</code></pre>\n<p>All of my test methods, @Factory and @DataProvider are in the same java test file.\nWhen I try using the Factory I get this error</p>\n<blockquote>\n<p>Couldn't find a constructor in class</p>\n</blockquote>\n<p>I'm also open to hearing any other ways how to accomplish something like this.</p>\n"},{"tags":["java","artifactory","artifactory-query-lang"],"owner":{"account_id":27789269,"reputation":1,"user_id":21216035,"display_name":"Meghdoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676431156,"creation_date":1676431156,"question_id":75455204,"body_markdown":"I am trying to convert this query to java equivalent using AqlQueryBuilder().\r\n\r\nQuery to be converted:  &quot;items.find&quot;:{&quot;$and&quot;:[{&quot;$or&quot;:[{&quot;path&quot;:{&quot;$match&quot;:&quot;test1/*&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test2/*&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test3/*&quot;}}]},{&quot;$or&quot;:[{&quot;name&quot;:{&quot;$match&quot;:&quot;*.jar&quot;}},{&quot;name&quot;:{&quot;$match&quot;:&quot;*.ear&quot;}}]}],&quot;size&quot;:{&quot;$gt&quot;:&quot;15000000&quot;}}\r\n\r\nI am unable to find enough information on this, though I found a document which shows the query as following, below chunk of code is not working for me, the error is in the or statement\r\n**********************\r\n\r\n```\r\n@Test\r\npublic void addNestedFilters() {\r\n  final String result = new AqlQueryBuilder()\r\n    .and(\r\n      or(\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo1&quot;),\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo2&quot;),\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo3&quot;)\r\n      ),\r\n      or(\r\n        aqlItem(&quot;name&quot;, &quot;maven-metadata1.xml&quot;),\r\n        aqlItem(&quot;name&quot;, &quot;maven-metadata2.xml&quot;)\r\n      )\r\n    ).build();\r\n```\r\n\r\n    \r\n************************\r\n\r\ncan anyone help me with these nested condition in java, thanks in advance\r\n","title":"How to use nested (and) (or) in java equivalent artifactory query language","body":"<p>I am trying to convert this query to java equivalent using AqlQueryBuilder().</p>\n<p>Query to be converted:  &quot;items.find&quot;:{&quot;$and&quot;:[{&quot;$or&quot;:[{&quot;path&quot;:{&quot;$match&quot;:&quot;test1/<em>&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test2/</em>&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test3/<em>&quot;}}]},{&quot;$or&quot;:[{&quot;name&quot;:{&quot;$match&quot;:&quot;</em>.jar&quot;}},{&quot;name&quot;:{&quot;$match&quot;:&quot;*.ear&quot;}}]}],&quot;size&quot;:{&quot;$gt&quot;:&quot;15000000&quot;}}</p>\n<p>I am unable to find enough information on this, though I found a document which shows the query as following, below chunk of code is not working for me, the error is in the or statement</p>\n<hr />\n<pre><code>@Test\npublic void addNestedFilters() {\n  final String result = new AqlQueryBuilder()\n    .and(\n      or(\n        aqlItem(&quot;repo&quot;, &quot;myrepo1&quot;),\n        aqlItem(&quot;repo&quot;, &quot;myrepo2&quot;),\n        aqlItem(&quot;repo&quot;, &quot;myrepo3&quot;)\n      ),\n      or(\n        aqlItem(&quot;name&quot;, &quot;maven-metadata1.xml&quot;),\n        aqlItem(&quot;name&quot;, &quot;maven-metadata2.xml&quot;)\n      )\n    ).build();\n</code></pre>\n<hr />\n<p>can anyone help me with these nested condition in java, thanks in advance</p>\n"},{"tags":["java","android","android-studio","androidx"],"owner":{"account_id":27298687,"reputation":1,"user_id":20815889,"display_name":"thelearn-tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676430301,"creation_date":1676430301,"question_id":75455150,"body_markdown":"I was using the legacy Library but when I used the new androidX library and make any app it just crashes without errors, I have tried logcat without any filters but still shows no error.\r\n\r\n\r\nCompiledSdk 33\r\n\r\nbuoldTools 33.0.0\r\n\r\nMinSdkVersion 21\r\nmaxSdkVersion 33\r\n\r\nandroidX.appcompat:appcompat:1.5.1\r\n\r\n\r\njunit 4.12\r\nandroidX.test 1.1.4\r\nandroidX.test.espresso 3.5.0\r\n\r\n\r\nAndroid studio 4\r\nBuild 193.6911.18.40.6514223 May 20, 2020\r\n\r\n\r\nI have tried the latest version of Android studio for Linux but same result. Any help","title":"Android app crashes with out error with AndroidX library","body":"<p>I was using the legacy Library but when I used the new androidX library and make any app it just crashes without errors, I have tried logcat without any filters but still shows no error.</p>\n<p>CompiledSdk 33</p>\n<p>buoldTools 33.0.0</p>\n<p>MinSdkVersion 21\nmaxSdkVersion 33</p>\n<p>androidX.appcompat:appcompat:1.5.1</p>\n<p>junit 4.12\nandroidX.test 1.1.4\nandroidX.test.espresso 3.5.0</p>\n<p>Android studio 4\nBuild 193.6911.18.40.6514223 May 20, 2020</p>\n<p>I have tried the latest version of Android studio for Linux but same result. Any help</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"owner":{"account_id":8640436,"reputation":73,"user_id":6469276,"display_name":"Yasiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676430244,"creation_date":1676362876,"question_id":75445039,"body_markdown":"My design Architecture\r\n\r\nWebSocket Clients &lt;---&gt; API Manager Component &lt;----&gt; Apache Kafka\r\n\r\n\r\nI have to design this API Manager Component using Spring Boot. The main function of the component is as follows.\r\n\r\n 1. Connect with WebSocket Clients (Not an issue)\r\n 2. When WS Client is connected, API Manager Component should connect to the relevant Kafka Channel related to that particular Web Socket Client and Consume the data. This should happen dynamically at runtime because API Manager does not know the identities of WS Clients prior to login.\r\n\r\nHow can I use Spring Boot to achieve this point 2?\r\n\r\n","title":"How to connect Kafka consumer channels dynamically using Spring Boot at run time?","body":"<p>My design Architecture</p>\n<p>WebSocket Clients &lt;---&gt; API Manager Component &lt;----&gt; Apache Kafka</p>\n<p>I have to design this API Manager Component using Spring Boot. The main function of the component is as follows.</p>\n<ol>\n<li>Connect with WebSocket Clients (Not an issue)</li>\n<li>When WS Client is connected, API Manager Component should connect to the relevant Kafka Channel related to that particular Web Socket Client and Consume the data. This should happen dynamically at runtime because API Manager does not know the identities of WS Clients prior to login.</li>\n</ol>\n<p>How can I use Spring Boot to achieve this point 2?</p>\n"},{"tags":["java","url","discord","webhooks"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1653301276,"post_id":72345264,"comment_id":127809732,"body_markdown":"Use a webhook library like this https://github.com/MinnDevelopment/discord-webhooks","body":"Use a webhook library like this <a href=\"https://github.com/MinnDevelopment/discord-webhooks\" rel=\"nofollow noreferrer\">github.com/MinnDevelopment/discord-webhooks</a>"}],"answers":[{"tags":[],"owner":{"account_id":27789046,"reputation":11,"user_id":21215844,"display_name":"Andeson de Jesus de Menezes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676428132,"creation_date":1676428132,"answer_id":75454988,"question_id":72345264,"body_markdown":"add \r\ncon.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;); ","title":"How to send discord webhook message in Java?","body":"<p>add\ncon.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);</p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676428132,"creation_date":1653293679,"question_id":72345264,"body_markdown":"I&#39;m trying to send a discord webhook message from Java.&lt;br&gt;\r\nI found a way in this [website.][1]\r\nBut when i tried, it didn&#39;t work.\r\n```java\r\npackage com.company;\r\n\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Discord {\r\n    public static void main(String[] args) throws Exception {\r\n        URL url = new URL(&quot;https://discord.com/api/webhooks/my_webhook_url&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setDoOutput(true);\r\n        String jsonInputString = &quot;{&quot; +\r\n                &quot;username : \\&quot;Bot\\&quot;, &quot; +\r\n                &quot;content : \\&quot;Hello World\\&quot;&quot; +\r\n                &quot;}&quot;;\r\n        try(OutputStream os = con.getOutputStream()) {\r\n            byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nI&#39;m just using this for a one way message so, i guess this should work.&lt;br&gt;\r\nBut why doesn&#39;t it?\r\n\r\n  [1]: https://www.baeldung.com/httpurlconnection-post","title":"How to send discord webhook message in Java?","body":"<p>I'm trying to send a discord webhook message from Java.<br>\nI found a way in this <a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">website.</a>\nBut when i tried, it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\npublic class Discord {\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(&quot;https://discord.com/api/webhooks/my_webhook_url&quot;);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        con.setDoOutput(true);\n        String jsonInputString = &quot;{&quot; +\n                &quot;username : \\&quot;Bot\\&quot;, &quot; +\n                &quot;content : \\&quot;Hello World\\&quot;&quot; +\n                &quot;}&quot;;\n        try(OutputStream os = con.getOutputStream()) {\n            byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);\n            os.write(input, 0, input.length);\n        }\n\n    }\n}\n\n</code></pre>\n<p>I'm just using this for a one way message so, i guess this should work.<br>\nBut why doesn't it?</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":79319,"reputation":31734,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1676347395,"post_id":75443172,"comment_id":133114412,"body_markdown":"(a) are you asking the [`spring.management.port`](https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/production-ready-monitoring.html) for those actuator URLs? (b) are you using the same `spring.profiles.active` in the cluster as you are locally? IOW, what debugging have you already tried? Don&#39;t put that in the comments, instead [edit your question](https://stackoverflow.com/posts/75443172/edit) and provide more details","body":"(a) are you asking the <a href=\"https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/production-ready-monitoring.html\" rel=\"nofollow noreferrer\"><code>spring.management.port</code></a> for those actuator URLs? (b) are you using the same <code>spring.profiles.active</code> in the cluster as you are locally? IOW, what debugging have you already tried? Don&#39;t put that in the comments, instead <a href=\"https://stackoverflow.com/posts/75443172/edit\">edit your question</a> and provide more details"},{"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676350470,"post_id":75443172,"comment_id":133114730,"body_markdown":"The `spring.management.port` and `spring.profiles.active` is right. I can enable probes using the `management.endpoint.health.probes.enabled` configuration property. But why not enabled automatically if the application is running in a Kubernetes environment?","body":"The <code>spring.management.port</code> and <code>spring.profiles.active</code> is right. I can enable probes using the <code>management.endpoint.health.probes.enabled</code> configuration property. But why not enabled automatically if the application is running in a Kubernetes environment?"},{"owner":{"account_id":79319,"reputation":31734,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1676392012,"post_id":75443172,"comment_id":133125924,"body_markdown":"Well, since you didn&#39;t post your Deployment yaml, it is still a reasonable question: are you sending the probes to the correct port?","body":"Well, since you didn&#39;t post your Deployment yaml, it is still a reasonable question: are you sending the probes to the correct port?"},{"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676427606,"post_id":75443172,"comment_id":133133558,"body_markdown":"@mdaniel Ok, I have posted deployment yaml. Yes, I confirm that sending the probes to the correct port. My application integrates Spring Cloud Sleuth. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?","body":"@mdaniel Ok, I have posted deployment yaml. Yes, I confirm that sending the probes to the correct port. My application integrates Spring Cloud Sleuth. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?"}],"answers":[{"tags":[],"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676357101,"creation_date":1676357101,"answer_id":75444291,"question_id":75443172,"body_markdown":"**AFAIK Health groups are automatically enabled only if the application met below 2 conditions:**\r\n\r\n1)Runs in a Kubernetes deployment environment \r\n\r\nSpring Boot auto-detects Kubernetes deployment environments by checking the environment for `&quot;*_SERVICE_HOST&quot;` and `&quot;*_SERVICE_PORT&quot;` variables. You can override this detection with the `spring.main.cloud-platform` configuration property. Spring Boot helps you to manage the state of your application and export it with [HTTP Kubernetes Probes using Actuator][2].\r\n\r\n\r\n2)The `management.health.probes.enabled` property is set to `true`\r\n\r\nIf the application meets either of the above conditions, then auto-configuration registers.\r\n\r\n\r\nRefer to Baeldung, [Liveness and Readiness Probes in Spring Boot][3], Auto-Configurations by Mona Mohamadinia, for more information.\r\n\r\n\r\nAlso refer to github link, [Kubernetes readiness probe endpoint returning 404 #22562][4] for more information.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.application-availability\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.kubernetes-probes\r\n  [3]: https://www.baeldung.com/spring-liveness-readiness-probes#auto-config\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/22562","title":"Liveness and readiness probe return 404","body":"<p><strong>AFAIK Health groups are automatically enabled only if the application met below 2 conditions:</strong></p>\n<p>1)Runs in a Kubernetes deployment environment</p>\n<p>Spring Boot auto-detects Kubernetes deployment environments by checking the environment for <code>&quot;*_SERVICE_HOST&quot;</code> and <code>&quot;*_SERVICE_PORT&quot;</code> variables. You can override this detection with the <code>spring.main.cloud-platform</code> configuration property. Spring Boot helps you to manage the state of your application and export it with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.kubernetes-probes\" rel=\"nofollow noreferrer\">HTTP Kubernetes Probes using Actuator</a>.</p>\n<p>2)The <code>management.health.probes.enabled</code> property is set to <code>true</code></p>\n<p>If the application meets either of the above conditions, then auto-configuration registers.</p>\n<p>Refer to Baeldung, <a href=\"https://www.baeldung.com/spring-liveness-readiness-probes#auto-config\" rel=\"nofollow noreferrer\">Liveness and Readiness Probes in Spring Boot</a>, Auto-Configurations by Mona Mohamadinia, for more information.</p>\n<p>Also refer to github link, <a href=\"https://github.com/spring-projects/spring-boot/issues/22562\" rel=\"nofollow noreferrer\">Kubernetes readiness probe endpoint returning 404 #22562</a> for more information.</p>\n"}],"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676427092,"creation_date":1676345219,"question_id":75443172,"body_markdown":"My Spring-Boot Application is running on Kubernetes.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.12&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nAccording to Spring-Boot reference, `livenessProbe` and `readinessProbe` would be enabled automatically.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes\r\n\r\n&gt; These health groups are only enabled automatically if the application is running in a Kubernetes environment. \r\n\r\n&gt; They will also be exposed as separate HTTP Probes using Health Groups: `/actuator/health/liveness` and `/actuator/health/readiness`.\r\n\r\nBut the endpoints (`/actuator/health/liveness` and `/actuator/health/readiness`) in My Spring-Boot Application returns 404, what&#39;s wrong here?\r\n\r\nThe component of `livenessState` and `readinessState` is enabled, but the health group is not.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9sto4.png\r\n\r\n\r\nI debug the code and find that the method `org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration.HealthEndpointGroupsBeanPostProcessor#postProcessAfterInitialization` doesn&#39;t work. Because there&#39;s no bean instanceof HealthEndpointGroups, Why?\r\n\r\n    /**\r\n\t * {@link BeanPostProcessor} to invoke {@link HealthEndpointGroupsPostProcessor}\r\n\t * beans.\r\n\t */\r\n\tstatic class HealthEndpointGroupsBeanPostProcessor implements BeanPostProcessor {\r\n\r\n\t\tprivate final ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors;\r\n\r\n\t\tHealthEndpointGroupsBeanPostProcessor(ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors) {\r\n\t\t\tthis.postProcessors = postProcessors;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n\r\n            // there&#39;s no bean instanceof HealthEndpointGroups here, Why?\r\n\r\n\t\t\tif (bean instanceof HealthEndpointGroups) {\r\n\t\t\t\treturn applyPostProcessors((HealthEndpointGroups) bean);\r\n\t\t\t}\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t\tprivate Object applyPostProcessors(HealthEndpointGroups bean) {\r\n\t\t\tfor (HealthEndpointGroupsPostProcessor postProcessor : this.postProcessors.orderedStream()\r\n\t\t\t\t\t.toArray(HealthEndpointGroupsPostProcessor[]::new)) {\r\n\t\t\t\tbean = postProcessor.postProcessHealthEndpointGroups(bean);\r\n\t\t\t}\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t}\r\n\r\nI try to run the application locally with adding `KUBERNETES_SERVICE_HOST` and `KUBERNETES_SERVICE_HOST` environment variables, to enable probes. But it didn&#39;t work as well.\r\n\r\n\r\n    /**\r\n\t * {@link SpringBootCondition} to enable or disable probes.\r\n\t * &lt;p&gt;\r\n\t * Probes are enabled if the dedicated configuration property is enabled or if the\r\n\t * Kubernetes cloud environment is detected/enforced.\r\n\t */\r\n\tstatic class ProbesCondition extends SpringBootCondition {\r\n\r\n\t\tprivate static final String ENABLED_PROPERTY = &quot;management.endpoint.health.probes.enabled&quot;;\r\n\r\n\t\tprivate static final String DEPRECATED_ENABLED_PROPERTY = &quot;management.health.probes.enabled&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\t\tEnvironment environment = context.getEnvironment();\r\n\t\t\tConditionMessage.Builder message = ConditionMessage.forCondition(&quot;Probes availability&quot;);\r\n\t\t\tConditionOutcome outcome = onProperty(environment, message, ENABLED_PROPERTY);\r\n\t\t\tif (outcome != null) {\r\n\t\t\t\treturn outcome;\r\n\t\t\t}\r\n\t\t\toutcome = onProperty(environment, message, DEPRECATED_ENABLED_PROPERTY);\r\n\t\t\tif (outcome != null) {\r\n\t\t\t\treturn outcome;\r\n\t\t\t}\r\n\t\t\tif (CloudPlatform.getActive(environment) == CloudPlatform.KUBERNETES) {\r\n\t\t\t\treturn ConditionOutcome.match(message.because(&quot;running on Kubernetes&quot;));\r\n\t\t\t}\r\n\t\t\treturn ConditionOutcome.noMatch(message.because(&quot;not running on a supported cloud platform&quot;));\r\n\t\t}\r\n\r\n\t\tprivate ConditionOutcome onProperty(Environment environment, ConditionMessage.Builder message,\r\n\t\t\t\tString propertyName) {\r\n\t\t\tString enabled = environment.getProperty(propertyName);\r\n\t\t\tif (enabled != null) {\r\n\t\t\t\tboolean match = !&quot;false&quot;.equalsIgnoreCase(enabled);\r\n\t\t\t\treturn new ConditionOutcome(match, message.because(&quot;&#39;&quot; + propertyName + &quot;&#39; set to &#39;&quot; + enabled + &quot;&#39;&quot;));\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\nI run application on Kubernetes, but it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?\r\n\r\nRemoving the follow dependency\r\n\r\n        &lt;!--traceId --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nyaml:\r\n\r\n    management:\r\n      server:\r\n        port: 9235\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}\r\n\r\nk8s:\r\n\r\n      readinessProbe:\r\n        httpGet:\r\n          path: /actuator/health/readiness\r\n          port: {{ .Values.deployment.managementPort }}\r\n        failureThreshold: 3\r\n        initialDelaySeconds: 150\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        timeoutSeconds: 10\r\n      livenessProbe:\r\n        httpGet:\r\n          path: /actuator/health/liveness\r\n          port: {{ .Values.deployment.managementPort }}\r\n        failureThreshold: 3\r\n        initialDelaySeconds: 180\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        timeoutSeconds: 10\r\n\r\n","title":"Liveness and readiness probe return 404","body":"<p>My Spring-Boot Application is running on Kubernetes.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.12&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>According to Spring-Boot reference, <code>livenessProbe</code> and <code>readinessProbe</code> would be enabled automatically.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes</a></p>\n<blockquote>\n<p>These health groups are only enabled automatically if the application is running in a Kubernetes environment.</p>\n</blockquote>\n<blockquote>\n<p>They will also be exposed as separate HTTP Probes using Health Groups: <code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code>.</p>\n</blockquote>\n<p>But the endpoints (<code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code>) in My Spring-Boot Application returns 404, what's wrong here?</p>\n<p>The component of <code>livenessState</code> and <code>readinessState</code> is enabled, but the health group is not.\n<a href=\"https://i.stack.imgur.com/9sto4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9sto4.png\" alt=\"enter image description here\" /></a></p>\n<p>I debug the code and find that the method <code>org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration.HealthEndpointGroupsBeanPostProcessor#postProcessAfterInitialization</code> doesn't work. Because there's no bean instanceof HealthEndpointGroups, Why?</p>\n<pre><code>/**\n * {@link BeanPostProcessor} to invoke {@link HealthEndpointGroupsPostProcessor}\n * beans.\n */\nstatic class HealthEndpointGroupsBeanPostProcessor implements BeanPostProcessor {\n\n    private final ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors;\n\n    HealthEndpointGroupsBeanPostProcessor(ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors) {\n        this.postProcessors = postProcessors;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n\n        // there's no bean instanceof HealthEndpointGroups here, Why?\n\n        if (bean instanceof HealthEndpointGroups) {\n            return applyPostProcessors((HealthEndpointGroups) bean);\n        }\n        return bean;\n    }\n\n    private Object applyPostProcessors(HealthEndpointGroups bean) {\n        for (HealthEndpointGroupsPostProcessor postProcessor : this.postProcessors.orderedStream()\n                .toArray(HealthEndpointGroupsPostProcessor[]::new)) {\n            bean = postProcessor.postProcessHealthEndpointGroups(bean);\n        }\n        return bean;\n    }\n\n}\n</code></pre>\n<p>I try to run the application locally with adding <code>KUBERNETES_SERVICE_HOST</code> and <code>KUBERNETES_SERVICE_HOST</code> environment variables, to enable probes. But it didn't work as well.</p>\n<pre><code>/**\n * {@link SpringBootCondition} to enable or disable probes.\n * &lt;p&gt;\n * Probes are enabled if the dedicated configuration property is enabled or if the\n * Kubernetes cloud environment is detected/enforced.\n */\nstatic class ProbesCondition extends SpringBootCondition {\n\n    private static final String ENABLED_PROPERTY = &quot;management.endpoint.health.probes.enabled&quot;;\n\n    private static final String DEPRECATED_ENABLED_PROPERTY = &quot;management.health.probes.enabled&quot;;\n\n    @Override\n    public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        Environment environment = context.getEnvironment();\n        ConditionMessage.Builder message = ConditionMessage.forCondition(&quot;Probes availability&quot;);\n        ConditionOutcome outcome = onProperty(environment, message, ENABLED_PROPERTY);\n        if (outcome != null) {\n            return outcome;\n        }\n        outcome = onProperty(environment, message, DEPRECATED_ENABLED_PROPERTY);\n        if (outcome != null) {\n            return outcome;\n        }\n        if (CloudPlatform.getActive(environment) == CloudPlatform.KUBERNETES) {\n            return ConditionOutcome.match(message.because(&quot;running on Kubernetes&quot;));\n        }\n        return ConditionOutcome.noMatch(message.because(&quot;not running on a supported cloud platform&quot;));\n    }\n\n    private ConditionOutcome onProperty(Environment environment, ConditionMessage.Builder message,\n            String propertyName) {\n        String enabled = environment.getProperty(propertyName);\n        if (enabled != null) {\n            boolean match = !&quot;false&quot;.equalsIgnoreCase(enabled);\n            return new ConditionOutcome(match, message.because(&quot;'&quot; + propertyName + &quot;' set to '&quot; + enabled + &quot;'&quot;));\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>I run application on Kubernetes, but it doesn't work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?</p>\n<p>Removing the follow dependency</p>\n<pre><code>    &lt;!--traceId --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>yaml:</p>\n<pre><code>management:\n  server:\n    port: 9235\n  endpoints:\n    web:\n      exposure:\n        include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}\n</code></pre>\n<p>k8s:</p>\n<pre><code>  readinessProbe:\n    httpGet:\n      path: /actuator/health/readiness\n      port: {{ .Values.deployment.managementPort }}\n    failureThreshold: 3\n    initialDelaySeconds: 150\n    periodSeconds: 10\n    successThreshold: 1\n    timeoutSeconds: 10\n  livenessProbe:\n    httpGet:\n      path: /actuator/health/liveness\n      port: {{ .Values.deployment.managementPort }}\n    failureThreshold: 3\n    initialDelaySeconds: 180\n    periodSeconds: 10\n    successThreshold: 1\n    timeoutSeconds: 10\n</code></pre>\n"},{"tags":["java","redis","spring-session"],"owner":{"account_id":27788797,"reputation":1,"user_id":21215639,"display_name":"liruo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676426829,"creation_date":1676426705,"question_id":75454886,"body_markdown":"I find the  is just to be used in the method of org.springframework.session.data.redis.RedisIndexedSessionRepository.RedisSession#getAttribute\r\n\r\nIn my opinion, getAttribute has not function, because the cached is got form redis ather through SessionRepositoryFilter and the DispacthServlet flush session when invoke doService , and back to SessionRepositoryFilter save the RedisSession&#39; delta to redis.\r\n\r\nso getAttribute form cached is equal with form redis, and getAttribute will put the key-value to delta in the SaveMode.ON_GET_ATTRIBUTE and has the Attribute.\r\nSo it maybe put the some key-value back to redis.I really unkown why spring write that.  \r\n\r\n\r\n```\r\npublic &lt;T&gt; T getAttribute(String attributeName) {\r\n            T attributeValue = this.cached.getAttribute(attributeName);\r\n            if (attributeValue != null &amp;&amp; RedisIndexedSessionRepository.this.saveMode.equals(SaveMode.ON_GET_ATTRIBUTE)) {\r\n                this.delta.put(RedisIndexedSSaveMode.ON_GET_ATTRIBUTEessionRepository.getSessionAttrNameKey(attributeName), attributeValue);\r\n            }\r\n\r\n            return attributeValue;\r\n        }\r\n```\r\n\r\nI&#39;ve racked my brains for a long time for what is the function of SaveMode.ON_GET_ATTRIBUTE and asked many times to chatgpt, but it always gave me error answer and repeat error many time.\r\n\r\nI also see the offical docment.\r\n```\r\n/**\r\n* Same as {@link #ON_SET_ATTRIBUTE} with addition of saving attributes that have been\r\n* read using {@link Session#getAttribute(String)}.\r\n*/\r\nON_GET_ATTRIBUTE\r\n```\r\n\r\nand the Test\r\n\r\n```\r\n@Test\r\n\tvoid saveWithSaveModeOnGetAttribute() {\r\n\t\tgiven(this.redisOperations.&lt;String, Object&gt;boundHashOps(anyString())).willReturn(this.boundHashOperations);\r\n\t\tgiven(this.redisOperations.boundSetOps(anyString())).willReturn(this.boundSetOperations);\r\n\t\tgiven(this.redisOperations.boundValueOps(anyString())).willReturn(this.boundValueOperations);\r\n\t\tthis.redisRepository.setSaveMode(SaveMode.ON_GET_ATTRIBUTE);\r\n\t\tMapSession delegate = new MapSession();\r\n\t\tdelegate.setAttribute(&quot;attribute1&quot;, &quot;value1&quot;);\r\n\t\tdelegate.setAttribute(&quot;attribute2&quot;, &quot;value2&quot;);\r\n\t\tdelegate.setAttribute(&quot;attribute3&quot;, &quot;value3&quot;);\r\n\t\tRedisSession session = this.redisRepository.new RedisSession(delegate, false);\r\n\t\tsession.getAttribute(&quot;attribute2&quot;);\r\n\t\tsession.setAttribute(&quot;attribute3&quot;, &quot;value4&quot;);\r\n\t\tthis.redisRepository.save(session);\r\n\t\tassertThat(getDelta()).hasSize(2);\r\n\t}\r\n```\r\nI think the Test is just as I thought.It repeatly add attribute2=value2 to redis.I really unkown why the Test is writend like that.\r\n\r\nplease, who can tell me waht the function of SaveMode.ON_GET_ATTRIBUTE","title":"spring-session-data-redis: about the SaveMode.ON_GET_ATTRIBUTE","body":"<p>I find the  is just to be used in the method of org.springframework.session.data.redis.RedisIndexedSessionRepository.RedisSession#getAttribute</p>\n<p>In my opinion, getAttribute has not function, because the cached is got form redis ather through SessionRepositoryFilter and the DispacthServlet flush session when invoke doService , and back to SessionRepositoryFilter save the RedisSession' delta to redis.</p>\n<p>so getAttribute form cached is equal with form redis, and getAttribute will put the key-value to delta in the SaveMode.ON_GET_ATTRIBUTE and has the Attribute.\nSo it maybe put the some key-value back to redis.I really unkown why spring write that.</p>\n<pre><code>public &lt;T&gt; T getAttribute(String attributeName) {\n            T attributeValue = this.cached.getAttribute(attributeName);\n            if (attributeValue != null &amp;&amp; RedisIndexedSessionRepository.this.saveMode.equals(SaveMode.ON_GET_ATTRIBUTE)) {\n                this.delta.put(RedisIndexedSSaveMode.ON_GET_ATTRIBUTEessionRepository.getSessionAttrNameKey(attributeName), attributeValue);\n            }\n\n            return attributeValue;\n        }\n</code></pre>\n<p>I've racked my brains for a long time for what is the function of SaveMode.ON_GET_ATTRIBUTE and asked many times to chatgpt, but it always gave me error answer and repeat error many time.</p>\n<p>I also see the offical docment.</p>\n<pre><code>/**\n* Same as {@link #ON_SET_ATTRIBUTE} with addition of saving attributes that have been\n* read using {@link Session#getAttribute(String)}.\n*/\nON_GET_ATTRIBUTE\n</code></pre>\n<p>and the Test</p>\n<pre><code>@Test\n    void saveWithSaveModeOnGetAttribute() {\n        given(this.redisOperations.&lt;String, Object&gt;boundHashOps(anyString())).willReturn(this.boundHashOperations);\n        given(this.redisOperations.boundSetOps(anyString())).willReturn(this.boundSetOperations);\n        given(this.redisOperations.boundValueOps(anyString())).willReturn(this.boundValueOperations);\n        this.redisRepository.setSaveMode(SaveMode.ON_GET_ATTRIBUTE);\n        MapSession delegate = new MapSession();\n        delegate.setAttribute(&quot;attribute1&quot;, &quot;value1&quot;);\n        delegate.setAttribute(&quot;attribute2&quot;, &quot;value2&quot;);\n        delegate.setAttribute(&quot;attribute3&quot;, &quot;value3&quot;);\n        RedisSession session = this.redisRepository.new RedisSession(delegate, false);\n        session.getAttribute(&quot;attribute2&quot;);\n        session.setAttribute(&quot;attribute3&quot;, &quot;value4&quot;);\n        this.redisRepository.save(session);\n        assertThat(getDelta()).hasSize(2);\n    }\n</code></pre>\n<p>I think the Test is just as I thought.It repeatly add attribute2=value2 to redis.I really unkown why the Test is writend like that.</p>\n<p>please, who can tell me waht the function of SaveMode.ON_GET_ATTRIBUTE</p>\n"},{"tags":["java","spring-boot","spring-mvc","tomcat","http-status-code-404"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676374227,"post_id":75447023,"comment_id":133120085,"body_markdown":"1. Why port 8081 ? Have you changed Tomcat settings?  2. What is your war file name ? 3. please show your `pom.xml`","body":"1. Why port 8081 ? Have you changed Tomcat settings?  2. What is your war file name ? 3. please show your <code>pom.xml</code>"},{"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"score":0,"creation_date":1676380941,"post_id":75447023,"comment_id":133122127,"body_markdown":"Yes I changed tomcat configs, so the tomcat server doesn&#39;t collide with local tests from intellij IDEA wich run on port 8080. War File name is spring-mvc.war I will add pom.xml","body":"Yes I changed tomcat configs, so the tomcat server doesn&#39;t collide with local tests from intellij IDEA wich run on port 8080. War File name is spring-mvc.war I will add pom.xml"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676382723,"post_id":75447023,"comment_id":133122698,"body_markdown":"Can Tomcat be replaced with another version?","body":"Can Tomcat be replaced with another version?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676383934,"post_id":75447023,"comment_id":133123096,"body_markdown":"Can you change the version of Spring Boot? Is it mandatory that Spring Boot must be 3.x?","body":"Can you change the version of Spring Boot? Is it mandatory that Spring Boot must be 3.x?"}],"answers":[{"tags":[],"owner":{"account_id":6290186,"reputation":766,"user_id":4888150,"display_name":"Mustafa &#199;il"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676373537,"creation_date":1676373537,"answer_id":75447061,"question_id":75447023,"body_markdown":"you need to add `Main.class` to `application.sources(HomeController.class)` instead of `HomeController.class`. Like this:\r\n`application.sources(Main.class)`. ","title":"why am i getting a 404 error at Tomcat 8.5.85 *.war deployment","body":"<p>you need to add <code>Main.class</code> to <code>application.sources(HomeController.class)</code> instead of <code>HomeController.class</code>. Like this:\n<code>application.sources(Main.class)</code>.</p>\n"},{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676426694,"creation_date":1676384804,"answer_id":75449245,"question_id":75447023,"body_markdown":"mini spring boot war for spring boot 2.7.8\r\n\r\n# Project Directory\r\n\r\n```\r\n├── pom.xml\r\n└── src\r\n    └── main\r\n        ├── java\r\n        │&#160;&#160; └── com\r\n        │&#160;&#160;     └── visionthing\r\n        │&#160;&#160;         └── springmvc\r\n        │&#160;&#160;             ├── HomeController.java\r\n        │&#160;&#160;             └── SpringMvcApplication.java\r\n        ├── resources\r\n        │&#160;&#160; └── application.properties\r\n        └── webapp\r\n            └── WEB-INF\r\n                └── jsp\r\n```\r\n\r\n# pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;!--&lt;version&gt;3.0.2&lt;/version&gt;--&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.visionthing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;spring-mvc&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;spring-mvc&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n# SpringMvcApplication.java\r\n\r\n```\r\npackage com.visionthing.springmvc;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class SpringMvcApplication extends SpringBootServletInitializer {\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(SpringMvcApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(SpringMvcApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n# HomeController.java\r\n\r\n```\r\npackage com.visionthing.springmvc;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/spring-mvc&quot;)\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String homePage() {\r\n        return &quot;&lt;p style=&#39;color: green;&#39;&gt;Hello, World&lt;/p&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n# application.properties (optional)\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n# package\r\n\r\n```\r\nmvn clean package\r\n```\r\n\r\nput spring-mvc.war to tomcat/webapps\r\n\r\nstart tomcat\r\n\r\n# test\r\n\r\ncommand line test: `curl http://localhost:8081/spring-mvc/spring-mvc/index`\r\n\r\nbrowser test open : `http://localhost:8081/spring-mvc/spring-mvc/index`\r\n\r\n# conclusion\r\n\r\nWhy I am change spring boot to 2.7.8 ?\r\n\r\nBecause you can test the same project and the same code , just change pom.xml\r\n\r\nSpring boot version to 3.0.2 , and re-package war , you will get 404 again.\r\n\r\nSpring Boot 3.x require JDK 17 , but your pom.xml set source and target to version `1.8`.\r\n\r\nSpring Boot 3.x require Tomcat 10.x , but you use Tomcat 8.x.\r\n\r\nSo I can only provide a minimum example project that can be executed, for your limitation Tomcat 8.x, source and target is set to 1.8.\r\n\r\nIn addition, I removed irrelevant dependencies in pom.xml.\r\n\r\n----\r\n\r\n# UPDATE For Spring Boot 3.0.2\r\n\r\n1. Change `pom.xml`, \r\n\r\n- spring boot version to 3.0.2\r\n- remove compiler configuration : source , target 1.8\r\n\r\n2. Change Tomcat\r\n\r\n- Use Tomcat 10.x\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;!--&lt;version&gt;2.7.8&lt;/version&gt;--&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.visionthing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;spring-mvc&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;spring-mvc&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n## Tomcat 10.x ","title":"why am i getting a 404 error at Tomcat 8.5.85 *.war deployment","body":"<p>mini spring boot war for spring boot 2.7.8</p>\n<h1>Project Directory</h1>\n<pre><code>├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── visionthing\n        │           └── springmvc\n        │               ├── HomeController.java\n        │               └── SpringMvcApplication.java\n        ├── resources\n        │   └── application.properties\n        └── webapp\n            └── WEB-INF\n                └── jsp\n</code></pre>\n<h1>pom.xml</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;!--&lt;version&gt;3.0.2&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;spring-mvc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h1>SpringMvcApplication.java</h1>\n<pre><code>package com.visionthing.springmvc;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SpringMvcApplication extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(SpringMvcApplication.class);\n    }\n    \n    public static void main(String[] args) {\n\n        SpringApplication.run(SpringMvcApplication.class, args);\n    }\n\n}\n</code></pre>\n<h1>HomeController.java</h1>\n<pre><code>package com.visionthing.springmvc;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/spring-mvc&quot;)\npublic class HomeController {\n\n    @GetMapping(&quot;/index&quot;)\n    public String homePage() {\n        return &quot;&lt;p style='color: green;'&gt;Hello, World&lt;/p&gt;&quot;;\n    }\n}\n</code></pre>\n<h1>application.properties (optional)</h1>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<h1>package</h1>\n<pre><code>mvn clean package\n</code></pre>\n<p>put spring-mvc.war to tomcat/webapps</p>\n<p>start tomcat</p>\n<h1>test</h1>\n<p>command line test: <code>curl http://localhost:8081/spring-mvc/spring-mvc/index</code></p>\n<p>browser test open : <code>http://localhost:8081/spring-mvc/spring-mvc/index</code></p>\n<h1>conclusion</h1>\n<p>Why I am change spring boot to 2.7.8 ?</p>\n<p>Because you can test the same project and the same code , just change pom.xml</p>\n<p>Spring boot version to 3.0.2 , and re-package war , you will get 404 again.</p>\n<p>Spring Boot 3.x require JDK 17 , but your pom.xml set source and target to version <code>1.8</code>.</p>\n<p>Spring Boot 3.x require Tomcat 10.x , but you use Tomcat 8.x.</p>\n<p>So I can only provide a minimum example project that can be executed, for your limitation Tomcat 8.x, source and target is set to 1.8.</p>\n<p>In addition, I removed irrelevant dependencies in pom.xml.</p>\n<hr />\n<h1>UPDATE For Spring Boot 3.0.2</h1>\n<ol>\n<li>Change <code>pom.xml</code>,</li>\n</ol>\n<ul>\n<li>spring boot version to 3.0.2</li>\n<li>remove compiler configuration : source , target 1.8</li>\n</ul>\n<ol start=\"2\">\n<li>Change Tomcat</li>\n</ol>\n<ul>\n<li>Use Tomcat 10.x</li>\n</ul>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;!--&lt;version&gt;2.7.8&lt;/version&gt;--&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;spring-mvc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>Tomcat 10.x</h2>\n"}],"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75449245,"answer_count":2,"score":0,"last_activity_date":1676426694,"creation_date":1676373322,"question_id":75447023,"body_markdown":"I&#39;m trying to deploy a simple spring boot project on tomcat server.\r\n\r\nLocally via Intellij IDEA everything is working.\r\n\r\n\r\nThis is my RestController:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/spring-mvc&quot;)\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String homePage() {\r\n        return &quot;&lt;p style=&#39;color: green;&#39;&gt;Hello, World&lt;/p&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThis is my Main Class\r\n\r\n\r\n```\r\n@Configuration\r\n@ComponentScan\r\n@EnableAutoConfiguration\r\npublic class Main extends SpringBootServletInitializer {\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Main.class);\r\n    }\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\nThis is the pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-mvc&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI exported the war via maven cli and moved it to the /webapps folder of my tomcat installation.\r\n\r\ntomcat is running openjdk 19 as well as my local project.\r\n\r\nWhen opening tomcat webui manager the folder shows up, clicking on it redirects me to http://localhost:8081/spring-mvc/ this site displays the 404 error page of tomcat.\r\nas well as\r\nhttp://localhost:8081/spring-mvc/index\r\nhttp://localhost:8081/spring-mvc/spring-mvc/index\r\n\r\n\r\n\r\nI was expecting to see Hello, World written in green on http://localhost:8081/spring-mvc/index\r\n\r\ndid i forget something?\r\n\r\nthanks in regard.\r\n\r\ni&#39;m running linux pop-os based on ubuntu 22.04 LTS","title":"why am i getting a 404 error at Tomcat 8.5.85 *.war deployment","body":"<p>I'm trying to deploy a simple spring boot project on tomcat server.</p>\n<p>Locally via Intellij IDEA everything is working.</p>\n<p>This is my RestController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/spring-mvc&quot;)\npublic class HomeController {\n\n    @GetMapping(&quot;/index&quot;)\n    public String homePage() {\n        return &quot;&lt;p style='color: green;'&gt;Hello, World&lt;/p&gt;&quot;;\n    }\n}\n</code></pre>\n<p>This is my Main Class</p>\n<pre><code>@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Main extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Main.class);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<p>This is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-mvc&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I exported the war via maven cli and moved it to the /webapps folder of my tomcat installation.</p>\n<p>tomcat is running openjdk 19 as well as my local project.</p>\n<p>When opening tomcat webui manager the folder shows up, clicking on it redirects me to http://localhost:8081/spring-mvc/ this site displays the 404 error page of tomcat.\nas well as\nhttp://localhost:8081/spring-mvc/index\nhttp://localhost:8081/spring-mvc/spring-mvc/index</p>\n<p>I was expecting to see Hello, World written in green on http://localhost:8081/spring-mvc/index</p>\n<p>did i forget something?</p>\n<p>thanks in regard.</p>\n<p>i'm running linux pop-os based on ubuntu 22.04 LTS</p>\n"},{"tags":["java","visual-studio-code","jena"],"comments":[{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":0,"creation_date":1676377688,"post_id":75446486,"comment_id":133121130,"body_markdown":"So you want to turn VSCode it into a Java IDE via plugins? Seems like a bad idea, because actual Java IDEs like Eclipse (or even IntelliJ) are laser-focused on Java as opposed to being a generic editor and include tons of java specific functionality which will be hard to replicate. Not saying it&#39;s impossible, maybe VSCode and plugins got significantly better since I checked it out a few years ago, but it feels like you&#39;re setting yourself up for failure. I&#39;d recommend simply checking out Eclipse or IntelliJ (and I say this as someone who writes all code _except_ java in vim).","body":"So you want to turn VSCode it into a Java IDE via plugins? Seems like a bad idea, because actual Java IDEs like Eclipse (or even IntelliJ) are laser-focused on Java as opposed to being a generic editor and include tons of java specific functionality which will be hard to replicate. Not saying it&#39;s impossible, maybe VSCode and plugins got significantly better since I checked it out a few years ago, but it feels like you&#39;re setting yourself up for failure. I&#39;d recommend simply checking out Eclipse or IntelliJ (and I say this as someone who writes all code <i>except</i> java in vim)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676393413,"post_id":75446486,"comment_id":133126358,"body_markdown":"Consult the documentation of the specific plugin you&#39;re using to see how you can add libraries to the classpath of your project. However, I would really recommend using IntelliJ or Eclipse.","body":"Consult the documentation of the specific plugin you&#39;re using to see how you can add libraries to the classpath of your project. However, I would really recommend using IntelliJ or Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676426657,"creation_date":1676426657,"answer_id":75454883,"question_id":75446486,"body_markdown":"Use Java in VSCODE. You need to install the [**Extension Pack for Java**][1], and the [documentation][2] contains more information.\r\n\r\nUse VSCode to open the Java project folder, expand the project structure and display it on the **JAVA PROJECTS** panel.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nClick the plus icon next to *Referenced Libraries* to add a `.jar` file reference. Of course you need to download the Jena library on your machine first.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nOr use the following configuration in setting to add reference.\r\n\r\n```json\r\n&quot;java.project.referencedLibraries&quot;: [\r\n    &quot;/path/to/jena/lib/*.jar&quot;\r\n]\r\n```\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [3]: https://i.stack.imgur.com/iZAbw.png\r\n  [4]: https://i.stack.imgur.com/goAMl.png","title":"How to import apache.jena into Visual Studio Code?","body":"<p>Use Java in VSCODE. You need to install the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\"><strong>Extension Pack for Java</strong></a>, and the <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">documentation</a> contains more information.</p>\n<p>Use VSCode to open the Java project folder, expand the project structure and display it on the <strong>JAVA PROJECTS</strong> panel.</p>\n<p><a href=\"https://i.stack.imgur.com/iZAbw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZAbw.png\" alt=\"enter image description here\" /></a></p>\n<p>Click the plus icon next to <em>Referenced Libraries</em> to add a <code>.jar</code> file reference. Of course you need to download the Jena library on your machine first.</p>\n<p><a href=\"https://i.stack.imgur.com/goAMl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/goAMl.png\" alt=\"enter image description here\" /></a></p>\n<p>Or use the following configuration in setting to add reference.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.referencedLibraries&quot;: [\n    &quot;/path/to/jena/lib/*.jar&quot;\n]\n</code></pre>\n"}],"owner":{"account_id":15083414,"reputation":29,"user_id":10885402,"display_name":"Sofie J&#230;gtvik Benjaminsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676426657,"creation_date":1676370428,"question_id":75446486,"body_markdown":"I am getting started with Jena and semantic technologies (I am taking a class on the topic). The lecturer recommends using Eclipse as IDE, but I would like to use Visual Studio Code. How can I import apache.jena? I would like to get information/error messages as you would with any other library.\r\n\r\nI have had amongst VSCode&#39;s extensions, but did not find any support. \r\nI include &quot;import org.apache.jena.rdf.model.*;&quot; and get a &quot;not found&quot; error when I try to compile - unless I also include &quot;-cp &quot;/path/to/apacha/jena/on/my/computer/*:.&quot; when compiling and running the program. \r\n\r\nThe goal is to be able to compile and run without having to include a path to the library and if possible, for VSCode to have an understand of the library (giving me warnings, suggestions, error messages osv.)","title":"How to import apache.jena into Visual Studio Code?","body":"<p>I am getting started with Jena and semantic technologies (I am taking a class on the topic). The lecturer recommends using Eclipse as IDE, but I would like to use Visual Studio Code. How can I import apache.jena? I would like to get information/error messages as you would with any other library.</p>\n<p>I have had amongst VSCode's extensions, but did not find any support.\nI include &quot;import org.apache.jena.rdf.model.<em>;&quot; and get a &quot;not found&quot; error when I try to compile - unless I also include &quot;-cp &quot;/path/to/apacha/jena/on/my/computer/</em>:.&quot; when compiling and running the program.</p>\n<p>The goal is to be able to compile and run without having to include a path to the library and if possible, for VSCode to have an understand of the library (giving me warnings, suggestions, error messages osv.)</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676341550,"post_id":75442882,"comment_id":133113785,"body_markdown":"I&#39;m not sure what you mean? It seems like you just want `matcher.group(2) + matcher.group(3) + matcher.group(1)`?","body":"I&#39;m not sure what you mean? It seems like you just want <code>matcher.group(2) + matcher.group(3) + matcher.group(1)</code>?"},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676341652,"post_id":75442882,"comment_id":133113794,"body_markdown":"@Sweeper true... maybe the example is not general enough... let me edit it.","body":"@Sweeper true... maybe the example is not general enough... let me edit it."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676342860,"post_id":75442882,"comment_id":133113911,"body_markdown":"@Sweeper ## Actually, you are right \n- (I couldnt come up with other example -- cuz Java replacemnt syntax is actual simpler than I thought... eg: there is no things like `\\U \\E`) \n- (I should have thought of your simple solution...). \n## *But 2 more questions*: \n- so, to get the replacement, all I need to do is just: convert those literal `$1` into `group(1)` &amp; leave other text as they are, right? -- is there no simpler way to do it?\n- if I am not given the regex replacement string -- I wont know the groups, then can I still get the replacement result?","body":"@Sweeper ## Actually, you are right  - (I couldnt come up with other example -- cuz Java replacemnt syntax is actual simpler than I thought... eg: there is no things like <code>\\U \\E</code>)  - (I should have thought of your simple solution...).  ## <i>But 2 more questions</i>:  - so, to get the replacement, all I need to do is just: convert those literal <code>$1</code> into <code>group(1)</code> &amp; leave other text as they are, right? -- is there no simpler way to do it? - if I am not given the regex replacement string -- I wont know the groups, then can I still get the replacement result?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676343093,"post_id":75442882,"comment_id":133113938,"body_markdown":"I don&#39;t know about you, but I personally think the replacement string syntax is relatively complicated, considering there are escape characters and things. You can see how they parse it in [the source of `appendReplacement`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/regex/Matcher.java#l794).","body":"I don&#39;t know about you, but I personally think the replacement string syntax is relatively complicated, considering there are escape characters and things. You can see how they parse it in <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/regex/Matcher.java#l794\" rel=\"nofollow noreferrer\">the source of <code>appendReplacement</code></a>."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676343588,"post_id":75442882,"comment_id":133113993,"body_markdown":"@Sweeper - That seems like I cant just simply convert those `$1` into `group(1)` (source code process them one character by one character)... \n- Thats also what I afraid &amp; why I was asking for a *standardized function like* `matcher.currentMatchedReplacementResult();` (if such exist) ...","body":"@Sweeper - That seems like I cant just simply convert those <code>$1</code> into <code>group(1)</code> (source code process them one character by one character)...  - Thats also what I afraid &amp; why I was asking for a <i>standardized function like</i> <code>matcher.currentMatchedReplacementResult();</code> (if such exist) ..."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1676349453,"post_id":75442882,"comment_id":133114631,"body_markdown":"Please add some examples of input and expected output to your question. Or is it as simple as `Sample sentence: snake, snail, snow, spider` should produce `Sample enstence: naske, nasil, nosw, pisder`?","body":"Please add some examples of input and expected output to your question. Or is it as simple as <code>Sample sentence: snake, snail, snow, spider</code> should produce <code>Sample enstence: naske, nasil, nosw, pisder</code>?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676426584,"creation_date":1676350066,"answer_id":75443562,"question_id":75442882,"body_markdown":"You can use [`replaceAll(Function&lt;MatchResult, String&gt; replacer)`][1] on a `Matcher` to &quot;intercept&quot; the replacement:\r\n\r\n```java\r\nString input = &quot;Sample sentence: snake, snail, snow, spider&quot;;\r\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\nString result = Pattern.compile(&quot;(s)(.)(.)&quot;).matcher(input)\r\n  .replaceAll(mr -&gt; {\r\n     matches.add(mr.group());\r\n     return mr.group(2) + mr.group(3) + mr.group(1);\r\n  });\r\nSystem.out.println(result);\r\nSystem.out.println(matches);\r\n```\r\n\r\nOutput:\r\n\r\n    Sample enstence: naske, nasil, nosw, pisder\r\n    [sen, sna, sna, sno, spi]\r\n\r\n\r\n  [1]: https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\r\n","title":"How to get each individual replacement result from a Regex replacement?","body":"<p>You can use <a href=\"https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>replaceAll(Function&lt;MatchResult, String&gt; replacer)</code></a> on a <code>Matcher</code> to &quot;intercept&quot; the replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Sample sentence: snake, snail, snow, spider&quot;;\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\nString result = Pattern.compile(&quot;(s)(.)(.)&quot;).matcher(input)\n  .replaceAll(mr -&gt; {\n     matches.add(mr.group());\n     return mr.group(2) + mr.group(3) + mr.group(1);\n  });\nSystem.out.println(result);\nSystem.out.println(matches);\n</code></pre>\n<p>Output:</p>\n<pre><code>Sample enstence: naske, nasil, nosw, pisder\n[sen, sna, sna, sno, spi]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676413916,"creation_date":1676360690,"answer_id":75444744,"question_id":75442882,"body_markdown":"### solution (workaround) Java implementation \r\n\r\n- @logic::\r\n\r\n  &gt; Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.\r\n\r\n- @code::\r\n\r\n  ```java\r\n    public class Test {\r\n    \r\n      public static void main(String[] args) {\r\n        String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\r\n        String regexStrSubstitution = &quot;$2$3x$1&quot;;\r\n        String regexStrMatchFor = &quot;(s)(.)(.).&quot;;\r\n    \r\n        Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\r\n    \r\n        ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\r\n    \r\n        StringBuilder sb_content_SearchOn = new StringBuilder(content_SearchOn);\r\n        StringBuilder sb_content_Replaced = new StringBuilder();\r\n    \r\n        String content_OriPlusCurrAppendSubsti = null;\r\n        StringBuilder sb_CurrAppendSubsti_buffer = null;\r\n    \r\n        int indStart_g0_curr = -1;\r\n        int indEnd_g0_curr = -1;\r\n        int indStart_g0_prev = -1;\r\n        int indEnd_g0_prev = -1;\r\n        while (matcher.find()) {\r\n          // #&gt;&gt;&gt;#\r\n          String regexMatchedWord = matcher.group();\r\n          indStart_g0_curr = matcher.start();\r\n          indEnd_g0_curr = matcher.end();\r\n          arr_regexMatchedWord.add(regexMatchedWord);\r\n    \r\n          // #&gt;&gt;&gt;\r\n          // @main[business logic]::\r\n          \r\n          // &lt;strike&gt; length_sb_content_Replaced_prev = sb_content_Replaced.length();\r\n          // &lt;strike&gt; String regexMatchedSubstitution = sb_content_Replaced.substring(length_sb_content_Replaced_prev);\r\n          // @note: it appends both the `the intervening text` + `the match substitution` ...\r\n          \r\n          //need_check,need_confrim_recall if multi call? // matcher.appendReplacement(new StringBuilder(), regexStrSubstitution); // ok its broken, so cant\r\n          \r\n          //~ matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\r\n          sb_CurrAppendSubsti_buffer = new StringBuilder();\r\n          matcher.appendReplacement(sb_CurrAppendSubsti_buffer, regexStrSubstitution + &quot;_$0&quot;);\r\n          sb_content_Replaced.append(sb_CurrAppendSubsti_buffer);\r\n          // @main;;\r\n          \r\n          // #&gt;&gt;&gt;\r\n          // @main[get the individual replacement result]::\r\n          //~ String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\r\n          if (indEnd_g0_prev == -1) {\r\n            content_OriPlusCurrAppendSubsti = &quot;&quot;;\r\n          } else {\r\n            content_OriPlusCurrAppendSubsti = sb_content_SearchOn.substring(0, indEnd_g0_prev);\r\n          }\r\n          content_OriPlusCurrAppendSubsti += sb_CurrAppendSubsti_buffer;\r\n          String regexMatchedSubstitution = content_OriPlusCurrAppendSubsti.substring(indStart_g0_curr);\r\n          arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\r\n          // @main;;\r\n    \r\n          // #&gt;&gt;&gt;#\r\n          indStart_g0_prev = indStart_g0_curr;\r\n          indEnd_g0_prev = indEnd_g0_curr;\r\n        }\r\n        matcher.appendTail(sb_content_Replaced);\r\n    \r\n        //\r\n        System.out.println(sb_content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\r\n        System.out.println(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\r\n        System.out.println(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\r\n    \r\n      }\r\n    \r\n    }\r\n  ```\r\n\r\n\r\n### solution (workaround) Javascript implementation \r\n\r\n- @logic:: \r\n\r\n  simply brute force with `hardcode string delimiter indicator` in regex\r\n\r\n  1. `replaceAll()` -- add brackets around the `matched replacement` during replacement \r\n\r\n  2. `matchAll()` -- search the `matched replacement` that was enclosed in the brackets\r\n\r\n\r\n- @code (moved from specific example to a general class [here])::\r\n\r\n  ```js\r\n    class RegexUtil {\r\n      // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\n      // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\r\n      /**\r\n       * @param {String} literal_string\r\n       * @returns {String}\r\n       */\r\n      static escapeRegex(literal_string) {\r\n        return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, &#39;\\\\$&amp;&#39;);\r\n      }\r\n\r\n      /**\r\n       * @param {String} string\r\n       * @returns {String}\r\n       */\r\n      static escapeRegexReplacement(string) {\r\n        return string.replace(/\\$/g, &#39;$$$$&#39;);\r\n      }\r\n\r\n      /**\r\n       * @param {String} content_SearchOn \r\n       * @param {RegExp} regexMatchFor \r\n       * @param {String} regexStrSubstitution \r\n       * @param {String} regexFlag \r\n       * @returns {String[]}\r\n       */\r\n      static get_RegexMatchedReplacement(content_SearchOn, regexMatchFor, regexStrSubstitution) {\r\n        const arr_regexMatchedSubstitution = [];\r\n\r\n        let time_now;\r\n        let delim_regexMatchedSub_left;\r\n        let delim_regexMatchedSub_right;\r\n        /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\r\n        let i = 0;\r\n        do {\r\n          i++;\r\n          if (i === 50) {\r\n            throw new Error(&#39;Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)&#39;);\r\n          }\r\n          time_now = Date.now();\r\n          delim_regexMatchedSub_left = &#39;@drmsL&#39; + time_now + &#39;;&#39;;\r\n          delim_regexMatchedSub_right = &#39;@drmsR&#39; + time_now + &#39;;&#39;;\r\n          itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;|&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;g&#39;));\r\n        } while (itr.next().done !== true);\r\n\r\n        const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(regexMatchFor, RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\r\n        itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;(.*?)&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;gs&#39;)); // need flag s\r\n        for (const matcher_curr of itr) {\r\n          arr_regexMatchedSubstitution.push(matcher_curr[1]);\r\n        }\r\n\r\n        return arr_regexMatchedSubstitution;\r\n      }\r\n    }\r\n  ```\r\n\r\n- @code (moved from specific example [here] to a general class)::\r\n\r\n  &lt;strike&gt;\r\n\r\n  ```js\r\n      class RegexUtil {\r\n        // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\n        // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\r\n        /**\r\n         * @param {String} literal_string\r\n         * @returns {String}\r\n         */\r\n        static escapeRegex(literal_string) {\r\n          return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, &#39;\\\\$&amp;&#39;);\r\n        }\r\n\r\n        /**\r\n         * @param {String} string\r\n         * @returns {String}\r\n         */\r\n        static escapeRegexReplacement(string) {\r\n          return string.replace(/\\$/g, &#39;$$$$&#39;);\r\n        }\r\n      }\r\n\r\n      //think aga, to use a generic way to escape special meaning delimiter in regex ...\r\n      const content_SearchOn = &#39;Sample sentence: snake, snail, snow, spider&#39;;\r\n      let regexStrSubstitution = &#39;$2$3x$1&#39;;\r\n      const regexStrMatchFor = &#39;(s)(.)(.).&#39;;\r\n      const regexFlag = &#39;gmd&#39;;\r\n\r\n      regexStrSubstitution += &#39;_$&amp;&#39;;\r\n\r\n      const arr_regexMatchedWord = [];\r\n      const arr_regexMatchedSubstitution = [];\r\n\r\n      let time_now;\r\n      let delim_regexMatchedSub_left;\r\n      let delim_regexMatchedSub_right;\r\n      /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\r\n      let i = 0;\r\n      do {\r\n        i++;\r\n        if (i === 50) {\r\n          throw new Error(&#39;Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)&#39;);\r\n        }\r\n        time_now = Date.now();\r\n        delim_regexMatchedSub_left = &#39;@drmsL&#39; + time_now + &#39;;&#39;;\r\n        delim_regexMatchedSub_right = &#39;@drmsR&#39; + time_now + &#39;;&#39;;\r\n        itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;|&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;g&#39;));\r\n      } while (itr.next().done !== true);\r\n\r\n      const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\r\n      itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;(.*?)&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;gs&#39;)); // need flag s\r\n      for (const matcher_curr of itr) {\r\n        arr_regexMatchedSubstitution.push(matcher_curr[1]);\r\n      }\r\n\r\n      itr = content_SearchOn.matchAll(new RegExp(regexStrMatchFor, regexFlag));\r\n      for (const matcher_curr of itr) {\r\n        arr_regexMatchedWord.push(matcher_curr[0]);\r\n      }\r\n\r\n      const content_Replaced = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), regexStrSubstitution);\r\n\r\n      console.log(content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\r\n      console.log(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\r\n      console.log(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\r\n  ```\r\n\r\n  &lt;/strike&gt;\r\n\r\n\r\n\r\n#### comment (minor)\r\n\r\n- The reason to brute force it with `hardcode string indicator in regex` is that, \r\n\r\n  Javascript is even worse at: \r\n\r\n  - not providing the `appendReplacement()`\r\n\r\n  - `replacer callback function` does not support those `$1` \r\n\r\n    &gt; **Note:** The above-mentioned special replacement patterns do *not* apply for strings returned from the replacer function.\r\n    &gt; \r\n    &gt; https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_the_replacement\r\n\r\n- &gt; replacer callback function does not support those `$1`\r\n\r\n  Which makes this following idea useless (could have work) (complex &amp; low performance) ::\r\n\r\n  &lt;strike&gt;\r\n\r\n  ```js\r\n      for (const matcher_curr of itr_matcher) {\r\n        ind_ReplaceOnlyCurrOne++;\r\n\r\n        let ind_Match = -1;\r\n        function replace_OnlyOneWord_c_for_get_regexMatchedSubstitution(...args) {\r\n          ind_Match++;\r\n          /** @type {String} */ const g0 = args[0]; \r\n          if (ind_Match === ind_ReplaceOnlyCurrOne) {\r\n            // prettier-ignore \r\n            let arg_last = args.at(-1); let ind_g0; let content_SearchOn; let groups;\r\n            // prettier-ignore \r\n            if (typeof arg_last === &#39;string&#39;) { content_SearchOn = arg_last; ind_g0 = args.at(-2); } else { groups = arg_last; content_SearchOn = args.at(-2); ind_g0 = args.at(-3); }\r\n    \r\n            arr_regexMatchedWord.push(g0);\r\n            indStart_g0 = ind_g0;\r\n            indEnd_g0 = ind_g0 + g0.length;\r\n  \r\n            return replacer_main(args);\r\n          } else {\r\n            return RegexUtil.escapeRegexReplacement(g0);\r\n          }\r\n        }\r\n\r\n        const content_ReplacedOnlyCurrOne__P1_Pm_P2 = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), replace_OnlyOneWord_c_for_get_regexMatchedSubstitution);\r\n        const Pm_P2 = content_ReplacedOnlyCurrOne__P1_Pm_P2.slice(indStart_g0);\r\n        const P2 = content_SearchOn.slice(indEnd_g0);\r\n        const regexMatchedSubstitution__Pm = Pm_P2.replaceAll(new RegExp(RegexUtil.escapeRegexp(P2)+&#39;$&#39;, &#39;g&#39;), &#39;&#39;);\r\n        arr_regexMatchedSubstitution.push(regexMatchedSubstitution__Pm);\r\n      }\r\n  ```\r\n\r\n  &lt;/strike&gt;\r\n","title":"How to get each individual replacement result from a Regex replacement?","body":"<h3>solution (workaround) Java implementation</h3>\n<ul>\n<li><p>@logic::</p>\n<blockquote>\n<p>Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.</p>\n</blockquote>\n</li>\n<li><p>@code::</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class Test {\n\n    public static void main(String[] args) {\n      String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\n      String regexStrSubstitution = &quot;$2$3x$1&quot;;\n      String regexStrMatchFor = &quot;(s)(.)(.).&quot;;\n\n      Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\n\n      ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\n      ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\n\n      StringBuilder sb_content_SearchOn = new StringBuilder(content_SearchOn);\n      StringBuilder sb_content_Replaced = new StringBuilder();\n\n      String content_OriPlusCurrAppendSubsti = null;\n      StringBuilder sb_CurrAppendSubsti_buffer = null;\n\n      int indStart_g0_curr = -1;\n      int indEnd_g0_curr = -1;\n      int indStart_g0_prev = -1;\n      int indEnd_g0_prev = -1;\n      while (matcher.find()) {\n        // #&gt;&gt;&gt;#\n        String regexMatchedWord = matcher.group();\n        indStart_g0_curr = matcher.start();\n        indEnd_g0_curr = matcher.end();\n        arr_regexMatchedWord.add(regexMatchedWord);\n\n        // #&gt;&gt;&gt;\n        // @main[business logic]::\n\n        // &lt;strike&gt; length_sb_content_Replaced_prev = sb_content_Replaced.length();\n        // &lt;strike&gt; String regexMatchedSubstitution = sb_content_Replaced.substring(length_sb_content_Replaced_prev);\n        // @note: it appends both the `the intervening text` + `the match substitution` ...\n\n        //need_check,need_confrim_recall if multi call? // matcher.appendReplacement(new StringBuilder(), regexStrSubstitution); // ok its broken, so cant\n\n        //~ matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\n        sb_CurrAppendSubsti_buffer = new StringBuilder();\n        matcher.appendReplacement(sb_CurrAppendSubsti_buffer, regexStrSubstitution + &quot;_$0&quot;);\n        sb_content_Replaced.append(sb_CurrAppendSubsti_buffer);\n        // @main;;\n\n        // #&gt;&gt;&gt;\n        // @main[get the individual replacement result]::\n        //~ String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\n        if (indEnd_g0_prev == -1) {\n          content_OriPlusCurrAppendSubsti = &quot;&quot;;\n        } else {\n          content_OriPlusCurrAppendSubsti = sb_content_SearchOn.substring(0, indEnd_g0_prev);\n        }\n        content_OriPlusCurrAppendSubsti += sb_CurrAppendSubsti_buffer;\n        String regexMatchedSubstitution = content_OriPlusCurrAppendSubsti.substring(indStart_g0_curr);\n        arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\n        // @main;;\n\n        // #&gt;&gt;&gt;#\n        indStart_g0_prev = indStart_g0_curr;\n        indEnd_g0_prev = indEnd_g0_curr;\n      }\n      matcher.appendTail(sb_content_Replaced);\n\n      //\n      System.out.println(sb_content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\n      System.out.println(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\n      System.out.println(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\n\n    }\n\n  }\n</code></pre>\n</li>\n</ul>\n<h3>solution (workaround) Javascript implementation</h3>\n<ul>\n<li><p>@logic::</p>\n<p>simply brute force with <code>hardcode string delimiter indicator</code> in regex</p>\n<ol>\n<li><p><code>replaceAll()</code> -- add brackets around the <code>matched replacement</code> during replacement</p>\n</li>\n<li><p><code>matchAll()</code> -- search the <code>matched replacement</code> that was enclosed in the brackets</p>\n</li>\n</ol>\n</li>\n<li><p>@code (moved from specific example to a general class [here])::</p>\n<pre class=\"lang-js prettyprint-override\"><code>  class RegexUtil {\n    // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n    /**\n     * @param {String} literal_string\n     * @returns {String}\n     */\n    static escapeRegex(literal_string) {\n      return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, '\\\\$&amp;');\n    }\n\n    /**\n     * @param {String} string\n     * @returns {String}\n     */\n    static escapeRegexReplacement(string) {\n      return string.replace(/\\$/g, '$$$$');\n    }\n\n    /**\n     * @param {String} content_SearchOn \n     * @param {RegExp} regexMatchFor \n     * @param {String} regexStrSubstitution \n     * @param {String} regexFlag \n     * @returns {String[]}\n     */\n    static get_RegexMatchedReplacement(content_SearchOn, regexMatchFor, regexStrSubstitution) {\n      const arr_regexMatchedSubstitution = [];\n\n      let time_now;\n      let delim_regexMatchedSub_left;\n      let delim_regexMatchedSub_right;\n      /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\n      let i = 0;\n      do {\n        i++;\n        if (i === 50) {\n          throw new Error('Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)');\n        }\n        time_now = Date.now();\n        delim_regexMatchedSub_left = '@drmsL' + time_now + ';';\n        delim_regexMatchedSub_right = '@drmsR' + time_now + ';';\n        itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '|' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'g'));\n      } while (itr.next().done !== true);\n\n      const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(regexMatchFor, RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\n      itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '(.*?)' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'gs')); // need flag s\n      for (const matcher_curr of itr) {\n        arr_regexMatchedSubstitution.push(matcher_curr[1]);\n      }\n\n      return arr_regexMatchedSubstitution;\n    }\n  }\n</code></pre>\n</li>\n<li><p>@code (moved from specific example [here] to a general class)::</p>\n<strike>\n<pre class=\"lang-js prettyprint-override\"><code>    class RegexUtil {\n      // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n      // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n      /**\n       * @param {String} literal_string\n       * @returns {String}\n       */\n      static escapeRegex(literal_string) {\n        return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, '\\\\$&amp;');\n      }\n\n      /**\n       * @param {String} string\n       * @returns {String}\n       */\n      static escapeRegexReplacement(string) {\n        return string.replace(/\\$/g, '$$$$');\n      }\n    }\n\n    //think aga, to use a generic way to escape special meaning delimiter in regex ...\n    const content_SearchOn = 'Sample sentence: snake, snail, snow, spider';\n    let regexStrSubstitution = '$2$3x$1';\n    const regexStrMatchFor = '(s)(.)(.).';\n    const regexFlag = 'gmd';\n\n    regexStrSubstitution += '_$&amp;';\n\n    const arr_regexMatchedWord = [];\n    const arr_regexMatchedSubstitution = [];\n\n    let time_now;\n    let delim_regexMatchedSub_left;\n    let delim_regexMatchedSub_right;\n    /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\n    let i = 0;\n    do {\n      i++;\n      if (i === 50) {\n        throw new Error('Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)');\n      }\n      time_now = Date.now();\n      delim_regexMatchedSub_left = '@drmsL' + time_now + ';';\n      delim_regexMatchedSub_right = '@drmsR' + time_now + ';';\n      itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '|' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'g'));\n    } while (itr.next().done !== true);\n\n    const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\n    itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '(.*?)' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'gs')); // need flag s\n    for (const matcher_curr of itr) {\n      arr_regexMatchedSubstitution.push(matcher_curr[1]);\n    }\n\n    itr = content_SearchOn.matchAll(new RegExp(regexStrMatchFor, regexFlag));\n    for (const matcher_curr of itr) {\n      arr_regexMatchedWord.push(matcher_curr[0]);\n    }\n\n    const content_Replaced = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), regexStrSubstitution);\n\n    console.log(content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\n    console.log(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\n    console.log(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\n</code></pre>\n</strike>\n</li>\n</ul>\n<h4>comment (minor)</h4>\n<ul>\n<li><p>The reason to brute force it with <code>hardcode string indicator in regex</code> is that,</p>\n<p>Javascript is even worse at:</p>\n<ul>\n<li><p>not providing the <code>appendReplacement()</code></p>\n</li>\n<li><p><code>replacer callback function</code> does not support those <code>$1</code></p>\n<blockquote>\n<p><strong>Note:</strong> The above-mentioned special replacement patterns do <em>not</em> apply for strings returned from the replacer function.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_the_replacement\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_the_replacement</a></p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<blockquote>\n<p>replacer callback function does not support those <code>$1</code></p>\n</blockquote>\n<p>Which makes this following idea useless (could have work) (complex &amp; low performance) ::</p>\n<strike>\n<pre class=\"lang-js prettyprint-override\"><code>    for (const matcher_curr of itr_matcher) {\n      ind_ReplaceOnlyCurrOne++;\n\n      let ind_Match = -1;\n      function replace_OnlyOneWord_c_for_get_regexMatchedSubstitution(...args) {\n        ind_Match++;\n        /** @type {String} */ const g0 = args[0]; \n        if (ind_Match === ind_ReplaceOnlyCurrOne) {\n          // prettier-ignore \n          let arg_last = args.at(-1); let ind_g0; let content_SearchOn; let groups;\n          // prettier-ignore \n          if (typeof arg_last === 'string') { content_SearchOn = arg_last; ind_g0 = args.at(-2); } else { groups = arg_last; content_SearchOn = args.at(-2); ind_g0 = args.at(-3); }\n\n          arr_regexMatchedWord.push(g0);\n          indStart_g0 = ind_g0;\n          indEnd_g0 = ind_g0 + g0.length;\n\n          return replacer_main(args);\n        } else {\n          return RegexUtil.escapeRegexReplacement(g0);\n        }\n      }\n\n      const content_ReplacedOnlyCurrOne__P1_Pm_P2 = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), replace_OnlyOneWord_c_for_get_regexMatchedSubstitution);\n      const Pm_P2 = content_ReplacedOnlyCurrOne__P1_Pm_P2.slice(indStart_g0);\n      const P2 = content_SearchOn.slice(indEnd_g0);\n      const regexMatchedSubstitution__Pm = Pm_P2.replaceAll(new RegExp(RegexUtil.escapeRegexp(P2)+'$', 'g'), '');\n      arr_regexMatchedSubstitution.push(regexMatchedSubstitution__Pm);\n    }\n</code></pre>\n</strike>\n</li>\n</ul>\n"}],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676426584,"creation_date":1676340996,"question_id":75442882,"body_markdown":"### question \r\n\r\nHow to get **each individual replacement result** from a Regex replacement?\r\n\r\n### ex\r\n\r\n`String regexMatchedWord = matcher.group();` allows me to access the current matched result; \r\n\r\nBut is there something like `String regexMatchedSubstitution = matcher.currentMatchedReplacementResult();` allows me to access **the current replacement result**?\r\n\r\n\r\n```java\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\r\n    String regexStrSubstitution = &quot;$2$3$1&quot;;\r\n    String regexStrMatchFor = &quot;(s)(.)(.)&quot;;\r\n\r\n    Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\r\n\r\n    ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\r\n\r\n    StringBuilder sb_content_Replaced = new StringBuilder();\r\n    while (matcher.find()) {\r\n      String regexMatchedWord = matcher.group();\r\n      arr_regexMatchedWord.add(regexMatchedWord);\r\n\r\n      matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\r\n\r\n      String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\r\n      arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\r\n    }\r\n    matcher.appendTail(sb_content_Replaced);\r\n\r\n    System.out.println(sb_content_Replaced); // Sample enstence: naske, nasil, nosw, pisder\r\n    System.out.println(arr_regexMatchedWord); // [sen, sna, sna, sno, spi]\r\n    System.out.println(arr_regexMatchedSubstitution); // [ens, nas, nas, nos, pis] // &lt;&lt; expect\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n### comments\r\n\r\n- if Java is not able to do this, is there any other language able to? (Javascript? Python?)\r\n\r\n---\r\n\r\n***Update***: potential solution (workaround)\r\n\r\n- (as talked in the comment) A simple possible way might be: \r\n\r\n  convert those `$1` into `group(1)` programmatically, \r\n\r\n  but you have to watch out for the escape characters like `\\` that has special meaning...\r\n\r\n- Another way might be:\r\n\r\n  use Reflection to somehow get the local variable `result` in the source code `appendExpandedReplacement(replacement, result);` of `java.util.regex.Matcher.appendReplacement(StringBuilder, String)`\r\n\r\n  ```java\r\n    public Matcher appendReplacement(StringBuilder sb, String replacement) {\r\n        // If no match, return error\r\n        if (first &lt; 0)\r\n            throw new IllegalStateException(&quot;No match available&quot;);\r\n        StringBuilder result = new StringBuilder();\r\n        appendExpandedReplacement(replacement, result);\r\n        // Append the intervening text\r\n        sb.append(text, lastAppendPosition, first);\r\n        // Append the match substitution\r\n        sb.append(result);\r\n        lastAppendPosition = last;\r\n        modCount++;\r\n        return this;\r\n    }\r\n  ```\r\n\r\n- Or:\r\n\r\n  Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.","title":"How to get each individual replacement result from a Regex replacement?","body":"<h3>question</h3>\n<p>How to get <strong>each individual replacement result</strong> from a Regex replacement?</p>\n<h3>ex</h3>\n<p><code>String regexMatchedWord = matcher.group();</code> allows me to access the current matched result;</p>\n<p>But is there something like <code>String regexMatchedSubstitution = matcher.currentMatchedReplacementResult();</code> allows me to access <strong>the current replacement result</strong>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  public static void main(String[] args) {\n    String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\n    String regexStrSubstitution = &quot;$2$3$1&quot;;\n    String regexStrMatchFor = &quot;(s)(.)(.)&quot;;\n\n    Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\n\n    ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\n\n    StringBuilder sb_content_Replaced = new StringBuilder();\n    while (matcher.find()) {\n      String regexMatchedWord = matcher.group();\n      arr_regexMatchedWord.add(regexMatchedWord);\n\n      matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\n\n      String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\n      arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\n    }\n    matcher.appendTail(sb_content_Replaced);\n\n    System.out.println(sb_content_Replaced); // Sample enstence: naske, nasil, nosw, pisder\n    System.out.println(arr_regexMatchedWord); // [sen, sna, sna, sno, spi]\n    System.out.println(arr_regexMatchedSubstitution); // [ens, nas, nas, nos, pis] // &lt;&lt; expect\n\n  }\n\n}\n</code></pre>\n<h3>comments</h3>\n<ul>\n<li>if Java is not able to do this, is there any other language able to? (Javascript? Python?)</li>\n</ul>\n<hr />\n<p><em><strong>Update</strong></em>: potential solution (workaround)</p>\n<ul>\n<li><p>(as talked in the comment) A simple possible way might be:</p>\n<p>convert those <code>$1</code> into <code>group(1)</code> programmatically,</p>\n<p>but you have to watch out for the escape characters like <code>\\</code> that has special meaning...</p>\n</li>\n<li><p>Another way might be:</p>\n<p>use Reflection to somehow get the local variable <code>result</code> in the source code <code>appendExpandedReplacement(replacement, result);</code> of <code>java.util.regex.Matcher.appendReplacement(StringBuilder, String)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>  public Matcher appendReplacement(StringBuilder sb, String replacement) {\n      // If no match, return error\n      if (first &lt; 0)\n          throw new IllegalStateException(&quot;No match available&quot;);\n      StringBuilder result = new StringBuilder();\n      appendExpandedReplacement(replacement, result);\n      // Append the intervening text\n      sb.append(text, lastAppendPosition, first);\n      // Append the match substitution\n      sb.append(result);\n      lastAppendPosition = last;\n      modCount++;\n      return this;\n  }\n</code></pre>\n</li>\n<li><p>Or:</p>\n<p>Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.</p>\n</li>\n</ul>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1676427174,"post_id":75454832,"comment_id":133133505,"body_markdown":"Note sure if it&#39;s related to your issue, but I strongly recommend you use a `PreparedStatement` and set the parameters instead of building a SQL statement via string concatenation.","body":"Note sure if it&#39;s related to your issue, but I strongly recommend you use a <code>PreparedStatement</code> and set the parameters instead of building a SQL statement via string concatenation."},{"owner":{"account_id":22244359,"reputation":3,"user_id":16478298,"display_name":"Lenza"},"score":0,"creation_date":1676427628,"post_id":75454832,"comment_id":133133560,"body_markdown":"ok i will try to use PreparedStatement, may i ask why i should do that?","body":"ok i will try to use PreparedStatement, may i ask why i should do that?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676427929,"post_id":75454832,"comment_id":133133588,"body_markdown":"https://stackoverflow.com/questions/3271249/difference-between-statement-and-preparedstatement","body":"<a href=\"https://stackoverflow.com/questions/3271249/difference-between-statement-and-preparedstatement\" title=\"difference between statement and preparedstatement\">stackoverflow.com/questions/3271249/&hellip;</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1676430359,"post_id":75454832,"comment_id":133133862,"body_markdown":"try and use: `fileakhir.getAbsolutePath().replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;)` instead of: `fileakhir.toString()`.","body":"try and use: <code>fileakhir.getAbsolutePath().replaceAll(&quot;\\\\\\\\&quot;, &quot;&#47;&quot;)</code> instead of: <code>fileakhir.toString()</code>."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1676430769,"post_id":75454832,"comment_id":133133915,"body_markdown":"You can store a string like &quot;src/upload/nameofimage.jpg&quot; (or &quot;src\\upload\\nameofimage.jpg&quot;) in the MySQL database table column of type VARCHAR. If you have the file object defined as `File` or `Path`, just use the `fileobject.toString()` to get its string value and insert into the table. This should work fine.","body":"You can store a string like &quot;src/upload/nameofimage.jpg&quot; (or &quot;src\\upload\\nameofimage.jpg&quot;) in the MySQL database table column of type VARCHAR. If you have the file object defined as <code>File</code> or <code>Path</code>, just use the <code>fileobject.toString()</code> to get its string value and insert into the table. This should work fine."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676436395,"post_id":75454832,"comment_id":133134550,"body_markdown":"&quot;_may i ask why i should do that?_&quot; -- The Q&amp;A linked by tgdavies should answer your question. Probably the most important reason to use `PreparedStatement` is it prevents [SQL injection attacks](https://en.wikipedia.org/wiki/SQL_injection) by properly escaping special characters.","body":"&quot;<i>may i ask why i should do that?</i>&quot; -- The Q&amp;A linked by tgdavies should answer your question. Probably the most important reason to use <code>PreparedStatement</code> is it prevents <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL injection attacks</a> by properly escaping special characters."}],"owner":{"account_id":22244359,"reputation":3,"user_id":16478298,"display_name":"Lenza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676425848,"creation_date":1676425848,"question_id":75454832,"body_markdown":"I want to upload a path of an image to mysql database but whenever i tried to upload it, it always upload the path without &#39;/&#39;. example i have a file in src/upload/nameofimage.jpg, in the database it&#39;s srcuploadnameofimage.jpg\r\n\r\nhere is the upload button that i have\r\n```\r\ntry {\r\n            String newpath = &quot;src/upload&quot;;\r\n            File directory = new File(newpath);\r\n            if (!directory.exists()) {\r\n                directory.mkdirs();\r\n            }\r\n            File fileawal = null;\r\n            File fileakhir = null;\r\n            String ext = this.filename.substring(filename.lastIndexOf(&#39;.&#39;)+1);\r\n            fileawal = new File(filename);\r\n            System.out.println(newpath);\r\n            fileakhir = new File(newpath+&quot;/&quot;+Nik.getText()+&quot;.&quot;+ext);\r\n            System.out.println(fileakhir);\r\n            stat = koneksi.createStatement();\r\n            stat.executeUpdate(&quot;insert into user values (&#39;&quot; + Nik.getText() + &quot;&#39;,&#39;&quot; + Nama.getText() + &quot;&#39;,&#39;&quot; + fileakhir.toString() + &quot;&#39;)&quot;);\r\n            System.out.println(fileakhir.toString());\r\n            JOptionPane.showMessageDialog(null, &quot;Akun Sudah Terdaftar, Silahkan Kembali Login&quot;);\r\n            Files.copy(fileawal.toPath(), fileakhir.toPath());\r\n            Login log = new Login();\r\n            log.setVisible(true);\r\n            this.setVisible(false);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e.getMessage());\r\n        }\r\n```\r\nand this is the image picker button that i have\r\n\r\n\r\n```\r\ntry {\r\n                JFileChooser chooser = new JFileChooser();\r\n                chooser.showOpenDialog(null);\r\n                File f = chooser.getSelectedFile();\r\n                ImageIcon icon = new ImageIcon(f.toString());\r\n                Image img = icon.getImage().getScaledInstance(Foto.getWidth(), Foto.getHeight(), Image.SCALE_DEFAULT);\r\n                ImageIcon ic = new ImageIcon(img);\r\n                Foto.setIcon(ic);\r\n                filename = f.getAbsolutePath();\r\n            } catch (Exception e) {\r\n                JOptionPane.showMessageDialog(null, e.getMessage());\r\n            }\r\n```\r\n\r\n\r\nI have tried using .toString(), .getPath(), .getAbsolutePath(), but none of them include &#39;/&#39; in the database","title":"Java Uploading Image Path To Mysql Missing &#39;/&#39;","body":"<p>I want to upload a path of an image to mysql database but whenever i tried to upload it, it always upload the path without '/'. example i have a file in src/upload/nameofimage.jpg, in the database it's srcuploadnameofimage.jpg</p>\n<p>here is the upload button that i have</p>\n<pre><code>try {\n            String newpath = &quot;src/upload&quot;;\n            File directory = new File(newpath);\n            if (!directory.exists()) {\n                directory.mkdirs();\n            }\n            File fileawal = null;\n            File fileakhir = null;\n            String ext = this.filename.substring(filename.lastIndexOf('.')+1);\n            fileawal = new File(filename);\n            System.out.println(newpath);\n            fileakhir = new File(newpath+&quot;/&quot;+Nik.getText()+&quot;.&quot;+ext);\n            System.out.println(fileakhir);\n            stat = koneksi.createStatement();\n            stat.executeUpdate(&quot;insert into user values ('&quot; + Nik.getText() + &quot;','&quot; + Nama.getText() + &quot;','&quot; + fileakhir.toString() + &quot;')&quot;);\n            System.out.println(fileakhir.toString());\n            JOptionPane.showMessageDialog(null, &quot;Akun Sudah Terdaftar, Silahkan Kembali Login&quot;);\n            Files.copy(fileawal.toPath(), fileakhir.toPath());\n            Login log = new Login();\n            log.setVisible(true);\n            this.setVisible(false);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e.getMessage());\n        }\n</code></pre>\n<p>and this is the image picker button that i have</p>\n<pre><code>try {\n                JFileChooser chooser = new JFileChooser();\n                chooser.showOpenDialog(null);\n                File f = chooser.getSelectedFile();\n                ImageIcon icon = new ImageIcon(f.toString());\n                Image img = icon.getImage().getScaledInstance(Foto.getWidth(), Foto.getHeight(), Image.SCALE_DEFAULT);\n                ImageIcon ic = new ImageIcon(img);\n                Foto.setIcon(ic);\n                filename = f.getAbsolutePath();\n            } catch (Exception e) {\n                JOptionPane.showMessageDialog(null, e.getMessage());\n            }\n</code></pre>\n<p>I have tried using .toString(), .getPath(), .getAbsolutePath(), but none of them include '/' in the database</p>\n"},{"tags":["java","maven-surefire-plugin","instrumentation"],"answers":[{"tags":[],"owner":{"account_id":810005,"reputation":249,"user_id":905087,"display_name":"jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676425841,"creation_date":1676425841,"answer_id":75454830,"question_id":75454600,"body_markdown":"I think I have figured it out -- actually it is rather easy, I am so used to lambdas that I did not see the obvious. This seems to work:\r\n\r\n```\r\nnew AgentBuilder.Default()\r\n..\r\n.transform(\r\n   new AgentBuilder.Transformer() {\r\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule) {\r\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\r\n      }\r\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule,ProtectionDomain pd) {\r\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\r\n      }\r\n   }\r\n)\r\n``` \r\n\r\nI.e. just overload `transform` to support the two API versions.  ","title":"Issue caused by bytebuddy AgentBuilder$Transformer API changes","body":"<p>I think I have figured it out -- actually it is rather easy, I am so used to lambdas that I did not see the obvious. This seems to work:</p>\n<pre><code>new AgentBuilder.Default()\n..\n.transform(\n   new AgentBuilder.Transformer() {\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule) {\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\n      }\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule,ProtectionDomain pd) {\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\n      }\n   }\n)\n</code></pre>\n<p>I.e. just overload <code>transform</code> to support the two API versions.</p>\n"}],"owner":{"account_id":810005,"reputation":249,"user_id":905087,"display_name":"jens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676425841,"creation_date":1676422595,"question_id":75454600,"body_markdown":"I am using bytebuddy to instrument method calls in tests. I am running into this issue:\r\n\r\n\r\n*Agent Error: java.lang.AbstractMethodError: Receiver class nz.ac.wgtn.nullannoinference.agent.NullLoggerAgent$4 does not define or inherit an implementation of the resolved method abstract transform(Lnet/bytebuddy/dynamic/DynamicType$Builder;Lnet/bytebuddy/description/type/TypeDescription;Ljava/lang/ClassLoader;Lnet/bytebuddy/utility/JavaModule;Ljava/security/ProtectionDomain;)Lnet/bytebuddy/dynamic/DynamicType$Builder; of interface net.bytebuddy.agent.builder.AgentBuilder$Transformer.*\r\n\r\n\r\n\r\nThe critical issue is the last parameter of `AgentBuilder$Transformer::transform` of type `ProtectionDomain`. In version 1.10.20 this is abscent. I could upgrade but this does not solve my issue as I cannot control the version of bytebuddy being used as many of the programs I want to instrument already have a bytebuddy dependency through mockito, often a slightly older version.\r\n\r\nPerhaps shading could work. Any advise how to proceed here ? I could always write multiple versions of the agent for different versions of bytebuddy but this seems very clumsy, and a maintenance nightmare. \r\n","title":"Issue caused by bytebuddy AgentBuilder$Transformer API changes","body":"<p>I am using bytebuddy to instrument method calls in tests. I am running into this issue:</p>\n<p><em>Agent Error: java.lang.AbstractMethodError: Receiver class nz.ac.wgtn.nullannoinference.agent.NullLoggerAgent$4 does not define or inherit an implementation of the resolved method abstract transform(Lnet/bytebuddy/dynamic/DynamicType$Builder;Lnet/bytebuddy/description/type/TypeDescription;Ljava/lang/ClassLoader;Lnet/bytebuddy/utility/JavaModule;Ljava/security/ProtectionDomain;)Lnet/bytebuddy/dynamic/DynamicType$Builder; of interface net.bytebuddy.agent.builder.AgentBuilder$Transformer.</em></p>\n<p>The critical issue is the last parameter of <code>AgentBuilder$Transformer::transform</code> of type <code>ProtectionDomain</code>. In version 1.10.20 this is abscent. I could upgrade but this does not solve my issue as I cannot control the version of bytebuddy being used as many of the programs I want to instrument already have a bytebuddy dependency through mockito, often a slightly older version.</p>\n<p>Perhaps shading could work. Any advise how to proceed here ? I could always write multiple versions of the agent for different versions of bytebuddy but this seems very clumsy, and a maintenance nightmare.</p>\n"},{"tags":["java","spring-boot","netty","webclient","spring-webflux"],"comments":[{"owner":{"account_id":8854143,"reputation":1257,"user_id":6612401,"accept_rate":100,"display_name":"Evgeny Mamaev"},"score":0,"creation_date":1598014431,"post_id":63521577,"comment_id":112327830,"body_markdown":"Check if you have anything running on 127.0.0.1:8090. Use `sudo lsof -i -P -n | grep 8090`","body":"Check if you have anything running on 127.0.0.1:8090. Use <code>sudo lsof -i -P -n | grep 8090</code>"}],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598013249,"creation_date":1598013249,"answer_id":63523037,"question_id":63521577,"body_markdown":"Connection refused means that there was no server listening on the address:port. You can check with `netstat -tulpen` what ports are open on which address.","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>Connection refused means that there was no server listening on the address:port. You can check with <code>netstat -tulpen</code> what ports are open on which address.</p>\n"},{"tags":[],"owner":{"account_id":7637194,"reputation":39,"user_id":5790407,"display_name":"Dat Tran"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1608394181,"creation_date":1608394181,"answer_id":65371805,"question_id":63521577,"body_markdown":"No, we can not call direct by localhost, the term here is &quot;container call container&quot;, so, we should call together by container name.\r\n1. change the docker-compose like this:\r\n \r\n\r\n&gt;     order-service:\r\n&gt;       build: docker/order-service\r\n&gt;       container_name: order-service\r\n&gt;       ports:\r\n&gt;         - 8082:8080\r\n\r\n2. And then, in the client service, we just define host like below:\r\n\r\n&gt; private String hostname =\r\n&gt; &quot;http://order-service:8080/order-service/welcome&quot;;\r\n\r\nYou can see, when we call order service by browser (real client), we call throught extend port (8082), but in case container call container, we should call by it`s container`s name and it`s port (8080).","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>No, we can not call direct by localhost, the term here is &quot;container call container&quot;, so, we should call together by container name.</p>\n<ol>\n<li>change the docker-compose like this:</li>\n</ol>\n<blockquote>\n<pre><code>order-service:\n  build: docker/order-service\n  container_name: order-service\n  ports:\n    - 8082:8080\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>And then, in the client service, we just define host like below:</li>\n</ol>\n<blockquote>\n<p>private String hostname =\n&quot;http://order-service:8080/order-service/welcome&quot;;</p>\n</blockquote>\n<p>You can see, when we call order service by browser (real client), we call throught extend port (8082), but in case container call container, we should call by it<code>s container</code>s name and it`s port (8080).</p>\n"},{"tags":[],"owner":{"account_id":11916694,"reputation":81,"user_id":8720427,"display_name":"GeorgeKN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676424247,"creation_date":1676424247,"answer_id":75454711,"question_id":63521577,"body_markdown":"I also had the same issue, while running my application, but I found out that the issue was that I had two micro-services that were having the same name in the application.yml. \r\nKindly confirm that all the micro-services you have defined have unique name and ports. ","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>I also had the same issue, while running my application, but I found out that the issue was that I had two micro-services that were having the same name in the application.yml.\nKindly confirm that all the micro-services you have defined have unique name and ports.</p>\n"}],"owner":{"account_id":13708074,"reputation":33,"user_id":9891125,"display_name":"Abdulmalik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26855,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1676424247,"creation_date":1598007540,"question_id":63521577,"body_markdown":"I&#39;m having this error while using webclient in localhost, can you help me guys ?? \r\n\r\n    ERROR                  org.springframework.boot.autoconfigure.web.reactive.error.AbstractErrorWebExceptionHandler - [0e1ef5cd-1]  500 Server Error for HTTP G\r\n    ET &quot;/product/spec/template/posts&quot;\r\n    product      | io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:8090\r\n    product      |  Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\n    product      | Error has been observed at the following site(s):\r\n    product      |  |_ checkpoint ⇢ Request to GET http://localhost:8090/retailer/retailer/posts/12 [DefaultWebClient]\r\n    product      |  |_ checkpoint ⇢ Handler com.zucco.tech.hm.service.product.controller.ProductSpecTemplateController#posts() [DispatcherHandler]\r\n    product      |  |_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n    product      |  |_ checkpoint ⇢ HTTP GET &quot;/product/spec/template/posts&quot; [ExceptionHandlingWebHandler]\r\n    product      | Stack trace:\r\n    product      | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\r\n    product      |  at io.netty.channel.unix.Errors.throwConnectException(Errors.java:124) ~[netty-transport-native-unix-common-4.1.51.Final.jar!/:4.1.51.Final]\r\n\r\n","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>I'm having this error while using webclient in localhost, can you help me guys ??</p>\n<pre><code>ERROR                  org.springframework.boot.autoconfigure.web.reactive.error.AbstractErrorWebExceptionHandler - [0e1ef5cd-1]  500 Server Error for HTTP G\nET &quot;/product/spec/template/posts&quot;\nproduct      | io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:8090\nproduct      |  Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nproduct      | Error has been observed at the following site(s):\nproduct      |  |_ checkpoint ⇢ Request to GET http://localhost:8090/retailer/retailer/posts/12 [DefaultWebClient]\nproduct      |  |_ checkpoint ⇢ Handler com.zucco.tech.hm.service.product.controller.ProductSpecTemplateController#posts() [DispatcherHandler]\nproduct      |  |_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\nproduct      |  |_ checkpoint ⇢ HTTP GET &quot;/product/spec/template/posts&quot; [ExceptionHandlingWebHandler]\nproduct      | Stack trace:\nproduct      | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\nproduct      |  at io.netty.channel.unix.Errors.throwConnectException(Errors.java:124) ~[netty-transport-native-unix-common-4.1.51.Final.jar!/:4.1.51.Final]\n</code></pre>\n"},{"tags":["java","powermock","instrumentation","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":1,"creation_date":1514285746,"post_id":45560472,"comment_id":82923861,"body_markdown":"_&#39;The error indicates that there are two JaCoCo agents configured for the same process&#39;_ this gave me a quick fix!. i had two javaagents configured at two different places in server startup. Removed one and it worked.","body":"<i>&#39;The error indicates that there are two JaCoCo agents configured for the same process&#39;</i> this gave me a quick fix!. i had two javaagents configured at two different places in server startup. Removed one and it worked."},{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1646199285,"post_id":45560472,"comment_id":126061548,"body_markdown":"I am getting the same error but not on my local but on the Jenkins build, how do I know if there ar 2 java agents configured ? @ParamvirSinghKarwal","body":"I am getting the same error but not on my local but on the Jenkins build, how do I know if there ar 2 java agents configured ? @ParamvirSinghKarwal"}],"answers":[{"tags":[],"owner":{"account_id":4733335,"reputation":112,"user_id":3828323,"display_name":"Marco Kunis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502200979,"creation_date":1502174700,"answer_id":45561095,"question_id":45560472,"body_markdown":"I use mockito instead of powermock, but I do not think that there is any difference for the usage with sonar. I use the [Sonar Maven Scanner](https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner+for+Maven) for the anlysis and it works like a charm.\r\n\r\nMy pom.xml contains the following properties\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.source.version&gt;1.8&lt;/project.source.version&gt;\r\n\t\t&lt;project.target.version&gt;${project.source.version}&lt;/project.target.version&gt;\r\n\t\t&lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\r\n\t\t&lt;jacoco.maven.version&gt;0.7.9&lt;/jacoco.maven.version&gt;\r\n\t\t&lt;sonar.projectName&gt;MyProject&lt;/sonar.projectName&gt;\r\n        &lt;sonar.projectKey&gt;my-project-key&lt;/sonar.projectKey&gt;\r\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n\t&lt;/properties&gt;   \r\n\r\nand the plugins are configured as follows\r\n\r\n    &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${project.source.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${project.target.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jacoco.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\nYou can run the analysis with\r\n\r\n    mvn clean install sonar:sonar\r\n\r\nThis generates a the default exec file lacated at target/jacoco.exec wich will be used by your local sonarqube server and contains also the coverage.\r\n\r\n----------------------\r\n**Updated answer**\r\n\r\nTested it with powermock. I used the [powermock jacoco-offline example](https://github.com/powermock/powermock-examples-maven/tree/master/jacoco-offline) and just adapted it a little bit.\r\n\r\nThe pom.xml is then\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-offline&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;name&gt;JaCoCo Offline with PowerMock&lt;/name&gt;\r\n    &lt;description&gt;\r\n        Example how to get code coverage with PowerMock\r\n    &lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;jacoco.version&gt;0.7.9&lt;/jacoco.version&gt;\r\n\t\t&lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\r\n        &lt;!-- Used to locate the profile specific configuration file. --&gt;\r\n        &lt;build.profile.id&gt;dev&lt;/build.profile.id&gt;\r\n\r\n        &lt;jacoco.it.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/jacoco.it.execution.data.file&gt;\r\n        &lt;jacoco.ut.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/jacoco.ut.execution.data.file&gt;\r\n\r\n        &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;!-- Only unit tests are run by default. --&gt;\r\n        &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n        \r\n        &lt;powermock.version&gt;1.7.0&lt;/powermock.version&gt;\r\n        &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.6&lt;/maven.compiler.target&gt;\r\n        &lt;mockito1.version&gt;1.10.19&lt;/mockito1.version&gt;\r\n        &lt;mockito2.version&gt;2.8.9&lt;/mockito2.version&gt;\r\n        &lt;easymock.version&gt;3.4&lt;/easymock.version&gt;\r\n        &lt;assertj-core.version&gt;3.8.0&lt;/assertj-core.version&gt;\r\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n        &lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;\r\n        &lt;commons-lang3.version&gt;3.4&lt;/commons-lang3.version&gt;\r\n        \r\n         &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito-common&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-classloading-xstream&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4-rule-agent&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n                &lt;version&gt;${easymock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${mockito1.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\r\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-instrument&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;instrument&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dataFile&gt;${project.build.directory}/coverage.exec&lt;/dataFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;jacoco-agent.destfile&gt;${project.build.directory}/coverage.exec&lt;/jacoco-agent.destfile&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThats all basic and you are right, I also missed the coverage. After run `mvn clean install` you can see the **coverage.exec** in the target folder. By default sonar is looking for a jacoco.exec file.\r\n\r\nYou can adapt this behaviour by just adding\r\n\r\n    &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n\r\nto the properties section in the pom.xml. After running `mvn clean install sonar:sonar` again the coverage is present in my local sonarqube. Hope this helps you more...","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>I use mockito instead of powermock, but I do not think that there is any difference for the usage with sonar. I use the <a href=\"https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner+for+Maven\" rel=\"nofollow noreferrer\">Sonar Maven Scanner</a> for the anlysis and it works like a charm.</p>\n\n<p>My pom.xml contains the following properties</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.source.version&gt;1.8&lt;/project.source.version&gt;\n    &lt;project.target.version&gt;${project.source.version}&lt;/project.target.version&gt;\n    &lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\n    &lt;jacoco.maven.version&gt;0.7.9&lt;/jacoco.maven.version&gt;\n    &lt;sonar.projectName&gt;MyProject&lt;/sonar.projectName&gt;\n    &lt;sonar.projectKey&gt;my-project-key&lt;/sonar.projectKey&gt;\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n&lt;/properties&gt;   \n</code></pre>\n\n<p>and the plugins are configured as follows</p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${project.source.version}&lt;/source&gt;\n                &lt;target&gt;${project.target.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.maven.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>You can run the analysis with</p>\n\n<pre><code>mvn clean install sonar:sonar\n</code></pre>\n\n<p>This generates a the default exec file lacated at target/jacoco.exec wich will be used by your local sonarqube server and contains also the coverage.</p>\n\n<hr>\n\n<p><strong>Updated answer</strong></p>\n\n<p>Tested it with powermock. I used the <a href=\"https://github.com/powermock/powermock-examples-maven/tree/master/jacoco-offline\" rel=\"nofollow noreferrer\">powermock jacoco-offline example</a> and just adapted it a little bit.</p>\n\n<p>The pom.xml is then</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n</code></pre>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;org.powermock&lt;/groupId&gt;\n&lt;artifactId&gt;jacoco-offline&lt;/artifactId&gt;\n&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;JaCoCo Offline with PowerMock&lt;/name&gt;\n&lt;description&gt;\n    Example how to get code coverage with PowerMock\n&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;jacoco.version&gt;0.7.9&lt;/jacoco.version&gt;\n    &lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\n    &lt;!-- Used to locate the profile specific configuration file. --&gt;\n    &lt;build.profile.id&gt;dev&lt;/build.profile.id&gt;\n\n    &lt;jacoco.it.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/jacoco.it.execution.data.file&gt;\n    &lt;jacoco.ut.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/jacoco.ut.execution.data.file&gt;\n\n    &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;!-- Only unit tests are run by default. --&gt;\n    &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n\n    &lt;powermock.version&gt;1.7.0&lt;/powermock.version&gt;\n    &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.6&lt;/maven.compiler.target&gt;\n    &lt;mockito1.version&gt;1.10.19&lt;/mockito1.version&gt;\n    &lt;mockito2.version&gt;2.8.9&lt;/mockito2.version&gt;\n    &lt;easymock.version&gt;3.4&lt;/easymock.version&gt;\n    &lt;assertj-core.version&gt;3.8.0&lt;/assertj-core.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;\n    &lt;commons-lang3.version&gt;3.4&lt;/commons-lang3.version&gt;\n\n     &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\n\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n        &lt;version&gt;${jacoco.version}&lt;/version&gt;\n        &lt;classifier&gt;runtime&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito-common&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-classloading-xstream&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4-rule-agent&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n            &lt;version&gt;${easymock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;${mockito1.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${jdk.version}&lt;/source&gt;\n                &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-instrument&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;instrument&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;dataFile&gt;${project.build.directory}/coverage.exec&lt;/dataFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;jacoco-agent.destfile&gt;${project.build.directory}/coverage.exec&lt;/jacoco-agent.destfile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Thats all basic and you are right, I also missed the coverage. After run <code>mvn clean install</code> you can see the <strong>coverage.exec</strong> in the target folder. By default sonar is looking for a jacoco.exec file.</p>\n\n<p>You can adapt this behaviour by just adding</p>\n\n<pre><code>&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\n</code></pre>\n\n<p>to the properties section in the pom.xml. After running <code>mvn clean install sonar:sonar</code> again the coverage is present in my local sonarqube. Hope this helps you more...</p>\n"},{"tags":[],"owner":{"account_id":10950827,"reputation":1069,"user_id":8047245,"accept_rate":71,"display_name":"Stuti Verma"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1502434925,"creation_date":1502434925,"answer_id":45628906,"question_id":45560472,"body_markdown":"As per my insight into this research:\r\nIt is possible to also use offline-instrumented classes with the JaCoCo Java agent. In this case, the configuration is taken from the agent options. The agent must be configured in a way that pre-instrumented classes are excluded, e.g. with &quot; **excludes=*** &quot;. Otherwise it will result in error messages on the console if the agent instruments such classes again likewise in your case.\r\n\r\nThe agent jacocoagent.jar is part of the JaCoCo distribution and includes all required dependencies. A Java agent can be activated with the following JVM option:\r\n\r\n*-javaagent:[yourpath/]jacocoagent.jar=[option1]=[value1],[option2]=[value2]*\r\n\r\n\r\nFor JaCoCo agent options, consider the following link:\r\nhttp://www.jacoco.org/jacoco/trunk/doc/agent.html \r\n\r\n\r\n","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>As per my insight into this research:\nIt is possible to also use offline-instrumented classes with the JaCoCo Java agent. In this case, the configuration is taken from the agent options. The agent must be configured in a way that pre-instrumented classes are excluded, e.g. with \" <strong>excludes=*</strong> \". Otherwise it will result in error messages on the console if the agent instruments such classes again likewise in your case.</p>\n\n<p>The agent jacocoagent.jar is part of the JaCoCo distribution and includes all required dependencies. A Java agent can be activated with the following JVM option:</p>\n\n<p><em>-javaagent:[yourpath/]jacocoagent.jar=[option1]=[value1],[option2]=[value2]</em></p>\n\n<p>For JaCoCo agent options, consider the following link:\n<a href=\"http://www.jacoco.org/jacoco/trunk/doc/agent.html\" rel=\"noreferrer\">http://www.jacoco.org/jacoco/trunk/doc/agent.html</a> </p>\n"},{"tags":[],"owner":{"account_id":16562022,"reputation":101,"user_id":11967711,"display_name":"SarangRN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633952931,"creation_date":1633952931,"answer_id":69525722,"question_id":45560472,"body_markdown":"If you are using pom.xml and jacoco plugin for build then you need to update the configuration at &quot;prepare-agent&quot; stage of build so that  pre-instrumented classes are excluded as follows.\r\n\r\n````\r\n   &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t  &lt;plugin&gt;\r\n    \t\t    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t    &lt;executions&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;default-instrument&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t    &lt;goal&gt;instrument&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t      &lt;/execution&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t    &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t      &lt;/execution&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t  &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt; \r\n    \t\t\t&lt;excludes&gt; \r\n    \t\t\t&lt;exclude&gt;*&lt;/exclude&gt; \r\n    \t\t\t&lt;/excludes&gt; \r\n    \t\t\t&lt;/configuration&gt;      \r\n    \t\t      &lt;/execution&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;report&lt;/id&gt;   \r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t  &lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t      &lt;/execution&gt;\r\n    \t\t    &lt;/executions&gt;\r\n    \t\t  &lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t      &lt;/build&gt;\r\n````","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>If you are using pom.xml and jacoco plugin for build then you need to update the configuration at &quot;prepare-agent&quot; stage of build so that  pre-instrumented classes are excluded as follows.</p>\n<pre><code>   &lt;build&gt;\n            &lt;plugins&gt;\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;default-instrument&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;instrument&lt;/goal&gt;\n                &lt;/goals&gt;\n                  &lt;/execution&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                &lt;/goals&gt;\n                  &lt;/execution&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;prepare-agent&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt; \n                &lt;excludes&gt; \n                &lt;exclude&gt;*&lt;/exclude&gt; \n                &lt;/excludes&gt; \n                &lt;/configuration&gt;      \n                  &lt;/execution&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;report&lt;/id&gt;   \n                &lt;goals&gt;\n                  &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n              &lt;/plugin&gt;\n            &lt;/plugins&gt;\n              &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9013514,"reputation":805,"user_id":8506507,"accept_rate":67,"display_name":"Kamo Spertsian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642170981,"creation_date":1642170981,"answer_id":70712233,"question_id":45560472,"body_markdown":"I&#39;ve also faced the same issue, but with Gradle. For me, the problem was with the following instructions \r\n\r\n    debug {\r\n        testCoverageEnabled true\r\n    }\r\nwhich I&#39;ve added in accordance with one tutorial. It also instruments classes (as Jacoco does) and thus the exceptions are thrown. \r\n\r\nRemoving this instruction solved the problem for me.","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>I've also faced the same issue, but with Gradle. For me, the problem was with the following instructions</p>\n<pre><code>debug {\n    testCoverageEnabled true\n}\n</code></pre>\n<p>which I've added in accordance with one tutorial. It also instruments classes (as Jacoco does) and thus the exceptions are thrown.</p>\n<p>Removing this instruction solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":3489707,"reputation":560,"user_id":2975621,"display_name":"leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676423435,"creation_date":1676423435,"answer_id":75454665,"question_id":45560472,"body_markdown":"This works for me\r\n\r\n    debug {\r\n        // disable testCoverage to fix Jacoco instrument error\r\n        testCoverageEnabled false\r\n    }","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>This works for me</p>\n<pre><code>debug {\n    // disable testCoverage to fix Jacoco instrument error\n    testCoverageEnabled false\n}\n</code></pre>\n"}],"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41872,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45628906,"answer_count":5,"score":10,"last_activity_date":1676423435,"creation_date":1502172521,"question_id":45560472,"body_markdown":"I am working on sonar code coverage using Jacoco plugin and using power mock mockito combination to write JUnit test cases, while all goes well with the build when I run mvn clean install but the console shows a very very long stack trace chain which keeps coming for many many classes used in the project, and is quite irritating, \r\nThe exception trace is similar to below- \r\n\r\n    java.lang.instrument.IllegalClassFormatException: Error while instrumenting class..\r\n    Caused by: java.io.IOException: Error while instrumenting class.\r\n    Caused by: java.lang.IllegalStateException: Class &lt;class-name&gt; is already instrumented.\r\n\r\nI went through below link for a solution but could not get a way out:- \r\n\r\n    https://github.com/jacoco/jacoco/issues/32\r\nThe link says &quot;The error indicates that there are two JaCoCo agents configured for the same process, Looks like activation of surefire-report-plugin leads to a **doubled** agent, which is not an exceptional case, but an error in configuration of JVM for tests&quot; In my case it is not even doubled agent I guess as my argLine has set to only one jacoco agent.\r\n\r\nIn my case, the argLine is set to below- \r\n\r\n    javaagent:C:\\\\Users\\\\user\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.6.201602180812\\\\org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=C:Users\\\\user\\\\git\\\\package\\\\target\\\\jacoco.exec\r\n\r\nMy pom.xml entry for jacoco-sonar configuration is as below - \r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\r\n    \t\t&lt;sonar.tests&gt;src/test/java&lt;/sonar.tests&gt;\r\n    \t\t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n    \t\t&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n    \t\t&lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n    \t\t&lt;sonar.binaries&gt;${project.basedir}/target/classes&lt;/sonar.binaries&gt;\r\n    \t\t&lt;sonar.inclusions&gt;\r\n    \t\t\t**/com/abc/service/impl/ABCServiceImpl.java,\r\n    \t\t\t**/com/abc/dao/impl/ABCDAOImpl.java\r\n    \t\t&lt;/sonar.inclusions&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;skipTests&gt;false&lt;/skipTests&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m ${argLine}&lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.7.6.201602180812&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t &lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt; \r\n    \t\t\t\t&lt;execution&gt;\r\n                        &lt;id&gt;default-instrument&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;instrument&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n**Note**: If I remove the execution element for &#39;default-instrument&#39; and &#39;default-restore-instrumented-classes&#39; than the exception trace does not come but I get coverage = 0.0% on sonar dashboard, using these two execution elements give me correct code coverage but with lengthy stack trace on the console. Any help is appreciated. ","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>I am working on sonar code coverage using Jacoco plugin and using power mock mockito combination to write JUnit test cases, while all goes well with the build when I run mvn clean install but the console shows a very very long stack trace chain which keeps coming for many many classes used in the project, and is quite irritating, \nThe exception trace is similar to below- </p>\n\n<pre><code>java.lang.instrument.IllegalClassFormatException: Error while instrumenting class..\nCaused by: java.io.IOException: Error while instrumenting class.\nCaused by: java.lang.IllegalStateException: Class &lt;class-name&gt; is already instrumented.\n</code></pre>\n\n<p>I went through below link for a solution but could not get a way out:- </p>\n\n<pre><code>https://github.com/jacoco/jacoco/issues/32\n</code></pre>\n\n<p>The link says \"The error indicates that there are two JaCoCo agents configured for the same process, Looks like activation of surefire-report-plugin leads to a <strong>doubled</strong> agent, which is not an exceptional case, but an error in configuration of JVM for tests\" In my case it is not even doubled agent I guess as my argLine has set to only one jacoco agent.</p>\n\n<p>In my case, the argLine is set to below- </p>\n\n<pre><code>javaagent:C:\\\\Users\\\\user\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.6.201602180812\\\\org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=C:Users\\\\user\\\\git\\\\package\\\\target\\\\jacoco.exec\n</code></pre>\n\n<p>My pom.xml entry for jacoco-sonar configuration is as below - </p>\n\n<pre><code>&lt;properties&gt;\n        &lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\n        &lt;sonar.tests&gt;src/test/java&lt;/sonar.tests&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n        &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n        &lt;sonar.binaries&gt;${project.basedir}/target/classes&lt;/sonar.binaries&gt;\n        &lt;sonar.inclusions&gt;\n            **/com/abc/service/impl/ABCServiceImpl.java,\n            **/com/abc/dao/impl/ABCDAOImpl.java\n        &lt;/sonar.inclusions&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m ${argLine}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.6.201602180812&lt;/version&gt;\n                &lt;executions&gt;\n                 &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                &lt;/execution&gt; \n                &lt;execution&gt;\n                    &lt;id&gt;default-instrument&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;instrument&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p><strong>Note</strong>: If I remove the execution element for 'default-instrument' and 'default-restore-instrumented-classes' than the exception trace does not come but I get coverage = 0.0% on sonar dashboard, using these two execution elements give me correct code coverage but with lengthy stack trace on the console. Any help is appreciated. </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7840259,"reputation":2347,"user_id":5927073,"accept_rate":100,"display_name":"beastlyCoder"},"score":0,"creation_date":1609901853,"post_id":65589579,"comment_id":115964849,"body_markdown":"post your activity code","body":"post your activity code"},{"owner":{"account_id":13021243,"reputation":77,"user_id":9410596,"display_name":"Rajendra Mahato"},"score":0,"creation_date":1609916478,"post_id":65589579,"comment_id":115967691,"body_markdown":"have you included your all activities in manifest.xml ? and also please share your activity2 code","body":"have you included your all activities in manifest.xml ? and also please share your activity2 code"}],"answers":[{"tags":[],"owner":{"account_id":13286617,"reputation":53,"user_id":12150628,"display_name":"Caio Merotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609902231,"creation_date":1609902231,"answer_id":65589651,"question_id":65589579,"body_markdown":"you should provide the correct context of your class.\r\n\r\ntry this:\r\n\r\n    Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n    startActivity(intent);\r\n\r\n","title":"Not able to go from one activity to other activity in android","body":"<p>you should provide the correct context of your class.</p>\n<p>try this:</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, MainActivity2.class);\nstartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13829436,"reputation":320,"user_id":10793665,"display_name":"S M Vaidhyanathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609904496,"creation_date":1609903396,"answer_id":65589777,"question_id":65589579,"body_markdown":"Just to give more clarity to Caio&#39;s answer, when you use this \r\n\r\n`Intent intent = new Intent(this, MainActivity2.class);`\r\n\r\nThe intent is created in an anonymous inner class i.e. `OnClickListener`. Thus `this` does not refer the instance of your Activity (or Context) as intended. You need to provide the correct context of your class.\r\n\r\nHence , do this:\r\n\r\n`Intent intent = new Intent(MainActivity.this, MainActivity2.class);`\r\n\r\n`startActivity(intent);`\r\n\r\n\r\n","title":"Not able to go from one activity to other activity in android","body":"<p>Just to give more clarity to Caio's answer, when you use this</p>\n<p><code>Intent intent = new Intent(this, MainActivity2.class);</code></p>\n<p>The intent is created in an anonymous inner class i.e. <code>OnClickListener</code>. Thus <code>this</code> does not refer the instance of your Activity (or Context) as intended. You need to provide the correct context of your class.</p>\n<p>Hence , do this:</p>\n<p><code>Intent intent = new Intent(MainActivity.this, MainActivity2.class);</code></p>\n<p><code>startActivity(intent);</code></p>\n"},{"tags":[],"owner":{"display_name":"user13146129"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609914005,"creation_date":1609914005,"answer_id":65591080,"question_id":65589579,"body_markdown":"You have to try `getApplicationContext()` or `activity.this` instead of `this`. \r\n\r\nI think you are having this issue for &quot;`this`&quot;. Cause, I can&#39;t see any other issue. \r\n\r\n    Intent intent = new Intent(getApplicationContext(),MainActivity2.class)\r\n    startActivity(intent);","title":"Not able to go from one activity to other activity in android","body":"<p>You have to try <code>getApplicationContext()</code> or <code>activity.this</code> instead of <code>this</code>.</p>\n<p>I think you are having this issue for &quot;<code>this</code>&quot;. Cause, I can't see any other issue.</p>\n<pre><code>Intent intent = new Intent(getApplicationContext(),MainActivity2.class)\nstartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27559805,"reputation":1,"user_id":21033062,"display_name":"Towhidul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676419037,"creation_date":1676047318,"answer_id":75413870,"question_id":65589579,"body_markdown":"This java code is for the old version, it does not work with android studio&#39;s latest version.\r\n\r\n```java\r\nIntent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n                startActivities(intent);\r\n\r\n```\r\n\r\nhere is code for the more recent versions: \r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openMainActivity();\r\n            }\r\n\r\n            public void openMainActivity() {\r\n               Intent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n               startActivity(intent);\r\n\r\n            };\r\n","title":"Not able to go from one activity to other activity in android","body":"<p>This java code is for the old version, it does not work with android studio's latest version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n                startActivities(intent);\n\n</code></pre>\n<p>here is code for the more recent versions:</p>\n<pre><code>    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            openMainActivity();\n        }\n\n        public void openMainActivity() {\n           Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n           startActivity(intent);\n\n        };\n</code></pre>\n"}],"owner":{"account_id":18584076,"reputation":5,"user_id":13542915,"display_name":"derkregin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65591080,"answer_count":4,"score":0,"last_activity_date":1676419037,"creation_date":1609901649,"question_id":65589579,"body_markdown":"I&#39;m trying to use a button to change from Main Activity on android studio to Main Activity 2 and I get the error \r\n\r\n```\r\nno suitable constructor found for Intent(&lt;anonymous OnClickListener&gt;,Class&lt;MainActivity2&gt;)\r\n                Intent intent = new Intent(this, MainActivity2.class);\r\n                                ^\r\n```\r\nI&#39;m on version 4.1 and I want to assume i&#39;m following an old tutorial or I just missed some punctuation.\r\nThis is my code:\r\n```        Button buttonPage = findViewById(R.id.buttonNav1);\r\n        buttonPage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openMainActivity2();\r\n            }\r\n\r\n            public void openMainActivity2(){\r\n                Intent intent = new Intent(this, MainActivity2.class);\r\n                startActivity(intent);\r\n```","title":"Not able to go from one activity to other activity in android","body":"<p>I'm trying to use a button to change from Main Activity on android studio to Main Activity 2 and I get the error</p>\n<pre><code>no suitable constructor found for Intent(&lt;anonymous OnClickListener&gt;,Class&lt;MainActivity2&gt;)\n                Intent intent = new Intent(this, MainActivity2.class);\n                                ^\n</code></pre>\n<p>I'm on version 4.1 and I want to assume i'm following an old tutorial or I just missed some punctuation.\nThis is my code:</p>\n<pre><code>        buttonPage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openMainActivity2();\n            }\n\n            public void openMainActivity2(){\n                Intent intent = new Intent(this, MainActivity2.class);\n                startActivity(intent);\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643260239,"creation_date":1643260239,"answer_id":70873636,"question_id":70873586,"body_markdown":"In [openjdk-11 `java.lang.System`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java) on line [1968](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java#L1968)\r\n\r\n    setOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\r\n\r\nwhich is in `private static void initPhase1()` and that is documented to\r\n\r\n&gt; Initialize the system class.  Called after thread initialization.","title":"static fields problems in initialization","body":"<p>In <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java\" rel=\"nofollow noreferrer\">openjdk-11 <code>java.lang.System</code></a> on line <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java#L1968\" rel=\"nofollow noreferrer\">1968</a></p>\n<pre><code>setOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\n</code></pre>\n<p>which is in <code>private static void initPhase1()</code> and that is documented to</p>\n<blockquote>\n<p>Initialize the system class.  Called after thread initialization.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25952131,"reputation":1,"user_id":20257766,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676418970,"creation_date":1676418970,"answer_id":75454350,"question_id":70873586,"body_markdown":"I advise you to first check out FileDescriptor.java then come back and check System.java again more thoroughly. You can easily find these files in the src folder of your java installation.\r\n\r\nI copied some code from these files with out as example here but you can easily find the answers for in and err in a very similar way.\r\n\r\nfrom FileDescriptor.java\r\n\r\n    public static final FileDescriptor out = new FileDescriptor(1);\r\n\r\nfrom System.java\r\n\r\n    public static void setOut(PrintStream out) {\r\n        checkIO();\r\n        setOut0(out);\r\n    private static native void setOut0(PrintStream out);\r\n    FileOutputStream fdOut = new FileOutputStream(FileDescriptor.out);\r\n    setOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\r\n\r\nKeep in mind that these lines are not connected, and I didn&#39;t copy all the code necessary to answer your question but only some of the most inspiring ones. So read as much as you need from these two java files for a better comprehension.\r\n\r\nAlso keep in mind that not all java &quot;capabilities&quot; are implemented in java itself i.e. \r\n\r\n    setOut0();\r\nWhich I haven&#39;t find its implementation in java source files cause it&#39;s supposed to be implemented by other means.","title":"static fields problems in initialization","body":"<p>I advise you to first check out FileDescriptor.java then come back and check System.java again more thoroughly. You can easily find these files in the src folder of your java installation.</p>\n<p>I copied some code from these files with out as example here but you can easily find the answers for in and err in a very similar way.</p>\n<p>from FileDescriptor.java</p>\n<pre><code>public static final FileDescriptor out = new FileDescriptor(1);\n</code></pre>\n<p>from System.java</p>\n<pre><code>public static void setOut(PrintStream out) {\n    checkIO();\n    setOut0(out);\nprivate static native void setOut0(PrintStream out);\nFileOutputStream fdOut = new FileOutputStream(FileDescriptor.out);\nsetOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\n</code></pre>\n<p>Keep in mind that these lines are not connected, and I didn't copy all the code necessary to answer your question but only some of the most inspiring ones. So read as much as you need from these two java files for a better comprehension.</p>\n<p>Also keep in mind that not all java &quot;capabilities&quot; are implemented in java itself i.e.</p>\n<pre><code>setOut0();\n</code></pre>\n<p>Which I haven't find its implementation in java source files cause it's supposed to be implemented by other means.</p>\n"}],"owner":{"account_id":19306836,"reputation":21,"user_id":14113466,"display_name":"zhenyoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70873636,"answer_count":2,"score":0,"last_activity_date":1676418970,"creation_date":1643259840,"question_id":70873586,"body_markdown":"I have searched the JDK many times, but I can&#39;t find where the out field is initialized\r\n\r\nsuch as\r\n\r\n```java\r\npublic static final InputStream in = null;\r\npublic static final PrintStream out = null;\r\npublic static final PrintStream err = null;\r\n```\r\n\r\nSo when are these static fields in the System class initialized?","title":"static fields problems in initialization","body":"<p>I have searched the JDK many times, but I can't find where the out field is initialized</p>\n<p>such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final InputStream in = null;\npublic static final PrintStream out = null;\npublic static final PrintStream err = null;\n</code></pre>\n<p>So when are these static fields in the System class initialized?</p>\n"},{"tags":["java","openssl","ssl-certificate","jarsigner"],"owner":{"account_id":6683099,"reputation":1081,"user_id":5155476,"accept_rate":40,"display_name":"codesniffer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676418927,"creation_date":1676418927,"question_id":75454347,"body_markdown":"I have a certificate from Comodo that I use to sign my builds:  DLLs for native code, .NET DLLs, and a JAR file for Java.\r\n\r\nI obtained the certificate on Sep 30, 2021 and it&#39;s good until Sep 30, 2024 :\r\n\r\n    $ openssl pkcs12 -in ./My_Code_Signing_CertAndPrivateKey.pkcs12.pfx -passin pass:&quot;********&quot; -clcerts -nokeys | openssl x509 -noout -enddate\r\n    notAfter=Sep 30 23:59:59 2024 GMT\r\n\r\n\r\nI followed [these instructions][1] to generate a Java KeyStore (JKS) certificate and confirmed its expiration is Sep 2024:\r\n\r\n    keytool -list -v -keystore My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; | grep until\r\n    Valid from: Thu Sep 30 20:00:00 EDT 2021 until: Mon Sep 30 19:59:59 EDT 2024\r\n    Valid from: Sun Mar 21 20:00:00 EDT 2021 until: Fri Mar 21 19:59:59 EDT 2036\r\n    Valid from: Mon May 24 20:00:00 EDT 2021 until: Sun Dec 31 18:59:59 EST 2028\r\n    Valid from: Wed Dec 31 19:00:00 EST 2003 until: Sun Dec 31 18:59:59 EST 2028\r\n    Valid from: Sun Jan 21 19:00:00 EST 2018 until: Sat Jan 22 18:59:59 EST 2022\r\n    Valid from: Wed May 08 20:00:00 EDT 2013 until: Mon May 08 19:59:59 EDT 2028\r\n    Valid from: Mon Jan 18 19:00:00 EST 2010 until: Mon Jan 18 18:59:59 EST 2038\r\n    \r\n    Warning:\r\n    &lt;le-7a277b0a-1b66-4d55-8b15-11d2734d9e16&gt; uses the SHA1withRSA signature algorithm which is considered a security risk. This algorithm will be disabled in a future update.\r\n    The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -destkeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -deststoretype pkcs12&quot;.\r\n\r\n\r\nBut when I use the JKS certificate to sign my JAR file it reports the signer certificate is already expired (Jan 22, 2022):\r\n\r\n    $ jarsigner -keypass CodeSignPwd -keystore ./My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; -tsa http://timestamp.comodoca.com/rfc3161 -digestalg SHA-256 myjar.jar &quot;***** comodo ca limited id&quot; \r\n    jar signed.\r\n    \r\n    Warning: \r\n    The signer certificate has expired.\r\n    \r\n    The signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\r\n\r\n\r\njarsigner also reports the JAR signature is already expired (Jan 22, 2022):\r\n\r\n    $ jarsigner -verify -verbose -certs myjar.jar\r\n    \r\n          [entry was signed on 2/14/23 4:20 PM]\r\n          &gt;&gt;&gt; Signer\r\n          X.509, CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, ST=**, OID.2.5.4.17=*****, C=US\r\n          [certificate expired on 1/22/22 6:59 PM]\r\n          X.509, CN=COMODO RSA Code Signing CA, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\r\n          [certificate is valid from 5/8/13 8:00 PM to 5/8/28 7:59 PM]\r\n          X.509, CN=COMODO RSA Certification Authority, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\r\n          [trusted certificate]\r\n          &gt;&gt;&gt; TSA\r\n          X.509, CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB\r\n          [certificate is valid from 5/10/22 8:00 PM to 8/10/33 7:59 PM]\r\n          X.509, CN=Sectigo RSA Time Stamping CA, O=Sectigo Limited, L=Salford, ST=Greater Manchester, C=GB\r\n          [certificate is valid from 5/1/19 8:00 PM to 1/18/38 6:59 PM]\r\n    \r\n    \r\n      s = signature was verified \r\n      m = entry is listed in manifest\r\n      k = at least one certificate was found in keystore\r\n      i = at least one certificate was found in identity scope\r\n    \r\n    - Signed by &quot;CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, L=*****, ST=**, OID.2.5.4.17=*****, C=US&quot;\r\n        Digest algorithm: SHA-256\r\n        Signature algorithm: SHA256withRSA, 2048-bit key\r\n      Timestamped by &quot;CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB&quot; on Tue Feb 14 21:20:26 UTC 2023\r\n        Timestamp digest algorithm: SHA-256\r\n        Timestamp signature algorithm: SHA384withRSA, 4096-bit key\r\n    \r\n    jar verified.\r\n    \r\n    Warning: \r\n    This jar contains entries whose signer certificate has expired. \r\n    \r\n    The signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\r\n\r\n\r\nMy native-code DLLs and the .NET DLLs have the proper expiration:  Sep 30, 2024.\r\n\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: https://support.ksoftware.net/support/solutions/articles/17164-how-do-i-sign-and-timestamp-a-java-jar-file\r\n\r\n\r\n","title":"jarsigner reporting different certificate expiration","body":"<p>I have a certificate from Comodo that I use to sign my builds:  DLLs for native code, .NET DLLs, and a JAR file for Java.</p>\n<p>I obtained the certificate on Sep 30, 2021 and it's good until Sep 30, 2024 :</p>\n<pre><code>$ openssl pkcs12 -in ./My_Code_Signing_CertAndPrivateKey.pkcs12.pfx -passin pass:&quot;********&quot; -clcerts -nokeys | openssl x509 -noout -enddate\nnotAfter=Sep 30 23:59:59 2024 GMT\n</code></pre>\n<p>I followed <a href=\"https://support.ksoftware.net/support/solutions/articles/17164-how-do-i-sign-and-timestamp-a-java-jar-file\" rel=\"nofollow noreferrer\">these instructions</a> to generate a Java KeyStore (JKS) certificate and confirmed its expiration is Sep 2024:</p>\n<pre><code>keytool -list -v -keystore My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; | grep until\nValid from: Thu Sep 30 20:00:00 EDT 2021 until: Mon Sep 30 19:59:59 EDT 2024\nValid from: Sun Mar 21 20:00:00 EDT 2021 until: Fri Mar 21 19:59:59 EDT 2036\nValid from: Mon May 24 20:00:00 EDT 2021 until: Sun Dec 31 18:59:59 EST 2028\nValid from: Wed Dec 31 19:00:00 EST 2003 until: Sun Dec 31 18:59:59 EST 2028\nValid from: Sun Jan 21 19:00:00 EST 2018 until: Sat Jan 22 18:59:59 EST 2022\nValid from: Wed May 08 20:00:00 EDT 2013 until: Mon May 08 19:59:59 EDT 2028\nValid from: Mon Jan 18 19:00:00 EST 2010 until: Mon Jan 18 18:59:59 EST 2038\n\nWarning:\n&lt;le-7a277b0a-1b66-4d55-8b15-11d2734d9e16&gt; uses the SHA1withRSA signature algorithm which is considered a security risk. This algorithm will be disabled in a future update.\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -destkeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -deststoretype pkcs12&quot;.\n</code></pre>\n<p>But when I use the JKS certificate to sign my JAR file it reports the signer certificate is already expired (Jan 22, 2022):</p>\n<pre><code>$ jarsigner -keypass CodeSignPwd -keystore ./My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; -tsa http://timestamp.comodoca.com/rfc3161 -digestalg SHA-256 myjar.jar &quot;***** comodo ca limited id&quot; \njar signed.\n\nWarning: \nThe signer certificate has expired.\n\nThe signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\n</code></pre>\n<p>jarsigner also reports the JAR signature is already expired (Jan 22, 2022):</p>\n<pre><code>$ jarsigner -verify -verbose -certs myjar.jar\n\n      [entry was signed on 2/14/23 4:20 PM]\n      &gt;&gt;&gt; Signer\n      X.509, CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, ST=**, OID.2.5.4.17=*****, C=US\n      [certificate expired on 1/22/22 6:59 PM]\n      X.509, CN=COMODO RSA Code Signing CA, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\n      [certificate is valid from 5/8/13 8:00 PM to 5/8/28 7:59 PM]\n      X.509, CN=COMODO RSA Certification Authority, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\n      [trusted certificate]\n      &gt;&gt;&gt; TSA\n      X.509, CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB\n      [certificate is valid from 5/10/22 8:00 PM to 8/10/33 7:59 PM]\n      X.509, CN=Sectigo RSA Time Stamping CA, O=Sectigo Limited, L=Salford, ST=Greater Manchester, C=GB\n      [certificate is valid from 5/1/19 8:00 PM to 1/18/38 6:59 PM]\n\n\n  s = signature was verified \n  m = entry is listed in manifest\n  k = at least one certificate was found in keystore\n  i = at least one certificate was found in identity scope\n\n- Signed by &quot;CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, L=*****, ST=**, OID.2.5.4.17=*****, C=US&quot;\n    Digest algorithm: SHA-256\n    Signature algorithm: SHA256withRSA, 2048-bit key\n  Timestamped by &quot;CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB&quot; on Tue Feb 14 21:20:26 UTC 2023\n    Timestamp digest algorithm: SHA-256\n    Timestamp signature algorithm: SHA384withRSA, 4096-bit key\n\njar verified.\n\nWarning: \nThis jar contains entries whose signer certificate has expired. \n\nThe signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\n</code></pre>\n<p>My native-code DLLs and the .NET DLLs have the proper expiration:  Sep 30, 2024.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","testcontainers"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676406586,"post_id":75452651,"comment_id":133130009,"body_markdown":"What&#39;s the _question_? Be specific; StackOverflow is a Q&amp;A platform.","body":"What&#39;s the <i>question</i>? Be specific; StackOverflow is a Q&amp;A platform."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676410644,"post_id":75452651,"comment_id":133130986,"body_markdown":"Does it work without the `.withLogConsumer(new Slf4jLogConsumer(logger))`?","body":"Does it work without the <code>.withLogConsumer(new Slf4jLogConsumer(logger))</code>?"},{"owner":{"account_id":25754395,"reputation":13,"user_id":19506356,"display_name":"robatxumo"},"score":0,"creation_date":1676411945,"post_id":75452651,"comment_id":133131269,"body_markdown":"@dan1st bingo, make an answer out of it and I will check mark it.. #everythingisbroken","body":"@dan1st bingo, make an answer out of it and I will check mark it.. #everythingisbroken"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676418279,"creation_date":1676418279,"answer_id":75454305,"question_id":75452651,"body_markdown":"TL;DR: It&#39;s a false positive due to the `.withLogConsumer()` chained call.\r\n\r\nIntelliJ shows you that `new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)` is not closed by the try-with-resources block. Instead, you are calling `.withLogConsumer(new Slf4jLogConsumer(logger))` on it and closibg that using try-with-resources.\r\n\r\nSince closing the object returned by `.withLogConsumer(new Slf4jLogConsumer(logger))` also closes the `MySQLContainer` ([it is the same objects as it returns `this`](https://javadoc.io/doc/org.testcontainers/testcontainers/latest/index.html), this is a false positive.\r\n\r\nIf you want to get around this error without suppressing it, you could try to close both resources (which is what IntelliJ wants from you):\r\n```java\r\n        try (\r\n                var containerWithoutLogger = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\r\n                var mySQLContainer = containerWithoutLogger.withLogConsumer(new Slf4jLogConsumer(logger))\r\n        ) {\r\n            mySQLContainer.start();\r\n            assertThat(mySQLContainer.isRunning(), is(true));\r\n        } \r\n```\r\n\r\nHowever, this would close it twice. Alternatively, you could try to call `withLogConsumer` inside the try-block but that might result in a similar warning being shown at that point.\r\n```java\r\n        try (\r\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\r\n        ) {\r\n            mySQLContainer.withLogConsumer(new Slf4jLogConsumer(logger));\r\n            mySQLContainer.start();\r\n            assertThat(mySQLContainer.isRunning(), is(true));\r\n        } \r\n```","title":"Testcontainers warning that cannot be fixed","body":"<p>TL;DR: It's a false positive due to the <code>.withLogConsumer()</code> chained call.</p>\n<p>IntelliJ shows you that <code>new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)</code> is not closed by the try-with-resources block. Instead, you are calling <code>.withLogConsumer(new Slf4jLogConsumer(logger))</code> on it and closibg that using try-with-resources.</p>\n<p>Since closing the object returned by <code>.withLogConsumer(new Slf4jLogConsumer(logger))</code> also closes the <code>MySQLContainer</code> (<a href=\"https://javadoc.io/doc/org.testcontainers/testcontainers/latest/index.html\" rel=\"nofollow noreferrer\">it is the same objects as it returns <code>this</code></a>, this is a false positive.</p>\n<p>If you want to get around this error without suppressing it, you could try to close both resources (which is what IntelliJ wants from you):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try (\n                var containerWithoutLogger = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\n                var mySQLContainer = containerWithoutLogger.withLogConsumer(new Slf4jLogConsumer(logger))\n        ) {\n            mySQLContainer.start();\n            assertThat(mySQLContainer.isRunning(), is(true));\n        } \n</code></pre>\n<p>However, this would close it twice. Alternatively, you could try to call <code>withLogConsumer</code> inside the try-block but that might result in a similar warning being shown at that point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try (\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\n        ) {\n            mySQLContainer.withLogConsumer(new Slf4jLogConsumer(logger));\n            mySQLContainer.start();\n            assertThat(mySQLContainer.isRunning(), is(true));\n        } \n</code></pre>\n"}],"owner":{"account_id":25754395,"reputation":13,"user_id":19506356,"display_name":"robatxumo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75454305,"answer_count":1,"score":1,"last_activity_date":1676418279,"creation_date":1676404241,"question_id":75452651,"body_markdown":"Wrote a @Testcontainers test in Junit 5 with Springboot 3. The test runs and passes, but I have the following warning:\r\n\r\n```\r\n&#39;MySQLContainer&lt;SELF&gt;&#39; used without &#39;try&#39;-with-resources statement\r\n```\r\n\r\nBut the code shows in fact the container is NOT used outside the try with resources statement:\r\n\r\n``` java\r\n@Testcontainers\r\npublic class PageTemplateCreationTestContainerTests {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(PageTemplateCreationTestContainerTests.class);\r\n\r\n    @Test\r\n    void mySQLContainerShouldBeRunning() {\r\n        try (\r\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)\r\n                        .withLogConsumer(new Slf4jLogConsumer(logger))\r\n        ) {\r\n            mySQLContainer.start();\r\n            assertThat(mySQLContainer.isRunning(), is(true));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI read through the docs for Autocloseable and of course there&#39;s no help here from IntelliJ. Thought maybe it was choking on the `var` syntax but no.\r\n\r\nThis warning should not appear.","title":"Testcontainers warning that cannot be fixed","body":"<p>Wrote a @Testcontainers test in Junit 5 with Springboot 3. The test runs and passes, but I have the following warning:</p>\n<pre><code>'MySQLContainer&lt;SELF&gt;' used without 'try'-with-resources statement\n</code></pre>\n<p>But the code shows in fact the container is NOT used outside the try with resources statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Testcontainers\npublic class PageTemplateCreationTestContainerTests {\n\n    private static final Logger logger = LoggerFactory.getLogger(PageTemplateCreationTestContainerTests.class);\n\n    @Test\n    void mySQLContainerShouldBeRunning() {\n        try (\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)\n                        .withLogConsumer(new Slf4jLogConsumer(logger))\n        ) {\n            mySQLContainer.start();\n            assertThat(mySQLContainer.isRunning(), is(true));\n        }\n    }\n}\n</code></pre>\n<p>I read through the docs for Autocloseable and of course there's no help here from IntelliJ. Thought maybe it was choking on the <code>var</code> syntax but no.</p>\n<p>This warning should not appear.</p>\n"},{"tags":["java","flutter","dart","gradle"],"comments":[{"owner":{"account_id":18680498,"reputation":640,"user_id":13617136,"display_name":"iqfareez"},"score":0,"creation_date":1676434028,"post_id":75454261,"comment_id":133134236,"body_markdown":"Hi. Try run `flutter clean` and then `flutter run`.","body":"Hi. Try run <code>flutter clean</code> and then <code>flutter run</code>."}],"owner":{"account_id":18996725,"reputation":1,"user_id":13864754,"display_name":"HERO_FIIFI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676417851,"creation_date":1676417851,"question_id":75454261,"body_markdown":"[Vscode terminal](https://i.stack.imgur.com/EWAPJ.png)\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Gradle distribution &#39;C:\\Users\\USER\\.gradle\\wrapper\\dists\\gradle-7.5-all\\6qsw290k5lz422uaf8jf6m7co&#39; contains too many directories. Expected to find exactly 1 directory.\r\n        at org.gradle.wrapper.Install.getAndVerifyDistributionRoot(Install.java:118)\r\n        at org.gradle.wrapper.Install.access$000(Install.java:27)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:52)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nRunning Gradle task &#39;assembleDebug&#39;...                              6.1s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\ni downloaded new gradle versions, change paths but still to no avail","title":"Flutter project wont run on vscode or android due to a gradle problem","body":"<p><a href=\"https://i.stack.imgur.com/EWAPJ.png\" rel=\"nofollow noreferrer\">Vscode terminal</a></p>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Gradle distribution 'C:\\Users\\USER.gradle\\wrapper\\dists\\gradle-7.5-all\\6qsw290k5lz422uaf8jf6m7co' contains too many directories. Expected to find exactly 1 directory.\nat org.gradle.wrapper.Install.getAndVerifyDistributionRoot(Install.java:118)\nat org.gradle.wrapper.Install.access$000(Install.java:27)\nat org.gradle.wrapper.Install$1.call(Install.java:52)\nat org.gradle.wrapper.Install$1.call(Install.java:48)\nat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\nat org.gradle.wrapper.Install.createDist(Install.java:48)\nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nRunning Gradle task 'assembleDebug'...                              6.1s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>i downloaded new gradle versions, change paths but still to no avail</p>\n"},{"tags":["java","javafx","keyboard","listener","jnativehook"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1578181325,"post_id":59594172,"comment_id":105356587,"body_markdown":"Please create a [mre] demonstrating the problem then add it to your question via an [edit].","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem then add it to your question via an <a href=\"https://stackoverflow.com/posts/59594172/edit\">edit</a>."},{"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"score":0,"creation_date":1578185588,"post_id":59594172,"comment_id":105357202,"body_markdown":"Tell people which library you&#39;re using.  Hint, note that this one has removeKeyListener method. https://github.com/kristian/system-hook/blob/master/src/main/java/lc/kra/system/keyboard/GlobalKeyboardHook.java","body":"Tell people which library you&#39;re using.  Hint, note that this one has removeKeyListener method. <a href=\"https://github.com/kristian/system-hook/blob/master/src/main/java/lc/kra/system/keyboard/GlobalKeyboardHook.java\" rel=\"nofollow noreferrer\">github.com/kristian/system-hook/blob/master/src/main/java/lc&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":13824715,"reputation":88,"user_id":9979337,"display_name":"Wojciech Pawlik"},"score":0,"creation_date":1578187771,"post_id":59594172,"comment_id":105357480,"body_markdown":"I wrote a method which removes listener from hook when the text field is focused. It works but the problem still exists - I cannot edit the text.","body":"I wrote a method which removes listener from hook when the text field is focused. It works but the problem still exists - I cannot edit the text."}],"owner":{"account_id":13824715,"reputation":88,"user_id":9979337,"display_name":"Wojciech Pawlik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676417629,"creation_date":1578166579,"question_id":59594172,"body_markdown":"I used jnativehook for global keyboard listening. I created GUI in JavaFX 11. I have a TextField to define name of a file created after pressing specified key combination.\r\n\r\n**The problem is I cannot edit text in the TextField by keyboard.** I can delete or paste text by mouse but not by keyboard.\r\n\r\nI created an individual thread for global keyboard listening. My idea was to stop this thread when the TextField is focused. Unfortunately, my attempts failed.\r\n\r\nHere is a minimimal reproducible example which causes similar problem:\r\n\r\n*Main.java*\r\n\r\n    public class Main extends Application {\r\n    private static final int APP_WIDTH = 400;\r\n    private static final int APP_HEIGHT = 400;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        var fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/main.fxml&quot;));\r\n        Parent root = fxmlLoader.load();\r\n        stage.setTitle(&quot;Example&quot;);\r\n        stage.setScene(new Scene(root, APP_WIDTH, APP_HEIGHT));\r\n        stage.show();\r\n\r\n        Thread background = new Thread(() -&gt; Platform.runLater(() -&gt; {\r\n            GlobalKeyboardHook keyboardHook = new GlobalKeyboardHook(true);\r\n\r\n            keyboardHook.addKeyListener(new GlobalKeyAdapter() {\r\n\r\n                @Override\r\n                public void keyPressed(GlobalKeyEvent keyEvent) {\r\n                    System.out.println(&quot;Key pressed: &quot; + keyEvent.getVirtualKeyCode());\r\n                }\r\n\r\n                @Override\r\n                public void keyReleased(GlobalKeyEvent keyEvent) {\r\n                    System.out.println(&quot;Key released: &quot; + keyEvent.toString());\r\n                }\r\n            });\r\n        }));\r\n        background.start();\r\n    }\r\n\r\n*Controller.java*\r\n\r\n    public class Controller implements Initializable {\r\n        @FXML\r\n        private TextField filePath;\r\n\r\n        private static String filePathString = &quot;filePathString&quot;;\r\n\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            handleFilePath();\r\n        }\r\n\r\n        private void handleFilePath() {\r\n            filePath.textProperty().setValue(filePathString);\r\n            filePath.textProperty().addListener(((observable, oldValue, newValue) -&gt; {\r\n                filePath.commitValue();\r\n            }));\r\n        }\r\n    }","title":"JavaFX and jnativehook library conflict","body":"<p>I used jnativehook for global keyboard listening. I created GUI in JavaFX 11. I have a TextField to define name of a file created after pressing specified key combination.</p>\n\n<p><strong>The problem is I cannot edit text in the TextField by keyboard.</strong> I can delete or paste text by mouse but not by keyboard.</p>\n\n<p>I created an individual thread for global keyboard listening. My idea was to stop this thread when the TextField is focused. Unfortunately, my attempts failed.</p>\n\n<p>Here is a minimimal reproducible example which causes similar problem:</p>\n\n<p><em>Main.java</em></p>\n\n<pre><code>public class Main extends Application {\nprivate static final int APP_WIDTH = 400;\nprivate static final int APP_HEIGHT = 400;\n\npublic static void main(String[] args) {\n    SpringApplication.run(Main.class, args);\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n    var fxmlLoader = new FXMLLoader(getClass().getResource(\"/main.fxml\"));\n    Parent root = fxmlLoader.load();\n    stage.setTitle(\"Example\");\n    stage.setScene(new Scene(root, APP_WIDTH, APP_HEIGHT));\n    stage.show();\n\n    Thread background = new Thread(() -&gt; Platform.runLater(() -&gt; {\n        GlobalKeyboardHook keyboardHook = new GlobalKeyboardHook(true);\n\n        keyboardHook.addKeyListener(new GlobalKeyAdapter() {\n\n            @Override\n            public void keyPressed(GlobalKeyEvent keyEvent) {\n                System.out.println(\"Key pressed: \" + keyEvent.getVirtualKeyCode());\n            }\n\n            @Override\n            public void keyReleased(GlobalKeyEvent keyEvent) {\n                System.out.println(\"Key released: \" + keyEvent.toString());\n            }\n        });\n    }));\n    background.start();\n}\n</code></pre>\n\n<p><em>Controller.java</em></p>\n\n<pre><code>public class Controller implements Initializable {\n    @FXML\n    private TextField filePath;\n\n    private static String filePathString = \"filePathString\";\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        handleFilePath();\n    }\n\n    private void handleFilePath() {\n        filePath.textProperty().setValue(filePathString);\n        filePath.textProperty().addListener(((observable, oldValue, newValue) -&gt; {\n            filePath.commitValue();\n        }));\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","apache-kafka"],"owner":{"account_id":27788309,"reputation":1,"user_id":21215242,"display_name":"Elijah Cyber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676417520,"creation_date":1676417520,"question_id":75454228,"body_markdown":"I have been trying to consume data from a kafka broker running on my local network. I have a producer pushing messages with a string key and json value. I have been trying to learn spark and have written up a scipt in intellij but whenever i run it i get a \r\n\r\njava: cannot access scala.Serializable\r\n  class file for scala.Serializable not found\r\n```\r\npackage org.example;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.streaming.Duration;\r\nimport org.apache.spark.streaming.api.java.JavaInputDStream;\r\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\r\nimport org.apache.spark.streaming.kafka010.ConsumerStrategies;\r\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\r\nimport org.apache.spark.streaming.kafka010.LocationStrategies;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport scala.*;\r\npublic class Main {\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        // myApp is the name of the application to show in the cluster UI\r\n        //set master is to be a Spark, Mesos or YARN cluster URL\r\n        // local[*] just sets it up to run in local mode\r\n        SparkConf conf = new SparkConf().setAppName(&quot;myApp&quot;).setMaster(&quot;local[*]&quot;); // to start streaming you need to create a context and the first step in that is creatign your configuration\r\n        JavaSparkContext c = new JavaSparkContext(conf);\r\n\r\n        JavaStreamingContext ssc = new JavaStreamingContext(c, new Duration(1000)); // here is where we create our streaming conext\r\n        Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\r\n\r\n        Collection&lt;String&gt; topics = Arrays.asList(&quot;TestTopic&quot;,&quot;TestTopic1&quot;); // setting up a collection for multiple topics to pull data from\r\n        JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream;\r\n\r\n        kafkaParams.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:9092,&quot;); // this is where we set up our streaming context to get input from a kafka broker\r\n        kafkaParams.put(ConsumerConfig.CLIENT_ID_CONFIG, StringDeserializer.class);\r\n        //kafkaParams.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, Json.class);\r\n        kafkaParams.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;myGroup&quot;); // giving the broker our consumer group\r\n        kafkaParams.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // setting it up to pull all records from kafka broker\r\n        kafkaParams.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\n\r\n\r\n\r\n\r\n        stream = // you can also create an rdd if batch processing is better see: https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\r\n                KafkaUtils.createDirectStream( // here is where the stream is actually created and instantiated\r\n                        ssc,                  // this is the streaming context we created earlier\r\n                        LocationStrategies.PreferConsistent(), //This will distribute partitions among consumers equally\r\n                        ConsumerStrategies.Subscribe(topics, kafkaParams) //using consumerStrategies allows you to consume from a fixed number of topics, you can also do SubscribePattern to use a regex of topics of interest\r\n                );\r\n        stream.foreachRDD(x -&gt; x.foreach(System.out::println));\r\n\r\n\r\n        ssc.start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is my pom file \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Kafka-Streaming-spark&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.scala-lang/scala-library --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI just set it up to print out records to see if it was even consuming messages but I cant even get it to run. Also aplogize in advance if my question is poor this is my first time posting a question. ","title":"How to stream data from kafka broker using java spark consumer","body":"<p>I have been trying to consume data from a kafka broker running on my local network. I have a producer pushing messages with a string key and json value. I have been trying to learn spark and have written up a scipt in intellij but whenever i run it i get a</p>\n<p>java: cannot access scala.Serializable\nclass file for scala.Serializable not found</p>\n<pre><code>package org.example;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.streaming.Duration;\nimport org.apache.spark.streaming.api.java.JavaInputDStream;\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\nimport org.apache.spark.streaming.kafka010.ConsumerStrategies;\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\nimport org.apache.spark.streaming.kafka010.LocationStrategies;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport scala.*;\npublic class Main {\n\n\n    public static void main(String[] args) throws InterruptedException {\n        // myApp is the name of the application to show in the cluster UI\n        //set master is to be a Spark, Mesos or YARN cluster URL\n        // local[*] just sets it up to run in local mode\n        SparkConf conf = new SparkConf().setAppName(&quot;myApp&quot;).setMaster(&quot;local[*]&quot;); // to start streaming you need to create a context and the first step in that is creatign your configuration\n        JavaSparkContext c = new JavaSparkContext(conf);\n\n        JavaStreamingContext ssc = new JavaStreamingContext(c, new Duration(1000)); // here is where we create our streaming conext\n        Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\n\n        Collection&lt;String&gt; topics = Arrays.asList(&quot;TestTopic&quot;,&quot;TestTopic1&quot;); // setting up a collection for multiple topics to pull data from\n        JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream;\n\n        kafkaParams.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:9092,&quot;); // this is where we set up our streaming context to get input from a kafka broker\n        kafkaParams.put(ConsumerConfig.CLIENT_ID_CONFIG, StringDeserializer.class);\n        //kafkaParams.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, Json.class);\n        kafkaParams.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;myGroup&quot;); // giving the broker our consumer group\n        kafkaParams.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // setting it up to pull all records from kafka broker\n        kafkaParams.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n\n\n\n\n\n        stream = // you can also create an rdd if batch processing is better see: https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\n                KafkaUtils.createDirectStream( // here is where the stream is actually created and instantiated\n                        ssc,                  // this is the streaming context we created earlier\n                        LocationStrategies.PreferConsistent(), //This will distribute partitions among consumers equally\n                        ConsumerStrategies.Subscribe(topics, kafkaParams) //using consumerStrategies allows you to consume from a fixed number of topics, you can also do SubscribePattern to use a regex of topics of interest\n                );\n        stream.foreachRDD(x -&gt; x.foreach(System.out::println));\n\n\n        ssc.start();\n    }\n}\n</code></pre>\n<p>Here is my pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Kafka-Streaming-spark&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.scala-lang/scala-library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;2.12.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I just set it up to print out records to see if it was even consuming messages but I cant even get it to run. Also aplogize in advance if my question is poor this is my first time posting a question.</p>\n"},{"tags":["java","xml","jaxb","xjc"],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676416993,"creation_date":1676416993,"question_id":75454157,"body_markdown":"I&#39;m generating the Java classes corresponding to the XML-Schema at\r\nhttps://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\r\nbut most of the generated classes are undesired since they belong to the imported namespace:\r\n\r\n    &lt;xs:import namespace=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot;/&gt;\r\n\r\nIndeed, if I simply comment out this import statement then the generated classes go from 149 (mostly HTML elements) to just 59 (all belonging to the input schema domain).\r\n\r\nMy question is if/how it is possible to skip/ignore the generation of Java classes for certain XML elements and in this case the elements defined in an imported namespace,\r\ndefining some custom rules in a `.xjb` file.\r\n\r\nThe solution available at https://stackoverflow.com/a/20907846/8737144 didn&#39;t work in my case, returning the following error\r\n\r\n    com.sun.istack.SAXParseException2: compiler was unable to honor this class customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n\r\nIt is possible to test the generation using the following command:\r\n\r\n    xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\r\n---\r\n    &lt;!-- cwe-bindings.xjb --&gt;\r\n    &lt;jxb:bindings version=&quot;3.0&quot;\r\n                  xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n            &lt;jxb:schemaBindings&gt;\r\n                &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\r\n            &lt;/jxb:schemaBindings&gt;\r\n    \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 302 to &#39;langAttribute&#39; --&gt;\r\n            &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name=&#39;i18n&#39;]/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n           \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 1166 to &#39;langAttribute&#39; --&gt;\r\n           &lt;jxb:bindings node=&quot;//xsd:element[@name=&#39;bdo&#39;]/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n\r\n\r\n","title":"JAXB XJC: how to skip class generation for an imported namespace?","body":"<p>I'm generating the Java classes corresponding to the XML-Schema at\n<a href=\"https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd</a>\nbut most of the generated classes are undesired since they belong to the imported namespace:</p>\n<pre><code>&lt;xs:import namespace=&quot;http://www.w3.org/1999/xhtml&quot;\nschemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot;/&gt;\n</code></pre>\n<p>Indeed, if I simply comment out this import statement then the generated classes go from 149 (mostly HTML elements) to just 59 (all belonging to the input schema domain).</p>\n<p>My question is if/how it is possible to skip/ignore the generation of Java classes for certain XML elements and in this case the elements defined in an imported namespace,\ndefining some custom rules in a <code>.xjb</code> file.</p>\n<p>The solution available at <a href=\"https://stackoverflow.com/a/20907846/8737144\">https://stackoverflow.com/a/20907846/8737144</a> didn't work in my case, returning the following error</p>\n<pre><code>com.sun.istack.SAXParseException2: compiler was unable to honor this class customization. It is attached to a wrong place, or its inconsistent with other bindings.\n</code></pre>\n<p>It is possible to test the generation using the following command:</p>\n<pre><code>xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\n</code></pre>\n<hr />\n<pre><code>&lt;!-- cwe-bindings.xjb --&gt;\n&lt;jxb:bindings version=&quot;3.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n\n        &lt;!-- rename the 'lang' attribute on line 302 to 'langAttribute' --&gt;\n        &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name='i18n']/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n       \n        &lt;!-- rename the 'lang' attribute on line 1166 to 'langAttribute' --&gt;\n       &lt;jxb:bindings node=&quot;//xsd:element[@name='bdo']/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n"},{"tags":["java","jbpm"],"comments":[{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":1,"creation_date":1593005541,"post_id":62540912,"comment_id":110628016,"body_markdown":"what version of jbpm are you using? and please provide more details about : WorkItem , Save task, WorkItem 2, what are they doing?","body":"what version of jbpm are you using? and please provide more details about : WorkItem , Save task, WorkItem 2, what are they doing?"},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593006451,"post_id":62540912,"comment_id":110628588,"body_markdown":"7.33. WorkItem reads the url from config, has only output url (both are same, WorkItem and WorkItem2) save is a rest task, in the url there is set the url from the workitem, and it works but after human task i get that error","body":"7.33. WorkItem reads the url from config, has only output url (both are same, WorkItem and WorkItem2) save is a rest task, in the url there is set the url from the workitem, and it works but after human task i get that error"},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593070764,"post_id":62540912,"comment_id":110651824,"body_markdown":"Do you have any experience or Idea about this @Bashir","body":"Do you have any experience or Idea about this @Bashir"},{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":0,"creation_date":1593073540,"post_id":62540912,"comment_id":110653197,"body_markdown":"I can&#39;t figure out where the problem is, may be if you provide more details it can be helpful, such as input/output of the tasks, how you&#39;re handling the human task. also can you tell in which step exactly you&#39;re getting the error.","body":"I can&#39;t figure out where the problem is, may be if you provide more details it can be helpful, such as input/output of the tasks, how you&#39;re handling the human task. also can you tell in which step exactly you&#39;re getting the error."},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593082166,"post_id":62540912,"comment_id":110657613,"body_markdown":"The error happens when i try to do update. For working item i have only one output - url, the url im getting from config file. Do you know how can i change the flow, if the workitem makes the problem because is after human task?","body":"The error happens when i try to do update. For working item i have only one output - url, the url im getting from config file. Do you know how can i change the flow, if the workitem makes the problem because is after human task?"},{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":0,"creation_date":1593082825,"post_id":62540912,"comment_id":110657933,"body_markdown":"no it can&#39;t be the problem, did you change the version of your deployment?","body":"no it can&#39;t be the problem, did you change the version of your deployment?"},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593084357,"post_id":62540912,"comment_id":110658662,"body_markdown":"no, i think not. i&#39;ve added some dependency jar that contains the custom workitem that reads the url from config, but i don&#39;t think that is the problem, since it works for the first case with save","body":"no, i think not. i&#39;ve added some dependency jar that contains the custom workitem that reads the url from config, but i don&#39;t think that is the problem, since it works for the first case with save"},{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":0,"creation_date":1593084963,"post_id":62540912,"comment_id":110658972,"body_markdown":"I really don&#39;t find any problem with the provided information, just try to check if you have active processes and abort them. actually the Exception that you are getting may occur if you change the version of your deployment while you still have an active process instance or an active Task (check both and abort if you found one of them active). that&#39;s all I can help with","body":"I really don&#39;t find any problem with the provided information, just try to check if you have active processes and abort them. actually the Exception that you are getting may occur if you change the version of your deployment while you still have an active process instance or an active Task (check both and abort if you found one of them active). that&#39;s all I can help with"}],"answers":[{"tags":[],"owner":{"account_id":18462555,"reputation":11,"user_id":13449644,"display_name":"kpoasn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676416162,"creation_date":1676416162,"answer_id":75454081,"question_id":62540912,"body_markdown":"I have come across into the same problem quite a few times. It happens if you rebuild an artifact (e.g. for a hotfix, add an input or output variable in a task etc) in a version of some workflow and you have active instances with the same version in your runtime environment. Most probable cause is a mismatch in the byteArray which is saved in the ProcessInstanceInfo table in the database. Whenever I have experienced this error the particular instance becomes corrupt irrecoverably.","title":"JBPM - WorkItemNode cannot be cast to org.jbpm.workflow.core.node.HumanTaskNode","body":"<p>I have come across into the same problem quite a few times. It happens if you rebuild an artifact (e.g. for a hotfix, add an input or output variable in a task etc) in a version of some workflow and you have active instances with the same version in your runtime environment. Most probable cause is a mismatch in the byteArray which is saved in the ProcessInstanceInfo table in the database. Whenever I have experienced this error the particular instance becomes corrupt irrecoverably.</p>\n"}],"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1096,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676416162,"creation_date":1592934881,"question_id":62540912,"body_markdown":"\r\n\r\nI&#39;m reading the URL for Rest Service Tasks from custom WorkItem in JBPM - Business Central and in one case I have HumanTask before the reader, the WorkItem task, so it throws the exception bellow and i&#39;m stuck. How can i fix this?\r\n\r\n&gt; Unexpected error during processing\r\n&gt; org.jbpm.workflow.core.node.WorkItemNode cannot be cast to\r\n&gt; org.jbpm.workflow.core.node.HumanTaskNode:\r\n&gt; java.lang.ClassCastException: org.jbpm.workflow.core.node.WorkItemNode\r\n&gt; cannot be cast to org.jbpm.workflow.core.node.HumanTaskNode\r\n\r\n[![image][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/47bvp.png\r\n\r\nIs it having work item after a human task right move? If not how can I take the URL I&#39;m getting in work item? How can I fix this? Should I change the flow in order to fix it?","title":"JBPM - WorkItemNode cannot be cast to org.jbpm.workflow.core.node.HumanTaskNode","body":"<p>I'm reading the URL for Rest Service Tasks from custom WorkItem in JBPM - Business Central and in one case I have HumanTask before the reader, the WorkItem task, so it throws the exception bellow and i'm stuck. How can i fix this?</p>\n<blockquote>\n<p>Unexpected error during processing\norg.jbpm.workflow.core.node.WorkItemNode cannot be cast to\norg.jbpm.workflow.core.node.HumanTaskNode:\njava.lang.ClassCastException: org.jbpm.workflow.core.node.WorkItemNode\ncannot be cast to org.jbpm.workflow.core.node.HumanTaskNode</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/47bvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47bvp.png\" alt=\"image\" /></a></p>\n<p>Is it having work item after a human task right move? If not how can I take the URL I'm getting in work item? How can I fix this? Should I change the flow in order to fix it?</p>\n"},{"tags":["java","jpa","reflection","entity"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1676430996,"post_id":75454075,"comment_id":133133943,"body_markdown":"`EntityType.class.getConstructor().newInstance()` is the replacement.","body":"<code>EntityType.class.getConstructor().newInstance()</code> is the replacement."}],"owner":{"account_id":24523438,"reputation":83,"user_id":18436153,"display_name":"PositiveM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676416075,"creation_date":1676416075,"question_id":75454075,"body_markdown":"It is known that using a public or protected default constructor in an entity class is recommended when using JPA to enable a proxy class or class reflection.\r\n\r\nHowever, since the `Class.newInstance()` method has been deprecated since Java 9, \r\n\r\nI&#39;m curious to know what methods JPA uses to reflect classes, and whether using a default constructor is still recommended even now.","title":"Jpa Entity Class Reflection","body":"<p>It is known that using a public or protected default constructor in an entity class is recommended when using JPA to enable a proxy class or class reflection.</p>\n<p>However, since the <code>Class.newInstance()</code> method has been deprecated since Java 9,</p>\n<p>I'm curious to know what methods JPA uses to reflect classes, and whether using a default constructor is still recommended even now.</p>\n"},{"tags":["java","selenium-webdriver","testing","exchangewebservices","ewsjavaapi"],"answers":[{"tags":[],"owner":{"account_id":1085024,"reputation":20746,"user_id":1080923,"display_name":"Glen Scales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676415902,"creation_date":1676415902,"answer_id":75454058,"question_id":75450339,"body_markdown":"There are two ways of searching for items in Exchange using EWS a folder restriction which is what your doing above and using the a ContentIndex query which involves using a AQS query string eg https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-perform-an-aqs-search-by-using-ews-in-exchange. \r\n\r\nWith the restriction method when you use finditems and a searchfilter this creates a temporary restriction https://bill-long.com/2015/08/31/a-history-of-cached-restrictions-in-exchange/ that the Exchange server populates asynchronously in the background like the way searchfolders work. The problem with this type of search is when you have a folder with a large number of items and you making an expensive query like ContainsSubstring on the body is that it can take a long time for the server to update the temporary restriction which is what findItems uses to return the results. The Content index&#39;s which is what is searched when you use an AQS query will be updated much quicker and be a lot less of an expensive query so will work much better when you have folders with very large item counts. \r\n\r\nIf you really want to use a search filter and your doing the same query over and over on a Mailbox you can create a search folder which will generally update much quicker then a temporary restriction and the server doesn&#39;t need to rebuild and rescan all the items.","title":"Exchange Web Services Java API - Searching mailboxes returns the old result and doesn&#39;t retrieve the latest search results","body":"<p>There are two ways of searching for items in Exchange using EWS a folder restriction which is what your doing above and using the a ContentIndex query which involves using a AQS query string eg <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-perform-an-aqs-search-by-using-ews-in-exchange\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-perform-an-aqs-search-by-using-ews-in-exchange</a>.</p>\n<p>With the restriction method when you use finditems and a searchfilter this creates a temporary restriction <a href=\"https://bill-long.com/2015/08/31/a-history-of-cached-restrictions-in-exchange/\" rel=\"nofollow noreferrer\">https://bill-long.com/2015/08/31/a-history-of-cached-restrictions-in-exchange/</a> that the Exchange server populates asynchronously in the background like the way searchfolders work. The problem with this type of search is when you have a folder with a large number of items and you making an expensive query like ContainsSubstring on the body is that it can take a long time for the server to update the temporary restriction which is what findItems uses to return the results. The Content index's which is what is searched when you use an AQS query will be updated much quicker and be a lot less of an expensive query so will work much better when you have folders with very large item counts.</p>\n<p>If you really want to use a search filter and your doing the same query over and over on a Mailbox you can create a search folder which will generally update much quicker then a temporary restriction and the server doesn't need to rebuild and rescan all the items.</p>\n"}],"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75454058,"answer_count":1,"score":1,"last_activity_date":1676415902,"creation_date":1676390418,"question_id":75450339,"body_markdown":"Am using ews-java-api to connect exchange mail box and search the text &quot;ABCD&quot; which is the subject of the email\r\n\r\ni have used the code similar to the one in https://www.tabnine.com/code/java/methods/microsoft.exchange.webservices.data.search.ItemView/setPropertySet\r\n\r\nWhen it searches first time it is able to retrieve the exact no of results. in my case it is 18. After sometime there was another email triggered in the inbox and rerunning the same code has just brought same count of 18 emails where as the actual count in the inbox is 19\r\n\r\ncan you please help\r\n\r\n```\r\n\t\t\tconnectViaExchange();\r\n\t\t\tItemView view = new ItemView(100);\r\n\t\t\tview.getOrderBy().add(ItemSchema.DateTimeReceived, SortDirection.Ascending);\r\n\t\t\tview.setPropertySet(new PropertySet(BasePropertySet.IdOnly, ItemSchema.Subject, ItemSchema.DateTimeReceived));\t            \r\n\t\t\tFindItemsResults&lt;Item&gt; results = service.findItems(WellKnownFolderName.Inbox, new SearchFilter.SearchFilterCollection(LogicalOperator.And, new SearchFilter.ContainsSubstring(ItemSchema.Body, emailSearchString)), view);\r\n\t\t\tint count = results.getTotalCount();\r\n```\t\t\tSystem.out.println(&quot;Total No of Emails based on the search performed is: &quot;+count);","title":"Exchange Web Services Java API - Searching mailboxes returns the old result and doesn&#39;t retrieve the latest search results","body":"<p>Am using ews-java-api to connect exchange mail box and search the text &quot;ABCD&quot; which is the subject of the email</p>\n<p>i have used the code similar to the one in <a href=\"https://www.tabnine.com/code/java/methods/microsoft.exchange.webservices.data.search.ItemView/setPropertySet\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/methods/microsoft.exchange.webservices.data.search.ItemView/setPropertySet</a></p>\n<p>When it searches first time it is able to retrieve the exact no of results. in my case it is 18. After sometime there was another email triggered in the inbox and rerunning the same code has just brought same count of 18 emails where as the actual count in the inbox is 19</p>\n<p>can you please help</p>\n<pre><code>            connectViaExchange();\n            ItemView view = new ItemView(100);\n            view.getOrderBy().add(ItemSchema.DateTimeReceived, SortDirection.Ascending);\n            view.setPropertySet(new PropertySet(BasePropertySet.IdOnly, ItemSchema.Subject, ItemSchema.DateTimeReceived));              \n            FindItemsResults&lt;Item&gt; results = service.findItems(WellKnownFolderName.Inbox, new SearchFilter.SearchFilterCollection(LogicalOperator.And, new SearchFilter.ContainsSubstring(ItemSchema.Body, emailSearchString)), view);\n            int count = results.getTotalCount();\n```         System.out.println(&quot;Total No of Emails based on the search performed is: &quot;+count);\n</code></pre>\n"},{"tags":["java","variables","netbeans","switch-statement","simplify"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676416522,"post_id":75453742,"comment_id":133132103,"body_markdown":"You can use a loop over your `lbuP` `List` to create a `List` of `MenuItem`s.","body":"You can use a loop over your <code>lbuP</code> <code>List</code> to create a <code>List</code> of <code>MenuItem</code>s."}],"owner":{"account_id":27787947,"reputation":1,"user_id":21214972,"display_name":"Jes&#250;s Benjam&#237;n S&#225;nchez Rivera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676415732,"creation_date":1676412931,"question_id":75453742,"body_markdown":"I have this monster of code, because depending on the length of the list, it is the number of times that I have to add that result to the menu.\r\n\r\nDoes anyone know how to simplify these entries to the list? I cannot use the same variable since the method overwrites the last input...\r\n\r\n```\r\n//This list receives a list of values\r\nList&lt;LBUResumen&gt; lbu = CargarTabla.cargarTablaLBUResumen();\r\n        //This for loop generates a menuitem for each value in the list lbu\r\n        for (int a = 0; a &lt; lbu.size(); a++) {\r\n            MenuItem menu = null;\r\n            String supervisor = lbu.get(a).getSupervisor();\r\n            //This is a model of a table, we store a value that helps us \r\n            //make reference to another table in the database\r\n            modr.setIdArea(lbu.get(a).getIdArea());\r\n           //This list saves the results of the query\r\n            List&lt;Puesto&gt; lbuP = CargarTabla.cargarTablaPuesto(modr);\r\n           //Conditions according to the size of the query\r\n            switch (lbuP.size()) {\r\n                case 1: {\r\n                    String puesto = lbuP.get(0).getNombre_Puesto();\r\n                    int propuestoP = lbu.get(0).getPropuesto();\r\n                    int propuestoS = lbu.get(a).getPropuesto();\r\n                    MenuItem submenu1 = new MenuItem(puesto, propuestoP, null);\r\n                    menu = new MenuItem(supervisor, propuestoS, null,\r\n                            submenu1);\r\n                    addMenu(menu);\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\r\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\r\n                    int propuestoP1 = lbu.get(0).getPropuesto();\r\n                    int propuestoP2 = lbu.get(1).getPropuesto();\r\n                    int propuestoS = lbu.get(a).getPropuesto();\r\n                    int propuestoD = lbu.get(a).getDiferencia();\r\n                    int propuestoP = lbu.get(a).getPlantilla();\r\n                    int A = lbu.get(a).getTurnoA();\r\n                    int B = lbu.get(a).getTurnoB();\r\n                    int C = lbu.get(a).getTurnoC();\r\n                    int D = lbu.get(a).getTurnoD();\r\n                    int LV = lbu.get(a).getTurnoLV();\r\n                    SubMenuItem submenu1 = new SubMenuItem(puesto1, 0, 0, 0, \r\n                            0, 0, 0, 0, 0, null);\r\n                    SubMenuItem submenu2 = new SubMenuItem(puesto2, 0, 0, 0, \r\n                            0, 0, 0, 0, 0, null);\r\n                    menu = new MenuItem(supervisor, propuestoS, propuestoD, propuestoP,\r\n                            A, B, C, D, LV,\r\n                            null, submenu1, submenu2);\r\n                    addMenu(menu);\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\r\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\r\n                    String puesto3 = lbuP.get(2).getNombre_Puesto();\r\n                    int propuestoP1 = lbu.get(0).getPropuesto();\r\n                    int propuestoP2 = lbu.get(1).getPropuesto();\r\n                    int propuestoP3 = lbu.get(2).getPropuesto();\r\n                    int propuestoS = lbu.get(a).getPropuesto();\r\n                    MenuItem submenu1 = new MenuItem(puesto1, propuestoP1, null);\r\n                    MenuItem submenu2 = new MenuItem(puesto2, propuestoP2, null);\r\n                    MenuItem submenu3 = new MenuItem(puesto3, propuestoP3, null);\r\n                    menu = new MenuItem(supervisor, propuestoS, null,\r\n                            submenu1, submenu2, submenu3);\r\n                    addMenu(menu);\r\n                    break;\r\n                }\r\n```\r\n\r\nSo I wanted to know if it is possible in some way to simplify the statements so that I don&#39;t have so many lines of code in the switch,Thanks in advance &lt;3\r\n\r\n\r\nThis is the method that receives the submenus, it makes an instance of itself\r\n\r\n\r\n```\r\nprivate void addMenu(MenuItem... menu) {\r\n        for (int i = 0; i &lt; menu.length; i++) {\r\n            frm.jPanel1.add(menu[i]);\r\n            ArrayList&lt;MenuItem&gt; subMenu = menu[i].getSubMenu();\r\n            for (MenuItem m : subMenu) {\r\n                addMenu(m);\r\n            }\r\n        }\r\n        frm.jPanel1.revalidate();\r\n    }\r\n```\r\n\r\nThis is the constructor class to MenuItem\r\n\r\n```\r\n public MenuItem(String menuName, int propuesto, ActionListener act, MenuItem... subMenu) {\r\n        initComponents();\r\n        lbName.setText(menuName);\r\n        lbPropuesto.setText(menuName);\r\n        if (act != null) {\r\n            this.act = act;\r\n        }\r\n        this.setSize(new Dimension(Integer.MAX_VALUE, 60));\r\n        this.setMaximumSize(new Dimension(Integer.MAX_VALUE, 60));\r\n        this.setMinimumSize(new Dimension(Integer.MAX_VALUE, 60));\r\n        for (int i = 0; i &lt; subMenu.length; i++) {\r\n            this.subMenu.add(subMenu[i]);\r\n            subMenu[i].setVisible(false);\r\n        }\r\n    }\r\n```\r\n","title":"Simplify Switch with multiple variables in Java","body":"<p>I have this monster of code, because depending on the length of the list, it is the number of times that I have to add that result to the menu.</p>\n<p>Does anyone know how to simplify these entries to the list? I cannot use the same variable since the method overwrites the last input...</p>\n<pre><code>//This list receives a list of values\nList&lt;LBUResumen&gt; lbu = CargarTabla.cargarTablaLBUResumen();\n        //This for loop generates a menuitem for each value in the list lbu\n        for (int a = 0; a &lt; lbu.size(); a++) {\n            MenuItem menu = null;\n            String supervisor = lbu.get(a).getSupervisor();\n            //This is a model of a table, we store a value that helps us \n            //make reference to another table in the database\n            modr.setIdArea(lbu.get(a).getIdArea());\n           //This list saves the results of the query\n            List&lt;Puesto&gt; lbuP = CargarTabla.cargarTablaPuesto(modr);\n           //Conditions according to the size of the query\n            switch (lbuP.size()) {\n                case 1: {\n                    String puesto = lbuP.get(0).getNombre_Puesto();\n                    int propuestoP = lbu.get(0).getPropuesto();\n                    int propuestoS = lbu.get(a).getPropuesto();\n                    MenuItem submenu1 = new MenuItem(puesto, propuestoP, null);\n                    menu = new MenuItem(supervisor, propuestoS, null,\n                            submenu1);\n                    addMenu(menu);\n                    break;\n                }\n                case 2: {\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\n                    int propuestoP1 = lbu.get(0).getPropuesto();\n                    int propuestoP2 = lbu.get(1).getPropuesto();\n                    int propuestoS = lbu.get(a).getPropuesto();\n                    int propuestoD = lbu.get(a).getDiferencia();\n                    int propuestoP = lbu.get(a).getPlantilla();\n                    int A = lbu.get(a).getTurnoA();\n                    int B = lbu.get(a).getTurnoB();\n                    int C = lbu.get(a).getTurnoC();\n                    int D = lbu.get(a).getTurnoD();\n                    int LV = lbu.get(a).getTurnoLV();\n                    SubMenuItem submenu1 = new SubMenuItem(puesto1, 0, 0, 0, \n                            0, 0, 0, 0, 0, null);\n                    SubMenuItem submenu2 = new SubMenuItem(puesto2, 0, 0, 0, \n                            0, 0, 0, 0, 0, null);\n                    menu = new MenuItem(supervisor, propuestoS, propuestoD, propuestoP,\n                            A, B, C, D, LV,\n                            null, submenu1, submenu2);\n                    addMenu(menu);\n                    break;\n                }\n                case 3: {\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\n                    String puesto3 = lbuP.get(2).getNombre_Puesto();\n                    int propuestoP1 = lbu.get(0).getPropuesto();\n                    int propuestoP2 = lbu.get(1).getPropuesto();\n                    int propuestoP3 = lbu.get(2).getPropuesto();\n                    int propuestoS = lbu.get(a).getPropuesto();\n                    MenuItem submenu1 = new MenuItem(puesto1, propuestoP1, null);\n                    MenuItem submenu2 = new MenuItem(puesto2, propuestoP2, null);\n                    MenuItem submenu3 = new MenuItem(puesto3, propuestoP3, null);\n                    menu = new MenuItem(supervisor, propuestoS, null,\n                            submenu1, submenu2, submenu3);\n                    addMenu(menu);\n                    break;\n                }\n</code></pre>\n<p>So I wanted to know if it is possible in some way to simplify the statements so that I don't have so many lines of code in the switch,Thanks in advance &lt;3</p>\n<p>This is the method that receives the submenus, it makes an instance of itself</p>\n<pre><code>private void addMenu(MenuItem... menu) {\n        for (int i = 0; i &lt; menu.length; i++) {\n            frm.jPanel1.add(menu[i]);\n            ArrayList&lt;MenuItem&gt; subMenu = menu[i].getSubMenu();\n            for (MenuItem m : subMenu) {\n                addMenu(m);\n            }\n        }\n        frm.jPanel1.revalidate();\n    }\n</code></pre>\n<p>This is the constructor class to MenuItem</p>\n<pre><code> public MenuItem(String menuName, int propuesto, ActionListener act, MenuItem... subMenu) {\n        initComponents();\n        lbName.setText(menuName);\n        lbPropuesto.setText(menuName);\n        if (act != null) {\n            this.act = act;\n        }\n        this.setSize(new Dimension(Integer.MAX_VALUE, 60));\n        this.setMaximumSize(new Dimension(Integer.MAX_VALUE, 60));\n        this.setMinimumSize(new Dimension(Integer.MAX_VALUE, 60));\n        for (int i = 0; i &lt; subMenu.length; i++) {\n            this.subMenu.add(subMenu[i]);\n            subMenu[i].setVisible(false);\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","ant","classpath"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676414898,"creation_date":1676414898,"answer_id":75453954,"question_id":75453874,"body_markdown":"javax.xml.bind was deleted in JDK11, or 9 or.. something after 8. JDK9 broke a ton of stuff. In eclipse you&#39;re compiling on JDK9+, on the command line you&#39;re compiling vs JDK8. Edit your eclipse project to use JDK8. Alternatively, [see this answer about fixing `javax.xml.bind`](https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception).\r\n\r\nYou probably also have to replace sun.misc.BASE64; JDK8+ ships with [base64 built in](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html), for what its worth - just use that. `sun.misc` was never really public API, which is possibly why it was unceremoniously just removed.\r\n","title":"Ant bulid runs on command line (Windows), but fails in Eclipse","body":"<p>javax.xml.bind was deleted in JDK11, or 9 or.. something after 8. JDK9 broke a ton of stuff. In eclipse you're compiling on JDK9+, on the command line you're compiling vs JDK8. Edit your eclipse project to use JDK8. Alternatively, <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">see this answer about fixing <code>javax.xml.bind</code></a>.</p>\n<p>You probably also have to replace sun.misc.BASE64; JDK8+ ships with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">base64 built in</a>, for what its worth - just use that. <code>sun.misc</code> was never really public API, which is possibly why it was unceremoniously just removed.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676415574,"creation_date":1676415574,"answer_id":75454021,"question_id":75453874,"body_markdown":"Eclipse can&#39;t run Ant internally with the version of Java you want to use. The bridging code it uses was [compiled for Java 11][1] so that it wouldn&#39;t simply break with Java 18 onward, and *those new Java versions keep coming*, so it&#39;s run using Java 11 or higher. Because of that requirement, you&#39;re running up against Java 11 having removed several packages that were in Java 1.8, like `javax.xml.bind` (it was deprecated in Java 9).\r\n\r\nYou probably should update that stack at some point, though. The MySQL version you&#39;re using is years out of support.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=579317#c25","title":"Ant bulid runs on command line (Windows), but fails in Eclipse","body":"<p>Eclipse can't run Ant internally with the version of Java you want to use. The bridging code it uses was <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=579317#c25\" rel=\"nofollow noreferrer\">compiled for Java 11</a> so that it wouldn't simply break with Java 18 onward, and <em>those new Java versions keep coming</em>, so it's run using Java 11 or higher. Because of that requirement, you're running up against Java 11 having removed several packages that were in Java 1.8, like <code>javax.xml.bind</code> (it was deprecated in Java 9).</p>\n<p>You probably should update that stack at some point, though. The MySQL version you're using is years out of support.</p>\n"}],"owner":{"account_id":407133,"reputation":3,"user_id":5759598,"display_name":"Agile Entrepreneur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75454021,"answer_count":2,"score":0,"last_activity_date":1676415574,"creation_date":1676414047,"question_id":75453874,"body_markdown":"I have a J2EE program that I have been maintaining since 2006/7.\r\nThe Ant build compiles all Java/J2EE code, creates the database in MySql and imports data into it, and deploys the build (exploded) war into Tomcat.\r\n\r\nThere&#39;s been no changes to the code in years.\r\nThe only changes are in the stack - where I was forced to update the versions of Java (1.8), MySql (5.5), Eclipse, and lately, Windows (11).\r\n\r\nThis build runs flawlessly and I&#39;m able to launch the website and run it successfully.\r\nThe only thing that&#39;s changed is that somehow I&#39;m unable to run the Ant build from inside Eclipse now.\r\n\r\nI created the Eclipse project by importing the existing source folder.\r\nThen I created the &#39;Ant build&#39; in the &#39;External Tools Configuration&#39;.\r\n(I&#39;ve been doing this in Eclipse since 2004, so I know the overall configurations I need to make.)\r\n\r\nBut somehow, either something&#39;s changed in Eclipse that I can&#39;t put my finger on or because I&#39;m making a really silly error without knowing what it is, the Ant build from inside Eclipse keeps failing.\r\n\r\n\r\nI&#39;ve been trying all kinds of things to fix the Classpath, but nothing seems to work.\r\nThis exact same build works with no changes from the command prompt.\r\nSo, it&#39;s not a question of missing libraries - just finding them.\r\n\r\nWhat&#39;s happening?\r\nPlease help!\r\n\r\nDETAILS:\r\n\r\nAnt target &#39;compile&#39;:\r\n\r\n```\r\n&lt;!-- Normal build of application --&gt;\r\n&lt;target name=&quot;compile&quot; depends=&quot;prepare,copy-resources&quot;&gt;\r\n    &lt;javac srcdir=&quot;src/java&quot; destdir=&quot;${webinf.dir}/classes&quot; debug=&quot;true&quot;&gt;\r\n        &lt;classpath refid=&quot;compile.classpath&quot; /&gt;\r\n    &lt;/javac&gt;\r\n\r\nError in execution of &#39;compile&#39;:\r\n\r\ncompile:\r\n    [javac] &lt;PROJECT_LOC&gt;\\ant\\build.xml:163: warning: &#39;includeantruntime&#39; was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\r\n    [javac] Compiling 439 source files to C:\\&lt;src_root_folder&gt;\\WebContent\\WEB-INF\\classes\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:32: error: package javax.xml.bind does not exist\r\n    [javac] import javax.xml.bind.JAXBException;\r\n    [javac]                      ^\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:33: error: package javax.xml.bind does not exist\r\n    [javac] import javax.xml.bind.Marshaller;\r\n    [javac]                      ^\r\n    [javac] &lt;PROJECT_LOC&gt;&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:34: error: package javax.xml.bind does not exist\r\n    [javac] import javax.xml.bind.JAXBContext;\r\n    [javac]                      ^\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:52: error: cannot find symbol\r\n    [javac] \tprotected Marshaller marshaller;\r\n    [javac] \t          ^\r\n    [javac]   symbol:   class Marshaller\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:87: error: cannot find symbol\r\n    [javac] \tprivate Marshaller newMarshaller() {\r\n    [javac] \t        ^\r\n    [javac]   symbol:   class Marshaller\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:26: error: cannot find symbol\r\n    [javac] import sun.misc.BASE64Encoder;\r\n    [javac]                ^\r\n    [javac]   symbol:   class BASE64Encoder\r\n    [javac]   location: package sun.misc\r\n...\r\n...\r\n...\r\n   [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\r\n    [javac] \t\t\tJAXBContext jc = JAXBContext\r\n    [javac] \t\t\t^\r\n    [javac]   symbol:   class JAXBContext\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\r\n    [javac] \t\t\tJAXBContext jc = JAXBContext\r\n    [javac] \t\t\t                 ^\r\n    [javac]   symbol:   variable JAXBContext\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:92: error: cannot find symbol\r\n    [javac] \t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\r\n    [javac] \t\t\t                       ^\r\n    [javac]   symbol:   variable Marshaller\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:95: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException jaxbe) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:102: error: cannot access JAXBContext\r\n    [javac] \t\t\tRequestHeader header = factory.createRequestHeader();\r\n    [javac] \t\t\t                              ^\r\n    [javac]   class file for javax.xml.bind.JAXBContext not found\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:103: error: cannot access Element\r\n    [javac] \t\t\theader.setClientName(clientName);\r\n    [javac] \t\t\t      ^\r\n    [javac]   class file for javax.xml.bind.Element not found\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:108: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException jaxbe) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:128: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException jaxbe) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class GeoCodeClient\r\n...\r\n...\r\n...\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:51: error: cannot find symbol\r\n    [javac] \t\tString hash = (new BASE64Encoder()).encode(raw);\r\n    [javac] \t\t                   ^\r\n    [javac]   symbol:   class BASE64Encoder\r\n    [javac]   location: class PasswordService\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:102: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException e) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class DeCartaGeoCodeService\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:166: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException e) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class DeCartaGeoCodeService\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:263: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException e) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class DeCartaGeoCodeService\r\n```\r\n","title":"Ant bulid runs on command line (Windows), but fails in Eclipse","body":"<p>I have a J2EE program that I have been maintaining since 2006/7.\nThe Ant build compiles all Java/J2EE code, creates the database in MySql and imports data into it, and deploys the build (exploded) war into Tomcat.</p>\n<p>There's been no changes to the code in years.\nThe only changes are in the stack - where I was forced to update the versions of Java (1.8), MySql (5.5), Eclipse, and lately, Windows (11).</p>\n<p>This build runs flawlessly and I'm able to launch the website and run it successfully.\nThe only thing that's changed is that somehow I'm unable to run the Ant build from inside Eclipse now.</p>\n<p>I created the Eclipse project by importing the existing source folder.\nThen I created the 'Ant build' in the 'External Tools Configuration'.\n(I've been doing this in Eclipse since 2004, so I know the overall configurations I need to make.)</p>\n<p>But somehow, either something's changed in Eclipse that I can't put my finger on or because I'm making a really silly error without knowing what it is, the Ant build from inside Eclipse keeps failing.</p>\n<p>I've been trying all kinds of things to fix the Classpath, but nothing seems to work.\nThis exact same build works with no changes from the command prompt.\nSo, it's not a question of missing libraries - just finding them.</p>\n<p>What's happening?\nPlease help!</p>\n<p>DETAILS:</p>\n<p>Ant target 'compile':</p>\n<pre><code>&lt;!-- Normal build of application --&gt;\n&lt;target name=&quot;compile&quot; depends=&quot;prepare,copy-resources&quot;&gt;\n    &lt;javac srcdir=&quot;src/java&quot; destdir=&quot;${webinf.dir}/classes&quot; debug=&quot;true&quot;&gt;\n        &lt;classpath refid=&quot;compile.classpath&quot; /&gt;\n    &lt;/javac&gt;\n\nError in execution of 'compile':\n\ncompile:\n    [javac] &lt;PROJECT_LOC&gt;\\ant\\build.xml:163: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 439 source files to C:\\&lt;src_root_folder&gt;\\WebContent\\WEB-INF\\classes\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:32: error: package javax.xml.bind does not exist\n    [javac] import javax.xml.bind.JAXBException;\n    [javac]                      ^\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:33: error: package javax.xml.bind does not exist\n    [javac] import javax.xml.bind.Marshaller;\n    [javac]                      ^\n    [javac] &lt;PROJECT_LOC&gt;&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:34: error: package javax.xml.bind does not exist\n    [javac] import javax.xml.bind.JAXBContext;\n    [javac]                      ^\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:52: error: cannot find symbol\n    [javac]     protected Marshaller marshaller;\n    [javac]               ^\n    [javac]   symbol:   class Marshaller\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:87: error: cannot find symbol\n    [javac]     private Marshaller newMarshaller() {\n    [javac]             ^\n    [javac]   symbol:   class Marshaller\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:26: error: cannot find symbol\n    [javac] import sun.misc.BASE64Encoder;\n    [javac]                ^\n    [javac]   symbol:   class BASE64Encoder\n    [javac]   location: package sun.misc\n...\n...\n...\n   [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\n    [javac]             JAXBContext jc = JAXBContext\n    [javac]             ^\n    [javac]   symbol:   class JAXBContext\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\n    [javac]             JAXBContext jc = JAXBContext\n    [javac]                              ^\n    [javac]   symbol:   variable JAXBContext\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:92: error: cannot find symbol\n    [javac]             marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\n    [javac]                                    ^\n    [javac]   symbol:   variable Marshaller\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:95: error: cannot find symbol\n    [javac]         } catch (JAXBException jaxbe) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:102: error: cannot access JAXBContext\n    [javac]             RequestHeader header = factory.createRequestHeader();\n    [javac]                                           ^\n    [javac]   class file for javax.xml.bind.JAXBContext not found\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:103: error: cannot access Element\n    [javac]             header.setClientName(clientName);\n    [javac]                   ^\n    [javac]   class file for javax.xml.bind.Element not found\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:108: error: cannot find symbol\n    [javac]         } catch (JAXBException jaxbe) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:128: error: cannot find symbol\n    [javac]         } catch (JAXBException jaxbe) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class GeoCodeClient\n...\n...\n...\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:51: error: cannot find symbol\n    [javac]         String hash = (new BASE64Encoder()).encode(raw);\n    [javac]                            ^\n    [javac]   symbol:   class BASE64Encoder\n    [javac]   location: class PasswordService\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:102: error: cannot find symbol\n    [javac]         } catch (JAXBException e) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class DeCartaGeoCodeService\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:166: error: cannot find symbol\n    [javac]         } catch (JAXBException e) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class DeCartaGeoCodeService\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:263: error: cannot find symbol\n    [javac]         } catch (JAXBException e) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class DeCartaGeoCodeService\n</code></pre>\n"},{"tags":["java","sql","conditional-statements"],"comments":[{"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"score":1,"creation_date":1676414134,"post_id":75453853,"comment_id":133131685,"body_markdown":"Not sure it&#39;s the best solution, but I often see people write dynamic queries as `SELECT * FROM table WHERE 1=2`. Then all of your additional clauses could have `OR`s, regardless of order. (Would be `WHERE 1=1` for `AND`s)","body":"Not sure it&#39;s the best solution, but I often see people write dynamic queries as <code>SELECT * FROM table WHERE 1=2</code>. Then all of your additional clauses could have <code>OR</code>s, regardless of order. (Would be <code>WHERE 1=1</code> for <code>AND</code>s)"},{"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"score":0,"creation_date":1676414629,"post_id":75453853,"comment_id":133131790,"body_markdown":"You could use &quot;if .... else if .. else if ....&quot;","body":"You could use &quot;if .... else if .. else if ....&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676414811,"creation_date":1676414811,"answer_id":75453943,"question_id":75453853,"body_markdown":"I would suggest using a flexible prepared statement:\r\n\r\n    select school\r\n    from School school\r\n    where (school.name LIKE :name OR :name IS NULL) AND\r\n          (school.adr LIKE :adr OR :adr IS NULL)\r\n\r\nEach condition in the `WHERE` clause will evaluate to true and no-op should the bound parameter be null.  Note that JPA does not have any `contains()` function, so instead you should bind `%some name%` to the `:name` parameter.","title":"Create a query string with or condition","body":"<p>I would suggest using a flexible prepared statement:</p>\n<pre><code>select school\nfrom School school\nwhere (school.name LIKE :name OR :name IS NULL) AND\n      (school.adr LIKE :adr OR :adr IS NULL)\n</code></pre>\n<p>Each condition in the <code>WHERE</code> clause will evaluate to true and no-op should the bound parameter be null.  Note that JPA does not have any <code>contains()</code> function, so instead you should bind <code>%some name%</code> to the <code>:name</code> parameter.</p>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676414811,"creation_date":1676413840,"question_id":75453853,"body_markdown":" I create a jpql query with a string\r\n\r\n        StringBuilder stringQuery = new StringBuilder();\r\n\r\n        stringQuery.append(&quot;select school from School school where   &quot;);\r\n\r\n        if(schooSearch.name()!=null &amp;&amp; !schooSearch.name()){\r\n\r\n            stringQuery.append(&quot; contains( &quot;);\r\n            stringQuery.append(&quot;school.name, &quot;);\r\n            stringQuery.append(&quot;:name&quot;);\r\n            stringQuery.append(&quot; ) &gt; 0 &quot;);\r\n        }\r\n\r\n        if(schooSearch.adr()!=null &amp;&amp; !schooSearch.adr().isEmpty()){\r\n\r\n            stringQuery.append(&quot; or &quot;);\r\n            stringQuery.append(&quot; school.adr like  &quot;);\r\n            stringQuery.append(&quot;:adr&quot;);\r\n\r\n        } \r\n        \r\n\r\nAll conditions use **or**, i have many other fields.\r\n\r\nWhat is the way to avoid to check for every condition if it&#39;s the first field and we need a where","title":"Create a query string with or condition","body":"<p>I create a jpql query with a string</p>\n<pre><code>    StringBuilder stringQuery = new StringBuilder();\n\n    stringQuery.append(&quot;select school from School school where   &quot;);\n\n    if(schooSearch.name()!=null &amp;&amp; !schooSearch.name()){\n\n        stringQuery.append(&quot; contains( &quot;);\n        stringQuery.append(&quot;school.name, &quot;);\n        stringQuery.append(&quot;:name&quot;);\n        stringQuery.append(&quot; ) &gt; 0 &quot;);\n    }\n\n    if(schooSearch.adr()!=null &amp;&amp; !schooSearch.adr().isEmpty()){\n\n        stringQuery.append(&quot; or &quot;);\n        stringQuery.append(&quot; school.adr like  &quot;);\n        stringQuery.append(&quot;:adr&quot;);\n\n    } \n    \n</code></pre>\n<p>All conditions use <strong>or</strong>, i have many other fields.</p>\n<p>What is the way to avoid to check for every condition if it's the first field and we need a where</p>\n"},{"tags":["java","benchmarking"],"owner":{"account_id":27787578,"reputation":1,"user_id":21214690,"display_name":"programmer234178x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676414479,"answer_count":0,"score":0,"last_activity_date":1676414340,"creation_date":1676408248,"question_id":75453207,"body_markdown":"Like the title states I am trying to benchmark a cycle and obtain cpu load and memory consumed. I have tried `getProcessCpuLoad()` with not much success. Note that I have tried it out with a thread sleep of 3 seconds before and after the cycle. With the memory tried the `getMemoryPoolMXBeans`, but not much success. Is there a Java library that can help me achieve this or a tool.\r\n\r\nWhat can I do?\r\n\r\nI don&#39;t have the latest version of the code with me, here is the one of the previous versions it is missing the sleep thread, though probably the entire code is wrong:\r\n\r\n```\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.MemoryPoolMXBean;\r\nimport java.lang.management.MemoryUsage;\r\nimport java.util.List;\r\nimport com.sun.management.OperatingSystemMXBean;\r\n\r\nclass HelloWorld {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    System.out.println(&quot;result of getMemoryPoolMXBeans &quot;);\r\n\r\n    List &lt; MemoryPoolMXBean &gt; mpmxList = ManagementFactory.getMemoryPoolMXBeans();\r\n\r\n    long BeforememoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      BeforememoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    //before \r\n\r\n    //  System.out.println(memoryUse); \r\n\r\n    long acc = 0;\r\n\r\n    OperatingSystemMXBean osBean = ManagementFactory.getPlatformMXBean(\r\n\r\n      OperatingSystemMXBean.class);\r\n\r\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \r\n\r\n    double x = osBean.getProcessCpuLoad();\r\n\r\n    for (int i = 0; i &lt; 100000000; i++) {\r\n\r\n      acc++;\r\n\r\n    }\r\n\r\n    System.out.println(x + &quot;\\n&quot;);\r\n\r\n    System.out.println(osBean.getProcessCpuLoad() + &quot;\\n&quot;);\r\n\r\n    x = osBean.getProcessCpuLoad() - x;\r\n\r\n    System.out.println(&quot;Cpu load for first statement= &quot; + x);\r\n\r\n    //after \r\n\r\n    long AftermemoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      AftermemoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    System.out.println(&quot;Memory used by the first statement&quot; + (AftermemoryUse - BeforememoryUse));\r\n\r\n    //second statement \r\n\r\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \r\n\r\n    BeforememoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      BeforememoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    //before \r\n\r\n    //  System.out.println(memoryUse); \r\n\r\n    acc = 0;\r\n\r\n    x = osBean.getProcessCpuLoad();\r\n\r\n    for (int i = 0; i &lt; 10000; i++) {\r\n\r\n      acc++;\r\n\r\n    }\r\n\r\n    //after \r\n\r\n    x = osBean.getProcessCpuLoad() - x;\r\n\r\n    AftermemoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      AftermemoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    System.out.println(&quot;Cpu load for second statement= &quot; + x);\r\n\r\n    System.out.println(&quot;Memory used by the second statement&quot; + (AftermemoryUse - BeforememoryUse));\r\n\r\n  }\r\n```","title":"How can I measure the cpu load and memory consumed by a block of code like a while or for cycle?","body":"<p>Like the title states I am trying to benchmark a cycle and obtain cpu load and memory consumed. I have tried <code>getProcessCpuLoad()</code> with not much success. Note that I have tried it out with a thread sleep of 3 seconds before and after the cycle. With the memory tried the <code>getMemoryPoolMXBeans</code>, but not much success. Is there a Java library that can help me achieve this or a tool.</p>\n<p>What can I do?</p>\n<p>I don't have the latest version of the code with me, here is the one of the previous versions it is missing the sleep thread, though probably the entire code is wrong:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.MemoryPoolMXBean;\nimport java.lang.management.MemoryUsage;\nimport java.util.List;\nimport com.sun.management.OperatingSystemMXBean;\n\nclass HelloWorld {\n\n  public static void main(String[] args) {\n\n    System.out.println(&quot;result of getMemoryPoolMXBeans &quot;);\n\n    List &lt; MemoryPoolMXBean &gt; mpmxList = ManagementFactory.getMemoryPoolMXBeans();\n\n    long BeforememoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      BeforememoryUse += mu.getUsed();\n\n    }\n\n    //before \n\n    //  System.out.println(memoryUse); \n\n    long acc = 0;\n\n    OperatingSystemMXBean osBean = ManagementFactory.getPlatformMXBean(\n\n      OperatingSystemMXBean.class);\n\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \n\n    double x = osBean.getProcessCpuLoad();\n\n    for (int i = 0; i &lt; 100000000; i++) {\n\n      acc++;\n\n    }\n\n    System.out.println(x + &quot;\\n&quot;);\n\n    System.out.println(osBean.getProcessCpuLoad() + &quot;\\n&quot;);\n\n    x = osBean.getProcessCpuLoad() - x;\n\n    System.out.println(&quot;Cpu load for first statement= &quot; + x);\n\n    //after \n\n    long AftermemoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      AftermemoryUse += mu.getUsed();\n\n    }\n\n    System.out.println(&quot;Memory used by the first statement&quot; + (AftermemoryUse - BeforememoryUse));\n\n    //second statement \n\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \n\n    BeforememoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      BeforememoryUse += mu.getUsed();\n\n    }\n\n    //before \n\n    //  System.out.println(memoryUse); \n\n    acc = 0;\n\n    x = osBean.getProcessCpuLoad();\n\n    for (int i = 0; i &lt; 10000; i++) {\n\n      acc++;\n\n    }\n\n    //after \n\n    x = osBean.getProcessCpuLoad() - x;\n\n    AftermemoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      AftermemoryUse += mu.getUsed();\n\n    }\n\n    System.out.println(&quot;Cpu load for second statement= &quot; + x);\n\n    System.out.println(&quot;Memory used by the second statement&quot; + (AftermemoryUse - BeforememoryUse));\n\n  }\n</code></pre>\n"},{"tags":["java","reflection","containers"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676413598,"creation_date":1676413598,"answer_id":75453824,"question_id":75453668,"body_markdown":"&gt; ```java\r\n&gt; (List)field.get(this.getClass());\r\n&gt; ```\r\n\r\nThe `.get` method on `j.l.reflect.Field` requires the instance that you want to get the field from. You&#39;re passing the class. Which is an object of type `java.lang.Class`, which, of course, does not have this field, and therefore, you can&#39;t get the value of it. You want `this` instead.\r\n\r\nActually, none of this makes sense, you&#39;re right there, just read your own field. I assume this is test code, but if not, none of this makes sense in the first place.\r\n","title":"trying to set a member ArrayList using reflection","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>(List)field.get(this.getClass());\n</code></pre>\n</blockquote>\n<p>The <code>.get</code> method on <code>j.l.reflect.Field</code> requires the instance that you want to get the field from. You're passing the class. Which is an object of type <code>java.lang.Class</code>, which, of course, does not have this field, and therefore, you can't get the value of it. You want <code>this</code> instead.</p>\n<p>Actually, none of this makes sense, you're right there, just read your own field. I assume this is test code, but if not, none of this makes sense in the first place.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676413635,"creation_date":1676413635,"answer_id":75453826,"question_id":75453668,"body_markdown":"You ask the wrong object for the value of the field.\r\n\r\nWhen you write\r\n\r\n    field.get(this.getClass())\r\n\r\nyou try to get the value that the (reflected) field has on some instance. The object that you pass to retrieve the value from is `this.getClass()` which is an instance of `java.lang.Class` - and `java.lang.Class` has no field (for example) &quot;phoneNumbers&quot;.\r\n\r\nTo retrieve a field from your instance you must write\r\n\r\n    field.get(this)\r\n\r\nBut then, the commented out line\r\n\r\n    array.add(tables.get(0));\r\n\r\ndoesn&#39;t make any sense. Why do you try to add an element from the `tables` list (which is an instance of `Table`) to a list of (for example) &quot;phoneNumbers&quot;, which is a list of `PhoneNumber`?\r\n\r\nAnd your claim that the annotation works: I don&#39;t see that annotation used anywhere in your code, so it is hard to say whether it works or not...","title":"trying to set a member ArrayList using reflection","body":"<p>You ask the wrong object for the value of the field.</p>\n<p>When you write</p>\n<pre><code>field.get(this.getClass())\n</code></pre>\n<p>you try to get the value that the (reflected) field has on some instance. The object that you pass to retrieve the value from is <code>this.getClass()</code> which is an instance of <code>java.lang.Class</code> - and <code>java.lang.Class</code> has no field (for example) &quot;phoneNumbers&quot;.</p>\n<p>To retrieve a field from your instance you must write</p>\n<pre><code>field.get(this)\n</code></pre>\n<p>But then, the commented out line</p>\n<pre><code>array.add(tables.get(0));\n</code></pre>\n<p>doesn't make any sense. Why do you try to add an element from the <code>tables</code> list (which is an instance of <code>Table</code>) to a list of (for example) &quot;phoneNumbers&quot;, which is a list of <code>PhoneNumber</code>?</p>\n<p>And your claim that the annotation works: I don't see that annotation used anywhere in your code, so it is hard to say whether it works or not...</p>\n"}],"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1676413635,"creation_date":1676412170,"question_id":75453668,"body_markdown":"I am trying to modify an object with an Arraylist of objects using reflection.\r\n\r\nI understand that I cannot get the type of the objects in the ArrayList, but I (think) I am using an annotation to handle that part.  I am setting the field accessibility.\r\n\r\nI am declaring the list of stuff in the class using annotations.\r\n\r\n    @TableAnnotation(type = PhoneNumber.class)\r\n    protected List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;&gt;();\r\n    @TableAnnotation(type = Address.class)\r\n    private List&lt;Address&gt; addresses= new ArrayList&lt;&gt;();\r\n    private List&lt;Role&gt; roles= new ArrayList&lt;&gt;();\r\n\r\n... Later in the same class I try to set them:\r\n\r\n    public void setMemberTable(List&lt;Table&gt; tables, String memberName) throws IllegalAccessException {\r\n        Class t = getClass();\r\n        for (Field field : getClass().getDeclaredFields()) {\r\n            if (field.getName() == memberName) {\r\n                field.setAccessible(true);\r\n                List array = (List)field.get(this.getClass()); &lt;&lt;&lt;=========== Here is where it is throwing\r\n                ArrayList arrayList= (ArrayList)field.get(this.getClass());\r\n                //array.add(tables.get(0));\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the Annotation that seems to be working:\r\n\r\n    package com.test.database.helpers;\r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Inherited;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Documented\r\n    @Target(ElementType.FIELD)\r\n    @Inherited\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface TableAnnotation {\r\n        Class&lt; ?&gt; type();\r\n        boolean allowNull() default false;\r\n    }\r\n\r\nThis throws:\r\n\r\n    java.lang.IllegalArgumentException: Can not get java.util.List field com.test.database.entities.Person.phoneNumbers on java.lang.Class\r\n\r\nI tried making the member variable public, but that had no affect.\r\nI need help to be able to set the member variables in setMemberTable().\r\n","title":"trying to set a member ArrayList using reflection","body":"<p>I am trying to modify an object with an Arraylist of objects using reflection.</p>\n<p>I understand that I cannot get the type of the objects in the ArrayList, but I (think) I am using an annotation to handle that part.  I am setting the field accessibility.</p>\n<p>I am declaring the list of stuff in the class using annotations.</p>\n<pre><code>@TableAnnotation(type = PhoneNumber.class)\nprotected List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;&gt;();\n@TableAnnotation(type = Address.class)\nprivate List&lt;Address&gt; addresses= new ArrayList&lt;&gt;();\nprivate List&lt;Role&gt; roles= new ArrayList&lt;&gt;();\n</code></pre>\n<p>... Later in the same class I try to set them:</p>\n<pre><code>public void setMemberTable(List&lt;Table&gt; tables, String memberName) throws IllegalAccessException {\n    Class t = getClass();\n    for (Field field : getClass().getDeclaredFields()) {\n        if (field.getName() == memberName) {\n            field.setAccessible(true);\n            List array = (List)field.get(this.getClass()); &lt;&lt;&lt;=========== Here is where it is throwing\n            ArrayList arrayList= (ArrayList)field.get(this.getClass());\n            //array.add(tables.get(0));\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Here is the Annotation that seems to be working:</p>\n<pre><code>package com.test.database.helpers;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Documented\n@Target(ElementType.FIELD)\n@Inherited\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TableAnnotation {\n    Class&lt; ?&gt; type();\n    boolean allowNull() default false;\n}\n</code></pre>\n<p>This throws:</p>\n<pre><code>java.lang.IllegalArgumentException: Can not get java.util.List field com.test.database.entities.Person.phoneNumbers on java.lang.Class\n</code></pre>\n<p>I tried making the member variable public, but that had no affect.\nI need help to be able to set the member variables in setMemberTable().</p>\n"},{"tags":["java","spring","multithreading","concurrency","jvm"],"comments":[{"owner":{"account_id":5105835,"reputation":77,"user_id":4093924,"accept_rate":0,"display_name":"vpxfhu77"},"score":0,"creation_date":1675964355,"post_id":75402232,"comment_id":133045897,"body_markdown":"But what about simultaneous execution of line of code by two threads on different cores? Is it still possible? Or you mean each threads read instruction from shared bytecode into own frame and then execute it with own local variables?","body":"But what about simultaneous execution of line of code by two threads on different cores? Is it still possible? Or you mean each threads read instruction from shared bytecode into own frame and then execute it with own local variables?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675964697,"post_id":75402232,"comment_id":133046000,"body_markdown":"The code doesn’t change. There is never a problem with multiple threads reading something that doesn’t change. You can also use the same classes in multiple JVMs at the same time, as the JVMs will also only read the class or jar files.","body":"The code doesn’t change. There is never a problem with multiple threads reading something that doesn’t change. You can also use the same classes in multiple JVMs at the same time, as the JVMs will also only read the class or jar files."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676413202,"creation_date":1675994308,"answer_id":75406248,"question_id":75402232,"body_markdown":"&gt; So we have method code ONLY in one place. \r\n\r\nYes.\r\n\r\n&gt; Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU.\r\n\r\nThis is incorrect.  Program memory is shared by all threads and this includes the classes and byte-code.  Classes are locked when they are _loaded_ but not when being executed or referenced without specific synchronization primitives being used.\r\n\r\n&gt; Execution of same line of method cannot be performed at same time by two different threads on two different cores.\r\n\r\nThere is nothing that enforces this restriction.\r\n\r\n&gt; And each of thread can start execute method if no other thread executing first line of method.\r\n\r\nThis is _only_ true if a method is marked as `synchronized` and two threads are locking on the same object instance or if the method is static.  See the following pseudo code.\r\n\r\n    public class Foo {\r\n       // many threads can be running bar() concurrently\r\n       public void bar() {\r\n          ...\r\n       }\r\n\r\n       // threads that are using the same instance of Foo can only execute\r\n       // synchronized baz() and other synchronized methods one at a time.\r\n       // Threads using other instances can execute baz() concurrently\r\n       public synchronized void baz() {\r\n          ...\r\n       }\r\n\r\n       // threads that are in the same classloader can only execute static\r\n       // synchronized bing() and other static synchronized methods one at a time\r\n       // because the class is being synchronized\r\n       public static synchronized void bing() {\r\n          ...\r\n       }\r\n    }\r\n\r\nThis does not address memory sharing, message passing, or the other complex concepts involved with threaded programming.\r\n","title":"How can multiple threads execute same method in parallel?","body":"<blockquote>\n<p>So we have method code ONLY in one place.</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU.</p>\n</blockquote>\n<p>This is incorrect.  Program memory is shared by all threads and this includes the classes and byte-code.  Classes are locked when they are <em>loaded</em> but not when being executed or referenced without specific synchronization primitives being used.</p>\n<blockquote>\n<p>Execution of same line of method cannot be performed at same time by two different threads on two different cores.</p>\n</blockquote>\n<p>There is nothing that enforces this restriction.</p>\n<blockquote>\n<p>And each of thread can start execute method if no other thread executing first line of method.</p>\n</blockquote>\n<p>This is <em>only</em> true if a method is marked as <code>synchronized</code> and two threads are locking on the same object instance or if the method is static.  See the following pseudo code.</p>\n<pre><code>public class Foo {\n   // many threads can be running bar() concurrently\n   public void bar() {\n      ...\n   }\n\n   // threads that are using the same instance of Foo can only execute\n   // synchronized baz() and other synchronized methods one at a time.\n   // Threads using other instances can execute baz() concurrently\n   public synchronized void baz() {\n      ...\n   }\n\n   // threads that are in the same classloader can only execute static\n   // synchronized bing() and other static synchronized methods one at a time\n   // because the class is being synchronized\n   public static synchronized void bing() {\n      ...\n   }\n}\n</code></pre>\n<p>This does not address memory sharing, message passing, or the other complex concepts involved with threaded programming.</p>\n"}],"owner":{"account_id":5105835,"reputation":77,"user_id":4093924,"accept_rate":0,"display_name":"vpxfhu77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676413202,"creation_date":1675963344,"question_id":75402232,"body_markdown":"I stuck on this question while reading [this][1] article about how Spring singleton, stateless bean serve multiple requests. \r\nThis is the main author point of how it is done:\r\n&gt; When the thread request the singleton bean, it is going to refer (with help of reference variable in stack) to the bytecode of singleton bean in heap. So multiple threads can refer singleton bean at the same time. The compiler is going to point to the same bytecode and simply execute it and store method specific values in corresponding blocks in stack separately.\r\n\r\nGood article but it missing some crucial details about how exactly bytecode is executed by threads. My undestanding: Each thread has it own stack, stack contains frames, frames contains return values, local variables, operand stack and Current Class Constant Pool Reference. All classes ale loaded to Method Area, where each Class Data store constants and method code. So we have method code ONLY in one place. Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU. Execution of same line of method cannot be performed at same time by two different threads on two different cores. But two DIFFERENT lines of code in method can be executed simultaneously by two different threads on two different cores. And each of thread can start execute method if no other thread executing first line of method.\r\n\r\n\r\n\r\n  [1]: https://medium.com/@hasanli.vusala.73/how-does-singleton-bean-serve-multiple-requests-at-the-same-time-in-spring-f4c9d797dec9","title":"How can multiple threads execute same method in parallel?","body":"<p>I stuck on this question while reading <a href=\"https://medium.com/@hasanli.vusala.73/how-does-singleton-bean-serve-multiple-requests-at-the-same-time-in-spring-f4c9d797dec9\" rel=\"nofollow noreferrer\">this</a> article about how Spring singleton, stateless bean serve multiple requests.\nThis is the main author point of how it is done:</p>\n<blockquote>\n<p>When the thread request the singleton bean, it is going to refer (with help of reference variable in stack) to the bytecode of singleton bean in heap. So multiple threads can refer singleton bean at the same time. The compiler is going to point to the same bytecode and simply execute it and store method specific values in corresponding blocks in stack separately.</p>\n</blockquote>\n<p>Good article but it missing some crucial details about how exactly bytecode is executed by threads. My undestanding: Each thread has it own stack, stack contains frames, frames contains return values, local variables, operand stack and Current Class Constant Pool Reference. All classes ale loaded to Method Area, where each Class Data store constants and method code. So we have method code ONLY in one place. Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU. Execution of same line of method cannot be performed at same time by two different threads on two different cores. But two DIFFERENT lines of code in method can be executed simultaneously by two different threads on two different cores. And each of thread can start execute method if no other thread executing first line of method.</p>\n"},{"tags":["java","multithreading","synchronization","sleep","runnable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676276712,"post_id":75433400,"comment_id":133097425,"body_markdown":"Please explain what your code is meant to do -- what do you expect to happen? What is happening that you don&#39;t expect? That is, what is &quot;proper output&quot;? Perhaps leaving the newlines in your output examples would make your question easier to understand.","body":"Please explain what your code is meant to do -- what do you expect to happen? What is happening that you don&#39;t expect? That is, what is &quot;proper output&quot;? Perhaps leaving the newlines in your output examples would make your question easier to understand."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":5,"creation_date":1676276851,"post_id":75433400,"comment_id":133097464,"body_markdown":"But the answer is that in your first example you have three instances of ClassRoom and in the second you only have one, so `synchronized` does nothing in the first case.","body":"But the answer is that in your first example you have three instances of ClassRoom and in the second you only have one, so <code>synchronized</code> does nothing in the first case."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1676277148,"post_id":75433400,"comment_id":133097549,"body_markdown":"&quot;`ie.getMessage();`&quot; does nothing. You should read up about how to handle exceptions, and specifically how to handle an `InterruptedException` (because it typically requires something different to other exception types).","body":"&quot;<code>ie.getMessage();</code>&quot; does nothing. You should read up about how to handle exceptions, and specifically how to handle an <code>InterruptedException</code> (because it typically requires something different to other exception types)."},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":1,"creation_date":1676277435,"post_id":75433400,"comment_id":133097633,"body_markdown":"in &quot;implementing Runnable&quot;, &#39;classroom&#39; is a shared resource with syncrhonized non-static method run(). Which means that only one thread can access the method at a time for a given Runnable object.  \nOn the contrary, In case of &quot;extending Thread&quot; you have 3 objects, and no concurrent access to this code happens.\nWhen annotating non-static method as &quot;syncrhonized&quot;, mutual exclusion happens per object. For static methods synchronized methods are locked per class.","body":"in &quot;implementing Runnable&quot;, &#39;classroom&#39; is a shared resource with syncrhonized non-static method run(). Which means that only one thread can access the method at a time for a given Runnable object.   On the contrary, In case of &quot;extending Thread&quot; you have 3 objects, and no concurrent access to this code happens. When annotating non-static method as &quot;syncrhonized&quot;, mutual exclusion happens per object. For static methods synchronized methods are locked per class."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676278578,"creation_date":1676278578,"answer_id":75433733,"question_id":75433400,"body_markdown":"With the `Runnable` implementation, you are sharing a single instance across all threads. In the former, you are having 3 separate instances.\r\n\r\nTo match the behavior of separate threads with a runnable, you have to use separate runnables too:\r\n\r\n```\r\npublic class ClassRoomApp  {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        \r\n        Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n        Thread t2 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n        Thread t3 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n            \r\n        t1.setName(&quot;Physics teacher&quot;);\r\n        t2.setName(&quot;CS teacher&quot;);\r\n        t3.setName(&quot;English teacher&quot;);\r\n    \r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n        \r\n    }\r\n\r\n}\r\n```","title":"Why Synchronization not working properly with while extending to Thread?","body":"<p>With the <code>Runnable</code> implementation, you are sharing a single instance across all threads. In the former, you are having 3 separate instances.</p>\n<p>To match the behavior of separate threads with a runnable, you have to use separate runnables too:</p>\n<pre><code>public class ClassRoomApp  {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\n        Thread t2 = new Thread(new ClassRoom()); // &lt;- distinct instance\n        Thread t3 = new Thread(new ClassRoom()); // &lt;- distinct instance\n            \n        t1.setName(&quot;Physics teacher&quot;);\n        t2.setName(&quot;CS teacher&quot;);\n        t3.setName(&quot;English teacher&quot;);\n    \n        t1.start();\n        t2.start();\n        t3.start();\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676413077,"creation_date":1676413077,"answer_id":75453771,"question_id":75433400,"body_markdown":"&gt; while I was doing an exercise on the synchronization method I couldn&#39;t able to get a proper output but when I&#39;m trying the same exercise by implementing Runnable it&#39;s working fine\r\n\r\nSo your &quot;proper output&quot; is when the output is synchronized that each teacher enters, teaches, and exits before other teacher output is displayed.\r\n\r\n    Physics teacher enters class room\r\n    Physics teacher teaching students\r\n    Physics teacher exits class room\r\n    English teacher enters class room\r\n    English teacher teaching students\r\n    English teacher exits class room\r\n    CS teacher enters class room\r\n    ...\r\n\r\nWhen you have the `synchronize` keyword on a non-static method, the lock that gets enabled when the method is called is applied on the _instance_ of the object that contains the method.  In the case of the `ClassRoom` `Runnable`, each of the threads is sharing `class_room`:\r\n\r\n    ClassRoom class_room = new ClassRoom();\r\n    Thread t1 = new Thread(class_room);\r\n    Thread t2 = new Thread(class_room);\r\n    Thread t3 = new Thread(class_room);\r\n\r\nIn this case the same `ClassRoom` object instance is being locked by all 3 threads and the synchronization ensures that only one thread executes the `run()` method at a time.  Excellent.\r\n\r\nNow let&#39;s look at the `Thread` case:\r\n\r\n    ClassRoom physics_class = new ClassRoom();\r\n    ClassRoom cs_class = new ClassRoom();\r\n    ClassRoom english_class = new ClassRoom();\r\n\r\nIn this case, there are 3 separate instances of `ClassRoom` so the `synchronized` keyword is locking on 3 different objects so each thread works independently.\r\n\r\n    Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n\r\nAside from the locking issue, you don&#39;t want to do this if `ClassRoom` extends `Thread` because you are creating 2 `Thread` objects – the `ClassRoom` and the `new Thread(...)` that wraps the `ClassRoom` but only starting one of them.  This is very confusing and unnecessary.  `ClassRoom` should implement `Runnable` instead.\r\n","title":"Why Synchronization not working properly with while extending to Thread?","body":"<blockquote>\n<p>while I was doing an exercise on the synchronization method I couldn't able to get a proper output but when I'm trying the same exercise by implementing Runnable it's working fine</p>\n</blockquote>\n<p>So your &quot;proper output&quot; is when the output is synchronized that each teacher enters, teaches, and exits before other teacher output is displayed.</p>\n<pre><code>Physics teacher enters class room\nPhysics teacher teaching students\nPhysics teacher exits class room\nEnglish teacher enters class room\nEnglish teacher teaching students\nEnglish teacher exits class room\nCS teacher enters class room\n...\n</code></pre>\n<p>When you have the <code>synchronize</code> keyword on a non-static method, the lock that gets enabled when the method is called is applied on the <em>instance</em> of the object that contains the method.  In the case of the <code>ClassRoom</code> <code>Runnable</code>, each of the threads is sharing <code>class_room</code>:</p>\n<pre><code>ClassRoom class_room = new ClassRoom();\nThread t1 = new Thread(class_room);\nThread t2 = new Thread(class_room);\nThread t3 = new Thread(class_room);\n</code></pre>\n<p>In this case the same <code>ClassRoom</code> object instance is being locked by all 3 threads and the synchronization ensures that only one thread executes the <code>run()</code> method at a time.  Excellent.</p>\n<p>Now let's look at the <code>Thread</code> case:</p>\n<pre><code>ClassRoom physics_class = new ClassRoom();\nClassRoom cs_class = new ClassRoom();\nClassRoom english_class = new ClassRoom();\n</code></pre>\n<p>In this case, there are 3 separate instances of <code>ClassRoom</code> so the <code>synchronized</code> keyword is locking on 3 different objects so each thread works independently.</p>\n<pre><code>Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\n</code></pre>\n<p>Aside from the locking issue, you don't want to do this if <code>ClassRoom</code> extends <code>Thread</code> because you are creating 2 <code>Thread</code> objects – the <code>ClassRoom</code> and the <code>new Thread(...)</code> that wraps the <code>ClassRoom</code> but only starting one of them.  This is very confusing and unnecessary.  <code>ClassRoom</code> should implement <code>Runnable</code> instead.</p>\n"}],"owner":{"account_id":27771845,"reputation":3,"user_id":21201998,"display_name":"aMn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75433733,"answer_count":2,"score":0,"last_activity_date":1676413077,"creation_date":1676276491,"question_id":75433400,"body_markdown":"Currently, I&#39;m studying &quot;synchronization&quot;, while I was doing an exercise on the synchronization method I couldn&#39;t able to get a proper output but when I&#39;m trying the same exercise by implementing Runnable it&#39;s working fine. I don&#39;t know why it&#39;s happening like this. could anyone please help me out here?\r\n\r\nBy extending Thread\r\n-------------------\r\n```\r\npublic class ClassRoom extends Thread {\r\n\t\r\n\t\r\n\tsynchronized public void run() {\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; enters class room&quot;);\r\n\t\t\r\n\t\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; teaching students&quot;);\r\n\t\t\r\n\t\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; exits class room&quot;);\r\n\t\t\r\n\t\t\r\n\t\t} catch(InterruptedException ie) {\r\n\t\t\tie.getMessage();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nBy implementing Runnable\r\n------------------------\r\n`public class ClassRoom  implements Runnable {`\r\n\r\nrest of the codes are same\r\n\r\nMain method (by extending Thread)\r\n---------------------------------\r\n```\r\npublic class ClassRoomApp  {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\r\n\t\tClassRoom physics_class = new ClassRoom();\r\n\t\tClassRoom cs_class = new ClassRoom();\r\n\t\tClassRoom english_class = new ClassRoom();\r\n\t\t\r\n\t\tphysics_class.setName(&quot;Physics teacher&quot;);\r\n\t\tcs_class.setName(&quot;CS teacher&quot;);\r\n\t\tenglish_class.setName(&quot;English teacher&quot;);\r\n\t\t\r\n\r\n\t\tphysics_class.start();\r\n\t\tcs_class.start();\r\n\t\tenglish_class.start();\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nMain method (by implementing Runnable)\r\n--------------------------------------\r\n```\r\npublic class ClassRoomApp  {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tClassRoom class_room = new ClassRoom();\r\n\t\r\n\t\tThread t1 = new Thread(class_room);\r\n\t\tThread t2 = new Thread(class_room);\r\n\t\tThread t3 = new Thread(class_room);\r\n\t\t\t\r\n\t\tt1.setName(&quot;Physics teacher&quot;);\r\n\t\tt2.setName(&quot;CS teacher&quot;);\r\n\t\tt3.setName(&quot;English teacher&quot;);\r\n\t\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\t\tt3.start();\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nThese are the outputs im getting :\r\n----------------------------------\r\nWhile implementing Runnable :\r\n\r\nPhysics teacher enters class room &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nEnglish teacher exits class room &lt;br&gt;\r\nCS teacher enters class room &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\n\r\nWhile extending Thread :\r\n\r\nPhysics teacher enters class room &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nCS teacher enters class room &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nEnglish teacher exits class room &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\n\r\n\r\nI&#39;ve tried removing the Thread.sleep() from the Thread extended class then it sometimes working sometimes not woring.\r\n\r\nThese are the outputs :\r\n\r\nfirst try :\r\n-----------\r\nCS teacher enters class room &lt;br&gt;\r\nPhysics teacher enters class room &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\nEnglish teacher exits class room &lt;br&gt;\r\n\r\nsecond try : (works)\r\n------------\r\n\r\nPhysics teacher enters class room &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nEnglish teacher exits class room  &lt;br&gt;\r\nCS teacher enters class room &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\n\r\n\r\n\r\n","title":"Why Synchronization not working properly with while extending to Thread?","body":"<p>Currently, I'm studying &quot;synchronization&quot;, while I was doing an exercise on the synchronization method I couldn't able to get a proper output but when I'm trying the same exercise by implementing Runnable it's working fine. I don't know why it's happening like this. could anyone please help me out here?</p>\n<h2>By extending Thread</h2>\n<pre><code>public class ClassRoom extends Thread {\n    \n    \n    synchronized public void run() {\n        \n        \n        try {\n            \n        System.out.println(Thread.currentThread().getName() + &quot; enters class room&quot;);\n        \n            Thread.sleep(1000);\n        \n        System.out.println(Thread.currentThread().getName() + &quot; teaching students&quot;);\n        \n            Thread.sleep(1000);\n        \n        System.out.println(Thread.currentThread().getName() + &quot; exits class room&quot;);\n        \n        \n        } catch(InterruptedException ie) {\n            ie.getMessage();\n        }\n    }\n\n}\n</code></pre>\n<h2>By implementing Runnable</h2>\n<p><code>public class ClassRoom  implements Runnable {</code></p>\n<p>rest of the codes are same</p>\n<h2>Main method (by extending Thread)</h2>\n<pre><code>public class ClassRoomApp  {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n\n        ClassRoom physics_class = new ClassRoom();\n        ClassRoom cs_class = new ClassRoom();\n        ClassRoom english_class = new ClassRoom();\n        \n        physics_class.setName(&quot;Physics teacher&quot;);\n        cs_class.setName(&quot;CS teacher&quot;);\n        english_class.setName(&quot;English teacher&quot;);\n        \n\n        physics_class.start();\n        cs_class.start();\n        english_class.start();\n        \n    }\n\n}\n</code></pre>\n<h2>Main method (by implementing Runnable)</h2>\n<pre><code>public class ClassRoomApp  {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        ClassRoom class_room = new ClassRoom();\n    \n        Thread t1 = new Thread(class_room);\n        Thread t2 = new Thread(class_room);\n        Thread t3 = new Thread(class_room);\n            \n        t1.setName(&quot;Physics teacher&quot;);\n        t2.setName(&quot;CS teacher&quot;);\n        t3.setName(&quot;English teacher&quot;);\n    \n        t1.start();\n        t2.start();\n        t3.start();\n        \n    }\n\n}\n\n</code></pre>\n<h2>These are the outputs im getting :</h2>\n<p>While implementing Runnable :</p>\n<p>Physics teacher enters class room <br>\nPhysics teacher teaching students <br>\nPhysics teacher exits class room <br>\nEnglish teacher enters class room <br>\nEnglish teacher teaching students <br>\nEnglish teacher exits class room <br>\nCS teacher enters class room <br>\nCS teacher teaching students <br>\nCS teacher exits class room <br></p>\n<p>While extending Thread :</p>\n<p>Physics teacher enters class room <br>\nEnglish teacher enters class room <br>\nCS teacher enters class room <br>\nEnglish teacher teaching students <br>\nPhysics teacher teaching students <br>\nCS teacher teaching students <br>\nEnglish teacher exits class room <br>\nCS teacher exits class room <br>\nPhysics teacher exits class room <br></p>\n<p>I've tried removing the Thread.sleep() from the Thread extended class then it sometimes working sometimes not woring.</p>\n<p>These are the outputs :</p>\n<h2>first try :</h2>\n<p>CS teacher enters class room <br>\nPhysics teacher enters class room <br>\nPhysics teacher teaching students <br>\nEnglish teacher enters class room <br>\nPhysics teacher exits class room <br>\nCS teacher teaching students <br>\nEnglish teacher teaching students <br>\nCS teacher exits class room <br>\nEnglish teacher exits class room <br></p>\n<h2>second try : (works)</h2>\n<p>Physics teacher enters class room <br>\nPhysics teacher teaching students <br>\nPhysics teacher exits class room <br>\nEnglish teacher enters class room <br>\nEnglish teacher teaching students <br>\nEnglish teacher exits class room  <br>\nCS teacher enters class room <br>\nCS teacher teaching students <br>\nCS teacher exits class room <br></p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":1,"creation_date":1676407491,"post_id":75453058,"comment_id":133130216,"body_markdown":"You can use `entry.getValue().toString()` or `String.valueOf(entry.getValue())` instead of `(String) entry.getValue()`.","body":"You can use <code>entry.getValue().toString()</code> or <code>String.valueOf(entry.getValue())</code> instead of <code>(String) entry.getValue()</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1676407637,"post_id":75453058,"comment_id":133130263,"body_markdown":"Well when your objects are not strings, what do you want to do? convert them? skip them?","body":"Well when your objects are not strings, what do you want to do? convert them? skip them?"},{"owner":{"account_id":23283079,"reputation":19,"user_id":17366287,"display_name":"NyashMyash"},"score":0,"creation_date":1676407916,"post_id":75453058,"comment_id":133130330,"body_markdown":"@khelwood wanna convert them into strings","body":"@khelwood wanna convert them into strings"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676408898,"post_id":75453058,"comment_id":133130597,"body_markdown":"Have you tried `entry.getValue().toString()` instead of `(String) entry.getValue())`?","body":"Have you tried <code>entry.getValue().toString()</code> instead of <code>(String) entry.getValue())</code>?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676409166,"post_id":75453058,"comment_id":133130664,"body_markdown":"It would help to post a complete method, as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) . Include error messages, whether runtime or compiler.","body":"It would help to post a complete method, as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> . Include error messages, whether runtime or compiler."}],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676408849,"creation_date":1676408849,"answer_id":75453280,"question_id":75453058,"body_markdown":"Just replace *(String) entry.getValue()* for *String.valueOf*, like that:\r\n\r\n    Map&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\r\n    \r\n    for (Map&lt;String, Object&gt; element: list) {\r\n        for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\r\n            newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\r\n        }\r\n    }\r\n\r\n","title":"How to convert List&lt;Map&lt;String, Object&gt;&gt; to &lt;List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>Just replace <em>(String) entry.getValue()</em> for <em>String.valueOf</em>, like that:</p>\n<pre><code>Map&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\n\nfor (Map&lt;String, Object&gt; element: list) {\n    for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\n        newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676412777,"creation_date":1676412777,"answer_id":75453727,"question_id":75453058,"body_markdown":"A more functional approach to this would be: \r\n```\r\n    private List&lt;Map&lt;String, String&gt;&gt; retypeFunctional(List&lt;Map&lt;String, Object&gt;&gt; list) {\r\n        List&lt;Map&lt;String, String&gt;&gt; result = list.stream()\r\n            .map(map -&gt; map.entrySet().stream()\r\n                    .collect(Collectors.toMap(Entry::getKey, e -&gt; String.valueOf(e.getValue()))))\r\n            .collect(Collectors.toList());\r\n        \r\n        return result;\r\n    }\r\n```\r\nRemember to: \r\n```\r\nimport java.util.Map.Entry;\r\n```\r\namong other more obvious imports.","title":"How to convert List&lt;Map&lt;String, Object&gt;&gt; to &lt;List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>A more functional approach to this would be:</p>\n<pre><code>    private List&lt;Map&lt;String, String&gt;&gt; retypeFunctional(List&lt;Map&lt;String, Object&gt;&gt; list) {\n        List&lt;Map&lt;String, String&gt;&gt; result = list.stream()\n            .map(map -&gt; map.entrySet().stream()\n                    .collect(Collectors.toMap(Entry::getKey, e -&gt; String.valueOf(e.getValue()))))\n            .collect(Collectors.toList());\n        \n        return result;\n    }\n</code></pre>\n<p>Remember to:</p>\n<pre><code>import java.util.Map.Entry;\n</code></pre>\n<p>among other more obvious imports.</p>\n"}],"owner":{"account_id":23283079,"reputation":19,"user_id":17366287,"display_name":"NyashMyash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1676412777,"creation_date":1676407171,"question_id":75453058,"body_markdown":"How can I convert a `List&lt;Map&lt;String, Object&gt;&gt;` to a `&lt;List&lt;Map&lt;String, String&gt;&gt;`?\r\n\r\nMy `Object` values are `Integer`, `String`, and `LocalDate`.\r\n\r\n```java\r\nMap&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\r\n\r\nfor (Map&lt;String, Object&gt; element: list) {\r\n    for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\r\n        newMap.put(entry.getKey(), (String) entry.getValue());\r\n    }\r\n}\r\n```\r\nThis doesn&#39;t work for me.\r\n\r\n***Updated***\r\nThanks guys in comments for help!\r\n\r\nWanna post here full algorythm, maybe it can be usefull for someone\r\n\r\n    // data preparing\r\n            LocalDate date = LocalDate.now();\r\n            Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\r\n            map1.put(&quot;key1&quot;, 4);\r\n            Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\r\n            map2.put(&quot;key2&quot;, date);\r\n            List&lt;Map&lt;String, Object&gt;&gt; subject = new ArrayList&lt;&gt;();\r\n            subject.add(0, map1);\r\n            subject.add(1, map2);\r\n    \r\n            System.out.println(subject);\r\n    \r\n            Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n            List&lt;Map&lt;String,String&gt;&gt; newList = new ArrayList&lt;&gt;();\r\n    \r\n            for (Map&lt;String, Object&gt; element : subject) {\r\n                for (Map.Entry&lt;String, Object&gt; entry : element.entrySet()) {\r\n                    newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\r\n                    newList.add(newMap);\r\n                }\r\n            }\r\n            //test results\r\n            System.out.println(&quot;----------------------------&quot;);\r\n            System.out.println(newList.get(0).get(&quot;key1&quot;).getClass());\r\n            System.out.println(newList.get(1).get(&quot;key2&quot;).getClass());\r\n            System.out.println(newList);","title":"How to convert List&lt;Map&lt;String, Object&gt;&gt; to &lt;List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>How can I convert a <code>List&lt;Map&lt;String, Object&gt;&gt;</code> to a <code>&lt;List&lt;Map&lt;String, String&gt;&gt;</code>?</p>\n<p>My <code>Object</code> values are <code>Integer</code>, <code>String</code>, and <code>LocalDate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\n\nfor (Map&lt;String, Object&gt; element: list) {\n    for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\n        newMap.put(entry.getKey(), (String) entry.getValue());\n    }\n}\n</code></pre>\n<p>This doesn't work for me.</p>\n<p><em><strong>Updated</strong></em>\nThanks guys in comments for help!</p>\n<p>Wanna post here full algorythm, maybe it can be usefull for someone</p>\n<pre><code>// data preparing\n        LocalDate date = LocalDate.now();\n        Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\n        map1.put(&quot;key1&quot;, 4);\n        Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\n        map2.put(&quot;key2&quot;, date);\n        List&lt;Map&lt;String, Object&gt;&gt; subject = new ArrayList&lt;&gt;();\n        subject.add(0, map1);\n        subject.add(1, map2);\n\n        System.out.println(subject);\n\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n        List&lt;Map&lt;String,String&gt;&gt; newList = new ArrayList&lt;&gt;();\n\n        for (Map&lt;String, Object&gt; element : subject) {\n            for (Map.Entry&lt;String, Object&gt; entry : element.entrySet()) {\n                newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\n                newList.add(newMap);\n            }\n        }\n        //test results\n        System.out.println(&quot;----------------------------&quot;);\n        System.out.println(newList.get(0).get(&quot;key1&quot;).getClass());\n        System.out.println(newList.get(1).get(&quot;key2&quot;).getClass());\n        System.out.println(newList);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9345,"page":647,"page_size":100}
