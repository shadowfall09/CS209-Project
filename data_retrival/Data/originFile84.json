{"items":[{"tags":["java","jpa","entity","equals","hashcode"],"comments":[{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":0,"creation_date":1360507918,"post_id":4388360,"comment_id":20725290,"body_markdown":"To elaborate on this question&#39;s motivation: [`Collection.contains(JpaEntity someObject)`](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#contains(java.lang.Object)) requires a reasonable `JpaEntity.equals(...)` method.","body":"To elaborate on this question&#39;s motivation: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Collection.contains(JpaEntity someObject)</code></a> requires a reasonable <code>JpaEntity.equals(...)</code> method."},{"owner":{"account_id":263115,"reputation":16940,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1475485668,"post_id":4388360,"comment_id":66945847,"body_markdown":"See also http://stackoverflow.com/a/39827962/548473 (spring-data-jpa implementation)","body":"See also <a href=\"http://stackoverflow.com/a/39827962/548473\">stackoverflow.com/a/39827962/548473</a> (spring-data-jpa implementation)"}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291817473,"creation_date":1291817473,"answer_id":4388397,"question_id":4388360,"body_markdown":"That&#39;s the only way. You may want to try [Pojomatic][1] library which does the hard job for you.\r\n\r\n\r\n  [1]: http://code.google.com/p/pojomatic/","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>That's the only way. You may want to try <a href=\"http://code.google.com/p/pojomatic/\" rel=\"nofollow\">Pojomatic</a> library which does the hard job for you.</p>\n"},{"tags":[],"owner":{"account_id":194980,"reputation":406,"user_id":437611,"display_name":"Cid54"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1307902227,"creation_date":1291817757,"answer_id":4388438,"question_id":4388360,"body_markdown":"[There is information in the Hibernate documentation on this topic.][1]\r\n\r\n\r\n  [1]: http://community.jboss.org/wiki/EqualsandHashCode","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p><a href=\"http://community.jboss.org/wiki/EqualsandHashCode\" rel=\"noreferrer\">There is information in the Hibernate documentation on this topic.</a></p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294226,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1291817804,"creation_date":1291817804,"answer_id":4388444,"question_id":4388360,"body_markdown":"Yes, you should define corresponding `equals()` and `hashcode()` methods, but you should NEVER let the id be part of either. (See [this recent answer of mine][1] in a similar question)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4323245/what-is-the-best-practice-when-implementing-equals-for-entities-with-generated/4323283#4323283","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>Yes, you should define corresponding <code>equals()</code> and <code>hashcode()</code> methods, but you should NEVER let the id be part of either. (See <a href=\"https://stackoverflow.com/questions/4323245/what-is-the-best-practice-when-implementing-equals-for-entities-with-generated/4323283#4323283\">this recent answer of mine</a> in a similar question)</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":131,"is_accepted":true,"score":129,"last_activity_date":1698991956,"creation_date":1291817879,"answer_id":4388453,"question_id":4388360,"body_markdown":"Not necessarily. There are three options:\r\n\r\n- don&#39;t override - thus you will be working with instances. This is fine in cases when you are working with the collections with only entities that are attached to the session (and hence guaranteed to be the same instance). This is (for me) the preferred way in many cases, because it requires less code and less consideration when overriding.\r\n\r\n- override `hashCode()` and `equals()` with a business key. That may be a subset of properties that identify the entity. For example, for a `User`, a good business key might be the `username` or the `email`. This is considered good practice.\r\n\r\n- override `hashCode()` and `equals()` using the ID field only. This is fine in some cases, especially if you have a manually-assigned identifier (like an UUID). It is also fine if your entity will never go into a collection. But for transient entities (with no identifier) that go into collections, it causes problems, so careful with this option. As seanizer noted - you should avoid it. Generally, always, unless you are really aware of what you are doing (and perhaps documenting it)\r\n\r\n&lt;a href=&quot;http://community.jboss.org/wiki/EqualsandHashCode&quot;&gt;See this article&lt;/a&gt; for more details. Also note that `equals()` and `hashCode()` are tied and should be implemented both with exactly the same fields.","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>Not necessarily. There are three options:</p>\n<ul>\n<li><p>don't override - thus you will be working with instances. This is fine in cases when you are working with the collections with only entities that are attached to the session (and hence guaranteed to be the same instance). This is (for me) the preferred way in many cases, because it requires less code and less consideration when overriding.</p>\n</li>\n<li><p>override <code>hashCode()</code> and <code>equals()</code> with a business key. That may be a subset of properties that identify the entity. For example, for a <code>User</code>, a good business key might be the <code>username</code> or the <code>email</code>. This is considered good practice.</p>\n</li>\n<li><p>override <code>hashCode()</code> and <code>equals()</code> using the ID field only. This is fine in some cases, especially if you have a manually-assigned identifier (like an UUID). It is also fine if your entity will never go into a collection. But for transient entities (with no identifier) that go into collections, it causes problems, so careful with this option. As seanizer noted - you should avoid it. Generally, always, unless you are really aware of what you are doing (and perhaps documenting it)</p>\n</li>\n</ul>\n<p><a href=\"http://community.jboss.org/wiki/EqualsandHashCode\" rel=\"nofollow noreferrer\">See this article</a> for more details. Also note that <code>equals()</code> and <code>hashCode()</code> are tied and should be implemented both with exactly the same fields.</p>\n"},{"tags":[],"owner":{"account_id":4690297,"reputation":3860,"user_id":3796586,"accept_rate":64,"display_name":"zbig"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1435217689,"creation_date":1432033381,"answer_id":30323810,"question_id":4388360,"body_markdown":"We tend to let IDE generate `hashCode()` and `equals()` for us. Be careful though. When you generate those methods for JPA Entities. Some versions of `equals()` checks for class identity\r\n\r\n    // ... inside equals() - wrong approach for Entities (cause of generate proxies)\r\n    if (o == null || this.getClass() != o.getClass()) {\r\n\t\t\treturn false;\r\n\t}\r\n    // ...\r\n\r\nThis would break your collections with some JPA libraries as those libraries create proxies to your entities (subclasses), like for example `MyGreatEntity_$$_javassist_7` in Hibernate.\r\n\r\n**In Entities always allow subclasses in `equals()`.**","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>We tend to let IDE generate <code>hashCode()</code> and <code>equals()</code> for us. Be careful though. When you generate those methods for JPA Entities. Some versions of <code>equals()</code> checks for class identity</p>\n\n<pre><code>// ... inside equals() - wrong approach for Entities (cause of generate proxies)\nif (o == null || this.getClass() != o.getClass()) {\n        return false;\n}\n// ...\n</code></pre>\n\n<p>This would break your collections with some JPA libraries as those libraries create proxies to your entities (subclasses), like for example <code>MyGreatEntity_$$_javassist_7</code> in Hibernate.</p>\n\n<p><strong>In Entities always allow subclasses in <code>equals()</code>.</strong></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1610185903,"creation_date":1465211324,"answer_id":37655873,"question_id":4388360,"body_markdown":"**Yes, you should!**\r\n\r\nIf you don&#39;t override the default `Java.lang.Object` `equals` and `hashCode` implementation: \r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    public class Book implements Identifiable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nthe `merge` operation will return a different object instance and the equality contract is going to be broken.\r\n\r\nThe best way is to use a business key, like this:\r\n\r\n    @Entity\r\n    public class Book implements Identifiable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @NaturalId\r\n        private String isbn;\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Book)) return false;\r\n            Book book = (Book) o;\r\n            return Objects.equals(getIsbn(), book.getIsbn());\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(getIsbn());\r\n        }\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nYou can also use the identifier for equality, but mind that the `hashCode` implementation should always return the same value, which for entities is not really a problem since you don&#39;t fetch many entities per DB transaction, as otherwise, the cost of fetching data is orders of magnitude larger than the single-bucket `HashMap` penalty imposed by using a fixed `hashCode`: \r\n\r\n    @Entity\r\n    public class Book implements Identifiable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Book)) return false;\r\n            Book book = (Book) o;\r\n            return Objects.equals(getId(), book.getId());\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return getClass().hashCode();\r\n        }\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p><strong>Yes, you should!</strong></p>\n<p>If you don't override the default <code>Java.lang.Object</code> <code>equals</code> and <code>hashCode</code> implementation:</p>\n<pre><code>@Entity(name = &quot;Book&quot;)\npublic class Book implements Identifiable&lt;Long&gt; {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>the <code>merge</code> operation will return a different object instance and the equality contract is going to be broken.</p>\n<p>The best way is to use a business key, like this:</p>\n<pre><code>@Entity\npublic class Book implements Identifiable&lt;Long&gt; {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @NaturalId\n    private String isbn;\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Book)) return false;\n        Book book = (Book) o;\n        return Objects.equals(getIsbn(), book.getIsbn());\n    }\n \n    @Override\n    public int hashCode() {\n        return Objects.hash(getIsbn());\n    }\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>You can also use the identifier for equality, but mind that the <code>hashCode</code> implementation should always return the same value, which for entities is not really a problem since you don't fetch many entities per DB transaction, as otherwise, the cost of fetching data is orders of magnitude larger than the single-bucket <code>HashMap</code> penalty imposed by using a fixed <code>hashCode</code>:</p>\n<pre><code>@Entity\npublic class Book implements Identifiable&lt;Long&gt; {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Book)) return false;\n        Book book = (Book) o;\n        return Objects.equals(getId(), book.getId());\n    }\n \n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n"}],"owner":{"account_id":255194,"reputation":821,"user_id":535072,"accept_rate":20,"display_name":"j2j"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45033,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":4388453,"answer_count":6,"score":72,"last_activity_date":1698991956,"creation_date":1291817244,"question_id":4388360,"body_markdown":"I want to check if entity is in a Collection member (`@OneToMany` or `@ManyToMany`) of another entity:\r\n\r\n    if (entity2.getEntities1().contains(entity1)) { }\r\n\r\n","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>I want to check if entity is in a Collection member (<code>@OneToMany</code> or <code>@ManyToMany</code>) of another entity:</p>\n\n<pre><code>if (entity2.getEntities1().contains(entity1)) { }\n</code></pre>\n"},{"tags":["java","netbeans","window"],"answers":[{"tags":[],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380970515,"creation_date":1380970515,"answer_id":19196958,"question_id":19196709,"body_markdown":"You need to right click the console window and click clear.  \r\n\r\nHave a look here: http://mrhaki.blogspot.in/2008/08/clearing-output-window-in-netbeans.html\r\n","title":"Clearing Output Window in NetBeans","body":"<p>You need to right click the console window and click clear.  </p>\n\n<p>Have a look here: <a href=\"http://mrhaki.blogspot.in/2008/08/clearing-output-window-in-netbeans.html\" rel=\"nofollow\">http://mrhaki.blogspot.in/2008/08/clearing-output-window-in-netbeans.html</a></p>\n"}],"owner":{"account_id":3304841,"reputation":1447,"user_id":2779985,"accept_rate":57,"display_name":"BlueRay101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8362,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1698991700,"creation_date":1380968864,"question_id":19196709,"body_markdown":"How do I clear the output window in NetBeans?\r\n\r\nI mean the window where the `&quot;System.out.print&quot;` prints.\r\n\r\nI tried doing:\r\n\r\n    Runtime.getRuntime().exec(&quot;cls&quot;);\r\n\r\nBut it doesn&#39;t work.\r\n\r\nHow can I clear the output window, then?","title":"Clearing Output Window in NetBeans","body":"<p>How do I clear the output window in NetBeans?</p>\n\n<p>I mean the window where the <code>\"System.out.print\"</code> prints.</p>\n\n<p>I tried doing:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cls\");\n</code></pre>\n\n<p>But it doesn't work.</p>\n\n<p>How can I clear the output window, then?</p>\n"},{"tags":["java","mongodb","ssl-certificate","x509"],"comments":[{"owner":{"account_id":3631143,"reputation":55353,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1698999999,"post_id":77414419,"comment_id":136478155,"body_markdown":"Did you create the user? See [Add x.509 Certificate subject as a User](https://www.mongodb.com/docs/manual/tutorial/configure-x509-client-authentication/#add-x-509-certificate-subject-as-a-user)","body":"Did you create the user? See <a href=\"https://www.mongodb.com/docs/manual/tutorial/configure-x509-client-authentication/#add-x-509-certificate-subject-as-a-user\" rel=\"nofollow noreferrer\">Add x.509 Certificate subject as a User</a>"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698990398,"creation_date":1698990398,"question_id":77414419,"body_markdown":"I have following issue, trying to connect to mongoDB based on certificate login. Getting below error. Can anyone help me what went wrong with the below code.\r\n\r\n\r\n\r\n    com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;No verified subject name available from client&#39; on server pl-0-eu-central-1.dhcnl.mongodb.net:1034. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;No verified subject name available from client&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;d9Hebf8UbI9S34obNbGQRBwvQtw=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 7263984866675392522}}, &quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}} \r\n\r\n\r\nAnd Java code :\r\n\r\n\r\n\r\npublic @Bean\r\n    MongoClient mongoClient() {\r\n\r\n\r\n        MongoClientSettings.Builder mongoClientOptions = MongoClientSettings.builder().applyToSslSettings(builder -&gt; builder.enabled(true).invalidHostNameAllowed(true));\r\n\r\n        try {\r\n\r\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            try (InputStream in = new ClassPathResource(&quot;keystore.pkcs12&quot;).getInputStream()) {\r\n                keystore.load(in, &quot;password&quot;.toCharArray());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (CertificateException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            keyManagerFactory.init(keystore, &quot;password&quot;.toCharArray());\r\n\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            trustManagerFactory.init(keystore);\r\n\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\r\n           mongoClientOptions.applyToSslSettings(builder -&gt; builder.enabled(true).context(sslContext));\r\n\r\n        } catch (NoSuchAlgorithmException | KeyStoreException | UnrecoverableKeyException | KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String user =&quot;CN=sample,OU=Webservice,O=org,C=IN&quot;;\r\n       // String uri=&quot;mongodb+srv://hostname/?authSource=%24external&amp;authMechanism=MONGODB-X509&quot;;\r\n        String uri = &quot;mongodb://hostname/?ssl=true&amp;authSource=%24external&amp;authMechanism=MONGODB-X509&amp;retryWrites=true&amp;w=majority&quot;;\r\n        MongoClient mongoClient = MongoClients.create(\r\n                MongoClientSettings.builder().credential(MongoCredential.createMongoX509Credential(user)).applyConnectionString(new ConnectionString(uri))\r\n\r\n                        .applicationName(&quot;Sample Service&quot;)\r\n\r\n                        .retryWrites(true)\r\n                        .build());\r\n        return mongoClient;\r\n    }\r\n\r\n","title":"Mongodb x.509 :&#39;No verified subject name available from client&#39;","body":"<p>I have following issue, trying to connect to mongoDB based on certificate login. Getting below error. Can anyone help me what went wrong with the below code.</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'No verified subject name available from client' on server pl-0-eu-central-1.dhcnl.mongodb.net:1034. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;No verified subject name available from client&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;d9Hebf8UbI9S34obNbGQRBwvQtw=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 7263984866675392522}}, &quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}} \n</code></pre>\n<p>And Java code :</p>\n<p>public @Bean\nMongoClient mongoClient() {</p>\n<pre><code>    MongoClientSettings.Builder mongoClientOptions = MongoClientSettings.builder().applyToSslSettings(builder -&gt; builder.enabled(true).invalidHostNameAllowed(true));\n\n    try {\n\n        KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        try (InputStream in = new ClassPathResource(&quot;keystore.pkcs12&quot;).getInputStream()) {\n            keystore.load(in, &quot;password&quot;.toCharArray());\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (CertificateException e) {\n            e.printStackTrace();\n        }\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        keyManagerFactory.init(keystore, &quot;password&quot;.toCharArray());\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(keystore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\n       mongoClientOptions.applyToSslSettings(builder -&gt; builder.enabled(true).context(sslContext));\n\n    } catch (NoSuchAlgorithmException | KeyStoreException | UnrecoverableKeyException | KeyManagementException e) {\n        e.printStackTrace();\n    }\n    String user =&quot;CN=sample,OU=Webservice,O=org,C=IN&quot;;\n   // String uri=&quot;mongodb+srv://hostname/?authSource=%24external&amp;authMechanism=MONGODB-X509&quot;;\n    String uri = &quot;mongodb://hostname/?ssl=true&amp;authSource=%24external&amp;authMechanism=MONGODB-X509&amp;retryWrites=true&amp;w=majority&quot;;\n    MongoClient mongoClient = MongoClients.create(\n            MongoClientSettings.builder().credential(MongoCredential.createMongoX509Credential(user)).applyConnectionString(new ConnectionString(uri))\n\n                    .applicationName(&quot;Sample Service&quot;)\n\n                    .retryWrites(true)\n                    .build());\n    return mongoClient;\n}\n</code></pre>\n"},{"tags":["java","wait","sleep","thread-sleep"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":33,"creation_date":1402216111,"post_id":24104313,"comment_id":37182455,"body_markdown":"Use `Thread.Sleep()`.","body":"Use <code>Thread.Sleep()</code>."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1402216337,"post_id":24104313,"comment_id":37182506,"body_markdown":"Consider to use a [Timer](http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html)","body":"Consider to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">Timer</a>"},{"owner":{"account_id":74561,"reputation":4982,"user_id":214178,"accept_rate":100,"display_name":"artdanil"},"score":3,"creation_date":1402216664,"post_id":24104313,"comment_id":37182586,"body_markdown":"What is the purpose of waiting? Are you waiting for a certain event to happen? Make sure you understand what [sleep()](http://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html) method does","body":"What is the purpose of waiting? Are you waiting for a certain event to happen? Make sure you understand what <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\" rel=\"nofollow noreferrer\">sleep()</a> method does"},{"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"score":1,"creation_date":1505590529,"post_id":24104313,"comment_id":79478966,"body_markdown":"@Tiny, it&#39;s NOT safe.","body":"@Tiny, it&#39;s NOT safe."},{"owner":{"account_id":96739,"reputation":3166,"user_id":262789,"display_name":"Jade"},"score":23,"creation_date":1506442865,"post_id":24104313,"comment_id":79820095,"body_markdown":"It is actually `Thread.sleep(&lt;milisecondsToSleep&gt;)`. The `s` shouldn&#39;t be capitalized.","body":"It is actually <code>Thread.sleep(&lt;milisecondsToSleep&gt;)</code>. The <code>s</code> shouldn&#39;t be capitalized."}],"answers":[{"tags":[],"owner":{"account_id":323748,"reputation":2731,"user_id":643951,"accept_rate":56,"display_name":"Ruslan"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1698989713,"creation_date":1402216092,"answer_id":24104329,"question_id":24104313,"body_markdown":"You need to use the `Thread.sleep()` call.\r\n\r\nMore info here: https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\r\n","title":"How do I make a delay in Java?","body":"<p>You need to use the <code>Thread.sleep()</code> call.</p>\n<p>More info here: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html</a></p>\n"},{"tags":[],"owner":{"account_id":4469602,"reputation":3302,"user_id":3636263,"accept_rate":56,"display_name":"Anju Aravind"},"down_vote_count":4,"up_vote_count":232,"is_accepted":false,"score":228,"last_activity_date":1661709969,"creation_date":1402216121,"answer_id":24104332,"question_id":24104313,"body_markdown":"Use `Thread.sleep(1000)`;\r\n\r\n`1000` is the number of milliseconds that the program will pause.\r\n\r\n```java\r\ntry {\r\n  Thread.sleep(1000);\r\n} catch (InterruptedException e) {\r\n  Thread.currentThread().interrupt();\r\n}\r\n```\r\n","title":"How do I make a delay in Java?","body":"<p>Use <code>Thread.sleep(1000)</code>;</p>\n<p><code>1000</code> is the number of milliseconds that the program will pause.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  Thread.sleep(1000);\n} catch (InterruptedException e) {\n  Thread.currentThread().interrupt();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":2,"up_vote_count":1123,"is_accepted":true,"score":1121,"last_activity_date":1470771971,"creation_date":1402216975,"answer_id":24104427,"question_id":24104313,"body_markdown":"If you want to pause then use `java.util.concurrent.TimeUnit`:\r\n\r\n    TimeUnit.SECONDS.sleep(1);\r\n\r\nTo sleep for one second or\r\n\r\n    TimeUnit.MINUTES.sleep(1);\r\n\r\nTo sleep for a minute.\r\n\r\nAs this is a loop, this presents an inherent problem - drift. Every time you run code and then sleep you will be drifting a little bit from running, say, every second. If this is an issue then don&#39;t use `sleep`.\r\n\r\nFurther, `sleep` isn&#39;t very flexible when it comes to control.\r\n\r\nFor running a task every second or at a one second delay I would **strongly** recommend a [`ScheduledExecutorService`][1] and either [`scheduleAtFixedRate`][2] or [`scheduleWithFixedDelay`][3].\r\n\r\nFor example, to run the method `myTask` every second (Java 8):\r\n\r\n    public static void main(String[] args) {\r\n        final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n        executorService.scheduleAtFixedRate(App::myTask, 0, 1, TimeUnit.SECONDS);\r\n    }\r\n\r\n    private static void myTask() {\r\n        System.out.println(&quot;Running&quot;);\r\n    }\r\n\r\nAnd in Java 7:\r\n\r\n    public static void main(String[] args) {\r\n        final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n        executorService.scheduleAtFixedRate(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                myTask();\r\n            }\r\n        }, 0, 1, TimeUnit.SECONDS);\r\n    }\r\n\r\n    private static void myTask() {\r\n        System.out.println(&quot;Running&quot;);\r\n    }\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\r\n\r\n[3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)","title":"How do I make a delay in Java?","body":"<p>If you want to pause then use <code>java.util.concurrent.TimeUnit</code>:</p>\n\n<pre><code>TimeUnit.SECONDS.sleep(1);\n</code></pre>\n\n<p>To sleep for one second or</p>\n\n<pre><code>TimeUnit.MINUTES.sleep(1);\n</code></pre>\n\n<p>To sleep for a minute.</p>\n\n<p>As this is a loop, this presents an inherent problem - drift. Every time you run code and then sleep you will be drifting a little bit from running, say, every second. If this is an issue then don't use <code>sleep</code>.</p>\n\n<p>Further, <code>sleep</code> isn't very flexible when it comes to control.</p>\n\n<p>For running a task every second or at a one second delay I would <strong>strongly</strong> recommend a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\"><code>ScheduledExecutorService</code></a> and either <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\"><code>scheduleAtFixedRate</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\"><code>scheduleWithFixedDelay</code></a>.</p>\n\n<p>For example, to run the method <code>myTask</code> every second (Java 8):</p>\n\n<pre><code>public static void main(String[] args) {\n    final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n    executorService.scheduleAtFixedRate(App::myTask, 0, 1, TimeUnit.SECONDS);\n}\n\nprivate static void myTask() {\n    System.out.println(\"Running\");\n}\n</code></pre>\n\n<p>And in Java 7:</p>\n\n<pre><code>public static void main(String[] args) {\n    final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n    executorService.scheduleAtFixedRate(new Runnable() {\n        @Override\n        public void run() {\n            myTask();\n        }\n    }, 0, 1, TimeUnit.SECONDS);\n}\n\nprivate static void myTask() {\n    System.out.println(\"Running\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1534703013,"creation_date":1534703013,"answer_id":51920600,"question_id":24104313,"body_markdown":"Using `TimeUnit.SECONDS.sleep(1);` or `Thread.sleep(1000);` Is acceptable way to do it. In both cases you have to catch `InterruptedException`which makes your code Bulky.There is an Open Source java library called MgntUtils (written by me) that provides utility that already deals with `InterruptedException` inside. So your code would just include one line:\r\n\r\n    TimeUtils.sleepFor(1, TimeUnit.SECONDS);\r\n\r\nSee the javadoc [here][1]. You can access library from [Maven Central][2] or from [Github][3]. The article explaining about the library could be found [here][4]\r\n\r\n\r\n  [1]: https://appdoc.app/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/com/mgnt/utils/TimeUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman/","title":"How do I make a delay in Java?","body":"<p>Using <code>TimeUnit.SECONDS.sleep(1);</code> or <code>Thread.sleep(1000);</code> Is acceptable way to do it. In both cases you have to catch <code>InterruptedException</code>which makes your code Bulky.There is an Open Source java library called MgntUtils (written by me) that provides utility that already deals with <code>InterruptedException</code> inside. So your code would just include one line:</p>\n\n<pre><code>TimeUtils.sleepFor(1, TimeUnit.SECONDS);\n</code></pre>\n\n<p>See the javadoc <a href=\"https://appdoc.app/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/com/mgnt/utils/TimeUtils.html\" rel=\"noreferrer\">here</a>. You can access library from <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\" rel=\"noreferrer\">Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"noreferrer\">Github</a>. The article explaining about the library could be found <a href=\"https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":5312458,"reputation":347,"user_id":4238275,"display_name":"Bachan Joseph"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560453316,"creation_date":1542217043,"answer_id":53305893,"question_id":24104313,"body_markdown":"Use  `Thread.sleep(100);`.\r\nThe unit of time is milliseconds\r\n\r\nFor example:\r\n\r\n    public class SleepMessages {\r\n        public static void main(String args[])\r\n            throws InterruptedException {\r\n            String importantInfo[] = {\r\n                &quot;Mares eat oats&quot;,\r\n                &quot;Does eat oats&quot;,\r\n                &quot;Little lambs eat ivy&quot;,\r\n                &quot;A kid will eat ivy too&quot;\r\n            };\r\n    \r\n            for (int i = 0;\r\n                 i &lt; importantInfo.length;\r\n                 i++) {\r\n                //Pause for 4 seconds\r\n                Thread.sleep(4000);\r\n                //Print a message\r\n                System.out.println(importantInfo[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I make a delay in Java?","body":"<p>Use  <code>Thread.sleep(100);</code>.\nThe unit of time is milliseconds</p>\n\n<p>For example:</p>\n\n<pre><code>public class SleepMessages {\n    public static void main(String args[])\n        throws InterruptedException {\n        String importantInfo[] = {\n            \"Mares eat oats\",\n            \"Does eat oats\",\n            \"Little lambs eat ivy\",\n            \"A kid will eat ivy too\"\n        };\n\n        for (int i = 0;\n             i &lt; importantInfo.length;\n             i++) {\n            //Pause for 4 seconds\n            Thread.sleep(4000);\n            //Print a message\n            System.out.println(importantInfo[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14660797,"reputation":131,"user_id":11091501,"display_name":"dominic03"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1686724825,"creation_date":1560264831,"answer_id":56546464,"question_id":24104313,"body_markdown":"I know this is a very old post but this may help someone:\r\nYou can create a method, so whenever you need to pause you can type `pause(1000)` or any other millisecond value:\r\n\r\n    public static void pause(int ms) {\r\n        try {\r\n            Thread.sleep(ms);\r\n        } catch (InterruptedException e) {\r\n            System.err.format(&quot;InterruptedException : %s%n&quot;, e);\r\n        }\r\n    }\r\n\r\nThis is inserted just above the `public static void main(String[] args)`, inside the class. Then, to call on the method, type `pause(ms)` but replace `ms` with the number of milliseconds to pause. That way, you don&#39;t have to insert the entire try-catch statement whenever you want to pause.","title":"How do I make a delay in Java?","body":"<p>I know this is a very old post but this may help someone:\nYou can create a method, so whenever you need to pause you can type <code>pause(1000)</code> or any other millisecond value:</p>\n<pre><code>public static void pause(int ms) {\n    try {\n        Thread.sleep(ms);\n    } catch (InterruptedException e) {\n        System.err.format(&quot;InterruptedException : %s%n&quot;, e);\n    }\n}\n</code></pre>\n<p>This is inserted just above the <code>public static void main(String[] args)</code>, inside the class. Then, to call on the method, type <code>pause(ms)</code> but replace <code>ms</code> with the number of milliseconds to pause. That way, you don't have to insert the entire try-catch statement whenever you want to pause.</p>\n"},{"tags":[],"owner":{"account_id":5833251,"reputation":431,"user_id":11949667,"display_name":"Hecanet"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1593332941,"creation_date":1566278161,"answer_id":57567069,"question_id":24104313,"body_markdown":"Use this:\r\n\r\n```java\r\npublic static void wait(int ms)\r\n{\r\n    try\r\n    {\r\n        Thread.sleep(ms);\r\n    }\r\n    catch(InterruptedException ex)\r\n    {\r\n        Thread.currentThread().interrupt();\r\n    }\r\n}\r\n```\r\n\r\nand, then you can call this method anywhere like:\r\n\r\n    wait(1000);","title":"How do I make a delay in Java?","body":"<p>Use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void wait(int ms)\n{\n    try\n    {\n        Thread.sleep(ms);\n    }\n    catch(InterruptedException ex)\n    {\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n<p>and, then you can call this method anywhere like:</p>\n<pre><code>wait(1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1638711749,"creation_date":1638711749,"answer_id":70234894,"question_id":24104313,"body_markdown":"There is also one more way to wait.\r\n\r\nYou can use [LockSupport][1] methods, e.g.:\r\n\r\n```java\r\nLockSupport.parkNanos(1_000_000_000); // Disables current thread for scheduling at most for 1 second\r\n```\r\n\r\nFortunately they don&#39;t throw any checked exception. But on the other hand according to the documentation there are more reasons for thread to be enabled:\r\n\r\n- Some other thread invokes unpark with the current thread as the target\r\n- Some other thread interrupts the current thread\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/LockSupport.html","title":"How do I make a delay in Java?","body":"<p>There is also one more way to wait.</p>\n<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\">LockSupport</a> methods, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LockSupport.parkNanos(1_000_000_000); // Disables current thread for scheduling at most for 1 second\n</code></pre>\n<p>Fortunately they don't throw any checked exception. But on the other hand according to the documentation there are more reasons for thread to be enabled:</p>\n<ul>\n<li>Some other thread invokes unpark with the current thread as the target</li>\n<li>Some other thread interrupts the current thread</li>\n</ul>\n"}],"owner":{"account_id":4129322,"reputation":6135,"user_id":3387622,"accept_rate":36,"display_name":"ardb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106636,"favorite_count":0,"down_vote_count":3,"up_vote_count":576,"accepted_answer_id":24104427,"answer_count":8,"score":573,"last_activity_date":1698989713,"creation_date":1402215981,"question_id":24104313,"body_markdown":"I am trying to do something in Java and I need something to wait / delay for an amount of seconds in a while loop.\r\n\r\n    while (true) {\r\n        if (i == 3) {\r\n            i = 0;\r\n        }\r\n\r\n        ceva[i].setSelected(true);\r\n\r\n        // I need to wait here\r\n\r\n        ceva[i].setSelected(false);\r\n\r\n        // I need to wait here\r\n\r\n        i++;\r\n    }\r\n\r\nI want to build a step sequencer.\r\n\r\nHow do I make a delay in Java?\r\n\r\n","title":"How do I make a delay in Java?","body":"<p>I am trying to do something in Java and I need something to wait / delay for an amount of seconds in a while loop.</p>\n<pre><code>while (true) {\n    if (i == 3) {\n        i = 0;\n    }\n\n    ceva[i].setSelected(true);\n\n    // I need to wait here\n\n    ceva[i].setSelected(false);\n\n    // I need to wait here\n\n    i++;\n}\n</code></pre>\n<p>I want to build a step sequencer.</p>\n<p>How do I make a delay in Java?</p>\n"},{"tags":["java","linked-list","nullpointerexception"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698988411,"post_id":77414256,"comment_id":136476906,"body_markdown":"`node` can be null if the list is empty. You need to handle that case.","body":"<code>node</code> can be null if the list is empty. You need to handle that case."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1698988778,"post_id":77414256,"comment_id":136476932,"body_markdown":"@user207421 Actually it&#39;s always null.","body":"@user207421 Actually it&#39;s always null."}],"answers":[{"tags":[],"owner":{"account_id":21534447,"reputation":1,"user_id":15873314,"display_name":"Awwal15"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698989489,"creation_date":1698988844,"answer_id":77414344,"question_id":77414256,"body_markdown":"**Try doing this**\r\n\r\n    public class Node \r\n    {\r\n      Node? next;\r\n      int data;\r\n   \r\n      public Node(int d)\r\n      {\r\n         this.data = d;\r\n         this.next = null;   \r\n      }\r\n    }\r\n\r\ndon&#39;t worry about the this keyword ","title":"LinkedList null pointer error. I keep on getting a null pointer exception when trying to print the elements in the LinkedList","body":"<p><strong>Try doing this</strong></p>\n<pre><code>public class Node \n{\n  Node? next;\n  int data;\n\n  public Node(int d)\n  {\n     this.data = d;\n     this.next = null;   \n  }\n}\n</code></pre>\n<p>don't worry about the this keyword</p>\n"},{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698989176,"creation_date":1698989176,"answer_id":77414357,"question_id":77414256,"body_markdown":"Problem is you are always setting at the start. \r\n\r\n    Node curr = node;\r\n\r\nyou need to do that after the check.\r\n\r\n\r\n\tclass LinkedLists {\r\n\t\r\n\t\tprivate Node headNode;\t\r\n\r\n\t\tpublic LinkedLists() {\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tpublic void add(int d) {\r\n\t\t\tNode newNode = new Node(d);\r\n            //remove it from here \r\n\t\t\t\r\n\t\t\tif(headNode == null) {\r\n\t\t\t\theadNode = newNode;\r\n                return;\r\n            }\t\t\r\n            //Added it here \r\n\t\t    curr = headNode;\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tcurr = curr.next;\t\t\r\n\t\t\t}\t\t\r\n\t\t\tcurr.next = newNode;\r\n\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tpublic void print() {\r\n\t\t\r\n\t\t\tNode curr = headNode;\r\n\t\t\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tSystem.out.println(curr.data);\r\n\t\t\t\tcurr = curr.next;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(curr.data);\t\r\n\t\t}\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLinkedLists list = new LinkedLists();\r\n\t\t\tlist.add(3);\r\n\t\t\tlist.add(12);\r\n\t\t\tlist.add(99);\r\n\t\t\tlist.add(6);\r\n\t\t\r\n\t\t\tlist.print();\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic class Node {\r\n\t\r\n\t\tNode next;\r\n\t\tint data;\r\n\t\r\n\t\tpublic Node(int d) {\r\n\t\t\tdata = d;\r\n\t\t\tnext = null;\t\t\r\n\t\t}\r\n\t}","title":"LinkedList null pointer error. I keep on getting a null pointer exception when trying to print the elements in the LinkedList","body":"<p>Problem is you are always setting at the start.</p>\n<pre><code>Node curr = node;\n</code></pre>\n<p>you need to do that after the check.</p>\n<pre><code>class LinkedLists {\n\n    private Node headNode;  \n\n    public LinkedLists() {  \n        \n    }\n\n    public void add(int d) {\n        Node newNode = new Node(d);\n        //remove it from here \n        \n        if(headNode == null) {\n            headNode = newNode;\n            return;\n        }       \n        //Added it here \n        curr = headNode;\n        while(curr.next != null) {\n            curr = curr.next;       \n        }       \n        curr.next = newNode;\n    \n        return;\n    }\n\n    public void print() {\n    \n        Node curr = headNode;\n    \n        while(curr.next != null) {\n            System.out.println(curr.data);\n            curr = curr.next;\n        }\n        System.out.println(curr.data);  \n    }\n\n\n    public static void main(String[] args) {\n        LinkedLists list = new LinkedLists();\n        list.add(3);\n        list.add(12);\n        list.add(99);\n        list.add(6);\n    \n        list.print();       \n    }\n\n}\n\npublic class Node {\n\n    Node next;\n    int data;\n\n    public Node(int d) {\n        data = d;\n        next = null;        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25838983,"reputation":19,"user_id":19574884,"display_name":"Amanda James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699001378,"accepted_answer_id":77414357,"answer_count":2,"score":-2,"last_activity_date":1698989489,"creation_date":1698986904,"question_id":77414256,"body_markdown":"I Keep on getting a null pointer exception when trying to print the elements in the list. The exception hits the line in the print() where I start the while loop. Is there a way to fix this? Thanks\r\n \r\n  \r\n\r\n\tclass LinkedLists {\r\n\t\r\n\t\tprivate Node node;\t\r\n\r\n\t\tpublic LinkedLists() {\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tpublic void add(int d) {\r\n\t\t\tNode newNode = new Node(d);\r\n\t\t\tNode curr = node;\r\n\t\t\r\n\t\t\tif(curr == null) \r\n\t\t\t\tcurr = newNode;\r\n\t\t\r\n\t\t\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tcurr = curr.next;\t\t\r\n\t\t\t}\t\t\r\n\t\t\tcurr.next = newNode;\r\n\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tpublic void print() {\r\n\t\t\r\n\t\t\tNode curr = node;\r\n\t\t\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tSystem.out.println(curr.data);\r\n\t\t\t\tcurr = curr.next;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(curr.data);\t\r\n\t\t}\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLinkedLists list = new LinkedLists();\r\n\t\t\tlist.add(3);\r\n\t\t\tlist.add(12);\r\n\t\t\tlist.add(99);\r\n\t\t\tlist.add(6);\r\n\t\t\r\n\t\t\tlist.print();\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic class Node {\r\n\t\r\n\t\tNode next;\r\n\t\tint data;\r\n\t\r\n\t\tpublic Node(int d) {\r\n\t\t\tdata = d;\r\n\t\t\tnext = null;\t\t\r\n\t\t}\r\n\t}","title":"LinkedList null pointer error. I keep on getting a null pointer exception when trying to print the elements in the LinkedList","body":"<p>I Keep on getting a null pointer exception when trying to print the elements in the list. The exception hits the line in the print() where I start the while loop. Is there a way to fix this? Thanks</p>\n<pre><code>class LinkedLists {\n\n    private Node node;  \n\n    public LinkedLists() {  \n        \n    }\n\n    public void add(int d) {\n        Node newNode = new Node(d);\n        Node curr = node;\n    \n        if(curr == null) \n            curr = newNode;\n    \n    \n        while(curr.next != null) {\n            curr = curr.next;       \n        }       \n        curr.next = newNode;\n    \n        return;\n    }\n\n    public void print() {\n    \n        Node curr = node;\n    \n        while(curr.next != null) {\n            System.out.println(curr.data);\n            curr = curr.next;\n        }\n        System.out.println(curr.data);  \n    }\n\n\n    public static void main(String[] args) {\n        LinkedLists list = new LinkedLists();\n        list.add(3);\n        list.add(12);\n        list.add(99);\n        list.add(6);\n    \n        list.print();       \n    }\n\n}\n\npublic class Node {\n\n    Node next;\n    int data;\n\n    public Node(int d) {\n        data = d;\n        next = null;        \n    }\n}\n</code></pre>\n"},{"tags":["java","maven","javafx","executable-jar","maven-assembly-plugin"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1698848347,"post_id":77403261,"comment_id":136456897,"body_markdown":"Executable fat/uber/shadowed JARs and JavaFX do not mix well (for a few reasons). At least not if you want JavaFX itself to be included in the JAR file. Consider creating a self-contained application via `jpackage`, GraalVM&#39;s native image, or some other tool. The [JavaFX tag info](https://stackoverflow.com/tags/javafx/info) page has various links under &quot;Packaging&quot; that you can look at.","body":"Executable fat/uber/shadowed JARs and JavaFX do not mix well (for a few reasons). At least not if you want JavaFX itself to be included in the JAR file. Consider creating a self-contained application via <code>jpackage</code>, GraalVM&#39;s native image, or some other tool. The <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag info</a> page has various links under &quot;Packaging&quot; that you can look at."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1698854646,"post_id":77403261,"comment_id":136458390,"body_markdown":"[JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) provides examples of Maven scripts for packaging installers for JavaFX apps using JPackage.  I haven&#39;t used the scripts in that specific project.  Additionally, Oracle has reasonably good [documentation on jpackage](https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A).","body":"<a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> provides examples of Maven scripts for packaging installers for JavaFX apps using JPackage.  I haven&#39;t used the scripts in that specific project.  Additionally, Oracle has reasonably good <a href=\"https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">documentation on jpackage</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1698854820,"post_id":77403261,"comment_id":136458427,"body_markdown":"Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with.  For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs.  So be prepared to spend some time and (probably) a bit of money to create the installers.  Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help.","body":"Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with.  For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs.  So be prepared to spend some time and (probably) a bit of money to create the installers.  Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1698908702,"post_id":77403261,"comment_id":136464567,"body_markdown":"@Slaw, this is simply not true. It can simply be done with Maven or Gradle.  A gradle task defined in 5 lines and you are ready to go. Jpackage is nice, but you can not compile a Linux application on a Windows machine, and vice versa.","body":"@Slaw, this is simply not true. It can simply be done with Maven or Gradle.  A gradle task defined in 5 lines and you are ready to go. Jpackage is nice, but you can not compile a Linux application on a Windows machine, and vice versa."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1698910816,"post_id":77403261,"comment_id":136464894,"body_markdown":"Do you really want to discuss this? IMO the &quot;unsupported&quot; warning can be ignored in this case. &quot;Right&quot; is even a greater word than &quot;proper&quot;. I get what you mean, but sometimes, the better/simpler way might be the not &quot;right&quot; way.","body":"Do you really want to discuss this? IMO the &quot;unsupported&quot; warning can be ignored in this case. &quot;Right&quot; is even a greater word than &quot;proper&quot;. I get what you mean, but sometimes, the better/simpler way might be the not &quot;right&quot; way."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698911375,"post_id":77403261,"comment_id":136464979,"body_markdown":"@DavidWeber In general, I agree with you. And nothing currently breaks with JavaFX on the class-path, as far as I know. But in this case, I don&#39;t see the benefit of fat JAR files when it comes to JavaFX applications. Especially when the OP already wants to create an installer. If `jpackage` is going to be used to create the installer, then might as well use it from the start. Configure it to place JavaFX in the run-time image (either via `jlink` separately or having `jpackage` execute `jlink` behind the scenes), and then _everything else_ can simply be put on the class-path with `--input`.","body":"@DavidWeber In general, I agree with you. And nothing currently breaks with JavaFX on the class-path, as far as I know. But in this case, I don&#39;t see the benefit of fat JAR files when it comes to JavaFX applications. Especially when the OP already wants to create an installer. If <code>jpackage</code> is going to be used to create the installer, then might as well use it from the start. Configure it to place JavaFX in the run-time image (either via <code>jlink</code> separately or having <code>jpackage</code> execute <code>jlink</code> behind the scenes), and then <i>everything else</i> can simply be put on the class-path with <code>--input</code>."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698936453,"creation_date":1698908205,"answer_id":77407480,"question_id":77403261,"body_markdown":"**Preface:**\r\n\r\n1. Follow the GitHub link.\r\n2. Read the short documentation on GitHub.\r\n3. Take a look at the code. \r\n\r\nFor Gradle projects, take a look at build.gradle. For Maven projects, take a look at pom.xml.\r\n\r\n\r\n**Solution for creating a fat JAR:**\r\n\r\nExample working JavaFX application with gradle and fat/uber JAR task:\r\nhttps://github.com/davidweber411/JavaFxAppGradleNonModular\r\n\r\nExample working JavaFX application with maven and fat/uber JAR goal:\r\nhttps://github.com/davidweber411/JavaFxAppMavenNonModular\r\n\r\n**Solution for creating an Installer:**\r\n\r\n1. Use jpackage for this. Not jlink Nor something else. Jpackage is the way to go.\r\n2. https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\r\n\r\nYou Can take a look at the generated jpackage command for Windows Apps in this application:\r\n https://github.com/davidweber411/Java2NativeWinConverter\r\n\r\n**JavaFxProjectGenerator:**\r\n\r\nMaybe you can profit from this neat tool:\r\nhttps://github.com/davidweber411/JavaFxProjectGenerator\r\n\r\nYou can create complete predefined JavaFX applications with Maven or Gradle, both including a preconfigured task/goal for creating a fat/uber JAR. \r\n\r\nNote: It generates a JDK 17 project, but you can change this in the build management system files.\r\n\r\nWebsite link: \r\nhttps://wedasoft.com/projects/javafx-project-generator/#","title":"JavaFX - How to compile uber jar with maven and create a installer?","body":"<p><strong>Preface:</strong></p>\n<ol>\n<li>Follow the GitHub link.</li>\n<li>Read the short documentation on GitHub.</li>\n<li>Take a look at the code.</li>\n</ol>\n<p>For Gradle projects, take a look at build.gradle. For Maven projects, take a look at pom.xml.</p>\n<p><strong>Solution for creating a fat JAR:</strong></p>\n<p>Example working JavaFX application with gradle and fat/uber JAR task:\n<a href=\"https://github.com/davidweber411/JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppGradleNonModular</a></p>\n<p>Example working JavaFX application with maven and fat/uber JAR goal:\n<a href=\"https://github.com/davidweber411/JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppMavenNonModular</a></p>\n<p><strong>Solution for creating an Installer:</strong></p>\n<ol>\n<li>Use jpackage for this. Not jlink Nor something else. Jpackage is the way to go.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html</a></li>\n</ol>\n<p>You Can take a look at the generated jpackage command for Windows Apps in this application:\n<a href=\"https://github.com/davidweber411/Java2NativeWinConverter\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/Java2NativeWinConverter</a></p>\n<p><strong>JavaFxProjectGenerator:</strong></p>\n<p>Maybe you can profit from this neat tool:\n<a href=\"https://github.com/davidweber411/JavaFxProjectGenerator\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxProjectGenerator</a></p>\n<p>You can create complete predefined JavaFX applications with Maven or Gradle, both including a preconfigured task/goal for creating a fat/uber JAR.</p>\n<p>Note: It generates a JDK 17 project, but you can change this in the build management system files.</p>\n<p>Website link:\n<a href=\"https://wedasoft.com/projects/javafx-project-generator/#\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/javafx-project-generator/#</a></p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698989108,"creation_date":1698933417,"answer_id":77410196,"question_id":77403261,"body_markdown":"# Self-Contained Application\r\n\r\nYour desire to create an installer lends itself to creating an entirely self-contained application. That is an application that bundles not only your code and its third-party dependencies, but also the Java Run-Time Environment itself.&#160;Your end user won&#39;t need to install Java separately.\r\n\r\n## GraalVM Native Image\r\n\r\nOne option for creating a self-contained application is [GraalVM&#39;s native image][8]. Note that this will also ahead-of-time compile your Java code to native code.\r\n\r\nI have very little experience with GraalVM, so I won&#39;t give an example, but here are some links that may help:\r\n\r\n* [Create native JavaFX applications using GraalVM 22 builds from Gluon][9]\r\n\r\n* [How to create JavaFX native images | BellSoft Java][10]\r\n\r\n\r\n## jpackage\r\n\r\nA relatively accessible tool for creating a self-contained applications and installers is [`jpackage`][3]. It comes with the JDK since version 16. See the [Packaging Tool User Guide][5] for more information. It would also help to understand [`jlink`][6], as `jpackage` will either use `jlink` &quot;behind the scenes&quot; to generate a custom run-time image, or you&#39;ll use `jlink` explicitly and then provide `jpackage` with the custom run-time image.\r\n\r\n\r\nOne significant downside to using `jpackage`, however, is that it can only create application images and installers for the operating system it is running on. If you want a Windows application, then you&#39;ll have to build your project on Windows, with the same being true for Linux and macOS.&#160;And as [jewelsea explains in a comment][4], there are also platform-specific issues you&#39;ll have to resolve:\r\n\r\n&gt; Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with. For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs. So be prepared to spend some time and (probably) a bit of money to create the installers. Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help.\r\n\r\nIf you&#39;re going to create a self-contained application, then I would suggest you forgo creating a fat/uber/shadowed JAR file. A self-contained application already contains all dependencies, so a shadowed JAR file is unlikely to provide any benefits. Plus, if you&#39;re going to be using `jpackage` to create the installer, you might as well design your entire deployment around `jpackage` from the start.\r\n\r\nUsing Maven profiles can solve a lot of the platform-specific configuration issues. While any remaining platform-specific configuration, as well as building the application on multiple platforms and publishing it automatically, can likely be accomplished with some kind of CI/CD pipeline. Though remember to **never** commit any secrets to your VCS (e.g., Git), which by extension means do not put any secrets in the POM file(s).\r\n\r\n### Example\r\n\r\nHere is a POM that is configured to create an `msi` installer file when the `windows` profile is activated. Note there is only configurations for Windows in this example. The [org.panteleyev:jpackage-maven-plugin][7] plugin is used to execute `jpackage`.\r\n\r\nThis POM is designed for a **non-modular** application. As such, it&#39;s configured so that the JavaFX modules are added to the custom run-time image, while the project code and any other dependencies are configured to be placed on the class-path via `--input` and `--main-jar`. By having JavaFX in the custom run-time image, it will implicitly be on the module-path.\r\n\r\n_**Disclaimer:** I&#39;m more familiar with Gradle than Maven, so there may be ways to simplify the following POM._\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n  &lt;name&gt;app&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n    &lt;javafxVersion&gt;21.0.1&lt;/javafxVersion&gt;\r\n    &lt;libsDir&gt;${project.build.directory}/artifacts/libs&lt;/libsDir&gt;\r\n    &lt;javafxModsDir&gt;${project.build.directory}/artifacts/javafx&lt;/javafxModsDir&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafxVersion}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;!-- Lock in versions. --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    &lt;plugins&gt;\r\n      &lt;!-- \r\n        Configure JAR plugin to set Main-Class entry in the JAR&#39;s manifest. Also, put the JAR\r\n        file in the same directory as the non-JavaFX dependencies to make using jpackage easier.\r\n      --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.example.app.Main&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Copy dependencies into project-local directories to make using jpackage easier. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;!-- \r\n            Put JavaFX JARs in their own directory so they are not included in the input directory\r\n            and can easily be placed on the module-path of jpackage.\r\n          --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-javafx-deps&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${javafxModsDir}&lt;/outputDirectory&gt;\r\n              &lt;includeGroupIds&gt;org.openjfx&lt;/includeGroupIds&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;!-- \r\n            Put all non-JavaFX JARs in a separate directory to use with the input argument\r\n            of jpackage. The project JAR will be placed here as well.\r\n          --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-nonjavafx-deps&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\r\n              &lt;excludeGroupIds&gt;org.openjfx&lt;/excludeGroupIds&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Common jpackage configurations. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;modulePaths&gt;\r\n            &lt;modulePath&gt;${javafxModsDir}&lt;/modulePath&gt;\r\n          &lt;/modulePaths&gt;\r\n          &lt;!-- \r\n            Must explicitly add modules since project code is not modular, meaning there&#39;s\r\n            no module-info.java file with requires directives.\r\n\r\n            Include the jdk.localedata module to ensure internationalization works. You can filter\r\n            which locales are included via jlink options.\r\n          --&gt;\r\n          &lt;addModules&gt;javafx.controls,jdk.localedata&lt;/addModules&gt;\r\n          &lt;input&gt;${libsDir}&lt;/input&gt;\r\n          &lt;mainJar&gt;${project.name}-${project.version}.jar&lt;/mainJar&gt;\r\n          &lt;temp&gt;${project.build.directory}/jpackage/temp&lt;/temp&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n  &lt;/build&gt;\r\n\r\n  &lt;profiles&gt;\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;windows&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;!-- Windows-specific jpackage configurations. --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;windows-msi&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jpackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;type&gt;MSI&lt;/type&gt;\r\n                  &lt;destination&gt;${project.build.directory}/jpackage/windows-msi&lt;/destination&gt;\r\n                  &lt;winPerUserInstall&gt;true&lt;/winPerUserInstall&gt;\r\n                  &lt;winDirChooser&gt;true&lt;/winDirChooser&gt;\r\n                  &lt;winUpgradeUuid&gt;7c59c875-1ad3-4042-9c9f-fed5fc3f8ab9&lt;/winUpgradeUuid&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n  &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here&#39;s an example `com.example.app.Main` class to go along with the POM:\r\n\r\n```java\r\npackage com.example.app;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        // List view will display the modules included in the custom run-time image.\r\n        var listView = new ListView&lt;String&gt;();\r\n        ModuleLayer.boot()\r\n            .modules()\r\n            .stream()\r\n            .map(Module::getName)\r\n            .sorted()\r\n            .forEach(listView.getItems()::add);\r\n        primaryStage.setTitle(&quot;JavaFX &quot; + System.getProperty(&quot;javafx.version&quot;) + &quot; Application&quot;);\r\n        primaryStage.setScene(new Scene(listView, 600, 400));\r\n        primaryStage.show();        \r\n    }\r\n}\r\n```\r\n\r\nTo create the `msi` file, execute:\r\n\r\n```none\r\nmvn -P windows package\r\n```\r\n\r\nAnd you should get a `target/jpackage/windows-msi/app-1.0.msi` installer file.\r\n\r\nNote you must execute that on Windows, and you must have WiX Toolset 3.x.x installed (version 4.x.x doesn&#39;t seem to work with `jpackage`, or at least I couldn&#39;t get it to work). If you don&#39;t want to install WiX 3.x.x just for running the example, then change the type to `&lt;type&gt;APP_IMAGE&lt;/type&gt;`. You won&#39;t get an installer file, but you&#39;ll end up with an application image that you can run as is.\r\n\r\n---\r\n\r\n# Executable JAR\r\n\r\nYou can create an executable fat/uber/shadowed JAR file with JavaFX via Maven using the [Maven Shade Plugin][1]. Note this will inherently put everything on the class-path. Any code that relies explicitly on modules may break with this setup, though such code is rare. Additionally, JavaFX does not technically support being loaded from the class-path. Doing so will not break anything as of JavaFX 21, as far as I know, but any issues caused by this configuration are unlikely to be fixed by the JavaFX developers.\r\n\r\nSee [David Weber&#39;s answer][2] for an example using the Maven Shade Plugin.\r\n\r\nIf you want to go with a shadowed executable JAR file as your deployment strategy, then I suggest you forgo creating an installer. Just have your end user install the appropriate version of Java (you can send them the installer for that), and then they can just double-click the JAR file to make it run. Make sure your end user enables associating `*.jar` files with Java if the Java installer gives that option.\r\n\r\nIf you want a cross-platform executable JAR file, you&#39;ll have to declare a JavaFX dependency for each platform manually. JavaFX relies on platform-specific native code, and the Maven artifacts embed that native code in the JAR file, but only for a particular platform. For instance, `javafx-graphics-21.0.1-win.jar` contains native code for Windows, but not Linux or macOS.\r\n\r\nNote that when JavaFX is on the class-path, as is the case here, then your main class **cannot** be a subclass of `javafx.application.Application`. You **must** have a separate &quot;launcher class&quot; as the main class. Something like:\r\n\r\n```java\r\npackage sample;\r\n\r\nimport javafx.application.Application;\r\n\r\npublic class Launcher {\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(YourAppClass.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://stackoverflow.com/a/77407480/6395627\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/specs/man/jpackage.html\r\n  [4]: https://stackoverflow.com/questions/77403261/javafx-how-to-compile-uber-jar-with-maven-and-create-a-installer?noredirect=1#comment136458427_77403261\r\n  [5]: https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/specs/man/jlink.html\r\n  [7]: https://github.panteleyev.org/jpackage-maven-plugin/index.html\r\n  [8]: https://www.graalvm.org/latest/reference-manual/native-image/\r\n  [9]: https://gluonhq.com/create-native-javafx-applications-using-graalvm-22-builds-from-gluon/\r\n  [10]: https://bell-sw.com/announcements/2022/08/24/turning-javafx-apps-into-native-images/","title":"JavaFX - How to compile uber jar with maven and create a installer?","body":"<h1>Self-Contained Application</h1>\n<p>Your desire to create an installer lends itself to creating an entirely self-contained application. That is an application that bundles not only your code and its third-party dependencies, but also the Java Run-Time Environment itself. Your end user won't need to install Java separately.</p>\n<h2>GraalVM Native Image</h2>\n<p>One option for creating a self-contained application is <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/\" rel=\"nofollow noreferrer\">GraalVM's native image</a>. Note that this will also ahead-of-time compile your Java code to native code.</p>\n<p>I have very little experience with GraalVM, so I won't give an example, but here are some links that may help:</p>\n<ul>\n<li><p><a href=\"https://gluonhq.com/create-native-javafx-applications-using-graalvm-22-builds-from-gluon/\" rel=\"nofollow noreferrer\">Create native JavaFX applications using GraalVM 22 builds from Gluon</a></p>\n</li>\n<li><p><a href=\"https://bell-sw.com/announcements/2022/08/24/turning-javafx-apps-into-native-images/\" rel=\"nofollow noreferrer\">How to create JavaFX native images | BellSoft Java</a></p>\n</li>\n</ul>\n<h2>jpackage</h2>\n<p>A relatively accessible tool for creating a self-contained applications and installers is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\"><code>jpackage</code></a>. It comes with the JDK since version 16. See the <a href=\"https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">Packaging Tool User Guide</a> for more information. It would also help to understand <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a>, as <code>jpackage</code> will either use <code>jlink</code> &quot;behind the scenes&quot; to generate a custom run-time image, or you'll use <code>jlink</code> explicitly and then provide <code>jpackage</code> with the custom run-time image.</p>\n<p>One significant downside to using <code>jpackage</code>, however, is that it can only create application images and installers for the operating system it is running on. If you want a Windows application, then you'll have to build your project on Windows, with the same being true for Linux and macOS. And as <a href=\"https://stackoverflow.com/questions/77403261/javafx-how-to-compile-uber-jar-with-maven-and-create-a-installer?noredirect=1#comment136458427_77403261\">jewelsea explains in a comment</a>, there are also platform-specific issues you'll have to resolve:</p>\n<blockquote>\n<p>Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with. For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs. So be prepared to spend some time and (probably) a bit of money to create the installers. Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help.</p>\n</blockquote>\n<p>If you're going to create a self-contained application, then I would suggest you forgo creating a fat/uber/shadowed JAR file. A self-contained application already contains all dependencies, so a shadowed JAR file is unlikely to provide any benefits. Plus, if you're going to be using <code>jpackage</code> to create the installer, you might as well design your entire deployment around <code>jpackage</code> from the start.</p>\n<p>Using Maven profiles can solve a lot of the platform-specific configuration issues. While any remaining platform-specific configuration, as well as building the application on multiple platforms and publishing it automatically, can likely be accomplished with some kind of CI/CD pipeline. Though remember to <strong>never</strong> commit any secrets to your VCS (e.g., Git), which by extension means do not put any secrets in the POM file(s).</p>\n<h3>Example</h3>\n<p>Here is a POM that is configured to create an <code>msi</code> installer file when the <code>windows</code> profile is activated. Note there is only configurations for Windows in this example. The <a href=\"https://github.panteleyev.org/jpackage-maven-plugin/index.html\" rel=\"nofollow noreferrer\">org.panteleyev:jpackage-maven-plugin</a> plugin is used to execute <code>jpackage</code>.</p>\n<p>This POM is designed for a <strong>non-modular</strong> application. As such, it's configured so that the JavaFX modules are added to the custom run-time image, while the project code and any other dependencies are configured to be placed on the class-path via <code>--input</code> and <code>--main-jar</code>. By having JavaFX in the custom run-time image, it will implicitly be on the module-path.</p>\n<p><em><strong>Disclaimer:</strong> I'm more familiar with Gradle than Maven, so there may be ways to simplify the following POM.</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;app&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;name&gt;app&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;javafxVersion&gt;21.0.1&lt;/javafxVersion&gt;\n    &lt;libsDir&gt;${project.build.directory}/artifacts/libs&lt;/libsDir&gt;\n    &lt;javafxModsDir&gt;${project.build.directory}/artifacts/javafx&lt;/javafxModsDir&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafxVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;!-- Lock in versions. --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\n          &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;!-- \n        Configure JAR plugin to set Main-Class entry in the JAR's manifest. Also, put the JAR\n        file in the same directory as the non-JavaFX dependencies to make using jpackage easier.\n      --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.example.app.Main&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Copy dependencies into project-local directories to make using jpackage easier. --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;!-- \n            Put JavaFX JARs in their own directory so they are not included in the input directory\n            and can easily be placed on the module-path of jpackage.\n          --&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-javafx-deps&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${javafxModsDir}&lt;/outputDirectory&gt;\n              &lt;includeGroupIds&gt;org.openjfx&lt;/includeGroupIds&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;!-- \n            Put all non-JavaFX JARs in a separate directory to use with the input argument\n            of jpackage. The project JAR will be placed here as well.\n          --&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-nonjavafx-deps&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\n              &lt;excludeGroupIds&gt;org.openjfx&lt;/excludeGroupIds&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Common jpackage configurations. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\n        &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;modulePaths&gt;\n            &lt;modulePath&gt;${javafxModsDir}&lt;/modulePath&gt;\n          &lt;/modulePaths&gt;\n          &lt;!-- \n            Must explicitly add modules since project code is not modular, meaning there's\n            no module-info.java file with requires directives.\n\n            Include the jdk.localedata module to ensure internationalization works. You can filter\n            which locales are included via jlink options.\n          --&gt;\n          &lt;addModules&gt;javafx.controls,jdk.localedata&lt;/addModules&gt;\n          &lt;input&gt;${libsDir}&lt;/input&gt;\n          &lt;mainJar&gt;${project.name}-${project.version}.jar&lt;/mainJar&gt;\n          &lt;temp&gt;${project.build.directory}/jpackage/temp&lt;/temp&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;windows&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;!-- Windows-specific jpackage configurations. --&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\n            &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;windows-msi&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;jpackage&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;type&gt;MSI&lt;/type&gt;\n                  &lt;destination&gt;${project.build.directory}/jpackage/windows-msi&lt;/destination&gt;\n                  &lt;winPerUserInstall&gt;true&lt;/winPerUserInstall&gt;\n                  &lt;winDirChooser&gt;true&lt;/winDirChooser&gt;\n                  &lt;winUpgradeUuid&gt;7c59c875-1ad3-4042-9c9f-fed5fc3f8ab9&lt;/winUpgradeUuid&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And here's an example <code>com.example.app.Main</code> class to go along with the POM:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.app;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        // List view will display the modules included in the custom run-time image.\n        var listView = new ListView&lt;String&gt;();\n        ModuleLayer.boot()\n            .modules()\n            .stream()\n            .map(Module::getName)\n            .sorted()\n            .forEach(listView.getItems()::add);\n        primaryStage.setTitle(&quot;JavaFX &quot; + System.getProperty(&quot;javafx.version&quot;) + &quot; Application&quot;);\n        primaryStage.setScene(new Scene(listView, 600, 400));\n        primaryStage.show();        \n    }\n}\n</code></pre>\n<p>To create the <code>msi</code> file, execute:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn -P windows package\n</code></pre>\n<p>And you should get a <code>target/jpackage/windows-msi/app-1.0.msi</code> installer file.</p>\n<p>Note you must execute that on Windows, and you must have WiX Toolset 3.x.x installed (version 4.x.x doesn't seem to work with <code>jpackage</code>, or at least I couldn't get it to work). If you don't want to install WiX 3.x.x just for running the example, then change the type to <code>&lt;type&gt;APP_IMAGE&lt;/type&gt;</code>. You won't get an installer file, but you'll end up with an application image that you can run as is.</p>\n<hr />\n<h1>Executable JAR</h1>\n<p>You can create an executable fat/uber/shadowed JAR file with JavaFX via Maven using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a>. Note this will inherently put everything on the class-path. Any code that relies explicitly on modules may break with this setup, though such code is rare. Additionally, JavaFX does not technically support being loaded from the class-path. Doing so will not break anything as of JavaFX 21, as far as I know, but any issues caused by this configuration are unlikely to be fixed by the JavaFX developers.</p>\n<p>See <a href=\"https://stackoverflow.com/a/77407480/6395627\">David Weber's answer</a> for an example using the Maven Shade Plugin.</p>\n<p>If you want to go with a shadowed executable JAR file as your deployment strategy, then I suggest you forgo creating an installer. Just have your end user install the appropriate version of Java (you can send them the installer for that), and then they can just double-click the JAR file to make it run. Make sure your end user enables associating <code>*.jar</code> files with Java if the Java installer gives that option.</p>\n<p>If you want a cross-platform executable JAR file, you'll have to declare a JavaFX dependency for each platform manually. JavaFX relies on platform-specific native code, and the Maven artifacts embed that native code in the JAR file, but only for a particular platform. For instance, <code>javafx-graphics-21.0.1-win.jar</code> contains native code for Windows, but not Linux or macOS.</p>\n<p>Note that when JavaFX is on the class-path, as is the case here, then your main class <strong>cannot</strong> be a subclass of <code>javafx.application.Application</code>. You <strong>must</strong> have a separate &quot;launcher class&quot; as the main class. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport javafx.application.Application;\n\npublic class Launcher {\n\n    public static void main(String[] args) {\n        Application.launch(YourAppClass.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29799413,"reputation":13,"user_id":22837527,"display_name":"Bruno B."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77410196,"answer_count":2,"score":1,"last_activity_date":1698989108,"creation_date":1698847880,"question_id":77403261,"body_markdown":"I need to compile a JavaFX 20 application into an executable Jar file that includes all the dependencies listed in the pom.xml (including javaFX itself and all the other JAR files). My project is based on Maven. I tried many different maven plugins but none of them were able to make the final jar executable by double clicking, although I was able to run in in the command line with the `java -jar` command. The intention is to distribute this app with next/next/finish installers on Linux, Windows and MacOS. The end user profile is a lab researcher with low IT knowledge (I work for a NPO that helps protecting the Amazon forest). Is there an objective way to do this?\r\n\r\nI already tried many maven plugins with different goals (resources, dependencies, shade, compiler, etc) but no success at all.","title":"JavaFX - How to compile uber jar with maven and create a installer?","body":"<p>I need to compile a JavaFX 20 application into an executable Jar file that includes all the dependencies listed in the pom.xml (including javaFX itself and all the other JAR files). My project is based on Maven. I tried many different maven plugins but none of them were able to make the final jar executable by double clicking, although I was able to run in in the command line with the <code>java -jar</code> command. The intention is to distribute this app with next/next/finish installers on Linux, Windows and MacOS. The end user profile is a lab researcher with low IT knowledge (I work for a NPO that helps protecting the Amazon forest). Is there an objective way to do this?</p>\n<p>I already tried many maven plugins with different goals (resources, dependencies, shade, compiler, etc) but no success at all.</p>\n"},{"tags":["java","ldap","connection","keycloak"],"owner":{"account_id":29815814,"reputation":1,"user_id":22850122,"display_name":"aishwarya v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698988208,"creation_date":1698988208,"question_id":77414317,"body_markdown":"I am trying to to configure LDAP in user federations of keycloak. I started my apache directory server and connecting to it. But I am unable to connect with it. I tried \r\nldap://localhost:10389\r\nldap://localhost:389\r\nldap://127.0.0.1:10389\r\nldap://192.168.29.244:10389(my ip address)\r\n[keycloak user federation config](https://i.stack.imgur.com/79sWi.png)\r\n\r\n\r\nI tried the above connection urls with port 10389 and just 389 but getting same error.\r\nI want to know what mistake i am doing.","title":"LDAP configuration in Keycloak","body":"<p>I am trying to to configure LDAP in user federations of keycloak. I started my apache directory server and connecting to it. But I am unable to connect with it. I tried\nldap://localhost:10389\nldap://localhost:389\nldap://127.0.0.1:10389\nldap://192.168.29.244:10389(my ip address)\n<a href=\"https://i.stack.imgur.com/79sWi.png\" rel=\"nofollow noreferrer\">keycloak user federation config</a></p>\n<p>I tried the above connection urls with port 10389 and just 389 but getting same error.\nI want to know what mistake i am doing.</p>\n"},{"tags":["java","spring-boot","apache-camel","velocity","camel-routes"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1699274362,"post_id":77413875,"comment_id":136506830,"body_markdown":"Have you added the `velocity-engine-core` dependency yourself?\nAccording to [this](https://mvnrepository.com/artifact/org.apache.camel/camel-velocity/2.25.4) `camel-velocity` `2.25.4` seems to use `velocity-engine-core` version `2.0` so it&#39;s possible that `camel-velocity` version `2.25.4` is incompatible with `velocity-engine-core` `2.3`","body":"Have you added the <code>velocity-engine-core</code> dependency yourself? According to <a href=\"https://mvnrepository.com/artifact/org.apache.camel/camel-velocity/2.25.4\" rel=\"nofollow noreferrer\">this</a> <code>camel-velocity</code> <code>2.25.4</code> seems to use <code>velocity-engine-core</code> version <code>2.0</code> so it&#39;s possible that <code>camel-velocity</code> version <code>2.25.4</code> is incompatible with <code>velocity-engine-core</code> <code>2.3</code>"},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1699275284,"post_id":77413875,"comment_id":136506988,"body_markdown":"Also have you tried to set the `allowContextMapAll=true`? According to the documentation by default only body and headers can be accessed .","body":"Also have you tried to set the <code>allowContextMapAll=true</code>? According to the documentation by default only body and headers can be accessed ."},{"owner":{"account_id":4508076,"reputation":1,"user_id":5967760,"display_name":"Ino"},"score":0,"creation_date":1699485709,"post_id":77413875,"comment_id":136539483,"body_markdown":"Yes, I have added velocity-engine-core dependency. This is working as expected with camel-velocity:2.24.3, velocity-engine-core:2.3 and velocity-tools-generic:3.1\n\nOnly update is upgraded camel-velocity to 2.25.4","body":"Yes, I have added velocity-engine-core dependency. This is working as expected with camel-velocity:2.24.3, velocity-engine-core:2.3 and velocity-tools-generic:3.1  Only update is upgraded camel-velocity to 2.25.4"},{"owner":{"account_id":4508076,"reputation":1,"user_id":5967760,"display_name":"Ino"},"score":0,"creation_date":1699494495,"post_id":77413875,"comment_id":136540347,"body_markdown":"Included allowContextMapAll=true to the velocity route URL and this works, thanks @Pasi&#214;sterman","body":"Included allowContextMapAll=true to the velocity route URL and this works, thanks @Pasi&#214;sterman"}],"owner":{"account_id":4508076,"reputation":1,"user_id":5967760,"display_name":"Ino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698987441,"creation_date":1698978736,"question_id":77413875,"body_markdown":"I did Apache Camel velocity upgrade on my Spring boot application to 2.25.4\r\nNow I am unable to access exchange properties from the velocity template. Just template is retrieved without values.\r\n\r\napplication works fine with org.apache.camel:camel-velocity:2.24.3 (2.25+ velocity libraries gives this error)\r\n\r\nI am using org.apache.velocity.tools.generic.EscapeTool\r\n\r\n\r\nFollowing are the relevant dependencies used:\r\n```\r\n&quot;org.apache.camel:camel-core:2.25.4&quot;\r\n&quot;org.apache.camel:camel-velocity:2.25.4&quot;\r\n&quot;org.apache.velocity:velocity-engine-core:2.3&quot;\r\n&quot;org.apache.velocity.tools:velocity-tools-generic:3.1&quot;\r\n\r\n```\r\n\r\nHow can I fix this error?","title":"Error in exchange property mapping to velocity template with Apache Camel upgrade 2.25+","body":"<p>I did Apache Camel velocity upgrade on my Spring boot application to 2.25.4\nNow I am unable to access exchange properties from the velocity template. Just template is retrieved without values.</p>\n<p>application works fine with org.apache.camel:camel-velocity:2.24.3 (2.25+ velocity libraries gives this error)</p>\n<p>I am using org.apache.velocity.tools.generic.EscapeTool</p>\n<p>Following are the relevant dependencies used:</p>\n<pre><code>&quot;org.apache.camel:camel-core:2.25.4&quot;\n&quot;org.apache.camel:camel-velocity:2.25.4&quot;\n&quot;org.apache.velocity:velocity-engine-core:2.3&quot;\n&quot;org.apache.velocity.tools:velocity-tools-generic:3.1&quot;\n\n</code></pre>\n<p>How can I fix this error?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698931190,"post_id":77408741,"comment_id":136468661,"body_markdown":"RecyclerView is usually associated with a list, so that each item of the RecyclerView will map to an item in the list. If you have a list of users stored in SharedPrefs, you should instead consider using a database to store the list. [Here](https://developer.android.com/training/data-storage/room) is a good starting point and its really very easy.","body":"RecyclerView is usually associated with a list, so that each item of the RecyclerView will map to an item in the list. If you have a list of users stored in SharedPrefs, you should instead consider using a database to store the list. <a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">Here</a> is a good starting point and its really very easy."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698931441,"post_id":77408741,"comment_id":136468719,"body_markdown":"If you still want to use sharedPref, you should store Id of each value stored in sharedPref and then process those ID, i.e. get each user from the shared Pref and then create a list&lt;User&gt; and pass this list to RecyclerView adapter. But I highly recommend to not follow this, because sharedPrefs have limited storage size.","body":"If you still want to use sharedPref, you should store Id of each value stored in sharedPref and then process those ID, i.e. get each user from the shared Pref and then create a list&lt;User&gt; and pass this list to RecyclerView adapter. But I highly recommend to not follow this, because sharedPrefs have limited storage size."},{"owner":{"account_id":21636597,"reputation":383,"user_id":15959434,"display_name":"TIMBLOCKER"},"score":0,"creation_date":1698937117,"post_id":77408741,"comment_id":136470049,"body_markdown":"@PawanHarariya is totally right. It is not very typical and no clean code to store Object[] or Lists in Shared Preferences. If you want to do it anyways you could just save your Data to a JSON and then revert it if you read the thing. It highly depends on the data Size. You will get along with that, if there are oly &lt;100 Entries. If it gets bigger, this approach will take too long. If you want to make it happen look into GSON","body":"@PawanHarariya is totally right. It is not very typical and no clean code to store Object[] or Lists in Shared Preferences. If you want to do it anyways you could just save your Data to a JSON and then revert it if you read the thing. It highly depends on the data Size. You will get along with that, if there are oly &lt;100 Entries. If it gets bigger, this approach will take too long. If you want to make it happen look into GSON"}],"answers":[{"tags":[],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698986817,"creation_date":1698986669,"answer_id":77414246,"question_id":77408741,"body_markdown":"I wonder why you use Sharepreferences ?? if you have multiple users whom data you will collect then everytime you have to create new key-pair isn&#39;t it time consuming although you can just store those data into sqllite database [here][1] and then retrive those data and display it into recyclerview [follow this][2]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/\r\n  [2]: https://www.youtube.com/watch?v=6enCz2cY18c","title":"Sharedpreferences and recyclerView","body":"<p>I wonder why you use Sharepreferences ?? if you have multiple users whom data you will collect then everytime you have to create new key-pair isn't it time consuming although you can just store those data into sqllite database <a href=\"https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/\" rel=\"nofollow noreferrer\">here</a> and then retrive those data and display it into recyclerview <a href=\"https://www.youtube.com/watch?v=6enCz2cY18c\" rel=\"nofollow noreferrer\">follow this</a></p>\n"}],"owner":{"account_id":29809653,"reputation":13,"user_id":22845391,"display_name":"omid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77414246,"answer_count":1,"score":1,"last_activity_date":1698986817,"creation_date":1698920241,"question_id":77408741,"body_markdown":"I created a program that takes user information including name, age, and date of birth and saves this data through Sharepreferences.\r\nNow I want to display all this information in RecyclerView, but I don&#39;t know how to do this.\r\n\r\nCan someone tell me a solution to solve this problem?\r\n\r\nThe challenge for me is that since each user information has an additional ID, I cannot display each information individually in RecyclerView.","title":"Sharedpreferences and recyclerView","body":"<p>I created a program that takes user information including name, age, and date of birth and saves this data through Sharepreferences.\nNow I want to display all this information in RecyclerView, but I don't know how to do this.</p>\n<p>Can someone tell me a solution to solve this problem?</p>\n<p>The challenge for me is that since each user information has an additional ID, I cannot display each information individually in RecyclerView.</p>\n"},{"tags":["java","jpa","criteria","hibernate-criteria","criteriaquery"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698933519,"post_id":77409006,"comment_id":136469200,"body_markdown":"What are the results you are getting? Note that you are showing us code for only part of the query, not the selection criteria, and we can only guess that the join1 and join2 methods are cut and paste errors that should read join1.join(&quot;b&quot;) and join2.join(&quot;c&quot;).","body":"What are the results you are getting? Note that you are showing us code for only part of the query, not the selection criteria, and we can only guess that the join1 and join2 methods are cut and paste errors that should read join1.join(&quot;b&quot;) and join2.join(&quot;c&quot;)."},{"owner":{"account_id":29448471,"reputation":9,"user_id":22565298,"display_name":"Wild"},"score":0,"creation_date":1698985858,"post_id":77409006,"comment_id":136476700,"body_markdown":"yeah, missed to add join i have updated it.","body":"yeah, missed to add join i have updated it."},{"owner":{"account_id":29448471,"reputation":9,"user_id":22565298,"display_name":"Wild"},"score":0,"creation_date":1698985902,"post_id":77409006,"comment_id":136476708,"body_markdown":"result that i&#39;m getting is it is trying find the table name like B_C since we are trying to join join1(which is not a root) with table C, which is not available","body":"result that i&#39;m getting is it is trying find the table name like B_C since we are trying to join join1(which is not a root) with table C, which is not available"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699022967,"post_id":77409006,"comment_id":136482434,"body_markdown":"What is trying to find a B_C table exactly? What is the relationship on A.b, and why would join1 (B) have a &quot;b&quot; relationship to C? Maybe show your entities and their mappings as it sounds like you are talking about a relation table on a M:M mapping","body":"What is trying to find a B_C table exactly? What is the relationship on A.b, and why would join1 (B) have a &quot;b&quot; relationship to C? Maybe show your entities and their mappings as it sounds like you are talking about a relation table on a M:M mapping"}],"owner":{"account_id":29448471,"reputation":9,"user_id":22565298,"display_name":"Wild"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698985820,"creation_date":1698922582,"question_id":77409006,"body_markdown":"Trying to build the critaria for the below query\r\n\r\n    Select a.x,c.y from A a\r\n    JOIN B b on a.a = b.a\r\n    JOIN C c on b.c = c.c\r\n    JOIN D d on c.d = d.d\r\n\r\n\r\nTried with below Criteria \r\n\r\n\r\n    Root&lt;A&gt; root = criteriaQuery.from(A);\r\n    Join&lt;A, B&gt; join1 = root.join(“b”);\r\n    Join&lt;B, C&gt; join2 = join1.join(“b”);\r\n    Join&lt;C, D&gt; join3 = join2.join(“c”)\r\n\r\n\r\nBut i was not getting expected results, any suggestions ","title":"Multiple Joins using Criteria builder","body":"<p>Trying to build the critaria for the below query</p>\n<pre><code>Select a.x,c.y from A a\nJOIN B b on a.a = b.a\nJOIN C c on b.c = c.c\nJOIN D d on c.d = d.d\n</code></pre>\n<p>Tried with below Criteria</p>\n<pre><code>Root&lt;A&gt; root = criteriaQuery.from(A);\nJoin&lt;A, B&gt; join1 = root.join(“b”);\nJoin&lt;B, C&gt; join2 = join1.join(“b”);\nJoin&lt;C, D&gt; join3 = join2.join(“c”)\n</code></pre>\n<p>But i was not getting expected results, any suggestions</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434531039,"creation_date":1434531039,"answer_id":30886676,"question_id":30886414,"body_markdown":"`Apache Commons FileUpload` uses the path as set in the `java.io.tmpdir` `system/environment` variable as default upload path. You can change the default upload path. Try to see if it solves the problem. Check their docs for configuration details.","title":"org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed","body":"<p><code>Apache Commons FileUpload</code> uses the path as set in the <code>java.io.tmpdir</code> <code>system/environment</code> variable as default upload path. You can change the default upload path. Try to see if it solves the problem. Check their docs for configuration details.</p>\n"}],"owner":{"account_id":6481968,"reputation":11,"user_id":5018683,"display_name":"vani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698984735,"creation_date":1434530313,"question_id":30886414,"body_markdown":"File upload program is working fine in the local pc when i deploy it online its giving an error, i.e  \r\n\r\n&gt; org.apache.commons.fileupload.FileUploadException: Processing of\r\n&gt; multipart/form-data request failed. C:\\Program Files (x86)\\Apache\r\n&gt; Software Foundation\\Tomcat 5.0\r\n&gt; \\upload_4133c5ef_14e0097e702__8000_00000003.tmp (The system cannot\r\n&gt; find the path specified)\r\n\r\n    \r\nBelow is my code:\r\n    \r\n    \r\n    &lt;%@page import=&quot;java.util.*&quot;%&gt;\r\n    &lt;%@page import=&quot;java.util.Iterator&quot;%&gt;\r\n    &lt;%@page import=&quot;java.io.File&quot;%&gt;\r\n    &lt;%@page import=&quot;org.apache.commons.fileupload.servlet.ServletFileUpload&quot;%&gt;\r\n    &lt;%@page import=&quot;org.apache.commons.fileupload.disk.DiskFileItemFactory&quot;%&gt;\r\n    &lt;%@page import=&quot;org.apache.commons.fileupload.*&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.ServletConfig&quot;%&gt;\r\n    &lt;%@page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@page import=&quot;java.io.*&quot;%&gt;\r\n    &lt;%@page import=&quot;java.text.*&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.Servlet&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.ServletException&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.http.HttpServlet&quot;%&gt;\r\n    &lt;%@page import=&quot;com.mmvisa.utils.ConnectionUtils&quot;%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Group file Upload&lt;/title&gt;\r\n    &lt;link href=&#39;http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,700,600,800&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39; /&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;../css/style.css&quot; type=&quot;text/css&quot; /&gt;\r\n    \r\n    &lt;/head&gt;\r\n    &lt;body &gt;\r\n    &lt;div id=&quot;wrapper&quot;&gt;\r\n    \r\n     &lt;div id=&quot;header&quot;&gt;\r\n      \r\n         &lt;div id=&quot;logo&quot;&gt;     \r\n         &lt;img src=&quot;../images/logo.jpg&quot; alt=&quot;logo&quot;  /&gt;     \r\n         &lt;/div&gt;    &lt;!-- logo --&gt;\r\n         \r\n         &lt;div class=&quot;tittle&quot;&gt;\r\n          &lt;h1&gt; M M VISA-AID CONSULTANCY &lt;/h1&gt;\r\n           &lt;p&gt;OFFSHORE AGENT OF AUSTRALIAN GOVERNMENT &lt;br /&gt;\r\n    Department of Immigration &amp; Border Protection&lt;/p&gt;\r\n        \r\n         &lt;/div&gt;    &lt;!-- tittle --&gt;\r\n    \r\n      &lt;/div&gt;   &lt;!-- header --&gt;\r\n        \r\n    \r\n     &lt;div class=&quot;content&quot; style=&quot;min-height:420px;&quot;&gt;\r\n         \r\n         \r\n       \r\n       \r\n    &lt;br/&gt;\r\n    \r\n    &lt;center&gt;\r\n    &lt;table border=&quot;2&quot;&gt;\r\n    \t\r\n    \t&lt;%\r\n          ServletConfig config1 = getServletConfig();\r\n      //\tlong  useridStr= 0;  \r\n      \tString id = &quot;&quot;;\r\n      \tlong compid = 0;\r\n      \r\n      \t//List&lt;String&gt; allfileName=new ArrayList&lt;String&gt;();\r\n        String allfileName[]=new String[50];\r\n      \tint counterNoOfFiles=0;\r\n      \tint uid = 0;\r\n     \tString year =null;\r\n      \tString invalidFile=null;\r\n         \r\n          boolean isMultipart = ServletFileUpload.isMultipartContent(request);\r\n      \tif (!isMultipart){\r\n      \t\t \r\n      \t}else{\r\n      \t\t\r\n      \t    List items = null;\r\n      \t    try{\r\n      \t    \t\r\n      \t    \t//FileItemFactory factory = new DiskFileItemFactory();\r\n      \t    \t\r\n      \t  \t   // ServletFileUpload upload = new ServletFileUpload(factory);\r\n      \t  \t   DiskFileUpload upload = new DiskFileUpload();\r\n      \t    \titems = upload.parseRequest(request);\r\n      \t    }catch (FileUploadException e){\r\n      \t    \te.printStackTrace();\r\n      \t  \t\r\n      \t    }\r\n      \t    Iterator itr = items.iterator();\r\n      \t    while (itr.hasNext()) {\r\n      \t    \r\n    \t    \t    FileItem item = (FileItem) itr.next();\r\n    \t    \t    if (item.isFormField()){\r\n    \t    \t    \t////\r\n    \t    \t    \t\r\n    \t    \t    \tString name = item.getFieldName();\r\n    \t    \t    \tString value = item.getString();\r\n    \t\t\t\t\tLong value1 = item.getSize();\r\n    \t\t\t\t\tSystem.out.println(&quot;dj checking field name--&gt;&quot;+name);\r\n    \t\t\t\t\tif(name.equals(&quot;year&quot;)){\r\n    \t\t\t\t\t\tyear=value;\r\n    \t\t\t\t\t\tSystem.out.println(&quot;dj checking field value--&gt;&quot;+year);\r\n    \t\t\t\t\t}\r\n    \t    \t    }else\t\r\n    \t    \t    {\r\n    \t    \t    \t\r\n    \t    \t    \ttry{\r\n    \t    \t    \t\tString itemName = item.getName();\r\n    \t    \t    \t\t//allfileName.add(itemName);\r\n    \t    \t    \t\tif (item.getSize() &gt; 0){\r\n    \t\t\t\t\t\t\tFile uploadedFile = null; \r\n    \t\t\t\t\t\t\tString myFullFileName = item.getName(),\tmyFileName = &quot;&quot;,\r\n    \t\t\t\t\t\t\tslashType = (myFullFileName.lastIndexOf(&quot;\\\\&quot;) &gt; 0) ? &quot;\\\\&quot; : &quot;/&quot;; // Windows or UNIX\r\n    \t\t\t\t\t\t\t//System.out.println(&quot;in multiple file upload&quot;+slashType);\r\n    \t\t\t\t\t\t\tint startIndex = myFullFileName.lastIndexOf(slashType);\r\n    \t\t\t\t\t\t\tmyFileName = myFullFileName.substring(startIndex + 1, myFullFileName.length());\t\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;in multiple file upload&quot;+myFileName);\r\n    \t\t\t\t\t\t\t//uploadedFile = new File(&quot;C:\\\\Documents and Settings\\\\sys\\\\Desktop\\\\shastrogyan\\\\.metadata\\\\.plugins\\\\org.eclipse.wst.server.core\\\\tmp0\\\\wtpwebapps\\\\Hayagriva\\\\files\\\\&quot;, myFileName);\r\n    \t\t\t\t\t\t\tuploadedFile = new File(getServletContext().getRealPath(&quot;\\\\&quot;)+&quot;clientfeedback&quot;, myFileName);\r\n    \t\t\t\t\t\t\t//getServletContext().getRealPath(&quot;\\\\&quot;)+&quot;uploadfiles\\\\&quot;\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;uploaded file &quot;+uploadedFile);\r\n    \t\t\t\t\t\t\titem.write(uploadedFile);\r\n    \t\t\t\t\t\t\tallfileName[counterNoOfFiles]=itemName;\r\n    \t\t\t\t\t\t\tcounterNoOfFiles++;\r\n    \t    \t    \t\t}  \r\n    \t    \t    \t}catch (Exception e){\r\n    \t    \t    \t\te.printStackTrace();\r\n    \t    \t    \t}\r\n    \t    \t    }\r\n      \t    }\r\n      \t}\r\n    \t      Connection con = null;\r\n              PreparedStatement preStat = null;\r\n              ResultSet rs = null;\r\n              int count=0;\r\n    \t          String img=&quot; &quot;;\r\n    \t    \t\t    \tfor(int i=0;i&lt;=counterNoOfFiles;i++)\r\n    \t    \t\t    \t{\r\n    \t    \t\t    \t\tSystem.out.println(&quot;Number of files &quot;+counterNoOfFiles);\r\n    \t    \t\t    \t   \timg = allfileName[i];\r\n    \t    \t\t    \t   \tSystem.out.println(&quot;Image name &quot;+img);\r\n    \t    \t\t    \t}\r\n    \t    \t\t    \tSystem.out.println(&quot;All Image names &quot;+img);\r\n      \t\r\n    \t    \t//Code for Add to database\r\n    \t    \tfor(int i=0;i&lt;counterNoOfFiles;i++){\r\n    \t    \t\t//System.out.println(&quot;175&quot;+allfileName.size());\r\n    \t    \t\t\r\n    \t   \t   \t    PreparedStatement psmt=null;\r\n    \t   \t   \t    \r\n    \t   \t   \t\ttry{\r\n    \t          \t  con=ConnectionUtils.getConnection();\r\n    \t          \tString sql = &quot;select * from clientfeedback where imagename=?&quot;;\r\n    \t          \tSystem.out.println(sql);\r\n    \t          \tpsmt=con.prepareStatement(sql);\r\n    \t          \tpsmt.setString(1, allfileName[i].toString());\r\n        \t\t\trs=psmt.executeQuery();\r\n        \t\t\tif(rs.next()){\r\n        \t\t\t\tcount++;\r\n        \t\t\t}else{\r\n        \t\t\t\tif (psmt != null)\r\n        \t    \t\t\tpsmt.close();\r\n    \t\t          String query = &quot;insert into clientfeedback (imagename,year ) values(?,?)&quot;;\r\n    \t\t          \r\n    \t\t      \tSystem.out.println(query);\r\n    \t\t    \t    \tpsmt=con.prepareStatement(query);\r\n    \t\t    \t    \tpsmt.setString(1, allfileName[i].toString());\r\n    \t\t    \t\t\tpsmt.setString(2,year);\r\n    \t\t    \t    \tpsmt.executeUpdate();\r\n        \t\t\t}\r\n    \t\t    \t    }catch(Exception ex){\r\n    \t\t    \t   \t\tex.printStackTrace();\r\n    \t\t    \t    }finally{\r\n    \t\t    \t    \t\r\n    \t\t    \t    \ttry {\r\n    \t\t    \t    \t\tif (psmt != null)\r\n    \t\t    \t    \t\t\tpsmt.close();\r\n    \t\t    \t    \t} catch (Exception e2) {\r\n    \t\t    \t    \t}\r\n    \t\t    \t    \ttry {\r\n    \t\t    \t    \t\tif (con != null)\r\n    \t\t    \t    \t\t\tcon.close();\r\n    \t\t    \t    \t} catch (Exception e3) {\r\n    \t\t    \t    \t}\r\n    \t\t    \t}\r\n    \t    \t}\r\n    \t    \tSystem.out.println(&quot;checking count-&gt;&quot;+count);\r\n    \t    \tif(count!=0){\r\n    \t    \t\tinvalidFile=&quot;there is &quot;+count+&quot; duplicate file which is not save in database.other file has saved&quot;; \r\n    \t    \t}else{\r\n    \t    \tinvalidFile=&quot;File uploading done successfully&quot;;\t\r\n    \t    \t}\r\n       %&gt;\r\n     \r\n    &lt;/table&gt;\r\n    &lt;/center&gt;\r\n    &lt;center&gt;\r\n    &lt;h3&gt;&lt;%=invalidFile %&gt;&lt;/h3&gt;\r\n    &lt;/center&gt;\r\n    &lt;center&gt;&lt;a href=&quot;&lt;%=request.getContextPath() %&gt;/clientFeedback.do?action=list&quot;&gt;Go to upload page&lt;/a&gt;&lt;/center&gt;\r\n    &lt;br/&gt;\r\n     \r\n    &lt;/div&gt;  &lt;!-- content --&gt;\r\n    \r\n    &lt;div id=&quot;footer&quot; style=&quot;margin-top:10px;&quot;&gt;\r\n           &lt;table&gt;\r\n           &lt;tr&gt;\r\n           &lt;td width=&quot;900&quot;&gt;Copyright, All Rights Reserved,MM VISA,2014&lt;/td&gt;\r\n           &lt;td width=&quot;460&quot;&gt;Follow us on : &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/facebook.png&quot; /&gt; &lt;/a&gt; &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/twitter.png&quot; /&gt; &lt;/a&gt;  &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/utube.png&quot; /&gt; &lt;/a&gt;`enter code here`\r\n           &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/blog1.png&quot; /&gt;&lt;/a&gt;\r\n           &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/google_plus_icon.png&quot; /&gt; &lt;/a&gt;\r\n           \r\n            &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n            &lt;/div&gt;  &lt;!-- footer--&gt;\r\n    \r\n    &lt;/div&gt;  &lt;!-- wrapper --&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \r\n     \r\nCould anyone please help me to solve this problem. Thank you","title":"org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed","body":"<p>File upload program is working fine in the local pc when i deploy it online its giving an error, i.e  </p>\n\n<blockquote>\n  <p>org.apache.commons.fileupload.FileUploadException: Processing of\n  multipart/form-data request failed. C:\\Program Files (x86)\\Apache\n  Software Foundation\\Tomcat 5.0\n  \\upload_4133c5ef_14e0097e702__8000_00000003.tmp (The system cannot\n  find the path specified)</p>\n</blockquote>\n\n<p>Below is my code:</p>\n\n<pre><code>&lt;%@page import=\"java.util.*\"%&gt;\n&lt;%@page import=\"java.util.Iterator\"%&gt;\n&lt;%@page import=\"java.io.File\"%&gt;\n&lt;%@page import=\"org.apache.commons.fileupload.servlet.ServletFileUpload\"%&gt;\n&lt;%@page import=\"org.apache.commons.fileupload.disk.DiskFileItemFactory\"%&gt;\n&lt;%@page import=\"org.apache.commons.fileupload.*\"%&gt;\n&lt;%@page import=\"javax.servlet.ServletConfig\"%&gt;\n&lt;%@page import=\"java.sql.*\"%&gt;\n&lt;%@page import=\"java.io.*\"%&gt;\n&lt;%@page import=\"java.text.*\"%&gt;\n&lt;%@page import=\"javax.servlet.Servlet\"%&gt;\n&lt;%@page import=\"javax.servlet.ServletException\"%&gt;\n&lt;%@page import=\"javax.servlet.http.HttpServlet\"%&gt;\n&lt;%@page import=\"com.mmvisa.utils.ConnectionUtils\"%&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Group file Upload&lt;/title&gt;\n&lt;link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,700,600,800' rel='stylesheet' type='text/css' /&gt;\n&lt;link rel=\"stylesheet\" href=\"../css/style.css\" type=\"text/css\" /&gt;\n\n&lt;/head&gt;\n&lt;body &gt;\n&lt;div id=\"wrapper\"&gt;\n\n &lt;div id=\"header\"&gt;\n\n     &lt;div id=\"logo\"&gt;     \n     &lt;img src=\"../images/logo.jpg\" alt=\"logo\"  /&gt;     \n     &lt;/div&gt;    &lt;!-- logo --&gt;\n\n     &lt;div class=\"tittle\"&gt;\n      &lt;h1&gt; M M VISA-AID CONSULTANCY &lt;/h1&gt;\n       &lt;p&gt;OFFSHORE AGENT OF AUSTRALIAN GOVERNMENT &lt;br /&gt;\nDepartment of Immigration &amp; Border Protection&lt;/p&gt;\n\n     &lt;/div&gt;    &lt;!-- tittle --&gt;\n\n  &lt;/div&gt;   &lt;!-- header --&gt;\n\n\n &lt;div class=\"content\" style=\"min-height:420px;\"&gt;\n\n\n\n\n&lt;br/&gt;\n\n&lt;center&gt;\n&lt;table border=\"2\"&gt;\n\n    &lt;%\n      ServletConfig config1 = getServletConfig();\n  //    long  useridStr= 0;  \n    String id = \"\";\n    long compid = 0;\n\n    //List&lt;String&gt; allfileName=new ArrayList&lt;String&gt;();\n    String allfileName[]=new String[50];\n    int counterNoOfFiles=0;\n    int uid = 0;\n    String year =null;\n    String invalidFile=null;\n\n      boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n    if (!isMultipart){\n\n    }else{\n\n        List items = null;\n        try{\n\n            //FileItemFactory factory = new DiskFileItemFactory();\n\n           // ServletFileUpload upload = new ServletFileUpload(factory);\n           DiskFileUpload upload = new DiskFileUpload();\n            items = upload.parseRequest(request);\n        }catch (FileUploadException e){\n            e.printStackTrace();\n\n        }\n        Iterator itr = items.iterator();\n        while (itr.hasNext()) {\n\n                FileItem item = (FileItem) itr.next();\n                if (item.isFormField()){\n                    ////\n\n                    String name = item.getFieldName();\n                    String value = item.getString();\n                    Long value1 = item.getSize();\n                    System.out.println(\"dj checking field name--&gt;\"+name);\n                    if(name.equals(\"year\")){\n                        year=value;\n                        System.out.println(\"dj checking field value--&gt;\"+year);\n                    }\n                }else   \n                {\n\n                    try{\n                        String itemName = item.getName();\n                        //allfileName.add(itemName);\n                        if (item.getSize() &gt; 0){\n                            File uploadedFile = null; \n                            String myFullFileName = item.getName(), myFileName = \"\",\n                            slashType = (myFullFileName.lastIndexOf(\"\\\\\") &gt; 0) ? \"\\\\\" : \"/\"; // Windows or UNIX\n                            //System.out.println(\"in multiple file upload\"+slashType);\n                            int startIndex = myFullFileName.lastIndexOf(slashType);\n                            myFileName = myFullFileName.substring(startIndex + 1, myFullFileName.length()); \n                            System.out.println(\"in multiple file upload\"+myFileName);\n                            //uploadedFile = new File(\"C:\\\\Documents and Settings\\\\sys\\\\Desktop\\\\shastrogyan\\\\.metadata\\\\.plugins\\\\org.eclipse.wst.server.core\\\\tmp0\\\\wtpwebapps\\\\Hayagriva\\\\files\\\\\", myFileName);\n                            uploadedFile = new File(getServletContext().getRealPath(\"\\\\\")+\"clientfeedback\", myFileName);\n                            //getServletContext().getRealPath(\"\\\\\")+\"uploadfiles\\\\\"\n                            System.out.println(\"uploaded file \"+uploadedFile);\n                            item.write(uploadedFile);\n                            allfileName[counterNoOfFiles]=itemName;\n                            counterNoOfFiles++;\n                        }  \n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n                }\n        }\n    }\n          Connection con = null;\n          PreparedStatement preStat = null;\n          ResultSet rs = null;\n          int count=0;\n              String img=\" \";\n                        for(int i=0;i&lt;=counterNoOfFiles;i++)\n                        {\n                            System.out.println(\"Number of files \"+counterNoOfFiles);\n                            img = allfileName[i];\n                            System.out.println(\"Image name \"+img);\n                        }\n                        System.out.println(\"All Image names \"+img);\n\n            //Code for Add to database\n            for(int i=0;i&lt;counterNoOfFiles;i++){\n                //System.out.println(\"175\"+allfileName.size());\n\n                PreparedStatement psmt=null;\n\n                try{\n                  con=ConnectionUtils.getConnection();\n                String sql = \"select * from clientfeedback where imagename=?\";\n                System.out.println(sql);\n                psmt=con.prepareStatement(sql);\n                psmt.setString(1, allfileName[i].toString());\n                rs=psmt.executeQuery();\n                if(rs.next()){\n                    count++;\n                }else{\n                    if (psmt != null)\n                        psmt.close();\n                  String query = \"insert into clientfeedback (imagename,year ) values(?,?)\";\n\n                System.out.println(query);\n                        psmt=con.prepareStatement(query);\n                        psmt.setString(1, allfileName[i].toString());\n                        psmt.setString(2,year);\n                        psmt.executeUpdate();\n                }\n                    }catch(Exception ex){\n                        ex.printStackTrace();\n                    }finally{\n\n                        try {\n                            if (psmt != null)\n                                psmt.close();\n                        } catch (Exception e2) {\n                        }\n                        try {\n                            if (con != null)\n                                con.close();\n                        } catch (Exception e3) {\n                        }\n                }\n            }\n            System.out.println(\"checking count-&gt;\"+count);\n            if(count!=0){\n                invalidFile=\"there is \"+count+\" duplicate file which is not save in database.other file has saved\"; \n            }else{\n            invalidFile=\"File uploading done successfully\"; \n            }\n   %&gt;\n\n&lt;/table&gt;\n&lt;/center&gt;\n&lt;center&gt;\n&lt;h3&gt;&lt;%=invalidFile %&gt;&lt;/h3&gt;\n&lt;/center&gt;\n&lt;center&gt;&lt;a href=\"&lt;%=request.getContextPath() %&gt;/clientFeedback.do?action=list\"&gt;Go to upload page&lt;/a&gt;&lt;/center&gt;\n&lt;br/&gt;\n\n&lt;/div&gt;  &lt;!-- content --&gt;\n\n&lt;div id=\"footer\" style=\"margin-top:10px;\"&gt;\n       &lt;table&gt;\n       &lt;tr&gt;\n       &lt;td width=\"900\"&gt;Copyright, All Rights Reserved,MM VISA,2014&lt;/td&gt;\n       &lt;td width=\"460\"&gt;Follow us on : &lt;a href=\"#\"&gt; &lt;img src=\"../images/facebook.png\" /&gt; &lt;/a&gt; &lt;a href=\"#\"&gt; &lt;img src=\"../images/twitter.png\" /&gt; &lt;/a&gt;  &lt;a href=\"#\"&gt; &lt;img src=\"../images/utube.png\" /&gt; &lt;/a&gt;`enter code here`\n       &lt;a href=\"#\"&gt; &lt;img src=\"../images/blog1.png\" /&gt;&lt;/a&gt;\n       &lt;a href=\"#\"&gt; &lt;img src=\"../images/google_plus_icon.png\" /&gt; &lt;/a&gt;\n\n        &lt;/td&gt;\n      &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;/div&gt;  &lt;!-- footer--&gt;\n\n&lt;/div&gt;  &lt;!-- wrapper --&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Could anyone please help me to solve this problem. Thank you</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1652954560,"post_id":72301953,"comment_id":127734942,"body_markdown":"Please share your stack trace","body":"Please share your stack trace"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1652959373,"post_id":72301953,"comment_id":127736614,"body_markdown":"Posting your test dependencies would also help.","body":"Posting your test dependencies would also help."}],"answers":[{"tags":[],"owner":{"account_id":22915385,"reputation":106,"user_id":17052051,"display_name":"Ranjit C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652957622,"creation_date":1652956381,"answer_id":72302991,"question_id":72301953,"body_markdown":"If you are trying to mock static class using mockito, you will need the following dependency first. If you try to mock static class without this dependency it will throw that error\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen mock the static class by using\r\n```\r\nMockedStatic&lt;YourStaticClass&gt; yourStaticClass = mockStatic(YourStaticClass.class)\r\n```\r\nAlso make sure whether you are using the correct dependencies in your pom","title":"Failed to release mocks - Mockito","body":"<p>If you are trying to mock static class using mockito, you will need the following dependency first. If you try to mock static class without this dependency it will throw that error</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then mock the static class by using</p>\n<pre><code>MockedStatic&lt;YourStaticClass&gt; yourStaticClass = mockStatic(YourStaticClass.class)\n</code></pre>\n<p>Also make sure whether you are using the correct dependencies in your pom</p>\n"},{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652959492,"creation_date":1652959492,"answer_id":72303688,"question_id":72301953,"body_markdown":"`Failed to Release mocks` can happen when your dependencies are not aligned. Since you are using Spring Boot, make sure to not bump major Mockito version, but rather use `spring-boot-starter-test` and correct version of Spring Boot parent that will bring aligned set of dependencies including Mockito.","title":"Failed to release mocks - Mockito","body":"<p><code>Failed to Release mocks</code> can happen when your dependencies are not aligned. Since you are using Spring Boot, make sure to not bump major Mockito version, but rather use <code>spring-boot-starter-test</code> and correct version of Spring Boot parent that will bring aligned set of dependencies including Mockito.</p>\n"},{"tags":[],"owner":{"account_id":1317055,"reputation":70,"user_id":1263676,"display_name":"WhiteG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675897090,"creation_date":1675897090,"answer_id":75392544,"question_id":72301953,"body_markdown":"Try adding `@ExtendWith(MockitoExtension.class)` on top of the test class and removing `MockitoAnnotations.initMocks(this);` from `setUp` method.","title":"Failed to release mocks - Mockito","body":"<p>Try adding <code>@ExtendWith(MockitoExtension.class)</code> on top of the test class and removing <code>MockitoAnnotations.initMocks(this);</code> from <code>setUp</code> method.</p>\n"},{"tags":[],"owner":{"account_id":959512,"reputation":81,"user_id":5517503,"display_name":"Hsilgos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685815055,"creation_date":1685815055,"answer_id":76397328,"question_id":72301953,"body_markdown":"In my case I faced this similar error on Android. The reason was the following issue: https://github.com/mockito/mockito/issues/2302\r\n\r\nI work around it as suggested in the issue: debuggable release.","title":"Failed to release mocks - Mockito","body":"<p>In my case I faced this similar error on Android. The reason was the following issue: <a href=\"https://github.com/mockito/mockito/issues/2302\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/2302</a></p>\n<p>I work around it as suggested in the issue: debuggable release.</p>\n"}],"owner":{"account_id":23631971,"reputation":81,"user_id":17663555,"display_name":"Radha S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1698984385,"creation_date":1652952274,"question_id":72301953,"body_markdown":"I am trying to upgrade from Mockito version 1.0.19 to 4.0.0 and using Junit 5, since I am unable to mock static in older version of mockito. I am getting &quot;Failed to Release mocks&quot; error..\r\n\r\nPlease let me know , what all needs to be taken care while migrating.\r\n\r\n```\r\npublic class RefreshTableSchedulerTest {\r\n\r\n\t@Mock\r\n\tConfigRepository configRepository;\r\n\r\n\t@InjectMocks\r\n\tRandomScheduler randomScheduler;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() throws Exception {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\tsetReflectionUtils(randomScheduler);\r\n\r\n\t}\r\n\r\n@Test\r\n\tpublic void testRefreshTableWithOutDelay() {\r\n\t// our trestcases\r\n\r\n\t}\r\n```\r\n\r\nRandomScheduler\r\n```\r\n@Configuration\r\n@EnableScheduling\r\npublic class RandomScheduler {\r\n\r\n@Scheduled(fixedDelayString = &quot;${schedule.refresh.table.job.in.ms:1800000}&quot;)\r\n    public void execute() {\r\n    //fetch data from table A\r\n    //inserts data to Table B using timestamps got from Table A\r\n    //updates timestamp of Table A\r\n    }\r\n``` ","title":"Failed to release mocks - Mockito","body":"<p>I am trying to upgrade from Mockito version 1.0.19 to 4.0.0 and using Junit 5, since I am unable to mock static in older version of mockito. I am getting &quot;Failed to Release mocks&quot; error..</p>\n<p>Please let me know , what all needs to be taken care while migrating.</p>\n<pre><code>public class RefreshTableSchedulerTest {\n\n    @Mock\n    ConfigRepository configRepository;\n\n    @InjectMocks\n    RandomScheduler randomScheduler;\n\n    @BeforeEach\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n        setReflectionUtils(randomScheduler);\n\n    }\n\n@Test\n    public void testRefreshTableWithOutDelay() {\n    // our trestcases\n\n    }\n</code></pre>\n<p>RandomScheduler</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class RandomScheduler {\n\n@Scheduled(fixedDelayString = &quot;${schedule.refresh.table.job.in.ms:1800000}&quot;)\n    public void execute() {\n    //fetch data from table A\n    //inserts data to Table B using timestamps got from Table A\n    //updates timestamp of Table A\n    }\n</code></pre>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":4695136,"reputation":4605,"user_id":3800170,"accept_rate":60,"display_name":"alayor"},"score":0,"creation_date":1484428667,"post_id":41655015,"comment_id":70508825,"body_markdown":"Have you tried adding `Class-path` to your manifest file? https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html","body":"Have you tried adding <code>Class-path</code> to your manifest file? <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/downman.html</a>"},{"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"score":0,"creation_date":1633442981,"post_id":41655015,"comment_id":122757501,"body_markdown":"have you find any solution ? I am searching for this .","body":"have you find any solution ? I am searching for this ."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1698987489,"post_id":41655015,"comment_id":136476814,"body_markdown":"Didn’t think anyone is still manually setting classpath in this day and age.","body":"Didn’t think anyone is still manually setting classpath in this day and age."}],"answers":[{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484435314,"creation_date":1484435314,"answer_id":41656011,"question_id":41655015,"body_markdown":"I advise you to use **Maven** or **Gradle** because the depandances are loaded automatically.\r\n\r\n**Maven:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Gradle:**\r\n\r\n    compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.1&#39;\r\n\r\n","title":"java and httpclient java.lang.NoClassDefFoundError","body":"<p>I advise you to use <strong>Maven</strong> or <strong>Gradle</strong> because the depandances are loaded automatically.</p>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Gradle:</strong></p>\n\n<pre><code>compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.1'\n</code></pre>\n"}],"owner":{"account_id":9192295,"reputation":31,"user_id":6832348,"display_name":"Gult"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698984385,"creation_date":1484428017,"question_id":41655015,"body_markdown":"I have problem.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.ResponseHandler;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.mime.MultipartEntity;\r\n    import org.apache.http.entity.mime.content.FileBody;\r\n    import org.apache.http.entity.mime.content.StringBody;\r\n    import org.apache.http.impl.client.BasicResponseHandler;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    public class qq {\r\n    \r\n            public static void main(String[] args) throws UnsupportedEncodingException, IOException {\r\n            HttpClient httpclient = new DefaultHttpClient();\r\n    //        HttpPost httppost = new HttpPost(&quot;http://192.168.0.102/uploadtest/upload_photo&quot;);\r\n            System.out.println(&quot;aaaa&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nFile manifest.mf:\r\n&lt;pre&gt;\r\nManifest-version: 1.0\r\nMain-Class: qq\r\n&lt;/pre&gt;\r\n\r\nOS debian 8\r\njava version:\r\njava version &quot;1.8.0_111&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)\r\n\r\nAnd:\r\n&lt;pre&gt;\r\njavac -cp ./lib/httpclient-4.2.5.jar:./lib/httpcore-4.4.5.jar:./lib/httpmime-4.2.5.jar:./lib/commons-logging-1.2.jar qq.java\r\njar cfm test.jar manifest.mf qq.class\r\n&lt;/pre&gt;\r\nIts ok, no error, exit code - 0.\r\n\r\nI try:\r\n&lt;pre&gt;\r\n# java -jar test.jar\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultHttpClient\r\n        at qq.main(qq.java:18)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.http.impl.client.DefaultHttpClient\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        ... 1 more\r\n\r\n&lt;/pre&gt;\r\n\r\nHow to fix this ?\r\n\r\n","title":"java and httpclient java.lang.NoClassDefFoundError","body":"<p>I have problem.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.ResponseHandler;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.mime.MultipartEntity;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.entity.mime.content.StringBody;\nimport org.apache.http.impl.client.BasicResponseHandler;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\npublic class qq {\n\n        public static void main(String[] args) throws UnsupportedEncodingException, IOException {\n        HttpClient httpclient = new DefaultHttpClient();\n//        HttpPost httppost = new HttpPost(\"http://192.168.0.102/uploadtest/upload_photo\");\n        System.out.println(\"aaaa\");\n\n    }\n}\n</code></pre>\n\n<p>File manifest.mf:</p>\n\n<pre>\nManifest-version: 1.0\nMain-Class: qq\n</pre>\n\n<p>OS debian 8\njava version:\njava version \"1.8.0_111\"\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)</p>\n\n<p>And:</p>\n\n<pre>\njavac -cp ./lib/httpclient-4.2.5.jar:./lib/httpcore-4.4.5.jar:./lib/httpmime-4.2.5.jar:./lib/commons-logging-1.2.jar qq.java\njar cfm test.jar manifest.mf qq.class\n</pre>\n\n<p>Its ok, no error, exit code - 0.</p>\n\n<p>I try:</p>\n\n<pre>\n# java -jar test.jar\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultHttpClient\n        at qq.main(qq.java:18)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.impl.client.DefaultHttpClient\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 1 more\n\n</pre>\n\n<p>How to fix this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1698984903,"post_id":77413971,"comment_id":136476642,"body_markdown":"The variables defined ‘ bookTitles’ bookCopies are defined as object variables?","body":"The variables defined ‘ bookTitles’ bookCopies are defined as object variables?"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1698985625,"post_id":77413971,"comment_id":136476677,"body_markdown":"Are you creating a new copy of the map in `lib.getTitles()` method?","body":"Are you creating a new copy of the map in <code>lib.getTitles()</code> method?"},{"owner":{"account_id":22302537,"reputation":373,"user_id":16527596,"display_name":"Severjan Lici"},"score":0,"creation_date":1699018853,"post_id":77413971,"comment_id":136481485,"body_markdown":"@RifatRubayatulIslam If we have ```SortedMap&lt;String, Integer&gt; titles = lib.getTitles();\n``` and we do ```assertEquals(6, titles.size())``` it says its wrong because size of titles is 3\nBut if we do ```assertEquals(6, lib.getTitles().size());``` it says its correct.","body":"@RifatRubayatulIslam If we have <code>SortedMap&lt;String, Integer&gt; titles = lib.getTitles(); </code> and we do <code>assertEquals(6, titles.size())</code> it says its wrong because size of titles is 3 But if we do <code>assertEquals(6, lib.getTitles().size());</code> it says its correct."},{"owner":{"account_id":22302537,"reputation":373,"user_id":16527596,"display_name":"Severjan Lici"},"score":0,"creation_date":1699019049,"post_id":77413971,"comment_id":136481540,"body_markdown":"@RifatRubayatulIslam Im not sure but i think it has to do with the fact that technically we havent updated it. We do ```SortedMap&lt;String, Integer&gt; titles = lib.getTitles();``` when we initally have 3 titles but not again when we add the other 3","body":"@RifatRubayatulIslam Im not sure but i think it has to do with the fact that technically we havent updated it. We do <code>SortedMap&lt;String, Integer&gt; titles = lib.getTitles();</code> when we initally have 3 titles but not again when we add the other 3"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1699029039,"post_id":77413971,"comment_id":136483954,"body_markdown":"Check the implementation of the `getTitles()` method. Most probably it is creating a copy of the actual map and returning the copy. When you are adding new element, it is added to the actual map. The copy remains the same.","body":"Check the implementation of the <code>getTitles()</code> method. Most probably it is creating a copy of the actual map and returning the copy. When you are adding new element, it is added to the actual map. The copy remains the same."}],"owner":{"account_id":22302537,"reputation":373,"user_id":16527596,"display_name":"Severjan Lici"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698983883,"creation_date":1698980808,"question_id":77413971,"body_markdown":"EDIT:\r\n---------------------------------------------------------------------\r\nApparently i put a sysout in the Test Function and the it gave me the correct answer which is kinda wierd becasue in there i have \r\n```\r\nLibraryManager lib = new LibraryManager();\r\n//other stuff\r\nSortedMap&lt;String, Integer&gt; titles = lib.getTitles();\r\n\t    assertEquals(3, titles.size()); \r\n// and it is correct initally. There are only 3 books added\r\n\r\n//then Later on we add 3 more \r\n//we have \r\nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\r\n\t   \r\n\t    assertEquals(6, titles.size()); // here it says that the size remains 3 \r\n\r\n//but if i do for example \r\nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\r\n\t    System.out.println(lib.getTitles().size());//the size is indeed 6\r\n\t    assertEquals(6, titles.size());//but in here it says it remains 3\r\n\r\n//Im honestly so confused\r\n```\r\n\r\n\r\n--------------------------------------------------------------------\r\nIts my first time asking questions in java here so if you need further clarifications please ask.\r\n\r\nSo basically we have 2 treeMaps for a library. One is for the unique books that only adds in it the title and the Book class(bookTitles) and the other is if we add the same book just different Id (bookCoppies) \r\n\r\nAssume that everything before works and is defined correctly because i have tested it\r\n\r\nMy problem is this: in a further method we are asked to add new books to the pile \r\nIf the given String is ``` &quot;Beauty and the Beast,Cindarella,Snowhite&quot; ``` we have to separate this String into 3 parts with ```,``` and then add them to the Tree.\r\n\r\nThis is what i have done :\r\n\r\n```\r\n//this is the original method that adds the books\r\n\r\npublic TreeMap&lt;String,Book&gt; bookTitles=new TreeMap&lt;&gt;();\r\n\tint bookId=1000;\r\n\tpublic TreeMap&lt;String,Book&gt; bookCoppies= new TreeMap&lt;&gt;();\r\n\t\r\n    public String addBook(String title) {\r\n    \t\r\n    \tif(bookTitles.containsKey(title))\r\n    \t{\r\n    \t\tBook b=bookTitles.get(title);\r\n    \t\tb.incCount();\r\n    \t\tb.setId(bookId);\r\n    \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n    \t\tbookId++;\r\n    \t\t\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tBook b=new Book(title);\r\n    \t\tb.incCount();\r\n    \t\tb.setId((bookId));\r\n    \t\tbookTitles.put(title, b);\r\n    \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n    \t\tbookId++;\r\n    \t}\r\n    \t\r\n        return String.valueOf(bookId);\r\n    }\r\n\r\n\r\n//then i use many other methods to do whatever the exercise asks me to do\r\n\r\n// then we have to add the new books \r\n\r\npublic void receiveDonation(String donatedTitles) {\r\n    \tString[] str=donatedTitles.split(&quot;,&quot;);\r\n    \tList&lt;String&gt; strings= new ArrayList&lt;&gt;();\r\n    \tstrings.addAll(Arrays.asList(str));\r\n    \tfor (String s : strings) {\r\n    \t\taddBook(s);\r\n\t\t}\r\n    }\r\n```\r\nI also tried a copy paste of the &quot;function&quot; not just to call it for example this \r\n\r\n```\r\n  public void receiveDonation(String donatedTitles) {\r\n    \tString[] str=donatedTitles.split(&quot;,&quot;);\r\n    \tList&lt;String&gt; strings= new ArrayList&lt;&gt;();\r\n    \tstrings.addAll(Arrays.asList(str));\r\n    \tfor (String s : strings) {\r\n\r\n        \tif(bookTitles.containsKey(s))\r\n        \t{\r\n        \t\tBook b=bookTitles.get(s);\r\n        \t\tb.incCount();\r\n        \t\tb.setId(bookId);\r\n        \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n        \t\tbookId++;\r\n        \t\t\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tBook b=new Book(s);\r\n        \t\tb.incCount();\r\n        \t\tb.setId((bookId));\r\n        \t\tbookTitles.put(s, b);\r\n        \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n        \t\tbookId++;\r\n        \t}\r\n\t\t}\r\n    }\r\n```\r\n But according to the Test function the size remains the same. For example when i call the first function the size should be 3 and then once we add the new books it should be 6 but the size remains 3\r\n\r\nAny idea what might be the problem?\r\n\r\n","title":"Adding additional data to the TreeMap","body":"<h2>EDIT:</h2>\n<p>Apparently i put a sysout in the Test Function and the it gave me the correct answer which is kinda wierd becasue in there i have</p>\n<pre><code>LibraryManager lib = new LibraryManager();\n//other stuff\nSortedMap&lt;String, Integer&gt; titles = lib.getTitles();\n        assertEquals(3, titles.size()); \n// and it is correct initally. There are only 3 books added\n\n//then Later on we add 3 more \n//we have \nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\n       \n        assertEquals(6, titles.size()); // here it says that the size remains 3 \n\n//but if i do for example \nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\n        System.out.println(lib.getTitles().size());//the size is indeed 6\n        assertEquals(6, titles.size());//but in here it says it remains 3\n\n//Im honestly so confused\n</code></pre>\n<hr />\n<p>Its my first time asking questions in java here so if you need further clarifications please ask.</p>\n<p>So basically we have 2 treeMaps for a library. One is for the unique books that only adds in it the title and the Book class(bookTitles) and the other is if we add the same book just different Id (bookCoppies)</p>\n<p>Assume that everything before works and is defined correctly because i have tested it</p>\n<p>My problem is this: in a further method we are asked to add new books to the pile\nIf the given String is <code>&quot;Beauty and the Beast,Cindarella,Snowhite&quot;</code> we have to separate this String into 3 parts with <code>,</code> and then add them to the Tree.</p>\n<p>This is what i have done :</p>\n<pre><code>//this is the original method that adds the books\n\npublic TreeMap&lt;String,Book&gt; bookTitles=new TreeMap&lt;&gt;();\n    int bookId=1000;\n    public TreeMap&lt;String,Book&gt; bookCoppies= new TreeMap&lt;&gt;();\n    \n    public String addBook(String title) {\n        \n        if(bookTitles.containsKey(title))\n        {\n            Book b=bookTitles.get(title);\n            b.incCount();\n            b.setId(bookId);\n            bookCoppies.put(String.valueOf(bookId), b);\n            bookId++;\n            \n        }\n        else\n        {\n            Book b=new Book(title);\n            b.incCount();\n            b.setId((bookId));\n            bookTitles.put(title, b);\n            bookCoppies.put(String.valueOf(bookId), b);\n            bookId++;\n        }\n        \n        return String.valueOf(bookId);\n    }\n\n\n//then i use many other methods to do whatever the exercise asks me to do\n\n// then we have to add the new books \n\npublic void receiveDonation(String donatedTitles) {\n        String[] str=donatedTitles.split(&quot;,&quot;);\n        List&lt;String&gt; strings= new ArrayList&lt;&gt;();\n        strings.addAll(Arrays.asList(str));\n        for (String s : strings) {\n            addBook(s);\n        }\n    }\n</code></pre>\n<p>I also tried a copy paste of the &quot;function&quot; not just to call it for example this</p>\n<pre><code>  public void receiveDonation(String donatedTitles) {\n        String[] str=donatedTitles.split(&quot;,&quot;);\n        List&lt;String&gt; strings= new ArrayList&lt;&gt;();\n        strings.addAll(Arrays.asList(str));\n        for (String s : strings) {\n\n            if(bookTitles.containsKey(s))\n            {\n                Book b=bookTitles.get(s);\n                b.incCount();\n                b.setId(bookId);\n                bookCoppies.put(String.valueOf(bookId), b);\n                bookId++;\n                \n            }\n            else\n            {\n                Book b=new Book(s);\n                b.incCount();\n                b.setId((bookId));\n                bookTitles.put(s, b);\n                bookCoppies.put(String.valueOf(bookId), b);\n                bookId++;\n            }\n        }\n    }\n</code></pre>\n<p>But according to the Test function the size remains the same. For example when i call the first function the size should be 3 and then once we add the new books it should be 6 but the size remains 3</p>\n<p>Any idea what might be the problem?</p>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1698996026,"post_id":77413709,"comment_id":136477610,"body_markdown":"What is the error message that you&#39;re getting?","body":"What is the error message that you&#39;re getting?"},{"owner":{"account_id":22343813,"reputation":889,"user_id":16563198,"display_name":"sbridewell"},"score":0,"creation_date":1699103472,"post_id":77413709,"comment_id":136490677,"body_markdown":"Please edit your question to [include code, data and error messages as text, not images](https://meta.stackoverflow.com/a/285557/16563198).","body":"Please edit your question to <a href=\"https://meta.stackoverflow.com/a/285557/16563198\">include code, data and error messages as text, not images</a>."}],"owner":{"account_id":26188089,"reputation":13,"user_id":19870350,"display_name":"Tumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698982958,"creation_date":1698974728,"question_id":77413709,"body_markdown":"[![An internal error has occurred. ](https://i.stack.imgur.com/4emyr.png)](https://i.stack.imgur.com/4emyr.png)\r\n\r\nWhy am I getting this error?\r\n\r\n```\r\n   public void sigIn(LoginUserModel loginUserModel, Activity activity,Class&lt;?&gt; targetClass) {\r\n        mAuth.signInWithEmailAndPassword(loginUserModel.getUserEmail(), loginUserModel.getUserPassword())\r\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(AuthResult authResult) {\r\n                        Intent intent = new Intent(activity, targetClass.getClass());\r\n                        activity.startActivity(intent);\r\n                        activity.finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception error) {\r\n                        Log.e(&quot;Error&quot;, &quot;Login Fail&quot;, error);\r\n                    }\r\n                });\r\n    }\r\n```\r\n\r\n```\r\n  public void userLoginButton(View view) {\r\n        userEmailTxt = userName.getText().toString();\r\n        userPasswordTxt = userPassword.getText().toString();\r\n\r\n        loginUserModel = new LoginUserModel(userEmailTxt, userPasswordTxt);\r\n        if (LoginUserInputValidator(loginUserModel, context)) {\r\n            loginManager.sigIn(loginUserModel, LoginActivity.this, MainActivity.class);\r\n        }\r\n    }\r\n```\r\n\r\nMy username and password information is correct, but I am getting this error, and I can&#39;t figure out the reason.\r\n\r\n\r\n[![Firebase web site ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kPXEr.png","title":"Android Firebase An internal error has occurred. [ Broken pipe ]","body":"<p><a href=\"https://i.stack.imgur.com/4emyr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4emyr.png\" alt=\"An internal error has occurred. \" /></a></p>\n<p>Why am I getting this error?</p>\n<pre><code>   public void sigIn(LoginUserModel loginUserModel, Activity activity,Class&lt;?&gt; targetClass) {\n        mAuth.signInWithEmailAndPassword(loginUserModel.getUserEmail(), loginUserModel.getUserPassword())\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onSuccess(AuthResult authResult) {\n                        Intent intent = new Intent(activity, targetClass.getClass());\n                        activity.startActivity(intent);\n                        activity.finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception error) {\n                        Log.e(&quot;Error&quot;, &quot;Login Fail&quot;, error);\n                    }\n                });\n    }\n</code></pre>\n<pre><code>  public void userLoginButton(View view) {\n        userEmailTxt = userName.getText().toString();\n        userPasswordTxt = userPassword.getText().toString();\n\n        loginUserModel = new LoginUserModel(userEmailTxt, userPasswordTxt);\n        if (LoginUserInputValidator(loginUserModel, context)) {\n            loginManager.sigIn(loginUserModel, LoginActivity.this, MainActivity.class);\n        }\n    }\n</code></pre>\n<p>My username and password information is correct, but I am getting this error, and I can't figure out the reason.</p>\n<p><a href=\"https://i.stack.imgur.com/kPXEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kPXEr.png\" alt=\"Firebase web site \" /></a></p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658967231,"post_id":73145854,"comment_id":129186165,"body_markdown":"You need to edit the confit file as shown here &quot;Configure Runtime for Projects&quot;: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","body":"You need to edit the confit file as shown here &quot;Configure Runtime for Projects&quot;: <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/&hellip;</a>"},{"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"score":0,"creation_date":1658974845,"post_id":73145854,"comment_id":129187317,"body_markdown":"Thank you  @sorifiend  for your hint. I will write the answer in detail.","body":"Thank you  @sorifiend  for your hint. I will write the answer in detail."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658974735,"creation_date":1658974735,"answer_id":73146519,"question_id":73145854,"body_markdown":"Use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; to open the command palette, search for and select **Java: Configure Java Runtime** .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*or click the three dots after the Java project and select Configure Java Runtime.*\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSelect the version you want from the drop-down options.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIUjc.png\r\n  [2]: https://i.stack.imgur.com/NI1Si.png\r\n  [3]: https://i.stack.imgur.com/46lM8.png","title":"How to config java version in Visual Studio Code?","body":"<p>Use <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> to open the command palette, search for and select <strong>Java: Configure Java Runtime</strong> .</p>\n<p><a href=\"https://i.stack.imgur.com/BIUjc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BIUjc.png\" alt=\"enter image description here\" /></a></p>\n<p><em>or click the three dots after the Java project and select Configure Java Runtime.</em></p>\n<p><a href=\"https://i.stack.imgur.com/NI1Si.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NI1Si.png\" alt=\"enter image description here\" /></a></p>\n<p>Select the version you want from the drop-down options.</p>\n<p><a href=\"https://i.stack.imgur.com/46lM8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/46lM8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1659277686,"creation_date":1658976221,"answer_id":73146672,"question_id":73145854,"body_markdown":"To config to the right JDK in VS Code.\r\nOpen File --&gt;Settings --&gt; Java --&gt; Configuration:Runtimes --&gt;[Edit in Setting.json]\r\nadd:\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-18&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64&quot;,\r\n            &quot;sources&quot; : &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/lib/src.zip&quot;,\r\n            &quot;javadoc&quot; : &quot;/usr/share/javadoc/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/api&quot;,\r\n            &quot;default&quot;:  true\r\n        }\r\n    ]\r\n\r\n\r\nThe path is the &quot;$JAVA_HOME&quot; if you run \r\n`$sudo alternatives --config java` and the result is \r\n\r\n    + 3 java-latest-openjdk.x86_64 (/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/bin/java)\r\n\r\nthen JAVA_HOME is &lt;code&gt;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64&lt;/code&gt; \r\n\r\nThe source, if you install &lt;code&gt;sudo dnf install java-latest-openjdk-src.x86_64&lt;/code&gt; the source code will be $JAVA_HOME/lib/src.zip \r\n\r\nTo find the Javadoc if you install &quot;`java-latest-openjdk-javadoc.x86_64`&quot;,\r\nyou can use command &lt;code&gt;rpm -pl java-latest-openjdk-javadoc.x86_64&lt;/code&gt; to check the installation location.     \r\n","title":"How to config java version in Visual Studio Code?","body":"<p>To config to the right JDK in VS Code.\nOpen File --&gt;Settings --&gt; Java --&gt; Configuration:Runtimes --&gt;[Edit in Setting.json]\nadd:</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;name&quot;: &quot;JavaSE-18&quot;,\n        &quot;path&quot;: &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64&quot;,\n        &quot;sources&quot; : &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/lib/src.zip&quot;,\n        &quot;javadoc&quot; : &quot;/usr/share/javadoc/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/api&quot;,\n        &quot;default&quot;:  true\n    }\n]\n</code></pre>\n<p>The path is the &quot;$JAVA_HOME&quot; if you run\n<code>$sudo alternatives --config java</code> and the result is</p>\n<pre><code>+ 3 java-latest-openjdk.x86_64 (/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/bin/java)\n</code></pre>\n<p>then JAVA_HOME is <code>/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64</code></p>\n<p>The source, if you install <code>sudo dnf install java-latest-openjdk-src.x86_64</code> the source code will be $JAVA_HOME/lib/src.zip</p>\n<p>To find the Javadoc if you install &quot;<code>java-latest-openjdk-javadoc.x86_64</code>&quot;,\nyou can use command <code>rpm -pl java-latest-openjdk-javadoc.x86_64</code> to check the installation location.</p>\n"},{"tags":[],"owner":{"account_id":183762,"reputation":17669,"user_id":419348,"accept_rate":93,"display_name":"AechoLiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698980824,"creation_date":1698980824,"answer_id":77413972,"question_id":73145854,"body_markdown":"For MacOS, \r\n\r\n    ## Install java 11 by brew\r\n    brew install java11\r\n\r\n    ## For the system Java wrappers to find this JDK, symlink it with\r\n    sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n\r\n    ## edit settings.json\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n        &quot;path&quot;: &quot;/opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home&quot;,\r\n        &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n        &quot;default&quot;: true\r\n    }\r\n\r\nThe &quot;path&quot; could be &quot;/Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home&quot;. They are the same.","title":"How to config java version in Visual Studio Code?","body":"<p>For MacOS,</p>\n<pre><code>## Install java 11 by brew\nbrew install java11\n\n## For the system Java wrappers to find this JDK, symlink it with\nsudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n\n## edit settings.json\n&quot;java.configuration.runtimes&quot;: [\n{\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home&quot;,\n    &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;: true\n}\n</code></pre>\n<p>The &quot;path&quot; could be &quot;/Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home&quot;. They are the same.</p>\n"}],"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20855,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73146672,"answer_count":3,"score":2,"last_activity_date":1698980824,"creation_date":1658966917,"question_id":73145854,"body_markdown":"I installed OpenJDK 18 in my Fedora 36 and installed &quot;Extension Pack for Java&quot; on my Visual Studio Code. In my machine, there have 3 versions of java:\r\n[![enter image description here][1]][1]\r\n    \r\nBut when I create a maven project and run it in VS Code, I found it used java 11.\r\n[![enter image description here][2]][2]\r\nHow can I configure VS code to let it run projects on Java 18?\r\n\r\n  [1]: https://i.stack.imgur.com/q6FRV.png\r\n  [2]: https://i.stack.imgur.com/D1O1t.png","title":"How to config java version in Visual Studio Code?","body":"<p>I installed OpenJDK 18 in my Fedora 36 and installed &quot;Extension Pack for Java&quot; on my Visual Studio Code. In my machine, there have 3 versions of java:\n<a href=\"https://i.stack.imgur.com/q6FRV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6FRV.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I create a maven project and run it in VS Code, I found it used java 11.\n<a href=\"https://i.stack.imgur.com/D1O1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D1O1t.png\" alt=\"enter image description here\" /></a>\nHow can I configure VS code to let it run projects on Java 18?</p>\n"},{"tags":["java"],"owner":{"account_id":29815238,"reputation":1,"user_id":22849669,"display_name":"Garlic Bread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698980654,"answer_count":0,"score":0,"last_activity_date":1698980585,"creation_date":1698980073,"question_id":77413941,"body_markdown":"New-bee in coding here, I was just wondering how to fix this. What happens is that when I run this snippet of code, I can only enter two inputs: a String, and a double, with the former getting assigned to setContactNum. Also, the program stops and fully compiles after I enter a digit (which is supposedly for setContactNum, but it gets assigned to setSalary), which is strange since I still have to enter an input for setDepartment. \r\n\r\n\r\n    if (input.toUpperCase().equals(&quot;E&quot;)) {\r\n                \r\n                System.out.println(&quot;Type employee&#39;s name, contact number, salary, and department. \\nPress Enter for every input.&quot;);  \r\n                employee.setName(sc.nextLine());\r\n                employee.setContactNum(sc.nextLine());\r\n                employee.setSalary(sc.nextDouble());\r\n                employee.setDepartment(sc.nextLine());\r\n            System.out.println(&quot;------------------------------&quot;);\r\n            System.out.println(&quot;Name: &quot; + employee.getName() + &quot;\\nContact number: &quot; + employee.getContactNum() + &quot;\\nSalary: &quot; + employee.getSalary() + &quot;\\nDepartment: &quot; + employee.getDepartment());\r\n            } \r\n\r\nCan someone explain? Thank you so much!\r\n\r\nI have tried using `System.out.println(&quot;&quot;)`; in between the `sc.nextLine()`&#39;s and `sc.nextDouble()`&#39;s, but to no avail.","title":"Separating consecutive nextLine(); inputs","body":"<p>New-bee in coding here, I was just wondering how to fix this. What happens is that when I run this snippet of code, I can only enter two inputs: a String, and a double, with the former getting assigned to setContactNum. Also, the program stops and fully compiles after I enter a digit (which is supposedly for setContactNum, but it gets assigned to setSalary), which is strange since I still have to enter an input for setDepartment.</p>\n<pre><code>if (input.toUpperCase().equals(&quot;E&quot;)) {\n            \n            System.out.println(&quot;Type employee's name, contact number, salary, and department. \\nPress Enter for every input.&quot;);  \n            employee.setName(sc.nextLine());\n            employee.setContactNum(sc.nextLine());\n            employee.setSalary(sc.nextDouble());\n            employee.setDepartment(sc.nextLine());\n        System.out.println(&quot;------------------------------&quot;);\n        System.out.println(&quot;Name: &quot; + employee.getName() + &quot;\\nContact number: &quot; + employee.getContactNum() + &quot;\\nSalary: &quot; + employee.getSalary() + &quot;\\nDepartment: &quot; + employee.getDepartment());\n        } \n</code></pre>\n<p>Can someone explain? Thank you so much!</p>\n<p>I have tried using <code>System.out.println(&quot;&quot;)</code>; in between the <code>sc.nextLine()</code>'s and <code>sc.nextDouble()</code>'s, but to no avail.</p>\n"},{"tags":["java","swing","directory","javac","imageicon"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1698981307,"post_id":77413958,"comment_id":136476396,"body_markdown":"The &quot;working directory&quot; may be different then the &quot;installed directory&quot;, this makes referencing parent folders like this trouble some and error prone. Better to embedded the images within the application context so that they more easily available at runtime","body":"The &quot;working directory&quot; may be different then the &quot;installed directory&quot;, this makes referencing parent folders like this trouble some and error prone. Better to embedded the images within the application context so that they more easily available at runtime"},{"owner":{"account_id":25370906,"reputation":33,"user_id":19184722,"display_name":"STC2"},"score":0,"creation_date":1699065601,"post_id":77413958,"comment_id":136488291,"body_markdown":"@MadProgrammer Okay. I decompiled a verison of Minecraft Infdev, and found their was a asset folder, that had the sprite sheet and a few other icons in it. I was going to use the src from the decompiled .jar file, but Java resets all class names and variable names, so it is incredibly hard to figure out what anything does.","body":"@MadProgrammer Okay. I decompiled a verison of Minecraft Infdev, and found their was a asset folder, that had the sprite sheet and a few other icons in it. I was going to use the src from the decompiled .jar file, but Java resets all class names and variable names, so it is incredibly hard to figure out what anything does."}],"owner":{"account_id":25370906,"reputation":33,"user_id":19184722,"display_name":"STC2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698980493,"creation_date":1698980493,"question_id":77413958,"body_markdown":"**Using java**\r\n\r\nLets pretend we are in folder &quot;src&quot;. The parent directory contains folders &quot;src&quot;, &quot;assets&quot; and &quot;bin&quot;.\r\nSince I am in the folder &quot;src&quot;, how could I get an image from &quot;assets&quot; folder, when it is a parent directory? I would then like to put this image into an ImageIcon and add it to a JLabel, etc.\r\n\r\nA source code example is all that is needed, I can work from there.","title":"How could I add and image to a JLabel, when the image is in a parent directory in Java?","body":"<p><strong>Using java</strong></p>\n<p>Lets pretend we are in folder &quot;src&quot;. The parent directory contains folders &quot;src&quot;, &quot;assets&quot; and &quot;bin&quot;.\nSince I am in the folder &quot;src&quot;, how could I get an image from &quot;assets&quot; folder, when it is a parent directory? I would then like to put this image into an ImageIcon and add it to a JLabel, etc.</p>\n<p>A source code example is all that is needed, I can work from there.</p>\n"},{"tags":["java","spring","spring-boot","datetime","spring-boot-3"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1698680776,"post_id":77388104,"comment_id":136432884,"body_markdown":"can u show the request and response for 200 and 400 before the upgrade and after the upgrade differences ?","body":"can u show the request and response for 200 and 400 before the upgrade and after the upgrade differences ?"}],"answers":[{"tags":[],"owner":{"account_id":19560342,"reputation":75,"user_id":14313697,"display_name":"PoYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698979848,"creation_date":1698979848,"answer_id":77413931,"question_id":77388104,"body_markdown":"I format LocalDateTime in spring boot 2.x.x use same as you @DateTimeFormat()\r\n\r\nbut when I upgrade to spring boot 3.1.1, I needs to change my annotation from @DateTimeFormat() to @JsonFormat(pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;)\r\n\r\nI hope this is work for you.","title":"DateTimeFormat does not parse the pattern strictly in SpringBoot 3","body":"<p>I format LocalDateTime in spring boot 2.x.x use same as you @DateTimeFormat()</p>\n<p>but when I upgrade to spring boot 3.1.1, I needs to change my annotation from @DateTimeFormat() to @JsonFormat(pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;)</p>\n<p>I hope this is work for you.</p>\n"}],"owner":{"account_id":21082394,"reputation":9,"user_id":15496400,"display_name":"ChuchiGamingYT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698979848,"creation_date":1698663737,"question_id":77388104,"body_markdown":"Below is the api :\r\n\r\n```\r\n@PostMapping(value = &quot;/transactions&quot;)\r\nvoid createTransaction(@RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;) LocalDateTime startDateTime,\r\n                                        @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;) LocalDateTime endDateTime)\r\n```\r\n\r\nSample date : 2022-02-02T15:12:23\r\nI have upgraded from Spring Boot 2.7 to Spring Boot 3.1\r\n\r\nIf I pass the sample date in request param, I get a 200 response code.\r\nThe same date if passed in Spring Boot 2 fetches 400 status code.\r\n\r\nWhat can be done to maintain the old behaviour with spring boot 3?\r\n\r\n\r\n\r\nI would expect a 400 response code for this.\r\n\r\nI tried to use the fallback pattern and passed the same pattern in the fallbackpattern attribute, and it worked.\r\nBut I would like to have an alternative for this.","title":"DateTimeFormat does not parse the pattern strictly in SpringBoot 3","body":"<p>Below is the api :</p>\n<pre><code>@PostMapping(value = &quot;/transactions&quot;)\nvoid createTransaction(@RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm&quot;) LocalDateTime startDateTime,\n                                        @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm&quot;) LocalDateTime endDateTime)\n</code></pre>\n<p>Sample date : 2022-02-02T15:12:23\nI have upgraded from Spring Boot 2.7 to Spring Boot 3.1</p>\n<p>If I pass the sample date in request param, I get a 200 response code.\nThe same date if passed in Spring Boot 2 fetches 400 status code.</p>\n<p>What can be done to maintain the old behaviour with spring boot 3?</p>\n<p>I would expect a 400 response code for this.</p>\n<p>I tried to use the fallback pattern and passed the same pattern in the fallbackpattern attribute, and it worked.\nBut I would like to have an alternative for this.</p>\n"},{"tags":["java","android","android-edittext","txt"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698949464,"post_id":77412001,"comment_id":136472588,"body_markdown":"`\\Internal storage\\DCIM\\sheet_music` That is what you see on your pc. For your Android app on your Android fevice that would be \\storage\\emulated/0/DCIM\\sheet_music.","body":"<code>\\Internal storage\\DCIM\\sheet_music</code> That is what you see on your pc. For your Android app on your Android fevice that would be \\storage\\emulated/0/DCIM\\sheet_music."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698949622,"post_id":77412001,"comment_id":136472612,"body_markdown":"`Here is the error I receive:` Well which statement exactly causes that message? And can you first explain what your code does? Step by step?","body":"<code>Here is the error I receive:</code> Well which statement exactly causes that message? And can you first explain what your code does? Step by step?"},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698974991,"post_id":77412001,"comment_id":136475912,"body_markdown":"Thank you @blackapps for your input, I&#39;ve edited my post to give more information about the processing flow","body":"Thank you @blackapps for your input, I&#39;ve edited my post to give more information about the processing flow"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698976079,"post_id":77412001,"comment_id":136476017,"body_markdown":"The files dont belong to your app so your app has no access unless it goes foe MANAGE_EXTERNAL_STORAGE as was earlier suggested.","body":"The files dont belong to your app so your app has no access unless it goes foe MANAGE_EXTERNAL_STORAGE as was earlier suggested."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1698976168,"post_id":77412001,"comment_id":136476025,"body_markdown":"Better use ACTION_OPEN_DOCUMENT_TREE to let the user select the directory with the files. Then list the files in the directory.","body":"Better use ACTION_OPEN_DOCUMENT_TREE to let the user select the directory with the files. Then list the files in the directory."},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698976424,"post_id":77412001,"comment_id":136476043,"body_markdown":"Appreciate the comment @blackapps!  I was able to get file picker working using `ACTION_OPEN_DOCUMENT` - and the file opened in the EditText however the app needs to work by creating a song list, and simply swiping will open the next song, etc.  This is a music app where it is not possible to pick the file from the directory each time.","body":"Appreciate the comment @blackapps!  I was able to get file picker working using <code>ACTION_OPEN_DOCUMENT</code> - and the file opened in the EditText however the app needs to work by creating a song list, and simply swiping will open the next song, etc.  This is a music app where it is not possible to pick the file from the directory each time."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698977707,"post_id":77412001,"comment_id":136476129,"body_markdown":"Please reread my comment. You once pick the directory with the files. You never pick a file.","body":"Please reread my comment. You once pick the directory with the files. You never pick a file."},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698978679,"post_id":77412001,"comment_id":136476201,"body_markdown":"OK - I see - I&#39;m not familiar so will need to dig into this.  It looks like the user selects the directory once in the lifetime of the app and with permissions is always able to access without explicitly being prompted...thanks again - will look into this!","body":"OK - I see - I&#39;m not familiar so will need to dig into this.  It looks like the user selects the directory once in the lifetime of the app and with permissions is always able to access without explicitly being prompted...thanks again - will look into this!"}],"answers":[{"tags":[],"owner":{"account_id":20399213,"reputation":27,"user_id":14965345,"display_name":"BazarOFF Elnur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698951431,"creation_date":1698951431,"answer_id":77412220,"question_id":77412001,"body_markdown":"I can&#39;t leave comments, so I&#39;ll leave it here\r\nAs far as I understand, you need control over all system files, if so, then try\r\n\r\n     MANAGE_EXTERNAL_STORAGE\r\nPlease note that this is a high risk resolution.\r\nand there is also official documentation about this on the Google console website\r\n[site][1]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/10467955","title":"Android Studio: Cannot open .txt file into EditText - keep getting Permission Denial error","body":"<p>I can't leave comments, so I'll leave it here\nAs far as I understand, you need control over all system files, if so, then try</p>\n<pre><code> MANAGE_EXTERNAL_STORAGE\n</code></pre>\n<p>Please note that this is a high risk resolution.\nand there is also official documentation about this on the Google console website\n<a href=\"https://support.google.com/googleplay/android-developer/answer/10467955\" rel=\"nofollow noreferrer\">site</a></p>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698977572,"creation_date":1698949240,"question_id":77412001,"body_markdown":"In my Android app `Song_Tracker` I wish to open `txt` files I have copied over from my laptop - files are stored in the `\\Internal storage\\DCIM\\sheet_music` directory, when I parse the directory and load the file name I also load the file `URI`.  I wish to open the `txt` file into a EditText field so the user can either view or edit/save.  I have the `txt` file names stored within my SQLite db and, eventually wish to swipe from one song to the next, each loading in a RecycleView.\r\n\r\nHere is the error I receive:\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.enetapplications.songtracker/com.enetapplications.songtracker.editsong.NewEditSongActivity}: java.lang.SecurityException: \r\nPermission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{f235d79 11381:com.enetapplications.songtracker/u0a540} \r\n(pid=11381, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n```\r\nI have set permissions in the `Manifest` as follows:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n...\r\n```\r\n\r\nI have tried using `ACTION_OPEN_DOCUMENT` however this opens a file picker which I do not want - I wish to simple click or swipe from one `txt` file to the next without needing to go to the file picker for each file.\r\n\r\nHere is the `.class` that is opening the file incorporating tips from [here][1].  The code seems to function properly but I cannot tell as I continually get the Permission Denial error.  I have tried to user `requestPermissionLauncher` in the code below but same error.  I have tried `ContextCompat.checkSelfPermission` still same error.\r\n\r\n```\r\npackage com.enetapplications.songtracker.editsong;\r\n\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.enetapplications.songtracker.R;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class NewEditSongActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 123; // Define your own request code\r\n\r\n    EditText editTextSongContent;\r\n    TextView textViewSongName;\r\n    Uri songUri; // Storing URI to be accessible throughout the class\r\n\r\n    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n        if (isGranted) {\r\n            // Permission is granted, proceed to open the file\r\n            openFile(songUri);\r\n        } else {\r\n            // Permission denied, handle this situation (e.g., show a message or adjust app behavior)\r\n            // For instance: showToast(&quot;Permission denied. Cannot open the file.&quot;);\r\n        }\r\n    });\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_edit_song);\r\n\r\n        editTextSongContent = findViewById(R.id.editTextSongContent);\r\n        textViewSongName = findViewById(R.id.textViewSongName);\r\n\r\n        // Get the URI of the file to open\r\n        String uriString = getIntent().getStringExtra(&quot;song_uri&quot;);\r\n        if (uriString != null) {\r\n            songUri = Uri.parse(uriString);\r\n\r\n            // Check for READ_EXTERNAL_STORAGE permission\r\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission is granted, proceed to open the file\r\n                openFile(songUri);\r\n            } else if (ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n                // Explain why your app requires this permission and what features are disabled if declined\r\n                // An educational UI should be shown to the user\r\n                // For instance: showInContextUI(&quot;Explanation for access to external storage&quot;);\r\n            } else {\r\n                // Request permission using the ActivityResultLauncher\r\n                requestPermissionLauncher.launch(android.Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void openFile(Uri uri) {\r\n        // Open the file and read its contents\r\n        InputStream inputStream = null;\r\n        try {\r\n            inputStream = getContentResolver().openInputStream(uri);\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n        String line;\r\n        while (true) {\r\n            try {\r\n                if ((line = reader.readLine()) == null) break;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            editTextSongContent.append(line);\r\n        }\r\n\r\n        // Close the file\r\n        try {\r\n            inputStream.close();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n***\r\n\r\nEdit 11.2.2023\r\n--------------\r\n\r\n***\r\n\r\nBased upon **blackapps** comment:\r\nHere is the flow of the code for `NewEditSongActivity.java`\r\n\r\n 1. User clicks on song from RecyclerView (previous screen) which Intent goes to `NewEditSongActivity` the parameter `song_uri` is passed\r\n 2. onCreate() (variables assigned, receive Intent for uri and stored in `uriString`)\r\n 3. check for `uriString` != null\r\n 4. check if the app has permission to read files from the external storage - which passes and processing continues\r\n 5. calling openFile() which processing goes to however after `InputStream inputStream = null;` is set the processing stops at the try/catch blocks\r\n\r\nBased upon **Elnur&#39;s** comment.  I tried, just to see what happened using `MANAGE_EXTERNAL_STORAGE` - added this to the manifest:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n...but received the same error:\r\n```\r\nPermission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{8374b4e 31718:com.enetapplications.songtracker/u0a540} (pid=31718, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n``` \r\nOne more thing I tried, just to see if I could get the code to work was re-build the app using `Android 5.0 - API level 21` and adjusted the `build.gradle` with:\r\n```\r\nminSdkVersion 21 //was at 29\r\n```\r\nI synced and rebuilt and ran the app but the SAME issue with `Permission Denial`.  This may shed some light but not to my eyes :)\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting.html","title":"Android Studio: Cannot open .txt file into EditText - keep getting Permission Denial error","body":"<p>In my Android app <code>Song_Tracker</code> I wish to open <code>txt</code> files I have copied over from my laptop - files are stored in the <code>\\Internal storage\\DCIM\\sheet_music</code> directory, when I parse the directory and load the file name I also load the file <code>URI</code>.  I wish to open the <code>txt</code> file into a EditText field so the user can either view or edit/save.  I have the <code>txt</code> file names stored within my SQLite db and, eventually wish to swipe from one song to the next, each loading in a RecycleView.</p>\n<p>Here is the error I receive:</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.enetapplications.songtracker/com.enetapplications.songtracker.editsong.NewEditSongActivity}: java.lang.SecurityException: \nPermission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{f235d79 11381:com.enetapplications.songtracker/u0a540} \n(pid=11381, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n<p>I have set permissions in the <code>Manifest</code> as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n...\n</code></pre>\n<p>I have tried using <code>ACTION_OPEN_DOCUMENT</code> however this opens a file picker which I do not want - I wish to simple click or swipe from one <code>txt</code> file to the next without needing to go to the file picker for each file.</p>\n<p>Here is the <code>.class</code> that is opening the file incorporating tips from <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">here</a>.  The code seems to function properly but I cannot tell as I continually get the Permission Denial error.  I have tried to user <code>requestPermissionLauncher</code> in the code below but same error.  I have tried <code>ContextCompat.checkSelfPermission</code> still same error.</p>\n<pre><code>package com.enetapplications.songtracker.editsong;\n\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.enetapplications.songtracker.R;\n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\npublic class NewEditSongActivity extends AppCompatActivity {\n\n    private static final int PERMISSION_REQUEST_CODE = 123; // Define your own request code\n\n    EditText editTextSongContent;\n    TextView textViewSongName;\n    Uri songUri; // Storing URI to be accessible throughout the class\n\n    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n        if (isGranted) {\n            // Permission is granted, proceed to open the file\n            openFile(songUri);\n        } else {\n            // Permission denied, handle this situation (e.g., show a message or adjust app behavior)\n            // For instance: showToast(&quot;Permission denied. Cannot open the file.&quot;);\n        }\n    });\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_edit_song);\n\n        editTextSongContent = findViewById(R.id.editTextSongContent);\n        textViewSongName = findViewById(R.id.textViewSongName);\n\n        // Get the URI of the file to open\n        String uriString = getIntent().getStringExtra(&quot;song_uri&quot;);\n        if (uriString != null) {\n            songUri = Uri.parse(uriString);\n\n            // Check for READ_EXTERNAL_STORAGE permission\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                // Permission is granted, proceed to open the file\n                openFile(songUri);\n            } else if (ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.READ_EXTERNAL_STORAGE)) {\n                // Explain why your app requires this permission and what features are disabled if declined\n                // An educational UI should be shown to the user\n                // For instance: showInContextUI(&quot;Explanation for access to external storage&quot;);\n            } else {\n                // Request permission using the ActivityResultLauncher\n                requestPermissionLauncher.launch(android.Manifest.permission.READ_EXTERNAL_STORAGE);\n            }\n        }\n    }\n\n    private void openFile(Uri uri) {\n        // Open the file and read its contents\n        InputStream inputStream = null;\n        try {\n            inputStream = getContentResolver().openInputStream(uri);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n        String line;\n        while (true) {\n            try {\n                if ((line = reader.readLine()) == null) break;\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            editTextSongContent.append(line);\n        }\n\n        // Close the file\n        try {\n            inputStream.close();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<hr />\n<h2>Edit 11.2.2023</h2>\n<hr />\n<p>Based upon <strong>blackapps</strong> comment:\nHere is the flow of the code for <code>NewEditSongActivity.java</code></p>\n<ol>\n<li>User clicks on song from RecyclerView (previous screen) which Intent goes to <code>NewEditSongActivity</code> the parameter <code>song_uri</code> is passed</li>\n<li>onCreate() (variables assigned, receive Intent for uri and stored in <code>uriString</code>)</li>\n<li>check for <code>uriString</code> != null</li>\n<li>check if the app has permission to read files from the external storage - which passes and processing continues</li>\n<li>calling openFile() which processing goes to however after <code>InputStream inputStream = null;</code> is set the processing stops at the try/catch blocks</li>\n</ol>\n<p>Based upon <strong>Elnur's</strong> comment.  I tried, just to see what happened using <code>MANAGE_EXTERNAL_STORAGE</code> - added this to the manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>...but received the same error:</p>\n<pre><code>Permission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{8374b4e 31718:com.enetapplications.songtracker/u0a540} (pid=31718, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n<p>One more thing I tried, just to see if I could get the code to work was re-build the app using <code>Android 5.0 - API level 21</code> and adjusted the <code>build.gradle</code> with:</p>\n<pre><code>minSdkVersion 21 //was at 29\n</code></pre>\n<p>I synced and rebuilt and ran the app but the SAME issue with <code>Permission Denial</code>.  This may shed some light but not to my eyes :)</p>\n"},{"tags":["java","android","google-maps","geolocation"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1698854971,"post_id":77403848,"comment_id":136458471,"body_markdown":"&quot;link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously&quot;.  That has nothing to do with the google map API key.  The API key is used to determine the developer of the app so they can be charged.  It doesn&#39;t share data between clients of the same API key.  That kind of functionality is 100% on you to write.","body":"&quot;link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously&quot;.  That has nothing to do with the google map API key.  The API key is used to determine the developer of the app so they can be charged.  It doesn&#39;t share data between clients of the same API key.  That kind of functionality is 100% on you to write."},{"owner":{"account_id":29803787,"reputation":1,"user_id":22840967,"display_name":"majdi alali"},"score":0,"creation_date":1698858025,"post_id":77403848,"comment_id":136459042,"body_markdown":"@GabeSechan in that case it does not matter whether the api key is shared amongst both applications what matters is how i implement the functionality in the code?","body":"@GabeSechan in that case it does not matter whether the api key is shared amongst both applications what matters is how i implement the functionality in the code?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1698858323,"post_id":77403848,"comment_id":136459094,"body_markdown":"Yes.  It&#39;s been a while, but IIRC you just have to use the Google Maps developer page to tell it the package name of all your apps that will share the key.","body":"Yes.  It&#39;s been a while, but IIRC you just have to use the Google Maps developer page to tell it the package name of all your apps that will share the key."}],"answers":[{"tags":[],"owner":{"account_id":24508188,"reputation":1914,"user_id":18422887,"display_name":"Yrll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698976730,"creation_date":1698976730,"answer_id":77413786,"question_id":77403848,"body_markdown":"As per the [API best practices](https://developers.google.com/maps/api-security-best-practices#separate-apikey), It is recommended that you use separate ones for security reasons but while one API key per application is ideal for security purposes, you can use restricted keys on multiple apps as long as they use the same type of application restriction.\r\n\r\nNow with regards to your plan on reproducing an uber like app with navigation and other stuff from Google Maps API by combining them together to create such an app, I&#39;d suggest that you seek legal advise and review the Google Maps Terms of Service [3.2.3 Restrictions Against Misusing the Services. (d) No Re-Creating Google Products or Features](https://cloud.google.com/maps-platform/terms#:~:text=Customer%20will%20not%20use,for%20Android%20mobile%20app.):\r\n\r\n&gt;*Customer will not use the Services to create a product or service with features that are **substantially similar to or that re-create the features of another Google product or service**...*\r\n\r\nThe reason I&#39;d suggest that you review the Terms is because Google Maps API already have the **[On-demand Rides and Deliveries Solution][1]**\r\n\r\nAs per the documentation:\r\n\r\n&gt;*The On-demand Rides and Deliveries Solution is a development toolkit for building on-demand mobility services. You can use the Navigation SDK alone to provide real time tracking maps in your app. If you want to add coordinated trips, the toolkit provides web services and a set of APIs that wrap the functionality of maps, routes, and places into interfaces specifically designed for ridesharing and delivery solutions.*\r\n\r\nYou can read the documentation to learn more about it. But with this, I believe this fits with your use case and for you to start availing for this is for you to [Contact Sales][2] first since **this is currently available only to select partners.**\r\n\r\nI hope this information helps!\r\n\r\n  [1]: https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution\r\n  [2]: https://cloud.google.com/contact-maps?_gl=1*12gyyoy*_ga*MTc0Njc1MzI3OC4xNjk4OTc1OTY0*_ga_NRWSTWS78N*MTY5ODk3NTk2NC4xLjEuMTY5ODk3NjA5MS4wLjAuMA..","title":"Can i use Same google maps api key for 2 different applications?","body":"<p>As per the <a href=\"https://developers.google.com/maps/api-security-best-practices#separate-apikey\" rel=\"nofollow noreferrer\">API best practices</a>, It is recommended that you use separate ones for security reasons but while one API key per application is ideal for security purposes, you can use restricted keys on multiple apps as long as they use the same type of application restriction.</p>\n<p>Now with regards to your plan on reproducing an uber like app with navigation and other stuff from Google Maps API by combining them together to create such an app, I'd suggest that you seek legal advise and review the Google Maps Terms of Service <a href=\"https://cloud.google.com/maps-platform/terms#:%7E:text=Customer%20will%20not%20use,for%20Android%20mobile%20app.\" rel=\"nofollow noreferrer\">3.2.3 Restrictions Against Misusing the Services. (d) No Re-Creating Google Products or Features</a>:</p>\n<blockquote>\n<p><em>Customer will not use the Services to create a product or service with features that are <strong>substantially similar to or that re-create the features of another Google product or service</strong>...</em></p>\n</blockquote>\n<p>The reason I'd suggest that you review the Terms is because Google Maps API already have the <strong><a href=\"https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution\" rel=\"nofollow noreferrer\">On-demand Rides and Deliveries Solution</a></strong></p>\n<p>As per the documentation:</p>\n<blockquote>\n<p><em>The On-demand Rides and Deliveries Solution is a development toolkit for building on-demand mobility services. You can use the Navigation SDK alone to provide real time tracking maps in your app. If you want to add coordinated trips, the toolkit provides web services and a set of APIs that wrap the functionality of maps, routes, and places into interfaces specifically designed for ridesharing and delivery solutions.</em></p>\n</blockquote>\n<p>You can read the documentation to learn more about it. But with this, I believe this fits with your use case and for you to start availing for this is for you to <a href=\"https://cloud.google.com/contact-maps?_gl=1*12gyyoy*_ga*MTc0Njc1MzI3OC4xNjk4OTc1OTY0*_ga_NRWSTWS78N*MTY5ODk3NTk2NC4xLjEuMTY5ODk3NjA5MS4wLjAuMA..\" rel=\"nofollow noreferrer\">Contact Sales</a> first since <strong>this is currently available only to select partners.</strong></p>\n<p>I hope this information helps!</p>\n"}],"owner":{"account_id":29803787,"reputation":1,"user_id":22840967,"display_name":"majdi alali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698976730,"creation_date":1698853261,"question_id":77403848,"body_markdown":"So i am working on an taxi application (like uber) on android studio java. However the clients want there to be 2 different applications one for the driver and one for the client. So i can use google maps i need to  get a google api key. But how will i be able to link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously . Should i use the same api key for both applications does that work since they share the same database and server? Otherwise how will be able to link both?\r\n\r\nIve already built both applications separately and linked them to the same database (im yet to link them to the server i intend to use)","title":"Can i use Same google maps api key for 2 different applications?","body":"<p>So i am working on an taxi application (like uber) on android studio java. However the clients want there to be 2 different applications one for the driver and one for the client. So i can use google maps i need to  get a google api key. But how will i be able to link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously . Should i use the same api key for both applications does that work since they share the same database and server? Otherwise how will be able to link both?</p>\n<p>Ive already built both applications separately and linked them to the same database (im yet to link them to the server i intend to use)</p>\n"},{"tags":["java","swing","user-interface","netbeans"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1698976170,"post_id":77413749,"comment_id":136476026,"body_markdown":"The `Container` class has a `getComponents()` method so you can write a recursive method to get all components on the panel and its child panels. Or you could use the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class which does this for you.","body":"The <code>Container</code> class has a <code>getComponents()</code> method so you can write a recursive method to get all components on the panel and its child panels. Or you could use the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class which does this for you."}],"owner":{"account_id":11515736,"reputation":1,"user_id":21938556,"display_name":"KHLVN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698975898,"creation_date":1698975898,"question_id":77413749,"body_markdown":"I am currently developing a program using Java Swing and I have this particular question on how to get all child JPanel and JLabel classes inside of a parent JPanel and also edit their properties (`panel.setBackground()`, label font color etc.)? \r\n\r\nCurrently using Apache Netbeans IDE 18. \r\n\r\n```\r\n    private void changeAppearance(boolean theme, JLabel button) {\r\n        if (theme == true) {\r\n            dashboard.setBackground(new Color(34, 55, 117)); // JPanel\r\n            sideBar.setBackground(new Color(42, 53, 84)); // JPanel\r\n            profileBtn.setBackground(new Color(42, 53, 84)); // JPanel\r\n            settingsBtn.setBackground(new Color(42, 53, 84)); // JPanel\r\n            \r\n            changeIcon(button, &quot;/images/light.png&quot;);\r\n        }\r\n        else {\r\n            dashboard.setBackground(new Color(167, 184, 233)); // JPanel\r\n            sideBar.setBackground(new Color(116, 134, 186)); // JPanel\r\n            profileBtn.setBackground(new Color(116, 134, 186)); // JPanel\r\n            settingsBtn.setBackground(new Color(116, 134, 186)); // JPanel\r\n            \r\n            changeIcon(button, &quot;/images/dark.png&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nThe code block above is a user-defined method wherein the appearance of my application can be toggled from light-mode to dark-mode and vice versa by the user.\r\n\r\nAssuming I put many child classes in the future, how do I fetch all of them using foreach loop instead of writing one-by-one inside the if-else statement in order to make my code more readable?\r\n\r\nalso edit their corresponding properties\r\n \r\nJPanel (background color, preferred size), and \r\nJLabel (font size, style, color)\r\n\r\nThanks!","title":"How can I get all JPanels and JLabels inside a parent JPanel in Java Swing?","body":"<p>I am currently developing a program using Java Swing and I have this particular question on how to get all child JPanel and JLabel classes inside of a parent JPanel and also edit their properties (<code>panel.setBackground()</code>, label font color etc.)?</p>\n<p>Currently using Apache Netbeans IDE 18.</p>\n<pre><code>    private void changeAppearance(boolean theme, JLabel button) {\n        if (theme == true) {\n            dashboard.setBackground(new Color(34, 55, 117)); // JPanel\n            sideBar.setBackground(new Color(42, 53, 84)); // JPanel\n            profileBtn.setBackground(new Color(42, 53, 84)); // JPanel\n            settingsBtn.setBackground(new Color(42, 53, 84)); // JPanel\n            \n            changeIcon(button, &quot;/images/light.png&quot;);\n        }\n        else {\n            dashboard.setBackground(new Color(167, 184, 233)); // JPanel\n            sideBar.setBackground(new Color(116, 134, 186)); // JPanel\n            profileBtn.setBackground(new Color(116, 134, 186)); // JPanel\n            settingsBtn.setBackground(new Color(116, 134, 186)); // JPanel\n            \n            changeIcon(button, &quot;/images/dark.png&quot;);\n        }\n    }\n</code></pre>\n<p>The code block above is a user-defined method wherein the appearance of my application can be toggled from light-mode to dark-mode and vice versa by the user.</p>\n<p>Assuming I put many child classes in the future, how do I fetch all of them using foreach loop instead of writing one-by-one inside the if-else statement in order to make my code more readable?</p>\n<p>also edit their corresponding properties</p>\n<p>JPanel (background color, preferred size), and\nJLabel (font size, style, color)</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jslider"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1698975587,"post_id":77413725,"comment_id":136475978,"body_markdown":"*new Color(255,255,0,80)* - Swing does not support semi-transparent colors correctly. See [Backgrounds With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/)","body":"<i>new Color(255,255,0,80)</i> - Swing does not support semi-transparent colors correctly. See <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a>"}],"owner":{"account_id":29814911,"reputation":1,"user_id":22849408,"display_name":"shidaniel77"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698975717,"answer_count":0,"score":0,"last_activity_date":1698975748,"creation_date":1698975304,"question_id":77413725,"body_markdown":"This is what happens when I use the JSlider with the hover effect:\r\n\r\n[![https://i.stack.imgur.com/V7dOP.png][1]][1]\r\n\r\n\r\n```\r\n //Leadership slider\r\n        JLabel leadershipLabel = new JLabel(&quot;LEADERSHIP: &quot;);\r\n        leadershipLabel.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\r\n        leadershipLabel.setLocation(applicationTitle.getX(), studentQualitiesLabel.getY() + studentQualitiesLabel.getHeight());\r\n        leadershipLabel.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 16));\r\n\r\n\r\n        JSlider leadershipSlider = new JSlider(1,10,1);\r\n        leadershipSlider.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\r\n        leadershipSlider.setLocation(leadershipLabel.getX() + leadershipLabel.getWidth(), leadershipLabel.getY());\r\n        \r\n\r\n        leadershipSlider.addChangeListener(new ChangeListener(){\r\n\r\n            public void stateChanged(ChangeEvent e){\r\n                int leadership = leadershipSlider.getValue(); //grabs the slider value\r\n                leadershipLabel.setText(&quot;LEADERSHIP: &quot; + leadership); //displays the slider value\r\n            }\r\n        });\r\n\r\n        \r\n\r\n\r\n        leadershipSlider.addMouseListener(new java.awt.event.MouseAdapter(){\r\n            public void mouseEntered(java.awt.event.MouseEvent evt){\r\n                leadershipSlider.setBackground(new Color(255,255,0,80));\r\n            }\r\n            public void mouseExited(java.awt.event.MouseEvent evt){\r\n                leadershipSlider.setBackground(UIManager.getColor(&quot;control&quot;));\r\n            }\r\n        });\r\n```\r\n\r\n\r\nThe bar should just highlight yellow when I hover over it and go back to normal when I stop hovering over it. But when I try to use the slider(drag the arrow to different values), text glitches out under it. Also the more i click it, the stronger the yellow highlight becomes until i hover off, then it resets.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V7dOP.png","title":"JSlider hover effect acting weird","body":"<p>This is what happens when I use the JSlider with the hover effect:</p>\n<p><a href=\"https://i.stack.imgur.com/V7dOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V7dOP.png\" alt=\"https://i.stack.imgur.com/V7dOP.png\" /></a></p>\n<pre><code> //Leadership slider\n        JLabel leadershipLabel = new JLabel(&quot;LEADERSHIP: &quot;);\n        leadershipLabel.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\n        leadershipLabel.setLocation(applicationTitle.getX(), studentQualitiesLabel.getY() + studentQualitiesLabel.getHeight());\n        leadershipLabel.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 16));\n\n\n        JSlider leadershipSlider = new JSlider(1,10,1);\n        leadershipSlider.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\n        leadershipSlider.setLocation(leadershipLabel.getX() + leadershipLabel.getWidth(), leadershipLabel.getY());\n        \n\n        leadershipSlider.addChangeListener(new ChangeListener(){\n\n            public void stateChanged(ChangeEvent e){\n                int leadership = leadershipSlider.getValue(); //grabs the slider value\n                leadershipLabel.setText(&quot;LEADERSHIP: &quot; + leadership); //displays the slider value\n            }\n        });\n\n        \n\n\n        leadershipSlider.addMouseListener(new java.awt.event.MouseAdapter(){\n            public void mouseEntered(java.awt.event.MouseEvent evt){\n                leadershipSlider.setBackground(new Color(255,255,0,80));\n            }\n            public void mouseExited(java.awt.event.MouseEvent evt){\n                leadershipSlider.setBackground(UIManager.getColor(&quot;control&quot;));\n            }\n        });\n</code></pre>\n<p>The bar should just highlight yellow when I hover over it and go back to normal when I stop hovering over it. But when I try to use the slider(drag the arrow to different values), text glitches out under it. Also the more i click it, the stronger the yellow highlight becomes until i hover off, then it resets.</p>\n"},{"tags":["java","apache","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1698975670,"creation_date":1415004890,"answer_id":26710740,"question_id":26710658,"body_markdown":"Regarding the [documentation][1]:\r\n\r\n&gt; The pattern of the file name of the archived log file. The format of the pattern is dependent on the RolloverPolicy that is used. The DefaultRolloverPolicy will accept both a date/time pattern compatible with SimpleDateFormat and/or a %i which represents an integer counter. The pattern also supports interpolation at runtime so any of the Lookups (such as the DateLookup) can be included in the pattern.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/appenders.html","title":"What is a Filepattern in Log4j 2 for?","body":"<p>Regarding the <a href=\"http://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The pattern of the file name of the archived log file. The format of the pattern is dependent on the RolloverPolicy that is used. The DefaultRolloverPolicy will accept both a date/time pattern compatible with SimpleDateFormat and/or a %i which represents an integer counter. The pattern also supports interpolation at runtime so any of the Lookups (such as the DateLookup) can be included in the pattern.</p>\n</blockquote>\n"}],"owner":{"account_id":5247914,"reputation":723,"user_id":4192998,"accept_rate":65,"display_name":"Zion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25176,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26710740,"answer_count":1,"score":7,"last_activity_date":1698975670,"creation_date":1415004626,"question_id":26710658,"body_markdown":"I have a question about The Filepattern for RollingFile Appender in log4j 2.\r\nThe RollingFile needs an FileName and FilePattern but i dont know what the FilePattern does.I think it is just ignored. This a part of my log4j2.xml    \r\n\r\n    &lt;Property name=&quot;pattern&quot;&gt;\r\n        %-5p [%d{dd.MM.yyyy - HH:mm:ss}] : %m%n %ex\r\n    &lt;/Property&gt;\r\n\r\n    &lt;Property name=&quot;MainLoggerPath&quot;&gt;\r\n        C:/logs/MainLogger.log\r\n    &lt;/Property&gt;\r\n\r\n    &lt;Property name=&quot;FilePattern&quot;&gt;\r\n        C:/logs/$${date:yyyy-MM}/app-%d{MM- dd-yyyy}-%i.log.gz\r\n    &lt;/Property&gt;\r\n\r\n\r\n    &lt;RollingFile name=&quot;MainAppender&quot; fileName=&quot;${MainLoggerPath}&quot;\r\n    filePattern=&quot;${FilePattern}&quot;&gt;\r\n\r\n        &lt;ThresholdFilter level=&quot;ALL&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n\r\n        &lt;PatternLayout \r\n        pattern=&quot;${pattern}&quot; /&gt;\r\n\r\n        &lt;Policies&gt;\r\n            &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot; /&gt;\r\n        &lt;/Policies&gt;\r\n\r\n        &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n\r\n    &lt;/RollingFile&gt;    \r\n","title":"What is a Filepattern in Log4j 2 for?","body":"<p>I have a question about The Filepattern for RollingFile Appender in log4j 2.\nThe RollingFile needs an FileName and FilePattern but i dont know what the FilePattern does.I think it is just ignored. This a part of my log4j2.xml    </p>\n\n<pre><code>&lt;Property name=\"pattern\"&gt;\n    %-5p [%d{dd.MM.yyyy - HH:mm:ss}] : %m%n %ex\n&lt;/Property&gt;\n\n&lt;Property name=\"MainLoggerPath\"&gt;\n    C:/logs/MainLogger.log\n&lt;/Property&gt;\n\n&lt;Property name=\"FilePattern\"&gt;\n    C:/logs/$${date:yyyy-MM}/app-%d{MM- dd-yyyy}-%i.log.gz\n&lt;/Property&gt;\n\n\n&lt;RollingFile name=\"MainAppender\" fileName=\"${MainLoggerPath}\"\nfilePattern=\"${FilePattern}\"&gt;\n\n    &lt;ThresholdFilter level=\"ALL\" onMatch=\"ACCEPT\" onMismatch=\"DENY\" /&gt;\n\n    &lt;PatternLayout \n    pattern=\"${pattern}\" /&gt;\n\n    &lt;Policies&gt;\n        &lt;SizeBasedTriggeringPolicy size=\"10 MB\" /&gt;\n    &lt;/Policies&gt;\n\n    &lt;DefaultRolloverStrategy max=\"10\" /&gt;\n\n&lt;/RollingFile&gt;    \n</code></pre>\n"},{"tags":["java","variables","logging","log4j"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1426585849,"post_id":29095782,"comment_id":46422747,"body_markdown":"This is almost a duplicate. Do any of these answers help? [Using system environment variables in log4j xml configuration](http://stackoverflow.com/questions/201188/using-system-environment-variables-in-log4j-xml-configuration?rq=1)","body":"This is almost a duplicate. Do any of these answers help? <a href=\"http://stackoverflow.com/questions/201188/using-system-environment-variables-in-log4j-xml-configuration?rq=1\">Using system environment variables in log4j xml configuration</a>"}],"answers":[{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698973884,"creation_date":1426586546,"answer_id":29096192,"question_id":29095782,"body_markdown":"This could be done in the log4j.properties file. Note, you can not use environment variables (that&#39;s a platform specific concept).\r\n\r\nThese 2 properties (IP and port) can be set in code or using the &quot;-D&quot; JVM option.\r\n\r\nIn your example:\r\n\r\n    java ... -Dip=%YOUR_IP% -Dport=%YOUR_PORT% ... your_app\r\n\r\nThis allows you to reference the property using ${...} notation\r\nEg: \r\n\r\n    log4j.graylog_appender.LOGGER.IP=${ip}\r\n    log4j.graylog_appender.LOGGER.PORT=${port}\r\n\r\n","title":"How is it possible to reference a variable from log4j.properties file?","body":"<p>This could be done in the log4j.properties file. Note, you can not use environment variables (that's a platform specific concept).</p>\n<p>These 2 properties (IP and port) can be set in code or using the &quot;-D&quot; JVM option.</p>\n<p>In your example:</p>\n<pre><code>java ... -Dip=%YOUR_IP% -Dport=%YOUR_PORT% ... your_app\n</code></pre>\n<p>This allows you to reference the property using ${...} notation\nEg:</p>\n<pre><code>log4j.graylog_appender.LOGGER.IP=${ip}\nlog4j.graylog_appender.LOGGER.PORT=${port}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4808577,"reputation":3196,"user_id":3882744,"accept_rate":70,"display_name":"caot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698887344,"creation_date":1439918614,"answer_id":32078859,"question_id":29095782,"body_markdown":"```java\r\nSystem.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n```","title":"How is it possible to reference a variable from log4j.properties file?","body":"<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;key&quot;, &quot;value&quot;);\n</code></pre>\n"}],"owner":{"account_id":2870134,"reputation":222,"user_id":2463675,"display_name":"LubosD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698973884,"creation_date":1426585403,"question_id":29095782,"body_markdown":"\r\n\r\nWe are usign log4j in version 1.2x and want to keep it so if possible. We have a graylog appender in the log4j.properties file where we set the ip address and the port. If they are hardcoded, the logging to the gray log works.\r\n\r\n**The task is however to make these two parameters (IP and port) configurable somehow in the log4j.properties file.** \r\n\r\nAfterwards the operation team on each deployment environment would just set this configuration for the IP and port once and it would work in all the java projects that use this variable in log4j.properties file.\r\n\r\nIdeal solution would be using environment variable of the operating system, but any other configuration as a property file (not that one of the log4j itself and except for using JVM arguments - this is not an option for us) or some other solution \r\n\r\n***I have read that this is possible with log4j version 2.x but this would take us quite a lot of time*** (converting the log4j.propeties files to log4j2.xml by hand, changing the code ..).\r\n\r\n","title":"How is it possible to reference a variable from log4j.properties file?","body":"<p>We are usign log4j in version 1.2x and want to keep it so if possible. We have a graylog appender in the log4j.properties file where we set the ip address and the port. If they are hardcoded, the logging to the gray log works.</p>\n<p><strong>The task is however to make these two parameters (IP and port) configurable somehow in the log4j.properties file.</strong></p>\n<p>Afterwards the operation team on each deployment environment would just set this configuration for the IP and port once and it would work in all the java projects that use this variable in log4j.properties file.</p>\n<p>Ideal solution would be using environment variable of the operating system, but any other configuration as a property file (not that one of the log4j itself and except for using JVM arguments - this is not an option for us) or some other solution</p>\n<p><em><strong>I have read that this is possible with log4j version 2.x but this would take us quite a lot of time</strong></em> (converting the log4j.propeties files to log4j2.xml by hand, changing the code ..).</p>\n"},{"tags":["java","arraylist","java-8","hashmap"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1698961608,"post_id":77412998,"comment_id":136474559,"body_markdown":"what if 2 objects of the array have the same attribute names ?","body":"what if 2 objects of the array have the same attribute names ?"},{"owner":{"account_id":7708029,"reputation":27,"user_id":5838400,"display_name":"Mohil M"},"score":0,"creation_date":1698961889,"post_id":77412998,"comment_id":136474593,"body_markdown":"Hey..sorry my bad..this array won&#39;t be having multiple objects. It will have added variables but no extra object @jhamon","body":"Hey..sorry my bad..this array won&#39;t be having multiple objects. It will have added variables but no extra object @jhamon"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1698971871,"post_id":77412998,"comment_id":136475646,"body_markdown":"Use a JSON library such as Jackson.","body":"Use a JSON library such as Jackson."}],"answers":[{"tags":[],"owner":{"account_id":22135845,"reputation":11,"user_id":22849342,"display_name":"wolginm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698973830,"creation_date":1698973830,"answer_id":77413676,"question_id":77412998,"body_markdown":"Following up on [Jim Garrison][1]&#39;s post, give this a look, [Baeldung - Using Jackson][2].  This library should help you convert a generic object into a map.  Those objects being in an ArrayList, or really any form of list, doesn&#39;t make it much harder.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/18157/jim-garrison\r\n  [2]: https://www.baeldung.com/java-convert-object-to-map#using-jackson","title":"I want to convert arraylist of custom java object to hashmap by keeping key-value pair of arraylist same in the map","body":"<p>Following up on <a href=\"https://stackoverflow.com/users/18157/jim-garrison\">Jim Garrison</a>'s post, give this a look, <a href=\"https://www.baeldung.com/java-convert-object-to-map#using-jackson\" rel=\"nofollow noreferrer\">Baeldung - Using Jackson</a>.  This library should help you convert a generic object into a map.  Those objects being in an ArrayList, or really any form of list, doesn't make it much harder.</p>\n"}],"owner":{"account_id":7708029,"reputation":27,"user_id":5838400,"display_name":"Mohil M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1698992119,"answer_count":1,"score":-2,"last_activity_date":1698973830,"creation_date":1698960613,"question_id":77412998,"body_markdown":"This is my list I am fetching from db (It can be updated in db in future by addition of more variables  :\r\n\r\n\r\n\r\n    response\r\n    \r\n     {\r\n       &quot;nameField1&quot;   : &quot;nameLabel1&quot;,\r\n        &quot;numberField2&quot;: &quot;numberLabel2&quot;   \r\n    } \r\n      \r\n\r\n\r\nI want the result map&lt;String, String&gt; to look like this :\r\n\r\n   {nameField1=nameLabel1, numberField2=numberLabel2 }\r\n\r\n","title":"I want to convert arraylist of custom java object to hashmap by keeping key-value pair of arraylist same in the map","body":"<p>This is my list I am fetching from db (It can be updated in db in future by addition of more variables  :</p>\n<pre><code>response\n\n {\n   &quot;nameField1&quot;   : &quot;nameLabel1&quot;,\n    &quot;numberField2&quot;: &quot;numberLabel2&quot;   \n} \n  \n</code></pre>\n<p>I want the result map&lt;String, String&gt; to look like this :</p>\n<p>{nameField1=nameLabel1, numberField2=numberLabel2 }</p>\n"},{"tags":["java","maven","gwt","dagger"],"answers":[{"tags":[],"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698972992,"creation_date":1698972992,"answer_id":77413641,"question_id":77409321,"body_markdown":"The gwt compiler caches certain things.  Could some things be hanging around from your 2.7 build?\r\n\r\nDo a clean build, to remove the &lt;code&gt;/gwt-unitCache&lt;/code&gt; folder.\r\n\r\nAlso in the temporary directory (on Linux &lt;code&gt;/tmp&lt;/code&gt;) check for &lt;code&gt;gwt*&lt;/code&gt; folders and delete them all.","title":"Upgrading GWT version 2.7.0 to 2.10.0 causes issues","body":"<p>The gwt compiler caches certain things.  Could some things be hanging around from your 2.7 build?</p>\n<p>Do a clean build, to remove the <code>/gwt-unitCache</code> folder.</p>\n<p>Also in the temporary directory (on Linux <code>/tmp</code>) check for <code>gwt*</code> folders and delete them all.</p>\n"}],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698972992,"creation_date":1698925731,"question_id":77409321,"body_markdown":"After upgrading gwt to `2.10.0` and upgrading `mvn.compiler.version` to `1.8.0` from `1.7.0` following errors are occuring:\r\n\r\n1. On testing phase\r\n```\r\nlog4j:WARN Error during default initialization\r\njava.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\r\n```\r\n2. When compiling tomcat:\r\n```\r\n[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\r\n...\r\n[INFO] Caused by: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.ast.MessageSend.binding()Lorg/eclipse/jdt/internal/compiler/lookup/MethodBinding;\r\n...\r\n[INFO][ERROR] at xxx.java(241): GWT.create(SimplePager.Resources.class)\r\n```\r\n\r\n","title":"Upgrading GWT version 2.7.0 to 2.10.0 causes issues","body":"<p>After upgrading gwt to <code>2.10.0</code> and upgrading <code>mvn.compiler.version</code> to <code>1.8.0</code> from <code>1.7.0</code> following errors are occuring:</p>\n<ol>\n<li>On testing phase</li>\n</ol>\n<pre><code>log4j:WARN Error during default initialization\njava.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\n</code></pre>\n<ol start=\"2\">\n<li>When compiling tomcat:</li>\n</ol>\n<pre><code>[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\n...\n[INFO] Caused by: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.ast.MessageSend.binding()Lorg/eclipse/jdt/internal/compiler/lookup/MethodBinding;\n...\n[INFO][ERROR] at xxx.java(241): GWT.create(SimplePager.Resources.class)\n</code></pre>\n"},{"tags":["java","android","android-camera2"],"comments":[{"owner":{"account_id":7064276,"reputation":1,"user_id":5408149,"display_name":"Alejandro Medina Baeza"},"score":0,"creation_date":1697838486,"post_id":77332981,"comment_id":136334607,"body_markdown":"Upon further investigation, I&#39;ve found the following:\nIf I run this app on my S23 Ultra, everything works as intended, but if I run it on the S9 Plus, what I get is the correct retrieval of the focusDistance when capturing, but the images come out like if a higher value of focusDistance had been used (even though I&#39;m setting LENS_FOCUS_DISTANCE to that obtained in the preview, which is around 2.7).\nDoes this shed any light on the issue?","body":"Upon further investigation, I&#39;ve found the following: If I run this app on my S23 Ultra, everything works as intended, but if I run it on the S9 Plus, what I get is the correct retrieval of the focusDistance when capturing, but the images come out like if a higher value of focusDistance had been used (even though I&#39;m setting LENS_FOCUS_DISTANCE to that obtained in the preview, which is around 2.7). Does this shed any light on the issue?"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698969228,"creation_date":1698969228,"answer_id":77413486,"question_id":77332981,"body_markdown":"Before turning off AF, are you verifying the device supports manual focus control?  That&#39;s not guaranteed, so you need to check the camera device&#39;s capabilities first.   If you just want to lock AF once you get a good value in continuous focus mode, you can use `AF_TRIGGER` for that.\r\n\r\nBeyond that, antibanding on many devices can&#39;t handle flicker rates that aren&#39;t 50 or 60hz, and a wide variety of LED lights have flicker rates at other weird rates.  This isn&#39;t a problem if exposure times are long enough, but in bright conditions it can become a problem, where the exposure is short enough to reveal the flicker from the illumination sources.\r\n\r\n","title":"Problem using Camera2: Preview is fine but captured images are blurry and have banding artifacts","body":"<p>Before turning off AF, are you verifying the device supports manual focus control?  That's not guaranteed, so you need to check the camera device's capabilities first.   If you just want to lock AF once you get a good value in continuous focus mode, you can use <code>AF_TRIGGER</code> for that.</p>\n<p>Beyond that, antibanding on many devices can't handle flicker rates that aren't 50 or 60hz, and a wide variety of LED lights have flicker rates at other weird rates.  This isn't a problem if exposure times are long enough, but in bright conditions it can become a problem, where the exposure is short enough to reveal the flicker from the illumination sources.</p>\n"}],"owner":{"account_id":7064276,"reputation":1,"user_id":5408149,"display_name":"Alejandro Medina Baeza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698969228,"creation_date":1697825271,"question_id":77332981,"body_markdown":"I&#39;ve been trying to set up an app that does the following:\r\n1. Shows an image preview to the user in a PreviewActivity, where the user can click on a region and set the precise Focus Distance to a CameraSettings instance.\r\n2. Then, in a CameraService, I&#39;m disabling auto focus, retrieving the focus distance settings from CameraSettings, and capturing the image.\r\nMy problem is the image is fine in the preview, but is blurry and has banding artifacts when captured.\r\n\r\n\r\n\r\nThis is what I&#39;m doing before capturing the image:\r\n`           \r\n\r\n         Float focusDistance = CameraSettings.getInstance().getFocusDistance();\r\n            captureBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER, CaptureRequest.CONTROL_AF_TRIGGER_IDLE);\r\n\r\n            captureBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_OFF);\r\n            captureBuilder.set(CaptureRequest.CONTROL_AE_ANTIBANDING_MODE, CaptureRequest.CONTROL_AE_ANTIBANDING_MODE_AUTO);\r\n            captureBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, focusDistance);\r\n            captureBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);`","title":"Problem using Camera2: Preview is fine but captured images are blurry and have banding artifacts","body":"<p>I've been trying to set up an app that does the following:</p>\n<ol>\n<li>Shows an image preview to the user in a PreviewActivity, where the user can click on a region and set the precise Focus Distance to a CameraSettings instance.</li>\n<li>Then, in a CameraService, I'm disabling auto focus, retrieving the focus distance settings from CameraSettings, and capturing the image.\nMy problem is the image is fine in the preview, but is blurry and has banding artifacts when captured.</li>\n</ol>\n<p>This is what I'm doing before capturing the image:\n`</p>\n<pre><code>     Float focusDistance = CameraSettings.getInstance().getFocusDistance();\n        captureBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER, CaptureRequest.CONTROL_AF_TRIGGER_IDLE);\n\n        captureBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_OFF);\n        captureBuilder.set(CaptureRequest.CONTROL_AE_ANTIBANDING_MODE, CaptureRequest.CONTROL_AE_ANTIBANDING_MODE_AUTO);\n        captureBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, focusDistance);\n        captureBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);`\n</code></pre>\n"},{"tags":["java","spring-boot","logging","spring-logback"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698971549,"post_id":77413425,"comment_id":136475616,"body_markdown":"The configuration file is being read too eary for it to use extensions, see https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html#boot-features-logback-extensions","body":"The configuration file is being read too eary for it to use extensions, see <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html#boot-features-logback-extensions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"owner":{"account_id":2090494,"reputation":1336,"user_id":1860447,"accept_rate":47,"display_name":"user1860447"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698967757,"creation_date":1698967757,"question_id":77413425,"body_markdown":"I have a springboot application. When I give the following command \r\n\r\n\t$ java -Dspring.config.location=../src/main/resources/application-dev.properties -Dlogback.configurationFile=../src/main/resources/logback-spring.xml  -jar some-ingestion-1.0.0.jar\r\n\r\nI get this error and the application fails to start:\r\n\t\r\n\tCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected:\r\n\tERROR in ch.qos.logback.core.joran.spi.Interpreter@28:84 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\r\n\tERROR in ch.qos.logback.core.joran.spi.Interpreter@31:112 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\r\n\tERROR in ch.qos.logback.core.joran.spi.Interpreter@34:71 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\r\n\r\n\r\nHere is my logback-spring.xml:\t\r\n\r\n\t....\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.SQL&quot;\r\n                    source=&quot;logging.level.org.hibernate.SQL&quot; defaultValue=&quot;warn&quot; /&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;\r\n                    source=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot; defaultValue=&quot;info&quot; /&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.com.abc.some.ingestion&quot;\r\n                    source=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\r\n    ...\r\n\r\nAnd here is my applications.property:\r\n\r\n\t#Logging overrides\r\n\tlogging.level.org.hibernate.SQL=DEBUG\r\n\tlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\tlogging.level.com.abc.some.ingestion=TRACE\r\n\r\nIrrespective of whether above are commented out, the application fails to start with the above error. \r\nBut if I comment out the above 3 &lt;springProperty/&gt; and set them as below in logback-spring.xml:\r\n\r\n\r\n    &lt;logger name=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;warn&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;info&quot;/&gt;\r\n\r\nthen application is able to start up. The idea is to be able to override settings in logback with the ones in application.properties.\r\n\r\n\r\nThe requirement requirement has eveolved overtime. logback configuration file is provided to java jar to be able to override application log history","title":"SpringBoot applications fails to start when logback-spring and application.properties are provided as cmd line args to java -jar","body":"<p>I have a springboot application. When I give the following command</p>\n<pre><code>$ java -Dspring.config.location=../src/main/resources/application-dev.properties -Dlogback.configurationFile=../src/main/resources/logback-spring.xml  -jar some-ingestion-1.0.0.jar\n</code></pre>\n<p>I get this error and the application fails to start:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected:\nERROR in ch.qos.logback.core.joran.spi.Interpreter@28:84 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@31:112 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@34:71 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\n</code></pre>\n<p>Here is my logback-spring.xml:</p>\n<pre><code>....\n&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.SQL&quot;\n                source=&quot;logging.level.org.hibernate.SQL&quot; defaultValue=&quot;warn&quot; /&gt;\n\n&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;\n                source=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot; defaultValue=&quot;info&quot; /&gt;\n\n&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.com.abc.some.ingestion&quot;\n                source=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\n...\n</code></pre>\n<p>And here is my applications.property:</p>\n<pre><code>#Logging overrides\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.com.abc.some.ingestion=TRACE\n</code></pre>\n<p>Irrespective of whether above are commented out, the application fails to start with the above error.\nBut if I comment out the above 3  and set them as below in logback-spring.xml:</p>\n<pre><code>&lt;logger name=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\n&lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;warn&quot;/&gt;\n&lt;logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;info&quot;/&gt;\n</code></pre>\n<p>then application is able to start up. The idea is to be able to override settings in logback with the ones in application.properties.</p>\n<p>The requirement requirement has eveolved overtime. logback configuration file is provided to java jar to be able to override application log history</p>\n"},{"tags":["java","spring","spring-boot","maven","apache-zookeeper"],"comments":[{"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"score":0,"creation_date":1698990130,"post_id":77390724,"comment_id":136477037,"body_markdown":"AWS ECS is their response to docker and EKS is K8","body":"AWS ECS is their response to docker and EKS is K8"}],"answers":[{"tags":[],"owner":{"account_id":28906776,"reputation":1,"user_id":22140649,"display_name":"Mohan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698966549,"creation_date":1698966549,"answer_id":77413369,"question_id":77390724,"body_markdown":"You can run all 3 micro services and your zookeeper docker container in a single EC2 instance if that&#39;s all you prefer (for testing of course). If you want to run a production scale application, I believe you need more than just one EC2 instance. You might also want to think about deploying them in different AZs and also keep zookeeper (source of truth) running in a separate subnet to separate applications and zookeeper.\r\n\r\nAlso, you can explore EKS if your micro services are containerized.\r\n","title":"How to deploy my Apache Zookeeper image to AWS?","body":"<p>You can run all 3 micro services and your zookeeper docker container in a single EC2 instance if that's all you prefer (for testing of course). If you want to run a production scale application, I believe you need more than just one EC2 instance. You might also want to think about deploying them in different AZs and also keep zookeeper (source of truth) running in a separate subnet to separate applications and zookeeper.</p>\n<p>Also, you can explore EKS if your micro services are containerized.</p>\n"}],"owner":{"account_id":29788140,"reputation":1,"user_id":22829026,"display_name":"Ryan Seiyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698966549,"creation_date":1698687126,"question_id":77390724,"body_markdown":"[diagram](https://i.stack.imgur.com/xPUhD.png)\r\n\r\n### How can I deploy my application (3 microservices and an Apache Zookeeper docker image) to AWS?\r\n\r\nCan I have an docker image running in AWS? Does it have any cost included?\r\nAll 3 microservice applications depends on my Apache Zookeeper docker image, so that they can retrieve information from each other.\r\n\r\nI just don&#39;t know how to deploy this applications on AWS. Should I deploy each application on an independent instance?\r\n\r\nThank you!","title":"How to deploy my Apache Zookeeper image to AWS?","body":"<p><a href=\"https://i.stack.imgur.com/xPUhD.png\" rel=\"nofollow noreferrer\">diagram</a></p>\n<h3>How can I deploy my application (3 microservices and an Apache Zookeeper docker image) to AWS?</h3>\n<p>Can I have an docker image running in AWS? Does it have any cost included?\nAll 3 microservice applications depends on my Apache Zookeeper docker image, so that they can retrieve information from each other.</p>\n<p>I just don't know how to deploy this applications on AWS. Should I deploy each application on an independent instance?</p>\n<p>Thank you!</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397673975,"creation_date":1397673467,"answer_id":23117548,"question_id":23117520,"body_markdown":"If you are asking how to change the values of individual elements in a 2D array to null, you would do this:\r\n\r\n     gameBoard[row][col] = null;\r\n\r\nBut since you have a 2D char array, you can&#39;t do that as char is a primitive type and does not allow having a null value. You could use a different char value to represent empty, or you could make a 2D array have Character objects, but a better solution might be a 2D array of an enumeration type such as:\r\n\r\n    public enum TicTacToeSquareValue { x, o, empty }\r\n    .... later on:\r\n    gameBoard[row][col] = TicTacToeSquareValue.empty;","title":"How to remove an element in a 2D array","body":"<p>If you are asking how to change the values of individual elements in a 2D array to null, you would do this:</p>\n\n<pre><code> gameBoard[row][col] = null;\n</code></pre>\n\n<p>But since you have a 2D char array, you can't do that as char is a primitive type and does not allow having a null value. You could use a different char value to represent empty, or you could make a 2D array have Character objects, but a better solution might be a 2D array of an enumeration type such as:</p>\n\n<pre><code>public enum TicTacToeSquareValue { x, o, empty }\n.... later on:\ngameBoard[row][col] = TicTacToeSquareValue.empty;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2832467,"reputation":440,"user_id":2433769,"display_name":"eric.green"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633543627,"creation_date":1397673841,"answer_id":23117693,"question_id":23117520,"body_markdown":"You cannot set a `char` to `null`. You can only set it to `0`. `null` is a pointer value, `char` is a primitive numeric value. Pointers don&#39;t fit into primitive values.\r\n\r\nSo.. \r\n```\r\ngameBoard[row][col]=0\r\n```\r\n.. should do the trick.","title":"How to remove an element in a 2D array","body":"<p>You cannot set a <code>char</code> to <code>null</code>. You can only set it to <code>0</code>. <code>null</code> is a pointer value, <code>char</code> is a primitive numeric value. Pointers don't fit into primitive values.</p>\n<p>So..</p>\n<pre><code>gameBoard[row][col]=0\n</code></pre>\n<p>.. should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":2791635,"reputation":25619,"user_id":2401769,"accept_rate":68,"display_name":"Matias Cicero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397674438,"creation_date":1397673923,"answer_id":23117713,"question_id":23117520,"body_markdown":"If you are lazy, you could reinstantiate a new array.\r\n    \r\n    gameBoard = new int[3][3];\r\n\r\nI would not recommend this approach, as it is less performant and leaks memory if it is not correctly collected.\r\n\r\nA more elegant choice would be to reinitialize the whole array, you dont need to set the values to `null` since they are of type `char`\r\n\r\n    for(int r = 0; r &lt; gameBoard.length; r++)\r\n        for(int c = 0; c &lt; gameBoard[r].length; c++)\r\n            gameBoard[r][c] = &#39;\\0&#39;; //Null character\r\n\r\nBut hey, why bother writing three lines of code, when there&#39;s a prebuilt Java utility method that will help you out?\r\n\r\n     Arrays.fill(gameBoard, &#39;\\0&#39;); //Fills the array with Null characters","title":"How to remove an element in a 2D array","body":"<p>If you are lazy, you could reinstantiate a new array.</p>\n\n<pre><code>gameBoard = new int[3][3];\n</code></pre>\n\n<p>I would not recommend this approach, as it is less performant and leaks memory if it is not correctly collected.</p>\n\n<p>A more elegant choice would be to reinitialize the whole array, you dont need to set the values to <code>null</code> since they are of type <code>char</code></p>\n\n<pre><code>for(int r = 0; r &lt; gameBoard.length; r++)\n    for(int c = 0; c &lt; gameBoard[r].length; c++)\n        gameBoard[r][c] = '\\0'; //Null character\n</code></pre>\n\n<p>But hey, why bother writing three lines of code, when there's a prebuilt Java utility method that will help you out?</p>\n\n<pre><code> Arrays.fill(gameBoard, '\\0'); //Fills the array with Null characters\n</code></pre>\n"}],"owner":{"account_id":2284294,"reputation":49,"user_id":2471664,"accept_rate":86,"display_name":"Oumie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698966290,"creation_date":1397673369,"question_id":23117520,"body_markdown":"I have a 2D array that I need to &quot;reset&quot; each time a tic tac toc game is started. I call a method and loop through the array setting all the elements to Zero. But this defeats the purpose of my program because i need to have all the elements empty/null again.\r\n\r\n    public static char[][] initializeGame(char[][] gameBoard) {       \r\n        for (int row = 0; row &lt; 3; row++) {\r\n            for (int col = 0; col &lt; 3; col++) {\r\n                gameBoard = null; //&lt;--THIS IS THE THING AM TRYING TO NULL @ gameBoard[row][column]               \r\n            }\r\n        }     \r\n        return gameBoard;\r\n    }\r\n\r\nHow can I set the elements of `gameBoard` to null?\r\n","title":"How to remove an element in a 2D array","body":"<p>I have a 2D array that I need to \"reset\" each time a tic tac toc game is started. I call a method and loop through the array setting all the elements to Zero. But this defeats the purpose of my program because i need to have all the elements empty/null again.</p>\n\n<pre><code>public static char[][] initializeGame(char[][] gameBoard) {       \n    for (int row = 0; row &lt; 3; row++) {\n        for (int col = 0; col &lt; 3; col++) {\n            gameBoard = null; //&lt;--THIS IS THE THING AM TRYING TO NULL @ gameBoard[row][column]               \n        }\n    }     \n    return gameBoard;\n}\n</code></pre>\n\n<p>How can I set the elements of <code>gameBoard</code> to null?</p>\n"},{"tags":["java","yaml","micronaut","snakeyaml"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1698986779,"post_id":77413258,"comment_id":136476769,"body_markdown":"please add your complete build.gradle","body":"please add your complete build.gradle"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698966248,"creation_date":1698964785,"question_id":77413258,"body_markdown":"How to resolve the error. I am not sure which snake yaml dependency can resolve the micronaut project start-up error.\r\n\r\n    2023-11-02 22:36:41 ERROR i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: org.yaml.snakeyaml.constructor.SafeConstructor: method &#39;void &lt;init&gt;()&#39; not found\r\n    java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method &#39;void &lt;init&gt;()&#39; not found\r\n    \tat io.micronaut.context.env.yaml.CustomSafeConstructor.&lt;init&gt;(CustomSafeConstructor.java:36) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.yaml.YamlPropertySourceLoader.processInput(YamlPropertySourceLoader.java:56) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.read(AbstractPropertySourceLoader.java:117) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.loadProperties(AbstractPropertySourceLoader.java:102) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:68) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:55) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.DefaultEnvironment.loadPropertySourceFromLoader(DefaultEnvironment.java:607) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:541) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:527) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.DefaultApplicationContext$RuntimeConfiguredEnvironment.readPropertySourceList(DefaultApplicationContext.java:794) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n\r\nAfter this error, I did minor refactoring like below\r\n\r\n    implementation group: &#39;org.yaml&#39;, name: &#39;snakeyaml&#39;, version: &#39;2.0&#39;\r\n    \r\n    configurations.all {\r\n        exclude group: &#39;org.yaml&#39;\r\n        resolutionStrategy {\r\n            force  &quot;org.yaml&quot;\r\n        }\r\n    }\r\n\r\nI still get the same error? Any suggestion?","title":"Yaml dependency error with micronaut app start up","body":"<p>How to resolve the error. I am not sure which snake yaml dependency can resolve the micronaut project start-up error.</p>\n<pre><code>2023-11-02 22:36:41 ERROR i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void &lt;init&gt;()' not found\njava.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void &lt;init&gt;()' not found\n    at io.micronaut.context.env.yaml.CustomSafeConstructor.&lt;init&gt;(CustomSafeConstructor.java:36) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.yaml.YamlPropertySourceLoader.processInput(YamlPropertySourceLoader.java:56) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.read(AbstractPropertySourceLoader.java:117) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.loadProperties(AbstractPropertySourceLoader.java:102) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:68) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:55) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.DefaultEnvironment.loadPropertySourceFromLoader(DefaultEnvironment.java:607) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:541) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:527) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.DefaultApplicationContext$RuntimeConfiguredEnvironment.readPropertySourceList(DefaultApplicationContext.java:794) ~[micronaut-inject-3.7.1.jar:3.7.1]\n</code></pre>\n<p>After this error, I did minor refactoring like below</p>\n<pre><code>implementation group: 'org.yaml', name: 'snakeyaml', version: '2.0'\n\nconfigurations.all {\n    exclude group: 'org.yaml'\n    resolutionStrategy {\n        force  &quot;org.yaml&quot;\n    }\n}\n</code></pre>\n<p>I still get the same error? Any suggestion?</p>\n"},{"tags":["java","java-11","client-certificates","java-17","payara"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1698708694,"post_id":77392351,"comment_id":136437107,"body_markdown":"See https://stackoverflow.com/questions/34486300/javax-servlet-request-x509certificate-request-attribute-does-not-return-ca-cer and https://stackoverflow.com/questions/24351472/getattributejavax-servlet-request-x509certificate-not-set-spring-cxf-jetty","body":"See <a href=\"https://stackoverflow.com/questions/34486300/javax-servlet-request-x509certificate-request-attribute-does-not-return-ca-cer\" title=\"javax servlet request x509certificate request attribute does not return ca cer\">stackoverflow.com/questions/34486300/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/24351472/getattributejavax-servlet-request-x509certificate-not-set-spring-cxf-jetty\" title=\"getattributejavax servlet request x509certificate not set spring cxf jetty\">stackoverflow.com/questions/24351472/&hellip;</a>"},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698708969,"post_id":77392351,"comment_id":136437132,"body_markdown":"@tgdavies it&#39;s not useful as I have tried that and as I mentioned I had same certificate, same code  and same server. I have just changed the JDK and it has stopped working.","body":"@tgdavies it&#39;s not useful as I have tried that and as I mentioned I had same certificate, same code  and same server. I have just changed the JDK and it has stopped working."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698709018,"post_id":77392351,"comment_id":136437138,"body_markdown":"Same server truststore?","body":"Same server truststore?"},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698709061,"post_id":77392351,"comment_id":136437144,"body_markdown":"Yes @user207421","body":"Yes @user207421"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698709202,"post_id":77392351,"comment_id":136437156,"body_markdown":"OK so you need to set [`javax.net.debug=ssl,handshake`](https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug) at either end, or both, and show us the part of the log where the server requested a certificate and the client sent one.","body":"OK so you need to set <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\"><code>javax.net.debug=ssl,handshake</code></a> at either end, or both, and show us the part of the log where the server requested a certificate and the client sent one."},{"owner":{"account_id":384206,"reputation":50376,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1698711146,"post_id":77392351,"comment_id":136437352,"body_markdown":"@WasifKirmani don&#39;t add details in comments, [edit] your post to work those details [into your question](/help/how-to-ask) as information that you&#39;ve gathered while debugging/(re)searching the problem.","body":"@WasifKirmani don&#39;t add details in comments, <a href=\"https://stackoverflow.com/posts/77392351/edit\">edit</a> your post to work those details <a href=\"/help/how-to-ask\">into your question</a> as information that you&#39;ve gathered while debugging/(re)searching the problem."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698711152,"post_id":77392351,"comment_id":136437353,"body_markdown":"Come off it. That&#39;s not what I asked for. I asked for &#39;the part of the log where the server requested a certificate and the client sent one&#39;. There should be a `CertificateRequest` message from the server, and a `Certificate` message from the client. And don&#39;t post it as comments. You can see for yourself that it&#39;s totally illegible. Edit it into your question.","body":"Come off it. That&#39;s not what I asked for. I asked for &#39;the part of the log where the server requested a certificate and the client sent one&#39;. There should be a <code>CertificateRequest</code> message from the server, and a <code>Certificate</code> message from the client. And don&#39;t post it as comments. You can see for yourself that it&#39;s totally illegible. Edit it into your question."},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698785882,"post_id":77392351,"comment_id":136449249,"body_markdown":"Question updated","body":"Question updated"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698795330,"post_id":77392351,"comment_id":136450227,"body_markdown":"Unless you have forgotten to include it again, that log shows that the client didn&#39;t send a certificate. That means that either it doesn&#39;t have one at all, or it doesn&#39;t have one that matches what the server specified in the `CertificateRequest`: which in turn would support the contention that the server&#39;s truststore wasn&#39;t updated.","body":"Unless you have forgotten to include it again, that log shows that the client didn&#39;t send a certificate. That means that either it doesn&#39;t have one at all, or it doesn&#39;t have one that matches what the server specified in the <code>CertificateRequest</code>: which in turn would support the contention that the server&#39;s truststore wasn&#39;t updated."},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698795437,"post_id":77392351,"comment_id":136450240,"body_markdown":"But, if this is the case then how it&#39;s working with jdk 11. As it works fine when I start the server with JDK 11 and fails when I start the same server with JDK 17.","body":"But, if this is the case then how it&#39;s working with jdk 11. As it works fine when I start the server with JDK 11 and fails when I start the same server with JDK 17."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698824285,"post_id":77392351,"comment_id":136452757,"body_markdown":"Because JDK 11 has a different default truststore. It would be instructive to compare the `Certificate Request` messages sent by both configurations.","body":"Because JDK 11 has a different default truststore. It would be instructive to compare the <code>Certificate Request</code> messages sent by both configurations."}],"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1698965897,"creation_date":1698707619,"question_id":77392351,"body_markdown":"I have been trying to read a client certificate in a simple WebFilter. The code was working till JDK 11. But, when I tried to upgrade server to JDK 17 it has stopped reading the client request.  \r\n\r\nI am trying to read the client certificate provided in a request using following statement:\r\n\r\n    X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;);\r\n\r\nAs well as this (Working with JDK 11)\r\n\t\r\n    X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\r\n\r\nCurl request:\r\n\r\n    curl --cacert server-cert.pem --cert client-cert.pem --key client-key.pem https://localhost:8181/st/echo --insecure\r\n\r\n\r\nIt&#39;s retuning null with JDK 17: `request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;) `\r\nand here as well:\r\n`request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;) `\r\n\r\n\r\nI am using Server: \r\n\r\n - Payara 5 with \r\n - JDK 11 (Working)  \r\n - JDK 17 (Not Working)\r\n\r\n\r\nLogs for SSL, Handshake debugging:\r\n\r\n````\r\n[2023-10-31T07:20:51.257+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\r\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251257] [levelValue: 1000] [[  \r\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\r\n07:20:51.255 CET|CertificateRequest.java:635|Produced\r\nCertificateRequest handshake message ( &quot;CertificateRequest&quot;: {  \r\n&quot;certificate types&quot;: [ecdsa_sign, rsa_sign, dss_sign]   &quot;supported\r\nsignature algorithms&quot;: [ecdsa_secp256r1_sha256,\r\necdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448,\r\nrsa_pss_rsae_sha256, ] } )\r\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\r\n07:20:51.256 CET|ServerHelloDone.java:97|Produced ServerHelloDone\r\nhandshake message ( &lt;empty&gt; ) ]]\r\n.........\r\n\r\n[2023-10-31T07:20:51.268+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\r\n_ThreadID=96 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1698733251268] [levelValue: 1000] [[  \r\njavax.net.ssl|DEBUG|06|http-thread-pool::http-listener-2(3)|2023-10-31\r\n07:20:51.268 CET|Finished.java:459|Produced server Finished handshake\r\nmessage ( &quot;Finished&quot;: {   &quot;verify data&quot;: {\r\n    0000: F9 74 05 86 F7 A5 08 9E   75 49 F0 09    }&#39;} ) ]]\r\n\r\n[2023-10-31T07:20:51.274+0100] [Payara 5.2022.4] [INFO] [] [] [tid:\r\n_ThreadID=98 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1698733251274] [levelValue: 800] [[   No client\r\ncertificate found in the request.]]\r\n \r\n[2023-10-31T07:20:51.277+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\r\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251277] [levelValue: 1000] [[  \r\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\r\n07:20:51.277 CET|Alert.java:238|Received alert message ( &quot;Alert&quot;: {  \r\n&quot;level&quot;      : &quot;warning&quot;,   &quot;description&quot;: &quot;close_notify&quot; } )\r\n````\r\n","title":"Problem reading client certificate in JDK 17","body":"<p>I have been trying to read a client certificate in a simple WebFilter. The code was working till JDK 11. But, when I tried to upgrade server to JDK 17 it has stopped reading the client request.</p>\n<p>I am trying to read the client certificate provided in a request using following statement:</p>\n<pre><code>X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;);\n</code></pre>\n<p>As well as this (Working with JDK 11)</p>\n<pre><code>X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\n</code></pre>\n<p>Curl request:</p>\n<pre><code>curl --cacert server-cert.pem --cert client-cert.pem --key client-key.pem https://localhost:8181/st/echo --insecure\n</code></pre>\n<p>It's retuning null with JDK 17: <code>request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;) </code>\nand here as well:\n<code>request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;) </code></p>\n<p>I am using Server:</p>\n<ul>\n<li>Payara 5 with</li>\n<li>JDK 11 (Working)</li>\n<li>JDK 17 (Not Working)</li>\n</ul>\n<p>Logs for SSL, Handshake debugging:</p>\n<pre><code>[2023-10-31T07:20:51.257+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251257] [levelValue: 1000] [[  \njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\n07:20:51.255 CET|CertificateRequest.java:635|Produced\nCertificateRequest handshake message ( &quot;CertificateRequest&quot;: {  \n&quot;certificate types&quot;: [ecdsa_sign, rsa_sign, dss_sign]   &quot;supported\nsignature algorithms&quot;: [ecdsa_secp256r1_sha256,\necdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448,\nrsa_pss_rsae_sha256, ] } )\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\n07:20:51.256 CET|ServerHelloDone.java:97|Produced ServerHelloDone\nhandshake message ( &lt;empty&gt; ) ]]\n.........\n\n[2023-10-31T07:20:51.268+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\n_ThreadID=96 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1698733251268] [levelValue: 1000] [[  \njavax.net.ssl|DEBUG|06|http-thread-pool::http-listener-2(3)|2023-10-31\n07:20:51.268 CET|Finished.java:459|Produced server Finished handshake\nmessage ( &quot;Finished&quot;: {   &quot;verify data&quot;: {\n    0000: F9 74 05 86 F7 A5 08 9E   75 49 F0 09    }'} ) ]]\n\n[2023-10-31T07:20:51.274+0100] [Payara 5.2022.4] [INFO] [] [] [tid:\n_ThreadID=98 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1698733251274] [levelValue: 800] [[   No client\ncertificate found in the request.]]\n \n[2023-10-31T07:20:51.277+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251277] [levelValue: 1000] [[  \njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\n07:20:51.277 CET|Alert.java:238|Received alert message ( &quot;Alert&quot;: {  \n&quot;level&quot;      : &quot;warning&quot;,   &quot;description&quot;: &quot;close_notify&quot; } )\n</code></pre>\n"},{"tags":["java","android","kotlin","compiler-warnings","deoptimization"],"answers":[{"tags":[],"owner":{"account_id":23295761,"reputation":7,"user_id":17377194,"display_name":"Osam Alek"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679643972,"creation_date":1679643942,"answer_id":75831084,"question_id":75808805,"body_markdown":"It looks like you’re getting warnings when building your Kotlin Android app. These warnings are not errors and they won’t make your app crash. However, it’s still a good idea to address them as they might indicate potential issues with your code.\r\n\r\nOne way to address these warnings is to make the Kotlin compiler treat warnings as errors. You can do this by adding the following code inside the allprojects block of your project-level build.gradle file:\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\r\n    kotlinOptions.allWarningsAsErrors = true\r\n}","title":"what is a deoptimization request on un-deoptimizable method in Android Studio?","body":"<p>It looks like you’re getting warnings when building your Kotlin Android app. These warnings are not errors and they won’t make your app crash. However, it’s still a good idea to address them as they might indicate potential issues with your code.</p>\n<p>One way to address these warnings is to make the Kotlin compiler treat warnings as errors. You can do this by adding the following code inside the allprojects block of your project-level build.gradle file:</p>\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\nkotlinOptions.allWarningsAsErrors = true\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15672177,"reputation":190,"user_id":12028160,"display_name":"Alan Mejia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698965499,"creation_date":1698965499,"answer_id":77413306,"question_id":75808805,"body_markdown":"I had a similar issue, the logcat used to print a bunch of warnings with the message: \r\n\r\n&gt; Got a deoptimization request on un-deoptimizable method boolean\r\n&gt; libcore.io.Linux.access\r\n\r\nThat happened when I was trying to debug a few function calls using the debugger, and every time I launched the debugger the app was very slow and the logcat had a bunch of warnings saying the same, so I removed all the breakpoints, and it worked fine, I had like 7 breakpoints in different files and android studio was showing warnings that weren&#39;t part of the code and the emulator was unresponsive\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/7daZJ.png","title":"what is a deoptimization request on un-deoptimizable method in Android Studio?","body":"<p>I had a similar issue, the logcat used to print a bunch of warnings with the message:</p>\n<blockquote>\n<p>Got a deoptimization request on un-deoptimizable method boolean\nlibcore.io.Linux.access</p>\n</blockquote>\n<p>That happened when I was trying to debug a few function calls using the debugger, and every time I launched the debugger the app was very slow and the logcat had a bunch of warnings saying the same, so I removed all the breakpoints, and it worked fine, I had like 7 breakpoints in different files and android studio was showing warnings that weren't part of the code and the emulator was unresponsive</p>\n<p><a href=\"https://i.stack.imgur.com/7daZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7daZJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27130748,"reputation":75,"user_id":21127052,"display_name":"Harmony Valley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1459,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1698965499,"creation_date":1679464267,"question_id":75808805,"body_markdown":"I&#39;m running my app in Kotlin and there is no error, but I keep getting these warnings:\r\n\r\n\r\n&gt; W/app: Got a deoptimization request on un-deoptimizable method boolean\r\n&gt; libcore.io.Linux.access(java.lang.String, int) W/app: Got a\r\n&gt; deoptimization request on un-deoptimizable method java.lang.Class\r\n&gt; java.lang.Class.classForName(java.lang.String, boolean,\r\n&gt; java.lang.ClassLoader) W/app: Got a deoptimization request on\r\n&gt; un-deoptimizable method boolean\r\n&gt; libcore.io.Linux.access(java.lang.String, int)\r\n\r\nI wonder if this is something that will make my app crash in the future and if there is anything I could do to avoid it.","title":"what is a deoptimization request on un-deoptimizable method in Android Studio?","body":"<p>I'm running my app in Kotlin and there is no error, but I keep getting these warnings:</p>\n<blockquote>\n<p>W/app: Got a deoptimization request on un-deoptimizable method boolean\nlibcore.io.Linux.access(java.lang.String, int) W/app: Got a\ndeoptimization request on un-deoptimizable method java.lang.Class\njava.lang.Class.classForName(java.lang.String, boolean,\njava.lang.ClassLoader) W/app: Got a deoptimization request on\nun-deoptimizable method boolean\nlibcore.io.Linux.access(java.lang.String, int)</p>\n</blockquote>\n<p>I wonder if this is something that will make my app crash in the future and if there is anything I could do to avoid it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1698957921,"post_id":77412771,"comment_id":136474015,"body_markdown":"It *is* detected; the compiler issues a *warning* of an unsafe cast, not an error.","body":"It <i>is</i> detected; the compiler issues a <i>warning</i> of an unsafe cast, not an error."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1698957975,"post_id":77412771,"comment_id":136474028,"body_markdown":"Although it looks trivial in this situation, the right-hand side of the cast operator could&#39;ve come from an `if` statement, or some other function call, or user input, or anything really, and it&#39;s impossible to statically check the safety of casts in general.","body":"Although it looks trivial in this situation, the right-hand side of the cast operator could&#39;ve come from an <code>if</code> statement, or some other function call, or user input, or anything really, and it&#39;s impossible to statically check the safety of casts in general."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1698959733,"post_id":77412771,"comment_id":136474276,"body_markdown":"@Reilas No you didn’t. That’s a runtime exception, not a compiler error.","body":"@Reilas No you didn’t. That’s a runtime exception, not a compiler error."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698965378,"post_id":77412771,"comment_id":136475008,"body_markdown":"@user207421, that&#39;s a nuance, at this point.","body":"@user207421, that&#39;s a nuance, at this point."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699213653,"post_id":77412771,"comment_id":136500321,"body_markdown":"@Reilas No it isn’t, it is a basic misunderstanding on your part. That distinction is what the question is about.","body":"@Reilas No it isn’t, it is a basic misunderstanding on your part. That distinction is what the question is about."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698965417,"creation_date":1698965417,"answer_id":77413299,"question_id":77412771,"body_markdown":"Writing `(String[]) new Object[10]` is not a compile error because the Java language specification defines it that way in [5.5.1. Reference Type Casting](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1):\r\n\r\n&gt; Given a compile-time reference type S (source) and a compile-time reference type T (target), a casting conversion exists from S to T if no compile-time errors occur due to the following rules.\r\n&gt; \r\n&gt; [...]\r\n&gt;\r\n&gt; If S is an array type SC[], that is, an array of components of type SC:\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; * If T is an array type TC[], that is, an array of components of type TC, then a compile-time error occurs unless one of the following is true:\r\n&gt;\r\n&gt;   * [...]\r\n&gt;   * TC and SC are reference types and type SC can undergo casting conversion to TC.\r\n\r\nIn this case, the cast from the type `Object[]` to `String[]` (as in `SC[]` to `TC[]`) is not a compile error because the cast from `Object` to `String` (as in `SC` to `TC`) is not a compile error. This rule allows code like this:\r\n\r\n    Object[] s = new String[10];\r\n    String[] test = (String[])s;\r\n\r\nThis will not result in a compile error due to the definition above AND will not result in a `ClassCastException` because the variable `s` is referencing a `String[]` array. However, the following code\r\n\r\n    Object[] s = new Integer[10];\r\n    String[] test = (String[])s;\r\n\r\ncan still be compiled (due to the rules above), but will result in a `ClassCastException` as expected.","title":"Why does the compiler not detect ClassCastException?","body":"<p>Writing <code>(String[]) new Object[10]</code> is not a compile error because the Java language specification defines it that way in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1\" rel=\"nofollow noreferrer\">5.5.1. Reference Type Casting</a>:</p>\n<blockquote>\n<p>Given a compile-time reference type S (source) and a compile-time reference type T (target), a casting conversion exists from S to T if no compile-time errors occur due to the following rules.</p>\n<p>[...]</p>\n<p>If S is an array type SC[], that is, an array of components of type SC:</p>\n<p>[...]</p>\n<ul>\n<li><p>If T is an array type TC[], that is, an array of components of type TC, then a compile-time error occurs unless one of the following is true:</p>\n<ul>\n<li>[...]</li>\n<li>TC and SC are reference types and type SC can undergo casting conversion to TC.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>In this case, the cast from the type <code>Object[]</code> to <code>String[]</code> (as in <code>SC[]</code> to <code>TC[]</code>) is not a compile error because the cast from <code>Object</code> to <code>String</code> (as in <code>SC</code> to <code>TC</code>) is not a compile error. This rule allows code like this:</p>\n<pre><code>Object[] s = new String[10];\nString[] test = (String[])s;\n</code></pre>\n<p>This will not result in a compile error due to the definition above AND will not result in a <code>ClassCastException</code> because the variable <code>s</code> is referencing a <code>String[]</code> array. However, the following code</p>\n<pre><code>Object[] s = new Integer[10];\nString[] test = (String[])s;\n</code></pre>\n<p>can still be compiled (due to the rules above), but will result in a <code>ClassCastException</code> as expected.</p>\n"}],"owner":{"account_id":23674217,"reputation":3,"user_id":17700638,"display_name":"K6J4"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698965417,"creation_date":1698957692,"question_id":77412771,"body_markdown":"I know that in runtime something like this could throw a ClassCastException because Object is not a subclass of String.\r\n\r\n    String[] test = (String[]) new Object[10];\r\n\t\r\nBut I want to know why something like this is not detected when compiling?","title":"Why does the compiler not detect ClassCastException?","body":"<p>I know that in runtime something like this could throw a ClassCastException because Object is not a subclass of String.</p>\n<pre><code>String[] test = (String[]) new Object[10];\n</code></pre>\n<p>But I want to know why something like this is not detected when compiling?</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1656925875,"post_id":72854254,"comment_id":128681384,"body_markdown":"Is there a particular reason to use streams for this? Just because you can use streams doesn&#39;t mean it is the right tool for the job everywhere.","body":"Is there a particular reason to use streams for this? Just because you can use streams doesn&#39;t mean it is the right tool for the job everywhere."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1656926854,"post_id":72854254,"comment_id":128681764,"body_markdown":"As @MarkRotteveel has already pointed out, streams are not the right tool for everything. The way you&#39;re trying to utilize stream is discouraged by the [*API documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects).","body":"As @MarkRotteveel has already pointed out, streams are not the right tool for everything. The way you&#39;re trying to utilize stream is discouraged by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><i>API documentation</i></a>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1656927036,"post_id":72854254,"comment_id":128681834,"body_markdown":"And even your imperative code looks a bit fishy. Do you really want this line to be executed multiple times `heritableFlag = it.heritable;` ? Would it be the correct behavior when the flag changes multiple times?","body":"And even your imperative code looks a bit fishy. Do you really want this line to be executed multiple times <code>heritableFlag = it.heritable;</code> ? Would it be the correct behavior when the flag changes multiple times?"},{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":1,"creation_date":1656927060,"post_id":72854254,"comment_id":128681844,"body_markdown":"ok, maybe I have tried hard enough to go down that path, not being the recommended one. thanks for your feedback :-)","body":"ok, maybe I have tried hard enough to go down that path, not being the recommended one. thanks for your feedback :-)"},{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":0,"creation_date":1656927295,"post_id":72854254,"comment_id":128681927,"body_markdown":"yes, once it enters and it&#39;s false I don&#39;t want it to enter again. It could be done in a better way. Even so, the remaining iterations do nothing, it would be inefficient to keep going through the loop. Thank you very much :) @AlexanderIvanchenko","body":"yes, once it enters and it&#39;s false I don&#39;t want it to enter again. It could be done in a better way. Even so, the remaining iterations do nothing, it would be inefficient to keep going through the loop. Thank you very much :) @AlexanderIvanchenko"}],"answers":[{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657092030,"creation_date":1657005638,"answer_id":72865425,"question_id":72854254,"body_markdown":"&quot;The results of the flow pipeline can be non-deterministic or incorrect if the behavior parameters of the flow operations are stateful.&quot;\r\n\r\n&quot;Most stream operations accept parameters that describe user-specified behavior, which are often lambda expressions. To preserve correct behavior, these behavior parameters should not interfere, and in most cases should be stateless. Such parameters are always instances of a functional interface such as Function, and are often lambda expressions or method references&quot;.\r\n\r\nI leave this in case someone needs it!\r\n\r\n\r\nan approximation to stop when a certain condition is met, it offers us is **takeWhile**\r\n\r\n```\r\n List&lt;String&gt; partsList = Arrays.asList(parts);\r\n        partsList = partsList.stream().filter((a-&gt;a.startsWith(&quot;OU&quot;))).map(s-&gt;s.substring(3)).collect(Collectors.toList());\r\n        List&lt;String&gt; finalPartsList1 = partsList;\r\n        listOUallowedByUser = allowedOU.stream().takeWhile(allowed -&gt; allowed.heritable).filter(f-&gt; finalPartsList1.contains(f.OU)).map(a-&gt; a.OU).collect(Collectors.toList());;\r\n```\r\n        \r\n\r\nthanks for mark-rotteveel and alexander-ivanchenko :-)","title":"Iterate with streams (with a flag in for) [keep state within lambda]","body":"<p>&quot;The results of the flow pipeline can be non-deterministic or incorrect if the behavior parameters of the flow operations are stateful.&quot;</p>\n<p>&quot;Most stream operations accept parameters that describe user-specified behavior, which are often lambda expressions. To preserve correct behavior, these behavior parameters should not interfere, and in most cases should be stateless. Such parameters are always instances of a functional interface such as Function, and are often lambda expressions or method references&quot;.</p>\n<p>I leave this in case someone needs it!</p>\n<p>an approximation to stop when a certain condition is met, it offers us is <strong>takeWhile</strong></p>\n<pre><code> List&lt;String&gt; partsList = Arrays.asList(parts);\n        partsList = partsList.stream().filter((a-&gt;a.startsWith(&quot;OU&quot;))).map(s-&gt;s.substring(3)).collect(Collectors.toList());\n        List&lt;String&gt; finalPartsList1 = partsList;\n        listOUallowedByUser = allowedOU.stream().takeWhile(allowed -&gt; allowed.heritable).filter(f-&gt; finalPartsList1.contains(f.OU)).map(a-&gt; a.OU).collect(Collectors.toList());;\n</code></pre>\n<p>thanks for mark-rotteveel and alexander-ivanchenko :-)</p>\n"},{"tags":[],"owner":{"account_id":29792729,"reputation":1,"user_id":22832538,"display_name":"user22832538"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698964938,"creation_date":1698739113,"answer_id":77394139,"question_id":72854254,"body_markdown":"I am using stateful Map iterator like the below supporting two states, easily extendable to support more state, just change to Iterable if you need for List instead of Map.  State is a simple class with one instance variable. (I am sure there is a lib out there containing sth similar...)\r\n\r\n    public class StatefulMapIterator &lt;K,V,T extends Map&lt;K,V&gt;, S1, S2&gt; {\r\n\tprivate State&lt;S1&gt; state1;\r\n\tprivate State&lt;S2&gt; state2;\r\n\t\r\n\tpublic interface Processor1&lt;K,V,S1&gt; {\r\n\t\tvoid onIteration(K key, V value, State&lt;S1&gt; state1);\r\n\t}\r\n\tpublic interface Processor2&lt;K,V,S1,S2&gt; {\r\n\t\tvoid onIteration(K key, V value, State&lt;S1&gt; state1, State&lt;S2&gt; state2);\r\n\t}\t\r\n\tpublic StatefulMapIterator(S1 state) {\r\n\t\tthis.state1 = new State&lt;S1&gt;(state);\r\n\t}\t\r\n\tpublic StatefulMapIterator(S1 state1, S2 state2) {\r\n\t\tthis.state1 = new State&lt;S1&gt;(state1);\r\n\t\tthis.state2 = new State&lt;S2&gt;(state2);\r\n\t}\r\n\t\t\r\n\tpublic void foreach(T t, Processor1&lt;K,V,S1&gt; processor) {\r\n\t\tt.forEach((k,v) -&gt; {\r\n\t\t\tprocessor.onIteration(k,v, state1);\r\n\t\t});\r\n\t}\r\n\tpublic void foreach(T t, Processor2&lt;K,V,S1,S2&gt; processor) {\r\n\t\tt.forEach((k,v) -&gt; {\r\n\t\t\tprocessor.onIteration(k,v, state1, state2);\r\n\t\t});\r\n\t}\r\n    }\r\n","title":"Iterate with streams (with a flag in for) [keep state within lambda]","body":"<p>I am using stateful Map iterator like the below supporting two states, easily extendable to support more state, just change to Iterable if you need for List instead of Map.  State is a simple class with one instance variable. (I am sure there is a lib out there containing sth similar...)</p>\n<pre><code>public class StatefulMapIterator &lt;K,V,T extends Map&lt;K,V&gt;, S1, S2&gt; {\nprivate State&lt;S1&gt; state1;\nprivate State&lt;S2&gt; state2;\n\npublic interface Processor1&lt;K,V,S1&gt; {\n    void onIteration(K key, V value, State&lt;S1&gt; state1);\n}\npublic interface Processor2&lt;K,V,S1,S2&gt; {\n    void onIteration(K key, V value, State&lt;S1&gt; state1, State&lt;S2&gt; state2);\n}   \npublic StatefulMapIterator(S1 state) {\n    this.state1 = new State&lt;S1&gt;(state);\n}   \npublic StatefulMapIterator(S1 state1, S2 state2) {\n    this.state1 = new State&lt;S1&gt;(state1);\n    this.state2 = new State&lt;S2&gt;(state2);\n}\n    \npublic void foreach(T t, Processor1&lt;K,V,S1&gt; processor) {\n    t.forEach((k,v) -&gt; {\n        processor.onIteration(k,v, state1);\n    });\n}\npublic void foreach(T t, Processor2&lt;K,V,S1,S2&gt; processor) {\n    t.forEach((k,v) -&gt; {\n        processor.onIteration(k,v, state1, state2);\n    });\n}\n}\n</code></pre>\n"}],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698965160,"creation_date":1656925603,"question_id":72854254,"body_markdown":"I have two lists, allowedOU and parts. I need to know how to iterate through streams, check the condition and if it is true, include the element in a third list, and change the flag (heritable).\r\n\r\n\r\n```java\r\nfor (String part : parts) {\r\n    for (BeanOU it : allowedOU) {\r\n        if (part.startsWith(&quot;OU&quot;) &amp;&amp; it.OU.equals(part.substring(3) &amp;&amp; heritableFlag) {\r\n            list.add(part.substring(3, part.length()));\r\n            heritableFlag = it.heritable;\r\n            break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried something like this\r\n\r\n```\r\nparts.stream()\r\n        .filter(parte -&gt; allowedOU.stream()\r\n                .anyMatch(allowed -&gt; (parte.startsWith(&quot;OU&quot;)) \r\n                        &amp;&amp; allowed.OU.equals(parte.substring(3, parte.length())) \r\n                 &amp;&amp; finalHeritableFlag))\r\n        .forEach(here we don&#39;t have it variable...)\r\n```\r\n\r\n\r\n        ","title":"Iterate with streams (with a flag in for) [keep state within lambda]","body":"<p>I have two lists, allowedOU and parts. I need to know how to iterate through streams, check the condition and if it is true, include the element in a third list, and change the flag (heritable).</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String part : parts) {\n    for (BeanOU it : allowedOU) {\n        if (part.startsWith(&quot;OU&quot;) &amp;&amp; it.OU.equals(part.substring(3) &amp;&amp; heritableFlag) {\n            list.add(part.substring(3, part.length()));\n            heritableFlag = it.heritable;\n            break;\n        }\n    }\n}\n</code></pre>\n<p>I tried something like this</p>\n<pre><code>parts.stream()\n        .filter(parte -&gt; allowedOU.stream()\n                .anyMatch(allowed -&gt; (parte.startsWith(&quot;OU&quot;)) \n                        &amp;&amp; allowed.OU.equals(parte.substring(3, parte.length())) \n                 &amp;&amp; finalHeritableFlag))\n        .forEach(here we don't have it variable...)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase","testcontainers"],"owner":{"account_id":16223432,"reputation":3,"user_id":11714437,"display_name":"leugimlenipse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698963229,"creation_date":1698963229,"question_id":77413168,"body_markdown":"I&#39;m working on adding integration tests to an existing Spring Boot project, and for that we have a test db on a docker container (initialized before running the tests). \r\n\r\nSince the development db may change from time to time (new tables, views, etc...) the test db should have the same structure for obvious reasons. I&#39;m recreating the test db using a Liquibase changelog generated with the generateChangeLog command (manually).\r\n\r\nSo, what i&#39;m thinking of is to generate a diff changelog between the development db and the test db and apply the necessary changes to the test db before running the tests, but i haven&#39;t found any information from liquibase regarding these kinds of procedures. Are the diff changelogs always created manually?\r\n\r\nWhat would be the best way to do this? I&#39;m thinking on creating a method to run the diff-changelog command and update the test db right before running the tests, and therefore &quot;automating&quot; the procedure.","title":"Liquibase - Generate diff changelog between real and test database in spring boot","body":"<p>I'm working on adding integration tests to an existing Spring Boot project, and for that we have a test db on a docker container (initialized before running the tests).</p>\n<p>Since the development db may change from time to time (new tables, views, etc...) the test db should have the same structure for obvious reasons. I'm recreating the test db using a Liquibase changelog generated with the generateChangeLog command (manually).</p>\n<p>So, what i'm thinking of is to generate a diff changelog between the development db and the test db and apply the necessary changes to the test db before running the tests, but i haven't found any information from liquibase regarding these kinds of procedures. Are the diff changelogs always created manually?</p>\n<p>What would be the best way to do this? I'm thinking on creating a method to run the diff-changelog command and update the test db right before running the tests, and therefore &quot;automating&quot; the procedure.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484777094,"creation_date":1484777094,"answer_id":41730283,"question_id":41730191,"body_markdown":"Relative paths work relative to the current working directory.  Maven does not set it, so it is inherited from whatever value it had in the Java process your code is executing in.\r\n\r\nThe only reliable way is to figure it out in your own code.    Depending on how you do things, there are several ways to do so.  See https://stackoverflow.com/q/4032957/53897 for suggestions.  You are most likely looking at `this.getClass().getProtectionDomain().getCodeSource().getLocation()` and then you know where the class file is and can navigate relative to that.","title":"Using relative path in a maven project","body":"<p>Relative paths work relative to the current working directory.  Maven does not set it, so it is inherited from whatever value it had in the Java process your code is executing in.</p>\n\n<p>The only reliable way is to figure it out in your own code.    Depending on how you do things, there are several ways to do so.  See <a href=\"https://stackoverflow.com/q/4032957/53897\">How to get the real path of Java application at runtime?</a> for suggestions.  You are most likely looking at <code>this.getClass().getProtectionDomain().getCodeSource().getLocation()</code> and then you know where the class file is and can navigate relative to that.</p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484778051,"creation_date":1484777211,"answer_id":41730304,"question_id":41730191,"body_markdown":"&gt; Why does it report &quot;No such file or dirctory&quot;? The relative path should work. Right?\r\n\r\nwrong.\r\n\r\nYour classes are compiled to `$PROJECT_ROOT/target/classes`\r\nand your resources are copied to the same folder keeping their relative paths *below* `src/main/resources`.\r\n\r\n&lt;strike&gt; \r\nThe file will be located relative to the *classpath* of which the root is `$PROJECT_ROOT/target/classes`. Therefore you have to write in your Pdf.java:\r\n\r\n    File file = new File(&quot;/files/x.pdf&quot;);\r\n&lt;/strike&gt; \r\n\r\nYour relative path will be evaluated from the projects *current working directory* which is `$PROJECT_ROOT` (AFAIR).\r\n\r\nBut it does not matter because you want that to work in your final application and not only in your build environment. Therefore you should access the file with `getClass().getResource(&quot;/path/to/file/within/classpath&quot;)` which searches the file in the *class path*   of which the root is `$PROJECT_ROOT/target/classes`.","title":"Using relative path in a maven project","body":"<blockquote>\n  <p>Why does it report \"No such file or dirctory\"? The relative path should work. Right?</p>\n</blockquote>\n\n<p>wrong.</p>\n\n<p>Your classes are compiled to <code>$PROJECT_ROOT/target/classes</code>\nand your resources are copied to the same folder keeping their relative paths <em>below</em> <code>src/main/resources</code>.</p>\n\n<p><strike> \nThe file will be located relative to the <em>classpath</em> of which the root is <code>$PROJECT_ROOT/target/classes</code>. Therefore you have to write in your Pdf.java:</p>\n\n<pre><code>File file = new File(\"/files/x.pdf\");\n</code></pre>\n\n<p></strike> </p>\n\n<p>Your relative path will be evaluated from the projects <em>current working directory</em> which is <code>$PROJECT_ROOT</code> (AFAIR).</p>\n\n<p>But it does not matter because you want that to work in your final application and not only in your build environment. Therefore you should access the file with <code>getClass().getResource(\"/path/to/file/within/classpath\")</code> which searches the file in the <em>class path</em>   of which the root is <code>$PROJECT_ROOT/target/classes</code>.</p>\n"},{"tags":[],"owner":{"account_id":263358,"reputation":253,"user_id":3358586,"display_name":"Nord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484780316,"creation_date":1484779767,"answer_id":41730870,"question_id":41730191,"body_markdown":"No the way you are referencing the files is according to your file system. Java knows about the classpath not the file system if you want to reference something like that you have to use the fully qualified name of the file. \r\nAlso I do not know if File constructor works with the classpath since it&#39;s an abstraction to manage the file system it will depend where the application is run from. Say it is run from the target directory at the same level as source in that case you have to go one directory up and then on src then test the resources the files and finally in x.pdf. \r\n\r\nSince you are using a resources folder I think you want the file to be on the classpath and then you can load a resource with:\r\n\r\n    InputStream in = this.getClass().getClassLoader()\r\n                                .getResourceAsStream(&quot;&lt;path in classpath&gt;&quot;);\r\n\r\nThen you can create a FileInputStream or something to wrap around the file. Otherwise use the fully qualiefied name and put it somewere like /home/{user}/files/x.pdf.\r\n","title":"Using relative path in a maven project","body":"<p>No the way you are referencing the files is according to your file system. Java knows about the classpath not the file system if you want to reference something like that you have to use the fully qualified name of the file. \nAlso I do not know if File constructor works with the classpath since it's an abstraction to manage the file system it will depend where the application is run from. Say it is run from the target directory at the same level as source in that case you have to go one directory up and then on src then test the resources the files and finally in x.pdf. </p>\n\n<p>Since you are using a resources folder I think you want the file to be on the classpath and then you can load a resource with:</p>\n\n<pre><code>InputStream in = this.getClass().getClassLoader()\n                            .getResourceAsStream(\"&lt;path in classpath&gt;\");\n</code></pre>\n\n<p>Then you can create a FileInputStream or something to wrap around the file. Otherwise use the fully qualiefied name and put it somewere like /home/{user}/files/x.pdf.</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698962710,"creation_date":1484776614,"question_id":41730191,"body_markdown":"I have a maven project with these standard directory structures:\r\n\r\nsrc/main/java\r\n\r\nsrc/main/java/pdf/Pdf.java\r\n\r\nsrc/test/resources\r\n\r\nsrc/test/resources/files/x.pdf\r\n\r\nIn my Pdf.java, \r\n\t\r\n    File file = new File(&quot;../../../test/resources/files/x.pdf&quot;);\r\n\r\nWhy does it report &quot;No such file or dirctory&quot;? The relative path should work. Right?","title":"Using relative path in a maven project","body":"<p>I have a maven project with these standard directory structures:</p>\n\n<p>src/main/java</p>\n\n<p>src/main/java/pdf/Pdf.java</p>\n\n<p>src/test/resources</p>\n\n<p>src/test/resources/files/x.pdf</p>\n\n<p>In my Pdf.java, </p>\n\n<pre><code>File file = new File(\"../../../test/resources/files/x.pdf\");\n</code></pre>\n\n<p>Why does it report \"No such file or dirctory\"? The relative path should work. Right?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webtestclient"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696846877,"post_id":77258014,"comment_id":136200709,"body_markdown":"You are probably sending some Request Type when you are using a REST Client or from the Browser, however you need to be very meticulous when you are doing the rest on the TEST side, it needs to match what you are doing on the REST Client to receive the same errors.\n\nYou are missing something, and that is why you are hitting this org.springframework.web.server.MissingRequestValueException error first.  \n\nIts because it has not had a chance to reach the other possible errors you have in your advise controller.","body":"You are probably sending some Request Type when you are using a REST Client or from the Browser, however you need to be very meticulous when you are doing the rest on the TEST side, it needs to match what you are doing on the REST Client to receive the same errors.  You are missing something, and that is why you are hitting this org.springframework.web.server.MissingRequestValueException error first.    Its because it has not had a chance to reach the other possible errors you have in your advise controller."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696853026,"post_id":77258014,"comment_id":136201898,"body_markdown":"Actually, Flux is throwing that error: org.springframework.web.server.MissingRequestValueException","body":"Actually, Flux is throwing that error: org.springframework.web.server.MissingRequestValueException"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696853097,"post_id":77258014,"comment_id":136201908,"body_markdown":"Can you provide some codebase sample to reproduce and test some scenarios if possible?","body":"Can you provide some codebase sample to reproduce and test some scenarios if possible?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1696861624,"post_id":77258014,"comment_id":136203707,"body_markdown":"`@webFluxTest` might create a restricted application context, without the controller advice. Does the problem persist when replacing `@webFluxTest` with `@SpringBootTest` ? If it does, and you still want to use webfluxTest, then maybe you have to find a way to embed the controller advice in the test","body":"<code>@webFluxTest</code> might create a restricted application context, without the controller advice. Does the problem persist when replacing <code>@webFluxTest</code> with <code>@SpringBootTest</code> ? If it does, and you still want to use webfluxTest, then maybe you have to find a way to embed the controller advice in the test"}],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698962492,"creation_date":1696846613,"question_id":77258014,"body_markdown":"I have a controller which has a GET mapping with a couple of request params and a request header. Something like this \r\n\r\n    @GetMapping\r\n    public Mono&lt;Response&gt; getAll(@RequestParam(&quot;someId&quot;) String someId,\r\n                                 @RequestParam(&quot;someOtherId&quot;) String someOtherId,\r\n                                 @RequestHeader(SOME_TOKEN) String someToken) { }\r\n\r\nI have a controller advice where I am catching exceptions and sending customized messages and http codes back. \r\nI noticed that when I call from web(or via some rest client), if any of the request params or header is missing, following exceptions are thrown,\r\n\r\n    org.springframework.web.bind.MissingServletRequestParameterException\r\n    org.springframework.web.bind.MissingRequestHeaderException\r\n\r\nIn my unit tests I am using \r\n\r\n    @WebFluxTest(controllers = MyController.class)\r\n\r\nand \r\n\r\n    @Autowired\r\n    private WebTestClient webClient;\r\n\r\nWhen I try calling the endpoint without required param or header, I get the folowwing exception\r\n\r\n    org.springframework.web.server.MissingRequestValueException\r\n\r\nBecause of this my `@ExceptionHandlers` in Controller advices are not triggered.  \r\nIs this a mistake or am I missing something here. \r\n\r\nShouldn&#39;t spring throw the same exception irrespective of where the call is coming from? If that is not the case, we cannot really test controller advices.","title":"Spring Webflux throws different exception when called from Web and WebTestClient","body":"<p>I have a controller which has a GET mapping with a couple of request params and a request header. Something like this</p>\n<pre><code>@GetMapping\npublic Mono&lt;Response&gt; getAll(@RequestParam(&quot;someId&quot;) String someId,\n                             @RequestParam(&quot;someOtherId&quot;) String someOtherId,\n                             @RequestHeader(SOME_TOKEN) String someToken) { }\n</code></pre>\n<p>I have a controller advice where I am catching exceptions and sending customized messages and http codes back.\nI noticed that when I call from web(or via some rest client), if any of the request params or header is missing, following exceptions are thrown,</p>\n<pre><code>org.springframework.web.bind.MissingServletRequestParameterException\norg.springframework.web.bind.MissingRequestHeaderException\n</code></pre>\n<p>In my unit tests I am using</p>\n<pre><code>@WebFluxTest(controllers = MyController.class)\n</code></pre>\n<p>and</p>\n<pre><code>@Autowired\nprivate WebTestClient webClient;\n</code></pre>\n<p>When I try calling the endpoint without required param or header, I get the folowwing exception</p>\n<pre><code>org.springframework.web.server.MissingRequestValueException\n</code></pre>\n<p>Because of this my <code>@ExceptionHandlers</code> in Controller advices are not triggered.<br />\nIs this a mistake or am I missing something here.</p>\n<p>Shouldn't spring throw the same exception irrespective of where the call is coming from? If that is not the case, we cannot really test controller advices.</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1698875298,"post_id":77405308,"comment_id":136461715,"body_markdown":"What version of Java and what version of Gson? Also, why are you registering `LocalDateTime.class` if `LocalDate.class` is what you want to serialize?","body":"What version of Java and what version of Gson? Also, why are you registering <code>LocalDateTime.class</code> if <code>LocalDate.class</code> is what you want to serialize?"}],"answers":[{"tags":[],"owner":{"account_id":23204293,"reputation":66,"user_id":17298718,"display_name":"Mario Metushev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698899183,"creation_date":1698875155,"answer_id":77405795,"question_id":77405308,"body_markdown":"Please see this post on stack overflow and related discussions there:\r\nhttps://stackoverflow.com/questions/73872389/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina/73872814#73872814\r\n\r\nIn your case, you would fix this problem by adding:\r\n\r\n    JAVA_TOOL_OPTIONS=--add-opens=java.base/java.time=ALL-UNNAMED","title":"Java LocalDate &amp; Gson serializer - InaccessibleObjectException","body":"<p>Please see this post on stack overflow and related discussions there:\n<a href=\"https://stackoverflow.com/questions/73872389/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina/73872814#73872814\">java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map sun.reflect.annotation.AnnotationInvocationHandler</a></p>\n<p>In your case, you would fix this problem by adding:</p>\n<pre><code>JAVA_TOOL_OPTIONS=--add-opens=java.base/java.time=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698961707,"creation_date":1698943994,"answer_id":77411498,"question_id":77405308,"body_markdown":"&gt; _&quot;... I&#39;m trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error: ...&quot;_\r\n\r\nUse _LocalDate_ instead of _LocalDateTime_, for the _registerTypeAdapter_ method.\r\n\r\n```java\r\nregisterTypeAdapter(LocalDate.class, new GsonLocalDateAdapter())\r\n```","title":"Java LocalDate &amp; Gson serializer - InaccessibleObjectException","body":"<blockquote>\n<p><em>&quot;... I'm trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error: ...&quot;</em></p>\n</blockquote>\n<p>Use <em>LocalDate</em> instead of <em>LocalDateTime</em>, for the <em>registerTypeAdapter</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>registerTypeAdapter(LocalDate.class, new GsonLocalDateAdapter())\n</code></pre>\n"}],"owner":{"account_id":21088679,"reputation":327,"user_id":15501126,"display_name":"Maxim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698961707,"creation_date":1698869065,"question_id":77405308,"body_markdown":"I&#39;m trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error:\r\n\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @197ac685\r\n\r\nI already searched for this and apparently I should register a custom adapter, which I did:\r\n\r\n    public class GsonLocalDateAdapter implements JsonSerializer&lt;LocalDate&gt;, JsonDeserializer&lt;LocalDate&gt; {\r\n\r\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n\r\n    @Override\r\n    public LocalDate deserialize(final JsonElement json, final Type typeOfT,\r\n                                 final JsonDeserializationContext context) throws JsonParseException {\r\n        return LocalDate.parse(json.getAsString(), formatter);\r\n    }\r\n\r\n    @Override\r\n    public JsonElement serialize(LocalDate src, Type typeOfSrc, JsonSerializationContext context) {\r\n        return new JsonPrimitive(src.format(formatter));\r\n    }\r\n    }\r\n\r\n    var gson = new GsonBuilder()\r\n                .registerTypeAdapter(LocalDateTime.class, new GsonLocalDateAdapter())\r\n                .create();\r\n        var json = gson.toJson(myObject);\r\n\r\nIt doesn&#39;t even hit the breakpoint in the serialize method.\r\nAm I missing something? ","title":"Java LocalDate &amp; Gson serializer - InaccessibleObjectException","body":"<p>I'm trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error:</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @197ac685\n</code></pre>\n<p>I already searched for this and apparently I should register a custom adapter, which I did:</p>\n<pre><code>public class GsonLocalDateAdapter implements JsonSerializer&lt;LocalDate&gt;, JsonDeserializer&lt;LocalDate&gt; {\n\nprivate final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n\n@Override\npublic LocalDate deserialize(final JsonElement json, final Type typeOfT,\n                             final JsonDeserializationContext context) throws JsonParseException {\n    return LocalDate.parse(json.getAsString(), formatter);\n}\n\n@Override\npublic JsonElement serialize(LocalDate src, Type typeOfSrc, JsonSerializationContext context) {\n    return new JsonPrimitive(src.format(formatter));\n}\n}\n\nvar gson = new GsonBuilder()\n            .registerTypeAdapter(LocalDateTime.class, new GsonLocalDateAdapter())\n            .create();\n    var json = gson.toJson(myObject);\n</code></pre>\n<p>It doesn't even hit the breakpoint in the serialize method.\nAm I missing something?</p>\n"},{"tags":["java","class","methods","javadoc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1698952062,"post_id":77412188,"comment_id":136473042,"body_markdown":"I personally wouldn&#39;t document the `main` method. Javadocs are for clients that will use the class. Is there even a point in documenting a class that looks like a self-contained exercise program?","body":"I personally wouldn&#39;t document the <code>main</code> method. Javadocs are for clients that will use the class. Is there even a point in documenting a class that looks like a self-contained exercise program?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698959918,"post_id":77412188,"comment_id":136474313,"body_markdown":"You should document `main()` like any other *method:* give the information that shows what it does and how to call it. Bearing in mind that the caller is a human with a command line, not another pice of code.","body":"You should document <code>main()</code> like any other <i>method:</i> give the information that shows what it does and how to call it. Bearing in mind that the caller is a human with a command line, not another pice of code."}],"answers":[{"tags":[],"owner":{"account_id":14735889,"reputation":74,"user_id":10641939,"display_name":"Nikos Issaris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698952283,"creation_date":1698952283,"answer_id":77412297,"question_id":77412188,"body_markdown":"I wouldn&#39;t add a java doc for the `main` method\r\n\r\nAlso aside from a small description you should add the parameters and return type for each method in this format\r\nhttps://www.jetbrains.com/help/idea/javadocs.html#add-new-comment","title":"How should the JavaDoc for Class and Main method differ?","body":"<p>I wouldn't add a java doc for the <code>main</code> method</p>\n<p>Also aside from a small description you should add the parameters and return type for each method in this format\n<a href=\"https://www.jetbrains.com/help/idea/javadocs.html#add-new-comment\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/javadocs.html#add-new-comment</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698961478,"creation_date":1698961478,"answer_id":77413063,"question_id":77412188,"body_markdown":"&gt; _&quot;... Is this correct, or is there a better way to differentiate Class and Main method Javadoc?_\r\n\r\nThere is no correct or incorrect way, just recommendations.\\\r\nTypically the _main method_ should contain a minimal amount of code.\r\n\r\nMy recommendation would be to place your current code within a separate method, and call it from _main_.\r\n\r\nDocumenting this _method_ might be easier to manage.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Example example = new Example();\r\n    example.abc();\r\n}\r\n\r\nvoid abc() {\r\n\r\n}\r\n```","title":"How should the JavaDoc for Class and Main method differ?","body":"<blockquote>\n<p><em>&quot;... Is this correct, or is there a better way to differentiate Class and Main method Javadoc?</em></p>\n</blockquote>\n<p>There is no correct or incorrect way, just recommendations.<br />\nTypically the <em>main method</em> should contain a minimal amount of code.</p>\n<p>My recommendation would be to place your current code within a separate method, and call it from <em>main</em>.</p>\n<p>Documenting this <em>method</em> might be easier to manage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Example example = new Example();\n    example.abc();\n}\n\nvoid abc() {\n\n}\n</code></pre>\n"}],"owner":{"account_id":13195392,"reputation":115,"user_id":9530434,"display_name":"Gabi23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698961478,"creation_date":1698951123,"question_id":77412188,"body_markdown":"Simple example:\r\n\r\nSuppose I have a class that contains a `minValue` method, a `maxValue` method, and an `averageValue` method which each take a double array, and also the Main method.\r\n\r\nSuppose also in the main method, I define a double array then print the its min, max and average values using the above methods.\r\n\r\nWhat should Javadoc for the Class and Main method be? \r\n\r\nI am quite new to Java and I always find the main method Javadoc just reiterates the class Javadoc and it seems pointless stating it.\r\n\r\nE.g.\r\n```\r\n/**This class can be used to find the min, max and average value of an array\r\n\r\nMain method: calculates the min, max and average value of an array*/\r\n```\r\nIs this correct, or is there a better way to differentiate Class and Main method Javadoc?\r\n","title":"How should the JavaDoc for Class and Main method differ?","body":"<p>Simple example:</p>\n<p>Suppose I have a class that contains a <code>minValue</code> method, a <code>maxValue</code> method, and an <code>averageValue</code> method which each take a double array, and also the Main method.</p>\n<p>Suppose also in the main method, I define a double array then print the its min, max and average values using the above methods.</p>\n<p>What should Javadoc for the Class and Main method be?</p>\n<p>I am quite new to Java and I always find the main method Javadoc just reiterates the class Javadoc and it seems pointless stating it.</p>\n<p>E.g.</p>\n<pre><code>/**This class can be used to find the min, max and average value of an array\n\nMain method: calculates the min, max and average value of an array*/\n</code></pre>\n<p>Is this correct, or is there a better way to differentiate Class and Main method Javadoc?</p>\n"},{"tags":["java","jpa","constraints","embeddable"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":2,"creation_date":1698927735,"post_id":77409477,"comment_id":136467902,"body_markdown":"Use `@Column(nullable=false)`. I don&#39;t know which `@NotNull` you are using (maybe Java Validation API?), but they are not part of JPA AFAIK.","body":"Use <code>@Column(nullable=false)</code>. I don&#39;t know which <code>@NotNull</code> you are using (maybe Java Validation API?), but they are not part of JPA AFAIK."},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698928095,"post_id":77409477,"comment_id":136467992,"body_markdown":"That is an interesting observation that I never considered. But the fact remains that `Contact.fullName` is marked as `NOT NULL` but `Meta.created` is not.","body":"That is an interesting observation that I never considered. But the fact remains that <code>Contact.fullName</code> is marked as <code>NOT NULL</code> but <code>Meta.created</code> is not."},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1698928385,"post_id":77409477,"comment_id":136468053,"body_markdown":"Ok, the question is where does the `@NotNull` annotation come from. I have found a Hibernate annotation `NotNull` https://www.baeldung.com/hibernate-notnull-vs-nullable which would explain the `NOT NULL` constraint in the DDL. So maybe a wrong import in the `Meta` class?","body":"Ok, the question is where does the <code>@NotNull</code> annotation come from. I have found a Hibernate annotation <code>NotNull</code> <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-notnull-vs-nullable</a> which would explain the <code>NOT NULL</code> constraint in the DDL. So maybe a wrong import in the <code>Meta</code> class?"},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698928924,"post_id":77409477,"comment_id":136468177,"body_markdown":"It&#39;s imported from `jakarta.validation.constraints.NotNull`. Now I find this curious. I tried searching for which validation annotations are being honored by JPA, but I haven&#39;t found anything yet.","body":"It&#39;s imported from <code>jakarta.validation.constraints.NotNull</code>. Now I find this curious. I tried searching for which validation annotations are being honored by JPA, but I haven&#39;t found anything yet."},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698929501,"post_id":77409477,"comment_id":136468297,"body_markdown":"Found it: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=8.0#validator-defineconstraints-spec","body":"Found it: <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=8.0#validator-defineconstraints-spec\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/validator/reference/en-US/&hellip;</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698934280,"post_id":77409477,"comment_id":136469377,"body_markdown":"JPA doesn&#39;t know or care about your NotNull constraints. What you are seeing on full_name is because hibernate is your JPA provider and your validator, and decided to apply the NotNull validation to the JPA column. IMO it should not have, as the default JPA states should be that the column is Nullable, but they can do what they want- and in this case, decided not to pass down that extra column information to the main table for embeddable. file a bug with them, but also note the JPA compliant way to get not null on the column is through the column annotation.","body":"JPA doesn&#39;t know or care about your NotNull constraints. What you are seeing on full_name is because hibernate is your JPA provider and your validator, and decided to apply the NotNull validation to the JPA column. IMO it should not have, as the default JPA states should be that the column is Nullable, but they can do what they want- and in this case, decided not to pass down that extra column information to the main table for embeddable. file a bug with them, but also note the JPA compliant way to get not null on the column is through the column annotation."},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698960591,"post_id":77409477,"comment_id":136474416,"body_markdown":"Chris - you would be right, but the documentation states that it does respect some validation annotations and it does work when applied to the `@Entity` class, so it is in fact probably a bug.","body":"Chris - you would be right, but the documentation states that it does respect some validation annotations and it does work when applied to the <code>@Entity</code> class, so it is in fact probably a bug."}],"answers":[{"tags":[],"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698960787,"creation_date":1698960487,"answer_id":77412989,"question_id":77409477,"body_markdown":"As it was rightly pointed out, I&#39;m using two systems in combination, Jakarta Persistence API (JPA) and Jakarta Validator, both backed in my case by Hibernate implementations. \r\n\r\n`@NotNull` is part of the Jakarta Validation API. According to the Jakarta Validator [documentation][1], it is taken into account by JPA to apply `NOT NULL` to it&#39;s respective table column. It seems that this doesn&#39;t work with `@Embedded` classes using validation annotations. However, the JPA-native `@Column(nullable = false)` does work.\r\n\r\nSo the `Meta` class generates the expected DDL like so:\r\n```java\r\n@Embeddable\r\npublic class Meta {\r\n\r\n    @NotNull\r\n    @Column(nullable = false)\r\n    private Instant created;\r\n\r\n    @NotNull\r\n    @Column(nullable = false)\r\n    private Instant lastModified;\r\n\r\n    @NotNull\r\n    @Size(min = 1, max = 63)\r\n    @Column(nullable = false)\r\n    private String digest;\r\n}\r\n```\r\n\r\nCredit goes to @kidney for suggesting the solution!\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/8.0/reference/en-US/html_single/#validator-defineconstraints-spec","title":"JPA embeddable class constraints not used in embedding class table","body":"<p>As it was rightly pointed out, I'm using two systems in combination, Jakarta Persistence API (JPA) and Jakarta Validator, both backed in my case by Hibernate implementations.</p>\n<p><code>@NotNull</code> is part of the Jakarta Validation API. According to the Jakarta Validator <a href=\"https://docs.jboss.org/hibernate/validator/8.0/reference/en-US/html_single/#validator-defineconstraints-spec\" rel=\"nofollow noreferrer\">documentation</a>, it is taken into account by JPA to apply <code>NOT NULL</code> to it's respective table column. It seems that this doesn't work with <code>@Embedded</code> classes using validation annotations. However, the JPA-native <code>@Column(nullable = false)</code> does work.</p>\n<p>So the <code>Meta</code> class generates the expected DDL like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class Meta {\n\n    @NotNull\n    @Column(nullable = false)\n    private Instant created;\n\n    @NotNull\n    @Column(nullable = false)\n    private Instant lastModified;\n\n    @NotNull\n    @Size(min = 1, max = 63)\n    @Column(nullable = false)\n    private String digest;\n}\n</code></pre>\n<p>Credit goes to @kidney for suggesting the solution!</p>\n"}],"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698960787,"creation_date":1698927358,"question_id":77409477,"body_markdown":"I have an issue with the DDL generated from an embeddable class. The annotations on the properties of the embeddable are not carried over to the embedding class table, such as NOT NULL.\r\n\r\n```java\r\n@Entity\r\npublic class Contact {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;contact_id_seq&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Length(max = 63)\r\n    private String fullName;\r\n\r\n    @Length(max = 63)\r\n    private String displayName;\r\n\r\n    @Length(max = 63)\r\n    private String emailAddress;\r\n\r\n    @Embedded\r\n    @NotNull\r\n    private Meta meta;\r\n}\r\n\r\n@Embeddable\r\npublic class Meta {\r\n\r\n    @NotNull\r\n    private Instant created;\r\n\r\n    @NotNull\r\n    private Instant lastModified;\r\n\r\n    @NotNull\r\n    @Length(min = 1, max = 63)\r\n    private String digest;\r\n}\r\n```\r\n\r\nThe generated DDL is like this:\r\n\r\n```sql\r\nCREATE TABLE public.contact (\r\n    id bigint NOT NULL,\r\n    full_name character varying(63) NOT NULL,\r\n    display_name character varying(63),\r\n    email_address character varying(63),\r\n    created timestamp(6) with time zone,\r\n    last_modified timestamp(6) with time zone,\r\n    digest character varying(63),\r\n);\r\n\r\n```\r\n\r\nHow can I annotate my @Embeddable class so that the @NotNull constraints are preserved in the embedding class?","title":"JPA embeddable class constraints not used in embedding class table","body":"<p>I have an issue with the DDL generated from an embeddable class. The annotations on the properties of the embeddable are not carried over to the embedding class table, such as NOT NULL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Contact {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;contact_id_seq&quot;)\n    private Long id;\n\n    @NotNull\n    @Length(max = 63)\n    private String fullName;\n\n    @Length(max = 63)\n    private String displayName;\n\n    @Length(max = 63)\n    private String emailAddress;\n\n    @Embedded\n    @NotNull\n    private Meta meta;\n}\n\n@Embeddable\npublic class Meta {\n\n    @NotNull\n    private Instant created;\n\n    @NotNull\n    private Instant lastModified;\n\n    @NotNull\n    @Length(min = 1, max = 63)\n    private String digest;\n}\n</code></pre>\n<p>The generated DDL is like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE public.contact (\n    id bigint NOT NULL,\n    full_name character varying(63) NOT NULL,\n    display_name character varying(63),\n    email_address character varying(63),\n    created timestamp(6) with time zone,\n    last_modified timestamp(6) with time zone,\n    digest character varying(63),\n);\n\n</code></pre>\n<p>How can I annotate my @Embeddable class so that the @NotNull constraints are preserved in the embedding class?</p>\n"},{"tags":["java","file","networking","docker-compose"],"comments":[{"owner":{"account_id":6229027,"reputation":28470,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1698393460,"post_id":77370232,"comment_id":136402330,"body_markdown":"You haven&#39;t included a [mcve] of the failing program.","body":"You haven&#39;t included a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the failing program."},{"owner":{"account_id":29762610,"reputation":1,"user_id":22809767,"display_name":"Ravi"},"score":0,"creation_date":1698412060,"post_id":77370232,"comment_id":136405805,"body_markdown":"edited with some more steps, compose and docker files are same, what information can I add ?","body":"edited with some more steps, compose and docker files are same, what information can I add ?"},{"owner":{"account_id":6229027,"reputation":28470,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1698435348,"post_id":77370232,"comment_id":136410139,"body_markdown":"There&#39;s no actual program in the question.  We can&#39;t solve programming problems without a [mcve] of the failing program.  (If your problem is with the runtime environment - e.g. your Docker container - then Stack Overflow is probably not the right place to find help).","body":"There&#39;s no actual program in the question.  We can&#39;t solve programming problems without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the failing program.  (If your problem is with the runtime environment - e.g. your Docker container - then Stack Overflow is probably not the right place to find help)."}],"answers":[{"tags":[],"owner":{"account_id":29762610,"reputation":1,"user_id":22809767,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698960494,"creation_date":1698960494,"answer_id":77412990,"question_id":77370232,"body_markdown":"The problem resolved correcting the docker-compose volume as below..\r\nonce again, the mail issue here is docker container unable to access the network file, mapping the volume and accessing the file as local, solved the problem. \r\n appvolume:\r\n      driver_opts:\r\n        type: cifs \r\n        device: &quot;//myserver.com/share&quot;\r\n        o: addr=myserver.com,username=fileuser,password=mypwd\r\n\r\nThanks\r\n","title":"Java Application running in Docker container unable to read file in network shared location","body":"<p>The problem resolved correcting the docker-compose volume as below..\nonce again, the mail issue here is docker container unable to access the network file, mapping the volume and accessing the file as local, solved the problem.\nappvolume:\ndriver_opts:\ntype: cifs\ndevice: &quot;//myserver.com/share&quot;\no: addr=myserver.com,username=fileuser,password=mypwd</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":29762610,"reputation":1,"user_id":22809767,"display_name":"Ravi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698960494,"creation_date":1698353470,"question_id":77370232,"body_markdown":"My java application so far running on server which is reading a data file from the shared network location and importing data successfully to db.  we are now moving this application to Docker. The step at File read operation in code is not considering a valid File location. \r\nJava is using File f = new File(&quot;//fileserver/shared&quot;) the next step f.exists() returning null when this code is running in container. non-docker environment has no issues at this step in the past. \r\n**Docker-compose**\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n    app-batch:\r\n        dns: xx:xx:x:x\r\n        container_name: app-batch\r\n        hostname: apphost\r\n        build:\r\n            context: ./app-batch\r\n            dockerfile: Dockerfile\r\n        image: app-batch:1.0\r\n        ports:\r\n            - 8989:8989\r\n        networks:\r\n            - app-network\r\n        volumes:\r\n            - ./logs:/logs:rw\r\n\r\nnetworks:\r\n    app-network:\r\n        driver: bridge\r\nvolumes:\r\n\tlogs:\r\n```\t\r\n**Dockerfile** in /app-batch folder\r\n```\r\nFROM openjdk:17-alpine\r\n\r\nCOPY ./*.jar myapp.jar\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/myap.jar&quot;]\r\n```\r\n\r\ntried with volume in docker-compose named as appvolume and \r\nvolumes: \r\n```\r\n  appvolume:\r\n    driver: local\r\n    driver_opts:\r\n      type: cifs\r\n      o:sec=ntlm,vers=3.0\r\n      device: &quot;//fileserver/shared&quot;\r\n```\r\nbut keep seeing error like not able to reach host.\r\n\r\nThe Java program in the app.jar reads network file contents as \r\nFile f =new File(&quot;//fileserver/shared/loadfile.txt&quot;); \r\nand is not considering the File f as a file.\r\n \r\nQ. is it possible to connect to remote server from a docker container running on a application network on a host?\r\n   if not by default possible, can you please suggest how to achieve this ?\r\nQ. is it possible to map/bind remote path to volume ?\r\n\r\n  \r\n","title":"Java Application running in Docker container unable to read file in network shared location","body":"<p>My java application so far running on server which is reading a data file from the shared network location and importing data successfully to db.  we are now moving this application to Docker. The step at File read operation in code is not considering a valid File location.\nJava is using File f = new File(&quot;//fileserver/shared&quot;) the next step f.exists() returning null when this code is running in container. non-docker environment has no issues at this step in the past.\n<strong>Docker-compose</strong></p>\n<pre><code>version: '3'\nservices:\n    app-batch:\n        dns: xx:xx:x:x\n        container_name: app-batch\n        hostname: apphost\n        build:\n            context: ./app-batch\n            dockerfile: Dockerfile\n        image: app-batch:1.0\n        ports:\n            - 8989:8989\n        networks:\n            - app-network\n        volumes:\n            - ./logs:/logs:rw\n\nnetworks:\n    app-network:\n        driver: bridge\nvolumes:\n    logs:\n</code></pre>\n<p><strong>Dockerfile</strong> in /app-batch folder</p>\n<pre><code>FROM openjdk:17-alpine\n\nCOPY ./*.jar myapp.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/myap.jar&quot;]\n</code></pre>\n<p>tried with volume in docker-compose named as appvolume and\nvolumes:</p>\n<pre><code>  appvolume:\n    driver: local\n    driver_opts:\n      type: cifs\n      o:sec=ntlm,vers=3.0\n      device: &quot;//fileserver/shared&quot;\n</code></pre>\n<p>but keep seeing error like not able to reach host.</p>\n<p>The Java program in the app.jar reads network file contents as\nFile f =new File(&quot;//fileserver/shared/loadfile.txt&quot;);\nand is not considering the File f as a file.</p>\n<p>Q. is it possible to connect to remote server from a docker container running on a application network on a host?\nif not by default possible, can you please suggest how to achieve this ?\nQ. is it possible to map/bind remote path to volume ?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":20788413,"reputation":11,"user_id":15267141,"display_name":"Eryczek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698960301,"creation_date":1698960301,"question_id":77412979,"body_markdown":"I have a custom class that implements the `org.springframework.validation.Validator` interface, and I&#39;m injecting it into a class annotated with `@Service`. In my Spring Boot 3.0.1 application, I&#39;m using this custom validator with the following code:\r\n\r\n    validator.validate(request, new BeanPropertyBindingResult(request, &quot;RequestClass&quot;));\r\n\r\nIt&#39;s worth noting that I&#39;m not using the `@Valid` annotation for validation.\r\n\r\nMy issue is that when I use `errors.rejectValue(&quot;fieldName&quot;, &quot;validation.error.key&quot;)` in my custom validator, it doesn&#39;t resolve the value for the specified error key. However, when I inject an appropriate `MessageSource`, the key works perfectly.\r\n\r\nI&#39;d appreciate any guidance on how to make my custom validator resolve error messages without the need for an injected `MessageSource`.\r\n","title":"Spring Boot: custom Validator doesn&#39;t resolve validation error messages","body":"<p>I have a custom class that implements the <code>org.springframework.validation.Validator</code> interface, and I'm injecting it into a class annotated with <code>@Service</code>. In my Spring Boot 3.0.1 application, I'm using this custom validator with the following code:</p>\n<pre><code>validator.validate(request, new BeanPropertyBindingResult(request, &quot;RequestClass&quot;));\n</code></pre>\n<p>It's worth noting that I'm not using the <code>@Valid</code> annotation for validation.</p>\n<p>My issue is that when I use <code>errors.rejectValue(&quot;fieldName&quot;, &quot;validation.error.key&quot;)</code> in my custom validator, it doesn't resolve the value for the specified error key. However, when I inject an appropriate <code>MessageSource</code>, the key works perfectly.</p>\n<p>I'd appreciate any guidance on how to make my custom validator resolve error messages without the need for an injected <code>MessageSource</code>.</p>\n"},{"tags":["java","android","android-studio","internet-explorer"],"answers":[{"tags":[],"owner":{"account_id":5619117,"reputation":1,"user_id":4449537,"display_name":"Deepak sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698956570,"creation_date":1698956570,"answer_id":77412663,"question_id":77412598,"body_markdown":"It sounds like you&#39;re encountering a NetworkOnMainThreadException, which occurs when trying to perform a network operation on the Android UI thread. Android requires network requests to be made on a background thread. Here&#39;s how you can modify your code to use an AsyncTask to perform the network operation on a background thread:\r\n\r\n    import android.os.AsyncTask;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class NetworkFileReader extends AsyncTask&lt;String, Void, String&gt; {\r\n    \r\n        @Override\r\n        protected String doInBackground(String... urlString) {\r\n            StringBuilder content = new StringBuilder();\r\n            try {\r\n                URL url = new URL(urlString[0]);\r\n                URLConnection urlConnection = url.openConnection();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\r\n                String line;\r\n                while ((line = bufferedReader.readLine()) != null) {\r\n                    content.append(line).append(&quot;\\n&quot;);\r\n                }\r\n                bufferedReader.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return &quot;Error: &quot; + e.getMessage();\r\n            }\r\n            return content.toString();\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            // This is where you would handle the result of the network operation\r\n            // For example, updating the UI or storing the data\r\n            System.out.println(result);\r\n        }\r\n    }\r\n    \r\n    // Usage:\r\n    new NetworkFileReader().execute(&quot;https://www.robl.de/data/HS.txt&quot;);\r\n\r\nMake sure to execute this AsyncTask appropriately in your activity or fragment, and handle the result in the onPostExecute method.\r\n\r\nAlso, ensure that you have the internet permission in your AndroidManifest.xml:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\nPlease note that AsyncTask is deprecated in API level 30 and higher. For modern Android development, c`enter code here`onsider using Kotlin coroutines or Java concurrency utilities like Executors. However, AsyncTask is still a valid way to quickly solve this problem for educational purposes or in legacy codebases.\r\n\r\n","title":"Read text file (.txt) from a server","body":"<p>It sounds like you're encountering a NetworkOnMainThreadException, which occurs when trying to perform a network operation on the Android UI thread. Android requires network requests to be made on a background thread. Here's how you can modify your code to use an AsyncTask to perform the network operation on a background thread:</p>\n<pre><code>import android.os.AsyncTask;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class NetworkFileReader extends AsyncTask&lt;String, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(String... urlString) {\n        StringBuilder content = new StringBuilder();\n        try {\n            URL url = new URL(urlString[0]);\n            URLConnection urlConnection = url.openConnection();\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\n            String line;\n            while ((line = bufferedReader.readLine()) != null) {\n                content.append(line).append(&quot;\\n&quot;);\n            }\n            bufferedReader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return &quot;Error: &quot; + e.getMessage();\n        }\n        return content.toString();\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        // This is where you would handle the result of the network operation\n        // For example, updating the UI or storing the data\n        System.out.println(result);\n    }\n}\n\n// Usage:\nnew NetworkFileReader().execute(&quot;https://www.robl.de/data/HS.txt&quot;);\n</code></pre>\n<p>Make sure to execute this AsyncTask appropriately in your activity or fragment, and handle the result in the onPostExecute method.</p>\n<p>Also, ensure that you have the internet permission in your AndroidManifest.xml:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Please note that AsyncTask is deprecated in API level 30 and higher. For modern Android development, c<code>enter code here</code>onsider using Kotlin coroutines or Java concurrency utilities like Executors. However, AsyncTask is still a valid way to quickly solve this problem for educational purposes or in legacy codebases.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698959920,"creation_date":1698959920,"answer_id":77412956,"question_id":77412598,"body_markdown":"For reference, use the _[URL#openStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URL.html#openStream())_ method.\r\n\r\n```java\r\nURL u = new URI(&quot;https://www.robl.de/data/HS.txt&quot;).toURL();\r\ntry (BufferedReader r = new BufferedReader(new InputStreamReader(u.openStream()))) {\r\n    r.lines().forEach(System.out::println);\r\n}\r\n```","title":"Read text file (.txt) from a server","body":"<p>For reference, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URL.html#openStream()\" rel=\"nofollow noreferrer\">URL#openStream</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL u = new URI(&quot;https://www.robl.de/data/HS.txt&quot;).toURL();\ntry (BufferedReader r = new BufferedReader(new InputStreamReader(u.openStream()))) {\n    r.lines().forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698959920,"creation_date":1698955756,"question_id":77412598,"body_markdown":"Android Studio - Java\r\nI&#39;ve been trying to read a text file from my website for days now.\r\nThe examples found on the internet don&#39;t work.\r\n&quot;Error&quot; is always output in the &quot;catch&quot; (see code below).\r\nThe path to the URL is correct. I tested it with a download.\r\nInternet permission has been added.\r\nWhere is the problem?\r\n\r\n\r\n   \r\n\r\n     try{\r\n\r\n                URL yahoo = new URL(&quot;https://www.robl.de/data/HS.txt&quot;);\r\n                URLConnection yc = yahoo.openConnection();\r\n                BufferedReader in = new BufferedReader(\r\n                        new InputStreamReader(\r\n                                yc.getInputStream()));\r\n\r\n\r\n                while ((inputLine = in.readLine()) != null)\r\n                    System.out.println(inputLine);\r\n                in.close();\r\n\r\n        }\r\n        catch ( IOException e ) {\r\n            e.printStackTrace();\r\n            inputLine=&quot;error&quot;;\r\n        }\r\n\r\n\r\n     try{\r\n            URL llll = new URL(&quot;http://www.robl.de/data/HS.txt&quot;);\r\n\r\n            URLConnection conLLL = llll.openConnection();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader( conLLL.getInputStream()));\r\n\r\n            while ( ( strLine = br.readLine() ) != null)\r\n                System.out.println(strLine);\r\n            br.close();\r\n\r\n        }\r\n        catch(Exception ex)\r\n        {\r\n            ex.printStackTrace();\r\n            strLine=&quot;error&quot;;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Read text file (.txt) from a server","body":"<p>Android Studio - Java\nI've been trying to read a text file from my website for days now.\nThe examples found on the internet don't work.\n&quot;Error&quot; is always output in the &quot;catch&quot; (see code below).\nThe path to the URL is correct. I tested it with a download.\nInternet permission has been added.\nWhere is the problem?</p>\n<pre><code> try{\n\n            URL yahoo = new URL(&quot;https://www.robl.de/data/HS.txt&quot;);\n            URLConnection yc = yahoo.openConnection();\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(\n                            yc.getInputStream()));\n\n\n            while ((inputLine = in.readLine()) != null)\n                System.out.println(inputLine);\n            in.close();\n\n    }\n    catch ( IOException e ) {\n        e.printStackTrace();\n        inputLine=&quot;error&quot;;\n    }\n\n\n try{\n        URL llll = new URL(&quot;http://www.robl.de/data/HS.txt&quot;);\n\n        URLConnection conLLL = llll.openConnection();\n        BufferedReader br = new BufferedReader(new InputStreamReader( conLLL.getInputStream()));\n\n        while ( ( strLine = br.readLine() ) != null)\n            System.out.println(strLine);\n        br.close();\n\n    }\n    catch(Exception ex)\n    {\n        ex.printStackTrace();\n        strLine=&quot;error&quot;;\n    }\n</code></pre>\n"},{"tags":["java","junit","mockito","spy"],"comments":[{"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"score":1,"creation_date":1693553907,"post_id":77021276,"comment_id":135779091,"body_markdown":"How about creating a new constructor `MyObject(Member member) { this.member = member; }` and passing a `spy(new Member())` into it... then you can do what you want","body":"How about creating a new constructor <code>MyObject(Member member) { this.member = member; }</code> and passing a <code>spy(new Member())</code> into it... then you can do what you want"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693564984,"post_id":77021276,"comment_id":135781169,"body_markdown":"Why are you spying the object ? when you are going to check it with simple `verify()` method. Just use `mock()` instead of `spy()`","body":"Why are you spying the object ? when you are going to check it with simple <code>verify()</code> method. Just use <code>mock()</code> instead of <code>spy()</code>"}],"answers":[{"tags":[],"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698959714,"creation_date":1698959714,"answer_id":77412939,"question_id":77021276,"body_markdown":"It sounds like you want `Member` to be a spy too. In this case, you could do something like this:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)    \r\n    public class SomeTestClass {\r\n        private MyObject myObjectSpy;\r\n        private Member memberSpy;\r\n\r\n        @Test\r\n        public void someTest() {\r\n            memberSpy = spy(Member.class);\r\n            myObjectSpy = spy(MyObject.class);\r\n            doReturn(memberSpy).when(myObjectSpy).getMember();\r\n            ...\r\n            verify(memberSpy, atLeastOnce()).doSomething(any(OneClass.class));\r\n        }\r\n    }\r\n\r\nBe warned, including `doReturn(...)` with a spy is partial mocking if you intend to *only* mock `getMember()` and not its other functions. In that case, consider using a full mock and deciding what the return values of its other functions should be.","title":"Spy on class member method call","body":"<p>It sounds like you want <code>Member</code> to be a spy too. In this case, you could do something like this:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)    \npublic class SomeTestClass {\n    private MyObject myObjectSpy;\n    private Member memberSpy;\n\n    @Test\n    public void someTest() {\n        memberSpy = spy(Member.class);\n        myObjectSpy = spy(MyObject.class);\n        doReturn(memberSpy).when(myObjectSpy).getMember();\n        ...\n        verify(memberSpy, atLeastOnce()).doSomething(any(OneClass.class));\n    }\n}\n</code></pre>\n<p>Be warned, including <code>doReturn(...)</code> with a spy is partial mocking if you intend to <em>only</em> mock <code>getMember()</code> and not its other functions. In that case, consider using a full mock and deciding what the return values of its other functions should be.</p>\n"}],"owner":{"account_id":13754751,"reputation":1,"user_id":9925985,"display_name":"Olivier_22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698959714,"creation_date":1693553444,"question_id":77021276,"body_markdown":"I would like write something like this :\r\n\r\n```\r\nthis.spyObject = Mockito.spy(myObject);\r\n...\r\nverify(this.spiedObject, atLastOnce()).getMember().doSomething(any(OneClass.class))\r\n```\r\n\r\nor\r\n\r\n```\r\nthis.spyObject = Mockito.spy(myObject);\r\n...\r\nverify(this.spiedObject.getMember(), atLastOnce()).doSomething(any(OneClass.class))\r\n```\r\n\r\nin a Junit test,\r\nknowing that the constructor of myObject is\r\n\r\n```\r\npublic MyObject() {\r\n    this.member = new Member()\r\n}\r\n```\r\nObviously, it doesn&#39;t works !\r\n\r\n\r\n\r\nFinally, I would be able to verify `doSomething` was called on the `member`.\r\nI&#39;m pretty beginner with Mockito :)\r\n\r\nAny help please ?\r\n","title":"Spy on class member method call","body":"<p>I would like write something like this :</p>\n<pre><code>this.spyObject = Mockito.spy(myObject);\n...\nverify(this.spiedObject, atLastOnce()).getMember().doSomething(any(OneClass.class))\n</code></pre>\n<p>or</p>\n<pre><code>this.spyObject = Mockito.spy(myObject);\n...\nverify(this.spiedObject.getMember(), atLastOnce()).doSomething(any(OneClass.class))\n</code></pre>\n<p>in a Junit test,\nknowing that the constructor of myObject is</p>\n<pre><code>public MyObject() {\n    this.member = new Member()\n}\n</code></pre>\n<p>Obviously, it doesn't works !</p>\n<p>Finally, I would be able to verify <code>doSomething</code> was called on the <code>member</code>.\nI'm pretty beginner with Mockito :)</p>\n<p>Any help please ?</p>\n"},{"tags":["java","generics","numbers","comparable"],"comments":[{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":5,"creation_date":1271856314,"post_id":2683202,"comment_id":2702911,"body_markdown":"Hmm - this is related: http://stackoverflow.com/questions/480632/why-doesnt-java-lang-number-implement-comparable","body":"Hmm - this is related: <a href=\"http://stackoverflow.com/questions/480632/why-doesnt-java-lang-number-implement-comparable\" title=\"why doesnt java lang number implement comparable\">stackoverflow.com/questions/480632/&hellip;</a>"},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":3,"creation_date":1271859387,"post_id":2683202,"comment_id":2703392,"body_markdown":"This shouldn&#39;t be tagged &quot;generics&quot;. &quot;Generic numbers&quot; does not refer to Java generics in this case.","body":"This shouldn&#39;t be tagged &quot;generics&quot;. &quot;Generic numbers&quot; does not refer to Java generics in this case."},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1271931904,"post_id":2683202,"comment_id":2710847,"body_markdown":"Google Collections has a TreeMultiSet which lets you sort stuff without losing duplicates.","body":"Google Collections has a TreeMultiSet which lets you sort stuff without losing duplicates."}],"answers":[{"tags":[],"owner":{"account_id":46932,"reputation":1933,"user_id":138862,"display_name":"Tedil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352970880,"creation_date":1271856200,"answer_id":2683237,"question_id":2683202,"body_markdown":"    if(yourNumber instanceof Double) {\r\n        boolean greaterThanOtherNumber = yourNumber.doubleValue() &gt; otherNumber.doubleValue();\r\n        // [...]\r\n    }\r\n\r\n*Note:* The `instanceof` check isn&#39;t necessarily needed - depends on how exactly you want to compare them. You could of course simply always use `.doubleValue()`, as every Number should provide the methods listed [here][1].\r\n\r\n*Edit*: As stated in the comments, you will (always) have to check for BigDecimal and friends. But they provide a `.compareTo()` method:\r\n\r\n    if(yourNumber instanceof BigDecimal &amp;&amp; otherNumber instanceof BigDecimal) { \r\n        boolean greaterThanOtherNumber = ((BigDecimal)yourNumber).compareTo((BigDecimal)otherNumber) &gt; 0;\r\n    } \r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Number.html\r\n","title":"Comparing the values of two generic Numbers","body":"<pre><code>if(yourNumber instanceof Double) {\n    boolean greaterThanOtherNumber = yourNumber.doubleValue() &gt; otherNumber.doubleValue();\n    // [...]\n}\n</code></pre>\n\n<p><em>Note:</em> The <code>instanceof</code> check isn't necessarily needed - depends on how exactly you want to compare them. You could of course simply always use <code>.doubleValue()</code>, as every Number should provide the methods listed <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Number.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><em>Edit</em>: As stated in the comments, you will (always) have to check for BigDecimal and friends. But they provide a <code>.compareTo()</code> method:</p>\n\n<pre><code>if(yourNumber instanceof BigDecimal &amp;&amp; otherNumber instanceof BigDecimal) { \n    boolean greaterThanOtherNumber = ((BigDecimal)yourNumber).compareTo((BigDecimal)otherNumber) &gt; 0;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":73039,"reputation":386,"user_id":210563,"display_name":"Steven Mackenzie"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1271856328,"creation_date":1271856328,"answer_id":2683258,"question_id":2683202,"body_markdown":"You can simply use &lt;code&gt;Number&#39;s doubleValue()&lt;/code&gt; method to compare them; however you may find the results are not accurate enough for your needs.\r\n","title":"Comparing the values of two generic Numbers","body":"<p>You can simply use <code>Number's doubleValue()</code> method to compare them; however you may find the results are not accurate enough for your needs.</p>\n"},{"tags":[],"owner":{"account_id":88804,"reputation":2706,"user_id":245418,"accept_rate":60,"display_name":"kopper"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1271881247,"creation_date":1271856865,"answer_id":2683331,"question_id":2683202,"body_markdown":"The most &quot;generic&quot; Java primitive number is double, so using simply\r\n\r\n    a.doubleValue() &gt; b.doubleValue()\r\n\r\nshould be enough in most cases, but... there are subtle issues here when converting numbers to double. For example the following is possible with BigInteger:\r\n\r\n\t\tBigInteger a = new BigInteger(&quot;9999999999999992&quot;);\r\n\t\tBigInteger b = new BigInteger(&quot;9999999999999991&quot;);\r\n\t\tSystem.out.println(a.doubleValue() &gt; b.doubleValue());\r\n\t\tSystem.out.println(a.doubleValue() == b.doubleValue());\r\n\r\nresults in:\r\n\r\n    false\r\n    true\r\n\r\nAlthough I expect this to be very extreme case this is possible. And no - there is no generic 100% accurate way. Number interface have no method like exactValue() converting to some type able to represent number in perfect way without loosing any information.\r\n\r\nActually having such perfect numbers is impossible in general - for example representing number Pi is impossible using any arithmetic using finite space. ","title":"Comparing the values of two generic Numbers","body":"<p>The most \"generic\" Java primitive number is double, so using simply</p>\n\n<pre><code>a.doubleValue() &gt; b.doubleValue()\n</code></pre>\n\n<p>should be enough in most cases, but... there are subtle issues here when converting numbers to double. For example the following is possible with BigInteger:</p>\n\n<pre><code>    BigInteger a = new BigInteger(\"9999999999999992\");\n    BigInteger b = new BigInteger(\"9999999999999991\");\n    System.out.println(a.doubleValue() &gt; b.doubleValue());\n    System.out.println(a.doubleValue() == b.doubleValue());\n</code></pre>\n\n<p>results in:</p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>Although I expect this to be very extreme case this is possible. And no - there is no generic 100% accurate way. Number interface have no method like exactValue() converting to some type able to represent number in perfect way without loosing any information.</p>\n\n<p>Actually having such perfect numbers is impossible in general - for example representing number Pi is impossible using any arithmetic using finite space. </p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271857009,"creation_date":1271857009,"answer_id":2683356,"question_id":2683202,"body_markdown":"Let&#39;s assume that you have some method like:\r\n\r\n    public &lt;T extends Number&gt; T max (T a, T b) {\r\n       ...\r\n       //return maximum of a and b\r\n    }\r\n\r\nIf you know that there are only integers, longs and doubles can be passed as parameters then you can change method signature to:\r\n\r\n    public &lt;T extends Number&gt; T max(double a, double b) {\r\n       return (T)Math.max (a, b);\r\n    }\r\n\r\nThis will work for byte, short, integer, long and double. \r\n\r\nIf you presume that BigInteger&#39;s or BigDecimal&#39;s or mix of floats and doubles can be passed then you cannot create one common method to compare all these types of parameters.","title":"Comparing the values of two generic Numbers","body":"<p>Let's assume that you have some method like:</p>\n\n<pre><code>public &lt;T extends Number&gt; T max (T a, T b) {\n   ...\n   //return maximum of a and b\n}\n</code></pre>\n\n<p>If you know that there are only integers, longs and doubles can be passed as parameters then you can change method signature to:</p>\n\n<pre><code>public &lt;T extends Number&gt; T max(double a, double b) {\n   return (T)Math.max (a, b);\n}\n</code></pre>\n\n<p>This will work for byte, short, integer, long and double. </p>\n\n<p>If you presume that BigInteger's or BigDecimal's or mix of floats and doubles can be passed then you cannot create one common method to compare all these types of parameters.</p>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1494399727,"creation_date":1271857230,"answer_id":2683388,"question_id":2683202,"body_markdown":"A working (but brittle) solution is something like this:\r\n\r\n    class NumberComparator implements Comparator&lt;Number&gt; {\r\n\r\n        public int compare(Number a, Number b){\r\n            return new BigDecimal(a.toString()).compareTo(new BigDecimal(b.toString()));\r\n        }\r\n\r\n    }\r\n\r\nIt&#39;s still not great, though, since it counts on `toString` returning a value parsable by `BigDecimal` (which the standard Java `Number` classes do, but which the `Number` contract doesn&#39;t demand).\r\n\r\n**Edit, seven years later:** As pointed out in the comments, there are (at least?) three special cases `toString` can produce that you need to take into regard:\r\n\r\n- `Infinity`, which is greater than everything, except itself to which it is equal\r\n- `-Infinity`, which is less than everything, except itself to which it is equal\r\n- `NaN`, which is extremely hairy/impossible to compare since [all comparisons with `NaN` result in `false`, including checking equality with itself][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.20.1","title":"Comparing the values of two generic Numbers","body":"<p>A working (but brittle) solution is something like this:</p>\n\n<pre><code>class NumberComparator implements Comparator&lt;Number&gt; {\n\n    public int compare(Number a, Number b){\n        return new BigDecimal(a.toString()).compareTo(new BigDecimal(b.toString()));\n    }\n\n}\n</code></pre>\n\n<p>It's still not great, though, since it counts on <code>toString</code> returning a value parsable by <code>BigDecimal</code> (which the standard Java <code>Number</code> classes do, but which the <code>Number</code> contract doesn't demand).</p>\n\n<p><strong>Edit, seven years later:</strong> As pointed out in the comments, there are (at least?) three special cases <code>toString</code> can produce that you need to take into regard:</p>\n\n<ul>\n<li><code>Infinity</code>, which is greater than everything, except itself to which it is equal</li>\n<li><code>-Infinity</code>, which is less than everything, except itself to which it is equal</li>\n<li><code>NaN</code>, which is extremely hairy/impossible to compare since <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.20.1\" rel=\"noreferrer\">all comparisons with <code>NaN</code> result in <code>false</code>, including checking equality with itself</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271859840,"creation_date":1271857625,"answer_id":2683438,"question_id":2683202,"body_markdown":"If your Number instances are ***never*** Atomic (ie AtomicInteger) then you can do something like:\r\n\r\n    private Integer compare(Number n1, Number n2) throws SecurityException, NoSuchMethodException, IllegalArgumentException, IllegalAccessException, InvocationTargetException {\r\n    \r\n     Class&lt;? extends Number&gt; n1Class = n1.getClass();\r\n     if (n1Class.isInstance(n2)) {\r\n      Method compareTo = n1Class.getMethod(&quot;compareTo&quot;, n1Class);\r\n      return (Integer) compareTo.invoke(n1, n2);\r\n     }\r\n    \r\n     return -23;\r\n    }\r\n\r\nThis is since all non-Atomic `Number`s implement Comparable\r\n\r\n**EDIT**:\r\n\r\nThis is costly due to reflection: I know\r\n\r\n**EDIT 2**:\r\n\r\nThis of course does not take of a case in which you want to compare decimals to ints or some such...\r\n\r\n**EDIT 3**:\r\n\r\nThis assumes that there are no custom-defined descendants of Number that do not implement Comparable (thanks @DJClayworth)","title":"Comparing the values of two generic Numbers","body":"<p>If your Number instances are <strong><em>never</em></strong> Atomic (ie AtomicInteger) then you can do something like:</p>\n\n<pre><code>private Integer compare(Number n1, Number n2) throws SecurityException, NoSuchMethodException, IllegalArgumentException, IllegalAccessException, InvocationTargetException {\n\n Class&lt;? extends Number&gt; n1Class = n1.getClass();\n if (n1Class.isInstance(n2)) {\n  Method compareTo = n1Class.getMethod(\"compareTo\", n1Class);\n  return (Integer) compareTo.invoke(n1, n2);\n }\n\n return -23;\n}\n</code></pre>\n\n<p>This is since all non-Atomic <code>Number</code>s implement Comparable</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>This is costly due to reflection: I know</p>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>This of course does not take of a case in which you want to compare decimals to ints or some such...</p>\n\n<p><strong>EDIT 3</strong>:</p>\n\n<p>This assumes that there are no custom-defined descendants of Number that do not implement Comparable (thanks @DJClayworth)</p>\n"},{"tags":[],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1271888390,"creation_date":1271888390,"answer_id":2686957,"question_id":2683202,"body_markdown":"What about this one? Definitely not nice, but it deals with all necessary cases mentioned.\r\n\r\n    public class SimpleNumberComparator implements Comparator&lt;Number&gt;\r\n    \t{\r\n    \t\t@Override\r\n    \t\tpublic int compare(Number o1, Number o2)\r\n    \t\t{\r\n    \t\t\tif(o1 instanceof Short &amp;&amp; o2 instanceof Short)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Short) o1).compareTo((Short) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Long &amp;&amp; o2 instanceof Long)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Long) o1).compareTo((Long) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Integer &amp;&amp; o2 instanceof Integer)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Integer) o1).compareTo((Integer) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Float &amp;&amp; o2 instanceof Float)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Float) o1).compareTo((Float) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Double &amp;&amp; o2 instanceof Double)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Double) o1).compareTo((Double) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Byte &amp;&amp; o2 instanceof Byte)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Byte) o1).compareTo((Byte) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof BigInteger &amp;&amp; o2 instanceof BigInteger)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((BigInteger) o1).compareTo((BigInteger) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof BigDecimal &amp;&amp; o2 instanceof BigDecimal)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((BigDecimal) o1).compareTo((BigDecimal) o2);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tthrow new RuntimeException(&quot;Ooopps!&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}","title":"Comparing the values of two generic Numbers","body":"<p>What about this one? Definitely not nice, but it deals with all necessary cases mentioned.</p>\n\n<pre><code>public class SimpleNumberComparator implements Comparator&lt;Number&gt;\n    {\n        @Override\n        public int compare(Number o1, Number o2)\n        {\n            if(o1 instanceof Short &amp;&amp; o2 instanceof Short)\n            {\n                return ((Short) o1).compareTo((Short) o2);\n            }\n            else if(o1 instanceof Long &amp;&amp; o2 instanceof Long)\n            {\n                return ((Long) o1).compareTo((Long) o2);\n            }\n            else if(o1 instanceof Integer &amp;&amp; o2 instanceof Integer)\n            {\n                return ((Integer) o1).compareTo((Integer) o2);\n            }\n            else if(o1 instanceof Float &amp;&amp; o2 instanceof Float)\n            {\n                return ((Float) o1).compareTo((Float) o2);\n            }\n            else if(o1 instanceof Double &amp;&amp; o2 instanceof Double)\n            {\n                return ((Double) o1).compareTo((Double) o2);\n            }\n            else if(o1 instanceof Byte &amp;&amp; o2 instanceof Byte)\n            {\n                return ((Byte) o1).compareTo((Byte) o2);\n            }\n            else if(o1 instanceof BigInteger &amp;&amp; o2 instanceof BigInteger)\n            {\n                return ((BigInteger) o1).compareTo((BigInteger) o2);\n            }\n            else if(o1 instanceof BigDecimal &amp;&amp; o2 instanceof BigDecimal)\n            {\n                return ((BigDecimal) o1).compareTo((BigDecimal) o2);\n            }\n            else\n            {\n                throw new RuntimeException(\"Ooopps!\");\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26833,"reputation":2378,"user_id":70173,"accept_rate":70,"display_name":"Sarmun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295108972,"creation_date":1295108972,"answer_id":4700699,"question_id":2683202,"body_markdown":"This should work for all classes that extend Number, and are Comparable to themselves.\r\n\r\n    class NumberComparator&lt;T extends Number&gt; implements Comparator&lt;T&gt; {\r\n    \r\n        public int compare(T a, T b){\r\n            if (a instanceof Comparable) \r\n                if (a.getClass().equals(b.getClass()))\r\n                    return ((Comparable&lt;T&gt;)a).compareTo(b);        \r\n            throw new UnsupportedOperationException();\r\n        }\r\n    }","title":"Comparing the values of two generic Numbers","body":"<p>This should work for all classes that extend Number, and are Comparable to themselves.</p>\n\n<pre><code>class NumberComparator&lt;T extends Number&gt; implements Comparator&lt;T&gt; {\n\n    public int compare(T a, T b){\n        if (a instanceof Comparable) \n            if (a.getClass().equals(b.getClass()))\n                return ((Comparable&lt;T&gt;)a).compareTo(b);        \n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314865,"reputation":519,"user_id":630301,"display_name":"BennyBoy"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1332251409,"creation_date":1332251409,"answer_id":9788113,"question_id":2683202,"body_markdown":"This should work for all classes that extend Number, and are Comparable to themselves. By adding the &amp; Comparable you allow to remove all the type checks and provides runtime type checks and error throwing for free when compared to Sarmun answer.\r\n\r\n    class NumberComparator&lt;T extends Number &amp; Comparable&gt; implements Comparator&lt;T&gt; {\r\n\r\n        public int compare( T a, T b ) throws ClassCastException {\r\n            return a.compareTo( b );\r\n        }\r\n    }","title":"Comparing the values of two generic Numbers","body":"<p>This should work for all classes that extend Number, and are Comparable to themselves. By adding the &amp; Comparable you allow to remove all the type checks and provides runtime type checks and error throwing for free when compared to Sarmun answer.</p>\n\n<pre><code>class NumberComparator&lt;T extends Number &amp; Comparable&gt; implements Comparator&lt;T&gt; {\n\n    public int compare( T a, T b ) throws ClassCastException {\n        return a.compareTo( b );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1675340109,"creation_date":1350231343,"answer_id":12884075,"question_id":2683202,"body_markdown":"After having asked a [similar question][1] and studying the answers here, I came up with the following. I think it is more efficient and more robust than the solution given by gustafc:\r\n\r\n\r\n    public int compare(Number x, Number y) {\r\n        if (isSpecial(x) || isSpecial(y))\r\n            return Double.compare(x.doubleValue(), y.doubleValue());\r\n        else\r\n            return toBigDecimal(x).compareTo(toBigDecimal(y));\r\n    }\r\n    \r\n    private static boolean isSpecial(Number x) {\r\n        var specialDouble = x instanceof Double d\r\n                &amp;&amp; (Double.isNaN(d) || Double.isInfinite(d));\r\n        var specialFloat = x instanceof Float f\r\n                &amp;&amp; (Float.isNaN(f) || Float.isInfinite(f));\r\n        return specialDouble || specialFloat;\r\n    }\r\n    \r\n    private static BigDecimal toBigDecimal(Number number) {\r\n        if (number instanceof BigDecimal d)\r\n            return d;\r\n        if (number instanceof BigInteger i)\r\n            return new BigDecimal(i);\r\n        if (number instanceof Byte || number instanceof Short\r\n                || number instanceof Integer || number instanceof Long)\r\n            return new BigDecimal(number.longValue());\r\n        if (number instanceof Float || number instanceof Double)\r\n            return new BigDecimal(number.doubleValue());\r\n        \r\n        try {\r\n            return new BigDecimal(number.toString());\r\n        } catch(NumberFormatException e) {\r\n            throw new RuntimeException(&quot;The given number (\\&quot;&quot; + number + &quot;\\&quot; of class &quot; + number.getClass().getName() + &quot;) does not have a parsable string representation&quot;, e);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/q/12561485/1374678","title":"Comparing the values of two generic Numbers","body":"<p>After having asked a <a href=\"https://stackoverflow.com/q/12561485/1374678\">similar question</a> and studying the answers here, I came up with the following. I think it is more efficient and more robust than the solution given by gustafc:</p>\n<pre><code>public int compare(Number x, Number y) {\n    if (isSpecial(x) || isSpecial(y))\n        return Double.compare(x.doubleValue(), y.doubleValue());\n    else\n        return toBigDecimal(x).compareTo(toBigDecimal(y));\n}\n\nprivate static boolean isSpecial(Number x) {\n    var specialDouble = x instanceof Double d\n            &amp;&amp; (Double.isNaN(d) || Double.isInfinite(d));\n    var specialFloat = x instanceof Float f\n            &amp;&amp; (Float.isNaN(f) || Float.isInfinite(f));\n    return specialDouble || specialFloat;\n}\n\nprivate static BigDecimal toBigDecimal(Number number) {\n    if (number instanceof BigDecimal d)\n        return d;\n    if (number instanceof BigInteger i)\n        return new BigDecimal(i);\n    if (number instanceof Byte || number instanceof Short\n            || number instanceof Integer || number instanceof Long)\n        return new BigDecimal(number.longValue());\n    if (number instanceof Float || number instanceof Double)\n        return new BigDecimal(number.doubleValue());\n    \n    try {\n        return new BigDecimal(number.toString());\n    } catch(NumberFormatException e) {\n        throw new RuntimeException(&quot;The given number (\\&quot;&quot; + number + &quot;\\&quot; of class &quot; + number.getClass().getName() + &quot;) does not have a parsable string representation&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1524820736,"creation_date":1383836977,"answer_id":19839412,"question_id":2683202,"body_markdown":"One solution that might work for you is to work not with `T extends Number` but with `T extends Number &amp; Comparable`. This type means: &quot;`T` can only be set to types that implements *both* the interfaces.&quot;\r\n\r\nThat allows you to write code that works with all comparable numbers. Statically typed and elegant.\r\n\r\nThis is the same solution that BennyBoy proposes, but it works with all kinds of methods, not only with comparator classes.\r\n\r\n    public static &lt;T extends Number &amp; Comparable&lt;T&gt;&gt; void compfunc(T n1, T n2) {\r\n        if (n1.compareTo(n2) &gt; 0) System.out.println(&quot;n1 is bigger&quot;);\r\n    }\r\n    \r\n\tpublic void test() {\r\n        compfunc(2, 1); // Works with Integer.\r\n        compfunc(2.0, 1.0); // And all other types that are subtypes of both Number and Comparable.\r\n        compfunc(2, 1.0); // Compilation error! Different types.\r\n        compfunc(new AtomicInteger(1), new AtomicInteger(2)); // Compilation error! Not subtype of Comparable\r\n\t}\r\n","title":"Comparing the values of two generic Numbers","body":"<p>One solution that might work for you is to work not with <code>T extends Number</code> but with <code>T extends Number &amp; Comparable</code>. This type means: \"<code>T</code> can only be set to types that implements <em>both</em> the interfaces.\"</p>\n\n<p>That allows you to write code that works with all comparable numbers. Statically typed and elegant.</p>\n\n<p>This is the same solution that BennyBoy proposes, but it works with all kinds of methods, not only with comparator classes.</p>\n\n<pre><code>public static &lt;T extends Number &amp; Comparable&lt;T&gt;&gt; void compfunc(T n1, T n2) {\n    if (n1.compareTo(n2) &gt; 0) System.out.println(\"n1 is bigger\");\n}\n\npublic void test() {\n    compfunc(2, 1); // Works with Integer.\n    compfunc(2.0, 1.0); // And all other types that are subtypes of both Number and Comparable.\n    compfunc(2, 1.0); // Compilation error! Different types.\n    compfunc(new AtomicInteger(1), new AtomicInteger(2)); // Compilation error! Not subtype of Comparable\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6731003,"reputation":89,"user_id":5187346,"display_name":"Babak Farhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654566317,"creation_date":1654563213,"answer_id":72524823,"question_id":2683202,"body_markdown":"In my use case, I was looking for a general `Comparator` that works with the autoboxed primitives (64 bit max precision), not arbitrary precision types like `BigInteger` and `BigDecimal`. Here&#39;s a first shot at it..\r\n\r\n    public class PrimitiveComparator implements Comparator&lt;Number&gt; {\r\n    \r\n      @Override\r\n      public int compare(Number a, Number b) {\r\n        if (a == b)\r\n          return 0;\r\n        double aD = a.doubleValue();\r\n        double bD = b.doubleValue();\r\n        int comp = Double.compare(aD, bD);\r\n        if (comp == 0 &amp;&amp; inLongBounds(aD))\r\n          comp = Long.compare(a.longValue(), b.longValue());\r\n        return comp;\r\n      }\r\n      \r\n      private boolean inLongBounds(double value) {\r\n        return\r\n            Double.compare(value, Long.MAX_VALUE) &lt;= 0 &amp;&amp;\r\n            Double.compare(value, Long.MIN_VALUE) &gt;= 0;\r\n      }\r\n    }\r\n\r\nThe objective is to be able to compare mixed types (e.g. `Float`s against `Long`s). This should also work with those AtomicXxx types (or any hand rolled Number subclass that uses no more than 64 bits).\r\n\r\nIn this ordering, btw, `Double.NaN &gt; Double.POSITVE_INFINITY &gt; { everything else }`.","title":"Comparing the values of two generic Numbers","body":"<p>In my use case, I was looking for a general <code>Comparator</code> that works with the autoboxed primitives (64 bit max precision), not arbitrary precision types like <code>BigInteger</code> and <code>BigDecimal</code>. Here's a first shot at it..</p>\n<pre><code>public class PrimitiveComparator implements Comparator&lt;Number&gt; {\n\n  @Override\n  public int compare(Number a, Number b) {\n    if (a == b)\n      return 0;\n    double aD = a.doubleValue();\n    double bD = b.doubleValue();\n    int comp = Double.compare(aD, bD);\n    if (comp == 0 &amp;&amp; inLongBounds(aD))\n      comp = Long.compare(a.longValue(), b.longValue());\n    return comp;\n  }\n  \n  private boolean inLongBounds(double value) {\n    return\n        Double.compare(value, Long.MAX_VALUE) &lt;= 0 &amp;&amp;\n        Double.compare(value, Long.MIN_VALUE) &gt;= 0;\n  }\n}\n</code></pre>\n<p>The objective is to be able to compare mixed types (e.g. <code>Float</code>s against <code>Long</code>s). This should also work with those AtomicXxx types (or any hand rolled Number subclass that uses no more than 64 bits).</p>\n<p>In this ordering, btw, <code>Double.NaN &gt; Double.POSITVE_INFINITY &gt; { everything else }</code>.</p>\n"},{"tags":[],"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698959682,"creation_date":1698959682,"answer_id":77412935,"question_id":2683202,"body_markdown":"It doesn&#39;t seem as if it is possible to compare Number objects or handle numbers with generics in other ways, however, the good news is that there are only six primitive number types, so implementing functionality that seems to be generic may be cumbersome when implementing it but can look nice to the final user.\r\n\r\nThis is how I&#39;ve implemented this:\r\n\r\n    public class LongNumber {\r\n    \tpublic int compareTo(byte n) {\r\n    \t\treturn Long.compare(number, ((Byte)n).longValue());\r\n    \t}\r\n    \tpublic int compareTo(short n) {\r\n    \t\treturn Long.compare(number, ((Short)n).longValue());\r\n    \t}\r\n    \tpublic int compareTo(int n) {\r\n    \t\treturn Long.compare(number, ((Integer)n).longValue());\r\n    \t}\r\n    \tpublic int compareTo(long n) {\r\n    \t\treturn Long.compare(number, n);\r\n    \t}\r\n    \tpublic int compareTo(float n) {\r\n    \t\treturn Double.compare(number.doubleValue(), ((Float)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(double n) {\r\n    \t\treturn Double.compare(number.doubleValue(), n);\r\n    \t}\r\n    \r\n    \tpublic LongNumber(byte number) { this(((Byte)number).longValue()); }\r\n    \tpublic LongNumber(short number) { this(((Short)number).longValue()); }\r\n    \tpublic LongNumber(int number) { this(((Integer)number).longValue()); }\r\n    \tpublic LongNumber(long number) { this.number = number; }\r\n    \r\n    \tprivate final Long number;\r\n    }\r\n\r\nThis class wraps integers (byte, short, int, long) and converts them all to Long. I&#39;ve opted to use primitives in the methods to avoid having to do null checks but stored the number as a `Long` in order to make the comparisons to `float` and `double` easier.\r\n\r\nAs a user of the class, you&#39;d do something like:\r\n\r\n\tbyte num = 64;\r\n\tfinal LongNumber longNumber = new LongNumber(num);\r\n\tSystem.out.println(&quot;123456L != 64: &quot; + (longNumber.compareTo(123456L) != 0));\r\n    \r\n\tSystem.out.println(&quot;Even though (byte)123456L = &quot; + ((Long)123456L).byteValue());\r\n    \r\n\tSystem.out.println(&quot;Is 64 &gt; PI? &quot; + (longNumber.compareTo(Math.PI) &gt; 0));\r\n\r\nI have another class for floating point values where I do all comparisons using `Double.compare()` instead:\r\n\r\n    public class DoubleNumber {\r\n    \tpublic int compareTo(byte n) {\r\n    \t\treturn Double.compare(number, ((Byte)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(short n) {\r\n    \t\treturn Double.compare(number, ((Short)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(int n) {\r\n    \t\treturn Double.compare(number, ((Integer)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(long n) {\r\n    \t\treturn Double.compare(number, ((Long)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(float n) {\r\n    \t\treturn Double.compare(number, ((Float)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(double n) {\r\n    \t\treturn Double.compare(number, n);\r\n    \t}\r\n    \r\n    \tpublic DoubleNumber(float number) { this(((Float)number).doubleValue()); }\r\n    \tpublic DoubleNumber(double number) { this.number = number; }\r\n    \r\n    \tprivate final Double number;\r\n    }\r\n\r\nIf you want to work even more generically with numbers you could create a factory method for the classes (or actually six) that would wrap the input parameter in the correct wrapper class:\r\n\r\n\tpublic static LongNumber of(int n) {\r\n\t\treturn new LongNumber(n);\r\n\t}\r\n\tpublic static DoubleNumber of(float n) {\r\n\t\treturn new DoubleNumber(n);\r\n\t}\r\n\r\nYou could even create a static compare method like:\r\n\r\n\tpublic static int compare(double x, int y) {\r\n\t\treturn new DoubleNumber(x).compareTo(y);\r\n\t}\r\n\r\nThough, you&#39;d need to implement 36 of them. Again, hard work when coding it, but pretty nice when using it, and if the Java-people can do `List.of(...)` like they&#39;ve done (at least in Java 17), maybe 36 methods aren&#39;t such an extreme...\r\n\r\nHowever, if you&#39;re willing to implement 36 static methods you might want to do something like:\r\n\r\n\tpublic static int compare(double x, int y) {\r\n\t\treturn Double.compare(x, ((Integer) y).doubleValue());\r\n\t}\r\n\r\nMy use case is that I have a number I might want to work with more than once, so for me, wrapping it in a class where I only have to implement 6 compareTo-methods made the most sense.","title":"Comparing the values of two generic Numbers","body":"<p>It doesn't seem as if it is possible to compare Number objects or handle numbers with generics in other ways, however, the good news is that there are only six primitive number types, so implementing functionality that seems to be generic may be cumbersome when implementing it but can look nice to the final user.</p>\n<p>This is how I've implemented this:</p>\n<pre><code>public class LongNumber {\n    public int compareTo(byte n) {\n        return Long.compare(number, ((Byte)n).longValue());\n    }\n    public int compareTo(short n) {\n        return Long.compare(number, ((Short)n).longValue());\n    }\n    public int compareTo(int n) {\n        return Long.compare(number, ((Integer)n).longValue());\n    }\n    public int compareTo(long n) {\n        return Long.compare(number, n);\n    }\n    public int compareTo(float n) {\n        return Double.compare(number.doubleValue(), ((Float)n).doubleValue());\n    }\n    public int compareTo(double n) {\n        return Double.compare(number.doubleValue(), n);\n    }\n\n    public LongNumber(byte number) { this(((Byte)number).longValue()); }\n    public LongNumber(short number) { this(((Short)number).longValue()); }\n    public LongNumber(int number) { this(((Integer)number).longValue()); }\n    public LongNumber(long number) { this.number = number; }\n\n    private final Long number;\n}\n</code></pre>\n<p>This class wraps integers (byte, short, int, long) and converts them all to Long. I've opted to use primitives in the methods to avoid having to do null checks but stored the number as a <code>Long</code> in order to make the comparisons to <code>float</code> and <code>double</code> easier.</p>\n<p>As a user of the class, you'd do something like:</p>\n<pre><code>byte num = 64;\nfinal LongNumber longNumber = new LongNumber(num);\nSystem.out.println(&quot;123456L != 64: &quot; + (longNumber.compareTo(123456L) != 0));\n\nSystem.out.println(&quot;Even though (byte)123456L = &quot; + ((Long)123456L).byteValue());\n\nSystem.out.println(&quot;Is 64 &gt; PI? &quot; + (longNumber.compareTo(Math.PI) &gt; 0));\n</code></pre>\n<p>I have another class for floating point values where I do all comparisons using <code>Double.compare()</code> instead:</p>\n<pre><code>public class DoubleNumber {\n    public int compareTo(byte n) {\n        return Double.compare(number, ((Byte)n).doubleValue());\n    }\n    public int compareTo(short n) {\n        return Double.compare(number, ((Short)n).doubleValue());\n    }\n    public int compareTo(int n) {\n        return Double.compare(number, ((Integer)n).doubleValue());\n    }\n    public int compareTo(long n) {\n        return Double.compare(number, ((Long)n).doubleValue());\n    }\n    public int compareTo(float n) {\n        return Double.compare(number, ((Float)n).doubleValue());\n    }\n    public int compareTo(double n) {\n        return Double.compare(number, n);\n    }\n\n    public DoubleNumber(float number) { this(((Float)number).doubleValue()); }\n    public DoubleNumber(double number) { this.number = number; }\n\n    private final Double number;\n}\n</code></pre>\n<p>If you want to work even more generically with numbers you could create a factory method for the classes (or actually six) that would wrap the input parameter in the correct wrapper class:</p>\n<pre><code>public static LongNumber of(int n) {\n    return new LongNumber(n);\n}\npublic static DoubleNumber of(float n) {\n    return new DoubleNumber(n);\n}\n</code></pre>\n<p>You could even create a static compare method like:</p>\n<pre><code>public static int compare(double x, int y) {\n    return new DoubleNumber(x).compareTo(y);\n}\n</code></pre>\n<p>Though, you'd need to implement 36 of them. Again, hard work when coding it, but pretty nice when using it, and if the Java-people can do <code>List.of(...)</code> like they've done (at least in Java 17), maybe 36 methods aren't such an extreme...</p>\n<p>However, if you're willing to implement 36 static methods you might want to do something like:</p>\n<pre><code>public static int compare(double x, int y) {\n    return Double.compare(x, ((Integer) y).doubleValue());\n}\n</code></pre>\n<p>My use case is that I have a number I might want to work with more than once, so for me, wrapping it in a class where I only have to implement 6 compareTo-methods made the most sense.</p>\n"}],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58428,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":2683388,"answer_count":13,"score":74,"last_activity_date":1698959682,"creation_date":1271855994,"question_id":2683202,"body_markdown":"I want to compare to variables, both of type `T extends Number`. Now I want to know which of the two variables is greater than the other or equal. Unfortunately I don&#39;t know the exact type yet, I only know that it will be a subtype of `java.lang.Number`. How can I do that?\r\n\r\n**EDIT**: I tried another workaround using `TreeSet`s, which actually worked with natural ordering (of course it works, all subclasses of `Number` implement `Comparable` except for AtomicInteger and AtomicLong). Thus I&#39;ll lose duplicate values. When using `List`s, `Collection.sort()` will not accept my list due to bound mismatchs. Very unsatisfactory.\r\n\r\n","title":"Comparing the values of two generic Numbers","body":"<p>I want to compare to variables, both of type <code>T extends Number</code>. Now I want to know which of the two variables is greater than the other or equal. Unfortunately I don't know the exact type yet, I only know that it will be a subtype of <code>java.lang.Number</code>. How can I do that?</p>\n\n<p><strong>EDIT</strong>: I tried another workaround using <code>TreeSet</code>s, which actually worked with natural ordering (of course it works, all subclasses of <code>Number</code> implement <code>Comparable</code> except for AtomicInteger and AtomicLong). Thus I'll lose duplicate values. When using <code>List</code>s, <code>Collection.sort()</code> will not accept my list due to bound mismatchs. Very unsatisfactory.</p>\n"},{"tags":["java","inheritance","polymorphism","overriding"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1698959133,"post_id":77412839,"comment_id":136474175,"body_markdown":"If I recall correctly you can’t override static methods - trying adding the @Override annotation to the child classes method and see what you get","body":"If I recall correctly you can’t override static methods - trying adding the @Override annotation to the child classes method and see what you get"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1698959436,"creation_date":1698959088,"answer_id":77412873,"question_id":77412839,"body_markdown":"acceptPending is a static method, **static methods are called based on the compile time type of the object** ie Parent type. unlike instance methods.\r\n\r\nso removing static keywords from both classes would give you the expected behavior.","title":"Java polymorphism top level method is called","body":"<p>acceptPending is a static method, <strong>static methods are called based on the compile time type of the object</strong> ie Parent type. unlike instance methods.</p>\n<p>so removing static keywords from both classes would give you the expected behavior.</p>\n"}],"owner":{"account_id":7732618,"reputation":336,"user_id":5859299,"display_name":"Austin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77412873,"answer_count":1,"score":-2,"last_activity_date":1698959436,"creation_date":1698958660,"question_id":77412839,"body_markdown":"I have an inherited object in a java project and I am trying to call the overriden method in the child object. For some reason the parent version of the method is being called. It was my understanding of polymorphism that the lowest version of a method is always called. Why is the parent version being called?\r\n\r\n```\r\npublic class Generator\r\n{\r\n    public static void acceptPending()\r\n    {\r\n        System.out.println(&quot;top level is called&quot;);\r\n    }\r\n}\r\n\r\npublic class GeneratorNeo extends Generator\r\n{\r\n    public static void acceptPending()\r\n    {\r\n        System.out.println(&quot;neo level is called&quot;);\r\n    }\r\n}\r\n\r\npublic class Driver()\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Generator gen = null;\r\n        gen = new GeneratorNeo();\r\n        gen.acceptPending(); // prints top level is called\r\n    }\r\n}\r\n```","title":"Java polymorphism top level method is called","body":"<p>I have an inherited object in a java project and I am trying to call the overriden method in the child object. For some reason the parent version of the method is being called. It was my understanding of polymorphism that the lowest version of a method is always called. Why is the parent version being called?</p>\n<pre><code>public class Generator\n{\n    public static void acceptPending()\n    {\n        System.out.println(&quot;top level is called&quot;);\n    }\n}\n\npublic class GeneratorNeo extends Generator\n{\n    public static void acceptPending()\n    {\n        System.out.println(&quot;neo level is called&quot;);\n    }\n}\n\npublic class Driver()\n{\n    public static void main(String[] args)\n    {\n        Generator gen = null;\n        gen = new GeneratorNeo();\n        gen.acceptPending(); // prints top level is called\n    }\n}\n</code></pre>\n"},{"tags":["java","android-source"],"owner":{"account_id":20152721,"reputation":1,"user_id":14879883,"display_name":"Eqsz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698959083,"creation_date":1698830507,"question_id":77401526,"body_markdown":"I&#39;m trying to compile the Android SDK (version 11) via [Docker][1] scripts at *gitlab.com/android-rebuilds/auto*.\r\nFor various reasons, I have to use equipment that has 8&amp;nbsp;GB of RAM. The storage space is huge.\r\n\r\nThe scripts have been modified to work ([SSH][2] issue), and I&#39;ve also added a huge amount of swap memory (currently 315&amp;nbsp;GB).\r\nI also added [zram][3] memory.\r\n\r\nI added values in the *build.sh* and *build-sys-img.sh* scripts,\r\nexport JAVA_TOOL_OPTIONS, JAVA_OPTIONS and \\_JAVA_OPTION = &quot;-Xmx270g&quot; to allocate a large portion of the swap to the compiler.\r\n\r\nI also used `make -j1` instead of `make $(nproc)`.\r\n\r\nDespite all the steps, I still get errors, like Java Heap Space.\r\nThe errors varied occasionally, but the general pattern was as follows:\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\r\n    at java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\r\n    at java.base/java.lang.String.substring(String.java:1879)\r\n    at java.base/java.lang.String.subSequence(String.java:1913)\r\n    at com.intellij.lang.impl.PsiBuilderImpl$RelativeTokenTextView.get(PsiBuilderImpl.java:1161)\r\n    at com.intellij.lang.java.parser.JavaParserUtil$TrailingWhitespacesAndCommentsBinder.getEdgePosition(JavaParserUtil.java:88)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.balanceWhiteSpaces(PsiBuilderImpl.java:1116)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.prepareLightTree(PsiBuilderImpl.java:1017)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.buildTree(PsiBuilderImpl.java:910)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.getTreeBuilt(PsiBuilderImpl.java:905)\r\n    at com.intellij.psi.impl.source.tree.JavaElementType$ICodeBlockElementType.parseContents(JavaElementType.java:156)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.lambda$ensureParsed$0(LazyParseableElement.java:206)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement$$Lambda$213/0x00000001004e5440.run(Unknown Source)\r\n    at com.intellij.psi.impl.DebugUtil.performPsiModification(DebugUtil.java:553)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.ensureParsed(LazyParseableElement.java:205)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.getFirstChildNode(LazyParseableElement.java:254)\r\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.getFirstChild(LazyParseablePsiElement.java:90)\r\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:104)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\r\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\r\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\n    at com.intellij.psi.JavaElementVisitor.visitStatement(JavaElementVisitor.java:259)\r\n    at com.intellij.psi.JavaElementVisitor.visitBlockStatement(JavaElementVisitor.java:32)\r\n    at com.intellij.psi.impl.source.tree.java.PsiBlockStatementImpl.accept(PsiBlockStatementImpl.java:67)\r\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:106)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\r\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\r\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\nninja: build stopped: subcommand failed.\r\n09:03:17 ninja failed with: exit status 1\r\n```\r\n\r\nAdditionally, I am attaching a larger error package on this page: https://pastebin.com/YNN0fAp2\r\n\r\nHow can I fix this problem?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Docker_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/Secure_Shell\r\n  [3]: https://en.wikipedia.org/wiki/Zram\r\n\r\n\r\n","title":"How can I compile the Android SDK with low RAM?","body":"<p>I'm trying to compile the Android SDK (version 11) via <a href=\"https://en.wikipedia.org/wiki/Docker_%28software%29\" rel=\"nofollow noreferrer\">Docker</a> scripts at <em>gitlab.com/android-rebuilds/auto</em>.\nFor various reasons, I have to use equipment that has 8 GB of RAM. The storage space is huge.</p>\n<p>The scripts have been modified to work (<a href=\"https://en.wikipedia.org/wiki/Secure_Shell\" rel=\"nofollow noreferrer\">SSH</a> issue), and I've also added a huge amount of swap memory (currently 315 GB).\nI also added <a href=\"https://en.wikipedia.org/wiki/Zram\" rel=\"nofollow noreferrer\">zram</a> memory.</p>\n<p>I added values in the <em>build.sh</em> and <em>build-sys-img.sh</em> scripts,\nexport JAVA_TOOL_OPTIONS, JAVA_OPTIONS and _JAVA_OPTION = &quot;-Xmx270g&quot; to allocate a large portion of the swap to the compiler.</p>\n<p>I also used <code>make -j1</code> instead of <code>make $(nproc)</code>.</p>\n<p>Despite all the steps, I still get errors, like Java Heap Space.\nThe errors varied occasionally, but the general pattern was as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\n    at java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\n    at java.base/java.lang.String.substring(String.java:1879)\n    at java.base/java.lang.String.subSequence(String.java:1913)\n    at com.intellij.lang.impl.PsiBuilderImpl$RelativeTokenTextView.get(PsiBuilderImpl.java:1161)\n    at com.intellij.lang.java.parser.JavaParserUtil$TrailingWhitespacesAndCommentsBinder.getEdgePosition(JavaParserUtil.java:88)\n    at com.intellij.lang.impl.PsiBuilderImpl.balanceWhiteSpaces(PsiBuilderImpl.java:1116)\n    at com.intellij.lang.impl.PsiBuilderImpl.prepareLightTree(PsiBuilderImpl.java:1017)\n    at com.intellij.lang.impl.PsiBuilderImpl.buildTree(PsiBuilderImpl.java:910)\n    at com.intellij.lang.impl.PsiBuilderImpl.getTreeBuilt(PsiBuilderImpl.java:905)\n    at com.intellij.psi.impl.source.tree.JavaElementType$ICodeBlockElementType.parseContents(JavaElementType.java:156)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.lambda$ensureParsed$0(LazyParseableElement.java:206)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement$$Lambda$213/0x00000001004e5440.run(Unknown Source)\n    at com.intellij.psi.impl.DebugUtil.performPsiModification(DebugUtil.java:553)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.ensureParsed(LazyParseableElement.java:205)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.getFirstChildNode(LazyParseableElement.java:254)\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.getFirstChild(LazyParseablePsiElement.java:90)\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:104)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\n    at com.intellij.psi.JavaElementVisitor.visitStatement(JavaElementVisitor.java:259)\n    at com.intellij.psi.JavaElementVisitor.visitBlockStatement(JavaElementVisitor.java:32)\n    at com.intellij.psi.impl.source.tree.java.PsiBlockStatementImpl.accept(PsiBlockStatementImpl.java:67)\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:106)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\nninja: build stopped: subcommand failed.\n09:03:17 ninja failed with: exit status 1\n</code></pre>\n<p>Additionally, I am attaching a larger error package on this page: <a href=\"https://pastebin.com/YNN0fAp2\" rel=\"nofollow noreferrer\">https://pastebin.com/YNN0fAp2</a></p>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","jsp","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1599862196,"post_id":63854849,"comment_id":112917027,"body_markdown":"See https://stackoverflow.com/a/63606566/104891.","body":"See <a href=\"https://stackoverflow.com/a/63606566/104891\">stackoverflow.com/a/63606566/104891</a>."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1599862448,"post_id":63854849,"comment_id":112917101,"body_markdown":"thanks. i&#39;m not used to intellij, so maybe i would be better using eclipse than intellij following my instructor","body":"thanks. i&#39;m not used to intellij, so maybe i would be better using eclipse than intellij following my instructor"},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1599862909,"post_id":63854849,"comment_id":112917219,"body_markdown":"@cjLee Keep in mind that Eclipse has a much slower learning curve.","body":"@cjLee Keep in mind that Eclipse has a much slower learning curve."}],"answers":[{"tags":[],"owner":{"account_id":20000142,"reputation":16,"user_id":14659281,"display_name":"Azad Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605693826,"creation_date":1605673424,"answer_id":64887075,"question_id":63854849,"body_markdown":"First, you can go to src &gt; main &gt; java, then right click:\r\n\r\n[![image][1]][1]\r\n\r\nand then New &gt; Create New Servlet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9jn8.png","title":"Where can i find to create new servlet file with intellij?","body":"<p>First, you can go to src &gt; main &gt; java, then right click:</p>\n<p><a href=\"https://i.stack.imgur.com/i9jn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i9jn8.png\" alt=\"image\" /></a></p>\n<p>and then New &gt; Create New Servlet.</p>\n"},{"tags":[],"owner":{"account_id":24350063,"reputation":11,"user_id":18286010,"display_name":"iononi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652493100,"creation_date":1652492538,"answer_id":72236740,"question_id":63854849,"body_markdown":"I found this way I hope it works for you as it did for me. First I would recommend you to add support for Maven framework or you just could download the JAR file of the needed dependency for creating and managing servlets `Java Servlet API`.\r\n\r\n**Adding Framework support for Maven**\r\n\r\nOn the Project tool window, you have to select the module you want to add Maven Framework support to, right-click it and select `Add Framework support`. Just like this:\r\n\r\n[Adding Maven support][1]\r\n\r\nOn the new window you just select Web Application and Maven from the list of available Frameworks. When selecting Web Application it creates a `web` package and its `web.xml` configuration file. When asked, accept creating the web.xml file to proceed. After these steps your project structure might look like this:\r\n\r\n[Project structure after adding Maven and Web application frameworks][2]\r\n\r\n**Adding Java Servlet API dependency to pom.xml**\r\n\r\nNow you need to open the `pom.xml` file. This file helps you to add and manage your project dependencies as it allows you to retrieve them from the Apache Maven repository instead of downloading the JAR files and adding them manually to your project. You need to add the next dependency:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nYour pom file should look like this after the previous step:\r\n\r\n[Adding Java Servlet API dependency][3]\r\n\r\nAs final step, we need to open the `Project Structure` settings by pressing `Ctrl + Alt + Shift + S` or by navigating through `File &gt; Project Structure`. Here we are going to find a `Project Settings` section on the left side of the window. We need to go to `Facets` and you may find a facet named `Web`. On the bottom of the window you should see an option called `Source Roots`. You have to enable it by clicking the checkbox, then click `Apply` and finally `OK`. You have to make sure that path shown in this section is indeed the path to your projects&#39; `src &gt; main &gt; java` folder.\r\n\r\n[Marking folder as source root][4]\r\n\r\nOnce you&#39;ve done that, you should be able to go to any package in your project and create a servlet as follows: `New &gt; Servlet`.\r\n\r\n[Creating servlet][5]\r\n\r\n**Note:** if you got a syntax error when `pom.xml` file was created the only thing you need to do is to change the `&lt;groupId&gt;&lt;/groupId&gt;` tag content to a fully qualified name you want your project to be identified by.\r\n\r\n[Given your project a qualified name][6]\r\n\r\n**Note:** I wasn&#39;t able to find a way to configure permanently the `src &gt; main &gt; java` folder as source root, so every time you close and reopen your project you need to go to `Project Structure (Ctrl + Alt + Shift + S) &gt; Facets &gt; Web` and mark it as source root again. If you find a way to do this permanently I would appreciate you to share your method.\r\n\r\n**More info on**\r\n\r\n - [Create a Maven Project with IntelliJ IDEA](https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af)\r\n - [Getting started with Web Service](https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html)\r\n\r\n  [1]: https://i.stack.imgur.com/yM7jm.jpg\r\n  [2]: https://i.stack.imgur.com/P9Dmm.jpg\r\n  [3]: https://i.stack.imgur.com/rnosP.jpg\r\n  [4]: https://i.stack.imgur.com/WUJ7D.jpg\r\n  [5]: https://i.stack.imgur.com/GhumM.jpg\r\n  [6]: https://i.stack.imgur.com/VzzYm.jpg","title":"Where can i find to create new servlet file with intellij?","body":"<p>I found this way I hope it works for you as it did for me. First I would recommend you to add support for Maven framework or you just could download the JAR file of the needed dependency for creating and managing servlets <code>Java Servlet API</code>.</p>\n<p><strong>Adding Framework support for Maven</strong></p>\n<p>On the Project tool window, you have to select the module you want to add Maven Framework support to, right-click it and select <code>Add Framework support</code>. Just like this:</p>\n<p><a href=\"https://i.stack.imgur.com/yM7jm.jpg\" rel=\"nofollow noreferrer\">Adding Maven support</a></p>\n<p>On the new window you just select Web Application and Maven from the list of available Frameworks. When selecting Web Application it creates a <code>web</code> package and its <code>web.xml</code> configuration file. When asked, accept creating the web.xml file to proceed. After these steps your project structure might look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/P9Dmm.jpg\" rel=\"nofollow noreferrer\">Project structure after adding Maven and Web application frameworks</a></p>\n<p><strong>Adding Java Servlet API dependency to pom.xml</strong></p>\n<p>Now you need to open the <code>pom.xml</code> file. This file helps you to add and manage your project dependencies as it allows you to retrieve them from the Apache Maven repository instead of downloading the JAR files and adding them manually to your project. You need to add the next dependency:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Your pom file should look like this after the previous step:</p>\n<p><a href=\"https://i.stack.imgur.com/rnosP.jpg\" rel=\"nofollow noreferrer\">Adding Java Servlet API dependency</a></p>\n<p>As final step, we need to open the <code>Project Structure</code> settings by pressing <code>Ctrl + Alt + Shift + S</code> or by navigating through <code>File &gt; Project Structure</code>. Here we are going to find a <code>Project Settings</code> section on the left side of the window. We need to go to <code>Facets</code> and you may find a facet named <code>Web</code>. On the bottom of the window you should see an option called <code>Source Roots</code>. You have to enable it by clicking the checkbox, then click <code>Apply</code> and finally <code>OK</code>. You have to make sure that path shown in this section is indeed the path to your projects' <code>src &gt; main &gt; java</code> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/WUJ7D.jpg\" rel=\"nofollow noreferrer\">Marking folder as source root</a></p>\n<p>Once you've done that, you should be able to go to any package in your project and create a servlet as follows: <code>New &gt; Servlet</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/GhumM.jpg\" rel=\"nofollow noreferrer\">Creating servlet</a></p>\n<p><strong>Note:</strong> if you got a syntax error when <code>pom.xml</code> file was created the only thing you need to do is to change the <code>&lt;groupId&gt;&lt;/groupId&gt;</code> tag content to a fully qualified name you want your project to be identified by.</p>\n<p><a href=\"https://i.stack.imgur.com/VzzYm.jpg\" rel=\"nofollow noreferrer\">Given your project a qualified name</a></p>\n<p><strong>Note:</strong> I wasn't able to find a way to configure permanently the <code>src &gt; main &gt; java</code> folder as source root, so every time you close and reopen your project you need to go to <code>Project Structure (Ctrl + Alt + Shift + S) &gt; Facets &gt; Web</code> and mark it as source root again. If you find a way to do this permanently I would appreciate you to share your method.</p>\n<p><strong>More info on</strong></p>\n<ul>\n<li><a href=\"https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af\" rel=\"nofollow noreferrer\">Create a Maven Project with IntelliJ IDEA</a></li>\n<li><a href=\"https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html\" rel=\"nofollow noreferrer\">Getting started with Web Service</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17166145,"reputation":21,"user_id":12424447,"display_name":"Kyaw Zayar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654545927,"creation_date":1654450796,"answer_id":72509698,"question_id":63854849,"body_markdown":" 1. right click *src\\java* &gt; *Mark directory as* &gt; *source root*\r\n 2. go to *File &gt; Project Structure...*\r\n 3. select *Facets*\r\n 4. click *Web(project name)*\r\n 5. check *src\\main\\java* under source root.\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VLANE.png","title":"Where can i find to create new servlet file with intellij?","body":"<ol>\n<li>right click <em>src\\java</em> &gt; <em>Mark directory as</em> &gt; <em>source root</em></li>\n<li>go to <em>File &gt; Project Structure...</em></li>\n<li>select <em>Facets</em></li>\n<li>click <em>Web(project name)</em></li>\n<li>check <em>src\\main\\java</em> under source root.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/VLANE.png\" alt=\"Screenshot\" /></p>\n"},{"tags":[],"owner":{"account_id":28829044,"reputation":1,"user_id":22079949,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698958433,"creation_date":1698846157,"answer_id":77403079,"question_id":63854849,"body_markdown":"**EDIT:** If your using the Jartka EE plugin in Intellij IDEA, this should work.\r\n\r\nI had the same problem but I did this:\r\n\r\n 1. Open Intellij IDEA Settings by *Ctrl + Alt + S*\r\n 2. Go to *Editor -&gt; File and Code templates*\r\n 3. Add File by clicking on **+** icon\r\n 4. Name it by typing **Add new Servlet** in the *Name* field.\r\n 5. Make sure the *Extension* field is **Java**\r\n 6. Copy and Paste this text below and then click *OK* :\r\n```java\r\n#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\r\n#parse(&quot;File Header.java&quot;)\r\nimport java.io.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\n@WebServlet(name = &quot;${NAME}Servlet&quot;, value = &quot;/${NAME}-servlet&quot;)\r\npublic class ${NAME} extends HttpServlet {\r\n    private String message;\r\n\r\n    public void init() {\r\n        message = &quot;Hello World!&quot;;\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```","title":"Where can i find to create new servlet file with intellij?","body":"<p><strong>EDIT:</strong> If your using the Jartka EE plugin in Intellij IDEA, this should work.</p>\n<p>I had the same problem but I did this:</p>\n<ol>\n<li>Open Intellij IDEA Settings by <em>Ctrl + Alt + S</em></li>\n<li>Go to <em>Editor -&gt; File and Code templates</em></li>\n<li>Add File by clicking on <strong>+</strong> icon</li>\n<li>Name it by typing <strong>Add new Servlet</strong> in the <em>Name</em> field.</li>\n<li>Make sure the <em>Extension</em> field is <strong>Java</strong></li>\n<li>Copy and Paste this text below and then click <em>OK</em> :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\n#parse(&quot;File Header.java&quot;)\nimport java.io.*;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n\n@WebServlet(name = &quot;${NAME}Servlet&quot;, value = &quot;/${NAME}-servlet&quot;)\npublic class ${NAME} extends HttpServlet {\n    private String message;\n\n    public void init() {\n        message = &quot;Hello World!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5706,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1698958433,"creation_date":1599861793,"question_id":63854849,"body_markdown":"I&#39;m new learner of JSP programming, so I choose intellij as my IDE.\r\n\r\nI installed Intellij Ultimate, JDK14 from oracle,and Tomcat 9, and then searched for creating new project.\r\n\r\nBut, most of the posts which explain how to create a new servlet project says that\r\n\r\n&quot;when you create new project, you can find Web service checkbox under Additional Libraries and Frameworks in Java Pane.&quot; \r\n\r\nEven JetBrains&#39; are saying the same thing, (https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html), but I couldn&#39;t find it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOf course I checked whether my plugins are enabled.\r\n\r\nAnyway, I found another way to create it by selecting Java Enterprise, and after clicking Next, checking &quot;Web profile&quot; from Libraries and Frameworks.\r\n\r\nBut now, Another problem occurs because **I cannot find &quot;new - servlet project with right clicking on the src or src/main/java**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhy are these things happening? Even if I find some way to create servlet file, maybe there will be other problems like this, I think. \r\n\r\nIs there any prerequiste for JSP project? or is it just because intellij has been ungraded? I wanna know the reason why my intellij is different with others.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w8RQt.png\r\n  [2]: https://i.stack.imgur.com/1k2Kt.png","title":"Where can i find to create new servlet file with intellij?","body":"<p>I'm new learner of JSP programming, so I choose intellij as my IDE.</p>\n<p>I installed Intellij Ultimate, JDK14 from oracle,and Tomcat 9, and then searched for creating new project.</p>\n<p>But, most of the posts which explain how to create a new servlet project says that</p>\n<p>&quot;when you create new project, you can find Web service checkbox under Additional Libraries and Frameworks in Java Pane.&quot;</p>\n<p>Even JetBrains' are saying the same thing, (<a href=\"https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html</a>), but I couldn't find it.</p>\n<p><a href=\"https://i.stack.imgur.com/w8RQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w8RQt.png\" alt=\"enter image description here\" /></a></p>\n<p>Of course I checked whether my plugins are enabled.</p>\n<p>Anyway, I found another way to create it by selecting Java Enterprise, and after clicking Next, checking &quot;Web profile&quot; from Libraries and Frameworks.</p>\n<p>But now, Another problem occurs because <strong>I cannot find &quot;new - servlet project with right clicking on the src or src/main/java</strong></p>\n<p><a href=\"https://i.stack.imgur.com/1k2Kt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1k2Kt.png\" alt=\"enter image description here\" /></a></p>\n<p>Why are these things happening? Even if I find some way to create servlet file, maybe there will be other problems like this, I think.</p>\n<p>Is there any prerequiste for JSP project? or is it just because intellij has been ungraded? I wanna know the reason why my intellij is different with others.</p>\n"},{"tags":["java","spring-boot","slf4j","amazon-kinesis","datadog"],"owner":{"account_id":17149274,"reputation":17,"user_id":12411563,"display_name":"Pier Zegarra Reymundo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698958228,"creation_date":1698958228,"question_id":77412803,"body_markdown":"I&#39;m working with spring boot 2, java 11 and Datadog. I have this problem:\r\nLogs Show Info Status For Warnings Or Errors.\r\nhttps://docs.datadoghq.com/logs/guide/logs-show-info-status-for-warnings-or-errors/#define-a-log-status-remapper\r\nThe Datadog configuration is only failing to one service: The problem is the following:\r\n\r\nThe color of the log mismatches to the status: for instance: \r\nsometimes the color is red and the status is ERROR(ok)\r\nsometimes the color is red but the status is INFO(bad)\r\n\r\nThese are the dependencies related to logs:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.kinesis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIn datadog the log format to the service is:\r\n```\r\n%{date(&quot;HH:mm:ss.SSS&quot;):timestamp}\\s+\\[%{data:thread}\\]\\s+%{word:status}\\s+%{data.class}\\s+-\\s+%{data:message}\r\n```\r\nThis is the logback:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %level %logger{15} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;logger name=&quot;software.amazon.kinesis&quot;&gt;\r\n        &lt;level value=&quot;INFO&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\nCould you please give me any insight to solve it? ","title":"Spring boot/ Datadog- Logs Show Info Status For Warnings Or Errors","body":"<p>I'm working with spring boot 2, java 11 and Datadog. I have this problem:\nLogs Show Info Status For Warnings Or Errors.\n<a href=\"https://docs.datadoghq.com/logs/guide/logs-show-info-status-for-warnings-or-errors/#define-a-log-status-remapper\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/logs/guide/logs-show-info-status-for-warnings-or-errors/#define-a-log-status-remapper</a>\nThe Datadog configuration is only failing to one service: The problem is the following:</p>\n<p>The color of the log mismatches to the status: for instance:\nsometimes the color is red and the status is ERROR(ok)\nsometimes the color is red but the status is INFO(bad)</p>\n<p>These are the dependencies related to logs:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.kinesis&lt;/groupId&gt;\n            &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In datadog the log format to the service is:</p>\n<pre><code>%{date(&quot;HH:mm:ss.SSS&quot;):timestamp}\\s+\\[%{data:thread}\\]\\s+%{word:status}\\s+%{data.class}\\s+-\\s+%{data:message}\n</code></pre>\n<p>This is the logback:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %level %logger{15} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n    &lt;logger name=&quot;software.amazon.kinesis&quot;&gt;\n        &lt;level value=&quot;INFO&quot;/&gt;\n    &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Could you please give me any insight to solve it?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":3814914,"reputation":1785,"user_id":3164492,"accept_rate":71,"display_name":"Devavrata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698957810,"creation_date":1698957810,"question_id":77412783,"body_markdown":"I want to sort within partition based on key in JavaPairRDD using keyComparator. I checked sortByKey it is creating two jobs within one spark submit one without shuffle(single stage:(mapToPair+sortByKey)) and another job with shuffle(two stages: mapToPair &amp; sortByKey).\r\n\r\nThis looks completely unnecessary to have two jobs and I am not able to find way to do inpartition sort. Tried MapParititionsToPair doing\r\n```\r\nrdd.mapParititionsToPair(it -&gt; //creating list and adding element from iterator list then sorting list)\r\n```\r\nis going out of memory. Please help here. ","title":"SortByKey in JavaPairRDD is creating multiple jobs","body":"<p>I want to sort within partition based on key in JavaPairRDD using keyComparator. I checked sortByKey it is creating two jobs within one spark submit one without shuffle(single stage:(mapToPair+sortByKey)) and another job with shuffle(two stages: mapToPair &amp; sortByKey).</p>\n<p>This looks completely unnecessary to have two jobs and I am not able to find way to do inpartition sort. Tried MapParititionsToPair doing</p>\n<pre><code>rdd.mapParititionsToPair(it -&gt; //creating list and adding element from iterator list then sorting list)\n</code></pre>\n<p>is going out of memory. Please help here.</p>\n"},{"tags":["java","spring-boot","gradle","lombok","java-17"],"comments":[{"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"score":2,"creation_date":1631657474,"post_id":69184925,"comment_id":122280898,"body_markdown":"Interesting looks like Java 17 may not yet be supported by Gradle https://docs.gradle.org/current/userguide/compatibility.html \n\n&quot;A Java version between 8 and 16 is required to execute Gradle. Java 17 and later versions are not yet supported.&quot;","body":"Interesting looks like Java 17 may not yet be supported by Gradle <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>   &quot;A Java version between 8 and 16 is required to execute Gradle. Java 17 and later versions are not yet supported.&quot;"},{"owner":{"account_id":288665,"reputation":1204,"user_id":589216,"accept_rate":55,"display_name":"andred"},"score":5,"creation_date":1631689340,"post_id":69184925,"comment_id":122286652,"body_markdown":"I had the same problem with Maven 3.8.2 today. All worked well with OpenJDK 17.ea.3.pma yesterday and started to fail when upgrading to the final release. I got it working again after removing Lombok&#39;s `@Singular` annotation from one of my fields.","body":"I had the same problem with Maven 3.8.2 today. All worked well with OpenJDK 17.ea.3.pma yesterday and started to fail when upgrading to the final release. I got it working again after removing Lombok&#39;s <code>@Singular</code> annotation from one of my fields."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":1,"creation_date":1631736698,"post_id":69184925,"comment_id":122306168,"body_markdown":"Had exactly the same issue today with gradle 7.2 and jdk 17 GA. Filed the bug  at openjdk.java.net as well. Interesting that the guy that closed the issue stated that this probably is NOT the problem with java compiler, but with the code... HA? I would expect from compiler to get clear compilation error message in this case and NOT run time exception....","body":"Had exactly the same issue today with gradle 7.2 and jdk 17 GA. Filed the bug  at openjdk.java.net as well. Interesting that the guy that closed the issue stated that this probably is NOT the problem with java compiler, but with the code... HA? I would expect from compiler to get clear compilation error message in this case and NOT run time exception...."},{"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"score":1,"creation_date":1631743615,"post_id":69184925,"comment_id":122307988,"body_markdown":"Thanks @andred looks like my issue was caused by Lombok as well. After De-lomboking I was able to compile &amp; run the application in question on JDK 17 with Gradle 7.2. If you want to convert your comment an answer for this I will be happy to accept this otherwise will add an answer for others who stumble upon this.","body":"Thanks @andred looks like my issue was caused by Lombok as well. After De-lomboking I was able to compile &amp; run the application in question on JDK 17 with Gradle 7.2. If you want to convert your comment an answer for this I will be happy to accept this otherwise will add an answer for others who stumble upon this."}],"answers":[{"tags":[],"owner":{"account_id":22761140,"reputation":286,"user_id":16919947,"display_name":"haocheng"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1698957546,"creation_date":1631759700,"answer_id":69201733,"question_id":69184925,"body_markdown":"The issue with Lombok `@Singular` annotation is fixed in Lombok `1.8.22` according to [this Lombok github PR][1]. It&#39;s working for me with Maven compiler plugin 3.8.1 and Oracle OpenJDK 17 :)\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/pull/2936","title":"Gradle 7.2 Java 17 Build issue java.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null","body":"<p>The issue with Lombok <code>@Singular</code> annotation is fixed in Lombok <code>1.8.22</code> according to <a href=\"https://github.com/projectlombok/lombok/pull/2936\" rel=\"nofollow noreferrer\">this Lombok github PR</a>. It's working for me with Maven compiler plugin 3.8.1 and Oracle OpenJDK 17 :)</p>\n"}],"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15181,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":69201733,"answer_count":1,"score":21,"last_activity_date":1698957546,"creation_date":1631656584,"question_id":69184925,"body_markdown":"Testing out upgrading some services to Java 17 now that it is GA and ran into the following issue compiling a Gradle 7.2 Spring Boot Application:  \r\n\r\n```\r\n&gt; Task :compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nAn exception has occurred in the compiler (17). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\r\njava.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.handleSwitch(Attr.java:1791)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSwitch(Attr.java:1586)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCSwitch.accept(JCTree.java:1294)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:767)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1445)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1091)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1235)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:921)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:5141)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1317)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:946)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n\tat org.gradle.internal.compiler.java.IncrementalCompileTask.call(IncrementalCompileTask.java:77)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessingCompileTask.call(AnnotationProcessingCompileTask.java:94)\r\n\tat org.gradle.api.internal.tasks.compile.ResourceCleaningCompilationTask.call(ResourceCleaningCompilationTask.java:57)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:55)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:40)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\r\n\tat org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:251)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:98)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:61)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:45)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:300)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:179)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:152)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:498)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:483)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:466)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:105)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:270)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:248)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:84)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:41)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:78)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:49)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:283)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:49)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:35)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nAlso stumbled across this issue https://bugs.openjdk.java.net/browse/JDK-8272981 but that seems to be closed as not an issue with the JDK will attempt different gradle versions to see if this resolves it.\r\n\r\nAny pointers much appreciated thanks.   ","title":"Gradle 7.2 Java 17 Build issue java.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null","body":"<p>Testing out upgrading some services to Java 17 now that it is GA and ran into the following issue compiling a Gradle 7.2 Spring Boot Application:</p>\n<pre><code>&gt; Task :compileJava\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nAn exception has occurred in the compiler (17). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\njava.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.handleSwitch(Attr.java:1791)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSwitch(Attr.java:1586)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCSwitch.accept(JCTree.java:1294)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:767)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1445)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1091)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1235)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:921)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:5141)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1317)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:946)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\n    at org.gradle.internal.compiler.java.IncrementalCompileTask.call(IncrementalCompileTask.java:77)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessingCompileTask.call(AnnotationProcessingCompileTask.java:94)\n    at org.gradle.api.internal.tasks.compile.ResourceCleaningCompilationTask.call(ResourceCleaningCompilationTask.java:57)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:55)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:40)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\n    at org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\n    at org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:251)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:98)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:61)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:45)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:300)\n    at org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:179)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:152)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:498)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:483)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:466)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:105)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:270)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:248)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:84)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:41)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:78)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:49)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:283)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:49)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:35)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Also stumbled across this issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-8272981\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8272981</a> but that seems to be closed as not an issue with the JDK will attempt different gradle versions to see if this resolves it.</p>\n<p>Any pointers much appreciated thanks.</p>\n"},{"tags":["java","kotlin","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1698964337,"post_id":77412611,"comment_id":136474862,"body_markdown":"Rig up a Proxy or Mock debugging Server where it will allow you to make your POST and observer the Header and Body that Postman and your code send.  Then compare.","body":"Rig up a Proxy or Mock debugging Server where it will allow you to make your POST and observer the Header and Body that Postman and your code send.  Then compare."}],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698957517,"creation_date":1698955887,"question_id":77412611,"body_markdown":"How to send a file and some params at the same time using webflux webclient in Java/Kotlin? The following code did not work, it returned `500`, although I could successfully send the same data using Postman&#39;s `form-data`:\r\n\r\n    val multiPartRequest: MultiValueMap&lt;String, Any&gt; = LinkedMultiValueMap()\r\n    multiPartRequest.add(&quot;file&quot;, ByteArrayResource(myByteArray))\r\n    multiPartRequest.add(&quot;param1&quot;, &quot;1&quot;)\r\n    multiPartRequest.add(&quot;param2&quot;, &quot;2&quot;)\r\n        \r\n    webClient.post()\r\n      .uri(&quot;/upload_url&quot;)\r\n      .contentType(MediaType.MULTIPART_FORM_DATA)\r\n      .body(BodyInserters.fromMultipartData(multiPartRequest ))\r\n      .retrieve()","title":"Sending file+params using webclient Spring","body":"<p>How to send a file and some params at the same time using webflux webclient in Java/Kotlin? The following code did not work, it returned <code>500</code>, although I could successfully send the same data using Postman's <code>form-data</code>:</p>\n<pre><code>val multiPartRequest: MultiValueMap&lt;String, Any&gt; = LinkedMultiValueMap()\nmultiPartRequest.add(&quot;file&quot;, ByteArrayResource(myByteArray))\nmultiPartRequest.add(&quot;param1&quot;, &quot;1&quot;)\nmultiPartRequest.add(&quot;param2&quot;, &quot;2&quot;)\n    \nwebClient.post()\n  .uri(&quot;/upload_url&quot;)\n  .contentType(MediaType.MULTIPART_FORM_DATA)\n  .body(BodyInserters.fromMultipartData(multiPartRequest ))\n  .retrieve()\n</code></pre>\n"},{"tags":["java","netbeans-platform","netbeans-plugins"],"comments":[{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1699536794,"post_id":77412706,"comment_id":136546305,"body_markdown":"Not sure if this helps but under https://netbeans.apache.org/wiki/main/wiki/FaqPluginManagerCustomization/ there&#39;s a paragraph &quot;Install all plugins into NetBeans installation directory&quot; which sounds promising","body":"Not sure if this helps but under <a href=\"https://netbeans.apache.org/wiki/main/wiki/FaqPluginManagerCustomization/\" rel=\"nofollow noreferrer\">netbeans.apache.org/wiki/main/wiki/&hellip;</a> there&#39;s a paragraph &quot;Install all plugins into NetBeans installation directory&quot; which sounds promising"}],"owner":{"account_id":7288829,"reputation":85,"user_id":5556026,"display_name":"Shane Gillis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698956990,"creation_date":1698956990,"question_id":77412706,"body_markdown":"I&#39;m writing a NetBeans Plugin for an application that is built upon the NetBeans Platform.  The plugin installs just fine and runs, but my customer has a use case where it would be useful to have the plugin installed for all users, rather than having each user install the plugin manually.\r\n\r\nTo that end, the NetBeans Platform has a plugin option for installing a plugin to a shared location (in NetBeans: Tools-&gt; Plugins; click on the Settings tab on the far right; look for Plugin Install Location at the bottom).\r\n\r\nWhat I&#39;m confused about is how the Shared Location is determined?  I&#39;ve heard it has something to do with the NBM Cluster path ([What is a Cluster?][1]), but I can&#39;t find any information regarding how to use the Cluster to set the install path.\r\n\r\nWhat does happen is that when I install to the User Directory, I get an obvious install to my home directory (`\\home\\$USERNAME\\.appname`).  When I install to the Shared Directory, it installs to `\\root\\.appname`.\r\n\r\nObviously, installing to `\\root` is not the desired behavior.\r\n\r\nDoes anyone have an idea how I can configure the Platform application or my NBM Plugin to install to a better location?\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://netbeans.apache.org/wiki/main/wiki/DevFaqWhatIsACluster/","title":"NetBeans Modules and the &quot;Force Install Into Shared Directories&quot; option for plugins","body":"<p>I'm writing a NetBeans Plugin for an application that is built upon the NetBeans Platform.  The plugin installs just fine and runs, but my customer has a use case where it would be useful to have the plugin installed for all users, rather than having each user install the plugin manually.</p>\n<p>To that end, the NetBeans Platform has a plugin option for installing a plugin to a shared location (in NetBeans: Tools-&gt; Plugins; click on the Settings tab on the far right; look for Plugin Install Location at the bottom).</p>\n<p>What I'm confused about is how the Shared Location is determined?  I've heard it has something to do with the NBM Cluster path (<a href=\"https://netbeans.apache.org/wiki/main/wiki/DevFaqWhatIsACluster/\" rel=\"nofollow noreferrer\">What is a Cluster?</a>), but I can't find any information regarding how to use the Cluster to set the install path.</p>\n<p>What does happen is that when I install to the User Directory, I get an obvious install to my home directory (<code>\\home\\$USERNAME\\.appname</code>).  When I install to the Shared Directory, it installs to <code>\\root\\.appname</code>.</p>\n<p>Obviously, installing to <code>\\root</code> is not the desired behavior.</p>\n<p>Does anyone have an idea how I can configure the Platform application or my NBM Plugin to install to a better location?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1592663678,"post_id":62486925,"comment_id":110508271,"body_markdown":"Shouldn&#39;t that be &quot;file://&quot; rather than &quot;file:///&quot;?","body":"Shouldn&#39;t that be &quot;file://&quot; rather than &quot;file:///&quot;?"},{"owner":{"account_id":7833039,"reputation":469,"user_id":5922263,"display_name":"Ajowi"},"score":3,"creation_date":1592664204,"post_id":62486925,"comment_id":110508425,"body_markdown":"@NomadMaker it has to be file:///","body":"@NomadMaker it has to be file:///"}],"answers":[{"tags":[],"owner":{"account_id":7833039,"reputation":469,"user_id":5922263,"display_name":"Ajowi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592664951,"creation_date":1592664619,"answer_id":62487348,"question_id":62486925,"body_markdown":"Ensure that you have not created another folder called __android_asset__. Since you&#39;ve not shown your assets directory, let the **www** folder be inside the __assets__ folder **(app &gt; src &gt; main &gt;assets)**.\r\nThe matter is, what you must give as &#39;android_asset&#39; is actually shown as &#39;assets&#39; in the directory listing. With this, you can find yourself a solution by rightly targeting your files.","title":"The webpage at file:///android_asset/file.html could not be loaded because: net::ERR_FILE_NOT_FOUND","body":"<p>Ensure that you have not created another folder called <strong>android_asset</strong>. Since you've not shown your assets directory, let the <strong>www</strong> folder be inside the <strong>assets</strong> folder <strong>(app &gt; src &gt; main &gt;assets)</strong>.\nThe matter is, what you must give as 'android_asset' is actually shown as 'assets' in the directory listing. With this, you can find yourself a solution by rightly targeting your files.</p>\n"}],"owner":{"display_name":"user13638878"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62487348,"answer_count":1,"score":0,"last_activity_date":1698956528,"creation_date":1592662275,"question_id":62486925,"body_markdown":"I don&#39;t why I&#39;m getting an error:-\r\n\r\n&gt;The webpage at file:///android_asset/file.html could not be loaded because:\r\nnet::ERR_FILE_NOT_FOUND\r\n\r\n```\r\nWebSettings mysettings = myweb.getSettings();\r\n\t\t\r\n\t\tmysettings.setJavaScriptEnabled(true);\r\n\t\tmysettings.setDomStorageEnabled(true);\r\n\t\t\r\n\t\tmyweb.loadUrl(&quot;file:///android_asset/www/file.html&quot;);\r\n\t\t\r\n\t\tmyweb.setWebViewClient(new WebViewClient());\r\n\t\t\r\n```\r\nHere Is my file \r\n&gt;/RandomPasswordGenerator/app/src/main/assets/www/file.html\r\n","title":"The webpage at file:///android_asset/file.html could not be loaded because: net::ERR_FILE_NOT_FOUND","body":"<p>I don't why I'm getting an error:-</p>\n<blockquote>\n<p>The webpage at file:///android_asset/file.html could not be loaded because:\nnet::ERR_FILE_NOT_FOUND</p>\n</blockquote>\n<pre><code>WebSettings mysettings = myweb.getSettings();\n        \n        mysettings.setJavaScriptEnabled(true);\n        mysettings.setDomStorageEnabled(true);\n        \n        myweb.loadUrl(&quot;file:///android_asset/www/file.html&quot;);\n        \n        myweb.setWebViewClient(new WebViewClient());\n        \n</code></pre>\n<p>Here Is my file</p>\n<blockquote>\n<p>/RandomPasswordGenerator/app/src/main/assets/www/file.html</p>\n</blockquote>\n"},{"tags":["java","jetty","apache-commons","apache-commons-fileupload"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1629217747,"creation_date":1629217154,"answer_id":68820846,"question_id":68820707,"body_markdown":"`commons-fileupload` is not required from Servlet 3.1 onwards.\r\n\r\nIn fact, using `commons-fileupload` in combination with the a container that supports Servlet spec 3.1 (or newer) is actually not recommended.\r\n\r\nThere hasn&#39;t even been a release of `commons-fileupload` since 2018, and no releases that support Servlet 3.1 or newer (the last release of `commons-fileupload` supports Servlet 2.4 and older)\r\n\r\nWhy?  \r\n\r\nThe Multipart features are built into the Servlet spec since 3.1.\r\n\r\nEvery server that supports Servlet 3.1 supports multipart file upload now.\r\n\r\nThat includes Jetty 9.\r\n\r\nUse [`HttpServletRequest.getPart()`][1] API in code.\r\nYou configure it via either the [`@MultipartConfig`][2] annotation and/or the `&lt;multipart-config&gt;` descriptor element in your `WEB-INF/web.xml`\r\n\r\nSee: https://docs.oracle.com/javaee/7/tutorial/servlets011.htm\r\n\r\nSee also past answers on these features.\r\n\r\n* https://stackoverflow.com/a/2424824/775715\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPart-java.lang.String-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/annotation/MultipartConfig.html","title":"Jetty 11 and commons-fileupload","body":"<p><code>commons-fileupload</code> is not required from Servlet 3.1 onwards.</p>\n<p>In fact, using <code>commons-fileupload</code> in combination with the a container that supports Servlet spec 3.1 (or newer) is actually not recommended.</p>\n<p>There hasn't even been a release of <code>commons-fileupload</code> since 2018, and no releases that support Servlet 3.1 or newer (the last release of <code>commons-fileupload</code> supports Servlet 2.4 and older)</p>\n<p>Why?</p>\n<p>The Multipart features are built into the Servlet spec since 3.1.</p>\n<p>Every server that supports Servlet 3.1 supports multipart file upload now.</p>\n<p>That includes Jetty 9.</p>\n<p>Use <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPart-java.lang.String-\" rel=\"noreferrer\"><code>HttpServletRequest.getPart()</code></a> API in code.\nYou configure it via either the <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/annotation/MultipartConfig.html\" rel=\"noreferrer\"><code>@MultipartConfig</code></a> annotation and/or the <code>&lt;multipart-config&gt;</code> descriptor element in your <code>WEB-INF/web.xml</code></p>\n<p>See: <a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets011.htm\" rel=\"noreferrer\">https://docs.oracle.com/javaee/7/tutorial/servlets011.htm</a></p>\n<p>See also past answers on these features.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/2424824/775715\">https://stackoverflow.com/a/2424824/775715</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1144755,"reputation":1415,"user_id":1127772,"display_name":"Carlos Saltos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698955834,"creation_date":1698951533,"answer_id":77412225,"question_id":68820707,"body_markdown":"Apache released the project commons-fileupload2-jakarta compatible with the new API.\r\n\r\nAs a reference please find here a commit with the new Apache Fileupload commons version 2 -&gt; https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe\r\n\r\n**IMPORTANT:** Please use the standard new Servlet API 5 upload interface as previously comment ... only use this low level commons library from Apache when you have non servlets cases or some programmatic dynamic configuration for the uploader (annotations are not good at all for using dynamic values and the usage of XML could not be a viable option) ... for as at Olon Web Framework we use a filter that tries to automate everything, including file upload support with dynamic configuration and the new Apache commons is just perfect for that.","title":"Jetty 11 and commons-fileupload","body":"<p>Apache released the project commons-fileupload2-jakarta compatible with the new API.</p>\n<p>As a reference please find here a commit with the new Apache Fileupload commons version 2 -&gt; <a href=\"https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe\" rel=\"nofollow noreferrer\">https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe</a></p>\n<p><strong>IMPORTANT:</strong> Please use the standard new Servlet API 5 upload interface as previously comment ... only use this low level commons library from Apache when you have non servlets cases or some programmatic dynamic configuration for the uploader (annotations are not good at all for using dynamic values and the usage of XML could not be a viable option) ... for as at Olon Web Framework we use a filter that tries to automate everything, including file upload support with dynamic configuration and the new Apache commons is just perfect for that.</p>\n"}],"owner":{"account_id":20610705,"reputation":207,"user_id":15129964,"display_name":"Ashish Goyanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3443,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68820846,"answer_count":2,"score":7,"last_activity_date":1698955834,"creation_date":1629216501,"question_id":68820707,"body_markdown":"I am updating Jetty9 to Jetty11. I updated my package from javax.servlet to jakarta.servlet because servlet 5.0 is the prerequisite for Jetty11. but the problem is when I am using commons-fileupload`-1.4.jar as it is still using java.servlet package. \r\n\r\n    javax.servlet.http.HttpServletRequest.ServletFileUpload.isMultipartContent(request)\r\n\r\nThe above method is expecting argument from java.servlet package.\r\n\r\nLatest version for commons-fileupload - https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22commons-fileupload%22%20AND%20g%3A%22commons-fileupload%22\r\n\r\nDo we have any way to overcome this problem?\r\n\r\n","title":"Jetty 11 and commons-fileupload","body":"<p>I am updating Jetty9 to Jetty11. I updated my package from javax.servlet to jakarta.servlet because servlet 5.0 is the prerequisite for Jetty11. but the problem is when I am using commons-fileupload`-1.4.jar as it is still using java.servlet package.</p>\n<pre><code>javax.servlet.http.HttpServletRequest.ServletFileUpload.isMultipartContent(request)\n</code></pre>\n<p>The above method is expecting argument from java.servlet package.</p>\n<p>Latest version for commons-fileupload - <a href=\"https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22commons-fileupload%22%20AND%20g%3A%22commons-fileupload%22\" rel=\"noreferrer\">https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22commons-fileupload%22%20AND%20g%3A%22commons-fileupload%22</a></p>\n<p>Do we have any way to overcome this problem?</p>\n"},{"tags":["java","spring-boot","maven","integration","embedded-tomcat-10"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1698958743,"post_id":77412602,"comment_id":136474133,"body_markdown":"The question which comes to my mind. Why do you deploy a spring boot project via cargo into a container? Why not using the spring boot project itself .. it contains tomcat etc.. .? And to run integration tests is not a good idea to use Maven for that.. Better things like usual integration tests on Spring Boot side etc. Why do you really need tests via the container?","body":"The question which comes to my mind. Why do you deploy a spring boot project via cargo into a container? Why not using the spring boot project itself .. it contains tomcat etc.. .? And to run integration tests is not a good idea to use Maven for that.. Better things like usual integration tests on Spring Boot side etc. Why do you really need tests via the container?"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699011877,"post_id":77412602,"comment_id":136480119,"body_markdown":"Originally the code was not spring boot. The server was packaged as a war, in the integration module we used cargo to launch Tomcat and deploy the war. I want to move away from this approach. We now use spring-boot and are switching the server to a jar. But I need to retain the existing integration module behaviour. i.e. Where it launches the server via Maven and executes the integration tests against it.","body":"Originally the code was not spring boot. The server was packaged as a war, in the integration module we used cargo to launch Tomcat and deploy the war. I want to move away from this approach. We now use spring-boot and are switching the server to a jar. But I need to retain the existing integration module behaviour. i.e. Where it launches the server via Maven and executes the integration tests against it."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699219964,"post_id":77412602,"comment_id":136500964,"body_markdown":"I strongly recommend to get rid of that old cargo launch setup ... Spring Boot itself has better support.. Why do you need to retain that? Technically you could launch a spring boot app via `spring-boot:run`? for integration testing but that&#39;s a bad idea... Check this: https://github.com/khmarbaise/fosdem2021 and more explanations here: https://archive.fosdem.org/2021/schedule/event/endtoendtests/","body":"I strongly recommend to get rid of that old cargo launch setup ... Spring Boot itself has better support.. Why do you need to retain that? Technically you could launch a spring boot app via <code>spring-boot:run</code>? for integration testing but that&#39;s a bad idea... Check this: <a href=\"https://github.com/khmarbaise/fosdem2021\" rel=\"nofollow noreferrer\">github.com/khmarbaise/fosdem2021</a> and more explanations here: <a href=\"https://archive.fosdem.org/2021/schedule/event/endtoendtests/\" rel=\"nofollow noreferrer\">archive.fosdem.org/2021/schedule/event/endtoendtests</a>"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699263177,"post_id":77412602,"comment_id":136504894,"body_markdown":"We&#39;re in a transition phase where we&#39;re moving from a war to embedded tomcat jar. This phase is expected to roll out slowly over a few months, during which we&#39;ll support both war (deployed to the cloud) and jar (dev work) builds. I don&#39;t have control over this process. But, as I have to have to support both, I&#39;d like to keep the builds consistent. i.e.  The integration module launches the server and runs the tests against it. I was hitting problems with spring-boot:run, related to TestNG.","body":"We&#39;re in a transition phase where we&#39;re moving from a war to embedded tomcat jar. This phase is expected to roll out slowly over a few months, during which we&#39;ll support both war (deployed to the cloud) and jar (dev work) builds. I don&#39;t have control over this process. But, as I have to have to support both, I&#39;d like to keep the builds consistent. i.e.  The integration module launches the server and runs the tests against it. I was hitting problems with spring-boot:run, related to TestNG."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699263450,"post_id":77412602,"comment_id":136504942,"body_markdown":"It looks like you are using the `io.soebes.simple.rest.application` plugin to launch the server in your E2E tests. When I got the `spring-boot:run` issue I was trying to place that into the integration module&#39;s pom.xml. This lead to the error `java.io.FileNotFoundException: repo/my/server/--spring.application.admin.enabled=true (No such file or directory)`. Not sure what would cause that. I&#39;m almost certainly trying to use the plugin incorrectly in my desire to replicate the cargo functionality. i.e. To launch the server directly, without an external tomcat.","body":"It looks like you are using the <code>io.soebes.simple.rest.application</code> plugin to launch the server in your E2E tests. When I got the <code>spring-boot:run</code> issue I was trying to place that into the integration module&#39;s pom.xml. This lead to the error <code>java.io.FileNotFoundException: repo&#47;my&#47;server&#47;--spring.application.admin.enabled=true (No such file or directory)</code>. Not sure what would cause that. I&#39;m almost certainly trying to use the plugin incorrectly in my desire to replicate the cargo functionality. i.e. To launch the server directly, without an external tomcat."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699263942,"post_id":77412602,"comment_id":136505013,"body_markdown":"BTW, in general I _thought_ that switching the cargo plugin with an alternative that just launches the jar file directly, would be the simplest solution. I&#39;ve been so what surprised by how long it has taken and how undocumented it it. That&#39;s a sign that I may be too focused on this solution.","body":"BTW, in general I <i>thought</i> that switching the cargo plugin with an alternative that just launches the jar file directly, would be the simplest solution. I&#39;ve been so what surprised by how long it has taken and how undocumented it it. That&#39;s a sign that I may be too focused on this solution."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699458261,"post_id":77412602,"comment_id":136534600,"body_markdown":"The question is really what kind of advance you have starting a spring boot application instead of using usual unit- and integration tests without starting up the whole application...Also you seemed to misunderstood the idea of the example because it does not use `spring-boot:run`... and also the output of the error shows some problems...","body":"The question is really what kind of advance you have starting a spring boot application instead of using usual unit- and integration tests without starting up the whole application...Also you seemed to misunderstood the idea of the example because it does not use <code>spring-boot:run</code>... and also the output of the error shows some problems..."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699527666,"post_id":77412602,"comment_id":136544595,"body_markdown":"The tests are bundled as an executable jar file. To catch any build breaks before the deploy, on our build step we launch the server locally and run the integration tests against it. This means the tests run twice during a build. First against a local run of the server (to catch issues before a deploy), then against the integration env (to catch integration env configuration problems) after a deploy.","body":"The tests are bundled as an executable jar file. To catch any build breaks before the deploy, on our build step we launch the server locally and run the integration tests against it. This means the tests run twice during a build. First against a local run of the server (to catch issues before a deploy), then against the integration env (to catch integration env configuration problems) after a deploy."}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698955807,"creation_date":1698955807,"question_id":77412602,"body_markdown":"This question strikes me as being the same as https://stackoverflow.com/questions/4702179/problem-deploying-project-jar-to-running-container-that-was-started-with-maven-c. However the answer there is more than 12 years old. I want to see if there is a modern solution.\r\n\r\nI have a multi-module Maven project with the structure\r\n\r\n```\r\nrepo/pom.xml\r\n  - server/pom.xml\r\n  - integration/pom.xml\r\n```\r\n\r\nOriginally the server we produced is a `war` file. In the integration module we have tests that target the server and validate it. To this end we use the `cargo-maven3-plugin` to start a tomcat container, deploy the `war` to Tomcat, and run the server on the `local host`.\r\n\r\nNow we&#39;re refactoring the project to replace the `war` file with an embedded tomcat jar. i.e. Using the `spring-boot-maven-plugin`. In this new setup I want to persist the existing behaviour. Namely that maven launches the server and then runs the integration tests against the `local host`.\r\n\r\nWhat is the best approach to achieving this? I&#39;ve been experimenting with the `spring-boot-maven-plugin` but I&#39;m getting weird errors with it. e.g.\r\n\r\n&gt; java.io.FileNotFoundException: /Users/user/Development/project/integration/--spring.application.admin.enabled=true (No such file or directory)\r\n\r\nWhich approach is recommended here? Where can I find an example?","title":"Maven how to start a server.jar in a pom.xml for integration tests","body":"<p>This question strikes me as being the same as <a href=\"https://stackoverflow.com/questions/4702179/problem-deploying-project-jar-to-running-container-that-was-started-with-maven-c\">problem deploying project jar to running container that was started with maven cargo plugin</a>. However the answer there is more than 12 years old. I want to see if there is a modern solution.</p>\n<p>I have a multi-module Maven project with the structure</p>\n<pre><code>repo/pom.xml\n  - server/pom.xml\n  - integration/pom.xml\n</code></pre>\n<p>Originally the server we produced is a <code>war</code> file. In the integration module we have tests that target the server and validate it. To this end we use the <code>cargo-maven3-plugin</code> to start a tomcat container, deploy the <code>war</code> to Tomcat, and run the server on the <code>local host</code>.</p>\n<p>Now we're refactoring the project to replace the <code>war</code> file with an embedded tomcat jar. i.e. Using the <code>spring-boot-maven-plugin</code>. In this new setup I want to persist the existing behaviour. Namely that maven launches the server and then runs the integration tests against the <code>local host</code>.</p>\n<p>What is the best approach to achieving this? I've been experimenting with the <code>spring-boot-maven-plugin</code> but I'm getting weird errors with it. e.g.</p>\n<blockquote>\n<p>java.io.FileNotFoundException: /Users/user/Development/project/integration/--spring.application.admin.enabled=true (No such file or directory)</p>\n</blockquote>\n<p>Which approach is recommended here? Where can I find an example?</p>\n"},{"tags":["java","system-administration"],"comments":[{"owner":{"account_id":1837851,"reputation":1741,"user_id":1667841,"accept_rate":95,"display_name":"Ryan.lay"},"score":1,"creation_date":1468662803,"post_id":38408927,"comment_id":64227975,"body_markdown":"Welcome to StackOverflow. To get meaningful answers, please post the relevant code here instead of posting a link or a screenshot.","body":"Welcome to StackOverflow. To get meaningful answers, please post the relevant code here instead of posting a link or a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":6141989,"reputation":50,"user_id":4789127,"display_name":"Zopesconk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468655408,"creation_date":1468655408,"answer_id":38409045,"question_id":38408927,"body_markdown":"Sounds like a problem with your jar file, I would check the more information tag.\r\n\r\nThese links might help you identify your problem:\r\n\r\nAt Michltechblog:\r\n\r\nhttp://michlstechblog.info/blog/java-error-failed-to-validate-certificate-the-application-will-not-be-executed/\r\n\r\nAt MathWorks:\r\n\r\nhttps://www.mathworks.com/matlabcentral/answers/95059-why-do-i-get-an-error-failed-to-validate-certificate-when-running-the-download-agent","title":"Java Error- Failed to validate the certificate","body":"<p>Sounds like a problem with your jar file, I would check the more information tag.</p>\n\n<p>These links might help you identify your problem:</p>\n\n<p>At Michltechblog:</p>\n\n<p><a href=\"http://michlstechblog.info/blog/java-error-failed-to-validate-certificate-the-application-will-not-be-executed/\" rel=\"nofollow\">http://michlstechblog.info/blog/java-error-failed-to-validate-certificate-the-application-will-not-be-executed/</a></p>\n\n<p>At MathWorks:</p>\n\n<p><a href=\"https://www.mathworks.com/matlabcentral/answers/95059-why-do-i-get-an-error-failed-to-validate-certificate-when-running-the-download-agent\" rel=\"nofollow\">https://www.mathworks.com/matlabcentral/answers/95059-why-do-i-get-an-error-failed-to-validate-certificate-when-running-the-download-agent</a></p>\n"},{"tags":[],"owner":{"account_id":8340755,"reputation":51,"user_id":6266146,"display_name":"Avkash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469003160,"creation_date":1469003160,"answer_id":38476085,"question_id":38408927,"body_markdown":"Thanks everyone for your response. Finally i got a solution.\r\n\r\n1. Remove java.security file from location C:\\Program Files (x86)\\Java\\jre1.8.0_91\\lib\\security (or Program Files depends on your OS). Save this at different location for future reuse.  \r\n\r\n2. Add the website (which you want to open) in java security Tab of java control panel.\r\n\r\n3. Restart your browser and try again.\r\n\r\n[java control panel&gt;security&gt;exception_site-list&gt;edit_site_list][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SXTGl.png","title":"Java Error- Failed to validate the certificate","body":"<p>Thanks everyone for your response. Finally i got a solution.</p>\n\n<ol>\n<li><p>Remove java.security file from location C:\\Program Files (x86)\\Java\\jre1.8.0_91\\lib\\security (or Program Files depends on your OS). Save this at different location for future reuse.  </p></li>\n<li><p>Add the website (which you want to open) in java security Tab of java control panel.</p></li>\n<li><p>Restart your browser and try again.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/SXTGl.png\" rel=\"nofollow\">java control panel>security>exception_site-list>edit_site_list</a></p>\n"},{"tags":[],"owner":{"account_id":10913364,"reputation":1,"user_id":17332155,"display_name":"user237961"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698955609,"creation_date":1698955609,"answer_id":77412582,"question_id":38408927,"body_markdown":"This worked for me...\r\n\r\nTo run JNLP files and start Remote Control Managed sessions not using pre-installed Controller, perform the following steps:\r\n\r\nOpen the &quot;java.security&quot; file available in the following directory:\r\n[installation_path]\\server\\java\\jre\\lib\\security\\java.security\r\n\r\nLocate the &quot;jdk.certpath.disabledAlgorithms&quot; property and set it to the following value:\r\n\r\nMD2, MD5, SHA1 jdkCA &amp; usage TLSServer, \\\r\nRSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\r\ninclude jdk.disabled.namedCurves\r\n\r\nSave the file and run the downloaded JNLP file.\r\n\r\nfound it here:  https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0101395","title":"Java Error- Failed to validate the certificate","body":"<p>This worked for me...</p>\n<p>To run JNLP files and start Remote Control Managed sessions not using pre-installed Controller, perform the following steps:</p>\n<p>Open the &quot;java.security&quot; file available in the following directory:\n[installation_path]\\server\\java\\jre\\lib\\security\\java.security</p>\n<p>Locate the &quot;jdk.certpath.disabledAlgorithms&quot; property and set it to the following value:</p>\n<p>MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, <br />\nRSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, <br />\ninclude jdk.disabled.namedCurves</p>\n<p>Save the file and run the downloaded JNLP file.</p>\n<p>found it here:  <a href=\"https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0101395\" rel=\"nofollow noreferrer\">https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0101395</a></p>\n"}],"owner":{"account_id":8340755,"reputation":51,"user_id":6266146,"display_name":"Avkash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1698955609,"creation_date":1468654413,"question_id":38408927,"body_markdown":"I&#39;m trying to access remote control of my IBM blade center management module through web console but it showing Failed to validate the certificate and unable to start the remote connection. Please check the attached image of error. Please reply if any one have its solution. \r\n[Click here for screen shot][1]\r\n\r\n    sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: algorithm constraints check failed\r\n\tat sun.security.validator.PKIXValidator.doValidate(Unknown Source)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.getValidationState(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.validateChain(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.isAllPermissionGrantedInt(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.isAllPermissionGranted(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.isTrustedByTrustDecider(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.getPermissions(Unknown Source)\r\n\tat sun.plugin2.applet.Applet2ClassLoader.getPermissions(Unknown Source)\r\n\tat java.security.SecureClassLoader.getProtectionDomain(Unknown Source)\r\n\tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n\tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.defineClassHelper(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.access$100(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.findClassHelper(Unknown Source)\r\n\tat sun.plugin2.applet.Applet2ClassLoader.findClass(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadCode(Unknown Source)\r\n\t\r\nI have also commented this line\r\njdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024\r\n\r\nand also tried by removing all files from security but still getting the same error.\r\n  [1]: https://i.stack.imgur.com/U1Uy9.png","title":"Java Error- Failed to validate the certificate","body":"<p>I'm trying to access remote control of my IBM blade center management module through web console but it showing Failed to validate the certificate and unable to start the remote connection. Please check the attached image of error. Please reply if any one have its solution. \n<a href=\"https://i.stack.imgur.com/U1Uy9.png\" rel=\"nofollow\">Click here for screen shot</a></p>\n\n<pre><code>sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: algorithm constraints check failed\nat sun.security.validator.PKIXValidator.doValidate(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat com.sun.deploy.security.TrustDecider.getValidationState(Unknown Source)\nat com.sun.deploy.security.TrustDecider.validateChain(Unknown Source)\nat com.sun.deploy.security.TrustDecider.isAllPermissionGrantedInt(Unknown Source)\nat com.sun.deploy.security.TrustDecider.isAllPermissionGranted(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.isTrustedByTrustDecider(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.getPermissions(Unknown Source)\nat sun.plugin2.applet.Applet2ClassLoader.getPermissions(Unknown Source)\nat java.security.SecureClassLoader.getProtectionDomain(Unknown Source)\nat java.security.SecureClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.defineClass(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.defineClassHelper(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.access$100(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.plugin2.applet.Plugin2ClassLoader.findClassHelper(Unknown Source)\nat sun.plugin2.applet.Applet2ClassLoader.findClass(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadCode(Unknown Source)\n</code></pre>\n\n<p>I have also commented this line\njdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024</p>\n\n<p>and also tried by removing all files from security but still getting the same error.</p>\n"},{"tags":["java","gradle","apache-poi"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698948424,"post_id":77411851,"comment_id":136472405,"body_markdown":"What did you try in the command line exactly? Share command and output. Are you trying to use POI in a project or building it?","body":"What did you try in the command line exactly? Share command and output. Are you trying to use POI in a project or building it?"},{"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"score":0,"creation_date":1698949957,"post_id":77411851,"comment_id":136472679,"body_markdown":"Added the command line in the main body above.","body":"Added the command line in the main body above."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1698966008,"post_id":77411851,"comment_id":136475078,"body_markdown":"You can get the jars from https://repo1.maven.org/maven2/org/apache/poi/ - just traverse the directories. You might find it useful to study a build tool like Gradle or Maven - these tools can fetch these jars for you.","body":"You can get the jars from <a href=\"https://repo1.maven.org/maven2/org/apache/poi/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/apache/poi</a> - just traverse the directories. You might find it useful to study a build tool like Gradle or Maven - these tools can fetch these jars for you."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1698966144,"post_id":77411851,"comment_id":136475089,"body_markdown":"https://github.com/pjfanning/poi-gradle-example is a straightforward example that uses the poi 5.2.4 jars that are available in maven central.","body":"<a href=\"https://github.com/pjfanning/poi-gradle-example\" rel=\"nofollow noreferrer\">github.com/pjfanning/poi-gradle-example</a> is a straightforward example that uses the poi 5.2.4 jars that are available in maven central."}],"answers":[{"tags":[],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698955603,"creation_date":1698955603,"answer_id":77412581,"question_id":77411851,"body_markdown":"I got it to work by editing the build.gradle file.  It was defaulting to 8 if the detection didn&#39;t work.\r\n\r\nI change this line:\r\n\r\n    jdkVersion = (project.properties[&#39;jdkVersion&#39;] ?: &#39;8&#39;) as int\r\n\r\nTo this:\r\n\r\n    jdkVersion = (21) as int\r\n\r\nin build.gradle and it ran.  Of course, you would have to change it to whatever version you were running if you had the same error or could address the auto-detection.","title":"Issues with Gradle building Apache POI package for java","body":"<p>I got it to work by editing the build.gradle file.  It was defaulting to 8 if the detection didn't work.</p>\n<p>I change this line:</p>\n<pre><code>jdkVersion = (project.properties['jdkVersion'] ?: '8') as int\n</code></pre>\n<p>To this:</p>\n<pre><code>jdkVersion = (21) as int\n</code></pre>\n<p>in build.gradle and it ran.  Of course, you would have to change it to whatever version you were running if you had the same error or could address the auto-detection.</p>\n"}],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698955603,"creation_date":1698947682,"question_id":77411851,"body_markdown":"Previously when using Apache packages, they have included jar files and all I had to do was import them into by build path.\r\n\r\nWith Apache POI (5.2.4-20230921), it now uses Gradle to build the jars.\r\n\r\nI have tried to build POI in Eclipse (2022-03) by going to import--&gt;Existing Gradle Project and selecting the root directory.  When I do, I get the following:\r\n\r\n&gt; The supplied phased action failed with an exception. A problem\r\n&gt; occurred configuring project &#39;:poi&#39;. A problem occurred evaluating\r\n&gt; project &#39;:poi&#39;. Failed to calculate the value of task\r\n&gt; &#39;:poi:compileTestJava&#39; property &#39;javaCompiler&#39;. No matching toolchains\r\n&gt; found for requested specification: {languageVersion=8, vendor=any,\r\n&gt; implementation=vendor-specific} for WINDOWS on x86_64. No locally\r\n&gt; installed toolchains match and toolchain download repositories have\r\n&gt; not been configured.\tpoi-src-5.2.4-20230921-5.2.4\t\tline 0\tGradle Error\r\n&gt; Marker\r\n\r\nWhen I try on the command line, I get the same thing.  I have looked up the toolchain information here &quot;https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection&quot;, but it didn&#39;t help any.  Running with --debug and --stacktrace gave me a bunch of additional information that didn&#39;t mean much to me.\r\n\r\nI have not changed build.gradle from Apache, but here are the toolchain lines:\r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(jdkVersion)\r\n            if (jdkVendor != &#39;&#39;) vendor = JvmVendorSpec.matching(jdkVendor)\r\n        }\r\n        withJavadocJar()\r\n        withSourcesJar()\r\n    }\r\n\r\nI have never used Gradle before so this might be something simple.  I am using java 21.0.1 2023-10-17 LTS, which was downloaded and installed today.  It also did not work with my previous version.\r\n\r\nAny thoughts on what is going on?  It seems that downloading the most recent version of Gradle and using with the most recent java and Apache package should be a pretty seamless process.\r\n\r\nTo address the first comment, I put gradle into the poi folder and ran gradle.bat.  Here is the command and output:\r\n\r\n    poi-src-5.2.4-20230921-5.2.4&gt;gradle.bat\r\n    Configuration on demand is an incubating feature.\r\n    \r\n    &gt; Configure project :\r\n    Trying to override old definition of datatype junit\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\Users\\x\\eclipse-workspace\\poi-src-5.2.4-20230921-5.2.4\\poi\\build.gradle&#39; line: 82\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:poi&#39;.\r\n    &gt; Failed to calculate the value of task &#39;:poi:compileTestJava&#39; property &#39;javaCompiler&#39;.\r\n       &gt; No matching toolchains found for requested specification: {languageVersion=8, vendor=any, implementation=vendor-specific} for WINDOWS on x86_64.\r\n          &gt; No locally installed toolchains match and toolchain download repositories have not been configured.\r\n    \r\n    * Try:\r\n    &gt; Learn more about toolchain auto-detection at https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection.\r\n    &gt; Learn more about toolchain repositories at https://docs.gradle.org/8.4/userguide/toolchains.html#sub:download_repositories.\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    For more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n    \r\n    BUILD FAILED in 1s\r\n\r\n","title":"Issues with Gradle building Apache POI package for java","body":"<p>Previously when using Apache packages, they have included jar files and all I had to do was import them into by build path.</p>\n<p>With Apache POI (5.2.4-20230921), it now uses Gradle to build the jars.</p>\n<p>I have tried to build POI in Eclipse (2022-03) by going to import--&gt;Existing Gradle Project and selecting the root directory.  When I do, I get the following:</p>\n<blockquote>\n<p>The supplied phased action failed with an exception. A problem\noccurred configuring project ':poi'. A problem occurred evaluating\nproject ':poi'. Failed to calculate the value of task\n':poi:compileTestJava' property 'javaCompiler'. No matching toolchains\nfound for requested specification: {languageVersion=8, vendor=any,\nimplementation=vendor-specific} for WINDOWS on x86_64. No locally\ninstalled toolchains match and toolchain download repositories have\nnot been configured.  poi-src-5.2.4-20230921-5.2.4        line 0  Gradle Error\nMarker</p>\n</blockquote>\n<p>When I try on the command line, I get the same thing.  I have looked up the toolchain information here &quot;https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection&quot;, but it didn't help any.  Running with --debug and --stacktrace gave me a bunch of additional information that didn't mean much to me.</p>\n<p>I have not changed build.gradle from Apache, but here are the toolchain lines:</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(jdkVersion)\n        if (jdkVendor != '') vendor = JvmVendorSpec.matching(jdkVendor)\n    }\n    withJavadocJar()\n    withSourcesJar()\n}\n</code></pre>\n<p>I have never used Gradle before so this might be something simple.  I am using java 21.0.1 2023-10-17 LTS, which was downloaded and installed today.  It also did not work with my previous version.</p>\n<p>Any thoughts on what is going on?  It seems that downloading the most recent version of Gradle and using with the most recent java and Apache package should be a pretty seamless process.</p>\n<p>To address the first comment, I put gradle into the poi folder and ran gradle.bat.  Here is the command and output:</p>\n<pre><code>poi-src-5.2.4-20230921-5.2.4&gt;gradle.bat\nConfiguration on demand is an incubating feature.\n\n&gt; Configure project :\nTrying to override old definition of datatype junit\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\x\\eclipse-workspace\\poi-src-5.2.4-20230921-5.2.4\\poi\\build.gradle' line: 82\n\n* What went wrong:\nA problem occurred evaluating project ':poi'.\n&gt; Failed to calculate the value of task ':poi:compileTestJava' property 'javaCompiler'.\n   &gt; No matching toolchains found for requested specification: {languageVersion=8, vendor=any, implementation=vendor-specific} for WINDOWS on x86_64.\n      &gt; No locally installed toolchains match and toolchain download repositories have not been configured.\n\n* Try:\n&gt; Learn more about toolchain auto-detection at https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection.\n&gt; Learn more about toolchain repositories at https://docs.gradle.org/8.4/userguide/toolchains.html#sub:download_repositories.\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD FAILED in 1s\n</code></pre>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1413660346,"post_id":26443634,"comment_id":41530109,"body_markdown":"What do you think `target - nums[start]` does?","body":"What do you think <code>target - nums[start]</code> does?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1413660599,"post_id":26443634,"comment_id":41530178,"body_markdown":"You start out with a number `target`, each time you progress to the next element of the array you subtract the current element, and if you reach `0` then you&#39;ve found a combination of numbers that the subtraction resulted in `0`, meaning adding the numbers together would have given the number.","body":"You start out with a number <code>target</code>, each time you progress to the next element of the array you subtract the current element, and if you reach <code>0</code> then you&#39;ve found a combination of numbers that the subtraction resulted in <code>0</code>, meaning adding the numbers together would have given the number."}],"answers":[{"tags":[],"owner":{"account_id":2095459,"reputation":3057,"user_id":1864339,"display_name":"Carlos Verdes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413661323,"creation_date":1413661323,"answer_id":26443793,"question_id":26443634,"body_markdown":"The idea is to test all the possible subarray options, something like &quot;what happen if i get next element?&quot; and...  &quot;what happen if i don&#39;t?&quot;.\r\n\r\nSo, for any element in the array your are making two recursive calls (two options, take it or not) and... if one of them is OK the solution is reached (so return true).\r\n\r\nIn the next recursive call you pick the number, so you call with the next index element (start+1) and substract the picked number from the target (imagine your target is 8 and the current element is 2... the recursive call is to check the next numbers with target 8-2= 6).\r\n\r\n    if (groupSum6(start + 1, nums, target - nums[start])) {\r\n            return true;\r\n        }\r\n\r\nThe next recursive call is the same but you don&#39;t pick the current number so... target will be the same (in the previous example you will check the next number with target 8);\r\n\r\n     return groupSum6(start + 1, nums, target);\r\n\r\n\r\nAnd... here it comes the 6 restriction... if you find a 6 then you have no more options than to pick the number so... you put that condition first (and in this scenario there is only one call because you have no options):\r\n\r\n    if (nums[start] == 6) {\r\n            return groupSum6(start + 1, nums, target - nums[start]);\r\n        }","title":"Recursion confusion","body":"<p>The idea is to test all the possible subarray options, something like \"what happen if i get next element?\" and...  \"what happen if i don't?\".</p>\n\n<p>So, for any element in the array your are making two recursive calls (two options, take it or not) and... if one of them is OK the solution is reached (so return true).</p>\n\n<p>In the next recursive call you pick the number, so you call with the next index element (start+1) and substract the picked number from the target (imagine your target is 8 and the current element is 2... the recursive call is to check the next numbers with target 8-2= 6).</p>\n\n<pre><code>if (groupSum6(start + 1, nums, target - nums[start])) {\n        return true;\n    }\n</code></pre>\n\n<p>The next recursive call is the same but you don't pick the current number so... target will be the same (in the previous example you will check the next number with target 8);</p>\n\n<pre><code> return groupSum6(start + 1, nums, target);\n</code></pre>\n\n<p>And... here it comes the 6 restriction... if you find a 6 then you have no more options than to pick the number so... you put that condition first (and in this scenario there is only one call because you have no options):</p>\n\n<pre><code>if (nums[start] == 6) {\n        return groupSum6(start + 1, nums, target - nums[start]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4839653,"reputation":450,"user_id":3905052,"display_name":"chope_chope"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413662368,"creation_date":1413662368,"answer_id":26443984,"question_id":26443634,"body_markdown":"The reason this works is that the recursive call always checks to see if the number at the current index is a 6 and subtracts that from the target.  So the order of evaluation is:\r\n\r\n1)\r\n\r\n    if (start == nums.length) {\r\n        if (target == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nCheck to see if the passed index is the length of the array (so this would mean the index is BEYOND the bounds of the array - the last index of the array would be nums[nums.length - 1] ).  If yes, AND if the target is 0, return true.  Otherwise return false, because there are no more values to check\r\n\r\n2)\r\n    if (nums[start] == 6) {\r\n        return groupSum6(start + 1, nums, target - nums[start]);\r\n    }\r\n\r\nCheck if the number at the index is 6.  If it is, subtract 6 from the target, add one to the index, and check the remaining values.\r\n\r\n3) Otherwise...\r\n\r\n    if (groupSum6(start + 1, nums, target - nums[start])) {\r\n        return true;\r\n    }\r\n\r\nEvaluate if the rest of the array works to add up to the target.  If it does return true.  The key is to notice that this step will always happen AFTER we check if the value is a 6.  Essentially here you are looking for a solution that COUNTS the number in the start index.  If a solution is found we can end.  If no solution is found using the number at num[start], then we go on to:\r\n\r\n4)\r\n\r\n    return groupSum6(start + 1, nums, target);\r\n\r\nChecking for a solution that exists when we DON&#39;T use the number at num[start].\r\n\r\nThe key is that each time the recursive call is made the check for a 6 is done first ( assuming you aren&#39;t beyond the bounds of the array).\r\n\r\n","title":"Recursion confusion","body":"<p>The reason this works is that the recursive call always checks to see if the number at the current index is a 6 and subtracts that from the target.  So the order of evaluation is:</p>\n\n<p>1)</p>\n\n<pre><code>if (start == nums.length) {\n    if (target == 0) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Check to see if the passed index is the length of the array (so this would mean the index is BEYOND the bounds of the array - the last index of the array would be nums[nums.length - 1] ).  If yes, AND if the target is 0, return true.  Otherwise return false, because there are no more values to check</p>\n\n<p>2)\n    if (nums[start] == 6) {\n        return groupSum6(start + 1, nums, target - nums[start]);\n    }</p>\n\n<p>Check if the number at the index is 6.  If it is, subtract 6 from the target, add one to the index, and check the remaining values.</p>\n\n<p>3) Otherwise...</p>\n\n<pre><code>if (groupSum6(start + 1, nums, target - nums[start])) {\n    return true;\n}\n</code></pre>\n\n<p>Evaluate if the rest of the array works to add up to the target.  If it does return true.  The key is to notice that this step will always happen AFTER we check if the value is a 6.  Essentially here you are looking for a solution that COUNTS the number in the start index.  If a solution is found we can end.  If no solution is found using the number at num[start], then we go on to:</p>\n\n<p>4)</p>\n\n<pre><code>return groupSum6(start + 1, nums, target);\n</code></pre>\n\n<p>Checking for a solution that exists when we DON'T use the number at num[start].</p>\n\n<p>The key is that each time the recursive call is made the check for a 6 is done first ( assuming you aren't beyond the bounds of the array).</p>\n"},{"tags":[],"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573912403,"creation_date":1573912403,"answer_id":58891435,"question_id":26443634,"body_markdown":"Just do this check if the number is 6 and then decide to skip it \r\n\r\n    public boolean groupSum6(int start, int[] nums, int target) {\r\n    //exit condition and if target becomes 0\r\n    if(start &gt;= nums.length) return (target ==0);\r\n    \r\n    // subtracting the number at start from target and make a recursive //call to groupSum6\r\n    if(groupSum6(start+1 , nums  , target - nums[start])) return true;\r\n    //check if the number at start is 6 or not then decide to skip it\r\n    if(nums[start] != 6  &amp;&amp; groupSum6(start+1 , nums , target)) return true;\r\n    //if target does not becomes 0\r\n    return false;  \r\n    }\r\n\r\n","title":"Recursion confusion","body":"<p>Just do this check if the number is 6 and then decide to skip it </p>\n\n<pre><code>public boolean groupSum6(int start, int[] nums, int target) {\n//exit condition and if target becomes 0\nif(start &gt;= nums.length) return (target ==0);\n\n// subtracting the number at start from target and make a recursive //call to groupSum6\nif(groupSum6(start+1 , nums  , target - nums[start])) return true;\n//check if the number at start is 6 or not then decide to skip it\nif(nums[start] != 6  &amp;&amp; groupSum6(start+1 , nums , target)) return true;\n//if target does not becomes 0\nreturn false;  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28709262,"reputation":35,"user_id":21985054,"display_name":"mosid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698955351,"creation_date":1698820283,"answer_id":77400752,"question_id":26443634,"body_markdown":"I did something similar as previous question:\r\n```\r\npublic boolean groupSum6(int start, int[] nums, int target) {\r\n  if (target == 0) return true;\r\n  if (start &gt;= nums.length) return false;\r\n  if (nums[start] == 6)\r\n    return groupSum6(start+1, nums, target-nums[start]);\r\n  return groupSum6(start+1, nums, target-nums[start]) || groupSum6(start+1, nums, target);\r\n}\r\n```\r\nBut it failed in 3 test cases\r\n`groupSum6(0, [1, 6, 2, 6, 4], 9)`\r\n`groupSum6(0, [3, 2, 4, 6], 3)`\r\n`groupSum6(0, [5, 2, 4, 6], 9)` , \r\nso I had to replace the base condition as the above one\r\n```\r\nif (start == nums.length) {\r\n  if (target == 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n```\r\n\r\nI realized that the `start == nums.length` is necessary since there could be the possibility of more 6 in array, if its not the end of array and we have not included it but got the target.","title":"Recursion confusion","body":"<p>I did something similar as previous question:</p>\n<pre><code>public boolean groupSum6(int start, int[] nums, int target) {\n  if (target == 0) return true;\n  if (start &gt;= nums.length) return false;\n  if (nums[start] == 6)\n    return groupSum6(start+1, nums, target-nums[start]);\n  return groupSum6(start+1, nums, target-nums[start]) || groupSum6(start+1, nums, target);\n}\n</code></pre>\n<p>But it failed in 3 test cases\n<code>groupSum6(0, [1, 6, 2, 6, 4], 9)</code>\n<code>groupSum6(0, [3, 2, 4, 6], 3)</code>\n<code>groupSum6(0, [5, 2, 4, 6], 9)</code> ,\nso I had to replace the base condition as the above one</p>\n<pre><code>if (start == nums.length) {\n  if (target == 0) {\n    return true;\n  }\n  return false;\n}\n</code></pre>\n<p>I realized that the <code>start == nums.length</code> is necessary since there could be the possibility of more 6 in array, if its not the end of array and we have not included it but got the target.</p>\n"}],"owner":{"account_id":4764172,"reputation":61,"user_id":3850774,"accept_rate":26,"display_name":"Sarah Markers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1698955351,"creation_date":1413660219,"question_id":26443634,"body_markdown":"I am writing a function according to the following guidelines:\r\n    \r\nGiven an array of ints, is it possible to choose a group of some of the ints, beginning at the start index, such that the group sums to the given target? However, with the additional constraint that all 6&#39;s must be chosen. (No loops needed.) \r\n\r\n    groupSum6(0, {5, 6, 2}, 8) → true\r\n    groupSum6(0, {5, 6, 2}, 9) → false\r\n    groupSum6(0, {5, 6, 2}, 7) → false\r\n\r\nThis is the solution:\r\n\r\n    public boolean groupSum6(int start, int[] nums, int target) {\r\n        if (start == nums.length) {\r\n            if (target == 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        if (nums[start] == 6) {\r\n            return groupSum6(start + 1, nums, target - nums[start]);\r\n        }\r\n        if (groupSum6(start + 1, nums, target - nums[start])) {\r\n            return true;\r\n        }\r\n        return groupSum6(start + 1, nums, target);\r\n    }\r\n\r\nI am a little confused about why this works. I understand how it adds 6s, but where are the other numbers tested to see if they will add up to the target after the 6s have been added? Where are other non-6 numbers added?","title":"Recursion confusion","body":"<p>I am writing a function according to the following guidelines:</p>\n\n<p>Given an array of ints, is it possible to choose a group of some of the ints, beginning at the start index, such that the group sums to the given target? However, with the additional constraint that all 6's must be chosen. (No loops needed.) </p>\n\n<pre><code>groupSum6(0, {5, 6, 2}, 8) → true\ngroupSum6(0, {5, 6, 2}, 9) → false\ngroupSum6(0, {5, 6, 2}, 7) → false\n</code></pre>\n\n<p>This is the solution:</p>\n\n<pre><code>public boolean groupSum6(int start, int[] nums, int target) {\n    if (start == nums.length) {\n        if (target == 0) {\n            return true;\n        }\n        return false;\n    }\n    if (nums[start] == 6) {\n        return groupSum6(start + 1, nums, target - nums[start]);\n    }\n    if (groupSum6(start + 1, nums, target - nums[start])) {\n        return true;\n    }\n    return groupSum6(start + 1, nums, target);\n}\n</code></pre>\n\n<p>I am a little confused about why this works. I understand how it adds 6s, but where are the other numbers tested to see if they will add up to the target after the 6s have been added? Where are other non-6 numbers added?</p>\n"},{"tags":["java","pointers","reference","jvm"],"comments":[{"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"score":0,"creation_date":1698957102,"post_id":77412510,"comment_id":136473897,"body_markdown":"Kind of, I really understand the concept but it&#39;s so confusing that, let&#39;s say you pass the value of a reference into a function, now I don&#39;t really know what value I pass, I just know that the function variable now points to the same object. I want to know that there is a memory address or another value interpreted later by the JVM","body":"Kind of, I really understand the concept but it&#39;s so confusing that, let&#39;s say you pass the value of a reference into a function, now I don&#39;t really know what value I pass, I just know that the function variable now points to the same object. I want to know that there is a memory address or another value interpreted later by the JVM"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698957968,"post_id":77412510,"comment_id":136474025,"body_markdown":"You can think of it as an address in memory, the number of the first octet of memory where the content of that object (its state, and references to methods defined in the class) lives. For [memory safety](https://en.wikipedia.org/wiki/Memory_safety), a reference in Java is not literally a memory address. But you can think of it as that. And so, values in Java are [always pass-by-value](https://stackoverflow.com/q/40480/642706), not pass-by-reference. Passing a primitive passes its content: a number, a boolean, etc. Passing an object passes its content: our pretend memory address.","body":"You can think of it as an address in memory, the number of the first octet of memory where the content of that object (its state, and references to methods defined in the class) lives. For <a href=\"https://en.wikipedia.org/wiki/Memory_safety\" rel=\"nofollow noreferrer\">memory safety</a>, a reference in Java is not literally a memory address. But you can think of it as that. And so, values in Java are <a href=\"https://stackoverflow.com/q/40480/642706\">always pass-by-value</a>, not pass-by-reference. Passing a primitive passes its content: a number, a boolean, etc. Passing an object passes its content: our pretend memory address."},{"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"score":0,"creation_date":1698966494,"post_id":77412510,"comment_id":136475132,"body_markdown":"So inside the reference variable is stored an &quot;intermediate&quot; value that points to the actual address? Not the address itself? I understand that in developer perspective this change nothing, but I really want to know if it s stored the actual address or an intermediate value interpreted by the JVM to reference that object. Thanks!","body":"So inside the reference variable is stored an &quot;intermediate&quot; value that points to the actual address? Not the address itself? I understand that in developer perspective this change nothing, but I really want to know if it s stored the actual address or an intermediate value interpreted by the JVM to reference that object. Thanks!"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1698968169,"post_id":77412510,"comment_id":136475292,"body_markdown":"With modern OSs&#39; memory virtualization, there are no &#39;real&#39; addresses anymore. Each program has its own linear RAM, starting at 0. The OS converts that address to the real location. That may be RAM or swap file or someplace even weirder. It gets even more complicated with Level x caches. So, Java reference variables, like any application on modern operating systems, point to that virtual address. And Java reference variables are only address values (&quot;pointers&quot;) at runtime, but lots of metadata is stored someplace else, like for Garbage Collection etc. Every JVM and GC handles it differently.","body":"With modern OSs&#39; memory virtualization, there are no &#39;real&#39; addresses anymore. Each program has its own linear RAM, starting at 0. The OS converts that address to the real location. That may be RAM or swap file or someplace even weirder. It gets even more complicated with Level x caches. So, Java reference variables, like any application on modern operating systems, point to that virtual address. And Java reference variables are only address values (&quot;pointers&quot;) at runtime, but lots of metadata is stored someplace else, like for Garbage Collection etc. Every JVM and GC handles it differently."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1698968730,"post_id":77412510,"comment_id":136475347,"body_markdown":"So, on top of the RAM virtualization: In most JVMs, when the Garbage Collector runs a cycle, it needs to block off all access (pause threads) to the sector it&#39;s clearing up, then moves the memory contents, then updates all reference variables to point to the new location, then it can resume the threads. AND there are even other effects worth noting, like JVM&#39;s runtime optimization, mostly JIT-compilation, which AGAIN may change the behaviour of the JVM, how and where it loads Objects: stack, heap, permgen, metaspace, eden vs survivor memory, constant pools, just to throw in a few names...","body":"So, on top of the RAM virtualization: In most JVMs, when the Garbage Collector runs a cycle, it needs to block off all access (pause threads) to the sector it&#39;s clearing up, then moves the memory contents, then updates all reference variables to point to the new location, then it can resume the threads. AND there are even other effects worth noting, like JVM&#39;s runtime optimization, mostly JIT-compilation, which AGAIN may change the behaviour of the JVM, how and where it loads Objects: stack, heap, permgen, metaspace, eden vs survivor memory, constant pools, just to throw in a few names..."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698971889,"post_id":77412510,"comment_id":136475648,"body_markdown":"P.S. The last sentence in my Comment was missing a crucial word: *reference*: Passing an object reference passes its content: our pretend memory address. (We never pass objects in Java; we pass object references.)","body":"P.S. The last sentence in my Comment was missing a crucial word: <i>reference</i>: Passing an object reference passes its content: our pretend memory address. (We never pass objects in Java; we pass object references.)"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699000525,"post_id":77412510,"comment_id":136478241,"body_markdown":"Early implementations used a handle which was a pointer to a pointer. Nowadays it’s more than often just a pointer (memory address) or the memory address divided by eight (when your heap size is &gt;4GB and &lt;32GB).","body":"Early implementations used a handle which was a pointer to a pointer. Nowadays it’s more than often just a pointer (memory address) or the memory address divided by eight (when your heap size is &gt;4GB and &lt;32GB)."},{"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"score":0,"creation_date":1699019647,"post_id":77412510,"comment_id":136481667,"body_markdown":"Ok, thanks for all, but what if the address of an object changes during GC? The reference variable will hold the same address?","body":"Ok, thanks for all, but what if the address of an object changes during GC? The reference variable will hold the same address?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1699028598,"post_id":77412510,"comment_id":136483857,"body_markdown":"Check out some articles explaining Garbage Collectors. Or read my last comment. It names the 4 basic steps most GCs need. I wrote that comment to hint at why for most reference variables (depending in which JVM space their target data lies) the JVM needs additional metadata stored or generated. Instead of going on here, why don&#39;t you read articles or specifications for the Java Memory Model? There are enough out there, and they will answer all your questions in detail.","body":"Check out some articles explaining Garbage Collectors. Or read my last comment. It names the 4 basic steps most GCs need. I wrote that comment to hint at why for most reference variables (depending in which JVM space their target data lies) the JVM needs additional metadata stored or generated. Instead of going on here, why don&#39;t you read articles or specifications for the Java Memory Model? There are enough out there, and they will answer all your questions in detail."}],"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698957529,"answer_count":0,"score":0,"last_activity_date":1698954645,"creation_date":1698954645,"question_id":77412510,"body_markdown":"I read a lot of articles regarding this subject and I really want to understand what is the value that it&#39;s stored inside a reference variable in java. There are just too many opinions for such a basic question.\r\nIt&#39;s not clear for me it&#39;s just the physical memory address(but we can&#39;t access it or manage it) or it&#39;s another value that JVM use it to recognise the object(I saw a lot of times the &quot;handler&quot; word)?\r\nI know that the implementation may depend on the java/JVM version\r\n\r\nIs there any version of java/JVM where references are implemented as memory addresses? Or maybe in all of them ?","title":"What is the actual value of a reference variable in java?","body":"<p>I read a lot of articles regarding this subject and I really want to understand what is the value that it's stored inside a reference variable in java. There are just too many opinions for such a basic question.\nIt's not clear for me it's just the physical memory address(but we can't access it or manage it) or it's another value that JVM use it to recognise the object(I saw a lot of times the &quot;handler&quot; word)?\nI know that the implementation may depend on the java/JVM version</p>\n<p>Is there any version of java/JVM where references are implemented as memory addresses? Or maybe in all of them ?</p>\n"},{"tags":["java","jenkins","groovy","artifactory"],"comments":[{"owner":{"account_id":10181823,"reputation":239,"user_id":7518298,"display_name":"Amirhossein Taheri"},"score":0,"creation_date":1696945577,"post_id":77238235,"comment_id":136215471,"body_markdown":"So, I need this feature for jfrog.","body":"So, I need this feature for jfrog."},{"owner":{"account_id":6404812,"reputation":2036,"user_id":4966403,"display_name":"Elydasian"},"score":0,"creation_date":1697125187,"post_id":77238235,"comment_id":136243327,"body_markdown":"yes, turns out I have no available debugging mechanism for this one, so I am working now on a jenkins pipeline to do it manually, without the plugin","body":"yes, turns out I have no available debugging mechanism for this one, so I am working now on a jenkins pipeline to do it manually, without the plugin"}],"answers":[{"tags":[],"owner":{"account_id":29064306,"reputation":11,"user_id":22264272,"display_name":"caffeine_containing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698954592,"creation_date":1698954592,"answer_id":77412503,"question_id":77238235,"body_markdown":"Preferably, your build artifacts are marked in a unique way, for instance using Artifactory properties. And then you can access artifacts with a given property. [finding artifacts based on property][1] This way, it is ensured that you are save to access the right artifact without risk of mixing them up.\r\n\r\nIf the above mentioned is not possible, I would try to solve this by using timestamps and an AQL statement.\r\nYou would need to get the timestamp of the 10. build and you could consider to compare it to timestamps on Artifactory. I doubt this is fail safe since you can mess up time stamps.\r\nSee: [Date and Time Format in AQL][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65058402/how-to-find-artifacts-from-artifactory-that-have-a-specific-property-value-using\r\n  [2]: https://jfrog.com/help/r/jfrog-artifactory-documentation/date-and-time-format-in-aql","title":"How to modify the artifactCleanup plugin to keep just the last 10 artifacts in repo?","body":"<p>Preferably, your build artifacts are marked in a unique way, for instance using Artifactory properties. And then you can access artifacts with a given property. <a href=\"https://stackoverflow.com/questions/65058402/how-to-find-artifacts-from-artifactory-that-have-a-specific-property-value-using\">finding artifacts based on property</a> This way, it is ensured that you are save to access the right artifact without risk of mixing them up.</p>\n<p>If the above mentioned is not possible, I would try to solve this by using timestamps and an AQL statement.\nYou would need to get the timestamp of the 10. build and you could consider to compare it to timestamps on Artifactory. I doubt this is fail safe since you can mess up time stamps.\nSee: <a href=\"https://jfrog.com/help/r/jfrog-artifactory-documentation/date-and-time-format-in-aql\" rel=\"nofollow noreferrer\">Date and Time Format in AQL</a></p>\n"}],"owner":{"account_id":6404812,"reputation":2036,"user_id":4966403,"display_name":"Elydasian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698954592,"creation_date":1696517355,"question_id":77238235,"body_markdown":"I found the artifactCleanup plugin (https://github.com/jfrog/artifactory-user-plugins/blob/master/cleanup/artifactCleanup/artifactCleanup.groovy)\r\n\r\nI managed to implement it into my jenkins server, but now I need to update it a little.\r\nInstead of cleaning everything up that was not downloaded in the past X months, I want to keep just the last 10 artifacts in the repo (in each subfolder as well)\r\n\r\nFor example:\r\n``` \r\nMain_Repo\r\n   -folder1 (has 15 artifacts)\r\n   -folder2 (has 20 artifacts)\r\n   -art1\r\n   -art2\r\n   -...\r\n   -art25\r\n``` \r\n\r\nI need to keep the following:\r\n\r\n``` \r\nMain_Repo\r\n   -folder1 (has 10 artifacts)\r\n   -folder2 (has 10 artifacts)\r\n   -art1\r\n   -art2\r\n   -...\r\n   -art10\r\n``` \r\n\r\nWould that be possible?\r\n\r\nThe main function is this:\r\n```\r\nprivate def artifactCleanup(String timeUnit, int timeInterval, String[] repos, log, paceTimeMS, dryRun = false, disablePropertiesSupport = false) {\r\n    log.info &quot;Starting artifact cleanup for repositories $repos, until $timeInterval ${timeUnit}s ago with pacing interval $paceTimeMS ms, dryrun: $dryRun, disablePropertiesSupport: $disablePropertiesSupport&quot;\r\n\r\n    cancelOnNullRepos(repos,&#39;repos parameter must be specified before initiating cleanup.&#39;)\r\n\r\n    // Create Map(repo, paths) of skiped paths (or others properties supported in future ...)\r\n    def skip = [:]\r\n    if ( ! disablePropertiesSupport &amp;&amp; repos){\r\n        skip = getSkippedPaths(repos)\r\n    }\r\n\r\n    def calendarUntil = Calendar.getInstance()\r\n\r\n    calendarUntil.add(mapTimeUnitToCalendar(timeUnit), -timeInterval)\r\n\r\n    def calendarUntilFormatted = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;).format(calendarUntil.getTime());\r\n    log.info &quot;Removing all artifacts not downloaded since $calendarUntilFormatted&quot;\r\n\r\n    Global.stopCleaning = false\r\n    int cntFoundArtifacts = 0\r\n    int cntNoDeletePermissions = 0\r\n    long bytesFound = 0\r\n    long bytesFoundWithNoDeletePermission = 0\r\n    def artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\r\n    artifactsCleanedUp.find {\r\n        try {\r\n            while ( Global.pauseCleaning ) {\r\n                log.info &quot;Pausing by request&quot;\r\n                sleep( 60000 )\r\n            }\r\n\r\n            if ( Global.stopCleaning ) {\r\n                log.info &quot;Stopping by request, ending loop&quot;\r\n                return true\r\n            }\r\n\r\n            if ( ! disablePropertiesSupport &amp;&amp; skip[ it.repoKey ] &amp;&amp; StringUtils.startsWithAny(it.path, skip[ it.repoKey ])){\r\n                if (log.isDebugEnabled()){\r\n                    log.debug &quot;Skip $it&quot;\r\n                }\r\n                return false\r\n            }\r\n\r\n            bytesFound += repositories.getItemInfo(it)?.getSize()\r\n            cntFoundArtifacts++\r\n            if (!security.canDelete(it)) {\r\n                bytesFoundWithNoDeletePermission += repositories.getItemInfo(it)?.getSize()\r\n                cntNoDeletePermissions++\r\n            }\r\n            if (dryRun) {\r\n                log.info &quot;Found $it &quot;\r\n                log.info &quot;\\t==&gt; currentUser: ${security.currentUser().getUsername()}&quot;\r\n                log.info &quot;\\t==&gt; canDelete: ${security.canDelete(it)}&quot;\r\n\r\n            } else {\r\n                if (security.canDelete(it)) {\r\n                    log.info &quot;Deleting $it&quot;\r\n                    repositories.delete it\r\n                    log.info &quot;Deleted...&quot;\r\n                } else {\r\n                    log.info &quot;Can&#39;t delete $it (user ${security.currentUser().getUsername()} has no delete permissions), &quot;\r\n                }\r\n            }\r\n        } catch (ItemNotFoundRuntimeException ex) {\r\n            log.info &quot;Failed to find $it, skipping&quot;\r\n        }\r\n\r\n        def sleepTime = (Global.paceTimeMS &gt; 0) ? Global.paceTimeMS : paceTimeMS\r\n        if (sleepTime &gt; 0) {\r\n            sleep( sleepTime )\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    if (dryRun) {\r\n        log.info &quot;Dry run - nothing deleted. Found $cntFoundArtifacts artifacts consuming $bytesFound bytes&quot;\r\n        if (cntNoDeletePermissions &gt; 0) {\r\n            log.info &quot;$cntNoDeletePermissions artifacts cannot be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\r\n        }\r\n    } else {\r\n        log.info &quot;Finished cleanup, deleting $cntFoundArtifacts artifacts that took up $bytesFound bytes&quot;\r\n        if (cntNoDeletePermissions &gt; 0) {\r\n            log.info &quot;$cntNoDeletePermissions artifacts could not be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut I am not sure where can I find for example the &quot;search&quot; object, or the function it calls in the following line:\r\n\r\n```\r\ndef artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\r\n```\r\n\r\nHope you can help me.\r\nThank you for your time","title":"How to modify the artifactCleanup plugin to keep just the last 10 artifacts in repo?","body":"<p>I found the artifactCleanup plugin (<a href=\"https://github.com/jfrog/artifactory-user-plugins/blob/master/cleanup/artifactCleanup/artifactCleanup.groovy\" rel=\"nofollow noreferrer\">https://github.com/jfrog/artifactory-user-plugins/blob/master/cleanup/artifactCleanup/artifactCleanup.groovy</a>)</p>\n<p>I managed to implement it into my jenkins server, but now I need to update it a little.\nInstead of cleaning everything up that was not downloaded in the past X months, I want to keep just the last 10 artifacts in the repo (in each subfolder as well)</p>\n<p>For example:</p>\n<pre><code>Main_Repo\n   -folder1 (has 15 artifacts)\n   -folder2 (has 20 artifacts)\n   -art1\n   -art2\n   -...\n   -art25\n</code></pre>\n<p>I need to keep the following:</p>\n<pre><code>Main_Repo\n   -folder1 (has 10 artifacts)\n   -folder2 (has 10 artifacts)\n   -art1\n   -art2\n   -...\n   -art10\n</code></pre>\n<p>Would that be possible?</p>\n<p>The main function is this:</p>\n<pre><code>private def artifactCleanup(String timeUnit, int timeInterval, String[] repos, log, paceTimeMS, dryRun = false, disablePropertiesSupport = false) {\n    log.info &quot;Starting artifact cleanup for repositories $repos, until $timeInterval ${timeUnit}s ago with pacing interval $paceTimeMS ms, dryrun: $dryRun, disablePropertiesSupport: $disablePropertiesSupport&quot;\n\n    cancelOnNullRepos(repos,'repos parameter must be specified before initiating cleanup.')\n\n    // Create Map(repo, paths) of skiped paths (or others properties supported in future ...)\n    def skip = [:]\n    if ( ! disablePropertiesSupport &amp;&amp; repos){\n        skip = getSkippedPaths(repos)\n    }\n\n    def calendarUntil = Calendar.getInstance()\n\n    calendarUntil.add(mapTimeUnitToCalendar(timeUnit), -timeInterval)\n\n    def calendarUntilFormatted = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;).format(calendarUntil.getTime());\n    log.info &quot;Removing all artifacts not downloaded since $calendarUntilFormatted&quot;\n\n    Global.stopCleaning = false\n    int cntFoundArtifacts = 0\n    int cntNoDeletePermissions = 0\n    long bytesFound = 0\n    long bytesFoundWithNoDeletePermission = 0\n    def artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\n    artifactsCleanedUp.find {\n        try {\n            while ( Global.pauseCleaning ) {\n                log.info &quot;Pausing by request&quot;\n                sleep( 60000 )\n            }\n\n            if ( Global.stopCleaning ) {\n                log.info &quot;Stopping by request, ending loop&quot;\n                return true\n            }\n\n            if ( ! disablePropertiesSupport &amp;&amp; skip[ it.repoKey ] &amp;&amp; StringUtils.startsWithAny(it.path, skip[ it.repoKey ])){\n                if (log.isDebugEnabled()){\n                    log.debug &quot;Skip $it&quot;\n                }\n                return false\n            }\n\n            bytesFound += repositories.getItemInfo(it)?.getSize()\n            cntFoundArtifacts++\n            if (!security.canDelete(it)) {\n                bytesFoundWithNoDeletePermission += repositories.getItemInfo(it)?.getSize()\n                cntNoDeletePermissions++\n            }\n            if (dryRun) {\n                log.info &quot;Found $it &quot;\n                log.info &quot;\\t==&gt; currentUser: ${security.currentUser().getUsername()}&quot;\n                log.info &quot;\\t==&gt; canDelete: ${security.canDelete(it)}&quot;\n\n            } else {\n                if (security.canDelete(it)) {\n                    log.info &quot;Deleting $it&quot;\n                    repositories.delete it\n                    log.info &quot;Deleted...&quot;\n                } else {\n                    log.info &quot;Can't delete $it (user ${security.currentUser().getUsername()} has no delete permissions), &quot;\n                }\n            }\n        } catch (ItemNotFoundRuntimeException ex) {\n            log.info &quot;Failed to find $it, skipping&quot;\n        }\n\n        def sleepTime = (Global.paceTimeMS &gt; 0) ? Global.paceTimeMS : paceTimeMS\n        if (sleepTime &gt; 0) {\n            sleep( sleepTime )\n        }\n\n        return false\n    }\n\n    if (dryRun) {\n        log.info &quot;Dry run - nothing deleted. Found $cntFoundArtifacts artifacts consuming $bytesFound bytes&quot;\n        if (cntNoDeletePermissions &gt; 0) {\n            log.info &quot;$cntNoDeletePermissions artifacts cannot be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\n        }\n    } else {\n        log.info &quot;Finished cleanup, deleting $cntFoundArtifacts artifacts that took up $bytesFound bytes&quot;\n        if (cntNoDeletePermissions &gt; 0) {\n            log.info &quot;$cntNoDeletePermissions artifacts could not be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\n        }\n    }\n}\n\n</code></pre>\n<p>But I am not sure where can I find for example the &quot;search&quot; object, or the function it calls in the following line:</p>\n<pre><code>def artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\n</code></pre>\n<p>Hope you can help me.\nThank you for your time</p>\n"},{"tags":["java","hibernate","spring-mvc","jpa","spring-data"],"comments":[{"owner":{"account_id":277416,"reputation":681838,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1410793465,"post_id":25851029,"comment_id":40448186,"body_markdown":"You can&#39;t do anything. Hibernate needs a way to uniquely identify a row. And this unique value may not change.","body":"You can&#39;t do anything. Hibernate needs a way to uniquely identify a row. And this unique value may not change."},{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":1,"creation_date":1467718191,"post_id":25851029,"comment_id":63828405,"body_markdown":"@JBNizet In hibernate isn&#39;t  there a way to implement `composite keys`","body":"@JBNizet In hibernate isn&#39;t  there a way to implement <code>composite keys</code>"},{"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"score":0,"creation_date":1616138167,"post_id":25851029,"comment_id":117913571,"body_markdown":"make sure you annotate &#39;Id&#39; from `javax.persistence`  package?","body":"make sure you annotate &#39;Id&#39; from <code>javax.persistence</code>  package?"}],"answers":[{"tags":[],"owner":{"account_id":5015027,"reputation":794,"user_id":4030105,"display_name":"ThMBc"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1410793769,"creation_date":1410793769,"answer_id":25851218,"question_id":25851029,"body_markdown":"Hibernate is an intermediate to adress SQL databases, and since each row in a sql database should have a unique identifier, hibernate forces you to define one.\r\n\r\nHere is an example of a generated primary key, which will be added automatically (do not forget the getter and setter)\r\n\r\n    @Id \r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\nSince duplicates are not allowed, choosing an arbitrary column is not the way to go.","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Hibernate is an intermediate to adress SQL databases, and since each row in a sql database should have a unique identifier, hibernate forces you to define one.</p>\n\n<p>Here is an example of a generated primary key, which will be added automatically (do not forget the getter and setter)</p>\n\n<pre><code>@Id \n@GeneratedValue\n@Column(name = \"id\")\nprivate int id;\n</code></pre>\n\n<p>Since duplicates are not allowed, choosing an arbitrary column is not the way to go.</p>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410793886,"creation_date":1410793886,"answer_id":25851262,"question_id":25851029,"body_markdown":"Its not juts `Hibernate` - a relational `datamodel` require `primary keys`. So what you&#39;ve got is a broken data model because without a primary key it can&#39;t be relational, and this is why its difficult to use with an ORM. \r\n\r\nfor more info, [here][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Its not juts <code>Hibernate</code> - a relational <code>datamodel</code> require <code>primary keys</code>. So what you've got is a broken data model because without a primary key it can't be relational, and this is why its difficult to use with an ORM. </p>\n\n<p>for more info, <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"display_name":"user3973283"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410794543,"creation_date":1410794543,"answer_id":25851499,"question_id":25851029,"body_markdown":"JPA (not Hibernate as such) requires all entities to be uniquely identified. Sadly it doesn&#39;t allow for what you want.\r\n\r\nJDO, on the other hand, does allow a persistable class to map to a table without PK and would handle what you need.","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>JPA (not Hibernate as such) requires all entities to be uniquely identified. Sadly it doesn't allow for what you want.</p>\n\n<p>JDO, on the other hand, does allow a persistable class to map to a table without PK and would handle what you need.</p>\n"},{"tags":[],"owner":{"account_id":3406555,"reputation":757,"user_id":2857471,"display_name":"Manisha Srivastava"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442833346,"creation_date":1442833346,"answer_id":32693574,"question_id":25851029,"body_markdown":"    You can solve this using embedded id \r\nex:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t// @Id\r\n    \t@Column(name = &quot;id&quot;, insertable = false, updatable = false)\r\n    \tprivate String id;\r\n    \r\n    \t@EmbeddedId\r\n    \tMYtablePK pk;\r\n    \r\n    \tpublic MYtablePK getPk() {\r\n    \t\treturn pk;\r\n    \t}\r\n    \r\n    \tpublic void setPk(MYtablePK pk) {\r\n    \t\tthis.pk = pk;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;my_table_FirstName&quot;, insertable = false, updatable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Transient\r\n    \tpublic String getName() {\r\n    \t\treturn pk.getName();\r\n    \t}\r\n    \r\n    \tpublic void setName(String mrn) {\r\n    \t\tpk.setName(name);\r\n    \t}\r\n    \t@Transient\r\n    \t\tpublic String getSeverity() {\r\n    \t\treturn pk.getSeverity();\r\n    \t}\r\n    \tpublic void setSeverity(String severity) {\r\n    \t\tpk.setName(name);\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn pk.getId();\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn pk.getName();\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\ttpk.setName(name);\r\n    \t}\r\n    }\r\n    \r\n    @Embeddable\r\n    public class MyTablePK implements Serializable{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -1257821517891392898L;\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate String id;\r\n    \t@Column(name = &quot;name&quot;)\r\n    \tprivate String name;\r\n    \t@Column(name = &quot;dob&quot;)\r\n    \tprivate Date dob;\r\n    \tpublic Date getdob() {\r\n    \t\treturn dob;\r\n    \t}\r\n    \tpublic void setdob(Date dob) {\r\n    \t\tthis.pk.setdob(dob);\r\n    \t}\r\n    \t@Column(name = &quot;severity&quot;)\r\n    \tprivate String severity;\r\n    \tpublic String getSeverity() {\r\n    \t\treturn severity;\r\n    \t}\r\n    \tpublic void setSeverity(String severity) {\r\n    \t\tthis.severity = severity;\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<pre><code>You can solve this using embedded id \n</code></pre>\n\n<p>ex:</p>\n\n<pre><code>@Entity\n@Table(name = \"my_table\")\npublic class MyTable implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    // @Id\n    @Column(name = \"id\", insertable = false, updatable = false)\n    private String id;\n\n    @EmbeddedId\n    MYtablePK pk;\n\n    public MYtablePK getPk() {\n        return pk;\n    }\n\n    public void setPk(MYtablePK pk) {\n        this.pk = pk;\n    }\n\n    @Column(name = \"my_table_FirstName\", insertable = false, updatable = false)\n    private String name;\n\n    @Transient\n    public String getName() {\n        return pk.getName();\n    }\n\n    public void setName(String mrn) {\n        pk.setName(name);\n    }\n    @Transient\n        public String getSeverity() {\n        return pk.getSeverity();\n    }\n    public void setSeverity(String severity) {\n        pk.setName(name);\n    }\n\n    public String getId() {\n        return pk.getId();\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return pk.getName();\n    }\n    public void setName(String name) {\n        tpk.setName(name);\n    }\n}\n\n@Embeddable\npublic class MyTablePK implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -1257821517891392898L;\n    @Column(name = \"id\")\n    private String id;\n    @Column(name = \"name\")\n    private String name;\n    @Column(name = \"dob\")\n    private Date dob;\n    public Date getdob() {\n        return dob;\n    }\n    public void setdob(Date dob) {\n        this.pk.setdob(dob);\n    }\n    @Column(name = \"severity\")\n    private String severity;\n    public String getSeverity() {\n        return severity;\n    }\n    public void setSeverity(String severity) {\n        this.severity = severity;\n    }\n\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1499204,"reputation":5419,"user_id":1404407,"accept_rate":100,"display_name":"Cory Roy"},"down_vote_count":2,"up_vote_count":188,"is_accepted":false,"score":186,"last_activity_date":1444779128,"creation_date":1444779128,"answer_id":33114283,"question_id":25851029,"body_markdown":"I had this problem and was using the wrong import for @id:\r\n\r\nMake sure it&#39;s:\r\n\r\n    import javax.persistence.Id;\r\n\r\nand not:\r\n\r\n    import org.springframework.data.annotation.Id;\r\n","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>I had this problem and was using the wrong import for @id:</p>\n\n<p>Make sure it's:</p>\n\n<pre><code>import javax.persistence.Id;\n</code></pre>\n\n<p>and not:</p>\n\n<pre><code>import org.springframework.data.annotation.Id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8704738,"reputation":1,"user_id":6513233,"display_name":"Shivalik Chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480802616,"creation_date":1480802616,"answer_id":40952979,"question_id":25851029,"body_markdown":"Make sure there is p.k constraint defined for each Entity and check the import statement for Id Annotation.\r\nCheck Import statement:\r\n\r\n\r\n\r\n\r\n \r\n\r\n    import javax.persistence.Id;\r\n    @Id\r\n    @Column(name=&quot;id&quot;)\r\n    @GeneratedValue \r\n    private int id;","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Make sure there is p.k constraint defined for each Entity and check the import statement for Id Annotation.\nCheck Import statement:</p>\n\n<pre><code>import javax.persistence.Id;\n@Id\n@Column(name=\"id\")\n@GeneratedValue \nprivate int id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2776190,"reputation":41,"user_id":2389736,"display_name":"user2389736"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484828315,"creation_date":1484828315,"answer_id":41741633,"question_id":25851029,"body_markdown":"Also had same issue. The problem was wrong import of @Id annotation. So please make sure that you not only annotate the id but also that you do it with javax.persistence.Id.","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Also had same issue. The problem was wrong import of @Id annotation. So please make sure that you not only annotate the id but also that you do it with javax.persistence.Id.</p>\n"},{"tags":[],"owner":{"account_id":10034985,"reputation":61,"user_id":7420004,"display_name":"user7420004"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546548175,"creation_date":1546548175,"answer_id":54029529,"question_id":25851029,"body_markdown":"Specify a field annotated with @Id. Every @Entity requires an @Id (This is the primary key in the table).\r\nThe solution for you is to use @Embeddable instead of @Entity, then you wont need to annotate any column with @Id. Change the import statement from javax.persistence.Entity; to javax.persistence.Embeddable; \r\n","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Specify a field annotated with @Id. Every @Entity requires an @Id (This is the primary key in the table).\nThe solution for you is to use @Embeddable instead of @Entity, then you wont need to annotate any column with @Id. Change the import statement from javax.persistence.Entity; to javax.persistence.Embeddable; </p>\n"},{"tags":[],"owner":{"account_id":8479829,"reputation":31,"user_id":6359842,"display_name":"GovindaRaju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559150385,"creation_date":1559149214,"answer_id":56365398,"question_id":25851029,"body_markdown":"Use `@Embeddable` annotation instead of `@Entity` if your class mapping is used as `readOnly` mapping and does not have `PK` or `@EmbeddedKey`\r\n    \r\n    //@Entity\r\n    @Embeddable\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable implements Serializable {\r\n    \r\n    }","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Use <code>@Embeddable</code> annotation instead of <code>@Entity</code> if your class mapping is used as <code>readOnly</code> mapping and does not have <code>PK</code> or <code>@EmbeddedKey</code></p>\n\n<pre><code>//@Entity\n@Embeddable\n@Table(name = \"my_table\")\npublic class MyTable implements Serializable {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7989603,"reputation":91,"user_id":6027844,"display_name":"Gicheha Kingori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622660480,"creation_date":1622660480,"answer_id":67811011,"question_id":25851029,"body_markdown":"Basically make sure your `Column` annotated fields match the database table in question","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Basically make sure your <code>Column</code> annotated fields match the database table in question</p>\n"},{"tags":[],"owner":{"account_id":8800468,"reputation":1,"user_id":6630781,"display_name":"Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642210354,"creation_date":1642210354,"answer_id":70718232,"question_id":25851029,"body_markdown":"requirement: table don&#39;t have a primary key or a proper column whith a unique value\r\nsolution: just add a dummy column for your id, and ignore it for the rest of your select statements. imagine such a column is not there for all your requirements that doesnt need a primary key. setup some auto increment mechanism or something based on sequence, for this column.\r\nyou need: permission to alter table, though, as needed.\r\n","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>requirement: table don't have a primary key or a proper column whith a unique value\nsolution: just add a dummy column for your id, and ignore it for the rest of your select statements. imagine such a column is not there for all your requirements that doesnt need a primary key. setup some auto increment mechanism or something based on sequence, for this column.\nyou need: permission to alter table, though, as needed.</p>\n"},{"tags":[],"owner":{"account_id":29810636,"reputation":1,"user_id":22846128,"display_name":"Dip Kankal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698954442,"creation_date":1698929290,"answer_id":77409689,"question_id":25851029,"body_markdown":"Use `@id` annotation as a primary key","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Use <code>@id</code> annotation as a primary key</p>\n"}],"owner":{"account_id":4943429,"reputation":1625,"user_id":3979532,"accept_rate":44,"display_name":"stackUser2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120541,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"answer_count":12,"score":47,"last_activity_date":1698954442,"creation_date":1410793183,"question_id":25851029,"body_markdown":"I&#39;m working with a table in a database and that table don&#39;t have a primary key or a proper column whith a unique value who can act as a primary key, I don&#39;t have permissions to alter that table.\r\n\r\nWhat should I do? I tried putting a @id annotation in a random column and it worked, but I don&#39;t know if this is going to bring any trouble later on. what can I do?\r\n\r\nMy class\r\n\r\n    @Entity\r\n    @Table(name=&quot;my_table&quot;)\r\n    public class TheTable {\r\n    @Column (name=&quot;name&quot;, nullable=false)\r\n    \tprivate String name;\r\n    \r\n        @Id &lt;--- I just put this id in this random column but this column should not be a id column\r\n    \t@Column (name=&quot;anyfield&quot;, nullable=false)\r\n    \tprivate String anyfield;\r\n    }","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>I'm working with a table in a database and that table don't have a primary key or a proper column whith a unique value who can act as a primary key, I don't have permissions to alter that table.</p>\n\n<p>What should I do? I tried putting a @id annotation in a random column and it worked, but I don't know if this is going to bring any trouble later on. what can I do?</p>\n\n<p>My class</p>\n\n<pre><code>@Entity\n@Table(name=\"my_table\")\npublic class TheTable {\n@Column (name=\"name\", nullable=false)\n    private String name;\n\n    @Id &lt;--- I just put this id in this random column but this column should not be a id column\n    @Column (name=\"anyfield\", nullable=false)\n    private String anyfield;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","upload","postman","spring-restcontroller"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1494588237,"post_id":43936372,"comment_id":74905095,"body_markdown":"may be this will help http://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552","body":"may be this will help <a href=\"http://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552\" title=\"integration test case and file upload\">stackoverflow.com/questions/43864826/&hellip;</a>"},{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":0,"creation_date":1494690957,"post_id":43936372,"comment_id":74941443,"body_markdown":"Unfortunely this does not solve my problem. The error still appearing","body":"Unfortunely this does not solve my problem. The error still appearing"}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1494591420,"creation_date":1494591420,"answer_id":43937586,"question_id":43936372,"body_markdown":"In your method you have specified like this   \r\n`@RequestParam(&quot;file&quot;)`. Hence it is expecting the key to be `file`. It is quite evident in the exception message. Use this name in the `Key` field in Postman when you upload file.   \r\nMore information here https://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>In your method you have specified like this<br>\n<code>@RequestParam(\"file\")</code>. Hence it is expecting the key to be <code>file</code>. It is quite evident in the exception message. Use this name in the <code>Key</code> field in Postman when you upload file.<br>\nMore information here <a href=\"https://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552\">integration test case and file upload</a></p>\n"},{"tags":[],"owner":{"account_id":10885904,"reputation":1295,"user_id":8003421,"display_name":"Tanmay Delhikar"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1495033739,"creation_date":1494672235,"answer_id":43952169,"question_id":43936372,"body_markdown":"This is how your request in Postman should look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xv1xK.png\r\n\r\n\r\nMy sample code:\r\n\r\n***application.properties***\r\n\r\n    #max file and request size \r\n    spring.http.multipart.max-file-size=10MB\r\n    spring.http.multipart.max-request-size=11MB\r\n\r\nMain Application Class:\r\n\r\n***Application.java***\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n***Rest controller class:***\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    \r\n        @Controller\r\n        @RequestMapping(&quot;/fileupload&quot;)\r\n        public class MyRestController {\r\n        \r\n        @RequestMapping(value = &quot;/file&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        \tpublic @ResponseBody String myService(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n        \t\t\t@RequestParam(&quot;id&quot;) String id) throws Exception {\r\n        \r\n        if (!file.isEmpty()) { \r\n        \r\n               //your logic\r\n                            }\r\n    return &quot;some json&quot;;\r\n   \r\n                    }\r\n        }\r\n\r\n\r\n***pom.xml*** \r\n\r\n    //...\r\n    \r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    ....\r\n    \r\n    \r\n    \r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    //...\r\n\r\n","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>This is how your request in Postman should look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xv1xK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Xv1xK.png\" alt=\"enter image description here\"></a></p>\n\n<p>My sample code:</p>\n\n<p><strong><em>application.properties</em></strong></p>\n\n<pre><code>#max file and request size \nspring.http.multipart.max-file-size=10MB\nspring.http.multipart.max-request-size=11MB\n</code></pre>\n\n<p>Main Application Class:</p>\n\n<p><strong><em>Application.java</em></strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p><strong><em>Rest controller class:</em></strong></p>\n\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.multipart.MultipartFile;\n\n\n    @Controller\n    @RequestMapping(\"/fileupload\")\n    public class MyRestController {\n\n    @RequestMapping(value = \"/file\", method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\n        public @ResponseBody String myService(@RequestParam(\"file\") MultipartFile file,\n                @RequestParam(\"id\") String id) throws Exception {\n\n    if (!file.isEmpty()) { \n\n           //your logic\n                        }\nreturn \"some json\";\n\n                }\n    }\n</code></pre>\n\n<p><strong><em>pom.xml</em></strong> </p>\n\n<pre><code>//...\n\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n....\n\n\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n//...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1564764597,"creation_date":1511862468,"answer_id":47528390,"question_id":43936372,"body_markdown":"Except for other posted answers, the problem might be realated to missing multipart support for the servlet handling the request (spring&#39;s DispatcherServlet in case of Spring&#39;s app). \r\n\r\nThis can be fixed by adding multipart support to dispatcher servlet in web.xml declaration or during initialization (in case of annotation-based config)\r\n\r\na) web-xml based config\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \t      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    \t      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \t      version=&quot;3.0&quot;&gt;\r\n    \r\n     &lt;servlet&gt;\r\n       &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n       &lt;servlet-class&gt;\r\n         org.springframework.web.servlet.DispatcherServlet\r\n       &lt;/servlet-class&gt;\r\n       &lt;init-param&gt;\r\n         &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n         &lt;param-value&gt;/WEB-INF/spring/dispatcher-config.xml&lt;/param-value&gt;\r\n       &lt;/init-param&gt;\r\n       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n       &lt;multipart-config&gt;\r\n            &lt;max-file-size&gt;10485760&lt;/max-file-size&gt;\r\n            &lt;max-request-size&gt;20971520&lt;/max-request-size&gt;\r\n            &lt;file-size-threshold&gt;5242880&lt;/file-size-threshold&gt;\r\n        &lt;/multipart-config&gt;\r\n     &lt;/servlet&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nb) for annotation-based configuration this would be following:\r\n\r\n    public class AppInitializer implements WebApplicationInitializer { \r\n    \r\n    @Override \r\n    public void onStartup(ServletContext servletContext) { \r\n        final AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext(); \r\n    \r\n        final ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(appContext)); \r\n        registration.setLoadOnStartup(1); \r\n        registration.addMapping(&quot;/&quot;); \r\n    \r\n        File uploadDirectory = new File(System.getProperty(&quot;java.io.tmpdir&quot;));                  \r\n        MultipartConfigElement multipartConfigElement = new  MultipartConfigElement(uploadDirectory.getAbsolutePath(), 100000, 100000 * 2, 100000 / 2); \r\n    \r\n        registration.setMultipartConfig(multipartConfigElement);\r\n    } }\r\n\r\nThen we need to provide multipart resolver which can resolve files sent as multipart-request. For annotation config this can be done in following way:\r\n\r\n\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n    \r\n    @Bean\r\n    public MultipartResolver multipartResolver() {\r\n        return new StandardServletMultipartResolver();\r\n    }\r\n    }\r\n\r\nFor xml-based spring configuration you need to add this bean to the context via &lt;bean&gt; tag declaration declaration:\r\n\r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.support.StandardServletMultipartResolver&quot; /&gt; \r\n\r\n\r\nAlternatively to spring&#39;s standard multipart resolver you can use implementation from commons. This way however extra dependency is required:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n    &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000000&quot;/&gt;\r\n    &lt;/bean&gt;","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>Except for other posted answers, the problem might be realated to missing multipart support for the servlet handling the request (spring's DispatcherServlet in case of Spring's app). </p>\n\n<p>This can be fixed by adding multipart support to dispatcher servlet in web.xml declaration or during initialization (in case of annotation-based config)</p>\n\n<p>a) web-xml based config</p>\n\n<pre><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n          version=\"3.0\"&gt;\n\n &lt;servlet&gt;\n   &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n   &lt;servlet-class&gt;\n     org.springframework.web.servlet.DispatcherServlet\n   &lt;/servlet-class&gt;\n   &lt;init-param&gt;\n     &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n     &lt;param-value&gt;/WEB-INF/spring/dispatcher-config.xml&lt;/param-value&gt;\n   &lt;/init-param&gt;\n   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n   &lt;multipart-config&gt;\n        &lt;max-file-size&gt;10485760&lt;/max-file-size&gt;\n        &lt;max-request-size&gt;20971520&lt;/max-request-size&gt;\n        &lt;file-size-threshold&gt;5242880&lt;/file-size-threshold&gt;\n    &lt;/multipart-config&gt;\n &lt;/servlet&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>b) for annotation-based configuration this would be following:</p>\n\n<pre><code>public class AppInitializer implements WebApplicationInitializer { \n\n@Override \npublic void onStartup(ServletContext servletContext) { \n    final AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext(); \n\n    final ServletRegistration.Dynamic registration = servletContext.addServlet(\"dispatcher\", new DispatcherServlet(appContext)); \n    registration.setLoadOnStartup(1); \n    registration.addMapping(\"/\"); \n\n    File uploadDirectory = new File(System.getProperty(\"java.io.tmpdir\"));                  \n    MultipartConfigElement multipartConfigElement = new  MultipartConfigElement(uploadDirectory.getAbsolutePath(), 100000, 100000 * 2, 100000 / 2); \n\n    registration.setMultipartConfig(multipartConfigElement);\n} }\n</code></pre>\n\n<p>Then we need to provide multipart resolver which can resolve files sent as multipart-request. For annotation config this can be done in following way:</p>\n\n<pre><code>@Configuration\npublic class MyConfig {\n\n@Bean\npublic MultipartResolver multipartResolver() {\n    return new StandardServletMultipartResolver();\n}\n}\n</code></pre>\n\n<p>For xml-based spring configuration you need to add this bean to the context via  tag declaration declaration:</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.support.StandardServletMultipartResolver\" /&gt; \n</code></pre>\n\n<p>Alternatively to spring's standard multipart resolver you can use implementation from commons. This way however extra dependency is required:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n  &lt;version&gt;1.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;property name=\"maxUploadSize\" value=\"100000000\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3081551,"reputation":121,"user_id":2609629,"display_name":"Bandana Banerjee"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1550762181,"creation_date":1550762181,"answer_id":54810409,"question_id":43936372,"body_markdown":"I also had similar issue and was getting the error request part file not present.\r\nBut I later realized that I have this code in my application which was causing problem:\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver multipartResolver() {\r\n            CommonsMultipartResolver multipartResolver = new \r\n            CommonsMultipartResolver();\r\n            multipartResolver.setMaxUploadSize(1000000000);\r\n            return multipartResolver;\r\n          }\r\n\r\nI removed this and it started working for both RequestPart and RequestParam.\r\nSee the related issue below:\r\n\r\nhttps://forum.predix.io/questions/22163/multipartfile-parameter-is-not-present-error.html","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I also had similar issue and was getting the error request part file not present.\nBut I later realized that I have this code in my application which was causing problem:</p>\n\n<pre><code>@Bean(name = \"multipartResolver\")\n    public CommonsMultipartResolver multipartResolver() {\n        CommonsMultipartResolver multipartResolver = new \n        CommonsMultipartResolver();\n        multipartResolver.setMaxUploadSize(1000000000);\n        return multipartResolver;\n      }\n</code></pre>\n\n<p>I removed this and it started working for both RequestPart and RequestParam.\nSee the related issue below:</p>\n\n<p><a href=\"https://forum.predix.io/questions/22163/multipartfile-parameter-is-not-present-error.html\" rel=\"noreferrer\">https://forum.predix.io/questions/22163/multipartfile-parameter-is-not-present-error.html</a></p>\n"},{"tags":[],"owner":{"account_id":9100024,"reputation":1,"user_id":6772488,"display_name":"nikhilaKudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663692755,"creation_date":1663191125,"answer_id":73723372,"question_id":43936372,"body_markdown":"I had similar issue with error `Could not resolve parameter [0] in public org.springframework.http.ResponseEntity... Required request part &#39;file&#39; is not present` and tried many things but one change resolved this issue.\r\n\r\nHad to update \r\n\r\n    // old\r\n    @RequestParam(&quot;file&quot;) MultipartFile inputFile\r\n\r\n\r\n    // new\r\n    @RequestParam(value = &quot;file&quot;) MultipartFile inputFile\r\n\r\n\r\n   \r\n\r\n","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I had similar issue with error <code>Could not resolve parameter [0] in public org.springframework.http.ResponseEntity... Required request part 'file' is not present</code> and tried many things but one change resolved this issue.</p>\n<p>Had to update</p>\n<pre><code>// old\n@RequestParam(&quot;file&quot;) MultipartFile inputFile\n\n\n// new\n@RequestParam(value = &quot;file&quot;) MultipartFile inputFile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9917712,"reputation":89,"user_id":7341970,"display_name":"fatih yavuz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666337083,"creation_date":1666337083,"answer_id":74150089,"question_id":43936372,"body_markdown":"In my case, i have multi module project as;\r\n\r\ncore &gt; api &gt; admin\r\n\r\nAdmin and api are parent of core module.\r\n\r\n**Core/ImageController:**\r\n\r\n    @RequestMapping(value = &quot;/upload/image&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity uploadBanner(@RequestParam(value = &quot;file&quot;, required = \r\n     false) MultipartFile bannerFile){...}\r\n\r\n\r\n**AdminApplicationInitializer:**\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(AdminApplicationInitializer.class);\r\n    }\r\n    \r\n    @Bean\r\n    public MultipartResolver multipartResolver() {\r\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n        //100MB\r\n        resolver.setMaxUploadSize(100 * (long) 1024 * 1024);\r\n        return resolver;\r\n    }\r\n    \r\n    @Bean\r\n    public MultipartConfigElement multipartConfigElement() {\r\n        MultipartConfigFactory factory = new MultipartConfigFactory();\r\n        factory.setMaxFileSize(DataSize.ofMegabytes(200L));\r\n        factory.setMaxRequestSize(DataSize.ofMegabytes(200L));\r\n        return factory.createMultipartConfig();\r\n    }\r\n\r\nWhen i tried to upload file from **api module** with core service &quot;/upload/image&quot;.\r\nI had get an error : &quot;Required request part &#39;file&#39; is not present&quot;.\r\nCause of ApiInitializer had not configuration like AdminInitializer.\r\n\r\n**The Solution :** i added **multipartResolver()** and **multipartConfigElement()** method to **ApiApplicationInitializer**.Then it worked.","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>In my case, i have multi module project as;</p>\n<p>core &gt; api &gt; admin</p>\n<p>Admin and api are parent of core module.</p>\n<p><strong>Core/ImageController:</strong></p>\n<pre><code>@RequestMapping(value = &quot;/upload/image&quot;, method = RequestMethod.POST)\n    public ResponseEntity uploadBanner(@RequestParam(value = &quot;file&quot;, required = \n false) MultipartFile bannerFile){...}\n</code></pre>\n<p><strong>AdminApplicationInitializer:</strong></p>\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(AdminApplicationInitializer.class);\n}\n\n@Bean\npublic MultipartResolver multipartResolver() {\n    CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n    //100MB\n    resolver.setMaxUploadSize(100 * (long) 1024 * 1024);\n    return resolver;\n}\n\n@Bean\npublic MultipartConfigElement multipartConfigElement() {\n    MultipartConfigFactory factory = new MultipartConfigFactory();\n    factory.setMaxFileSize(DataSize.ofMegabytes(200L));\n    factory.setMaxRequestSize(DataSize.ofMegabytes(200L));\n    return factory.createMultipartConfig();\n}\n</code></pre>\n<p>When i tried to upload file from <strong>api module</strong> with core service &quot;/upload/image&quot;.\nI had get an error : &quot;Required request part 'file' is not present&quot;.\nCause of ApiInitializer had not configuration like AdminInitializer.</p>\n<p><strong>The Solution :</strong> i added <strong>multipartResolver()</strong> and <strong>multipartConfigElement()</strong> method to <strong>ApiApplicationInitializer</strong>.Then it worked.</p>\n"},{"tags":[],"owner":{"account_id":17775350,"reputation":745,"user_id":12907843,"display_name":"Eyoab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688310156,"creation_date":1688310156,"answer_id":76599502,"question_id":43936372,"body_markdown":"Use `@RequestPart(&quot;file&quot;)` instead of `@RequestParam(&quot;file&quot;)`.","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>Use <code>@RequestPart(&quot;file&quot;)</code> instead of <code>@RequestParam(&quot;file&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":14972420,"reputation":11,"user_id":10808832,"display_name":"Harsh Shiyani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690444074,"creation_date":1690444003,"answer_id":76777545,"question_id":43936372,"body_markdown":"Thanks, @Eyoab, it works for me.\r\n\r\nI had the same problem with feign client.\r\nI have one endpoint to upload a file that accepts the Multipart file.\r\n\r\n[Main upload endpoint][1]\r\n\r\nI was calling the above endpoint using feign client. (feign client method)\r\n\r\n[feign client caller method][2]\r\n\r\nNow, you can see in the first image, the endpoint accepts the file as a @RequestParam. and in the second image I use @RequestPart in my feign client call. I helps me to resolve the issue.\r\n\r\n  [1]: https://i.stack.imgur.com/wmt7Y.png\r\n  [2]: https://i.stack.imgur.com/hkiE9.png","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>Thanks, @Eyoab, it works for me.</p>\n<p>I had the same problem with feign client.\nI have one endpoint to upload a file that accepts the Multipart file.</p>\n<p><a href=\"https://i.stack.imgur.com/wmt7Y.png\" rel=\"nofollow noreferrer\">Main upload endpoint</a></p>\n<p>I was calling the above endpoint using feign client. (feign client method)</p>\n<p><a href=\"https://i.stack.imgur.com/hkiE9.png\" rel=\"nofollow noreferrer\">feign client caller method</a></p>\n<p>Now, you can see in the first image, the endpoint accepts the file as a @RequestParam. and in the second image I use @RequestPart in my feign client call. I helps me to resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":29445351,"reputation":1,"user_id":22562758,"display_name":"Gourvi Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698954165,"creation_date":1698911557,"answer_id":77407763,"question_id":43936372,"body_markdown":"I also faced this issue. My code is as follows:\r\n\r\n    @PostMapping(&quot;/process_contact&quot;)\r\n    \tpublic String processContact(@ModelAttribute Contact contact, @RequestParam MultipartFile file,\r\n    \t\t\tPrincipal p ) {\r\n    \t\ttry {\r\n    \t\tString name=p.getName();\r\n    \t\tUser user=this.userRepository.getUserByUserName(name);\r\n    \t\t\r\n    \t\t//processing and uploading file\r\n    \t\tif(file.isEmpty()) {\r\n    \t\t\tSystem.out.println(&quot;Please Upload image&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tcontact.setC_imageUrl(file.getOriginalFilename());\r\n    \t\t\tFile saveFile=new ClassPathResource(&quot;static/image&quot;).getFile();\r\n    \t\t\tPath path=Paths.get(saveFile.getAbsolutePath()+File.separator+file.getOriginalFilename());\r\n    \t\t\tFiles.copy(file.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);\r\n    \t\t\tSystem.out.println(&quot;Image is uploaded&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\tuser.getContacts().add(contact);\r\n    \t\tcontact.setUser(user);\r\n    \t\tthis.userRepository.save(user);\r\n    \t\tSystem.out.println(&quot;Data&quot; + contact);\r\n    \t\t}catch(Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error&quot;+e.getMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn &quot;add_contact&quot;;\r\n    \t}\r\n\r\nThen a have add a property to my `application.properties` file:\r\n\r\n    spring.servlet.multipart.enabled=true\r\n\r\nand my error is resolved. ","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I also faced this issue. My code is as follows:</p>\n<pre><code>@PostMapping(&quot;/process_contact&quot;)\n    public String processContact(@ModelAttribute Contact contact, @RequestParam MultipartFile file,\n            Principal p ) {\n        try {\n        String name=p.getName();\n        User user=this.userRepository.getUserByUserName(name);\n        \n        //processing and uploading file\n        if(file.isEmpty()) {\n            System.out.println(&quot;Please Upload image&quot;);\n        }\n        else {\n            contact.setC_imageUrl(file.getOriginalFilename());\n            File saveFile=new ClassPathResource(&quot;static/image&quot;).getFile();\n            Path path=Paths.get(saveFile.getAbsolutePath()+File.separator+file.getOriginalFilename());\n            Files.copy(file.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);\n            System.out.println(&quot;Image is uploaded&quot;);\n        }\n        \n        \n        user.getContacts().add(contact);\n        contact.setUser(user);\n        this.userRepository.save(user);\n        System.out.println(&quot;Data&quot; + contact);\n        }catch(Exception e) {\n            System.out.println(&quot;Error&quot;+e.getMessage());\n            e.printStackTrace();\n        }\n        return &quot;add_contact&quot;;\n    }\n</code></pre>\n<p>Then a have add a property to my <code>application.properties</code> file:</p>\n<pre><code>spring.servlet.multipart.enabled=true\n</code></pre>\n<p>and my error is resolved.</p>\n"}],"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137384,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":43952169,"answer_count":9,"score":44,"last_activity_date":1698954165,"creation_date":1494587398,"question_id":43936372,"body_markdown":"I want to add an upload function to my spring boot application; \r\nthis is my upload Rest Controller \r\n\r\n    package org.sid.web;\r\n\r\n\timport java.io.BufferedOutputStream;\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.Paths;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\r\n\timport javax.servlet.ServletContext;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.HttpEntity;\r\n\timport org.springframework.http.HttpHeaders;\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.http.MediaType;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.util.LinkedMultiValueMap;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.PostMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.ResponseBody;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\timport org.springframework.web.client.RestTemplate;\r\n\timport org.springframework.web.multipart.MultipartFile;\r\n\timport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\n\timport org.springframework.core.env.Environment;\r\n\timport org.springframework.core.io.ClassPathResource;\r\n\timport org.springframework.core.io.FileSystemResource;\r\n\timport org.sid.entities.FileInfo;\r\n\r\n\t@RestController\r\n\tpublic class UploadController {\r\n\t  @Autowired\r\n\t  ServletContext context;\r\n\r\n\t  @RequestMapping(value = &quot;/fileupload/file&quot;, headers = (&quot;content-type=multipart/*&quot;), method = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\t  public ResponseEntity&lt;FileInfo&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile inputFile) {\r\n\t\tFileInfo fileInfo = new FileInfo();\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\tif (!inputFile.isEmpty()) {\r\n\t\t  try {\r\n\t\t\tString originalFilename = inputFile.getOriginalFilename();\r\n\t\t\tFile destinationFile = new File(\r\n\t\t\t\tcontext.getRealPath(&quot;C:/Users/kamel/workspace/credit_app/uploaded&quot;) + File.separator + originalFilename);\r\n\t\t\tinputFile.transferTo(destinationFile);\r\n\t\t\tfileInfo.setFileName(destinationFile.getPath());\r\n\t\t\tfileInfo.setFileSize(inputFile.getSize());\r\n\t\t\theaders.add(&quot;File Uploaded Successfully - &quot;, originalFilename);\r\n\t\t\treturn new ResponseEntity&lt;FileInfo&gt;(fileInfo, headers, HttpStatus.OK);\r\n\t\t  } catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\r\n\t\t  }\r\n\t\t} else {\r\n\t\t  return new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t  }\r\n\t}\r\n\r\nbut when testing this in postman with inserting http://localhost:8082/fileupload/file and adding a file to the body \r\ni got this error:   &quot;exception&quot;: ``org.springframework.web.multipart.support.MissingServletRequestPartException&quot;,\r\n  &quot;message&quot;: &quot;Required request part &#39;file&#39; is not present``,\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oa9kC.png","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I want to add an upload function to my spring boot application; \nthis is my upload Rest Controller </p>\n\n<pre><code>package org.sid.web;\n\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.servlet.ServletContext;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\nimport org.springframework.core.env.Environment;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.FileSystemResource;\nimport org.sid.entities.FileInfo;\n\n@RestController\npublic class UploadController {\n  @Autowired\n  ServletContext context;\n\n  @RequestMapping(value = \"/fileupload/file\", headers = (\"content-type=multipart/*\"), method = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n  public ResponseEntity&lt;FileInfo&gt; upload(@RequestParam(\"file\") MultipartFile inputFile) {\n    FileInfo fileInfo = new FileInfo();\n    HttpHeaders headers = new HttpHeaders();\n    if (!inputFile.isEmpty()) {\n      try {\n        String originalFilename = inputFile.getOriginalFilename();\n        File destinationFile = new File(\n            context.getRealPath(\"C:/Users/kamel/workspace/credit_app/uploaded\") + File.separator + originalFilename);\n        inputFile.transferTo(destinationFile);\n        fileInfo.setFileName(destinationFile.getPath());\n        fileInfo.setFileSize(inputFile.getSize());\n        headers.add(\"File Uploaded Successfully - \", originalFilename);\n        return new ResponseEntity&lt;FileInfo&gt;(fileInfo, headers, HttpStatus.OK);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\n      }\n    } else {\n      return new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\n    }\n  }\n}\n</code></pre>\n\n<p>but when testing this in postman with inserting <a href=\"http://localhost:8082/fileupload/file\" rel=\"noreferrer\">http://localhost:8082/fileupload/file</a> and adding a file to the body \ni got this error:   \"exception\": <code>org.springframework.web.multipart.support.MissingServletRequestPartException\",\n  \"message\": \"Required request part 'file' is not present</code>,</p>\n"},{"tags":["java","data-structures","stack"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1698954878,"post_id":77412410,"comment_id":136473513,"body_markdown":"Have you debugged it? What are the values of `theStack` and `theStackReversed`?","body":"Have you debugged it? What are the values of <code>theStack</code> and <code>theStackReversed</code>?"},{"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"score":0,"creation_date":1698955687,"post_id":77412410,"comment_id":136473652,"body_markdown":"I ran a few examples, and it always works fine on one direction only. I have debugged the reverse method and it works.","body":"I ran a few examples, and it always works fine on one direction only. I have debugged the reverse method and it works."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1698957159,"post_id":77412410,"comment_id":136473907,"body_markdown":"`String theStack = StackValues(S);` Doesn&#39;t that empty the stack? So `temp = StackReverse(S);` copies an empty stack.","body":"<code>String theStack = StackValues(S);</code> Doesn&#39;t that empty the stack? So <code>temp = StackReverse(S);</code> copies an empty stack."},{"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"score":0,"creation_date":1698957910,"post_id":77412410,"comment_id":136474012,"body_markdown":"Oh, I think you are right. I&#39;ll check. It makes sense, I have ruined the stack and never restored it.","body":"Oh, I think you are right. I&#39;ll check. It makes sense, I have ruined the stack and never restored it."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698960375,"post_id":77412410,"comment_id":136474389,"body_markdown":"You mentioned, _&quot;... all the digits of the number appear as a sequence in a stack&quot;_.  A _sequence_ of numbers is typically just any array, and a _stack_ simply implies a _LIFO_ or _FIFO_ factoring.  What are you attempting to do?","body":"You mentioned, <i>&quot;... all the digits of the number appear as a sequence in a stack&quot;</i>.  A <i>sequence</i> of numbers is typically just any array, and a <i>stack</i> simply implies a <i>LIFO</i> or <i>FIFO</i> factoring.  What are you attempting to do?"},{"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"score":0,"creation_date":1698993355,"post_id":77412410,"comment_id":136477325,"body_markdown":"It is an exercise for learning how to work with stacks. No practical use","body":"It is an exercise for learning how to work with stacks. No practical use"}],"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698953479,"creation_date":1698953479,"question_id":77412410,"body_markdown":"Given a stack of numbers and an integer, I wish to write a Java method that returns true if all the digits of the number appear as a sequence in a stack, when the stack can be looked at from top to bottom or bottom up.\r\n\r\nI wrote a code, but it gives partially bad results. \r\n\r\nFor example, for the stack [1,2,3] when 3 is the top and the number 12, it gives the wrong result. But for [3,2,1] where 1 is the top it gives the correct result. The problem is somewhere in the reversing of the stack. The &quot;or&quot; operator fails.\r\n\r\nWhat am I missing here ?\r\n\r\nComment: StackX is a class I wrote. It is a stack of numbers, with the common operations: push, pop, peek, isEmpty, isFull and getSize.\r\n\r\nMy code:\r\n\r\n    // return a string with the stack values\r\n        public static String StackValues(StackX S)\r\n        {\r\n            String seq = &quot;&quot;;\r\n            while (!S.isEmpty())\r\n            {\r\n                long l = S.pop();\r\n                seq += Long.toString(l);\r\n            }\r\n            return seq;\r\n        }\r\n    \r\n        // checks if a string contains a substring\r\n        public static boolean sub(String string, String substring)\r\n        {\r\n            int index = string.indexOf(substring);\r\n            if (index==-1)\r\n                return false;\r\n            else\r\n                return true;\r\n        }\r\n    \r\n        // returns a reverse of the string\r\n        public static StackX StackReverse(StackX S)\r\n        {\r\n            StackX newStack = new StackX(S.getStackMaxSize());\r\n            while (!S.isEmpty())\r\n            {\r\n                newStack.push(S.pop());\r\n            }\r\n            return newStack;\r\n        }\r\n    \r\n        public static boolean isSeq(StackX S, int num)\r\n        {\r\n            String theNum = Integer.toString(num);\r\n            String theStack = StackValues(S);\r\n            StackX temp = new StackX(S.getStackMaxSize());\r\n            temp = StackReverse(S);\r\n            String theStackReversed = StackValues(temp);\r\n    \r\n            if (sub(theStack, theNum)==true || sub(theStackReversed, theNum)==true)\r\n                return true;\r\n            else\r\n                return false;\r\n        }","title":"Are the digits of a number appear in a sequence in a stack?","body":"<p>Given a stack of numbers and an integer, I wish to write a Java method that returns true if all the digits of the number appear as a sequence in a stack, when the stack can be looked at from top to bottom or bottom up.</p>\n<p>I wrote a code, but it gives partially bad results.</p>\n<p>For example, for the stack [1,2,3] when 3 is the top and the number 12, it gives the wrong result. But for [3,2,1] where 1 is the top it gives the correct result. The problem is somewhere in the reversing of the stack. The &quot;or&quot; operator fails.</p>\n<p>What am I missing here ?</p>\n<p>Comment: StackX is a class I wrote. It is a stack of numbers, with the common operations: push, pop, peek, isEmpty, isFull and getSize.</p>\n<p>My code:</p>\n<pre><code>// return a string with the stack values\n    public static String StackValues(StackX S)\n    {\n        String seq = &quot;&quot;;\n        while (!S.isEmpty())\n        {\n            long l = S.pop();\n            seq += Long.toString(l);\n        }\n        return seq;\n    }\n\n    // checks if a string contains a substring\n    public static boolean sub(String string, String substring)\n    {\n        int index = string.indexOf(substring);\n        if (index==-1)\n            return false;\n        else\n            return true;\n    }\n\n    // returns a reverse of the string\n    public static StackX StackReverse(StackX S)\n    {\n        StackX newStack = new StackX(S.getStackMaxSize());\n        while (!S.isEmpty())\n        {\n            newStack.push(S.pop());\n        }\n        return newStack;\n    }\n\n    public static boolean isSeq(StackX S, int num)\n    {\n        String theNum = Integer.toString(num);\n        String theStack = StackValues(S);\n        StackX temp = new StackX(S.getStackMaxSize());\n        temp = StackReverse(S);\n        String theStackReversed = StackValues(temp);\n\n        if (sub(theStack, theNum)==true || sub(theStackReversed, theNum)==true)\n            return true;\n        else\n            return false;\n    }\n</code></pre>\n"},{"tags":["java","static"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247845124,"creation_date":1247844760,"answer_id":1144038,"question_id":1143995,"body_markdown":"You should synchronize this check:\r\n\r\n    if(!statesLoaded) {\r\n        loadStates();\r\n    }\r\n\r\nWhy ? Multiple threads can `get()` on the map without any problems. However, you need to **atomically** check the `statesLoaded` flag, load the state, and set the flag, check it. Otherwise you could (say) load the states, but the flag would still not be set and be visible as such from another thread.\r\n\r\n(You could potentially leave this unsynchronised and allow the possibility of multiple threads to re-initialise the cache, but at the least it&#39;s not good programming practise, and at worst could cause you problems further down the line with large caches, differing implementations etc.)\r\n\r\nConsequently, having a synchronised map isn&#39;t enough (this is quite a common misunderstanding, btw).\r\n\r\nI wouldn&#39;t worry about the performance impact of synchronisation. It used to be an issue in the past, but is a much more lightweight operation now. As always, measure and optimise when you have to. Premature optimisation is often a wasted effort.","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>You should synchronize this check:</p>\n\n<pre><code>if(!statesLoaded) {\n    loadStates();\n}\n</code></pre>\n\n<p>Why ? Multiple threads can <code>get()</code> on the map without any problems. However, you need to <strong>atomically</strong> check the <code>statesLoaded</code> flag, load the state, and set the flag, check it. Otherwise you could (say) load the states, but the flag would still not be set and be visible as such from another thread.</p>\n\n<p>(You could potentially leave this unsynchronised and allow the possibility of multiple threads to re-initialise the cache, but at the least it's not good programming practise, and at worst could cause you problems further down the line with large caches, differing implementations etc.)</p>\n\n<p>Consequently, having a synchronised map isn't enough (this is quite a common misunderstanding, btw).</p>\n\n<p>I wouldn't worry about the performance impact of synchronisation. It used to be an issue in the past, but is a much more lightweight operation now. As always, measure and optimise when you have to. Premature optimisation is often a wasted effort.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698953466,"creation_date":1247845252,"answer_id":1144084,"question_id":1143995,"body_markdown":"Don&#39;t try and do this yourself. Use an IoC container like Spring or Guice and get the framework to manage and initialise the singleton for you. This makes your synchronization problems much more manageable.","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>Don't try and do this yourself. Use an IoC container like Spring or Guice and get the framework to manage and initialise the singleton for you. This makes your synchronization problems much more manageable.</p>\n"},{"tags":[],"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247845989,"creation_date":1247845989,"answer_id":1144163,"question_id":1143995,"body_markdown":"whats wrong with the Singleton pattern?\r\n\r\n    public class CacheManager {\r\n    \r\n    \tprivate static class SingletonHolder\r\n    \t{\r\n    \t\tstatic final HashMap states;\r\n    \t\tstatic\r\n    \t\t{\r\n    \t\t\tstates = new HashMap();\r\n    \t\t\tstates.put(&quot;x&quot;, &quot;y&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static String getState(String abbrev) {\r\n    \t\treturn (String) SingletonHolder.states.get(abbrev);\r\n    \t}\r\n    \r\n    }","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>whats wrong with the Singleton pattern?</p>\n\n<pre><code>public class CacheManager {\n\n    private static class SingletonHolder\n    {\n        static final HashMap states;\n        static\n        {\n            states = new HashMap();\n            states.put(\"x\", \"y\");\n        }\n    }\n\n    public static String getState(String abbrev) {\n        return (String) SingletonHolder.states.get(abbrev);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6900,"reputation":11092,"user_id":11758,"accept_rate":76,"display_name":"Laserallan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247847708,"creation_date":1247847375,"answer_id":1144287,"question_id":1143995,"body_markdown":"Since statesLoaded only can go from false to true I&#39;d go for a solution where you first check the statesLoaded is true, if it is you just skip the initalization logic. If it isn&#39;t you lock and check again and if it&#39;s still false you load the states it and set the flag to true.\r\n\r\nThis means that any thread calling getState after the cache is initialized will &quot;early out&quot; and use the map without locking.\r\n\r\nsomething like:\r\n\r\n    // If we safely know the states are loaded, don&#39;t even try to lock\r\n    if(!statesLoaded) {\r\n      // I don&#39;t even pretend I know javas synchronized syntax :)\r\n      lock(mutex); \r\n      // This second check makes sure we don&#39;t initialize the\r\n      // cache multiple times since it might have changed\r\n      // while we were waiting for the mutex\r\n      if(!statesLoaded) {\r\n        initializeStates();\r\n        statesLoaded = true;\r\n      }\r\n      release(mutex);\r\n    }\r\n    // Now you should know that the states are loaded and they were only\r\n    // loaded once.\r\n\r\nThis means that the locking will only be involved before and during the actual initalization happens.\r\n\r\nIf this would be C, I&#39;d also make sure to make the `statesLoaded` `variable` to be volatile to make sure the compiler optimize the second check. I don&#39;t know how java behaves when it comes to situations like that but I would guess it considers all shared data such as statesLoaded to be potentially dirty when going into synchronization scopes.\r\n","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>Since statesLoaded only can go from false to true I'd go for a solution where you first check the statesLoaded is true, if it is you just skip the initalization logic. If it isn't you lock and check again and if it's still false you load the states it and set the flag to true.</p>\n\n<p>This means that any thread calling getState after the cache is initialized will \"early out\" and use the map without locking.</p>\n\n<p>something like:</p>\n\n<pre><code>// If we safely know the states are loaded, don't even try to lock\nif(!statesLoaded) {\n  // I don't even pretend I know javas synchronized syntax :)\n  lock(mutex); \n  // This second check makes sure we don't initialize the\n  // cache multiple times since it might have changed\n  // while we were waiting for the mutex\n  if(!statesLoaded) {\n    initializeStates();\n    statesLoaded = true;\n  }\n  release(mutex);\n}\n// Now you should know that the states are loaded and they were only\n// loaded once.\n</code></pre>\n\n<p>This means that the locking will only be involved before and during the actual initalization happens.</p>\n\n<p>If this would be C, I'd also make sure to make the <code>statesLoaded</code> <code>variable</code> to be volatile to make sure the compiler optimize the second check. I don't know how java behaves when it comes to situations like that but I would guess it considers all shared data such as statesLoaded to be potentially dirty when going into synchronization scopes.</p>\n"},{"tags":[],"owner":{"account_id":46369,"reputation":7786,"user_id":136928,"accept_rate":60,"display_name":"sjlee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1247848893,"creation_date":1247848893,"answer_id":1144437,"question_id":1143995,"body_markdown":"The best way to load the cache in this case is to take advantage of the JVM static initialization:\r\n\r\n    public class CacheManager {\r\n        private static final HashMap states = new HashMap();\r\n    \r\n        public static String getState(String abbrev) {\r\n            return (String) states.get(abbrev);\r\n        }\r\n\r\n        static {\r\n            //JDBC stuff to load the data\r\n        }\r\n    }\r\n\r\nThe cache will be loaded the first time the class is being used, and since the static initialization is thread safe, the map will be populated safely.  Any subsequent calls to retrieve the values can be done without any locking involved.\r\n\r\nIt is always a good idea to take advantage of static initialization whenever possible.  It is safe, efficient, and often quite simple.","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>The best way to load the cache in this case is to take advantage of the JVM static initialization:</p>\n\n<pre><code>public class CacheManager {\n    private static final HashMap states = new HashMap();\n\n    public static String getState(String abbrev) {\n        return (String) states.get(abbrev);\n    }\n\n    static {\n        //JDBC stuff to load the data\n    }\n}\n</code></pre>\n\n<p>The cache will be loaded the first time the class is being used, and since the static initialization is thread safe, the map will be populated safely.  Any subsequent calls to retrieve the values can be done without any locking involved.</p>\n\n<p>It is always a good idea to take advantage of static initialization whenever possible.  It is safe, efficient, and often quite simple.</p>\n"},{"tags":[],"owner":{"account_id":1393161,"reputation":215,"user_id":1323488,"display_name":"alexey28"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1335611332,"creation_date":1335610946,"answer_id":10362898,"question_id":1143995,"body_markdown":"**+1 for IoC container. Use Spring. Create CacheManager class as non static one and define CacheManaget in Spring context config.**\r\n\r\n**1 Non-static CacheManager version**\r\n\r\n\r\n    package your.package.CacheManager;\r\n\r\n    // If you like annotation\r\n    @Component\r\n    public class CacheManager&lt;K, V&gt; {\r\n        \r\n        private Map&lt;K, V&gt; cache;\r\n\r\n        public V get(K key) {\r\n            if(cache != null) {\r\n                return cache.get(key);\r\n            }\r\n            synchronized(cache) {\r\n                if(cache == null) {\r\n                    loadCache();\r\n                }\r\n                return cache.get(key);\r\n            }\r\n        }\r\n\r\n        private void loadCache() {\r\n            cache = new HashMap&lt;K, V&gt;();\r\n            // Load from JDBC or what ever you want to load\r\n        }\r\n    }\r\n\r\n**2 Define bean of CacheManager in spring context or use @Service/@Component annotation (don&#39;t foget define scan path for annotations)**\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;your.package.CacheManager&quot;/&gt;\r\n\r\n**3 Inject your cache bean what ever you want with Spring config or @Autowire annotation**\r\n\r\n    &lt;bean id=&quot;cacheClient&quot; clas=&quot;...&quot;&gt;\r\n        &lt;property name=&quot;cache&quot; ref=&quot;cacheManager&quot;/&gt;\r\n    &lt;/bean&gt;\r\n","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p><strong>+1 for IoC container. Use Spring. Create CacheManager class as non static one and define CacheManaget in Spring context config.</strong></p>\n\n<p><strong>1 Non-static CacheManager version</strong></p>\n\n<pre><code>package your.package.CacheManager;\n\n// If you like annotation\n@Component\npublic class CacheManager&lt;K, V&gt; {\n\n    private Map&lt;K, V&gt; cache;\n\n    public V get(K key) {\n        if(cache != null) {\n            return cache.get(key);\n        }\n        synchronized(cache) {\n            if(cache == null) {\n                loadCache();\n            }\n            return cache.get(key);\n        }\n    }\n\n    private void loadCache() {\n        cache = new HashMap&lt;K, V&gt;();\n        // Load from JDBC or what ever you want to load\n    }\n}\n</code></pre>\n\n<p><strong>2 Define bean of CacheManager in spring context or use @Service/@Component annotation (don't foget define scan path for annotations)</strong></p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"your.package.CacheManager\"/&gt;\n</code></pre>\n\n<p><strong>3 Inject your cache bean what ever you want with Spring config or @Autowire annotation</strong></p>\n\n<pre><code>&lt;bean id=\"cacheClient\" clas=\"...\"&gt;\n    &lt;property name=\"cache\" ref=\"cacheManager\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17423,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1698953466,"creation_date":1247844377,"question_id":1143995,"body_markdown":"Let&#39;s say I have the following (assume restricted to java 1.4 so no generics) :\r\n\r\n    public class CacheManager {\r\n        static HashMap states;\r\n        static boolean statesLoaded;\r\n\r\n        public static String getState(String abbrev) {\r\n            if(!statesLoaded) {\r\n                loadStates();\r\n            }\r\n            return (String) states.get(abbrev);\r\n        }\r\n\r\n        private static void loadStates() {\r\n            //JDBC stuff to load the data\r\n            statesLoaded = true;\r\n        }\r\n    }\r\n\r\nIn a high-load multi-thread environment like  a web app server, this could theoretically have problems if &gt; 1 thread tries to get and load the cache at the same time. (Further assuming there&#39;s no startup code on the web app to initialize the cache)\r\n\r\nIs simply using Collections.synchronizedMap sufficient to fix this? Does the returned synchronizedMap have performance issues when doing get(), if a lot of threads are accessing it?\r\n\r\nOr would it be better to have a non-synchronized HashMap, and instead synchronize on the load method or boolean variable? I would think that if you synchronized either of those, you might end up locking the class.\r\n\r\nFor instance, if the load method was synchronized, what if 2 threads enter the getStates() method at the same time, and both see that statesLoaded is false. The first one gets a lock on the method, loads the cache and sets statesLoaded to true. Unfortunately, the 2nd thread has already evaluated that statesLoaded was false, and proceeds to the load method once the lock is free. Won&#39;t it go ahead and load the cache again?","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>Let's say I have the following (assume restricted to java 1.4 so no generics) :</p>\n\n<pre><code>public class CacheManager {\n    static HashMap states;\n    static boolean statesLoaded;\n\n    public static String getState(String abbrev) {\n        if(!statesLoaded) {\n            loadStates();\n        }\n        return (String) states.get(abbrev);\n    }\n\n    private static void loadStates() {\n        //JDBC stuff to load the data\n        statesLoaded = true;\n    }\n}\n</code></pre>\n\n<p>In a high-load multi-thread environment like  a web app server, this could theoretically have problems if > 1 thread tries to get and load the cache at the same time. (Further assuming there's no startup code on the web app to initialize the cache)</p>\n\n<p>Is simply using Collections.synchronizedMap sufficient to fix this? Does the returned synchronizedMap have performance issues when doing get(), if a lot of threads are accessing it?</p>\n\n<p>Or would it be better to have a non-synchronized HashMap, and instead synchronize on the load method or boolean variable? I would think that if you synchronized either of those, you might end up locking the class.</p>\n\n<p>For instance, if the load method was synchronized, what if 2 threads enter the getStates() method at the same time, and both see that statesLoaded is false. The first one gets a lock on the method, loads the cache and sets statesLoaded to true. Unfortunately, the 2nd thread has already evaluated that statesLoaded was false, and proceeds to the load method once the lock is free. Won't it go ahead and load the cache again?</p>\n"},{"tags":["java","apache","redirect"],"answers":[{"tags":[],"owner":{"account_id":15170500,"reputation":1321,"user_id":10946716,"display_name":"JarekBaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559471336,"creation_date":1559471336,"answer_id":56414200,"question_id":56354689,"body_markdown":"Check this rewrites in your .htaccess file (change example.com to your domain):\r\n\r\n    RewriteEngine On\r\n    RewriteBase /public/\r\n    RewriteRule ^(.*)$ http://example.com/$1 [L]","title":"How to redirect the home page of the site to /public/index.html path","body":"<p>Check this rewrites in your .htaccess file (change example.com to your domain):</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /public/\nRewriteRule ^(.*)$ http://example.com/$1 [L]\n</code></pre>\n"}],"owner":{"account_id":15707554,"reputation":21,"user_id":11333887,"display_name":"IT Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698952329,"creation_date":1559112917,"question_id":56354689,"body_markdown":"I am working on dynamic web project and follwoing is my web.xml contents: \r\n\r\n    &lt;display-name&gt;WEBSITE_NAME&lt;/display-name&gt;\r\n          \r\n          &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;/public/index.html&lt;/welcome-file&gt;\r\n          &lt;/welcome-file-list&gt;\r\n\r\n\r\n\r\nmy problem is wen I run the project and enter the WEBSITE_NAME the index.html file contents appearing on the page but without loading the images that exist in the public/img path, if I append to the query string /public/index.html manually, the site work correctly. The question is: how can force the site to direct to the /public/index.html path when I enter its name?","title":"How to redirect the home page of the site to /public/index.html path","body":"<p>I am working on dynamic web project and follwoing is my web.xml contents: </p>\n\n<pre><code>&lt;display-name&gt;WEBSITE_NAME&lt;/display-name&gt;\n\n      &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/public/index.html&lt;/welcome-file&gt;\n      &lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>my problem is wen I run the project and enter the WEBSITE_NAME the index.html file contents appearing on the page but without loading the images that exist in the public/img path, if I append to the query string /public/index.html manually, the site work correctly. The question is: how can force the site to direct to the /public/index.html path when I enter its name?</p>\n"},{"tags":["java","java-9","jshell"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":7,"creation_date":1508928950,"post_id":46930040,"comment_id":80807769,"body_markdown":"Type `/help` to get all commands. You&#39;re looking for the `/exit` command. You can also hit Ctrl+D which signals &quot;end of file&quot; which also causes it to exit.","body":"Type <code>&#47;help</code> to get all commands. You&#39;re looking for the <code>&#47;exit</code> command. You can also hit Ctrl+D which signals &quot;end of file&quot; which also causes it to exit."},{"owner":{"account_id":1376876,"reputation":1243,"user_id":1310733,"display_name":"Petr &#218;jezdsk&#253;"},"score":1,"creation_date":1611822882,"post_id":46930040,"comment_id":116575295,"body_markdown":"`vim` comes to my mind...","body":"<code>vim</code> comes to my mind..."},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1626850627,"post_id":46930040,"comment_id":120998936,"body_markdown":"I tried everything short of just banging the keyboard like a chimpanzee, thanks for the question/answer","body":"I tried everything short of just banging the keyboard like a chimpanzee, thanks for the question/answer"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698952975,"post_id":46930040,"comment_id":136473186,"body_markdown":"before killing your keyboard or computer, its most often worth checking the [documentation](https://docs.oracle.com/en/java/javase/21/docs/specs/man/jshell.html) ... Not to mention the message when starting: &quot;*For an introduction type: /help intro*&quot;","body":"before killing your keyboard or computer, its most often worth checking the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jshell.html\" rel=\"nofollow noreferrer\">documentation</a> ... Not to mention the message when starting: &quot;<i>For an introduction type: /help intro</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":181,"is_accepted":true,"score":181,"last_activity_date":1698950725,"creation_date":1508927599,"answer_id":46930091,"question_id":46930040,"body_markdown":"You can use the [JShell command](https://docs.oracle.com/javase/9/tools/jshell.htm#JSWOR-GUID-C337353B-074A-431C-993F-60C226163F00) to exit as:\r\n\r\n    /exit\r\n\r\nYou can also type the end-of-file character, which is Ctrl-D on Linux systems.\r\n\r\n***Side note***: Interestingly, with the use of command abbreviations for input shortcuts:-\r\n\r\n    /ex\r\n\r\n (of course `/exi`) also, resolves into the same command.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo see a list of JShell commands like this one, use the `/help` command.\r\n\r\n  [1]: https://i.stack.imgur.com/Li9tr.png","title":"How to quit the JShell and go back to the command-line?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/9/tools/jshell.htm#JSWOR-GUID-C337353B-074A-431C-993F-60C226163F00\" rel=\"nofollow noreferrer\">JShell command</a> to exit as:</p>\n<pre><code>/exit\n</code></pre>\n<p>You can also type the end-of-file character, which is Ctrl-D on Linux systems.</p>\n<p><em><strong>Side note</strong></em>: Interestingly, with the use of command abbreviations for input shortcuts:-</p>\n<pre><code>/ex\n</code></pre>\n<p>(of course <code>/exi</code>) also, resolves into the same command.</p>\n<p><a href=\"https://i.stack.imgur.com/Li9tr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Li9tr.png\" alt=\"enter image description here\" /></a></p>\n<p>To see a list of JShell commands like this one, use the <code>/help</code> command.</p>\n"},{"tags":[],"owner":{"account_id":17809937,"reputation":119,"user_id":12934777,"display_name":"GOKUL KANNAMBALLY BALACHNADRAN"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1593194094,"creation_date":1593194094,"answer_id":62600337,"question_id":46930040,"body_markdown":"inorder to exit from jshell you can use the command /exit","title":"How to quit the JShell and go back to the command-line?","body":"<p>inorder to exit from jshell you can use the command /exit</p>\n"},{"tags":[],"owner":{"account_id":11208803,"reputation":127,"user_id":8223478,"display_name":"Sumedh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679390021,"creation_date":1679390021,"answer_id":75799220,"question_id":46930040,"body_markdown":"&lt;kbd&gt;Ctlr&lt;/kbd&gt; + &lt;kbd&gt;D&lt;/kbd&gt; will quit the JShell and go back to the command-line.","title":"How to quit the JShell and go back to the command-line?","body":"<p><kbd>Ctlr</kbd> + <kbd>D</kbd> will quit the JShell and go back to the command-line.</p>\n"}],"owner":{"account_id":9020758,"reputation":1101,"user_id":6721934,"display_name":"Bryn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27191,"favorite_count":0,"down_vote_count":1,"up_vote_count":108,"accepted_answer_id":46930091,"answer_count":3,"score":107,"last_activity_date":1698950725,"creation_date":1508927405,"question_id":46930040,"body_markdown":"When using the JShell, how do I exit it back to the CMD line?\r\n\r\nI have already tried &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;x&lt;/kbd&gt; and just writing quit, but to no joy.","title":"How to quit the JShell and go back to the command-line?","body":"<p>When using the JShell, how do I exit it back to the CMD line?</p>\n\n<p>I have already tried <kbd>ctrl</kbd> + <kbd>x</kbd> and just writing quit, but to no joy.</p>\n"},{"tags":["java","spring-boot","keycloak"],"owner":{"account_id":21051722,"reputation":19,"user_id":15471931,"display_name":"MLquest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698950560,"creation_date":1698950560,"question_id":77412125,"body_markdown":"I have followed a baeldung guide to embed keycloak into a springboot 3 app. I have managed to modify it and use existing postgres database instead of an embedded H2 database by modifying META-INF/keycloak-server.json and I have deployed it with an nginx reverse proxy.\r\n\r\nEverything works except for the fact that I need to set proxy=reencrypt for https to be enabled and admin login page to work but I can&#39;t find anything in META-INF/keycloak-server.json that would do it nor can I do it from anywhere else.\r\n\r\nI have tried everything, googling, scouring keycloak repos and documentations, etc. but I still can&#39;t set the proxy option to make it work.\r\n\r\n","title":"spring boot 3 embedded keycloak --proxy=reencrypt","body":"<p>I have followed a baeldung guide to embed keycloak into a springboot 3 app. I have managed to modify it and use existing postgres database instead of an embedded H2 database by modifying META-INF/keycloak-server.json and I have deployed it with an nginx reverse proxy.</p>\n<p>Everything works except for the fact that I need to set proxy=reencrypt for https to be enabled and admin login page to work but I can't find anything in META-INF/keycloak-server.json that would do it nor can I do it from anywhere else.</p>\n<p>I have tried everything, googling, scouring keycloak repos and documentations, etc. but I still can't set the proxy option to make it work.</p>\n"},{"tags":["java","performance","compilation"],"comments":[{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1525320826,"post_id":50146822,"comment_id":87311853,"body_markdown":"This is a micro optimization but a very interesting question nonetheless. I&#39;m curious what the answer is, too.","body":"This is a micro optimization but a very interesting question nonetheless. I&#39;m curious what the answer is, too."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1698950393,"creation_date":1698949735,"answer_id":77412038,"question_id":50146822,"body_markdown":"In short, no, there is no benefit to expect.\r\n\r\nJava compilers do not even try to perform single-pass processing, so it doesn’t matter whether your code arrangement would allow it.\r\n\r\nThe C programming language only has global functions which makes it easy to reason about the set of defined functions at a particular code location.\r\n\r\nIn contrast, Java has no global functions at all. The context specific resolution includes methods declared in the same class as the caller (the ones you have in mind), methods inherited from a super class or interface, methods declared in an outer class, methods inherited by an outer class, and methods resolved through an `import static` statement.\r\n\r\nFurther, unlike C, Java supports *method overloading*. Therefore, for resolving a method, it is not enough to find an applicable method, the Java language requires the compiler to find the *most specific* method. So even if there’s a matching method declaration right above the caller, the compiler has to check whether there’s a more specific method below the caller or inherited from the superclass.\r\n\r\nIn other words, the case that an invocation resolves to a most specific method immediately preceding the invocation in the same source file is a rare corner case, no compiler vendor will try to optimize.\r\n\r\nWhile details are implementation dependent you can expect the processing to be basically as described on the Wikipedia article you’ve linked in the question. First, an [abstract syntax tree] is built during the syntactic analysis, then, semantic analysis and code generation will operate on that data structure. A single pass would have to work differently, hence, require maintaining an alternative implementation for no benefit as it would not work for real life cases.\r\n\r\n---\r\n\r\nTo illustrate the requirements on the semantic analysis happening after the syntactic analysis a bit more, consider the following example:\r\n\r\n```java\r\nSystem.out.println(&quot;hello world&quot;);\r\n```\r\nWhile the purpose of this statement is obvious to the reader, it is not to the compiler:\r\n\r\n - There could be a variable `System` whose type has a member variable `out` whose type has a `println` method.\r\n - There could be a variable `System` whose type has an inner class `out` with a static `println` method.\r\n - There could be a type `System` having a static member variable `out` whose type has a `println` method. (Bingo)\r\n - There could be a type `System` having a nested class `out` with a static `println` method.\r\n - There could be a type `System.out` having a static `println` method.\r\n\r\nSince variables have precedence over types which have precedence over packages, the compiler has to check in above order. In other words, even this idiomatic print statement requires processing the entire class declaration, to check whether there’s a variable named `System` in scope (which includes inherited member variables). Even if not, the compiler also has to check for a class `System` in the local and nested scopes, as well as in the current package, as the class implicitly imported from `java.lang` has the lowest precedence.\r\n\r\nSo, not even a hello-world example would allow compiling in a single pass.\r\n\r\n[abstract syntax tree]: https://en.wikipedia.org/wiki/Abstract_syntax_tree","title":"Does the order of method declarations in a Java class lead to faster compilation?","body":"<p>In short, no, there is no benefit to expect.</p>\n<p>Java compilers do not even try to perform single-pass processing, so it doesn’t matter whether your code arrangement would allow it.</p>\n<p>The C programming language only has global functions which makes it easy to reason about the set of defined functions at a particular code location.</p>\n<p>In contrast, Java has no global functions at all. The context specific resolution includes methods declared in the same class as the caller (the ones you have in mind), methods inherited from a super class or interface, methods declared in an outer class, methods inherited by an outer class, and methods resolved through an <code>import static</code> statement.</p>\n<p>Further, unlike C, Java supports <em>method overloading</em>. Therefore, for resolving a method, it is not enough to find an applicable method, the Java language requires the compiler to find the <em>most specific</em> method. So even if there’s a matching method declaration right above the caller, the compiler has to check whether there’s a more specific method below the caller or inherited from the superclass.</p>\n<p>In other words, the case that an invocation resolves to a most specific method immediately preceding the invocation in the same source file is a rare corner case, no compiler vendor will try to optimize.</p>\n<p>While details are implementation dependent you can expect the processing to be basically as described on the Wikipedia article you’ve linked in the question. First, an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"noreferrer\">abstract syntax tree</a> is built during the syntactic analysis, then, semantic analysis and code generation will operate on that data structure. A single pass would have to work differently, hence, require maintaining an alternative implementation for no benefit as it would not work for real life cases.</p>\n<hr />\n<p>To illustrate the requirements on the semantic analysis happening after the syntactic analysis a bit more, consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;hello world&quot;);\n</code></pre>\n<p>While the purpose of this statement is obvious to the reader, it is not to the compiler:</p>\n<ul>\n<li>There could be a variable <code>System</code> whose type has a member variable <code>out</code> whose type has a <code>println</code> method.</li>\n<li>There could be a variable <code>System</code> whose type has an inner class <code>out</code> with a static <code>println</code> method.</li>\n<li>There could be a type <code>System</code> having a static member variable <code>out</code> whose type has a <code>println</code> method. (Bingo)</li>\n<li>There could be a type <code>System</code> having a nested class <code>out</code> with a static <code>println</code> method.</li>\n<li>There could be a type <code>System.out</code> having a static <code>println</code> method.</li>\n</ul>\n<p>Since variables have precedence over types which have precedence over packages, the compiler has to check in above order. In other words, even this idiomatic print statement requires processing the entire class declaration, to check whether there’s a variable named <code>System</code> in scope (which includes inherited member variables). Even if not, the compiler also has to check for a class <code>System</code> in the local and nested scopes, as well as in the current package, as the class implicitly imported from <code>java.lang</code> has the lowest precedence.</p>\n<p>So, not even a hello-world example would allow compiling in a single pass.</p>\n"}],"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77412038,"answer_count":1,"score":5,"last_activity_date":1698950393,"creation_date":1525320604,"question_id":50146822,"body_markdown":"I have a very large Java project with lots of classes and methods.\r\n\r\nI read on [Wikipedia][1] that &quot;Languages like Java require a multi-pass compiler since the definition of x would not be required to come before the use&quot;. If I structured the code using [tag:c]/[tag:c++] rules so that all methods in a class are declared before they are used in the class&#39;s code, would this speed up the compilation process (vs all methods defined after they are used) because it would not have to do the additional passes during compilation?  If true, would it also speed up compilation if only some of the methods were defined in the code before they were used (vs all methods defined after they are used)?\n\nI understand that readability/maintenance should come first, but only consider the performance implications for my question.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Multi-pass_compiler#Advantages_of_multi-pass_compilers","title":"Does the order of method declarations in a Java class lead to faster compilation?","body":"<p>I have a very large Java project with lots of classes and methods.</p>\n\n<p>I read on <a href=\"https://en.wikipedia.org/wiki/Multi-pass_compiler#Advantages_of_multi-pass_compilers\" rel=\"nofollow noreferrer\">Wikipedia</a> that \"Languages like Java require a multi-pass compiler since the definition of x would not be required to come before the use\". If I structured the code using <a href=\"/questions/tagged/c\" class=\"post-tag\" title=\"show questions tagged &#39;c&#39;\" rel=\"tag\">c</a>/<a href=\"/questions/tagged/c%2b%2b\" class=\"post-tag\" title=\"show questions tagged &#39;c++&#39;\" rel=\"tag\">c++</a> rules so that all methods in a class are declared before they are used in the class's code, would this speed up the compilation process (vs all methods defined after they are used) because it would not have to do the additional passes during compilation?  If true, would it also speed up compilation if only some of the methods were defined in the code before they were used (vs all methods defined after they are used)?</p>\n\n<p>I understand that readability/maintenance should come first, but only consider the performance implications for my question.</p>\n"},{"tags":["java","android-recyclerview","retrofit2","android-glide"],"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1671692674,"post_id":74878319,"comment_id":132154104,"body_markdown":"Please and your gradle Build file and the Output of your failed build","body":"Please and your gradle Build file and the Output of your failed build"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2321,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671808365,"creation_date":1671808365,"answer_id":74901185,"question_id":74878319,"body_markdown":"Add `mavenCentral()` in `settings.gradle` as\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CuHCD.png\r\n\r\nThis might work.","title":"Failed to resolve: androidx.exifinterface:exifinterface:1.3.5 Add Google Maven repository","body":"<p>Add <code>mavenCentral()</code> in <code>settings.gradle</code> as</p>\n<p><a href=\"https://i.stack.imgur.com/CuHCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CuHCD.png\" alt=\"\" /></a></p>\n<p>This might work.</p>\n"},{"tags":[],"owner":{"account_id":10392595,"reputation":83,"user_id":7663327,"display_name":"Kerelos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698950127,"creation_date":1698950127,"answer_id":77412077,"question_id":74878319,"body_markdown":"I added the below and it fixed the problem for me \r\n\r\n - In this file: build.gradle.kts (module :app) add:\r\n\r\n    implementation(&quot;androidx.exifinterface:exifinterface:1.3.6&quot;)\r\n\r\nRegards,\r\n","title":"Failed to resolve: androidx.exifinterface:exifinterface:1.3.5 Add Google Maven repository","body":"<p>I added the below and it fixed the problem for me</p>\n<ul>\n<li><p>In this file: build.gradle.kts (module :app) add:</p>\n<p>implementation(&quot;androidx.exifinterface:exifinterface:1.3.6&quot;)</p>\n</li>\n</ul>\n<p>Regards,</p>\n"}],"owner":{"account_id":27318758,"reputation":1,"user_id":20832846,"display_name":"Amit Kushwaha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698950127,"creation_date":1671636720,"question_id":74878319,"body_markdown":"    Failed to resolve: androidx.exifinterface:exifinterface:1.3.5\r\n    Add Google Maven repository and sync project\r\n    Show in Project Structure dialog\r\n    Show Details\r\n\r\nThe problem is not getting resolved even after adding the project structure to the Google Maven repository.\r\nI used 12,14 version of glide dependency but i get same error in my case. anyone can hint me solution of this problem.  \r\n[Screenshot of error][1]\r\n[Project Structure][2]\r\n\r\nI tried to fetch all row from database using php mysql localhost and retrofit2.0 to display multimedia files and textfields in android recyclerview.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3M3m.png\r\n  [2]: https://i.stack.imgur.com/QZWdu.png","title":"Failed to resolve: androidx.exifinterface:exifinterface:1.3.5 Add Google Maven repository","body":"<pre><code>Failed to resolve: androidx.exifinterface:exifinterface:1.3.5\nAdd Google Maven repository and sync project\nShow in Project Structure dialog\nShow Details\n</code></pre>\n<p>The problem is not getting resolved even after adding the project structure to the Google Maven repository.\nI used 12,14 version of glide dependency but i get same error in my case. anyone can hint me solution of this problem.<br />\n<a href=\"https://i.stack.imgur.com/E3M3m.png\" rel=\"nofollow noreferrer\">Screenshot of error</a>\n<a href=\"https://i.stack.imgur.com/QZWdu.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>I tried to fetch all row from database using php mysql localhost and retrofit2.0 to display multimedia files and textfields in android recyclerview.</p>\n"},{"tags":["java","graalvm"],"answers":[{"tags":[],"owner":{"account_id":13620499,"reputation":111,"user_id":10628628,"display_name":"Alina Yurenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698949799,"creation_date":1698949799,"answer_id":77412046,"question_id":77411362,"body_markdown":"I think you&#39;re missing changes that were introduced in the last release. All languages are now Maven dependencies, you can you  like so:\r\n\r\n```\r\n&lt;dependency&gt; \r\n\t&lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \r\n\t&lt;artifactId&gt;polyglot&lt;/artifactId&gt; \r\n\t&lt;version&gt;23.1.0&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; \r\n\t&lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \r\n\t&lt;artifactId&gt;js&lt;/artifactId&gt; \r\n\t&lt;version&gt;23.1.0&lt;/version&gt; \r\n\t&lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nand then you can use them like \r\n\r\n```\r\npackage org.example.embedding;\r\n\r\nimport org.graalvm.polyglot.Context;\r\nimport org.graalvm.polyglot.Source;\r\nimport org.graalvm.polyglot.Value;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.util.Set;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try (Context context = Context.newBuilder().allowAllAccess(true).build()) {\r\n            Set&lt;String&gt; languages = context.getEngine().getLanguages().keySet();\r\n            for (String id : languages) {\r\n                System.out.println(&quot;Initializing language &quot; + id);\r\n                context.initialize(id);\r\n                switch (id) {\r\n                    case &quot;python&quot;:\r\n                        context.eval(&quot;python&quot;, &quot;print(&#39;Hello Python!&#39;)&quot;);\r\n                        break;\r\n                    case &quot;js&quot;:\r\n                        context.eval(&quot;js&quot;, &quot;print(&#39;Hello JavaScript!&#39;);&quot;);\r\n                        break;\r\n                    case &quot;ruby&quot;:\r\n                        context.eval(&quot;ruby&quot;, &quot;puts &#39;Hello Ruby!&#39;&quot;);\r\n                        break;\r\n                    case &quot;wasm&quot;:\r\n                        // with wasm we compute factorial\r\n                        context.eval(Source.newBuilder(&quot;wasm&quot;, Main.class.getResource(&quot;factorial.wasm&quot;)).build());\r\n                        Value factorial = context.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;fac&quot;);\r\n                        System.out.println(&quot;wasm: factorial(20) = &quot; + factorial.execute(20L));\r\n                        break;\r\n                    case &quot;java&quot;:\r\n                        // with Java we invoke System.out.println reflectively.\r\n                        Value out = context.getBindings(&quot;java&quot;).getMember(&quot;java.lang.System&quot;).getMember(&quot;out&quot;);\r\n                        out.invokeMember(&quot;println&quot;, &quot;Hello Espresso Java!&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nYou can look at https://github.com/graalvm/polyglot-embedding-demo for a complete example.\r\n\r\n","title":"Minimum Graal Polyglot example will not run","body":"<p>I think you're missing changes that were introduced in the last release. All languages are now Maven dependencies, you can you  like so:</p>\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \n    &lt;artifactId&gt;polyglot&lt;/artifactId&gt; \n    &lt;version&gt;23.1.0&lt;/version&gt; \n&lt;/dependency&gt;\n&lt;dependency&gt; \n    &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \n    &lt;artifactId&gt;js&lt;/artifactId&gt; \n    &lt;version&gt;23.1.0&lt;/version&gt; \n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and then you can use them like</p>\n<pre><code>package org.example.embedding;\n\nimport org.graalvm.polyglot.Context;\nimport org.graalvm.polyglot.Source;\nimport org.graalvm.polyglot.Value;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.Set;\n\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        try (Context context = Context.newBuilder().allowAllAccess(true).build()) {\n            Set&lt;String&gt; languages = context.getEngine().getLanguages().keySet();\n            for (String id : languages) {\n                System.out.println(&quot;Initializing language &quot; + id);\n                context.initialize(id);\n                switch (id) {\n                    case &quot;python&quot;:\n                        context.eval(&quot;python&quot;, &quot;print('Hello Python!')&quot;);\n                        break;\n                    case &quot;js&quot;:\n                        context.eval(&quot;js&quot;, &quot;print('Hello JavaScript!');&quot;);\n                        break;\n                    case &quot;ruby&quot;:\n                        context.eval(&quot;ruby&quot;, &quot;puts 'Hello Ruby!'&quot;);\n                        break;\n                    case &quot;wasm&quot;:\n                        // with wasm we compute factorial\n                        context.eval(Source.newBuilder(&quot;wasm&quot;, Main.class.getResource(&quot;factorial.wasm&quot;)).build());\n                        Value factorial = context.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;fac&quot;);\n                        System.out.println(&quot;wasm: factorial(20) = &quot; + factorial.execute(20L));\n                        break;\n                    case &quot;java&quot;:\n                        // with Java we invoke System.out.println reflectively.\n                        Value out = context.getBindings(&quot;java&quot;).getMember(&quot;java.lang.System&quot;).getMember(&quot;out&quot;);\n                        out.invokeMember(&quot;println&quot;, &quot;Hello Espresso Java!&quot;);\n                        break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can look at <a href=\"https://github.com/graalvm/polyglot-embedding-demo\" rel=\"nofollow noreferrer\">https://github.com/graalvm/polyglot-embedding-demo</a> for a complete example.</p>\n"}],"owner":{"account_id":5066903,"reputation":843,"user_id":4066795,"accept_rate":75,"display_name":"etchesketch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698949799,"creation_date":1698942809,"question_id":77411362,"body_markdown":"I&#39;m attempting to run a very simple GraalVM example but am running into a hard stop.\r\n\r\nI simply want to add two values together using JavaScript.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.graalvm.polyglot.*;\r\n\r\npublic final class App {\r\n    private App() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println( &quot;starting up&quot; );\r\n\r\n        try ( Context context = Context.create() ){\r\n            Value val = context.eval( &quot;js&quot;, &quot;10 + 2&quot; );\r\n\r\n            System.out.println( val.asInt() );\r\n        }\r\n        catch( Exception e ){\r\n            System.out.println( e );\r\n        }\r\n    \r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe program compiles fine but when I run it, I get the following output.\r\n```\r\nstarting up\r\n[WARNING] \r\njava.lang.ExceptionInInitializerError\r\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\r\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\r\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\r\n    at org.graalvm.polyglot.Context.create (Context.java:979)\r\n    at com.example.App.main (App.java:13)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\r\n    at java.lang.Thread.run (Thread.java:840)\r\nCaused by: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/jacob/Dev/cfwasmer/cfwasmjava/cfwasm/target/classes/\r\n    at sun.nio.fs.WindowsPathParser.normalize (WindowsPathParser.java:182)\r\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:153)\r\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:77)\r\n    at sun.nio.fs.WindowsPath.parse (WindowsPath.java:92)\r\n    at sun.nio.fs.WindowsFileSystem.getPath (WindowsFileSystem.java:232)\r\n    at java.nio.file.Path.of (Path.java:147)\r\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.collectClassPathJars (Engine.java:1988)\r\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffleModule (Engine.java:1783)\r\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffle (Engine.java:1723)\r\n    at org.graalvm.polyglot.Engine$1.searchServiceLoader (Engine.java:1682)\r\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1668)\r\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1663)\r\n    at java.security.AccessController.doPrivileged (AccessController.java:318)\r\n    at org.graalvm.polyglot.Engine.initEngineImpl (Engine.java:1663)\r\n    at org.graalvm.polyglot.Engine$ImplHolder.&lt;clinit&gt; (Engine.java:186)\r\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\r\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\r\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\r\n    at org.graalvm.polyglot.Context.create (Context.java:979)\r\n    at com.example.App.main (App.java:13)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\r\n    at java.lang.Thread.run (Thread.java:840)\r\n```\r\n\r\nSince the program prints out &quot;starting up&quot; I know that it is executing partially. Why is it complaining about file paths when I&#39;m not trying to access any files? How do I get it to run my JavaScript code?\r\n\r\nEDIT:\r\nI just tried running my example in a docker container and the program executed properly. My original test was in Windows. Can polyglot be used on windows? Do I need to do something to configure my environment?","title":"Minimum Graal Polyglot example will not run","body":"<p>I'm attempting to run a very simple GraalVM example but am running into a hard stop.</p>\n<p>I simply want to add two values together using JavaScript.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.graalvm.polyglot.*;\n\npublic final class App {\n    private App() {\n    }\n\n    public static void main(String[] args) {\n\n        System.out.println( &quot;starting up&quot; );\n\n        try ( Context context = Context.create() ){\n            Value val = context.eval( &quot;js&quot;, &quot;10 + 2&quot; );\n\n            System.out.println( val.asInt() );\n        }\n        catch( Exception e ){\n            System.out.println( e );\n        }\n    \n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>The program compiles fine but when I run it, I get the following output.</p>\n<pre><code>starting up\n[WARNING] \njava.lang.ExceptionInInitializerError\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\n    at org.graalvm.polyglot.Context.create (Context.java:979)\n    at com.example.App.main (App.java:13)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\n    at java.lang.Thread.run (Thread.java:840)\nCaused by: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/jacob/Dev/cfwasmer/cfwasmjava/cfwasm/target/classes/\n    at sun.nio.fs.WindowsPathParser.normalize (WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse (WindowsPath.java:92)\n    at sun.nio.fs.WindowsFileSystem.getPath (WindowsFileSystem.java:232)\n    at java.nio.file.Path.of (Path.java:147)\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.collectClassPathJars (Engine.java:1988)\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffleModule (Engine.java:1783)\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffle (Engine.java:1723)\n    at org.graalvm.polyglot.Engine$1.searchServiceLoader (Engine.java:1682)\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1668)\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1663)\n    at java.security.AccessController.doPrivileged (AccessController.java:318)\n    at org.graalvm.polyglot.Engine.initEngineImpl (Engine.java:1663)\n    at org.graalvm.polyglot.Engine$ImplHolder.&lt;clinit&gt; (Engine.java:186)\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\n    at org.graalvm.polyglot.Context.create (Context.java:979)\n    at com.example.App.main (App.java:13)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\n    at java.lang.Thread.run (Thread.java:840)\n</code></pre>\n<p>Since the program prints out &quot;starting up&quot; I know that it is executing partially. Why is it complaining about file paths when I'm not trying to access any files? How do I get it to run my JavaScript code?</p>\n<p>EDIT:\nI just tried running my example in a docker container and the program executed properly. My original test was in Windows. Can polyglot be used on windows? Do I need to do something to configure my environment?</p>\n"},{"tags":["macos","android-studio","java","java-home"],"answers":[{"tags":[],"owner":{"account_id":82339,"reputation":6092,"user_id":231590,"accept_rate":53,"display_name":"soshial"},"down_vote_count":0,"up_vote_count":254,"is_accepted":true,"score":254,"last_activity_date":1674138508,"creation_date":1491410846,"answer_id":43237101,"question_id":43211282,"body_markdown":"\r\nSolution:\r\n1. (**Updated 2023**) For Android Studio before Electric Eel 2022.1.1 and above: `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home`\r\n2. MacOS versions before Big Sur: add line `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/` to `.bash_profile` file in your home directory. Run `source ~/.bash_profile` to update terminal. \r\n3. Catalina, Big Sur, Mentere and above: add line `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home` to `.zshenv` file in your home directory. Run `source ~/.zshenv` to update terminal. \r\n\r\nAfter that, running `java -version` gave this output and Java started to execute normally:\r\n\r\n    openjdk version &quot;1.8.0_112-release&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_112-release-b06)\r\n    OpenJDK 64-Bit Server VM (build 25.112-b06, mixed mode)\r\n\r\nAs for the Android Device Monitor — it still demands this ancient JRE version 6.","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>Solution:</p>\n<ol>\n<li>(<strong>Updated 2023</strong>) For Android Studio before Electric Eel 2022.1.1 and above: <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home</code></li>\n<li>MacOS versions before Big Sur: add line <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/</code> to <code>.bash_profile</code> file in your home directory. Run <code>source ~/.bash_profile</code> to update terminal.</li>\n<li>Catalina, Big Sur, Mentere and above: add line <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</code> to <code>.zshenv</code> file in your home directory. Run <code>source ~/.zshenv</code> to update terminal.</li>\n</ol>\n<p>After that, running <code>java -version</code> gave this output and Java started to execute normally:</p>\n<pre><code>openjdk version &quot;1.8.0_112-release&quot;\nOpenJDK Runtime Environment (build 1.8.0_112-release-b06)\nOpenJDK 64-Bit Server VM (build 25.112-b06, mixed mode)\n</code></pre>\n<p>As for the Android Device Monitor — it still demands this ancient JRE version 6.</p>\n"},{"tags":[],"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1681668396,"creation_date":1628743308,"answer_id":68751706,"question_id":43211282,"body_markdown":"Updated 2023\r\n============\r\n\r\nI just did a fresh install of Android Studio Arctic Fox 2020.3.1 on Big Sur, and I had to use the following.\r\n\r\nAndroid Studio Dolphin and below:\r\n\r\n    export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\r\n\r\nAndroid Studio Electric Eel 2022.1.1 and above:\r\n\r\n    export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home\r\n\r\nOn a slightly different topic, even with the correct `JAVA_HOME`, I couldn&#39;t start `~/Library/Android/sdk/tools/bin/sdkmanager`. I had to install &quot;Android SDK Command-line Tools (latest)&quot; (from Android Studio) and use `~/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager` instead.","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<h1>Updated 2023</h1>\n<p>I just did a fresh install of Android Studio Arctic Fox 2020.3.1 on Big Sur, and I had to use the following.</p>\n<p>Android Studio Dolphin and below:</p>\n<pre><code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\n</code></pre>\n<p>Android Studio Electric Eel 2022.1.1 and above:</p>\n<pre><code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home\n</code></pre>\n<p>On a slightly different topic, even with the correct <code>JAVA_HOME</code>, I couldn't start <code>~/Library/Android/sdk/tools/bin/sdkmanager</code>. I had to install &quot;Android SDK Command-line Tools (latest)&quot; (from Android Studio) and use <code>~/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":2476367,"reputation":2540,"user_id":2156937,"accept_rate":4,"display_name":"busylee"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1631212509,"creation_date":1631212509,"answer_id":69123204,"question_id":43211282,"body_markdown":"The core problem is that starting from Android Studio Arctic Fox the destination of bundled java has been changed from:\r\n`/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/`\r\nto:\r\n`/Applications/Android Studio.app/Contents/jre/Contents/Home/`\r\n\r\nYou just need to change JAVA_HOME env variable in `.bash_profile` to the new correct path (be careful with space character, easiest way just to specify path in doubled quotes). And either restart terminal or run `source ~/.bash_profile`.\r\n","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>The core problem is that starting from Android Studio Arctic Fox the destination of bundled java has been changed from:\n<code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/</code>\nto:\n<code>/Applications/Android Studio.app/Contents/jre/Contents/Home/</code></p>\n<p>You just need to change JAVA_HOME env variable in <code>.bash_profile</code> to the new correct path (be careful with space character, easiest way just to specify path in doubled quotes). And either restart terminal or run <code>source ~/.bash_profile</code>.</p>\n"},{"tags":[],"owner":{"account_id":22481248,"reputation":153,"user_id":16680296,"display_name":"crjacinro"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1631978092,"creation_date":1631974697,"answer_id":69235473,"question_id":43211282,"body_markdown":"As pointed out by [dimezis][1], JAVA_HOME might be working but the /user/libexec/java_home is still broken.\r\n\r\nThis is because in Mac, `java_home` and `JAVA_HOME` are different. `JAVA_HOME` is the environment variable / path that will be used in most applications and environment while `java_home` is the actual executable that is being used by the system to run java. Apparently, some Mac applications (like Xcode) will just ignore the `JAVA_HOME` path and make use of the `java_home` executable\r\n\r\nSo in order to use the Android Studio Embedded JDK as default Java to be used in Mac, copy the entire embedded jdk folder `/Applications/Android Studio.app/Contents/jre/jdk` to the default Java library folder `/Library/Java/JavaVirtualMachines/`\r\n\r\nAfter this, set your `.bash_profile` or `.zshrc` with this:\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nThis will make sure that your JAVA_HOME and java_home is pointing to the same java installation.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3286059/dimezis","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>As pointed out by <a href=\"https://stackoverflow.com/users/3286059/dimezis\">dimezis</a>, JAVA_HOME might be working but the /user/libexec/java_home is still broken.</p>\n<p>This is because in Mac, <code>java_home</code> and <code>JAVA_HOME</code> are different. <code>JAVA_HOME</code> is the environment variable / path that will be used in most applications and environment while <code>java_home</code> is the actual executable that is being used by the system to run java. Apparently, some Mac applications (like Xcode) will just ignore the <code>JAVA_HOME</code> path and make use of the <code>java_home</code> executable</p>\n<p>So in order to use the Android Studio Embedded JDK as default Java to be used in Mac, copy the entire embedded jdk folder <code>/Applications/Android Studio.app/Contents/jre/jdk</code> to the default Java library folder <code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>After this, set your <code>.bash_profile</code> or <code>.zshrc</code> with this:\n<code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n<p>This will make sure that your JAVA_HOME and java_home is pointing to the same java installation.</p>\n"},{"tags":[],"owner":{"account_id":2166313,"reputation":2054,"user_id":3825816,"display_name":"Yvgen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1652015967,"creation_date":1652015967,"answer_id":72161411,"question_id":43211282,"body_markdown":"in my case escaping with `\\ ` doesn&#39;t work but escaping whole path with `&quot;` works fine. Please reopen terminal to see changes or run `source ~/.zshenv` to update terminal.\r\n\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home/&quot;","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>in my case escaping with <code>\\ </code> doesn't work but escaping whole path with <code>&quot;</code> works fine. Please reopen terminal to see changes or run <code>source ~/.zshenv</code> to update terminal.</p>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home/&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658749502,"creation_date":1658749198,"answer_id":73108627,"question_id":43211282,"body_markdown":"Here is how I solved my issue on MAC:\r\n\r\n    # Android, ADB and JAVA\r\n    export ANDROID_HOME=&quot;$HOME/Library/Android/sdk&quot;\r\n    export PATH=&quot;$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH&quot;\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;\r\n\r\n","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>Here is how I solved my issue on MAC:</p>\n<pre><code># Android, ADB and JAVA\nexport ANDROID_HOME=&quot;$HOME/Library/Android/sdk&quot;\nexport PATH=&quot;$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH&quot;\nexport JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634981,"reputation":7135,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671484053,"creation_date":1671484053,"answer_id":74856013,"question_id":43211282,"body_markdown":"From late 2022+, the answer for Mac User &amp; Electric Eel+ has been changed to:\r\n\r\n&gt; export JAVA_HOME=export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home \r\n\r\nto .zshenv file in your home directory","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>From late 2022+, the answer for Mac User &amp; Electric Eel+ has been changed to:</p>\n<blockquote>\n<p>export JAVA_HOME=export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home</p>\n</blockquote>\n<p>to .zshenv file in your home directory</p>\n"},{"tags":[],"owner":{"account_id":16578380,"reputation":423,"user_id":11979618,"display_name":"Beatle Refractor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674106600,"creation_date":1674106600,"answer_id":75168125,"question_id":43211282,"body_markdown":"I have three exports path in home/.zshrc mac system\r\n 1. jdk path\r\n 2. path Contains ordinary commands and shell scripts. \r\n 3. Android sdk path\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home\r\n    \r\n    export PATH=&quot;$PATH:/usr/local/bin&quot;\r\n\r\n    export ANDROID_HOME=$HOME/Library/Android/sdk","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>I have three exports path in home/.zshrc mac system</p>\n<ol>\n<li><p>jdk path</p>\n</li>\n<li><p>path Contains ordinary commands and shell scripts.</p>\n</li>\n<li><p>Android sdk path</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home</p>\n<p>export PATH=&quot;$PATH:/usr/local/bin&quot;</p>\n<p>export ANDROID_HOME=$HOME/Library/Android/sdk</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6767579,"reputation":43,"user_id":5212095,"display_name":"r.saiprasad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677624443,"creation_date":1674202701,"answer_id":75181367,"question_id":43211282,"body_markdown":"The following worked for me (MacOs Ventura version 13.1)\r\n\r\n1. Enter the following command in the command line\r\n\r\n     `export JAVA_HOME=/Applications/Android\\Studio.app/Contents/jbr/Contents/Home`\r\n\r\n2. Create a new folder inside `Applications/Android Studio.app/Contents` and call it `jre`.\r\n\r\n3. Copy the contents of `jbr` folder into the newly created folder`jre`.\r\n\r\n4. Run `flutter doctor`.\r\n\r\nLink : [flutter issues link][1]\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/118502","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>The following worked for me (MacOs Ventura version 13.1)</p>\n<ol>\n<li><p>Enter the following command in the command line</p>\n<p><code>export JAVA_HOME=/Applications/Android\\Studio.app/Contents/jbr/Contents/Home</code></p>\n</li>\n<li><p>Create a new folder inside <code>Applications/Android Studio.app/Contents</code> and call it <code>jre</code>.</p>\n</li>\n<li><p>Copy the contents of <code>jbr</code> folder into the newly created folder<code>jre</code>.</p>\n</li>\n<li><p>Run <code>flutter doctor</code>.</p>\n</li>\n</ol>\n<p>Link : <a href=\"https://github.com/flutter/flutter/issues/118502\" rel=\"nofollow noreferrer\">flutter issues link</a></p>\n"},{"tags":[],"owner":{"account_id":12664812,"reputation":79,"user_id":9204505,"display_name":"Tabatha Moreno"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674340513,"creation_date":1674340513,"answer_id":75197033,"question_id":43211282,"body_markdown":"Solved!\r\n\r\n- Got to finder and right click it and press ## Show packages content ## \r\n- Got to Contents and create a new folder called jre\r\n- inside jre copy the content of the jbr folder \r\n- the flutter run","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>Solved!</p>\n<ul>\n<li>Got to finder and right click it and press ## Show packages content ##</li>\n<li>Got to Contents and create a new folder called jre</li>\n<li>inside jre copy the content of the jbr folder</li>\n<li>the flutter run</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16805792,"reputation":456,"user_id":12150018,"display_name":"Erick Gutierrez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698949492,"creation_date":1698949492,"answer_id":77412018,"question_id":43211282,"body_markdown":"You can run the following command:\r\n\r\n    /usr/libexec/java_home\r\n\r\nUse the output path as follows:\r\n\r\n    export JAVA_HOME=&quot;&lt;path_you_received&gt;&quot;","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>You can run the following command:</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n<p>Use the output path as follows:</p>\n<pre><code>export JAVA_HOME=&quot;&lt;path_you_received&gt;&quot;\n</code></pre>\n"}],"owner":{"account_id":82339,"reputation":6092,"user_id":231590,"accept_rate":53,"display_name":"soshial"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92490,"favorite_count":0,"down_vote_count":1,"up_vote_count":131,"accepted_answer_id":43237101,"answer_count":11,"score":130,"last_activity_date":1698949492,"creation_date":1491319091,"question_id":43211282,"body_markdown":"I tried to open Android Device Monitor and the Studio showed me this message =-O :\r\n[![need to install Java SE 6 runtime error][1]][1]\r\n\r\nIt surprised me, because how have I been able to develop Android apps if I didn&#39;t have any Java installed?! Actually, Android Studio comes with bundled JDK/JRE (located in `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home`), but it is not found by the system: executed `usr/libexec/java_home` gives\r\n\r\n    Unable to find any JVMs matching version &quot;(null)&quot;.\r\n    No Java runtime present, try --request to install.\r\n\r\nSetting `$JAVA_HOME` to `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home` did not help — `source .bash_profile` doesn&#39;t like that it&#39;s a directory.\r\n\r\nQUESTION: I don&#39;t want to install new JDK if I already have one inside Android Studio. How do I set it as system default?\r\n\r\n  [1]: https://i.stack.imgur.com/SUlHl.png","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>I tried to open Android Device Monitor and the Studio showed me this message =-O :\n<a href=\"https://i.stack.imgur.com/SUlHl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SUlHl.png\" alt=\"need to install Java SE 6 runtime error\"></a></p>\n\n<p>It surprised me, because how have I been able to develop Android apps if I didn't have any Java installed?! Actually, Android Studio comes with bundled JDK/JRE (located in <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code>), but it is not found by the system: executed <code>usr/libexec/java_home</code> gives</p>\n\n<pre><code>Unable to find any JVMs matching version \"(null)\".\nNo Java runtime present, try --request to install.\n</code></pre>\n\n<p>Setting <code>$JAVA_HOME</code> to <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code> did not help — <code>source .bash_profile</code> doesn't like that it's a directory.</p>\n\n<p>QUESTION: I don't want to install new JDK if I already have one inside Android Studio. How do I set it as system default?</p>\n"},{"tags":["java","spring","web-services","soap"],"answers":[{"tags":[],"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498715853,"creation_date":1498715853,"answer_id":44817333,"question_id":44813606,"body_markdown":"Actually i could not get it. You throw FaultException then you catch and create some SOAPMessage? Without QName i got the expected result.\r\n\r\n            SOAPMessage message = MessageFactory.newInstance().createMessage();\r\n\t\t\tSOAPFault fault = message.getSOAPBody().addFault();\r\n\t\t\tfault.setFaultString(&quot;Error&quot;);\r\n\t\t\tfault.setFaultCode(&quot;99&quot;);\r\n\t\t\t\r\n\t\t\tmessage.getSOAPBody().appendChild(fault);\r\n\r\n\t\t\tmessage.writeTo(System.out);\r\nResponse  ;\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t&lt;SOAP-ENV:Header/&gt;\r\n\t&lt;SOAP-ENV:Body&gt;\r\n\t\t&lt;SOAP-ENV:Fault&gt;\r\n\t\t\t&lt;faultcode&gt;99&lt;/faultcode&gt;\r\n\t\t\t&lt;faultstring&gt;Error&lt;/faultstring&gt;\r\n\t\t&lt;/SOAP-ENV:Fault&gt;\r\n\t&lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>Actually i could not get it. You throw FaultException then you catch and create some SOAPMessage? Without QName i got the expected result.</p>\n\n<pre><code>        SOAPMessage message = MessageFactory.newInstance().createMessage();\n        SOAPFault fault = message.getSOAPBody().addFault();\n        fault.setFaultString(\"Error\");\n        fault.setFaultCode(\"99\");\n\n        message.getSOAPBody().appendChild(fault);\n\n        message.writeTo(System.out);\n</code></pre>\n\n<p>Response  ;</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;SOAP-ENV:Header/&gt;\n&lt;SOAP-ENV:Body&gt;\n    &lt;SOAP-ENV:Fault&gt;\n        &lt;faultcode&gt;99&lt;/faultcode&gt;\n        &lt;faultstring&gt;Error&lt;/faultstring&gt;\n    &lt;/SOAP-ENV:Fault&gt;\n&lt;/SOAP-ENV:Body&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":12497485,"reputation":1,"user_id":9096973,"display_name":"Ritesh P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513225552,"creation_date":1513224466,"answer_id":47805744,"question_id":44813606,"body_markdown":"You can achieve this in multiple ways. If you have requirement to return dynamic custom fault codes in SOAP response. Do following:\r\n\r\n1. Declare a class which extends springs SoapFaultMappingExceptionResolver class\r\n2. In above declared class, override `protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex)` method And provide custom implmentation as follows:\r\n\r\n    \t@Override\r\n\t    protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\r\n\t\t\r\n            String definitionText = &quot;SERVER&quot;;\r\n    \t\tif (ex instanceof ServiceFaultException) {\r\n    \t\t\tMyServiceFault serviceFault = ((MyServiceFaultException) ex).getServiceFault();\r\n    \t\t\tQName faultCode = new QName(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, serviceFault.getErrorCd());\r\n    \t\t\tdefinitionText = faultCode.toString();\r\n    \t\t}\r\n    \t\tSoapFaultDefinitionEditor editor = new SoapFaultDefinitionEditor();\r\n    \t\teditor.setAsText(definitionText);\r\n    \t\treturn (SoapFaultDefinition) editor.getValue();\r\n        }\r\n\r\nYou can add further details to error response by overriding \r\n\r\n    customizeFault(Object endpoint, Exception ex, SoapFault fault)\r\n\r\nof this class.\r\n","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>You can achieve this in multiple ways. If you have requirement to return dynamic custom fault codes in SOAP response. Do following:</p>\n\n<ol>\n<li>Declare a class which extends springs SoapFaultMappingExceptionResolver class</li>\n<li><p>In above declared class, override <code>protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex)</code> method And provide custom implmentation as follows:</p>\n\n<pre><code>@Override\nprotected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\n\n    String definitionText = \"SERVER\";\n    if (ex instanceof ServiceFaultException) {\n        MyServiceFault serviceFault = ((MyServiceFaultException) ex).getServiceFault();\n        QName faultCode = new QName(\"http://schemas.xmlsoap.org/soap/envelope/\", serviceFault.getErrorCd());\n        definitionText = faultCode.toString();\n    }\n    SoapFaultDefinitionEditor editor = new SoapFaultDefinitionEditor();\n    editor.setAsText(definitionText);\n    return (SoapFaultDefinition) editor.getValue();\n}\n</code></pre></li>\n</ol>\n\n<p>You can add further details to error response by overriding </p>\n\n<pre><code>customizeFault(Object endpoint, Exception ex, SoapFault fault)\n</code></pre>\n\n<p>of this class.</p>\n"},{"tags":[],"owner":{"account_id":29564190,"reputation":1,"user_id":22658025,"display_name":"Kyu Park"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696000776,"creation_date":1696000776,"answer_id":77203109,"question_id":44813606,"body_markdown":"I actually was stuck in the same problem for a week but I figured it out. I know it is an old question, but wanted to leave my solution for those who still struggled in 2023 like me.\r\n\r\nWhen you throw the SOAPFault `throw new SOAPFaultException(fault)`, it will use SOAP&#39;s default XML to return the fault. And for some reason that efault XML lets you modify the fault string but not the fault code, thus why in console it says you modified the SOAPFault, but the rendered SOAPFaultException will have no change as it will try to stick with the default SOAP XML, thus your case. \r\n\r\nThe solution is to make your CustomException class, and making a class that extends AbstractSoapFaultDefinitionExceptionResolver, so that when Spring WS observes the CustomException thrown, then it uses the custom resolver. \r\n\r\nSo you will need two classes, CustomException:\r\n```java\r\n  public class CustomException extends Exception {\r\n}\r\n```\r\nand the exception resolver:\r\n\r\n```java\r\npublic class ExceptionResolver extends AbstractSoapFaultDefinitionExceptionResolver {\r\n\r\n    @Override\r\n    protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\r\n        if (ex instanceof CustomException) {\r\n            // do something\r\n        }\r\n    }\r\n    @Override\r\n    protected void customizeFault(Object endpoint, Exception ex, SoapFault fault) {\r\n        if (ex instanceof CustomException) {\r\n            CustomException customException = ((CustomException) ex);\r\n            try {\r\n                     // customize your fault message\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(&quot;Error customizing&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand then in webservice.config, let Spring know to use this resolver\r\n```java\r\n    @Bean(name = &quot;soapFaultAnnotationExceptionResolver&quot;)\r\n    public ExceptionResolver exceptionResolver() {\r\n        return new ExceptionResolver();\r\n    }\r\n```\r\n\r\nYou might have to enable the allow-bean-definition-overriding option if it hasn&#39;t been already.\r\n\r\nHopefully this helps anyone struggling! ","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>I actually was stuck in the same problem for a week but I figured it out. I know it is an old question, but wanted to leave my solution for those who still struggled in 2023 like me.</p>\n<p>When you throw the SOAPFault <code>throw new SOAPFaultException(fault)</code>, it will use SOAP's default XML to return the fault. And for some reason that efault XML lets you modify the fault string but not the fault code, thus why in console it says you modified the SOAPFault, but the rendered SOAPFaultException will have no change as it will try to stick with the default SOAP XML, thus your case.</p>\n<p>The solution is to make your CustomException class, and making a class that extends AbstractSoapFaultDefinitionExceptionResolver, so that when Spring WS observes the CustomException thrown, then it uses the custom resolver.</p>\n<p>So you will need two classes, CustomException:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class CustomException extends Exception {\n}\n</code></pre>\n<p>and the exception resolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExceptionResolver extends AbstractSoapFaultDefinitionExceptionResolver {\n\n    @Override\n    protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\n        if (ex instanceof CustomException) {\n            // do something\n        }\n    }\n    @Override\n    protected void customizeFault(Object endpoint, Exception ex, SoapFault fault) {\n        if (ex instanceof CustomException) {\n            CustomException customException = ((CustomException) ex);\n            try {\n                     // customize your fault message\n                } catch (Exception e) {\n                    throw new RuntimeException(&quot;Error customizing&quot;, e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>and then in webservice.config, let Spring know to use this resolver</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean(name = &quot;soapFaultAnnotationExceptionResolver&quot;)\n    public ExceptionResolver exceptionResolver() {\n        return new ExceptionResolver();\n    }\n</code></pre>\n<p>You might have to enable the allow-bean-definition-overriding option if it hasn't been already.</p>\n<p>Hopefully this helps anyone struggling!</p>\n"}],"owner":{"account_id":10666146,"reputation":910,"user_id":7852676,"accept_rate":39,"display_name":"J. Abel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698948501,"creation_date":1498689427,"question_id":44813606,"body_markdown":"I am to try catching the exception from a SOAP web service in Spring WS (java) with the follows code:\r\n\r\n\r\n    String faultString = &quot;String Y&quot;;\r\n    \t\t\tString faultCodeValue = &quot;Code X&quot;;\r\n    \t\t\tQName faultCode = new QName(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, faultCodeValue);\r\n    \t\t\tSOAPFault soapFault = null;\r\n    \t\t\tsoapFault = SOAPFactory.newInstance(SOAPConstants.SOAP_1_1_PROTOCOL).createFault(faultString, faultCode);\r\n    \t\t    throw new SOAPFaultException(soapFault);\r\n\r\n\r\nHowever I always getting the same `&lt;faultcode&gt;`   like this `(&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;)`\r\n\r\n (even when I changed the value in `faultCodeValue` variable):\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n       &lt;SOAP-ENV:Header/&gt;\r\n       &lt;SOAP-ENV:Body&gt;\r\n          &lt;SOAP-ENV:Fault&gt;\r\n             &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;\r\n             &lt;faultstring xml:lang=&quot;en&quot;&gt;String Y&lt;/faultstring&gt;\r\n          &lt;/SOAP-ENV:Fault&gt;\r\n       &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n\r\nDoes Someone knows how to change this value in the web service response?\r\n\r\n","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>I am to try catching the exception from a SOAP web service in Spring WS (java) with the follows code:</p>\n\n<pre><code>String faultString = \"String Y\";\n            String faultCodeValue = \"Code X\";\n            QName faultCode = new QName(\"http://schemas.xmlsoap.org/soap/envelope/\", faultCodeValue);\n            SOAPFault soapFault = null;\n            soapFault = SOAPFactory.newInstance(SOAPConstants.SOAP_1_1_PROTOCOL).createFault(faultString, faultCode);\n            throw new SOAPFaultException(soapFault);\n</code></pre>\n\n<p>However I always getting the same <code>&lt;faultcode&gt;</code>   like this <code>(&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;)</code></p>\n\n<p>(even when I changed the value in <code>faultCodeValue</code> variable):</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;SOAP-ENV:Body&gt;\n      &lt;SOAP-ENV:Fault&gt;\n         &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;\n         &lt;faultstring xml:lang=\"en\"&gt;String Y&lt;/faultstring&gt;\n      &lt;/SOAP-ENV:Fault&gt;\n   &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>Does Someone knows how to change this value in the web service response?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":24427211,"reputation":11,"user_id":18352642,"display_name":"BlueFFlame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698948066,"creation_date":1698948066,"question_id":77411893,"body_markdown":"I&#39;m writing a Minecraft based on tech and machines, and I&#39;m making a furnace-esque machine for processing ores. However, I can&#39;t seem to get the recipes to work. Whenever I put the ore into the slot, nothing happens. \r\n\r\nI added the inventory property to the watchlist and it showed that it was detecting the block in the right slot, but for some reason its not triggering crafting. I&#39;m at a loss right now. I noticed that the getCurrentRecipe method is returning null (Optional.null), but I have no idea why as the inventory contains blocks. I also tried changing up some of the properties to see if it was a scope issue, but nothing seemed to work.\r\n\r\nAlso, there&#39;s no crashes at all. No errors thrown. It just doesn&#39;t do anything.\r\n\r\nHere are some of the code snippets:\r\n\r\n1) The .json files for the recipes\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;darkcollective:ore_refining&quot;,\r\n  &quot;ingredients&quot;: [\r\n    {\r\n      &quot;item&quot;: &quot;darkcollective:aernium_ore&quot;\r\n    }\r\n  ],\r\n  &quot;output&quot;: {\r\n    &quot;count&quot;: 2,\r\n    &quot;item&quot;: &quot;darkcollective:aernium_ingot&quot;\r\n  }\r\n}\r\n```\r\n2) The code in the OreRefineryEntityClass that looks for the recipe and, if found, starts the crafting\r\n\r\n\r\n```\r\nprivate boolean hasRecipe() {\r\n        Optional&lt;OreRefineryRecipe&gt; recipe = getCurrentRecipe();\r\n\r\n        System.out.println(recipe);\r\n\r\n        if(recipe.isEmpty()) {\r\n            return false;\r\n        }\r\n        ItemStack result = recipe.get().getResultItem(getLevel().registryAccess());\r\n\r\n        return canInsertAmountIntoOutputSlot(result.getCount()) &amp;&amp; canInsertItemIntoOutputSlot(result.getItem());\r\n    }\r\n\r\n    private Optional&lt;OreRefineryRecipe&gt; getCurrentRecipe() {\r\n        SimpleContainer inventory = new SimpleContainer(this.itemHandler.getSlots());\r\n        for(int i = 0; i &lt; itemHandler.getSlots(); i++) {\r\n            inventory.setItem(i, this.itemHandler.getStackInSlot(i));\r\n        }\r\n\r\n        return this.level.getRecipeManager().getRecipeFor(OreRefineryRecipe.Type.INSTANCE, inventory, level);\r\n    }\r\n```\r\n\r\n3) The code for the RecipeSerializer.\r\n\r\n```\r\npublic static class Serializer implements RecipeSerializer&lt;OreRefineryRecipe&gt;{\r\n\r\n        public static final Serializer INSTANCE = new Serializer();\r\n        public static final ResourceLocation ID = new ResourceLocation(DarkCollective.ModID, &quot;ore_refining&quot;);\r\n\r\n        @Override\r\n        public OreRefineryRecipe fromJson(ResourceLocation recipeId, JsonObject serializedRecipe) {\r\n            ItemStack output = ShapedRecipe.itemStackFromJson(GsonHelper.getAsJsonObject(serializedRecipe, &quot;result&quot;));\r\n\r\n            JsonArray ingredients = GsonHelper.getAsJsonArray(serializedRecipe, &quot;ingredients&quot;);\r\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(1, Ingredient.EMPTY);\r\n\r\n            for(int i = 0; i &lt; inputs.size(); i++) {\r\n                inputs.set(i, Ingredient.fromJson(ingredients.get(i)));\r\n            }\r\n\r\n            return new OreRefineryRecipe(inputs, output, recipeId);\r\n        }\r\n\r\n        @Override\r\n        public @Nullable OreRefineryRecipe fromNetwork(ResourceLocation recipeID, FriendlyByteBuf buffer) {\r\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(buffer.readInt(), Ingredient.EMPTY);\r\n\r\n            for(int i = 0; i &lt; inputs.size(); i++) {\r\n                inputs.set(i, Ingredient.fromNetwork(buffer));\r\n            }\r\n\r\n            ItemStack output = buffer.readItem();\r\n            return new OreRefineryRecipe(inputs, output, recipeID);\r\n        }\r\n\r\n        @Override\r\n        public void toNetwork(FriendlyByteBuf buffer, OreRefineryRecipe recipe) {\r\n            buffer.writeInt(recipe.inputItems.size());\r\n\r\n            for (Ingredient ingredient : recipe.getIngredients()) {\r\n                ingredient.toNetwork(buffer);\r\n            }\r\n\r\n            buffer.writeItemStack(recipe.getResultItem(null), false);\r\n\r\n        }\r\n    }\r\n```\r\nPlease note that I am new to modding, and I followed a tutorial for this code, so I don&#39;t really know code conventions yet. \r\n\r\nIf there&#39;s anything I missed, just tell me and I&#39;d be happy to send.\r\n\r\n\r\nThank you!\r\n\r\n\r\n\r\n","title":"Recipes for custom Block Entity isn&#39;t working, doesn&#39;t craft (1.20)","body":"<p>I'm writing a Minecraft based on tech and machines, and I'm making a furnace-esque machine for processing ores. However, I can't seem to get the recipes to work. Whenever I put the ore into the slot, nothing happens.</p>\n<p>I added the inventory property to the watchlist and it showed that it was detecting the block in the right slot, but for some reason its not triggering crafting. I'm at a loss right now. I noticed that the getCurrentRecipe method is returning null (Optional.null), but I have no idea why as the inventory contains blocks. I also tried changing up some of the properties to see if it was a scope issue, but nothing seemed to work.</p>\n<p>Also, there's no crashes at all. No errors thrown. It just doesn't do anything.</p>\n<p>Here are some of the code snippets:</p>\n<ol>\n<li>The .json files for the recipes</li>\n</ol>\n<pre><code>{\n  &quot;type&quot;: &quot;darkcollective:ore_refining&quot;,\n  &quot;ingredients&quot;: [\n    {\n      &quot;item&quot;: &quot;darkcollective:aernium_ore&quot;\n    }\n  ],\n  &quot;output&quot;: {\n    &quot;count&quot;: 2,\n    &quot;item&quot;: &quot;darkcollective:aernium_ingot&quot;\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li>The code in the OreRefineryEntityClass that looks for the recipe and, if found, starts the crafting</li>\n</ol>\n<pre><code>private boolean hasRecipe() {\n        Optional&lt;OreRefineryRecipe&gt; recipe = getCurrentRecipe();\n\n        System.out.println(recipe);\n\n        if(recipe.isEmpty()) {\n            return false;\n        }\n        ItemStack result = recipe.get().getResultItem(getLevel().registryAccess());\n\n        return canInsertAmountIntoOutputSlot(result.getCount()) &amp;&amp; canInsertItemIntoOutputSlot(result.getItem());\n    }\n\n    private Optional&lt;OreRefineryRecipe&gt; getCurrentRecipe() {\n        SimpleContainer inventory = new SimpleContainer(this.itemHandler.getSlots());\n        for(int i = 0; i &lt; itemHandler.getSlots(); i++) {\n            inventory.setItem(i, this.itemHandler.getStackInSlot(i));\n        }\n\n        return this.level.getRecipeManager().getRecipeFor(OreRefineryRecipe.Type.INSTANCE, inventory, level);\n    }\n</code></pre>\n<ol start=\"3\">\n<li>The code for the RecipeSerializer.</li>\n</ol>\n<pre><code>public static class Serializer implements RecipeSerializer&lt;OreRefineryRecipe&gt;{\n\n        public static final Serializer INSTANCE = new Serializer();\n        public static final ResourceLocation ID = new ResourceLocation(DarkCollective.ModID, &quot;ore_refining&quot;);\n\n        @Override\n        public OreRefineryRecipe fromJson(ResourceLocation recipeId, JsonObject serializedRecipe) {\n            ItemStack output = ShapedRecipe.itemStackFromJson(GsonHelper.getAsJsonObject(serializedRecipe, &quot;result&quot;));\n\n            JsonArray ingredients = GsonHelper.getAsJsonArray(serializedRecipe, &quot;ingredients&quot;);\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(1, Ingredient.EMPTY);\n\n            for(int i = 0; i &lt; inputs.size(); i++) {\n                inputs.set(i, Ingredient.fromJson(ingredients.get(i)));\n            }\n\n            return new OreRefineryRecipe(inputs, output, recipeId);\n        }\n\n        @Override\n        public @Nullable OreRefineryRecipe fromNetwork(ResourceLocation recipeID, FriendlyByteBuf buffer) {\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(buffer.readInt(), Ingredient.EMPTY);\n\n            for(int i = 0; i &lt; inputs.size(); i++) {\n                inputs.set(i, Ingredient.fromNetwork(buffer));\n            }\n\n            ItemStack output = buffer.readItem();\n            return new OreRefineryRecipe(inputs, output, recipeID);\n        }\n\n        @Override\n        public void toNetwork(FriendlyByteBuf buffer, OreRefineryRecipe recipe) {\n            buffer.writeInt(recipe.inputItems.size());\n\n            for (Ingredient ingredient : recipe.getIngredients()) {\n                ingredient.toNetwork(buffer);\n            }\n\n            buffer.writeItemStack(recipe.getResultItem(null), false);\n\n        }\n    }\n</code></pre>\n<p>Please note that I am new to modding, and I followed a tutorial for this code, so I don't really know code conventions yet.</p>\n<p>If there's anything I missed, just tell me and I'd be happy to send.</p>\n<p>Thank you!</p>\n"},{"tags":["java","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":29813011,"reputation":1,"user_id":22847977,"display_name":"pomponlecoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698947674,"creation_date":1698947674,"answer_id":77411849,"question_id":28637890,"body_markdown":"I am 2 days late for dead-revival feast, nontheless I dig up this thread from its lay-buried mortuary position (also related to https://stackoverflow.com/questions/29347764/conditionally-filter-tomcat-accesslogvalve among others)\r\n\r\nTo any adventurer wandering down here amongst dead-living threads, here is my suggestion : \r\n- use https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html (and in particular &quot;RewriteRule ^.*$ - [L,E=myFlag:true]&quot; following a condition on queried URL) to add &quot;myFlag&quot; envVar \r\n- use https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes &quot;conditionIf&quot; and &quot;conditionUnless&quot; attributes to do the filtering based on the envVar you just positioned","title":"Tomcat access logs separately for different applications deployed inside it","body":"<p>I am 2 days late for dead-revival feast, nontheless I dig up this thread from its lay-buried mortuary position (also related to <a href=\"https://stackoverflow.com/questions/29347764/conditionally-filter-tomcat-accesslogvalve\">Conditionally filter Tomcat AccessLogValve</a> among others)</p>\n<p>To any adventurer wandering down here amongst dead-living threads, here is my suggestion :</p>\n<ul>\n<li>use <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html</a> (and in particular &quot;RewriteRule ^.*$ - [L,E=myFlag:true]&quot; following a condition on queried URL) to add &quot;myFlag&quot; envVar</li>\n<li>use <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes</a> &quot;conditionIf&quot; and &quot;conditionUnless&quot; attributes to do the filtering based on the envVar you just positioned</li>\n</ul>\n"}],"owner":{"account_id":5764483,"reputation":19,"user_id":4549846,"display_name":"Kamal Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698947674,"creation_date":1424465270,"question_id":28637890,"body_markdown":"Tomcat writes access_logs for all the applications together. Is it possible to write access logs separately for each application deployed in Tomcat depending upon their deployed names.\r\n\r\nEg: Inside logs dir,\r\n       App1--&gt;app1_access_logs\r\n       App2--&gt;app2_access_logs\r\n\r\nNote: Im not talking about applications logs. Im talking about each request coming to particular application in tomcat from a particular user.\r\n","title":"Tomcat access logs separately for different applications deployed inside it","body":"<p>Tomcat writes access_logs for all the applications together. Is it possible to write access logs separately for each application deployed in Tomcat depending upon their deployed names.</p>\n\n<p>Eg: Inside logs dir,\n       App1-->app1_access_logs\n       App2-->app2_access_logs</p>\n\n<p>Note: Im not talking about applications logs. Im talking about each request coming to particular application in tomcat from a particular user.</p>\n"},{"tags":["java","spring-boot","uri","ipv6"],"answers":[{"tags":[],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698947475,"creation_date":1697470877,"answer_id":77303299,"question_id":77275486,"body_markdown":"Verified as a bug and reported as https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8318130 - fixed in JDK 22 b21 via https://github.com/openjdk/jdk/pull/16265/files","title":"a bug in Java&#39;s stdlib SocksSocketImpl?","body":"<p>Verified as a bug and reported as <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8318130\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8318130</a> - fixed in JDK 22 b21 via <a href=\"https://github.com/openjdk/jdk/pull/16265/files\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/pull/16265/files</a></p>\n"}],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77303299,"answer_count":1,"score":2,"last_activity_date":1698947475,"creation_date":1697048225,"question_id":77275486,"body_markdown":"I&#39;ve noticed a peculiar suppressed `URISyntaxException` in one of my Spring Boot apps during embedded Tomcat shutdown procedure via `TomcatWebServer#stop()` - and after debugging, found the source to be here:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/SocksSocketImpl.java#L306\r\n\r\n(this happened for me on Eclipse Temurin 17.0.8.1, but I tried with other Java versions, and it looked mostly the same)\r\n\r\nBasically, no matter how hard I stare at it, for an IPv6 (my use case) this code looks broken.\r\n\r\n * `epoint.getHostString()` gives a valid IPv6, no braces (e.g. `fd00:baba:babe:0:0:0:0:862`)\r\n * the following code detects IPv6 `epoint` and adds braces, `[fd00:baba:babe:0:0:0:0:862]`\r\n * `ParseUtil.encodePath(host)` encodes that `host` to `%5bfd00:baba:babe:0:0:0:0:862%5d` - this is problematic, because the hostname and port will be impossible to distinguish via URI parsing later, but shouldn&#39;t cause an exception by itself\r\n * this is then concatenated with the schema/port and gives e.g. `socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507` - even more problematic, since now it looks even more vexing both to human eye and probably to the `new URI` input parser as well,\r\n * however, `new URI` c-tor constructs a URI with encoded hostname and port clumped together as `authority`, and `host == null` and `port == -1`\r\n\r\nTo work properly for IPv6-based hosts, `new URI` expects a _non-encoded_ IPv6 address _with required literal braces_, i.e. `[fd00:baba:babe:0:0:0:0:862]`, \r\n\r\nSimple replication case:\r\n\r\n        URI uri = new URI(&quot;socket://[fd00:baba:babe:0:0:0:0:862]:55507&quot;);\r\n        System.out.println(uri.getHost()); // [fd00:a89f:8b41:0:0:0:0:862] - OK\r\n        uri = new URI(&quot;socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507&quot;);\r\n        System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\r\n        uri = new URI(&quot;socket://fd00:baba:babe:0:0:0:0:862:55507&quot;);\r\n        System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\r\n\r\nI thought that having `host == null` should crash the SocksSocketImpl later on, but, surprisingly, in the only real place the `uri` is used, i.e. the call to `DefaultProxySelector#select(URI uri)` , I found an unrelated workaround... that is described explicitly as _not for this case_ but allows the code to not fail! https://github.com/openjdk/jdk/blob/jdk-10%2B24/src/java.base/share/classes/sun/net/spi/DefaultProxySelector.java#L168 (i.e., this code _would_ actually crash in normal situations, if not for a literally decades-old hacky workaround _for completely unrelated cases_ - international domain names and domain names with underscore).\r\n\r\nAm I missing something obvious, or is it a stacked bug in the stdlib itself (and thus should be reported upstream)?\r\n","title":"a bug in Java&#39;s stdlib SocksSocketImpl?","body":"<p>I've noticed a peculiar suppressed <code>URISyntaxException</code> in one of my Spring Boot apps during embedded Tomcat shutdown procedure via <code>TomcatWebServer#stop()</code> - and after debugging, found the source to be here:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/SocksSocketImpl.java#L306\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/SocksSocketImpl.java#L306</a></p>\n<p>(this happened for me on Eclipse Temurin 17.0.8.1, but I tried with other Java versions, and it looked mostly the same)</p>\n<p>Basically, no matter how hard I stare at it, for an IPv6 (my use case) this code looks broken.</p>\n<ul>\n<li><code>epoint.getHostString()</code> gives a valid IPv6, no braces (e.g. <code>fd00:baba:babe:0:0:0:0:862</code>)</li>\n<li>the following code detects IPv6 <code>epoint</code> and adds braces, <code>[fd00:baba:babe:0:0:0:0:862]</code></li>\n<li><code>ParseUtil.encodePath(host)</code> encodes that <code>host</code> to <code>%5bfd00:baba:babe:0:0:0:0:862%5d</code> - this is problematic, because the hostname and port will be impossible to distinguish via URI parsing later, but shouldn't cause an exception by itself</li>\n<li>this is then concatenated with the schema/port and gives e.g. <code>socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507</code> - even more problematic, since now it looks even more vexing both to human eye and probably to the <code>new URI</code> input parser as well,</li>\n<li>however, <code>new URI</code> c-tor constructs a URI with encoded hostname and port clumped together as <code>authority</code>, and <code>host == null</code> and <code>port == -1</code></li>\n</ul>\n<p>To work properly for IPv6-based hosts, <code>new URI</code> expects a <em>non-encoded</em> IPv6 address <em>with required literal braces</em>, i.e. <code>[fd00:baba:babe:0:0:0:0:862]</code>,</p>\n<p>Simple replication case:</p>\n<pre><code>    URI uri = new URI(&quot;socket://[fd00:baba:babe:0:0:0:0:862]:55507&quot;);\n    System.out.println(uri.getHost()); // [fd00:a89f:8b41:0:0:0:0:862] - OK\n    uri = new URI(&quot;socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507&quot;);\n    System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\n    uri = new URI(&quot;socket://fd00:baba:babe:0:0:0:0:862:55507&quot;);\n    System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\n</code></pre>\n<p>I thought that having <code>host == null</code> should crash the SocksSocketImpl later on, but, surprisingly, in the only real place the <code>uri</code> is used, i.e. the call to <code>DefaultProxySelector#select(URI uri)</code> , I found an unrelated workaround... that is described explicitly as <em>not for this case</em> but allows the code to not fail! <a href=\"https://github.com/openjdk/jdk/blob/jdk-10%2B24/src/java.base/share/classes/sun/net/spi/DefaultProxySelector.java#L168\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/jdk-10%2B24/src/java.base/share/classes/sun/net/spi/DefaultProxySelector.java#L168</a> (i.e., this code <em>would</em> actually crash in normal situations, if not for a literally decades-old hacky workaround <em>for completely unrelated cases</em> - international domain names and domain names with underscore).</p>\n<p>Am I missing something obvious, or is it a stacked bug in the stdlib itself (and thus should be reported upstream)?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","playwright-java"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":1,"creation_date":1683271920,"post_id":76179719,"comment_id":134344300,"body_markdown":"please read this and edit your question\n[how-to-ask](https://stackoverflow.com/help/how-to-ask)","body":"please read this and edit your question <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1683281152,"post_id":76179719,"comment_id":134346132,"body_markdown":"[`getaddrinfo ENOTFOUND` means client was not able to connect to given address](https://stackoverflow.com/a/23259900/6505250). The error message looks like Java delegates to Node.js for downloading. Your IDE is pretty outdated. Maybe you use an outdated Node.js as well which might not be able to download via HTTP**S** with nowadays length of keys. Or maybe you are behind a proxy. Whatever, this does not seems to be related to Java or Eclipse.","body":"<a href=\"https://stackoverflow.com/a/23259900/6505250\"><code>getaddrinfo ENOTFOUND</code> means client was not able to connect to given address</a>. The error message looks like Java delegates to Node.js for downloading. Your IDE is pretty outdated. Maybe you use an outdated Node.js as well which might not be able to download via HTTP<b>S</b> with nowadays length of keys. Or maybe you are behind a proxy. Whatever, this does not seems to be related to Java or Eclipse."}],"owner":{"account_id":28514157,"reputation":1,"user_id":21823730,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698947295,"creation_date":1683271288,"question_id":76179719,"body_markdown":"```none\r\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\r\nError: getaddrinfo ENOTFOUND playwright.azureedge.net\r\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\r\n  errno: -3008,\r\n  code: &#39;ENOTFOUND&#39;,\r\n  syscall: &#39;getaddrinfo&#39;,\r\n  hostname: &#39;playwright.azureedge.net&#39;\r\n}\r\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-akamai.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\r\nError: getaddrinfo ENOTFOUND playwright-akamai.azureedge.net\r\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\r\n  errno: -3008,\r\n  code: &#39;ENOTFOUND&#39;,\r\n  syscall: &#39;getaddrinfo&#39;,\r\n  hostname: &#39;playwright-akamai.azureedge.net&#39;\r\n}\r\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-verizon.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\r\nError: getaddrinfo ENOTFOUND playwright-verizon.azureedge.net\r\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\r\n  errno: -3008,\r\n  code: &#39;ENOTFOUND&#39;,\r\n  syscall: &#39;getaddrinfo&#39;,\r\n  hostname: &#39;playwright-verizon.azureedge.net&#39;\r\n}\r\nFailed to install browsers\r\nError: Failed to download Chromium 113.0.5672.53 (playwright build v1060), caused by\r\nError: Download failure, code=1\r\n    at ChildProcess.&lt;anonymous&gt; (C:\\Users\\abhi\\AppData\\Local\\Temp\\playwright-java-2390916958096346510\\package\\lib\\server\\registry\\browserFetcher.js:95:16)\r\n    at ChildProcess.emit (node:events:513:28)\r\n    at ChildProcess._handle.onexit (node:internal/child_process:291:12)\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create driver\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\r\n\tat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:110)\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:114)\r\n\tat PlayWright.Demo.App.main(App.java:11)\r\nCaused by: java.lang.RuntimeException: Failed to install browsers, exit code: 1\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.installBrowsers(DriverJar.java:100)\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:69)\r\n\tat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\r\n\t... 6 more\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ASbg6.png","title":"Failed to install browsers in playwriter while running the script in eclipse","body":"<pre class=\"lang-none prettyprint-override\"><code>Downloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\nError: getaddrinfo ENOTFOUND playwright.azureedge.net\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\n  errno: -3008,\n  code: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'playwright.azureedge.net'\n}\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-akamai.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\nError: getaddrinfo ENOTFOUND playwright-akamai.azureedge.net\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\n  errno: -3008,\n  code: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'playwright-akamai.azureedge.net'\n}\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-verizon.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\nError: getaddrinfo ENOTFOUND playwright-verizon.azureedge.net\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\n  errno: -3008,\n  code: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'playwright-verizon.azureedge.net'\n}\nFailed to install browsers\nError: Failed to download Chromium 113.0.5672.53 (playwright build v1060), caused by\nError: Download failure, code=1\n    at ChildProcess.&lt;anonymous&gt; (C:\\Users\\abhi\\AppData\\Local\\Temp\\playwright-java-2390916958096346510\\package\\lib\\server\\registry\\browserFetcher.js:95:16)\n    at ChildProcess.emit (node:events:513:28)\n    at ChildProcess._handle.onexit (node:internal/child_process:291:12)\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create driver\n    at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\n    at com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\n    at com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\n    at com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\n    at com.microsoft.playwright.Playwright.create(Playwright.java:110)\n    at com.microsoft.playwright.Playwright.create(Playwright.java:114)\n    at PlayWright.Demo.App.main(App.java:11)\nCaused by: java.lang.RuntimeException: Failed to install browsers, exit code: 1\n    at com.microsoft.playwright.impl.driver.jar.DriverJar.installBrowsers(DriverJar.java:100)\n    at com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:69)\n    at com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\n    at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\n    ... 6 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ASbg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASbg6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jgit"],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1586929705,"creation_date":1421999412,"answer_id":28105276,"question_id":28073266,"body_markdown":"You need to pass a `UsernamePasswordCredentialsProvider` with the token as its user name.\r\n\r\n    String remoteUrl = &quot;https://${token}@github.com/user/repo.git&quot;;\r\n    CredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(&quot;${token}&quot;, &quot;&quot;);\r\n    git.push().setRemote(remoteUrl).setCredentialsProvider(credentialsProvider).call();\r\n\r\nThe above can at least be used to authenticate with a GitHub repository. Though, I can&#39;t say if this scheme works generally.","title":"How to use JGit to push changes to remote with OAuth access token","body":"<p>You need to pass a <code>UsernamePasswordCredentialsProvider</code> with the token as its user name.</p>\n\n<pre><code>String remoteUrl = \"https://${token}@github.com/user/repo.git\";\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(\"${token}\", \"\");\ngit.push().setRemote(remoteUrl).setCredentialsProvider(credentialsProvider).call();\n</code></pre>\n\n<p>The above can at least be used to authenticate with a GitHub repository. Though, I can't say if this scheme works generally.</p>\n"},{"tags":[],"owner":{"account_id":21401283,"reputation":21,"user_id":15763374,"display_name":"Markus Hoffrogge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698946916,"creation_date":1698946916,"answer_id":77411782,"question_id":28073266,"body_markdown":"Using the GitHub Action token within a GitHub Actions step accordingly as username like this: `new UsernamePasswordCredentialsProvider(&quot;${{ github.token }}&quot;, &quot;&quot;)` - this did **NOT** succeed! - It did end up with authorization failing.\r\n\r\nI had to use the repositories owner name as user and the github action token as password like `new UsernamePasswordCredentialsProvider(&quot;${{ github.repository_owner }}&quot;, &quot;${{ github.token }}&quot;)` - that worked.\r\n\r\n**Note:** In actual JAVA code you will have to pass `${{ github.repository_owner }}` and `${{ github.token }}` from outside like e.g. java -D system properties since the `UsernamePasswordCredentialsProvider` constructor will not resolve the value of these github action variables.\r\n","title":"How to use JGit to push changes to remote with OAuth access token","body":"<p>Using the GitHub Action token within a GitHub Actions step accordingly as username like this: <code>new UsernamePasswordCredentialsProvider(&quot;${{ github.token }}&quot;, &quot;&quot;)</code> - this did <strong>NOT</strong> succeed! - It did end up with authorization failing.</p>\n<p>I had to use the repositories owner name as user and the github action token as password like <code>new UsernamePasswordCredentialsProvider(&quot;${{ github.repository_owner }}&quot;, &quot;${{ github.token }}&quot;)</code> - that worked.</p>\n<p><strong>Note:</strong> In actual JAVA code you will have to pass <code>${{ github.repository_owner }}</code> and <code>${{ github.token }}</code> from outside like e.g. java -D system properties since the <code>UsernamePasswordCredentialsProvider</code> constructor will not resolve the value of these github action variables.</p>\n"}],"owner":{"account_id":1938528,"reputation":4492,"user_id":1745356,"accept_rate":57,"display_name":"user1745356"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7664,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28105276,"answer_count":2,"score":11,"last_activity_date":1698946916,"creation_date":1421861178,"question_id":28073266,"body_markdown":"I am able to push to remote with this piece of code \r\n\r\n    return git.push().setCredentialsProvider(new UsernamePasswordCredentialsProvider(user, password)).setRemote(&quot;origin&quot;).call();\r\n\r\nI also am able to get oauth access token with all necessary scopes. How do I push with access token?\r\n","title":"How to use JGit to push changes to remote with OAuth access token","body":"<p>I am able to push to remote with this piece of code </p>\n\n<pre><code>return git.push().setCredentialsProvider(new UsernamePasswordCredentialsProvider(user, password)).setRemote(\"origin\").call();\n</code></pre>\n\n<p>I also am able to get oauth access token with all necessary scopes. How do I push with access token?</p>\n"},{"tags":["java","java-8","playframework"],"answers":[{"tags":[],"owner":{"account_id":15908858,"reputation":395,"user_id":11479285,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609064383,"creation_date":1609064383,"answer_id":65464732,"question_id":65354475,"body_markdown":"You can try following code to open the port of active localhost server.\r\n  \r\n\r\n    Desktop desktop = Desktop.getDesktop();\r\n    URI url = new URI(&quot;http://localhost:9000/&quot;);\r\n    desktop.browse(url);\r\n\r\nOr else, if you need to access terminal commands then try this; but make sure your play project directory path. Now possibly run sbt commands inside java console using this.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    \r\n    \r\n    public class Cmd {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Process process = Runtime.getRuntime()\r\n                    .exec(&quot;cmd /c dir&quot;, null, new File(&quot;C:\\\\Users\\\\&quot;));\r\n            //.exec(&quot;sh -c ls&quot;, null, new File(&quot;Pathname&quot;)); for non-Windows users\r\n            printResults(process);\r\n        }\r\n    \r\n        private static void printResults(Process process) throws IOException {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line = &quot;&quot;;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to Run or Start Play framework project through a Java Main method","body":"<p>You can try following code to open the port of active localhost server.</p>\n<pre><code>Desktop desktop = Desktop.getDesktop();\nURI url = new URI(&quot;http://localhost:9000/&quot;);\ndesktop.browse(url);\n</code></pre>\n<p>Or else, if you need to access terminal commands then try this; but make sure your play project directory path. Now possibly run sbt commands inside java console using this.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\n\n\npublic class Cmd {\n    public static void main(String[] args) throws IOException {\n\n        Process process = Runtime.getRuntime()\n                .exec(&quot;cmd /c dir&quot;, null, new File(&quot;C:\\\\Users\\\\&quot;));\n        //.exec(&quot;sh -c ls&quot;, null, new File(&quot;Pathname&quot;)); for non-Windows users\n        printResults(process);\n    }\n\n    private static void printResults(Process process) throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = &quot;&quot;;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6280617,"reputation":1,"user_id":4881757,"display_name":"kkriske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698946575,"creation_date":1698946575,"answer_id":77411749,"question_id":65354475,"body_markdown":"You can construct a `play.Application` instance by using a `play.inject.guice.GuiceApplicationBuilder`.\r\n\r\nThe play documentation around this is focused on testing, but it works for standalone applications as well:\r\n```java\r\nApplication application =\r\n    new GuiceApplicationBuilder()\r\n        .build();\r\n```\r\nMore elaborate configuration options can be found in the play documentation.\r\n\r\nGuiceApplicationBuilder javadoc: https://www.playframework.com/documentation/2.8.x/api/java/play/inject/guice/GuiceApplicationBuilder.html\r\n\r\nPlay documentation: https://www.playframework.com/documentation/2.8.x/JavaTestingWithGuice","title":"How to Run or Start Play framework project through a Java Main method","body":"<p>You can construct a <code>play.Application</code> instance by using a <code>play.inject.guice.GuiceApplicationBuilder</code>.</p>\n<p>The play documentation around this is focused on testing, but it works for standalone applications as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Application application =\n    new GuiceApplicationBuilder()\n        .build();\n</code></pre>\n<p>More elaborate configuration options can be found in the play documentation.</p>\n<p>GuiceApplicationBuilder javadoc: <a href=\"https://www.playframework.com/documentation/2.8.x/api/java/play/inject/guice/GuiceApplicationBuilder.html\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/api/java/play/inject/guice/GuiceApplicationBuilder.html</a></p>\n<p>Play documentation: <a href=\"https://www.playframework.com/documentation/2.8.x/JavaTestingWithGuice\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/JavaTestingWithGuice</a></p>\n"}],"owner":{"display_name":"user12343552"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698946575,"creation_date":1608283481,"question_id":65354475,"body_markdown":"I started a play framework project and I need to run it through the java class main method.\r\nHere is my Java Class.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Tester {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Menu&quot;);\r\n        System.out.println(&quot;Press A to add&quot;);\r\n        System.out.println(&quot;Press D to Delete&quot;);\r\n        System.out.println(&quot;Press V to View&quot;);\r\n        System.out.println(&quot;Press G to Start Server&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Please Enter Your Select: &quot;);\r\n        String select = scanner.nextLine();\r\n\r\n\r\n        switch (select){\r\n            case &quot;A&quot;:\r\n                // add method\r\n                break;\r\n            case &quot;D&quot;:\r\n                // delete method\r\n                break;\r\n            case &quot;V&quot;:\r\n                // view method\r\n                break;\r\n            case &quot;G&quot;:\r\n                // start server\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Something went wrong!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat should come to the start server method ???","title":"How to Run or Start Play framework project through a Java Main method","body":"<p>I started a play framework project and I need to run it through the java class main method.\nHere is my Java Class.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Tester {\n    public static void main(String[] args) {\n        System.out.println(&quot;Menu&quot;);\n        System.out.println(&quot;Press A to add&quot;);\n        System.out.println(&quot;Press D to Delete&quot;);\n        System.out.println(&quot;Press V to View&quot;);\n        System.out.println(&quot;Press G to Start Server&quot;);\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;Please Enter Your Select: &quot;);\n        String select = scanner.nextLine();\n\n\n        switch (select){\n            case &quot;A&quot;:\n                // add method\n                break;\n            case &quot;D&quot;:\n                // delete method\n                break;\n            case &quot;V&quot;:\n                // view method\n                break;\n            case &quot;G&quot;:\n                // start server\n                break;\n            default:\n                System.out.println(&quot;Something went wrong!&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>What should come to the start server method ???</p>\n"},{"tags":["java","eclipse-plugin","eclipse-jdt","language-server-protocol"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1698946122,"post_id":77411617,"comment_id":136471959,"body_markdown":"Do you have to use an LSP server? An Eclipse plug-in can use JDT APIs directly, for example see [here](https://www.vogella.com/tutorials/EclipseJDT/article.html)","body":"Do you have to use an LSP server? An Eclipse plug-in can use JDT APIs directly, for example see <a href=\"https://www.vogella.com/tutorials/EclipseJDT/article.html\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":17608614,"reputation":11,"user_id":15001611,"display_name":"Anton Kolesov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945958,"creation_date":1698945190,"question_id":77411617,"body_markdown":"I want to expand the Java LSP server(jdt.ls) but I didn&#39;t find detailed documentation for it. I want to  \r\n\\-  access methods/annotations of classes;  \r\n\\-  add/turn off error highlighting in some cases.\r\n\r\nAre there any ways to do this? I will be glad to any examples.","title":"Ways to access class structure/adding or removing highlighting via eclipse.jdt.ls Plugin API","body":"<p>I want to expand the Java LSP server(jdt.ls) but I didn't find detailed documentation for it. I want to<br />\n-  access methods/annotations of classes;<br />\n-  add/turn off error highlighting in some cases.</p>\n<p>Are there any ways to do this? I will be glad to any examples.</p>\n"},{"tags":["java","mongodb","mongodb-query","bulkupdate"],"comments":[{"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1699061178,"post_id":77411661,"comment_id":136488084,"body_markdown":"What does the BulkWriteResult look like?","body":"What does the BulkWriteResult look like?"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945684,"creation_date":1698945684,"question_id":77411661,"body_markdown":"I have a query regarding MongoDB insertion of a new field . In a collection , there is an array of objects and I want to introduce a new field in the array. Usually, the array size in a record starts from 20. In case of 1000 records in a collection and each collection at least has 20 array objects , there is an update of 20000 times if we update one by one.\r\n\r\nI have written a java program to insert the field with true / false value. \r\n\r\n   \r\n\r\n    try (MongoClient mongoClient = MongoClients.create(connectionString)) {\r\n    \r\n    \r\n                    String result = EntityUtils.toString(entity);\r\n                    ObjectMapper objectMapper = new ObjectMapper();\r\n                    JsonNode jsonNode = objectMapper.readTree(result);\r\n                    ArrayNode jsonArray = (ArrayNode) jsonNode.get(&quot;data&quot;).get(&quot;measures&quot;);\r\n                    List&lt;String&gt; shortNames = new ArrayList&lt;&gt;();\r\n                    jsonArray.forEach(ele -&gt; {\r\n                        String values= ele.get(&quot;values&quot;).toString();\r\n                        shortNames.add(values.substring(1, values.length() - 1));\r\n                    });\r\n    \r\n                    MongoDatabase model = mongoClient.getDatabase(&quot;model&quot;);\r\n                    MongoCollection&lt;Document&gt; Collection = model .getCollection(&quot;BigMeasure&quot;);\r\n    \r\n                    List&lt;Document&gt; iterDoc = customModelCollection.find().into(new ArrayList&lt;&gt;());\r\n    \r\n                    for (Document document : iterDoc) {\r\n                        System.out.println(&quot; Name&quot; + document.getString(&quot;name&quot;));\r\n                        List&lt;Document&gt; info= (List&lt;Document&gt;) document.get(&quot;info&quot;);\r\n                        for (Document document1 : info) {\r\n                         \r\n                            Object obj = document1.get(&quot;varName&quot;);\r\n                            String varName = obj.toString();\r\n                            System.out.println(&quot;varName&quot; + varName);\r\n                            Collections.sort(shortNames);\r\n    \r\n    \r\n                            if (varName != null) {\r\n    \r\n                                if (shortNames.stream().anyMatch( x -&gt; x.equalsIgnoreCase(varName.trim()))) {\r\n                                    document1.put(&quot;isCorrectMeasure&quot;, true);\r\n                                } else {\r\n                                    document1.put(&quot;isCorrectMeasure&quot;, false);\r\n                                }\r\n    \r\n    \r\n                                Bson dMatch = Filters.eq(&quot;varName&quot;, document1.get(&quot;varName&quot;).toString());\r\n                                Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\r\n                                UpdateOptions options = new UpdateOptions().upsert(true);\r\n                                Bson update = set(&quot;info&quot;, info);\r\n                                bigMeasureCollection.updateOne(filter, update, options);\r\n    \r\n    \r\n                            }\r\n                        }\r\n                    }\r\n\r\nSo , I modified the above one to  \r\n\r\n   \r\n\r\n     Bson dMatch = Filters.eq(&quot;varName&quot;, document1.getString(&quot;varName&quot;));\r\n                                    Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\r\n                                    bulkUpdates.add(new UpdateOneModel&lt;&gt;(filter, set(&quot;info&quot;, info)));\r\n    \r\n     if (!bulkUpdates.isEmpty()) {\r\n                        BulkWriteOptions options = new BulkWriteOptions().ordered(false);\r\n                        bigMeasureCollection.bulkWrite(bulkUpdates, options);\r\n                    }\r\n\r\nThe last one is executed fine in local. However , fails in QA database where more number of records are there .. Neither no exception is seen in the code nor no updates in DB.\r\n\r\nCan anyone throw light on this?","title":"MongoDB bulk insertion in a collection not updates DB","body":"<p>I have a query regarding MongoDB insertion of a new field . In a collection , there is an array of objects and I want to introduce a new field in the array. Usually, the array size in a record starts from 20. In case of 1000 records in a collection and each collection at least has 20 array objects , there is an update of 20000 times if we update one by one.</p>\n<p>I have written a java program to insert the field with true / false value.</p>\n<pre><code>try (MongoClient mongoClient = MongoClients.create(connectionString)) {\n\n\n                String result = EntityUtils.toString(entity);\n                ObjectMapper objectMapper = new ObjectMapper();\n                JsonNode jsonNode = objectMapper.readTree(result);\n                ArrayNode jsonArray = (ArrayNode) jsonNode.get(&quot;data&quot;).get(&quot;measures&quot;);\n                List&lt;String&gt; shortNames = new ArrayList&lt;&gt;();\n                jsonArray.forEach(ele -&gt; {\n                    String values= ele.get(&quot;values&quot;).toString();\n                    shortNames.add(values.substring(1, values.length() - 1));\n                });\n\n                MongoDatabase model = mongoClient.getDatabase(&quot;model&quot;);\n                MongoCollection&lt;Document&gt; Collection = model .getCollection(&quot;BigMeasure&quot;);\n\n                List&lt;Document&gt; iterDoc = customModelCollection.find().into(new ArrayList&lt;&gt;());\n\n                for (Document document : iterDoc) {\n                    System.out.println(&quot; Name&quot; + document.getString(&quot;name&quot;));\n                    List&lt;Document&gt; info= (List&lt;Document&gt;) document.get(&quot;info&quot;);\n                    for (Document document1 : info) {\n                     \n                        Object obj = document1.get(&quot;varName&quot;);\n                        String varName = obj.toString();\n                        System.out.println(&quot;varName&quot; + varName);\n                        Collections.sort(shortNames);\n\n\n                        if (varName != null) {\n\n                            if (shortNames.stream().anyMatch( x -&gt; x.equalsIgnoreCase(varName.trim()))) {\n                                document1.put(&quot;isCorrectMeasure&quot;, true);\n                            } else {\n                                document1.put(&quot;isCorrectMeasure&quot;, false);\n                            }\n\n\n                            Bson dMatch = Filters.eq(&quot;varName&quot;, document1.get(&quot;varName&quot;).toString());\n                            Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\n                            UpdateOptions options = new UpdateOptions().upsert(true);\n                            Bson update = set(&quot;info&quot;, info);\n                            bigMeasureCollection.updateOne(filter, update, options);\n\n\n                        }\n                    }\n                }\n</code></pre>\n<p>So , I modified the above one to</p>\n<pre><code> Bson dMatch = Filters.eq(&quot;varName&quot;, document1.getString(&quot;varName&quot;));\n                                Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\n                                bulkUpdates.add(new UpdateOneModel&lt;&gt;(filter, set(&quot;info&quot;, info)));\n\n if (!bulkUpdates.isEmpty()) {\n                    BulkWriteOptions options = new BulkWriteOptions().ordered(false);\n                    bigMeasureCollection.bulkWrite(bulkUpdates, options);\n                }\n</code></pre>\n<p>The last one is executed fine in local. However , fails in QA database where more number of records are there .. Neither no exception is seen in the code nor no updates in DB.</p>\n<p>Can anyone throw light on this?</p>\n"},{"tags":["java","arrays","colors"],"comments":[{"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"score":0,"creation_date":1375123489,"post_id":17931741,"comment_id":26200585,"body_markdown":"how are you painting this to the screen? If you are doing this in an overrided paint() method you can call the `g.setColor(Color);` before each line","body":"how are you painting this to the screen? If you are doing this in an overrided paint() method you can call the <code>g.setColor(Color);</code> before each line"},{"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"score":0,"creation_date":1375123550,"post_id":17931741,"comment_id":26200627,"body_markdown":"@bas Wouldn&#39;t that change the color of every active mod?","body":"@bas Wouldn&#39;t that change the color of every active mod?"},{"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"score":0,"creation_date":1375123644,"post_id":17931741,"comment_id":26200687,"body_markdown":"if we are talking about text only, then no, they should take care of their own graphics","body":"if we are talking about text only, then no, they should take care of their own graphics"},{"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"score":0,"creation_date":1375123701,"post_id":17931741,"comment_id":26200725,"body_markdown":"@bas By the way, I draw the text to the screen at the last line. var8","body":"@bas By the way, I draw the text to the screen at the last line. var8"}],"answers":[{"tags":[],"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375167161,"creation_date":1375123787,"answer_id":17931861,"question_id":17931741,"body_markdown":"If you edit your code like this:\r\n\r\n    for(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\r\n        String curmod = arraygui.get(guiInt);\r\n        var8.setColor(this.getModColor(curmod));\r\n        var8.drawString(curmod, 5, gh, 0xFF0000);\r\n        // rest of your logic\r\n    }\r\n\r\n    /** This method gets your color for the specified mod\r\n      *\r\n      */\r\n    private Color getModColor(String mod)\r\n    {\r\n        switch (mod)\r\n        {\r\n            case &quot;KillAura&quot;: \r\n                return Color.green;\r\n            case &quot;ChestFinder&quot;:\r\n                return Color.red;\r\n        }\r\n\r\n        throw new Exception(&quot;This mod has no specified color&quot;);\r\n    }\r\n\r\nit should set the color you specify in the method `getModColor(String mod)` for each sentence.","title":"Change color of each individual mod on an arraylist?","body":"<p>If you edit your code like this:</p>\n\n<pre><code>for(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\n    String curmod = arraygui.get(guiInt);\n    var8.setColor(this.getModColor(curmod));\n    var8.drawString(curmod, 5, gh, 0xFF0000);\n    // rest of your logic\n}\n\n/** This method gets your color for the specified mod\n  *\n  */\nprivate Color getModColor(String mod)\n{\n    switch (mod)\n    {\n        case \"KillAura\": \n            return Color.green;\n        case \"ChestFinder\":\n            return Color.red;\n    }\n\n    throw new Exception(\"This mod has no specified color\");\n}\n</code></pre>\n\n<p>it should set the color you specify in the method <code>getModColor(String mod)</code> for each sentence.</p>\n"}],"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698945618,"creation_date":1375123351,"question_id":17931741,"body_markdown":"I am making a modded client for a game called Minecraft. My array list will display the mods you have on in the top left of the screen. How do I change the colors of each individual mod? Ex. KillAura will be green and ChestFinder will be red. Thanks\r\n\r\n\r\n\r\n    //Arraylist GUI\r\n        \t\r\n        \tif(Camb.killaura){\r\n        \t\tif(!arraygui.contains(&quot;KillAura&quot;)){\r\n        \t\t\tarraygui.add(&quot;KillAura&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;KillAura&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;KillAura&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.chestfinder){\r\n        \t\tif(!arraygui.contains(&quot;ChestFinder&quot;)){\r\n        \t\t\tarraygui.add(&quot;ChestFinder&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;ChestFinder&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;ChestFinder&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.fullbright){\r\n        \t\tif(!arraygui.contains(&quot;FullBright&quot;)){\r\n        \t\t\tarraygui.add(&quot;FullBright&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;FullBright&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;FullBright&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.tracers){\r\n        \t\tif(!arraygui.contains(&quot;Tracers&quot;)){\r\n        \t\t\tarraygui.add(&quot;Tracers&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Tracers&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Tracers&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.autowalk){\r\n        \t\tif(!arraygui.contains(&quot;AutoWalk&quot;)){\r\n        \t\t\tarraygui.add(&quot;AutoWalk&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;AutoWalk&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;AutoWalk&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.noweather){\r\n        \t\tif(!arraygui.contains(&quot;NoWeather&quot;)){\r\n        \t\t\tarraygui.add(&quot;NoWeather&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;NoWeather&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;NoWeather&quot;));\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tif(Camb.sneak){\r\n        \t\tif(!arraygui.contains(&quot;Sneak&quot;)){\r\n        \t\t\tarraygui.add(&quot;Sneak&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Sneak&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Sneak&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.nocheat){\r\n        \t\tif(!arraygui.contains(&quot;NoCheat&quot;)){\r\n        \t\t\tarraygui.add(&quot;NoCheat&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;NoCheat&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;NoCheat&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.nofall){\r\n        \t\tif(!arraygui.contains(&quot;NoFall&quot;)){\r\n        \t\t\tarraygui.add(&quot;NoFall&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;NoFall&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;NoFall&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.xray){\r\n        \t\tif(!arraygui.contains(&quot;X-Ray&quot;)){\r\n        \t\t\tarraygui.add(&quot;X-Ray&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;X-Ray&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;X-Ray&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.speedmine){\r\n        \t\tif(!arraygui.contains(&quot;Speedy Gonzales&quot;)){\r\n        \t\t\tarraygui.add(&quot;Speedy Gonzales&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Speedy Gonzales&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Speedy Gonzales&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.criticals){\r\n        \t\tif(!arraygui.contains(&quot;Criticals&quot;)){\r\n        \t\t\tarraygui.add(&quot;Criticals&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Criticals&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Criticals&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.flight){\r\n        \t\tif(!arraygui.contains(&quot;Flight&quot;)){\r\n        \t\t\tarraygui.add(&quot;Flight&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Flight&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Flight&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.wallhack){\r\n        \t\tif(!arraygui.contains(&quot;WallHack&quot;)){\r\n        \t\t\tarraygui.add(&quot;WallHack&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;WallHack&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;WallHack&quot;));\r\n        \t\t}\r\n        \t}\r\n    int gh = 17;\r\n        \tfor(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\r\n        \t\t\r\n        \t\tvar8.drawString(&quot;&quot; + arraygui.get(guiInt), 5, gh, 0xFF0000);\r\n        \t","title":"Change color of each individual mod on an arraylist?","body":"<p>I am making a modded client for a game called Minecraft. My array list will display the mods you have on in the top left of the screen. How do I change the colors of each individual mod? Ex. KillAura will be green and ChestFinder will be red. Thanks</p>\n\n<pre><code>//Arraylist GUI\n\n        if(Camb.killaura){\n            if(!arraygui.contains(\"KillAura\")){\n                arraygui.add(\"KillAura\");\n            }\n        }else{\n            if(arraygui.contains(\"KillAura\")){\n                arraygui.remove(arraygui.indexOf(\"KillAura\"));\n            }\n        }\n        if(Camb.chestfinder){\n            if(!arraygui.contains(\"ChestFinder\")){\n                arraygui.add(\"ChestFinder\");\n            }\n        }else{\n            if(arraygui.contains(\"ChestFinder\")){\n                arraygui.remove(arraygui.indexOf(\"ChestFinder\"));\n            }\n        }\n        if(Camb.fullbright){\n            if(!arraygui.contains(\"FullBright\")){\n                arraygui.add(\"FullBright\");\n            }\n        }else{\n            if(arraygui.contains(\"FullBright\")){\n                arraygui.remove(arraygui.indexOf(\"FullBright\"));\n            }\n        }\n        if(Camb.tracers){\n            if(!arraygui.contains(\"Tracers\")){\n                arraygui.add(\"Tracers\");\n            }\n        }else{\n            if(arraygui.contains(\"Tracers\")){\n                arraygui.remove(arraygui.indexOf(\"Tracers\"));\n            }\n        }\n        if(Camb.autowalk){\n            if(!arraygui.contains(\"AutoWalk\")){\n                arraygui.add(\"AutoWalk\");\n            }\n        }else{\n            if(arraygui.contains(\"AutoWalk\")){\n                arraygui.remove(arraygui.indexOf(\"AutoWalk\"));\n            }\n        }\n        if(Camb.noweather){\n            if(!arraygui.contains(\"NoWeather\")){\n                arraygui.add(\"NoWeather\");\n            }\n        }else{\n            if(arraygui.contains(\"NoWeather\")){\n                arraygui.remove(arraygui.indexOf(\"NoWeather\"));\n            }\n        }\n\n        if(Camb.sneak){\n            if(!arraygui.contains(\"Sneak\")){\n                arraygui.add(\"Sneak\");\n            }\n        }else{\n            if(arraygui.contains(\"Sneak\")){\n                arraygui.remove(arraygui.indexOf(\"Sneak\"));\n            }\n        }\n        if(Camb.nocheat){\n            if(!arraygui.contains(\"NoCheat\")){\n                arraygui.add(\"NoCheat\");\n            }\n        }else{\n            if(arraygui.contains(\"NoCheat\")){\n                arraygui.remove(arraygui.indexOf(\"NoCheat\"));\n            }\n        }\n        if(Camb.nofall){\n            if(!arraygui.contains(\"NoFall\")){\n                arraygui.add(\"NoFall\");\n            }\n        }else{\n            if(arraygui.contains(\"NoFall\")){\n                arraygui.remove(arraygui.indexOf(\"NoFall\"));\n            }\n        }\n        if(Camb.xray){\n            if(!arraygui.contains(\"X-Ray\")){\n                arraygui.add(\"X-Ray\");\n            }\n        }else{\n            if(arraygui.contains(\"X-Ray\")){\n                arraygui.remove(arraygui.indexOf(\"X-Ray\"));\n            }\n        }\n        if(Camb.speedmine){\n            if(!arraygui.contains(\"Speedy Gonzales\")){\n                arraygui.add(\"Speedy Gonzales\");\n            }\n        }else{\n            if(arraygui.contains(\"Speedy Gonzales\")){\n                arraygui.remove(arraygui.indexOf(\"Speedy Gonzales\"));\n            }\n        }\n        if(Camb.criticals){\n            if(!arraygui.contains(\"Criticals\")){\n                arraygui.add(\"Criticals\");\n            }\n        }else{\n            if(arraygui.contains(\"Criticals\")){\n                arraygui.remove(arraygui.indexOf(\"Criticals\"));\n            }\n        }\n        if(Camb.flight){\n            if(!arraygui.contains(\"Flight\")){\n                arraygui.add(\"Flight\");\n            }\n        }else{\n            if(arraygui.contains(\"Flight\")){\n                arraygui.remove(arraygui.indexOf(\"Flight\"));\n            }\n        }\n        if(Camb.wallhack){\n            if(!arraygui.contains(\"WallHack\")){\n                arraygui.add(\"WallHack\");\n            }\n        }else{\n            if(arraygui.contains(\"WallHack\")){\n                arraygui.remove(arraygui.indexOf(\"WallHack\"));\n            }\n        }\nint gh = 17;\n        for(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\n\n            var8.drawString(\"\" + arraygui.get(guiInt), 5, gh, 0xFF0000);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1698945584,"post_id":77411646,"comment_id":136471853,"body_markdown":"It is an anonymous, derived class. See, for example, [this tutorial over at `oracle.com`](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html).","body":"It is an anonymous, derived class. See, for example, <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">this tutorial over at <code>oracle.com</code></a>."},{"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"score":0,"creation_date":1698945812,"post_id":77411646,"comment_id":136471894,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9.5","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"}],"owner":{"account_id":8520932,"reputation":1,"user_id":8605381,"display_name":"Junior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945568,"creation_date":1698945487,"question_id":77411646,"body_markdown":" //I am writing a Bluetooth application. This is the first time I see an instance of a class with a body. `DiscoveryListener listener = new DiscoveryListener() {};` What&#39;s it? I see this for the first time so that when creating an instance of a class there was a body ? At the instance, please explain, I have not met such a design.\r\n\r\n\r\n\r\n            DiscoveryListener listener = new DiscoveryListener() {\r\n\r\n                public void deviceDiscovered(RemoteDevice btDevice, DeviceClass cod) {\r\n                   \r\n                    devicesDiscovered.addElement(btDevice);\r\n                }\r\n          \r\n                public void inquiryCompleted(int discType) {\r\n               \r\n                    synchronized (inquiryCompletedEvent) {\r\n                        inquiryCompletedEvent.notifyAll();\r\n                    }\r\n                }\r\n                public void serviceSearchCompleted(int transID, int respCode) {\r\n\r\n                }\r\n                public void servicesDiscovered(int transID, ServiceRecord[] servRecord) {\r\n                }\r\n            };\r\n\r\ntried the implementation of the interface ","title":"instance of a class with a body","body":"<p>//I am writing a Bluetooth application. This is the first time I see an instance of a class with a body. <code>DiscoveryListener listener = new DiscoveryListener() {};</code> What's it? I see this for the first time so that when creating an instance of a class there was a body ? At the instance, please explain, I have not met such a design.</p>\n<pre><code>        DiscoveryListener listener = new DiscoveryListener() {\n\n            public void deviceDiscovered(RemoteDevice btDevice, DeviceClass cod) {\n               \n                devicesDiscovered.addElement(btDevice);\n            }\n      \n            public void inquiryCompleted(int discType) {\n           \n                synchronized (inquiryCompletedEvent) {\n                    inquiryCompletedEvent.notifyAll();\n                }\n            }\n            public void serviceSearchCompleted(int transID, int respCode) {\n\n            }\n            public void servicesDiscovered(int transID, ServiceRecord[] servRecord) {\n            }\n        };\n</code></pre>\n<p>tried the implementation of the interface</p>\n"},{"tags":["java","jvm","java-bytecode-asm"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1698926219,"post_id":77408997,"comment_id":136467637,"body_markdown":"It is unclear to me what you are asking. How are you using ASM? Please read [How  to Ask](https://stackoverflow.com/help/how-to-ask) and improve your question.","body":"It is unclear to me what you are asking. How are you using ASM? Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How  to Ask</a> and improve your question."},{"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"score":0,"creation_date":1698927824,"post_id":77408997,"comment_id":136467924,"body_markdown":"@aled  I have added the question. I think it is very clear, could you explain which part is not clear? It is unrelated to how I use it I think, it is the mechanism of ASM itself.","body":"@aled  I have added the question. I think it is very clear, could you explain which part is not clear? It is unrelated to how I use it I think, it is the mechanism of ASM itself."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698928560,"post_id":77408997,"comment_id":136468085,"body_markdown":"It seems explained in the article you linked how the library is used. Have you tried it?","body":"It seems explained in the article you linked how the library is used. Have you tried it?"},{"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"score":0,"creation_date":1698997986,"post_id":77408997,"comment_id":136477858,"body_markdown":"yep. But now I think I didn&#39;t understand in the right direction at all at that time.","body":"yep. But now I think I didn&#39;t understand in the right direction at all at that time."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698934942,"creation_date":1698934942,"answer_id":77410392,"question_id":77408997,"body_markdown":"The ASM library is not responsible for changing bytecode at all. It’s a tool for transforming a sequence of bytes (in the class file format) into another sequence of bytes (again in the class file format), though you could also use it for just analyzing class files or generating class files from scratch.\r\n\r\nSo what you get at the end, is [just a byte array].\r\n\r\nSince it’s your own responsibility to use this byte array to effectively change a class (if that’s what you want), you are the one deciding how and when the changes apply.\r\n\r\n - You can read and write class files in a filesystem which is as trivial as reading and writing bytes from and to files. These changes will become effective the next time you start a JVM using this location as classpath or module path. If there’s a JVM already running using this location, the change may become effective when the class is loaded if it hasn’t been loaded yet.\r\n\r\n - You can use [`defineClass`] on a `MethodHandles.Lookup` to inject a class into an existing context which will supersede an existing class definition *if it has not been loaded yet*\r\n\r\n - You can create a custom [`ClassLoader`] using your changed class definitions which is technically not changing classes but creating a new version in its own context. This may still be feasible for some use cases.\r\n\r\n - Actually changing classes at runtime can be done through Agents or a Debugger. Java Agents can use the [Instrumentation API] which allows to install class file transformers to be invoked on demand or actively trigger a transformation. The API allows both, load time transformation or changing an already loaded class but permitted changes to already loaded classes [are limited].\r\n   &gt; The redefinition may change method bodies, the constant pool and attributes (unless explicitly prohibited). The redefinition must not add, remove or rename fields or methods, change the signatures of methods, change modifiers, or change inheritance. The redefinition must not change the `NestHost`, `NestMembers`, `Record`, or `PermittedSubclasses` attributes.\r\n\r\n[just a byte array]: https://asm.ow2.io/javadoc/org/objectweb/asm/ClassWriter.html#toByteArray()\r\n[`defineClass`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\r\n[`ClassLoader`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html\r\n[Instrumentation API]: https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html\r\n[are limited]: https://docs.oracle.com/en/java/javase/21/docs/specs/jvmti.html#RedefineClasses:~:text=The%20redefinition%20may,or%20PermittedSubclasses%20attributes.","title":"How to find out whether the ASM java instrumentation happens at compile time OR at runtime?","body":"<p>The ASM library is not responsible for changing bytecode at all. It’s a tool for transforming a sequence of bytes (in the class file format) into another sequence of bytes (again in the class file format), though you could also use it for just analyzing class files or generating class files from scratch.</p>\n<p>So what you get at the end, is <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassWriter.html#toByteArray()\" rel=\"nofollow noreferrer\">just a byte array</a>.</p>\n<p>Since it’s your own responsibility to use this byte array to effectively change a class (if that’s what you want), you are the one deciding how and when the changes apply.</p>\n<ul>\n<li><p>You can read and write class files in a filesystem which is as trivial as reading and writing bytes from and to files. These changes will become effective the next time you start a JVM using this location as classpath or module path. If there’s a JVM already running using this location, the change may become effective when the class is loaded if it hasn’t been loaded yet.</p>\n</li>\n<li><p>You can use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>defineClass</code></a> on a <code>MethodHandles.Lookup</code> to inject a class into an existing context which will supersede an existing class definition <em>if it has not been loaded yet</em></p>\n</li>\n<li><p>You can create a custom <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>ClassLoader</code></a> using your changed class definitions which is technically not changing classes but creating a new version in its own context. This may still be feasible for some use cases.</p>\n</li>\n<li><p>Actually changing classes at runtime can be done through Agents or a Debugger. Java Agents can use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">Instrumentation API</a> which allows to install class file transformers to be invoked on demand or actively trigger a transformation. The API allows both, load time transformation or changing an already loaded class but permitted changes to already loaded classes <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jvmti.html#RedefineClasses:%7E:text=The%20redefinition%20may,or%20PermittedSubclasses%20attributes.\" rel=\"nofollow noreferrer\">are limited</a>.</p>\n<blockquote>\n<p>The redefinition may change method bodies, the constant pool and attributes (unless explicitly prohibited). The redefinition must not add, remove or rename fields or methods, change the signatures of methods, change modifiers, or change inheritance. The redefinition must not change the <code>NestHost</code>, <code>NestMembers</code>, <code>Record</code>, or <code>PermittedSubclasses</code> attributes.</p>\n</blockquote>\n</li>\n</ul>\n"}],"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77410392,"answer_count":1,"score":0,"last_activity_date":1698945470,"creation_date":1698922514,"question_id":77408997,"body_markdown":"I am a bit new to the Java ecosystem. I am reading the ASM way (in this doc https://www.baeldung.com/java-asm ) to do Java instrumentation.\r\n\r\nAnd I don&#39;t know when ASM changes the byte code, to be specific it takes effect in compile time and changes the class directly OR it changes the code at the runtime of class loading.","title":"How to find out whether the ASM java instrumentation happens at compile time OR at runtime?","body":"<p>I am a bit new to the Java ecosystem. I am reading the ASM way (in this doc <a href=\"https://www.baeldung.com/java-asm\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-asm</a> ) to do Java instrumentation.</p>\n<p>And I don't know when ASM changes the byte code, to be specific it takes effect in compile time and changes the class directly OR it changes the code at the runtime of class loading.</p>\n"},{"tags":["java","android"],"owner":{"account_id":29812679,"reputation":1,"user_id":22847730,"display_name":"Kapeesh Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945146,"creation_date":1698945146,"question_id":77411610,"body_markdown":"React native call Soloader.int() function in onCreate function in MainApplication.java. \r\nWhat is the use of it?\r\nwhat are the exact .so files that it loades?\r\nWhy solader is used as in its documentation it is mentioned that do not use it above API level 23?\r\nWhat happens if we do not init Soloader.int() above API level &gt; 23?\r\nhttps://github.com/facebook/SoLoader\r\n\r\nWe tried to run application by removing Soloade.int() and it works fine.","title":"Soloader in React Native","body":"<p>React native call Soloader.int() function in onCreate function in MainApplication.java.\nWhat is the use of it?\nwhat are the exact .so files that it loades?\nWhy solader is used as in its documentation it is mentioned that do not use it above API level 23?\nWhat happens if we do not init Soloader.int() above API level &gt; 23?\n<a href=\"https://github.com/facebook/SoLoader\" rel=\"nofollow noreferrer\">https://github.com/facebook/SoLoader</a></p>\n<p>We tried to run application by removing Soloade.int() and it works fine.</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1551152211,"post_id":54878076,"comment_id":96525764,"body_markdown":"use `map`: `return mightReturnAsString().map(&quot;something&quot;::equals);`","body":"use <code>map</code>: <code>return mightReturnAsString().map(&quot;something&quot;::equals);</code>"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1551152857,"post_id":54878076,"comment_id":96525911,"body_markdown":"Why dont you use just predicate?","body":"Why dont you use just predicate?"},{"owner":{"account_id":1363360,"reputation":3371,"user_id":1300307,"accept_rate":92,"display_name":"Friedrich &#39;Fred&#39; Clausen"},"score":0,"creation_date":1551152957,"post_id":54878076,"comment_id":96525929,"body_markdown":"Feel free to post an example or a link to an existing question that demonstrates what you mean.","body":"Feel free to post an example or a link to an existing question that demonstrates what you mean."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1698945112,"creation_date":1551152278,"answer_id":54878113,"question_id":54878076,"body_markdown":"How about mapping to a boolean?\r\n\r\n    public boolean checkSomethingIfPresent() {\r\n        return mightReturnAString().map(item -&gt; {\r\n            if (item.equals(&quot;something&quot;)) {\r\n                // Do some other stuff like use &quot;something&quot; in API calls\r\n                return true; // Does compile\r\n            }\r\n            return false; // or null\r\n        }).orElse(false);\r\n    }","title":"Returning from Java Optional ifPresent()","body":"<p>How about mapping to a boolean?</p>\n<pre><code>public boolean checkSomethingIfPresent() {\n    return mightReturnAString().map(item -&gt; {\n        if (item.equals(&quot;something&quot;)) {\n            // Do some other stuff like use &quot;something&quot; in API calls\n            return true; // Does compile\n        }\n        return false; // or null\n    }).orElse(false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1551152388,"creation_date":1551152388,"answer_id":54878127,"question_id":54878076,"body_markdown":"I think all you&#39;re looking for is simply `filter` and check for the presence then:\r\n\r\n    return result.filter(a -&gt; a.equals(&quot;something&quot;)).isPresent();","title":"Returning from Java Optional ifPresent()","body":"<p>I think all you're looking for is simply <code>filter</code> and check for the presence then:</p>\n\n<pre><code>return result.filter(a -&gt; a.equals(\"something\")).isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551154473,"creation_date":1551154030,"answer_id":54878307,"question_id":54878076,"body_markdown":"While @nullpointer and @Ravindra showed how to merge the Optional with another condition, you&#39;ll have to do a bit more to be able to call APIs and do other stuff as you asked in the question. The following looks quite readable and concise in my opinion:\r\n\r\n    private static boolean checkSomethingIfPresent() {\r\n        Optional&lt;String&gt; str = mightReturnAString();\r\n        if (str.filter(s -&gt; s.equals(&quot;something&quot;)).isPresent()) {\r\n            //call APIs here using str.get()\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nA better design would be to chain methods:\r\n\r\n    private static void checkSomethingIfPresent() {\r\n        mightReturnFilteredString().ifPresent(s -&gt; {\r\n            //call APIs here\r\n        });\r\n    }\r\n\r\n    private static Optional&lt;String&gt; mightReturnFilteredString() {\r\n        return mightReturnAString().filter(s -&gt; s.equals(&quot;something&quot;));\r\n    }\r\n\r\n    private static Optional&lt;String&gt; mightReturnAString() {\r\n        return Optional.of(&quot;something&quot;);\r\n    }","title":"Returning from Java Optional ifPresent()","body":"<p>While @nullpointer and @Ravindra showed how to merge the Optional with another condition, you'll have to do a bit more to be able to call APIs and do other stuff as you asked in the question. The following looks quite readable and concise in my opinion:</p>\n\n<pre><code>private static boolean checkSomethingIfPresent() {\n    Optional&lt;String&gt; str = mightReturnAString();\n    if (str.filter(s -&gt; s.equals(\"something\")).isPresent()) {\n        //call APIs here using str.get()\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>A better design would be to chain methods:</p>\n\n<pre><code>private static void checkSomethingIfPresent() {\n    mightReturnFilteredString().ifPresent(s -&gt; {\n        //call APIs here\n    });\n}\n\nprivate static Optional&lt;String&gt; mightReturnFilteredString() {\n    return mightReturnAString().filter(s -&gt; s.equals(\"something\"));\n}\n\nprivate static Optional&lt;String&gt; mightReturnAString() {\n    return Optional.of(\"something\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551190028,"creation_date":1551189314,"answer_id":54887117,"question_id":54878076,"body_markdown":"The ideal solution is “command-query separation”: Make one method (command) for doing something with the string if it is present. And another method (query) to tell you whether it was there.\r\n\r\nHowever, we don’t live an ideal world, and perfect solutions are never possible. If in your situation you cannot separate command and query, my taste is for the idea already presented by shmosel: map to a `boolean`. As a detail I would use `filter` rather than the inner `if` statement:\r\n\r\n\tpublic boolean checkSomethingIfPresent() {\r\n\t    return mightReturnAString().filter(item -&gt; item.equals(&quot;something&quot;))\r\n\t    \t\t.map(item -&gt; {\r\n\t    \t\t\t// Do some other stuff like use &quot;something&quot; in API calls\r\n\t    \t\t\treturn true; // (compiles)\r\n\t    \t\t})\r\n\t    \t\t.orElse(false);\r\n\t}\r\n\r\nWhat I don’t like about it is that the call chain has a side effect, which is not normally expected except from `ifPresent` and `ifPresentOrElse` (and `orElseThrow`, of course).\r\n\r\nIf we insist on using `ifPresent` to make the side effect clearer, that is possible:\r\n\r\n\t\tAtomicBoolean result = new AtomicBoolean(false);\r\n\t    mightReturnAString().filter(item -&gt; item.equals(&quot;something&quot;))\r\n\t    \t\t.ifPresent(item -&gt; {\r\n\t    \t\t\t// Do some other stuff like use &quot;something&quot; in API calls\r\n\t    \t\t\tresult.set(true);\r\n\t    \t\t});\r\n\t    return result.get();\r\n\r\nI use `AtomicBoolean` as a container for the result since we would not be allowed to assign to a primitive `boolean` from within the lambda. We don’t need its atomicity, but it doesn’t harm either.\r\n\r\n**Link:** [Command–query separation](https://en.wikipedia.org/wiki/Command–query_separation) on Wikipedia","title":"Returning from Java Optional ifPresent()","body":"<p>The ideal solution is “command-query separation”: Make one method (command) for doing something with the string if it is present. And another method (query) to tell you whether it was there.</p>\n\n<p>However, we don’t live an ideal world, and perfect solutions are never possible. If in your situation you cannot separate command and query, my taste is for the idea already presented by shmosel: map to a <code>boolean</code>. As a detail I would use <code>filter</code> rather than the inner <code>if</code> statement:</p>\n\n<pre><code>public boolean checkSomethingIfPresent() {\n    return mightReturnAString().filter(item -&gt; item.equals(\"something\"))\n            .map(item -&gt; {\n                // Do some other stuff like use \"something\" in API calls\n                return true; // (compiles)\n            })\n            .orElse(false);\n}\n</code></pre>\n\n<p>What I don’t like about it is that the call chain has a side effect, which is not normally expected except from <code>ifPresent</code> and <code>ifPresentOrElse</code> (and <code>orElseThrow</code>, of course).</p>\n\n<p>If we insist on using <code>ifPresent</code> to make the side effect clearer, that is possible:</p>\n\n<pre><code>    AtomicBoolean result = new AtomicBoolean(false);\n    mightReturnAString().filter(item -&gt; item.equals(\"something\"))\n            .ifPresent(item -&gt; {\n                // Do some other stuff like use \"something\" in API calls\n                result.set(true);\n            });\n    return result.get();\n</code></pre>\n\n<p>I use <code>AtomicBoolean</code> as a container for the result since we would not be allowed to assign to a primitive <code>boolean</code> from within the lambda. We don’t need its atomicity, but it doesn’t harm either.</p>\n\n<p><strong>Link:</strong> <a href=\"https://en.wikipedia.org/wiki/Command%E2%80%93query_separation\" rel=\"nofollow noreferrer\">Command–query separation</a> on Wikipedia</p>\n"},{"tags":[],"owner":{"account_id":342450,"reputation":2404,"user_id":673617,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612185750,"creation_date":1612185750,"answer_id":65993487,"question_id":54878076,"body_markdown":"By the way if you really want to get value from Optional, use:\r\n\r\n    Optional&lt;User&gt; user = service.getCurrentUset();\r\n    \r\n    return user.map(User::getId);","title":"Returning from Java Optional ifPresent()","body":"<p>By the way if you really want to get value from Optional, use:</p>\n<pre><code>Optional&lt;User&gt; user = service.getCurrentUset();\n\nreturn user.map(User::getId);\n</code></pre>\n"}],"owner":{"account_id":1363360,"reputation":3371,"user_id":1300307,"accept_rate":92,"display_name":"Friedrich &#39;Fred&#39; Clausen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25207,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54878127,"answer_count":5,"score":9,"last_activity_date":1698945112,"creation_date":1551152053,"question_id":54878076,"body_markdown":"I understand you can&#39;t return from a `ifPresent()` so this example does not work:\r\n\r\n    public boolean checkSomethingIfPresent() {\r\n        mightReturnAString().ifPresent((item) -&gt; {\r\n            if (item.equals(&quot;something&quot;)) {\r\n                // Do some other stuff like use &quot;something&quot; in API calls\r\n                return true; // Does not compile\r\n            }\r\n        });\r\n        return false;\r\n    }\r\n\r\nWhere `mightReturnAString()` _could_ return a valid string or an empty optional. What I have done that works is:\r\n\r\n    public boolean checkSomethingIsPresent() {\r\n        Optional&lt;String&gt; result = mightReturnAString();\r\n\r\n        if (result.isPresent()) {\r\n            String item = result.get();\r\n            if (item.equals(&quot;something&quot;) {\r\n                // Do some other stuff like use &quot;something&quot; in API calls\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nwhich is longer and does not feel much different to just checking for nulls in the first place. I feel like there must be a more succinct way using Optional.","title":"Returning from Java Optional ifPresent()","body":"<p>I understand you can't return from a <code>ifPresent()</code> so this example does not work:</p>\n\n<pre><code>public boolean checkSomethingIfPresent() {\n    mightReturnAString().ifPresent((item) -&gt; {\n        if (item.equals(\"something\")) {\n            // Do some other stuff like use \"something\" in API calls\n            return true; // Does not compile\n        }\n    });\n    return false;\n}\n</code></pre>\n\n<p>Where <code>mightReturnAString()</code> <em>could</em> return a valid string or an empty optional. What I have done that works is:</p>\n\n<pre><code>public boolean checkSomethingIsPresent() {\n    Optional&lt;String&gt; result = mightReturnAString();\n\n    if (result.isPresent()) {\n        String item = result.get();\n        if (item.equals(\"something\") {\n            // Do some other stuff like use \"something\" in API calls\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>which is longer and does not feel much different to just checking for nulls in the first place. I feel like there must be a more succinct way using Optional.</p>\n"},{"tags":["java","syntax","variables","coding-style"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1358365034,"creation_date":1252681705,"answer_id":1411495,"question_id":1411463,"body_markdown":"Declare variables as close to the first spot that you use them as possible.  It&#39;s not really anything to do with efficiency, but makes your code much more readable.  The closer a variable is declared to where it is used, the less scrolling/searching you have to do when reading the code later.  Declaring variables closer to the first spot they&#39;re used will also naturally narrow their [scope][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Variable_%28computer_science%29#Scope_and_extent","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>Declare variables as close to the first spot that you use them as possible.  It's not really anything to do with efficiency, but makes your code much more readable.  The closer a variable is declared to where it is used, the less scrolling/searching you have to do when reading the code later.  Declaring variables closer to the first spot they're used will also naturally narrow their <a href=\"http://en.wikipedia.org/wiki/Variable_%28computer_science%29#Scope_and_extent\" rel=\"noreferrer\">scope</a>.</p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386062,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1698944817,"creation_date":1252681737,"answer_id":1411499,"question_id":1411463,"body_markdown":"If you have a kabillion variables used in various isolated places down inside the body of a function, your function is too big.\r\n\r\nIf your function is a comfortably understandable size, there&#39;s no difference between &quot;all up front&quot; and &quot;just as needed&quot;.\r\n\r\nThe only not-up-front variable would be in the body of a `for` statement.\r\n\r\n```java\r\nfor( Iterator i= someObject.iterator(); i.hasNext(); )\r\n```","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>If you have a kabillion variables used in various isolated places down inside the body of a function, your function is too big.</p>\n<p>If your function is a comfortably understandable size, there's no difference between &quot;all up front&quot; and &quot;just as needed&quot;.</p>\n<p>The only not-up-front variable would be in the body of a <code>for</code> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( Iterator i= someObject.iterator(); i.hasNext(); )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1698944765,"creation_date":1252681746,"answer_id":1411503,"question_id":1411463,"body_markdown":"I&#39;ve found that declaring them as-needed results in fewer mistakes than declaring them at the beginning. I&#39;ve also found that declaring them at the minimum scope possible to also prevent mistakes.\r\n\r\nWhen I looked at the byte-code generated by the location of the declaration few years ago, I found they were more-or-less identical. There were occasionally differences depending on when they were assigned. Even something like:\r\n\r\n```java\r\nfor(Object o : list) {\r\n   Object temp = ...;  //was not &quot;redeclared&quot; every loop iteration\r\n}\r\n```\r\n\r\nvs\r\n\r\n```java\r\nObject temp;\r\nfor(Object o : list) {\r\n   temp = ...; //nearly identical bytecode, if not exactly identical.\r\n}\r\n```\r\n\r\nCame out more or less identical\r\n\r\n","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>I've found that declaring them as-needed results in fewer mistakes than declaring them at the beginning. I've also found that declaring them at the minimum scope possible to also prevent mistakes.</p>\n<p>When I looked at the byte-code generated by the location of the declaration few years ago, I found they were more-or-less identical. There were occasionally differences depending on when they were assigned. Even something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Object o : list) {\n   Object temp = ...;  //was not &quot;redeclared&quot; every loop iteration\n}\n</code></pre>\n<p>vs</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object temp;\nfor(Object o : list) {\n   temp = ...; //nearly identical bytecode, if not exactly identical.\n}\n</code></pre>\n<p>Came out more or less identical</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252681754,"creation_date":1252681754,"answer_id":1411504,"question_id":1411463,"body_markdown":"Its a matter of readability and personal preference rather than performance. The compiler does not care and will generate the same code anyway.","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>Its a matter of readability and personal preference rather than performance. The compiler does not care and will generate the same code anyway.</p>\n"},{"tags":[],"owner":{"account_id":47341,"reputation":358,"user_id":140173,"display_name":"pave"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1252681782,"creation_date":1252681782,"answer_id":1411511,"question_id":1411463,"body_markdown":"I&#39;ve seen people declare at the top and at the bottom of functions. I prefer the top, where I can see them quickly. It&#39;s a matter of choice and preference. ","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>I've seen people declare at the top and at the bottom of functions. I prefer the top, where I can see them quickly. It's a matter of choice and preference. </p>\n"},{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1437995993,"creation_date":1252681821,"answer_id":1411518,"question_id":1411463,"body_markdown":"From the [Java Code Conventions][1], [Chapter 6 on Declarations][2]:\r\n\r\n&gt; 6.3\t Placement\r\n&gt; \r\n&gt; Put declarations only at the beginning\r\n&gt; of blocks. (A block is any code\r\n&gt; surrounded by curly braces &quot;{&quot; and\r\n&gt; &quot;}&quot;.) Don&#39;t wait to declare variables\r\n&gt; until their first use; it can confuse\r\n&gt; the unwary programmer and hamper code\r\n&gt; portability within the scope.\r\n&gt; \r\n&gt;     void myMethod() {\r\n&gt;         int int1 = 0;         // beginning of method block\r\n&gt;     \r\n&gt;         if (condition) {\r\n&gt;             int int2 = 0;     // beginning of &quot;if&quot; block\r\n&gt;             ...\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; The one exception to the rule is\r\n&gt; indexes of for loops, which in Java\r\n&gt; can be declared in the for statement:\r\n&gt; \r\n&gt;     for (int i = 0; i &lt; maxLoops; i++) { ... }\r\n&gt; \r\n&gt; Avoid local declarations that hide\r\n&gt; declarations at higher levels. For\r\n&gt; example, do not declare the same\r\n&gt; variable name in an inner block:\r\n&gt; \r\n&gt;     int count;\r\n&gt;     ...\r\n&gt;     myMethod() {\r\n&gt;         if (condition) {\r\n&gt;             int count = 0;     // AVOID!\r\n&gt;             ...\r\n&gt;         }\r\n&gt;         ...\r\n&gt;     }\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconvtoc-136057.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141270.html","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>From the <a href=\"http://www.oracle.com/technetwork/java/codeconvtoc-136057.html\" rel=\"noreferrer\">Java Code Conventions</a>, <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141270.html\" rel=\"noreferrer\">Chapter 6 on Declarations</a>:</p>\n\n<blockquote>\n  <p>6.3    Placement</p>\n  \n  <p>Put declarations only at the beginning\n  of blocks. (A block is any code\n  surrounded by curly braces \"{\" and\n  \"}\".) Don't wait to declare variables\n  until their first use; it can confuse\n  the unwary programmer and hamper code\n  portability within the scope.</p>\n\n<pre><code>void myMethod() {\n    int int1 = 0;         // beginning of method block\n\n    if (condition) {\n        int int2 = 0;     // beginning of \"if\" block\n        ...\n    }\n}\n</code></pre>\n  \n  <p>The one exception to the rule is\n  indexes of for loops, which in Java\n  can be declared in the for statement:</p>\n\n<pre><code>for (int i = 0; i &lt; maxLoops; i++) { ... }\n</code></pre>\n  \n  <p>Avoid local declarations that hide\n  declarations at higher levels. For\n  example, do not declare the same\n  variable name in an inner block:</p>\n\n<pre><code>int count;\n...\nmyMethod() {\n    if (condition) {\n        int count = 0;     // AVOID!\n        ...\n    }\n    ...\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1252682003,"creation_date":1252682003,"answer_id":1411540,"question_id":1411463,"body_markdown":"The proper way is to declare variables exactly when they are first used and minimize their scope in order to make the code easier to understand.\r\n\r\nDeclaring variables at the top of functions is a holdover from C (where it was required), and has absolutely no advantages (variable scope exists only in the source code, in the byte code all local variables exist in sequence on the stack anyway). Just don&#39;t do it, ever.\r\n\r\nSome people may try to defend the practice by claiming that it is &quot;neater&quot;, but any need to &quot;organize&quot; code within a method is usually a strong indication that the method is simply too long.","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>The proper way is to declare variables exactly when they are first used and minimize their scope in order to make the code easier to understand.</p>\n\n<p>Declaring variables at the top of functions is a holdover from C (where it was required), and has absolutely no advantages (variable scope exists only in the source code, in the byte code all local variables exist in sequence on the stack anyway). Just don't do it, ever.</p>\n\n<p>Some people may try to defend the practice by claiming that it is \"neater\", but any need to \"organize\" code within a method is usually a strong indication that the method is simply too long.</p>\n"},{"tags":[],"owner":{"account_id":28776,"reputation":2404,"user_id":77167,"accept_rate":92,"display_name":"Jeremy Cron"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1252682279,"creation_date":1252682279,"answer_id":1411571,"question_id":1411463,"body_markdown":"I am doing this very same thing at the moment. All of the variables in the code that I am reworking are declared at the top of the function. I&#39;ve seen as I&#39;ve been looking through this that several variables are declared but NEVER used or they are declared and operations are being done with them (ie parsing a `String` and then setting a `Calendar` object with the date/time values from the string) but then the resulting `Calendar` object is NEVER used.\r\n\r\nI am going through and cleaning these up by taking the declarations from the top and moving them down in the function to a spot closer to where it is used.","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>I am doing this very same thing at the moment. All of the variables in the code that I am reworking are declared at the top of the function. I've seen as I've been looking through this that several variables are declared but NEVER used or they are declared and operations are being done with them (ie parsing a <code>String</code> and then setting a <code>Calendar</code> object with the date/time values from the string) but then the resulting <code>Calendar</code> object is NEVER used.</p>\n\n<p>I am going through and cleaning these up by taking the declarations from the top and moving them down in the function to a spot closer to where it is used.</p>\n"},{"tags":[],"owner":{"account_id":37549,"reputation":53724,"user_id":107366,"display_name":"Ants Aasma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1252682945,"creation_date":1252682945,"answer_id":1411623,"question_id":1411463,"body_markdown":"Defining variable in a wider scope than needed hinders understandability quite a bit. Limited scope signals that this variable has meaning for only this small block of code and you can not think about when reading further. This is a pretty important issue because of the tiny short-term working memory that the brain has (it said that on average you can keep track of only 7 things). One less thing to keep track of is significant.\r\n\r\nSimilarly you really should try to avoid variables in the literal sense. Try to assign all things once, and declare them final so this is known to the reader. Not having to keep track whether something changes or not really cuts the cognitive load.","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>Defining variable in a wider scope than needed hinders understandability quite a bit. Limited scope signals that this variable has meaning for only this small block of code and you can not think about when reading further. This is a pretty important issue because of the tiny short-term working memory that the brain has (it said that on average you can keep track of only 7 things). One less thing to keep track of is significant.</p>\n\n<p>Similarly you really should try to avoid variables in the literal sense. Try to assign all things once, and declare them final so this is known to the reader. Not having to keep track whether something changes or not really cuts the cognitive load.</p>\n"},{"tags":[],"owner":{"account_id":45132,"reputation":5490,"user_id":132903,"display_name":"soru"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1252687067,"creation_date":1252687067,"answer_id":1412019,"question_id":1411463,"body_markdown":"I think it is actually objectively provable that the declare-at-the-top style is more error-prone.\r\n\r\nIf you mutate-test code in either style by moving lines around at random (to simulate a merge gone bad or someone unthinkingly cut+pasting), then the declare-at-the-top style has a greater chance of compiling while functionally wrong.\r\n\r\nI don&#39;t think declare-at-the-top has any corresponding advantage that doesn&#39;t come down to personal preference. \r\n\r\nSo assuming you want to write reliable code, learn to prefer doing just-in-time declaration.","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>I think it is actually objectively provable that the declare-at-the-top style is more error-prone.</p>\n\n<p>If you mutate-test code in either style by moving lines around at random (to simulate a merge gone bad or someone unthinkingly cut+pasting), then the declare-at-the-top style has a greater chance of compiling while functionally wrong.</p>\n\n<p>I don't think declare-at-the-top has any corresponding advantage that doesn't come down to personal preference. </p>\n\n<p>So assuming you want to write reliable code, learn to prefer doing just-in-time declaration.</p>\n"},{"tags":[],"owner":{"account_id":4933635,"reputation":499,"user_id":3972555,"display_name":"Nikhil Vandanapu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1483257062,"creation_date":1483257062,"answer_id":41414104,"question_id":1411463,"body_markdown":"From [Google Java Style Guide][1]:\n\n&gt; **4.8.2.2 Declared when needed**\n&gt;\n&gt; Local variables are not habitually declared at the start of their\n&gt; containing block or block-like construct. Instead, local variables are\n&gt; declared close to the point they are first used (within reason), to\n&gt; minimize their scope. Local variable declarations typically have\n&gt; initializers, or are initialized immediately after declaration.\n\nWell, I&#39;d follow what Google does, on a superficial level it might seem that declaring all variables at the top of the method/function would be &quot;neater&quot;, it&#39;s quite apparent that it&#39;d be beneficial to declare variables as necessary. It&#39;s subjective though, whatever feels intuitive to you.\n\n\n  [1]: https://google.github.io/styleguide/javaguide.html","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>From <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow noreferrer\">Google Java Style Guide</a>:</p>\n<blockquote>\n<p><strong>4.8.2.2 Declared when needed</strong></p>\n<p>Local variables are not habitually declared at the start of their\ncontaining block or block-like construct. Instead, local variables are\ndeclared close to the point they are first used (within reason), to\nminimize their scope. Local variable declarations typically have\ninitializers, or are initialized immediately after declaration.</p>\n</blockquote>\n<p>Well, I'd follow what Google does, on a superficial level it might seem that declaring all variables at the top of the method/function would be &quot;neater&quot;, it's quite apparent that it'd be beneficial to declare variables as necessary. It's subjective though, whatever feels intuitive to you.</p>\n"},{"tags":[],"owner":{"account_id":12909410,"reputation":51,"user_id":9335641,"display_name":"David Gries"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1518127447,"creation_date":1518127447,"answer_id":48695530,"question_id":1411463,"body_markdown":"Principle: Place local variable declarations as close to their first use as possible, and NOT simply at the top of a method. Consider this example:\r\n\r\n    /** Return true iff s is a blah or a blub. */\r\n    public boolean checkB(String s) {\r\n        // Return true if s is a blah\r\n        ... code to return true if s is a blah ... \r\n     \r\n        // Return true if s is a blub. */\r\n        int helpblub= s.length() + 1;\r\n        ... rest of code to return true is s is a blah.\r\n     \r\n        return false;\r\n    }\r\n\r\n \r\nHere, local variable helpblub is placed where it is necessary, in the code to test whether s is a blub. It is part of the code that implements &quot;Return true is s is a blub&quot;.\r\nIt makes absolutely no logical sense to put the declaration of helpblub as the first statement of the method. The poor reader would wonder, why is that variable there? What is it for?","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>Principle: Place local variable declarations as close to their first use as possible, and NOT simply at the top of a method. Consider this example:</p>\n\n<pre><code>/** Return true iff s is a blah or a blub. */\npublic boolean checkB(String s) {\n    // Return true if s is a blah\n    ... code to return true if s is a blah ... \n\n    // Return true if s is a blub. */\n    int helpblub= s.length() + 1;\n    ... rest of code to return true is s is a blah.\n\n    return false;\n}\n</code></pre>\n\n<p>Here, local variable helpblub is placed where it is necessary, in the code to test whether s is a blub. It is part of the code that implements \"Return true is s is a blub\".\nIt makes absolutely no logical sense to put the declaration of helpblub as the first statement of the method. The poor reader would wonder, why is that variable there? What is it for?</p>\n"}],"owner":{"account_id":54673,"reputation":1085,"user_id":163662,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32955,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":12,"score":50,"last_activity_date":1698944817,"creation_date":1252681484,"question_id":1411463,"body_markdown":"I&#39;m cleaning up Java code for someone who starts their functions by declaring all variables up top, and initializing them to null/0/whatever, as opposed to declaring them as they&#39;re needed later on.\r\n\r\nWhat are the specific guidelines for this? Are there optimization reasons for one way or the other, or is one way just good practice? Are there any cases where it&#39;s acceptable to deviate from whatever the proper way of doing it is?\r\n","title":"In Java, should variables be declared at the top of a function, or as they&#39;re needed?","body":"<p>I'm cleaning up Java code for someone who starts their functions by declaring all variables up top, and initializing them to null/0/whatever, as opposed to declaring them as they're needed later on.</p>\n\n<p>What are the specific guidelines for this? Are there optimization reasons for one way or the other, or is one way just good practice? Are there any cases where it's acceptable to deviate from whatever the proper way of doing it is?</p>\n"},{"tags":["java","jls","jsr","jep"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":8,"creation_date":1531302765,"post_id":51282326,"comment_id":89542172,"body_markdown":"The names speak for themselves.","body":"The names speak for themselves."},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":2,"creation_date":1531303018,"post_id":51282326,"comment_id":89542311,"body_markdown":"Read [JEP 1](http://openjdk.java.net/jeps/1)","body":"Read <a href=\"http://openjdk.java.net/jeps/1\" rel=\"nofollow noreferrer\">JEP 1</a>"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531303073,"post_id":51282326,"comment_id":89542347,"body_markdown":"Look up the difference between &#39;specification&#39; and &#39;request&#39; and &#39;proposal&#39;.","body":"Look up the difference between &#39;specification&#39; and &#39;request&#39; and &#39;proposal&#39;."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1630146704,"creation_date":1531315547,"answer_id":51286665,"question_id":51282326,"body_markdown":"Some people think that it is simply a matter of what the words mean. I think there is more to it than that, but let us start with the words.\r\n\r\nIn the general context:\r\n\r\n - A **specification** is a document that *specifies* (or defines) something. \r\n - A **request** is statement (written or verbal) asking for something.\r\n - A **proposal** is a statement (written or verbal) putting forward something to be considered.\r\n\r\nAs you can see, the plain English meanings of these words themselves don&#39;t help a lot. We need more context. In this case, the context is in the pages you linked to.\r\n\r\n### Java Language Specification, JLS ###\r\nThis is a specification for the Java Language. The JLS specifies the syntax for the Java programming language and other rules that say what is or is not a valid Java program. It also specifies what a program means; i.e. what happens when you run a (valid) program.\r\n\r\n### Java Specification Request, JSR ###\r\nA JSR is a document created as part of the Java Community Process (JCP) that is setting the scope for a team of people to develop a new specification. These specifications are (AFAIK) always Java related, but they frequently address things that are not going to be core Java SE or Java EE technology. A typical JSR&#39;s subject material is a relatively mature technology; i.e. on that is in a state that can be *specified*. (If you try produce a specification too early, then you typically end up with a bad spec. Other things can lead to that too.)\r\n\r\n### Java Enhancement Proposal, JEP ###\r\nA JEP is a document that is proposing an enhancement to Java core technology. These proposals are typically for enhancements that are not ready to be specified yet. As the JEP-0 document states, JEPs *may* call for exploration of novel (even &quot;whacky&quot;) ideas. Generally speaking, prototyping will be required to separate the viable and non-viable ideas and clarify them to the point where a specification can be produced. \r\n\r\nSo the relationship between JEPs, JSRs and specifications is like this:\r\n\r\n 1. JEPs propose and develop experimental ideas to the point where they *could* be specified. Not all JEPs come to fruition.\r\n\r\n 2. JSRs take mature ideas (e.g. resulting from a JEP), and produce a new specification, or modifications to an existing specification. Not all JSRs come to fruition.\r\n\r\n 3. A specification is a common work product of a JSR. (Others include source code of interfaces, and reference implementations.) The JLS is an *example* of a specification. Others include the JVM specification, the Servlet and JSP specifications, the EJB specifications and so on.","title":"What is the difference (or relation) between JLS, JSR and JEP?","body":"<p>Some people think that it is simply a matter of what the words mean. I think there is more to it than that, but let us start with the words.</p>\n<p>In the general context:</p>\n<ul>\n<li>A <strong>specification</strong> is a document that <em>specifies</em> (or defines) something.</li>\n<li>A <strong>request</strong> is statement (written or verbal) asking for something.</li>\n<li>A <strong>proposal</strong> is a statement (written or verbal) putting forward something to be considered.</li>\n</ul>\n<p>As you can see, the plain English meanings of these words themselves don't help a lot. We need more context. In this case, the context is in the pages you linked to.</p>\n<h3>Java Language Specification, JLS</h3>\n<p>This is a specification for the Java Language. The JLS specifies the syntax for the Java programming language and other rules that say what is or is not a valid Java program. It also specifies what a program means; i.e. what happens when you run a (valid) program.</p>\n<h3>Java Specification Request, JSR</h3>\n<p>A JSR is a document created as part of the Java Community Process (JCP) that is setting the scope for a team of people to develop a new specification. These specifications are (AFAIK) always Java related, but they frequently address things that are not going to be core Java SE or Java EE technology. A typical JSR's subject material is a relatively mature technology; i.e. on that is in a state that can be <em>specified</em>. (If you try produce a specification too early, then you typically end up with a bad spec. Other things can lead to that too.)</p>\n<h3>Java Enhancement Proposal, JEP</h3>\n<p>A JEP is a document that is proposing an enhancement to Java core technology. These proposals are typically for enhancements that are not ready to be specified yet. As the JEP-0 document states, JEPs <em>may</em> call for exploration of novel (even &quot;whacky&quot;) ideas. Generally speaking, prototyping will be required to separate the viable and non-viable ideas and clarify them to the point where a specification can be produced.</p>\n<p>So the relationship between JEPs, JSRs and specifications is like this:</p>\n<ol>\n<li><p>JEPs propose and develop experimental ideas to the point where they <em>could</em> be specified. Not all JEPs come to fruition.</p>\n</li>\n<li><p>JSRs take mature ideas (e.g. resulting from a JEP), and produce a new specification, or modifications to an existing specification. Not all JSRs come to fruition.</p>\n</li>\n<li><p>A specification is a common work product of a JSR. (Others include source code of interfaces, and reference implementations.) The JLS is an <em>example</em> of a specification. Others include the JVM specification, the Servlet and JSP specifications, the EJB specifications and so on.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1577535,"reputation":1048,"user_id":1463629,"accept_rate":50,"display_name":"Kanad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10960,"favorite_count":0,"down_vote_count":8,"up_vote_count":53,"accepted_answer_id":51286665,"answer_count":1,"score":45,"last_activity_date":1698944704,"creation_date":1531302518,"question_id":51282326,"body_markdown":" - JLS - [*Java Language\r\n   Specification*](https://docs.oracle.com/javase/specs/jls/se9/html/index.html)\r\n - JSR - [*Java Specification\r\n   Requests*](https://jcp.org/aboutJava/communityprocess/final/jsr376/index.html).The\r\n   formal documents that describe proposed specifications and\r\n   technologies for adding to the Java platform.\r\n - JEP - [*JDK Enhancement Proposal*](http://openjdk.java.net/jeps/0)\r\n\r\nWhat is the difference (or relation) between these three?","title":"What is the difference (or relation) between JLS, JSR and JEP?","body":"<ul>\n<li>JLS - <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/index.html\" rel=\"noreferrer\"><em>Java Language\nSpecification</em></a></li>\n<li>JSR - <a href=\"https://jcp.org/aboutJava/communityprocess/final/jsr376/index.html\" rel=\"noreferrer\"><em>Java Specification\nRequests</em></a>.The\nformal documents that describe proposed specifications and\ntechnologies for adding to the Java platform.</li>\n<li>JEP - <a href=\"http://openjdk.java.net/jeps/0\" rel=\"noreferrer\"><em>JDK Enhancement Proposal</em></a></li>\n</ul>\n\n<p>What is the difference (or relation) between these three?</p>\n"},{"tags":["java","go"],"comments":[{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1673742218,"post_id":75122169,"comment_id":132566467,"body_markdown":"Just because [Java SE 19](https://openjdk.org/projects/jdk/19/) added [virtual threads (Project Loom)](https://openjdk.org/jeps/425) as a preview feature doesn&#39;t guarantee it will be added permanently. But the chances are very good in the next year or two.","body":"Just because <a href=\"https://openjdk.org/projects/jdk/19/\" rel=\"nofollow noreferrer\">Java SE 19</a> added <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">virtual threads (Project Loom)</a> as a preview feature doesn&#39;t guarantee it will be added permanently. But the chances are very good in the next year or two."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1673742456,"post_id":75122169,"comment_id":132566483,"body_markdown":"As a partial answer, the merits of async (and callbacks) vs. lightweight threads is discussed in both the [virtual threads feature write-up](https://openjdk.org/jeps/425) and the old JavaScript-oriented article [&quot;What color is your function?&quot;](https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/).","body":"As a partial answer, the merits of async (and callbacks) vs. lightweight threads is discussed in both the <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">virtual threads feature write-up</a> and the old JavaScript-oriented article <a href=\"https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">&quot;What color is your function?&quot;</a>."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1673742509,"post_id":75122169,"comment_id":132566485,"body_markdown":"And a bunch of Project Loom slideshows: [2018-06](http://cr.openjdk.java.net/~rpressler/loom/JVMLS2018.pdf), [2019-02](https://www.jfokus.se/jfokus19-preso/Project-Loom--One-Year-In.pdf), [2019-05](https://jcp.org/aboutJava/communityprocess/ec-public/materials/2019-05-15/Loom_Overview_May2019.pdf), [2020-11](https://assets.ctfassets.net/oxjq45e8ilak/1d7dQHTHTZyQENr3n1mWYS/0bac7edbcdabdb0703253d510f460bb5/Alan_Bateman_Project_loom_Modern_scalable_concurrency_for_the_Java_platform_2020_11_27_11_44_21.pdf).","body":"And a bunch of Project Loom slideshows: <a href=\"http://cr.openjdk.java.net/~rpressler/loom/JVMLS2018.pdf\" rel=\"nofollow noreferrer\">2018-06</a>, <a href=\"https://www.jfokus.se/jfokus19-preso/Project-Loom--One-Year-In.pdf\" rel=\"nofollow noreferrer\">2019-02</a>, <a href=\"https://jcp.org/aboutJava/communityprocess/ec-public/materials/2019-05-15/Loom_Overview_May2019.pdf\" rel=\"nofollow noreferrer\">2019-05</a>, <a href=\"https://assets.ctfassets.net/oxjq45e8ilak/1d7dQHTHTZyQENr3n1mWYS/0bac7edbcdabdb0703253d510f460bb5/Alan_Bateman_Project_loom_Modern_scalable_concurrency_for_the_Java_platform_2020_11_27_11_44_21.pdf\" rel=\"nofollow noreferrer\">2020-11</a>."},{"owner":{"account_id":68701,"reputation":3082,"user_id":200304,"accept_rate":63,"display_name":"Johannes Ernst"},"score":0,"creation_date":1674000294,"post_id":75122169,"comment_id":132620806,"body_markdown":"I guess I should not have posted this over the long weekend. But perhaps everybody has the same question and no answer, or has not pondered it yet.","body":"I guess I should not have posted this over the long weekend. But perhaps everybody has the same question and no answer, or has not pondered it yet."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":1,"creation_date":1683280517,"post_id":75122169,"comment_id":134346003,"body_markdown":"@Nayuki &quot;Status: Integrated. Fix Version/s: 21&quot;. So it is up to delivery in the next LTS in ~September this year, 4-5 months to go.","body":"@Nayuki &quot;Status: Integrated. Fix Version/s: 21&quot;. So it is up to delivery in the next LTS in ~September this year, 4-5 months to go."}],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683280884,"creation_date":1683280884,"answer_id":76181009,"question_id":75122169,"body_markdown":"The downside is cooperative multitasking. That means design mistakes in a virtual thread logic of code could lead to pinning a real thread and leaking them. And it is not the best approach to have computation intensive logic in such threads.\r\n\r\nIn other words, virtual threads are not multithreaded code in fact, but for asynchronous. However, they still use familiar patterns and approaches which are classical for real threads.","title":"Do goroutines and light-weight Java threads mean we never need use thread pools and async code again?","body":"<p>The downside is cooperative multitasking. That means design mistakes in a virtual thread logic of code could lead to pinning a real thread and leaking them. And it is not the best approach to have computation intensive logic in such threads.</p>\n<p>In other words, virtual threads are not multithreaded code in fact, but for asynchronous. However, they still use familiar patterns and approaches which are classical for real threads.</p>\n"},{"tags":[],"owner":{"account_id":18702847,"reputation":88,"user_id":13634675,"display_name":"Васил Егов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698944085,"creation_date":1698944085,"answer_id":77411511,"question_id":75122169,"body_markdown":"The virtual threads design idea is to be the best of both worlds. Performance of async callbacks and readability of synchronous blocking code. As Kan mentioned, the only downside to virtual threads is if you pin them by using *synchronized* and then do an IO operation or similar in the synchronized block. Or if you want to do parallel computations, then just regular threads. \r\n\r\nAnd still, this does not mean that you can not do a calculation in a virtual thread. On the contrary. Just use it as a regular old thread, and IF you need high performance parallel computation, then you will need to check if platform threads are better.\r\n\r\nBut in the context of a web server for example, they are one of the greatest features in the popular languages. Just because, you can do this in spring and make your whole application async without changing anything else, and all existing code becomes async. Also, no async and non async functions. No `Future&lt;String&gt;` and so on. Very elegant, if I may add.\r\n\r\n    @Bean(TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME)\r\n    public AsyncTaskExecutor asyncTaskExecutor() {\r\n      return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\r\n    }\r\n    \r\n    @Bean\r\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\r\n      return protocolHandler -&gt; {\r\n        protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\r\n      };\r\n    }\r\n\r\nAnd even if a virtual thread does computation, well that just means that the Platform thread is just busy, which is our goal, there is no waste there. Just the CPU being utilized far better.\r\n\r\nThis means that the creators of java intend us to use them without worries about doing computations, as mentioned numerous times in videos by Brian Goetz and others.\r\n ","title":"Do goroutines and light-weight Java threads mean we never need use thread pools and async code again?","body":"<p>The virtual threads design idea is to be the best of both worlds. Performance of async callbacks and readability of synchronous blocking code. As Kan mentioned, the only downside to virtual threads is if you pin them by using <em>synchronized</em> and then do an IO operation or similar in the synchronized block. Or if you want to do parallel computations, then just regular threads.</p>\n<p>And still, this does not mean that you can not do a calculation in a virtual thread. On the contrary. Just use it as a regular old thread, and IF you need high performance parallel computation, then you will need to check if platform threads are better.</p>\n<p>But in the context of a web server for example, they are one of the greatest features in the popular languages. Just because, you can do this in spring and make your whole application async without changing anything else, and all existing code becomes async. Also, no async and non async functions. No <code>Future&lt;String&gt;</code> and so on. Very elegant, if I may add.</p>\n<pre><code>@Bean(TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME)\npublic AsyncTaskExecutor asyncTaskExecutor() {\n  return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\n}\n\n@Bean\npublic TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\n  return protocolHandler -&gt; {\n    protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\n  };\n}\n</code></pre>\n<p>And even if a virtual thread does computation, well that just means that the Platform thread is just busy, which is our goal, there is no waste there. Just the CPU being utilized far better.</p>\n<p>This means that the creators of java intend us to use them without worries about doing computations, as mentioned numerous times in videos by Brian Goetz and others.</p>\n"}],"owner":{"account_id":68701,"reputation":3082,"user_id":200304,"accept_rate":63,"display_name":"Johannes Ernst"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1698944085,"creation_date":1673741899,"question_id":75122169,"body_markdown":"I&#39;m trying to wrap my mind around what Goroutines (in Golang) and light-weight threads (in Java 19+) (and perhaps in other languages) mean for programming.\r\n\r\nFor years, we&#39;ve been trying to write this extremely unreadable, lambda-function-heavy code in a variety of languages that basically sets up a chain of callbacks, to be invoked asynchronously once I/O is complete or a thread pool has gotten around to working on it. All because thread creation has been an expensive operation and one can&#39;t really run a gazillion of OS threads at the same time. In my view, this has always been a very ugly workaround.\r\n\r\nI have no first-hand experience with either Goroutines or light-weight threads in Java yet, but it appears to me that we can simply go back to writing straightforward code because these kinds of threads are so cheap.\r\n\r\nIs that correct? What would be the downsides of going all-in on those light-weight threads?\r\n","title":"Do goroutines and light-weight Java threads mean we never need use thread pools and async code again?","body":"<p>I'm trying to wrap my mind around what Goroutines (in Golang) and light-weight threads (in Java 19+) (and perhaps in other languages) mean for programming.</p>\n<p>For years, we've been trying to write this extremely unreadable, lambda-function-heavy code in a variety of languages that basically sets up a chain of callbacks, to be invoked asynchronously once I/O is complete or a thread pool has gotten around to working on it. All because thread creation has been an expensive operation and one can't really run a gazillion of OS threads at the same time. In my view, this has always been a very ugly workaround.</p>\n<p>I have no first-hand experience with either Goroutines or light-weight threads in Java yet, but it appears to me that we can simply go back to writing straightforward code because these kinds of threads are so cheap.</p>\n<p>Is that correct? What would be the downsides of going all-in on those light-weight threads?</p>\n"},{"tags":["java","string","comparison"],"comments":[{"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"score":1,"creation_date":1698943742,"post_id":14155240,"comment_id":136471462,"body_markdown":"Using the second option is called a [Yoda condition](https://en.wikipedia.org/wiki/Yoda_conditions).","body":"Using the second option is called a <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow noreferrer\">Yoda condition</a>."}],"answers":[{"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1698943657,"creation_date":1357295012,"answer_id":14155261,"question_id":14155240,"body_markdown":"Its not a matter of performance. The second version won&#39;t ever produce a `NullPointerException`, even when `br.readLine()` returns `null`. The first one does though.","title":"Java: is there a difference in order when comparing strings?","body":"<p>Its not a matter of performance. The second version won't ever produce a <code>NullPointerException</code>, even when <code>br.readLine()</code> returns <code>null</code>. The first one does though.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357295018,"creation_date":1357295018,"answer_id":14155263,"question_id":14155240,"body_markdown":"It&#39;s not better or faster, but if you *know* that `CONSTANT_STRING` exists you guarantee that you&#39;ll never get a `NullPointerException` if you do it the second way.\r\n","title":"Java: is there a difference in order when comparing strings?","body":"<p>It's not better or faster, but if you <em>know</em> that <code>CONSTANT_STRING</code> exists you guarantee that you'll never get a <code>NullPointerException</code> if you do it the second way.</p>\n"},{"tags":[],"owner":{"account_id":240196,"reputation":2434,"user_id":510294,"accept_rate":75,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357295169,"creation_date":1357295169,"answer_id":14155306,"question_id":14155240,"body_markdown":"public **abstract?** String CONSTANT_STRING = &quot;A constant string&quot;;","title":"Java: is there a difference in order when comparing strings?","body":"<p>public <strong>abstract?</strong> String CONSTANT_STRING = \"A constant string\";</p>\n"},{"tags":[],"owner":{"account_id":1640947,"reputation":28880,"user_id":1513384,"accept_rate":96,"display_name":"ntalbs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357295348,"creation_date":1357295348,"answer_id":14155350,"question_id":14155240,"body_markdown":"`equals()` method of `String` class will return `false` if the length of two comparing strings are different. It will compare the contents only when the length of two strings are equal. So the order does not affect the performance.\r\n\r\nAs you can see in other answers, second method will not occur `NullPointerException`. So, the second method is better.","title":"Java: is there a difference in order when comparing strings?","body":"<p><code>equals()</code> method of <code>String</code> class will return <code>false</code> if the length of two comparing strings are different. It will compare the contents only when the length of two strings are equal. So the order does not affect the performance.</p>\n\n<p>As you can see in other answers, second method will not occur <code>NullPointerException</code>. So, the second method is better.</p>\n"}],"owner":{"account_id":1614893,"reputation":4442,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14155261,"answer_count":4,"score":1,"last_activity_date":1698943657,"creation_date":1357294943,"question_id":14155240,"body_markdown":"I notice some people seem to differ when comparing two strings together, such as when comparing a variable to a constant. For example, let&#39;s say we have a constant string and an input method:\r\n\r\n    public final String CONSTANT_STRING = &quot;A constant string&quot;;\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\nIs it better or faster in any way to use the unknown input first:\r\n\r\n    br.readLine().equals(CONSTANT_STRING)\r\n\r\nor to compare the constant to the unknown:\r\n\r\n    CONSTANT_STRING.equals(br.readLine());\r\n\r\n","title":"Java: is there a difference in order when comparing strings?","body":"<p>I notice some people seem to differ when comparing two strings together, such as when comparing a variable to a constant. For example, let's say we have a constant string and an input method:</p>\n\n<pre><code>public final String CONSTANT_STRING = \"A constant string\";\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n</code></pre>\n\n<p>Is it better or faster in any way to use the unknown input first:</p>\n\n<pre><code>br.readLine().equals(CONSTANT_STRING)\n</code></pre>\n\n<p>or to compare the constant to the unknown:</p>\n\n<pre><code>CONSTANT_STRING.equals(br.readLine());\n</code></pre>\n"},{"tags":["java","optimization","bytecode"],"answers":[{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350299517,"creation_date":1350299517,"answer_id":12894391,"question_id":12894298,"body_markdown":"In java there is so such issue. The compiler deals with variable declaration, and the programmer has no control on where to allocate them in memory","title":"Does member order make a performance difference in Java like in C or C++?","body":"<p>In java there is so such issue. The compiler deals with variable declaration, and the programmer has no control on where to allocate them in memory</p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350299551,"creation_date":1350299551,"answer_id":12894405,"question_id":12894298,"body_markdown":"Java does not have structs, only classes. A class in Java doesn&#39;t necessarily mean that class is also in C++ backend. You don&#39;t even know if the JVM is implemented in C/C++. It can by any other language.\r\n\r\nBut for the C++ JVMs, I think they try to optimize. Primitive (they are not called unboxed) types, such as int or boolean, usually map to their primitive counterparts (as far as my JNI experience goes), but as there are no structs, they don&#39;t need to arrange.\r\n\r\nI am almost sure rearraging class fields will not have any impact on memory consumption. Just because they do not map to structs.","title":"Does member order make a performance difference in Java like in C or C++?","body":"<p>Java does not have structs, only classes. A class in Java doesn't necessarily mean that class is also in C++ backend. You don't even know if the JVM is implemented in C/C++. It can by any other language.</p>\n\n<p>But for the C++ JVMs, I think they try to optimize. Primitive (they are not called unboxed) types, such as int or boolean, usually map to their primitive counterparts (as far as my JNI experience goes), but as there are no structs, they don't need to arrange.</p>\n\n<p>I am almost sure rearraging class fields will not have any impact on memory consumption. Just because they do not map to structs.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698943434,"creation_date":1350300027,"answer_id":12894532,"question_id":12894298,"body_markdown":"`int` types are always 32-bit and references are usually 32-bit even in 64-bit JVMs.\r\n\r\nOn the down side, Java has a 8-12 byte header at the start of each object and uses an 8-byte alignment. BTW some C++ environments have a 16-byte alignment.\r\n\r\n&gt; Are unboxed types (such as int and boolean) the same size as references or smaller? \r\n\r\nYou can expect them to be smaller for boolean, byte, char and short, but the primitives can be larger for long and double than a reference.\r\n\r\n&gt; And if they&#39;re smaller, is the compiler allowed to reorder them to avoid inserting padding to align subsequent fields? \r\n\r\nThe JIT can re-organize the fields or even optimize them away.\r\n\r\n&gt; Finally, if it is, do any compilers do this?\r\n\r\nThe `javac` compile does next to no optimizations and looking at the byte code will give you little clues as to what will happen at runtime.  The JIT can optimize the fields in an objects anyway it chooses.\r\n\r\n&gt; I&#39;m just curious to know if I should bear this in mind when choosing what order to declare my fields, like I do in C.\r\n\r\nIMHO, You can assume that just about every optimization trick you might have used in C no longer applies in Java.  Of the few that do, they may not be exactly the same.\r\n\r\nYou should assume the JIT will optimize the code as required and use profilers to determine if and when you have a problem. Only then consider altering the code for performance reasons.\r\n","title":"Does member order make a performance difference in Java like in C or C++?","body":"<p><code>int</code> types are always 32-bit and references are usually 32-bit even in 64-bit JVMs.</p>\n<p>On the down side, Java has a 8-12 byte header at the start of each object and uses an 8-byte alignment. BTW some C++ environments have a 16-byte alignment.</p>\n<blockquote>\n<p>Are unboxed types (such as int and boolean) the same size as references or smaller?</p>\n</blockquote>\n<p>You can expect them to be smaller for boolean, byte, char and short, but the primitives can be larger for long and double than a reference.</p>\n<blockquote>\n<p>And if they're smaller, is the compiler allowed to reorder them to avoid inserting padding to align subsequent fields?</p>\n</blockquote>\n<p>The JIT can re-organize the fields or even optimize them away.</p>\n<blockquote>\n<p>Finally, if it is, do any compilers do this?</p>\n</blockquote>\n<p>The <code>javac</code> compile does next to no optimizations and looking at the byte code will give you little clues as to what will happen at runtime.  The JIT can optimize the fields in an objects anyway it chooses.</p>\n<blockquote>\n<p>I'm just curious to know if I should bear this in mind when choosing what order to declare my fields, like I do in C.</p>\n</blockquote>\n<p>IMHO, You can assume that just about every optimization trick you might have used in C no longer applies in Java.  Of the few that do, they may not be exactly the same.</p>\n<p>You should assume the JIT will optimize the code as required and use profilers to determine if and when you have a problem. Only then consider altering the code for performance reasons.</p>\n"},{"tags":[],"owner":{"account_id":328694,"reputation":7904,"user_id":651794,"accept_rate":83,"display_name":"James Scriven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350301755,"creation_date":1350301755,"answer_id":12895032,"question_id":12894298,"body_markdown":"As others have pointed out, you really have no control of this level of detail in java. However, if you really needed that much control over memory, you could manage it yourself by indexing into a byte[] or even off-heap in a direct [ByteBuffer][1]. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html","title":"Does member order make a performance difference in Java like in C or C++?","body":"<p>As others have pointed out, you really have no control of this level of detail in java. However, if you really needed that much control over memory, you could manage it yourself by indexing into a byte[] or even off-heap in a direct <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow\">ByteBuffer</a>. </p>\n"}],"owner":{"account_id":939643,"reputation":14889,"user_id":967945,"accept_rate":54,"display_name":"Dan Hulme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12894532,"answer_count":4,"score":7,"last_activity_date":1698943434,"creation_date":1350299178,"question_id":12894298,"body_markdown":"In C and C++, the compiler is not allowed to reorder data members of structs, so if you&#39;re not careful with how you order them, you end up wasting space. For example:\r\n\r\n    struct S {\r\n        int i;\r\n        void *p;\r\n        int i2;\r\n    };\r\n\r\nOn a platform with 32-bit `int`s and 64-bit pointers, `i` will be placed first, followed by 32 bits of padding so that `p` can be 64-bit&amp;ndash;aligned. `i2` then takes up half of the next word, followed by another 32 bits of padding. The resulting struct is 24 bytes long, whereas if `p` were declared first, it would be only 16 bytes long. If you have a lot of these structs in an array, finding and removing the padding can sometimes be an important optimization, to save memory and reduce cache churn.\r\n\r\nI&#39;m curious to know if Java has the same feature. Are unboxed types (such as `int` and `boolean`) the same size as references or smaller? And if they&#39;re smaller, is the compiler allowed to reorder them to avoid inserting padding to align subsequent fields? Finally, if it is, do any compilers do this?\r\n\r\nI don&#39;t have a particular optimization need for this right now, I&#39;m just curious to know if I should bear this in mind when choosing what order to declare my fields, like I do in C.","title":"Does member order make a performance difference in Java like in C or C++?","body":"<p>In C and C++, the compiler is not allowed to reorder data members of structs, so if you're not careful with how you order them, you end up wasting space. For example:</p>\n\n<pre><code>struct S {\n    int i;\n    void *p;\n    int i2;\n};\n</code></pre>\n\n<p>On a platform with 32-bit <code>int</code>s and 64-bit pointers, <code>i</code> will be placed first, followed by 32 bits of padding so that <code>p</code> can be 64-bit&ndash;aligned. <code>i2</code> then takes up half of the next word, followed by another 32 bits of padding. The resulting struct is 24 bytes long, whereas if <code>p</code> were declared first, it would be only 16 bytes long. If you have a lot of these structs in an array, finding and removing the padding can sometimes be an important optimization, to save memory and reduce cache churn.</p>\n\n<p>I'm curious to know if Java has the same feature. Are unboxed types (such as <code>int</code> and <code>boolean</code>) the same size as references or smaller? And if they're smaller, is the compiler allowed to reorder them to avoid inserting padding to align subsequent fields? Finally, if it is, do any compilers do this?</p>\n\n<p>I don't have a particular optimization need for this right now, I'm just curious to know if I should bear this in mind when choosing what order to declare my fields, like I do in C.</p>\n"},{"tags":["java","junit","junit5","spring-test","junit-jupiter"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1640253200,"post_id":70452633,"comment_id":124552713,"body_markdown":"Judging from the stacktrace &quot;java.lang.ClassNotFoundException: org.merchant.poc.GeneratePdf&quot; something in your setup seems to be wrong. Might be conflicting versions or source paths or a few other things. If a clean build doesn&#39;t help, I suggest you create a minimum reproducing repo and link it here, so that others can recreate the effect.","body":"Judging from the stacktrace &quot;java.lang.ClassNotFoundException: org.merchant.poc.GeneratePdf&quot; something in your setup seems to be wrong. Might be conflicting versions or source paths or a few other things. If a clean build doesn&#39;t help, I suggest you create a minimum reproducing repo and link it here, so that others can recreate the effect."}],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640208928,"creation_date":1640208928,"answer_id":70455369,"question_id":70452633,"body_markdown":"`GeneratePdf` does not match the default name pattern for test classes. The default pattern is `Test*|*Test|*Tests`.\r\n\r\nYou can change it in your Gradle file with\r\n\r\n    test {\r\n      useJUnitPlatform()\r\n      include &#39;**/*Pdf&#39;\r\n    }","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p><code>GeneratePdf</code> does not match the default name pattern for test classes. The default pattern is <code>Test*|*Test|*Tests</code>.</p>\n<p>You can change it in your Gradle file with</p>\n<pre><code>test {\n  useJUnitPlatform()\n  include '**/*Pdf'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14949534,"reputation":364,"user_id":10821123,"display_name":"Vaibhav"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1654616491,"creation_date":1640672809,"answer_id":70503467,"question_id":70452633,"body_markdown":"What is the project structure you are following? I remember facing a similar issue when I started out, so basically what I did was just follow this structure:\r\n\r\n```\r\nproject-dir\r\n -- src\r\n     -- main\r\n        -- java\r\n            -- classes\r\n     -- test\r\n        -- java\r\n            -- test-classes\r\n```\r\n\r\nIn addition to the above structure, make sure you are naming your test classes in a correct format as mentioned [in the answer](https://stackoverflow.com/a/70455369/10821123) by [@johanneslink](https://stackoverflow.com/users/32352/johanneslink)","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>What is the project structure you are following? I remember facing a similar issue when I started out, so basically what I did was just follow this structure:</p>\n<pre><code>project-dir\n -- src\n     -- main\n        -- java\n            -- classes\n     -- test\n        -- java\n            -- test-classes\n</code></pre>\n<p>In addition to the above structure, make sure you are naming your test classes in a correct format as mentioned <a href=\"https://stackoverflow.com/a/70455369/10821123\">in the answer</a> by <a href=\"https://stackoverflow.com/users/32352/johanneslink\">@johanneslink</a></p>\n"},{"tags":[],"owner":{"account_id":890938,"reputation":958,"user_id":929227,"accept_rate":78,"display_name":"Kowlown"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1664820482,"creation_date":1642809663,"answer_id":70808876,"question_id":70452633,"body_markdown":"I had this issue when I upgraded the versions of JUnit from **5.7.0** to **5.8.2**.\r\nTry with version 5.7.0 for `org.junit.jupiter:junit-jupiter-api` and `org.junit.jupiter:junit-jupiter-engine`","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>I had this issue when I upgraded the versions of JUnit from <strong>5.7.0</strong> to <strong>5.8.2</strong>.\nTry with version 5.7.0 for <code>org.junit.jupiter:junit-jupiter-api</code> and <code>org.junit.jupiter:junit-jupiter-engine</code></p>\n"},{"tags":[],"owner":{"account_id":466219,"reputation":1230,"user_id":870834,"accept_rate":90,"display_name":"ADJ"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644992923,"creation_date":1644992923,"answer_id":71137262,"question_id":70452633,"body_markdown":"I got the same error because I&#39;d named my integration test class as XyzIT, post renaming it to XyzIntegrationTest, it started working.","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>I got the same error because I'd named my integration test class as XyzIT, post renaming it to XyzIntegrationTest, it started working.</p>\n"},{"tags":[],"owner":{"account_id":23024708,"reputation":344,"user_id":17145156,"display_name":"AceneKASDI"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1649504920,"creation_date":1649504920,"answer_id":71807779,"question_id":70452633,"body_markdown":"Environment :\r\n\r\n- IntelliJ\r\n- Java 17\r\n\r\n \r\nI have faced the same issue after upgrading my project from JDK 11 to JDK 17 and junit-jupiter-api from 5.7.0 to 5.8.2.\r\n\r\nOn my project, the working version is 5.7.2\r\n\r\nFollow the issue here : [Github issue][1]\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit5/issues/2881","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>Environment :</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java 17</li>\n</ul>\n<p>I have faced the same issue after upgrading my project from JDK 11 to JDK 17 and junit-jupiter-api from 5.7.0 to 5.8.2.</p>\n<p>On my project, the working version is 5.7.2</p>\n<p>Follow the issue here : <a href=\"https://github.com/junit-team/junit5/issues/2881\" rel=\"noreferrer\">Github issue</a></p>\n"},{"tags":[],"owner":{"account_id":9946789,"reputation":61,"user_id":7361181,"display_name":"Idriz Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660659148,"creation_date":1660659148,"answer_id":73375448,"question_id":70452633,"body_markdown":"I was receiving such exception because had dependencies to both junit4 and junit5, removing junit4 solved the problem.\r\n","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>I was receiving such exception because had dependencies to both junit4 and junit5, removing junit4 solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":15378105,"reputation":51,"user_id":11094244,"display_name":"Karthi J"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1661830108,"creation_date":1661830108,"answer_id":73536812,"question_id":70452633,"body_markdown":"adding this dependency alone will fix this issue. I tried with 5.6.2, any version is fine\r\n\r\n    testImplementation(&#39;org.junit.jupiter:junit-jupiter:5.6.2&#39;)","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>adding this dependency alone will fix this issue. I tried with 5.6.2, any version is fine</p>\n<pre><code>testImplementation('org.junit.jupiter:junit-jupiter:5.6.2')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19323872,"reputation":353,"user_id":14168816,"display_name":"Lennonry"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1662471917,"creation_date":1662471917,"answer_id":73623149,"question_id":70452633,"body_markdown":"I had to add this in order for it to play nice with `spring-boot-starter-test` and JDK 17\r\n\r\n```\r\n    ext[&#39;junit-jupiter.version&#39;] = &#39;5.9.0&#39;\r\n```\r\nNote: this is in addition to normal test dependencies and `test` task configuration.\r\n\r\nNote2: AFAIK name requirements for test classes and test method and `public` visibility don&#39;t apply anymore with junit5 (no `public class MyClassTest`, `public void mymethodTest()`)\r\n\r\n[Reference here][1]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-build-spring-boot","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>I had to add this in order for it to play nice with <code>spring-boot-starter-test</code> and JDK 17</p>\n<pre><code>    ext['junit-jupiter.version'] = '5.9.0'\n</code></pre>\n<p>Note: this is in addition to normal test dependencies and <code>test</code> task configuration.</p>\n<p>Note2: AFAIK name requirements for test classes and test method and <code>public</code> visibility don't apply anymore with junit5 (no <code>public class MyClassTest</code>, <code>public void mymethodTest()</code>)</p>\n<p><a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-spring-boot\" rel=\"nofollow noreferrer\">Reference here</a></p>\n"},{"tags":[],"owner":{"account_id":18230402,"reputation":1,"user_id":13269448,"display_name":"Lasha Bibilashvili"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663948428,"creation_date":1663948428,"answer_id":73830272,"question_id":70452633,"body_markdown":"junit-jupiter-engine is a part of junit-jupiter\r\nadd junit-jupiter from [enter link description here][1] in your pom.xml\r\n\r\nfor Example:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>junit-jupiter-engine is a part of junit-jupiter\nadd junit-jupiter from <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"nofollow noreferrer\">enter link description here</a> in your pom.xml</p>\n<p>for Example:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1666363860,"creation_date":1666363860,"answer_id":74155461,"question_id":70452633,"body_markdown":"In my case, a `mvn clean compile` helped.","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>In my case, a <code>mvn clean compile</code> helped.</p>\n"},{"tags":[],"owner":{"account_id":9614093,"reputation":39,"user_id":7137509,"display_name":"Ahmed M. Elzubair"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1668872541,"creation_date":1668872541,"answer_id":74501390,"question_id":70452633,"body_markdown":"In my case I have \r\n\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwith \r\n\r\n        &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${maven.compiler.source}&lt;/maven.compiler.target&gt;\r\n        &lt;junit.jupiter.version&gt;5.8.2&lt;/junit.jupiter.version&gt;\r\n        &lt;junit.platform.version&gt;1.8.2&lt;/junit.platform.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nI simply removed \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd everything worked well!!","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>In my case I have</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre><code>    &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${maven.compiler.source}&lt;/maven.compiler.target&gt;\n    &lt;junit.jupiter.version&gt;5.8.2&lt;/junit.jupiter.version&gt;\n    &lt;junit.platform.version&gt;1.8.2&lt;/junit.platform.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>I simply removed</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And everything worked well!!</p>\n"},{"tags":[],"owner":{"account_id":6629429,"reputation":401,"user_id":5118547,"display_name":"Thomas Negash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669017529,"creation_date":1669017529,"answer_id":74515766,"question_id":70452633,"body_markdown":"For me, this problem happened for me when adding the `junit-platform-suite-engine:1.9.1` dependency. By using `gradle dependencies`, as shown below, you can see that the 1.9.1 version causes a conflict between the junit versions set by spring boot. \r\n\r\n    |    +--- org.junit.jupiter:junit-jupiter:5.8.2\r\n    |    |    +--- org.junit:junit-bom:5.8.2 -&gt; 5.9.1\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter:5.9.1 -&gt; 5.8.2 (c)\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter-api:5.9.1 -&gt; 5.8.2 (c)\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter-engine:5.9.1 -&gt; 5.8.2 (c)\r\n    |    |    |    +--- org.junit.jupiter:junit-jupiter-params:5.9.1 -&gt; 5.8.2 (c)\r\n    |    |    |    +--- org.junit.platform:junit-platform-engine:1.9.1 -&gt; 1.8.2 (c)\r\n    |    |    |    +--- org.junit.platform:junit-platform-suite-api:1.9.1 -&gt; 1.8.2 (c)\r\n    |    |    |    +--- org.junit.platform:junit-platform-suite-commons:1.9.1 -&gt; 1.8.2 (c)\r\n    |    |    |    +--- org.junit.platform:junit-platform-suite-engine:1.9.1 (c)\r\n    |    |    |    +--- org.junit.platform:junit-platform-launcher:1.9.1 -&gt; 1.8.2 (c)\r\n    |    |    |    \\--- org.junit.platform:junit-platform-commons:1.9.1 -&gt; 1.8.2 (c)\r\n\r\n\r\nTo solve this, either remove the version from the dependency like below\r\n\r\n`testImplementation(&quot;org.junit.platform:junit-platform-suite-engine&quot;)`\r\n\r\nOr use the same version as spring boot (i.e., 1.8.2 in my case)\r\n\r\n`testImplementation(&quot;org.junit.platform:junit-platform-suite-engine:1.8.2&quot;)`","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>For me, this problem happened for me when adding the <code>junit-platform-suite-engine:1.9.1</code> dependency. By using <code>gradle dependencies</code>, as shown below, you can see that the 1.9.1 version causes a conflict between the junit versions set by spring boot.</p>\n<pre><code>|    +--- org.junit.jupiter:junit-jupiter:5.8.2\n|    |    +--- org.junit:junit-bom:5.8.2 -&gt; 5.9.1\n|    |    |    +--- org.junit.jupiter:junit-jupiter:5.9.1 -&gt; 5.8.2 (c)\n|    |    |    +--- org.junit.jupiter:junit-jupiter-api:5.9.1 -&gt; 5.8.2 (c)\n|    |    |    +--- org.junit.jupiter:junit-jupiter-engine:5.9.1 -&gt; 5.8.2 (c)\n|    |    |    +--- org.junit.jupiter:junit-jupiter-params:5.9.1 -&gt; 5.8.2 (c)\n|    |    |    +--- org.junit.platform:junit-platform-engine:1.9.1 -&gt; 1.8.2 (c)\n|    |    |    +--- org.junit.platform:junit-platform-suite-api:1.9.1 -&gt; 1.8.2 (c)\n|    |    |    +--- org.junit.platform:junit-platform-suite-commons:1.9.1 -&gt; 1.8.2 (c)\n|    |    |    +--- org.junit.platform:junit-platform-suite-engine:1.9.1 (c)\n|    |    |    +--- org.junit.platform:junit-platform-launcher:1.9.1 -&gt; 1.8.2 (c)\n|    |    |    \\--- org.junit.platform:junit-platform-commons:1.9.1 -&gt; 1.8.2 (c)\n</code></pre>\n<p>To solve this, either remove the version from the dependency like below</p>\n<p><code>testImplementation(&quot;org.junit.platform:junit-platform-suite-engine&quot;)</code></p>\n<p>Or use the same version as spring boot (i.e., 1.8.2 in my case)</p>\n<p><code>testImplementation(&quot;org.junit.platform:junit-platform-suite-engine:1.8.2&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":1056956,"reputation":5781,"user_id":1059446,"accept_rate":89,"display_name":"Aleksandr Kravets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670502621,"creation_date":1670502621,"answer_id":74730319,"question_id":70452633,"body_markdown":"JUnit libraries versions you specify must match JUnit POMs.\r\n\r\nI got this error during routine dependency upgrade. I upgraded `junit-jupiter-api` and `junit-jupiter-engine` to 5.8.2 but left `junit-platform-engine` and `junit-platform-commons` pinned to 1.7.2. After some experiments I opened JUnit POM and found out that 5.8.2 uses 1.8.2 dependency. That was the reason. Always check that related dependencies are in sync!","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>JUnit libraries versions you specify must match JUnit POMs.</p>\n<p>I got this error during routine dependency upgrade. I upgraded <code>junit-jupiter-api</code> and <code>junit-jupiter-engine</code> to 5.8.2 but left <code>junit-platform-engine</code> and <code>junit-platform-commons</code> pinned to 1.7.2. After some experiments I opened JUnit POM and found out that 5.8.2 uses 1.8.2 dependency. That was the reason. Always check that related dependencies are in sync!</p>\n"},{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672094171,"creation_date":1672056890,"answer_id":74920181,"question_id":70452633,"body_markdown":"`testImplementation(&#39;org.junit.jupiter:junit-jupiter:5.9.0&#39;)`","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p><code>testImplementation('org.junit.jupiter:junit-jupiter:5.9.0')</code></p>\n"},{"tags":[],"owner":{"account_id":15593932,"reputation":1,"user_id":11250040,"display_name":"Supreet Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672135469,"creation_date":1672135469,"answer_id":74927960,"question_id":70452633,"body_markdown":"Incorrect package path was my reason for this issue. Fixing the package path resolved the issue.\r\n\r\n[package path present on the top of the java class]\r\npackage &lt;&gt;","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>Incorrect package path was my reason for this issue. Fixing the package path resolved the issue.</p>\n<p>[package path present on the top of the java class]\npackage &lt;&gt;</p>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673576654,"creation_date":1673576654,"answer_id":75104272,"question_id":70452633,"body_markdown":"My case was different and might help someone. \r\n\r\nI had converted a Java project to Spring boot project. Before doing this, I had imported ```junit-jupiter-engine``` dependency in my pom file. \r\n\r\nI had to remove the ```junit-jupiter-engine``` dependency from the project and had to annotate my tests with:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@FixMethodOrder(value = MethodSorters.NAME_ASCENDING)\r\n```","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>My case was different and might help someone.</p>\n<p>I had converted a Java project to Spring boot project. Before doing this, I had imported <code>junit-jupiter-engine</code> dependency in my pom file.</p>\n<p>I had to remove the <code>junit-jupiter-engine</code> dependency from the project and had to annotate my tests with:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@FixMethodOrder(value = MethodSorters.NAME_ASCENDING)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27192813,"reputation":49,"user_id":20726233,"display_name":"Luca Rosato"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675642553,"creation_date":1675642553,"answer_id":75356402,"question_id":70452633,"body_markdown":"If your IDE is IntelliJ, check if you&#39;ve set the directory as a Test.\r\n\r\nHere this directory isn&#39;t marked as a Test Source, so the icon color is gray, and the folders are fully filled.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the way to mark the directory as a Test Source.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow, the directory is marked a Test Source, changing the color, and the icon for the other folders, and now the IDE can recognise the tests inside the directory :)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mTNfj.png\r\n  [2]: https://i.stack.imgur.com/LGHTC.png\r\n  [3]: https://i.stack.imgur.com/RCpnJ.png","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>If your IDE is IntelliJ, check if you've set the directory as a Test.</p>\n<p>Here this directory isn't marked as a Test Source, so the icon color is gray, and the folders are fully filled.</p>\n<p><a href=\"https://i.stack.imgur.com/mTNfj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTNfj.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the way to mark the directory as a Test Source.</p>\n<p><a href=\"https://i.stack.imgur.com/LGHTC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LGHTC.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, the directory is marked a Test Source, changing the color, and the icon for the other folders, and now the IDE can recognise the tests inside the directory :)</p>\n<p><a href=\"https://i.stack.imgur.com/RCpnJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RCpnJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28352271,"reputation":1,"user_id":21683555,"display_name":"Sadegh Firoozandeh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681925164,"creation_date":1681924660,"answer_id":76057222,"question_id":70452633,"body_markdown":"All of such issues had magically gone away after I did the following:\r\n\r\n   1- open the &quot;Maven&quot; tool window in IntelliJ IDEA.\r\n   2- execute &quot;test&quot;.\r\n   3- then try again to run your unit tests.\r\n\r\nIt started to work for me.\r\n\r\n","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>All of such issues had magically gone away after I did the following:</p>\n<p>1- open the &quot;Maven&quot; tool window in IntelliJ IDEA.\n2- execute &quot;test&quot;.\n3- then try again to run your unit tests.</p>\n<p>It started to work for me.</p>\n"},{"tags":[],"owner":{"account_id":1651308,"reputation":305,"user_id":1521866,"display_name":"hazartilirot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682778972,"creation_date":1682778972,"answer_id":76136778,"question_id":70452633,"body_markdown":"I initially used `mvn clean package` - it worked fine. But then, when I run it with `mvn verify` - it failed.\r\n\r\nJava 20\r\nJunit jupiter api 5.9.2\r\n\r\nThe solutions is simple, I have renamed the file from **ClassNameIntegrationTest.java** to **ClassNameIT.java** it did the trick!\r\n","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>I initially used <code>mvn clean package</code> - it worked fine. But then, when I run it with <code>mvn verify</code> - it failed.</p>\n<p>Java 20\nJunit jupiter api 5.9.2</p>\n<p>The solutions is simple, I have renamed the file from <strong>ClassNameIntegrationTest.java</strong> to <strong>ClassNameIT.java</strong> it did the trick!</p>\n"},{"tags":[],"owner":{"account_id":19314408,"reputation":1,"user_id":14119496,"display_name":"Petr Kireev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683059298,"creation_date":1683059298,"answer_id":76158620,"question_id":70452633,"body_markdown":"If you didn&#39;t configure a database of your application, remove the `@AutoConfigureTestDatabase` annotation from test classes as it can throw the exception.\r\nAs you remove it, you don&#39;t have to downgrade JUnit to version 5.7.0.","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>If you didn't configure a database of your application, remove the <code>@AutoConfigureTestDatabase</code> annotation from test classes as it can throw the exception.\nAs you remove it, you don't have to downgrade JUnit to version 5.7.0.</p>\n"},{"tags":[],"owner":{"account_id":7502058,"reputation":669,"user_id":9138097,"accept_rate":0,"display_name":"Aziz Zoaib"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689163773,"creation_date":1689163773,"answer_id":76670374,"question_id":70452633,"body_markdown":"End up getting ```java.lang.NoSuchMethodError``` error so found [this][1] link to solve the issue.\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-nosuchmethoderror","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>End up getting <code>java.lang.NoSuchMethodError</code> error so found <a href=\"https://www.baeldung.com/junit-nosuchmethoderror\" rel=\"nofollow noreferrer\">this</a> link to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":5584562,"reputation":614,"user_id":4425400,"accept_rate":89,"display_name":"Hodglem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698943126,"creation_date":1698943126,"answer_id":77411398,"question_id":70452633,"body_markdown":"Was building a new Springboot 3.x app and saw this. I had this trouble because I was adding Junit Jupiter dependencies manually as opposed to using the Springboot 3.x testing starter dependency. Removing all of the manual JUnit Jupiter dependencies (api, engine, paramters etc) and adding :\r\n\r\n      // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test\r\n      testImplementation &#39;org.springframework.boot:spring-boot-starter-test:3.1.5&#39;\r\nresolved the issue for me. I was then able to execute `gradle myproject:test` and the tests were discovered and run. This also allowed Eclipse to execute the test by right clicking on the test class and clicking &quot;Run As&quot; and then selecting Junit Test. Hope it saves someone time.","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>Was building a new Springboot 3.x app and saw this. I had this trouble because I was adding Junit Jupiter dependencies manually as opposed to using the Springboot 3.x testing starter dependency. Removing all of the manual JUnit Jupiter dependencies (api, engine, paramters etc) and adding :</p>\n<pre><code>  // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test\n  testImplementation 'org.springframework.boot:spring-boot-starter-test:3.1.5'\n</code></pre>\n<p>resolved the issue for me. I was then able to execute <code>gradle myproject:test</code> and the tests were discovered and run. This also allowed Eclipse to execute the test by right clicking on the test class and clicking &quot;Run As&quot; and then selecting Junit Test. Hope it saves someone time.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114253,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":70503467,"answer_count":22,"score":51,"last_activity_date":1698943126,"creation_date":1640192711,"question_id":70452633,"body_markdown":"I wan to implement a Junit 5 test into Gradle project. I tried this:\r\n\r\n***Gradle configuration:***\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.5&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;test&#39;\r\n    version = &#39;0.0.1&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2020.0.4&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n        ...............\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n***Junit test:***\r\n\r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Timeout;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class GeneratePdf {\r\n    \r\n        @DisplayName(&quot;Test MessageService.get()&quot;)\r\n        @Test\r\n        @Timeout(value = 60, unit = TimeUnit.SECONDS)\r\n        public void generatePdfFileTes() throws InterruptedException\r\n        {\r\n            System.out.println(&quot;test!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nWhen I run the code I get error:\r\n\r\n    Internal Error occurred.\r\n    org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:134)\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:80)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.junit.platform.commons.JUnitException: MethodSelector [className = &#39;org.merchant.poc.GeneratePdf&#39;, methodName = &#39;generatePdfFileTes&#39;, methodParameterTypes = &#39;&#39;] resolution failed\r\n    \tat org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\r\n    \tat org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:46)\r\n    \tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\r\n    \t... 13 more\r\n    Caused by: org.junit.platform.commons.PreconditionViolationException: Could not load class with name: org.merchant.poc.GeneratePdf\r\n    \tat org.junit.platform.engine.discovery.MethodSelector.lambda$lazyLoadJavaClass$0(MethodSelector.java:157)\r\n    \tat org.junit.platform.commons.function.Try$Failure.getOrThrow(Try.java:335)\r\n    \tat org.junit.platform.engine.discovery.MethodSelector.lazyLoadJavaClass(MethodSelector.java:156)\r\n    \tat org.junit.platform.engine.discovery.MethodSelector.getJavaClass(MethodSelector.java:135)\r\n    \tat org.junit.jupiter.engine.discovery.MethodSelectorResolver.resolve(MethodSelectorResolver.java:73)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:146)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\r\n    \tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\r\n    \t... 18 more\r\n    Caused by: java.lang.ClassNotFoundException: org.merchant.poc.GeneratePdf\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.lambda$tryToLoadClass$9(ReflectionUtils.java:829)\r\n    \tat org.junit.platform.commons.function.Try.lambda$call$0(Try.java:57)\r\n    \tat org.junit.platform.commons.function.Try.of(Try.java:93)\r\n    \tat org.junit.platform.commons.function.Try.call(Try.java:57)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(ReflectionUtils.java:792)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(ReflectionUtils.java:748)\r\n    \t... 34 more\r\n\r\nDo you know how this issue can be fixed?\r\n\r\n***EDIT:***\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class InvoiceTests {\r\n    \r\n        @Test\r\n        public void generateTest()\r\n        {\r\n            System.out.println(&quot;test!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nI tried this but again it&#39;s not working. \r\n\r\n","title":"org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests","body":"<p>I wan to implement a Junit 5 test into Gradle project. I tried this:</p>\n<p><em><strong>Gradle configuration:</strong></em></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.5'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'test'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2020.0.4&quot;)\n}\n\ndependencies {\n    ...............\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><em><strong>Junit test:</strong></em></p>\n<pre><code>import org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Timeout;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class GeneratePdf {\n\n    @DisplayName(&quot;Test MessageService.get()&quot;)\n    @Test\n    @Timeout(value = 60, unit = TimeUnit.SECONDS)\n    public void generatePdfFileTes() throws InterruptedException\n    {\n        System.out.println(&quot;test!&quot;);\n    }\n\n}\n</code></pre>\n<p>When I run the code I get error:</p>\n<pre><code>Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:134)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:80)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.junit.platform.commons.JUnitException: MethodSelector [className = 'org.merchant.poc.GeneratePdf', methodName = 'generatePdfFileTes', methodParameterTypes = ''] resolution failed\n    at org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\n    at org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:46)\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\n    ... 13 more\nCaused by: org.junit.platform.commons.PreconditionViolationException: Could not load class with name: org.merchant.poc.GeneratePdf\n    at org.junit.platform.engine.discovery.MethodSelector.lambda$lazyLoadJavaClass$0(MethodSelector.java:157)\n    at org.junit.platform.commons.function.Try$Failure.getOrThrow(Try.java:335)\n    at org.junit.platform.engine.discovery.MethodSelector.lazyLoadJavaClass(MethodSelector.java:156)\n    at org.junit.platform.engine.discovery.MethodSelector.getJavaClass(MethodSelector.java:135)\n    at org.junit.jupiter.engine.discovery.MethodSelectorResolver.resolve(MethodSelectorResolver.java:73)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:146)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\n    ... 18 more\nCaused by: java.lang.ClassNotFoundException: org.merchant.poc.GeneratePdf\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.junit.platform.commons.util.ReflectionUtils.lambda$tryToLoadClass$9(ReflectionUtils.java:829)\n    at org.junit.platform.commons.function.Try.lambda$call$0(Try.java:57)\n    at org.junit.platform.commons.function.Try.of(Try.java:93)\n    at org.junit.platform.commons.function.Try.call(Try.java:57)\n    at org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(ReflectionUtils.java:792)\n    at org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(ReflectionUtils.java:748)\n    ... 34 more\n</code></pre>\n<p>Do you know how this issue can be fixed?</p>\n<p><em><strong>EDIT:</strong></em></p>\n<pre><code>import org.junit.jupiter.api.Test;\n\npublic class InvoiceTests {\n\n    @Test\n    public void generateTest()\n    {\n        System.out.println(&quot;test!&quot;);\n    }\n\n}\n</code></pre>\n<p>I tried this but again it's not working.</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1381487031,"post_id":19315768,"comment_id":28608792,"body_markdown":"I&#39;ve voted to close as primarily opinion-based. The &quot;easiest&quot; route to solving a problem is subjective. If instead you meant &quot;*I don&#39;t know how to just change the day/month/year can you show me?*&quot;, then edit your question to make that clear. In that case, please also include your best effort.","body":"I&#39;ve voted to close as primarily opinion-based. The &quot;easiest&quot; route to solving a problem is subjective. If instead you meant &quot;<i>I don&#39;t know how to just change the day/month/year can you show me?</i>&quot;, then edit your question to make that clear. In that case, please also include your best effort."},{"owner":{"account_id":2273086,"reputation":6968,"user_id":2000012,"accept_rate":80,"display_name":"Mike Baxter"},"score":2,"creation_date":1381487416,"post_id":19315768,"comment_id":28608999,"body_markdown":"`Easiest` changed to `Simplest`, which is far less subjective","body":"<code>Easiest</code> changed to <code>Simplest</code>, which is far less subjective"},{"owner":{"account_id":2273086,"reputation":6968,"user_id":2000012,"accept_rate":80,"display_name":"Mike Baxter"},"score":0,"creation_date":1381487707,"post_id":19315768,"comment_id":28609122,"body_markdown":"To clarify, I know a couple of ways of doing this already, but they are verbose and clunky. I am looking to see if anyone has a really stream-lined approach available.","body":"To clarify, I know a couple of ways of doing this already, but they are verbose and clunky. I am looking to see if anyone has a really stream-lined approach available."},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":0,"creation_date":1381527264,"post_id":19315768,"comment_id":28630228,"body_markdown":"&#39;Simplest&#39; isn&#39;t any better. If you have tried several ways, then show us and point out the awkward parts and ask how the task can be accomplished without those awkward parts.","body":"&#39;Simplest&#39; isn&#39;t any better. If you have tried several ways, then show us and point out the awkward parts and ask how the task can be accomplished without those awkward parts."},{"owner":{"account_id":2273086,"reputation":6968,"user_id":2000012,"accept_rate":80,"display_name":"Mike Baxter"},"score":0,"creation_date":1381748045,"post_id":19315768,"comment_id":28683158,"body_markdown":"@NathanielFord I could change it to `using the least lines of code`? I think this is a pedantic reason to close the question.","body":"@NathanielFord I could change it to <code>using the least lines of code</code>? I think this is a pedantic reason to close the question."},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":0,"creation_date":1381767757,"post_id":19315768,"comment_id":28694109,"body_markdown":"You are asking for an opinion whichever of those ways you put it. Please note that you&#39;re failing the actual test of a good question; showing that you put legwork in, have some understanding of whats going on but need help over a particular hurdle. Here you are simply asking an open-ended question and asking others to write your code for you. This is why the question was put on hold. (Note: saying you know a couple of ways but not bothering to show them does not count.)","body":"You are asking for an opinion whichever of those ways you put it. Please note that you&#39;re failing the actual test of a good question; showing that you put legwork in, have some understanding of whats going on but need help over a particular hurdle. Here you are simply asking an open-ended question and asking others to write your code for you. This is why the question was put on hold. (Note: saying you know a couple of ways but not bothering to show them does not count.)"},{"owner":{"account_id":2273086,"reputation":6968,"user_id":2000012,"accept_rate":80,"display_name":"Mike Baxter"},"score":2,"creation_date":1381827313,"post_id":19315768,"comment_id":28715112,"body_markdown":"@NathanielFord It&#39;s arguable that most questions on this site warrant some sort of opinion in some form or another. Regardless, I have improved my question. It&#39;s strange, I see lots of other questions that make even less of an attempt to fit the &#39;good question criteria&#39;, but get hundreds of up-votes simply because the question is a common problem. If the criteria for good questions is not entirely maintained and enforced across the whole site then it sets very bad examples for others.","body":"@NathanielFord It&#39;s arguable that most questions on this site warrant some sort of opinion in some form or another. Regardless, I have improved my question. It&#39;s strange, I see lots of other questions that make even less of an attempt to fit the &#39;good question criteria&#39;, but get hundreds of up-votes simply because the question is a common problem. If the criteria for good questions is not entirely maintained and enforced across the whole site then it sets very bad examples for others."},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":0,"creation_date":1381856026,"post_id":19315768,"comment_id":28732349,"body_markdown":"You can bring your concerns to http://meta.stackoverflow.com/ but I will guarantee they&#39;ve been addressed already. If a question is bad, you should vote to close or flag as appropriate; I assure you there are many questions that have high popularity which are still closed.","body":"You can bring your concerns to <a href=\"http://meta.stackoverflow.com/\">meta.stackoverflow.com</a> but I will guarantee they&#39;ve been addressed already. If a question is bad, you should vote to close or flag as appropriate; I assure you there are many questions that have high popularity which are still closed."}],"answers":[{"tags":[],"owner":{"account_id":1109314,"reputation":1203,"user_id":1100084,"display_name":"Denis"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1381572740,"creation_date":1381487604,"answer_id":19316000,"question_id":19315768,"body_markdown":"Is JodaTime a must? Basic way to do this is \r\n1. extract just time from timestamp.\r\n2. add this to just date\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nlong timestamp = System.currentTimeMillis(); //OK we have some timestamp\r\nlong justTime = timestamp % 1000 * 60 * 60 * 24;// just tiem contains just time part\r\n\r\n\r\nlong newTimestamp = getDateFromSomeSource();//now we have date from some source\r\njustNewDate = newTimestamp - (newTimestamp % 1000 * 60 * 60 * 24);//extract just date\r\n\r\nresult = justNewDate + justTime; \r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nSomething like this.","title":"Modify date without modifying time","body":"<p>Is JodaTime a must? Basic way to do this is \n1. extract just time from timestamp.\n2. add this to just date</p>\n\n<pre><code>\nlong timestamp = System.currentTimeMillis(); //OK we have some timestamp\nlong justTime = timestamp % 1000 * 60 * 60 * 24;// just tiem contains just time part\n\n\nlong newTimestamp = getDateFromSomeSource();//now we have date from some source\njustNewDate = newTimestamp - (newTimestamp % 1000 * 60 * 60 * 24);//extract just date\n\nresult = justNewDate + justTime; \n</code></pre>\n\n<p>Something like this.</p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382438063,"creation_date":1382438063,"answer_id":19515429,"question_id":19315768,"body_markdown":"use [withFields][1] like this:\r\n\r\n    new DateTime().withFields(new LocalDate(2000,1,1))\r\n\r\nThis will set all date time fields of the `DateTime` to those that are contained in the `LocalDate` - year, month and day in this case. This will work with any `ReadablePartial` implementation like `YearMonth` for example.\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/src-html/org/joda/time/DateTime.html#line.775","title":"Modify date without modifying time","body":"<p>use <a href=\"http://joda-time.sourceforge.net/apidocs/src-html/org/joda/time/DateTime.html#line.775\" rel=\"nofollow\">withFields</a> like this:</p>\n\n<pre><code>new DateTime().withFields(new LocalDate(2000,1,1))\n</code></pre>\n\n<p>This will set all date time fields of the <code>DateTime</code> to those that are contained in the <code>LocalDate</code> - year, month and day in this case. This will work with any <code>ReadablePartial</code> implementation like <code>YearMonth</code> for example.</p>\n"},{"tags":[],"owner":{"account_id":3295353,"reputation":4907,"user_id":2772755,"display_name":"Admit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698943001,"creation_date":1382624918,"answer_id":19568739,"question_id":19315768,"body_markdown":"You could do it like this\r\n\r\n    DateTime myDate = ...\r\n    myDate.withDate(desiredYear, desiredMonth, desiredDayOfMonth);\r\n\r\nJavaDoc is here: [DateTime.withDate(int year, int month, int dayOfMonth)][1]\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html#withDate%28int,%20int,%20int%29","title":"Modify date without modifying time","body":"<p>You could do it like this</p>\n<pre><code>DateTime myDate = ...\nmyDate.withDate(desiredYear, desiredMonth, desiredDayOfMonth);\n</code></pre>\n<p>JavaDoc is here: <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html#withDate%28int,%20int,%20int%29\" rel=\"nofollow noreferrer\">DateTime.withDate(int year, int month, int dayOfMonth)</a></p>\n"}],"owner":{"account_id":2273086,"reputation":6968,"user_id":2000012,"accept_rate":80,"display_name":"Mike Baxter"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":19568739,"answer_count":3,"score":6,"last_activity_date":1698943001,"creation_date":1381486880,"question_id":19315768,"body_markdown":"With `JodaTime`, without using the &#39;plus&#39; or &#39;minus&#39; functions and using the least lines of code, how can I set a new date without modifying the time?\r\n\r\nMy first attempt was to store the &#39;time&#39; parts of the `DateTime` in separate `int`s using `getHoursOfDay()` and `getMinutesOfHour()` etc - then create a new `DateTime` with the required date and set the hours, minutes, and seconds back again. But this method is pretty clunky, and I was wondering if there was a less verbose method for doing this - ideally with just one line of code.\r\n\r\nFor example:\r\n\r\n`22/05/2013 13:40:02` &gt;&gt;&gt;&gt; `30/08/2014 13:40:02`","title":"Modify date without modifying time","body":"<p>With <code>JodaTime</code>, without using the 'plus' or 'minus' functions and using the least lines of code, how can I set a new date without modifying the time?</p>\n\n<p>My first attempt was to store the 'time' parts of the <code>DateTime</code> in separate <code>int</code>s using <code>getHoursOfDay()</code> and <code>getMinutesOfHour()</code> etc - then create a new <code>DateTime</code> with the required date and set the hours, minutes, and seconds back again. But this method is pretty clunky, and I was wondering if there was a less verbose method for doing this - ideally with just one line of code.</p>\n\n<p>For example:</p>\n\n<p><code>22/05/2013 13:40:02</code> >>>> <code>30/08/2014 13:40:02</code></p>\n"},{"tags":["java","string","capitalize"],"comments":[{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":2,"creation_date":1286785577,"post_id":3904579,"comment_id":4160981,"body_markdown":"@Pontus - I disagree. For the input &quot;abcd&quot;, the OP wants the output &quot;Abcd&quot;. It seems pretty clear, although the question could have been better.","body":"@Pontus - I disagree. For the input &quot;abcd&quot;, the OP wants the output &quot;Abcd&quot;. It seems pretty clear, although the question could have been better."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1286787991,"post_id":3904579,"comment_id":4161296,"body_markdown":"http://stackoverflow.com/questions/1892765/capitalize-first-char-of-each-word-in-a-string-java","body":"<a href=\"http://stackoverflow.com/questions/1892765/capitalize-first-char-of-each-word-in-a-string-java\" title=\"capitalize first char of each word in a string java\">stackoverflow.com/questions/1892765/&hellip;</a>"},{"owner":{"account_id":12263224,"reputation":1170,"user_id":8950361,"display_name":"Divakar Rajesh"},"score":0,"creation_date":1545109250,"post_id":3904579,"comment_id":94501903,"body_markdown":"character is a primitive data type in Java. You cannot dereference a primitive data type with dot(.) operator.\nYou have to substring the first character by \nname.substring(0,1);","body":"character is a primitive data type in Java. You cannot dereference a primitive data type with dot(.) operator. You have to substring the first character by  name.substring(0,1);"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1609912510,"post_id":3904579,"comment_id":115966773,"body_markdown":"Warning: In Turkic Alphabet the lowcase character **i** have two different upcase-letters, depending of the word that is meant. See https://en.wikipedia.org/wiki/Dotted_and_dotless_I","body":"Warning: In Turkic Alphabet the lowcase character <b>i</b> have two different upcase-letters, depending of the word that is meant. See <a href=\"https://en.wikipedia.org/wiki/Dotted_and_dotless_I\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Dotted_and_dotless_I</a>"}],"answers":[{"tags":[],"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"down_vote_count":4,"up_vote_count":566,"is_accepted":false,"score":562,"last_activity_date":1436254651,"creation_date":1286785629,"answer_id":3904607,"question_id":3904579,"body_markdown":"    String str = &quot;java&quot;;\r\n    String cap = str.substring(0, 1).toUpperCase() + str.substring(1);\r\n    // cap = &quot;Java&quot;\r\n\r\nWith your example:\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t// Actually use the Reader\r\n\t\tString name = br.readLine();\r\n\t\t// Don&#39;t mistake String object with a Character object\r\n\t\tString s1 = name.substring(0, 1).toUpperCase();\r\n\t\tString nameCapitalized = s1 + name.substring(1);\r\n\t\tSystem.out.println(nameCapitalized);\r\n\t}","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>String str = \"java\";\nString cap = str.substring(0, 1).toUpperCase() + str.substring(1);\n// cap = \"Java\"\n</code></pre>\n\n<p>With your example:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    // Actually use the Reader\n    String name = br.readLine();\n    // Don't mistake String object with a Character object\n    String s1 = name.substring(0, 1).toUpperCase();\n    String nameCapitalized = s1 + name.substring(1);\n    System.out.println(nameCapitalized);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":338,"is_accepted":false,"score":336,"last_activity_date":1395601426,"creation_date":1286785777,"answer_id":3904617,"question_id":3904579,"body_markdown":"[`StringUtils.capitalize(..)`][1]  from [commons-lang][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/StringUtils.html#capitalize%28java.lang.String%29\r\n  [2]: http://commons.apache.org/lang/","title":"How to capitalize the first letter of a String in Java?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/StringUtils.html#capitalize%28java.lang.String%29\" rel=\"noreferrer\"><code>StringUtils.capitalize(..)</code></a>  from <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">commons-lang</a></p>\n"},{"tags":[],"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1395635646,"creation_date":1286785949,"answer_id":3904634,"question_id":3904579,"body_markdown":"[`WordUtils.capitalize(java.lang.String)`][1] from [Apache Commons][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/WordUtils.html#capitalize%28java.lang.String%29\r\n  [2]: http://commons.apache.org/lang/","title":"How to capitalize the first letter of a String in Java?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/WordUtils.html#capitalize%28java.lang.String%29\" rel=\"noreferrer\"><code>WordUtils.capitalize(java.lang.String)</code></a> from <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons</a>.</p>\n"},{"tags":[],"owner":{"account_id":26588,"reputation":11301,"user_id":69340,"accept_rate":78,"display_name":"Suresh Kumar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1434447460,"creation_date":1286785994,"answer_id":3904640,"question_id":3904579,"body_markdown":"Use [`WordUtils.capitalize(str)`][1].\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/WordUtils.html#capitalize(java.lang.String)","title":"How to capitalize the first letter of a String in Java?","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/WordUtils.html#capitalize(java.lang.String)\" rel=\"noreferrer\"><code>WordUtils.capitalize(str)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1286787392,"creation_date":1286786337,"answer_id":3904679,"question_id":3904579,"body_markdown":"What you want to do is probably this:\r\n\r\n    s1 = name.substring(0, 1).toUpperCase() + name.substring(1);\r\n\r\n(converts first char to uppercase and adds the remainder of the original string)\r\n\r\nAlso, you create an input stream reader, but never read any line. Thus `name` will always be `null`.\r\n\r\nThis should work:\r\n\r\n    BufferedReader br = new InputstreamReader(System.in);\r\n    String name = br.readLine();\r\n    String s1 = name.substring(0, 1).toUpperCase() + name.substring(1);\r\n   \r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>What you want to do is probably this:</p>\n\n<pre><code>s1 = name.substring(0, 1).toUpperCase() + name.substring(1);\n</code></pre>\n\n<p>(converts first char to uppercase and adds the remainder of the original string)</p>\n\n<p>Also, you create an input stream reader, but never read any line. Thus <code>name</code> will always be <code>null</code>.</p>\n\n<p>This should work:</p>\n\n<pre><code>BufferedReader br = new InputstreamReader(System.in);\nString name = br.readLine();\nString s1 = name.substring(0, 1).toUpperCase() + name.substring(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61908,"reputation":8712,"user_id":184234,"accept_rate":67,"display_name":"jerjer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1698942956,"creation_date":1286786651,"answer_id":3904709,"question_id":3904579,"body_markdown":"You can also try this:\r\n\r\n    String s1 = br.readLine();\r\n    char[] chars = s1.toCharArray();\r\n    chars[0] = Character.toUpperCase(chars[0]);\r\n    s1= new String(chars);\r\n    System.out.println(s1);\r\n\r\nThis is better (optimized) than with using substring. (but not to worry on small string)","title":"How to capitalize the first letter of a String in Java?","body":"<p>You can also try this:</p>\n<pre><code>String s1 = br.readLine();\nchar[] chars = s1.toCharArray();\nchars[0] = Character.toUpperCase(chars[0]);\ns1= new String(chars);\nSystem.out.println(s1);\n</code></pre>\n<p>This is better (optimized) than with using substring. (but not to worry on small string)</p>\n"},{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434444847,"creation_date":1286787203,"answer_id":3904765,"question_id":3904579,"body_markdown":"This is just to show you, that you were not that wrong.\r\n\r\n    BufferedReader br = new InputstreamReader(System.in);\r\n    // Assuming name is not blank\r\n    String name = br.readLine(); \r\n\r\n    //No more error telling that you cant convert char to string\r\n    String s1 = (&quot;&quot;+name.charAt(0)).toUppercase());\r\n    // Or, as Carlos prefers. See the comments to this post.\r\n    String s1 = Character.toString(name.charAt(0)).toUppercase());\r\n\r\n    System.out.println(s1+name.substring(1));\r\n\r\n\r\n**Note:** *This is not at all the best way to do it. This is just to show the OP that it can be done using `charAt()` as well. ;)*\r\n\r\n\r\n  [1]: http://stackoverflow.com/users/85421/carlos-heuberger","title":"How to capitalize the first letter of a String in Java?","body":"<p>This is just to show you, that you were not that wrong.</p>\n\n<pre><code>BufferedReader br = new InputstreamReader(System.in);\n// Assuming name is not blank\nString name = br.readLine(); \n\n//No more error telling that you cant convert char to string\nString s1 = (\"\"+name.charAt(0)).toUppercase());\n// Or, as Carlos prefers. See the comments to this post.\nString s1 = Character.toString(name.charAt(0)).toUppercase());\n\nSystem.out.println(s1+name.substring(1));\n</code></pre>\n\n<p><strong>Note:</strong> <em>This is not at all the best way to do it. This is just to show the OP that it can be done using <code>charAt()</code> as well. ;)</em></p>\n"},{"tags":[],"owner":{"account_id":3043841,"reputation":4318,"user_id":2598115,"accept_rate":74,"display_name":"JDJ"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1402853316,"creation_date":1402852041,"answer_id":24232037,"question_id":3904579,"body_markdown":"You can use `substring()` to do this.  \r\n\r\nBut there are two different cases:\r\n\r\n**Case 1**\r\n\r\nIf the `String` you are capitalizing is meant to be human-readable, you should also specify the default locale:\r\n\r\n    String firstLetterCapitalized = \r\n        myString.substring(0, 1).toUpperCase(Locale.getDefault()) + myString.substring(1);\r\n\r\n**Case 2**\r\n\r\nIf the `String` you are capitalizing is meant to be machine-readable, avoid using `Locale.getDefault()` because the string that is returned will be inconsistent across different regions, and in this case always specify the same locale (for example, `toUpperCase(Locale.ENGLISH)`).  This will ensure that the strings you are using for internal processing are consistent, which will help you avoid difficult-to-find bugs.\r\n\r\nNote: You do not have to specify `Locale.getDefault()` for `toLowerCase()`, as this is done automatically.","title":"How to capitalize the first letter of a String in Java?","body":"<p>You can use <code>substring()</code> to do this.  </p>\n\n<p>But there are two different cases:</p>\n\n<p><strong>Case 1</strong></p>\n\n<p>If the <code>String</code> you are capitalizing is meant to be human-readable, you should also specify the default locale:</p>\n\n<pre><code>String firstLetterCapitalized = \n    myString.substring(0, 1).toUpperCase(Locale.getDefault()) + myString.substring(1);\n</code></pre>\n\n<p><strong>Case 2</strong></p>\n\n<p>If the <code>String</code> you are capitalizing is meant to be machine-readable, avoid using <code>Locale.getDefault()</code> because the string that is returned will be inconsistent across different regions, and in this case always specify the same locale (for example, <code>toUpperCase(Locale.ENGLISH)</code>).  This will ensure that the strings you are using for internal processing are consistent, which will help you avoid difficult-to-find bugs.</p>\n\n<p>Note: You do not have to specify <code>Locale.getDefault()</code> for <code>toLowerCase()</code>, as this is done automatically.</p>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":1,"up_vote_count":146,"is_accepted":false,"score":145,"last_activity_date":1415227896,"creation_date":1415227896,"answer_id":26768694,"question_id":3904579,"body_markdown":"### The shorter/faster version code to capitalize the first letter of a String is:\n\n    String name  = &quot;stackoverflow&quot;; \n    name = name.substring(0,1).toUpperCase() + name.substring(1).toLowerCase();\n\nthe value of `name` is `&quot;Stackoverflow&quot;`\n","title":"How to capitalize the first letter of a String in Java?","body":"<h3>The shorter/faster version code to capitalize the first letter of a String is:</h3>\n<pre><code>String name  = &quot;stackoverflow&quot;; \nname = name.substring(0,1).toUpperCase() + name.substring(1).toLowerCase();\n</code></pre>\n<p>the value of <code>name</code> is <code>&quot;Stackoverflow&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":4744455,"reputation":2719,"user_id":3836137,"accept_rate":40,"display_name":"Ameen Maheen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1698942982,"creation_date":1436245901,"answer_id":31260192,"question_id":3904579,"body_markdown":"try this one\r\n\r\nWhat this method does is that, Consider the word &quot;hello world&quot; this method turn it into &quot;Hello World&quot; capitalize the beginning of each word .\r\n\r\n    private String capitalizer(String word){\r\n\r\n           String[] words = word.split(&quot; &quot;);\r\n           StringBuilder sb = new StringBuilder();\r\n           if (words[0].length() &gt; 0) {\r\n               sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\r\n               for (int i = 1; i &lt; words.length; i++) {\r\n                   sb.append(&quot; &quot;);\r\n                   sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\r\n               }\r\n           }\r\n           return  sb.toString();\r\n\r\n       }","title":"How to capitalize the first letter of a String in Java?","body":"<p>try this one</p>\n<p>What this method does is that, Consider the word &quot;hello world&quot; this method turn it into &quot;Hello World&quot; capitalize the beginning of each word .</p>\n<pre><code>private String capitalizer(String word){\n\n       String[] words = word.split(&quot; &quot;);\n       StringBuilder sb = new StringBuilder();\n       if (words[0].length() &gt; 0) {\n           sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\n           for (int i = 1; i &lt; words.length; i++) {\n               sb.append(&quot; &quot;);\n               sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\n           }\n       }\n       return  sb.toString();\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6591469,"reputation":349,"user_id":5092473,"display_name":"Mohamed Abdullah J"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438332729,"creation_date":1438327444,"answer_id":31740395,"question_id":3904579,"body_markdown":"This will work\r\n\r\n    char[] array = value.toCharArray();\r\n\r\n    array[0] = Character.toUpperCase(array[0]);\r\n\r\n    String result = new String(array);","title":"How to capitalize the first letter of a String in Java?","body":"<p>This will work</p>\n\n<pre><code>char[] array = value.toCharArray();\n\narray[0] = Character.toUpperCase(array[0]);\n\nString result = new String(array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2809371,"reputation":9660,"user_id":2415921,"accept_rate":37,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440683361,"creation_date":1440683361,"answer_id":32251200,"question_id":3904579,"body_markdown":"**In Android Studio**\r\n\r\nAdd this dependency to your `build.gradle (Module: app)`\r\n\r\n    dependencies {\r\n        ...\r\n        compile &#39;org.apache.commons:commons-lang3:3.1&#39;\r\n        ...\r\n    }\r\n\r\nNow you can use\r\n\r\n    String string = &quot;STRING WITH ALL CAPPS AND SPACES&quot;;\r\n\r\n    string = string.toLowerCase(); // Make all lowercase if you have caps\r\n\r\n    someTextView.setText(WordUtils.capitalize(string));","title":"How to capitalize the first letter of a String in Java?","body":"<p><strong>In Android Studio</strong></p>\n\n<p>Add this dependency to your <code>build.gradle (Module: app)</code></p>\n\n<pre><code>dependencies {\n    ...\n    compile 'org.apache.commons:commons-lang3:3.1'\n    ...\n}\n</code></pre>\n\n<p>Now you can use</p>\n\n<pre><code>String string = \"STRING WITH ALL CAPPS AND SPACES\";\n\nstring = string.toLowerCase(); // Make all lowercase if you have caps\n\nsomeTextView.setText(WordUtils.capitalize(string));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1658844,"reputation":356,"user_id":1527572,"accept_rate":0,"display_name":"Delorean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448304020,"creation_date":1448304020,"answer_id":33878218,"question_id":3904579,"body_markdown":"Following example also capitalizes words after special characters such as [/-]\r\n\r\n      public static String capitalize(String text) {\r\n        char[] stringArray = text.trim().toCharArray();\r\n        boolean wordStarted = false;\r\n        for( int i = 0; i &lt; stringArray.length; i++) {\r\n          char ch = stringArray[i];\r\n          if ((ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) || (ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;Z&#39;) || ch == &#39;\\&#39;&#39;) {\r\n            if( !wordStarted ) {\r\n              stringArray[i] = Character.toUpperCase(stringArray[i]);\r\n              wordStarted = true;\r\n            } \r\n          } else {\r\n            wordStarted = false;\r\n          }\r\n        }\r\n        return new String(stringArray);\r\n      }\r\n\r\n    Example:\r\n    capitalize(&quot;that&#39;s a beautiful/wonderful life we have.We really-do&quot;)\r\n    \r\n    Output:\r\n    That&#39;s A Beautiful/Wonderful Life We Have.We Really-Do","title":"How to capitalize the first letter of a String in Java?","body":"<p>Following example also capitalizes words after special characters such as [/-]</p>\n\n<pre><code>  public static String capitalize(String text) {\n    char[] stringArray = text.trim().toCharArray();\n    boolean wordStarted = false;\n    for( int i = 0; i &lt; stringArray.length; i++) {\n      char ch = stringArray[i];\n      if ((ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') || (ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') || ch == '\\'') {\n        if( !wordStarted ) {\n          stringArray[i] = Character.toUpperCase(stringArray[i]);\n          wordStarted = true;\n        } \n      } else {\n        wordStarted = false;\n      }\n    }\n    return new String(stringArray);\n  }\n\nExample:\ncapitalize(\"that's a beautiful/wonderful life we have.We really-do\")\n\nOutput:\nThat's A Beautiful/Wonderful Life We Have.We Really-Do\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7465768,"reputation":19,"user_id":5675400,"display_name":"Nasser Al kaabi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1450032866,"creation_date":1450032866,"answer_id":34254973,"question_id":3904579,"body_markdown":"thanks I have read some of the comments and I came with the following \r\n\r\n\r\n\tpublic static void main(String args[]) \r\n\t{\r\n\tString myName = &quot;nasser&quot;;\r\n\tString newName = myName.toUpperCase().charAt(0) +  myName.substring(1);\r\n\tSystem.out.println(newName );\r\n\t}\r\n\r\n\r\nI hope its helps \r\ngood luck ","title":"How to capitalize the first letter of a String in Java?","body":"<p>thanks I have read some of the comments and I came with the following </p>\n\n<pre><code>public static void main(String args[]) \n{\nString myName = \"nasser\";\nString newName = myName.toUpperCase().charAt(0) +  myName.substring(1);\nSystem.out.println(newName );\n}\n</code></pre>\n\n<p>I hope its helps \ngood luck </p>\n"},{"tags":[],"owner":{"account_id":7467735,"reputation":21,"user_id":5676631,"display_name":"Manoj Ekanayaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450072036,"creation_date":1450072036,"answer_id":34260547,"question_id":3904579,"body_markdown":"Have a look at ACL WordUtils.\r\n\r\nWordUtils.capitalize(&quot;your string&quot;) == &quot;Your String&quot;\r\n\r\nhttps://stackoverflow.com/questions/1149855/how-to-upper-case-every-first-letter-of-word-in-a-string\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Have a look at ACL WordUtils.</p>\n\n<p>WordUtils.capitalize(\"your string\") == \"Your String\"</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1149855/how-to-upper-case-every-first-letter-of-word-in-a-string\">How to upper case every first letter of word in a string?</a></p>\n"},{"tags":[],"owner":{"display_name":"user5150135"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457722180,"creation_date":1457722180,"answer_id":35947740,"question_id":3904579,"body_markdown":"You can use the following code:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tcapitalizeFirstLetter(&quot;java&quot;);\r\n\t\tcapitalizeFirstLetter(&quot;java developer&quot;);\r\n\t}\r\n\r\n\tpublic static void capitalizeFirstLetter(String text) {\r\n\r\n\t\tStringBuilder str = new StringBuilder();\r\n\r\n\t\tString[] tokens = text.split(&quot;\\\\s&quot;);// Can be space,comma or hyphen\r\n\r\n\t\tfor (String token : tokens) {\r\n\t\t\tstr.append(Character.toUpperCase(token.charAt(0))).append(token.substring(1)).append(&quot; &quot;);\r\n\t\t}\r\n\t\tstr.toString().trim(); // Trim trailing space\r\n\r\n\t\tSystem.out.println(str);\r\n\r\n\t}","title":"How to capitalize the first letter of a String in Java?","body":"<p>You can use the following code:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    capitalizeFirstLetter(\"java\");\n    capitalizeFirstLetter(\"java developer\");\n}\n\npublic static void capitalizeFirstLetter(String text) {\n\n    StringBuilder str = new StringBuilder();\n\n    String[] tokens = text.split(\"\\\\s\");// Can be space,comma or hyphen\n\n    for (String token : tokens) {\n        str.append(Character.toUpperCase(token.charAt(0))).append(token.substring(1)).append(\" \");\n    }\n    str.toString().trim(); // Trim trailing space\n\n    System.out.println(str);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5078661,"reputation":1,"user_id":4075401,"display_name":"Raphael Moraes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460662844,"creation_date":1460662844,"answer_id":36632472,"question_id":3904579,"body_markdown":"The answer from Ameen Mahheen is good but if we have some string with double space, like &quot;hello  world&quot; then sb.append gets IndexOutOfBounds Exception. Right thing to do is teste before this line, doing:\r\n\r\n    \t\r\n\r\n    private String capitalizer(String word){\r\n            String[] words = word.split(&quot; &quot;);\r\n            StringBuilder sb = new StringBuilder();\r\n            if (words[0].length() &gt; 0) {\r\n                sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\r\n                for (int i = 1; i &lt; words.length; i++) {\r\n                    sb.append(&quot; &quot;);\r\n                \tif (words[i].length() &gt; 0) sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\r\n                }\r\n            }\r\n            return  sb.toString();\r\n        }\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>The answer from Ameen Mahheen is good but if we have some string with double space, like \"hello  world\" then sb.append gets IndexOutOfBounds Exception. Right thing to do is teste before this line, doing:</p>\n\n<pre><code>private String capitalizer(String word){\n        String[] words = word.split(\" \");\n        StringBuilder sb = new StringBuilder();\n        if (words[0].length() &gt; 0) {\n            sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\n            for (int i = 1; i &lt; words.length; i++) {\n                sb.append(\" \");\n                if (words[i].length() &gt; 0) sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\n            }\n        }\n        return  sb.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201144,"reputation":43,"user_id":6172460,"display_name":"Caio Cesar Fantini"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1460994286,"creation_date":1460994286,"answer_id":36698655,"question_id":3904579,"body_markdown":"Try this, it worked for me.\r\n\r\n    public static String capitalizeName(String name) {\r\n        String fullName = &quot;&quot;;\r\n        String names[] = name.split(&quot; &quot;);\r\n        for (String n: names) {\r\n            fullName = fullName + n.substring(0, 1).toUpperCase() + n.toLowerCase().substring(1, n.length()) + &quot; &quot;;\r\n        }\r\n        return fullName;\r\n    }\r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Try this, it worked for me.</p>\n\n<pre><code>public static String capitalizeName(String name) {\n    String fullName = \"\";\n    String names[] = name.split(\" \");\n    for (String n: names) {\n        fullName = fullName + n.substring(0, 1).toUpperCase() + n.toLowerCase().substring(1, n.length()) + \" \";\n    }\n    return fullName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8306412,"reputation":552,"user_id":6243793,"accept_rate":94,"display_name":"Nooblhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462614255,"creation_date":1462614255,"answer_id":37086950,"question_id":3904579,"body_markdown":"Many of the answers are very helpful so I used them to create a method to turn any string to a title (first character capitalized):\r\n\r\n    static String toTitle (String s) {\r\n          String s1 = s.substring(0,1).toUpperCase();\r\n          String sTitle = s1 + s.substring(1);\r\n          return sTitle;\r\n     }\r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Many of the answers are very helpful so I used them to create a method to turn any string to a title (first character capitalized):</p>\n\n<pre><code>static String toTitle (String s) {\n      String s1 = s.substring(0,1).toUpperCase();\n      String sTitle = s1 + s.substring(1);\n      return sTitle;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7662245,"reputation":95,"user_id":5807153,"display_name":"AlexZeCoder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1698942937,"creation_date":1464968947,"answer_id":37618656,"question_id":3904579,"body_markdown":"Set the string to lower case, then set the first Letter to upper like this:\r\n    \r\n    userName = userName.toLowerCase();\r\n\r\nthen to capitalise the first letter:\r\n\r\n    userName = userName.substring(0, 1).toUpperCase() + userName.substring(1).toLowerCase();\r\n\r\nsubstring is just getting a piece of a larger string, then we are combining them  back together.","title":"How to capitalize the first letter of a String in Java?","body":"<p>Set the string to lower case, then set the first Letter to upper like this:</p>\n<pre><code>userName = userName.toLowerCase();\n</code></pre>\n<p>then to capitalise the first letter:</p>\n<pre><code>userName = userName.substring(0, 1).toUpperCase() + userName.substring(1).toLowerCase();\n</code></pre>\n<p>substring is just getting a piece of a larger string, then we are combining them  back together.</p>\n"},{"tags":[],"owner":{"account_id":8272438,"reputation":81,"user_id":6219734,"display_name":"Roman Gordeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466252077,"creation_date":1466252077,"answer_id":37896801,"question_id":3904579,"body_markdown":"You may try this\r\n\r\n    /**\r\n     * capitilizeFirst(null)  -&gt; &quot;&quot;\r\n     * capitilizeFirst(&quot;&quot;)    -&gt; &quot;&quot;\r\n     * capitilizeFirst(&quot;   &quot;) -&gt; &quot;&quot;\r\n     * capitilizeFirst(&quot; df&quot;) -&gt; &quot;Df&quot;\r\n     * capitilizeFirst(&quot;AS&quot;)  -&gt; &quot;As&quot;\r\n     *\r\n     * @param str input string\r\n     * @return String with the first letter capitalized\r\n     */\r\n    public String capitilizeFirst(String str)\r\n    {\r\n        // assumptions that input parameter is not null is legal, as we use this function in map chain\r\n        Function&lt;String, String&gt; capFirst = (String s) -&gt; {\r\n            String result = &quot;&quot;; // &lt;-- accumulator\r\n\r\n            try { result += s.substring(0, 1).toUpperCase(); }\r\n            catch (Throwable e) {}\r\n            try { result += s.substring(1).toLowerCase(); }\r\n            catch (Throwable e) {}\r\n\r\n            return result;\r\n        };\r\n\r\n        return Optional.ofNullable(str)\r\n                .map(String::trim)\r\n                .map(capFirst)\r\n                .orElse(&quot;&quot;);\r\n    }\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>You may try this</p>\n\n<pre><code>/**\n * capitilizeFirst(null)  -&gt; \"\"\n * capitilizeFirst(\"\")    -&gt; \"\"\n * capitilizeFirst(\"   \") -&gt; \"\"\n * capitilizeFirst(\" df\") -&gt; \"Df\"\n * capitilizeFirst(\"AS\")  -&gt; \"As\"\n *\n * @param str input string\n * @return String with the first letter capitalized\n */\npublic String capitilizeFirst(String str)\n{\n    // assumptions that input parameter is not null is legal, as we use this function in map chain\n    Function&lt;String, String&gt; capFirst = (String s) -&gt; {\n        String result = \"\"; // &lt;-- accumulator\n\n        try { result += s.substring(0, 1).toUpperCase(); }\n        catch (Throwable e) {}\n        try { result += s.substring(1).toLowerCase(); }\n        catch (Throwable e) {}\n\n        return result;\n    };\n\n    return Optional.ofNullable(str)\n            .map(String::trim)\n            .map(capFirst)\n            .orElse(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7819291,"reputation":1,"user_id":5912881,"display_name":"SANDEEP KIRWAI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479126794,"creation_date":1479126794,"answer_id":40588884,"question_id":3904579,"body_markdown":"You can use Class WordUtils.\r\n\r\nSuppose your String is &quot;current address&quot; then use \r\n\r\n****strong text**Wordutils.capitaliz(String);**\r\noutput : Current Address\r\n\r\nRefer: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/WordUtils.html\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>You can use Class WordUtils.</p>\n\n<p>Suppose your String is \"current address\" then use </p>\n\n<p>****strong text<strong>Wordutils.capitaliz(String);</strong>\noutput : Current Address</p>\n\n<p>Refer: <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/WordUtils.html\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/WordUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":6729486,"reputation":1,"user_id":5697907,"display_name":"Maahi bhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480754108,"creation_date":1480754108,"answer_id":40945843,"question_id":3904579,"body_markdown":"    class CapitalizeWords\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tString input =&quot;welcome to kashmiri geeks...&quot;;\r\n    \t\r\n    \t\tSystem.out.println(input);\r\n    \t\t\r\n    \t\tString[] str = input.split(&quot; &quot;);\r\n    \r\n    \t\tfor(int i=0; i&lt; str.length; i++)\r\n    \t\t{\r\n    \t\t\tstr[i] = (str[i]).substring(0,1).toUpperCase() + (str[i]).substring(1);\r\n    \t\t}\r\n    \r\n    \t\tfor(int i=0;i&lt;str.length;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print(str[i]+&quot; &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>class CapitalizeWords\n{\n    public static void main(String[] args) \n    {\n        String input =\"welcome to kashmiri geeks...\";\n\n        System.out.println(input);\n\n        String[] str = input.split(\" \");\n\n        for(int i=0; i&lt; str.length; i++)\n        {\n            str[i] = (str[i]).substring(0,1).toUpperCase() + (str[i]).substring(1);\n        }\n\n        for(int i=0;i&lt;str.length;i++)\n        {\n            System.out.print(str[i]+\" \");\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9324944,"reputation":21,"user_id":6922562,"display_name":"Doc Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482337821,"creation_date":1482336822,"answer_id":41267270,"question_id":3904579,"body_markdown":"\tpublic static String capitalizer(final String texto) {\r\n\r\n\t\t// split words\r\n\t\tString[] palavras = texto.split(&quot; &quot;);\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n        // list of word exceptions\r\n\t\tList&lt;String&gt; excessoes = new ArrayList&lt;String&gt;(Arrays.asList(&quot;de&quot;, &quot;da&quot;, &quot;das&quot;, &quot;do&quot;, &quot;dos&quot;, &quot;na&quot;, &quot;nas&quot;, &quot;no&quot;, &quot;nos&quot;, &quot;a&quot;, &quot;e&quot;, &quot;o&quot;, &quot;em&quot;, &quot;com&quot;));\r\n\r\n\t\tfor (String palavra : palavras) {\r\n\r\n\t\t\tif (excessoes.contains(palavra.toLowerCase()))\r\n\t\t\t\tsb.append(palavra.toLowerCase()).append(&quot; &quot;);\r\n\t\t\telse\r\n                sb.append(Character.toUpperCase(palavra.charAt(0))).append(palavra.substring(1).toLowerCase()).append(&quot; &quot;);\r\n\t\t}\r\n\t\treturn sb.toString().trim();\r\n\t}\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>public static String capitalizer(final String texto) {\n\n    // split words\n    String[] palavras = texto.split(\" \");\n    StringBuilder sb = new StringBuilder();\n\n    // list of word exceptions\n    List&lt;String&gt; excessoes = new ArrayList&lt;String&gt;(Arrays.asList(\"de\", \"da\", \"das\", \"do\", \"dos\", \"na\", \"nas\", \"no\", \"nos\", \"a\", \"e\", \"o\", \"em\", \"com\"));\n\n    for (String palavra : palavras) {\n\n        if (excessoes.contains(palavra.toLowerCase()))\n            sb.append(palavra.toLowerCase()).append(\" \");\n        else\n            sb.append(Character.toUpperCase(palavra.charAt(0))).append(palavra.substring(1).toLowerCase()).append(\" \");\n    }\n    return sb.toString().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9676271,"reputation":1339,"user_id":7179674,"accept_rate":83,"display_name":"David Navarro Astudillo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484145528,"creation_date":1484145528,"answer_id":41593705,"question_id":3904579,"body_markdown":"You can use the following code:\r\n\r\n    public static String capitalizeString(String string) {\r\n\r\n\t\tif (string == null || string.trim().isEmpty()) {\r\n\t\t\treturn string;\r\n\t\t}\r\n\t\tchar c[] = string.trim().toLowerCase().toCharArray();\r\n\t\tc[0] = Character.toUpperCase(c[0]);\r\n\r\n\t\treturn new String(c);\r\n\r\n\t}\r\n\r\nexample test with JUnit: \r\n\r\n    @Test\r\n\tpublic void capitalizeStringUpperCaseTest() {\r\n\r\n\t\tString string = &quot;HELLO WORLD  &quot;;\r\n\r\n\t\tstring = capitalizeString(string);\r\n\r\n\t\tassertThat(string, is(&quot;Hello world&quot;));\r\n\t}\r\n\r\n    @Test\r\n\tpublic void capitalizeStringLowerCaseTest() {\r\n\r\n\t\tString string = &quot;hello world  &quot;;\r\n\r\n\t\tstring = capitalizeString(string);\r\n\r\n\t\tassertThat(string, is(&quot;Hello world&quot;));\r\n\t}","title":"How to capitalize the first letter of a String in Java?","body":"<p>You can use the following code:</p>\n\n<pre><code>public static String capitalizeString(String string) {\n\n    if (string == null || string.trim().isEmpty()) {\n        return string;\n    }\n    char c[] = string.trim().toLowerCase().toCharArray();\n    c[0] = Character.toUpperCase(c[0]);\n\n    return new String(c);\n\n}\n</code></pre>\n\n<p>example test with JUnit: </p>\n\n<pre><code>@Test\npublic void capitalizeStringUpperCaseTest() {\n\n    String string = \"HELLO WORLD  \";\n\n    string = capitalizeString(string);\n\n    assertThat(string, is(\"Hello world\"));\n}\n\n@Test\npublic void capitalizeStringLowerCaseTest() {\n\n    String string = \"hello world  \";\n\n    string = capitalizeString(string);\n\n    assertThat(string, is(\"Hello world\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10031770,"reputation":527,"user_id":7417998,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645812170,"creation_date":1484383255,"answer_id":41648196,"question_id":3904579,"body_markdown":"You can use substrings for simple hacks ;).\r\n\r\n    String name;\r\n        \r\n    String s1 = name.substring(0, 1).toUpperCase() + name.substring(1, name.length());\r\n    \r\n    System.out.println(s1));","title":"How to capitalize the first letter of a String in Java?","body":"<p>You can use substrings for simple hacks ;).</p>\n<pre><code>String name;\n    \nString s1 = name.substring(0, 1).toUpperCase() + name.substring(1, name.length());\n\nSystem.out.println(s1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484816699,"creation_date":1484816699,"answer_id":41737694,"question_id":3904579,"body_markdown":"What about [WordUtils.capitalizeFully()][1]?\r\n\r\n    import org.apache.commons.lang3.text.WordUtils;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tfinal String str1 = &quot;HELLO WORLD&quot;;\r\n    \t\tSystem.out.println(capitalizeFirstLetter(str1)); // output: Hello World\r\n    \r\n    \t\tfinal String str2 = &quot;Hello WORLD&quot;;\r\n    \t\tSystem.out.println(capitalizeFirstLetter(str2)); // output: Hello World\r\n    \r\n    \t\tfinal String str3 = &quot;hello world&quot;;\r\n    \t\tSystem.out.println(capitalizeFirstLetter(str3)); // output: Hello World\r\n    \r\n    \t\tfinal String str4 = &quot;heLLo wORld&quot;;\r\n    \t\tSystem.out.println(capitalizeFirstLetter(str4)); // output: Hello World\r\n    \t}\r\n    \r\n    \tprivate static String capitalizeFirstLetter(String str) {\r\n    \t\treturn WordUtils.capitalizeFully(str);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/WordUtils.html#capitalizeFully-java.lang.String-","title":"How to capitalize the first letter of a String in Java?","body":"<p>What about <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/WordUtils.html#capitalizeFully-java.lang.String-\" rel=\"noreferrer\">WordUtils.capitalizeFully()</a>?</p>\n\n<pre><code>import org.apache.commons.lang3.text.WordUtils;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        final String str1 = \"HELLO WORLD\";\n        System.out.println(capitalizeFirstLetter(str1)); // output: Hello World\n\n        final String str2 = \"Hello WORLD\";\n        System.out.println(capitalizeFirstLetter(str2)); // output: Hello World\n\n        final String str3 = \"hello world\";\n        System.out.println(capitalizeFirstLetter(str3)); // output: Hello World\n\n        final String str4 = \"heLLo wORld\";\n        System.out.println(capitalizeFirstLetter(str4)); // output: Hello World\n    }\n\n    private static String capitalizeFirstLetter(String str) {\n        return WordUtils.capitalizeFully(str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4978472,"reputation":454,"user_id":4004167,"accept_rate":56,"display_name":"Orleando Dassi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1492035388,"creation_date":1489872639,"answer_id":42880117,"question_id":3904579,"body_markdown":"Shortest too:\r\n\r\n    String message = &quot;my message&quot;;    \r\n    message = Character.toUpperCase(message.charAt(0)) + message.substring(1);\r\n    System.out.println(message)    // Will output: My message\r\n\r\nWorked for me.\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Shortest too:</p>\n\n<pre><code>String message = \"my message\";    \nmessage = Character.toUpperCase(message.charAt(0)) + message.substring(1);\nSystem.out.println(message)    // Will output: My message\n</code></pre>\n\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6008250,"reputation":1159,"user_id":4719434,"display_name":"Aditya Parmar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497090199,"creation_date":1497090199,"answer_id":44472200,"question_id":3904579,"body_markdown":"    String str1 = &quot;hello&quot;;\r\n    str1.substring(0, 1).toUpperCase()+str1.substring(1);\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>String str1 = \"hello\";\nstr1.substring(0, 1).toUpperCase()+str1.substring(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4500973,"reputation":395,"user_id":3659492,"accept_rate":78,"display_name":"Mahbubur Rahman Khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1515276800,"creation_date":1501534785,"answer_id":45425194,"question_id":3904579,"body_markdown":"   Those who search capitalize first letter of a name here..\r\n\r\n    public static String capitaliseName(String name) {\r\n        String collect[] = name.split(&quot; &quot;);\r\n        String returnName = &quot;&quot;;\r\n        for (int i = 0; i &lt; collect.length; i++) {\r\n            collect[i] = collect[i].trim().toLowerCase();\r\n            if (collect[i].isEmpty() == false) {\r\n                returnName = returnName + collect[i].substring(0, 1).toUpperCase() + collect[i].substring(1) + &quot; &quot;;\r\n            }\r\n        }\r\n        return returnName.trim();\r\n    }\r\n\r\n&gt; **usase:** *capitaliseName(&quot;saurav khan&quot;);*\r\n&gt; \r\n&gt; **output:** *Saurav Khan*","title":"How to capitalize the first letter of a String in Java?","body":"<p>Those who search capitalize first letter of a name here..</p>\n\n<pre><code>public static String capitaliseName(String name) {\n    String collect[] = name.split(\" \");\n    String returnName = \"\";\n    for (int i = 0; i &lt; collect.length; i++) {\n        collect[i] = collect[i].trim().toLowerCase();\n        if (collect[i].isEmpty() == false) {\n            returnName = returnName + collect[i].substring(0, 1).toUpperCase() + collect[i].substring(1) + \" \";\n        }\n    }\n    return returnName.trim();\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>usase:</strong> <em>capitaliseName(\"saurav khan\");</em></p>\n  \n  <p><strong>output:</strong> <em>Saurav Khan</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7493136,"reputation":151,"user_id":5694162,"accept_rate":100,"display_name":"Ruslan Podurets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507706809,"creation_date":1507706809,"answer_id":46682249,"question_id":3904579,"body_markdown":"Just reworked Jorgesys code and **added few checks** because of few cases related to String length. Don&#39;t do for null reference check in my case.\r\n\r\n     public static String capitalizeFirstLetter(@NonNull String customText){\r\n            int count = customText.length();\r\n            if (count == 0) {\r\n                return customText;\r\n            }\r\n            if (count == 1) {\r\n                return customText.toUpperCase();\r\n            }\r\n            return customText.substring(0, 1).toUpperCase() + customText.substring(1).toLowerCase();\r\n        }","title":"How to capitalize the first letter of a String in Java?","body":"<p>Just reworked Jorgesys code and <strong>added few checks</strong> because of few cases related to String length. Don't do for null reference check in my case.</p>\n\n<pre><code> public static String capitalizeFirstLetter(@NonNull String customText){\n        int count = customText.length();\n        if (count == 0) {\n            return customText;\n        }\n        if (count == 1) {\n            return customText.toUpperCase();\n        }\n        return customText.substring(0, 1).toUpperCase() + customText.substring(1).toLowerCase();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11514158,"reputation":3581,"user_id":8437974,"accept_rate":60,"display_name":"Germa Vinsmoke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509264633,"creation_date":1509264633,"answer_id":46998095,"question_id":3904579,"body_markdown":"    System.out.println(Character.toString(A.charAt(0)).toUpperCase()+A.substring(1));\r\n\r\nP.S = a is a string.","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>System.out.println(Character.toString(A.charAt(0)).toUpperCase()+A.substring(1));\n</code></pre>\n\n<p>P.S = a is a string.</p>\n"},{"tags":[],"owner":{"account_id":7708814,"reputation":24811,"user_id":5838902,"display_name":"Fangming"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1666697719,"creation_date":1510325240,"answer_id":47225370,"question_id":3904579,"body_markdown":"# Use Apache&#39;s common library. Free your brain from these stuffs and avoid Null Pointer &amp; Index Out Of Bound Exceptions\r\n\r\n**Step 1:**\r\n\r\nImport apache&#39;s common lang library by putting this in `build.gradle` dependencies\r\n\r\n    implementation &#39;org.apache.commons:commons-lang3:3.6&#39;\r\n\r\n**Step 2:**\r\n\r\nIf you are sure that your string is all lower case, or all you need is to initialize the first letter, directly call\r\n\r\n    StringUtils.capitalize(yourString);\r\nIf you want to make sure that only the first letter is capitalized, like doing this for an `enum`, call `toLowerCase()` first and keep in mind that it will throw `NullPointerException` if the input string is null.\r\n\r\n    StringUtils.capitalize(YourEnum.STUFF.name().toLowerCase());\r\n    StringUtils.capitalize(yourString.toLowerCase());\r\nHere are more samples provided by apache. it&#39;s exception free\r\n\r\n    StringUtils.capitalize(null)  = null\r\n    StringUtils.capitalize(&quot;&quot;)    = &quot;&quot;\r\n    StringUtils.capitalize(&quot;cat&quot;) = &quot;Cat&quot;\r\n    StringUtils.capitalize(&quot;cAt&quot;) = &quot;CAt&quot;\r\n    StringUtils.capitalize(&quot;&#39;cat&#39;&quot;) = &quot;&#39;cat&#39;&quot;\r\n\r\n**Note:**\r\n\r\n`WordUtils` is also included in this library, but is deprecated. Please **do not** use that.","title":"How to capitalize the first letter of a String in Java?","body":"<h1>Use Apache's common library. Free your brain from these stuffs and avoid Null Pointer &amp; Index Out Of Bound Exceptions</h1>\n<p><strong>Step 1:</strong></p>\n<p>Import apache's common lang library by putting this in <code>build.gradle</code> dependencies</p>\n<pre><code>implementation 'org.apache.commons:commons-lang3:3.6'\n</code></pre>\n<p><strong>Step 2:</strong></p>\n<p>If you are sure that your string is all lower case, or all you need is to initialize the first letter, directly call</p>\n<pre><code>StringUtils.capitalize(yourString);\n</code></pre>\n<p>If you want to make sure that only the first letter is capitalized, like doing this for an <code>enum</code>, call <code>toLowerCase()</code> first and keep in mind that it will throw <code>NullPointerException</code> if the input string is null.</p>\n<pre><code>StringUtils.capitalize(YourEnum.STUFF.name().toLowerCase());\nStringUtils.capitalize(yourString.toLowerCase());\n</code></pre>\n<p>Here are more samples provided by apache. it's exception free</p>\n<pre><code>StringUtils.capitalize(null)  = null\nStringUtils.capitalize(&quot;&quot;)    = &quot;&quot;\nStringUtils.capitalize(&quot;cat&quot;) = &quot;Cat&quot;\nStringUtils.capitalize(&quot;cAt&quot;) = &quot;CAt&quot;\nStringUtils.capitalize(&quot;'cat'&quot;) = &quot;'cat'&quot;\n</code></pre>\n<p><strong>Note:</strong></p>\n<p><code>WordUtils</code> is also included in this library, but is deprecated. Please <strong>do not</strong> use that.</p>\n"},{"tags":[],"owner":{"account_id":3145939,"reputation":343,"user_id":2660418,"accept_rate":50,"display_name":"Jijil Kakkadathu"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1533333575,"creation_date":1518630542,"answer_id":48793340,"question_id":3904579,"body_markdown":"Below solution will work.\r\n\r\n    String A = &quot;stackOverflow&quot;;\r\n    String ACaps = A.toUpperCase().charAt(0)+A.substring(1,A.length());\r\n    //Will print StackOverflow\r\n\r\nYou can&#39;t use toUpperCase() on primitive char , but you can make entire String to Uppercase first then take the first char, then to append to the substring as shown above.\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Below solution will work.</p>\n\n<pre><code>String A = \"stackOverflow\";\nString ACaps = A.toUpperCase().charAt(0)+A.substring(1,A.length());\n//Will print StackOverflow\n</code></pre>\n\n<p>You can't use toUpperCase() on primitive char , but you can make entire String to Uppercase first then take the first char, then to append to the substring as shown above.</p>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568024346,"creation_date":1519306833,"answer_id":48928895,"question_id":3904579,"body_markdown":"Using `commons.lang.StringUtils` the best answer is: \r\n\r\n    public static String capitalize(String str) {  \r\n        int strLen;  \r\n        return str != null &amp;&amp; (strLen = str.length()) != 0 ? (new StringBuffer(strLen)).append(Character.toTitleCase(str.charAt(0))).append(str.substring(1)).toString() : str;  \r\n    }\r\n\r\nI find it brilliant since it wraps the string with a StringBuffer. You can manipulate the StringBuffer as you wish and though using the same instance.","title":"How to capitalize the first letter of a String in Java?","body":"<p>Using <code>commons.lang.StringUtils</code> the best answer is: </p>\n\n<pre><code>public static String capitalize(String str) {  \n    int strLen;  \n    return str != null &amp;&amp; (strLen = str.length()) != 0 ? (new StringBuffer(strLen)).append(Character.toTitleCase(str.charAt(0))).append(str.substring(1)).toString() : str;  \n}\n</code></pre>\n\n<p>I find it brilliant since it wraps the string with a StringBuffer. You can manipulate the StringBuffer as you wish and though using the same instance.</p>\n"},{"tags":[],"owner":{"account_id":9879881,"reputation":31,"user_id":7316332,"display_name":"emre hamurcu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520866128,"creation_date":1520863522,"answer_id":49237230,"question_id":3904579,"body_markdown":" \r\n\r\n    String s = &quot;first second third fourth&quot;;\r\n           \r\n            int j = 0;\r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n    \r\n                if ((s.substring(j, i).endsWith(&quot; &quot;))) {\r\n    \r\n                    String s2 = s.substring(j, i);\r\n                    System.out.println(Character.toUpperCase(s.charAt(j))+s2.substring(1));\r\n                    j = i;\r\n                }\r\n            }\r\n            System.out.println(Character.toUpperCase(s.charAt(j))+s.substring(j+1));","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>String s = \"first second third fourth\";\n\n        int j = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            if ((s.substring(j, i).endsWith(\" \"))) {\n\n                String s2 = s.substring(j, i);\n                System.out.println(Character.toUpperCase(s.charAt(j))+s2.substring(1));\n                j = i;\n            }\n        }\n        System.out.println(Character.toUpperCase(s.charAt(j))+s.substring(j+1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12930946,"reputation":1849,"user_id":9349983,"display_name":"Dcoder14"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521184144,"creation_date":1521100898,"answer_id":49294191,"question_id":3904579,"body_markdown":"  To capitalize first character of each word in a string ,\r\n\r\nfirst you need to get each words of that string &amp; for this split string where any space is there using split method as below  and store each words in an Array. \r\nThen create an empty string.  After that by using substring() method get the first character &amp; remaining character of corresponding word and store them in two different variables.\r\n\r\nThen by using toUpperCase() method capitalize the first character and add the remaianing characters as below to that empty string.\r\n\r\n    public class Test {  \r\n         public static void main(String[] args)\r\n         {\r\n             String str= &quot;my name is khan&quot;;        // string\r\n             String words[]=str.split(&quot;\\\\s&quot;);      // split each words of above string\r\n             String capitalizedWord = &quot;&quot;;         // create an empty string\r\n        \r\n             for(String w:words)\r\n             {  \r\n                  String first = w.substring(0,1);    // get first character of each word\r\n                  String f_after = w.substring(1);    // get remaining character of corresponding word\r\n                  capitalizedWord += first.toUpperCase() + f_after+ &quot; &quot;;  // capitalize first character and add the remaining to the empty string and continue\r\n             }\r\n             System.out.println(capitalizedWord);    // print the result\r\n         }\r\n    }","title":"How to capitalize the first letter of a String in Java?","body":"<p>To capitalize first character of each word in a string ,</p>\n\n<p>first you need to get each words of that string &amp; for this split string where any space is there using split method as below  and store each words in an Array. \nThen create an empty string.  After that by using substring() method get the first character &amp; remaining character of corresponding word and store them in two different variables.</p>\n\n<p>Then by using toUpperCase() method capitalize the first character and add the remaianing characters as below to that empty string.</p>\n\n<pre><code>public class Test {  \n     public static void main(String[] args)\n     {\n         String str= \"my name is khan\";        // string\n         String words[]=str.split(\"\\\\s\");      // split each words of above string\n         String capitalizedWord = \"\";         // create an empty string\n\n         for(String w:words)\n         {  \n              String first = w.substring(0,1);    // get first character of each word\n              String f_after = w.substring(1);    // get remaining character of corresponding word\n              capitalizedWord += first.toUpperCase() + f_after+ \" \";  // capitalize first character and add the remaining to the empty string and continue\n         }\n         System.out.println(capitalizedWord);    // print the result\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1661806076,"creation_date":1523965004,"answer_id":49877047,"question_id":3904579,"body_markdown":"     \r\nUse this utility method to capitalize the first letter of every word.\r\n    \r\n    \r\n    String capitalizeAllFirstLetters(String name) \r\n    {\r\n        char[] array = name.toCharArray();\r\n        array[0] = Character.toUpperCase(array[0]);\r\n     \r\n        for (int i = 1; i &lt; array.length; i++) {\r\n            if (Character.isWhitespace(array[i - 1])) {\r\n                array[i] = Character.toUpperCase(array[i]);\r\n            }\r\n        }\r\n     \r\n        return new String(array);\r\n    }","title":"How to capitalize the first letter of a String in Java?","body":"<p>Use this utility method to capitalize the first letter of every word.</p>\n<pre><code>String capitalizeAllFirstLetters(String name) \n{\n    char[] array = name.toCharArray();\n    array[0] = Character.toUpperCase(array[0]);\n \n    for (int i = 1; i &lt; array.length; i++) {\n        if (Character.isWhitespace(array[i - 1])) {\n            array[i] = Character.toUpperCase(array[i]);\n        }\n    }\n \n    return new String(array);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14114766,"reputation":180,"user_id":10196773,"display_name":"ShehrozEK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534191842,"creation_date":1533721910,"answer_id":51743667,"question_id":3904579,"body_markdown":"The code i have posted will remove underscore(_) symbol and extra spaces from String and also it will capitalize first letter of every new word in String\r\n\r\n    private String capitalize(String txt){ \r\n      List&lt;String&gt; finalTxt=new ArrayList&lt;&gt;();\r\n\r\n      if(txt.contains(&quot;_&quot;)){\r\n           txt=txt.replace(&quot;_&quot;,&quot; &quot;);\r\n      }\r\n\r\n      if(txt.contains(&quot; &quot;) &amp;&amp; txt.length()&gt;1){\r\n           String[] tSS=txt.split(&quot; &quot;);\r\n           for(String tSSV:tSS){ finalTxt.add(capitalize(tSSV)); }  \r\n      }\r\n\r\n      if(finalTxt.size()&gt;0){\r\n           txt=&quot;&quot;;\r\n           for(String s:finalTxt){ txt+=s+&quot; &quot;; }\r\n      }\r\n\r\n      if(txt.endsWith(&quot; &quot;) &amp;&amp; txt.length()&gt;1){\r\n           txt=txt.substring(0, (txt.length()-1));\r\n           return txt;\r\n      }\r\n\r\n      txt = txt.substring(0,1).toUpperCase() + txt.substring(1).toLowerCase();\r\n      return txt;\r\n    }","title":"How to capitalize the first letter of a String in Java?","body":"<p>The code i have posted will remove underscore(_) symbol and extra spaces from String and also it will capitalize first letter of every new word in String</p>\n\n<pre><code>private String capitalize(String txt){ \n  List&lt;String&gt; finalTxt=new ArrayList&lt;&gt;();\n\n  if(txt.contains(\"_\")){\n       txt=txt.replace(\"_\",\" \");\n  }\n\n  if(txt.contains(\" \") &amp;&amp; txt.length()&gt;1){\n       String[] tSS=txt.split(\" \");\n       for(String tSSV:tSS){ finalTxt.add(capitalize(tSSV)); }  \n  }\n\n  if(finalTxt.size()&gt;0){\n       txt=\"\";\n       for(String s:finalTxt){ txt+=s+\" \"; }\n  }\n\n  if(txt.endsWith(\" \") &amp;&amp; txt.length()&gt;1){\n       txt=txt.substring(0, (txt.length()-1));\n       return txt;\n  }\n\n  txt = txt.substring(0,1).toUpperCase() + txt.substring(1).toLowerCase();\n  return txt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12395,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533728389,"creation_date":1533728389,"answer_id":51745797,"question_id":3904579,"body_markdown":"One approach.\r\n\r\n    String input = &quot;someТекст$T%$4čřЭ&quot;; //Enter your text.\r\n    if (input == null || input.isEmpty()) {\r\n        return &quot;&quot;;\r\n    }\r\n    \r\n    char [] chars = input.toCharArray();\r\n    chars[0] = chars[0].toUpperCase();\r\n    String res = new String(chars);\r\n    return res;\r\n\r\nThe drawback of this method is that if inputString is long, you will have three objects of such length. The same as you do\r\n\r\n\r\n    String s1 = input.substring(1).toUpperCase();\r\n    String s2 = input.substring(1, lenght);\r\n    String res = s1 + s2;\r\n\r\nOr even\r\n\r\n    //check if not null.\r\n    StringBuilder buf = new StringBuilder(input);\r\n    char ch = buf.getCharAt(0).toUpperCase();\r\n    buf.setCharAt(0, ch);\r\n    return buf.toString();","title":"How to capitalize the first letter of a String in Java?","body":"<p>One approach.</p>\n\n<pre><code>String input = \"someТекст$T%$4čřЭ\"; //Enter your text.\nif (input == null || input.isEmpty()) {\n    return \"\";\n}\n\nchar [] chars = input.toCharArray();\nchars[0] = chars[0].toUpperCase();\nString res = new String(chars);\nreturn res;\n</code></pre>\n\n<p>The drawback of this method is that if inputString is long, you will have three objects of such length. The same as you do</p>\n\n<pre><code>String s1 = input.substring(1).toUpperCase();\nString s2 = input.substring(1, lenght);\nString res = s1 + s2;\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>//check if not null.\nStringBuilder buf = new StringBuilder(input);\nchar ch = buf.getCharAt(0).toUpperCase();\nbuf.setCharAt(0, ch);\nreturn buf.toString();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1134181"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568374496,"creation_date":1540532475,"answer_id":53002156,"question_id":3904579,"body_markdown":"Yet another example, how you can make the first letter of the user input capitalized:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    String string = br.readLine();\r\n    // handle supplementary characters\r\n    IntStream.concat(\r\n    \t\tIntStream.of(string.codePointAt(0))\r\n    \t\t\t\t.map(Character::toUpperCase), string.codePoints().skip(1)\r\n    )\r\n    .forEach(cp -&gt; System.out.print(Character.toChars(cp)));\r\n\r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Yet another example, how you can make the first letter of the user input capitalized:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nString string = br.readLine();\n// handle supplementary characters\nIntStream.concat(\n        IntStream.of(string.codePointAt(0))\n                .map(Character::toUpperCase), string.codePoints().skip(1)\n)\n.forEach(cp -&gt; System.out.print(Character.toChars(cp)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14673101,"reputation":13,"user_id":10597062,"display_name":"An Van Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542028378,"creation_date":1542021766,"answer_id":53261131,"question_id":3904579,"body_markdown":"This code to capitalize each word in text!\r\n\r\n    public String capitalizeText(String name) {\r\n        String[] s = name.trim().toLowerCase().split(&quot;\\\\s+&quot;);\r\n        name = &quot;&quot;;\r\n        for (String i : s){\r\n            if(i.equals(&quot;&quot;)) return name; // or return anything you want\r\n            name+= i.substring(0, 1).toUpperCase() + i.substring(1) + &quot; &quot;; // uppercase first char in words\r\n        }\r\n        return name.trim();\r\n    }","title":"How to capitalize the first letter of a String in Java?","body":"<p>This code to capitalize each word in text!</p>\n\n<pre><code>public String capitalizeText(String name) {\n    String[] s = name.trim().toLowerCase().split(\"\\\\s+\");\n    name = \"\";\n    for (String i : s){\n        if(i.equals(\"\")) return name; // or return anything you want\n        name+= i.substring(0, 1).toUpperCase() + i.substring(1) + \" \"; // uppercase first char in words\n    }\n    return name.trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3800101,"reputation":21,"user_id":6463231,"display_name":"crix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544052871,"creation_date":1544052871,"answer_id":53642429,"question_id":3904579,"body_markdown":"One of the answers was 95% correct, but it failed on my unitTest @Ameen Maheen&#39;s solution was nearly perfect. Except that before the input gets converted to String array, you have to trim the input. So the perfect one:\r\n\r\n    private String convertStringToName(String name) {\r\n            name = name.trim();\r\n            String[] words = name.split(&quot; &quot;);\r\n            StringBuilder sb = new StringBuilder();\r\n            if (words[0].length() &gt; 0) {\r\n                sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\r\n                for (int i = 1; i &lt; words.length; i++) {\r\n                    sb.append(&quot; &quot;);\r\n                    sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }","title":"How to capitalize the first letter of a String in Java?","body":"<p>One of the answers was 95% correct, but it failed on my unitTest @Ameen Maheen's solution was nearly perfect. Except that before the input gets converted to String array, you have to trim the input. So the perfect one:</p>\n\n<pre><code>private String convertStringToName(String name) {\n        name = name.trim();\n        String[] words = name.split(\" \");\n        StringBuilder sb = new StringBuilder();\n        if (words[0].length() &gt; 0) {\n            sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\n            for (int i = 1; i &lt; words.length; i++) {\n                sb.append(\" \");\n                sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\n            }\n        }\n        return sb.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3135843,"reputation":21202,"user_id":2652368,"accept_rate":57,"display_name":"Amirhossein Ghasemi"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1655563623,"creation_date":1548228894,"answer_id":54322114,"question_id":3904579,"body_markdown":"**Java:**\r\n\r\nsimply a helper method for capitalizing every string.\r\n\r\n    public static String capitalize(String str)\r\n    {\r\n        if(str == null || str.length()&lt;=1) return str;\r\n        return str.substring(0, 1).toUpperCase() + str.substring(1);\r\n    }\r\n\r\nAfter that simply call `str = capitalize(str)`\r\n\r\n---\r\n\r\n**Kotlin:**\r\n\r\n    str.capitalize()","title":"How to capitalize the first letter of a String in Java?","body":"<p><strong>Java:</strong></p>\n<p>simply a helper method for capitalizing every string.</p>\n<pre><code>public static String capitalize(String str)\n{\n    if(str == null || str.length()&lt;=1) return str;\n    return str.substring(0, 1).toUpperCase() + str.substring(1);\n}\n</code></pre>\n<p>After that simply call <code>str = capitalize(str)</code></p>\n<hr />\n<p><strong>Kotlin:</strong></p>\n<pre><code>str.capitalize()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14352296,"reputation":846,"user_id":10367370,"display_name":"Vimukthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558498758,"creation_date":1558498758,"answer_id":56249249,"question_id":3904579,"body_markdown":"Given answers is for capitalize the first letter of one word only. use following code to capitalize a whole string.\r\n\r\n    public static void main(String[] args) {\r\n\t\tString str = &quot;this is a random string&quot;;\r\n\t\tStringBuilder capitalizedString = new StringBuilder();\r\n\t\tString[] splited = str.trim().split(&quot;\\\\s+&quot;);\r\n\t\t\r\n\t\tfor (String string : splited) {\t\t\t\r\n\t\t\tString s1 = string.substring(0, 1).toUpperCase();\r\n\t\t    String nameCapitalized = s1 + string.substring(1);\r\n\t\t    \t\t    \r\n\t\t    capitalizedString.append(nameCapitalized);\r\n\t\t    capitalizedString.append(&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println(capitalizedString.toString().trim());\r\n\t}\r\n\r\noutput : \r\n`This Is A Random String`","title":"How to capitalize the first letter of a String in Java?","body":"<p>Given answers is for capitalize the first letter of one word only. use following code to capitalize a whole string.</p>\n\n<pre><code>public static void main(String[] args) {\n    String str = \"this is a random string\";\n    StringBuilder capitalizedString = new StringBuilder();\n    String[] splited = str.trim().split(\"\\\\s+\");\n\n    for (String string : splited) {         \n        String s1 = string.substring(0, 1).toUpperCase();\n        String nameCapitalized = s1 + string.substring(1);\n\n        capitalizedString.append(nameCapitalized);\n        capitalizedString.append(\" \");\n    }\n    System.out.println(capitalizedString.toString().trim());\n}\n</code></pre>\n\n<p>output : \n<code>This Is A Random String</code></p>\n"},{"tags":[],"owner":{"account_id":15907768,"reputation":11,"user_id":11478490,"display_name":"HelpMeHolySpirit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559069922,"creation_date":1559068292,"answer_id":56348178,"question_id":3904579,"body_markdown":"Use replace method.\r\n\r\n    String newWord = word.replace(String.valueOf(word.charAt(0)), String.valueOf(word.charAt(0)).toUpperCase());","title":"How to capitalize the first letter of a String in Java?","body":"<p>Use replace method.</p>\n\n<pre><code>String newWord = word.replace(String.valueOf(word.charAt(0)), String.valueOf(word.charAt(0)).toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3921512,"reputation":400,"user_id":3243492,"display_name":"Raj Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559223117,"creation_date":1559223117,"answer_id":56379351,"question_id":3904579,"body_markdown":"**If Input is UpperCase ,then Use following :**\r\n\r\nstr.substring(0, 1).toUpperCase() + str.substring(1).toLowerCase();\r\n\r\n\r\n**If Input is LowerCase ,then Use following :**\r\n\r\nstr.substring(0, 1).toUpperCase() + str.substring(1);","title":"How to capitalize the first letter of a String in Java?","body":"<p><strong>If Input is UpperCase ,then Use following :</strong></p>\n\n<p>str.substring(0, 1).toUpperCase() + str.substring(1).toLowerCase();</p>\n\n<p><strong>If Input is LowerCase ,then Use following :</strong></p>\n\n<p>str.substring(0, 1).toUpperCase() + str.substring(1);</p>\n"},{"tags":[],"owner":{"account_id":16387607,"reputation":1,"user_id":11837190,"display_name":"Sindhu Adapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564155359,"creation_date":1564155359,"answer_id":57223145,"question_id":3904579,"body_markdown":"    import java.util.*;\r\n    public class Program\r\n    {\r\n    \tpublic static void main(String[] args) \r\n          {\r\n            Scanner sc=new Scanner(System.in);\r\n            String s1=sc.nextLine();\r\n            String[] s2=s1.split(&quot; &quot;);//***split text into words***\r\n            ArrayList&lt;String&gt; l = new ArrayList&lt;String&gt;();//***list***\r\n    \t    for(String w: s2)\r\n            l.add(w.substring(0,1).toUpperCase()+w.substring(1)); \r\n            //***converting 1st letter to capital and adding to list***\r\n            StringBuilder sb = new StringBuilder();//***i used StringBuilder to convert words to text*** \r\n            for (String s : l)\r\n              {\r\n                 sb.append(s);\r\n                 sb.append(&quot; &quot;);\r\n              }\r\n          System.out.println(sb.toString());//***to print output***\r\n          }\r\n    }\r\n\r\ni have used split function to split the string into words then again i took list to get the first letter capital in that words and then i took string builder to print the output in string format with spaces in it","title":"How to capitalize the first letter of a String in Java?","body":"<pre><code>import java.util.*;\npublic class Program\n{\n    public static void main(String[] args) \n      {\n        Scanner sc=new Scanner(System.in);\n        String s1=sc.nextLine();\n        String[] s2=s1.split(\" \");//***split text into words***\n        ArrayList&lt;String&gt; l = new ArrayList&lt;String&gt;();//***list***\n        for(String w: s2)\n        l.add(w.substring(0,1).toUpperCase()+w.substring(1)); \n        //***converting 1st letter to capital and adding to list***\n        StringBuilder sb = new StringBuilder();//***i used StringBuilder to convert words to text*** \n        for (String s : l)\n          {\n             sb.append(s);\n             sb.append(\" \");\n          }\n      System.out.println(sb.toString());//***to print output***\n      }\n}\n</code></pre>\n\n<p>i have used split function to split the string into words then again i took list to get the first letter capital in that words and then i took string builder to print the output in string format with spaces in it</p>\n"},{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568370500,"creation_date":1568295594,"answer_id":57908029,"question_id":3904579,"body_markdown":"Existing answers are either\r\n\r\n* incorrect: they think that `char` is a separate character (code point), while it is a UTF-16 word which can be a half of a surrogate pair, or\r\n* use libraries which is not bad itself but requires adding dependencies to your project, or\r\n* [use Java 8 Streams](https://stackoverflow.com/a/53002156/3050249) which is perfectly valid but not always possible.\r\n\r\nLet&#39;s look at [surrogate characters](https://en.wikipedia.org/wiki/UTF-16#U+010000_to_U+10FFFF) (every such character consist of two UTF-16 words — Java `char`s) and can have upper and lowercase variants:\r\n\r\n    IntStream.rangeClosed(0x01_0000, 0x10_FFFF)\r\n        .filter(ch -&gt; Character.toUpperCase(ch) != Character.toLowerCase(ch))\r\n        .forEach(ch -&gt; System.out.print(new String(new int[] { ch }, 0, 1)));\r\n\r\nMany of them may look like &#39;tofu&#39; (□) for you but they are mostly valid characters of rare scripts and some typefaces support them.\r\n\r\nFor example, let&#39;s look at Deseret Small Letter Long I (&#66600;), U+10428, `&quot;\\uD801\\uDC28&quot;`:\r\n\r\n    System.out.println(&quot;U+&quot; + Integer.toHexString(\r\n            &quot;\\uD801\\uDC28&quot;.codePointAt(0)\r\n    )); // U+10428\r\n\r\n    System.out.println(&quot;U+&quot; + Integer.toHexString(\r\n            Character.toTitleCase(&quot;\\uD801\\uDC28&quot;.codePointAt(0))\r\n    )); // U+10400 — ok! capitalized character is another code point\r\n\r\n    System.out.println(&quot;U+&quot; + Integer.toHexString(new String(new char[] {\r\n            Character.toTitleCase(&quot;\\uD801\\uDC28&quot;.charAt(0)), &quot;\\uD801\\uDC28&quot;.charAt(1)\r\n    }).codePointAt(0))); // U+10428 — oops! — cannot capitalize an unpaired surrogate\r\n\r\nSo, a code point can be capitalized even in cases when `char` cannot be.\r\nConsidering this, let&#39;s write a correct (and Java 1.5 compatible!) capitalizer:\r\n\r\n    @Contract(&quot;null -&gt; null&quot;)\r\n    public static CharSequence capitalize(CharSequence input) {\r\n        int length;\r\n        if (input == null || (length = input.length()) == 0) return input;\r\n\r\n        return new StringBuilder(length)\r\n                .appendCodePoint(Character.toTitleCase(Character.codePointAt(input, 0)))\r\n                .append(input, Character.offsetByCodePoints(input, 0, 1), length);\r\n    }\r\n\r\nAnd check whether it works:\r\n\r\n    public static void main(String[] args) {\r\n        // ASCII\r\n        System.out.println(capitalize(&quot;whatever&quot;)); // w -&gt; W\r\n\r\n        // UTF-16, no surrogate\r\n        System.out.println(capitalize(&quot;что-то&quot;)); // ч -&gt; Ч\r\n\r\n        // UTF-16 with surrogate pairs\r\n        System.out.println(capitalize(&quot;\\uD801\\uDC28&quot;)); // &#66600; -&gt; &#66560;\r\n    }\r\n\r\nSee also:\r\n\r\n* surrogate pairs https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java\r\n* upper case vs. title case https://stackoverflow.com/a/47887432/3050249","title":"How to capitalize the first letter of a String in Java?","body":"<p>Existing answers are either</p>\n\n<ul>\n<li>incorrect: they think that <code>char</code> is a separate character (code point), while it is a UTF-16 word which can be a half of a surrogate pair, or</li>\n<li>use libraries which is not bad itself but requires adding dependencies to your project, or</li>\n<li><a href=\"https://stackoverflow.com/a/53002156/3050249\">use Java 8 Streams</a> which is perfectly valid but not always possible.</li>\n</ul>\n\n<p>Let's look at <a href=\"https://en.wikipedia.org/wiki/UTF-16#U+010000_to_U+10FFFF\" rel=\"nofollow noreferrer\">surrogate characters</a> (every such character consist of two UTF-16 words — Java <code>char</code>s) and can have upper and lowercase variants:</p>\n\n<pre><code>IntStream.rangeClosed(0x01_0000, 0x10_FFFF)\n    .filter(ch -&gt; Character.toUpperCase(ch) != Character.toLowerCase(ch))\n    .forEach(ch -&gt; System.out.print(new String(new int[] { ch }, 0, 1)));\n</code></pre>\n\n<p>Many of them may look like 'tofu' (□) for you but they are mostly valid characters of rare scripts and some typefaces support them.</p>\n\n<p>For example, let's look at Deseret Small Letter Long I (𐐨), U+10428, <code>\"\\uD801\\uDC28\"</code>:</p>\n\n<pre><code>System.out.println(\"U+\" + Integer.toHexString(\n        \"\\uD801\\uDC28\".codePointAt(0)\n)); // U+10428\n\nSystem.out.println(\"U+\" + Integer.toHexString(\n        Character.toTitleCase(\"\\uD801\\uDC28\".codePointAt(0))\n)); // U+10400 — ok! capitalized character is another code point\n\nSystem.out.println(\"U+\" + Integer.toHexString(new String(new char[] {\n        Character.toTitleCase(\"\\uD801\\uDC28\".charAt(0)), \"\\uD801\\uDC28\".charAt(1)\n}).codePointAt(0))); // U+10428 — oops! — cannot capitalize an unpaired surrogate\n</code></pre>\n\n<p>So, a code point can be capitalized even in cases when <code>char</code> cannot be.\nConsidering this, let's write a correct (and Java 1.5 compatible!) capitalizer:</p>\n\n<pre><code>@Contract(\"null -&gt; null\")\npublic static CharSequence capitalize(CharSequence input) {\n    int length;\n    if (input == null || (length = input.length()) == 0) return input;\n\n    return new StringBuilder(length)\n            .appendCodePoint(Character.toTitleCase(Character.codePointAt(input, 0)))\n            .append(input, Character.offsetByCodePoints(input, 0, 1), length);\n}\n</code></pre>\n\n<p>And check whether it works:</p>\n\n<pre><code>public static void main(String[] args) {\n    // ASCII\n    System.out.println(capitalize(\"whatever\")); // w -&gt; W\n\n    // UTF-16, no surrogate\n    System.out.println(capitalize(\"что-то\")); // ч -&gt; Ч\n\n    // UTF-16 with surrogate pairs\n    System.out.println(capitalize(\"\\uD801\\uDC28\")); // 𐐨 -&gt; 𐐀\n}\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li>surrogate pairs <a href=\"https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java\">What is a &quot;surrogate pair&quot; in Java?</a></li>\n<li>upper case vs. title case <a href=\"https://stackoverflow.com/a/47887432/3050249\">https://stackoverflow.com/a/47887432/3050249</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5100679,"reputation":2687,"user_id":4090386,"display_name":"attacomsian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568466785,"creation_date":1568466785,"answer_id":57935835,"question_id":3904579,"body_markdown":"Current answers are either incorrect or over-complicate this simple task. After doing some research, here are [two approaches](https://attacomsian.com/blog/capitalize-first-letter-of-string-java) I come up with:\r\n\r\n**1. String&#39;s `substring()` Method**\r\n\r\n```java\r\npublic static String capitalize(String str) {\r\n    if(str== null || str.isEmpty()) {\r\n        return str;\r\n    }\r\n\r\n    return str.substring(0, 1).toUpperCase() + str.substring(1);\r\n}\r\n```\r\n\r\nExamples:\r\n\r\n```java\r\nSystem.out.println(capitalize(&quot;java&quot;)); // Java\r\nSystem.out.println(capitalize(&quot;beTa&quot;)); // BeTa\r\nSystem.out.println(capitalize(null)); // null\r\n```\r\n\r\n**2. Apache Commons Lang**\r\n\r\nThe Apache Commons Lang library provides `StringUtils` the class for this purpose:\r\n\r\n```java\r\nSystem.out.println(StringUtils.capitalize(&quot;apache commons&quot;)); // Apache commons\r\nSystem.out.println(StringUtils.capitalize(&quot;heLLO&quot;)); // HeLLO\r\nSystem.out.println(StringUtils.uncapitalize(null)); // null\r\n```\r\n\r\nDon&#39;t forget to add the following dependency to your `pom.xml` file:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;version&gt;3.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to capitalize the first letter of a String in Java?","body":"<p>Current answers are either incorrect or over-complicate this simple task. After doing some research, here are <a href=\"https://attacomsian.com/blog/capitalize-first-letter-of-string-java\" rel=\"nofollow noreferrer\">two approaches</a> I come up with:</p>\n\n<p><strong>1. String's <code>substring()</code> Method</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String capitalize(String str) {\n    if(str== null || str.isEmpty()) {\n        return str;\n    }\n\n    return str.substring(0, 1).toUpperCase() + str.substring(1);\n}\n</code></pre>\n\n<p>Examples:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(capitalize(\"java\")); // Java\nSystem.out.println(capitalize(\"beTa\")); // BeTa\nSystem.out.println(capitalize(null)); // null\n</code></pre>\n\n<p><strong>2. Apache Commons Lang</strong></p>\n\n<p>The Apache Commons Lang library provides <code>StringUtils</code> the class for this purpose:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(StringUtils.capitalize(\"apache commons\")); // Apache commons\nSystem.out.println(StringUtils.capitalize(\"heLLO\")); // HeLLO\nSystem.out.println(StringUtils.uncapitalize(null)); // null\n</code></pre>\n\n<p>Don't forget to add the following dependency to your <code>pom.xml</code> file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2348840,"reputation":1502,"user_id":2058260,"accept_rate":84,"display_name":"H4SN"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1660059543,"creation_date":1571654517,"answer_id":58484604,"question_id":3904579,"body_markdown":"Simple solution! doesn&#39;t require any external library, it can handle empty or one letter string.\r\n\r\n    private String capitalizeFirstLetter(@NonNull String str){\r\n            return str.length() == 0 ? str\r\n                    : str.length() == 1 ? str.toUpperCase()\r\n                    : str.substring(0, 1).toUpperCase() + str.substring(1).toLowerCase();\r\n    }\r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Simple solution! doesn't require any external library, it can handle empty or one letter string.</p>\n<pre><code>private String capitalizeFirstLetter(@NonNull String str){\n        return str.length() == 0 ? str\n                : str.length() == 1 ? str.toUpperCase()\n                : str.substring(0, 1).toUpperCase() + str.substring(1).toLowerCase();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1626253230,"creation_date":1580248238,"answer_id":59957565,"question_id":3904579,"body_markdown":"if you use **SPRING**:\r\n==\r\n\r\n    import static org.springframework.util.StringUtils.capitalize;\r\n    ...\r\n    \r\n    \r\n        return capitalize(name);\r\n\r\n\r\n**IMPLEMENTATION:** [org/springframework/util/StringUtils.java#L535-L555][1]\r\n\r\n**REF:** [javadoc-api/org/springframework/util/StringUtils.html#capitalize][2]\r\n\r\n\r\n---\r\n\r\n**NOTE:** If you already have Apache Common Lang dependency, then consider using their StringUtils.capitalize as other answers suggest.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/64440a5f04a17b3728234afaa89f57766768decb/spring-core/src/main/java/org/springframework/util/StringUtils.java#L535-L555\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#capitalize-java.lang.String-","title":"How to capitalize the first letter of a String in Java?","body":"<h1 id=\"if-you-use-spring\">if you use <strong>SPRING</strong>:</h1>\n<pre><code>import static org.springframework.util.StringUtils.capitalize;\n...\n\n\n    return capitalize(name);\n</code></pre>\n<p><strong>IMPLEMENTATION:</strong> <a href=\"https://github.com/spring-projects/spring-framework/blob/64440a5f04a17b3728234afaa89f57766768decb/spring-core/src/main/java/org/springframework/util/StringUtils.java#L535-L555\" rel=\"noreferrer\">org/springframework/util/StringUtils.java#L535-L555</a></p>\n<p><strong>REF:</strong> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#capitalize-java.lang.String-\" rel=\"noreferrer\">javadoc-api/org/springframework/util/StringUtils.html#capitalize</a></p>\n<hr />\n<p><strong>NOTE:</strong> If you already have Apache Common Lang dependency, then consider using their StringUtils.capitalize as other answers suggest.</p>\n"},{"tags":[],"owner":{"account_id":17027690,"reputation":319,"user_id":12318495,"display_name":"UTTAM"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1585488755,"creation_date":1585485029,"answer_id":60914298,"question_id":3904579,"body_markdown":"**IT WILL WORK 101%**\r\n```\r\npublic class UpperCase {\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\t\t\r\n\t\tString name;\r\n\t\t\r\n\t\tSystem.out.print(&quot;INPUT: &quot;);\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tname  = scan.next();\r\n\t\t\r\n\t\tString upperCase = name.substring(0, 1).toUpperCase() + name.substring(1);\r\n\t\tSystem.out.println(&quot;OUTPUT: &quot; + upperCase);\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"How to capitalize the first letter of a String in Java?","body":"<p><strong>IT WILL WORK 101%</strong></p>\n\n<pre><code>public class UpperCase {\n\n    public static void main(String [] args) {\n\n        String name;\n\n        System.out.print(\"INPUT: \");\n        Scanner scan = new Scanner(System.in);\n        name  = scan.next();\n\n        String upperCase = name.substring(0, 1).toUpperCase() + name.substring(1);\n        System.out.println(\"OUTPUT: \" + upperCase); \n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592298986,"creation_date":1592295952,"answer_id":62404137,"question_id":3904579,"body_markdown":"Here is my detailed article on the topic for all possible options [Capitalize First Letter of String in Android][1] \r\n\r\n**Method to Capitalize First Letter of String in Java**\r\n\r\n    public static String capitalizeString(String str) {\r\n            String retStr = str;\r\n            try { // We can face index out of bound exception if the string is null\r\n                retStr = str.substring(0, 1).toUpperCase() + str.substring(1);\r\n            }catch (Exception e){}\r\n            return retStr;\r\n    }\r\n\r\n\r\n**Method to Capitalize First Letter of String in KOTLIN**\r\n\r\n    fun capitalizeString(str: String): String {\r\n            var retStr = str\r\n            try { // We can face index out of bound exception if the string is null\r\n                retStr = str.substring(0, 1).toUpperCase() + str.substring(1)\r\n            } catch (e: Exception) {\r\n            }\r\n            return retStr\r\n    }\r\n\r\n\r\n  [1]: https://handyopinion.com/capitalize-first-letter-of-string-in-android-kotlin-java/","title":"How to capitalize the first letter of a String in Java?","body":"<p>Here is my detailed article on the topic for all possible options <a href=\"https://handyopinion.com/capitalize-first-letter-of-string-in-android-kotlin-java/\" rel=\"noreferrer\">Capitalize First Letter of String in Android</a> </p>\n\n<p><strong>Method to Capitalize First Letter of String in Java</strong></p>\n\n<pre><code>public static String capitalizeString(String str) {\n        String retStr = str;\n        try { // We can face index out of bound exception if the string is null\n            retStr = str.substring(0, 1).toUpperCase() + str.substring(1);\n        }catch (Exception e){}\n        return retStr;\n}\n</code></pre>\n\n<p><strong>Method to Capitalize First Letter of String in KOTLIN</strong></p>\n\n<pre><code>fun capitalizeString(str: String): String {\n        var retStr = str\n        try { // We can face index out of bound exception if the string is null\n            retStr = str.substring(0, 1).toUpperCase() + str.substring(1)\n        } catch (e: Exception) {\n        }\n        return retStr\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13535741,"reputation":1832,"user_id":9764941,"display_name":"Ali Azaz Alam"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1609227381,"creation_date":1609227381,"answer_id":65488831,"question_id":3904579,"body_markdown":"To capitalize the first letter of the input string, we first split the string on space and then use the collection transformation procedure provided by **map**\r\n\r\n    &lt;T, R&gt; Array&lt;out T&gt;.map(\r\n    \r\n       transform: (T) -&gt; R\r\n    \r\n    ): List&lt;R&gt;\r\n\r\n  to transform, each split string to first in lowercase then capitalize the first letter. This map transformation will return a list that needs to convert into a string by using **joinToString** function.\r\n\r\n&gt; KOTLIN\r\n\r\n    fun main() {\r\n        \r\n        /*\r\n         * Program that first convert all uper case into lower case then \r\n         * convert fist letter into uppercase\r\n         */\r\n        \r\n        val str = &quot;aLi AzAZ alam&quot;\r\n        val calStr = str.split(&quot; &quot;).map{it.toLowerCase().capitalize()}\r\n        println(calStr.joinToString(separator = &quot; &quot;))\r\n    }\r\n\r\n&gt; OUTPUT\r\n\r\n[![output of above code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vThML.png","title":"How to capitalize the first letter of a String in Java?","body":"<p>To capitalize the first letter of the input string, we first split the string on space and then use the collection transformation procedure provided by <strong>map</strong></p>\n<pre><code>&lt;T, R&gt; Array&lt;out T&gt;.map(\n\n   transform: (T) -&gt; R\n\n): List&lt;R&gt;\n</code></pre>\n<p>to transform, each split string to first in lowercase then capitalize the first letter. This map transformation will return a list that needs to convert into a string by using <strong>joinToString</strong> function.</p>\n<blockquote>\n<p>KOTLIN</p>\n</blockquote>\n<pre><code>fun main() {\n    \n    /*\n     * Program that first convert all uper case into lower case then \n     * convert fist letter into uppercase\n     */\n    \n    val str = &quot;aLi AzAZ alam&quot;\n    val calStr = str.split(&quot; &quot;).map{it.toLowerCase().capitalize()}\n    println(calStr.joinToString(separator = &quot; &quot;))\n}\n</code></pre>\n<blockquote>\n<p>OUTPUT</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/vThML.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vThML.png\" alt=\"output of above code\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643717674,"creation_date":1643717674,"answer_id":70940400,"question_id":3904579,"body_markdown":"Here is solution from my side, with all the conditions check.\r\n\r\n       import java.util.Objects;\r\n    \r\n    public class CapitalizeFirstCharacter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSystem.out.println(capitailzeFirstCharacterOfString(&quot;jwala&quot;)); //supply input string here\r\n    \t}\r\n    \r\n    \tprivate static String capitailzeFirstCharacterOfString(String strToCapitalize) {\r\n    \r\n    \t\tif (Objects.nonNull(strToCapitalize) &amp;&amp; !strToCapitalize.isEmpty()) {\r\n    \t\t\treturn strToCapitalize.substring(0, 1).toUpperCase() + strToCapitalize.substring(1);\r\n    \t\t} else {\r\n    \t\t\treturn &quot;Null or Empty value of string supplied&quot;;\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to capitalize the first letter of a String in Java?","body":"<p>Here is solution from my side, with all the conditions check.</p>\n<pre><code>   import java.util.Objects;\n\npublic class CapitalizeFirstCharacter {\n\n    public static void main(String[] args) {\n\n        System.out.println(capitailzeFirstCharacterOfString(&quot;jwala&quot;)); //supply input string here\n    }\n\n    private static String capitailzeFirstCharacterOfString(String strToCapitalize) {\n\n        if (Objects.nonNull(strToCapitalize) &amp;&amp; !strToCapitalize.isEmpty()) {\n            return strToCapitalize.substring(0, 1).toUpperCase() + strToCapitalize.substring(1);\n        } else {\n            return &quot;Null or Empty value of string supplied&quot;;\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23104492,"reputation":31,"user_id":17213365,"display_name":"HeadShot191"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644090184,"creation_date":1644090184,"answer_id":71001547,"question_id":3904579,"body_markdown":"Since you first get Char from your original string. You cant use String properties on char so just use to upper first and then use charAt \r\n\r\n    String s1 = name.toUppercase().charAt(0);\r\n\r\n","title":"How to capitalize the first letter of a String in Java?","body":"<p>Since you first get Char from your original string. You cant use String properties on char so just use to upper first and then use charAt</p>\n<pre><code>String s1 = name.toUppercase().charAt(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23076091,"reputation":666,"user_id":17189011,"display_name":"Uttam Nath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655097235,"creation_date":1655097235,"answer_id":72598032,"question_id":3904579,"body_markdown":"- character `char` can&#39;t store in `String`.\r\n- `char` and `String` can&#39;t concatenate.\r\n- `String.valueOf()` use to convert `char` to `String`\r\n\r\n`Input`\r\n```\r\nindia\r\n```\r\n`Code`\r\n\r\n```\r\nString name = &quot;india&quot;;\r\nchar s1 = name.charAt(0).toUppercase()); // output: &#39;I&#39;\r\nSystem.out.println(String.valueOf(s1) + name.substring(1)); // output: &quot;I&quot;+ &quot;ndia&quot;;\r\n```\r\n`Output`\r\n```\r\nIndia\r\n```","title":"How to capitalize the first letter of a String in Java?","body":"<ul>\n<li>character <code>char</code> can't store in <code>String</code>.</li>\n<li><code>char</code> and <code>String</code> can't concatenate.</li>\n<li><code>String.valueOf()</code> use to convert <code>char</code> to <code>String</code></li>\n</ul>\n<p><code>Input</code></p>\n<pre><code>india\n</code></pre>\n<p><code>Code</code></p>\n<pre><code>String name = &quot;india&quot;;\nchar s1 = name.charAt(0).toUppercase()); // output: 'I'\nSystem.out.println(String.valueOf(s1) + name.substring(1)); // output: &quot;I&quot;+ &quot;ndia&quot;;\n</code></pre>\n<p><code>Output</code></p>\n<pre><code>India\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26079693,"reputation":39,"user_id":19778077,"display_name":"Denis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673551346,"creation_date":1673551346,"answer_id":75101338,"question_id":3904579,"body_markdown":"To avoid exceptions (IndexOutOfBoundsException or NullPointerException when using substring(0, 1) for an empty or null string), you can use regex (&quot;^.&quot;) \r\n(since Java 9):\r\n\r\n        try(BufferedReader reader = new BufferedReader(new InputStreamReader(System.in))) {\r\n            String name = reader.readLine();\r\n\r\n            name = Pattern.compile(&quot;^.&quot;)    // regex for the first character of a string\r\n                    .matcher(name)\r\n                    .replaceFirst(matchResult -&gt; matchResult.group().toUpperCase());\r\n\r\n            System.out.println(name);\r\n        } catch(IOException ignore) {}\r\n    ","title":"How to capitalize the first letter of a String in Java?","body":"<p>To avoid exceptions (IndexOutOfBoundsException or NullPointerException when using substring(0, 1) for an empty or null string), you can use regex (&quot;^.&quot;)\n(since Java 9):</p>\n<pre><code>    try(BufferedReader reader = new BufferedReader(new InputStreamReader(System.in))) {\n        String name = reader.readLine();\n\n        name = Pattern.compile(&quot;^.&quot;)    // regex for the first character of a string\n                .matcher(name)\n                .replaceFirst(matchResult -&gt; matchResult.group().toUpperCase());\n\n        System.out.println(name);\n    } catch(IOException ignore) {}\n</code></pre>\n"}],"owner":{"account_id":660568,"reputation":4969,"user_id":472076,"display_name":"sumithra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977042,"favorite_count":0,"down_vote_count":1,"up_vote_count":497,"answer_count":59,"score":496,"last_activity_date":1698942982,"creation_date":1286785387,"question_id":3904579,"body_markdown":"I am using Java to get a `String` input from the user. I am trying to make the first letter of this input capitalized. \r\n\r\nI tried this:\r\n\r\n    String name;\r\n\r\n    BufferedReader br = new InputStreamReader(System.in);\r\n\r\n    String s1 = name.charAt(0).toUppercase());\r\n\r\n    System.out.println(s1 + name.substring(1));\r\n\r\nwhich led to these compiler errors:\r\n\r\n* &gt; Type mismatch: cannot convert from InputStreamReader to BufferedReader\r\n\r\n* &gt; Cannot invoke toUppercase() on the primitive type char","title":"How to capitalize the first letter of a String in Java?","body":"<p>I am using Java to get a <code>String</code> input from the user. I am trying to make the first letter of this input capitalized.</p>\n<p>I tried this:</p>\n<pre><code>String name;\n\nBufferedReader br = new InputStreamReader(System.in);\n\nString s1 = name.charAt(0).toUppercase());\n\nSystem.out.println(s1 + name.substring(1));\n</code></pre>\n<p>which led to these compiler errors:</p>\n<ul>\n<li>\n<blockquote>\n<p>Type mismatch: cannot convert from InputStreamReader to BufferedReader</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>Cannot invoke toUppercase() on the primitive type char</p>\n</blockquote>\n</li>\n</ul>\n"},{"tags":["java","servlets","cors","jax-rs","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1698939609,"post_id":77407837,"comment_id":136470596,"body_markdown":"Did you register the filter like this? https://docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/ch32.html","body":"Did you register the filter like this? <a href=\"https://docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/ch32.html\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/&hellip;</a>"},{"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"score":0,"creation_date":1698941946,"post_id":77407837,"comment_id":136471097,"body_markdown":"Hi @JamesR.Perkins, I added the wildcard to the origins when I did this. Having learned more about CORS, I think that it&#39;s not allowed together with the AC-Allow-Credentials header. In any case, I will answer my question with the fix that was eventually implemented.","body":"Hi @JamesR.Perkins, I added the wildcard to the origins when I did this. Having learned more about CORS, I think that it&#39;s not allowed together with the AC-Allow-Credentials header. In any case, I will answer my question with the fix that was eventually implemented."}],"answers":[{"tags":[],"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698942332,"creation_date":1698942332,"answer_id":77411307,"question_id":77407837,"body_markdown":"Apparently the problem also appeared when an OPTION request is sent from Postman without having logged in first (we have an endpoint for this that returns an authentication token), but after logging in, then the OPTION requests work just fine - so it was actually an authorization issue that was hidden behind this 405 Method not allowed&quot;. The fix was to eventually add this line to the web.xml, which bypasses the authorization mechanism for OPTION requests : \r\n\r\n```\r\n    &lt;security-constraint&gt;\r\n        &lt;display-name&gt;SecurityConstraint&lt;/display-name&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;Secured page&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/rest-api/*&lt;/url-pattern&gt;\r\n            &lt;http-method-omission&gt;OPTIONS&lt;/http-method-omission&gt; // this one\r\n        &lt;/web-resource-collection&gt;\r\n        ...\r\n    &lt;/security-constraint&gt;\r\n```\r\n\r\nBut this is not enough by itself, as Wildfly doesn&#39;t return the required CORS headers, so it was also needed that the wildfly image be configured according to [this](https://www.mastertheboss.com/web/jboss-web-server/how-to-configure-cors-on-wildfly/), with the modification that the Access-Control-Allowed-Origin header returns the domain name and not wildcard.\r\n","title":"Wildfly returns 405 for all preflight requests","body":"<p>Apparently the problem also appeared when an OPTION request is sent from Postman without having logged in first (we have an endpoint for this that returns an authentication token), but after logging in, then the OPTION requests work just fine - so it was actually an authorization issue that was hidden behind this 405 Method not allowed&quot;. The fix was to eventually add this line to the web.xml, which bypasses the authorization mechanism for OPTION requests :</p>\n<pre><code>    &lt;security-constraint&gt;\n        &lt;display-name&gt;SecurityConstraint&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Secured page&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/rest-api/*&lt;/url-pattern&gt;\n            &lt;http-method-omission&gt;OPTIONS&lt;/http-method-omission&gt; // this one\n        &lt;/web-resource-collection&gt;\n        ...\n    &lt;/security-constraint&gt;\n</code></pre>\n<p>But this is not enough by itself, as Wildfly doesn't return the required CORS headers, so it was also needed that the wildfly image be configured according to <a href=\"https://www.mastertheboss.com/web/jboss-web-server/how-to-configure-cors-on-wildfly/\" rel=\"nofollow noreferrer\">this</a>, with the modification that the Access-Control-Allowed-Origin header returns the domain name and not wildcard.</p>\n"}],"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77411307,"answer_count":1,"score":0,"last_activity_date":1698942332,"creation_date":1698912350,"question_id":77407837,"body_markdown":"I have a web application deployed on Widfly (27.0.1), and a VueJS client that tries to call a REST endpoint in this application. Because I was getting this error (`Access to XMLHttpRequest at &#39;http://localhost:8899/my-services/rest-api/selection-data/all&#39; from origin &#39;http://127.0.0.1:5173&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.`, I added CORS to the wildfly configuration, using a .cli script on startup, following [this](https://www.mastertheboss.com/web/jboss-web-server/how-to-configure-cors-on-wildfly/) guide. Note that it&#39;s a GET request, but I suppose that it&#39;s considered &quot;complex&quot; because of the `application/json` Content-Type.\r\n\r\nHowever this didn&#39;t solve anything, even though I now **get** these headers in the response of the CORS pre-flight request :\r\n```\r\nAccess-Control-Allow-Credentials:\r\ntrue\r\nAccess-Control-Allow-Headers:\r\naccept, authorization, content-type, x-requested-with\r\nAccess-Control-Allow-Methods:\r\nGET, POST, OPTIONS, PUT\r\nAccess-Control-Allow-Origin:\r\n*\r\nAccess-Control-Max-Age:\r\n1\r\n...\r\n```\r\n\r\nI also tried creating a resteasy `org.jboss.resteasy.plugins.interceptors.CORSFilter` and adding it to the application, I can see that it&#39;s added on deployment but nothing is called in it. The same goes for a `@Provider` annotated `Feature` I created that creates a `CORSFilter`, even though I&#39;m not sure if this one is picked up by Wildfly. \r\n\r\nAfter reading some more, I found out that it could be that the **servlet filtering** happens before the CORS filter can do anything, because servlet level precedes the JAX-RS level. But at this point, I don&#39;t know what to do about this. I have a servlet filter class that looks like this:\r\n\r\n```\r\n@WebFilter(urlPatterns = { &quot;/*&quot; })\r\npublic class UserCredentialFilter implements Filter {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(UserCredentialFilter.class);\r\n\r\n    private final User user;\r\n\r\n    @Inject\r\n    public UserCredentialFilter(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n        // nothing to do\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n            throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = ((HttpServletRequest) servletRequest);\r\n        // it doesn&#39;t enter this point in preflight requests\r\n        if (httpServletRequest.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;)) {\r\n            // below doesn&#39;t get called either\r\n            System.out.println(&quot;In a preflight request?&quot;);\r\n            return;\r\n        }\r\n\r\n        Principal userPrincipal = httpServletRequest.getUserPrincipal();\r\n        if (userPrincipal != null) {\r\n            ///// user-related logic\r\n        }\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        // nothing to do\r\n    }\r\n}\r\n```\r\n\r\nAt which point should I handle this preflight request? Who and what part of the code returns that the OPTIONS method is not allowed? \r\n\r\nEdit: I just found out that the wildcard ( * ) in the ACAO header cannot be used if also the Access-Control-Allow-Credentials is set to true, but I don&#39;t think that the 405 code would be returned, according to the specifications it would be &quot;Reason: Credential is not supported if the CORS header &#39;Access-Control-Allow-Origin&#39; is &#39;*&#39;\r\n&quot;","title":"Wildfly returns 405 for all preflight requests","body":"<p>I have a web application deployed on Widfly (27.0.1), and a VueJS client that tries to call a REST endpoint in this application. Because I was getting this error (<code>Access to XMLHttpRequest at 'http://localhost:8899/my-services/rest-api/selection-data/all' from origin 'http://127.0.0.1:5173' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.</code>, I added CORS to the wildfly configuration, using a .cli script on startup, following <a href=\"https://www.mastertheboss.com/web/jboss-web-server/how-to-configure-cors-on-wildfly/\" rel=\"nofollow noreferrer\">this</a> guide. Note that it's a GET request, but I suppose that it's considered &quot;complex&quot; because of the <code>application/json</code> Content-Type.</p>\n<p>However this didn't solve anything, even though I now <strong>get</strong> these headers in the response of the CORS pre-flight request :</p>\n<pre><code>Access-Control-Allow-Credentials:\ntrue\nAccess-Control-Allow-Headers:\naccept, authorization, content-type, x-requested-with\nAccess-Control-Allow-Methods:\nGET, POST, OPTIONS, PUT\nAccess-Control-Allow-Origin:\n*\nAccess-Control-Max-Age:\n1\n...\n</code></pre>\n<p>I also tried creating a resteasy <code>org.jboss.resteasy.plugins.interceptors.CORSFilter</code> and adding it to the application, I can see that it's added on deployment but nothing is called in it. The same goes for a <code>@Provider</code> annotated <code>Feature</code> I created that creates a <code>CORSFilter</code>, even though I'm not sure if this one is picked up by Wildfly.</p>\n<p>After reading some more, I found out that it could be that the <strong>servlet filtering</strong> happens before the CORS filter can do anything, because servlet level precedes the JAX-RS level. But at this point, I don't know what to do about this. I have a servlet filter class that looks like this:</p>\n<pre><code>@WebFilter(urlPatterns = { &quot;/*&quot; })\npublic class UserCredentialFilter implements Filter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(UserCredentialFilter.class);\n\n    private final User user;\n\n    @Inject\n    public UserCredentialFilter(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n        // nothing to do\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n            throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = ((HttpServletRequest) servletRequest);\n        // it doesn't enter this point in preflight requests\n        if (httpServletRequest.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;)) {\n            // below doesn't get called either\n            System.out.println(&quot;In a preflight request?&quot;);\n            return;\n        }\n\n        Principal userPrincipal = httpServletRequest.getUserPrincipal();\n        if (userPrincipal != null) {\n            ///// user-related logic\n        }\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n        // nothing to do\n    }\n}\n</code></pre>\n<p>At which point should I handle this preflight request? Who and what part of the code returns that the OPTIONS method is not allowed?</p>\n<p>Edit: I just found out that the wildcard ( * ) in the ACAO header cannot be used if also the Access-Control-Allow-Credentials is set to true, but I don't think that the 405 code would be returned, according to the specifications it would be &quot;Reason: Credential is not supported if the CORS header 'Access-Control-Allow-Origin' is '*'\n&quot;</p>\n"},{"tags":["java","selenium","xpath","selenium-webdriver"],"comments":[{"owner":{"account_id":4222085,"reputation":302,"user_id":3456626,"display_name":"NotInventedHere"},"score":1,"creation_date":1500413743,"post_id":45174799,"comment_id":77323551,"body_markdown":"Do you use &quot;tiles&quot; for anything else or are you just using it as a stepping stone to getting the child element? The xpaths you are trying to use to get the child elements are horrendous btw. That style is guaranteed to break and be really difficult to debug. If you post an example of the html I&#39;m sure we&#39;ll be able to come up with something better for you.","body":"Do you use &quot;tiles&quot; for anything else or are you just using it as a stepping stone to getting the child element? The xpaths you are trying to use to get the child elements are horrendous btw. That style is guaranteed to break and be really difficult to debug. If you post an example of the html I&#39;m sure we&#39;ll be able to come up with something better for you."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1500429171,"post_id":45174799,"comment_id":77327906,"body_markdown":"What&#39;s the URL for the site?","body":"What&#39;s the URL for the site?"}],"answers":[{"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1698942197,"creation_date":1500407488,"answer_id":45175857,"question_id":45174799,"body_markdown":"The [API documentation][1] for `findElements()` says:\r\n\r\n&gt; When using xpath be aware that webdriver follows standard conventions: a search prefixed with &quot;//&quot; will search the entire document, not just the children of this current node. Use &quot;.//&quot; to limit your search to the children of this WebElement.\r\n\r\nSame rules apply to `findElement()` (the singular form). So you should be able to do something like:\r\n\r\n    WebElement foo = driver.findElement(By.xpath(&quot;//*[@title=&#39;&quot; + title + &quot;&#39;]&quot;));\r\n    WebElement bar = foo.findElement(By.xpath(&quot;.//img&quot;));\r\n\r\nThe leading dot in the second xpath makes all the difference, as it will search only for child elements of `foo`.\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#findElements(org.openqa.selenium.By)","title":"How to find the child elements of a specific WebElement (which I don&#39;t know the xpath to)","body":"<p>The <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#findElements(org.openqa.selenium.By)\" rel=\"nofollow noreferrer\">API documentation</a> for <code>findElements()</code> says:</p>\n<blockquote>\n<p>When using xpath be aware that webdriver follows standard conventions: a search prefixed with &quot;//&quot; will search the entire document, not just the children of this current node. Use &quot;.//&quot; to limit your search to the children of this WebElement.</p>\n</blockquote>\n<p>Same rules apply to <code>findElement()</code> (the singular form). So you should be able to do something like:</p>\n<pre><code>WebElement foo = driver.findElement(By.xpath(&quot;//*[@title='&quot; + title + &quot;']&quot;));\nWebElement bar = foo.findElement(By.xpath(&quot;.//img&quot;));\n</code></pre>\n<p>The leading dot in the second xpath makes all the difference, as it will search only for child elements of <code>foo</code>.</p>\n"},{"tags":[],"owner":{"account_id":12500447,"reputation":93,"user_id":9099080,"display_name":"STG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624863547,"creation_date":1624366764,"answer_id":68084004,"question_id":45174799,"body_markdown":"Topic with similar question! - [XPath to get all child nodes (elements, comments, and text) without parent\r\n][1] \r\n\r\nthis part from that topic can interest you.\r\n\r\n&gt; `child::*` selects all element\r\n&gt; children of the context node \r\n&gt; \r\n&gt; `child::text()` selects all text node\r\n&gt; children of the context node \r\n&gt; \r\n&gt; `child::node()` selects all the\r\n&gt; children of the context node, whatever\r\n&gt; their node type\r\n\r\nWe can identify the child nodes from the parent, by localizing it with the parent and then passing `( ./child::*)` as a parameter to the `findElements(By.xpath(&quot;&quot;))`\r\n\r\n    var childs = parent.findElements(By.xpath(&quot;./child::*&quot;));\r\n\r\nthen in your code filter/process them...\r\n\r\n  [1]: https://stackoverflow.com/questions/5119655/xpath-to-get-all-child-nodes-elements-comments-and-text-without-parent","title":"How to find the child elements of a specific WebElement (which I don&#39;t know the xpath to)","body":"<p>Topic with similar question! - <a href=\"https://stackoverflow.com/questions/5119655/xpath-to-get-all-child-nodes-elements-comments-and-text-without-parent\">XPath to get all child nodes (elements, comments, and text) without parent\n</a></p>\n<p>this part from that topic can interest you.</p>\n<blockquote>\n<p><code>child::*</code> selects all element\nchildren of the context node</p>\n<p><code>child::text()</code> selects all text node\nchildren of the context node</p>\n<p><code>child::node()</code> selects all the\nchildren of the context node, whatever\ntheir node type</p>\n</blockquote>\n<p>We can identify the child nodes from the parent, by localizing it with the parent and then passing <code>( ./child::*)</code> as a parameter to the <code>findElements(By.xpath(&quot;&quot;))</code></p>\n<pre><code>var childs = parent.findElements(By.xpath(&quot;./child::*&quot;));\n</code></pre>\n<p>then in your code filter/process them...</p>\n"}],"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31492,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1698942197,"creation_date":1500403668,"question_id":45174799,"body_markdown":"I have an arbitrary number of tiles that have a unique class name. One of them has a unique title so I&#39;m trying to grab that one specifically. Once I&#39;ve done that, I want a reference to child element rather deep in its structure.\r\n\r\n**Does the &quot;tile.&quot; part of tile.findElement() do anything for me here? I want to be specifically using an xpath relative to tile.**\r\n\r\n    public WebElement getArticleTileByTitle(String title){\r\n    \t\tBy xpath = By.xpath(&quot;.//div[contains(., &#39;&quot; + title + &quot;&#39;) or @title=&#39;&quot; + title +  &quot;&#39;]&quot;);\r\n    \t\tList&lt;WebElement&gt; tiles = findPresentElements(By.className(&quot;articleTile&quot;));\r\n    \t\tfor(WebElement tile : tiles){\r\n    \t\t\tif(isElementPresent(tile, xpath))\r\n    \t\t\t\treturn tile;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\n\tpublic boolean articleTileImageIsVisible(WebElement tile){\r\n\t\tWebElement background = tile.findElement(By.xpath(&quot;/*[2]/*[2]/*[1]/*[3]&quot;)); //This throws NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/*[2]/*[2]/*[1]/*[3]&quot;}\r\n\t\t//figure out stuff about background\r\n\t}\r\n\r\nI know that background is of type img so I&#39;ve tried \r\n\r\n    tile.findElement(By.xpath(&quot;./img/*[2]/*[2]/*[1]/*[3]&quot;));\r\n    tile.findElement(By.xpath(&quot;./*/*[2]/*[2]/*[1]/*[3]&quot;));\r\n    tile.findElement(By.xpath(&quot;.//*/*[2]/*[2]/*[1]/*[3]&quot;));\r\n    tile.findElement(By.xpath(&quot;./*/*[2]/*[2]/*[1]/*[3]&quot;));\r\n\r\nNever the less, I keep getting variations on NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/*[2]/*[2]/*[1]/*[3]&quot;} and That&#39;s not a valid xpath.\r\n\r\nThis question is very similar to https://stackoverflow.com/questions/7180243/selenium-2-can-findelementby-xpath-be-scoped-to-a-particular-element but people seem to have either misinterpreted it or my use case is different.","title":"How to find the child elements of a specific WebElement (which I don&#39;t know the xpath to)","body":"<p>I have an arbitrary number of tiles that have a unique class name. One of them has a unique title so I'm trying to grab that one specifically. Once I've done that, I want a reference to child element rather deep in its structure.</p>\n\n<p><strong>Does the \"tile.\" part of tile.findElement() do anything for me here? I want to be specifically using an xpath relative to tile.</strong></p>\n\n<pre><code>public WebElement getArticleTileByTitle(String title){\n        By xpath = By.xpath(\".//div[contains(., '\" + title + \"') or @title='\" + title +  \"']\");\n        List&lt;WebElement&gt; tiles = findPresentElements(By.className(\"articleTile\"));\n        for(WebElement tile : tiles){\n            if(isElementPresent(tile, xpath))\n                return tile;\n        }\n        return null;\n    }\n\npublic boolean articleTileImageIsVisible(WebElement tile){\n    WebElement background = tile.findElement(By.xpath(\"/*[2]/*[2]/*[1]/*[3]\")); //This throws NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"/*[2]/*[2]/*[1]/*[3]\"}\n    //figure out stuff about background\n}\n</code></pre>\n\n<p>I know that background is of type img so I've tried </p>\n\n<pre><code>tile.findElement(By.xpath(\"./img/*[2]/*[2]/*[1]/*[3]\"));\ntile.findElement(By.xpath(\"./*/*[2]/*[2]/*[1]/*[3]\"));\ntile.findElement(By.xpath(\".//*/*[2]/*[2]/*[1]/*[3]\"));\ntile.findElement(By.xpath(\"./*/*[2]/*[2]/*[1]/*[3]\"));\n</code></pre>\n\n<p>Never the less, I keep getting variations on NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"/<em>[2]/</em>[2]/<em>[1]/</em>[3]\"} and That's not a valid xpath.</p>\n\n<p>This question is very similar to <a href=\"https://stackoverflow.com/questions/7180243/selenium-2-can-findelementby-xpath-be-scoped-to-a-particular-element\">Selenium 2 - Can findElement(By.xpath) be scoped to a particular element?</a> but people seem to have either misinterpreted it or my use case is different.</p>\n"},{"tags":["java","maven","intellij-idea","faker","intellij-15"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1590579315,"post_id":62041784,"comment_id":109731106,"body_markdown":"Are you sure this feature is available in the Community Edition? Some features are Ultimate only.","body":"Are you sure this feature is available in the Community Edition? Some features are Ultimate only."}],"answers":[{"tags":[],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1590578475,"creation_date":1590578475,"answer_id":62041875,"question_id":62041784,"body_markdown":"What you are looking for is in the contextual menu of your project. Right click on the root folder of your project and you will find it.\r\n\r\nSo you should have already created a project. Or, at a project creation you can also decide to use any framework\r\n\r\n[![framework support][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3wHt.png","title":"Add Framework Support missing in Intellij IDEA","body":"<p>What you are looking for is in the contextual menu of your project. Right click on the root folder of your project and you will find it.</p>\n\n<p>So you should have already created a project. Or, at a project creation you can also decide to use any framework</p>\n\n<p><a href=\"https://i.stack.imgur.com/N3wHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3wHt.png\" alt=\"framework support\"></a></p>\n"},{"tags":[],"owner":{"account_id":27613977,"reputation":1,"user_id":22288997,"display_name":"  Revers"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698942153,"creation_date":1692358702,"answer_id":76928984,"question_id":62041784,"body_markdown":"Try to download [Hibernate Core Relocation]: https://mvnrepository.com/artifact/org.hibernate/hibernate-core from Maven repository","title":"Add Framework Support missing in Intellij IDEA","body":"<p>Try to download [Hibernate Core Relocation]: <a href=\"https://mvnrepository.com/artifact/org.hibernate/hibernate-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hibernate/hibernate-core</a> from Maven repository</p>\n"}],"owner":{"account_id":11117369,"reputation":1482,"user_id":8161309,"display_name":"Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4103,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62041875,"answer_count":2,"score":3,"last_activity_date":1698942153,"creation_date":1590578143,"question_id":62041784,"body_markdown":"I am trying to add an external library using Maven.\r\n\r\nTutorials mention to right click on a module, and select &quot;Add Framework Support&quot;. I have looked in detail, and I cannot find that option in my IntelliJ.\r\n\r\nHere is my current version of IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kBbIj.png\r\n\r\n\r\nAny insight would be appreciated, as I have been stuck on this for a while.\r\n","title":"Add Framework Support missing in Intellij IDEA","body":"<p>I am trying to add an external library using Maven.</p>\n<p>Tutorials mention to right click on a module, and select &quot;Add Framework Support&quot;. I have looked in detail, and I cannot find that option in my IntelliJ.</p>\n<p>Here is my current version of IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/kBbIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBbIj.png\" alt=\"enter image description here\" /></a></p>\n<p>Any insight would be appreciated, as I have been stuck on this for a while.</p>\n"},{"tags":["java","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":1464652,"reputation":12313,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1619513054,"post_id":67279595,"comment_id":118921753,"body_markdown":"An alternative could be to get rid of the Maven&#39;s release functionality alltogether and instead utilize on a `${revision}` property that can later on be set with `-Drevision=3.2.1` by the build pipeline. This requires the usage of the flatten plugin to actually resolve the version in the pom and allow the up- and download of the artifacts by Maven. [This blog post](https://medium.com/outbrain-engineering/faster-release-with-maven-ci-friendly-versions-and-a-customised-flatten-plugin-fe53f0fcc0df) sums up the process and even provides a faster alternative to the flatten-plugin","body":"An alternative could be to get rid of the Maven&#39;s release functionality alltogether and instead utilize on a <code>${revision}</code> property that can later on be set with <code>-Drevision=3.2.1</code> by the build pipeline. This requires the usage of the flatten plugin to actually resolve the version in the pom and allow the up- and download of the artifacts by Maven. <a href=\"https://medium.com/outbrain-engineering/faster-release-with-maven-ci-friendly-versions-and-a-customised-flatten-plugin-fe53f0fcc0df\" rel=\"nofollow noreferrer\">This blog post</a> sums up the process and even provides a faster alternative to the flatten-plugin"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1619514417,"post_id":67279595,"comment_id":118922276,"body_markdown":"My assumption is that project2 version is not 9.0.2-SNAPSHOT? I assume that the version is something like &quot;X.X.X&quot; (but not SNAPSHOT). So I would suggest to put the literal version without SNAPSHOT into it..","body":"My assumption is that project2 version is not 9.0.2-SNAPSHOT? I assume that the version is something like &quot;X.X.X&quot; (but not SNAPSHOT). So I would suggest to put the literal version without SNAPSHOT into it.."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1619514701,"post_id":67279595,"comment_id":118922401,"body_markdown":"@khmarbaise the thing is: Several projects should be build with the same version (like in a multi-module project), so we need a property.","body":"@khmarbaise the thing is: Several projects should be build with the same version (like in a multi-module project), so we need a property."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1619527774,"post_id":67279595,"comment_id":118927814,"body_markdown":"I have understood and expected exactly that requirement but if you keep the property the release plugin will check that and will fail... a dependency during a release is not allowed to be a snapshot which is not part of the reactor which here is exactly the case. So you have to go first and release project2 and afterwards you can release project1 unfortunately I don&#39;t see any other option except to restructure into a multi module which you have already mentioned that&#39;s not possible at the moment...","body":"I have understood and expected exactly that requirement but if you keep the property the release plugin will check that and will fail... a dependency during a release is not allowed to be a snapshot which is not part of the reactor which here is exactly the case. So you have to go first and release project2 and afterwards you can release project1 unfortunately I don&#39;t see any other option except to restructure into a multi module which you have already mentioned that&#39;s not possible at the moment..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620306974,"creation_date":1620306974,"answer_id":67418942,"question_id":67279595,"body_markdown":"The &quot;solution&quot; is as follows:\r\n\r\n- define a property `&lt;dep.version&gt;${project.version}&lt;/dep.version&gt;` in the POM and use it instead of `${project.version}`.\r\n- Use the versions maven plugin to update the property `${dep.version}` before the build to the next release version (and commit).\r\n- Do the build\r\n- Run the version plugin to reset the value `${dep.version}` back to `${project.version}`.","title":"Ignore ${project.version} in Maven release:prepare","body":"<p>The &quot;solution&quot; is as follows:</p>\n<ul>\n<li>define a property <code>&lt;dep.version&gt;${project.version}&lt;/dep.version&gt;</code> in the POM and use it instead of <code>${project.version}</code>.</li>\n<li>Use the versions maven plugin to update the property <code>${dep.version}</code> before the build to the next release version (and commit).</li>\n<li>Do the build</li>\n<li>Run the version plugin to reset the value <code>${dep.version}</code> back to <code>${project.version}</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698941793,"creation_date":1698941793,"answer_id":77411251,"question_id":67279595,"body_markdown":"Hardcode the version.  In your example, use `9.0.2-SNAPSHOT` instead of `${project.version}`.  Maven understands that the reactor and the dependency are in the same project and have the same version, so the `maven-release-plugin` will update both versions to `9.0.2` for the release and `9.0.3-SNAPSHOT` for the next snapshot by default &amp;mdash; nothing else required.","title":"Ignore ${project.version} in Maven release:prepare","body":"<p>Hardcode the version.  In your example, use <code>9.0.2-SNAPSHOT</code> instead of <code>${project.version}</code>.  Maven understands that the reactor and the dependency are in the same project and have the same version, so the <code>maven-release-plugin</code> will update both versions to <code>9.0.2</code> for the release and <code>9.0.3-SNAPSHOT</code> for the next snapshot by default — nothing else required.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67418942,"answer_count":2,"score":0,"last_activity_date":1698941793,"creation_date":1619512441,"question_id":67279595,"body_markdown":"We have projects that are built one after another in the build server. They probably could become a multi-module project in the future, but at the moment there is no capacity for restructuring the repositories, projects etc. and introducing new parent POMs.\r\n\r\nWe tried to use a structure like\r\n\r\n````xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.something&lt;/groupId&gt;\r\n  &lt;artifactId&gt;project1&lt;/artifactId&gt;\r\n  &lt;version&gt;9.0.2-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.something&lt;/groupId&gt;\r\n      &lt;artifactId&gt;project2&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\nUnfortunately, the maven release plugin (more specifically, the `release:prepare` goal) fails on this because it considers the dependency to be a SNAPSHOT dependency. \r\n\r\nIs there any way (besides rebuilding everything as multi-module) to tell the maven release plugin that this is not the case?\r\n\r\nSomething like\r\n\r\n- &quot;`${project.version}` is ok, don&#39;t worry&quot;\r\n- or &quot;Don&#39;t check project2 for SNAPSHOT&quot;","title":"Ignore ${project.version} in Maven release:prepare","body":"<p>We have projects that are built one after another in the build server. They probably could become a multi-module project in the future, but at the moment there is no capacity for restructuring the repositories, projects etc. and introducing new parent POMs.</p>\n<p>We tried to use a structure like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.something&lt;/groupId&gt;\n  &lt;artifactId&gt;project1&lt;/artifactId&gt;\n  &lt;version&gt;9.0.2-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.something&lt;/groupId&gt;\n      &lt;artifactId&gt;project2&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Unfortunately, the maven release plugin (more specifically, the <code>release:prepare</code> goal) fails on this because it considers the dependency to be a SNAPSHOT dependency.</p>\n<p>Is there any way (besides rebuilding everything as multi-module) to tell the maven release plugin that this is not the case?</p>\n<p>Something like</p>\n<ul>\n<li>&quot;<code>${project.version}</code> is ok, don't worry&quot;</li>\n<li>or &quot;Don't check project2 for SNAPSHOT&quot;</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9772,"page":84,"page_size":100}
