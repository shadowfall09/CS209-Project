{"items":[{"tags":["java","logging","message","systemd"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667390176,"post_id":74288222,"comment_id":131154607,"body_markdown":"*But i dont want to use Log4j or a other Library :)* But you shouldn&#39;t *not* want to, as that&#39;s how logging should be done. It can even interact with system logging if need be if you use the right library","body":"<i>But i dont want to use Log4j or a other Library :)</i> But you shouldn&#39;t <i>not</i> want to, as that&#39;s how logging should be done. It can even interact with system logging if need be if you use the right library"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667391100,"creation_date":1667390669,"answer_id":74288858,"question_id":74288222,"body_markdown":"# System.err\r\n\r\nI suspect you want something very simple, so you can try the error output stream accessible via [`System.err`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#err). It can be used pretty match like a standard output stream `System.out` with which you&#39;re already familiar.\r\n\r\nYou can create your own message patterns and apply them using `printf()` *(refer to the [official tutorial](https://docs.oracle.com/javase/tutorial/essential/io/formatting.html) provided by Oracle for more information on string formatting*).\r\n\r\n```\r\nSystem.err.println(&quot;message&quot;);\r\n        \r\nSystem.err.printf(LocalDate.now() + &quot; : %s&quot;, &quot;message&quot;);\r\n```\r\n\r\nThe message would be printed on the Console, highlighted in red. That&#39;s it.\r\n\r\n# Java logging API\r\n\r\nIf you want something more elaborate, Java has a built-in logging API (*no external dependencies required*). It resides in the `java.util.logging` (*that&#39;s why it&#39;s called JUL for short*) and offers lots of functionality and many tools including Loggers, Handler, Filters, Formatters, etc. You can learn more about it [here](https://docs.oracle.com/en/java/javase/15/core/java-logging-overview.html#GUID-B83B652C-17EA-48D9-93D2-563AE1FF8EDA).\r\n\r\nHere&#39;s a very dummy example:\r\n\r\n```\r\nLogger logger = Logger.getLogger(&quot;myLogger&quot;);\r\nlogger.log(Level.WARNING, &quot;something is wrong&quot;);\r\n```\r\n\r\nThat said, if you would decide to use JUL, you at least need to be aware what are the downsides of it and why other logging tool exist. \r\n\r\nFor instance, you can read this question:\r\n\r\nhttps://stackoverflow.com/questions/11359187/why-not-use-java-util-logging","title":"Filter System.out.println messages in journalctl by Error, Warn, Info","body":"<h1>System.err</h1>\n<p>I suspect you want something very simple, so you can try the error output stream accessible via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#err\" rel=\"nofollow noreferrer\"><code>System.err</code></a>. It can be used pretty match like a standard output stream <code>System.out</code> with which you're already familiar.</p>\n<p>You can create your own message patterns and apply them using <code>printf()</code> <em>(refer to the <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/formatting.html\" rel=\"nofollow noreferrer\">official tutorial</a> provided by Oracle for more information on string formatting</em>).</p>\n<pre><code>System.err.println(&quot;message&quot;);\n        \nSystem.err.printf(LocalDate.now() + &quot; : %s&quot;, &quot;message&quot;);\n</code></pre>\n<p>The message would be printed on the Console, highlighted in red. That's it.</p>\n<h1>Java logging API</h1>\n<p>If you want something more elaborate, Java has a built-in logging API (<em>no external dependencies required</em>). It resides in the <code>java.util.logging</code> (<em>that's why it's called JUL for short</em>) and offers lots of functionality and many tools including Loggers, Handler, Filters, Formatters, etc. You can learn more about it <a href=\"https://docs.oracle.com/en/java/javase/15/core/java-logging-overview.html#GUID-B83B652C-17EA-48D9-93D2-563AE1FF8EDA\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here's a very dummy example:</p>\n<pre><code>Logger logger = Logger.getLogger(&quot;myLogger&quot;);\nlogger.log(Level.WARNING, &quot;something is wrong&quot;);\n</code></pre>\n<p>That said, if you would decide to use JUL, you at least need to be aware what are the downsides of it and why other logging tool exist.</p>\n<p>For instance, you can read this question:</p>\n<p><a href=\"https://stackoverflow.com/questions/11359187/why-not-use-java-util-logging\">Why not use java.util.logging?</a></p>\n"}],"owner":{"account_id":16857411,"reputation":93,"user_id":12189042,"display_name":"Morty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74288858,"answer_count":1,"score":0,"last_activity_date":1667402231,"creation_date":1667387345,"question_id":74288222,"body_markdown":"How can I Filter Messages in Java, that is controlled by Systemd?\r\n\r\nAt the moment, I&#39;m writing logs using `System.out.println` like this:\r\n\r\n    System.out.println(&quot;Hello this is a Error&quot;);\r\n\r\nand the Journalctl -b -u test.service gives me this:\r\n\r\n    Nov 02 11:58:41 test java[10]: Hello this is a Error\r\n\r\n**I would like to do something like this**\r\n\r\nConsider a pseudocode:\r\n\r\n```\r\nSystem.out.println(&quot;Hello this is a Error&quot;, &quot;Warn&quot;);\r\n```\r\nand obtain the following:\r\n\r\n    Nov 02 11:58:41 test java[10] [Error]: Hello this is a Error\r\n\r\nBut I **don&#39;t** want to use Log4j or any other Library. Maybe I just don&#39;t know what to search for, can&#39;t find a solution. Hope somebody has an idea.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Filter System.out.println messages in journalctl by Error, Warn, Info","body":"<p>How can I Filter Messages in Java, that is controlled by Systemd?</p>\n<p>At the moment, I'm writing logs using <code>System.out.println</code> like this:</p>\n<pre><code>System.out.println(&quot;Hello this is a Error&quot;);\n</code></pre>\n<p>and the Journalctl -b -u test.service gives me this:</p>\n<pre><code>Nov 02 11:58:41 test java[10]: Hello this is a Error\n</code></pre>\n<p><strong>I would like to do something like this</strong></p>\n<p>Consider a pseudocode:</p>\n<pre><code>System.out.println(&quot;Hello this is a Error&quot;, &quot;Warn&quot;);\n</code></pre>\n<p>and obtain the following:</p>\n<pre><code>Nov 02 11:58:41 test java[10] [Error]: Hello this is a Error\n</code></pre>\n<p>But I <strong>don't</strong> want to use Log4j or any other Library. Maybe I just don't know what to search for, can't find a solution. Hope somebody has an idea.</p>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667402156,"post_id":74291524,"comment_id":131159316,"body_markdown":"Don&#39;t reinvent the wheel, checkstyle can do this https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/imports/IllegalImportCheck.html","body":"Don&#39;t reinvent the wheel, checkstyle can do this <a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/imports/IllegalImportCheck.html\" rel=\"nofollow noreferrer\">checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/&hellip;</a>"},{"owner":{"account_id":17696,"reputation":753,"user_id":39893,"accept_rate":100,"display_name":"Kai Mechel"},"score":0,"creation_date":1667404356,"post_id":74291524,"comment_id":131160162,"body_markdown":"@AbhijitSarkar the only problem is, that Checkstyle does not find code within a method like &quot;org.assertj.core.util.Lists.newArrayList()&quot; because there is no import if you fully qualify the &#39;unwanted class&#39;.\n\nBut apart from that, it helps for a lot of occurrences, thank you!","body":"@AbhijitSarkar the only problem is, that Checkstyle does not find code within a method like &quot;org.assertj.core.util.Lists.newArrayList()&quot; because there is no import if you fully qualify the &#39;unwanted class&#39;.  But apart from that, it helps for a lot of occurrences, thank you!"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667449565,"post_id":74291524,"comment_id":131171142,"body_markdown":"You may want to report the FQN issue to [Checkstyle](https://github.com/checkstyle/checkstyle).","body":"You may want to report the FQN issue to <a href=\"https://github.com/checkstyle/checkstyle\" rel=\"nofollow noreferrer\">Checkstyle</a>."}],"owner":{"account_id":17696,"reputation":753,"user_id":39893,"accept_rate":100,"display_name":"Kai Mechel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667402073,"creation_date":1667402073,"question_id":74291524,"body_markdown":"How can I find unwanted imports in a java class with a SpotBugs Detector?\r\n\r\nRight now I&#39;m trying to extends BytecodeScanningDetector and overrite visit(...) methods.\r\nBut I can&#39;t seem to find the information (originating package of variables) that I want.","title":"Spotbugs - write Detector, that finds unwanted imports in a java class","body":"<p>How can I find unwanted imports in a java class with a SpotBugs Detector?</p>\n<p>Right now I'm trying to extends BytecodeScanningDetector and overrite visit(...) methods.\nBut I can't seem to find the information (originating package of variables) that I want.</p>\n"},{"tags":["java","spring-boot","kubernetes-pod"],"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658090876,"post_id":73013237,"comment_id":128959032,"body_markdown":"Your question is formulated too broad, it will be hard to formulate an answer. Providing a [minimal-reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) might help!","body":"Your question is formulated too broad, it will be hard to formulate an answer. Providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible example</a> might help!"},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658137324,"post_id":73013237,"comment_id":128967516,"body_markdown":"how exactly do you fetch your records?","body":"how exactly do you fetch your records?"},{"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"score":0,"creation_date":1658211327,"post_id":73013237,"comment_id":128988243,"body_markdown":"I fetch records from database","body":"I fetch records from database"},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658211934,"post_id":73013237,"comment_id":128988406,"body_markdown":"I mean, do use plain JDBC, standard JPA or Spring Data? Can you share a small snippet how you retrieve the records? Most likely you&#39;ll need to use database locks and a additional column to set processing status to prevent double processing.","body":"I mean, do use plain JDBC, standard JPA or Spring Data? Can you share a small snippet how you retrieve the records? Most likely you&#39;ll need to use database locks and a additional column to set processing status to prevent double processing."},{"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"score":0,"creation_date":1658235051,"post_id":73013237,"comment_id":128996886,"body_markdown":"I am using JPA but I am caching the records(whose datetime field is of within 5 hrs) at service side, taking the records from cache and picking up for the matched time with current time.","body":"I am using JPA but I am caching the records(whose datetime field is of within 5 hrs) at service side, taking the records from cache and picking up for the matched time with current time."},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658245644,"post_id":73013237,"comment_id":129001588,"body_markdown":"how do you cache them? and, independent of that, can you add a field to support marking an entry as processed?","body":"how do you cache them? and, independent of that, can you add a field to support marking an entry as processed?"},{"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"score":0,"creation_date":1658299956,"post_id":73013237,"comment_id":129014000,"body_markdown":"I am maintaining a TreeSet of records. I can add processed field in collection but how other pod will get to know. I am maintaining processed field in DB after it picked up and sent the email, but between that only other pod is also picking this up. As it is scheduled for the same time.","body":"I am maintaining a TreeSet of records. I can add processed field in collection but how other pod will get to know. I am maintaining processed field in DB after it picked up and sent the email, but between that only other pod is also picking this up. As it is scheduled for the same time."}],"answers":[{"tags":[],"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658088551,"creation_date":1658088551,"answer_id":73015037,"question_id":73013237,"body_markdown":"The best solution is to get the singleton pattern modifying the application so as to have the single record processed once. You can use a locking mechanism so as to prevent double processing. The other solution is to use a StatefulSets controller on kubernetes, but that way you have only one pod working at a time.","title":"How to avoid same event trigger from two pods","body":"<p>The best solution is to get the singleton pattern modifying the application so as to have the single record processed once. You can use a locking mechanism so as to prevent double processing. The other solution is to use a StatefulSets controller on kubernetes, but that way you have only one pod working at a time.</p>\n"},{"tags":[],"owner":{"account_id":4763497,"reputation":11,"user_id":3850289,"display_name":"ulf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667400958,"creation_date":1667400958,"answer_id":74291269,"question_id":73013237,"body_markdown":"An easy way would be to allow the process to be triggered from outside of the application, e.g. using a RestController.\r\nThen, you could move the scheduler outside of your application as well and trigger the endpoint using the URL of the Service. The request will be processed by one of the pods only.\r\nIn Kubernetes, you could use a [CronJob][1] to do that.\r\n\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/","title":"How to avoid same event trigger from two pods","body":"<p>An easy way would be to allow the process to be triggered from outside of the application, e.g. using a RestController.\nThen, you could move the scheduler outside of your application as well and trigger the endpoint using the URL of the Service. The request will be processed by one of the pods only.\nIn Kubernetes, you could use a <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/\" rel=\"nofollow noreferrer\">CronJob</a> to do that.</p>\n"}],"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667400958,"creation_date":1658073198,"question_id":73013237,"body_markdown":"I am creating a Java spring boot service, I am caching a few records from DB. I am matching current time with records time(a DB column) on every 2 minutes. If matched, I am sending email  with @Scheduled(cron = expression). \r\nI am running this service on two pods. Hence for a single record event is triggering on both pods and sending same email.\r\n\r\nIn short I want to trigger email at a some scheduled time and I have two pods. Both pods are triggering email at same scheduled time\r\n\r\nHow can I avoid this?\r\n ","title":"How to avoid same event trigger from two pods","body":"<p>I am creating a Java spring boot service, I am caching a few records from DB. I am matching current time with records time(a DB column) on every 2 minutes. If matched, I am sending email  with @Scheduled(cron = expression).\nI am running this service on two pods. Hence for a single record event is triggering on both pods and sending same email.</p>\n<p>In short I want to trigger email at a some scheduled time and I have two pods. Both pods are triggering email at same scheduled time</p>\n<p>How can I avoid this?</p>\n"},{"tags":["java","nlp","stanford-nlp","pos-tagger"],"answers":[{"tags":[],"owner":{"account_id":1589853,"reputation":5729,"user_id":1473431,"display_name":"Gabor Angeli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1490553931,"creation_date":1490553931,"answer_id":43033034,"question_id":43022047,"body_markdown":"I&#39;m not actually sure they&#39;re represented explicitly anywhere in the code. The tagger simply outputs them as Strings rather than any sort of fixed enum, and the output space is inferred directly from the training data. The advantage of this being that you can train the exact same model on arbitrary tag sets. And of course the disadvantage you&#39;ve just run into. :)\r\n\r\nHowever, for English, the tag set should be the Penn Treebank tag set: https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html","title":"Where in the CoreNLP code are the Penn Treebank part-of-speech symbols themselves actually represented?","body":"<p>I'm not actually sure they're represented explicitly anywhere in the code. The tagger simply outputs them as Strings rather than any sort of fixed enum, and the output space is inferred directly from the training data. The advantage of this being that you can train the exact same model on arbitrary tag sets. And of course the disadvantage you've just run into. :)</p>\n\n<p>However, for English, the tag set should be the Penn Treebank tag set: <a href=\"https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html\" rel=\"nofollow noreferrer\">https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html</a></p>\n"},{"tags":[],"owner":{"account_id":29327,"reputation":1826,"user_id":79201,"accept_rate":100,"display_name":"Ryan Schumacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667400911,"creation_date":1667400911,"answer_id":74291257,"question_id":43022047,"body_markdown":"I&#39;ve found that this seems to give the most description to the tags:\r\n\r\nhttps://github.com/stanfordnlp/CoreNLP/blob/main/data/edu/stanford/nlp/upos/ENUniversalPOS.tsurgeon\r\n\r\nHowever, many of the `HeadFinder` files contain POS tags as well:\r\n\r\nhttps://github.com/stanfordnlp/CoreNLP/blob/main/src/edu/stanford/nlp/trees/CollinsHeadFinder.java","title":"Where in the CoreNLP code are the Penn Treebank part-of-speech symbols themselves actually represented?","body":"<p>I've found that this seems to give the most description to the tags:</p>\n<p><a href=\"https://github.com/stanfordnlp/CoreNLP/blob/main/data/edu/stanford/nlp/upos/ENUniversalPOS.tsurgeon\" rel=\"nofollow noreferrer\">https://github.com/stanfordnlp/CoreNLP/blob/main/data/edu/stanford/nlp/upos/ENUniversalPOS.tsurgeon</a></p>\n<p>However, many of the <code>HeadFinder</code> files contain POS tags as well:</p>\n<p><a href=\"https://github.com/stanfordnlp/CoreNLP/blob/main/src/edu/stanford/nlp/trees/CollinsHeadFinder.java\" rel=\"nofollow noreferrer\">https://github.com/stanfordnlp/CoreNLP/blob/main/src/edu/stanford/nlp/trees/CollinsHeadFinder.java</a></p>\n"}],"owner":{"account_id":10250846,"reputation":55,"user_id":7565149,"display_name":"David Kriz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43033034,"answer_count":2,"score":3,"last_activity_date":1667400911,"creation_date":1490476563,"question_id":43022047,"body_markdown":"I&#39;m looking specifically for some data structure, enum, or generative process through which the different parts-of-speech are represented internally. I&#39;ve spent a long time scanning the Javadoc and the source code for a while and can&#39;t find what I&#39;m looking for. I would like to access a collection of the tags directly, if possible, if they&#39;re stored in some central location. Please forgive me if the question I&#39;m posing constitutes a naive assumption regarding the way CoreNLP pos-tagging operates, but if what I&#39;m describing does exist in some form, this would be very helpful. Thanks!","title":"Where in the CoreNLP code are the Penn Treebank part-of-speech symbols themselves actually represented?","body":"<p>I'm looking specifically for some data structure, enum, or generative process through which the different parts-of-speech are represented internally. I've spent a long time scanning the Javadoc and the source code for a while and can't find what I'm looking for. I would like to access a collection of the tags directly, if possible, if they're stored in some central location. Please forgive me if the question I'm posing constitutes a naive assumption regarding the way CoreNLP pos-tagging operates, but if what I'm describing does exist in some form, this would be very helpful. Thanks!</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":22824623,"reputation":33,"user_id":16974060,"display_name":"Robin J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667400856,"creation_date":1667400856,"answer_id":74291244,"question_id":71751046,"body_markdown":"this just a small idea, why not use transiant object and set your list by hand using a listener whith the PostLoad annotation. I don&#39;t know where it could lead. You must remove what causes your select to return multiple lines. ","title":"JPA map multiple rows into List","body":"<p>this just a small idea, why not use transiant object and set your list by hand using a listener whith the PostLoad annotation. I don't know where it could lead. You must remove what causes your select to return multiple lines.</p>\n"}],"owner":{"account_id":19870341,"reputation":1,"user_id":14556650,"display_name":"bruno grznar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667400856,"creation_date":1649158506,"question_id":71751046,"body_markdown":"Hello is there way so java can map multiple rows of joined tables with reference OneToMany into list?\r\n\r\nI need to use view, because there are some conditions I need to have, but I get multiple rows from this join because one entity is referenced more times, like this:\r\nWe can have foo and bar, where bar references foo:\r\n\r\n    \r\nView:\r\n\r\n    SELECT\r\n         foo.id fooID,\r\n         foo.name fooName,\r\n         b.id barID\r\n    FROM foo\r\n              LEFT JOIN bar b on b.foo_id = foo.id\r\n              LEFT JOIN bar_properties bp ON b.property_id = bp.id\r\n              LEFT JOIN bar_states bs ON b.state_id = bs.id\r\n        WHERE\r\n              bs.name = &#39;active&#39;\r\n              bp.name = &#39;NEW&#39;\r\n\r\nRESULTS\r\n\r\n    fooID   fooName   barId\r\n    22,     test2,    1\r\n    22,     test2,    2\r\n    23,     test3,    3\r\n\r\nIn Java after I call ViewRepository.findAll() I need to get only 2 records (not 3), but I need to have multiple records in my @OneToMany list like this:\r\n\r\n    fooID   fooName   bars\r\n    22,     test2,    [1,2]\r\n    23,     test2,    [3]\r\n\r\nI tried using annotation like this in my view model:\r\n\r\n        @OneToMany(mappedBy = &quot;foo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @Where(clause = &quot;&quot;)\r\n        private final List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();\r\n\r\nBut I could not get right the way how to use multiple other entities in this where condition.\r\nFor example states or properties of bar, which are in other tables.\r\n","title":"JPA map multiple rows into List","body":"<p>Hello is there way so java can map multiple rows of joined tables with reference OneToMany into list?</p>\n<p>I need to use view, because there are some conditions I need to have, but I get multiple rows from this join because one entity is referenced more times, like this:\nWe can have foo and bar, where bar references foo:</p>\n<p>View:</p>\n<pre><code>SELECT\n     foo.id fooID,\n     foo.name fooName,\n     b.id barID\nFROM foo\n          LEFT JOIN bar b on b.foo_id = foo.id\n          LEFT JOIN bar_properties bp ON b.property_id = bp.id\n          LEFT JOIN bar_states bs ON b.state_id = bs.id\n    WHERE\n          bs.name = 'active'\n          bp.name = 'NEW'\n</code></pre>\n<p>RESULTS</p>\n<pre><code>fooID   fooName   barId\n22,     test2,    1\n22,     test2,    2\n23,     test3,    3\n</code></pre>\n<p>In Java after I call ViewRepository.findAll() I need to get only 2 records (not 3), but I need to have multiple records in my @OneToMany list like this:</p>\n<pre><code>fooID   fooName   bars\n22,     test2,    [1,2]\n23,     test2,    [3]\n</code></pre>\n<p>I tried using annotation like this in my view model:</p>\n<pre><code>    @OneToMany(mappedBy = &quot;foo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @Where(clause = &quot;&quot;)\n    private final List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();\n</code></pre>\n<p>But I could not get right the way how to use multiple other entities in this where condition.\nFor example states or properties of bar, which are in other tables.</p>\n"},{"tags":["java","c#","matcher"],"answers":[{"tags":[],"owner":{"account_id":54382,"reputation":14965,"user_id":162699,"accept_rate":76,"display_name":"Gusman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1462878364,"creation_date":1462877999,"answer_id":37136578,"question_id":37136376,"body_markdown":"On C# you will use Regex. Regex class has a function named &quot;Matches&quot; which will return all coincident matches for the pattern.\r\n\r\nAnd each Match has a property called Groups where are stored captured groups.\r\n\r\nSo, find -&gt; Regex.Matches, group -&gt; Match.Groups.\r\n\r\nThey&#39;re not direct equivalents, but they will give you the same functionality.\r\n\r\nHere is a simple example:\r\n\r\n    var reg = new Regex(&quot;(\\\\d+)$&quot;);\r\n\r\n    var matches = reg.Matches(&quot;some string 0123&quot;);\r\n\r\n    List&lt;string&gt; found = new List&lt;string&gt;();\r\n\r\n    if(matches != null)\r\n    {\r\n        foreach(Match m in matches)\r\n            found.Add(m.Groups[1].Value);\r\n    }\r\n\r\n    //do whatever you want with found\r\n\r\nRemember that m.Groups[0] will contain the full capture and any subsequent Group will be captured groups.\r\n\r\nAlso, if you expect just one result then you can use .Match:\r\n\r\n\r\n    var match = reg.Match(&quot;some string 0123&quot;);\r\n\r\n    if(match != null &amp;&amp; match.Success)\r\n        //Process the Groups as you wish.","title":"C# / .NET equivalent for Java Matcher.find and Matcher.group","body":"<p>On C# you will use Regex. Regex class has a function named \"Matches\" which will return all coincident matches for the pattern.</p>\n\n<p>And each Match has a property called Groups where are stored captured groups.</p>\n\n<p>So, find -> Regex.Matches, group -> Match.Groups.</p>\n\n<p>They're not direct equivalents, but they will give you the same functionality.</p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>var reg = new Regex(\"(\\\\d+)$\");\n\nvar matches = reg.Matches(\"some string 0123\");\n\nList&lt;string&gt; found = new List&lt;string&gt;();\n\nif(matches != null)\n{\n    foreach(Match m in matches)\n        found.Add(m.Groups[1].Value);\n}\n\n//do whatever you want with found\n</code></pre>\n\n<p>Remember that m.Groups[0] will contain the full capture and any subsequent Group will be captured groups.</p>\n\n<p>Also, if you expect just one result then you can use .Match:</p>\n\n<pre><code>var match = reg.Match(\"some string 0123\");\n\nif(match != null &amp;&amp; match.Success)\n    //Process the Groups as you wish.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25473493,"reputation":111,"user_id":19271220,"display_name":"PhideasAmbrosianus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667400792,"creation_date":1667399700,"answer_id":74290970,"question_id":37136376,"body_markdown":"More complete example from @Gusman, I only made it  easier cut/paste/understanding and including the required using statement.\r\n(I cannot edit, queue is full so doing this for future users...)\r\n\r\n```\r\nusing System.Text.RegularExpressions;\r\n\r\npublic static void SampleRegexMatchesAndMatch()\r\n{\r\n  var reg = new Regex(&quot;(\\\\d+)$&quot;);\r\n\r\n  //Example with Matches\r\n  var matches = reg.Matches(&quot;some string 0123&quot;);\r\n\r\n  List&lt;string&gt; found = new List&lt;string&gt;();\r\n\r\n  foreach(Match m in matches)\r\n    found.Add(m.Groups[1].Value);\r\n\r\n  //Do whatever you want with found object results or work direct with matches\r\n  //--------------------------------------------------------------------------\r\n\r\n  //Example with Match\r\n  var match = reg.Match(&quot;some string 0123&quot;);\r\n\r\n  if(match != null &amp;&amp; match.Success)\r\n  {\r\n    //Process the Groups as you wish.\r\n  }\r\n}\r\n```","title":"C# / .NET equivalent for Java Matcher.find and Matcher.group","body":"<p>More complete example from @Gusman, I only made it  easier cut/paste/understanding and including the required using statement.\n(I cannot edit, queue is full so doing this for future users...)</p>\n<pre><code>using System.Text.RegularExpressions;\n\npublic static void SampleRegexMatchesAndMatch()\n{\n  var reg = new Regex(&quot;(\\\\d+)$&quot;);\n\n  //Example with Matches\n  var matches = reg.Matches(&quot;some string 0123&quot;);\n\n  List&lt;string&gt; found = new List&lt;string&gt;();\n\n  foreach(Match m in matches)\n    found.Add(m.Groups[1].Value);\n\n  //Do whatever you want with found object results or work direct with matches\n  //--------------------------------------------------------------------------\n\n  //Example with Match\n  var match = reg.Match(&quot;some string 0123&quot;);\n\n  if(match != null &amp;&amp; match.Success)\n  {\n    //Process the Groups as you wish.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8286569,"reputation":64,"user_id":6229521,"accept_rate":75,"display_name":"Terahertz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37136578,"answer_count":2,"score":1,"last_activity_date":1667400792,"creation_date":1462877482,"question_id":37136376,"body_markdown":"I have seen that there are some posts regarding the Java Matcher class, but I was not able to find one regarding the specific methods `find()` and `group()`.\r\n\r\nI have this piece of code, where Lane and IllegalLaneException have already been defined:\r\n\r\n    private int getIdFromLane(Lane lane) throws IllegalLaneException {\r\n    \tMatcher m = pattern.matcher(lane.getID());\r\n    \tif (m.find()) {\r\n    \t\treturn Integer.parseInt(m.group());\r\n    \t} else {\r\n    \t\tthrow new IllegalLaneException();\r\n    \t}\r\n    }\r\n\r\nLooking at the Java Documentation, we have the following:\r\n\r\n`find()` - Attempts to find the next subsequence of the input sequence that matches the pattern.\r\n\r\n`group()` - Returns the input subsequence matched by the previous match.\r\n\r\nMy question is, which is the equivalent to the methods `find()` and `group()` in C#?\r\n\r\nEDIT: I forgot to say that I am using the MatchCollection class together with Regex\r\n\r\nC# code:\r\n\r\n    private static Regex pattern = new Regex(&quot;\\\\d+$&quot;); // variable outside the method\r\n    \r\n    private int getIdFromLane(Lane lane) //throws IllegalLaneException\r\n    {\r\n        MatchCollection m = pattern.Matches(lane.getID());\r\n    ...\r\n    }","title":"C# / .NET equivalent for Java Matcher.find and Matcher.group","body":"<p>I have seen that there are some posts regarding the Java Matcher class, but I was not able to find one regarding the specific methods <code>find()</code> and <code>group()</code>.</p>\n\n<p>I have this piece of code, where Lane and IllegalLaneException have already been defined:</p>\n\n<pre><code>private int getIdFromLane(Lane lane) throws IllegalLaneException {\n    Matcher m = pattern.matcher(lane.getID());\n    if (m.find()) {\n        return Integer.parseInt(m.group());\n    } else {\n        throw new IllegalLaneException();\n    }\n}\n</code></pre>\n\n<p>Looking at the Java Documentation, we have the following:</p>\n\n<p><code>find()</code> - Attempts to find the next subsequence of the input sequence that matches the pattern.</p>\n\n<p><code>group()</code> - Returns the input subsequence matched by the previous match.</p>\n\n<p>My question is, which is the equivalent to the methods <code>find()</code> and <code>group()</code> in C#?</p>\n\n<p>EDIT: I forgot to say that I am using the MatchCollection class together with Regex</p>\n\n<p>C# code:</p>\n\n<pre><code>private static Regex pattern = new Regex(\"\\\\d+$\"); // variable outside the method\n\nprivate int getIdFromLane(Lane lane) //throws IllegalLaneException\n{\n    MatchCollection m = pattern.Matches(lane.getID());\n...\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":26807492,"reputation":11,"user_id":20398586,"display_name":"Wave Miami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667399910,"creation_date":1667399910,"question_id":74291013,"body_markdown":"I&#39;m trying to make a schedule program, in the first spinner I select the specialty, in the second group, I need that when the group is selected in the TextView the schedule of this group is displayed. I can not find information how to do it.\r\n\r\n```\r\n/dd menu\r\n        sp_parent=findViewById(R.id.spinner);\r\n        sp_child =findViewById(R.id.spinner3);\r\n        // ============= Array List proffesions ============\r\n        arrayList_parent=new ArrayList&lt;&gt;();\r\n        arrayList_parent.add(&quot;Облік і оподаткування&quot;); arrayList_parent.add(&quot;Харчові технології&quot;); arrayList_parent.add(&quot;Готельно-ресторанна справа&quot;);\r\n        arrayList_parent.add(&quot;Право&quot;); arrayList_parent.add(&quot;Комп&#39;ютерна інженерія&quot;);  arrayList_parent.add(&quot;Підприємництво, торгівля та біржова діяльність&quot;);\r\n        arrayList_parent.add(&quot;Туризм&quot;); arrayList_parent.add(&quot;Фінанси, банківська справа і страхування&quot;);\r\n\r\n        arrayAdapter_parent=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_parent);\r\n        sp_parent.setAdapter(arrayAdapter_parent);\r\n\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/VT5uo.png)](https://i.stack.imgur.com/VT5uo.png)\r\n  \r\n\r\n```\r\nsp_parent.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n\r\n                if(position==0){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_oblic );\r\n                    String selected = (String) sp_child.getItemAtPosition(position);\r\n                    schedule_text.setText(selected);\r\n\r\n                }\r\n                if(position==1){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_food_technology );\r\n                    String selected = sp_child.getSelectedItem().toString();\r\n                    schedule_text.setText(selected);\r\n                }\r\n                if(position==2){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_hotel );\r\n                }\r\n                if(position==3){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_law );\r\n                }\r\n                if(position==4){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_comp_genius );\r\n                }\r\n                if(position==5){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_businessman );\r\n                }\r\n                if(position==6){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_tourism );\r\n                }\r\n                if(position==7){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_economy );\r\n                }\r\n                        sp_child.setAdapter(arrayAdapter_child);\r\n\r\n            }\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\n}\r\n\r\n```\r\nThis is my code\r\n```","title":"Set text if spinner selected","body":"<p>I'm trying to make a schedule program, in the first spinner I select the specialty, in the second group, I need that when the group is selected in the TextView the schedule of this group is displayed. I can not find information how to do it.</p>\n<pre><code>/dd menu\n        sp_parent=findViewById(R.id.spinner);\n        sp_child =findViewById(R.id.spinner3);\n        // ============= Array List proffesions ============\n        arrayList_parent=new ArrayList&lt;&gt;();\n        arrayList_parent.add(&quot;Облік і оподаткування&quot;); arrayList_parent.add(&quot;Харчові технології&quot;); arrayList_parent.add(&quot;Готельно-ресторанна справа&quot;);\n        arrayList_parent.add(&quot;Право&quot;); arrayList_parent.add(&quot;Комп'ютерна інженерія&quot;);  arrayList_parent.add(&quot;Підприємництво, торгівля та біржова діяльність&quot;);\n        arrayList_parent.add(&quot;Туризм&quot;); arrayList_parent.add(&quot;Фінанси, банківська справа і страхування&quot;);\n\n        arrayAdapter_parent=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_parent);\n        sp_parent.setAdapter(arrayAdapter_parent);\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VT5uo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VT5uo.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>sp_parent.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n\n                if(position==0){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_oblic );\n                    String selected = (String) sp_child.getItemAtPosition(position);\n                    schedule_text.setText(selected);\n\n                }\n                if(position==1){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_food_technology );\n                    String selected = sp_child.getSelectedItem().toString();\n                    schedule_text.setText(selected);\n                }\n                if(position==2){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_hotel );\n                }\n                if(position==3){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_law );\n                }\n                if(position==4){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_comp_genius );\n                }\n                if(position==5){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_businessman );\n                }\n                if(position==6){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_tourism );\n                }\n                if(position==7){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_economy );\n                }\n                        sp_child.setAdapter(arrayAdapter_child);\n\n            }\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n</code></pre>\n<p>}</p>\n<pre><code>This is my code\n</code></pre>\n"},{"tags":["java","json","rest","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1414916742,"creation_date":1414916742,"answer_id":26697415,"question_id":26697102,"body_markdown":"JAX-RS has a bunch of built-in handlers that can marshal to and from a few different\r\nspecific Java types.\r\n\r\nOnce we start dealing with custom data-binding (marshalling/unmarshalling to Java objects), we are in a different ball game. We now require some other [`MessageBodyWriters`](http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyWriter.html) and [`MesageBodyReaders`](http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyReader.html).\r\n\r\nFortunately, there are already readers and writers available for XML and JSON data-binding. JAX-RS comes with a standard XML marshalling/unmarshalling, with one caveat.. we must use [JAXB](http://docs.oracle.com/javase/tutorial/jaxb/intro/) annotations. So for your `Test` class, assuming it&#39;s like this\r\n\r\n    public class Test {\r\n        private String name;\r\n        private int age;\r\n    \r\n        public String getName() { return name; }\r\n        public void setName(String name) { this.name = name;}\r\n        public int getAge() { return age; }\r\n        public void setAge(int age) { this.age = age; }  \r\n    }\r\n\r\nto make allow the JAXB _provider_ to unmarshall/marshall, we should provide, at minimum, an `@XmlRootElement`\r\n\r\n    @XmlRootElement\r\n    public class Test {\r\n       ....\r\n    }\r\n\r\nDoing this should allow the XML to work.\r\n\r\nAs far as the JSON, JSON binding is not a standard par of the specification, but we can simply add a dependency to the project, that will automatically register the  needed provider to handle JSON binding. You can look at the pom.xml for the [json-moxy](https://github.com/jersey/jersey/tree/master/examples/json-moxy) example. You will see this needed dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat the dependency allows application to do, is marshal/unmarshal jSON to/from our Java objects, using the JAXB annotations. So just by adding this dependency to the `pom.xml`. The application should work. Just tested.","title":"MediaType.APPLICATION_XML and MediaType.APPLICATION_JSON in a Jersey demo application","body":"<p>JAX-RS has a bunch of built-in handlers that can marshal to and from a few different\nspecific Java types.</p>\n\n<p>Once we start dealing with custom data-binding (marshalling/unmarshalling to Java objects), we are in a different ball game. We now require some other <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyWriter.html\" rel=\"noreferrer\"><code>MessageBodyWriters</code></a> and <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyReader.html\" rel=\"noreferrer\"><code>MesageBodyReaders</code></a>.</p>\n\n<p>Fortunately, there are already readers and writers available for XML and JSON data-binding. JAX-RS comes with a standard XML marshalling/unmarshalling, with one caveat.. we must use <a href=\"http://docs.oracle.com/javase/tutorial/jaxb/intro/\" rel=\"noreferrer\">JAXB</a> annotations. So for your <code>Test</code> class, assuming it's like this</p>\n\n<pre><code>public class Test {\n    private String name;\n    private int age;\n\n    public String getName() { return name; }\n    public void setName(String name) { this.name = name;}\n    public int getAge() { return age; }\n    public void setAge(int age) { this.age = age; }  \n}\n</code></pre>\n\n<p>to make allow the JAXB <em>provider</em> to unmarshall/marshall, we should provide, at minimum, an <code>@XmlRootElement</code></p>\n\n<pre><code>@XmlRootElement\npublic class Test {\n   ....\n}\n</code></pre>\n\n<p>Doing this should allow the XML to work.</p>\n\n<p>As far as the JSON, JSON binding is not a standard par of the specification, but we can simply add a dependency to the project, that will automatically register the  needed provider to handle JSON binding. You can look at the pom.xml for the <a href=\"https://github.com/jersey/jersey/tree/master/examples/json-moxy\" rel=\"noreferrer\">json-moxy</a> example. You will see this needed dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>What the dependency allows application to do, is marshal/unmarshal jSON to/from our Java objects, using the JAXB annotations. So just by adding this dependency to the <code>pom.xml</code>. The application should work. Just tested.</p>\n"}],"owner":{"account_id":3246551,"reputation":207,"user_id":2737950,"accept_rate":75,"display_name":"user2737950"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32851,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26697415,"answer_count":1,"score":7,"last_activity_date":1667399821,"creation_date":1414914193,"question_id":26697102,"body_markdown":"Once I got this Question Latest Jersey example does not work answered, I run into another curious problem:\r\n\r\nThe server, GET methods work fine. I tested and added some test code for [helloworld-pure-jax-rs](https://github.com/jersey/jersey/tree/master/examples/helloworld-pure-jax-rs) example, and esp. added a POST request for JSON:\r\n\r\n    package org.glassfish.jersey.examples.helloworld.jaxrs;\r\n    \r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    \r\n    \r\n    @Path(&quot;helloworld&quot;)\r\n    public class HelloWorldResource\r\n    {\r\n    \tpublic static final String\tCLICHED_MESSAGE\t= &quot;Hello World!&quot;;\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \tpublic String getHello()\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic String getHelloJson()\r\n    \t{\r\n    \t\treturn &quot;{ \\&quot;message\\&quot;:&quot; + CLICHED_MESSAGE + &quot;}&quot;;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_HTML)\r\n    \tpublic String getHelloHtml()\r\n    \t{\r\n    \t\treturn &quot;&lt;html&gt; &quot; + &quot;&lt;title&gt;&quot; + &quot;Hello Jersey&quot; + &quot;&lt;/title&gt;&quot; + &quot;&lt;body&gt;&lt;h1&gt;&quot; + CLICHED_MESSAGE\r\n    \t\t\t\t+ &quot;&lt;/body&gt;&lt;/h1&gt;&quot; + &quot;&lt;/html&gt; &quot;;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/v2&quot;)\r\n    \tpublic String getHello2()\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE + &quot; v2&quot;;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/{id}&quot;)\r\n    \tpublic String getHelloId(@PathParam(&quot;id&quot;) String id)\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/id/{id : [a-zA-Z][a-zA-Z_0-9]}&quot;)\r\n    \tpublic String getHelloIdId(@PathParam(&quot;id&quot;) String id)\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\r\n    \t}\r\n    \r\n    \t@POST\r\n    \t@Consumes(MediaType.TEXT_PLAIN)\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \tpublic Response test(String test)\r\n    \t{\r\n    \t\tif (test.equals(&quot;test&quot;))\r\n    \t\t\treturn Response.status(400).entity(&quot;Error: &quot; + test).build();\r\n    \t\treturn Response.status(200).entity(test).build();\r\n    \t}\r\n    \t\r\n    \t@POST\r\n    \t@Path(&quot;/test&quot;)\r\n    \t@Consumes(MediaType.APPLICATION_JSON)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic Response testJSON(Test test)\r\n    \t{\r\n    \t\tString result = &quot;Test JSON created : &quot; + test.getName() + &quot;&quot; + test.getAge();\r\n    \t\t// return result;\r\n    \t\treturn Response.status(200).entity(result).build();\r\n    \t}\r\n    \t\r\n    \t@POST\r\n    \t@Path(&quot;/test&quot;)\r\n    \t@Consumes(MediaType.APPLICATION_XML)\r\n    \t@Produces(MediaType.APPLICATION_XML)\r\n    \tpublic Response testXML(Test test)\r\n    \t{\r\n    \t\tString result = &quot;Test XML created : &quot; + test.getName() + &quot;&quot; + test.getAge();\r\n    \t\t// return result;\r\n    \t\treturn Response.status(200).entity(result).build();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere ist the rest of the classes:\r\n\r\n    package org.glassfish.jersey.examples.helloworld.jaxrs;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.URI;\r\n    \r\n    import javax.ws.rs.core.UriBuilder;\r\n    import javax.ws.rs.ext.RuntimeDelegate;\r\n    \r\n    import com.sun.net.httpserver.HttpHandler;\r\n    import com.sun.net.httpserver.HttpServer;\r\n    \r\n    /**\r\n     * Hello world application using only the standard JAX-RS API and lightweight\r\n     * HTTP server bundled in JDK.\r\n     *\r\n     * @author Martin Matula (martin.matula at oracle.com)\r\n     */\r\n    @SuppressWarnings(&quot;restriction&quot;)\r\n    public class App\r\n    {\r\n    \r\n    \t/**\r\n    \t * Starts the lightweight HTTP server serving the JAX-RS application.\r\n    \t *\r\n    \t * @return new instance of the lightweight HTTP server\r\n    \t * @throws IOException\r\n    \t */\r\n    \tstatic HttpServer startServer() throws IOException\r\n    \t{\r\n    \t\t// create a new server listening at port 8080\r\n    \t\tHttpServer server = HttpServer.create(new InetSocketAddress(getBaseURI().getPort()), 0);\r\n    \r\n    \t\t// create a handler wrapping the JAX-RS application\r\n    \t\tHttpHandler handler = RuntimeDelegate.getInstance().createEndpoint(new JaxRsApplication(),\r\n    \t\t\t\tHttpHandler.class);\r\n    \r\n    \t\t// map JAX-RS handler to the server root\r\n    \t\tserver.createContext(getBaseURI().getPath(), handler);\r\n    \r\n    \t\t// start the server\r\n    \t\tserver.start();\r\n    \r\n    \t\treturn server;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException\r\n    \t{\r\n    \t\tSystem.out.println(&quot;\\&quot;Hello World\\&quot; Jersey Example Application&quot;);\r\n    \r\n    \t\tHttpServer server = startServer();\r\n    \r\n    \t\tSystem.out.println(&quot;Application started.\\n&quot; + &quot;Try accessing &quot; + getBaseURI()\r\n    \t\t\t\t+ &quot;helloworld in the browser.\\n&quot; + &quot;Hit enter to stop the application...&quot;);\r\n    \t\tSystem.in.read();\r\n    \t\tserver.stop(0);\r\n    \t}\r\n    \r\n    \tprivate static int getPort(int defaultPort)\r\n    \t{\r\n    \t\tfinal String port = System.getProperty(&quot;jersey.config.test.container.port&quot;);\r\n    \t\tif (null != port)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\treturn Integer.parseInt(port);\r\n    \t\t\t}\r\n    \t\t\tcatch (NumberFormatException e)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Value of jersey.config.test.container.port property&quot;\r\n    \t\t\t\t\t\t+ &quot; is not a valid positive integer [&quot; + port + &quot;].&quot;\r\n    \t\t\t\t\t\t+ &quot; Reverting to default [&quot; + defaultPort + &quot;].&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn defaultPort;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Gets base {@link URI}.\r\n    \t *\r\n    \t * @return base {@link URI}.\r\n    \t */\r\n    \tpublic static URI getBaseURI()\r\n    \t{\r\n    \t\treturn UriBuilder.fromUri(&quot;http://localhost/&quot;).port(getPort(8080)).build();\r\n    \t}\r\n    }\r\n\r\n\r\n    public class Test\r\n    {\r\n    \tpublic int\t\tage\t\t= 0;\r\n    \tpublic String\tname\t= &quot;&quot;;\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tpublic Test()\r\n    \t{\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param age\r\n    \t */\r\n    \tpublic Test(int age)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param name\r\n    \t */\r\n    \tpublic Test(String name)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param name\r\n    \t * @param age\r\n    \t */\r\n    \tpublic Test(String name, int age)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic int getAge()\r\n    \t{\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic String getName()\r\n    \t{\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setAge(int age)\r\n    \t{\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name)\r\n    \t{\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n    package org.glassfish.jersey.examples.helloworld.jaxrs;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    public class JaxRsApplication extends Application\r\n    {\r\n    \tprivate final Set&lt;Class&lt;?&gt;&gt;\tclasses;\r\n    \r\n    \tpublic JaxRsApplication()\r\n    \t{\r\n    \t\tHashSet&lt;Class&lt;?&gt;&gt; c = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    \t\tc.add(HelloWorldResource.class);\r\n    \t\tclasses = Collections.unmodifiableSet(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses()\r\n    \t{\r\n    \t\treturn classes;\r\n    \t}\r\n    }\r\n\r\n\r\nThis works fine for the plain text post message, but for the json (MediaType.APPLICATION_JSON) and xml part (MediaType.APPLICATION_XML) it fails stating not a supported media type. Any idea what could be wrong?\r\n","title":"MediaType.APPLICATION_XML and MediaType.APPLICATION_JSON in a Jersey demo application","body":"<p>Once I got this Question Latest Jersey example does not work answered, I run into another curious problem:</p>\n<p>The server, GET methods work fine. I tested and added some test code for <a href=\"https://github.com/jersey/jersey/tree/master/examples/helloworld-pure-jax-rs\" rel=\"nofollow noreferrer\">helloworld-pure-jax-rs</a> example, and esp. added a POST request for JSON:</p>\n<pre><code>package org.glassfish.jersey.examples.helloworld.jaxrs;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\n\n\n@Path(&quot;helloworld&quot;)\npublic class HelloWorldResource\n{\n    public static final String  CLICHED_MESSAGE = &quot;Hello World!&quot;;\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String getHello()\n    {\n        return CLICHED_MESSAGE;\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public String getHelloJson()\n    {\n        return &quot;{ \\&quot;message\\&quot;:&quot; + CLICHED_MESSAGE + &quot;}&quot;;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String getHelloHtml()\n    {\n        return &quot;&lt;html&gt; &quot; + &quot;&lt;title&gt;&quot; + &quot;Hello Jersey&quot; + &quot;&lt;/title&gt;&quot; + &quot;&lt;body&gt;&lt;h1&gt;&quot; + CLICHED_MESSAGE\n                + &quot;&lt;/body&gt;&lt;/h1&gt;&quot; + &quot;&lt;/html&gt; &quot;;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/v2&quot;)\n    public String getHello2()\n    {\n        return CLICHED_MESSAGE + &quot; v2&quot;;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/{id}&quot;)\n    public String getHelloId(@PathParam(&quot;id&quot;) String id)\n    {\n        return CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/id/{id : [a-zA-Z][a-zA-Z_0-9]}&quot;)\n    public String getHelloIdId(@PathParam(&quot;id&quot;) String id)\n    {\n        return CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\n    }\n\n    @POST\n    @Consumes(MediaType.TEXT_PLAIN)\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response test(String test)\n    {\n        if (test.equals(&quot;test&quot;))\n            return Response.status(400).entity(&quot;Error: &quot; + test).build();\n        return Response.status(200).entity(test).build();\n    }\n    \n    @POST\n    @Path(&quot;/test&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response testJSON(Test test)\n    {\n        String result = &quot;Test JSON created : &quot; + test.getName() + &quot;&quot; + test.getAge();\n        // return result;\n        return Response.status(200).entity(result).build();\n    }\n    \n    @POST\n    @Path(&quot;/test&quot;)\n    @Consumes(MediaType.APPLICATION_XML)\n    @Produces(MediaType.APPLICATION_XML)\n    public Response testXML(Test test)\n    {\n        String result = &quot;Test XML created : &quot; + test.getName() + &quot;&quot; + test.getAge();\n        // return result;\n        return Response.status(200).entity(result).build();\n    }\n    \n}\n</code></pre>\n<p>Here ist the rest of the classes:</p>\n<pre><code>package org.glassfish.jersey.examples.helloworld.jaxrs;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\n\nimport javax.ws.rs.core.UriBuilder;\nimport javax.ws.rs.ext.RuntimeDelegate;\n\nimport com.sun.net.httpserver.HttpHandler;\nimport com.sun.net.httpserver.HttpServer;\n\n/**\n * Hello world application using only the standard JAX-RS API and lightweight\n * HTTP server bundled in JDK.\n *\n * @author Martin Matula (martin.matula at oracle.com)\n */\n@SuppressWarnings(&quot;restriction&quot;)\npublic class App\n{\n\n    /**\n     * Starts the lightweight HTTP server serving the JAX-RS application.\n     *\n     * @return new instance of the lightweight HTTP server\n     * @throws IOException\n     */\n    static HttpServer startServer() throws IOException\n    {\n        // create a new server listening at port 8080\n        HttpServer server = HttpServer.create(new InetSocketAddress(getBaseURI().getPort()), 0);\n\n        // create a handler wrapping the JAX-RS application\n        HttpHandler handler = RuntimeDelegate.getInstance().createEndpoint(new JaxRsApplication(),\n                HttpHandler.class);\n\n        // map JAX-RS handler to the server root\n        server.createContext(getBaseURI().getPath(), handler);\n\n        // start the server\n        server.start();\n\n        return server;\n    }\n\n    public static void main(String[] args) throws IOException\n    {\n        System.out.println(&quot;\\&quot;Hello World\\&quot; Jersey Example Application&quot;);\n\n        HttpServer server = startServer();\n\n        System.out.println(&quot;Application started.\\n&quot; + &quot;Try accessing &quot; + getBaseURI()\n                + &quot;helloworld in the browser.\\n&quot; + &quot;Hit enter to stop the application...&quot;);\n        System.in.read();\n        server.stop(0);\n    }\n\n    private static int getPort(int defaultPort)\n    {\n        final String port = System.getProperty(&quot;jersey.config.test.container.port&quot;);\n        if (null != port)\n        {\n            try\n            {\n                return Integer.parseInt(port);\n            }\n            catch (NumberFormatException e)\n            {\n                System.out.println(&quot;Value of jersey.config.test.container.port property&quot;\n                        + &quot; is not a valid positive integer [&quot; + port + &quot;].&quot;\n                        + &quot; Reverting to default [&quot; + defaultPort + &quot;].&quot;);\n            }\n        }\n        return defaultPort;\n    }\n\n    /**\n     * Gets base {@link URI}.\n     *\n     * @return base {@link URI}.\n     */\n    public static URI getBaseURI()\n    {\n        return UriBuilder.fromUri(&quot;http://localhost/&quot;).port(getPort(8080)).build();\n    }\n}\n\n\npublic class Test\n{\n    public int      age     = 0;\n    public String   name    = &quot;&quot;;\n\n    /**\n     * \n     */\n    public Test()\n    {\n        super();\n    }\n\n    /**\n     * @param age\n     */\n    public Test(int age)\n    {\n        super();\n        this.age = age;\n    }\n\n    /**\n     * @param name\n     */\n    public Test(String name)\n    {\n        super();\n        this.name = name;\n    }\n\n    /**\n     * @param name\n     * @param age\n     */\n    public Test(String name, int age)\n    {\n        super();\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getAge()\n    {\n        return age;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public void setAge(int age)\n    {\n        this.age = age;\n    }\n\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n}\n\npackage org.glassfish.jersey.examples.helloworld.jaxrs;\n\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.ws.rs.core.Application;\n\npublic class JaxRsApplication extends Application\n{\n    private final Set&lt;Class&lt;?&gt;&gt; classes;\n\n    public JaxRsApplication()\n    {\n        HashSet&lt;Class&lt;?&gt;&gt; c = new HashSet&lt;Class&lt;?&gt;&gt;();\n        c.add(HelloWorldResource.class);\n        classes = Collections.unmodifiableSet(c);\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses()\n    {\n        return classes;\n    }\n}\n</code></pre>\n<p>This works fine for the plain text post message, but for the json (MediaType.APPLICATION_JSON) and xml part (MediaType.APPLICATION_XML) it fails stating not a supported media type. Any idea what could be wrong?</p>\n"},{"tags":["javascript","java","json","rest"],"comments":[{"owner":{"account_id":9060492,"reputation":91,"user_id":6747165,"display_name":"Akash"},"score":0,"creation_date":1667368198,"post_id":74284773,"comment_id":131147939,"body_markdown":"UI and Service should be separate. Rather use roles to give access to UI components.","body":"UI and Service should be separate. Rather use roles to give access to UI components."},{"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"score":0,"creation_date":1667369746,"post_id":74284773,"comment_id":131148196,"body_markdown":"Roles are there in place...It is just the exchange of info between UI and service...specifically for the field attributes","body":"Roles are there in place...It is just the exchange of info between UI and service...specifically for the field attributes"},{"owner":{"account_id":9060492,"reputation":91,"user_id":6747165,"display_name":"Akash"},"score":0,"creation_date":1667371846,"post_id":74284773,"comment_id":131148630,"body_markdown":"I&#39;d say service should not have any idea about UI . For eg. Service should not return whether a field should be shown or not. We should be handling this using Roles and GrantedAuthorities (Authorization in more granular level) . For eg. user is Admin and has authorities VIEW_PHONE , EDIT_PHONE. User is DEV and only has VIEW_PHONE.","body":"I&#39;d say service should not have any idea about UI . For eg. Service should not return whether a field should be shown or not. We should be handling this using Roles and GrantedAuthorities (Authorization in more granular level) . For eg. user is Admin and has authorities VIEW_PHONE , EDIT_PHONE. User is DEV and only has VIEW_PHONE."}],"answers":[{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667399307,"creation_date":1667399307,"answer_id":74290856,"question_id":74284773,"body_markdown":"Hyperlinks can be transformed into forms and their parameters into input fields or sub-forms. Very complex GUIs can be generated this way, though there will be still logic which does not have anything to do with the service, e.g. on which panel to display which representation, or how are the displayed representations interrelated, etc. This information can be added to the GUI only by the client developers.\r\n\r\nThe input field flags you mention describe hyperlink parameters, so they are related to hyperlinks rather than the returned data. If there is a form involved think of it as it was auto-filled with the data, instead of thinking on it as a resource representation.\r\n\r\nAfaik. the only REST framework which partially implements this is Hydra, but I already sent such a feature request for better support years ago, which was rejected. Still they appear to go to this direction. https://github.com/hypermedia-app/Alcaeus I am writing a similar framework based on RDF technologies, but it won&#39;t be open source. So if you need this for a current work, then probably better to do it manually, because developing a framework for it takes a lot of time.","title":"Returning UI field attributes in server JSON response","body":"<p>Hyperlinks can be transformed into forms and their parameters into input fields or sub-forms. Very complex GUIs can be generated this way, though there will be still logic which does not have anything to do with the service, e.g. on which panel to display which representation, or how are the displayed representations interrelated, etc. This information can be added to the GUI only by the client developers.</p>\n<p>The input field flags you mention describe hyperlink parameters, so they are related to hyperlinks rather than the returned data. If there is a form involved think of it as it was auto-filled with the data, instead of thinking on it as a resource representation.</p>\n<p>Afaik. the only REST framework which partially implements this is Hydra, but I already sent such a feature request for better support years ago, which was rejected. Still they appear to go to this direction. <a href=\"https://github.com/hypermedia-app/Alcaeus\" rel=\"nofollow noreferrer\">https://github.com/hypermedia-app/Alcaeus</a> I am writing a similar framework based on RDF technologies, but it won't be open source. So if you need this for a current work, then probably better to do it manually, because developing a framework for it takes a lot of time.</p>\n"}],"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667399307,"creation_date":1667367541,"question_id":74284773,"body_markdown":"Let&#39;s say I have multiple form fields to be rendered on the UI. Also, as a standard Modify flow, assume that the fields rendered would have some attributes like value, mandatory, editable, disabled, label, regex (to validate against), etc\r\n\r\nWhile &quot;value&quot; would have to be returned from the service (since it is persisted db value), is it a good practice to also return the other attributes/flags like mandatory, editable, etc from the service which might have some business logic (e.g. the field editable state being true or false is based on some specific workflow status value)\r\nIs it better to avoid anything related to business logic to maintain on the UI V/s the argument that since mandatory, editable, etc are UI specific, they should be maintained on the UI.\r\nAny reference would be helpful.","title":"Returning UI field attributes in server JSON response","body":"<p>Let's say I have multiple form fields to be rendered on the UI. Also, as a standard Modify flow, assume that the fields rendered would have some attributes like value, mandatory, editable, disabled, label, regex (to validate against), etc</p>\n<p>While &quot;value&quot; would have to be returned from the service (since it is persisted db value), is it a good practice to also return the other attributes/flags like mandatory, editable, etc from the service which might have some business logic (e.g. the field editable state being true or false is based on some specific workflow status value)\nIs it better to avoid anything related to business logic to maintain on the UI V/s the argument that since mandatory, editable, etc are UI specific, they should be maintained on the UI.\nAny reference would be helpful.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":3,"creation_date":1403254322,"post_id":24323383,"comment_id":37596635,"body_markdown":"What if I have 10K files do you still think this way is simple?","body":"What if I have 10K files do you still think this way is simple?"},{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":2,"creation_date":1403254342,"post_id":24323383,"comment_id":37596646,"body_markdown":"@shekharsuman: really? :)","body":"@shekharsuman: really? :)"},{"owner":{"account_id":1670487,"reputation":990,"user_id":1537029,"accept_rate":40,"display_name":"Kim"},"score":0,"creation_date":1403254384,"post_id":24323383,"comment_id":37596674,"body_markdown":"https://forums.bukkit.org/threads/how-to-make-eclipse-clean-up-format-your-code-for-you.78574/\n\nis this help u?","body":"<a href=\"https://forums.bukkit.org/threads/how-to-make-eclipse-clean-up-format-your-code-for-you.78574/\" rel=\"nofollow noreferrer\">forums.bukkit.org/threads/&hellip;</a>  is this help u?"},{"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"score":0,"creation_date":1403254561,"post_id":24323383,"comment_id":37596797,"body_markdown":"What if some of your code was commented?Than do you want to Skip or delete that code as well.","body":"What if some of your code was commented?Than do you want to Skip or delete that code as well."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1403254606,"post_id":24323383,"comment_id":37596821,"body_markdown":"http://stackoverflow.com/questions/24320607/regular-expression-for-single-line-java-comments","body":"<a href=\"http://stackoverflow.com/questions/24320607/regular-expression-for-single-line-java-comments\" title=\"regular expression for single line java comments\">stackoverflow.com/questions/24320607/&hellip;</a>"},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1403263743,"post_id":24323383,"comment_id":37601985,"body_markdown":"as you can see that second type of comment consists of multiples lines so regular expression \\/*.**\\/ does not find second one but first type","body":"as you can see that second type of comment consists of multiples lines so regular expression \\/*.**\\/ does not find second one but first type"},{"owner":{"account_id":4262453,"reputation":5497,"user_id":3486462,"display_name":"Jamil"},"score":0,"creation_date":1443778903,"post_id":24323383,"comment_id":53637258,"body_markdown":"See my answer here to remove all comments Using Notepad++      http://stackoverflow.com/questions/8748313/is-there-a-way-to-delete-all-comments-in-a-file-using-notepad/32904204#32904204","body":"See my answer here to remove all comments Using Notepad++      <a href=\"http://stackoverflow.com/questions/8748313/is-there-a-way-to-delete-all-comments-in-a-file-using-notepad/32904204#32904204\" title=\"is there a way to delete all comments in a file using notepad\">stackoverflow.com/questions/8748313/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1005727,"reputation":1276,"user_id":1019562,"accept_rate":64,"display_name":"TheWhiteLlama"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1403314139,"creation_date":1403254769,"answer_id":24323537,"question_id":24323383,"body_markdown":"I think eclipse supports regex search and replace.\r\nI&#39;d try something like:\r\n\r\n    search: (?s)(?&gt;\\/\\*(?&gt;(?:(?&gt;[^*]+)|\\*(?!\\/))*)\\*\\/)\r\n    replace all with no-space-character or nothing literally\r\n\r\n\r\nalso related to the topic:\r\nhttps://stackoverflow.com/questions/1372748/eclipse-regular-expression-search-and-replace\r\n\r\nI edited the regex and tested it:\r\nhttp://regex101.com/r/sU4vI2\r\nNot sure if it works in your case.","title":"Remove All Comments in Java Files","body":"<p>I think eclipse supports regex search and replace.\nI'd try something like:</p>\n\n<pre><code>search: (?s)(?&gt;\\/\\*(?&gt;(?:(?&gt;[^*]+)|\\*(?!\\/))*)\\*\\/)\nreplace all with no-space-character or nothing literally\n</code></pre>\n\n<p>also related to the topic:\n<a href=\"https://stackoverflow.com/questions/1372748/eclipse-regular-expression-search-and-replace\">Eclipse, regular expression search and replace</a></p>\n\n<p>I edited the regex and tested it:\n<a href=\"http://regex101.com/r/sU4vI2\" rel=\"nofollow noreferrer\">http://regex101.com/r/sU4vI2</a>\nNot sure if it works in your case.</p>\n"},{"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403260609,"creation_date":1403260609,"answer_id":24325328,"question_id":24323383,"body_markdown":"There is a plugin which doest this in a single click. This will Comment / Remove out all System.Out&#39;s.\r\n\r\nRefer [this](http://eclipseo.blogspot.com/2013/05/updatesite-available-for-eclipse-utils.html), [this](http://www.ancitconsulting.com/tiki-index.php?page=eclipse-util%20toolkits&amp;pagenum=3) and [this](http://eclipseo.blogspot.in/2013/05/commenting-systemoutprintln-from.html).","title":"Remove All Comments in Java Files","body":"<p>There is a plugin which doest this in a single click. This will Comment / Remove out all System.Out's.</p>\n\n<p>Refer <a href=\"http://eclipseo.blogspot.com/2013/05/updatesite-available-for-eclipse-utils.html\" rel=\"nofollow\">this</a>, <a href=\"http://www.ancitconsulting.com/tiki-index.php?page=eclipse-util%20toolkits&amp;pagenum=3\" rel=\"nofollow\">this</a> and <a href=\"http://eclipseo.blogspot.in/2013/05/commenting-systemoutprintln-from.html\" rel=\"nofollow\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":4346060,"reputation":1917,"user_id":3619962,"accept_rate":87,"display_name":"Yasin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448530792,"creation_date":1403261597,"answer_id":24325629,"question_id":24323383,"body_markdown":"Eclipse has several shortcuts for commenting/uncommenting code.\r\n\r\nFor single line java code comment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; (Forwards Slash) and\r\n\r\nSingle line uncomment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;\\&lt;/kbd&gt; (Backslash)\r\n\r\nFor multiple line java code comment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; (Forwards Slash) and\r\n\r\nMultiline uncomment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;\\&lt;/kbd&gt; (Backslash)\r\n\r\nNote: For multiline comments, select all the lines that you wish to comment/uncomment first.\r\n\r\nAlso &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; will open a list of all major shortcuts for Eclipse.","title":"Remove All Comments in Java Files","body":"<p>Eclipse has several shortcuts for commenting/uncommenting code.</p>\n\n<p>For single line java code comment : <kbd>Ctrl</kbd> + <kbd>/</kbd> (Forwards Slash) and</p>\n\n<p>Single line uncomment : <kbd>Ctrl</kbd> + <kbd>\\</kbd> (Backslash)</p>\n\n<p>For multiple line java code comment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>/</kbd> (Forwards Slash) and</p>\n\n<p>Multiline uncomment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>\\</kbd> (Backslash)</p>\n\n<p>Note: For multiline comments, select all the lines that you wish to comment/uncomment first.</p>\n\n<p>Also <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd> will open a list of all major shortcuts for Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1456918927,"creation_date":1403266044,"answer_id":24326900,"question_id":24323383,"body_markdown":"I have found the solution https://stackoverflow.com/questions/24326361/regular-expression-with-multiple-lines-search.\r\n\r\nHere are the regular expression used to find two types of comments \r\n\r\n`\\/\\*([\\S\\s]+?)\\*\\/`   and `(?s)/\\*.*?\\*/`\r\n\r\nOpen the `.java` file with comments and open the Search dialog.(`Search -&gt; File Search`) and paste one of the above reg-ex and check the `Regular expression` tick box on the right side. Now you can search and select &quot;Replace All&quot; to replace it with nothing typed in the second box.\r\n\r\nUsing replace-with option I have cleaned all comments from java files.","title":"Remove All Comments in Java Files","body":"<p>I have found the solution <a href=\"https://stackoverflow.com/questions/24326361/regular-expression-with-multiple-lines-search\">Regular Expression with multiple lines search</a>.</p>\n\n<p>Here are the regular expression used to find two types of comments </p>\n\n<p><code>\\/\\*([\\S\\s]+?)\\*\\/</code>   and <code>(?s)/\\*.*?\\*/</code></p>\n\n<p>Open the <code>.java</code> file with comments and open the Search dialog.(<code>Search -&gt; File Search</code>) and paste one of the above reg-ex and check the <code>Regular expression</code> tick box on the right side. Now you can search and select \"Replace All\" to replace it with nothing typed in the second box.</p>\n\n<p>Using replace-with option I have cleaned all comments from java files.</p>\n"},{"tags":[],"owner":{"account_id":2538282,"reputation":5161,"user_id":2204772,"accept_rate":84,"display_name":"Ertuğrul &#199;etin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433340301,"creation_date":1433340301,"answer_id":30622447,"question_id":24323383,"body_markdown":"I made a open source [library][1] for this purpose, you can remove Java Comments.\r\n\r\nIt supports remove or NOT remove TODO&#39;s.&lt;br&gt;&lt;br&gt;\r\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.\r\n\r\n\r\nLittle code snippet how to use it:\r\n\r\n     public static void main(String[] args) throws CommentRemoverException {\r\n    \r\n     // root dir is: /Users/user/Projects/MyProject\r\n     // example for startInternalPath\r\n    \r\n     CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\r\n            .removeJava(true) // Remove Java file Comments....\r\n            .removeJavaScript(true) // Remove JavaScript file Comments....\r\n            .removeJSP(true) // etc.. goes like that\r\n            .removeTodos(false) //  Do Not Touch Todos (leave them alone)\r\n            .removeSingleLines(true) // Remove single line type comments\r\n            .removeMultiLines(true) // Remove multiple type comments\r\n            .startInternalPath(&quot;src.main.app&quot;) // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\r\n            .setExcludePackages(new String[]{&quot;src.main.java.app.pattern&quot;}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\r\n            .build();\r\n    \r\n     CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\r\n                      commentProcessor.start();        \r\n      }\r\n\r\n\r\n  [1]: https://github.com/ertugrulcetin/CommentRemover","title":"Remove All Comments in Java Files","body":"<p>I made a open source <a href=\"https://github.com/ertugrulcetin/CommentRemover\" rel=\"noreferrer\">library</a> for this purpose, you can remove Java Comments.</p>\n\n<p>It supports remove or NOT remove TODO's.<br><br>\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.</p>\n\n<p>Little code snippet how to use it:</p>\n\n<pre><code> public static void main(String[] args) throws CommentRemoverException {\n\n // root dir is: /Users/user/Projects/MyProject\n // example for startInternalPath\n\n CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\n        .removeJava(true) // Remove Java file Comments....\n        .removeJavaScript(true) // Remove JavaScript file Comments....\n        .removeJSP(true) // etc.. goes like that\n        .removeTodos(false) //  Do Not Touch Todos (leave them alone)\n        .removeSingleLines(true) // Remove single line type comments\n        .removeMultiLines(true) // Remove multiple type comments\n        .startInternalPath(\"src.main.app\") // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\n        .setExcludePackages(new String[]{\"src.main.java.app.pattern\"}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\n        .build();\n\n CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\n                  commentProcessor.start();        \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1433343725,"creation_date":1433343725,"answer_id":30623840,"question_id":24323383,"body_markdown":"Since nobody mentioned text processing tools `grep`, `sed`, `awk`, etc. in *NIX, I post my solution here.\r\n\r\nIf your os is *NIX, you can use the text processing tool `sed` to remove the comments.\r\n\r\n    sed &#39;/\\/\\*/{:loop;/\\/\\*.*\\*\\//{d;b out};N;b loop};:out&#39; yourfile.java","title":"Remove All Comments in Java Files","body":"<p>Since nobody mentioned text processing tools <code>grep</code>, <code>sed</code>, <code>awk</code>, etc. in *NIX, I post my solution here.</p>\n\n<p>If your os is *NIX, you can use the text processing tool <code>sed</code> to remove the comments.</p>\n\n<pre><code>sed '/\\/\\*/{:loop;/\\/\\*.*\\*\\//{d;b out};N;b loop};:out' yourfile.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82743,"reputation":3807,"user_id":232416,"accept_rate":100,"display_name":"Shaun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433343998,"creation_date":1433343998,"answer_id":30623955,"question_id":24323383,"body_markdown":"You might try using `uncrustify` (http://uncrustify.sourceforge.net/) to reformat your `/* block comments */` to `// double-slash comments`\r\n\r\nThat would make your regex a bit &quot;safer&quot; -- just look for `\\*s//` lines and delete them (easy `sed` operation)\r\n","title":"Remove All Comments in Java Files","body":"<p>You might try using <code>uncrustify</code> (<a href=\"http://uncrustify.sourceforge.net/\" rel=\"nofollow\">http://uncrustify.sourceforge.net/</a>) to reformat your <code>/* block comments */</code> to <code>// double-slash comments</code></p>\n\n<p>That would make your regex a bit \"safer\" -- just look for <code>\\*s//</code> lines and delete them (easy <code>sed</code> operation)</p>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453616398,"creation_date":1453616398,"answer_id":34972852,"question_id":24323383,"body_markdown":"This one is working well for me... I added it as an IntelliJ IDEA search template for JavaDoc and/or single line comments.. \r\n\r\n    (?sm)(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))\r\n\r\n---\r\n**Definition**\r\n\r\n---\r\n\r\n    \tOptions: ^ and $ match at line breaks\r\n    \t\r\n    \tMatch the remainder of the regex with the options: dot matches newline (s); ^ and $ match at line breaks (m) &#171;(?sm)&#187;\r\n    \tMatch the regular expression below and capture its match into backreference number 1 &#171;(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))&#187;\r\n    \t   Match either the regular expression below (attempting the next alternative only if this one fails) &#171;^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))&#187;\r\n    \t      Assert position at the beginning of a line (at beginning of the string or after a line break character) &#171;^&#187;\r\n    \t      Match the regular expression below &#171;(?:\\s*)?&#187;\r\n    \t         Between zero and one times, as many times as possible, giving back as needed (greedy) &#171;?&#187;\r\n    \t         Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) &#171;\\s*&#187;\r\n    \t            Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    \t      Match the regular expression below and capture its match into backreference number 2 &#171;((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))&#187;\r\n    \t         Match the regular expression below &#171;(?:/\\*(?:\\*)?)&#187;\r\n    \t            Match the character “/” literally &#171;/&#187;\r\n    \t            Match the character “*” literally &#171;\\*&#187;\r\n    \t            Match the regular expression below &#171;(?:\\*)?&#187;\r\n    \t               Between zero and one times, as many times as possible, giving back as needed (greedy) &#171;?&#187;\r\n    \t               Match the character “*” literally &#171;\\*&#187;\r\n    \t         Match any single character &#171;.*?&#187;\r\n    \t            Between zero and unlimited times, as few times as possible, expanding as needed (lazy) &#171;*?&#187;\r\n    \t         Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) &#171;(?&lt;=\\*/)&#187;\r\n    \t            Match the character “*” literally &#171;\\*&#187;\r\n    \t            Match the character “/” literally &#171;/&#187;\r\n    \t   Or match regular expression number 2 below (the entire group fails if this one fails to match) &#171;(?://).*?(?&lt;=$)&#187;\r\n    \t      Match the regular expression below &#171;(?://)&#187;\r\n    \t         Match the characters “//” literally &#171;//&#187;\r\n    \t      Match any single character &#171;.*?&#187;\r\n    \t         Between zero and unlimited times, as few times as possible, expanding as needed (lazy) &#171;*?&#187;\r\n    \t      Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) &#171;(?&lt;=$)&#187;\r\n    \t         Assert position at the end of a line (at the end of the string or before a line break character) &#171;$&#187;\r\n\r\n\r\n\r\n","title":"Remove All Comments in Java Files","body":"<p>This one is working well for me... I added it as an IntelliJ IDEA search template for JavaDoc and/or single line comments.. </p>\n\n<pre><code>(?sm)(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))\n</code></pre>\n\n<hr>\n\n<p><strong>Definition</strong></p>\n\n<hr>\n\n<pre><code>    Options: ^ and $ match at line breaks\n\n    Match the remainder of the regex with the options: dot matches newline (s); ^ and $ match at line breaks (m) «(?sm)»\n    Match the regular expression below and capture its match into backreference number 1 «(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))»\n       Match either the regular expression below (attempting the next alternative only if this one fails) «^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))»\n          Assert position at the beginning of a line (at beginning of the string or after a line break character) «^»\n          Match the regular expression below «(?:\\s*)?»\n             Between zero and one times, as many times as possible, giving back as needed (greedy) «?»\n             Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) «\\s*»\n                Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\n          Match the regular expression below and capture its match into backreference number 2 «((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))»\n             Match the regular expression below «(?:/\\*(?:\\*)?)»\n                Match the character “/” literally «/»\n                Match the character “*” literally «\\*»\n                Match the regular expression below «(?:\\*)?»\n                   Between zero and one times, as many times as possible, giving back as needed (greedy) «?»\n                   Match the character “*” literally «\\*»\n             Match any single character «.*?»\n                Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»\n             Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) «(?&lt;=\\*/)»\n                Match the character “*” literally «\\*»\n                Match the character “/” literally «/»\n       Or match regular expression number 2 below (the entire group fails if this one fails to match) «(?://).*?(?&lt;=$)»\n          Match the regular expression below «(?://)»\n             Match the characters “//” literally «//»\n          Match any single character «.*?»\n             Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»\n          Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) «(?&lt;=$)»\n             Assert position at the end of a line (at the end of the string or before a line break character) «$»\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7605211,"reputation":1533,"user_id":5768269,"accept_rate":79,"display_name":"Wesos de Queso"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501350739,"creation_date":1501350739,"answer_id":45392306,"question_id":24323383,"body_markdown":"I&#39;ve done this with the `Ctrl+F` command and this regex. \r\n\r\nThis only replace `//comments`\r\n\r\n    //(.?+)+\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nkuw1.png","title":"Remove All Comments in Java Files","body":"<p>I've done this with the <code>Ctrl+F</code> command and this regex. </p>\n\n<p>This only replace <code>//comments</code></p>\n\n<pre><code>//(.?+)+\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Nkuw1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Nkuw1.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618398625,"creation_date":1618398625,"answer_id":67090578,"question_id":24323383,"body_markdown":"\r\n&gt;I have many comments like following. Is there simple way to remove all comments?\r\n\r\nFor me I used Notepad++ and it was able to replace all files in my project all in one go.\r\n\r\n1) Open Notepad++, press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt; \r\n2) Click `Find in files` tab.\r\n3) Paste the project directory root path into Directory\r\n4) To remove all **block-comments** (Credits to user Ahmet Karakaya)\r\n    - Find what:`\\/\\*([\\S\\s]+?)\\*\\/`\r\n    - Replace with: `&lt;leave it empty, no empty space&gt;`\r\n    - Filters: `*.java`  (can be `*.*`) if want to search in all files\r\n    - Click &lt;kbd&gt;Find All&lt;/kbd&gt; to ensure the search results is what you intended to replace.\r\n    - Click &lt;kbd&gt;Replace in Files&lt;/kbd&gt;\r\n5) To remove all **single line-comments**\r\n\r\n    - Find what:`\\/\\/([\\S\\s]+?)\\n`\r\n    - Replace with: `&lt;leave it empty, no empty space&gt;`\r\n    - Filters: `*.java`  (can be `*.*`) if want to search in all files\r\n    - Click &lt;kbd&gt;Find All&lt;/kbd&gt; to ensure the search results is what you intended to replace.\r\n    - Click &lt;kbd&gt;Replace in Files&lt;/kbd&gt;\r\n---\r\n\r\n**Take Note**: Step 5 will remove all lines which begin with `//` till the next newline character. If you have URLs in your code, it will remove it as well. If you do not want to write another REGEX, you can always replace `https://` to something like `https:ZZ` first and then replace it back to the original state after you removed all single line comments.","title":"Remove All Comments in Java Files","body":"<blockquote>\n<p>I have many comments like following. Is there simple way to remove all comments?</p>\n</blockquote>\n<p>For me I used Notepad++ and it was able to replace all files in my project all in one go.</p>\n<ol>\n<li><p>Open Notepad++, press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd></p>\n</li>\n<li><p>Click <code>Find in files</code> tab.</p>\n</li>\n<li><p>Paste the project directory root path into Directory</p>\n</li>\n<li><p>To remove all <strong>block-comments</strong> (Credits to user Ahmet Karakaya)</p>\n<ul>\n<li>Find what:<code>\\/\\*([\\S\\s]+?)\\*\\/</code></li>\n<li>Replace with: <code>&lt;leave it empty, no empty space&gt;</code></li>\n<li>Filters: <code>*.java</code>  (can be <code>*.*</code>) if want to search in all files</li>\n<li>Click <kbd>Find All</kbd> to ensure the search results is what you intended to replace.</li>\n<li>Click <kbd>Replace in Files</kbd></li>\n</ul>\n</li>\n<li><p>To remove all <strong>single line-comments</strong></p>\n<ul>\n<li>Find what:<code>\\/\\/([\\S\\s]+?)\\n</code></li>\n<li>Replace with: <code>&lt;leave it empty, no empty space&gt;</code></li>\n<li>Filters: <code>*.java</code>  (can be <code>*.*</code>) if want to search in all files</li>\n<li>Click <kbd>Find All</kbd> to ensure the search results is what you intended to replace.</li>\n<li>Click <kbd>Replace in Files</kbd></li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>Take Note</strong>: Step 5 will remove all lines which begin with <code>//</code> till the next newline character. If you have URLs in your code, it will remove it as well. If you do not want to write another REGEX, you can always replace <code>https://</code> to something like <code>https:ZZ</code> first and then replace it back to the original state after you removed all single line comments.</p>\n"},{"tags":[],"owner":{"account_id":26094741,"reputation":1,"user_id":19791011,"display_name":"徐同鹏"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661849518,"creation_date":1661849518,"answer_id":73539627,"question_id":24323383,"body_markdown":"here&#39;s my solution:\r\n````\r\nnew FileGenerator().start(new File(&quot;C:\\\\yourFolder&quot;), e-&gt;{\r\n            String str = ReadFileToString.read(e);\r\n            Comments co = null;\r\n            try {\r\n                co = new Comments(str);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            e.delete();\r\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\r\n            stream.println(co.analysis());\r\n            stream.close();\r\n        });\r\n````\r\n````\r\npublic class FileGenerator {\r\n\r\n    /*\r\n    *  new FileGenerator().start(new File(&quot;C:\\\\folders&quot;), e-&gt;{\r\n            String str = ReadFileToString.read(e);\r\n            e.delete();\r\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\r\n            stream.println(CommentRemover.init(str));\r\n            stream.close();\r\n        });\r\n    * */\r\n\r\n    public interface callback{\r\n        void cb(File f) throws IOException;\r\n    }\r\n\r\n    public void start(File f, callback cb) throws IOException {\r\n        if (f.isDirectory()) {\r\n            File[] arr = f.listFiles();\r\n            for (File tmp : arr) {\r\n                if (tmp.isDirectory())\r\n                    start(tmp,cb);\r\n                else\r\n                    cb.cb(tmp);\r\n            }\r\n        }\r\n    }\r\n}\r\n````\r\n````\r\npackage xyz.laremehpe.comment;\r\n\r\npublic class Comments {\r\n    StringBuilder template;\r\n    final String holder1 = &quot;←&quot;;\r\n    final String holder2 = &quot;↓&quot;;\r\n    final String holder3 = &quot;↖&quot;;\r\n    int quota = 1024;\r\n\r\n    public Comments(String template) throws Exception {\r\n        this.template = new StringBuilder(template);\r\n        //for safety\r\n        if (template.indexOf(holder1) &gt; -1)\r\n            throw new Exception(&quot;this file already have the placeholder1, please check your file before compile!!&quot;);\r\n        if (template.indexOf(holder2) &gt; -1)\r\n            throw new Exception(&quot;this file already have the placeholder2, please check your file before compile!!&quot;);\r\n        if (template.indexOf(holder3) &gt; -1)\r\n            throw new Exception(&quot;this file already have the placeholder3, please check your file before compile!!&quot;);\r\n        //for safety\r\n    }\r\n\r\n    public StringBuilder analysis() {\r\n        int index3,index2,index1;\r\n        String[] str1 = new String[quota];\r\n        index1 = escape(template,&quot;\\\\&quot;,holder1,str1);\r\n//----------------------------------------------------------------------------\r\n        String[] str2 = new String[quota];\r\n        index2 = replace(template,&quot;\\&quot;&quot;,holder2,str2);\r\n//----------------------------------------------------------------------------\r\n        String[] str3 = new String[quota];\r\n        index3 = replace(template,&quot;\\&#39;&quot;,holder3,str3);\r\n//----------------------------------------------------------------------------\r\n        replaceA(template,&quot;//&quot;,&quot;\\n&quot;);\r\n        replaceB(template,&quot;/*&quot;,&quot;*/&quot;);\r\n//----------------------------------------------------------------------------\r\n        restore(template,str3,index3,holder3);\r\n        restore(template,str2,index2,holder2);\r\n        restore(template,str1,index1,holder1);\r\n\r\n        return template;\r\n    }\r\n\r\n    private void restore(StringBuilder sb,String[] from,int i,String holder){\r\n        for (;i &gt; -1; i--) {\r\n            String ch = holder+i;\r\n            int po = sb.indexOf(ch);\r\n            if(po &gt; -1)\r\n            sb.replace(po,po+ch.length(),from[i]);\r\n        }\r\n    }\r\n\r\n    private int escape(StringBuilder sb,String ch,String holder,String[] restore){\r\n        int po1 = sb.indexOf(ch);\r\n        int po2 = po1+2;\r\n\r\n        int index = 0;\r\n        while(po1 != -1){\r\n            restore[index] = sb.substring(po1, po2);\r\n            sb.replace(po1,po2,holder+index);\r\n            index++;\r\n            po1 = sb.indexOf(ch);\r\n            po2 = po1+2;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    private int replace(StringBuilder sb,String ch,String holder,String[] restore){\r\n        int po1 = sb.indexOf(ch);\r\n        int po2 = sb.indexOf(ch,po1+1)+1;\r\n\r\n        int index = 0;\r\n        while(po1 != -1 &amp;&amp; po2 != -1){\r\n            restore[index] = sb.substring(po1, po2);\r\n            sb.replace(po1,po2,holder+index);\r\n            index++;\r\n            po1 = sb.indexOf(ch);\r\n            po2 = sb.indexOf(ch,po1+1)+1;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    private void replaceA(StringBuilder sb,String from,String to){\r\n        int po1 = sb.indexOf(from);\r\n        int po2 = sb.indexOf(to,po1+1);\r\n\r\n        while(po1 != -1 &amp;&amp; po2 != -1){\r\n            sb.replace(po1,po2,&quot;&quot;);\r\n            po1 = sb.indexOf(from);\r\n            po2 = sb.indexOf(to,po1+1);\r\n        }\r\n    }\r\n\r\n    private void replaceB(StringBuilder sb,String from,String to){\r\n        int po1 = sb.indexOf(from);\r\n        int po2 = sb.indexOf(to,po1+1)+2;\r\n\r\n        while(po1 != -1 &amp;&amp; po2 != -1){\r\n            sb.replace(po1,po2,&quot;&quot;);\r\n            po1 = sb.indexOf(from);\r\n            po2 = sb.indexOf(to,po1+1)+2;\r\n        }\r\n    }\r\n}\r\n````\r\n","title":"Remove All Comments in Java Files","body":"<p>here's my solution:</p>\n<pre><code>new FileGenerator().start(new File(&quot;C:\\\\yourFolder&quot;), e-&gt;{\n            String str = ReadFileToString.read(e);\n            Comments co = null;\n            try {\n                co = new Comments(str);\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n            e.delete();\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\n            stream.println(co.analysis());\n            stream.close();\n        });\n</code></pre>\n<pre><code>public class FileGenerator {\n\n    /*\n    *  new FileGenerator().start(new File(&quot;C:\\\\folders&quot;), e-&gt;{\n            String str = ReadFileToString.read(e);\n            e.delete();\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\n            stream.println(CommentRemover.init(str));\n            stream.close();\n        });\n    * */\n\n    public interface callback{\n        void cb(File f) throws IOException;\n    }\n\n    public void start(File f, callback cb) throws IOException {\n        if (f.isDirectory()) {\n            File[] arr = f.listFiles();\n            for (File tmp : arr) {\n                if (tmp.isDirectory())\n                    start(tmp,cb);\n                else\n                    cb.cb(tmp);\n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>package xyz.laremehpe.comment;\n\npublic class Comments {\n    StringBuilder template;\n    final String holder1 = &quot;←&quot;;\n    final String holder2 = &quot;↓&quot;;\n    final String holder3 = &quot;↖&quot;;\n    int quota = 1024;\n\n    public Comments(String template) throws Exception {\n        this.template = new StringBuilder(template);\n        //for safety\n        if (template.indexOf(holder1) &gt; -1)\n            throw new Exception(&quot;this file already have the placeholder1, please check your file before compile!!&quot;);\n        if (template.indexOf(holder2) &gt; -1)\n            throw new Exception(&quot;this file already have the placeholder2, please check your file before compile!!&quot;);\n        if (template.indexOf(holder3) &gt; -1)\n            throw new Exception(&quot;this file already have the placeholder3, please check your file before compile!!&quot;);\n        //for safety\n    }\n\n    public StringBuilder analysis() {\n        int index3,index2,index1;\n        String[] str1 = new String[quota];\n        index1 = escape(template,&quot;\\\\&quot;,holder1,str1);\n//----------------------------------------------------------------------------\n        String[] str2 = new String[quota];\n        index2 = replace(template,&quot;\\&quot;&quot;,holder2,str2);\n//----------------------------------------------------------------------------\n        String[] str3 = new String[quota];\n        index3 = replace(template,&quot;\\'&quot;,holder3,str3);\n//----------------------------------------------------------------------------\n        replaceA(template,&quot;//&quot;,&quot;\\n&quot;);\n        replaceB(template,&quot;/*&quot;,&quot;*/&quot;);\n//----------------------------------------------------------------------------\n        restore(template,str3,index3,holder3);\n        restore(template,str2,index2,holder2);\n        restore(template,str1,index1,holder1);\n\n        return template;\n    }\n\n    private void restore(StringBuilder sb,String[] from,int i,String holder){\n        for (;i &gt; -1; i--) {\n            String ch = holder+i;\n            int po = sb.indexOf(ch);\n            if(po &gt; -1)\n            sb.replace(po,po+ch.length(),from[i]);\n        }\n    }\n\n    private int escape(StringBuilder sb,String ch,String holder,String[] restore){\n        int po1 = sb.indexOf(ch);\n        int po2 = po1+2;\n\n        int index = 0;\n        while(po1 != -1){\n            restore[index] = sb.substring(po1, po2);\n            sb.replace(po1,po2,holder+index);\n            index++;\n            po1 = sb.indexOf(ch);\n            po2 = po1+2;\n        }\n        return index;\n    }\n\n    private int replace(StringBuilder sb,String ch,String holder,String[] restore){\n        int po1 = sb.indexOf(ch);\n        int po2 = sb.indexOf(ch,po1+1)+1;\n\n        int index = 0;\n        while(po1 != -1 &amp;&amp; po2 != -1){\n            restore[index] = sb.substring(po1, po2);\n            sb.replace(po1,po2,holder+index);\n            index++;\n            po1 = sb.indexOf(ch);\n            po2 = sb.indexOf(ch,po1+1)+1;\n        }\n        return index;\n    }\n\n    private void replaceA(StringBuilder sb,String from,String to){\n        int po1 = sb.indexOf(from);\n        int po2 = sb.indexOf(to,po1+1);\n\n        while(po1 != -1 &amp;&amp; po2 != -1){\n            sb.replace(po1,po2,&quot;&quot;);\n            po1 = sb.indexOf(from);\n            po2 = sb.indexOf(to,po1+1);\n        }\n    }\n\n    private void replaceB(StringBuilder sb,String from,String to){\n        int po1 = sb.indexOf(from);\n        int po2 = sb.indexOf(to,po1+1)+2;\n\n        while(po1 != -1 &amp;&amp; po2 != -1){\n            sb.replace(po1,po2,&quot;&quot;);\n            po1 = sb.indexOf(from);\n            po2 = sb.indexOf(to,po1+1)+2;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26778268,"reputation":1,"user_id":20373544,"display_name":"Tanvir Anjum Rifat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398914,"creation_date":1667152937,"answer_id":74255504,"question_id":24323383,"body_markdown":"I write this code to delete comment from my java file.\r\n\r\nTake a look, if it&#39;s helpful.\r\n\r\n \r\n\r\n        public static void main(String[] args) throws IOException {\r\n        final var lines = Files.readAllLines(Path.of(&quot;myfile.txt&quot;));\r\n\r\n        var result = new ArrayList&lt;String&gt;();\r\n        boolean blockComment = false;\r\n\r\n        for (final String line : lines) {\r\n            if (line.contains(&quot;//&quot;)) {\r\n                var index = line.indexOf(&quot;//&quot;);\r\n                if (index == 0) {\r\n                    // do nothing.\r\n                } else {\r\n                    final var newline = line.substring(0, index);\r\n                    result.add(newline);\r\n                }\r\n            } else {\r\n                if (line.contains(&quot;/*&quot;)) {\r\n                    blockComment = true;\r\n                    var firstIndex = line.indexOf(&quot;/*&quot;);\r\n                    if (line.contains(&quot;*/&quot;)) {\r\n                        var lastIndex = line.indexOf(&quot;*/&quot;);\r\n                        var newline = line.substring(0, firstIndex) + line.substring(lastIndex + 2);\r\n                        result.add(newline);\r\n                        blockComment = false;\r\n                    }\r\n                } else if (!line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\r\n                    //do nothing .\r\n                } else if (line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\r\n                        var lastIndex = line.indexOf(&quot;*/&quot;);\r\n                        var newline = line.substring(lastIndex + 2);\r\n                        result.add(newline);\r\n                        blockComment = false;\r\n                } else {\r\n                    result.add(line);\r\n                }\r\n            }\r\n        }\r\n        final var outputContents = String.join(&quot;\\n&quot;, result);\r\n        Files.writeString(Path.of(&quot;output.txt&quot;), outputContents);\r\n\r\n        \r\n    }","title":"Remove All Comments in Java Files","body":"<p>I write this code to delete comment from my java file.</p>\n<p>Take a look, if it's helpful.</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n    final var lines = Files.readAllLines(Path.of(&quot;myfile.txt&quot;));\n\n    var result = new ArrayList&lt;String&gt;();\n    boolean blockComment = false;\n\n    for (final String line : lines) {\n        if (line.contains(&quot;//&quot;)) {\n            var index = line.indexOf(&quot;//&quot;);\n            if (index == 0) {\n                // do nothing.\n            } else {\n                final var newline = line.substring(0, index);\n                result.add(newline);\n            }\n        } else {\n            if (line.contains(&quot;/*&quot;)) {\n                blockComment = true;\n                var firstIndex = line.indexOf(&quot;/*&quot;);\n                if (line.contains(&quot;*/&quot;)) {\n                    var lastIndex = line.indexOf(&quot;*/&quot;);\n                    var newline = line.substring(0, firstIndex) + line.substring(lastIndex + 2);\n                    result.add(newline);\n                    blockComment = false;\n                }\n            } else if (!line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\n                //do nothing .\n            } else if (line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\n                    var lastIndex = line.indexOf(&quot;*/&quot;);\n                    var newline = line.substring(lastIndex + 2);\n                    result.add(newline);\n                    blockComment = false;\n            } else {\n                result.add(line);\n            }\n        }\n    }\n    final var outputContents = String.join(&quot;\\n&quot;, result);\n    Files.writeString(Path.of(&quot;output.txt&quot;), outputContents);\n\n    \n}\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62297,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":24326900,"answer_count":12,"score":31,"last_activity_date":1667398914,"creation_date":1403254210,"question_id":24323383,"body_markdown":"I have many comments like following. Is there simple way to remove all comments?\r\n\r\nIDE Eclipse Kepler\r\n\r\n    /* 34:   */\r\n    \r\n    /*\r\n    \r\n     * JD-Core Version:    0.7.0.1\r\n    \r\n     */","title":"Remove All Comments in Java Files","body":"<p>I have many comments like following. Is there simple way to remove all comments?</p>\n\n<p>IDE Eclipse Kepler</p>\n\n<pre><code>/* 34:   */\n\n/*\n\n * JD-Core Version:    0.7.0.1\n\n */\n</code></pre>\n"},{"tags":["java","wildcard","converters","subnet","cidr"],"comments":[{"owner":{"account_id":1706307,"reputation":3047,"user_id":1565284,"accept_rate":74,"display_name":"coredump"},"score":1,"creation_date":1348149216,"post_id":12514050,"comment_id":16843756,"body_markdown":"Your input is a string or a number data type ?","body":"Your input is a string or a number data type ?"},{"owner":{"account_id":1706307,"reputation":3047,"user_id":1565284,"accept_rate":74,"display_name":"coredump"},"score":0,"creation_date":1348149276,"post_id":12514050,"comment_id":16843797,"body_markdown":"The mask 252.0.128.0 is not valid. The number represented in the dot decimal format must consist of consecutive bits of one in order to be a valid network mask.","body":"The mask 252.0.128.0 is not valid. The number represented in the dot decimal format must consist of consecutive bits of one in order to be a valid network mask."},{"owner":{"account_id":433739,"reputation":934,"user_id":819262,"accept_rate":100,"display_name":"denizeren"},"score":0,"creation_date":1348149418,"post_id":12514050,"comment_id":16843868,"body_markdown":"but it could be used in iptables so it is possible, example rule:\niptables -A INPUT -s 10.0.0.0/252.0.128.0 -j ACCEPT\nI need this conversion in order to use these subnets in ipset. So it is valid actually.","body":"but it could be used in iptables so it is possible, example rule: iptables -A INPUT -s 10.0.0.0/252.0.128.0 -j ACCEPT I need this conversion in order to use these subnets in ipset. So it is valid actually."},{"owner":{"account_id":433739,"reputation":934,"user_id":819262,"accept_rate":100,"display_name":"denizeren"},"score":0,"creation_date":1348149472,"post_id":12514050,"comment_id":16843896,"body_markdown":"My input is string data type.","body":"My input is string data type."}],"answers":[{"tags":[],"owner":{"account_id":1706307,"reputation":3047,"user_id":1565284,"accept_rate":74,"display_name":"coredump"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609964348,"creation_date":1348149468,"answer_id":12514243,"question_id":12514050,"body_markdown":"You can use `SubnetUtils` from [**Apache**][1]\r\n\r\n\r\nIt has a constructor `SubnetUtils(String address, String mask)`\r\n that takes as arguments 2 string, the destination IP and the network mask.\r\n\r\nThen you can use the nested class `SubnetUtilsInfo` and it&#39;s methods to get what you want .\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.docjar.com/docs/api/org/apache/commons/net/util/SubnetUtils.html","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>You can use <code>SubnetUtils</code> from <a href=\"http://www.docjar.com/docs/api/org/apache/commons/net/util/SubnetUtils.html\" rel=\"nofollow noreferrer\"><strong>Apache</strong></a></p>\n<p>It has a constructor <code>SubnetUtils(String address, String mask)</code>\nthat takes as arguments 2 string, the destination IP and the network mask.</p>\n<p>Then you can use the nested class <code>SubnetUtilsInfo</code> and it's methods to get what you want .</p>\n"},{"tags":[],"owner":{"account_id":18970109,"reputation":476,"user_id":13843769,"display_name":"Steve Dugan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609964220,"creation_date":1609963864,"answer_id":65602777,"question_id":12514050,"body_markdown":"There are 3 types of masks used in TCP/IP.  Subnet masks, simple bit masks, and wildcard masks.  Subnet masks must be contiguous. Meaning a series of 1s followed by are series of 0s.  It has been this way since 1991 (RFC 1219).  The use of this mask is so that devices understand what the network number, broadcast number, and valid host for the subnet in question.   Simple bit masks are used in access-control and allowed to be discontiguous.  Cisco ASA firewalls, iptables and other systems use these types of masks to test for certian parts of an IP address.  For example 10.1.0.254 255.255.0.255 is testing that the first octet is 10, the second is 1, the fourth is 254, but value of the thrid octet can be 0-255.    A wildcard mask is an inverted simple bit mask and is commonlly used on Cisco routers and switches.  These are also allowed to be discontiguous.  Using the same example as before, we would invert the mask to get a test of 10.1.0.254 0.0.255.0.  This test is identical to the previous example in that we care about octet 1,2, and 4 matching the exact value, but octet 3 can vary.\r\nThe KEY point in all of this is that you are trying to convert 2 different things.  Subnet masks are not used to same as simple bit masks/wildcard masks.  Converting from one to the other isn&#39;t possible.  Even if the simple/wild card mask is contiguous, the mask may not be represntitive of the actual subnet mask in use.\r\n ","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>There are 3 types of masks used in TCP/IP.  Subnet masks, simple bit masks, and wildcard masks.  Subnet masks must be contiguous. Meaning a series of 1s followed by are series of 0s.  It has been this way since 1991 (RFC 1219).  The use of this mask is so that devices understand what the network number, broadcast number, and valid host for the subnet in question.   Simple bit masks are used in access-control and allowed to be discontiguous.  Cisco ASA firewalls, iptables and other systems use these types of masks to test for certian parts of an IP address.  For example 10.1.0.254 255.255.0.255 is testing that the first octet is 10, the second is 1, the fourth is 254, but value of the thrid octet can be 0-255.    A wildcard mask is an inverted simple bit mask and is commonlly used on Cisco routers and switches.  These are also allowed to be discontiguous.  Using the same example as before, we would invert the mask to get a test of 10.1.0.254 0.0.255.0.  This test is identical to the previous example in that we care about octet 1,2, and 4 matching the exact value, but octet 3 can vary.\nThe KEY point in all of this is that you are trying to convert 2 different things.  Subnet masks are not used to same as simple bit masks/wildcard masks.  Converting from one to the other isn't possible.  Even if the simple/wild card mask is contiguous, the mask may not be represntitive of the actual subnet mask in use.</p>\n"},{"tags":[],"owner":{"account_id":20729960,"reputation":479,"user_id":15222211,"display_name":"pyjedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398568,"creation_date":1667398568,"answer_id":74290649,"question_id":12514050,"body_markdown":"convert wildcard to prefixes in python\r\n```\r\naddress = Address(&quot;1.2.3.4 255.0.255.0&quot;)\r\nprefixes = address.prefixes()\r\nprint(prefixes)  \r\n# [&#39;0.2.0.4/32&#39;, \r\n#  &#39;0.2.1.4/32&#39;, \r\n#  &#39;0.2.2.4/32&#39;, \r\n#  ...\r\n```","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>convert wildcard to prefixes in python</p>\n<pre><code>address = Address(&quot;1.2.3.4 255.0.255.0&quot;)\nprefixes = address.prefixes()\nprint(prefixes)  \n# ['0.2.0.4/32', \n#  '0.2.1.4/32', \n#  '0.2.2.4/32', \n#  ...\n</code></pre>\n"}],"owner":{"account_id":433739,"reputation":934,"user_id":819262,"accept_rate":100,"display_name":"denizeren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12514243,"answer_count":3,"score":3,"last_activity_date":1667398568,"creation_date":1348148858,"question_id":12514050,"body_markdown":"I need to convert wildcard subnets to smallest cidr subnet list.\r\nFor example:\r\n\r\n    1.2.3.4/255.0.255.0\r\n    converted to\r\n    1.0.3.0/24\r\n    1.1.3.0/24\r\n    1.2.3.0/24\r\n    1.3.3.0/24\r\n    ...\r\n    1.254.3.0/24\r\n    1.255.3.0/24\r\n\r\nAbove example is easy but for the wildcard subnet like this 1.2.3.4/252.0.128.0 its more complicated.\r\n\r\nIs there a library for that in Java.\r\n\r\nThanks in advance.","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>I need to convert wildcard subnets to smallest cidr subnet list.\nFor example:</p>\n\n<pre><code>1.2.3.4/255.0.255.0\nconverted to\n1.0.3.0/24\n1.1.3.0/24\n1.2.3.0/24\n1.3.3.0/24\n...\n1.254.3.0/24\n1.255.3.0/24\n</code></pre>\n\n<p>Above example is easy but for the wildcard subnet like this 1.2.3.4/252.0.128.0 its more complicated.</p>\n\n<p>Is there a library for that in Java.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1477995049,"post_id":40187753,"comment_id":67969131,"body_markdown":"This is not valid Java (unreachable statements).","body":"This is not valid Java (unreachable statements)."}],"answers":[{"tags":[],"owner":{"account_id":9490609,"reputation":67,"user_id":7055576,"display_name":"Ishaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477105402,"creation_date":1477104574,"answer_id":40187843,"question_id":40187753,"body_markdown":"Try this instead :\r\n\r\n* Convert the 16 digit number into a String using    Long.toString(number). \r\n\r\n* Iterate  through the String character by    character and keep track of even and odd indexes. \r\n\r\n* Convert each char to an Integer using Integer.valueOf() thereby adding them    incrementally. \r\n\r\n* Voila, you got your evenSum and oddSum. Next steps    should be trivial.\r\n\r\n        public static boolean validateCreditCard(long number){\r\n        String x = Long.toString(number);\r\n        int evenSum = 0;\r\n        int oddSum = 0;\r\n        for(int i=0; i&lt;x.length; i=i+2) {\r\n           oddSum += Integer.valueOf(s[i]);\r\n           evenSum += Integer.valueOf(s[i+1]);\r\n        }\r\n        //Do the next steps with odd and even sums. \r\n\r\nAlso, do handle IndexOutOfBoundsException as appropriate.\r\n\r\n\r\n\r\n","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>Try this instead :</p>\n\n<ul>\n<li><p>Convert the 16 digit number into a String using    Long.toString(number). </p></li>\n<li><p>Iterate  through the String character by    character and keep track of even and odd indexes. </p></li>\n<li><p>Convert each char to an Integer using Integer.valueOf() thereby adding them    incrementally. </p></li>\n<li><p>Voila, you got your evenSum and oddSum. Next steps    should be trivial.</p>\n\n<pre><code>public static boolean validateCreditCard(long number){\nString x = Long.toString(number);\nint evenSum = 0;\nint oddSum = 0;\nfor(int i=0; i&lt;x.length; i=i+2) {\n   oddSum += Integer.valueOf(s[i]);\n   evenSum += Integer.valueOf(s[i+1]);\n}\n//Do the next steps with odd and even sums. \n</code></pre></li>\n</ul>\n\n<p>Also, do handle IndexOutOfBoundsException as appropriate.</p>\n"},{"tags":[],"owner":{"account_id":8214182,"reputation":327,"user_id":6181189,"display_name":"Anagh Hegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477987537,"creation_date":1477117813,"answer_id":40189056,"question_id":40187753,"body_markdown":"You can do it in a single while loop as digits are fixed, like this:  \r\n     \r\n    int digit,evensum,oddsum;\r\n    int i=16;\r\n    while(i &gt; 0){\r\n        digit=number%10;\r\n        if(i%2 == 0)\r\n             evensum+=digit;\r\n        else\r\n             oddsum+=digit;  \r\n        i--;\r\n        digit/=10;\r\n    } ","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>You can do it in a single while loop as digits are fixed, like this:  </p>\n\n<pre><code>int digit,evensum,oddsum;\nint i=16;\nwhile(i &gt; 0){\n    digit=number%10;\n    if(i%2 == 0)\n         evensum+=digit;\n    else\n         oddsum+=digit;  \n    i--;\n    digit/=10;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23589099,"reputation":1,"user_id":17627158,"display_name":"Yogesh Baghel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398550,"creation_date":1667398550,"answer_id":74290645,"question_id":40187753,"body_markdown":"Try this instead \r\n**using Recusion** find sum of even placed of digit and sum of odd placed of digit.\r\n\r\n```java\r\nclass Recursion {\r\n  static int count = 0;\r\n  static int even =0;\r\n  static int odd =0;\r\n  public static int Digits(int num) {\r\n    if (num &gt; 0) {\r\n      count++;\r\n      if(count%2 == 0){\r\n          even += num%10;\r\n      }\r\n      else{\r\n          odd += num%10;\r\n      }\r\n      Digits(num / 10);\r\n    }\r\n    return even;\r\n    // for odd \r\n    // return odd;\r\n  }\r\n  public static void main(String[] args) {\r\n    int num = 31593;\r\n    int res = Digits(num);\r\n    System.out.println(&quot;Total digits are: &quot; + res);\r\n  }\r\n}\r\n```\r\n**Help me** How to print both even and odd sum together? ","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>Try this instead\n<strong>using Recusion</strong> find sum of even placed of digit and sum of odd placed of digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Recursion {\n  static int count = 0;\n  static int even =0;\n  static int odd =0;\n  public static int Digits(int num) {\n    if (num &gt; 0) {\n      count++;\n      if(count%2 == 0){\n          even += num%10;\n      }\n      else{\n          odd += num%10;\n      }\n      Digits(num / 10);\n    }\n    return even;\n    // for odd \n    // return odd;\n  }\n  public static void main(String[] args) {\n    int num = 31593;\n    int res = Digits(num);\n    System.out.println(&quot;Total digits are: &quot; + res);\n  }\n}\n</code></pre>\n<p><strong>Help me</strong> How to print both even and odd sum together?</p>\n"}],"owner":{"account_id":9490987,"reputation":1,"user_id":7055807,"display_name":"Marie Leech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667398550,"creation_date":1477103551,"question_id":40187753,"body_markdown":"In our directions, we have to get a 16 digit number, then sum all the digits in the odd place from right to left. After that, we have to sum all the even place digits from right to left, double the sum, then take module 9. When I try to run my code, I keep getting &quot;Invalid&quot;, even if it is with a valid credit card number.\r\n\r\n    public static boolean validateCreditCard(long number) {\r\n        double cardSum = 0;\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            long cardnumber = (long) Math.pow(10, i);\r\n            double oddPlaceSum = 0;\r\n            double evenPlaceSum = 0;\r\n            if (i % 2 != 0) {\r\n                oddPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i))));\r\n            } else { // so if i%2 ==0\r\n                evenPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i)) * 2 % 9));\r\n            }\r\n            cardSum += evenPlaceSum + oddPlaceSum;\r\n        }\r\n        if (cardSum % 10 == 0) {\r\n            return true;\r\n            System.out.println(&quot;Valid&quot;);\r\n        } else {\r\n            return false;\r\n            System.out.println(&quot;Invalid&quot;);\r\n        }\r\n    }","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>In our directions, we have to get a 16 digit number, then sum all the digits in the odd place from right to left. After that, we have to sum all the even place digits from right to left, double the sum, then take module 9. When I try to run my code, I keep getting \"Invalid\", even if it is with a valid credit card number.</p>\n\n<pre><code>public static boolean validateCreditCard(long number) {\n    double cardSum = 0;\n    for (int i = 0; i &lt; 16; i++) {\n        long cardnumber = (long) Math.pow(10, i);\n        double oddPlaceSum = 0;\n        double evenPlaceSum = 0;\n        if (i % 2 != 0) {\n            oddPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i))));\n        } else { // so if i%2 ==0\n            evenPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i)) * 2 % 9));\n        }\n        cardSum += evenPlaceSum + oddPlaceSum;\n    }\n    if (cardSum % 10 == 0) {\n        return true;\n        System.out.println(\"Valid\");\n    } else {\n        return false;\n        System.out.println(\"Invalid\");\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667397327,"creation_date":1667397327,"answer_id":74290364,"question_id":74290223,"body_markdown":"The whole point of the singleton bean is to be a single instance per application context. When spring application starts, these beans are created and put into the context.\r\n\r\nThey&#39;ll reside in the context as long as the application context is available (usually it means as long as the application process is up and running).\r\n\r\nNow If beans are stateless, I doubt they&#39;ll significantly impact the memory footprint. JVM can allocate millions of objects, and usually, the memory is consumed by the internal state of the allocated object...\r\n\r\n\r\nIf you do have a state - you can define a cache with an expiration so that it will be cleaned and eventually garbage collected...\r\nSpring has caching support or alternatively you can use the in-memory cache implementations directly (like caffeine or guava cache) - no need to roll your own cache implementation from scratch.\r\n","title":"Release unused spring beans","body":"<p>The whole point of the singleton bean is to be a single instance per application context. When spring application starts, these beans are created and put into the context.</p>\n<p>They'll reside in the context as long as the application context is available (usually it means as long as the application process is up and running).</p>\n<p>Now If beans are stateless, I doubt they'll significantly impact the memory footprint. JVM can allocate millions of objects, and usually, the memory is consumed by the internal state of the allocated object...</p>\n<p>If you do have a state - you can define a cache with an expiration so that it will be cleaned and eventually garbage collected...\nSpring has caching support or alternatively you can use the in-memory cache implementations directly (like caffeine or guava cache) - no need to roll your own cache implementation from scratch.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398461,"creation_date":1667398461,"answer_id":74290623,"question_id":74290223,"body_markdown":"&gt; Do the bean instances add to the application&#39;s total memory?\r\n\r\nSure, they will contribute to the application memory footprint. Your Singleton-Beans are there would be there from the application start up, fully initialized and ready to serve requests without any delay, that&#39;s the whole point of keeping them alive in the Spring&#39;s Context.\r\n\r\n&gt; If the beans are unused for a long time, is it possible to release them to be garbage collected?\r\n\r\nIt feels like you want to address the problem backwards, by trying to mitigate the symptoms without touching the root.\r\n\r\nIf you have too many Beans that are unused for a significant amount of time (*and presumably the application is constantly busy*) the problem might be rooted on the Architectural level. The solution (not the easy one) might be to split it into multiple services shipped with more granular subsets of functionalities (which are now you have in a single application) deployed and managed separately.","title":"Release unused spring beans","body":"<blockquote>\n<p>Do the bean instances add to the application's total memory?</p>\n</blockquote>\n<p>Sure, they will contribute to the application memory footprint. Your Singleton-Beans are there would be there from the application start up, fully initialized and ready to serve requests without any delay, that's the whole point of keeping them alive in the Spring's Context.</p>\n<blockquote>\n<p>If the beans are unused for a long time, is it possible to release them to be garbage collected?</p>\n</blockquote>\n<p>It feels like you want to address the problem backwards, by trying to mitigate the symptoms without touching the root.</p>\n<p>If you have too many Beans that are unused for a significant amount of time (<em>and presumably the application is constantly busy</em>) the problem might be rooted on the Architectural level. The solution (not the easy one) might be to split it into multiple services shipped with more granular subsets of functionalities (which are now you have in a single application) deployed and managed separately.</p>\n"}],"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667398461,"creation_date":1667396742,"question_id":74290223,"body_markdown":"My application has lot of Spring beans (singleton and effectively stateless).  \r\nDo the bean instances add to the application&#39;s total memory?  \r\n\r\nIf the beans are unused for a long time, is it possible to release them to be garbage collected? \r\n\r\n(I know that the prototype scope is available, but I want only a single instance of the bean to exist at any given time.)","title":"Release unused spring beans","body":"<p>My application has lot of Spring beans (singleton and effectively stateless).<br />\nDo the bean instances add to the application's total memory?</p>\n<p>If the beans are unused for a long time, is it possible to release them to be garbage collected?</p>\n<p>(I know that the prototype scope is available, but I want only a single instance of the bean to exist at any given time.)</p>\n"},{"tags":["java","c#","web-services","parameters","wsdl"],"comments":[{"owner":{"account_id":58224,"reputation":51590,"user_id":174375,"accept_rate":80,"display_name":"NibblyPig"},"score":0,"creation_date":1519137335,"post_id":48111466,"comment_id":84780122,"body_markdown":"I&#39;ve found the same issue trying to integrate with a massive company&#39;s WSDL. Using an online SOAP web client, it displays the parameter/return type correctly.","body":"I&#39;ve found the same issue trying to integrate with a massive company&#39;s WSDL. Using an online SOAP web client, it displays the parameter/return type correctly."}],"answers":[{"tags":[],"owner":{"account_id":20686712,"reputation":21,"user_id":15188949,"display_name":"BNB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398252,"creation_date":1667398252,"answer_id":74290567,"question_id":48111466,"body_markdown":"I had a problem, when importing a C# service reference from a wsdl that includes a &quot;part&quot; with the name &quot;parameters&quot; just like it is shown in your example.\r\n\r\nWhen I renamed it to e.g. &quot;parameters1&quot;, it worked as expected. Maybe your problem is similar here?","title":"Visual Studio can&#39;t read WSDL parameters","body":"<p>I had a problem, when importing a C# service reference from a wsdl that includes a &quot;part&quot; with the name &quot;parameters&quot; just like it is shown in your example.</p>\n<p>When I renamed it to e.g. &quot;parameters1&quot;, it worked as expected. Maybe your problem is similar here?</p>\n"}],"owner":{"account_id":2671274,"reputation":349,"user_id":2308641,"display_name":"Vlastislav Nov&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667398252,"creation_date":1515147494,"question_id":48111466,"body_markdown":"I have created webservice in Java, that automatically build WSDL using JAX-WS. My colleague is trying to access method with parameters in Visual Studio, but IDE offers only void method without parameters. I don&#39;t have any clue, what can be wrong, do you? Here is the complete wsdl with types schema and VS preview. Thanks for any advice.\r\n\r\n    &lt;definitions xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;http://foo/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; targetNamespace=&quot;http://foo/&quot; name=&quot;GRCWSHLService&quot;&gt;\r\n        &lt;types&gt;\r\n            &lt;xsd:schema&gt;\r\n                &lt;xsd:import namespace=&quot;http://foo/&quot; schemaLocation=&quot;http://foo/grcwshl/GRCWSHLPort?xsd=1&quot;/&gt;\r\n            &lt;/xsd:schema&gt;\r\n        &lt;/types&gt;\r\n        &lt;message name=&quot;querycastxml&quot;&gt;\r\n            &lt;part name=&quot;parameters&quot; element=&quot;tns:setExtraDataElement&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;message name=&quot;querycastxmlResponse&quot;&gt;\r\n            &lt;part name=&quot;parameters&quot; element=&quot;tns:setExtraDataResponseElement&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;portType name=&quot;GRCWSHL&quot;&gt;\r\n            &lt;operation name=&quot;querycastxml&quot;&gt;\r\n                &lt;input message=&quot;tns:querycastxml&quot;/&gt;\r\n                &lt;output message=&quot;tns:querycastxmlResponse&quot;/&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/portType&gt;\r\n        &lt;binding name=&quot;GRCWSHLPortBinding&quot; type=&quot;tns:GRCWSHL&quot;&gt;\r\n            &lt;soap:binding transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; style=&quot;document&quot;/&gt;\r\n            &lt;operation name=&quot;querycastxml&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n                &lt;input&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/input&gt;\r\n                &lt;output&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/output&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/binding&gt;\r\n        &lt;service name=&quot;GRCWSHLService&quot;&gt;\r\n            &lt;port name=&quot;GRCWSHLPort&quot; binding=&quot;tns:GRCWSHLPortBinding&quot;&gt;\r\n                &lt;soap:address location=&quot;http://foo/grcwshl/GRCWSHLPort&quot;/&gt;\r\n            &lt;/port&gt;\r\n        &lt;/service&gt;\r\n    &lt;/definitions&gt;\r\n\r\n**Types schema:**\r\n\r\n    &lt;xs:schema xmlns:tns=&quot;http://foo/&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://foo/&quot;&gt;\r\n        &lt;xs:element name=&quot;Error&quot; type=&quot;tns:lineError&quot;/&gt;\r\n        &lt;xs:element name=&quot;setExtraDataElement&quot; type=&quot;tns:request&quot;/&gt;\r\n        &lt;xs:element name=&quot;setExtraDataResponseElement&quot; type=&quot;tns:response&quot;/&gt;\r\n        &lt;xs:complexType name=&quot;request&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:generalObject&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;jmsoub1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;xs:element name=&quot;data1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;generalObject&quot;&gt;\r\n            &lt;xs:sequence/&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;response&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:generalObject&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;Message&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;xs:element name=&quot;ReceiveDate&quot; type=&quot;xs:dateTime&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;xs:element name=&quot;LinesTotal&quot; type=&quot;xs:int&quot;/&gt;\r\n                        &lt;xs:element name=&quot;ErrorsTotal&quot; type=&quot;xs:int&quot;/&gt;\r\n                        &lt;xs:element name=&quot;Errors&quot; type=&quot;tns:lineError&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;lineError&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:generalObject&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;LineNumber&quot; type=&quot;xs:int&quot;/&gt;\r\n                        &lt;xs:element name=&quot;ErrorText&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n**Visual Studio preview**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y00JA.png","title":"Visual Studio can&#39;t read WSDL parameters","body":"<p>I have created webservice in Java, that automatically build WSDL using JAX-WS. My colleague is trying to access method with parameters in Visual Studio, but IDE offers only void method without parameters. I don't have any clue, what can be wrong, do you? Here is the complete wsdl with types schema and VS preview. Thanks for any advice.</p>\n\n<pre><code>&lt;definitions xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://foo/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"http://schemas.xmlsoap.org/wsdl/\" targetNamespace=\"http://foo/\" name=\"GRCWSHLService\"&gt;\n    &lt;types&gt;\n        &lt;xsd:schema&gt;\n            &lt;xsd:import namespace=\"http://foo/\" schemaLocation=\"http://foo/grcwshl/GRCWSHLPort?xsd=1\"/&gt;\n        &lt;/xsd:schema&gt;\n    &lt;/types&gt;\n    &lt;message name=\"querycastxml\"&gt;\n        &lt;part name=\"parameters\" element=\"tns:setExtraDataElement\"/&gt;\n    &lt;/message&gt;\n    &lt;message name=\"querycastxmlResponse\"&gt;\n        &lt;part name=\"parameters\" element=\"tns:setExtraDataResponseElement\"/&gt;\n    &lt;/message&gt;\n    &lt;portType name=\"GRCWSHL\"&gt;\n        &lt;operation name=\"querycastxml\"&gt;\n            &lt;input message=\"tns:querycastxml\"/&gt;\n            &lt;output message=\"tns:querycastxmlResponse\"/&gt;\n        &lt;/operation&gt;\n    &lt;/portType&gt;\n    &lt;binding name=\"GRCWSHLPortBinding\" type=\"tns:GRCWSHL\"&gt;\n        &lt;soap:binding transport=\"http://schemas.xmlsoap.org/soap/http\" style=\"document\"/&gt;\n        &lt;operation name=\"querycastxml\"&gt;\n            &lt;soap:operation soapAction=\"\"/&gt;\n            &lt;input&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/input&gt;\n            &lt;output&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/output&gt;\n        &lt;/operation&gt;\n    &lt;/binding&gt;\n    &lt;service name=\"GRCWSHLService\"&gt;\n        &lt;port name=\"GRCWSHLPort\" binding=\"tns:GRCWSHLPortBinding\"&gt;\n            &lt;soap:address location=\"http://foo/grcwshl/GRCWSHLPort\"/&gt;\n        &lt;/port&gt;\n    &lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p><strong>Types schema:</strong></p>\n\n<pre><code>&lt;xs:schema xmlns:tns=\"http://foo/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" version=\"1.0\" targetNamespace=\"http://foo/\"&gt;\n    &lt;xs:element name=\"Error\" type=\"tns:lineError\"/&gt;\n    &lt;xs:element name=\"setExtraDataElement\" type=\"tns:request\"/&gt;\n    &lt;xs:element name=\"setExtraDataResponseElement\" type=\"tns:response\"/&gt;\n    &lt;xs:complexType name=\"request\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"tns:generalObject\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"jmsoub1\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                    &lt;xs:element name=\"data1\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"generalObject\"&gt;\n        &lt;xs:sequence/&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"response\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"tns:generalObject\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Message\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                    &lt;xs:element name=\"ReceiveDate\" type=\"xs:dateTime\" minOccurs=\"0\"/&gt;\n                    &lt;xs:element name=\"LinesTotal\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"ErrorsTotal\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"Errors\" type=\"tns:lineError\" minOccurs=\"0\" maxOccurs=\"unbounded\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"lineError\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"tns:generalObject\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"LineNumber\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"ErrorText\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p><strong>Visual Studio preview</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Y00JA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y00JA.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1667403170,"post_id":74288749,"comment_id":131159686,"body_markdown":"Just want to point out that setting those environment variables in IntelliJ should be unnecessary. You&#39;re using Gradle, and so IntelliJ should be able to infer everything from Gradle. You should also be delegating to Gradle to run your program (you&#39;ve applied the `application` plugin; create a Gradle run configuration that simply executes the `run` task).","body":"Just want to point out that setting those environment variables in IntelliJ should be unnecessary. You&#39;re using Gradle, and so IntelliJ should be able to infer everything from Gradle. You should also be delegating to Gradle to run your program (you&#39;ve applied the <code>application</code> plugin; create a Gradle run configuration that simply executes the <code>run</code> task)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667417625,"post_id":74288749,"comment_id":131165013,"body_markdown":"Please paste exceptions as text formatted as code and not screenshots.","body":"Please paste exceptions as text formatted as code and not screenshots."}],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667397869,"creation_date":1667397869,"answer_id":74290477,"question_id":74288749,"body_markdown":"The mail API jar from [your dependency][1] doesn&#39;t define a `module-info.class`.\r\n\r\nThe [new Jakarta mail][2] API does define the file. Migrate your usage of `javax.mail` to `jakarta.mail` packages and use the updated artifact, should work then.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.mail/javax.mail-api/1.6.2\r\n  [2]: https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api/2.1.0","title":"Java required module can&#39;t be found","body":"<p>The mail API jar from <a href=\"https://mvnrepository.com/artifact/javax.mail/javax.mail-api/1.6.2\" rel=\"nofollow noreferrer\">your dependency</a> doesn't define a <code>module-info.class</code>.</p>\n<p>The <a href=\"https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api/2.1.0\" rel=\"nofollow noreferrer\">new Jakarta mail</a> API does define the file. Migrate your usage of <code>javax.mail</code> to <code>jakarta.mail</code> packages and use the updated artifact, should work then.</p>\n"}],"owner":{"account_id":26794310,"reputation":23,"user_id":20387272,"display_name":"slowrabbit12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74290477,"answer_count":1,"score":2,"last_activity_date":1667397869,"creation_date":1667390113,"question_id":74288749,"body_markdown":"I have a basic JavaFX project set up in IntelliJ:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tDKZw.png)](https://i.stack.imgur.com/tDKZw.png)\r\n\r\nThe project uses Gradle for dependency management. The dependency that was added by my is javax.mail.api as you can see in the build.gradle file here:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n}\r\n\r\ngroup &#39;com.contoso&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.9.0&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;18&#39;\r\ntargetCompatibility = &#39;18&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.contoso.portwatcher&#39;\r\n    mainClass = &#39;com.contoso.portwatcher.Application&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;18.0.1&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    implementation group: &#39;javax.mail&#39;, name: &#39;javax.mail-api&#39;, version: &#39;1.6.2&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\n\r\nThe iissue I have now is that when trying to execute to programm with the following run configuration:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2pkoG.png)](https://i.stack.imgur.com/2pkoG.png)\r\n\r\nI get the following exception:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/gEcwY.png)](https://i.stack.imgur.com/gEcwY.png)\r\n\r\nThe module-info.java file specifies the added dependency module:\r\n\r\n```\r\nmodule com.contoso.portwatcher {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javax.mail.api;\r\n\r\n\r\n    opens com.contoso.portwatcher to javafx.fxml;\r\n    exports com.contoso.portwatcher;\r\n}\r\n```\r\n\r\nMy question is why the module cannot be found?\r\n\r\nThank you for your patience and help.","title":"Java required module can&#39;t be found","body":"<p>I have a basic JavaFX project set up in IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/tDKZw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDKZw.png\" alt=\"enter image description here\" /></a></p>\n<p>The project uses Gradle for dependency management. The dependency that was added by my is javax.mail.api as you can see in the build.gradle file here:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com.contoso'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.0'\n}\n\nsourceCompatibility = '18'\ntargetCompatibility = '18'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.contoso.portwatcher'\n    mainClass = 'com.contoso.portwatcher.Application'\n}\n\njavafx {\n    version = '18.0.1'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n    implementation group: 'javax.mail', name: 'javax.mail-api', version: '1.6.2'\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<p>The iissue I have now is that when trying to execute to programm with the following run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/2pkoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2pkoG.png\" alt=\"enter image description here\" /></a></p>\n<p>I get the following exception:</p>\n<p><a href=\"https://i.stack.imgur.com/gEcwY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gEcwY.png\" alt=\"enter image description here\" /></a></p>\n<p>The module-info.java file specifies the added dependency module:</p>\n<pre><code>module com.contoso.portwatcher {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javax.mail.api;\n\n\n    opens com.contoso.portwatcher to javafx.fxml;\n    exports com.contoso.portwatcher;\n}\n</code></pre>\n<p>My question is why the module cannot be found?</p>\n<p>Thank you for your patience and help.</p>\n"},{"tags":["java","apache-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"score":0,"creation_date":1667412690,"post_id":74289234,"comment_id":131163390,"body_markdown":"`Flux.groupBy` will hang if there are more groups open (not terminated) than the prefetch value (by default 256). Can you monitor how many `partitionFlux` instances are open when it hangs?","body":"<code>Flux.groupBy</code> will hang if there are more groups open (not terminated) than the prefetch value (by default 256). Can you monitor how many <code>partitionFlux</code> instances are open when it hangs?"},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1667453270,"post_id":74289234,"comment_id":131171577,"body_markdown":"@PatrickHooijer Thank you for the prompt reply, Since the incident happened on production, we couldn&#39;t collect the number of groups. \nThe default `max.poll.records` (500) is used with client configuration and only one partition was assigned to the instance during the incident time. so, it could be more than 256.","body":"@PatrickHooijer Thank you for the prompt reply, Since the incident happened on production, we couldn&#39;t collect the number of groups.  The default <code>max.poll.records</code> (500) is used with client configuration and only one partition was assigned to the instance during the incident time. so, it could be more than 256."},{"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"score":0,"creation_date":1667468106,"post_id":74289234,"comment_id":131175261,"body_markdown":"Then my best guess is that this is the problem. You can add the prefetch value as a second argument to groupBy: `.groupBy(m -&gt; m.receiverOffset().topicPartition(), 1024)`. Or if you want to modify it for all prefetch operators in your project (not only groupBy), you can add the `reactor.bufferSize.small=1024` property.","body":"Then my best guess is that this is the problem. You can add the prefetch value as a second argument to groupBy: <code>.groupBy(m -&gt; m.receiverOffset().topicPartition(), 1024)</code>. Or if you want to modify it for all prefetch operators in your project (not only groupBy), you can add the <code>reactor.bufferSize.small=1024</code> property."},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1667495972,"post_id":74289234,"comment_id":131186004,"body_markdown":"Thank you, Let me try and update here","body":"Thank you, Let me try and update here"},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1667570900,"post_id":74289234,"comment_id":131204242,"body_markdown":"I found below two statements during the last pause `[reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Emitting 1 records, requested now 1\n[reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Paused - back pressure`","body":"I found below two statements during the last pause <code>[reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Emitting 1 records, requested now 1 [reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Paused - back pressure</code>"}],"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667397651,"creation_date":1667392445,"question_id":74289234,"body_markdown":"We are using the Kafka reactor for consuming and producing the Kafka message. We have noticed the consumer pause and resume during the message processing due to back pressure.\r\nBut unfortunately, the consumer is paused indefinitely after 3 or 4 resumes. The lag started to build up on the topics afterward. No exception logged.\r\nThe consumer code is below \r\n\r\n**reactor-kafka (1.3.9)**\r\n```\r\n KafkaReceiver&lt;K,V&gt; receiver = KafkaReceiver.create(consumerOptions);\r\n        return Flux.defer(receiver::receive)\r\n                .publishOn(defaultScheduler())\r\n                .groupBy(m -&gt; m.receiverOffset().topicPartition())\r\n                .flatMap(\r\n                        partitionFlux -&gt;\r\n                                partitionFlux.publishOn(defaultScheduler())\r\n                                        .doOnNext(kvReceiverRecord -&gt; kvReceiverRecord.receiverOffset().acknowledge())\r\n                                        .delayUntil(this::dispatch)\r\n                                        .checkpoint(&quot;Dispatching the message to handler&quot;)\r\n                )\r\n                .retry()\r\n                .repeat()\r\n                .subscribe();\r\n```\r\n\r\nCan someone help me, \r\n1. how to avoid the consumer going into a pause state indefinitely\r\n2. In the Kafka reactor, on which condition the consumer would be paused and resumed\r\n\r\n\r\n","title":"Kafka Consumer Paused Indefinitely","body":"<p>We are using the Kafka reactor for consuming and producing the Kafka message. We have noticed the consumer pause and resume during the message processing due to back pressure.\nBut unfortunately, the consumer is paused indefinitely after 3 or 4 resumes. The lag started to build up on the topics afterward. No exception logged.\nThe consumer code is below</p>\n<p><strong>reactor-kafka (1.3.9)</strong></p>\n<pre><code> KafkaReceiver&lt;K,V&gt; receiver = KafkaReceiver.create(consumerOptions);\n        return Flux.defer(receiver::receive)\n                .publishOn(defaultScheduler())\n                .groupBy(m -&gt; m.receiverOffset().topicPartition())\n                .flatMap(\n                        partitionFlux -&gt;\n                                partitionFlux.publishOn(defaultScheduler())\n                                        .doOnNext(kvReceiverRecord -&gt; kvReceiverRecord.receiverOffset().acknowledge())\n                                        .delayUntil(this::dispatch)\n                                        .checkpoint(&quot;Dispatching the message to handler&quot;)\n                )\n                .retry()\n                .repeat()\n                .subscribe();\n</code></pre>\n<p>Can someone help me,</p>\n<ol>\n<li>how to avoid the consumer going into a pause state indefinitely</li>\n<li>In the Kafka reactor, on which condition the consumer would be paused and resumed</li>\n</ol>\n"},{"tags":["java","spring-boot","internationalization"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667397668,"post_id":74290338,"comment_id":131157402,"body_markdown":"I don&#39;t understand, in thymleaf you pass lang, and in the controller, you wait for projectId!!","body":"I don&#39;t understand, in thymleaf you pass lang, and in the controller, you wait for projectId!!"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667397891,"post_id":74290338,"comment_id":131157488,"body_markdown":"how can i pass language and project id in controlller ?!","body":"how can i pass language and project id in controlller ?!"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667397955,"post_id":74290338,"comment_id":131157505,"body_markdown":"You mean `@RequestParam(&quot;lang&quot;) String lang, @RequestParam(&quot;projectId&quot;) int theId`","body":"You mean <code>@RequestParam(&quot;lang&quot;) String lang, @RequestParam(&quot;projectId&quot;) int theId</code>"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667398128,"post_id":74290338,"comment_id":131157591,"body_markdown":"why  i can change the language in the homepage that doesnt need a reuquestparam !","body":"why  i can change the language in the homepage that doesnt need a reuquestparam !"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667398178,"post_id":74290338,"comment_id":131157627,"body_markdown":"the problem is just that i got error when there is requestparam !","body":"the problem is just that i got error when there is requestparam !"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667398327,"post_id":74290338,"comment_id":131157694,"body_markdown":"I think maybe the problem with thymleaf ! how can i make it to accept control:ers with multiparam  @you","body":"I think maybe the problem with thymleaf ! how can i make it to accept control:ers with multiparam  @you"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667399319,"post_id":74290338,"comment_id":131158118,"body_markdown":"Check this https://www.baeldung.com/spring-thymeleaf-request-parameters","body":"Check this <a href=\"https://www.baeldung.com/spring-thymeleaf-request-parameters\" rel=\"nofollow noreferrer\">baeldung.com/spring-thymeleaf-request-parameters</a>"}],"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667397251,"creation_date":1667397227,"question_id":74290338,"body_markdown":"I&#39;m developing SpringBoot application. I have several locale languages and when I change them on thymleaf pages which require their own request params, I get an exception like:\r\n\r\n\r\n```\r\nRequired request parameter &#39;projectId&#39; for method parameter type int is not present]\r\n```\r\n\r\nThe link I used to change locale is:\r\n\r\n```\r\n&lt;a  th:href=&quot;@{?lang=fr}&quot; &gt; &lt;button type=&quot;button&quot; class=&quot;btn h-lang &quot; &gt;fr&lt;/button&gt;&lt;/a&gt;\r\n&lt;a  th:href=&quot;@{?lang=du}&quot; &gt;&lt;button type=&quot;button&quot; class=&quot;btn h-lang&quot;&gt;nl&lt;/button&gt;&lt;/a&gt;\r\n```\r\n\r\nWhen I click the link, it overrides request parameters in current URL with it&#39;s own.\r\n\r\n```\r\nhttp://localhost:8080/projects/project_details?lang=fr\r\n```\r\n\r\nInstead of:\r\n\r\n```\r\nhttp://localhost:8080/projects/project_details?projectId=12\r\n```\r\n\r\nthe method :\r\n\r\n\r\n```\r\npublic String project_details(@RequestParam(&quot;projectId&quot;) int theId, Model theModel){\r\n\r\n```\r\n\r\n\r\n\r\nI searched a lot on internet but I did not find anything can help me , I changed RequestParam to pathvariable and pathparam but it didnt work !","title":"Multiple request params with Locale &#39;lang&#39; param","body":"<p>I'm developing SpringBoot application. I have several locale languages and when I change them on thymleaf pages which require their own request params, I get an exception like:</p>\n<pre><code>Required request parameter 'projectId' for method parameter type int is not present]\n</code></pre>\n<p>The link I used to change locale is:</p>\n<pre><code>&lt;a  th:href=&quot;@{?lang=fr}&quot; &gt; &lt;button type=&quot;button&quot; class=&quot;btn h-lang &quot; &gt;fr&lt;/button&gt;&lt;/a&gt;\n&lt;a  th:href=&quot;@{?lang=du}&quot; &gt;&lt;button type=&quot;button&quot; class=&quot;btn h-lang&quot;&gt;nl&lt;/button&gt;&lt;/a&gt;\n</code></pre>\n<p>When I click the link, it overrides request parameters in current URL with it's own.</p>\n<pre><code>http://localhost:8080/projects/project_details?lang=fr\n</code></pre>\n<p>Instead of:</p>\n<pre><code>http://localhost:8080/projects/project_details?projectId=12\n</code></pre>\n<p>the method :</p>\n<pre><code>public String project_details(@RequestParam(&quot;projectId&quot;) int theId, Model theModel){\n\n</code></pre>\n<p>I searched a lot on internet but I did not find anything can help me , I changed RequestParam to pathvariable and pathparam but it didnt work !</p>\n"},{"tags":["javascript","python","java","c++","algorithm"],"comments":[{"owner":{"account_id":19646638,"reputation":3778,"user_id":14627505,"display_name":"Vladimir Fokow"},"score":0,"creation_date":1662057314,"post_id":73574035,"comment_id":129924504,"body_markdown":"What have you tried and what exactly are you having a problem with?","body":"What have you tried and what exactly are you having a problem with?"},{"owner":{"account_id":1463349,"reputation":62353,"user_id":1377002,"display_name":"Andy"},"score":1,"creation_date":1662057375,"post_id":73574035,"comment_id":129924525,"body_markdown":"You should try to decide what language you&#39;re using.","body":"You should try to decide what language you&#39;re using."},{"owner":{"account_id":18062094,"reputation":227,"user_id":13265113,"display_name":"Shilpe Saxena"},"score":0,"creation_date":1662057405,"post_id":73574035,"comment_id":129924531,"body_markdown":"Did not understand what you are trying to resolve.","body":"Did not understand what you are trying to resolve."}],"answers":[{"tags":[],"owner":{"account_id":26157902,"reputation":37,"user_id":19844909,"display_name":"Sven Asmussen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662057488,"creation_date":1662057488,"answer_id":73574077,"question_id":73574035,"body_markdown":"The smallest amount of squares that you can divide a square into should be 4 right? So if N is larger than 4 the answer should always be 4, if N is snaller than 4, there is no way to build a square from 3 squares","title":"Use minimum number of N-1 squares pieces in total to build a n x n square","body":"<p>The smallest amount of squares that you can divide a square into should be 4 right? So if N is larger than 4 the answer should always be 4, if N is snaller than 4, there is no way to build a square from 3 squares</p>\n"},{"tags":[],"owner":{"account_id":25954120,"reputation":1,"user_id":19671705,"display_name":"Garishma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662057501,"creation_date":1662057501,"answer_id":73574082,"question_id":73574035,"body_markdown":"    &lt;script&gt;\r\n    function squares(l , b , a)\r\n       {\r\n\t        return parseInt(Math.ceil(l / a) * Math.ceil(b / a));\r\n       }\r\n        var l = 11, b = 23, a = 14;\r\n        document.write(squares(l, b, a));\r\n    &lt;/script&gt;","title":"Use minimum number of N-1 squares pieces in total to build a n x n square","body":"<pre><code>&lt;script&gt;\nfunction squares(l , b , a)\n   {\n        return parseInt(Math.ceil(l / a) * Math.ceil(b / a));\n   }\n    var l = 11, b = 23, a = 14;\n    document.write(squares(l, b, a));\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":15412888,"reputation":1,"user_id":11119176,"display_name":"Mat Pat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1662057724,"answer_count":2,"score":-4,"last_activity_date":1667397061,"creation_date":1662057199,"question_id":73574035,"body_markdown":"**You are given an integer n, where 2 &lt; n &lt; 50. You have unlimited square pieces of sizes 1 to n-1. Devise a function that will calculate the minimum number of square pieces in order to build a square of size n x n. No empty space in the square, no extra space outside the square, and the squares should not overlap.**\r\n\r\nFor Example \r\n**n = 7\r\nsquare pieces = [1,2,3,4,5,6]**\r\n\r\n**def buildingSquare(7):\r\n\t// should return 9**\r\n\r\nCheck this image for more clarity\r\n[1]: https://i.stack.imgur.com/O520u.png","title":"Use minimum number of N-1 squares pieces in total to build a n x n square","body":"<p><strong>You are given an integer n, where 2 &lt; n &lt; 50. You have unlimited square pieces of sizes 1 to n-1. Devise a function that will calculate the minimum number of square pieces in order to build a square of size n x n. No empty space in the square, no extra space outside the square, and the squares should not overlap.</strong></p>\n<p>For Example\n<strong>n = 7\nsquare pieces = [1,2,3,4,5,6]</strong></p>\n<p><strong>def buildingSquare(7):\n// should return 9</strong></p>\n<p>Check this image for more clarity\n[1]: <a href=\"https://i.stack.imgur.com/O520u.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/O520u.png</a></p>\n"},{"tags":["java","android","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":6006515,"reputation":4320,"user_id":4718283,"accept_rate":74,"display_name":"Husayn Hakeem"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580451675,"creation_date":1580451675,"answer_id":59998845,"question_id":59850963,"body_markdown":"It seems like your `updateTransform()` method is only correcting the preview by rotating it so that it matches the UI orientation. Preview distortion usually occurs when the size of the camera preview output is different that the size of the preview surface, to get past this issue the TextureView must be scaled appropriately to fit the preview within its bounds, or you can update the TextureView&#39;s SurfaceTexture by applying a transformation on it using a Matrix (like what you&#39;re doing with the rotation).\r\n\r\nGiven the different camera hardware levels, the numerous Android manufacturers and the various ways things can go wrong, getting the preview right isn&#39;t easy. The camerax library comes with a view artifact (androidx.camera.view) which contains a PreviewView class, it&#39;s advised to use it instead of a TextureView, as it tries to solve these issues under the hood. Using it looks like this.\r\n\r\nIn your layout file, include a PreviewView.\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;androidx.camera.view.PreviewView \r\n            android:id=&quot;@+id/previewView&quot;\r\n            ... /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThen after you create a Preview use case, hook it up with PreviewView&#39;s PreviewSurfaceProvider.\r\n\r\n    final Preview preview = new Preview.Builder().build();\r\n    preview.setPreviewSurfaceProvider(previewView.getPreviewSurfaceProvider());\r\n\r\nKeep in mind that the view artifact is still in alpha and still under development, so it may still have a couple of issues. But in general it addresses many preview issues developers face (including preview distortions).","title":"Android CameraX (Java) Wrong preview orientation","body":"<p>It seems like your <code>updateTransform()</code> method is only correcting the preview by rotating it so that it matches the UI orientation. Preview distortion usually occurs when the size of the camera preview output is different that the size of the preview surface, to get past this issue the TextureView must be scaled appropriately to fit the preview within its bounds, or you can update the TextureView's SurfaceTexture by applying a transformation on it using a Matrix (like what you're doing with the rotation).</p>\n\n<p>Given the different camera hardware levels, the numerous Android manufacturers and the various ways things can go wrong, getting the preview right isn't easy. The camerax library comes with a view artifact (androidx.camera.view) which contains a PreviewView class, it's advised to use it instead of a TextureView, as it tries to solve these issues under the hood. Using it looks like this.</p>\n\n<p>In your layout file, include a PreviewView.</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;androidx.camera.view.PreviewView \n        android:id=\"@+id/previewView\"\n        ... /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Then after you create a Preview use case, hook it up with PreviewView's PreviewSurfaceProvider.</p>\n\n<pre><code>final Preview preview = new Preview.Builder().build();\npreview.setPreviewSurfaceProvider(previewView.getPreviewSurfaceProvider());\n</code></pre>\n\n<p>Keep in mind that the view artifact is still in alpha and still under development, so it may still have a couple of issues. But in general it addresses many preview issues developers face (including preview distortions).</p>\n"},{"tags":[],"owner":{"account_id":23571951,"reputation":31,"user_id":17612002,"display_name":"MariiaN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667397057,"creation_date":1667397057,"answer_id":74290308,"question_id":59850963,"body_markdown":"I had the same problem a year ago with CameraX (Kotlin) and I had to refactor whole app because of this bug.\r\nAnd after all I found (with Git) that once someone added to `manifest` this string:\r\n\r\n&gt; android:hardwareAccelerated=&quot;false&quot;\r\n\r\nBy default it&#39;s `hardwareAccelerated=&quot;true&quot;`, and after deleting this field, my Camera had worked properly.\r\n\r\nHope it&#39;ll help someone.","title":"Android CameraX (Java) Wrong preview orientation","body":"<p>I had the same problem a year ago with CameraX (Kotlin) and I had to refactor whole app because of this bug.\nAnd after all I found (with Git) that once someone added to <code>manifest</code> this string:</p>\n<blockquote>\n<p>android:hardwareAccelerated=&quot;false&quot;</p>\n</blockquote>\n<p>By default it's <code>hardwareAccelerated=&quot;true&quot;</code>, and after deleting this field, my Camera had worked properly.</p>\n<p>Hope it'll help someone.</p>\n"}],"owner":{"account_id":5899957,"reputation":554,"user_id":4651768,"accept_rate":69,"display_name":"WizardingStudios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3541,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667397057,"creation_date":1579651777,"question_id":59850963,"body_markdown":"I ported CameraX from Kotlin to Java but my preview (TextureView) is correct only once opened as landscape. When I try to rotate (to portrait) the preview is distorted (maybe 90 degrees).\r\nI removed the android:screenOrientation=&quot;sensorPortrait&quot; from manifest else also first preview appears wrong.\r\nAny other call to updateTransform() does not work, also changing rotation valkues make my TextureView smaller and do not solve the distortion.\r\nI&#39;m asking because most code is in Kotlin and I&#39;m not finding a working solution in Java.\r\nHere the code:\r\n\r\n```\r\npackage com.sweetieapps.librarianpro;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.camera.core.CameraX;\r\nimport androidx.camera.core.ImageCapture;\r\nimport androidx.camera.core.ImageCaptureConfig;\r\nimport androidx.camera.core.ImageProxy;\r\nimport androidx.camera.core.Preview;\r\nimport androidx.camera.core.PreviewConfig;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.content.res.Configuration;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Matrix;\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.util.Rational;\r\nimport android.util.Size;\r\nimport android.view.Surface;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.nio.ByteBuffer;\r\n\r\n\r\npublic class CameraXActivity extends AppCompatActivity {\r\n\r\n    private final int REQUEST_CODE_PERMISSIONS = 10; //arbitrary number, can be changed accordingly\r\n    private final String[] REQUIRED_PERMISSIONS = new String[]{&quot;android.permission.CAMERA&quot;,&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;};//array w/ permissions from manifest\r\n    private TextureView txView;\r\n    ImageView imgRotation, imgCapture;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.camerax);\r\n\r\n        txView = findViewById(R.id.txvCameraXViewFinder);\r\n        imgRotation = findViewById(R.id.imgCameraXRotation);\r\n        imgCapture = findViewById(R.id.imgCameraXCapture);\r\n\r\n        ImageView imgMask = findViewById(R.id.imgCameraXMask);\r\n\r\n        if(Variables.PictureMode == Variables.PictureModes.User){\r\n            imgMask.setVisibility(View.VISIBLE);\r\n        }\r\n        else{\r\n            imgMask.setVisibility(View.INVISIBLE);\r\n        }\r\n\r\n        if(allPermissionsGranted()){\r\n            startCamera(); //start camera if permission has been granted by user\r\n        } else{\r\n            ActivityCompat.requestPermissions(this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS);\r\n        }\r\n\r\n        imgRotation.setOnClickListener(v -&gt;\r\n                updateTransform());\r\n    }\r\n\r\n    private void startCamera(){\r\n        //make sure there isn&#39;t another camera instance running before starting\r\n        CameraX.unbindAll();\r\n\r\n        /* start preview */\r\n        int aspRatioW = txView.getWidth(); //get width of screen\r\n        int aspRatioH = txView.getHeight(); //get height\r\n        Rational asp = new Rational(aspRatioW,aspRatioH); //aspect ratio\r\n        Size screen = new Size(aspRatioW,aspRatioH); //size of the screen\r\n\r\n        //config obj for preview/viewfinder thingy.\r\n        PreviewConfig pConfig = new PreviewConfig.Builder().setTargetAspectRatio(asp).setTargetResolution(screen).build();\r\n        Preview preview = new Preview(pConfig); //lets build it\r\n\r\n        //to update the surface texture we have to destroy it first, then re-add it\r\n        preview.setOnPreviewOutputUpdateListener(\r\n                output -&gt; {\r\n                    ViewGroup parent=(ViewGroup)txView.getParent();\r\n                    parent.removeView(txView);\r\n                    parent.addView(txView,0);\r\n                    txView.setSurfaceTexture(output.getSurfaceTexture());\r\n                    updateTransform();\r\n                });\r\n\r\n        /* image capture */\r\n        //config obj, selected capture mode\r\n        ImageCaptureConfig imgCapConfig = new ImageCaptureConfig.Builder().setCaptureMode(ImageCapture.CaptureMode.MAX_QUALITY)\r\n                .setTargetRotation(getWindowManager().getDefaultDisplay().getRotation()).build();\r\n\r\n\r\n        final ImageCapture imgCap = new ImageCapture(imgCapConfig);\r\n\r\n        imgCapture.setOnClickListener(v -&gt; {\r\n            imgCap.takePicture(new ImageCapture.OnImageCapturedListener() {\r\n                @Override\r\n                public void onCaptureSuccess(ImageProxy image, int rotationDegrees) {\r\n                    //ByteBuffer bb = image.getPlanes()[0].getBuffer();\r\n                    //byte[] buf = new byte[bb.remaining()];\r\n                    //bb.get(buf);\r\n                    Intent returnIntent = new Intent();\r\n                    if(image.getImage() != null){\r\n                        //img.setImageBitmap(imageToBitmap(image.getImage()));\r\n                        Variables.bitmap = bitmapRotate(imageToBitmap(image.getImage()));\r\n                        image.close();\r\n                        setResult(Activity.RESULT_OK,returnIntent);\r\n                        finish();\r\n                    }\r\n                    else{\r\n                        setResult(Activity.RESULT_CANCELED, returnIntent);\r\n                        finish();\r\n                    }\r\n                }\r\n                /*\r\n                @Override\r\n                public void onError(\r\n                        ImageCapture.UseCaseError error, String message, @Nullable Throwable cause) {\r\n\r\n                    // silently ingore error\r\n                }\r\n\r\n                 */\r\n            });\r\n            /*\r\n            //img.setImageBitmap(txView.getBitmap());\r\n\r\n             */\r\n            /*\r\n            File file = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n            imgCap.takePicture(file, new ImageCapture.OnImageSavedListener() {\r\n                @Override\r\n                public void onImageSaved(@NonNull File file) {\r\n                    String msg = &quot;Photo capture succeeded: &quot; + file.getAbsolutePath();\r\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull ImageCapture.UseCaseError useCaseError, @NonNull String message, @Nullable Throwable cause) {\r\n                    String msg = &quot;Photo capture failed: &quot; + message;\r\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\r\n                    if(cause != null){\r\n                        cause.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            */\r\n        });\r\n        /* image analyser\r\n\r\n        ImageAnalysisConfig imgAConfig = new ImageAnalysisConfig.Builder().setImageReaderMode(ImageAnalysis.ImageReaderMode.ACQUIRE_LATEST_IMAGE).build();\r\n        ImageAnalysis analysis = new ImageAnalysis(imgAConfig);\r\n\r\n        analysis.setAnalyzer(\r\n            new ImageAnalysis.Analyzer(){\r\n                @Override\r\n                public void analyze(ImageProxy image, int rotationDegrees){\r\n                    //y&#39;all can add code to analyse stuff here idek go wild.\r\n                }\r\n            });\r\n\r\n        //bind to lifecycle:\r\n        CameraX.bindToLifecycle(this, analysis, imgCap, preview);\r\n        */\r\n        CameraX.bindToLifecycle(this, imgCap, preview);\r\n    }\r\n\r\n\r\n    private void updateTransform(){\r\n         //compensates the changes in orientation for the viewfinder, bc the rest of the layout stays in portrait mode.\r\n         //methinks :thonk:\r\n         //imgCap does this already, this class can be commented out or be used to optimise the preview\r\n        Matrix mx = new Matrix();\r\n        float w = txView.getMeasuredWidth();\r\n        float h = txView.getMeasuredHeight();\r\n\r\n        float centreX = w / 2f; //calc centre of the viewfinder\r\n        float centreY = h / 2f;\r\n\r\n        int rotationDgr;\r\n        int rotation = (int)txView.getRotation(); //cast to int bc switches don&#39;t like floats\r\n\r\n        switch(rotation){ //correct output to account for display rotation\r\n            case Surface.ROTATION_0:\r\n                rotationDgr = 0;\r\n                break;\r\n            case Surface.ROTATION_90:\r\n                rotationDgr = 90;\r\n                break;\r\n            case Surface.ROTATION_180:\r\n                rotationDgr = 180;\r\n                break;\r\n            case Surface.ROTATION_270:\r\n                rotationDgr = 270;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        mx.postRotate((float)rotationDgr, centreX, centreY);\r\n        txView.setTransform(mx); //apply transformations to textureview\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        //start camera when permissions have been granted otherwise exit app\r\n        if(requestCode == REQUEST_CODE_PERMISSIONS){\r\n            if(allPermissionsGranted()){\r\n                startCamera();\r\n            } else{\r\n                Toast.makeText(this, &quot;Permissions not granted by the user.&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean allPermissionsGranted(){\r\n        //check if req permissions have been granted\r\n        for(String permission : REQUIRED_PERMISSIONS){\r\n            if(ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private Bitmap imageToBitmap(Image image){\r\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n        byte[] bytes = new byte[buffer.capacity()];\r\n        buffer.get(bytes);\r\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length, null);\r\n    }\r\n\r\n    private Bitmap bitmapCrop(Bitmap bitmap){\r\n        return bitmapCompress(Bitmap.createBitmap(bitmap, 0,0,bitmap.getWidth(), bitmap.getWidth()));\r\n    }\r\n\r\n    private Bitmap bitmapRotate(Bitmap bitmap){\r\n        Matrix matrix = new Matrix();\r\n        matrix.postRotate(90);\r\n        if(bitmap.getHeight() &lt; bitmap.getWidth()){\r\n            if(Variables.PictureMode == Variables.PictureModes.User){\r\n                return bitmapCrop(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\r\n            }\r\n            else{\r\n                return bitmapCompress(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\r\n            }\r\n\r\n        }\r\n        else{\r\n            if(Variables.PictureMode == Variables.PictureModes.User){\r\n                return bitmapCrop(bitmap);\r\n            }\r\n            else{\r\n                return bitmapCompress(bitmap);\r\n            }\r\n        }\r\n    }\r\n\r\n    private Bitmap bitmapCompress(Bitmap bitmap){\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 90, stream);\r\n        Bitmap compressedBitmap = BitmapFactory.decodeStream(new ByteArrayInputStream(stream.toByteArray()));\r\n        int width, height;\r\n        width = compressedBitmap.getWidth() / 5;\r\n        height = width * 8;\r\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), height, true);\r\n        return bitmapScale(scaledBitmap);\r\n    }\r\n\r\n    private Bitmap bitmapScale(Bitmap bitmap){\r\n        //Matrix\r\n        int maxHeight = 500;\r\n        int maxWidth = 500;\r\n        float scale = Math.min(((float)maxHeight / bitmap.getWidth()), ((float)maxWidth / bitmap.getHeight()));\r\n        Matrix matrix = new Matrix();\r\n        matrix.postScale(scale, scale);\r\n        return Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(@NonNull Configuration newConfig)\r\n    {\r\n        Log.d(&quot;tag&quot;, &quot;config changed&quot;);\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        updateTransform();\r\n        int orientation = newConfig.orientation;\r\n        if (orientation == Configuration.ORIENTATION_PORTRAIT)\r\n            //Log.d(&quot;tag&quot;, &quot;Portrait&quot;);\r\n            imgCapture.setVisibility(View.VISIBLE);\r\n        else if (orientation == Configuration.ORIENTATION_LANDSCAPE)\r\n            imgCapture.setVisibility(View.INVISIBLE);\r\n            //Log.d(&quot;tag&quot;, &quot;Landscape&quot;);\r\n        //else\r\n           // Log.w(&quot;tag&quot;, &quot;other: &quot; + orientation);\r\n    }\r\n}\r\n```\r\n\r\nAnd here the Xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextureView\r\n        android:id=&quot;@+id/txvCameraXViewFinder&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgCameraXMask&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guidelineCameraX&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:srcCompat=&quot;@android:color/black&quot;\r\n        tools:visibility=&quot;invisible&quot; /&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/imgCameraXCapture&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_margin=&quot;24dp&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guidelineCameraXCapture&quot;\r\n        app:srcCompat=&quot;@drawable/shutter&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guidelineCameraX&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guidelineCameraXPortraitMode&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.8&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgCameraXRotation&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/imgCameraXMask&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/guidelineCameraXPortraitMode&quot;\r\n        app:srcCompat=&quot;@drawable/take_in_portrait_mode&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guidelineCameraXCapture&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.85&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"Android CameraX (Java) Wrong preview orientation","body":"<p>I ported CameraX from Kotlin to Java but my preview (TextureView) is correct only once opened as landscape. When I try to rotate (to portrait) the preview is distorted (maybe 90 degrees).\nI removed the android:screenOrientation=\"sensorPortrait\" from manifest else also first preview appears wrong.\nAny other call to updateTransform() does not work, also changing rotation valkues make my TextureView smaller and do not solve the distortion.\nI'm asking because most code is in Kotlin and I'm not finding a working solution in Java.\nHere the code:</p>\n\n<pre><code>package com.sweetieapps.librarianpro;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.camera.core.CameraX;\nimport androidx.camera.core.ImageCapture;\nimport androidx.camera.core.ImageCaptureConfig;\nimport androidx.camera.core.ImageProxy;\nimport androidx.camera.core.Preview;\nimport androidx.camera.core.PreviewConfig;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.content.res.Configuration;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Matrix;\nimport android.media.Image;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.util.Rational;\nimport android.util.Size;\nimport android.view.Surface;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.Toast;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.nio.ByteBuffer;\n\n\npublic class CameraXActivity extends AppCompatActivity {\n\n    private final int REQUEST_CODE_PERMISSIONS = 10; //arbitrary number, can be changed accordingly\n    private final String[] REQUIRED_PERMISSIONS = new String[]{\"android.permission.CAMERA\",\"android.permission.WRITE_EXTERNAL_STORAGE\"};//array w/ permissions from manifest\n    private TextureView txView;\n    ImageView imgRotation, imgCapture;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.camerax);\n\n        txView = findViewById(R.id.txvCameraXViewFinder);\n        imgRotation = findViewById(R.id.imgCameraXRotation);\n        imgCapture = findViewById(R.id.imgCameraXCapture);\n\n        ImageView imgMask = findViewById(R.id.imgCameraXMask);\n\n        if(Variables.PictureMode == Variables.PictureModes.User){\n            imgMask.setVisibility(View.VISIBLE);\n        }\n        else{\n            imgMask.setVisibility(View.INVISIBLE);\n        }\n\n        if(allPermissionsGranted()){\n            startCamera(); //start camera if permission has been granted by user\n        } else{\n            ActivityCompat.requestPermissions(this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS);\n        }\n\n        imgRotation.setOnClickListener(v -&gt;\n                updateTransform());\n    }\n\n    private void startCamera(){\n        //make sure there isn't another camera instance running before starting\n        CameraX.unbindAll();\n\n        /* start preview */\n        int aspRatioW = txView.getWidth(); //get width of screen\n        int aspRatioH = txView.getHeight(); //get height\n        Rational asp = new Rational(aspRatioW,aspRatioH); //aspect ratio\n        Size screen = new Size(aspRatioW,aspRatioH); //size of the screen\n\n        //config obj for preview/viewfinder thingy.\n        PreviewConfig pConfig = new PreviewConfig.Builder().setTargetAspectRatio(asp).setTargetResolution(screen).build();\n        Preview preview = new Preview(pConfig); //lets build it\n\n        //to update the surface texture we have to destroy it first, then re-add it\n        preview.setOnPreviewOutputUpdateListener(\n                output -&gt; {\n                    ViewGroup parent=(ViewGroup)txView.getParent();\n                    parent.removeView(txView);\n                    parent.addView(txView,0);\n                    txView.setSurfaceTexture(output.getSurfaceTexture());\n                    updateTransform();\n                });\n\n        /* image capture */\n        //config obj, selected capture mode\n        ImageCaptureConfig imgCapConfig = new ImageCaptureConfig.Builder().setCaptureMode(ImageCapture.CaptureMode.MAX_QUALITY)\n                .setTargetRotation(getWindowManager().getDefaultDisplay().getRotation()).build();\n\n\n        final ImageCapture imgCap = new ImageCapture(imgCapConfig);\n\n        imgCapture.setOnClickListener(v -&gt; {\n            imgCap.takePicture(new ImageCapture.OnImageCapturedListener() {\n                @Override\n                public void onCaptureSuccess(ImageProxy image, int rotationDegrees) {\n                    //ByteBuffer bb = image.getPlanes()[0].getBuffer();\n                    //byte[] buf = new byte[bb.remaining()];\n                    //bb.get(buf);\n                    Intent returnIntent = new Intent();\n                    if(image.getImage() != null){\n                        //img.setImageBitmap(imageToBitmap(image.getImage()));\n                        Variables.bitmap = bitmapRotate(imageToBitmap(image.getImage()));\n                        image.close();\n                        setResult(Activity.RESULT_OK,returnIntent);\n                        finish();\n                    }\n                    else{\n                        setResult(Activity.RESULT_CANCELED, returnIntent);\n                        finish();\n                    }\n                }\n                /*\n                @Override\n                public void onError(\n                        ImageCapture.UseCaseError error, String message, @Nullable Throwable cause) {\n\n                    // silently ingore error\n                }\n\n                 */\n            });\n            /*\n            //img.setImageBitmap(txView.getBitmap());\n\n             */\n            /*\n            File file = new File(Environment.getExternalStorageDirectory() + \"/\" + System.currentTimeMillis() + \".jpg\");\n            imgCap.takePicture(file, new ImageCapture.OnImageSavedListener() {\n                @Override\n                public void onImageSaved(@NonNull File file) {\n                    String msg = \"Photo capture succeeded: \" + file.getAbsolutePath();\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\n                }\n\n                @Override\n                public void onError(@NonNull ImageCapture.UseCaseError useCaseError, @NonNull String message, @Nullable Throwable cause) {\n                    String msg = \"Photo capture failed: \" + message;\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\n                    if(cause != null){\n                        cause.printStackTrace();\n                    }\n                }\n            });\n            */\n        });\n        /* image analyser\n\n        ImageAnalysisConfig imgAConfig = new ImageAnalysisConfig.Builder().setImageReaderMode(ImageAnalysis.ImageReaderMode.ACQUIRE_LATEST_IMAGE).build();\n        ImageAnalysis analysis = new ImageAnalysis(imgAConfig);\n\n        analysis.setAnalyzer(\n            new ImageAnalysis.Analyzer(){\n                @Override\n                public void analyze(ImageProxy image, int rotationDegrees){\n                    //y'all can add code to analyse stuff here idek go wild.\n                }\n            });\n\n        //bind to lifecycle:\n        CameraX.bindToLifecycle(this, analysis, imgCap, preview);\n        */\n        CameraX.bindToLifecycle(this, imgCap, preview);\n    }\n\n\n    private void updateTransform(){\n         //compensates the changes in orientation for the viewfinder, bc the rest of the layout stays in portrait mode.\n         //methinks :thonk:\n         //imgCap does this already, this class can be commented out or be used to optimise the preview\n        Matrix mx = new Matrix();\n        float w = txView.getMeasuredWidth();\n        float h = txView.getMeasuredHeight();\n\n        float centreX = w / 2f; //calc centre of the viewfinder\n        float centreY = h / 2f;\n\n        int rotationDgr;\n        int rotation = (int)txView.getRotation(); //cast to int bc switches don't like floats\n\n        switch(rotation){ //correct output to account for display rotation\n            case Surface.ROTATION_0:\n                rotationDgr = 0;\n                break;\n            case Surface.ROTATION_90:\n                rotationDgr = 90;\n                break;\n            case Surface.ROTATION_180:\n                rotationDgr = 180;\n                break;\n            case Surface.ROTATION_270:\n                rotationDgr = 270;\n                break;\n            default:\n                return;\n        }\n        mx.postRotate((float)rotationDgr, centreX, centreY);\n        txView.setTransform(mx); //apply transformations to textureview\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        //start camera when permissions have been granted otherwise exit app\n        if(requestCode == REQUEST_CODE_PERMISSIONS){\n            if(allPermissionsGranted()){\n                startCamera();\n            } else{\n                Toast.makeText(this, \"Permissions not granted by the user.\", Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    }\n\n    private boolean allPermissionsGranted(){\n        //check if req permissions have been granted\n        for(String permission : REQUIRED_PERMISSIONS){\n            if(ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED){\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private Bitmap imageToBitmap(Image image){\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n        byte[] bytes = new byte[buffer.capacity()];\n        buffer.get(bytes);\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length, null);\n    }\n\n    private Bitmap bitmapCrop(Bitmap bitmap){\n        return bitmapCompress(Bitmap.createBitmap(bitmap, 0,0,bitmap.getWidth(), bitmap.getWidth()));\n    }\n\n    private Bitmap bitmapRotate(Bitmap bitmap){\n        Matrix matrix = new Matrix();\n        matrix.postRotate(90);\n        if(bitmap.getHeight() &lt; bitmap.getWidth()){\n            if(Variables.PictureMode == Variables.PictureModes.User){\n                return bitmapCrop(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\n            }\n            else{\n                return bitmapCompress(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\n            }\n\n        }\n        else{\n            if(Variables.PictureMode == Variables.PictureModes.User){\n                return bitmapCrop(bitmap);\n            }\n            else{\n                return bitmapCompress(bitmap);\n            }\n        }\n    }\n\n    private Bitmap bitmapCompress(Bitmap bitmap){\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 90, stream);\n        Bitmap compressedBitmap = BitmapFactory.decodeStream(new ByteArrayInputStream(stream.toByteArray()));\n        int width, height;\n        width = compressedBitmap.getWidth() / 5;\n        height = width * 8;\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), height, true);\n        return bitmapScale(scaledBitmap);\n    }\n\n    private Bitmap bitmapScale(Bitmap bitmap){\n        //Matrix\n        int maxHeight = 500;\n        int maxWidth = 500;\n        float scale = Math.min(((float)maxHeight / bitmap.getWidth()), ((float)maxWidth / bitmap.getHeight()));\n        Matrix matrix = new Matrix();\n        matrix.postScale(scale, scale);\n        return Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\n    }\n\n    @Override\n    public void onConfigurationChanged(@NonNull Configuration newConfig)\n    {\n        Log.d(\"tag\", \"config changed\");\n        super.onConfigurationChanged(newConfig);\n\n        updateTransform();\n        int orientation = newConfig.orientation;\n        if (orientation == Configuration.ORIENTATION_PORTRAIT)\n            //Log.d(\"tag\", \"Portrait\");\n            imgCapture.setVisibility(View.VISIBLE);\n        else if (orientation == Configuration.ORIENTATION_LANDSCAPE)\n            imgCapture.setVisibility(View.INVISIBLE);\n            //Log.d(\"tag\", \"Landscape\");\n        //else\n           // Log.w(\"tag\", \"other: \" + orientation);\n    }\n}\n</code></pre>\n\n<p>And here the Xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextureView\n        android:id=\"@+id/txvCameraXViewFinder\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgCameraXMask\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:visibility=\"invisible\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guidelineCameraX\"\n        app:layout_constraintVertical_bias=\"0.0\"\n        app:srcCompat=\"@android:color/black\"\n        tools:visibility=\"invisible\" /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/imgCameraXCapture\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_margin=\"24dp\"\n        android:background=\"@android:color/transparent\"\n        android:scaleType=\"fitCenter\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guidelineCameraXCapture\"\n        app:srcCompat=\"@drawable/shutter\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCameraX\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintGuide_percent=\"0.6\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCameraXPortraitMode\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_percent=\"0.8\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgCameraXRotation\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_marginBottom=\"16dp\"\n        android:adjustViewBounds=\"true\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"@+id/imgCameraXMask\"\n        app:layout_constraintStart_toStartOf=\"@+id/guidelineCameraXPortraitMode\"\n        app:srcCompat=\"@drawable/take_in_portrait_mode\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCameraXCapture\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintGuide_percent=\"0.85\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1385349,"reputation":928,"user_id":1317522,"accept_rate":79,"display_name":"Tirolel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667396902,"creation_date":1510231955,"answer_id":47202334,"question_id":47202160,"body_markdown":"I think its happening because of you are using old method of getPlace\r\n\r\ntry to swap the arguments, by changing it from:\r\n\r\n    Place place = PlacePicker.getPlace(data, this);\r\n\r\nto \r\n\r\n    Place place = PlacePicker.getPlace(getContext(), data);\r\n\r\n-----------------\r\n**Update #2**\r\n\r\nEnable Google places API in the developer console and add these lines to AndroidManifest\r\n\r\n    &lt;meta-data\r\n      android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n      android:value=&quot;ADD_YOUR_API_KEY_HERE&quot; /&gt;\r\n\r\n\r\n\r\n----------\r\n\r\n**Update #3**\r\n\r\nafter some search, it looks like there is others having same issue. Look at these links:\r\n\r\nhttps://github.com/zhangtaii/react-native-google-place-picker/issues/21\r\n\r\nhttps://stackoverflow.com/a/32751164/\r\n\r\nhttps://github.com/googlesamples/android-play-places/issues/13\r\n","title":"android - Google places opens the map on closes after 1 sec","body":"<p>I think its happening because of you are using old method of getPlace</p>\n<p>try to swap the arguments, by changing it from:</p>\n<pre><code>Place place = PlacePicker.getPlace(data, this);\n</code></pre>\n<p>to</p>\n<pre><code>Place place = PlacePicker.getPlace(getContext(), data);\n</code></pre>\n<hr />\n<p><strong>Update #2</strong></p>\n<p>Enable Google places API in the developer console and add these lines to AndroidManifest</p>\n<pre><code>&lt;meta-data\n  android:name=&quot;com.google.android.geo.API_KEY&quot;\n  android:value=&quot;ADD_YOUR_API_KEY_HERE&quot; /&gt;\n</code></pre>\n<hr />\n<p><strong>Update #3</strong></p>\n<p>after some search, it looks like there is others having same issue. Look at these links:</p>\n<p><a href=\"https://github.com/zhangtaii/react-native-google-place-picker/issues/21\" rel=\"nofollow noreferrer\">https://github.com/zhangtaii/react-native-google-place-picker/issues/21</a></p>\n<p><a href=\"https://stackoverflow.com/a/32751164/\">https://stackoverflow.com/a/32751164/</a></p>\n<p><a href=\"https://github.com/googlesamples/android-play-places/issues/13\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-play-places/issues/13</a></p>\n"}],"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47202334,"answer_count":1,"score":2,"last_activity_date":1667396902,"creation_date":1510231353,"question_id":47202160,"body_markdown":"Im creating an intent to an activity by clicking on a button which should open google places, but it closes again really fast and says no location selected, and returns to the main activity, and then nothing happens if i click again.\r\n\r\nMy api should be fine, I have checked that it&#39;s the correct SHA1-fingerprint thats connected to the api key.\r\n\r\nThe result code is 2\r\n\r\nIt worked earlier in the activity before this one, but I needed it to open when i click on a button instead, and now when I try to open this new activity as an intent it wont work.\r\n\r\n\r\n    public class MapActivity extends AppCompatActivity {\r\n\r\n    int PLACE_PICKER_REQUEST = 1;\r\n    int status;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_events);\r\n\r\n        status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\r\n        if (status != ConnectionResult.SUCCESS) {\r\n            if (GooglePlayServicesUtil.isUserRecoverableError(status)) {\r\n                GooglePlayServicesUtil.getErrorDialog(status, this,\r\n                        100).show();\r\n            }\r\n        }\r\n        if (status == ConnectionResult.SUCCESS) {\r\n            int PLACE_PICKER_REQUEST = 199;\r\n            PlacePicker.IntentBuilder builder = new PlacePicker.IntentBuilder();\r\n            Context context = this;\r\n            try {\r\n                startActivityForResult(builder.build(context), PLACE_PICKER_REQUEST);\r\n            } catch (GooglePlayServicesRepairableException e) {\r\n                e.printStackTrace();\r\n            } catch (GooglePlayServicesNotAvailableException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        System.out.println(&quot;Result code: &quot; + resultCode);\r\n        System.out.println(&quot;Request code: &quot; + requestCode);\r\n        if (requestCode == 100) {\r\n            status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\r\n        }\r\n        if (requestCode == 199) {\r\n\r\n            //process Intent......\r\n            if (data != null) {\r\n                Place place = PlacePicker.getPlace(data, this);\r\n                String toastMsg = String.format(&quot;Place: %s&quot;, place.getName());\r\n                Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                String toastMsg = (&quot;No location selected.&quot;);\r\n                Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\nThis is from the intent which create the new intent to maps\r\n\r\n       public void onClick(View view) {\r\n            Intent i = new Intent(this, MapActivity.class);\r\n           startActivity(i);\r\n       }\r\n\r\n","title":"android - Google places opens the map on closes after 1 sec","body":"<p>Im creating an intent to an activity by clicking on a button which should open google places, but it closes again really fast and says no location selected, and returns to the main activity, and then nothing happens if i click again.</p>\n\n<p>My api should be fine, I have checked that it's the correct SHA1-fingerprint thats connected to the api key.</p>\n\n<p>The result code is 2</p>\n\n<p>It worked earlier in the activity before this one, but I needed it to open when i click on a button instead, and now when I try to open this new activity as an intent it wont work.</p>\n\n<pre><code>public class MapActivity extends AppCompatActivity {\n\nint PLACE_PICKER_REQUEST = 1;\nint status;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_events);\n\n    status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\n    if (status != ConnectionResult.SUCCESS) {\n        if (GooglePlayServicesUtil.isUserRecoverableError(status)) {\n            GooglePlayServicesUtil.getErrorDialog(status, this,\n                    100).show();\n        }\n    }\n    if (status == ConnectionResult.SUCCESS) {\n        int PLACE_PICKER_REQUEST = 199;\n        PlacePicker.IntentBuilder builder = new PlacePicker.IntentBuilder();\n        Context context = this;\n        try {\n            startActivityForResult(builder.build(context), PLACE_PICKER_REQUEST);\n        } catch (GooglePlayServicesRepairableException e) {\n            e.printStackTrace();\n        } catch (GooglePlayServicesNotAvailableException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    System.out.println(\"Result code: \" + resultCode);\n    System.out.println(\"Request code: \" + requestCode);\n    if (requestCode == 100) {\n        status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\n    }\n    if (requestCode == 199) {\n\n        //process Intent......\n        if (data != null) {\n            Place place = PlacePicker.getPlace(data, this);\n            String toastMsg = String.format(\"Place: %s\", place.getName());\n            Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\n        } else {\n            String toastMsg = (\"No location selected.\");\n            Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\n        }\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is from the intent which create the new intent to maps</p>\n\n<pre><code>   public void onClick(View view) {\n        Intent i = new Intent(this, MapActivity.class);\n       startActivity(i);\n   }\n</code></pre>\n"},{"tags":["java","class","compilation"],"comments":[{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":1,"creation_date":1665399229,"post_id":74013743,"comment_id":130683467,"body_markdown":"IMO, the validation should be done before it is stored into the database...","body":"IMO, the validation should be done before it is stored into the database..."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1665399651,"post_id":74013743,"comment_id":130683596,"body_markdown":"You can use the [Java compiler API](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/module-summary.html) for this. But this is not something that&#39;s super easy to use.","body":"You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/module-summary.html\" rel=\"nofollow noreferrer\">Java compiler API</a> for this. But this is not something that&#39;s super easy to use."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665399698,"post_id":74013743,"comment_id":130683614,"body_markdown":"Not an *exact* duplicate, but [check this out](https://stackoverflow.com/questions/4463440/compile-java-source-code-from-a-string)","body":"Not an <i>exact</i> duplicate, but <a href=\"https://stackoverflow.com/questions/4463440/compile-java-source-code-from-a-string\">check this out</a>"}],"answers":[{"tags":[],"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1667396202,"creation_date":1665399291,"answer_id":74013794,"question_id":74013743,"body_markdown":"Create a text file and write the code to the file using Java:   \r\n```\r\nFileWriter myWriter = new FileWriter(&quot;filename.txt&quot;);\r\nmyWriter.write(&quot;public class HelloWorld {\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Hello, World!&quot;); \r\n}&quot;);\r\nmyWriter.close();\r\n```\r\n\r\nNow run the file via\r\n```\r\nString[] args = new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;your_command&quot;, &quot;with&quot;, &quot;args&quot;};\r\nProcess proc = new ProcessBuilder(args).start(); \r\n```\r\nYou&#39;ll get to know if it compiles from its return value. ","title":"Checking if a string is a compilable Java class","body":"<p>Create a text file and write the code to the file using Java:</p>\n<pre><code>FileWriter myWriter = new FileWriter(&quot;filename.txt&quot;);\nmyWriter.write(&quot;public class HelloWorld {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello, World!&quot;); \n}&quot;);\nmyWriter.close();\n</code></pre>\n<p>Now run the file via</p>\n<pre><code>String[] args = new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;your_command&quot;, &quot;with&quot;, &quot;args&quot;};\nProcess proc = new ProcessBuilder(args).start(); \n</code></pre>\n<p>You'll get to know if it compiles from its return value.</p>\n"}],"owner":{"account_id":16559729,"reputation":19,"user_id":11965930,"display_name":"Peter Lo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667396202,"creation_date":1665399016,"question_id":74013743,"body_markdown":"I have an application that has stored various classes in string form.\r\nFor example, I might have this class:\r\n\r\n    public class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;); \r\n    }\r\n\r\nthat is stored as a string in a database. \r\nI would like to know whether this string contains a class that can compile successfully.\r\nHow would I go about doing that? Is there a package for this?\r\n\r\n","title":"Checking if a string is a compilable Java class","body":"<p>I have an application that has stored various classes in string form.\nFor example, I might have this class:</p>\n<pre><code>public class HelloWorld {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello, World!&quot;); \n}\n</code></pre>\n<p>that is stored as a string in a database.\nI would like to know whether this string contains a class that can compile successfully.\nHow would I go about doing that? Is there a package for this?</p>\n"},{"tags":["java","generics","arraylist","methods"],"comments":[{"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1652825613,"post_id":72281129,"comment_id":127699294,"body_markdown":"@Eritrean What is T?","body":"@Eritrean What is T?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652826698,"post_id":72281129,"comment_id":127699490,"body_markdown":"“…we need to use it in a class extending ArrayList.”  No, you don’t.  `list.subList(startIndex, endIndex).clear()` will do the same thing.  No subclass needed.","body":"“…we need to use it in a class extending ArrayList.”  No, you don’t.  <code>list.subList(startIndex, endIndex).clear()</code> will do the same thing.  No subclass needed."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667396065,"creation_date":1652825745,"answer_id":72281235,"question_id":72281129,"body_markdown":"Your premise: \r\n\r\n&gt; Since the method - removeRange(int startIndex, int ) is protected, we need to use it in a class extending ArrayList. \r\n\r\n… is incorrect.\r\n\r\n&#128073; `removeRange` is not meant to be called from outside the class. So no need to create your subclass.\r\n\r\nInstead, call [`List#subList`][1] and [`List#clear`][2]. \r\n\r\n    list.subList( start , end ).clear() ;\r\n\r\nSee the Javadoc for [`AbstractList#removeRange`][3]:\r\n\r\n&gt; This method is called by the `clear` operation on this list and its subLists.\r\n\r\nSee Item 40 of [*Effective Java*][4] 2nd ed.\r\n\r\nSee discussion in [this post][5]. \r\n\r\nExample code:\r\n\r\n    List&lt; String &gt; original = List.of( &quot;Zebra&quot; , &quot;Giraffe&quot;, &quot;Bison&quot;, &quot;Hippo&quot;, &quot;Elephant&quot; ) ;\r\n    \r\n    ArrayList&lt; String &gt; a1 = new ArrayList &lt;&gt; ( original ) ;\r\n    ArrayList&lt; String &gt; a2 = new ArrayList &lt;&gt; ( original ) ;\r\n    ArrayList&lt; String &gt; a3 = new ArrayList &lt;&gt; ( original ) ;\r\n\r\n    a1.subList( 0, 3 ).clear() ;\r\n    a2.subList( 3, 5 ).clear() ;\r\n    a3.subList( 2, 4 ).clear() ;\r\n\r\n    System.out.println( a1 );\r\n    System.out.println( a2 );\r\n    System.out.println( a3 );\r\n\r\nSee this [code run live at IdeOne.com][6].\r\n\r\n```none\r\n[Hippo, Elephant]\r\n[Zebra, Giraffe, Bison]\r\n[Zebra, Giraffe, Elephant]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#clear()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractList.html#removeRange(int,int)\r\n  [4]: https://www.goodreads.com/book/show/34927404\r\n  [5]: https://stackoverflow.com/q/2289183/\r\n  [6]: https://ideone.com/iHGUMX","title":"How to use generics for type safety while using `removeRange` method of ArrayList","body":"<p>Your premise:</p>\n<blockquote>\n<p>Since the method - removeRange(int startIndex, int ) is protected, we need to use it in a class extending ArrayList.</p>\n</blockquote>\n<p>… is incorrect.</p>\n<p>👉 <code>removeRange</code> is not meant to be called from outside the class. So no need to create your subclass.</p>\n<p>Instead, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\"><code>List#subList</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#clear()\" rel=\"nofollow noreferrer\"><code>List#clear</code></a>.</p>\n<pre><code>list.subList( start , end ).clear() ;\n</code></pre>\n<p>See the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractList.html#removeRange(int,int)\" rel=\"nofollow noreferrer\"><code>AbstractList#removeRange</code></a>:</p>\n<blockquote>\n<p>This method is called by the <code>clear</code> operation on this list and its subLists.</p>\n</blockquote>\n<p>See Item 40 of <a href=\"https://www.goodreads.com/book/show/34927404\" rel=\"nofollow noreferrer\"><em>Effective Java</em></a> 2nd ed.</p>\n<p>See discussion in <a href=\"https://stackoverflow.com/q/2289183/\">this post</a>.</p>\n<p>Example code:</p>\n<pre><code>List&lt; String &gt; original = List.of( &quot;Zebra&quot; , &quot;Giraffe&quot;, &quot;Bison&quot;, &quot;Hippo&quot;, &quot;Elephant&quot; ) ;\n\nArrayList&lt; String &gt; a1 = new ArrayList &lt;&gt; ( original ) ;\nArrayList&lt; String &gt; a2 = new ArrayList &lt;&gt; ( original ) ;\nArrayList&lt; String &gt; a3 = new ArrayList &lt;&gt; ( original ) ;\n\na1.subList( 0, 3 ).clear() ;\na2.subList( 3, 5 ).clear() ;\na3.subList( 2, 4 ).clear() ;\n\nSystem.out.println( a1 );\nSystem.out.println( a2 );\nSystem.out.println( a3 );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/iHGUMX\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Hippo, Elephant]\n[Zebra, Giraffe, Bison]\n[Zebra, Giraffe, Elephant]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652825833,"creation_date":1652825833,"answer_id":72281249,"question_id":72281129,"body_markdown":"The way to make `MyClass` able to store objects of any type, not just `String` is to introduce a _type parameter_ `T` which fills in for the type.  The declaration will then be\r\n\r\n    public class MyClass&lt;T&gt; extends ArrayList&lt;T&gt;\r\n\r\nBut then, you have to specify what `T` is when you declare a `MyClass` variable.  This means you&#39;ll need to change your variable declarations and initialisations to things like \r\n\r\n    MyClass&lt;String&gt; arrayList1 = new MyClass&lt;&gt;();\r\n\r\nwhich tells the compiler what type to use in place of `T`.","title":"How to use generics for type safety while using `removeRange` method of ArrayList","body":"<p>The way to make <code>MyClass</code> able to store objects of any type, not just <code>String</code> is to introduce a <em>type parameter</em> <code>T</code> which fills in for the type.  The declaration will then be</p>\n<pre><code>public class MyClass&lt;T&gt; extends ArrayList&lt;T&gt;\n</code></pre>\n<p>But then, you have to specify what <code>T</code> is when you declare a <code>MyClass</code> variable.  This means you'll need to change your variable declarations and initialisations to things like</p>\n<pre><code>MyClass&lt;String&gt; arrayList1 = new MyClass&lt;&gt;();\n</code></pre>\n<p>which tells the compiler what type to use in place of <code>T</code>.</p>\n"}],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72281249,"answer_count":2,"score":0,"last_activity_date":1667396065,"creation_date":1652824950,"question_id":72281129,"body_markdown":"Since the method - `removeRange(int startIndex, int )` is protected, we need to use it in a class extending ArrayList. Below is my code - \r\n\r\n```\r\npublic class MyClass extends ArrayList&lt;String&gt; {\r\n\r\n    public static void main(String[] args) {\r\n        MyClass arrayList1 = new MyClass();\r\n        arrayList1.add(&quot;Zebra&quot;);\r\n        arrayList1.add(&quot;Giraffe&quot;);\r\n        arrayList1.add(&quot;Bison&quot;);\r\n        arrayList1.add(&quot;Hippo&quot;);\r\n        arrayList1.add(&quot;Elephant&quot;);\r\n\r\n        MyClass arrayList2 = (MyClass) arrayList1.clone();\r\n        MyClass arrayList3 = (MyClass) arrayList1.clone();\r\n\r\n        System.out.println(arrayList1);\r\n        System.out.println(arrayList2);\r\n        System.out.println(arrayList3);\r\n\r\n        arrayList1.removeRange(0, 3);\r\n        arrayList2.removeRange(3, 5);\r\n        arrayList3.removeRange(2, 4);\r\n\r\n        System.out.println(arrayList1);\r\n        System.out.println(arrayList2);\r\n        System.out.println(arrayList3);\r\n    }\r\n}\r\n```\r\n\r\nOutput - \r\n\r\n```\r\n[Zebra, Giraffe, Bison, Hippo, Elephant]\r\n[Zebra, Giraffe, Bison, Hippo, Elephant]\r\n[Zebra, Giraffe, Bison, Hippo, Elephant]\r\n[Hippo, Elephant]\r\n[Zebra, Giraffe, Bison]\r\n[Zebra, Giraffe, Elephant]\r\n```\r\n\r\n\r\nNow to use type safety I need to write - `MyClass&lt;String&gt; extends ArrayList&lt;String&gt;` but doing so gives error in main method of `String[]` - \r\n\r\n`MyClass.This cannot be referenced from a static context` \r\n\r\nSo how is it possible to use `generics` in `removeRange` method of ArrayList? \r\n","title":"How to use generics for type safety while using `removeRange` method of ArrayList","body":"<p>Since the method - <code>removeRange(int startIndex, int )</code> is protected, we need to use it in a class extending ArrayList. Below is my code -</p>\n<pre><code>public class MyClass extends ArrayList&lt;String&gt; {\n\n    public static void main(String[] args) {\n        MyClass arrayList1 = new MyClass();\n        arrayList1.add(&quot;Zebra&quot;);\n        arrayList1.add(&quot;Giraffe&quot;);\n        arrayList1.add(&quot;Bison&quot;);\n        arrayList1.add(&quot;Hippo&quot;);\n        arrayList1.add(&quot;Elephant&quot;);\n\n        MyClass arrayList2 = (MyClass) arrayList1.clone();\n        MyClass arrayList3 = (MyClass) arrayList1.clone();\n\n        System.out.println(arrayList1);\n        System.out.println(arrayList2);\n        System.out.println(arrayList3);\n\n        arrayList1.removeRange(0, 3);\n        arrayList2.removeRange(3, 5);\n        arrayList3.removeRange(2, 4);\n\n        System.out.println(arrayList1);\n        System.out.println(arrayList2);\n        System.out.println(arrayList3);\n    }\n}\n</code></pre>\n<p>Output -</p>\n<pre><code>[Zebra, Giraffe, Bison, Hippo, Elephant]\n[Zebra, Giraffe, Bison, Hippo, Elephant]\n[Zebra, Giraffe, Bison, Hippo, Elephant]\n[Hippo, Elephant]\n[Zebra, Giraffe, Bison]\n[Zebra, Giraffe, Elephant]\n</code></pre>\n<p>Now to use type safety I need to write - <code>MyClass&lt;String&gt; extends ArrayList&lt;String&gt;</code> but doing so gives error in main method of <code>String[]</code> -</p>\n<p><code>MyClass.This cannot be referenced from a static context</code></p>\n<p>So how is it possible to use <code>generics</code> in <code>removeRange</code> method of ArrayList?</p>\n"},{"tags":["java","gitlab","sonarqube","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":5384585,"reputation":1366,"user_id":4341322,"accept_rate":22,"display_name":"Katrin Leinweber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667395815,"creation_date":1665991163,"answer_id":74093728,"question_id":74092074,"body_markdown":"The core problem seems to be\r\n\r\n&gt; Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob]\r\n\r\nMaybe [one of these solutions](https://stackoverflow.com/q/53714699/) can be adapted?","title":"Error in sonarqube integrating gitlab cicd","body":"<p>The core problem seems to be</p>\n<blockquote>\n<p>Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob]</p>\n</blockquote>\n<p>Maybe <a href=\"https://stackoverflow.com/q/53714699/\">one of these solutions</a> can be adapted?</p>\n"},{"tags":[],"owner":{"account_id":7170612,"reputation":1,"user_id":5478197,"display_name":"Adam Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666058033,"creation_date":1666058033,"answer_id":74104862,"question_id":74092074,"body_markdown":"already solved, need to uninstall the sonar-gitlab plugin which is not supported on recent versions of SnarQube since v8.0","title":"Error in sonarqube integrating gitlab cicd","body":"<p>already solved, need to uninstall the sonar-gitlab plugin which is not supported on recent versions of SnarQube since v8.0</p>\n"}],"owner":{"account_id":7170612,"reputation":1,"user_id":5478197,"display_name":"Adam Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667395815,"creation_date":1665973879,"question_id":74092074,"body_markdown":"gitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline\r\n\r\n**version:SonarQube 9.6.1 Scanner4.6.2 Plugin 4.0**\r\n\r\n**gitlab-ci.yml**\r\n\r\n```stages: \r\n  - sonarqube-check \r\nsonarqube-check: \r\n  stage: sonarqube-check \r\n\r\n  variables: \r\n\r\n    SONAR_USER_HOME: &quot;${CI_PROJECT_DIR}/.sonar&quot;  # Defines the location of the analysis task cache \r\n\r\n    SCANNER_HOME: &quot;/opt/tool/sonar-scanner&quot; \r\n\r\n    GIT_DEPTH: &quot;0&quot;  # Tells git to fetch all the branches of the project, required by the analysis task \r\n\r\n  cache: \r\n\r\n    key: &quot;${CI_JOB_NAME}&quot; \r\n\r\n    paths: \r\n\r\n      - .sonar/cache \r\n\r\n  script: \r\n\r\n    - /opt/tool/sonar-scanner/bin/sonar-scanner \r\n\r\n  allow_failure: true \r\n\r\n  tags: \r\n\r\n    - dev \r\n\r\n  only: \r\n\r\n    - main # or the name of your main branch\r\n```\r\n\r\nERROR:\r\n\r\n\r\n```\r\nINFO: EXECUTION FAILURE\r\n\r\n[139](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L139)INFO: ------------------------------------------------------------------------\r\n\r\n[140](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L140)INFO: Total time: 23.600s\r\n\r\n[141](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L141)INFO: Final Memory: 25M/90M\r\n\r\n[142](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L142)INFO: ------------------------------------------------------------------------\r\n\r\n[143](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L143)ERROR: Error during SonarScanner execution\r\n\r\n[144](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L144)java.lang.IllegalStateException: Unable to load components interface org.sonar.api.batch.postjob.PostJob\r\n\r\n[145](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L145) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:156)\r\n\r\n[146](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L146) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.completeScannerExtensions(AbstractExtensionDictionary.java:82)\r\n\r\n[147](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L147) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getExtensions(AbstractExtensionDictionary.java:77)\r\n\r\n[148](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L148) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getFilteredExtensions(AbstractExtensionDictionary.java:67)\r\n\r\n[149](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L149) at org.sonar.scanner.bootstrap.PostJobExtensionDictionary.selectPostJobs(PostJobExtensionDictionary.java:42)\r\n\r\n[150](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L150) at org.sonar.scanner.postjob.PostJobsExecutor.execute(PostJobsExecutor.java:38)\r\n\r\n[151](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L151) at org.sonar.scanner.scan.SpringProjectScanContainer.doAfterStart(SpringProjectScanContainer.java:376)\r\n\r\n[152](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L152) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\r\n\r\n[153](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L153) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n[154](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L154) at org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\r\n\r\n[155](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L155) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\r\n\r\n[156](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L156) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n[157](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L157) at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n\r\n[158](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L158) at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n\r\n[159](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L159) at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n\r\n[160](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L160) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native) Method)\r\n\r\n[161](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L161) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown) Source)\r\n\r\n[162](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L162) at [java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown) Source)\r\n\r\n[163](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L163) at [java.base/java.lang.reflect.Method.invoke(Unknown](http://java.base/java.lang.reflect.Method.invoke(Unknown) Source)\r\n\r\n[164](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L164) at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n\r\n[165](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L165) at com.sun.proxy.$Proxy0.execute(Unknown Source)\r\n\r\n[166](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L166) at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n\r\n[167](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L167) at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n\r\n[168](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L168) at org.sonarsource.scanner.cli.Main.execute(Main.java:112)\r\n\r\n[169](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L169) at org.sonarsource.scanner.cli.Main.execute(Main.java:75)\r\n\r\n[170](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L170) at org.sonarsource.scanner.cli.Main.main(Main.java:61)\r\n\r\n[171](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L171)Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ClassRealm{gitlab}-com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\r\n\r\n[172](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L172) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n\r\n[173](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L173) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n\r\n[174](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L174) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n\r\n[175](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L175) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n[176](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L176) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n[177](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L177) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n[178](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L178) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n[179](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L179) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n[180](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L180) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n[181](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L181) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671)\r\n\r\n[182](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L182) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659)\r\n\r\n[183](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L183) at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300)\r\n\r\n[184](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L184) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:154)\r\n\r\n[185](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L185) ... 25 more\r\n\r\n[186](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L186)Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\r\n\r\n[187](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L187) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n\r\n[188](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L188) at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n\r\n[189](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L189) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\r\n[190](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L190) ... 37 more\r\n\r\n[191](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L191)Caused by: java.lang.NoClassDefFoundError: org/sonar/api/batch/postjob/issue/PostJobIssue\r\n\r\n[192](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L192) at [java.base/java.lang.Class.getDeclaredMethods0(Native](http://java.base/java.lang.Class.getDeclaredMethods0(Native) Method)\r\n\r\n[193](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L193) at [java.base/java.lang.Class.privateGetDeclaredMethods(Unknown](http://java.base/java.lang.Class.privateGetDeclaredMethods(Unknown) Source)\r\n\r\n[194](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L194) at [java.base/java.lang.Class.getDeclaredMethods(Unknown](http://java.base/java.lang.Class.getDeclaredMethods(Unknown) Source)\r\n\r\n[195](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L195) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n\r\n[196](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L196) ... 39 more\r\n\r\n[197](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L197)Caused by: java.lang.ClassNotFoundException: org.sonar.api.batch.postjob.issue.PostJobIssue\r\n\r\n[198](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L198) at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\r\n\r\n[199](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L199) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\r\n\r\n[200](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L200) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\r\n\r\n[201](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L201) ... 43 more\r\n\r\n[202](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L202)ERROR:\r\n\r\n[203](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L203)ERROR: Re-run SonarScanner using the -X switch to enable full debug logging.\r\n\r\n[205](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L205)ERROR: Job failed: exit status 1\r\n\r\n\r\n```\r\n\r\n\r\ngitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline, thank you\r\n","title":"Error in sonarqube integrating gitlab cicd","body":"<p>gitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline</p>\n<p><strong>version:SonarQube 9.6.1 Scanner4.6.2 Plugin 4.0</strong></p>\n<p><strong>gitlab-ci.yml</strong></p>\n<pre><code>  - sonarqube-check \nsonarqube-check: \n  stage: sonarqube-check \n\n  variables: \n\n    SONAR_USER_HOME: &quot;${CI_PROJECT_DIR}/.sonar&quot;  # Defines the location of the analysis task cache \n\n    SCANNER_HOME: &quot;/opt/tool/sonar-scanner&quot; \n\n    GIT_DEPTH: &quot;0&quot;  # Tells git to fetch all the branches of the project, required by the analysis task \n\n  cache: \n\n    key: &quot;${CI_JOB_NAME}&quot; \n\n    paths: \n\n      - .sonar/cache \n\n  script: \n\n    - /opt/tool/sonar-scanner/bin/sonar-scanner \n\n  allow_failure: true \n\n  tags: \n\n    - dev \n\n  only: \n\n    - main # or the name of your main branch\n</code></pre>\n<p>ERROR:</p>\n<pre><code>INFO: EXECUTION FAILURE\n\n[139](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L139)INFO: ------------------------------------------------------------------------\n\n[140](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L140)INFO: Total time: 23.600s\n\n[141](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L141)INFO: Final Memory: 25M/90M\n\n[142](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L142)INFO: ------------------------------------------------------------------------\n\n[143](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L143)ERROR: Error during SonarScanner execution\n\n[144](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L144)java.lang.IllegalStateException: Unable to load components interface org.sonar.api.batch.postjob.PostJob\n\n[145](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L145) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:156)\n\n[146](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L146) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.completeScannerExtensions(AbstractExtensionDictionary.java:82)\n\n[147](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L147) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getExtensions(AbstractExtensionDictionary.java:77)\n\n[148](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L148) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getFilteredExtensions(AbstractExtensionDictionary.java:67)\n\n[149](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L149) at org.sonar.scanner.bootstrap.PostJobExtensionDictionary.selectPostJobs(PostJobExtensionDictionary.java:42)\n\n[150](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L150) at org.sonar.scanner.postjob.PostJobsExecutor.execute(PostJobsExecutor.java:38)\n\n[151](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L151) at org.sonar.scanner.scan.SpringProjectScanContainer.doAfterStart(SpringProjectScanContainer.java:376)\n\n[152](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L152) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\n\n[153](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L153) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n[154](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L154) at org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\n\n[155](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L155) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\n\n[156](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L156) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n[157](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L157) at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n\n[158](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L158) at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n\n[159](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L159) at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n\n[160](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L160) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native) Method)\n\n[161](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L161) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown) Source)\n\n[162](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L162) at [java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown) Source)\n\n[163](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L163) at [java.base/java.lang.reflect.Method.invoke(Unknown](http://java.base/java.lang.reflect.Method.invoke(Unknown) Source)\n\n[164](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L164) at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n\n[165](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L165) at com.sun.proxy.$Proxy0.execute(Unknown Source)\n\n[166](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L166) at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n\n[167](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L167) at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n\n[168](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L168) at org.sonarsource.scanner.cli.Main.execute(Main.java:112)\n\n[169](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L169) at org.sonarsource.scanner.cli.Main.execute(Main.java:75)\n\n[170](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L170) at org.sonarsource.scanner.cli.Main.main(Main.java:61)\n\n[171](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L171)Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ClassRealm{gitlab}-com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\n\n[172](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L172) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n\n[173](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L173) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n\n[174](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L174) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n\n[175](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L175) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n[176](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L176) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n[177](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L177) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n[178](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L178) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n[179](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L179) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n[180](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L180) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n[181](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L181) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671)\n\n[182](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L182) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659)\n\n[183](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L183) at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300)\n\n[184](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L184) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:154)\n\n[185](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L185) ... 25 more\n\n[186](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L186)Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\n\n[187](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L187) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n\n[188](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L188) at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n\n[189](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L189) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n\n[190](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L190) ... 37 more\n\n[191](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L191)Caused by: java.lang.NoClassDefFoundError: org/sonar/api/batch/postjob/issue/PostJobIssue\n\n[192](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L192) at [java.base/java.lang.Class.getDeclaredMethods0(Native](http://java.base/java.lang.Class.getDeclaredMethods0(Native) Method)\n\n[193](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L193) at [java.base/java.lang.Class.privateGetDeclaredMethods(Unknown](http://java.base/java.lang.Class.privateGetDeclaredMethods(Unknown) Source)\n\n[194](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L194) at [java.base/java.lang.Class.getDeclaredMethods(Unknown](http://java.base/java.lang.Class.getDeclaredMethods(Unknown) Source)\n\n[195](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L195) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n\n[196](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L196) ... 39 more\n\n[197](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L197)Caused by: java.lang.ClassNotFoundException: org.sonar.api.batch.postjob.issue.PostJobIssue\n\n[198](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L198) at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\n\n[199](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L199) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\n\n[200](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L200) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\n\n[201](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L201) ... 43 more\n\n[202](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L202)ERROR:\n\n[203](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L203)ERROR: Re-run SonarScanner using the -X switch to enable full debug logging.\n\n[205](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L205)ERROR: Job failed: exit status 1\n\n\n</code></pre>\n<p>gitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline, thank you</p>\n"},{"tags":["java","intellij-idea","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1667350725,"post_id":74283247,"comment_id":131145653,"body_markdown":"Maybe a [`GridPane`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/GridPane.html) would be better suited to your purpose than a TableView.","body":"Maybe a <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\"><code>GridPane</code></a> would be better suited to your purpose than a TableView."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1667350743,"post_id":74283247,"comment_id":131145655,"body_markdown":"For a TableView, you don&#39;t update cells in the tableview directly, instead, you modify records in the list which backs the tableview, and those records need to be composed of listenable properties if you want to have updates on those properties trigger updates to the view.  Study up on [cell factories](https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx) if you want to go this route.  You might also want to look at [extractors](https://stackoverflow.com/questions/31687642/callback-and-extractors-for-javafx-observablelist).","body":"For a TableView, you don&#39;t update cells in the tableview directly, instead, you modify records in the list which backs the tableview, and those records need to be composed of listenable properties if you want to have updates on those properties trigger updates to the view.  Study up on <a href=\"https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx\">cell factories</a> if you want to go this route.  You might also want to look at <a href=\"https://stackoverflow.com/questions/31687642/callback-and-extractors-for-javafx-observablelist\">extractors</a>."},{"owner":{"account_id":12450504,"reputation":55,"user_id":9065315,"display_name":"Beno&#238;t Mignault"},"score":0,"creation_date":1667352890,"post_id":74283247,"comment_id":131145984,"body_markdown":"Thx @jewelsea :) I will read about GridPane","body":"Thx @jewelsea :) I will read about GridPane"}],"answers":[{"tags":[],"owner":{"account_id":12450504,"reputation":55,"user_id":9065315,"display_name":"Beno&#238;t Mignault"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667395690,"creation_date":1667395690,"answer_id":74289962,"question_id":74283247,"body_markdown":"With GridPane, i found what i probably need :)\r\n```JAVA\r\n@FXML\r\n    protected void shootOnGrid(ActionEvent actionEvent) {\r\n        if (column.getText().isEmpty() || line.getText().isEmpty() ){\r\n            resultShoot.setText(&quot;There is some information missing&quot;);\r\n        } else {\r\n            resultShoot.setText(column.getText()+line.getText());\r\n            grid.add(new Text(line.getText()), 0,0);\r\n\r\n        }\r\n    }\r\n```\r\nNow, i need to work with thoses property :)\r\nIf i can name the Colomn and row...etc\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dCgqF.png","title":"How to write in a specific spot in TableView with JavaFX","body":"<p>With GridPane, i found what i probably need :)</p>\n<pre><code>@FXML\n    protected void shootOnGrid(ActionEvent actionEvent) {\n        if (column.getText().isEmpty() || line.getText().isEmpty() ){\n            resultShoot.setText(&quot;There is some information missing&quot;);\n        } else {\n            resultShoot.setText(column.getText()+line.getText());\n            grid.add(new Text(line.getText()), 0,0);\n\n        }\n    }\n</code></pre>\n<p>Now, i need to work with thoses property :)\nIf i can name the Colomn and row...etc</p>\n<p><a href=\"https://i.stack.imgur.com/dCgqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dCgqF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12450504,"reputation":55,"user_id":9065315,"display_name":"Beno&#238;t Mignault"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667395690,"creation_date":1667349876,"question_id":74283247,"body_markdown":"I am in the process of self-training on the subject of graphic JavaFX\r\n\r\nMy goal is to be able to place an X in the corresponding box\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A9fNU.png\r\n\r\nI found several tutorials that explain how to write a partial or full row but only one field and depending on the column / row value ... I can&#39;t do it, I need help from the community to m &#39;open my eyes, so run my hoop lol\r\n\r\nThx in advance\r\n\r\nHave a nice day/evening/night/morning","title":"How to write in a specific spot in TableView with JavaFX","body":"<p>I am in the process of self-training on the subject of graphic JavaFX</p>\n<p>My goal is to be able to place an X in the corresponding box</p>\n<p><a href=\"https://i.stack.imgur.com/A9fNU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9fNU.png\" alt=\"enter image description here\" /></a></p>\n<p>I found several tutorials that explain how to write a partial or full row but only one field and depending on the column / row value ... I can't do it, I need help from the community to m 'open my eyes, so run my hoop lol</p>\n<p>Thx in advance</p>\n<p>Have a nice day/evening/night/morning</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6552102,"reputation":2093,"user_id":5750389,"display_name":"Elias Fazel"},"score":0,"creation_date":1602705438,"post_id":64360590,"comment_id":113808556,"body_markdown":"add sha-1 for release and add new json to your project","body":"add sha-1 for release and add new json to your project"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602705623,"post_id":64360590,"comment_id":113808614,"body_markdown":"@Elias Fazel how can I do it?","body":"@Elias Fazel how can I do it?"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602706067,"post_id":64360590,"comment_id":113808764,"body_markdown":"@Elias Fazel ok but should I then create a new app within my firebase project with the new sha1 and should I overwrite the new json file the old one ?\nIs this tutorial okay? https://fabcoding.com/how-to-obtain-sha1-keys-for-debug-and-release-android-studio-mac/","body":"@Elias Fazel ok but should I then create a new app within my firebase project with the new sha1 and should I overwrite the new json file the old one ? Is this tutorial okay? <a href=\"https://fabcoding.com/how-to-obtain-sha1-keys-for-debug-and-release-android-studio-mac/\" rel=\"nofollow noreferrer\">fabcoding.com/&hellip;</a>"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":1,"creation_date":1602707185,"post_id":64360590,"comment_id":113809134,"body_markdown":"@Elias Fazel I tried but it doesn&#39;t work, the unknown error toast keeps appearing. I tried adding a sha1 (without deleting the old debug one) and downloading the new json overwriting the old one","body":"@Elias Fazel I tried but it doesn&#39;t work, the unknown error toast keeps appearing. I tried adding a sha1 (without deleting the old debug one) and downloading the new json overwriting the old one"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602707800,"post_id":64360590,"comment_id":113809349,"body_markdown":"Please help me.","body":"Please help me."},{"owner":{"display_name":"user14141430"},"score":0,"creation_date":1602743143,"post_id":64360590,"comment_id":113817541,"body_markdown":"Add the SHA-256 release key","body":"Add the SHA-256 release key"},{"owner":{"account_id":6552102,"reputation":2093,"user_id":5750389,"display_name":"Elias Fazel"},"score":0,"creation_date":1602761324,"post_id":64360590,"comment_id":113825416,"body_markdown":"check this https://developers.google.com/android/guides/client-auth","body":"check this <a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"nofollow noreferrer\">developers.google.com/android/guides/client-auth</a>"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602781430,"post_id":64360590,"comment_id":113835796,"body_markdown":"@EliasFazel i added a sha1 key (the one of the release version that I found written in the signature section of the app on play console) and now the authentication works but as soon as the crusha app is authenticated, I don&#39;t know why https: // play. google.com/store/apps/details?id=com.conta.ftof","body":"@EliasFazel i added a sha1 key (the one of the release version that I found written in the signature section of the app on play console) and now the authentication works but as soon as the crusha app is authenticated, I don&#39;t know why https: // play. google.com/store/apps/details?id=com.conta.ftof"}],"answers":[{"tags":[],"owner":{"account_id":269668,"reputation":44162,"user_id":559144,"accept_rate":85,"display_name":"Davide Piras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667395271,"creation_date":1664197587,"answer_id":73854604,"question_id":64360590,"body_markdown":"in my case, having similar problem, the solution proposed here solved my issue:\r\n\r\nhttps://stackoverflow.com/a/50868434/559144\r\n\r\nI was trying to grab the SHA1 signature from the keytool command against my app bundle compiled in release mode, but that did not work, what fixed the issue was to grab that signature from the google play console, under app signing settings, then paste it into Firebase console, without removing the debug signature, then grab latest google json file, put it in Android Studio, rebuild signed bundle, upload, release, and now all works great.\r\n ","title":"Firebase authentication works only on debug version","body":"<p>in my case, having similar problem, the solution proposed here solved my issue:</p>\n<p><a href=\"https://stackoverflow.com/a/50868434/559144\">https://stackoverflow.com/a/50868434/559144</a></p>\n<p>I was trying to grab the SHA1 signature from the keytool command against my app bundle compiled in release mode, but that did not work, what fixed the issue was to grab that signature from the google play console, under app signing settings, then paste it into Firebase console, without removing the debug signature, then grab latest google json file, put it in Android Studio, rebuild signed bundle, upload, release, and now all works great.</p>\n"}],"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73854604,"answer_count":1,"score":0,"last_activity_date":1667395271,"creation_date":1602705088,"question_id":64360590,"body_markdown":"I have an app on google play: https://play.google.com/store/apps/details?id=com.conta.ftof\r\nand I have a big problem. I can&#39;t get firebase authentication with phone number to work on the signed version. in fact, it works only with the debug version (when in the release version I insert the number and click the send button, the toast is returned: unknown error) ... Precisely for this reason I can&#39;t show the logcats, just because the error alone in the relase version ... Can you help me please? I leave you the code:\r\n\r\n**Important lines of registrationactivity**\r\n\r\n    @Override\r\n                public void onVerificationFailed(FirebaseException e) {\r\n    \r\n                    if (e instanceof FirebaseAuthInvalidCredentialsException) {\r\n                        Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else if (e instanceof FirebaseTooManyRequestsException) {\r\n                        Toast.makeText(RegistrationActivity.this, &quot;Troppe richieste per questo numero di telefono, riprova tra 24h&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    else if (e instanceof FirebaseNetworkException){\r\n                        Toast.makeText(RegistrationActivity.this, &quot;Errore di rete...&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    else {\r\n    \r\n                        Toast.makeText(RegistrationActivity.this, &quot;Errore sconosciuto&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    Log.e(TAG,  &quot;err : &quot; + e);\r\n                    loadingBar.dismiss();\r\n    \r\n    \r\n                   // Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\r\n                    relativeLayout.setVisibility(View.VISIBLE);\r\n    \r\n    \r\n                    continueAndNextBtn.setText(&quot;Continue&quot;); //Continue\r\n                    codeText.setVisibility(View.GONE);\r\n    \r\n    \r\n                }\r\n\r\n\r\n**RegistrationActivity:**https://codeshare.io/5wBAzp\r\n\r\n**Build Gradle :app**\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            // Or, if you prefer, you can continue to check for errors in release builds,\r\n            // but continue the build even when errors are found:\r\n            abortOnError false\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.conta.ftof&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:19.3.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:19.3.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:17.4.3&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-database:3.2.2&#39;\r\n        implementation &#39;com.hbb20:ccp:2.1.9&#39;\r\n        implementation &#39;pub.devrel:easypermissions:0.4.0&#39;\r\n        implementation &#39;com.android.support:percent:29.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:19.4.0&#39;\r\n    \r\n    \r\n        implementation &#39;com.google.firebase:firebase-storage:19.1.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.2.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.2.2&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        implementation &#39;com.opentok.android:opentok-android-sdk:2.15.3&#39;\r\n        implementation &#39;pub.devrel:easypermissions:0.4.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics:17.4.3&#39;\r\n    \r\n    }\r\n\r\n**Build Gradle** \r\n\r\n        // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.0.0&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n    \r\n            maven { url &#39;https://maven.google.com&#39;}\r\n            maven { url &#39;https://tokbox.bintray.com/maven&#39;}\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n**errori nei logcat nel DEBUG**\r\n\r\n\r\n            2020-10-14 21:46:16.629 12564-12564/com.conta.ftof E/RegistrationActivity: err : com.google.firebase.FirebaseException: An internal error has occurred. [ Error code:39 ]\r\n            \r\n            2020-10-14 21:46:16.697 2026-4029/? E/Auth: [GoogleAccountDataServiceImpl] getToken() -&gt; BAD_AUTHENTICATION. Account: &lt;ELLIDED:718006122&gt;, App: com.google.android.gms, Service: oauth2:https://www.googleapis.com/auth/emeraldsea.mobileapps.doritos.cookie\r\n            rlv: Long live credential not available.\r\n                at gbq.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\r\n                at gac.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):118)\r\n                at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):235)\r\n                at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):108)\r\n                at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):240)\r\n                at cox.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):5)\r\n                at android.os.Binder.transact(Binder.java:675)\r\n                at csu.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):2)\r\n                at android.os.Binder.transact(Binder.java:675)\r\n                at zyq.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\r\n                at android.os.Binder.execTransact(Binder.java:739)\r\n            \r\n                2020-10-14 21:46:16.718 612-832/? E/BufferQueueProducer: [] mConsumerName == NULL!!!!!!\r\n        2020-10-14 21:46:16.577 688-1286/? E/dubaid: [DubaiUtils.h] parseMessage# Failed to find second tag: uid=\r\n        2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] parsePartialWakelockAcquiredMessage# Failed to parse count: lock=220525660 tag=*gms_scheduler*:internal count=0\r\n        2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] onPartialWakelockAcquireMessage# Failed to parse message\r\n        2020-10-14 21:46:16.580 2664-7832/? E/Volley: [420] BasicNetwork.performRequest: Unexpected response code 503 for https://www.googleapis.com/identitytoolkit/v3/relyingparty/sendVerificationCode?alt=proto&amp;key=AIzaSyA3J5SF6W94IhtZ_dQ6UOVqUhIN133zrhU\r\n    \r\n    2020-10-14 21:46:15.834 1272-3654/? E/WifiService: enforceCanAccessScanResults: hiding ssid and bssidLocation mode is disabled for the device\r\n\r\n","title":"Firebase authentication works only on debug version","body":"<p>I have an app on google play: <a href=\"https://play.google.com/store/apps/details?id=com.conta.ftof\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.conta.ftof</a>\nand I have a big problem. I can't get firebase authentication with phone number to work on the signed version. in fact, it works only with the debug version (when in the release version I insert the number and click the send button, the toast is returned: unknown error) ... Precisely for this reason I can't show the logcats, just because the error alone in the relase version ... Can you help me please? I leave you the code:</p>\n<p><strong>Important lines of registrationactivity</strong></p>\n<pre><code>@Override\n            public void onVerificationFailed(FirebaseException e) {\n\n                if (e instanceof FirebaseAuthInvalidCredentialsException) {\n                    Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else if (e instanceof FirebaseTooManyRequestsException) {\n                    Toast.makeText(RegistrationActivity.this, &quot;Troppe richieste per questo numero di telefono, riprova tra 24h&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                else if (e instanceof FirebaseNetworkException){\n                    Toast.makeText(RegistrationActivity.this, &quot;Errore di rete...&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                else {\n\n                    Toast.makeText(RegistrationActivity.this, &quot;Errore sconosciuto&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                Log.e(TAG,  &quot;err : &quot; + e);\n                loadingBar.dismiss();\n\n\n               // Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\n                relativeLayout.setVisibility(View.VISIBLE);\n\n\n                continueAndNextBtn.setText(&quot;Continue&quot;); //Continue\n                codeText.setVisibility(View.GONE);\n\n\n            }\n</code></pre>\n<p>**RegistrationActivity:**<a href=\"https://codeshare.io/5wBAzp\" rel=\"nofollow noreferrer\">https://codeshare.io/5wBAzp</a></p>\n<p><strong>Build Gradle :app</strong></p>\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n\n    defaultConfig {\n        applicationId &quot;com.conta.ftof&quot;\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-auth:19.3.1'\n    implementation 'com.google.firebase:firebase-database:19.3.0'\n    implementation 'com.google.firebase:firebase-core:17.4.3'\n    implementation 'com.firebaseui:firebase-ui-database:3.2.2'\n    implementation 'com.hbb20:ccp:2.1.9'\n    implementation 'pub.devrel:easypermissions:0.4.0'\n    implementation 'com.android.support:percent:29.0.0'\n    implementation 'com.google.android.gms:play-services-ads:19.4.0'\n\n\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\n    implementation 'com.google.android.material:material:1.1.0'\n    implementation 'androidx.navigation:navigation-fragment:2.2.2'\n    implementation 'androidx.navigation:navigation-ui:2.2.2'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'com.opentok.android:opentok-android-sdk:2.15.3'\n    implementation 'pub.devrel:easypermissions:0.4.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'com.google.firebase:firebase-analytics:17.4.3'\n\n}\n</code></pre>\n<p><strong>Build Gradle</strong></p>\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.0.0&quot;\n        classpath 'com.google.gms:google-services:4.3.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n        maven { url 'https://maven.google.com'}\n        maven { url 'https://tokbox.bintray.com/maven'}\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>errori nei logcat nel DEBUG</strong></p>\n<pre><code>        2020-10-14 21:46:16.629 12564-12564/com.conta.ftof E/RegistrationActivity: err : com.google.firebase.FirebaseException: An internal error has occurred. [ Error code:39 ]\n        \n        2020-10-14 21:46:16.697 2026-4029/? E/Auth: [GoogleAccountDataServiceImpl] getToken() -&gt; BAD_AUTHENTICATION. Account: &lt;ELLIDED:718006122&gt;, App: com.google.android.gms, Service: oauth2:https://www.googleapis.com/auth/emeraldsea.mobileapps.doritos.cookie\n        rlv: Long live credential not available.\n            at gbq.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\n            at gac.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):118)\n            at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):235)\n            at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):108)\n            at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):240)\n            at cox.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):5)\n            at android.os.Binder.transact(Binder.java:675)\n            at csu.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):2)\n            at android.os.Binder.transact(Binder.java:675)\n            at zyq.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\n            at android.os.Binder.execTransact(Binder.java:739)\n        \n            2020-10-14 21:46:16.718 612-832/? E/BufferQueueProducer: [] mConsumerName == NULL!!!!!!\n    2020-10-14 21:46:16.577 688-1286/? E/dubaid: [DubaiUtils.h] parseMessage# Failed to find second tag: uid=\n    2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] parsePartialWakelockAcquiredMessage# Failed to parse count: lock=220525660 tag=*gms_scheduler*:internal count=0\n    2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] onPartialWakelockAcquireMessage# Failed to parse message\n    2020-10-14 21:46:16.580 2664-7832/? E/Volley: [420] BasicNetwork.performRequest: Unexpected response code 503 for https://www.googleapis.com/identitytoolkit/v3/relyingparty/sendVerificationCode?alt=proto&amp;key=AIzaSyA3J5SF6W94IhtZ_dQ6UOVqUhIN133zrhU\n\n2020-10-14 21:46:15.834 1272-3654/? E/WifiService: enforceCanAccessScanResults: hiding ssid and bssidLocation mode is disabled for the device\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667395492,"post_id":74289806,"comment_id":131156474,"body_markdown":"Just for clarification: `Position.stopLossOrder` has `@OneToOne` so does that mean that there is only one &quot;special&quot; position per order as well? Also do your orders really just have 1 position that can be shared between orders? That looks a little odd to me.","body":"Just for clarification: <code>Position.stopLossOrder</code> has <code>@OneToOne</code> so does that mean that there is only one &quot;special&quot; position per order as well? Also do your orders really just have 1 position that can be shared between orders? That looks a little odd to me."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667395704,"post_id":74289806,"comment_id":131156565,"body_markdown":"&quot;sometimes when persisting an order as stopLossOrder it&#39;s not saved to position&quot; - one question you need to ask yourself in those cases is: which side of the relation &quot;owns&quot; it? In the case of one-to-many / many-to-one it&#39;s the &quot;many&quot; side as this is where the foreign key will be persisted. With bidirectional &quot;one-to-one&quot; you need to pay more attitention not to confuse the system - only if you persist the &quot;owning side&quot; of a relation will it make it&#39;s way to the database which means for &quot;stopLossOrder&quot; it would be `Position` and `stopLossOrder` would have to be set.","body":"&quot;sometimes when persisting an order as stopLossOrder it&#39;s not saved to position&quot; - one question you need to ask yourself in those cases is: which side of the relation &quot;owns&quot; it? In the case of one-to-many / many-to-one it&#39;s the &quot;many&quot; side as this is where the foreign key will be persisted. With bidirectional &quot;one-to-one&quot; you need to pay more attitention not to confuse the system - only if you persist the &quot;owning side&quot; of a relation will it make it&#39;s way to the database which means for &quot;stopLossOrder&quot; it would be <code>Position</code> and <code>stopLossOrder</code> would have to be set."},{"owner":{"account_id":20973198,"reputation":1,"user_id":15409873,"display_name":"oneMoreTime"},"score":0,"creation_date":1667396329,"post_id":74289806,"comment_id":131156835,"body_markdown":"@Thomas There are multiple different positions that can be shared or not between orders. For example: order can have a symbol (that can be the same with others orders) and position(symbol is unique per position) using this symbol I can incorporate orders under the specific position","body":"@Thomas There are multiple different positions that can be shared or not between orders. For example: order can have a symbol (that can be the same with others orders) and position(symbol is unique per position) using this symbol I can incorporate orders under the specific position"}],"owner":{"account_id":20973198,"reputation":1,"user_id":15409873,"display_name":"oneMoreTime"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667394988,"creation_date":1667394988,"question_id":74289806,"body_markdown":" I have two enteties and I want to be able access one of them from another and vise versa (bidirectional). But sometimes when persisting an order as stopLossOrder it&#39;s not saved to position. If you have any ideas of how it can be implemented (if it&#39;s possible this way or similar) I would be glad to hear.\r\n\r\nLater on I want to add more orders to position entity similarly to &#39;stopLossOrder&#39;\r\n```\r\n@Entity(name = &quot;Position&quot;)\r\n@Table(name = &quot;positions&quot;)\r\n@Getter @Setter\r\npublic class PositionEntity implements Serializable {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n@OneToOne(fetch = FetchType.LAZY,\r\n        cascade = CascadeType.ALL,\r\n        orphanRemoval = true)\r\n@JoinColumn(name = &quot;stop_loss_order_id&quot;, referencedColumnName = &quot;id&quot;)\r\nprivate OrderEntity stopLossOrder;\r\n\r\n@OneToMany(mappedBy = &quot;position&quot;,\r\n        cascade = CascadeType.ALL,\r\n        fetch = FetchType.LAZY,\r\n        orphanRemoval = true)\r\nprivate Set&lt;OrderEntity&gt; orders = new HashSet&lt;&gt;();\r\n\r\npublic void setStopLossOrder(OrderEntity stopLossOrder) {\r\n    this.stopLossOrder = stopLossOrder;\r\n    stopLossOrder.setPosition(this);\r\n}\r\n\r\npublic boolean addOrder(OrderEntity orderEntity) {\r\n    orderEntity.setPosition(this);\r\n    return orders.add(orderEntity);\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity(name = &quot;Order&quot;)\r\n@Table(name = &quot;orders&quot;)\r\n@Getter\r\n@Setter\r\npublic class OrderEntity implements Serializable {\r\n    @Getter(AccessLevel.NONE)\r\n    @Setter(AccessLevel.NONE)\r\n    private static final long serialVersionUID = -1462587657644552577L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n   @ManyToOne(optional = false)\r\n   private PositionEntity position;\r\n}\r\n```\r\nPersisting:\r\n```\r\nif (orderEntity.getType() == OrderType.STOP_MARKET) {\r\n    positionEntity.setStopLossOrder(orderEntity);\r\n} else {\r\n    boolean isAdded = positionEntity.addOrder(orderEntity);\r\n    if (!isAdded)\r\n        throw new TradeServiceException(&quot;Order with id: &quot; + order.getOrderId() + &quot; already added to position.&quot;);\r\n}\r\n\r\norderEntity = orderRepository.save(orderEntity);\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to map bidirectional @OneToMany and @OneToOne on the same entity","body":"<p>I have two enteties and I want to be able access one of them from another and vise versa (bidirectional). But sometimes when persisting an order as stopLossOrder it's not saved to position. If you have any ideas of how it can be implemented (if it's possible this way or similar) I would be glad to hear.</p>\n<p>Later on I want to add more orders to position entity similarly to 'stopLossOrder'</p>\n<pre><code>@Entity(name = &quot;Position&quot;)\n@Table(name = &quot;positions&quot;)\n@Getter @Setter\npublic class PositionEntity implements Serializable {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n@OneToOne(fetch = FetchType.LAZY,\n        cascade = CascadeType.ALL,\n        orphanRemoval = true)\n@JoinColumn(name = &quot;stop_loss_order_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate OrderEntity stopLossOrder;\n\n@OneToMany(mappedBy = &quot;position&quot;,\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true)\nprivate Set&lt;OrderEntity&gt; orders = new HashSet&lt;&gt;();\n\npublic void setStopLossOrder(OrderEntity stopLossOrder) {\n    this.stopLossOrder = stopLossOrder;\n    stopLossOrder.setPosition(this);\n}\n\npublic boolean addOrder(OrderEntity orderEntity) {\n    orderEntity.setPosition(this);\n    return orders.add(orderEntity);\n}\n\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;Order&quot;)\n@Table(name = &quot;orders&quot;)\n@Getter\n@Setter\npublic class OrderEntity implements Serializable {\n    @Getter(AccessLevel.NONE)\n    @Setter(AccessLevel.NONE)\n    private static final long serialVersionUID = -1462587657644552577L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n   @ManyToOne(optional = false)\n   private PositionEntity position;\n}\n</code></pre>\n<p>Persisting:</p>\n<pre><code>if (orderEntity.getType() == OrderType.STOP_MARKET) {\n    positionEntity.setStopLossOrder(orderEntity);\n} else {\n    boolean isAdded = positionEntity.addOrder(orderEntity);\n    if (!isAdded)\n        throw new TradeServiceException(&quot;Order with id: &quot; + order.getOrderId() + &quot; already added to position.&quot;);\n}\n\norderEntity = orderRepository.save(orderEntity);\n\n</code></pre>\n"},{"tags":["java","spring-boot","sendgrid"],"comments":[{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545037319,"post_id":53810894,"comment_id":94471913,"body_markdown":"What you have posted in question doesn&#39;t match with the problem in hand. The given url is nowhere mentioned in code. Please post what you have tried with the relevant code.","body":"What you have posted in question doesn&#39;t match with the problem in hand. The given url is nowhere mentioned in code. Please post what you have tried with the relevant code."},{"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"score":0,"creation_date":1545037827,"post_id":53810894,"comment_id":94472184,"body_markdown":"Thanks Sangam for your reply.I need code snippet for send grid parser API in Spring boot.like whenever sending any mail to specific domain ex. abc.com.","body":"Thanks Sangam for your reply.I need code snippet for send grid parser API in Spring boot.like whenever sending any mail to specific domain ex. abc.com."},{"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"score":0,"creation_date":1545038014,"post_id":53810894,"comment_id":94472283,"body_markdown":"Sendgrid not sending parsed data to above API.This is the URl I configured in send grid( https://d3a26271.ngrok.io/api/sendGridParse). Is there any thing wrong in my API code?","body":"Sendgrid not sending parsed data to above API.This is the URl I configured in send grid( <a href=\"https://d3a26271.ngrok.io/api/sendGridParse\" rel=\"nofollow noreferrer\">d3a26271.ngrok.io/api/sendGridParse</a>). Is there any thing wrong in my API code?"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545040987,"post_id":53810894,"comment_id":94473963,"body_markdown":"You need to add your relevant key and other details provided by sendgrid in your application.properties. Then it  should send the request to sendGrid server. Also what response you get when the request is sent.?","body":"You need to add your relevant key and other details provided by sendgrid in your application.properties. Then it  should send the request to sendGrid server. Also what response you get when the request is sent.?"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545041036,"post_id":53810894,"comment_id":94473979,"body_markdown":"Take a look at https://dzone.com/articles/integrate-sendgrid-with-a-spring-boot-and-java-app","body":"Take a look at <a href=\"https://dzone.com/articles/integrate-sendgrid-with-a-spring-boot-and-java-app\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"score":0,"creation_date":1545042382,"post_id":53810894,"comment_id":94474713,"body_markdown":"I am asking about  inbound parse API implementation in Spring boot. http://www.altifysoftware.com/receiving-emails-using-sendgrid-inbound-parse-c-webapi2/ like in Spring boot.","body":"I am asking about  inbound parse API implementation in Spring boot. <a href=\"http://www.altifysoftware.com/receiving-emails-using-sendgrid-inbound-parse-c-webapi2/\" rel=\"nofollow noreferrer\">altifysoftware.com/&hellip;</a> like in Spring boot."},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545043632,"post_id":53810894,"comment_id":94475407,"body_markdown":"Please put these facts in question. So anyone else reading question will have clear idea on what exactly you are trying to achieve.","body":"Please put these facts in question. So anyone else reading question will have clear idea on what exactly you are trying to achieve."},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545043880,"post_id":53810894,"comment_id":94475552,"body_markdown":"Post similar request to the your server url from your local machine and check if you are getting the same in your sysout logs...If yes then may be sendgrid is not passing those details in request. One way to check this is to dump entire request in your controller. You will get an idea on what you are getting in request","body":"Post similar request to the your server url from your local machine and check if you are getting the same in your sysout logs...If yes then may be sendgrid is not passing those details in request. One way to check this is to dump entire request in your controller. You will get an idea on what you are getting in request"}],"answers":[{"tags":[],"owner":{"account_id":12660186,"reputation":60,"user_id":9203256,"display_name":"Dumitru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640211594,"creation_date":1640160243,"answer_id":70445916,"question_id":53810894,"body_markdown":"According to this article: https://varunsastrydevulapalli.medium.com/the-sendgrid-inbound-webhook-with-spring-dc7b5bae4e0c,\r\nwe can receive the Inbound Message using this spring controller: \r\n```java\r\n@Controller\r\n@RequestMapping(value = &quot;/messaging&quot;)\r\npublic class InboundMessageController {\r\n@Bean(name = &quot;multipartResolver&quot;)\r\n public CommonsMultipartResolver commonsMultipartResolver() {\r\n CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n commonsMultipartResolver.setDefaultEncoding(&quot;UTF-8&quot;);\r\n commonsMultipartResolver.setMaxUploadSize(5000);\r\n return commonsMultipartResolver;\r\n }\r\n \r\n @RequestMapping(value = &quot;/inbound&quot;, method = {RequestMethod.POST, RequestMethod.HEAD}, consumes = MediaType.MULTIPART_FORM_DATA)\r\n public @ResponseBody\r\n void processInboundSendGridEmails(HttpServletRequest request,\r\n HttpServletResponse response,\r\n @RequestParam(required = false) MultipartFile file,\r\n SendGridInbound sendGridInbound) {\r\n  System.out.println(sendGridInbound);\r\n }\r\n}\r\n\r\npublic class SendGridInbound {\r\n    String headers;\r\n    String dkim;\r\n    String to;\r\n    String html;\r\n    String from;\r\n    String text;\r\n    String sender_ip;\r\n    String spam_report;\r\n    String envelope;\r\n    String attachments;\r\n    String subject;\r\n    String spam_score;\r\n    String attchmentInfo;\r\n    String charsets;\r\n    String spf;\r\n\r\n    //getter setters toString\r\n}\r\n```\r\n\r\nHope it could help.","title":"Sendgrid parse api in spring boot","body":"<p>According to this article: <a href=\"https://varunsastrydevulapalli.medium.com/the-sendgrid-inbound-webhook-with-spring-dc7b5bae4e0c\" rel=\"nofollow noreferrer\">https://varunsastrydevulapalli.medium.com/the-sendgrid-inbound-webhook-with-spring-dc7b5bae4e0c</a>,\nwe can receive the Inbound Message using this spring controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(value = &quot;/messaging&quot;)\npublic class InboundMessageController {\n@Bean(name = &quot;multipartResolver&quot;)\n public CommonsMultipartResolver commonsMultipartResolver() {\n CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n commonsMultipartResolver.setDefaultEncoding(&quot;UTF-8&quot;);\n commonsMultipartResolver.setMaxUploadSize(5000);\n return commonsMultipartResolver;\n }\n \n @RequestMapping(value = &quot;/inbound&quot;, method = {RequestMethod.POST, RequestMethod.HEAD}, consumes = MediaType.MULTIPART_FORM_DATA)\n public @ResponseBody\n void processInboundSendGridEmails(HttpServletRequest request,\n HttpServletResponse response,\n @RequestParam(required = false) MultipartFile file,\n SendGridInbound sendGridInbound) {\n  System.out.println(sendGridInbound);\n }\n}\n\npublic class SendGridInbound {\n    String headers;\n    String dkim;\n    String to;\n    String html;\n    String from;\n    String text;\n    String sender_ip;\n    String spam_report;\n    String envelope;\n    String attachments;\n    String subject;\n    String spam_score;\n    String attchmentInfo;\n    String charsets;\n    String spf;\n\n    //getter setters toString\n}\n</code></pre>\n<p>Hope it could help.</p>\n"}],"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667394988,"creation_date":1545033120,"question_id":53810894,"body_markdown":"How to implement sendgrid parse API in Spring boot.\r\n\r\n**Code :**\r\n\r\n    @RequestMapping(value = &quot;/api/sendGridParse&quot;,method = RequestMethod.POST)\r\n    \tpublic ResponseEntity&lt;APIResponseDTO&gt; sendGridParseDoamin(@ModelAttribute EmailParseDTO emailParseDTO )\t\t\r\n    \t{\t\t\r\n    \t\tAPIResponseDTO _response = new APIResponseDTO();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;emailParseDTO:&quot;+emailParseDTO.toString());\r\n    \t\ttry{\t\t\t\r\n    \t\t\t_response.setMessage(&quot;Success&quot;);\r\n    \t\t\t_response.setStatus(100);\r\n    \t\t}catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t_response.setMessage(&quot;Failed&quot;);\r\n    \t\t\t_response.setStatus(101);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn new ResponseEntity&lt;APIResponseDTO&gt;(_response, HttpStatus.OK);\r\n    \t}\r\n\r\n**EmailParseDTO  :**\r\n\r\n    public class EmailParseDTO {\r\n    \t\r\n    \tint attachments;\r\n    \tString charsets; \r\n    \tString from; \r\n    \tString headers; \r\n    \tString html; \r\n    \tString subject; \r\n    \tString envelope; \r\n    \tString text; \r\n    \tString to; \r\n    \tString cc;\r\n    //setter and getter\r\n\r\nbut it&#39;s not send parsed data to above url.\r\n\r\n&gt; ex: https://d3a26271.ngrok.io/api/sendGridParse","title":"Sendgrid parse api in spring boot","body":"<p>How to implement sendgrid parse API in Spring boot.</p>\n\n<p><strong>Code :</strong></p>\n\n<pre><code>@RequestMapping(value = \"/api/sendGridParse\",method = RequestMethod.POST)\n    public ResponseEntity&lt;APIResponseDTO&gt; sendGridParseDoamin(@ModelAttribute EmailParseDTO emailParseDTO )     \n    {       \n        APIResponseDTO _response = new APIResponseDTO();\n\n        System.out.println(\"emailParseDTO:\"+emailParseDTO.toString());\n        try{            \n            _response.setMessage(\"Success\");\n            _response.setStatus(100);\n        }catch (Exception e) {\n            e.printStackTrace();\n            _response.setMessage(\"Failed\");\n            _response.setStatus(101);\n\n        }\n        return new ResponseEntity&lt;APIResponseDTO&gt;(_response, HttpStatus.OK);\n    }\n</code></pre>\n\n<p><strong>EmailParseDTO  :</strong></p>\n\n<pre><code>public class EmailParseDTO {\n\n    int attachments;\n    String charsets; \n    String from; \n    String headers; \n    String html; \n    String subject; \n    String envelope; \n    String text; \n    String to; \n    String cc;\n//setter and getter\n</code></pre>\n\n<p>but it's not send parsed data to above url.</p>\n\n<blockquote>\n  <p>ex: <a href=\"https://d3a26271.ngrok.io/api/sendGridParse\" rel=\"nofollow noreferrer\">https://d3a26271.ngrok.io/api/sendGridParse</a></p>\n</blockquote>\n"},{"tags":["java","eclipse","dependency-management","classnotfoundexception"],"comments":[{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":0,"creation_date":1667333858,"post_id":74281255,"comment_id":131142095,"body_markdown":"The missing class `LoggerFactory` is in `slf4j-api-2.0.3.jar` so you aren&#39;t missing any dependency.  The issue seems to be that your dependencies aren&#39;t on your build path.\nDid you refresh your project after adding these dependencies?  If not, that could be your solution","body":"The missing class <code>LoggerFactory</code> is in <code>slf4j-api-2.0.3.jar</code> so you aren&#39;t missing any dependency.  The issue seems to be that your dependencies aren&#39;t on your build path. Did you refresh your project after adding these dependencies?  If not, that could be your solution"},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667334540,"post_id":74281255,"comment_id":131142271,"body_markdown":"Now I changed  the dependencies in my build path, did refresh but I&#39;m still getting the same error","body":"Now I changed  the dependencies in my build path, did refresh but I&#39;m still getting the same error"},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667334807,"post_id":74281255,"comment_id":131142338,"body_markdown":"Something I would like to notice. When I hover my mouse on the imports, I&#39;m getting the following message &quot;Note: This element neither has attached source nor attached Javadoc and hence no Javadoc could be found&quot;","body":"Something I would like to notice. When I hover my mouse on the imports, I&#39;m getting the following message &quot;Note: This element neither has attached source nor attached Javadoc and hence no Javadoc could be found&quot;"},{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":1,"creation_date":1667335522,"post_id":74281255,"comment_id":131142523,"body_markdown":"Can you import the class `LoggerFactory` directly in your code without getting compilation errors?  If so, then your issue is only at runtime - how are you running your code and what is the CLASSPATH variable?\nIf you do get compilation errors, then the problem is likely the jar file itself.  I would redownload it and import it into eclipse again","body":"Can you import the class <code>LoggerFactory</code> directly in your code without getting compilation errors?  If so, then your issue is only at runtime - how are you running your code and what is the CLASSPATH variable? If you do get compilation errors, then the problem is likely the jar file itself.  I would redownload it and import it into eclipse again"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":2,"creation_date":1667336774,"post_id":74281255,"comment_id":131142867,"body_markdown":"You may have added them to your &quot;Build Path&quot; in eclipse (which is why you can compile) but they must be on your &quot;Class Path&quot; at run time.  Look for the `.classPath` file in your project root.  Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there.   To save yourself trouble in the future, use a dependency manager like Maven or Gradle that does this stuff for you automagically!","body":"You may have added them to your &quot;Build Path&quot; in eclipse (which is why you can compile) but they must be on your &quot;Class Path&quot; at run time.  Look for the <code>.classPath</code> file in your project root.  Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there.   To save yourself trouble in the future, use a dependency manager like Maven or Gradle that does this stuff for you automagically!"},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667340271,"post_id":74281255,"comment_id":131143734,"body_markdown":"You were both right! The problem was in the classpath, it was completely empty! Now I added the dependencies in the classpath and now it seems that is working","body":"You were both right! The problem was in the classpath, it was completely empty! Now I added the dependencies in the classpath and now it seems that is working"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1667343657,"post_id":74281255,"comment_id":131144348,"body_markdown":"@HansRicardoDavilaAcu&#241;a Eclipse can sometimes be picky that way.  Do yourself a favor and set up your project using Maven.  (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff.  (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over.","body":"@HansRicardoDavilaAcu&#241;a Eclipse can sometimes be picky that way.  Do yourself a favor and set up your project using Maven.  (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff.  (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over."},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667365860,"post_id":74281255,"comment_id":131147580,"body_markdown":"@DanielWiddis I did a test in gradle with Intellij IDEA and it was very easy to get Oshi dependencies running. Anyway I&#39;ll also try maven because it seems like the way to go.","body":"@DanielWiddis I did a test in gradle with Intellij IDEA and it was very easy to get Oshi dependencies running. Anyway I&#39;ll also try maven because it seems like the way to go."}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667394922,"creation_date":1667394922,"answer_id":74289791,"question_id":74281255,"body_markdown":"The issue here is the classpath.  The dependencies are added to your build path which allows your code to compile but not to your classpath which is where you need them for your code to run.\r\n\r\nAs Daniel said\r\n\r\n&gt; Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there\r\n\r\nAlso Daniel&#39;s suggestion\r\n\r\n&gt;  Do yourself a favor and set up your project using Maven. (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff. (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over\r\n\r\nis very apt","title":"ClassNotFoundException for dependencies on java project in Eclipse","body":"<p>The issue here is the classpath.  The dependencies are added to your build path which allows your code to compile but not to your classpath which is where you need them for your code to run.</p>\n<p>As Daniel said</p>\n<blockquote>\n<p>Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there</p>\n</blockquote>\n<p>Also Daniel's suggestion</p>\n<blockquote>\n<p>Do yourself a favor and set up your project using Maven. (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff. (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over</p>\n</blockquote>\n<p>is very apt</p>\n"}],"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667394922,"creation_date":1667333177,"question_id":74281255,"body_markdown":"I want to get my PC specs with a java program. I&#39;m trying to make use of Oshi library to get this done but I am having problems implementing the dependencies on my project\r\n\r\nI want to simply run this\r\n\r\n\r\n```java\r\nSystemInfo systemInfo = new SystemInfo();\r\nHardwareAbstractionLayer hardware = systemInfo.getHardware();\r\nCentralProcessor processor = hardware.getProcessor();\r\n\r\nSystem.out.println(processor.toString());\r\n```\r\n\r\nbut I&#39;m getting this error:\r\n[![enter image description here](https://i.stack.imgur.com/N4Bkl.png)](https://i.stack.imgur.com/N4Bkl.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have added these dependencies from this link: https://search.maven.org/artifact/com.github.oshi/oshi-core/6.3.1/jar\r\n\r\n\r\nHere is a picture of the Project Explorer\r\n[Project Explorer][1]\r\n\r\nI&#39;m pretty sure that I&#39;m doing something wrong with the dependencies, maybe I am not getting the proper dependencies but I want to know what is happening or exactly which jars I need to add to get Oshi running on my java project\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lm7gS.png\r\n  [2]: https://i.stack.imgur.com/VOHBK.png","title":"ClassNotFoundException for dependencies on java project in Eclipse","body":"<p>I want to get my PC specs with a java program. I'm trying to make use of Oshi library to get this done but I am having problems implementing the dependencies on my project</p>\n<p>I want to simply run this</p>\n<pre class=\"lang-java prettyprint-override\"><code>SystemInfo systemInfo = new SystemInfo();\nHardwareAbstractionLayer hardware = systemInfo.getHardware();\nCentralProcessor processor = hardware.getProcessor();\n\nSystem.out.println(processor.toString());\n</code></pre>\n<p>but I'm getting this error:\n<a href=\"https://i.stack.imgur.com/N4Bkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4Bkl.png\" alt=\"enter image description here\" /></a></p>\n<p>I have added these dependencies from this link: <a href=\"https://search.maven.org/artifact/com.github.oshi/oshi-core/6.3.1/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.github.oshi/oshi-core/6.3.1/jar</a></p>\n<p>Here is a picture of the Project Explorer\n<a href=\"https://i.stack.imgur.com/lm7gS.png\" rel=\"nofollow noreferrer\">Project Explorer</a></p>\n<p>I'm pretty sure that I'm doing something wrong with the dependencies, maybe I am not getting the proper dependencies but I want to know what is happening or exactly which jars I need to add to get Oshi running on my java project</p>\n"},{"tags":["java","git","eclipse","ssh","egit"],"comments":[{"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":2,"creation_date":1667321042,"post_id":74278792,"comment_id":131138072,"body_markdown":"Do you have git installed in the server?... and if it is, is it properly configured so that it is reachable through the `$PATH`?","body":"Do you have git installed in the server?... and if it is, is it properly configured so that it is reachable through the <code>$PATH</code>?"},{"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"score":0,"creation_date":1667335693,"post_id":74278792,"comment_id":131142565,"body_markdown":"Yes, I installed git on the server and used the Git CLI to initiate the bare repository.\n\nBy &quot;reachable through the $Path&quot; I am assuming you are asking if the environment variable is set? I have both &quot;C:\\Program Files\\Git\\cmd&quot; and &quot;C:\\Program Files\\Git\\bin\\&quot; in the server&#39;s Path environment variable.","body":"Yes, I installed git on the server and used the Git CLI to initiate the bare repository.  By &quot;reachable through the $Path&quot; I am assuming you are asking if the environment variable is set? I have both &quot;C:\\Program Files\\Git\\cmd&quot; and &quot;C:\\Program Files\\Git\\bin\\&quot; in the server&#39;s Path environment variable."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667382600,"post_id":74278792,"comment_id":131151964,"body_markdown":"The error message (`&#39;git-upload-pack&#39; is not recognized...`) indicates a faulty installation, such that the command interpreter on the destination system can&#39;t find the installed Git. Whether that means that Git is installed in the *wrong place*, or whether it means that the ssh *server* is misconfigured, depends on how you want the server to work. I don&#39;t set up Windows servers (ever: I avoid Windows as much as I can) so I can&#39;t go past this sort of general comment, though.","body":"The error message (<code>&#39;git-upload-pack&#39; is not recognized...</code>) indicates a faulty installation, such that the command interpreter on the destination system can&#39;t find the installed Git. Whether that means that Git is installed in the <i>wrong place</i>, or whether it means that the ssh <i>server</i> is misconfigured, depends on how you want the server to work. I don&#39;t set up Windows servers (ever: I avoid Windows as much as I can) so I can&#39;t go past this sort of general comment, though."},{"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"score":0,"creation_date":1667391772,"post_id":74278792,"comment_id":131155113,"body_markdown":"@torek If I ssh to the server from my PC&#39;s command line and then type in &quot;git&quot; I receive the list of available commands. Doing the same directly on my PC&#39;s command line and on the server&#39;s command line produces the same result.","body":"@torek If I ssh to the server from my PC&#39;s command line and then type in &quot;git&quot; I receive the list of available commands. Doing the same directly on my PC&#39;s command line and on the server&#39;s command line produces the same result."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667391942,"post_id":74278792,"comment_id":131155172,"body_markdown":"But if you ssh in *as Git*, what happens? If you ssh in as yourself, presumably you get your own path setup. (This smells like a Windows registry issue to me, but again, I don&#39;t &quot;do&quot; Windows.)","body":"But if you ssh in <i>as Git</i>, what happens? If you ssh in as yourself, presumably you get your own path setup. (This smells like a Windows registry issue to me, but again, I don&#39;t &quot;do&quot; Windows.)"},{"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"score":0,"creation_date":1667393692,"post_id":74278792,"comment_id":131155756,"body_markdown":"@torek Was I supposed to setup a Git user? Sorry, I&#39;m completely new to this. In my example URI in eclipse, the user I used was my domain user, so I figured it would be doing things as my account.","body":"@torek Was I supposed to setup a Git user? Sorry, I&#39;m completely new to this. In my example URI in eclipse, the user I used was my domain user, so I figured it would be doing things as my account."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667395748,"post_id":74278792,"comment_id":131156584,"body_markdown":"Depends on the desired setup. But: if you&#39;re planning to log in as yourself, and `git-upload-pack` isn&#39;t being found but `git` is, this just means that your personal setup doesn&#39;t have the `git-upload-pack` program in its path. There was some confusion, briefly, at one point as to whether this was supposed to be `git upload-pack` or `git-upload-pack` but it should be installed under `git-upload-pack` in the same place as the `git` binary.","body":"Depends on the desired setup. But: if you&#39;re planning to log in as yourself, and <code>git-upload-pack</code> isn&#39;t being found but <code>git</code> is, this just means that your personal setup doesn&#39;t have the <code>git-upload-pack</code> program in its path. There was some confusion, briefly, at one point as to whether this was supposed to be <code>git upload-pack</code> or <code>git-upload-pack</code> but it should be installed under <code>git-upload-pack</code> in the same place as the <code>git</code> binary."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667395885,"post_id":74278792,"comment_id":131156647,"body_markdown":"Note that `git foo` actually invokes `git-foo` &quot;under the covers&quot;, as it were, so in general there&#39;s a hyphen variety of each command installed *somewhere*. But most of them are in the (separate) `git --exec-path` location. The confusion over the hyphenated `git-upload-pack` was whether all shell users would be able to find the command if it were spelled without the hyphen (and the answer is &quot;no&quot;, so `git-upload-pack` has to continue to exist in the same place as `git`).","body":"Note that <code>git foo</code> actually invokes <code>git-foo</code> &quot;under the covers&quot;, as it were, so in general there&#39;s a hyphen variety of each command installed <i>somewhere</i>. But most of them are in the (separate) <code>git --exec-path</code> location. The confusion over the hyphenated <code>git-upload-pack</code> was whether all shell users would be able to find the command if it were spelled without the hyphen (and the answer is &quot;no&quot;, so <code>git-upload-pack</code> has to continue to exist in the same place as <code>git</code>)."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667396016,"post_id":74278792,"comment_id":131156694,"body_markdown":"Windows might be different here, but note that on a Unix-ish system, `ssh host` to get an interactive shell, followed by running `program`, can often be different from `ssh host program`: the former invokes a *non-interactive* shell on the given host and that non-interactive shell may (e.g.) read `.profile` but not `.bashrc`, while the interactive one might read both. The details depend on the user&#39;s shell, and potentially more.","body":"Windows might be different here, but note that on a Unix-ish system, <code>ssh host</code> to get an interactive shell, followed by running <code>program</code>, can often be different from <code>ssh host program</code>: the former invokes a <i>non-interactive</i> shell on the given host and that non-interactive shell may (e.g.) read <code>.profile</code> but not <code>.bashrc</code>, while the interactive one might read both. The details depend on the user&#39;s shell, and potentially more."}],"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667394598,"creation_date":1667319389,"question_id":74278792,"body_markdown":"I am new to git, and version control in general, and am trying to implement it for my team of three developers. We are the only developers for our agency.\r\n\r\nI am trying to make the setup as simple as possible to just get the ball rolling. My plan is that we will use EGIT in Eclipse (Spring Tool Suite), with each person running off a local repository for developing and then pushing to a remote repository on a Windows share. I was planning to use SSH to facilitate push/pull between our work PCs and the Server so that I do not have to do any site setup and it seemed easiest while still having authentication.\r\n\r\nI have added EGit to Eclipse on my work PC and followed the process to getting a project shared and having the initial commit on my local repository.\r\n\r\nI installed OpenSSH on my Windows 2012R2 server, installed Git on it, and initiated a bare repository inside a folder in the share I wish to use as the remote repository.\r\n\r\nHere is my remote repository setup in Eclipse:\r\n```\r\nURI: ssh://domain\\user@server:22/share/git/repositories\r\nHost: server\r\nRepository path: share/git/repositories\r\nProtocol: ssh\r\nPort: 22\r\nAuthentication: currently using username and password, will eventually switch to SSH key once I get things working\r\n```\r\n\r\n\r\nWhen I try to run the preview I get the following error:\r\n\r\n```\r\n&quot;Transport Error: Cannot get remote repository refs. &#39;ssh://domain\\user@server:22/share/git/repositories&quot;: &#39;git-upload-pack&#39; is not recognized as an internal or external command, operable program or batch file.&quot;\r\n```\r\n\r\nI&#39;d appreciate help and recommendations to getting things going in a basic setup.\r\n\r\nThanks","title":"Setup Eclipse EGit to Push to Windows Share Over SSH","body":"<p>I am new to git, and version control in general, and am trying to implement it for my team of three developers. We are the only developers for our agency.</p>\n<p>I am trying to make the setup as simple as possible to just get the ball rolling. My plan is that we will use EGIT in Eclipse (Spring Tool Suite), with each person running off a local repository for developing and then pushing to a remote repository on a Windows share. I was planning to use SSH to facilitate push/pull between our work PCs and the Server so that I do not have to do any site setup and it seemed easiest while still having authentication.</p>\n<p>I have added EGit to Eclipse on my work PC and followed the process to getting a project shared and having the initial commit on my local repository.</p>\n<p>I installed OpenSSH on my Windows 2012R2 server, installed Git on it, and initiated a bare repository inside a folder in the share I wish to use as the remote repository.</p>\n<p>Here is my remote repository setup in Eclipse:</p>\n<pre><code>URI: ssh://domain\\user@server:22/share/git/repositories\nHost: server\nRepository path: share/git/repositories\nProtocol: ssh\nPort: 22\nAuthentication: currently using username and password, will eventually switch to SSH key once I get things working\n</code></pre>\n<p>When I try to run the preview I get the following error:</p>\n<pre><code>&quot;Transport Error: Cannot get remote repository refs. 'ssh://domain\\user@server:22/share/git/repositories&quot;: 'git-upload-pack' is not recognized as an internal or external command, operable program or batch file.&quot;\n</code></pre>\n<p>I'd appreciate help and recommendations to getting things going in a basic setup.</p>\n<p>Thanks</p>\n"},{"tags":["java","checksum"],"comments":[{"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"score":0,"creation_date":1667385841,"post_id":74284957,"comment_id":131153183,"body_markdown":"now check the question","body":"now check the question"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1667392507,"post_id":74284957,"comment_id":131155368,"body_markdown":"OK now it makes more sense. Do you have any hints about what kind of checksum it could be? Whatever it is, it shouldn&#39;t be a crc32, since those are not 8bit and using 8 bits from a crc32 makes very little sense. I expected it to be either a simple sums of the bytes, or the XOR (these are common for 8 bit checksums), but they didn&#39;t give me 5B. It&#39;s not clear which subset of the bytes is supposed to checksummed either, maybe all of it? Or skip header? Only payload?","body":"OK now it makes more sense. Do you have any hints about what kind of checksum it could be? Whatever it is, it shouldn&#39;t be a crc32, since those are not 8bit and using 8 bits from a crc32 makes very little sense. I expected it to be either a simple sums of the bytes, or the XOR (these are common for 8 bit checksums), but they didn&#39;t give me 5B. It&#39;s not clear which subset of the bytes is supposed to checksummed either, maybe all of it? Or skip header? Only payload?"},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1667396992,"post_id":74284957,"comment_id":131157128,"body_markdown":"Without knowing which protocol is involved, it is probably not possible to calculate the checksum. How to convert a hex-decimal string into a byte array with Java looks like a secondary problem. (Which there are several SO questions and answers)","body":"Without knowing which protocol is involved, it is probably not possible to calculate the checksum. How to convert a hex-decimal string into a byte array with Java looks like a secondary problem. (Which there are several SO questions and answers)"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667394533,"creation_date":1667386551,"answer_id":74288063,"question_id":74284957,"body_markdown":"The problem is that the `value` seems to be a hexadecimal representation of bytes, 2 characters forming one byte value in base 16; &quot;5A&quot; = (byte) 170. To get those bytes:\r\n\r\n    byte[] bytes = new BigInteger(value, 16).toByteArray();\r\n\r\nNote that this hacky conversion requires that the value does not start with &quot;00&quot;.\r\n\r\nAs I believe that checksums of two arrays where one has preceeding zeroes are different:\r\n\r\n    int zeroes = 58 - bytes.length;\r\n    if (zeroes &gt; 0) {\r\n        byte[] bytes2 = new byte[58];\r\n        System.arraycopy(bytes, 0, bytes2, zeroes, bytes.length);\r\n        bytes = bytes2;\r\n    }\r\n\r\n----------------------------------\r\n***After comment, some further research:***\r\n\r\nHex conversion best done with:\r\n\r\n        final int N = value.length() / 2;\r\n        byte[] bytes = new byte[N];\r\n        for (int i = 0; i &lt; N; ++i) {\r\n            bytes[i] = (byte)Integer.parseInt(value.substring(i*2, i*2 + 2), 16);\r\n        }\r\n\r\nI tried CRC8 as that would give an 8 bit result. Did not work.\r\nShort endianness (endian byte order) also did not work.\r\n\r\nThe CRC32 gives 0x8a82c8cb which cannot easily be converted to 0x5b\r\n\r\nThat the checksum is a single byte value is hard to believe. Hence my conjecture for CRC8.\r\n\r\nSometimes precalculated CRC32 tables are used, and those may vary.\r\n\r\n**No solution here!**","title":"How to find 58 bytes of hexa checksum in java","body":"<p>The problem is that the <code>value</code> seems to be a hexadecimal representation of bytes, 2 characters forming one byte value in base 16; &quot;5A&quot; = (byte) 170. To get those bytes:</p>\n<pre><code>byte[] bytes = new BigInteger(value, 16).toByteArray();\n</code></pre>\n<p>Note that this hacky conversion requires that the value does not start with &quot;00&quot;.</p>\n<p>As I believe that checksums of two arrays where one has preceeding zeroes are different:</p>\n<pre><code>int zeroes = 58 - bytes.length;\nif (zeroes &gt; 0) {\n    byte[] bytes2 = new byte[58];\n    System.arraycopy(bytes, 0, bytes2, zeroes, bytes.length);\n    bytes = bytes2;\n}\n</code></pre>\n<hr />\n<p><em><strong>After comment, some further research:</strong></em></p>\n<p>Hex conversion best done with:</p>\n<pre><code>    final int N = value.length() / 2;\n    byte[] bytes = new byte[N];\n    for (int i = 0; i &lt; N; ++i) {\n        bytes[i] = (byte)Integer.parseInt(value.substring(i*2, i*2 + 2), 16);\n    }\n</code></pre>\n<p>I tried CRC8 as that would give an 8 bit result. Did not work.\nShort endianness (endian byte order) also did not work.</p>\n<p>The CRC32 gives 0x8a82c8cb which cannot easily be converted to 0x5b</p>\n<p>That the checksum is a single byte value is hard to believe. Hence my conjecture for CRC8.</p>\n<p>Sometimes precalculated CRC32 tables are used, and those may vary.</p>\n<p><strong>No solution here!</strong></p>\n"}],"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667394533,"creation_date":1667369017,"question_id":74284957,"body_markdown":"I want to know how to find  Hexa checksum using java code\r\n\r\n`5AA50000000100000001000100020003000400050006000700080009001000110012001300140015001600170018001900200021002200230024`\r\n\r\n​\r\n\r\n\r\nI tried using checksum interface it returns a long value\r\n\r\n\r\n```\r\nbyte[] bytes=value.getBytes();\r\nChecksum cs = new CRC32();\r\n       \r\n   cs.update(bytes, 0, bytes.length);\r\n  System.out.println(cs.getValue()+&quot;check sum&quot;);\r\n```\r\n\r\n​\r\nHeader(10)\tStart Byte(2)\tSource Addr(4)\tDestination Addr(4)\r\nPayload (48)\tData1 - Data24\r\nChecksum(1)\tLeast 8bit of 58Byte Sum Value\r\nEndByte(1)\t0x20\r\n\r\n\r\nhow to achieve 5B as a checksum","title":"How to find 58 bytes of hexa checksum in java","body":"<p>I want to know how to find  Hexa checksum using java code</p>\n<p><code>5AA50000000100000001000100020003000400050006000700080009001000110012001300140015001600170018001900200021002200230024</code></p>\n<p>​</p>\n<p>I tried using checksum interface it returns a long value</p>\n<pre><code>byte[] bytes=value.getBytes();\nChecksum cs = new CRC32();\n       \n   cs.update(bytes, 0, bytes.length);\n  System.out.println(cs.getValue()+&quot;check sum&quot;);\n</code></pre>\n<p>​\nHeader(10)  Start Byte(2)   Source Addr(4)  Destination Addr(4)\nPayload (48)    Data1 - Data24\nChecksum(1) Least 8bit of 58Byte Sum Value\nEndByte(1)  0x20</p>\n<p>how to achieve 5B as a checksum</p>\n"},{"tags":["java","rest","http","device"],"comments":[{"owner":{"account_id":5156185,"reputation":401,"user_id":4129371,"display_name":"Fawkes"},"score":0,"creation_date":1667286812,"post_id":74272477,"comment_id":131127175,"body_markdown":"Taking an optional parameter is the better option.","body":"Taking an optional parameter is the better option."},{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1667316898,"post_id":74272477,"comment_id":131136562,"body_markdown":"I&#39;m voting to close this question since it is asking multiple questions and both are matters of opinion and thus off-topic.","body":"I&#39;m voting to close this question since it is asking multiple questions and both are matters of opinion and thus off-topic."},{"owner":{"account_id":14210239,"reputation":83,"user_id":10265682,"display_name":"Heisenberg"},"score":0,"creation_date":1667392383,"post_id":74272477,"comment_id":131155320,"body_markdown":"Aren&#39;t software design patterns based on opinion? Aren&#39;t many of the best practices of REST?\n\nI know the policy here at stack overflow, but I don&#39;t get why asking for best practices from others from the industry is not allowed.\n\nThanks for all who replied.","body":"Aren&#39;t software design patterns based on opinion? Aren&#39;t many of the best practices of REST?  I know the policy here at stack overflow, but I don&#39;t get why asking for best practices from others from the industry is not allowed.  Thanks for all who replied."}],"answers":[{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667394468,"creation_date":1667310500,"answer_id":74276937,"question_id":74272477,"body_markdown":"Normally I would just return the following JSON:\r\n\r\n    {\r\n      &quot;device_type&quot;: &quot;ABC&quot;,\r\n      &quot;device_name&quot;: &quot;XYZ&quot;,\r\n      ...\r\n      &quot;status&quot;: &quot;operational&quot;\r\n    }\r\n\r\nIf the clients are badly written, then this might break them. If this is a problem, then add a new endpoint:\r\n\r\n    GET /device/{device_name}?verbose=true\r\n    GET /device/{device_name}/status\r\n    GET /device/{device_name}/with-status\r\n    GET /device/{device_name}?with-status=true\r\n\r\nAnother option is versioning the API and do\r\n\r\n\r\n    GET api/v1/device/{device_name}\r\n    GET api/v2/device/{device_name}\r\n\r\nI would not use header for this.","title":"Need suggestion in deciding the type of the parameter(query/header) in an existing REST API","body":"<p>Normally I would just return the following JSON:</p>\n<pre><code>{\n  &quot;device_type&quot;: &quot;ABC&quot;,\n  &quot;device_name&quot;: &quot;XYZ&quot;,\n  ...\n  &quot;status&quot;: &quot;operational&quot;\n}\n</code></pre>\n<p>If the clients are badly written, then this might break them. If this is a problem, then add a new endpoint:</p>\n<pre><code>GET /device/{device_name}?verbose=true\nGET /device/{device_name}/status\nGET /device/{device_name}/with-status\nGET /device/{device_name}?with-status=true\n</code></pre>\n<p>Another option is versioning the API and do</p>\n<pre><code>GET api/v1/device/{device_name}\nGET api/v2/device/{device_name}\n</code></pre>\n<p>I would not use header for this.</p>\n"}],"owner":{"account_id":14210239,"reputation":83,"user_id":10265682,"display_name":"Heisenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667331761,"accepted_answer_id":74276937,"answer_count":1,"score":-2,"last_activity_date":1667394468,"creation_date":1667285758,"question_id":74272477,"body_markdown":"We have a REST GET endpoint that returns device details. Something like this.\r\n\r\n    GET /device/{device_name}\r\n\r\n**Response:**\r\n\r\n    {\r\n      &quot;device_type&quot;: &quot;ABC&quot;,\r\n      &quot;device_name&quot;: &quot;XYZ&quot;,\r\n      ...\r\n    }\r\n\r\n**Requirement**\r\n\r\nThere is a requirement to send back the device status as well. We need to do that without breaking existing contract.\r\n\r\n**My Solution**\r\n\r\nWe will take an additional optional parameter to initiate the device status check and the status will be returned in the response. This will be completely optional field so won&#39;t break the existing contract.\r\n\r\n**My Dilemma**\r\n\r\nSince query parameter is generally used to filter the response, I am inclined to take this parameter in the request header.\r\n\r\n**I need your inputs in** \r\n\r\nSuggesting whether this should be a query or header parameter.\r\n\r\n**Thanks in advance!**\r\n\r\n**Update**\r\n\r\nI have decided to use query parameter, because my need resembles to sort of filtering the attributes of the resource based on optional parameter.\r\n\r\nSomething like this:\r\n\r\n    GET /device/{device_name}?status=true\r\n\r\n","title":"Need suggestion in deciding the type of the parameter(query/header) in an existing REST API","body":"<p>We have a REST GET endpoint that returns device details. Something like this.</p>\n<pre><code>GET /device/{device_name}\n</code></pre>\n<p><strong>Response:</strong></p>\n<pre><code>{\n  &quot;device_type&quot;: &quot;ABC&quot;,\n  &quot;device_name&quot;: &quot;XYZ&quot;,\n  ...\n}\n</code></pre>\n<p><strong>Requirement</strong></p>\n<p>There is a requirement to send back the device status as well. We need to do that without breaking existing contract.</p>\n<p><strong>My Solution</strong></p>\n<p>We will take an additional optional parameter to initiate the device status check and the status will be returned in the response. This will be completely optional field so won't break the existing contract.</p>\n<p><strong>My Dilemma</strong></p>\n<p>Since query parameter is generally used to filter the response, I am inclined to take this parameter in the request header.</p>\n<p><strong>I need your inputs in</strong></p>\n<p>Suggesting whether this should be a query or header parameter.</p>\n<p><strong>Thanks in advance!</strong></p>\n<p><strong>Update</strong></p>\n<p>I have decided to use query parameter, because my need resembles to sort of filtering the attributes of the resource based on optional parameter.</p>\n<p>Something like this:</p>\n<pre><code>GET /device/{device_name}?status=true\n</code></pre>\n"},{"tags":["java","spring","multithreading","redis"],"answers":[{"tags":[],"owner":{"account_id":11147855,"reputation":121,"user_id":8182038,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1499835735,"creation_date":1499835735,"answer_id":45048793,"question_id":44626474,"body_markdown":"We have been able to reproduce the issue and the cause is &quot;timeout=30&quot; setting in Redis.\r\nScenario\r\n-\r\n 1. Connection is idle for 30seconds and Redis kills the same. \r\n 2. Before &quot;Redis connection factory&quot; in application detects the broken\r\n    connection, it gets allocation for read or write request \r\n 3. Code\r\n    tries to use this connection but as it is broken, it is unable to\r\n    send command for read/write. Thus we get &quot;JedisConnectionException:\r\n    Unexpected end of stream&quot; exception\r\n\r\nSolution\r\n-\r\n 1. set Redis timeout to Zero \r\n 2. Using custom JedisPoolConfig set\r\n    the minEvictableIdleTimeMillis to desired value. This will ensure\r\n    idle connections are released from Jedis connection pool\r\n\r\n","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>We have been able to reproduce the issue and the cause is \"timeout=30\" setting in Redis.</p>\n\n<h2>Scenario</h2>\n\n<ol>\n<li>Connection is idle for 30seconds and Redis kills the same. </li>\n<li>Before \"Redis connection factory\" in application detects the broken\nconnection, it gets allocation for read or write request </li>\n<li>Code\ntries to use this connection but as it is broken, it is unable to\nsend command for read/write. Thus we get \"JedisConnectionException:\nUnexpected end of stream\" exception</li>\n</ol>\n\n<h2>Solution</h2>\n\n<ol>\n<li>set Redis timeout to Zero </li>\n<li>Using custom JedisPoolConfig set\nthe minEvictableIdleTimeMillis to desired value. This will ensure\nidle connections are released from Jedis connection pool</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620318354,"creation_date":1620318354,"answer_id":67422252,"question_id":44626474,"body_markdown":"For those guys, who runs redis in docker: do not forget to bind it to `0.0.0.0` instead of `127.0.0.1`","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>For those guys, who runs redis in docker: do not forget to bind it to <code>0.0.0.0</code> instead of <code>127.0.0.1</code></p>\n"},{"tags":[],"owner":{"account_id":6529983,"reputation":108,"user_id":5051422,"display_name":"Murali Krishnamraju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667394292,"creation_date":1667394292,"answer_id":74289646,"question_id":44626474,"body_markdown":"I&#39;m posting this answer just for the purpose of knowledge as this is one of the possible scenario\r\n\r\nSince you are using Pub Sub mechanism, one of the possible reason for this error is that input/output buffer of the application is more than the configured limit of the redis application\r\n\r\n\r\nRedis has the hard limit of the 32mb and soft limit of 8mb for 60 seconds as per the redis [documentation][1]. So by changing the configuration we can get large throughput of data in redis pub sub mechanism.\r\n\r\nYou just have to update the configuraiton value of the below key\r\n\r\n&gt; client-output-buffer-limit pubsub\r\n\r\nto a larger value. \r\n\r\n\r\n  [1]: https://redis.io/docs/reference/clients/#:~:text=Pub%2FSub%20clients%20have%20a,64%20megabyte%20per%2060%20seconds.","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>I'm posting this answer just for the purpose of knowledge as this is one of the possible scenario</p>\n<p>Since you are using Pub Sub mechanism, one of the possible reason for this error is that input/output buffer of the application is more than the configured limit of the redis application</p>\n<p>Redis has the hard limit of the 32mb and soft limit of 8mb for 60 seconds as per the redis <a href=\"https://redis.io/docs/reference/clients/#:%7E:text=Pub%2FSub%20clients%20have%20a,64%20megabyte%20per%2060%20seconds.\" rel=\"nofollow noreferrer\">documentation</a>. So by changing the configuration we can get large throughput of data in redis pub sub mechanism.</p>\n<p>You just have to update the configuraiton value of the below key</p>\n<blockquote>\n<p>client-output-buffer-limit pubsub</p>\n</blockquote>\n<p>to a larger value.</p>\n"}],"owner":{"account_id":11147855,"reputation":121,"user_id":8182038,"display_name":"Mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10858,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45048793,"answer_count":3,"score":5,"last_activity_date":1667394292,"creation_date":1497863508,"question_id":44626474,"body_markdown":"Redis 3.0.5  \r\nSpring Data Redis 1.3.6  \r\njedis 2.6.3  \r\n- Our is web application which receives data from redis over pub/sub.  \r\n- Also performs read/write of data on redis as key/value pairs.  \r\n- read/write happens on listener thread, independent monitoring thread and http request threads.  \r\n- We have used a same connection factory for Listener and redis template  \r\n- Our redis server has &quot;timeout=30&quot; configured\r\n\r\n    &lt;bean id=&quot;jedisConnectionFactory&quot;\r\n    \tclass=&quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&quot;&gt;\r\n    \t&lt;property name=&quot;hostName&quot; value=&quot;nnnn&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;port&quot; value=&quot;nnnn&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;****&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisTemplate&quot; class=&quot;org.springframework.data.redis.core.StringRedisTemplate&quot;&gt;\r\n    \t&lt;property name=&quot;connectionFactory&quot; ref=&quot;jedisConnectionFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisContainer&quot;\r\n    \tclass=&quot;org.springframework.data.redis.listener.RedisMessageListenerContainer&quot;&gt;\r\n    \t&lt;property name=&quot;connectionFactory&quot; ref=&quot;jedisConnectionFactory&quot; /&gt;\r\n    \t&lt;property name=&quot;messageListeners&quot;&gt;\r\n    \t\t&lt;map&gt;\r\n    \t\t\t&lt;entry key-ref=&quot;messageListener&quot;&gt;\r\n    \t\t\t\t&lt;bean class=&quot;org.springframework.data.redis.listener.ChannelTopic&quot;&gt;\r\n    \t\t\t\t\t&lt;constructor-arg value=&quot;topic_name&quot; /&gt;\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/entry&gt;\r\n    \t\t&lt;/map&gt;\r\n    \t&lt;/property&gt;\r\n    \t&lt;property name=&quot;taskExecutor&quot; ref=&quot;redisTaskExecutor&quot; /&gt;\r\n    \t&lt;property name=&quot;subscriptionExecutor&quot; ref=&quot;redisSubTaskExecutor&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisTaskExecutor&quot;\r\n    \tclass=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\r\n    \t&lt;property name=&quot;threadNamePrefix&quot; value=&quot;RedisListenerThread&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;corePoolSize&quot; value=&quot;1&quot; /&gt;\r\n    \t&lt;property name=&quot;maxPoolSize&quot; value=&quot;1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisSubTaskExecutor&quot;\r\n    \tclass=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\r\n    \t&lt;property name=&quot;threadNamePrefix&quot; value=&quot;RedisSubscribeThread&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;corePoolSize&quot; value=&quot;1&quot; /&gt;\r\n    \t&lt;property name=&quot;maxPoolSize&quot; value=&quot;1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;messageListener&quot;\r\n    \tclass=&quot;org.springframework.data.redis.listener.adapter.MessageListenerAdapter&quot;&gt;\r\n    \t&lt;constructor-arg index=&quot;0&quot;&gt;\r\n    \t\t&lt;bean class=&quot;my.data.Receiver&quot; /&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    \t&lt;constructor-arg index=&quot;1&quot;&gt;&lt;value&gt;receive&lt;/value&gt;&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\noccasionally we face below problem on production during data read.\r\n\r\n&gt; org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:47)\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:36)\r\n\tat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:37)\r\n\tat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:37)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:182)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.get(JedisConnection.java:1087)\r\n\tat org.springframework.data.redis.connection.DefaultStringRedisConnection.get(DefaultStringRedisConnection.java:276)\r\n\tat org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:46)\r\n\tat org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:50)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:190)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:152)\r\n\tat org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:84)\r\n\tat org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:43)\r\n\r\nI have read other threads talking of using single thread for read/write. But in our case it is difficult to use single thread. Also as per RedisTemplate documentation, it is thread safe.\r\nThe problem is occasional and we are unable to reproduce in any of dev/testing/uat environment. Thus unable to find exact cause of the same.\r\nWhat have we done wrong?\r\n","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>Redis 3.0.5<br>\nSpring Data Redis 1.3.6<br>\njedis 2.6.3<br>\n- Our is web application which receives data from redis over pub/sub.<br>\n- Also performs read/write of data on redis as key/value pairs.<br>\n- read/write happens on listener thread, independent monitoring thread and http request threads.<br>\n- We have used a same connection factory for Listener and redis template<br>\n- Our redis server has \"timeout=30\" configured</p>\n\n<pre><code>&lt;bean id=\"jedisConnectionFactory\"\n    class=\"org.springframework.data.redis.connection.jedis.JedisConnectionFactory\"&gt;\n    &lt;property name=\"hostName\" value=\"nnnn\"&gt;&lt;/property&gt;\n    &lt;property name=\"port\" value=\"nnnn\"&gt;&lt;/property&gt;\n    &lt;property name=\"password\" value=\"****\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisTemplate\" class=\"org.springframework.data.redis.core.StringRedisTemplate\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"jedisConnectionFactory\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisContainer\"\n    class=\"org.springframework.data.redis.listener.RedisMessageListenerContainer\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"jedisConnectionFactory\" /&gt;\n    &lt;property name=\"messageListeners\"&gt;\n        &lt;map&gt;\n            &lt;entry key-ref=\"messageListener\"&gt;\n                &lt;bean class=\"org.springframework.data.redis.listener.ChannelTopic\"&gt;\n                    &lt;constructor-arg value=\"topic_name\" /&gt;\n                &lt;/bean&gt;\n            &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n    &lt;property name=\"taskExecutor\" ref=\"redisTaskExecutor\" /&gt;\n    &lt;property name=\"subscriptionExecutor\" ref=\"redisSubTaskExecutor\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisTaskExecutor\"\n    class=\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\"&gt;\n    &lt;property name=\"threadNamePrefix\" value=\"RedisListenerThread\"&gt;&lt;/property&gt;\n    &lt;property name=\"corePoolSize\" value=\"1\" /&gt;\n    &lt;property name=\"maxPoolSize\" value=\"1\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisSubTaskExecutor\"\n    class=\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\"&gt;\n    &lt;property name=\"threadNamePrefix\" value=\"RedisSubscribeThread\"&gt;&lt;/property&gt;\n    &lt;property name=\"corePoolSize\" value=\"1\" /&gt;\n    &lt;property name=\"maxPoolSize\" value=\"1\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"messageListener\"\n    class=\"org.springframework.data.redis.listener.adapter.MessageListenerAdapter\"&gt;\n    &lt;constructor-arg index=\"0\"&gt;\n        &lt;bean class=\"my.data.Receiver\" /&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg index=\"1\"&gt;&lt;value&gt;receive&lt;/value&gt;&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>occasionally we face below problem on production during data read.</p>\n\n<blockquote>\n  <p>org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\n      at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:47)\n      at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:36)\n      at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:37)\n      at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:37)\n      at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:182)\n      at org.springframework.data.redis.connection.jedis.JedisConnection.get(JedisConnection.java:1087)\n      at org.springframework.data.redis.connection.DefaultStringRedisConnection.get(DefaultStringRedisConnection.java:276)\n      at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:46)\n      at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:50)\n      at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:190)\n      at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:152)\n      at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:84)\n      at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:43)</p>\n</blockquote>\n\n<p>I have read other threads talking of using single thread for read/write. But in our case it is difficult to use single thread. Also as per RedisTemplate documentation, it is thread safe.\nThe problem is occasional and we are unable to reproduce in any of dev/testing/uat environment. Thus unable to find exact cause of the same.\nWhat have we done wrong?</p>\n"},{"tags":["java","sql","jdbi"],"answers":[{"tags":[],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1519112806,"creation_date":1518482447,"answer_id":48757814,"question_id":41620956,"body_markdown":"I came across the same question and found the answer surprisingly difficult to find. A colleague tells me it was sort of just common knowledge a programming-generation ago, so maybe its documentation was forgotten as software evolved.\r\n\r\nIn fact, Oracle&#39;s [Binding and Defining](https://docs.oracle.com/cd/B10501_01/appdev.920/a96584/oci05bnd.htm) at first seems promising, but is completely misleading, as its &quot;Defining&quot; refers to setting up references to retrieve results, which is not at all what it means in JDBI.\r\n\r\nHere is what they actually mean, if my colleague is correct:\r\n\r\n - `@Define` is for constants, and interpolates the format `&lt;field&gt;`.\r\n - `@Bind` is for variables, and interpolates the format `:field` (a &quot;named parameter&quot;). You are correct: a side-effect of binding is that sanitization occurs.\r\n - `@BindIn` is for lists, and interpolates the format `(element IN (&lt;field&gt;))`. The elements are also sanitized.\r\n\r\nMy mistake was using the `&lt;field&gt;` format for a `@Bind` parameter, which resulted in the interpolation always being an empty string.","title":"JDBI - What&#39;s the difference between @define and @bind in JDBI?","body":"<p>I came across the same question and found the answer surprisingly difficult to find. A colleague tells me it was sort of just common knowledge a programming-generation ago, so maybe its documentation was forgotten as software evolved.</p>\n\n<p>In fact, Oracle's <a href=\"https://docs.oracle.com/cd/B10501_01/appdev.920/a96584/oci05bnd.htm\" rel=\"noreferrer\">Binding and Defining</a> at first seems promising, but is completely misleading, as its \"Defining\" refers to setting up references to retrieve results, which is not at all what it means in JDBI.</p>\n\n<p>Here is what they actually mean, if my colleague is correct:</p>\n\n<ul>\n<li><code>@Define</code> is for constants, and interpolates the format <code>&lt;field&gt;</code>.</li>\n<li><code>@Bind</code> is for variables, and interpolates the format <code>:field</code> (a \"named parameter\"). You are correct: a side-effect of binding is that sanitization occurs.</li>\n<li><code>@BindIn</code> is for lists, and interpolates the format <code>(element IN (&lt;field&gt;))</code>. The elements are also sanitized.</li>\n</ul>\n\n<p>My mistake was using the <code>&lt;field&gt;</code> format for a <code>@Bind</code> parameter, which resulted in the interpolation always being an empty string.</p>\n"},{"tags":[],"owner":{"account_id":12969102,"reputation":43,"user_id":9375488,"display_name":"pedagogyfirst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667394257,"creation_date":1667394257,"answer_id":74289634,"question_id":41620956,"body_markdown":"On top of the most upvoted answer. I just want to add that, according to my tests and interpretations:\r\n - @Bind is mostly used for places where you query and update/create data. Per example after the `WHERE` and `VALUES(...)`\r\n - @Define is mostly used in other parts of a SQL statement, like in places with conditions or in ORDER BY per example:\r\n\r\n```kotlin\r\n@SqlQuery(&quot;SELECT * FROM $table ORDER BY &lt;orderByWinsOrPlays&gt;&quot;) \r\nfun getPlayerRankings(@Define orderByWinsOrPlays: String)\r\n```\r\n\r\nReplacing `&lt;orderByWinsOrPlays&gt;` with `:orderByWinsOrPlays` and replacing `@Define` with `@Bind(&quot;orderByWinsOrPlays&quot;)` will not work, but it will not throw an error. Testing these 2 options back in forth lead me to this conclusion. And the type parameter annotated with @Define should be a primitive object, preferably, or it won&#39;t work. For complex objects, use @BindBean","title":"JDBI - What&#39;s the difference between @define and @bind in JDBI?","body":"<p>On top of the most upvoted answer. I just want to add that, according to my tests and interpretations:</p>\n<ul>\n<li>@Bind is mostly used for places where you query and update/create data. Per example after the <code>WHERE</code> and <code>VALUES(...)</code></li>\n<li>@Define is mostly used in other parts of a SQL statement, like in places with conditions or in ORDER BY per example:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SqlQuery(&quot;SELECT * FROM $table ORDER BY &lt;orderByWinsOrPlays&gt;&quot;) \nfun getPlayerRankings(@Define orderByWinsOrPlays: String)\n</code></pre>\n<p>Replacing <code>&lt;orderByWinsOrPlays&gt;</code> with <code>:orderByWinsOrPlays</code> and replacing <code>@Define</code> with <code>@Bind(&quot;orderByWinsOrPlays&quot;)</code> will not work, but it will not throw an error. Testing these 2 options back in forth lead me to this conclusion. And the type parameter annotated with @Define should be a primitive object, preferably, or it won't work. For complex objects, use @BindBean</p>\n"}],"owner":{"account_id":1676615,"reputation":321,"user_id":1542017,"accept_rate":75,"display_name":"lingz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3458,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48757814,"answer_count":2,"score":7,"last_activity_date":1667394257,"creation_date":1484247776,"question_id":41620956,"body_markdown":"Are both functions sanitized / safe against SQL injection? For example, consider the following:\r\n\r\n    @SqlUpdate(&quot;INSERT INTO &lt;tableName&gt; (&lt;columns&gt;) VALUES (&lt;values&gt;)&quot;)\r\n        public abstract void addRowToDataset(@Define(&quot;tableName&quot;) String tableName, @Define(&quot;columns&quot;) String columns, @BindIn(&quot;values&quot;) Collection&lt;Object&gt; values);\r\n\r\nMy current understanding is that `@define` literally inserts the string as is into the query, but `@bind` does sanitization. So if we control the `columns` and tableName `parameters` and only the `values` parameter is user input, then we should be fine. ","title":"JDBI - What&#39;s the difference between @define and @bind in JDBI?","body":"<p>Are both functions sanitized / safe against SQL injection? For example, consider the following:</p>\n\n<pre><code>@SqlUpdate(\"INSERT INTO &lt;tableName&gt; (&lt;columns&gt;) VALUES (&lt;values&gt;)\")\n    public abstract void addRowToDataset(@Define(\"tableName\") String tableName, @Define(\"columns\") String columns, @BindIn(\"values\") Collection&lt;Object&gt; values);\n</code></pre>\n\n<p>My current understanding is that <code>@define</code> literally inserts the string as is into the query, but <code>@bind</code> does sanitization. So if we control the <code>columns</code> and tableName <code>parameters</code> and only the <code>values</code> parameter is user input, then we should be fine. </p>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667394651,"post_id":74289620,"comment_id":131156122,"body_markdown":"There&#39;s no special name for those at least not from a pure tech point of view. There may be specific names based on their meaning/usage but that&#39;s it. Just to be _very_ specific though: `DoublyCircularLL pointer` is a _reference_ to an object of type `DoublyCircularLL` (or a subtype/implementation of it) that is called `pointer`. The variable name may be misleading as Java doesn&#39;t have real pointers :)","body":"There&#39;s no special name for those at least not from a pure tech point of view. There may be specific names based on their meaning/usage but that&#39;s it. Just to be <i>very</i> specific though: <code>DoublyCircularLL pointer</code> is a <i>reference</i> to an object of type <code>DoublyCircularLL</code> (or a subtype/implementation of it) that is called <code>pointer</code>. The variable name may be misleading as Java doesn&#39;t have real pointers :)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667394889,"post_id":74289620,"comment_id":131156215,"body_markdown":"There are some other names for &quot;class variables&quot; though: &quot;field&quot; is normally used for non-static variables, &quot;class variable&quot; is often used for static variables sometimes also referred to as &quot;static field&quot;. Then there are &quot;properties&quot; which often are determined according to the Java Beans specification and which are identified by the getter and setter names (e.g. `getName()` -&gt; property &quot;name&quot;, `setMyName()` -&gt; property &quot;myName&quot;) - the values of those properties may or may not be stored in &quot;fields&quot;.","body":"There are some other names for &quot;class variables&quot; though: &quot;field&quot; is normally used for non-static variables, &quot;class variable&quot; is often used for static variables sometimes also referred to as &quot;static field&quot;. Then there are &quot;properties&quot; which often are determined according to the Java Beans specification and which are identified by the getter and setter names (e.g. <code>getName()</code> -&gt; property &quot;name&quot;, <code>setMyName()</code> -&gt; property &quot;myName&quot;) - the values of those properties may or may not be stored in &quot;fields&quot;."}],"owner":{"account_id":26806606,"reputation":11,"user_id":20397827,"display_name":"John Patrick Delos Reyes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667394175,"creation_date":1667394175,"question_id":74289620,"body_markdown":"```\r\nclass DoublyCircularLL{\r\n\r\n    DoublyCircularLL head;\r\n    DoublyCircularLL next;\r\n    DoublyCircularLL prev;\r\n    DoublyCircularLL pointer; &lt;----- This Things\r\n}\r\n```\r\n\r\n\r\nMy understanding is they are variables with the data type of the class. Is that right or they are something else?","title":"What does class fields with the same data type as the class called?","body":"<pre><code>class DoublyCircularLL{\n\n    DoublyCircularLL head;\n    DoublyCircularLL next;\n    DoublyCircularLL prev;\n    DoublyCircularLL pointer; &lt;----- This Things\n}\n</code></pre>\n<p>My understanding is they are variables with the data type of the class. Is that right or they are something else?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":0,"creation_date":1667341224,"post_id":74281773,"comment_id":131143906,"body_markdown":"Why don&#39;t you create your database during connect with initSQL option?","body":"Why don&#39;t you create your database during connect with initSQL option?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667394186,"post_id":74281773,"comment_id":131155919,"body_markdown":"The MySQL Connector/J explicitly says not to use statements like `USE &lt;name&gt;`, you should use `Connection.setCatalog(String)` for that. Exactly for reasons like this.","body":"The MySQL Connector/J explicitly says not to use statements like <code>USE &lt;name&gt;</code>, you should use <code>Connection.setCatalog(String)</code> for that. Exactly for reasons like this."}],"answers":[{"tags":[],"owner":{"account_id":26799836,"reputation":23,"user_id":20391966,"display_name":"marjia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337599,"creation_date":1667336875,"answer_id":74281809,"question_id":74281773,"body_markdown":"`String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();` \r\n\r\nYou should include your database name. Your URL followed by a &quot;/DBNAME&quot;.\r\n\r\n`USE database` is for subsequent statements. The named database remains the default until the end of the session. Your session expires.\r\n\r\nIf you create the database on the fly, you can connect again using the complete URL with the database name at the end, not with `USE database`\r\n\r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p><code>String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();</code></p>\n<p>You should include your database name. Your URL followed by a &quot;/DBNAME&quot;.</p>\n<p><code>USE database</code> is for subsequent statements. The named database remains the default until the end of the session. Your session expires.</p>\n<p>If you create the database on the fly, you can connect again using the complete URL with the database name at the end, not with <code>USE database</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337373,"creation_date":1667337373,"answer_id":74281882,"question_id":74281773,"body_markdown":"Yup, hence, don&#39;t connect without a database name.\r\n\r\nTry to connect with the name. In the catch block, check if this is the problem (SQLException has a `.getState()` method that returns a specific error code, check it against mysql&#39;s table, or just run the code passing a DB URL with a non-existent dbname and just print it out, now you know) - and if so, run a method that will create a new connection (without a dbname), creates the database, closes that connection, and returns. Then you retry _with_ the database name. Remember, exceptions can be caught.\r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p>Yup, hence, don't connect without a database name.</p>\n<p>Try to connect with the name. In the catch block, check if this is the problem (SQLException has a <code>.getState()</code> method that returns a specific error code, check it against mysql's table, or just run the code passing a DB URL with a non-existent dbname and just print it out, now you know) - and if so, run a method that will create a new connection (without a dbname), creates the database, closes that connection, and returns. Then you retry <em>with</em> the database name. Remember, exceptions can be caught.</p>\n"},{"tags":[],"owner":{"account_id":1735202,"reputation":1191,"user_id":1587934,"display_name":"Diego Dupin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667383027,"creation_date":1667383027,"answer_id":74287340,"question_id":74281773,"body_markdown":"There is an option `createDatabaseIfNotExist` exactly to do that. \r\nConnector will then connect to server without database, create database is not existing and connect to that database. \r\ndatabase must then be explicitly set in connection string, like  \r\n&quot;jdbc:mysql://myHost:3306/myDB?createDatabaseIfNotExist=true&quot;\r\n\r\nThe advantage is that if connection fails, autoreconnect will connect to the  database directly. \r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p>There is an option <code>createDatabaseIfNotExist</code> exactly to do that.\nConnector will then connect to server without database, create database is not existing and connect to that database.\ndatabase must then be explicitly set in connection string, like<br />\n&quot;jdbc:mysql://myHost:3306/myDB?createDatabaseIfNotExist=true&quot;</p>\n<p>The advantage is that if connection fails, autoreconnect will connect to the  database directly.</p>\n"}],"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667394136,"creation_date":1667336619,"question_id":74281773,"body_markdown":"I have some code that connects to a database using JDBC using a basic URL:\r\n\r\n    String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();\r\n\r\nI am using the following arguments:\r\n\r\n    setProperty(&quot;connectTimeout&quot;, &quot;2000&quot;);\r\n    setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\r\n\r\nI don&#39;t include the database name, since it might not exist yet. I check whether one exist upon connection, and create it as needed. Then I select the database.\r\n\r\nI use two queries:\r\n\r\n    CREATE DATABASE IF NOT EXISTS &lt;name&gt;\r\n\r\nthen\r\n\r\n    USE &lt;name&gt;\r\n\r\nSo the database is selected here upon connection.\r\n\r\nThe issue I&#39;m having is that I saw an error in the log:\r\n\r\n    ...\r\n    Caused by: java.sql.SQLException: No database selected\r\n\r\nThis doesn&#39;t make sense, because the database is *always* selected upon connection, otherwise an exception would have been thrown. However, this exception about a missing selection occurs hours later.\r\n\r\nMy guess is that, upon reconnecting, it uses the URL, which doesn&#39;t include the database name. So it reconnects, but now the database isn&#39;t selected.\r\n\r\nCan someone confirm whether this is the cause of the behavior I am experiencing?\r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p>I have some code that connects to a database using JDBC using a basic URL:</p>\n<pre><code>String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();\n</code></pre>\n<p>I am using the following arguments:</p>\n<pre><code>setProperty(&quot;connectTimeout&quot;, &quot;2000&quot;);\nsetProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\n</code></pre>\n<p>I don't include the database name, since it might not exist yet. I check whether one exist upon connection, and create it as needed. Then I select the database.</p>\n<p>I use two queries:</p>\n<pre><code>CREATE DATABASE IF NOT EXISTS &lt;name&gt;\n</code></pre>\n<p>then</p>\n<pre><code>USE &lt;name&gt;\n</code></pre>\n<p>So the database is selected here upon connection.</p>\n<p>The issue I'm having is that I saw an error in the log:</p>\n<pre><code>...\nCaused by: java.sql.SQLException: No database selected\n</code></pre>\n<p>This doesn't make sense, because the database is <em>always</em> selected upon connection, otherwise an exception would have been thrown. However, this exception about a missing selection occurs hours later.</p>\n<p>My guess is that, upon reconnecting, it uses the URL, which doesn't include the database name. So it reconnects, but now the database isn't selected.</p>\n<p>Can someone confirm whether this is the cause of the behavior I am experiencing?</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":6529983,"reputation":108,"user_id":5051422,"display_name":"Murali Krishnamraju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667393913,"creation_date":1667393913,"answer_id":74289560,"question_id":74287850,"body_markdown":"I tried exploring the internet for possible reasons for this issue, I figured out that one of the reason for this is maximum output that redis allows is the reason for this failure. \r\n\r\nIn redis configuration there is something called client-output-buffer-limit which limit what is the maximum data output that redis alows for different cases as \r\n\r\nRedis Output buffer has following limits\r\n\r\n 1. For normal operations set, get etc there is no limit\r\n 2. For Pub Sub Mechanism there is default hard limit of 32Mb and soft limit of 8mb for 60 seconds\r\n 3. For replication mechanism it has default hard limit of 256Mb and soft limit of 64mb for 60 seconds\r\n\r\nHowever these can be configured to bigger values which allows high volumes of data output, you can change the values by identifying the path of redis config file and updating the value of the output buffer limit of the Pub Sub mechanism by changing the value configured for attribute \r\n\r\n&gt; client-output-buffer-limit pubsub\r\n\r\n By updating this redis allows larger output buffer.\r\n","title":"Redis Key Space Notifications Unexpected end of stream Error for High Volume of Events","body":"<p>I tried exploring the internet for possible reasons for this issue, I figured out that one of the reason for this is maximum output that redis allows is the reason for this failure.</p>\n<p>In redis configuration there is something called client-output-buffer-limit which limit what is the maximum data output that redis alows for different cases as</p>\n<p>Redis Output buffer has following limits</p>\n<ol>\n<li>For normal operations set, get etc there is no limit</li>\n<li>For Pub Sub Mechanism there is default hard limit of 32Mb and soft limit of 8mb for 60 seconds</li>\n<li>For replication mechanism it has default hard limit of 256Mb and soft limit of 64mb for 60 seconds</li>\n</ol>\n<p>However these can be configured to bigger values which allows high volumes of data output, you can change the values by identifying the path of redis config file and updating the value of the output buffer limit of the Pub Sub mechanism by changing the value configured for attribute</p>\n<blockquote>\n<p>client-output-buffer-limit pubsub</p>\n</blockquote>\n<p>By updating this redis allows larger output buffer.</p>\n"}],"owner":{"account_id":6529983,"reputation":108,"user_id":5051422,"display_name":"Murali Krishnamraju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667393913,"creation_date":1667385581,"question_id":74287850,"body_markdown":"I am trying to explore redis keyspace notifications and its implementation in springboot for using the redis keyspace notifications for ttl use case. I am trying to test the scale at which this can work, when I used smaller volume like 10k-100k keys its working fine with out any issue. But when I increase the keys that expire at a particular time to 500k I am getting the below error.\r\n\r\n    org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:65) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:192) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:836) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.pSubscribe(JedisConnection.java:741) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doSubscribe(RedisMessageListenerContainer.java:1231) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer$BlockingSubscriber.lambda$eventuallyPerformSubscription$2(RedisMessageListenerContainer.java:1433) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\r\n\tat redis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:202) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.util.RedisInputStream.readLongCrLf(RedisInputStream.java:154) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.util.RedisInputStream.readIntCrLf(RedisInputStream.java:148) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.processBulkReply(Protocol.java:188) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:170) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.processMultiBulkReply(Protocol.java:221) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:172) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.read(Protocol.java:230) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:352) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:314) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:101) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.BinaryJedisPubSub.proceedWithPatterns(BinaryJedisPubSub.java:89) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.BinaryJedis.psubscribe(BinaryJedis.java:3900) ~[jedis-3.8.0.jar:na]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.lambda$pSubscribe$7(JedisConnection.java:746) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:834) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\t... 4 common frames omitted\r\n\r\n\r\nI have implemented a simple Redis event listner to capture the expired keys, code like below.\r\n\r\n    package com.example.rediseventlistnertest.listner;\r\n\r\n    import lombok.extern.apachecommons.CommonsLog;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.data.redis.connection.Message;\r\n    import org.springframework.data.redis.connection.MessageListener;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class EventTimeOutListner implements MessageListener {\r\n\r\n    public List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n        String key = new String(message.getBody());\r\n        Date date = new Date();\r\n        Long sec = date.getTime();\r\n        String d = date.toString();\r\n        keys.add(key);\r\n        log.info(&quot;expired key: {}, expired at {} {} {}&quot;, key, sec, date, keys.size());\r\n    }\r\n    }\r\n\r\n\r\nAbove class is for capturing the key and the below one for listening to redis keyspace notifications\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class RedisConfiguration {\r\n\r\n\r\n    @Bean\r\n    public RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory redisConnectionFactory, EventTimeOutListner taskTimeoutListener, TimeOutListner tol) {\r\n\r\n        RedisMessageListenerContainer listenerContainer = new RedisMessageListenerContainer();\r\n        listenerContainer.setMaxSubscriptionRegistrationWaitingTime(10000);\r\n        try {\r\n            listenerContainer.setConnectionFactory(redisConnectionFactory);\r\n            listenerContainer.addMessageListener(taskTimeoutListener,\r\n                    new PatternTopic(&quot;__keyevent@*__:expired&quot;));\r\n            log.info(&quot;size of  keys : {}&quot;,  taskTimeoutListener.keys.size());\r\n            //listenerContainer.addMessageListener(tol,\r\n            //        new PatternTopic(&quot;__keyevent@*__:expired&quot;));\r\n            listenerContainer.setErrorHandler(\r\n                    e -&gt; log.error(&quot;Error in redisMessageListenerContainer&quot;, e));\r\n        }catch (Exception e){\r\n            log.info(&quot;Something went worng exception is : {}&quot;,e.getMessage());\r\n            e.printStackTrace();\r\n        }finally {\r\n            return listenerContainer;\r\n        }\r\n    }\r\n\r\n    }\r\n\r\n\r\nI tried adding pooling and increasing the no of connections etc but no luck the error still persists and I am not able to figure what could be the exact reason for the issue, did any one face the simlar issue, what could be the possible issue and what can be done to avoid this failure and scale redis for larger volumes of key space notificaitons.\r\n","title":"Redis Key Space Notifications Unexpected end of stream Error for High Volume of Events","body":"<p>I am trying to explore redis keyspace notifications and its implementation in springboot for using the redis keyspace notifications for ttl use case. I am trying to test the scale at which this can work, when I used smaller volume like 10k-100k keys its working fine with out any issue. But when I increase the keys that expire at a particular time to 500k I am getting the below error.</p>\n<pre><code>org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\nat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:65) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:192) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:836) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.pSubscribe(JedisConnection.java:741) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doSubscribe(RedisMessageListenerContainer.java:1231) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.listener.RedisMessageListenerContainer$BlockingSubscriber.lambda$eventuallyPerformSubscription$2(RedisMessageListenerContainer.java:1433) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\nat redis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:202) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.util.RedisInputStream.readLongCrLf(RedisInputStream.java:154) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.util.RedisInputStream.readIntCrLf(RedisInputStream.java:148) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.processBulkReply(Protocol.java:188) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.process(Protocol.java:170) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.processMultiBulkReply(Protocol.java:221) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.process(Protocol.java:172) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.read(Protocol.java:230) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:352) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:314) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:101) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.BinaryJedisPubSub.proceedWithPatterns(BinaryJedisPubSub.java:89) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.BinaryJedis.psubscribe(BinaryJedis.java:3900) ~[jedis-3.8.0.jar:na]\nat org.springframework.data.redis.connection.jedis.JedisConnection.lambda$pSubscribe$7(JedisConnection.java:746) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:834) ~[spring-data-redis-2.7.5.jar:2.7.5]\n... 4 common frames omitted\n</code></pre>\n<p>I have implemented a simple Redis event listner to capture the expired keys, code like below.</p>\n<pre><code>package com.example.rediseventlistnertest.listner;\n\nimport lombok.extern.apachecommons.CommonsLog;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.data.redis.connection.Message;\nimport org.springframework.data.redis.connection.MessageListener;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\n@Slf4j\n@Component\npublic class EventTimeOutListner implements MessageListener {\n\npublic List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n\n@Override\npublic void onMessage(Message message, byte[] pattern) {\n    String key = new String(message.getBody());\n    Date date = new Date();\n    Long sec = date.getTime();\n    String d = date.toString();\n    keys.add(key);\n    log.info(&quot;expired key: {}, expired at {} {} {}&quot;, key, sec, date, keys.size());\n}\n}\n</code></pre>\n<p>Above class is for capturing the key and the below one for listening to redis keyspace notifications</p>\n<pre><code>@Slf4j\n@Configuration\npublic class RedisConfiguration {\n\n\n@Bean\npublic RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory redisConnectionFactory, EventTimeOutListner taskTimeoutListener, TimeOutListner tol) {\n\n    RedisMessageListenerContainer listenerContainer = new RedisMessageListenerContainer();\n    listenerContainer.setMaxSubscriptionRegistrationWaitingTime(10000);\n    try {\n        listenerContainer.setConnectionFactory(redisConnectionFactory);\n        listenerContainer.addMessageListener(taskTimeoutListener,\n                new PatternTopic(&quot;__keyevent@*__:expired&quot;));\n        log.info(&quot;size of  keys : {}&quot;,  taskTimeoutListener.keys.size());\n        //listenerContainer.addMessageListener(tol,\n        //        new PatternTopic(&quot;__keyevent@*__:expired&quot;));\n        listenerContainer.setErrorHandler(\n                e -&gt; log.error(&quot;Error in redisMessageListenerContainer&quot;, e));\n    }catch (Exception e){\n        log.info(&quot;Something went worng exception is : {}&quot;,e.getMessage());\n        e.printStackTrace();\n    }finally {\n        return listenerContainer;\n    }\n}\n\n}\n</code></pre>\n<p>I tried adding pooling and increasing the no of connections etc but no luck the error still persists and I am not able to figure what could be the exact reason for the issue, did any one face the simlar issue, what could be the possible issue and what can be done to avoid this failure and scale redis for larger volumes of key space notificaitons.</p>\n"},{"tags":["java","microservices","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":1,"creation_date":1667397490,"post_id":74289537,"comment_id":131157343,"body_markdown":"So if your exception is not caught, what happens to it? Do you see a stack trace in the output?","body":"So if your exception is not caught, what happens to it? Do you see a stack trace in the output?"},{"owner":{"account_id":237910,"reputation":33130,"user_id":506441,"accept_rate":67,"display_name":"Daniel T."},"score":0,"creation_date":1667401814,"post_id":74289537,"comment_id":131159187,"body_markdown":"Your custom exception should get emitted as an error event in your observable stream. It&#39;s not catchable in the traditional way. Instead it will show up inside your subscribe call as an error.","body":"Your custom exception should get emitted as an error event in your observable stream. It&#39;s not catchable in the traditional way. Instead it will show up inside your subscribe call as an error."},{"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"score":0,"creation_date":1667406201,"post_id":74289537,"comment_id":131160911,"body_markdown":"It is just logging and I saw stack trace aswell","body":"It is just logging and I saw stack trace aswell"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1667538194,"post_id":74289537,"comment_id":131194628,"body_markdown":"check [Error Handling Operators](https://projectreactor.io/docs/core/release/reference/#_error_handling_operators) in the Reactor Reference Guide","body":"check <a href=\"https://projectreactor.io/docs/core/release/reference/#_error_handling_operators\" rel=\"nofollow noreferrer\">Error Handling Operators</a> in the Reactor Reference Guide"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667393818,"creation_date":1667393818,"question_id":74289537,"body_markdown":"I am trying to throw error in service layer and excepting that error will be captured in controller layer in reactive way of implementation. But it is not happening now. The error occurring in controller is not  coming to controller catch block itself. Below are my code sample.\r\n\r\n```\r\npublic class MyClass{\r\n     \r\n     public void getData(){\r\n       try{\r\n\t\t\tMono&lt;String&gt; result = myService.getResponseData(1);\r\n       }catch(CustomException e){\r\n\t\t// I need to add diff logic when this type of exception occurs\r\n\t   }catch(Exception e){\r\n\t   // Here I need to add diff logic when this type of exception occurs\r\n\t   }\r\n     }\r\n}\r\n\r\npublic classs MyService{\r\n\tpublic Mono&lt;String&gt;  getResponseData(int number){\r\n\t\ttry{\r\n\t\t\tmyDbDTO1.table1(number).map(\r\n                    result -&gt; {\r\n                        if (validatingSomeCondition) {\r\n                            throw new CustomException(&quot;Invalid data!&quot;);\r\n                        }\r\n                        return result;\r\n                    })\r\n                .zipWhen(result -&gt; myDbDTO2\r\n                        .table2(number).collectList())\r\n                .map(m1 -&gt; mapResults(m1.getT1(), m1.getT2()))\r\n\t\t}catch(CustomException){\r\n\t\t\tthrow new CustomException(&quot;Invalid data!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic Result mapResults(Result1 res1, Result2 res1){\r\n\r\n\ttry{\r\n\t\t// I am combining both object and returing result\r\n\t}catch(Exception e){\r\n\t\tthrow new CustomException(&quot;Invalid data!&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nCan anyone suggest any issue / anything i missed. \r\n\r\nThanks :)","title":"How to throw error in java reactive programming","body":"<p>I am trying to throw error in service layer and excepting that error will be captured in controller layer in reactive way of implementation. But it is not happening now. The error occurring in controller is not  coming to controller catch block itself. Below are my code sample.</p>\n<pre><code>public class MyClass{\n     \n     public void getData(){\n       try{\n            Mono&lt;String&gt; result = myService.getResponseData(1);\n       }catch(CustomException e){\n        // I need to add diff logic when this type of exception occurs\n       }catch(Exception e){\n       // Here I need to add diff logic when this type of exception occurs\n       }\n     }\n}\n\npublic classs MyService{\n    public Mono&lt;String&gt;  getResponseData(int number){\n        try{\n            myDbDTO1.table1(number).map(\n                    result -&gt; {\n                        if (validatingSomeCondition) {\n                            throw new CustomException(&quot;Invalid data!&quot;);\n                        }\n                        return result;\n                    })\n                .zipWhen(result -&gt; myDbDTO2\n                        .table2(number).collectList())\n                .map(m1 -&gt; mapResults(m1.getT1(), m1.getT2()))\n        }catch(CustomException){\n            throw new CustomException(&quot;Invalid data!&quot;);\n        }\n    }\n}\n\npublic Result mapResults(Result1 res1, Result2 res1){\n\n    try{\n        // I am combining both object and returing result\n    }catch(Exception e){\n        throw new CustomException(&quot;Invalid data!&quot;);\n    }\n}\n</code></pre>\n<p>Can anyone suggest any issue / anything i missed.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","android","slice","smali","software-packaging"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1667915902,"post_id":74289478,"comment_id":131278102,"body_markdown":"`apktool` is an Java based open source tool so that would be a good starting point. But repackaging does not work on all apps. IMHO you should better use [Frida](https://frida.re). On a rooted phone you can execute, inject and modify code at run-time without the need to modify the APK.","body":"<code>apktool</code> is an Java based open source tool so that would be a good starting point. But repackaging does not work on all apps. IMHO you should better use <a href=\"https://frida.re\" rel=\"nofollow noreferrer\">Frida</a>. On a rooted phone you can execute, inject and modify code at run-time without the need to modify the APK."}],"owner":{"account_id":26806037,"reputation":11,"user_id":20397338,"display_name":"kgg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667393740,"creation_date":1667393620,"question_id":74289478,"body_markdown":"I&#39;m trying to make a tool in java code that automatically triggers all events in android market app.\r\n\r\nTo do this, after decompiling the apk file, I try to slice all the events and add them to one main method.\r\n\r\n\r\nBut I don&#39;t know how to repackage the sliced ​​code back into an apk.\r\n\r\nIs it possible to repackage smali code in java?\r\n\r\nThe smali code slice will be stored as a string type, and the slice set will be stored as a list type.\r\n\r\nHowever, this storage type can be changed.","title":"What is the java code to repackage by modifying the apk&#39;s smali code?","body":"<p>I'm trying to make a tool in java code that automatically triggers all events in android market app.</p>\n<p>To do this, after decompiling the apk file, I try to slice all the events and add them to one main method.</p>\n<p>But I don't know how to repackage the sliced ​​code back into an apk.</p>\n<p>Is it possible to repackage smali code in java?</p>\n<p>The smali code slice will be stored as a string type, and the slice set will be stored as a list type.</p>\n<p>However, this storage type can be changed.</p>\n"},{"tags":["java","scala","collections","treeset"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":1,"creation_date":1667379401,"post_id":74285379,"comment_id":131150898,"body_markdown":"`head` and `firstKey` both return an element in the collection and with using `println` you are seeing the string representation of the item. However, even if you were to print the collection itself, you would still see `TreeSet(2, 1, 4)` as the output. That&#39;s because the main purpose of a `TreeSet` is that of being a `Set`, more specifically a `SortedSet`. The fact that it&#39;s implemented as a tree is an implementation detail. You can read more about it here (referring to 2.8-2.12): https://docs.scala-lang.org/overviews/collections/concrete-immutable-collection-classes.html#red-black-trees","body":"<code>head</code> and <code>firstKey</code> both return an element in the collection and with using <code>println</code> you are seeing the string representation of the item. However, even if you were to print the collection itself, you would still see <code>TreeSet(2, 1, 4)</code> as the output. That&#39;s because the main purpose of a <code>TreeSet</code> is that of being a <code>Set</code>, more specifically a <code>SortedSet</code>. The fact that it&#39;s implemented as a tree is an implementation detail. You can read more about it here (referring to 2.8-2.12): <a href=\"https://docs.scala-lang.org/overviews/collections/concrete-immutable-collection-classes.html#red-black-trees\" rel=\"nofollow noreferrer\">docs.scala-lang.org/overviews/collections/&hellip;</a>"},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1667392275,"post_id":74285379,"comment_id":131155280,"body_markdown":"Of course it is, if I wasn&#39;t clear, I wanted to print everything from top to bottom in the way it was initialized in the memory, not in ascending order.","body":"Of course it is, if I wasn&#39;t clear, I wanted to print everything from top to bottom in the way it was initialized in the memory, not in ascending order."},{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":0,"creation_date":1667393913,"post_id":74285379,"comment_id":131155825,"body_markdown":"If you ask for the first item, you should expect the first item according to the sorting criteria you provided (which is natural sorting for most built-in types). I don&#39;t think that `TreeSet` supports tree traversal operations, since it&#39;s there mostly as an implementation of a `SortedSet`. If it&#39;s not possible via the API you might want to get in touch with the Scala team and see if that could be a viable contribution. Can you clarify for me what is it that you ultimately want to achieve? Printing a tree following BFS doesn&#39;t seem an end goal, unless yours is pure exploration for learning.","body":"If you ask for the first item, you should expect the first item according to the sorting criteria you provided (which is natural sorting for most built-in types). I don&#39;t think that <code>TreeSet</code> supports tree traversal operations, since it&#39;s there mostly as an implementation of a <code>SortedSet</code>. If it&#39;s not possible via the API you might want to get in touch with the Scala team and see if that could be a viable contribution. Can you clarify for me what is it that you ultimately want to achieve? Printing a tree following BFS doesn&#39;t seem an end goal, unless yours is pure exploration for learning."},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1667415859,"post_id":74285379,"comment_id":131164425,"body_markdown":"You&#39;re right, that&#39;s only for practice and playing. Nevertheless, it still sounds weird that there is no option to verify the hierarchy of the tree in the memory.","body":"You&#39;re right, that&#39;s only for practice and playing. Nevertheless, it still sounds weird that there is no option to verify the hierarchy of the tree in the memory."},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1667416476,"post_id":74285379,"comment_id":131164620,"body_markdown":"`TreeSet` is actually smarter than you think. The tree is _self-balancing_, both trees in your example will actually look _the same_.  So, if you want to &quot;go from top to bottom&quot;, find the middle, place it on top, then go down a level, and repeat for left and right.","body":"<code>TreeSet</code> is actually smarter than you think. The tree is <i>self-balancing</i>, both trees in your example will actually look <i>the same</i>.  So, if you want to &quot;go from top to bottom&quot;, find the middle, place it on top, then go down a level, and repeat for left and right."},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1667468673,"post_id":74285379,"comment_id":131175495,"body_markdown":"Dima, is there an option in Scala for a simple Tree which doesn&#39;t move the elements and just store them ordered by FIFO?","body":"Dima, is there an option in Scala for a simple Tree which doesn&#39;t move the elements and just store them ordered by FIFO?"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1667481472,"post_id":74285379,"comment_id":131180057,"body_markdown":"@MaorAharon I don&#39;t think there is a library class like that (it wouldn&#39;t be very useful), but you can implement it yourself, it&#39;s fairly straight-forward. Though, I am not sure what you mean by &quot;FIFO&quot; in this context. There _is_ a FIFO Queue implementation in scala, but it is not a tree ...","body":"@MaorAharon I don&#39;t think there is a library class like that (it wouldn&#39;t be very useful), but you can implement it yourself, it&#39;s fairly straight-forward. Though, I am not sure what you mean by &quot;FIFO&quot; in this context. There <i>is</i> a FIFO Queue implementation in scala, but it is not a tree ..."}],"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667393683,"creation_date":1667372126,"question_id":74285379,"body_markdown":"Is there a way, in Scala, to print a TreeSet in a way it stored in the memory?\r\nFor example, in case I initialize a tree\r\n\r\n    val tree_1: TreeSet[Int] = TreeSet(4, 2, 1)\r\nI would expect to see something like -\r\n\r\n        4\r\n       /\r\n      2\r\n     /\r\n    1\r\nBut when I try to approach to root, all I can see is -\r\n\r\n    println(tree_1.head) //&gt;&gt; 1\r\n    println(tree_1.firstKey) //&gt;&gt; 1\r\n\r\nSame happens for \r\n\r\n    val tree_2: TreeSet[Int] = TreeSet(2, 1, 4)\r\n\r\nI would expect to see -\r\n \r\n\r\n        2\r\n       / \\\r\n      1   4\r\n\r\nBut I get the same result - \r\n\r\n    println(tree_2.head) //&gt;&gt; 1\r\n    println(tree_2.firstKey) //&gt;&gt; 1\r\n\r\nEdit - \r\nIf I wasn&#39;t clear, I want to print everything from top to bottom in the way it was initialized in the memory, not in ascending order. I know that `.head` or `.firstKey` are supposed to return only a value and not a Tree, I would like it to return the root value, then go to the right/left branch, print the value and keep going.\r\n","title":"Show TreeSet in Scala / Java","body":"<p>Is there a way, in Scala, to print a TreeSet in a way it stored in the memory?\nFor example, in case I initialize a tree</p>\n<pre><code>val tree_1: TreeSet[Int] = TreeSet(4, 2, 1)\n</code></pre>\n<p>I would expect to see something like -</p>\n<pre><code>    4\n   /\n  2\n /\n1\n</code></pre>\n<p>But when I try to approach to root, all I can see is -</p>\n<pre><code>println(tree_1.head) //&gt;&gt; 1\nprintln(tree_1.firstKey) //&gt;&gt; 1\n</code></pre>\n<p>Same happens for</p>\n<pre><code>val tree_2: TreeSet[Int] = TreeSet(2, 1, 4)\n</code></pre>\n<p>I would expect to see -</p>\n<pre><code>    2\n   / \\\n  1   4\n</code></pre>\n<p>But I get the same result -</p>\n<pre><code>println(tree_2.head) //&gt;&gt; 1\nprintln(tree_2.firstKey) //&gt;&gt; 1\n</code></pre>\n<p>Edit -\nIf I wasn't clear, I want to print everything from top to bottom in the way it was initialized in the memory, not in ascending order. I know that <code>.head</code> or <code>.firstKey</code> are supposed to return only a value and not a Tree, I would like it to return the root value, then go to the right/left branch, print the value and keep going.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"score":0,"creation_date":1667465437,"post_id":74289441,"comment_id":131174374,"body_markdown":"Note that your installed Java runtime environment is irrelevant (unless you have exported the model as standalone Java) since AnyLogic includes it&#39;s own Java environment.","body":"Note that your installed Java runtime environment is irrelevant (unless you have exported the model as standalone Java) since AnyLogic includes it&#39;s own Java environment."}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667393668,"creation_date":1667393668,"answer_id":74289491,"question_id":74289441,"body_markdown":"this has nothing to do with 8.8.1. Had same problem in 8.7.9.\r\n\r\nThis can be safely ignored but unfortunately not switched off. AnyLogic devs are aware and will turn the warning off in a future update. Until then, don&#39;t worry about it.\r\n\r\nIdeally, you change your logic to call this function only once at the model start so you do not see the error all the time at runtime. ","title":"Compliant JVM Error using executeExpression() in Anylogic","body":"<p>this has nothing to do with 8.8.1. Had same problem in 8.7.9.</p>\n<p>This can be safely ignored but unfortunately not switched off. AnyLogic devs are aware and will turn the warning off in a future update. Until then, don't worry about it.</p>\n<p>Ideally, you change your logic to call this function only once at the model start so you do not see the error all the time at runtime.</p>\n"}],"owner":{"account_id":24443649,"reputation":358,"user_id":18366972,"display_name":"Yossi Benagou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74289491,"answer_count":1,"score":0,"last_activity_date":1667393668,"creation_date":1667393460,"question_id":74289441,"body_markdown":"I am using AnyLogic 8 Professional 8.8.1.\r\n\r\nWhen I try to use the function ```executeExpression()``` to run code that I have as a String, I get an error that I haven&#39;t encountered so far.\r\n\r\n```\r\nAnnotation processing got disabled, since it requires a 1.6 compliant JVM\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/s1cnY.png)](https://i.stack.imgur.com/s1cnY.png)\r\n\r\nThis error does not stop the simulation, And the function works.\r\n\r\n\r\n\r\n\r\nI checked my JAVA version in the CMD window using ```java -version``` I get the following output:\r\n\r\n```\r\njava version &quot;19.0.1&quot; 2022-10-18\r\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n```\r\n\r\nIf anyone has an idea for a solution I would love to hear it.\r\n\r\nThanks in advance!","title":"Compliant JVM Error using executeExpression() in Anylogic","body":"<p>I am using AnyLogic 8 Professional 8.8.1.</p>\n<p>When I try to use the function <code>executeExpression()</code> to run code that I have as a String, I get an error that I haven't encountered so far.</p>\n<pre><code>Annotation processing got disabled, since it requires a 1.6 compliant JVM\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/s1cnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1cnY.png\" alt=\"enter image description here\" /></a></p>\n<p>This error does not stop the simulation, And the function works.</p>\n<p>I checked my JAVA version in the CMD window using <code>java -version</code> I get the following output:</p>\n<pre><code>java version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n</code></pre>\n<p>If anyone has an idea for a solution I would love to hear it.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","java-time","localdatetime","java.time.instant"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1666796841,"post_id":74210000,"comment_id":131021661,"body_markdown":"You seem to have involved a DST change by accident. What&#39;s the default time zone of your system? It may change at the end of october and add an hour! Take `ZoneId.of(&quot;UTC&quot;)` instead of `ZoneId.systemDefault()`…","body":"You seem to have involved a DST change by accident. What&#39;s the default time zone of your system? It may change at the end of october and add an hour! Take <code>ZoneId.of(&quot;UTC&quot;)</code> instead of <code>ZoneId.systemDefault()</code>…"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666797018,"post_id":74210000,"comment_id":131021725,"body_markdown":"wouldn&#39;t the 2nd one also be an hour plus 16 if they add an hour after October @deHaar","body":"wouldn&#39;t the 2nd one also be an hour plus 16 if they add an hour after October @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666797086,"post_id":74210000,"comment_id":131021756,"body_markdown":"That&#39;s what OP has to find out… I&#39;m not sure it&#39;s the case, but it&#39;s possible… That means try and see.","body":"That&#39;s what OP has to find out… I&#39;m not sure it&#39;s the case, but it&#39;s possible… That means try and see."},{"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"score":1,"creation_date":1666797714,"post_id":74210000,"comment_id":131022018,"body_markdown":"My system default is _Europe/Prague_. I didn&#39;t think of that it could be time change at the end of October. You are right! When using `ZoneId.of(&quot;UTC&quot;)` it gives equal results.","body":"My system default is <i>Europe/Prague</i>. I didn&#39;t think of that it could be time change at the end of October. You are right! When using <code>ZoneId.of(&quot;UTC&quot;)</code> it gives equal results."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666798114,"post_id":74210000,"comment_id":131022180,"body_markdown":"@devin NO, `LocalDateTime` has no concept of time zone (also the reason to need  `atZone()` to convert it)","body":"@devin NO, <code>LocalDateTime</code> has no concept of time zone (also the reason to need  <code>atZone()</code> to convert it)"}],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666802255,"creation_date":1666802255,"answer_id":74211312,"question_id":74210000,"body_markdown":"The method `atZone()` returns ZonedDatetime and then you experience the daylight saving effect.\r\nDifferent zones around the globe have daylight saving at different dates.\r\n\r\nSo your prints are:\r\n```bash\r\n 1. 2022-10-26T16:53:59.691891  // LocalDateTime\r\n 2. 2022-11-26T16:53:59.691891  // LocalDateTime\r\n\r\n 3. 2022-10-26T14:53:59.691891Z // ZonedDateTime\r\n 4. 2022-11-26T15:53:59.691891Z // ZonedDateTime\r\n\r\n 5. 2022-10-26T14:53:59.691891Z // ZonedDateTime\r\n 6. 2022-11-26T15:53:59.691891Z // ZonedDateTime  \r\n```\r\n\r\n`UTC` time zone is like a reference point for any other timezone. For example `CET, central european time` timezone have the zone offsets of `UTC+2` and `UTC+1` depending on the period of the year. \r\n\r\nYou can see this effect by executing the following snippet:\r\n```java\r\nZonedDateTime zdt1 = ldtNow.atZone(ZoneOffset.systemDefault());\r\nZonedDateTime zdt2 = ldtNextMonth.atZone(ZoneOffset.systemDefault());\r\n\r\nSystem.out.println(ZoneOffset.from(zdt1));   // prints +02:00\r\nSystem.out.println(ZoneOffset.from(zdt2));   // prints +01:00\r\n```\r\n\r\n","title":"Why is conversion from LocalDateTime to Instant not working?","body":"<p>The method <code>atZone()</code> returns ZonedDatetime and then you experience the daylight saving effect.\nDifferent zones around the globe have daylight saving at different dates.</p>\n<p>So your prints are:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> 1. 2022-10-26T16:53:59.691891  // LocalDateTime\n 2. 2022-11-26T16:53:59.691891  // LocalDateTime\n\n 3. 2022-10-26T14:53:59.691891Z // ZonedDateTime\n 4. 2022-11-26T15:53:59.691891Z // ZonedDateTime\n\n 5. 2022-10-26T14:53:59.691891Z // ZonedDateTime\n 6. 2022-11-26T15:53:59.691891Z // ZonedDateTime  \n</code></pre>\n<p><code>UTC</code> time zone is like a reference point for any other timezone. For example <code>CET, central european time</code> timezone have the zone offsets of <code>UTC+2</code> and <code>UTC+1</code> depending on the period of the year.</p>\n<p>You can see this effect by executing the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt1 = ldtNow.atZone(ZoneOffset.systemDefault());\nZonedDateTime zdt2 = ldtNextMonth.atZone(ZoneOffset.systemDefault());\n\nSystem.out.println(ZoneOffset.from(zdt1));   // prints +02:00\nSystem.out.println(ZoneOffset.from(zdt2));   // prints +01:00\n</code></pre>\n"}],"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74211312,"answer_count":1,"score":0,"last_activity_date":1667393600,"creation_date":1666796685,"question_id":74210000,"body_markdown":"Do you know why 4. and 6. prints have wrong hours in following code? \r\n\r\n```java\r\nLocalDateTime ldtNow = LocalDateTime.now();\r\nLocalDateTime ldtNextMonth = ldtNow.plusMonths(1);\r\n\r\nSystem.out.println(&quot;1. &quot; + ldtNow);\r\nSystem.out.println(&quot;2. &quot; + ldtNextMonth);\r\n\r\nSystem.out.println(&quot;3. &quot; + ldtNow.atZone(ZoneId.systemDefault()).toInstant().toString());\r\nSystem.out.println(&quot;4. &quot; + ldtNextMonth.atZone(ZoneId.systemDefault()).toInstant().toString());\r\n\r\nSystem.out.println(&quot;5. &quot; + ldtNow.atZone(ZoneOffset.systemDefault()).toInstant().toString());\r\nSystem.out.println(&quot;6. &quot; + ldtNextMonth.atZone(ZoneOffset.systemDefault()).toInstant().toString());\r\n```\r\nThis is what it prints:\r\n```none\r\n 1. 2022-10-26T16:53:59.691891\r\n 2. 2022-11-26T16:53:59.691891\r\n\r\n 3. 2022-10-26T14:53:59.691891Z\r\n 4. 2022-11-26T15:53:59.691891Z //WRONG?\r\n\r\n 5. 2022-10-26T14:53:59.691891Z\r\n 6. 2022-11-26T15:53:59.691891Z //WRONG?\r\n```\r\nPrints 3. &amp; 4. test it with ZoneId and prints 5. &amp; 6. with ZoneOffset.\r\n\r\nThe only difference between 3. &amp; 4. (and 5. &amp; 6.) is the usage of  _LocalDateTime#plusMonths_ method. What should I do to get right result for zero time (_2022-11-26T**14**:53:59.691891Z_)?","title":"Why is conversion from LocalDateTime to Instant not working?","body":"<p>Do you know why 4. and 6. prints have wrong hours in following code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime ldtNow = LocalDateTime.now();\nLocalDateTime ldtNextMonth = ldtNow.plusMonths(1);\n\nSystem.out.println(&quot;1. &quot; + ldtNow);\nSystem.out.println(&quot;2. &quot; + ldtNextMonth);\n\nSystem.out.println(&quot;3. &quot; + ldtNow.atZone(ZoneId.systemDefault()).toInstant().toString());\nSystem.out.println(&quot;4. &quot; + ldtNextMonth.atZone(ZoneId.systemDefault()).toInstant().toString());\n\nSystem.out.println(&quot;5. &quot; + ldtNow.atZone(ZoneOffset.systemDefault()).toInstant().toString());\nSystem.out.println(&quot;6. &quot; + ldtNextMonth.atZone(ZoneOffset.systemDefault()).toInstant().toString());\n</code></pre>\n<p>This is what it prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1. 2022-10-26T16:53:59.691891\n 2. 2022-11-26T16:53:59.691891\n\n 3. 2022-10-26T14:53:59.691891Z\n 4. 2022-11-26T15:53:59.691891Z //WRONG?\n\n 5. 2022-10-26T14:53:59.691891Z\n 6. 2022-11-26T15:53:59.691891Z //WRONG?\n</code></pre>\n<p>Prints 3. &amp; 4. test it with ZoneId and prints 5. &amp; 6. with ZoneOffset.</p>\n<p>The only difference between 3. &amp; 4. (and 5. &amp; 6.) is the usage of  <em>LocalDateTime#plusMonths</em> method. What should I do to get right result for zero time (<em>2022-11-26T<strong>14</strong>:53:59.691891Z</em>)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1667388912,"post_id":74288482,"comment_id":131154215,"body_markdown":"What is your question? Where are you stuck? What is the output you&#39;re getting?","body":"What is your question? Where are you stuck? What is the output you&#39;re getting?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1667389392,"post_id":74288482,"comment_id":131154349,"body_markdown":"Your String literals contain spaces that do not appear in the sample images.","body":"Your String literals contain spaces that do not appear in the sample images."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667394517,"post_id":74288482,"comment_id":131156066,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667393454,"creation_date":1667391940,"answer_id":74289136,"question_id":74288482,"body_markdown":"Try this.\r\n\r\n    static void createPattern(int n){\r\n        String word = &quot;WELCOME&quot;;\r\n        int m = n * 3, n2 = n / 2, w = (m - word.length()) / 2;\r\n        for (int i = 0, h = n2 * 3, v = 1; i &lt; n2; ++i, h -= 3, v += 2)\r\n            System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\r\n        System.out.println(&quot;-&quot;.repeat(w) + word + &quot;-&quot;.repeat(w));\r\n        for (int i = 0, h = 3, v = n2 * 2 - 1; i &lt; n2; ++i, h += 3, v -= 2) \r\n            System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        createPattern(5);\r\n        System.out.println();\r\n        createPattern(7);\r\n        System.out.println();\r\n        createPattern(11);\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    ------.|.------\r\n    ---.|..|..|.---\r\n    ----WELCOME----\r\n    ---.|..|..|.---\r\n    ------.|.------\r\n    \r\n    ---------.|.---------\r\n    ------.|..|..|.------\r\n    ---.|..|..|..|..|.---\r\n    -------WELCOME-------\r\n    ---.|..|..|..|..|.---\r\n    ------.|..|..|.------\r\n    ---------.|.---------\r\n    \r\n    ---------------.|.---------------\r\n    ------------.|..|..|.------------\r\n    ---------.|..|..|..|..|.---------\r\n    ------.|..|..|..|..|..|..|.------\r\n    ---.|..|..|..|..|..|..|..|..|.---\r\n    -------------WELCOME-------------\r\n    ---.|..|..|..|..|..|..|..|..|.---\r\n    ------.|..|..|..|..|..|..|.------\r\n    ---------.|..|..|..|..|.---------\r\n    ------------.|..|..|.------------\r\n    ---------------.|.---------------\r\n\r\n","title":"Pattern printing using java","body":"<p>Try this.</p>\n<pre><code>static void createPattern(int n){\n    String word = &quot;WELCOME&quot;;\n    int m = n * 3, n2 = n / 2, w = (m - word.length()) / 2;\n    for (int i = 0, h = n2 * 3, v = 1; i &lt; n2; ++i, h -= 3, v += 2)\n        System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\n    System.out.println(&quot;-&quot;.repeat(w) + word + &quot;-&quot;.repeat(w));\n    for (int i = 0, h = 3, v = n2 * 2 - 1; i &lt; n2; ++i, h += 3, v -= 2) \n        System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\n}\n\npublic static void main(String[] args) {\n    createPattern(5);\n    System.out.println();\n    createPattern(7);\n    System.out.println();\n    createPattern(11);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>------.|.------\n---.|..|..|.---\n----WELCOME----\n---.|..|..|.---\n------.|.------\n\n---------.|.---------\n------.|..|..|.------\n---.|..|..|..|..|.---\n-------WELCOME-------\n---.|..|..|..|..|.---\n------.|..|..|.------\n---------.|.---------\n\n---------------.|.---------------\n------------.|..|..|.------------\n---------.|..|..|..|..|.---------\n------.|..|..|..|..|..|..|.------\n---.|..|..|..|..|..|..|..|..|.---\n-------------WELCOME-------------\n---.|..|..|..|..|..|..|..|..|.---\n------.|..|..|..|..|..|..|.------\n---------.|..|..|..|..|.---------\n------------.|..|..|.------------\n---------------.|.---------------\n</code></pre>\n"}],"owner":{"account_id":26013810,"reputation":7,"user_id":19722401,"display_name":"Arun KB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74289136,"answer_count":1,"score":-3,"last_activity_date":1667393454,"creation_date":1667388610,"question_id":74288482,"body_markdown":"can you guys help me with this pattern \r\n\r\n\r\nsize must be N X M. ( N is an odd natural number between 5 to 101, and M is 3 times N.)\r\nThe design should have &#39;WELCOME&#39; written in the center.\r\nThe design pattern should only use  | , .  and - characters.\r\n\r\nExample patterns are shown in image \r\n\r\n\r\n[![example patterns](https://i.stack.imgur.com/SSdDq.jpg)](https://i.stack.imgur.com/SSdDq.jpg)Can\r\n\r\n\r\n\r\n\r\n\r\n```\r\nclass DimondText{\r\n \r\n \r\n\r\n   \r\n  static void createPattern(int n, int m){\r\n         int c=m/2;\r\n          for(int i=1;i&lt;n;i++){\r\n            if(i%2!=0 || i==1){\r\n              for(int j=i;j&lt;=c;j++){\r\n                  System.out.print(&quot;- &quot;);\r\n \r\n             }\r\n             for(int j=1;j&lt;=i;j++){\r\n                 System.out.print(&quot;. | .&quot;);\r\n                 j+=1;\r\n             }\r\n             for(int j=1;j&lt;i;j++){\r\n                 System.out.print(&quot;. | .&quot;);                                                                                                            \r\n                 j+=1;\r\n             }\r\n             for(int j=i;j&lt;=c;j++){\r\n                 System.out.print(&quot;- &quot;);\r\n             }\r\n              System.out.print(&quot;\\n&quot;);\r\n         }\r\n       }\r\n     for(int i=0;i&lt;n;i++){                    \r\n      System.out.print(&quot;- &quot;);\r\n         }\r\n     System.out.print(&quot;\\n&quot;);\r\n\r\n     for(int i=1;i&lt;=n;i++){\r\n       if(i%2!=0){\r\n        for(int j=1;j&lt;=n-i;j++){\r\n            System.out.print(&quot;- &quot;);\r\n         }\r\n         for(int j=i;j&lt;c-i;j++){\r\n            System.out.print(&quot;. | .&quot;);\r\n            j+=1;\r\n         }\r\n        for(int j=i;j&lt;c-i;j++){\r\n            System.out.print(&quot;. | .&quot;);\r\n            j+=1;\r\n        }\r\n         for(int j=1;j&lt;=n-i;j++){\r\n             System.out.print(&quot;- &quot;);\r\n         }\r\n         System.out.print(&quot;\\n&quot;);       }\r\n    }\r\n\r\n   }\r\n\r\n     public static void main(String[]arg){\r\n\r\n         createPattern(7,21);\r\n     }\r\n }\r\n```\r\n","title":"Pattern printing using java","body":"<p>can you guys help me with this pattern</p>\n<p>size must be N X M. ( N is an odd natural number between 5 to 101, and M is 3 times N.)\nThe design should have 'WELCOME' written in the center.\nThe design pattern should only use  | , .  and - characters.</p>\n<p>Example patterns are shown in image</p>\n<p><a href=\"https://i.stack.imgur.com/SSdDq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSdDq.jpg\" alt=\"example patterns\" /></a>Can</p>\n<pre><code>class DimondText{\n \n \n\n   \n  static void createPattern(int n, int m){\n         int c=m/2;\n          for(int i=1;i&lt;n;i++){\n            if(i%2!=0 || i==1){\n              for(int j=i;j&lt;=c;j++){\n                  System.out.print(&quot;- &quot;);\n \n             }\n             for(int j=1;j&lt;=i;j++){\n                 System.out.print(&quot;. | .&quot;);\n                 j+=1;\n             }\n             for(int j=1;j&lt;i;j++){\n                 System.out.print(&quot;. | .&quot;);                                                                                                            \n                 j+=1;\n             }\n             for(int j=i;j&lt;=c;j++){\n                 System.out.print(&quot;- &quot;);\n             }\n              System.out.print(&quot;\\n&quot;);\n         }\n       }\n     for(int i=0;i&lt;n;i++){                    \n      System.out.print(&quot;- &quot;);\n         }\n     System.out.print(&quot;\\n&quot;);\n\n     for(int i=1;i&lt;=n;i++){\n       if(i%2!=0){\n        for(int j=1;j&lt;=n-i;j++){\n            System.out.print(&quot;- &quot;);\n         }\n         for(int j=i;j&lt;c-i;j++){\n            System.out.print(&quot;. | .&quot;);\n            j+=1;\n         }\n        for(int j=i;j&lt;c-i;j++){\n            System.out.print(&quot;. | .&quot;);\n            j+=1;\n        }\n         for(int j=1;j&lt;=n-i;j++){\n             System.out.print(&quot;- &quot;);\n         }\n         System.out.print(&quot;\\n&quot;);       }\n    }\n\n   }\n\n     public static void main(String[]arg){\n\n         createPattern(7,21);\n     }\n }\n</code></pre>\n"},{"tags":["java","json","gson","json-deserialization","json-serialization"],"comments":[{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":1,"creation_date":1592060394,"post_id":62358189,"comment_id":110291735,"body_markdown":"Please provide an [MCVE](http://idownvotedbecau.se/nomcve/)","body":"Please provide an <a href=\"http://idownvotedbecau.se/nomcve/\" rel=\"nofollow noreferrer\">MCVE</a>"},{"owner":{"account_id":18836471,"reputation":39,"user_id":13739016,"display_name":"coolitos"},"score":0,"creation_date":1592208110,"post_id":62358189,"comment_id":110331388,"body_markdown":"I think I added all the missing pieces. If something&#39;s still missing, please tell me.","body":"I think I added all the missing pieces. If something&#39;s still missing, please tell me."}],"answers":[{"tags":[],"owner":{"account_id":2959906,"reputation":475,"user_id":3146077,"accept_rate":100,"display_name":"Werner Thumann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603729857,"creation_date":1603729857,"answer_id":64541214,"question_id":62358189,"body_markdown":"Much too late for the poster, but maybe for anyone who also stumbles into this pitfall (like me). This solution is also proposed on some blogs on the internet. However, they use **registerTypeAdapter** instead of **registerTypeHierarchyAdapter**.\r\n\r\nInteresting note: There are also vice-versa cases where *registerTypeAdapter* causes stack overflow and *registerTypeHierarchyAdapter* works, see [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36964995/how-to-serialize-java-nio-file-path-with-gson","title":"Gson: StackOverflowError during serialization","body":"<p>Much too late for the poster, but maybe for anyone who also stumbles into this pitfall (like me). This solution is also proposed on some blogs on the internet. However, they use <strong>registerTypeAdapter</strong> instead of <strong>registerTypeHierarchyAdapter</strong>.</p>\n<p>Interesting note: There are also vice-versa cases where <em>registerTypeAdapter</em> causes stack overflow and <em>registerTypeHierarchyAdapter</em> works, see <a href=\"https://stackoverflow.com/questions/36964995/how-to-serialize-java-nio-file-path-with-gson\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2151963,"reputation":620,"user_id":1908087,"display_name":"phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667393318,"creation_date":1667393318,"answer_id":74289416,"question_id":62358189,"body_markdown":"use another gson ( new Gson() )\r\n\r\n    @Override\r\n    public JsonElement serialize(T object, Type interfaceType, JsonSerializationContext context) {\r\n        final JsonObject wrapper = new JsonObject();\r\n        wrapper.addProperty(&quot;type&quot;, object.getClass().getName());\r\n        wrapper.add(&quot;data&quot;, new Gson().toJsonTree(object));\r\n        return wrapper;\r\n    }","title":"Gson: StackOverflowError during serialization","body":"<p>use another gson ( new Gson() )</p>\n<pre><code>@Override\npublic JsonElement serialize(T object, Type interfaceType, JsonSerializationContext context) {\n    final JsonObject wrapper = new JsonObject();\n    wrapper.addProperty(&quot;type&quot;, object.getClass().getName());\n    wrapper.add(&quot;data&quot;, new Gson().toJsonTree(object));\n    return wrapper;\n}\n</code></pre>\n"}],"owner":{"account_id":18836471,"reputation":39,"user_id":13739016,"display_name":"coolitos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1087,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1667393318,"creation_date":1592042507,"question_id":62358189,"body_markdown":"I wrote this class and i need to serialize the field gameTimer, whose type is the interface TimerP.\r\n\r\n    public class PlayerImpl implements Player {\r\n\r\n    @Expose\r\n    private final String nickname;\r\n    @Expose\r\n    private final TimerP gameTimer;\r\n    @Expose\r\n    private final int finalScore;\r\nTo solve this problem I wrote an interfaceAdapter:\r\n\r\n    public class InterfaceAdapter&lt;T&gt; implements JsonSerializer&lt;T&gt;, JsonDeserializer&lt;T&gt; {\r\n\r\n    private static final String CLASSNAME = &quot;CLASSNAME&quot;;\r\n    private static final String DATA = &quot;DATA&quot;;\r\n\r\n    @Override\r\n    public T deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context) throws JsonParseException {\r\n        JsonObject jsonObject = json.getAsJsonObject();\r\n        JsonPrimitive prim = (JsonPrimitive) jsonObject.get(CLASSNAME);\r\n        String className = prim.getAsString();\r\n        Class&lt;?&gt; c = this.getObjectClass(className);\r\n            return context.deserialize(jsonObject.get(DATA), c);\r\n    }\r\n\r\n    @Override\r\n    public JsonElement serialize(final T src, final Type typeOfSrc, final JsonSerializationContext context) {\r\n        JsonObject jsonObject = new JsonObject();\r\n        jsonObject.addProperty(CLASSNAME, src.getClass().getName());\r\n        jsonObject.add(DATA, context.serialize(src));\r\n        return jsonObject;\r\n    }\r\n\r\n    /****** Helper method to get the className of the object to be deserialized. *****/\r\n    private Class&lt;?&gt; getObjectClass(final String className) {\r\n        try {\r\n            return Class.forName(className);\r\n            } catch (ClassNotFoundException e) {\r\n                //e.printStackTrace();\r\n                throw new JsonParseException(e.getMessage());\r\n            }\r\n    }\r\n\r\nbut it gives this exception when trying to serialize the object:\r\n\r\n    Caused by: java.lang.StackOverflowError\r\n\tat com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:104)\r\n\tat com.google.gson.reflect.TypeToken.&lt;init&gt;(TypeToken.java:72)\r\n\tat com.google.gson.reflect.TypeToken.get(TypeToken.java:296)\r\n\tat com.google.gson.Gson.toJson(Gson.java:696)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:597)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:576)\r\n\tat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\r\n\tat common.InterfaceAdapter.serialize(InterfaceAdapter.java:33)\r\n\tat common.InterfaceAdapter.serialize(InterfaceAdapter.java:15)\r\n\tat com.google.gson.internal.bind.TreeTypeAdapter.write(TreeTypeAdapter.java:81)\r\n\tat com.google.gson.Gson.toJson(Gson.java:704)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:597)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:576)\r\n\tat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\r\nThis is the class where I read and write on the file:\r\n\r\n    public class LeaderboardImpl implements Leaderboard {\r\n\r\n    private final File directory = new File(System.getProperty(&quot;user.home&quot;), &quot;.unitype&quot;);\r\n    private final File file = new File(directory, FILE_NAME);\r\n    private static final String FILE_NAME = &quot;unitype.json&quot;;\r\n\r\n    /**\r\n     * Returns the instance of this class.\r\n     * \r\n     * @return the instance of this class\r\n     */\r\n    public static LeaderboardImpl getLeaderboard() {\r\n        return LazyHolderLeaderboard.SINGLETON;\r\n    }\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public void addPlayer(final Player p) {\r\n        final Gson gson = new GsonBuilder()\r\n                            .excludeFieldsWithoutExposeAnnotation()\r\n                            .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\r\n                            .create();\r\n        final List&lt;Player&gt; playersList = this.getPlayersList();\r\n        playersList.add(p);\r\n        final String json = gson.toJson(playersList);\r\n        this.checkFile();\r\n        try (FileWriter writer = new FileWriter(file)) {\r\n            writer.write(json);\r\n            writer.flush();\r\n        } catch (JsonIOException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public List&lt;Player&gt; getPlayersList() {\r\n        final Gson gson = new GsonBuilder()\r\n                .excludeFieldsWithoutExposeAnnotation()\r\n                .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\r\n                .create();\r\n        List&lt;Player&gt; playersList = new ArrayList&lt;&gt;();\r\n        this.checkFile();\r\n        try (JsonReader jsonReader = new JsonReader(new FileReader(file))) {\r\n            final JsonElement js = JsonParser.parseReader(jsonReader);\r\n            if (js.isJsonObject()) {\r\n                final JsonObject jsonObject = js.getAsJsonObject();\r\n                playersList.add(gson.fromJson(jsonObject, PlayerImpl.class));\r\n            } else if (js.isJsonArray()) {\r\n                playersList = gson.fromJson(js,\r\n                        new TypeToken&lt;List&lt;PlayerImpl&gt;&gt;() { }.getType());\r\n            }\r\n        } catch (JsonSyntaxException | JsonIOException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return playersList;\r\n    }\r\n\r\nI tried everything but I could&#39;t find any solution and I don&#39;t understand why it doesn&#39;t work","title":"Gson: StackOverflowError during serialization","body":"<p>I wrote this class and i need to serialize the field gameTimer, whose type is the interface TimerP.</p>\n\n<pre><code>public class PlayerImpl implements Player {\n\n@Expose\nprivate final String nickname;\n@Expose\nprivate final TimerP gameTimer;\n@Expose\nprivate final int finalScore;\n</code></pre>\n\n<p>To solve this problem I wrote an interfaceAdapter:</p>\n\n<pre><code>public class InterfaceAdapter&lt;T&gt; implements JsonSerializer&lt;T&gt;, JsonDeserializer&lt;T&gt; {\n\nprivate static final String CLASSNAME = \"CLASSNAME\";\nprivate static final String DATA = \"DATA\";\n\n@Override\npublic T deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context) throws JsonParseException {\n    JsonObject jsonObject = json.getAsJsonObject();\n    JsonPrimitive prim = (JsonPrimitive) jsonObject.get(CLASSNAME);\n    String className = prim.getAsString();\n    Class&lt;?&gt; c = this.getObjectClass(className);\n        return context.deserialize(jsonObject.get(DATA), c);\n}\n\n@Override\npublic JsonElement serialize(final T src, final Type typeOfSrc, final JsonSerializationContext context) {\n    JsonObject jsonObject = new JsonObject();\n    jsonObject.addProperty(CLASSNAME, src.getClass().getName());\n    jsonObject.add(DATA, context.serialize(src));\n    return jsonObject;\n}\n\n/****** Helper method to get the className of the object to be deserialized. *****/\nprivate Class&lt;?&gt; getObjectClass(final String className) {\n    try {\n        return Class.forName(className);\n        } catch (ClassNotFoundException e) {\n            //e.printStackTrace();\n            throw new JsonParseException(e.getMessage());\n        }\n}\n</code></pre>\n\n<p>but it gives this exception when trying to serialize the object:</p>\n\n<pre><code>Caused by: java.lang.StackOverflowError\nat com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:104)\nat com.google.gson.reflect.TypeToken.&lt;init&gt;(TypeToken.java:72)\nat com.google.gson.reflect.TypeToken.get(TypeToken.java:296)\nat com.google.gson.Gson.toJson(Gson.java:696)\nat com.google.gson.Gson.toJsonTree(Gson.java:597)\nat com.google.gson.Gson.toJsonTree(Gson.java:576)\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\nat common.InterfaceAdapter.serialize(InterfaceAdapter.java:33)\nat common.InterfaceAdapter.serialize(InterfaceAdapter.java:15)\nat com.google.gson.internal.bind.TreeTypeAdapter.write(TreeTypeAdapter.java:81)\nat com.google.gson.Gson.toJson(Gson.java:704)\nat com.google.gson.Gson.toJsonTree(Gson.java:597)\nat com.google.gson.Gson.toJsonTree(Gson.java:576)\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\n</code></pre>\n\n<p>This is the class where I read and write on the file:</p>\n\n<pre><code>public class LeaderboardImpl implements Leaderboard {\n\nprivate final File directory = new File(System.getProperty(\"user.home\"), \".unitype\");\nprivate final File file = new File(directory, FILE_NAME);\nprivate static final String FILE_NAME = \"unitype.json\";\n\n/**\n * Returns the instance of this class.\n * \n * @return the instance of this class\n */\npublic static LeaderboardImpl getLeaderboard() {\n    return LazyHolderLeaderboard.SINGLETON;\n}\n\n/**\n * {@inheritDoc}\n */\n@Override\npublic void addPlayer(final Player p) {\n    final Gson gson = new GsonBuilder()\n                        .excludeFieldsWithoutExposeAnnotation()\n                        .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\n                        .create();\n    final List&lt;Player&gt; playersList = this.getPlayersList();\n    playersList.add(p);\n    final String json = gson.toJson(playersList);\n    this.checkFile();\n    try (FileWriter writer = new FileWriter(file)) {\n        writer.write(json);\n        writer.flush();\n    } catch (JsonIOException | IOException e) {\n        e.printStackTrace();\n    }\n}\n\n/**\n * {@inheritDoc}\n */\n@Override\npublic List&lt;Player&gt; getPlayersList() {\n    final Gson gson = new GsonBuilder()\n            .excludeFieldsWithoutExposeAnnotation()\n            .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\n            .create();\n    List&lt;Player&gt; playersList = new ArrayList&lt;&gt;();\n    this.checkFile();\n    try (JsonReader jsonReader = new JsonReader(new FileReader(file))) {\n        final JsonElement js = JsonParser.parseReader(jsonReader);\n        if (js.isJsonObject()) {\n            final JsonObject jsonObject = js.getAsJsonObject();\n            playersList.add(gson.fromJson(jsonObject, PlayerImpl.class));\n        } else if (js.isJsonArray()) {\n            playersList = gson.fromJson(js,\n                    new TypeToken&lt;List&lt;PlayerImpl&gt;&gt;() { }.getType());\n        }\n    } catch (JsonSyntaxException | JsonIOException | IOException e) {\n        e.printStackTrace();\n    }\n    return playersList;\n}\n</code></pre>\n\n<p>I tried everything but I could't find any solution and I don't understand why it doesn't work</p>\n"},{"tags":["java","sql","sqlite","google-chrome"],"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1588681225,"post_id":61253276,"comment_id":108986055,"body_markdown":"I’m voting to close this question because you&#39;re asking for something that is not feasible. My answer shows how to get a visit duration for a website. More than that, you want to keep track of each tab&#39;s time (the timer would pause when the tab is not selected) and this is something is not supported by Chrome.","body":"I’m voting to close this question because you&#39;re asking for something that is not feasible. My answer shows how to get a visit duration for a website. More than that, you want to keep track of each tab&#39;s time (the timer would pause when the tab is not selected) and this is something is not supported by Chrome."}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667393134,"creation_date":1587075817,"answer_id":61261060,"question_id":61253276,"body_markdown":"`visit_duration` Stores duration in microseconds, you need to convert and format that number. Here is one way to show a human-readable visit duration:\r\n```sql\r\nSELECT urls.url AS URL, (visits.visit_duration / 3600 / 1000000) || &#39; hours &#39; || strftime(&#39;%M minutes %S seconds&#39;, visits.visit_duration / 1000000 / 86400.0) AS Duration\r\nFROM urls LEFT JOIN visits ON urls.id = visits.url\r\n```\r\nHere is a sample output:\r\n\r\nURL                             | Duration\r\n--------------------------------|------------------------------\r\nhttp://www.stackoverflow.com/\t| 3 hours 14 minutes 15 seconds\r\n\r\nYou can also use [`strftime`][1] if you want more format options \r\n\r\n\r\n  [1]: https://www.sqlite.org/lang_datefunc.html","title":"Time spent on each chrome tab/website from data stored in History sqlite","body":"<p><code>visit_duration</code> Stores duration in microseconds, you need to convert and format that number. Here is one way to show a human-readable visit duration:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT urls.url AS URL, (visits.visit_duration / 3600 / 1000000) || ' hours ' || strftime('%M minutes %S seconds', visits.visit_duration / 1000000 / 86400.0) AS Duration\nFROM urls LEFT JOIN visits ON urls.id = visits.url\n</code></pre>\n<p>Here is a sample output:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>URL</th>\n<th>Duration</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"http://www.stackoverflow.com/\">http://www.stackoverflow.com/</a></td>\n<td>3 hours 14 minutes 15 seconds</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can also use <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\"><code>strftime</code></a> if you want more format options</p>\n"}],"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61261060,"answer_count":1,"score":0,"last_activity_date":1667393134,"creation_date":1587048725,"question_id":61253276,"body_markdown":"I am trying to find out the time spent on each tab/website by the user. \r\nFor example if I visited youtube and watched it for 10 minutes then I should be able to see something like this\r\nwww.youtube.com    ---&gt; 10 minutes\r\n\r\nI already made a connection with sqlite database i.e. History file present in chrome directory and was able to run the following sql command to fetch the data:\r\n\r\n```\r\nSELECT urls.id, urls.url, urls.title, urls.visit_count, urls.typed_count, urls.last_visit_time, urls.hidden, urls.favicon_id, visits.visit_time, visits.from_visit, visits.visit_duration, visits.transition, visit_source.source FROM urls JOIN visits ON urls.id = visits.url LEFT JOIN visit_source ON visits.id = visit_source.id\r\n```\r\n\r\nSo can anyone tell me which combination of column can i use to get the time spent on each website.\r\n\r\nPlease note that: visit_duration is not giving me appropriate data.\r\n","title":"Time spent on each chrome tab/website from data stored in History sqlite","body":"<p>I am trying to find out the time spent on each tab/website by the user. \nFor example if I visited youtube and watched it for 10 minutes then I should be able to see something like this\nwww.youtube.com    ---> 10 minutes</p>\n\n<p>I already made a connection with sqlite database i.e. History file present in chrome directory and was able to run the following sql command to fetch the data:</p>\n\n<pre><code>SELECT urls.id, urls.url, urls.title, urls.visit_count, urls.typed_count, urls.last_visit_time, urls.hidden, urls.favicon_id, visits.visit_time, visits.from_visit, visits.visit_duration, visits.transition, visit_source.source FROM urls JOIN visits ON urls.id = visits.url LEFT JOIN visit_source ON visits.id = visit_source.id\n</code></pre>\n\n<p>So can anyone tell me which combination of column can i use to get the time spent on each website.</p>\n\n<p>Please note that: visit_duration is not giving me appropriate data.</p>\n"},{"tags":["java","maven","jar","pom.xml"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1667393039,"post_id":74289297,"comment_id":131155543,"body_markdown":"A file embedded in a jar should be accessed as a resource, not as a file.","body":"A file embedded in a jar should be accessed as a resource, not as a file."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667393040,"post_id":74289297,"comment_id":131155545,"body_markdown":"Note that `src/main/resources` contains _ressource_ files as per the name of the directory. By default Maven puts those resources into the root of the target jar&#39;s classpath so `String rootPath = &quot;src/main/resources/&quot;` would only ever work if the application is run from within the IDE. What does `suffixing.jar` contain? Why is that a resource?","body":"Note that <code>src&#47;main&#47;resources</code> contains <i>ressource</i> files as per the name of the directory. By default Maven puts those resources into the root of the target jar&#39;s classpath so <code>String rootPath = &quot;src&#47;main&#47;resources&#47;&quot;</code> would only ever work if the application is run from within the IDE. What does <code>suffixing.jar</code> contain? Why is that a resource?"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1667393681,"post_id":74289297,"comment_id":131155749,"body_markdown":"There is test `JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src/main/resources/suffixing.jar&quot;));` inside `AppTest.java`. Therefore, I expected that I shall just copy suffixing.jar file at least at the beginning. So, how can I accomplish it, I assume, I need to update my pom.xml file","body":"There is test <code>JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src&#47;main&#47;resources&#47;suffixing.jar&quot;));</code> inside <code>AppTest.java</code>. Therefore, I expected that I shall just copy suffixing.jar file at least at the beginning. So, how can I accomplish it, I assume, I need to update my pom.xml file"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1667395759,"post_id":74289297,"comment_id":131156592,"body_markdown":"What is the underlying problem you try to solve with this?","body":"What is the underlying problem you try to solve with this?"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1667396628,"post_id":74289297,"comment_id":131156974,"body_markdown":"I solving the assignment given in course. It requires me &quot;[Once you have designed it, place the jar into src/main/resources directory.](https://gitlab.com/khalimovsarvar/suffixing-app#comsarvarsuffixingapp-app:~:text=Once%20you%20have%20designed%20it%2C%20place%20the%20jar%20into%20src/main/resources%20directory.)&quot;","body":"I solving the assignment given in course. It requires me &quot;<a href=\"https://gitlab.com/khalimovsarvar/suffixing-app#comsarvarsuffixingapp-app:~:text=Once%20you%20have%20designed%20it%2C%20place%20the%20jar%20into%20src/main/resources%20directory.\" rel=\"nofollow noreferrer\">Once you have designed it, place the jar into src/main/resources directory.</a>&quot;"}],"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667392773,"creation_date":1667392773,"question_id":74289297,"body_markdown":"I want to place the jar into [`src/main/resources`](src/main/resources) directory and name this archive as `suffixingApp.jar`.\r\n\r\nI went through many documentation and StackOverflow, but it seems, I may have messed up my source code (pom.xml) and Suffixing class.\r\n\r\nWhen I run `AppTest.java`, it is returning:\r\n```\r\njava.io.FileNotFoundException: src/main/resources/suffixing.jar (No such file or directory)\r\n\r\nat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat com.epam.rd.autotasks.suffixing.AppTest.setup(AppTest.java:41)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n```\r\n\r\n## Here is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.epam.rd.autotasks&lt;/groupId&gt;\r\n    &lt;artifactId&gt;suffixingApp-app-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;junit5.version&gt;5.6.2&lt;/junit5.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-installed&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\r\n                                    &lt;type&gt;${project.packaging}&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                            &lt;outputDirectory&gt;src/main/resources&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## Here is incomplete `SuffixingApp.java`:\r\n```\r\npackage com.sarvar;\r\n\r\nimport java.io.*;\r\nimport java.util.Properties;\r\nimport java.util.logging.Logger;\r\n\r\npublic class SuffixingApp {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String rootPath = &quot;src/main/resources/&quot;;\r\n        String appConfigPath = rootPath + &quot;app.properties&quot;;\r\n\r\n        Properties appProps = new Properties();\r\n        appProps.load(new FileInputStream(appConfigPath));\r\n        String inputMode = appProps.getProperty(&quot;mode&quot;);\r\n        String inputSuffix = appProps.getProperty(&quot;suffix&quot;);\r\n        String inputFiles = appProps.getProperty(&quot;files&quot;);\r\n\r\n        if (!inputMode.equalsIgnoreCase(&quot;copy&quot;) ||\r\n                !inputMode.equalsIgnoreCase(&quot;move&quot;)) {\r\n            Logger.getLogger(&quot;Mode is not recognized: &quot; + inputMode);\r\n\r\n            return;\r\n        }\r\n\r\n        if (inputSuffix.isEmpty()) {\r\n            Logger.getLogger(&quot;No suffix is configured&quot;);\r\n\r\n            return;\r\n        }\r\n\r\n        if (inputFiles.isEmpty()) {\r\n            Logger.getLogger(&quot;No files are configured to be copied/moved&quot;);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//        Suffixing suffixing = new Suffixing();\r\n//\r\n//        try {\r\n//            System.out.println(&quot;Enter the name of file to rename&quot;);\r\n//            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n//            String fileName = bufferedReader.readLine();\r\n//            suffixing.setOldFileName(fileName);\r\n//\r\n//            System.out.println(&quot;Enter the suffix to rename the file&#39;s name&quot;);\r\n//            BufferedReader bufferedReader2 = new BufferedReader(new InputStreamReader(System.in));\r\n//            String suffix = bufferedReader2.readLine();\r\n//            suffixing.setSuffix(suffix);\r\n//\r\n//            String newFileName = suffixing.getOldFileName() + suffixing.getSuffix();\r\n//            suffixing.setNewFileName(newFileName);\r\n//\r\n//        } catch (IOException e) {\r\n//            throw new IOException();\r\n//        }\r\n//\r\n//        try {\r\n//            suffixing.walkDirectory(suffixing.getPath());\r\n//        } catch (FileNotFoundException e) {\r\n//            e.printStackTrace();\r\n//        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n## Lastly, here is `AppTest.java` if required:\r\n```\r\npackage com.epam.rd.autotasks.suffixing;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.jar.JarInputStream;\r\nimport java.util.jar.Manifest;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.LogManager;\r\nimport java.util.logging.Logger;\r\nimport java.util.logging.SimpleFormatter;\r\nimport java.util.logging.StreamHandler;\r\n\r\nimport static org.hamcrest.CoreMatchers.containsString;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertFalse;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\nclass AppTest {\r\n\r\n    private static Method mainMethod;\r\n    private static Logger appLogger;\r\n\r\n    private ByteArrayOutputStream logSink;\r\n    private StreamHandler appLogHandler;\r\n\r\n    @BeforeAll\r\n    static void setup() throws IOException, ClassNotFoundException, NoSuchMethodException {\r\n        JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src/main/resources/suffixing.jar&quot;));\r\n        Manifest mf = jarStream.getManifest();\r\n        String mainClassName = mf.getMainAttributes().getValue(&quot;Main-Class&quot;);\r\n        Class&lt;?&gt; mainClass = Class.forName(mainClassName);\r\n        mainMethod = mainClass.getMethod(&quot;main&quot;, String[].class);\r\n\r\n        appLogger = LogManager.getLogManager().getLogger(&quot;&quot;);\r\n        appLogger.setLevel(Level.ALL);\r\n\r\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/config&quot;));\r\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/cases&quot;));\r\n\r\n        FileUtils.copyDirectory(\r\n                new File(&quot;src/test/resources/reference/config&quot;),\r\n                new File(&quot;src/test/resources/sandbox/config&quot;));\r\n        FileUtils.copyDirectory(\r\n                new File(&quot;src/test/resources/reference/cases&quot;),\r\n                new File(&quot;src/test/resources/sandbox/cases&quot;));\r\n\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupLoggerHandler() {\r\n        logSink = new ByteArrayOutputStream();\r\n        appLogHandler = new StreamHandler(logSink, new SimpleFormatter());\r\n        appLogger.addHandler(appLogHandler);\r\n    }\r\n\r\n    @Test\r\n    void testAbsentFile() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/absent-file-config.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/no-such-file.txt&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testBadMode1() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-1.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: CPY&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testBadMode2() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-2.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: DELETE&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testCopy() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/copy-config.properties&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/copy/copy.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/copy/copy.copy.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testLowercaseMode() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/lowercase-mode-config.properties&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower-old.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testMixcaseMode() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/mixcase-mode-config.properties&quot;);\r\n        assertFileIsMoved(output,\r\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.mv.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testMove() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/move-config.properties&quot;);\r\n        assertFileIsMoved(output,\r\n                &quot;src/test/resources/sandbox/cases/move/origin.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/move/origin.moved.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testNoSuffixMove() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/no-suffix-config.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: No suffix is configured&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testEmptyFiles() throws InvocationTargetException, IllegalAccessException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/empty-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testThreeFiles() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files/1.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files/1.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files/2.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files/2.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files/3.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files/3.old.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testThreeFilesMiddleAbsent() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-middle-absent-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.old.txt&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/three-files-middle-absent/2.txt&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testTwoFiles() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/two-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/two-files/1.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/two-files/1.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/two-files/2.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/two-files/2.old.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testNoFiles() throws InvocationTargetException, IllegalAccessException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/no-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\r\n    }\r\n\r\n    private void assertFileIsCopied(final String output, final String sourceFile, final String copiedFile) throws IOException {\r\n        final Path sourcePath = Paths.get(sourceFile);\r\n        final Path copiedPath = Paths.get(copiedFile);\r\n\r\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; -&gt; &quot; + copiedFile));\r\n        assertTrue(Files.exists(sourcePath), &quot;File &quot; + sourceFile + &quot;must exist&quot;);\r\n        assertTrue(Files.exists(copiedPath), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\r\n\r\n        assertEquals(Files.readString(sourcePath), Files.readString(copiedPath));\r\n    }\r\n\r\n    private void assertFileIsMoved(final String output, final String sourceFile, final String copiedFile) {\r\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; =&gt; &quot; + copiedFile));\r\n        assertFalse(Files.exists(Paths.get(sourceFile)), &quot;File &quot; + sourceFile + &quot;must not exist&quot;);\r\n        assertTrue(Files.exists(Paths.get(copiedFile)), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\r\n    }\r\n\r\n    private String runApp(final String configFilePath) throws IllegalAccessException, InvocationTargetException {\r\n        mainMethod.invoke(null, (Object) new String[]{configFilePath});\r\n        appLogHandler.flush();\r\n        return logSink.toString();\r\n    }\r\n}\r\n\r\n```","title":"Copying jar file into custom directory from target directory in maven","body":"<p>I want to place the jar into <code>src/main/resources</code> directory and name this archive as <code>suffixingApp.jar</code>.</p>\n<p>I went through many documentation and StackOverflow, but it seems, I may have messed up my source code (pom.xml) and Suffixing class.</p>\n<p>When I run <code>AppTest.java</code>, it is returning:</p>\n<pre><code>java.io.FileNotFoundException: src/main/resources/suffixing.jar (No such file or directory)\n\nat java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at com.epam.rd.autotasks.suffixing.AppTest.setup(AppTest.java:41)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<h2>Here is my pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.epam.rd.autotasks&lt;/groupId&gt;\n    &lt;artifactId&gt;suffixingApp-app-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;junit5.version&gt;5.6.2&lt;/junit5.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-installed&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\n                                    &lt;type&gt;${project.packaging}&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;outputDirectory&gt;src/main/resources&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>Here is incomplete <code>SuffixingApp.java</code>:</h2>\n<pre><code>package com.sarvar;\n\nimport java.io.*;\nimport java.util.Properties;\nimport java.util.logging.Logger;\n\npublic class SuffixingApp {\n\n    public static void main(String[] args) throws IOException {\n        String rootPath = &quot;src/main/resources/&quot;;\n        String appConfigPath = rootPath + &quot;app.properties&quot;;\n\n        Properties appProps = new Properties();\n        appProps.load(new FileInputStream(appConfigPath));\n        String inputMode = appProps.getProperty(&quot;mode&quot;);\n        String inputSuffix = appProps.getProperty(&quot;suffix&quot;);\n        String inputFiles = appProps.getProperty(&quot;files&quot;);\n\n        if (!inputMode.equalsIgnoreCase(&quot;copy&quot;) ||\n                !inputMode.equalsIgnoreCase(&quot;move&quot;)) {\n            Logger.getLogger(&quot;Mode is not recognized: &quot; + inputMode);\n\n            return;\n        }\n\n        if (inputSuffix.isEmpty()) {\n            Logger.getLogger(&quot;No suffix is configured&quot;);\n\n            return;\n        }\n\n        if (inputFiles.isEmpty()) {\n            Logger.getLogger(&quot;No files are configured to be copied/moved&quot;);\n        }\n\n\n\n\n\n\n\n\n//        Suffixing suffixing = new Suffixing();\n//\n//        try {\n//            System.out.println(&quot;Enter the name of file to rename&quot;);\n//            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n//            String fileName = bufferedReader.readLine();\n//            suffixing.setOldFileName(fileName);\n//\n//            System.out.println(&quot;Enter the suffix to rename the file's name&quot;);\n//            BufferedReader bufferedReader2 = new BufferedReader(new InputStreamReader(System.in));\n//            String suffix = bufferedReader2.readLine();\n//            suffixing.setSuffix(suffix);\n//\n//            String newFileName = suffixing.getOldFileName() + suffixing.getSuffix();\n//            suffixing.setNewFileName(newFileName);\n//\n//        } catch (IOException e) {\n//            throw new IOException();\n//        }\n//\n//        try {\n//            suffixing.walkDirectory(suffixing.getPath());\n//        } catch (FileNotFoundException e) {\n//            e.printStackTrace();\n//        }\n    }\n\n}\n\n</code></pre>\n<h2>Lastly, here is <code>AppTest.java</code> if required:</h2>\n<pre><code>package com.epam.rd.autotasks.suffixing;\n\nimport org.apache.commons.io.FileUtils;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.jar.JarInputStream;\nimport java.util.jar.Manifest;\nimport java.util.logging.Level;\nimport java.util.logging.LogManager;\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\nimport java.util.logging.StreamHandler;\n\nimport static org.hamcrest.CoreMatchers.containsString;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertFalse;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nclass AppTest {\n\n    private static Method mainMethod;\n    private static Logger appLogger;\n\n    private ByteArrayOutputStream logSink;\n    private StreamHandler appLogHandler;\n\n    @BeforeAll\n    static void setup() throws IOException, ClassNotFoundException, NoSuchMethodException {\n        JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src/main/resources/suffixing.jar&quot;));\n        Manifest mf = jarStream.getManifest();\n        String mainClassName = mf.getMainAttributes().getValue(&quot;Main-Class&quot;);\n        Class&lt;?&gt; mainClass = Class.forName(mainClassName);\n        mainMethod = mainClass.getMethod(&quot;main&quot;, String[].class);\n\n        appLogger = LogManager.getLogManager().getLogger(&quot;&quot;);\n        appLogger.setLevel(Level.ALL);\n\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/config&quot;));\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/cases&quot;));\n\n        FileUtils.copyDirectory(\n                new File(&quot;src/test/resources/reference/config&quot;),\n                new File(&quot;src/test/resources/sandbox/config&quot;));\n        FileUtils.copyDirectory(\n                new File(&quot;src/test/resources/reference/cases&quot;),\n                new File(&quot;src/test/resources/sandbox/cases&quot;));\n\n    }\n\n    @BeforeEach\n    void setupLoggerHandler() {\n        logSink = new ByteArrayOutputStream();\n        appLogHandler = new StreamHandler(logSink, new SimpleFormatter());\n        appLogger.addHandler(appLogHandler);\n    }\n\n    @Test\n    void testAbsentFile() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/absent-file-config.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/no-such-file.txt&quot;));\n    }\n\n    @Test\n    void testBadMode1() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-1.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: CPY&quot;));\n    }\n\n    @Test\n    void testBadMode2() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-2.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: DELETE&quot;));\n    }\n\n    @Test\n    void testCopy() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/copy-config.properties&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/copy/copy.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/copy/copy.copy.txt&quot;);\n    }\n\n    @Test\n    void testLowercaseMode() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/lowercase-mode-config.properties&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower-old.txt&quot;);\n    }\n\n    @Test\n    void testMixcaseMode() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/mixcase-mode-config.properties&quot;);\n        assertFileIsMoved(output,\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.mv.txt&quot;);\n    }\n\n    @Test\n    void testMove() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/move-config.properties&quot;);\n        assertFileIsMoved(output,\n                &quot;src/test/resources/sandbox/cases/move/origin.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/move/origin.moved.txt&quot;);\n    }\n\n    @Test\n    void testNoSuffixMove() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/no-suffix-config.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: No suffix is configured&quot;));\n    }\n\n    @Test\n    void testEmptyFiles() throws InvocationTargetException, IllegalAccessException {\n        final String configFile = &quot;src/test/resources/sandbox/config/empty-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\n    }\n\n    @Test\n    void testThreeFiles() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files/1.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files/1.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files/2.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files/2.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files/3.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files/3.old.txt&quot;);\n    }\n\n    @Test\n    void testThreeFilesMiddleAbsent() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-middle-absent-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.old.txt&quot;);\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/three-files-middle-absent/2.txt&quot;));\n    }\n\n    @Test\n    void testTwoFiles() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String configFile = &quot;src/test/resources/sandbox/config/two-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/two-files/1.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/two-files/1.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/two-files/2.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/two-files/2.old.txt&quot;);\n    }\n\n    @Test\n    void testNoFiles() throws InvocationTargetException, IllegalAccessException {\n        final String configFile = &quot;src/test/resources/sandbox/config/no-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\n    }\n\n    private void assertFileIsCopied(final String output, final String sourceFile, final String copiedFile) throws IOException {\n        final Path sourcePath = Paths.get(sourceFile);\n        final Path copiedPath = Paths.get(copiedFile);\n\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; -&gt; &quot; + copiedFile));\n        assertTrue(Files.exists(sourcePath), &quot;File &quot; + sourceFile + &quot;must exist&quot;);\n        assertTrue(Files.exists(copiedPath), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\n\n        assertEquals(Files.readString(sourcePath), Files.readString(copiedPath));\n    }\n\n    private void assertFileIsMoved(final String output, final String sourceFile, final String copiedFile) {\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; =&gt; &quot; + copiedFile));\n        assertFalse(Files.exists(Paths.get(sourceFile)), &quot;File &quot; + sourceFile + &quot;must not exist&quot;);\n        assertTrue(Files.exists(Paths.get(copiedFile)), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\n    }\n\n    private String runApp(final String configFilePath) throws IllegalAccessException, InvocationTargetException {\n        mainMethod.invoke(null, (Object) new String[]{configFilePath});\n        appLogHandler.flush();\n        return logSink.toString();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667390987,"post_id":74288870,"comment_id":131154859,"body_markdown":"Then you have to use a selection on column RELATIVE_PATH with the special path value as selection argument.","body":"Then you have to use a selection on column RELATIVE_PATH with the special path value as selection argument."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667391071,"post_id":74288870,"comment_id":131154891,"body_markdown":"And... The path you mentioned is not a path and does not exist and we wonder where you obtained it.","body":"And... The path you mentioned is not a path and does not exist and we wonder where you obtained it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667391167,"post_id":74288870,"comment_id":131154916,"body_markdown":"Further, your code does not show at all how you query() the mediastore.","body":"Further, your code does not show at all how you query() the mediastore."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667391538,"post_id":74288870,"comment_id":131155045,"body_markdown":"And what does it have to do with scoped storage?","body":"And what does it have to do with scoped storage?"},{"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"score":0,"creation_date":1667392272,"post_id":74288870,"comment_id":131155278,"body_markdown":"I am trying to fetch all pdf files and show them in recycler view from some specific folder","body":"I am trying to fetch all pdf files and show them in recycler view from some specific folder"},{"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"score":0,"creation_date":1667392305,"post_id":74288870,"comment_id":131155291,"body_markdown":"i have already pass the selection argument","body":"i have already pass the selection argument"},{"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"score":0,"creation_date":1667392310,"post_id":74288870,"comment_id":131155293,"body_markdown":"String pdf = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    String[] selectionArgs = new String[]{pdf};","body":"String pdf = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);     String[] selectionArgs = new String[]{pdf};"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667392423,"post_id":74288870,"comment_id":131155336,"body_markdown":"??? Post full code in your post. Not in a comment. Show the query().","body":"??? Post full code in your post. Not in a comment. Show the query()."}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667392759,"creation_date":1667392759,"answer_id":74289295,"question_id":74288870,"body_markdown":"Using StorageAccess freamwork follow this\r\n\r\nFile Check.java\r\n````\r\npackage com.axanor.saf_sample;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.storage.StorageManager;\r\nimport android.util.Log;\r\n\r\npublic class Check {\r\n    Context context;\r\n    private String TAG=&quot;SOMNATH&quot;;\r\n\r\n    public Check(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public boolean  ch(){\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n            StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\r\n\r\n            Intent intent = sm.getPrimaryStorageVolume().createOpenDocumentTreeIntent();\r\n            //String startDir = &quot;Android&quot;;\r\n            //String startDir = &quot;Download&quot;; // Not choosable on an Android 11 device\r\n            //String startDir = &quot;DCIM&quot;;\r\n            //String startDir = &quot;DCIM/Camera&quot;;  // replace &quot;/&quot;, &quot;%2F&quot;\r\n            //String startDir = &quot;DCIM%2FCamera&quot;;\r\n            String startDir = &quot;Documents&quot;;\r\n\r\n            Uri uri = intent.getParcelableExtra(&quot;android.provider.extra.INITIAL_URI&quot;);\r\n\r\n            String scheme = uri.toString();\r\n\r\n            Log.d(TAG, &quot;INITIAL_URI scheme: &quot; + scheme);\r\n\r\n            scheme = scheme.replace(&quot;/root/&quot;, &quot;/document/&quot;);\r\n\r\n            scheme += &quot;%3A&quot; + startDir;\r\n\r\n            uri = Uri.parse(scheme);\r\n\r\n            intent.putExtra(&quot;android.provider.extra.INITIAL_URI&quot;, uri);\r\n\r\n            Log.d(TAG, &quot;uri: &quot; + uri.toString());\r\n\r\n            ((Activity) context).startActivityForResult(intent, 12123);\r\n\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n````\r\nFile StorageAccess.kt\r\n````\r\npackage com.axanor.saf_sample\r\n\r\nimport android.app.Activity\r\nimport android.content.Intent\r\nimport android.net.Uri\r\nimport android.provider.DocumentsContract\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.documentfile.provider.DocumentFile\r\nimport java.io.FileNotFoundException\r\nimport java.io.FileOutputStream\r\nimport java.io.IOException\r\n\r\nclass StorageAccess {\r\n    val activity:Activity;\r\n    val LOGTAG = &quot;SOMNATH&quot;\r\n    val REQUEST_CODE = 12123\r\n    constructor(activity: Activity) {\r\n        this.activity = activity\r\n    }\r\n\r\n\r\n\r\n\r\n    public fun openDocumentTree() {\r\n        val check = Check(activity)\r\n        val uriString = SpUtil.getString(SpUtil.FOLDER_URI, &quot;&quot;)\r\n        when {\r\n            uriString == &quot;&quot; -&gt; {\r\n                Log.w(LOGTAG, &quot;uri not stored&quot;)\r\n\r\n\r\n                if (!check.ch()){\r\n                    askPermission()\r\n                }\r\n\r\n            }\r\n            arePermissionsGranted(uriString) -&gt; {\r\n                makeDoc(Uri.parse(uriString))\r\n            }\r\n            else -&gt; {\r\n                Log.w(LOGTAG, &quot;uri permission not stored&quot;)\r\n                if (!check.ch()){\r\n                    askPermission()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // this will present the user with folder browser to select a folder for our data\r\n    public fun askPermission() {\r\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\r\n        activity.startActivityForResult(intent, REQUEST_CODE)\r\n    }\r\n\r\n  \r\n\r\n    public fun makeDoc(dirUri: Uri) {\r\n        val dir = DocumentFile.fromTreeUri(activity, dirUri)\r\n        if (dir == null || !dir.exists()) {\r\n            //the folder was probably deleted\r\n            Log.e(LOGTAG, &quot;no Dir&quot;)\r\n            //according to Commonsware blog, the number of persisted uri permissions is limited\r\n            //so we should release those we cannot use anymore\r\n            //https://commonsware.com/blog/2020/06/13/count-your-saf-uri-permission-grants.html\r\n            releasePermissions(dirUri)\r\n            //ask user to choose another folder\r\n            Toast.makeText(activity,&quot;Folder deleted, please choose another!&quot;, Toast.LENGTH_SHORT).show()\r\n            openDocumentTree()\r\n        } else {\r\n            val file = dir.createFile(&quot;*/txt&quot;, &quot;test.txt&quot;)\r\n            if (file != null &amp;&amp; file.canWrite()) {\r\n                Log.d(LOGTAG, &quot;file.uri = ${file.uri.toString()}&quot;)\r\n                alterDocument(file.uri)\r\n            } else {\r\n                Log.d(LOGTAG, &quot;no file or cannot write&quot;)\r\n                //consider showing some more appropriate error message\r\n                Toast.makeText(activity,&quot;Write error!&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public fun releasePermissions(uri: Uri) {\r\n        val flags: Int = Intent.FLAG_GRANT_READ_URI_PERMISSION or\r\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION\r\n        activity.contentResolver.releasePersistableUriPermission(uri,flags)\r\n        //we should remove this uri from our shared prefs, so we can start over again next time\r\n        SpUtil.storeString(SpUtil.FOLDER_URI, &quot;&quot;)\r\n    }\r\n\r\n\r\n    //Just a test function to write something into a file, from https://developer.android.com\r\n    //Please note, that all file IO MUST be done on a background thread. It is not so in this\r\n    //sample - for the sake of brevity.\r\n    public fun alterDocument(uri: Uri) {\r\n        try {\r\n\r\n            activity.contentResolver.openFileDescriptor(uri, &quot;w&quot;)?.use { parcelFileDescriptor -&gt;\r\n                FileOutputStream(parcelFileDescriptor.fileDescriptor).use {\r\n                    it.write(\r\n                        (&quot;String written at ${System.currentTimeMillis()}\\n&quot;)\r\n                            .toByteArray()\r\n                    )\r\n                    Toast.makeText(activity,&quot;File Write OK!&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n\r\n                    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\r\n                    intent.addCategory(Intent.CATEGORY_OPENABLE)\r\n                    intent.type = &quot;application/pdf&quot;\r\n\r\n                    // Optionally, specify a URI for the file that should appear in the\r\n                    // system file picker when it loads.\r\n\r\n                    // Optionally, specify a URI for the file that should appear in the\r\n                    // system file picker when it loads.\r\n                    intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uri)\r\n\r\n                    activity.startActivityForResult(intent, 2)\r\n\r\n\r\n\r\n                }\r\n            }\r\n        } catch (e: FileNotFoundException) {\r\n            e.printStackTrace()\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\n\r\n    public fun arePermissionsGranted(uriString: String): Boolean {\r\n        // list of all persisted permissions for our app\r\n        val list = activity.contentResolver.persistedUriPermissions\r\n        for (i in list.indices) {\r\n            val persistedUriString = list[i].uri.toString()\r\n            //Log.d(LOGTAG, &quot;comparing $persistedUriString and $uriString&quot;)\r\n            if (persistedUriString == uriString &amp;&amp; list[i].isWritePermission &amp;&amp; list[i].isReadPermission) {\r\n                //Log.d(LOGTAG, &quot;permission ok&quot;)\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n}\r\n````\r\nAnd To Open Call in Your Activity \r\n````\r\nStorageAccess access = new StorageAccess(this);\r\naccess.openDocumentTree();\r\n\r\n````","title":"How to read files from external storage specific folder in android scope storage","body":"<p>Using StorageAccess freamwork follow this</p>\n<p>File Check.java</p>\n<pre><code>package com.axanor.saf_sample;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.storage.StorageManager;\nimport android.util.Log;\n\npublic class Check {\n    Context context;\n    private String TAG=&quot;SOMNATH&quot;;\n\n    public Check(Context context) {\n        this.context = context;\n    }\n\n    public boolean  ch(){\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n            StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\n\n            Intent intent = sm.getPrimaryStorageVolume().createOpenDocumentTreeIntent();\n            //String startDir = &quot;Android&quot;;\n            //String startDir = &quot;Download&quot;; // Not choosable on an Android 11 device\n            //String startDir = &quot;DCIM&quot;;\n            //String startDir = &quot;DCIM/Camera&quot;;  // replace &quot;/&quot;, &quot;%2F&quot;\n            //String startDir = &quot;DCIM%2FCamera&quot;;\n            String startDir = &quot;Documents&quot;;\n\n            Uri uri = intent.getParcelableExtra(&quot;android.provider.extra.INITIAL_URI&quot;);\n\n            String scheme = uri.toString();\n\n            Log.d(TAG, &quot;INITIAL_URI scheme: &quot; + scheme);\n\n            scheme = scheme.replace(&quot;/root/&quot;, &quot;/document/&quot;);\n\n            scheme += &quot;%3A&quot; + startDir;\n\n            uri = Uri.parse(scheme);\n\n            intent.putExtra(&quot;android.provider.extra.INITIAL_URI&quot;, uri);\n\n            Log.d(TAG, &quot;uri: &quot; + uri.toString());\n\n            ((Activity) context).startActivityForResult(intent, 12123);\n\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n\n\n\n}\n\n\n\n\n</code></pre>\n<p>File StorageAccess.kt</p>\n<pre><code>package com.axanor.saf_sample\n\nimport android.app.Activity\nimport android.content.Intent\nimport android.net.Uri\nimport android.provider.DocumentsContract\nimport android.util.Log\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.documentfile.provider.DocumentFile\nimport java.io.FileNotFoundException\nimport java.io.FileOutputStream\nimport java.io.IOException\n\nclass StorageAccess {\n    val activity:Activity;\n    val LOGTAG = &quot;SOMNATH&quot;\n    val REQUEST_CODE = 12123\n    constructor(activity: Activity) {\n        this.activity = activity\n    }\n\n\n\n\n    public fun openDocumentTree() {\n        val check = Check(activity)\n        val uriString = SpUtil.getString(SpUtil.FOLDER_URI, &quot;&quot;)\n        when {\n            uriString == &quot;&quot; -&gt; {\n                Log.w(LOGTAG, &quot;uri not stored&quot;)\n\n\n                if (!check.ch()){\n                    askPermission()\n                }\n\n            }\n            arePermissionsGranted(uriString) -&gt; {\n                makeDoc(Uri.parse(uriString))\n            }\n            else -&gt; {\n                Log.w(LOGTAG, &quot;uri permission not stored&quot;)\n                if (!check.ch()){\n                    askPermission()\n                }\n            }\n        }\n    }\n\n    // this will present the user with folder browser to select a folder for our data\n    public fun askPermission() {\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n        activity.startActivityForResult(intent, REQUEST_CODE)\n    }\n\n  \n\n    public fun makeDoc(dirUri: Uri) {\n        val dir = DocumentFile.fromTreeUri(activity, dirUri)\n        if (dir == null || !dir.exists()) {\n            //the folder was probably deleted\n            Log.e(LOGTAG, &quot;no Dir&quot;)\n            //according to Commonsware blog, the number of persisted uri permissions is limited\n            //so we should release those we cannot use anymore\n            //https://commonsware.com/blog/2020/06/13/count-your-saf-uri-permission-grants.html\n            releasePermissions(dirUri)\n            //ask user to choose another folder\n            Toast.makeText(activity,&quot;Folder deleted, please choose another!&quot;, Toast.LENGTH_SHORT).show()\n            openDocumentTree()\n        } else {\n            val file = dir.createFile(&quot;*/txt&quot;, &quot;test.txt&quot;)\n            if (file != null &amp;&amp; file.canWrite()) {\n                Log.d(LOGTAG, &quot;file.uri = ${file.uri.toString()}&quot;)\n                alterDocument(file.uri)\n            } else {\n                Log.d(LOGTAG, &quot;no file or cannot write&quot;)\n                //consider showing some more appropriate error message\n                Toast.makeText(activity,&quot;Write error!&quot;, Toast.LENGTH_SHORT).show()\n\n            }\n        }\n    }\n\n\n    public fun releasePermissions(uri: Uri) {\n        val flags: Int = Intent.FLAG_GRANT_READ_URI_PERMISSION or\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n        activity.contentResolver.releasePersistableUriPermission(uri,flags)\n        //we should remove this uri from our shared prefs, so we can start over again next time\n        SpUtil.storeString(SpUtil.FOLDER_URI, &quot;&quot;)\n    }\n\n\n    //Just a test function to write something into a file, from https://developer.android.com\n    //Please note, that all file IO MUST be done on a background thread. It is not so in this\n    //sample - for the sake of brevity.\n    public fun alterDocument(uri: Uri) {\n        try {\n\n            activity.contentResolver.openFileDescriptor(uri, &quot;w&quot;)?.use { parcelFileDescriptor -&gt;\n                FileOutputStream(parcelFileDescriptor.fileDescriptor).use {\n                    it.write(\n                        (&quot;String written at ${System.currentTimeMillis()}\\n&quot;)\n                            .toByteArray()\n                    )\n                    Toast.makeText(activity,&quot;File Write OK!&quot;, Toast.LENGTH_SHORT).show()\n\n\n                    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\n                    intent.addCategory(Intent.CATEGORY_OPENABLE)\n                    intent.type = &quot;application/pdf&quot;\n\n                    // Optionally, specify a URI for the file that should appear in the\n                    // system file picker when it loads.\n\n                    // Optionally, specify a URI for the file that should appear in the\n                    // system file picker when it loads.\n                    intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uri)\n\n                    activity.startActivityForResult(intent, 2)\n\n\n\n                }\n            }\n        } catch (e: FileNotFoundException) {\n            e.printStackTrace()\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n\n\n    public fun arePermissionsGranted(uriString: String): Boolean {\n        // list of all persisted permissions for our app\n        val list = activity.contentResolver.persistedUriPermissions\n        for (i in list.indices) {\n            val persistedUriString = list[i].uri.toString()\n            //Log.d(LOGTAG, &quot;comparing $persistedUriString and $uriString&quot;)\n            if (persistedUriString == uriString &amp;&amp; list[i].isWritePermission &amp;&amp; list[i].isReadPermission) {\n                //Log.d(LOGTAG, &quot;permission ok&quot;)\n                return true\n            }\n        }\n        return false\n    }\n    \n    \n    \n    \n    \n    \n    \n}\n</code></pre>\n<p>And To Open Call in Your Activity</p>\n<pre><code>StorageAccess access = new StorageAccess(this);\naccess.openDocumentTree();\n\n</code></pre>\n"}],"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667392759,"creation_date":1667390714,"question_id":74288870,"body_markdown":"I am using MediaStore API to read files and I know how to read all files from external storage like pdf etc, but let&#39;s suppose I want to read it from some specific folder then what should i do? \r\nif this is the path...\r\ncontent://media//storage/emulated/0/my_folder_name\r\n\r\n\r\nI have been try to give a path to **collection **but its not working...\r\n```\r\n Uri collection;\r\n    if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.Q)\r\n    {\r\n//        collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\r\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n//        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL+&quot;/&quot;+&quot;myFolder_1122&quot;);\r\n        Log.e(TAG, &quot;ReadSDcard: path______________________________________________&quot;+collection );\r\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\r\n    }\r\n    else\r\n    {\r\n//        collection = MediaStore.Files.getContentUri(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/myFolder_1122/&quot;);  _________&quot;myFolder_1122&quot; this is the folder which i have created\r\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);//this will work for fetching all files from external below API level 30\r\n        Log.e(TAG, &quot;ReadSDcard: path ______________________________________________ &quot;+collection );\r\n        Toast.makeText(this, &quot;collection: &quot;+collection.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\r\n\r\n    }\r\n    return myList;\r\n```\r\n","title":"How to read files from external storage specific folder in android scope storage","body":"<p>I am using MediaStore API to read files and I know how to read all files from external storage like pdf etc, but let's suppose I want to read it from some specific folder then what should i do?\nif this is the path...\ncontent://media//storage/emulated/0/my_folder_name</p>\n<p>I have been try to give a path to **collection **but its not working...</p>\n<pre><code> Uri collection;\n    if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.Q)\n    {\n//        collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n//        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL+&quot;/&quot;+&quot;myFolder_1122&quot;);\n        Log.e(TAG, &quot;ReadSDcard: path______________________________________________&quot;+collection );\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\n    }\n    else\n    {\n//        collection = MediaStore.Files.getContentUri(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/myFolder_1122/&quot;);  _________&quot;myFolder_1122&quot; this is the folder which i have created\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);//this will work for fetching all files from external below API level 30\n        Log.e(TAG, &quot;ReadSDcard: path ______________________________________________ &quot;+collection );\n        Toast.makeText(this, &quot;collection: &quot;+collection.toString(), Toast.LENGTH_SHORT).show();\n\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\n\n    }\n    return myList;\n</code></pre>\n"},{"tags":["java","groovy","micronaut","micronaut-rest"],"answers":[{"tags":[],"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667392568,"creation_date":1667392568,"answer_id":74289261,"question_id":74287360,"body_markdown":"You imported the wrong `HttpRequest`\r\n\r\nInstead of `import java.net.http.HttpRequest` you should import `import io.micronaut.http.HttpRequest`.\r\n\r\nBut even then you will not catch `HttpClientResponseException` because you don&#39;t use any `Client` in your test. If you want to receive this exception you should write something like this:\r\n\r\n```\r\n    @Inject\r\n    @Client(&quot;/author&quot;)\r\n    HttpClient client\r\n\r\n    @IgnoreRest\r\n    def &quot;It fails to get an non-existing Author with an HttpClient&quot;() {\r\n        given:\r\n        def token = viewer()\r\n\r\n        when:\r\n        def author = client.toBlocking().exchange(HttpRequest.create(\r\n                HttpMethod.GET,\r\n                &quot;/&quot; + badId\r\n        ).bearerAuth(token))\r\n\r\n        then:\r\n        def ex = thrown(HttpClientResponseException)\r\n        ex.status == NOT_FOUND\r\n        ex.getResponse().getBody(ErrorResource).map {\r\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\r\n            it\r\n        }.isPresent()\r\n\r\n        where:\r\n        badId = anyInt()\r\n    }\r\n``` ","title":"Micronaut @Error annotation not working (micronaut 3.7.3)","body":"<p>You imported the wrong <code>HttpRequest</code></p>\n<p>Instead of <code>import java.net.http.HttpRequest</code> you should import <code>import io.micronaut.http.HttpRequest</code>.</p>\n<p>But even then you will not catch <code>HttpClientResponseException</code> because you don't use any <code>Client</code> in your test. If you want to receive this exception you should write something like this:</p>\n<pre><code>    @Inject\n    @Client(&quot;/author&quot;)\n    HttpClient client\n\n    @IgnoreRest\n    def &quot;It fails to get an non-existing Author with an HttpClient&quot;() {\n        given:\n        def token = viewer()\n\n        when:\n        def author = client.toBlocking().exchange(HttpRequest.create(\n                HttpMethod.GET,\n                &quot;/&quot; + badId\n        ).bearerAuth(token))\n\n        then:\n        def ex = thrown(HttpClientResponseException)\n        ex.status == NOT_FOUND\n        ex.getResponse().getBody(ErrorResource).map {\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\n            it\n        }.isPresent()\n\n        where:\n        badId = anyInt()\n    }\n</code></pre>\n"}],"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74289261,"answer_count":1,"score":1,"last_activity_date":1667392568,"creation_date":1667383134,"question_id":74287360,"body_markdown":"I&#39;m trying to improve the error handling in a controller by using the @Error annotation.\r\n\r\n```groovy\r\n    @Get(uri = &quot;/{id}&quot;)\r\n    @Secured(&quot;ROLE_VIEW&quot;)\r\n    HttpResponse&lt;AuthorResource&gt; show(Long id) {\r\n        try {\r\n            ok(authorService.get(id).get())\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n            throw e\r\n        }\r\n    }\r\n```\r\n\r\nThe `get()` method will either return the AuthorResource (`io.vavr.control.Try`), or throw a custom exception, subclass of our base ErrorContext exception class.\r\n\r\nI then added the following errorhandler in the controller:\r\n\r\n```groovy\r\n    @Error(exception = ErrorContext, global = true)\r\n    HttpResponse&lt;ErrorContext&gt; onErrorContext(HttpRequest request, ErrorContext error) {\r\n        HttpResponse.&lt;ErrorContext&gt;status(HttpStatus.valueOf(error.code)).body(error)\r\n    }\r\n```\r\n\r\nUnfortunately, the exception handler does not seem to be invoked, and an INTERNAL_SERVER_ERROR is triggered (instead of a NOT_FOUND in this example). The output of the gradle test task can be found below.\r\n\r\nI have tried the following:\r\n- Using a global handler (`global=true`)\r\n- Annotating the handler with the actual subclass that is being thrown (`ErrorContextWithoutStacktrace`)\r\n\r\nAm I missing anything?\r\n\r\nI have created a working [application in github here][1]\r\n\r\n[Controller class][2]\r\n\r\n\r\n[Test class][3]\r\n\r\n  [1]: https://github.com/B2Boost/mn-errorhandling-issue\r\n  [2]: https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/main/groovy/example/controller/AuthorController.groovy\r\n  [3]: https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/test/groovy/example/controller/AuthorControllerSpec.groovy\r\n\r\n\r\nOutput of test (including partial stacktraces due to length limitation in SO):\r\n\r\n    10:50:31.455 [ForkJoinPool.commonPool-worker-7] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\r\n    10:50:31.579 [main] INFO  i.m.testresources.server.Application - A Micronaut Test Resources server is listening on port 43207, started in 182ms\r\n    10:50:33.164 [default-nioEventLoopGroup-1-2] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\r\n    \r\n    &gt; Task :test\r\n    \r\n    AuthorControllerSpec STANDARD_OUT\r\n        10:50:32.581 [Test worker] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [test]\r\n        10:50:33.131 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\r\n        10:50:33.190 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\r\n        10:50:33.216 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\r\n        10:50:33.246 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\r\n        10:50:33.249 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\r\n        10:50:33.254 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\r\n        10:50:33.258 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\r\n        10:50:33.262 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\r\n        10:50:33.367 [Test worker] INFO  i.m.c.h.g.HibernateDatastoreFactory - Starting GORM for Hibernate\r\n        10:50:33.883 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final\r\n        10:50:33.984 [Test worker] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final\r\n        10:50:34.074 [Test worker] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n        10:50:34.139 [Test worker] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\r\n        10:50:34.879 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:37361/author/546252431\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_ERROR\r\n        error.ErrorContextWithoutStacktrace: Author with id 546252431 not found.\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\r\n        10:50:34.999 [default-nioEventLoopGroup-3-3] ERROR i.m.http.server.RouteExecutor - Unexpected error occurred: Required argument [HttpRequest request] not specified\r\n        io.micronaut.web.router.exceptions.UnsatisfiedRouteException: Required argument [HttpRequest request] not specified\r\n            at io.micronaut.web.router.exceptions.UnsatisfiedRouteException.create(UnsatisfiedRouteException.java:76)\r\n            at io.micronaut.web.router.AbstractRouteMatch.execute(AbstractRouteMatch.java:297)\r\n            at io.micronaut.web.router.RouteMatch.execute(RouteMatch.java:111)\r\n            at io.micronaut.http.context.ServerRequestContext.with(ServerRequestContext.java:103)\r\n            at io.micronaut.http.server.RouteExecutor.lambda$executeRoute$14(RouteExecutor.java:659)\r\n            at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)\r\n    [Skipped a lot of reactive frames]\r\n            at reactor.core.publisher.Flux.subscribe(Flux.java:8522)\r\n            at io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:601)\r\n            at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:457)\r\n            at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:147)\r\n            at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n    [Skipped a lot of netty channel stuff]\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n        10:50:35.031 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 500 from http://localhost:37361/author/546252431\r\n        10:50:35.049 [Test worker] ERROR i.m.r.intercept.RecoveryInterceptor - Type [example.controller.Api$Intercepted] executed with error: error.ErrorResource@475fb7\r\n        io.micronaut.http.client.exceptions.HttpClientResponseException: error.ErrorResource@475fb7\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.makeErrorFromRequestBody(DefaultHttpClient.java:2226)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2199)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2122)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$BaseHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2097)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2158)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2122)\r\n            at io.micronaut.http.client.netty.SimpleChannelInboundHandlerInstrumented.channelRead0(SimpleChannelInboundHandlerInstrumented.java:49)\r\n            at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n    [Skipped a lot of netty channel stuff]\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n            at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n            at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n            Suppressed: java.lang.Exception: #block terminated with an error\r\n                    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                    at reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\r\n                    at io.micronaut.http.client.netty.DefaultHttpClient$1.exchange(DefaultHttpClient.java:498)\r\n                    at io.micronaut.http.client.netty.DefaultHttpClient$1.retrieve(DefaultHttpClient.java:505)\r\n                    at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.lambda$intercept$5(HttpClientIntroductionAdvice.java:409)\r\n                    at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.handleBlockingCall(HttpClientIntroductionAdvice.java:508)\r\n                    at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.intercept(HttpClientIntroductionAdvice.java:408)\r\n                    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n                    at io.micronaut.retry.intercept.RecoveryInterceptor.intercept(RecoveryInterceptor.java:92)\r\n                    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n                    at example.controller.Api$Intercepted.getAuthor(Unknown Source)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n                    at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSiteNoUnwrap.invoke(PojoMetaMethodSite.java:203)\r\n                    at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\r\n                    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n                    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n                    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n                    at example.controller.AuthorControllerSpec.$spock_feature_0_0(AuthorControllerSpec.groovy:33)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                    at org.spockframework.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:198)\r\n    [Skipped a lot of gradle, junit, and spock stuff]\r\n                    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] FAILED\r\n        org.spockframework.runtime.SpockComparisonFailure at AuthorControllerSpec.groovy:37\r\n\r\n","title":"Micronaut @Error annotation not working (micronaut 3.7.3)","body":"<p>I'm trying to improve the error handling in a controller by using the @Error annotation.</p>\n<pre><code>    @Get(uri = &quot;/{id}&quot;)\n    @Secured(&quot;ROLE_VIEW&quot;)\n    HttpResponse&lt;AuthorResource&gt; show(Long id) {\n        try {\n            ok(authorService.get(id).get())\n        } catch (Exception e) {\n            e.printStackTrace()\n            throw e\n        }\n    }\n</code></pre>\n<p>The <code>get()</code> method will either return the AuthorResource (<code>io.vavr.control.Try</code>), or throw a custom exception, subclass of our base ErrorContext exception class.</p>\n<p>I then added the following errorhandler in the controller:</p>\n<pre><code>    @Error(exception = ErrorContext, global = true)\n    HttpResponse&lt;ErrorContext&gt; onErrorContext(HttpRequest request, ErrorContext error) {\n        HttpResponse.&lt;ErrorContext&gt;status(HttpStatus.valueOf(error.code)).body(error)\n    }\n</code></pre>\n<p>Unfortunately, the exception handler does not seem to be invoked, and an INTERNAL_SERVER_ERROR is triggered (instead of a NOT_FOUND in this example). The output of the gradle test task can be found below.</p>\n<p>I have tried the following:</p>\n<ul>\n<li>Using a global handler (<code>global=true</code>)</li>\n<li>Annotating the handler with the actual subclass that is being thrown (<code>ErrorContextWithoutStacktrace</code>)</li>\n</ul>\n<p>Am I missing anything?</p>\n<p>I have created a working <a href=\"https://github.com/B2Boost/mn-errorhandling-issue\" rel=\"nofollow noreferrer\">application in github here</a></p>\n<p><a href=\"https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/main/groovy/example/controller/AuthorController.groovy\" rel=\"nofollow noreferrer\">Controller class</a></p>\n<p><a href=\"https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/test/groovy/example/controller/AuthorControllerSpec.groovy\" rel=\"nofollow noreferrer\">Test class</a></p>\n<p>Output of test (including partial stacktraces due to length limitation in SO):</p>\n<pre><code>10:50:31.455 [ForkJoinPool.commonPool-worker-7] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\n10:50:31.579 [main] INFO  i.m.testresources.server.Application - A Micronaut Test Resources server is listening on port 43207, started in 182ms\n10:50:33.164 [default-nioEventLoopGroup-1-2] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\n\n&gt; Task :test\n\nAuthorControllerSpec STANDARD_OUT\n    10:50:32.581 [Test worker] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [test]\n    10:50:33.131 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\n    10:50:33.190 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\n    10:50:33.216 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\n    10:50:33.246 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\n    10:50:33.249 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\n    10:50:33.254 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\n    10:50:33.258 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\n    10:50:33.262 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\n    10:50:33.367 [Test worker] INFO  i.m.c.h.g.HibernateDatastoreFactory - Starting GORM for Hibernate\n    10:50:33.883 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final\n    10:50:33.984 [Test worker] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final\n    10:50:34.074 [Test worker] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n    10:50:34.139 [Test worker] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\n    10:50:34.879 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:37361/author/546252431\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_ERROR\n    error.ErrorContextWithoutStacktrace: Author with id 546252431 not found.\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\n    10:50:34.999 [default-nioEventLoopGroup-3-3] ERROR i.m.http.server.RouteExecutor - Unexpected error occurred: Required argument [HttpRequest request] not specified\n    io.micronaut.web.router.exceptions.UnsatisfiedRouteException: Required argument [HttpRequest request] not specified\n        at io.micronaut.web.router.exceptions.UnsatisfiedRouteException.create(UnsatisfiedRouteException.java:76)\n        at io.micronaut.web.router.AbstractRouteMatch.execute(AbstractRouteMatch.java:297)\n        at io.micronaut.web.router.RouteMatch.execute(RouteMatch.java:111)\n        at io.micronaut.http.context.ServerRequestContext.with(ServerRequestContext.java:103)\n        at io.micronaut.http.server.RouteExecutor.lambda$executeRoute$14(RouteExecutor.java:659)\n        at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)\n[Skipped a lot of reactive frames]\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8522)\n        at io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:601)\n        at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:457)\n        at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:147)\n        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n[Skipped a lot of netty channel stuff]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    10:50:35.031 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 500 from http://localhost:37361/author/546252431\n    10:50:35.049 [Test worker] ERROR i.m.r.intercept.RecoveryInterceptor - Type [example.controller.Api$Intercepted] executed with error: error.ErrorResource@475fb7\n    io.micronaut.http.client.exceptions.HttpClientResponseException: error.ErrorResource@475fb7\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.makeErrorFromRequestBody(DefaultHttpClient.java:2226)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2199)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2122)\n        at io.micronaut.http.client.netty.DefaultHttpClient$BaseHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2097)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2158)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2122)\n        at io.micronaut.http.client.netty.SimpleChannelInboundHandlerInstrumented.channelRead0(SimpleChannelInboundHandlerInstrumented.java:49)\n        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n[Skipped a lot of netty channel stuff]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                at reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\n                at io.micronaut.http.client.netty.DefaultHttpClient$1.exchange(DefaultHttpClient.java:498)\n                at io.micronaut.http.client.netty.DefaultHttpClient$1.retrieve(DefaultHttpClient.java:505)\n                at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.lambda$intercept$5(HttpClientIntroductionAdvice.java:409)\n                at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.handleBlockingCall(HttpClientIntroductionAdvice.java:508)\n                at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.intercept(HttpClientIntroductionAdvice.java:408)\n                at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n                at io.micronaut.retry.intercept.RecoveryInterceptor.intercept(RecoveryInterceptor.java:92)\n                at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n                at example.controller.Api$Intercepted.getAuthor(Unknown Source)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n                at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSiteNoUnwrap.invoke(PojoMetaMethodSite.java:203)\n                at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\n                at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n                at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n                at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n                at example.controller.AuthorControllerSpec.$spock_feature_0_0(AuthorControllerSpec.groovy:33)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.spockframework.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:198)\n[Skipped a lot of gradle, junit, and spock stuff]\n                at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] FAILED\n    org.spockframework.runtime.SpockComparisonFailure at AuthorControllerSpec.groovy:37\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":16518573,"reputation":5,"user_id":11935353,"display_name":"Omid Zare"},"score":0,"creation_date":1647585208,"post_id":71517806,"comment_id":126412562,"body_markdown":"solved! I just remove the MvcConfig class :)","body":"solved! I just remove the MvcConfig class :)"}],"answers":[{"tags":[],"owner":{"account_id":23058474,"reputation":3,"user_id":17193949,"display_name":"Kofuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667392290,"creation_date":1667392290,"answer_id":74289205,"question_id":71517806,"body_markdown":"this is youre config    \r\n\r\n    @Configuration\r\n        @EnableWebMvc\r\n        @ComponentScan(&quot;directory with youre getHomepage() controller &quot;)\r\n        public class MvcConfig implements WebMvcConfigurer {\r\n        \r\n        @Bean\r\n            public ViewResolver viewResolver() {\r\n                InternalResourceViewResolver resolver =\r\n                        new InternalResourceViewResolver();\r\n                resolver.setPrefix(&quot;/WEB-INF/views/&quot;); //youre directory with home.jsp\r\n                resolver.setSuffix(&quot;.jsp&quot;);\r\n                return resolver;\r\n            }\r\n        }\r\n\r\nthis is youre controller\r\n \r\n\r\n    @Controller\r\n    @RequestMapping({&quot;/&quot;})\r\n    public class HomeController {\r\n        @RequestMapping(method=GET)\r\n        public String home() {\r\n            return &quot;home&quot;;\r\n        }\r\n    }","title":"No mapping for GET /js/home.js","body":"<p>this is youre config</p>\n<pre><code>@Configuration\n    @EnableWebMvc\n    @ComponentScan(&quot;directory with youre getHomepage() controller &quot;)\n    public class MvcConfig implements WebMvcConfigurer {\n    \n    @Bean\n        public ViewResolver viewResolver() {\n            InternalResourceViewResolver resolver =\n                    new InternalResourceViewResolver();\n            resolver.setPrefix(&quot;/WEB-INF/views/&quot;); //youre directory with home.jsp\n            resolver.setSuffix(&quot;.jsp&quot;);\n            return resolver;\n        }\n    }\n</code></pre>\n<p>this is youre controller</p>\n<pre><code>@Controller\n@RequestMapping({&quot;/&quot;})\npublic class HomeController {\n    @RequestMapping(method=GET)\n    public String home() {\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16518573,"reputation":5,"user_id":11935353,"display_name":"Omid Zare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667392290,"creation_date":1647544231,"question_id":71517806,"body_markdown":"I have the same problem as mentioned in \r\n[no mapping for GET][1]\r\nbut didn&#39;t work for me. \r\n\r\nthis is the structure :\r\n[resource structure in my project][2]\r\n\r\n\r\nand this is my config class :\r\n\r\n        \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry\r\n                    .addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;/resources/&quot;);\r\n        }\r\n    }\r\n\r\nand this is my controller:\r\n\r\n \r\n\r\n     @RequestMapping(&quot;/&quot;)\r\n    public ModelAndView getHomepage() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;home.html&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\nand I have this in my html file:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/home.css&quot; /&gt;\r\n\r\nbut still get the error: \r\nNo mapping for GET /css/home.css\r\nNo mapping for GET /js/home.js\r\n\r\n\r\nwould be appreciated for any suggestions\r\nthank you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57003720/spring-boot-no-mapping-for-css-js\r\n  [2]: https://i.stack.imgur.com/WRkIS.jpg\r\n","title":"No mapping for GET /js/home.js","body":"<p>I have the same problem as mentioned in\n<a href=\"https://stackoverflow.com/questions/57003720/spring-boot-no-mapping-for-css-js\">no mapping for GET</a>\nbut didn't work for me.</p>\n<p>this is the structure :\n<a href=\"https://i.stack.imgur.com/WRkIS.jpg\" rel=\"nofollow noreferrer\">resource structure in my project</a></p>\n<p>and this is my config class :</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MvcConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry\n                .addResourceHandler(&quot;/resources/**&quot;)\n                .addResourceLocations(&quot;/resources/&quot;);\n    }\n}\n</code></pre>\n<p>and this is my controller:</p>\n<pre><code> @RequestMapping(&quot;/&quot;)\npublic ModelAndView getHomepage() {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;home.html&quot;);\n    return modelAndView;\n}\n</code></pre>\n<p>and I have this in my html file:</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/home.css&quot; /&gt;\n</code></pre>\n<p>but still get the error:\nNo mapping for GET /css/home.css\nNo mapping for GET /js/home.js</p>\n<p>would be appreciated for any suggestions\nthank you</p>\n"},{"tags":["java","c++","jna"],"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1398338784,"post_id":23242614,"comment_id":35607813,"body_markdown":"`getStringArray()` assumes that your string array is going to be terminated with a `NULL` pointer to indicate the end.  Is that the case here?  You might try `getStringArray()` with an explicit, limited length to see if you can just pull back the first element.","body":"<code>getStringArray()</code> assumes that your string array is going to be terminated with a <code>NULL</code> pointer to indicate the end.  Is that the case here?  You might try <code>getStringArray()</code> with an explicit, limited length to see if you can just pull back the first element."}],"answers":[{"tags":[],"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398262412,"creation_date":1398262412,"answer_id":23247029,"question_id":23242614,"body_markdown":"As far as I understand this works in C like this:\r\n\r\n    char** versions; // char* versions[];\r\n    char   name [] = &quot;some_name&quot;;\r\n\r\n    int size = GetVersions(name, &amp;versions);\r\n    // now versions[0] to versions[size-1] are string literals of available versions\r\n\r\n`char**` can be interpreted as an array of string literals (`String[]`). `char**&amp;` is a reference to one, meaning that it can be set from inside function - and it&#39;s not available to use in pure C used by JNA (and JNI).\r\n\r\nI&#39;d recommend wrapping it into C-linkable code - make sure it doesn&#39;t throw exceptions, use `extern &quot;C&quot;` and replaces all references with pointers. E.g. something like\r\n\r\n    extern &quot;C&quot; int CGetVersions(char* name, char*** pVersions) {\r\n        return GetVersions(name, *pVersions);\r\n    }\r\n\r\nThen you should be able to use `PointerByReference` to hold `pVersions`:\r\n\r\n    ptrRef;                                       // (void**)\r\n    ptrRef.getValue();                            // *(void**) -&gt;(void*)\r\n    ptrRef.getValue().getStringArray(0,returned); // (char**) (void*) -&gt; (char**) -&gt; String[]\r\n\r\nBasically C++ works different that C, and both JNA and JNI were designed to work with C, so you have to strip down everything that you wouldn&#39;t call in plain C. Perhaps [here][1] you can find some more information about how wrap your library with C-linkable functions.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2241685/java-native-access-doesnt-do-c-right","title":"Mapping of type: char**&amp; in JNA","body":"<p>As far as I understand this works in C like this:</p>\n\n<pre><code>char** versions; // char* versions[];\nchar   name [] = \"some_name\";\n\nint size = GetVersions(name, &amp;versions);\n// now versions[0] to versions[size-1] are string literals of available versions\n</code></pre>\n\n<p><code>char**</code> can be interpreted as an array of string literals (<code>String[]</code>). <code>char**&amp;</code> is a reference to one, meaning that it can be set from inside function - and it's not available to use in pure C used by JNA (and JNI).</p>\n\n<p>I'd recommend wrapping it into C-linkable code - make sure it doesn't throw exceptions, use <code>extern \"C\"</code> and replaces all references with pointers. E.g. something like</p>\n\n<pre><code>extern \"C\" int CGetVersions(char* name, char*** pVersions) {\n    return GetVersions(name, *pVersions);\n}\n</code></pre>\n\n<p>Then you should be able to use <code>PointerByReference</code> to hold <code>pVersions</code>:</p>\n\n<pre><code>ptrRef;                                       // (void**)\nptrRef.getValue();                            // *(void**) -&gt;(void*)\nptrRef.getValue().getStringArray(0,returned); // (char**) (void*) -&gt; (char**) -&gt; String[]\n</code></pre>\n\n<p>Basically C++ works different that C, and both JNA and JNI were designed to work with C, so you have to strip down everything that you wouldn't call in plain C. Perhaps <a href=\"https://stackoverflow.com/questions/2241685/java-native-access-doesnt-do-c-right\">here</a> you can find some more information about how wrap your library with C-linkable functions.</p>\n"},{"tags":[],"owner":{"account_id":6334785,"reputation":21,"user_id":4918544,"display_name":"Godwin Christ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667392140,"creation_date":1432088529,"answer_id":30339240,"question_id":23242614,"body_markdown":"The char ** mapping with PointerByReference.\r\n\r\nFor example:\r\n\r\nC code:\r\n\r\n    char **xs_directory(struct xs_handle *h, uint32_t t,const char *path, unsigned int *num);\r\n\r\nJNA:\r\n \r\n\r\n    PointerByReference xs_directory(XenstoreLibrary.xs_handle h, int t, String path, IntBuffer num);\r\n\r\nThis a xenstore api get contents of a directory,the num is PointerByReference pointer count. I use this code to get the pointer value.\r\n\r\n\r\n\r\n\r\n    PointerByReference pbr = XenstoreLibrary.INSTANCE.xs_directory(xs_handle, tran, &quot;/local/domain/0&quot;, intBuffer);\r\n\r\n    int n = intBuffer.get();\r\n\r\n    Pointer[] arrays = pbr.getPointer().getPointerArray(0,n);\r\n\r\n    for (int i = 0; i &lt; arrays.length; i++) {\r\n\r\n        Pointer array = arrays[i];\r\n\r\n        System.out.println(array.getString(0));\r\n\r\n    }\r\n\r\n\r\n\r\nsorry for my poor english. \r\n","title":"Mapping of type: char**&amp; in JNA","body":"<p>The char ** mapping with PointerByReference.</p>\n<p>For example:</p>\n<p>C code:</p>\n<pre><code>char **xs_directory(struct xs_handle *h, uint32_t t,const char *path, unsigned int *num);\n</code></pre>\n<p>JNA:</p>\n<pre><code>PointerByReference xs_directory(XenstoreLibrary.xs_handle h, int t, String path, IntBuffer num);\n</code></pre>\n<p>This a xenstore api get contents of a directory,the num is PointerByReference pointer count. I use this code to get the pointer value.</p>\n<pre><code>PointerByReference pbr = XenstoreLibrary.INSTANCE.xs_directory(xs_handle, tran, &quot;/local/domain/0&quot;, intBuffer);\n\nint n = intBuffer.get();\n\nPointer[] arrays = pbr.getPointer().getPointerArray(0,n);\n\nfor (int i = 0; i &lt; arrays.length; i++) {\n\n    Pointer array = arrays[i];\n\n    System.out.println(array.getString(0));\n\n}\n</code></pre>\n<p>sorry for my poor english.</p>\n"}],"owner":{"account_id":153156,"reputation":55,"user_id":368207,"display_name":"user368207"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667392140,"creation_date":1398251713,"question_id":23242614,"body_markdown":"My client gave me dll with a couple of functions. One of them is:\r\n\r\n    int GetVersions(char* name, char** &amp;pVersions);\r\n\r\nIt returns a number of versions for the given name and the array of strings with those versions.\r\nUsing JNA, I&#39;m trying to write equivalent Java method in my interface:\r\n\r\n    int GetVersions(String name, String ll, ??? pVersions);\r\n\r\nThe problem is what type should be instead of `???` ?\r\n\r\nI was trying to put there `PointerByReference` and after method invocation I had:\r\n\r\n    Pointer ptr = ptrRef.getValue();\r\n    String ppp = ptr.getStringarray(0);\r\n\r\nbut I got here `Invalid memory access`.\r\n\r\n    Pointer ptr = ptrRef.getValue();\r\n    String ppp = ptr.getString(0, &quot;UTF-8&quot;);\r\n\r\nreturns garbage.\r\n\r\nAny idea how to solve it?\r\n\r\n\r\nThanks in advance!","title":"Mapping of type: char**&amp; in JNA","body":"<p>My client gave me dll with a couple of functions. One of them is:</p>\n\n<pre><code>int GetVersions(char* name, char** &amp;pVersions);\n</code></pre>\n\n<p>It returns a number of versions for the given name and the array of strings with those versions.\nUsing JNA, I'm trying to write equivalent Java method in my interface:</p>\n\n<pre><code>int GetVersions(String name, String ll, ??? pVersions);\n</code></pre>\n\n<p>The problem is what type should be instead of <code>???</code> ?</p>\n\n<p>I was trying to put there <code>PointerByReference</code> and after method invocation I had:</p>\n\n<pre><code>Pointer ptr = ptrRef.getValue();\nString ppp = ptr.getStringarray(0);\n</code></pre>\n\n<p>but I got here <code>Invalid memory access</code>.</p>\n\n<pre><code>Pointer ptr = ptrRef.getValue();\nString ppp = ptr.getString(0, \"UTF-8\");\n</code></pre>\n\n<p>returns garbage.</p>\n\n<p>Any idea how to solve it?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","eclipse","android-studio"],"comments":[{"owner":{"account_id":311240,"reputation":22247,"user_id":624706,"display_name":"Sergii Pechenizkyi"},"score":1,"creation_date":1384162004,"post_id":19900153,"comment_id":29610935,"body_markdown":"See answer here: http://stackoverflow.com/questions/4816069/idea-assign-statement-to-new-local-variable","body":"See answer here: <a href=\"http://stackoverflow.com/questions/4816069/idea-assign-statement-to-new-local-variable\" title=\"idea assign statement to new local variable\">stackoverflow.com/questions/4816069/&hellip;</a>"},{"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"score":0,"creation_date":1384162174,"post_id":19900153,"comment_id":29611020,"body_markdown":"@plastiv - Thanks, i looked it up before posting the question but for some reason couldn&#39;t find it.","body":"@plastiv - Thanks, i looked it up before posting the question but for some reason couldn&#39;t find it."}],"answers":[{"tags":[],"owner":{"account_id":2388443,"reputation":790,"user_id":2088873,"display_name":"Ahmad Ronagh"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1602860934,"creation_date":1434032095,"answer_id":30783371,"question_id":19900153,"body_markdown":"You Can See Shortcut Key in Refactor -&gt; Extract Menu\r\n\r\nMac Extract Variable Use Below Shortcut:\r\n\r\n\r\n1- &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt; for local variable\r\n\r\n2- &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; for class/field variable\r\n\r\n3- &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt; for constant\r\n\r\nI think you must use Control+Alt key for Windows\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/TxB85.png","title":"Assign to new local variable shortcut (ctrl-2 L) in android studio","body":"<p>You Can See Shortcut Key in Refactor -&gt; Extract Menu</p>\n<p>Mac Extract Variable Use Below Shortcut:</p>\n<p>1- <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>V</kbd> for local variable</p>\n<p>2- <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>F</kbd> for class/field variable</p>\n<p>3- <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>C</kbd> for constant</p>\n<p>I think you must use Control+Alt key for Windows</p>\n<p><img src=\"https://i.stack.imgur.com/TxB85.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":1172561,"reputation":5924,"user_id":1149398,"accept_rate":100,"display_name":"sud007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667391784,"creation_date":1546932676,"answer_id":54087092,"question_id":19900153,"body_markdown":"Well this is pretty old but here is what I did just now.\r\n\r\nI wrote \r\n\r\n    new View()\r\n\r\nno column and space and just typed\r\n\r\n    new View().var\r\n\r\nand pressed `CTRL+ [SPACE]` here&#39;s what appears:\r\n[![enter image description here][1]][1]\r\n\r\nand as I press `RETURN` on the suggestion bubble...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nVoila!\r\n\r\nDiscovered this in a recent session on flutter using Intelli-J and since Android Studio is based on the same IDE so, it worked!\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bGDOR.png\r\n  [2]: https://i.stack.imgur.com/lrV7T.jpg","title":"Assign to new local variable shortcut (ctrl-2 L) in android studio","body":"<p>Well this is pretty old but here is what I did just now.</p>\n<p>I wrote</p>\n<pre><code>new View()\n</code></pre>\n<p>no column and space and just typed</p>\n<pre><code>new View().var\n</code></pre>\n<p>and pressed <code>CTRL+ [SPACE]</code> here's what appears:\n<a href=\"https://i.stack.imgur.com/bGDOR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGDOR.png\" alt=\"enter image description here\" /></a></p>\n<p>and as I press <code>RETURN</code> on the suggestion bubble...</p>\n<p><a href=\"https://i.stack.imgur.com/lrV7T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lrV7T.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Voila!</p>\n<p>Discovered this in a recent session on flutter using Intelli-J and since Android Studio is based on the same IDE so, it worked!</p>\n"}],"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9659,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":30783371,"answer_count":2,"score":13,"last_activity_date":1667391784,"creation_date":1384151316,"question_id":19900153,"body_markdown":"I&#39;ve just moved from Eclipse to android studio. One of my most used shortcut is ctrl-2 L, which will automatically assign a variable with a name and import the necessary class.\r\n\r\n    new View();\r\n\r\nand press Ctrl-2 L, which results in:\r\n\r\n    View view = new View();\r\n\r\nIs there a way to do it in android studio?","title":"Assign to new local variable shortcut (ctrl-2 L) in android studio","body":"<p>I've just moved from Eclipse to android studio. One of my most used shortcut is ctrl-2 L, which will automatically assign a variable with a name and import the necessary class.</p>\n\n<pre><code>new View();\n</code></pre>\n\n<p>and press Ctrl-2 L, which results in:</p>\n\n<pre><code>View view = new View();\n</code></pre>\n\n<p>Is there a way to do it in android studio?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11178968,"reputation":1,"user_id":8203550,"display_name":"Manjit saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667391653,"creation_date":1589859471,"answer_id":61882823,"question_id":61853910,"body_markdown":"i implemented it. but i wasn&#39;t able to implement it using adapters that filter adapter.\r\ni was displaying data from sqlite. so, i directly get search data from sqlite.\r\n\r\n\r\n     public void search(String searchText) {\r\n            ArrayList localIdArr = new ArrayList();\r\n            ArrayList localItemNameArrr = new ArrayList();\r\n            ArrayList localSacPriceStockArrr = new ArrayList();\r\n    \r\n            myAdapter localMad = new myAdapter(getApplicationContext(), localIdArr, localItemNameArrr, localSacPriceStockArrr);\r\n            Log.i(&quot;Query &quot;, searchText);\r\n            Cursor c = sql.rawQuery(&quot;SELECT * FROM item_list WHERE item_name LIKE &#39;%&quot; + searchText + &quot;%&#39;&quot;, null);\r\n    \r\n            if (c.moveToFirst()) {\r\n                do {\r\n                    localIdArr.add(c.getInt(0));\r\n                    localItemNameArrr.add(c.getString(1));\r\n                    localSacPriceStockArrr.add(&quot;Sac/Hsn : &quot; + c.getString(2) + &quot;  &quot;\r\n                            + &quot;Price : &quot; + c.getInt(3) + &quot;   &quot;\r\n                            + &quot;Stock : &quot; + c.getInt(4));\r\n                    //(id ,item_name , sac_hsn , price , stock)\r\n                } while (c.moveToNext());\r\n            }\r\n    \r\n    \r\n            lv.setAdapter(localMad);\r\n            c.close();\r\n           }\r\n\r\nafter that i call this function on searchView queryTextListener and passed the query argument..\r\nand it works like butter as it should.","title":"unable to implement search view in my custom list view","body":"<p>i implemented it. but i wasn't able to implement it using adapters that filter adapter.\ni was displaying data from sqlite. so, i directly get search data from sqlite.</p>\n<pre><code> public void search(String searchText) {\n        ArrayList localIdArr = new ArrayList();\n        ArrayList localItemNameArrr = new ArrayList();\n        ArrayList localSacPriceStockArrr = new ArrayList();\n\n        myAdapter localMad = new myAdapter(getApplicationContext(), localIdArr, localItemNameArrr, localSacPriceStockArrr);\n        Log.i(&quot;Query &quot;, searchText);\n        Cursor c = sql.rawQuery(&quot;SELECT * FROM item_list WHERE item_name LIKE '%&quot; + searchText + &quot;%'&quot;, null);\n\n        if (c.moveToFirst()) {\n            do {\n                localIdArr.add(c.getInt(0));\n                localItemNameArrr.add(c.getString(1));\n                localSacPriceStockArrr.add(&quot;Sac/Hsn : &quot; + c.getString(2) + &quot;  &quot;\n                        + &quot;Price : &quot; + c.getInt(3) + &quot;   &quot;\n                        + &quot;Stock : &quot; + c.getInt(4));\n                //(id ,item_name , sac_hsn , price , stock)\n            } while (c.moveToNext());\n        }\n\n\n        lv.setAdapter(localMad);\n        c.close();\n       }\n</code></pre>\n<p>after that i call this function on searchView queryTextListener and passed the query argument..\nand it works like butter as it should.</p>\n"}],"owner":{"account_id":11178968,"reputation":1,"user_id":8203550,"display_name":"Manjit saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667391653,"creation_date":1589727741,"question_id":61853910,"body_markdown":"i googled and watched youtube but unable to implement it.\r\ni found way to do it but i also have to change my custom list view code.\r\nBut i want to implement it in my custom list view.\r\n\r\nthere are harder one but i like this list view. its easy to implement.\r\n\r\n    package com.example.inventorymanagment;\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.Menu;\r\n    import android.view.MenuInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.SearchView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.util.ArrayList;\r\n\r\n    public class CustomListView extends AppCompatActivity {\r\n\r\n    static SQLiteDatabase sql;\r\n\r\n    static ListView lv;\r\n    SearchView sv;\r\n    static ArrayList midArr = new ArrayList();\r\n    static ArrayList mitemNameArr = new ArrayList();\r\n    static ArrayList msacPriceStockArr = new ArrayList();\r\n    static myAdapter mad;\r\n\r\n   \r\n\r\n    public void show() {\r\n        midArr.clear();\r\n        mitemNameArr.clear();\r\n        msacPriceStockArr.clear();\r\n        mad = new myAdapter(this , midArr ,mitemNameArr ,msacPriceStockArr);\r\n\r\n        Cursor c = sql.rawQuery(&quot;SELECT * FROM item_list&quot;, null);\r\n\r\n        if (c.moveToFirst()) {\r\n            do {\r\n                midArr.add(c.getInt(0));\r\n                mitemNameArr.add(c.getString(1));\r\n                msacPriceStockArr.add(&quot;Sac/Hsn : &quot;+c.getString(2) + &quot;  &quot;\r\n                        + &quot;Price : &quot;+c.getInt(3) + &quot;   &quot;\r\n                        + &quot;Stock : &quot;+c.getInt(4));\r\n                //(id ,item_name , sac_hsn , price , stock)\r\n            } while (c.moveToNext());\r\n        }\r\n        lv.setAdapter(mad);\r\n        c.close();\r\n\r\n    }\r\n\r\n    public void delete(int position){\r\n\r\n       sql.execSQL(&quot;DELETE FROM item_list where ID = &quot; + position + &quot;&quot;);\r\n        show();\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n\r\n        MenuInflater mi = getMenuInflater();\r\n        mi.inflate(R.menu.menu_items , menu);\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        super.onOptionsItemSelected(item);\r\n\r\n        switch(item.getItemId()){\r\n            case R.id.about:\r\n                new AlertDialog.Builder(this).setTitle(&quot;Credit&quot;)\r\n                        .setMessage(&quot;THIS APP IS DEVELOPED BY MANJIT SAHA&quot;)\r\n                        .setPositiveButton(&quot;Close&quot; , null).show();\r\n\r\n                return true;\r\n\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_custom_list_view);\r\n\r\n\r\n        lv = findViewById(R.id.customListView);\r\n        sv = findViewById(R.id.searchView);\r\n\r\n        sql = this.openOrCreateDatabase(&quot;inventory&quot;, MODE_PRIVATE, null);\r\n        sql.execSQL(&quot;CREATE TABLE IF NOT EXISTS item_list (Id INTEGER PRIMARY KEY,&quot; +\r\n                &quot;item_name VARCHAR,&quot; +\r\n                &quot;sac_hsn VARCHAR,&quot; +\r\n                &quot;price INT,&quot; +\r\n                &quot;stock INT)&quot;);\r\n\r\n\r\n        show();\r\n\r\n\r\n\r\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                Intent i = new Intent(getApplicationContext() , UpdateItems.class);\r\n                i.putExtra(&quot;Id&quot; , Integer.parseInt(midArr.get(position).toString()));\r\n                startActivity(i);\r\n\r\n              }\r\n        });\r\n\r\n        lv.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\r\n            @Override\r\n            public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                delete(Integer.parseInt(midArr.get(position).toString()));\r\n                lv.setSelection(position);\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n    class myAdapter extends ArrayAdapter{\r\n\r\n    Context context;\r\n    ArrayList ridArr = new ArrayList();\r\n    ArrayList ritemNameArr = new ArrayList();\r\n    ArrayList rsacPriceStockArr = new ArrayList();\r\n\r\n    myAdapter(Context c , ArrayList id , ArrayList name , ArrayList sps){\r\n        super(c , R.layout.row  , R.id.idTv , id);\r\n\r\n        this.context = c;\r\n        this.ridArr = id;\r\n        this.ritemNameArr = name;\r\n        this.rsacPriceStockArr = sps;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n        View row = layoutInflater.inflate(R.layout.row , parent , false);\r\n\r\n        TextView idt = row.findViewById(R.id.idTv);\r\n        TextView itemname = row.findViewById(R.id.itemNameRow);\r\n        TextView sps = row.findViewById(R.id.spsRow);\r\n\r\n        idt.setText(ridArr.get(position).toString());\r\n        itemname.setText(ritemNameArr.get(position).toString());\r\n        sps.setText(rsacPriceStockArr.get(position).toString());\r\n\r\n        return row;\r\n    }\r\n\r\n\r\n    }\r\n\r\nPlease don&#39;t delete or say to try . i am trying since yesterday.\r\nplease implement it.\r\n","title":"unable to implement search view in my custom list view","body":"<p>i googled and watched youtube but unable to implement it.\ni found way to do it but i also have to change my custom list view code.\nBut i want to implement it in my custom list view.</p>\n\n<p>there are harder one but i like this list view. its easy to implement.</p>\n\n<pre><code>package com.example.inventorymanagment;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.SearchView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\n\npublic class CustomListView extends AppCompatActivity {\n\nstatic SQLiteDatabase sql;\n\nstatic ListView lv;\nSearchView sv;\nstatic ArrayList midArr = new ArrayList();\nstatic ArrayList mitemNameArr = new ArrayList();\nstatic ArrayList msacPriceStockArr = new ArrayList();\nstatic myAdapter mad;\n\n\n\npublic void show() {\n    midArr.clear();\n    mitemNameArr.clear();\n    msacPriceStockArr.clear();\n    mad = new myAdapter(this , midArr ,mitemNameArr ,msacPriceStockArr);\n\n    Cursor c = sql.rawQuery(\"SELECT * FROM item_list\", null);\n\n    if (c.moveToFirst()) {\n        do {\n            midArr.add(c.getInt(0));\n            mitemNameArr.add(c.getString(1));\n            msacPriceStockArr.add(\"Sac/Hsn : \"+c.getString(2) + \"  \"\n                    + \"Price : \"+c.getInt(3) + \"   \"\n                    + \"Stock : \"+c.getInt(4));\n            //(id ,item_name , sac_hsn , price , stock)\n        } while (c.moveToNext());\n    }\n    lv.setAdapter(mad);\n    c.close();\n\n}\n\npublic void delete(int position){\n\n   sql.execSQL(\"DELETE FROM item_list where ID = \" + position + \"\");\n    show();\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n\n    MenuInflater mi = getMenuInflater();\n    mi.inflate(R.menu.menu_items , menu);\n\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    super.onOptionsItemSelected(item);\n\n    switch(item.getItemId()){\n        case R.id.about:\n            new AlertDialog.Builder(this).setTitle(\"Credit\")\n                    .setMessage(\"THIS APP IS DEVELOPED BY MANJIT SAHA\")\n                    .setPositiveButton(\"Close\" , null).show();\n\n            return true;\n\n        default:\n            return false;\n    }\n}\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_custom_list_view);\n\n\n    lv = findViewById(R.id.customListView);\n    sv = findViewById(R.id.searchView);\n\n    sql = this.openOrCreateDatabase(\"inventory\", MODE_PRIVATE, null);\n    sql.execSQL(\"CREATE TABLE IF NOT EXISTS item_list (Id INTEGER PRIMARY KEY,\" +\n            \"item_name VARCHAR,\" +\n            \"sac_hsn VARCHAR,\" +\n            \"price INT,\" +\n            \"stock INT)\");\n\n\n    show();\n\n\n\n    lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            Intent i = new Intent(getApplicationContext() , UpdateItems.class);\n            i.putExtra(\"Id\" , Integer.parseInt(midArr.get(position).toString()));\n            startActivity(i);\n\n          }\n    });\n\n    lv.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\n        @Override\n        public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            delete(Integer.parseInt(midArr.get(position).toString()));\n            lv.setSelection(position);\n\n            return true;\n        }\n    });\n\n\n}\n\n\n}\n\n\nclass myAdapter extends ArrayAdapter{\n\nContext context;\nArrayList ridArr = new ArrayList();\nArrayList ritemNameArr = new ArrayList();\nArrayList rsacPriceStockArr = new ArrayList();\n\nmyAdapter(Context c , ArrayList id , ArrayList name , ArrayList sps){\n    super(c , R.layout.row  , R.id.idTv , id);\n\n    this.context = c;\n    this.ridArr = id;\n    this.ritemNameArr = name;\n    this.rsacPriceStockArr = sps;\n}\n\n@NonNull\n@Override\npublic View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n    LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n    View row = layoutInflater.inflate(R.layout.row , parent , false);\n\n    TextView idt = row.findViewById(R.id.idTv);\n    TextView itemname = row.findViewById(R.id.itemNameRow);\n    TextView sps = row.findViewById(R.id.spsRow);\n\n    idt.setText(ridArr.get(position).toString());\n    itemname.setText(ritemNameArr.get(position).toString());\n    sps.setText(rsacPriceStockArr.get(position).toString());\n\n    return row;\n}\n\n\n}\n</code></pre>\n\n<p>Please don't delete or say to try . i am trying since yesterday.\nplease implement it.</p>\n"},{"tags":["java","hibernate","rest","h2","zoneddatetime"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667392789,"post_id":74289037,"comment_id":131155458,"body_markdown":"[The docs say](http://h2database.com/html/datatypes.html#timestamp_with_time_zone_type): *This data type holds the local date and time without time zone information. It cannot distinguish timestamps near transitions from DST to normal time. For absolute timestamps use the TIMESTAMP WITH TIME ZONE data type instead.\n\nSee also timestamp literal grammar.\n\nIn JDBC this data type is mapped to java.sql.Timestamp (java.util.Date may be used too). java.time.LocalDateTime is also supported and recommended.* Wouldn&#39;t it be an idea to store the time zone of the person who bought the ticket?","body":"<a href=\"http://h2database.com/html/datatypes.html#timestamp_with_time_zone_type\" rel=\"nofollow noreferrer\">The docs say</a>: <i>This data type holds the local date and time without time zone information. It cannot distinguish timestamps near transitions from DST to normal time. For absolute timestamps use the TIMESTAMP WITH TIME ZONE data type instead.  See also timestamp literal grammar.  In JDBC this data type is mapped to java.sql.Timestamp (java.util.Date may be used too). java.time.LocalDateTime is also supported and recommended.</i> Wouldn&#39;t it be an idea to store the time zone of the person who bought the ticket?"},{"owner":{"account_id":26780452,"reputation":9,"user_id":20375369,"display_name":"Bilal Daher"},"score":0,"creation_date":1667395130,"post_id":74289037,"comment_id":131156325,"body_markdown":"it would be an idea, but I want the timezone to depend on the person who&#39;s seeing the ticket rather than who created it, since, let&#39;s say, I open a ticket to file a bug, at 9am in Canada, which means around 3pm in London. So the person in London should see 3pm, and not 9am. Does that make sense? @g00se","body":"it would be an idea, but I want the timezone to depend on the person who&#39;s seeing the ticket rather than who created it, since, let&#39;s say, I open a ticket to file a bug, at 9am in Canada, which means around 3pm in London. So the person in London should see 3pm, and not 9am. Does that make sense? @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667398701,"post_id":74289037,"comment_id":131157838,"body_markdown":"Well yes, but *storing* the timezone and its use are two entirely different things. It&#39;s perfectly possible for the viewer to see any timezone they want","body":"Well yes, but <i>storing</i> the timezone and its use are two entirely different things. It&#39;s perfectly possible for the viewer to see any timezone they want"}],"owner":{"account_id":26780452,"reputation":9,"user_id":20375369,"display_name":"Bilal Daher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667391443,"creation_date":1667391443,"question_id":74289037,"body_markdown":"I am working on a ticketingSystem, and my task now is to, whenever a ticket is created, automatically assign to it the date and time it got created. I am doing so by adding the ZonedDateTime.now() in the Ticket Date setter function, as well as in the TicketDto class.\r\n\r\n\r\nI am assuming it could be one of these 2 problems :\r\n1) I am creating a new ticket by manually adding a record to the h2 database and leaving the Date field empty, and expecting it to be filled with ZonedDateTime.now() value, when it&#39;s not\r\n2) The date column in the table is of type Timestamp, which could be causing this problem as well, but I am not sure\r\n\r\nAny small tips would be very helpful and very much appreciated!\r\nThanks in advance ","title":"Trying to automatically insert ZonedDateTime into h2 database when inserting/creating a record","body":"<p>I am working on a ticketingSystem, and my task now is to, whenever a ticket is created, automatically assign to it the date and time it got created. I am doing so by adding the ZonedDateTime.now() in the Ticket Date setter function, as well as in the TicketDto class.</p>\n<p>I am assuming it could be one of these 2 problems :</p>\n<ol>\n<li>I am creating a new ticket by manually adding a record to the h2 database and leaving the Date field empty, and expecting it to be filled with ZonedDateTime.now() value, when it's not</li>\n<li>The date column in the table is of type Timestamp, which could be causing this problem as well, but I am not sure</li>\n</ol>\n<p>Any small tips would be very helpful and very much appreciated!\nThanks in advance</p>\n"},{"tags":["java","selenium","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667391344,"creation_date":1667391344,"answer_id":74289013,"question_id":74288451,"body_markdown":"You can build on dynamic function which includes pageload strategy and  check if the document ready state is complete or not if these two conditions aren&#39;t met then u can reiterate the initialization process. \r\n\r\nvoid waitForLoad(WebDriver driver) {\r\n    new WebDriverWait(driver, 30).until((ExpectedCondition&lt;Boolean&gt;) wd -&gt;\r\n            ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n}","title":"Selenium opens a blank page, how to retry","body":"<p>You can build on dynamic function which includes pageload strategy and  check if the document ready state is complete or not if these two conditions aren't met then u can reiterate the initialization process.</p>\n<p>void waitForLoad(WebDriver driver) {\nnew WebDriverWait(driver, 30).until((ExpectedCondition) wd -&gt;\n((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\n}</p>\n"}],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74289013,"answer_count":1,"score":0,"last_activity_date":1667391344,"creation_date":1667388415,"question_id":74288451,"body_markdown":"I am writing selenium framework with multiple environment support, and lower envs are slower and sometimes fail to load a page - completely blank page is loaded after 30s.\r\nHow can I add a global retry mechanism to try again in such scenario, other than modyfing every method that opens new page.\r\n\r\nWhat such mechanism should do, refresh the page and continue? I have no good ideas.","title":"Selenium opens a blank page, how to retry","body":"<p>I am writing selenium framework with multiple environment support, and lower envs are slower and sometimes fail to load a page - completely blank page is loaded after 30s.\nHow can I add a global retry mechanism to try again in such scenario, other than modyfing every method that opens new page.</p>\n<p>What such mechanism should do, refresh the page and continue? I have no good ideas.</p>\n"},{"tags":["java","android","flutter","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":13967552,"reputation":151,"user_id":10086962,"display_name":"D. Ndungu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643104057,"creation_date":1643104057,"answer_id":70846483,"question_id":69839828,"body_markdown":"Please remove this line from the Application tag\r\n\r\n    &lt;application\r\n        android:name=&quot;.MainActivity&quot;\r\n\r\nAdd the line inside the activity tag\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;","title":"com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application","body":"<p>Please remove this line from the Application tag</p>\n<pre><code>&lt;application\n    android:name=&quot;.MainActivity&quot;\n</code></pre>\n<p>Add the line inside the activity tag</p>\n<pre><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19510183,"reputation":126,"user_id":14274295,"display_name":"Happy Sinha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1667390805,"creation_date":1646833082,"answer_id":71410225,"question_id":69839828,"body_markdown":"Please remove this line from the Application tag\r\n\r\n\r\n    &lt;application\r\n        android:name=&quot;.MainActivity&quot;\r\nOr\r\n\r\n        android:name=&quot;io.flutter.embedding.android.FlutterFragmentActivity&quot;\r\n\r\nAdd the line inside the activity tag\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n\r\nSimilar to this code\r\n\r\n     &lt;application\r\n        android:label=&quot;...&quot;\r\n        android:icon=&quot;@mipmap/logo&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n        \r\nThis code is work in my case.\r\n","title":"com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application","body":"<p>Please remove this line from the Application tag</p>\n<pre><code>&lt;application\n    android:name=&quot;.MainActivity&quot;\n</code></pre>\n<p>Or</p>\n<pre><code>    android:name=&quot;io.flutter.embedding.android.FlutterFragmentActivity&quot;\n</code></pre>\n<p>Add the line inside the activity tag</p>\n<pre><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n</code></pre>\n<p>Similar to this code</p>\n<pre><code> &lt;application\n    android:label=&quot;...&quot;\n    android:icon=&quot;@mipmap/logo&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;\n    \n</code></pre>\n<p>This code is work in my case.</p>\n"}],"owner":{"account_id":13143252,"reputation":3927,"user_id":9494140,"accept_rate":100,"display_name":"Ahmed Wagdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71410225,"answer_count":2,"score":2,"last_activity_date":1667390805,"creation_date":1636031640,"question_id":69839828,"body_markdown":"I have an android application made with flutter, in older versions I&#39;ve used `firebase_messaging` which required me to change my `MainActivity` file to `Application` with some edits mentioned below to be able to handle background messages. and it worked fine back then.\r\n\r\nHere is the old `Application` file : \r\n```java\r\npackage com.deliveryrunner.vendor;\r\n\r\nimport io.flutter.app.FlutterApplication;\r\nimport io.flutter.plugin.common.PluginRegistry;\r\nimport io.flutter.plugin.common.PluginRegistry.PluginRegistrantCallback;\r\nimport io.flutter.plugins.firebasemessaging.FlutterFirebaseMessagingService;\r\n\r\npublic class Application extends FlutterApplication implements PluginRegistrantCallback {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        FlutterFirebaseMessagingService.setPluginRegistrant(this);\r\n    }\r\n\r\n    @Override\r\n    public void registerWith(PluginRegistry registry) {\r\n        FirebaseCloudMessagingPluginRegistrant.registerWith(registry);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow after upgrading to the latest version of flutter and `firebase_messaging` they mentioned in the documentation that I don&#39;t need this anymore and I can go back to normal `MainACtivity` and I did that. here is the `MainActivity` file :\r\n\r\n```kotlin\r\npackage com.deliveryrunner.vendor\r\n\r\nimport io.flutter.embedding.android.FlutterActivity\r\n\r\nclass MainActivity : FlutterActivity() {}\r\n\r\n```\r\n\r\nplease note that i am changing the entry in `AndroidManifest.xml` whenever i change the file:\r\n\r\n```xml\r\n    &lt;application\r\n        android:name=&quot;.Application&quot;\r\n```\r\n\r\n```xml\r\n    &lt;application\r\n        android:name=&quot;.MainActivity&quot;\r\n```\r\n\r\nfinally, after upgrading whenever I run the app I get this error :\r\n\r\n```\r\nE/AndroidRuntime(14596): FATAL EXCEPTION: main\r\nE/AndroidRuntime(14596): Process: com.deliveryrunner.vendor, PID: 14596\r\nE/AndroidRuntime(14596): java.lang.RuntimeException: Unable to instantiate application com.deliveryrunner.vendor.MainActivity: java.lang.ClassCastException: com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application\r\nE/AndroidRuntime(14596): \tat android.app.LoadedApk.makeApplication(LoadedApk.java:1244)\r\nE/AndroidRuntime(14596): \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6683)\r\nE/AndroidRuntime(14596): \tat android.app.ActivityThread.access$1300(ActivityThread.java:237)\r\nE/AndroidRuntime(14596): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1913)\r\nE/AndroidRuntime(14596): \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\nE/AndroidRuntime(14596): \tat android.os.Looper.loop(Looper.java:223)\r\nE/AndroidRuntime(14596): \tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\nE/AndroidRuntime(14596): \tat java.lang.reflect.Method.invoke(Native Method)\r\nE/AndroidRuntime(14596): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\nE/AndroidRuntime(14596): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\nE/AndroidRuntime(14596): Caused by: java.lang.ClassCastException: com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application\r\nE/AndroidRuntime(14596): \tat android.app.AppComponentFactory.instantiateApplication(AppComponentFactory.java:76)\r\nE/AndroidRuntime(14596): \tat androidx.core.app.CoreComponentFactory.instantiateApplication(CoreComponentFactory.java:52)\r\nE/AndroidRuntime(14596): \tat android.app.Instrumentation.newApplication(Instrumentation.java:1158)\r\nE/AndroidRuntime(14596): \tat android.app.LoadedApk.makeApplication(LoadedApk.java:1236)\r\nE/AndroidRuntime(14596): \t... 9 more\r\n\r\n\r\n```","title":"com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application","body":"<p>I have an android application made with flutter, in older versions I've used <code>firebase_messaging</code> which required me to change my <code>MainActivity</code> file to <code>Application</code> with some edits mentioned below to be able to handle background messages. and it worked fine back then.</p>\n<p>Here is the old <code>Application</code> file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.deliveryrunner.vendor;\n\nimport io.flutter.app.FlutterApplication;\nimport io.flutter.plugin.common.PluginRegistry;\nimport io.flutter.plugin.common.PluginRegistry.PluginRegistrantCallback;\nimport io.flutter.plugins.firebasemessaging.FlutterFirebaseMessagingService;\n\npublic class Application extends FlutterApplication implements PluginRegistrantCallback {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        FlutterFirebaseMessagingService.setPluginRegistrant(this);\n    }\n\n    @Override\n    public void registerWith(PluginRegistry registry) {\n        FirebaseCloudMessagingPluginRegistrant.registerWith(registry);\n    }\n\n}\n</code></pre>\n<p>Now after upgrading to the latest version of flutter and <code>firebase_messaging</code> they mentioned in the documentation that I don't need this anymore and I can go back to normal <code>MainACtivity</code> and I did that. here is the <code>MainActivity</code> file :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.deliveryrunner.vendor\n\nimport io.flutter.embedding.android.FlutterActivity\n\nclass MainActivity : FlutterActivity() {}\n\n</code></pre>\n<p>please note that i am changing the entry in <code>AndroidManifest.xml</code> whenever i change the file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;application\n        android:name=&quot;.Application&quot;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;application\n        android:name=&quot;.MainActivity&quot;\n</code></pre>\n<p>finally, after upgrading whenever I run the app I get this error :</p>\n<pre><code>E/AndroidRuntime(14596): FATAL EXCEPTION: main\nE/AndroidRuntime(14596): Process: com.deliveryrunner.vendor, PID: 14596\nE/AndroidRuntime(14596): java.lang.RuntimeException: Unable to instantiate application com.deliveryrunner.vendor.MainActivity: java.lang.ClassCastException: com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application\nE/AndroidRuntime(14596):    at android.app.LoadedApk.makeApplication(LoadedApk.java:1244)\nE/AndroidRuntime(14596):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6683)\nE/AndroidRuntime(14596):    at android.app.ActivityThread.access$1300(ActivityThread.java:237)\nE/AndroidRuntime(14596):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1913)\nE/AndroidRuntime(14596):    at android.os.Handler.dispatchMessage(Handler.java:106)\nE/AndroidRuntime(14596):    at android.os.Looper.loop(Looper.java:223)\nE/AndroidRuntime(14596):    at android.app.ActivityThread.main(ActivityThread.java:7656)\nE/AndroidRuntime(14596):    at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(14596):    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nE/AndroidRuntime(14596):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nE/AndroidRuntime(14596): Caused by: java.lang.ClassCastException: com.deliveryrunner.vendor.MainActivity cannot be cast to android.app.Application\nE/AndroidRuntime(14596):    at android.app.AppComponentFactory.instantiateApplication(AppComponentFactory.java:76)\nE/AndroidRuntime(14596):    at androidx.core.app.CoreComponentFactory.instantiateApplication(CoreComponentFactory.java:52)\nE/AndroidRuntime(14596):    at android.app.Instrumentation.newApplication(Instrumentation.java:1158)\nE/AndroidRuntime(14596):    at android.app.LoadedApk.makeApplication(LoadedApk.java:1236)\nE/AndroidRuntime(14596):    ... 9 more\n\n\n</code></pre>\n"},{"tags":["java","reflection","micronaut","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1667372495,"post_id":74285311,"comment_id":131148782,"body_markdown":"You don&#39;t want to run the agent on the build VM, you want to run it on the run step. `org.gradle.jvmargs` is for VM arguments for the [build environment](https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties)","body":"You don&#39;t want to run the agent on the build VM, you want to run it on the run step. <code>org.gradle.jvmargs</code> is for VM arguments for the <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\" rel=\"nofollow noreferrer\">build environment</a>"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1667372739,"post_id":74285311,"comment_id":131148850,"body_markdown":"Thanks for responding @JohannesKuhn. How can we run it on run step?","body":"Thanks for responding @JohannesKuhn. How can we run it on run step?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1667375342,"post_id":74285311,"comment_id":131149544,"body_markdown":"No idea. I use maven.","body":"No idea. I use maven."},{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1667377277,"post_id":74285311,"comment_id":131150138,"body_markdown":"Can you provide your `build.gradle` file? That would help to reproduce setup","body":"Can you provide your <code>build.gradle</code> file? That would help to reproduce setup"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1667390505,"post_id":74285311,"comment_id":131154708,"body_markdown":"Added `build.gradle`","body":"Added <code>build.gradle</code>"}],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667373682,"creation_date":1667373682,"answer_id":74285611,"question_id":74285311,"body_markdown":"Since this is something you rarely do I usually run the command directly against the fat jar.\r\n\r\nHere is how I do it.\r\n\r\n 1. Run `./gradlew build`. This creates the fat jar in `builds/libs`\r\n 2. Goto `build/libs`\r\n 3. Run `java -jar -agentlib:native-image-agent=config-output-dir=META-INF/native-image &lt;your jar name&gt;-all.jar`","title":"Micronaut: Graalvm: Native image tracing agent not working","body":"<p>Since this is something you rarely do I usually run the command directly against the fat jar.</p>\n<p>Here is how I do it.</p>\n<ol>\n<li>Run <code>./gradlew build</code>. This creates the fat jar in <code>builds/libs</code></li>\n<li>Goto <code>build/libs</code></li>\n<li>Run <code>java -jar -agentlib:native-image-agent=config-output-dir=META-INF/native-image &lt;your jar name&gt;-all.jar</code></li>\n</ol>\n"}],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74285611,"answer_count":1,"score":2,"last_activity_date":1667390486,"creation_date":1667371627,"question_id":74285311,"body_markdown":"I have been developing MS in Micronaut, which I want to run as Graalvm native image on AWS Lambda. I have few dependencies like Jackson ObjectMapper, Apache POI, etc. in the project which does use reflection framework. But, Graalvm doesn&#39;t support reflection framework out of the box. So, we need to provide the configuration for the classes which are using reflection framework. To generate such configuration, I am trying to use Graalvm tracing agent, but it doesn&#39;t seems to be working.\r\n\r\n - It generates the config JSON files successfully.\r\n - But these config JSONs doesn&#39;t contain the classes from 3rd party libs which are added in `build.gradle`.\r\n - I have below parameter in `gradle.properties` file:\r\n     - `org.gradle.jvmargs=-agentlib:native-image-agent=config-output-dir=&lt;path to dir&gt;`\r\n - Then, I run the project using gradle&#39;s `run` task from the IntelliJ, and do execute all the methods which actually use these libs (thus all those libs&#39; code gets executed).\r\n - Once the execution is stopped, I find few config files generated on the dir path mentioned, but those files contains only classes related to Gradle, Jetbrains and few others. I cannot find any classes related to 3rd party libs which I am using and which are mentioned in `build.gradle`.\r\n\r\nWhat should be the correct way to generate the reflection configuration JSON file for Micronaut Graalvm native image?\r\n\r\n\r\n`build.gradle`:\r\n```\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\r\n    id(&quot;io.micronaut.application&quot;) version &quot;3.5.1&quot;\r\n}\r\n\r\nversion = &quot;0.1&quot;\r\ngroup = &quot;com.base.package&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    orgJsonVersion = &quot;20220320&quot;\r\n    poiVersion = &quot;3.9&quot;\r\n    apacheCommons = &quot;3.12.0&quot;\r\n    googleGson = &quot;2.9.1&quot;\r\n    springValidation = &quot;2.7.3&quot;\r\n    eclipseLink = &quot;3.0.3&quot;\r\n    servletApi = &quot;2.5&quot;\r\n    velocity = &quot;1.7&quot;\r\n    velocityTools = &quot;2.0&quot;\r\n    kafkaClient = &quot;2.1.1&quot;\r\n    googleGuava = &quot;27.0-jre&quot;\r\n}\r\n\r\ndependencies {\r\n    annotationProcessor(&#39;io.micronaut:micronaut-inject-java&#39;)\r\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor&quot;)\r\n    annotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n//    runtimeOnly(&#39;org.slf4j:log4j-over-slf4j:2.0.2&#39;)\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    compileOnly(&quot;io.micronaut.sql:micronaut-hibernate-jpa&quot;)\r\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\r\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\r\n\r\n    // compileOnly group: &#39;io.micronaut&#39;, name: &#39;micronaut-http-server-netty&#39;\r\n\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;)\r\n\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;)\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &quot;${orgJsonVersion}&quot;\r\n\r\n    implementation group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &quot;${poiVersion}&quot;\r\n    implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &quot;${poiVersion}&quot;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &quot;${apacheCommons}&quot;\r\n    implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &quot;${googleGson}&quot;\r\n//    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;, version: &quot;${springValidation}&quot;\r\n    implementation group: &#39;org.eclipse.persistence&#39;, name: &#39;eclipselink&#39;, version: &quot;${eclipseLink}&quot;\r\n//    compileOnly group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version: &quot;${servletApi}&quot;\r\n    implementation(&quot;org.apache.velocity:velocity:${velocity}&quot;) {\r\n        exclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n    }\r\n    implementation(&quot;org.apache.velocity:velocity-tools:${velocityTools}&quot;) {\r\n        exclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n    }\r\n    implementation group: &#39;org.apache.kafka&#39;, name: &#39;kafka-clients&#39;, version: &quot;${kafkaClient}&quot;\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &quot;${googleGuava}&quot;\r\n//    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.6.9.Final&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-hibernate5&#39;, version: &#39;2.8.3&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.8.3&#39;\r\n\r\n}\r\n\r\n\r\napplication {\r\n    mainClass.set(&quot;com.base.package.MainApplication&quot;)\r\n}\r\n\r\nshadowJar {\r\n    mergeServiceFiles()\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.toVersion(&quot;11&quot;)\r\n    targetCompatibility = JavaVersion.toVersion(&quot;11&quot;)\r\n}\r\n\r\ngraalvmNative.toolchainDetection = false\r\nmicronaut {\r\n    runtime(&quot;lambda_provided&quot;)\r\n    testRuntime(&quot;junit5&quot;)\r\n    processing {\r\n        incremental(true)\r\n        annotations(&quot;com.base.package.*&quot;)\r\n    }\r\n}\r\n\r\n\r\ntasks.named(&quot;dockerfileNative&quot;) {\r\n    args(\r\n        &quot;-XX:MaximumHeapSizePercent=80&quot;,\r\n        &quot;-Dio.netty.allocator.numDirectArenas=0&quot;,\r\n        &quot;-Dio.netty.noPreferDirect=true&quot;\r\n    )\r\n}\r\n\r\ngraalvmNative.binaries.all {\r\n    buildArgs.add(&quot;--no-server -J-Xmx12g -J-Xms4g -O0&quot;)\r\n}\r\n```\r\n ","title":"Micronaut: Graalvm: Native image tracing agent not working","body":"<p>I have been developing MS in Micronaut, which I want to run as Graalvm native image on AWS Lambda. I have few dependencies like Jackson ObjectMapper, Apache POI, etc. in the project which does use reflection framework. But, Graalvm doesn't support reflection framework out of the box. So, we need to provide the configuration for the classes which are using reflection framework. To generate such configuration, I am trying to use Graalvm tracing agent, but it doesn't seems to be working.</p>\n<ul>\n<li>It generates the config JSON files successfully.</li>\n<li>But these config JSONs doesn't contain the classes from 3rd party libs which are added in <code>build.gradle</code>.</li>\n<li>I have below parameter in <code>gradle.properties</code> file:\n<ul>\n<li><code>org.gradle.jvmargs=-agentlib:native-image-agent=config-output-dir=&lt;path to dir&gt;</code></li>\n</ul>\n</li>\n<li>Then, I run the project using gradle's <code>run</code> task from the IntelliJ, and do execute all the methods which actually use these libs (thus all those libs' code gets executed).</li>\n<li>Once the execution is stopped, I find few config files generated on the dir path mentioned, but those files contains only classes related to Gradle, Jetbrains and few others. I cannot find any classes related to 3rd party libs which I am using and which are mentioned in <code>build.gradle</code>.</li>\n</ul>\n<p>What should be the correct way to generate the reflection configuration JSON file for Micronaut Graalvm native image?</p>\n<p><code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\n    id(&quot;io.micronaut.application&quot;) version &quot;3.5.1&quot;\n}\n\nversion = &quot;0.1&quot;\ngroup = &quot;com.base.package&quot;\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    orgJsonVersion = &quot;20220320&quot;\n    poiVersion = &quot;3.9&quot;\n    apacheCommons = &quot;3.12.0&quot;\n    googleGson = &quot;2.9.1&quot;\n    springValidation = &quot;2.7.3&quot;\n    eclipseLink = &quot;3.0.3&quot;\n    servletApi = &quot;2.5&quot;\n    velocity = &quot;1.7&quot;\n    velocityTools = &quot;2.0&quot;\n    kafkaClient = &quot;2.1.1&quot;\n    googleGuava = &quot;27.0-jre&quot;\n}\n\ndependencies {\n    annotationProcessor('io.micronaut:micronaut-inject-java')\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor&quot;)\n    annotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n//    runtimeOnly('org.slf4j:log4j-over-slf4j:2.0.2')\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    compileOnly(&quot;io.micronaut.sql:micronaut-hibernate-jpa&quot;)\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\n\n    // compileOnly group: 'io.micronaut', name: 'micronaut-http-server-netty'\n\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;)\n\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;)\n    implementation group: 'org.json', name: 'json', version: &quot;${orgJsonVersion}&quot;\n\n    implementation group: 'org.apache.poi', name: 'poi', version: &quot;${poiVersion}&quot;\n    implementation group: 'org.apache.poi', name: 'poi-ooxml', version: &quot;${poiVersion}&quot;\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: &quot;${apacheCommons}&quot;\n    implementation group: 'com.google.code.gson', name: 'gson', version: &quot;${googleGson}&quot;\n//    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation', version: &quot;${springValidation}&quot;\n    implementation group: 'org.eclipse.persistence', name: 'eclipselink', version: &quot;${eclipseLink}&quot;\n//    compileOnly group: 'javax.servlet', name: 'servlet-api', version: &quot;${servletApi}&quot;\n    implementation(&quot;org.apache.velocity:velocity:${velocity}&quot;) {\n        exclude group: 'log4j', module: 'log4j'\n    }\n    implementation(&quot;org.apache.velocity:velocity-tools:${velocityTools}&quot;) {\n        exclude group: 'log4j', module: 'log4j'\n    }\n    implementation group: 'org.apache.kafka', name: 'kafka-clients', version: &quot;${kafkaClient}&quot;\n    implementation group: 'com.google.guava', name: 'guava', version: &quot;${googleGuava}&quot;\n//    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.6.9.Final'\n    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-hibernate5', version: '2.8.3'\n    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.8.3'\n\n}\n\n\napplication {\n    mainClass.set(&quot;com.base.package.MainApplication&quot;)\n}\n\nshadowJar {\n    mergeServiceFiles()\n}\n\njava {\n    sourceCompatibility = JavaVersion.toVersion(&quot;11&quot;)\n    targetCompatibility = JavaVersion.toVersion(&quot;11&quot;)\n}\n\ngraalvmNative.toolchainDetection = false\nmicronaut {\n    runtime(&quot;lambda_provided&quot;)\n    testRuntime(&quot;junit5&quot;)\n    processing {\n        incremental(true)\n        annotations(&quot;com.base.package.*&quot;)\n    }\n}\n\n\ntasks.named(&quot;dockerfileNative&quot;) {\n    args(\n        &quot;-XX:MaximumHeapSizePercent=80&quot;,\n        &quot;-Dio.netty.allocator.numDirectArenas=0&quot;,\n        &quot;-Dio.netty.noPreferDirect=true&quot;\n    )\n}\n\ngraalvmNative.binaries.all {\n    buildArgs.add(&quot;--no-server -J-Xmx12g -J-Xms4g -O0&quot;)\n}\n</code></pre>\n"},{"tags":["java","android","imageview","image-scaling","anchorpoint"],"answers":[{"tags":[],"owner":{"account_id":26028505,"reputation":1,"user_id":19735090,"display_name":"gabry2298"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667389859,"creation_date":1667389859,"answer_id":74288703,"question_id":74279989,"body_markdown":"I have find out a possible solution, if anyone need the code:\r\n    \r\n    float centerX, centerY, startScale, startX, startY;\r\n\r\n    private void startScaling(MotionEvent e) {\r\n        ImageView imageView = (ImageView) getChildAt(0);\r\n\r\n        switch (e.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                startX = e.getX();\r\n                startY = e.getY();\r\n                startScale = imageView.getScaleX();\r\n                centerX = imageView.getX() + imageView.getWidth() / 2F;\r\n                centerY = imageView.getY() + imageView.getHeight() / 2F;\r\n                break;\r\n\r\n            case MotionEvent.ACTION_MOVE:\r\n                // euclidean distance\r\n                double length1 = Point.distance(centerX, centerY, startX, startY);\r\n                double length2 = Point.distance(centerX, centerY, e.getX(), e.getY());\r\n\r\n                if(length2 &gt; length1) {\r\n                    //scale up\r\n                    float scaleFactor = (float) (length2 / length1);\r\n\r\n                    //scale the image\r\n                    imageView.setScaleX(startScale * scaleFactor);\r\n                    imageView.setScaleY(startScale * scaleFactor);\r\n                }else {\r\n                    //scale down\r\n                    // calculate the scale factor\r\n                    float scaleFactor = (float) (length1 / length2);\r\n\r\n                    // scale the image\r\n                    imageView.setScaleX(startScale / scaleFactor);\r\n                    imageView.setScaleY(startScale / scaleFactor);\r\n                }\r\n\r\n                float scaledWidth = imageView.getWidth() * imageView.getScaleX();\r\n                float scaledHeight = imageView.getHeight() * imageView.getScaleY();\r\n\r\n                // calculate new boubds of the image\r\n                float left = centerX - scaledWidth / 2F;\r\n                float top = centerY - scaledHeight / 2F;\r\n                float right = left + scaledWidth;\r\n                float bottom = top + scaledHeight;\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                break;\r\n        }\r\n    }","title":"Android scale ImageView using anchor points","body":"<p>I have find out a possible solution, if anyone need the code:</p>\n<pre><code>float centerX, centerY, startScale, startX, startY;\n\nprivate void startScaling(MotionEvent e) {\n    ImageView imageView = (ImageView) getChildAt(0);\n\n    switch (e.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            startX = e.getX();\n            startY = e.getY();\n            startScale = imageView.getScaleX();\n            centerX = imageView.getX() + imageView.getWidth() / 2F;\n            centerY = imageView.getY() + imageView.getHeight() / 2F;\n            break;\n\n        case MotionEvent.ACTION_MOVE:\n            // euclidean distance\n            double length1 = Point.distance(centerX, centerY, startX, startY);\n            double length2 = Point.distance(centerX, centerY, e.getX(), e.getY());\n\n            if(length2 &gt; length1) {\n                //scale up\n                float scaleFactor = (float) (length2 / length1);\n\n                //scale the image\n                imageView.setScaleX(startScale * scaleFactor);\n                imageView.setScaleY(startScale * scaleFactor);\n            }else {\n                //scale down\n                // calculate the scale factor\n                float scaleFactor = (float) (length1 / length2);\n\n                // scale the image\n                imageView.setScaleX(startScale / scaleFactor);\n                imageView.setScaleY(startScale / scaleFactor);\n            }\n\n            float scaledWidth = imageView.getWidth() * imageView.getScaleX();\n            float scaledHeight = imageView.getHeight() * imageView.getScaleY();\n\n            // calculate new boubds of the image\n            float left = centerX - scaledWidth / 2F;\n            float top = centerY - scaledHeight / 2F;\n            float right = left + scaledWidth;\n            float bottom = top + scaledHeight;\n            break;\n        case MotionEvent.ACTION_UP:\n            break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26028505,"reputation":1,"user_id":19735090,"display_name":"gabry2298"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74288703,"answer_count":1,"score":0,"last_activity_date":1667389859,"creation_date":1667325577,"question_id":74279989,"body_markdown":"The goal is: the Imageview have 4 squares on each corners. If the user touch and drag one of this, the image is scaled. &lt;br&gt;\r\n&lt;br&gt;Given the image, the 4 squares and the touched square how can i implement this feature? &lt;br&gt;(square = Rectf class)\r\n&lt;br&gt;&lt;br&gt;\r\n[example of image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/97ImV.jpg","title":"Android scale ImageView using anchor points","body":"<p>The goal is: the Imageview have 4 squares on each corners. If the user touch and drag one of this, the image is scaled. <br>\n<br>Given the image, the 4 squares and the touched square how can i implement this feature? <br>(square = Rectf class)\n<br><br>\n<a href=\"https://i.stack.imgur.com/97ImV.jpg\" rel=\"nofollow noreferrer\">example of image</a></p>\n"},{"tags":["java","spring-boot","microservices","camunda"],"owner":{"account_id":8571986,"reputation":1,"user_id":6422530,"display_name":"Rahul Vazar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667389835,"creation_date":1667388592,"question_id":74288476,"body_markdown":"Facing ProcessEngineException while saving a variable in DelegateExecution in the ServiceTask execution. \r\n\r\nI have one Camunda ServiceTask (i.e ServiceTask1) which will initiate another camunda process serviceTask (ServiceTask2) based on the fetched data from the database. During the execution of first ServiceTask, I want to save that how many processes are initiated for ServiceTask2. \r\n\r\nFollowing is the log.\r\n\r\n```\r\norg.camunda.bpm.engine.ProcessEngineException: An exception occurred in the persistence layer. Please check the server logs for a detailed message and the entire exception stack trace.\r\n\tat org.camunda.bpm.engine.impl.util.ExceptionUtil.wrapPersistenceException(ExceptionUtil.java:263) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.EnginePersistenceLogger.flushDbOperationException(EnginePersistenceLogger.java:132) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperations(DbEntityManager.java:364) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperationManager(DbEntityManager.java:323) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flush(DbEntityManager.java:295) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContext.flushSessions(CommandContext.java:272) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContext.close(CommandContext.java:188) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:119) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.spring.SpringTransactionInterceptor$1.doInTransaction(SpringTransactionInterceptor.java:72) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.camunda.bpm.engine.spring.SpringTransactionInterceptor.execute(SpringTransactionInterceptor.java:70) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.ProcessApplicationContextInterceptor.execute(ProcessApplicationContextInterceptor.java:70) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandCounterInterceptor.execute(CommandCounterInterceptor.java:35) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:33) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobHelper.executeJob(ExecuteJobHelper.java:57) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.executeJob(ExecuteJobsRunnable.java:110) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.run(ExecuteJobsRunnable.java:71) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: org.camunda.bpm.engine.ProcessEngineException: ENGINE-03004 Exception while executing Database Operation &#39;DELETE ExecutionEntity[4030c055-5a9f-11ed-8b9d-00ff25863dc8]&#39; with message &#39;\r\n### Error flushing statements.  Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\n### Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\njava.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\n&#39;. Flush summary: \r\n [\r\n  INSERT ExecutionEntity[4c54a962-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54a963-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d074-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d075-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d076-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d077-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d078-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d079-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54d07a-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f78b-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f78c-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f78d-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f78e-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f78f-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f790-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f791-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f792-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT VariableInstanceEntity[4c54f793-5a9f-11ed-8b9d-00ff25863dc8]\r\n  INSERT MessageEntity[4c54f795-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE MessageEntity[4030e76d-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE VariableInstanceEntity[4030c056-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE VariableInstanceEntity[4030e767-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE VariableInstanceEntity[4030e768-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE VariableInstanceEntity[4030e769-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE VariableInstanceEntity[4030e76a-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE VariableInstanceEntity[4030e76b-5a9f-11ed-8b9d-00ff25863dc8]\r\n  DELETE ExecutionEntity[4030c055-5a9f-11ed-8b9d-00ff25863dc8]\r\n]\r\n\tat org.camunda.bpm.engine.impl.db.EnginePersistenceLogger.flushDbOperationException(EnginePersistenceLogger.java:131) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\t... 18 common frames omitted\r\nCaused by: org.apache.ibatis.exceptions.PersistenceException: \r\n### Error flushing statements.  Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\n### Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\n\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.6.jar:3.5.6]\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.flushStatements(DefaultSqlSession.java:254) ~[mybatis-3.5.6.jar:3.5.6]\r\n\tat org.camunda.bpm.engine.impl.db.sql.DbSqlSession.flushBatchOperations(DbSqlSession.java:444) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.sql.BatchDbSqlSession.executeDbOperations(BatchDbSqlSession.java:74) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperations(DbEntityManager.java:341) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\t... 17 common frames omitted\r\nCaused by: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\n\tat org.apache.ibatis.executor.BatchExecutor.doFlushStatements(BatchExecutor.java:149) ~[mybatis-3.5.6.jar:3.5.6]\r\n\tat org.apache.ibatis.executor.BaseExecutor.flushStatements(BaseExecutor.java:129) ~[mybatis-3.5.6.jar:3.5.6]\r\n\tat org.apache.ibatis.executor.BaseExecutor.flushStatements(BaseExecutor.java:122) ~[mybatis-3.5.6.jar:3.5.6]\r\n\tat org.apache.ibatis.executor.CachingExecutor.flushStatements(CachingExecutor.java:114) ~[mybatis-3.5.6.jar:3.5.6]\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.flushStatements(DefaultSqlSession.java:252) ~[mybatis-3.5.6.jar:3.5.6]\r\n\t... 20 common frames omitted\r\nCaused by: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column &#39;EXECUTION_ID_&#39;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2101) ~[mssql-jdbc-9.4.0.jre11.jar:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor229.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:118) ~[tomcat-jdbc-9.0.64.jar:na]\r\n\tat com.sun.proxy.$Proxy153.executeBatch(Unknown Source) ~[na:na]\r\n\tat org.apache.ibatis.executor.BatchExecutor.doFlushStatements(BatchExecutor.java:123) ~[mybatis-3.5.6.jar:3.5.6]\r\n\t... 24 common frames omitted\r\nINFO  [rahulv_workflow_dev_dt][version:current.version@][traceId:][spanId:][parentSpanId:][spanExportable:][JobExecutor[com.highq.workflow.camunda.processengine.CustomSpringJobExecutor]][2022-11-02 16:43:00,034]- com.highq.workflow.camunda.processengine.CustomJobManager.findNextJobsToExecute:Line 60 - findNextJobsToExecute :: Executed and page value is : 15\r\nWARN  [rahulv_workflow_dev_dt][version:current.version@][traceId:][spanId:][parentSpanId:][spanExportable:][rahulv_dev_5_6.1644992100870CamundaCallServiceTask_thread4][2022-11-02 16:43:00,033]- org.camunda.commons.logging.BaseLogger.logWarn:Line 146 - ENGINE-14006 Exception while executing job 4030e76d-5a9f-11ed-8b9d-00ff25863dc8: \r\norg.camunda.bpm.engine.ProcessEngineException: An exception occurred in the persistence layer. Please check the server logs for a detailed message and the entire exception stack trace.\r\n\tat org.camunda.bpm.engine.impl.util.ExceptionUtil.wrapPersistenceException(ExceptionUtil.java:263) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.EnginePersistenceLogger.flushDbOperationException(EnginePersistenceLogger.java:132) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperations(DbEntityManager.java:364) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperationManager(DbEntityManager.java:323) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flush(DbEntityManager.java:295) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContext.flushSessions(CommandContext.java:272) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContext.close(CommandContext.java:188) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:119) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.spring.SpringTransactionInterceptor$1.doInTransaction(SpringTransactionInterceptor.java:72) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.camunda.bpm.engine.spring.SpringTransactionInterceptor.execute(SpringTransactionInterceptor.java:70) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.ProcessApplicationContextInterceptor.execute(ProcessApplicationContextInterceptor.java:70) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandCounterInterceptor.execute(CommandCounterInterceptor.java:35) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:33) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobHelper.executeJob(ExecuteJobHelper.java:57) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.executeJob(ExecuteJobsRunnable.java:110) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.run(ExecuteJobsRunnable.java:71) ~[camunda-engine-7.15.0.jar:7.15.0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\n\r\n\r\nI have created one thread class which handles the saving of variable in Execution. This thread object will be executed ThreadPoolTaskExecutor. \r\n\r\n\r\n```\r\nThreadPoolTaskExecutor threadPool = (ThreadPoolTaskExecutor) applicationContext.getBean(threadName);\r\nSetCamundaVariableThread setCamundaVariableThread = applicationContext.getBean(SetCamundaVariableThread.class, execution.getProcessInstanceId(), variableName, variableValue);\r\n\r\nFuture&lt;String&gt; resultS = threadPool.submit(setCamundaVariableThread);\r\n```\r\n","title":"org.camunda.bpm.engine.ProcessEngineException: An exception occurred in the persistence layer. While saving a variable in DelegateExecution object","body":"<p>Facing ProcessEngineException while saving a variable in DelegateExecution in the ServiceTask execution.</p>\n<p>I have one Camunda ServiceTask (i.e ServiceTask1) which will initiate another camunda process serviceTask (ServiceTask2) based on the fetched data from the database. During the execution of first ServiceTask, I want to save that how many processes are initiated for ServiceTask2.</p>\n<p>Following is the log.</p>\n<pre><code>org.camunda.bpm.engine.ProcessEngineException: An exception occurred in the persistence layer. Please check the server logs for a detailed message and the entire exception stack trace.\n    at org.camunda.bpm.engine.impl.util.ExceptionUtil.wrapPersistenceException(ExceptionUtil.java:263) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.EnginePersistenceLogger.flushDbOperationException(EnginePersistenceLogger.java:132) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperations(DbEntityManager.java:364) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperationManager(DbEntityManager.java:323) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flush(DbEntityManager.java:295) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandContext.flushSessions(CommandContext.java:272) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandContext.close(CommandContext.java:188) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:119) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.spring.SpringTransactionInterceptor$1.doInTransaction(SpringTransactionInterceptor.java:72) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.camunda.bpm.engine.spring.SpringTransactionInterceptor.execute(SpringTransactionInterceptor.java:70) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.ProcessApplicationContextInterceptor.execute(ProcessApplicationContextInterceptor.java:70) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandCounterInterceptor.execute(CommandCounterInterceptor.java:35) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:33) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobHelper.executeJob(ExecuteJobHelper.java:57) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.executeJob(ExecuteJobsRunnable.java:110) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.run(ExecuteJobsRunnable.java:71) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.camunda.bpm.engine.ProcessEngineException: ENGINE-03004 Exception while executing Database Operation 'DELETE ExecutionEntity[4030c055-5a9f-11ed-8b9d-00ff25863dc8]' with message '\n### Error flushing statements.  Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\n### Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\njava.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\n'. Flush summary: \n [\n  INSERT ExecutionEntity[4c54a962-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54a963-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d074-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d075-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d076-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d077-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d078-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d079-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54d07a-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f78b-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f78c-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f78d-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f78e-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f78f-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f790-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f791-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f792-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT VariableInstanceEntity[4c54f793-5a9f-11ed-8b9d-00ff25863dc8]\n  INSERT MessageEntity[4c54f795-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE MessageEntity[4030e76d-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE VariableInstanceEntity[4030c056-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE VariableInstanceEntity[4030e767-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE VariableInstanceEntity[4030e768-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE VariableInstanceEntity[4030e769-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE VariableInstanceEntity[4030e76a-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE VariableInstanceEntity[4030e76b-5a9f-11ed-8b9d-00ff25863dc8]\n  DELETE ExecutionEntity[4030c055-5a9f-11ed-8b9d-00ff25863dc8]\n]\n    at org.camunda.bpm.engine.impl.db.EnginePersistenceLogger.flushDbOperationException(EnginePersistenceLogger.java:131) ~[camunda-engine-7.15.0.jar:7.15.0]\n    ... 18 common frames omitted\nCaused by: org.apache.ibatis.exceptions.PersistenceException: \n### Error flushing statements.  Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\n### Cause: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\n    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.6.jar:3.5.6]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.flushStatements(DefaultSqlSession.java:254) ~[mybatis-3.5.6.jar:3.5.6]\n    at org.camunda.bpm.engine.impl.db.sql.DbSqlSession.flushBatchOperations(DbSqlSession.java:444) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.sql.BatchDbSqlSession.executeDbOperations(BatchDbSqlSession.java:74) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperations(DbEntityManager.java:341) ~[camunda-engine-7.15.0.jar:7.15.0]\n    ... 17 common frames omitted\nCaused by: org.apache.ibatis.executor.BatchExecutorException: org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.deleteExecution (batch index #6) failed. 5 prior sub executor(s) completed successfully, but will be rolled back. Cause: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\n    at org.apache.ibatis.executor.BatchExecutor.doFlushStatements(BatchExecutor.java:149) ~[mybatis-3.5.6.jar:3.5.6]\n    at org.apache.ibatis.executor.BaseExecutor.flushStatements(BaseExecutor.java:129) ~[mybatis-3.5.6.jar:3.5.6]\n    at org.apache.ibatis.executor.BaseExecutor.flushStatements(BaseExecutor.java:122) ~[mybatis-3.5.6.jar:3.5.6]\n    at org.apache.ibatis.executor.CachingExecutor.flushStatements(CachingExecutor.java:114) ~[mybatis-3.5.6.jar:3.5.6]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.flushStatements(DefaultSqlSession.java:252) ~[mybatis-3.5.6.jar:3.5.6]\n    ... 20 common frames omitted\nCaused by: java.sql.BatchUpdateException: The DELETE statement conflicted with the REFERENCE constraint &quot;ACT_FK_VAR_EXE&quot;. The conflict occurred in database &quot;DB_NAME&quot;, table &quot;dbo.ACT_RU_VARIABLE&quot;, column 'EXECUTION_ID_'.\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeBatch(SQLServerPreparedStatement.java:2101) ~[mssql-jdbc-9.4.0.jre11.jar:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor229.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:118) ~[tomcat-jdbc-9.0.64.jar:na]\n    at com.sun.proxy.$Proxy153.executeBatch(Unknown Source) ~[na:na]\n    at org.apache.ibatis.executor.BatchExecutor.doFlushStatements(BatchExecutor.java:123) ~[mybatis-3.5.6.jar:3.5.6]\n    ... 24 common frames omitted\nINFO  [rahulv_workflow_dev_dt][version:current.version@][traceId:][spanId:][parentSpanId:][spanExportable:][JobExecutor[com.highq.workflow.camunda.processengine.CustomSpringJobExecutor]][2022-11-02 16:43:00,034]- com.highq.workflow.camunda.processengine.CustomJobManager.findNextJobsToExecute:Line 60 - findNextJobsToExecute :: Executed and page value is : 15\nWARN  [rahulv_workflow_dev_dt][version:current.version@][traceId:][spanId:][parentSpanId:][spanExportable:][rahulv_dev_5_6.1644992100870CamundaCallServiceTask_thread4][2022-11-02 16:43:00,033]- org.camunda.commons.logging.BaseLogger.logWarn:Line 146 - ENGINE-14006 Exception while executing job 4030e76d-5a9f-11ed-8b9d-00ff25863dc8: \norg.camunda.bpm.engine.ProcessEngineException: An exception occurred in the persistence layer. Please check the server logs for a detailed message and the entire exception stack trace.\n    at org.camunda.bpm.engine.impl.util.ExceptionUtil.wrapPersistenceException(ExceptionUtil.java:263) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.EnginePersistenceLogger.flushDbOperationException(EnginePersistenceLogger.java:132) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperations(DbEntityManager.java:364) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flushDbOperationManager(DbEntityManager.java:323) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.flush(DbEntityManager.java:295) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandContext.flushSessions(CommandContext.java:272) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandContext.close(CommandContext.java:188) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:119) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.spring.SpringTransactionInterceptor$1.doInTransaction(SpringTransactionInterceptor.java:72) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.camunda.bpm.engine.spring.SpringTransactionInterceptor.execute(SpringTransactionInterceptor.java:70) ~[camunda-engine-spring-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.ProcessApplicationContextInterceptor.execute(ProcessApplicationContextInterceptor.java:70) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.CommandCounterInterceptor.execute(CommandCounterInterceptor.java:35) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:33) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobHelper.executeJob(ExecuteJobHelper.java:57) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.executeJob(ExecuteJobsRunnable.java:110) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at org.camunda.bpm.engine.impl.jobexecutor.ExecuteJobsRunnable.run(ExecuteJobsRunnable.java:71) ~[camunda-engine-7.15.0.jar:7.15.0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>I have created one thread class which handles the saving of variable in Execution. This thread object will be executed ThreadPoolTaskExecutor.</p>\n<pre><code>ThreadPoolTaskExecutor threadPool = (ThreadPoolTaskExecutor) applicationContext.getBean(threadName);\nSetCamundaVariableThread setCamundaVariableThread = applicationContext.getBean(SetCamundaVariableThread.class, execution.getProcessInstanceId(), variableName, variableValue);\n\nFuture&lt;String&gt; resultS = threadPool.submit(setCamundaVariableThread);\n</code></pre>\n"},{"tags":["java","spring","spring-data"],"comments":[{"owner":{"account_id":948386,"reputation":2575,"user_id":975123,"accept_rate":75,"display_name":"mekazu"},"score":0,"creation_date":1523010680,"post_id":49690671,"comment_id":86393158,"body_markdown":"Just to be clear, you’re not happy with the standard method of getting then updating and saving the entity if it exists? JPA tends to prefer the implementation to be able to be aware of any modifications to entities.","body":"Just to be clear, you’re not happy with the standard method of getting then updating and saving the entity if it exists? JPA tends to prefer the implementation to be able to be aware of any modifications to entities."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1523010844,"post_id":49690671,"comment_id":86393268,"body_markdown":"In this case, since we do not yet have a service layer, I wanted to keep it simple and solve the &quot;problem&quot; in the Repository with a simple query, which leads of course to some implications, thus the question. With a service layer, of course one would simply &quot;manually&quot; load the entity and update it.","body":"In this case, since we do not yet have a service layer, I wanted to keep it simple and solve the &quot;problem&quot; in the Repository with a simple query, which leads of course to some implications, thus the question. With a service layer, of course one would simply &quot;manually&quot; load the entity and update it."},{"owner":{"account_id":1587080,"reputation":3848,"user_id":2600196,"accept_rate":100,"display_name":"kakabali"},"score":1,"creation_date":1523012631,"post_id":49690671,"comment_id":86394383,"body_markdown":"share the repository class at least the basic declaration of it","body":"share the repository class at least the basic declaration of it"}],"answers":[{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1667389456,"creation_date":1523015588,"answer_id":49692247,"question_id":49690671,"body_markdown":"Set **clearAutomatically** attribute on @Modifying annotation.That will clear all the non-flushed values from EntityManager.\r\n\r\n    @Modifying(clearAutomatically=true)\r\n    @Transactional\r\n    @Query(&quot;UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1&quot;)\r\n    void markAsSoftDeleted(long id);\r\n\r\nTo flush your changes before committing the update latest spring-data-jpa has another attribute on @ModifyingAttribute. But I think its still in 2.1.M1 release.\r\n\r\n    @Modifying(clearAutomatically=true, flushAutomatically = true)\r\n\r\nPlease check corresponding jira bug request: https://jira.spring.io/browse/DATAJPA-806 \r\n\r\nAnother approach can be you can implement custom repostiory Implementation and return your updated entity after done with the query execution.\r\n\r\nReference : [Spring data jpa custom repository implemenation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","title":"Spring Data Repository @Query - Update and return modified entity","body":"<p>Set <strong>clearAutomatically</strong> attribute on @Modifying annotation.That will clear all the non-flushed values from EntityManager.</p>\n<pre><code>@Modifying(clearAutomatically=true)\n@Transactional\n@Query(&quot;UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1&quot;)\nvoid markAsSoftDeleted(long id);\n</code></pre>\n<p>To flush your changes before committing the update latest spring-data-jpa has another attribute on @ModifyingAttribute. But I think its still in 2.1.M1 release.</p>\n<pre><code>@Modifying(clearAutomatically=true, flushAutomatically = true)\n</code></pre>\n<p>Please check corresponding jira bug request: <a href=\"https://jira.spring.io/browse/DATAJPA-806\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAJPA-806</a></p>\n<p>Another approach can be you can implement custom repostiory Implementation and return your updated entity after done with the query execution.</p>\n<p>Reference : <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">Spring data jpa custom repository implemenation</a></p>\n"},{"tags":[],"owner":{"account_id":16044905,"reputation":21,"user_id":11580327,"display_name":"Felipe Guedes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559252239,"creation_date":1559252239,"answer_id":56385940,"question_id":49690671,"body_markdown":"    @Modifying(clearAutomatically=true)\r\nIts works for me.\r\n","title":"Spring Data Repository @Query - Update and return modified entity","body":"<pre><code>@Modifying(clearAutomatically=true)\n</code></pre>\n\n<p>Its works for me.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616601743,"creation_date":1588050703,"answer_id":61473038,"question_id":49690671,"body_markdown":"There are two ways to do that:\r\n\r\n**The JPA idiomatic way** to do this is to load the entities first, then changing them using Java code.\r\n\r\nDoing this in a transaction will flush the changes to the database.\r\n\r\n\r\n**If you insist on doing a batch update** you need to mark the entities as part of the update. Maybe with a timestamp, maybe the update itself already marks them. And then you reload them using a select statement that uses the marker set during the update. \r\n\r\nNote that you have to ensure that the entities don&#39;t exist yet in your `EntityManager`, otherwise you will keep the old state there. This is the purpose of `@Modifying(clearAutomatically=true)` recommended by other answers.","title":"Spring Data Repository @Query - Update and return modified entity","body":"<p>There are two ways to do that:</p>\n<p><strong>The JPA idiomatic way</strong> to do this is to load the entities first, then changing them using Java code.</p>\n<p>Doing this in a transaction will flush the changes to the database.</p>\n<p><strong>If you insist on doing a batch update</strong> you need to mark the entities as part of the update. Maybe with a timestamp, maybe the update itself already marks them. And then you reload them using a select statement that uses the marker set during the update.</p>\n<p>Note that you have to ensure that the entities don't exist yet in your <code>EntityManager</code>, otherwise you will keep the old state there. This is the purpose of <code>@Modifying(clearAutomatically=true)</code> recommended by other answers.</p>\n"},{"tags":[],"owner":{"account_id":9631733,"reputation":1,"user_id":7409187,"display_name":"pritesh dudhatra"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1628758665,"creation_date":1628746283,"answer_id":68752057,"question_id":49690671,"body_markdown":"It will never return `void` or your class type, add return type `int` or `Integer` like below,\r\n\r\n    @Modifying(clearAutomatically=true)\r\n    @Transactional\r\n    @Query(&quot;UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1&quot;)\r\n    Integer markAsSoftDeleted(long id);","title":"Spring Data Repository @Query - Update and return modified entity","body":"<p>It will never return <code>void</code> or your class type, add return type <code>int</code> or <code>Integer</code> like below,</p>\n<pre><code>@Modifying(clearAutomatically=true)\n@Transactional\n@Query(&quot;UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1&quot;)\nInteger markAsSoftDeleted(long id);\n</code></pre>\n"}],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22971,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":4,"score":21,"last_activity_date":1667389456,"creation_date":1523010246,"question_id":49690671,"body_markdown":"let&#39;s assume we have a Spring Data repository interface with a custom method...\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1&quot;)\r\n    void markAsSoftDeleted(long id);\r\n\r\nThis method simply sets the deletedAt field of the entity, ok. Is there any way to allow this method to return an updated version of the `MyEntity`?\r\n\r\nObviously...\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1&quot;)\r\n    MyEntity markAsSoftDeleted(long id);\r\n\r\n...does not work, since...\r\n\r\n&gt; java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type! \r\n\r\nDoes anyon know another way to easily allow that, except of course the obvious &quot;add a service layer between repository and caller for such things&quot;...","title":"Spring Data Repository @Query - Update and return modified entity","body":"<p>let's assume we have a Spring Data repository interface with a custom method...</p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1\")\nvoid markAsSoftDeleted(long id);\n</code></pre>\n\n<p>This method simply sets the deletedAt field of the entity, ok. Is there any way to allow this method to return an updated version of the <code>MyEntity</code>?</p>\n\n<p>Obviously...</p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"UPDATE MyEntity SET deletedAt = CURRENT_TIMESTAMP WHERE id = ?1\")\nMyEntity markAsSoftDeleted(long id);\n</code></pre>\n\n<p>...does not work, since...</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type! </p>\n</blockquote>\n\n<p>Does anyon know another way to easily allow that, except of course the obvious \"add a service layer between repository and caller for such things\"...</p>\n"},{"tags":["java","threadpool","executorservice"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1667383110,"post_id":74287306,"comment_id":131152139,"body_markdown":"You want to close the executor service but don’t want to call the shutdown method??? Why not?","body":"You want to close the executor service but don’t want to call the shutdown method??? Why not?"},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1667383194,"post_id":74287306,"comment_id":131152171,"body_markdown":"&quot;Someone said to use executor.shutDownNow() but it will close the executor (I can not submit thread anymore), I don&#39;t want that to happen&quot;? Why you don&#39;t want that to happen? What would be issue?","body":"&quot;Someone said to use executor.shutDownNow() but it will close the executor (I can not submit thread anymore), I don&#39;t want that to happen&quot;? Why you don&#39;t want that to happen? What would be issue?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1667383287,"post_id":74287306,"comment_id":131152203,"body_markdown":"I think this may be relevant: [shutdown and awaitTermination which first call have any difference](https://stackoverflow.com/questions/18425026/shutdown-and-awaittermination-which-first-call-have-any-difference) Also refer to the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html).","body":"I think this may be relevant: <a href=\"https://stackoverflow.com/questions/18425026/shutdown-and-awaittermination-which-first-call-have-any-difference\">shutdown and awaitTermination which first call have any difference</a> Also refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":23387643,"reputation":51,"user_id":17452719,"display_name":"musan"},"score":0,"creation_date":1667383310,"post_id":74287306,"comment_id":131152207,"body_markdown":"I want to stop/interrupt  the thread work, but not close executor","body":"I want to stop/interrupt  the thread work, but not close executor"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667388266,"creation_date":1667383600,"answer_id":74287449,"question_id":74287306,"body_markdown":"There&#39;s only one way to stop the `Thread` in java: ask it to do so.\r\n\r\n```java\r\nnew Runnable()  {\r\n   // This status should be checked repeatedly within a process\r\n   if(Thread.interrupted()) {\r\n       // Executore has probably ask to stop\r\n   }\r\n}\r\n```\r\n\r\nFurther, you have an `ExecutorService` instance. To ask all threads to stop, you should call `shutDownNow()` method. This method will set \r\n`interrupted` flag to all threads in the `ExecutorService`.\r\n\r\n***P.S.** Looks like [this][1] post gives the details.*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15900387/how-to-stop-all-runnable-thread-in-java-executor-class","title":"how to stop thread in ExecutorService","body":"<p>There's only one way to stop the <code>Thread</code> in java: ask it to do so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Runnable()  {\n   // This status should be checked repeatedly within a process\n   if(Thread.interrupted()) {\n       // Executore has probably ask to stop\n   }\n}\n</code></pre>\n<p>Further, you have an <code>ExecutorService</code> instance. To ask all threads to stop, you should call <code>shutDownNow()</code> method. This method will set\n<code>interrupted</code> flag to all threads in the <code>ExecutorService</code>.</p>\n<p><em><strong>P.S.</strong> Looks like <a href=\"https://stackoverflow.com/questions/15900387/how-to-stop-all-runnable-thread-in-java-executor-class\">this</a> post gives the details.</em></p>\n"}],"owner":{"account_id":23387643,"reputation":51,"user_id":17452719,"display_name":"musan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667412379,"answer_count":1,"score":0,"last_activity_date":1667388266,"creation_date":1667382881,"question_id":74287306,"body_markdown":"```\r\nExecutorService executor = ****;\r\nList&lt;List&lt;Object&gt;&gt; objectGroup = Lists.partition(objectList, 5);\r\nfor (List&lt;Object&gt; eachGroup : objectGroup ) {\r\n            CountDownLatch latch = new CountDownLatch(eachGroup.size());\r\n            for (Object obj: eachGroup) {\r\n                executor.submit(() -&gt; {\r\n                    doTask(obj);\r\n                    latch.countDown();\r\n                });\r\n            }\r\n\r\n            try {\r\n                if (!latch.await(15, TimeUnit.MINUTES)) {\r\n                    // todo close all thread in executor \r\n                }\r\n            }\r\n            catch (InterruptedException e) {\r\n                System.out.println();\r\n            }\r\n\r\n        }\r\n```\r\n**\r\n\r\nI want to close all thread in ```executor``` after 15 minutes but I do not know how to close.\r\n\r\nSomeone said to use ```executor.shutDownNow()``` but it will close the executor (I can not submit thread anymore), I don&#39;t want that to happen\r\n\r\n**","title":"how to stop thread in ExecutorService","body":"<pre><code>ExecutorService executor = ****;\nList&lt;List&lt;Object&gt;&gt; objectGroup = Lists.partition(objectList, 5);\nfor (List&lt;Object&gt; eachGroup : objectGroup ) {\n            CountDownLatch latch = new CountDownLatch(eachGroup.size());\n            for (Object obj: eachGroup) {\n                executor.submit(() -&gt; {\n                    doTask(obj);\n                    latch.countDown();\n                });\n            }\n\n            try {\n                if (!latch.await(15, TimeUnit.MINUTES)) {\n                    // todo close all thread in executor \n                }\n            }\n            catch (InterruptedException e) {\n                System.out.println();\n            }\n\n        }\n</code></pre>\n<p>**</p>\n<p>I want to close all thread in <code>executor</code> after 15 minutes but I do not know how to close.</p>\n<p>Someone said to use <code>executor.shutDownNow()</code> but it will close the executor (I can not submit thread anymore), I don't want that to happen</p>\n<p>**</p>\n"},{"tags":["java","intellij-idea","azure-functions","maven-3","appsettings"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667363368,"creation_date":1667218993,"answer_id":74263213,"question_id":74233936,"body_markdown":"Remove `local.settings.json` from `.gitignore` file and publish/deploy the function. \r\n\r\n![enter image description here](https://i.stack.imgur.com/ShBj7.png)\r\n\r\n**Result:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/Telrd.png)","title":"local.settings.json ignored for Java Azure Functions","body":"<p>Remove <code>local.settings.json</code> from <code>.gitignore</code> file and publish/deploy the function.</p>\n<p><img src=\"https://i.stack.imgur.com/ShBj7.png\" alt=\"enter image description here\" /></p>\n<p><strong>Result:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/Telrd.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667388122,"creation_date":1667388122,"answer_id":74288379,"question_id":74233936,"body_markdown":"if you created the skeleton using microsoft help:\r\n\r\n `mvn archetype:generate &quot;-DarchetypeGroupId=com.microsoft.azure&quot; &quot;-DarchetypeArtifactId=azure-functions-archetype&quot; &quot;-DjavaVersion=8&quot;`\r\n\r\nin your pom.xml you should find a section that does copy the local setting into the target folder\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t    &lt;executions&gt;\r\n\t        &lt;execution&gt;\r\n\t            &lt;id&gt;copy-resources&lt;/id&gt;\r\n\t            &lt;phase&gt;package&lt;/phase&gt;\r\n\t            &lt;goals&gt;\r\n\t                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t            &lt;/goals&gt;\r\n\t            &lt;configuration&gt;\r\n\t                &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n\t                &lt;outputDirectory&gt;${stagingDirectory}&lt;/outputDirectory&gt;\r\n\t                &lt;resources&gt;\r\n\t                    &lt;resource&gt;\r\n\t                        &lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n\t                        &lt;includes&gt;\r\n\t                            &lt;include&gt;host.json&lt;/include&gt;\r\n\t                            &lt;include&gt;local.settings.json&lt;/include&gt;\r\n\t                        &lt;/includes&gt;\r\n\t                    &lt;/resource&gt;\r\n\t                &lt;/resources&gt;\r\n\t            &lt;/configuration&gt;\r\n\t        &lt;/execution&gt;\r\n\t        &lt;execution&gt;\r\n\t            &lt;id&gt;copy-extensions-lib&lt;/id&gt;\r\n\t            &lt;phase&gt;package&lt;/phase&gt;\r\n\t            &lt;goals&gt;\r\n\t                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t            &lt;/goals&gt;\r\n\t            &lt;configuration&gt;\r\n\t                &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n\t                &lt;outputDirectory&gt;${stagingDirectory}/.azurefunctions&lt;/outputDirectory&gt;\r\n\t                &lt;resources&gt;\r\n\t                    &lt;resource&gt;\r\n\t                        &lt;directory&gt;${project.basedir}/src/main/resources/.azurefunctions&lt;/directory&gt;\r\n\t                    &lt;/resource&gt;\r\n\t                &lt;/resources&gt;\r\n\t            &lt;/configuration&gt;\r\n\t        &lt;/execution&gt;\r\n\t    &lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nInstall the azure function core tools:\r\n\r\n\tbrew tap azure/functions\r\n\tbrew install azure-functions-core-tools@4\r\n\t# if upgrading on a machine that has 2.x installed\r\n\tbrew link --overwrite azure-functions-core-tools@4\r\n\r\n\t#Install extensions\r\n\tfunc extensions install\r\n\r\nThen you can either run with:\r\n\r\n`mvn clean package azure-functions:run -DenableDebug -Dverbose=true`\r\n\r\nand attach your intellij debugger `Run-&gt;Debug-&gt;attach to process` or attach to `localhost:5005`\r\n\r\nthis will honour the `local.settings.json` and let you debugging\r\n\r\nAs far as i know the Azure Function run from intellij needs the parameters specified in the app settings.","title":"local.settings.json ignored for Java Azure Functions","body":"<p>if you created the skeleton using microsoft help:</p>\n<p><code>mvn archetype:generate &quot;-DarchetypeGroupId=com.microsoft.azure&quot; &quot;-DarchetypeArtifactId=azure-functions-archetype&quot; &quot;-DjavaVersion=8&quot;</code></p>\n<p>in your pom.xml you should find a section that does copy the local setting into the target folder</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;overwrite&gt;true&lt;/overwrite&gt;\n                &lt;outputDirectory&gt;${stagingDirectory}&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;host.json&lt;/include&gt;\n                            &lt;include&gt;local.settings.json&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-extensions-lib&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;overwrite&gt;true&lt;/overwrite&gt;\n                &lt;outputDirectory&gt;${stagingDirectory}/.azurefunctions&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${project.basedir}/src/main/resources/.azurefunctions&lt;/directory&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Install the azure function core tools:</p>\n<pre><code>brew tap azure/functions\nbrew install azure-functions-core-tools@4\n# if upgrading on a machine that has 2.x installed\nbrew link --overwrite azure-functions-core-tools@4\n\n#Install extensions\nfunc extensions install\n</code></pre>\n<p>Then you can either run with:</p>\n<p><code>mvn clean package azure-functions:run -DenableDebug -Dverbose=true</code></p>\n<p>and attach your intellij debugger <code>Run-&gt;Debug-&gt;attach to process</code> or attach to <code>localhost:5005</code></p>\n<p>this will honour the <code>local.settings.json</code> and let you debugging</p>\n<p>As far as i know the Azure Function run from intellij needs the parameters specified in the app settings.</p>\n"}],"owner":{"account_id":1875369,"reputation":3945,"user_id":1696691,"accept_rate":54,"display_name":"marek_lani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667388122,"creation_date":1666952431,"question_id":74233936,"body_markdown":"I have followed doc guidance on how to setup java azure functions project with InteliJ: https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij\r\n\r\nNevertheless when trying to use local.settings.json file to inject application settings when running Functions locally, values are not injected and the file is ignored by the runtime.\r\nIs there a way how to make use of local.settings.json as with C# functions? For time being I used workaround of adding values into run configuration.\r\n\r\nI am using Java 8, Azure Functions Core tools 4.x","title":"local.settings.json ignored for Java Azure Functions","body":"<p>I have followed doc guidance on how to setup java azure functions project with InteliJ: <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij</a></p>\n<p>Nevertheless when trying to use local.settings.json file to inject application settings when running Functions locally, values are not injected and the file is ignored by the runtime.\nIs there a way how to make use of local.settings.json as with C# functions? For time being I used workaround of adding values into run configuration.</p>\n<p>I am using Java 8, Azure Functions Core tools 4.x</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":2069768,"reputation":481,"user_id":1844498,"accept_rate":50,"display_name":"Ricardo Piccoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667387947,"creation_date":1667387947,"answer_id":74288342,"question_id":60553129,"body_markdown":"Do you have any follow up on the issue? My assumption is encoding issue. Where the byte[] came from? Is it the exact byte[] you are writing to the disk? Maybe the explanation is on both File writer and reader default encoding settings.","title":"Deserialize Avro Data from bytes","body":"<p>Do you have any follow up on the issue? My assumption is encoding issue. Where the byte[] came from? Is it the exact byte[] you are writing to the disk? Maybe the explanation is on both File writer and reader default encoding settings.</p>\n"}],"owner":{"account_id":7047616,"reputation":196,"user_id":5397928,"accept_rate":25,"display_name":"Alberto Casta&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667387947,"creation_date":1583438588,"question_id":60553129,"body_markdown":"I am trying to deserialize, i.e., get an object of class `org.apache.avro.generic.GenericRecord` from byte array Avro data. This data contains a header with the full schema.\n\nSo far, I have tried this:\n\n    public List&lt;GenericRecord&gt; deserializeGenericWithSchema(byte[] message) throws IOException {\n        List&lt;GenericRecord&gt; listOfRecords = new ArrayList&lt;&gt;();\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;();\n        DataFileReader&lt;GenericRecord&gt; fileReader =\n                new DataFileReader&lt;&gt;(new SeekableByteArrayInput(message), reader);\n\n        GenericRecord record = null;\n\n        while (fileReader.hasNext()) {\n            listOfRecords.add(fileReader.next(record));\n        }\n\n        return listOfRecords;\n    }\n\nBut I am getting an error:\n\n&gt; java.io.IOException: Invalid int encoding at\n&gt;\n&gt; org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:145) at\n&gt;\n&gt; org.apache.avro.io.BinaryDecoder.readBytes(BinaryDecoder.java:282) at\n&gt;\n&gt; org.apache.avro.file.DataFileStream.initialize(DataFileStream.java:112)\n&gt;\n&gt; at org.apache.avro.file.DataFileReader.&lt;init&gt;(DataFileReader.java:97)\n\nHowever, if I write to disk the byte array `message` and change my function like:\n\n    public List&lt;GenericRecord&gt; deserializeGenericWithSchema(String fileName) throws IOException {\n        byte[] file = new File(fileName);\n        List&lt;GenericRecord&gt; listOfRecords = new ArrayList&lt;&gt;();\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;();\n        DataFileReader&lt;GenericRecord&gt; fileReader =\n                new DataFileReader&lt;&gt;(file, reader);\n\n        GenericRecord record = null;\n\n        while (fileReader.hasNext()) {\n            listOfRecords.add(fileReader.next(record));\n        }\n\n        return listOfRecords;\n    }\n\nIt works flawlessly. I really don&#39;t want to write to disk every avro message I get because this is intended to work in a real time basis. \n\nWhat am I doing wrong in my first approach?\n\n","title":"Deserialize Avro Data from bytes","body":"<p>I am trying to deserialize, i.e., get an object of class <code>org.apache.avro.generic.GenericRecord</code> from byte array Avro data. This data contains a header with the full schema.</p>\n<p>So far, I have tried this:</p>\n<pre><code>public List&lt;GenericRecord&gt; deserializeGenericWithSchema(byte[] message) throws IOException {\n    List&lt;GenericRecord&gt; listOfRecords = new ArrayList&lt;&gt;();\n    DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;();\n    DataFileReader&lt;GenericRecord&gt; fileReader =\n            new DataFileReader&lt;&gt;(new SeekableByteArrayInput(message), reader);\n\n    GenericRecord record = null;\n\n    while (fileReader.hasNext()) {\n        listOfRecords.add(fileReader.next(record));\n    }\n\n    return listOfRecords;\n}\n</code></pre>\n<p>But I am getting an error:</p>\n<blockquote>\n<p>java.io.IOException: Invalid int encoding at</p>\n<p>org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:145) at</p>\n<p>org.apache.avro.io.BinaryDecoder.readBytes(BinaryDecoder.java:282) at</p>\n<p>org.apache.avro.file.DataFileStream.initialize(DataFileStream.java:112)</p>\n<p>at org.apache.avro.file.DataFileReader.(DataFileReader.java:97)</p>\n</blockquote>\n<p>However, if I write to disk the byte array <code>message</code> and change my function like:</p>\n<pre><code>public List&lt;GenericRecord&gt; deserializeGenericWithSchema(String fileName) throws IOException {\n    byte[] file = new File(fileName);\n    List&lt;GenericRecord&gt; listOfRecords = new ArrayList&lt;&gt;();\n    DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;();\n    DataFileReader&lt;GenericRecord&gt; fileReader =\n            new DataFileReader&lt;&gt;(file, reader);\n\n    GenericRecord record = null;\n\n    while (fileReader.hasNext()) {\n        listOfRecords.add(fileReader.next(record));\n    }\n\n    return listOfRecords;\n}\n</code></pre>\n<p>It works flawlessly. I really don't want to write to disk every avro message I get because this is intended to work in a real time basis.</p>\n<p>What am I doing wrong in my first approach?</p>\n"},{"tags":["java","eclipse","pde"],"comments":[{"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"score":0,"creation_date":1453898208,"post_id":35034866,"comment_id":57799518,"body_markdown":"according to wikipedia bmp supports [transparency](https://en.wikipedia.org/wiki/Transparency_%28graphic%29)","body":"according to wikipedia bmp supports <a href=\"https://en.wikipedia.org/wiki/Transparency_%28graphic%29\" rel=\"nofollow noreferrer\">transparency</a>"},{"owner":{"account_id":7347016,"reputation":179,"user_id":5594380,"accept_rate":64,"display_name":"John Doe"},"score":0,"creation_date":1454315246,"post_id":35034866,"comment_id":57971744,"body_markdown":"Thanks for your input, but i doubt that bmp supports Alpha-Channels  - unfortunately.\nI tried it but Gimp saves it as png automatically when selecting &quot;include alpha channels&quot;. When forcing Gimp to save it as *.bmp the background is white.","body":"Thanks for your input, but i doubt that bmp supports Alpha-Channels  - unfortunately. I tried it but Gimp saves it as png automatically when selecting &quot;include alpha channels&quot;. When forcing Gimp to save it as *.bmp the background is white."},{"owner":{"account_id":1494337,"reputation":583,"user_id":1400648,"accept_rate":78,"display_name":"Yampeku"},"score":0,"creation_date":1473090390,"post_id":35034866,"comment_id":65999238,"body_markdown":"found a bmp image with a supposed transparent background and put it on my project. Transparency was not applied anyway (the color defined as transparent was shown, in this case a bright magenta)","body":"found a bmp image with a supposed transparent background and put it on my project. Transparency was not applied anyway (the color defined as transparent was shown, in this case a bright magenta)"}],"answers":[{"tags":[],"owner":{"account_id":20992047,"reputation":60,"user_id":15424719,"display_name":"Annan Yearian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667387668,"creation_date":1667387668,"answer_id":74288280,"question_id":35034866,"body_markdown":"It&#39;s currently (Nov. 2022) not possible from what I can find\r\n\r\nSee [related bug report from 2021-08-17: \\[launcher\\] Explore Splash screen support for transparent background images.](https://bugs.eclipse.org/bugs/show_bug.cgi?id=575452).\r\n\r\nAnd the related discussion in this ticket: [\\[launcher\\] Splash screen support for other image formats](https://bugs.eclipse.org/bugs/show_bug.cgi?id=114567)","title":"Transparent Eclipse Splash Screen in Deployable Feature","body":"<p>It's currently (Nov. 2022) not possible from what I can find</p>\n<p>See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=575452\" rel=\"nofollow noreferrer\">related bug report from 2021-08-17: [launcher] Explore Splash screen support for transparent background images.</a>.</p>\n<p>And the related discussion in this ticket: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=114567\" rel=\"nofollow noreferrer\">[launcher] Splash screen support for other image formats</a></p>\n"}],"owner":{"account_id":7347016,"reputation":179,"user_id":5594380,"accept_rate":64,"display_name":"John Doe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667387668,"creation_date":1453890758,"question_id":35034866,"body_markdown":"I want to customize the splash screen of an `eclipse` were my `Deployable Feature` is installed. \r\n\r\nI do not want to export a RCP - only a `Deployable Feature`.\r\nSetting another `SplashScreen-Image` works fine, as long as it is a file called &quot;splash.bmp&quot; within my &quot;product&quot;-plugin (where I&#39;m trying to handle all the branding stuff). Unfortunately, the bmp file format does not support transparency. \r\n\r\nI already went through lots of examples and documentations, but without success yet.\r\nIs that even possible?\r\n","title":"Transparent Eclipse Splash Screen in Deployable Feature","body":"<p>I want to customize the splash screen of an <code>eclipse</code> were my <code>Deployable Feature</code> is installed. </p>\n\n<p>I do not want to export a RCP - only a <code>Deployable Feature</code>.\nSetting another <code>SplashScreen-Image</code> works fine, as long as it is a file called \"splash.bmp\" within my \"product\"-plugin (where I'm trying to handle all the branding stuff). Unfortunately, the bmp file format does not support transparency. </p>\n\n<p>I already went through lots of examples and documentations, but without success yet.\nIs that even possible?</p>\n"},{"tags":["java","android","settings","android-preferences"],"answers":[{"tags":[],"owner":{"account_id":24240539,"reputation":11,"user_id":18192982,"display_name":"george kassih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667387493,"creation_date":1667127531,"answer_id":74252460,"question_id":74251712,"body_markdown":"I will share my Setting Fragment. my Code will help you to write yours.\r\nBut DON&#39;T PUT THE KEYS in string XML resources, I did this just development stage.\r\n\r\n```\r\nclass SettingsFragment : PreferenceFragmentCompat(),\r\n    SharedPreferences.OnSharedPreferenceChangeListener {\r\n    private val dataHandler: DataHandler by lazy {\r\n        MyApp.instance.dataHandler\r\n    }\r\n    private val uploadKey = MyApp.instance.resources.getString(R.string.upload_key)\r\n    private val uploadUrlKey = MyApp.instance.resources.getString(R.string.upload_url_key)\r\n    private val uploadUrlPathKey = MyApp.instance.resources.getString(R.string.upload_url_path_key)\r\n    private val usernameKey = MyApp.instance.resources.getString(R.string.username_key)\r\n    private val loggedEnabledKey = MyApp.instance.resources.getString(R.string.logged_enabled_key)\r\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\r\n        setPreferencesFromResource(R.xml.root_preferences, rootKey)\r\n        val edit_Pref = preferenceScreen.findPreference&lt;EditTextPreference&gt;(uploadUrlKey)\r\n        edit_Pref?.setOnPreferenceChangeListener { preference, newValue -&gt;\r\n            if ((newValue as String).last() == &#39;/&#39;) true\r\n            else {\r\n                Toast.makeText(requireContext(), &quot;Url should end with /&quot;, Toast.LENGTH_SHORT).show()\r\n                false\r\n            }\r\n        }\r\n        }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        preferenceScreen.sharedPreferences?.registerOnSharedPreferenceChangeListener(this)\r\n    }\r\n\r\n    override fun onSharedPreferenceChanged(sharedPreferences: SharedPreferences?, key: String?) {\r\n        when (key) {\r\n            uploadKey -&gt; {\r\n                val usingMobileData = (sharedPreferences?.getString(uploadKey, &quot;false&quot;) == &quot;true&quot;)\r\n\r\n                dataHandler.uploadInternetPermissionChanged(usingMobileData)\r\n            }\r\n            uploadUrlKey -&gt; {\r\n                val url = sharedPreferences?.getString(uploadUrlKey, &quot;&quot;) ?: &quot;&quot;\r\n                dataHandler.uploadUrlChanged(url)\r\n            }\r\n            uploadUrlPathKey -&gt; {\r\n                val path = sharedPreferences?.getString(uploadUrlPathKey, &quot;&quot;) ?: &quot;&quot;\r\n                dataHandler.uploadUrlPathChanged(path)\r\n            }\r\n\r\n            usernameKey -&gt; {\r\n                val username = sharedPreferences?.getString(usernameKey, &quot;&quot;) ?: &quot;&quot;\r\n                dataHandler.uploadUsernameChanged(username)\r\n            }\r\n            loggedEnabledKey -&gt; {\r\n                val enable = sharedPreferences?.getBoolean(loggedEnabledKey, false) ?: false\r\n                if (enable) {\r\n                    actionOnService(Actions.START)\r\n                } else {\r\n                    actionOnService(Actions.STOP)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun actionOnService(action: Actions) {\r\n        with(MyApp.instance.applicationContext) {\r\n            if (getServiceState(this) == ServiceState.STOPPED &amp;&amp; action == Actions.STOP)\r\n                return\r\n            Intent(this, TimeStudioService::class.java).also {\r\n                it.action = action.name\r\n                startForegroundService(this, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Problems Creating User Preferences File","body":"<p>I will share my Setting Fragment. my Code will help you to write yours.\nBut DON'T PUT THE KEYS in string XML resources, I did this just development stage.</p>\n<pre><code>class SettingsFragment : PreferenceFragmentCompat(),\n    SharedPreferences.OnSharedPreferenceChangeListener {\n    private val dataHandler: DataHandler by lazy {\n        MyApp.instance.dataHandler\n    }\n    private val uploadKey = MyApp.instance.resources.getString(R.string.upload_key)\n    private val uploadUrlKey = MyApp.instance.resources.getString(R.string.upload_url_key)\n    private val uploadUrlPathKey = MyApp.instance.resources.getString(R.string.upload_url_path_key)\n    private val usernameKey = MyApp.instance.resources.getString(R.string.username_key)\n    private val loggedEnabledKey = MyApp.instance.resources.getString(R.string.logged_enabled_key)\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        setPreferencesFromResource(R.xml.root_preferences, rootKey)\n        val edit_Pref = preferenceScreen.findPreference&lt;EditTextPreference&gt;(uploadUrlKey)\n        edit_Pref?.setOnPreferenceChangeListener { preference, newValue -&gt;\n            if ((newValue as String).last() == '/') true\n            else {\n                Toast.makeText(requireContext(), &quot;Url should end with /&quot;, Toast.LENGTH_SHORT).show()\n                false\n            }\n        }\n        }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        preferenceScreen.sharedPreferences?.registerOnSharedPreferenceChangeListener(this)\n    }\n\n    override fun onSharedPreferenceChanged(sharedPreferences: SharedPreferences?, key: String?) {\n        when (key) {\n            uploadKey -&gt; {\n                val usingMobileData = (sharedPreferences?.getString(uploadKey, &quot;false&quot;) == &quot;true&quot;)\n\n                dataHandler.uploadInternetPermissionChanged(usingMobileData)\n            }\n            uploadUrlKey -&gt; {\n                val url = sharedPreferences?.getString(uploadUrlKey, &quot;&quot;) ?: &quot;&quot;\n                dataHandler.uploadUrlChanged(url)\n            }\n            uploadUrlPathKey -&gt; {\n                val path = sharedPreferences?.getString(uploadUrlPathKey, &quot;&quot;) ?: &quot;&quot;\n                dataHandler.uploadUrlPathChanged(path)\n            }\n\n            usernameKey -&gt; {\n                val username = sharedPreferences?.getString(usernameKey, &quot;&quot;) ?: &quot;&quot;\n                dataHandler.uploadUsernameChanged(username)\n            }\n            loggedEnabledKey -&gt; {\n                val enable = sharedPreferences?.getBoolean(loggedEnabledKey, false) ?: false\n                if (enable) {\n                    actionOnService(Actions.START)\n                } else {\n                    actionOnService(Actions.STOP)\n                }\n            }\n        }\n    }\n\n    private fun actionOnService(action: Actions) {\n        with(MyApp.instance.applicationContext) {\n            if (getServiceState(this) == ServiceState.STOPPED &amp;&amp; action == Actions.STOP)\n                return\n            Intent(this, TimeStudioService::class.java).also {\n                it.action = action.name\n                startForegroundService(this, it)\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26556496,"reputation":3,"user_id":20185022,"display_name":"Programmer1824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667387493,"creation_date":1667120384,"question_id":74251712,"body_markdown":"I&#39;m currently creating an android app, in which you can train maths. Today i wanted to add a Settings page so i followed the guide from the official android docs: https://developer.android.com/develop/ui/views/components/settings\r\n\r\nNow I&#39;ve come to a problem. I have created a settings fragment: \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;PreferenceCategory android:title=&quot;Number Range&quot;&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n    &lt;EditTextPreference\r\n        android:defaultValue=&quot;1&quot;\r\n        android:key=&quot;ET_xmin&quot;\r\n        android:selectAllOnFocus=&quot;true&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:title=&quot;Minimum X&quot; /&gt;\r\n    &lt;EditTextPreference\r\n        android:defaultValue=&quot;15&quot;\r\n        android:key=&quot;ET_xmax&quot;\r\n        android:selectAllOnFocus=&quot;true&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:title=&quot;Maximum X&quot; /&gt;\r\n    &lt;EditTextPreference\r\n        android:defaultValue=&quot;1&quot;\r\n        android:key=&quot;ET_ymin&quot;\r\n        android:selectAllOnFocus=&quot;true&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:title=&quot;Minimum Y&quot; /&gt;\r\n    &lt;EditTextPreference\r\n        android:defaultValue=&quot;15&quot;\r\n        android:key=&quot;ET_ymax&quot;\r\n        android:selectAllOnFocus=&quot;true&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:title=&quot;Maximum Y&quot; /&gt;\r\n    &lt;PreferenceCategory android:title=&quot;Math Actions&quot;&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n    &lt;SwitchPreferenceCompat\r\n        android:id=&quot;@+id/SPC_multiply&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:defaultValue=&quot;true&quot;\r\n        app:key=&quot;doMultiply&quot;\r\n        app:title=&quot;Multiply&quot; /&gt;\r\n\r\n    &lt;SwitchPreferenceCompat\r\n        android:id=&quot;@+id/SPC_divide&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:defaultValue=&quot;false&quot;\r\n        app:key=&quot;doDivide&quot;\r\n        app:title=&quot;Divide&quot; /&gt;\r\n    &lt;SwitchPreferenceCompat\r\n        android:id=&quot;@+id/SPC_add&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:defaultValue=&quot;false&quot;\r\n        app:key=&quot;doAdd&quot;\r\n        app:title=&quot;Add&quot; /&gt;\r\n    &lt;SwitchPreferenceCompat\r\n        android:id=&quot;@+id/SPC_subtract&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:defaultValue=&quot;false&quot;\r\n        app:key=&quot;doSubtract&quot;\r\n        app:title=&quot;Subtract&quot; /&gt;\r\n    &lt;PreferenceCategory android:title=&quot;Other&quot;&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n    &lt;Preference\r\n        app:key=&quot;feedback&quot;\r\n        app:title=&quot;Send feedback&quot;\r\n        app:summary=&quot;Report technical issues or suggest new features&quot;/&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```\r\n[image of the screen][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rjvv7.png\r\n\r\nthen I created a SettingsActivity.java like I was told in the guide. \r\n```java\r\npackage com.example.testapp1;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.preference.PreferenceFragmentCompat;\r\n\r\npublic class SettingsActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.settings_container, new MySettingsFragment())\r\n                .commit();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nand also a MySettingsFragment.java\r\n```java\r\npackage com.example.testapp1;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.preference.PreferenceFragmentCompat;\r\n\r\npublic class MySettingsFragment extends PreferenceFragmentCompat {\r\n    @Override\r\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n        setPreferencesFromResource(R.xml.preferences, rootKey);\r\n    }\r\n}\r\n```\r\n\r\nIve also created an empty preferences.xml file. \r\n\r\nNow im stuck. \r\nI don&#39;t know what to write into the preferences.xml file so that i can access it, and also I dont know how to implement settings_container. (it doesn&#39;t exist)\r\n\r\nCan somebody help me with this?","title":"Problems Creating User Preferences File","body":"<p>I'm currently creating an android app, in which you can train maths. Today i wanted to add a Settings page so i followed the guide from the official android docs: <a href=\"https://developer.android.com/develop/ui/views/components/settings\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/components/settings</a></p>\n<p>Now I've come to a problem. I have created a settings fragment:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;PreferenceCategory android:title=&quot;Number Range&quot;&gt;\n\n    &lt;/PreferenceCategory&gt;\n    &lt;EditTextPreference\n        android:defaultValue=&quot;1&quot;\n        android:key=&quot;ET_xmin&quot;\n        android:selectAllOnFocus=&quot;true&quot;\n        android:singleLine=&quot;true&quot;\n        android:title=&quot;Minimum X&quot; /&gt;\n    &lt;EditTextPreference\n        android:defaultValue=&quot;15&quot;\n        android:key=&quot;ET_xmax&quot;\n        android:selectAllOnFocus=&quot;true&quot;\n        android:singleLine=&quot;true&quot;\n        android:title=&quot;Maximum X&quot; /&gt;\n    &lt;EditTextPreference\n        android:defaultValue=&quot;1&quot;\n        android:key=&quot;ET_ymin&quot;\n        android:selectAllOnFocus=&quot;true&quot;\n        android:singleLine=&quot;true&quot;\n        android:title=&quot;Minimum Y&quot; /&gt;\n    &lt;EditTextPreference\n        android:defaultValue=&quot;15&quot;\n        android:key=&quot;ET_ymax&quot;\n        android:selectAllOnFocus=&quot;true&quot;\n        android:singleLine=&quot;true&quot;\n        android:title=&quot;Maximum Y&quot; /&gt;\n    &lt;PreferenceCategory android:title=&quot;Math Actions&quot;&gt;\n\n    &lt;/PreferenceCategory&gt;\n    &lt;SwitchPreferenceCompat\n        android:id=&quot;@+id/SPC_multiply&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:defaultValue=&quot;true&quot;\n        app:key=&quot;doMultiply&quot;\n        app:title=&quot;Multiply&quot; /&gt;\n\n    &lt;SwitchPreferenceCompat\n        android:id=&quot;@+id/SPC_divide&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:defaultValue=&quot;false&quot;\n        app:key=&quot;doDivide&quot;\n        app:title=&quot;Divide&quot; /&gt;\n    &lt;SwitchPreferenceCompat\n        android:id=&quot;@+id/SPC_add&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:defaultValue=&quot;false&quot;\n        app:key=&quot;doAdd&quot;\n        app:title=&quot;Add&quot; /&gt;\n    &lt;SwitchPreferenceCompat\n        android:id=&quot;@+id/SPC_subtract&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:defaultValue=&quot;false&quot;\n        app:key=&quot;doSubtract&quot;\n        app:title=&quot;Subtract&quot; /&gt;\n    &lt;PreferenceCategory android:title=&quot;Other&quot;&gt;\n\n    &lt;/PreferenceCategory&gt;\n    &lt;Preference\n        app:key=&quot;feedback&quot;\n        app:title=&quot;Send feedback&quot;\n        app:summary=&quot;Report technical issues or suggest new features&quot;/&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Rjvv7.png\" rel=\"nofollow noreferrer\">image of the screen</a></p>\n<p>then I created a SettingsActivity.java like I was told in the guide.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testapp1;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.settings_container, new MySettingsFragment())\n                .commit();\n\n    }\n}\n\n</code></pre>\n<p>and also a MySettingsFragment.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testapp1;\n\nimport android.os.Bundle;\n\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class MySettingsFragment extends PreferenceFragmentCompat {\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n        setPreferencesFromResource(R.xml.preferences, rootKey);\n    }\n}\n</code></pre>\n<p>Ive also created an empty preferences.xml file.</p>\n<p>Now im stuck.\nI don't know what to write into the preferences.xml file so that i can access it, and also I dont know how to implement settings_container. (it doesn't exist)</p>\n<p>Can somebody help me with this?</p>\n"},{"tags":["java","oracle","oracle12c"],"comments":[{"owner":{"account_id":465231,"reputation":1867,"user_id":869185,"accept_rate":100,"display_name":"Exhausted"},"score":0,"creation_date":1425289080,"post_id":28806412,"comment_id":45886019,"body_markdown":"`GENERATED BY DEFAULT` statement is a void. check out more information here http://oracle-base.com/articles/11g/virtual-columns-11gr1.php . It exists from oracle 12c, specify your database version??","body":"<code>GENERATED BY DEFAULT</code> statement is a void. check out more information here <a href=\"http://oracle-base.com/articles/11g/virtual-columns-11gr1.php\" rel=\"nofollow noreferrer\">oracle-base.com/articles/11g/virtual-columns-11gr1.php</a> . It exists from oracle 12c, specify your database version??"},{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":1,"creation_date":1425289386,"post_id":28806412,"comment_id":45886189,"body_markdown":"your oracle version??","body":"your oracle version??"},{"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"score":0,"creation_date":1425289495,"post_id":28806412,"comment_id":45886250,"body_markdown":"the oracle version is 12c","body":"the oracle version is 12c"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1425290261,"post_id":28806412,"comment_id":45886664,"body_markdown":"Are you sure the server is 12c, not just your client? It looks very much like your server is 11g. What does `select * from product_component_version` or `select * from v$version` report?","body":"Are you sure the server is 12c, not just your client? It looks very much like your server is 11g. What does <code>select * from product_component_version</code> or <code>select * from v$version</code> report?"}],"answers":[{"tags":[],"owner":{"account_id":4957401,"reputation":47894,"user_id":3989608,"display_name":"Lalit Kumar B"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1575134785,"creation_date":1425290041,"answer_id":28806813,"question_id":28806412,"body_markdown":"Perhaps the Oracle database **(server)** you are trying to connect to is **12c**, however the client **(installed locally)** you are using doesn&#39;t support the feature. Please check your **Oracle client version**, it could be **11g or lower** which doesn&#39;t support it. You need to download a higher client version.\r\n\r\nWorks perfectly on version **12.1.0.1**.\r\n\r\n    SQL&gt; select banner from v$version where rownum = 1;\r\n    \r\n    BANNER\r\n    --------------------------------------------------------------------------------\r\n    Oracle Database 12c Enterprise Edition Release 12.1.0.1.0 - 64bit Production\r\n    \r\n    SQL&gt; CREATE TABLE AUTH_PERMISSION\r\n      2  (\r\n      3      ID NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY,\r\n      4      -- ID NUMBER(19,0) PRIMARY KEY NOT NULL,\r\n      5      NAME VARCHAR2(50) UNIQUE NOT NULL,\r\n      6      ACTION_ID NUMBER(19,0) NOT NULL,\r\n      7      RESOURCE_ID NUMBER(19,0) NOT NULL,\r\n      8      ENVIRONMENT_ID NUMBER(19,0) NOT NULL\r\n      9  );\r\n    \r\n    Table created.","title":"SQL Error: ORA-02000: missing ALWAYS keyword when create identity column based table","body":"<p>Perhaps the Oracle database <strong>(server)</strong> you are trying to connect to is <strong>12c</strong>, however the client <strong>(installed locally)</strong> you are using doesn't support the feature. Please check your <strong>Oracle client version</strong>, it could be <strong>11g or lower</strong> which doesn't support it. You need to download a higher client version.</p>\n\n<p>Works perfectly on version <strong>12.1.0.1</strong>.</p>\n\n<pre><code>SQL&gt; select banner from v$version where rownum = 1;\n\nBANNER\n--------------------------------------------------------------------------------\nOracle Database 12c Enterprise Edition Release 12.1.0.1.0 - 64bit Production\n\nSQL&gt; CREATE TABLE AUTH_PERMISSION\n  2  (\n  3      ID NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY,\n  4      -- ID NUMBER(19,0) PRIMARY KEY NOT NULL,\n  5      NAME VARCHAR2(50) UNIQUE NOT NULL,\n  6      ACTION_ID NUMBER(19,0) NOT NULL,\n  7      RESOURCE_ID NUMBER(19,0) NOT NULL,\n  8      ENVIRONMENT_ID NUMBER(19,0) NOT NULL\n  9  );\n\nTable created.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20613645,"reputation":168,"user_id":15132261,"display_name":"Pavn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616190234,"creation_date":1616190234,"answer_id":66715954,"question_id":28806412,"body_markdown":"I was getting same error but when I tried running as script in editor, it worked. I later pasted in .sql file to run the script as `@&lt;path&gt;\\&lt;filename&gt;`\r\n\r\ncode:\r\n\r\n    CREATE TABLE TESTING(\r\n      ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,\r\n      NAME VARCHAR2(20)\r\n      );\r\n\r\nThis worked for me. I am using \r\nOracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64 bit Production\r\nPL/SQL Release 12.2.0.1.0\r\n\r\nyou may also try:\r\n\r\n    CREATE TABLE TESTING(\r\n      ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY(START WITH 101 MAXVALUE 9999999 \r\n           MINVALUE 1 NOCYCLE CACHE 20) NOT NULL, \r\n      NAME VARCHAR2(20)\r\n      );\r\n\r\nstart with : is from where you want to start your counter (I used 101)\r\nmaxvalue is till what value it should increment \r\nminvalue is increment by\r\nnocycle cashe is how many numbers u want to keep in ram","title":"SQL Error: ORA-02000: missing ALWAYS keyword when create identity column based table","body":"<p>I was getting same error but when I tried running as script in editor, it worked. I later pasted in .sql file to run the script as <code>@&lt;path&gt;\\&lt;filename&gt;</code></p>\n<p>code:</p>\n<pre><code>CREATE TABLE TESTING(\n  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,\n  NAME VARCHAR2(20)\n  );\n</code></pre>\n<p>This worked for me. I am using\nOracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64 bit Production\nPL/SQL Release 12.2.0.1.0</p>\n<p>you may also try:</p>\n<pre><code>CREATE TABLE TESTING(\n  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY(START WITH 101 MAXVALUE 9999999 \n       MINVALUE 1 NOCYCLE CACHE 20) NOT NULL, \n  NAME VARCHAR2(20)\n  );\n</code></pre>\n<p>start with : is from where you want to start your counter (I used 101)\nmaxvalue is till what value it should increment\nminvalue is increment by\nnocycle cashe is how many numbers u want to keep in ram</p>\n"},{"tags":[],"owner":{"account_id":17965259,"reputation":123,"user_id":13055269,"display_name":"caged_raven_wings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667387357,"creation_date":1667387357,"answer_id":74288226,"question_id":28806412,"body_markdown":"If you are run into this issue, and you can&#39;t update the database/client from 11 to 12 then here is the workaround.\r\n\r\n1. Add the following line of code to your Dbcontext Class`\r\n\r\n```\r\noptionsBuilder.UseOracle(configuration.GetConnectionString(&quot;DefaultConnection&quot;), b =&gt;\r\n            b.UseOracleSQLCompatibility(&quot;11&quot;));\r\n```\r\n**Explanation:** Oracle 11g do not support IDENTITY command. The PKs must be generated with a trigger and a sequence. When you add ***UseOracleSQLCompatibility(&quot;11&quot;)*** to the DbContext, EF will generate migrations scripts compatible with oracle 11g. In this case, A sequence table will be generated to use for the PKS. \r\n\r\n2. Another issue you might run into is this:\r\n**ORA-00972: identifier is too long**\r\n\r\nIf you run into this error, it means oracle database versions less than 12 only support identifiers of max length 30. \r\n\r\n**Solution:**\r\n\r\n1. For Dotnet Core below 3.1 use add this to your DBContext class\r\n\r\n\r\n``\r\nmodelBuilder.Model.Relational().MaxIdentifierLength = 30;\r\n``\r\n\r\n2. For Dotnet Core 3.1 above, use this instead. \r\n\r\n``\r\n modelBuilder.Model.SetMaxIdentifierLength(30);\r\n``","title":"SQL Error: ORA-02000: missing ALWAYS keyword when create identity column based table","body":"<p>If you are run into this issue, and you can't update the database/client from 11 to 12 then here is the workaround.</p>\n<ol>\n<li>Add the following line of code to your Dbcontext Class`</li>\n</ol>\n<pre><code>optionsBuilder.UseOracle(configuration.GetConnectionString(&quot;DefaultConnection&quot;), b =&gt;\n            b.UseOracleSQLCompatibility(&quot;11&quot;));\n</code></pre>\n<p><strong>Explanation:</strong> Oracle 11g do not support IDENTITY command. The PKs must be generated with a trigger and a sequence. When you add <em><strong>UseOracleSQLCompatibility(&quot;11&quot;)</strong></em> to the DbContext, EF will generate migrations scripts compatible with oracle 11g. In this case, A sequence table will be generated to use for the PKS.</p>\n<ol start=\"2\">\n<li>Another issue you might run into is this:\n<strong>ORA-00972: identifier is too long</strong></li>\n</ol>\n<p>If you run into this error, it means oracle database versions less than 12 only support identifiers of max length 30.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li>For Dotnet Core below 3.1 use add this to your DBContext class</li>\n</ol>\n<p><code>modelBuilder.Model.Relational().MaxIdentifierLength = 30;</code></p>\n<ol start=\"2\">\n<li>For Dotnet Core 3.1 above, use this instead.</li>\n</ol>\n<p><code>modelBuilder.Model.SetMaxIdentifierLength(30);</code></p>\n"}],"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71051,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28806813,"answer_count":3,"score":9,"last_activity_date":1667387357,"creation_date":1425288774,"question_id":28806412,"body_markdown":"I try to create an auto incremented column on a table and as I see in this [post][1] there are 2 ways, the second implementation with the Identity column is a more elegant solution, but when I try to implement it I get the following error:\r\n\r\n        Error at Command Line : 3 Column : 31\r\n        Error report -\r\n        SQL Error: ORA-02000: missing ALWAYS keyword\r\n        02000. 00000 -  &quot;missing %s keyword&quot;\r\n\r\nActual table script implementation:\r\n\r\n    CREATE TABLE &quot;PLATFORM&quot;.&quot;AUTH_PERMISSION&quot;\r\n    (\r\n        ID NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY, \r\n        -- ID NUMBER(19,0) PRIMARY KEY NOT NULL,\r\n        NAME VARCHAR2(50) UNIQUE NOT NULL,\r\n        ACTION_ID NUMBER(19,0) NOT NULL,\r\n        RESOURCE_ID NUMBER(19,0) NOT NULL,\r\n        ENVIRONMENT_ID NUMBER(19,0) NOT NULL,\r\n        CONSTRAINT &quot;ACTION_ID&quot; FOREIGN KEY (&quot;ACTION_ID&quot;)\r\n          REFERENCES &quot;AUTH_ACTION&quot; (&quot;ID&quot;) ENABLE,\r\n        CONSTRAINT &quot;ENVIRONMENT_ID&quot; FOREIGN KEY (&quot;ENVIRONMENT_ID&quot;)\r\n          REFERENCES &quot;AUTH_ENVIRONMENT&quot; (&quot;ID&quot;) ENABLE,\r\n        CONSTRAINT &quot;RESOURCE_ID&quot; FOREIGN KEY (&quot;RESOURCE_ID&quot;)\r\n          REFERENCES &quot;AUTH_RESOURCE&quot; (&quot;ID&quot;) ENABLE,\r\n        UNIQUE (ACTION_ID, ENVIRONMENT_ID, RESOURCE_ID)\r\n    );\r\n\r\nIt can bee seen that the column that I try to auto-increment is the primary key of the table. \r\n\r\n[This][2] is the reference from where I got the solution.\r\n\r\nThe problem was that I used an older version of Oracle, 11g.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11296361/how-to-create-id-with-auto-increment-on-oracle\r\n  [2]: http://docs.oracle.com/database/121/DRDAA/migr_tools_feat.htm#DRDAA109","title":"SQL Error: ORA-02000: missing ALWAYS keyword when create identity column based table","body":"<p>I try to create an auto incremented column on a table and as I see in this <a href=\"https://stackoverflow.com/questions/11296361/how-to-create-id-with-auto-increment-on-oracle\">post</a> there are 2 ways, the second implementation with the Identity column is a more elegant solution, but when I try to implement it I get the following error:</p>\n\n<pre><code>    Error at Command Line : 3 Column : 31\n    Error report -\n    SQL Error: ORA-02000: missing ALWAYS keyword\n    02000. 00000 -  \"missing %s keyword\"\n</code></pre>\n\n<p>Actual table script implementation:</p>\n\n<pre><code>CREATE TABLE \"PLATFORM\".\"AUTH_PERMISSION\"\n(\n    ID NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY, \n    -- ID NUMBER(19,0) PRIMARY KEY NOT NULL,\n    NAME VARCHAR2(50) UNIQUE NOT NULL,\n    ACTION_ID NUMBER(19,0) NOT NULL,\n    RESOURCE_ID NUMBER(19,0) NOT NULL,\n    ENVIRONMENT_ID NUMBER(19,0) NOT NULL,\n    CONSTRAINT \"ACTION_ID\" FOREIGN KEY (\"ACTION_ID\")\n      REFERENCES \"AUTH_ACTION\" (\"ID\") ENABLE,\n    CONSTRAINT \"ENVIRONMENT_ID\" FOREIGN KEY (\"ENVIRONMENT_ID\")\n      REFERENCES \"AUTH_ENVIRONMENT\" (\"ID\") ENABLE,\n    CONSTRAINT \"RESOURCE_ID\" FOREIGN KEY (\"RESOURCE_ID\")\n      REFERENCES \"AUTH_RESOURCE\" (\"ID\") ENABLE,\n    UNIQUE (ACTION_ID, ENVIRONMENT_ID, RESOURCE_ID)\n);\n</code></pre>\n\n<p>It can bee seen that the column that I try to auto-increment is the primary key of the table. </p>\n\n<p><a href=\"http://docs.oracle.com/database/121/DRDAA/migr_tools_feat.htm#DRDAA109\" rel=\"noreferrer\">This</a> is the reference from where I got the solution.</p>\n\n<p>The problem was that I used an older version of Oracle, 11g.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667330018,"creation_date":1667330018,"answer_id":74280755,"question_id":74279534,"body_markdown":"The error is clear, you should enable journaling on the server. Look [here][1]. Another option, don&#39;t configure `journal` in writeConcern (which is not recommended).\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/tutorial/manage-journaling/","title":"MongoDb error: &#39;cannot use &#39;j&#39; option when a host does not have journaling enabled&#39;","body":"<p>The error is clear, you should enable journaling on the server. Look <a href=\"https://www.mongodb.com/docs/manual/tutorial/manage-journaling/\" rel=\"nofollow noreferrer\">here</a>. Another option, don't configure <code>journal</code> in writeConcern (which is not recommended).</p>\n"},{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667386781,"creation_date":1667386781,"answer_id":74288106,"question_id":74279534,"body_markdown":"This is happening because Mongock, by default, requires strong consistency(it&#39;s the only way to guarantee a change is only applied once). This means that MongoDB needs to have journalism enabled.\r\n\r\nHowever, as said, that&#39;s the default configuration(and highly recommended for production), but you can relax it for specific scenarios, such as tests, where you may want to set up a MongoDB in memory(which by definition doesn&#39;t allow journalism).Take a look to the [Mongock documentation for MongoDB][1] \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.mongock.io/v5/driver/mongodb-sync/index.html#:~:text=%23-,Properties,-Property","title":"MongoDb error: &#39;cannot use &#39;j&#39; option when a host does not have journaling enabled&#39;","body":"<p>This is happening because Mongock, by default, requires strong consistency(it's the only way to guarantee a change is only applied once). This means that MongoDB needs to have journalism enabled.</p>\n<p>However, as said, that's the default configuration(and highly recommended for production), but you can relax it for specific scenarios, such as tests, where you may want to set up a MongoDB in memory(which by definition doesn't allow journalism).Take a look to the <a href=\"https://docs.mongock.io/v5/driver/mongodb-sync/index.html#:%7E:text=%23-,Properties,-Property\" rel=\"nofollow noreferrer\">Mongock documentation for MongoDB</a></p>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667387286,"creation_date":1667323101,"question_id":74279534,"body_markdown":"I was using mongo in dev just fine, when deploying the app into test env I got this error:\r\n\r\n    com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): &#39;cannot use &#39;j&#39; option when a host does not have journaling enabled&#39; on server localhost:34653. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;cannot use &#39;j&#39; option when a host does not have journaling enabled&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;}\r\n\r\nfull stuck trace:\r\n\r\n```\r\nCaused by: com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): &#39;cannot use &#39;j&#39; option when a host does not have journaling enabled&#39; on server localhost:34653. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;cannot use &#39;j&#39; option when a host does not have journaling enabled&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;}\r\n\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:303)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:259)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:218)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:123)\r\n\tat com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:369)\r\n\tat com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:360)\r\n\tat com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:284)\r\n\tat com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:277)\r\n\tat com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:177)\r\n\tat com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:172)\r\n\tat com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:530)\r\n\tat com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:492)\r\n\tat com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:172)\r\n\tat com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:72)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:886)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:869)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:864)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:849)\r\n\tat com.github.cloudyrock.mongock.driver.mongodb.sync.v4.repository.MongoSync4RepositoryBase.createRequiredUniqueIndex(MongoSync4RepositoryBase.java:99)\r\n\tat com.github.cloudyrock.mongock.driver.mongodb.sync.v4.repository.MongoSync4RepositoryBase.ensureIndex(MongoSync4RepositoryBase.java:58)\r\n\tat com.github.cloudyrock.mongock.driver.mongodb.sync.v4.repository.MongoSync4RepositoryBase.initialize(MongoSync4RepositoryBase.java:43)\r\n\tat com.github.cloudyrock.mongock.driver.core.driver.ConnectionDriverBase.initialize(ConnectionDriverBase.java:40)\r\n\tat com.github.cloudyrock.mongock.runner.core.executor.MigrationExecutor.initializationAndValidation(MigrationExecutor.java:225)\r\n\tat com.github.cloudyrock.spring.v5.core.SpringMigrationExecutor.initializationAndValidation(SpringMigrationExecutor.java:31)\r\n\tat com.github.cloudyrock.mongock.runner.core.executor.MigrationExecutor.executeMigration(MigrationExecutor.java:63)\r\n\tat com.github.cloudyrock.spring.v5.core.SpringMigrationExecutor.executeMigration(SpringMigrationExecutor.java:37)\r\n\tat com.github.cloudyrock.mongock.runner.core.executor.MongockRunnerBase.execute(MongockRunnerBase.java:53)\r\n\t... 49 common frames omitted\r\n```\r\n\r\n\r\n\r\ndependencies: \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\r\n    &lt;version&gt;4.3.8&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongock-spring-v5&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nconfiguration:\r\n\r\n```\r\n@Bean\r\npublic MongockSpring5.MongockApplicationRunner mongockApplicationRunner(\r\n    ApplicationContext springContext,\r\n    MongoTemplate mongoTemplate) {\r\n    log.debug(&quot;Configuring Mongock&quot;);\r\n    return MongockSpring5.builder()\r\n        .setDriver(SpringDataMongoV3Driver.withDefaultLock(mongoTemplate))\r\n        // package to scan for migrations\r\n        .addChangeLogsScanPackage(&quot;ru.fabit.visor.config.dbmigrations&quot;)\r\n        .setSpringContext(springContext)\r\n        .setEnabled(true)\r\n        .buildApplicationRunner();\r\n}\r\n```\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kf7u2.png\r\n\r\ni set command: mongod --journal\r\nbut the same error","title":"MongoDb error: &#39;cannot use &#39;j&#39; option when a host does not have journaling enabled&#39;","body":"<p>I was using mongo in dev just fine, when deploying the app into test env I got this error:</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): 'cannot use 'j' option when a host does not have journaling enabled' on server localhost:34653. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;cannot use 'j' option when a host does not have journaling enabled&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;}\n</code></pre>\n<p>full stuck trace:</p>\n<pre><code>Caused by: com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): 'cannot use 'j' option when a host does not have journaling enabled' on server localhost:34653. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;cannot use 'j' option when a host does not have journaling enabled&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;}\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:303)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:259)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:218)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:123)\n    at com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:369)\n    at com.mongodb.operation.CommandOperationHelper.executeWriteCommand(CommandOperationHelper.java:360)\n    at com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:284)\n    at com.mongodb.operation.CommandOperationHelper.executeCommand(CommandOperationHelper.java:277)\n    at com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:177)\n    at com.mongodb.operation.CreateIndexesOperation$1.call(CreateIndexesOperation.java:172)\n    at com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:530)\n    at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:492)\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:172)\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:72)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:886)\n    at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:869)\n    at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:864)\n    at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:849)\n    at com.github.cloudyrock.mongock.driver.mongodb.sync.v4.repository.MongoSync4RepositoryBase.createRequiredUniqueIndex(MongoSync4RepositoryBase.java:99)\n    at com.github.cloudyrock.mongock.driver.mongodb.sync.v4.repository.MongoSync4RepositoryBase.ensureIndex(MongoSync4RepositoryBase.java:58)\n    at com.github.cloudyrock.mongock.driver.mongodb.sync.v4.repository.MongoSync4RepositoryBase.initialize(MongoSync4RepositoryBase.java:43)\n    at com.github.cloudyrock.mongock.driver.core.driver.ConnectionDriverBase.initialize(ConnectionDriverBase.java:40)\n    at com.github.cloudyrock.mongock.runner.core.executor.MigrationExecutor.initializationAndValidation(MigrationExecutor.java:225)\n    at com.github.cloudyrock.spring.v5.core.SpringMigrationExecutor.initializationAndValidation(SpringMigrationExecutor.java:31)\n    at com.github.cloudyrock.mongock.runner.core.executor.MigrationExecutor.executeMigration(MigrationExecutor.java:63)\n    at com.github.cloudyrock.spring.v5.core.SpringMigrationExecutor.executeMigration(SpringMigrationExecutor.java:37)\n    at com.github.cloudyrock.mongock.runner.core.executor.MongockRunnerBase.execute(MongockRunnerBase.java:53)\n    ... 49 common frames omitted\n</code></pre>\n<p>dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\n    &lt;version&gt;4.3.8&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongock-spring-v5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>configuration:</p>\n<pre><code>@Bean\npublic MongockSpring5.MongockApplicationRunner mongockApplicationRunner(\n    ApplicationContext springContext,\n    MongoTemplate mongoTemplate) {\n    log.debug(&quot;Configuring Mongock&quot;);\n    return MongockSpring5.builder()\n        .setDriver(SpringDataMongoV3Driver.withDefaultLock(mongoTemplate))\n        // package to scan for migrations\n        .addChangeLogsScanPackage(&quot;ru.fabit.visor.config.dbmigrations&quot;)\n        .setSpringContext(springContext)\n        .setEnabled(true)\n        .buildApplicationRunner();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Kf7u2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i set command: mongod --journal\nbut the same error</p>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1665053717,"post_id":73971752,"comment_id":130611580,"body_markdown":"What do you want to count exactly?","body":"What do you want to count exactly?"},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1665136332,"post_id":73971752,"comment_id":130633897,"body_markdown":"I&#39;m using it for some debugging in CK3. So I need it to output &quot;age -100 (1-100000), pressing enter after every line.","body":"I&#39;m using it for some debugging in CK3. So I need it to output &quot;age -100 (1-100000), pressing enter after every line."}],"answers":[{"tags":[],"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665299896,"creation_date":1665299896,"answer_id":74002796,"question_id":73971752,"body_markdown":"I actually solved this one after several days of mashing code. It is, however, very, ***very*** messy and slips about once every 300 lines. Also, if you drop ThreadSleeps below 10 ms it crashes about 200 lines in. It needs both ThreadSleeps or it crashes almost immediately.\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.StringSelection;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.concurrent.TimeUnit;\r\n    public class robot {\r\n\tstatic int i;\r\n    public static void main(String[] args) throws AWTException, InterruptedException{\r\n        // TODO Auto-generated method stub\r\n    for (int i=39000; i&lt; 40000; i+=1) {\r\n\r\n    \tString str = &quot;age -100 &quot; + i;\r\n        Robot r = new Robot();\r\n        Thread.sleep(10);\r\n        String text = str;\r\n        StringSelection stringSelection = new StringSelection(text);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(stringSelection, stringSelection);\r\n        Thread.sleep(10);\r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n    \t} \r\n   \r\n    }\r\n    \r\n    \r\n\r\n\r\n    }\r\n\r\n","title":"How to use Java Robot to enter an increasing sequence of numbers using robot.keypress?","body":"<p>I actually solved this one after several days of mashing code. It is, however, very, <em><strong>very</strong></em> messy and slips about once every 300 lines. Also, if you drop ThreadSleeps below 10 ms it crashes about 200 lines in. It needs both ThreadSleeps or it crashes almost immediately.</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.StringSelection;\nimport java.awt.event.KeyEvent;\nimport java.util.concurrent.TimeUnit;\npublic class robot {\nstatic int i;\npublic static void main(String[] args) throws AWTException, InterruptedException{\n    // TODO Auto-generated method stub\nfor (int i=39000; i&lt; 40000; i+=1) {\n\n    String str = &quot;age -100 &quot; + i;\n    Robot r = new Robot();\n    Thread.sleep(10);\n    String text = str;\n    StringSelection stringSelection = new StringSelection(text);\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clipboard.setContents(stringSelection, stringSelection);\n    Thread.sleep(10);\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n    } \n\n}\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25345436,"reputation":11,"user_id":19163192,"display_name":"Reyni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667386837,"creation_date":1667132640,"answer_id":74253014,"question_id":73971752,"body_markdown":"actually this to TOO late an answer, but probably will help someone else. \r\nSo, Probably the easiest way to do this:\r\n\r\n```\r\nRobot r = new Robot();\r\nint KeyNum = KeyEvent.VK_1;\r\nfor(int i = 0; i &lt; 10; i++) {\r\n    r.keyPress(KeyNum);\r\n    Thread.sleep(1000);\r\n    r.keyRelease(KeyNum);\r\n    KeyNum++;\r\n}\r\n```","title":"How to use Java Robot to enter an increasing sequence of numbers using robot.keypress?","body":"<p>actually this to TOO late an answer, but probably will help someone else.\nSo, Probably the easiest way to do this:</p>\n<pre><code>Robot r = new Robot();\nint KeyNum = KeyEvent.VK_1;\nfor(int i = 0; i &lt; 10; i++) {\n    r.keyPress(KeyNum);\n    Thread.sleep(1000);\n    r.keyRelease(KeyNum);\n    KeyNum++;\n}\n</code></pre>\n"}],"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74002796,"answer_count":2,"score":0,"last_activity_date":1667386837,"creation_date":1665049566,"question_id":73971752,"body_markdown":"I am trying to use Java to write a very simple script: I want to place my cursor in a debug console and have it type a sequence of numbers. For example \r\n\r\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10, etc. But I also need it to press enter, then the up arrow, then type, then enter, then up arrow, etc. \r\nSo 1 Enter Up Arrow 2 Enter Up Arrow etc. \r\n\r\nAlternatively,  it can also just use the enter key, as in &quot;age -100 (1-100000).\r\n\r\nHere is the code I&#39;m trying to make work, but I don&#39;t know how to make it count.\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.StringSelection;\r\n    import java.awt.event.KeyEvent;\r\n    public class robot {\r\n\r\n    public static void main(String[] args) throws AWTException, InterruptedException{\r\n        // TODO Auto-generated method stub\r\n        Robot r = new Robot();\r\n        String i = &quot;&quot;;\r\n        Thread.sleep(2000);\r\n        String text = &quot;1&quot;;\r\n        StringSelection stringSelection = new StringSelection(text);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(stringSelection, stringSelection);\r\n\r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n        \r\n   \r\n    }\r\n\r\n\r\n    }","title":"How to use Java Robot to enter an increasing sequence of numbers using robot.keypress?","body":"<p>I am trying to use Java to write a very simple script: I want to place my cursor in a debug console and have it type a sequence of numbers. For example</p>\n<p>1, 2, 3, 4, 5, 6, 7, 8, 9, 10, etc. But I also need it to press enter, then the up arrow, then type, then enter, then up arrow, etc.\nSo 1 Enter Up Arrow 2 Enter Up Arrow etc.</p>\n<p>Alternatively,  it can also just use the enter key, as in &quot;age -100 (1-100000).</p>\n<p>Here is the code I'm trying to make work, but I don't know how to make it count.</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.StringSelection;\nimport java.awt.event.KeyEvent;\npublic class robot {\n\npublic static void main(String[] args) throws AWTException, InterruptedException{\n    // TODO Auto-generated method stub\n    Robot r = new Robot();\n    String i = &quot;&quot;;\n    Thread.sleep(2000);\n    String text = &quot;1&quot;;\n    StringSelection stringSelection = new StringSelection(text);\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clipboard.setContents(stringSelection, stringSelection);\n\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n    \n\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","trading","tradingview-api","ta-lib","rsi"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1637007967,"post_id":69980426,"comment_id":123705425,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":15948869,"reputation":1,"user_id":17421738,"display_name":"FaycalAire"},"score":0,"creation_date":1637008113,"post_id":69980426,"comment_id":123705480,"body_markdown":"Ok I will add some code","body":"Ok I will add some code"}],"answers":[{"tags":[],"owner":{"account_id":26522432,"reputation":11,"user_id":20155899,"display_name":"Mina Jahanbakhshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667386446,"creation_date":1667124867,"answer_id":74252197,"question_id":69980426,"body_markdown":"I think the problem is in RMA (relative moving average) calculation.it happens because of the unmutual starting point for getting RMA. Different starting point for getting RMA will cause big difference in calculated RSI oppose to tradingview RSI. Tradingview is using Realtime data, hence older data. My suggestion is to start with 1000 klines.\r\n\r\nHere is the tradingview formula :\r\n\r\n```\r\nlen = input(14, minval=1, title=&quot;Length&quot;)\r\nsrc = input(close, &quot;Source&quot;, type = input.source)\r\nup = rma(max(change(src), 0), len)\r\ndown = rma(-min(change(src), 0), len)\r\nrsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))\r\n```\r\n\r\naccording to this formula, first you need to get prices and store them somewhere. Closed candles are either gain or loss. After that you have to calculate the change for gain and loss.\r\n\r\nNotice : for a closer result get more klines. you need the older data to have a more accurate calculation.( for example 1000 klines)\r\n\r\nNow is the time to calculate RMA.\r\nThe RMA formula is :\r\n\r\n```\r\nAlpha*source(or as we know, change) + (1-alpha) * previous RMA\r\n\r\nAlpha : 1/period(for example 1/14)\r\n```\r\n\r\nAt this point we are at the tricky part of calculation. As you can see in the RMA formula, we need the previous RMA to calculate the current one. Assume that we are using 1 hour timeframe and store the klines lets say in an array. Each and every one off array elements has a previous element, hence previous RMA ; But what about the element stored in array[0] ?\r\n\r\nIt would also be needing previous RMA. Here you will need to calculate SMA(simple moving average).\r\n\r\nSMA : the number of prices within a time period is divided by the number of total periods.\r\n\r\nThe calculated SMA is equal the arrays first member RMA.\r\n\r\nNow is the time to calculate RSI. With this method I was able to calculate RSI almost exactly same as tradingview.\r\nPersonally, I wrote a bot with C++ to calculate RSI according to tradingview, using Binance API. You can see my code here : \r\n\r\nhttps://github.com/Mina-Jahan/RSIgnal_bot\r\n\r\nAnd I would be appreciated to hear your opinion in order to make my code better if there is a way to reform it.\r\nThank you.\r\n","title":"How to get the same RSI as Tradingview in Java?","body":"<p>I think the problem is in RMA (relative moving average) calculation.it happens because of the unmutual starting point for getting RMA. Different starting point for getting RMA will cause big difference in calculated RSI oppose to tradingview RSI. Tradingview is using Realtime data, hence older data. My suggestion is to start with 1000 klines.</p>\n<p>Here is the tradingview formula :</p>\n<pre><code>len = input(14, minval=1, title=&quot;Length&quot;)\nsrc = input(close, &quot;Source&quot;, type = input.source)\nup = rma(max(change(src), 0), len)\ndown = rma(-min(change(src), 0), len)\nrsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))\n</code></pre>\n<p>according to this formula, first you need to get prices and store them somewhere. Closed candles are either gain or loss. After that you have to calculate the change for gain and loss.</p>\n<p>Notice : for a closer result get more klines. you need the older data to have a more accurate calculation.( for example 1000 klines)</p>\n<p>Now is the time to calculate RMA.\nThe RMA formula is :</p>\n<pre><code>Alpha*source(or as we know, change) + (1-alpha) * previous RMA\n\nAlpha : 1/period(for example 1/14)\n</code></pre>\n<p>At this point we are at the tricky part of calculation. As you can see in the RMA formula, we need the previous RMA to calculate the current one. Assume that we are using 1 hour timeframe and store the klines lets say in an array. Each and every one off array elements has a previous element, hence previous RMA ; But what about the element stored in array[0] ?</p>\n<p>It would also be needing previous RMA. Here you will need to calculate SMA(simple moving average).</p>\n<p>SMA : the number of prices within a time period is divided by the number of total periods.</p>\n<p>The calculated SMA is equal the arrays first member RMA.</p>\n<p>Now is the time to calculate RSI. With this method I was able to calculate RSI almost exactly same as tradingview.\nPersonally, I wrote a bot with C++ to calculate RSI according to tradingview, using Binance API. You can see my code here :</p>\n<p><a href=\"https://github.com/Mina-Jahan/RSIgnal_bot\" rel=\"nofollow noreferrer\">https://github.com/Mina-Jahan/RSIgnal_bot</a></p>\n<p>And I would be appreciated to hear your opinion in order to make my code better if there is a way to reform it.\nThank you.</p>\n"}],"owner":{"account_id":15948869,"reputation":1,"user_id":17421738,"display_name":"FaycalAire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667386446,"creation_date":1637007910,"question_id":69980426,"body_markdown":"I don&#39;t understand why, but my RSI is always different as Tradingview&#39;s RSI.\r\n\r\nIs use the same period (14 candles of 15min each), I use the same type of value (closes price), I tried to add the last non closed candle, but I never get the same RSI.\r\n\r\n\r\nTradingview RSI code :\r\n\r\n    //@version=4\r\n    study(title=&quot;Relative Strength Index&quot;, shorttitle=&quot;RSI&quot;, \r\n    format=format.price, precision=2, resolution=&quot;&quot;)\r\n    len = input(14, minval=1, title=&quot;Length&quot;)\r\n    src = input(close, &quot;Source&quot;, type = input.source)\r\n    up = rma(max(change(src), 0), len)\r\n    down = rma(-min(change(src), 0), len)\r\n    rsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))\r\n    plot(rsi, &quot;RSI&quot;, color=#7E57C2)\r\n    band1 = hline(70, &quot;Upper Band&quot;, color=#787B86)\r\n    bandm = hline(50, &quot;Middle Band&quot;, color=color.new(#787B86, 50))\r\n    band0 = hline(30, &quot;Lower Band&quot;, color=#787B86)\r\n    fill(band1, band0, color=color.rgb(126, 87, 194, 90), title=&quot;Background&quot;)\r\n\r\n\r\nMY code with TA-Lib\r\n\r\n    MInteger outBegIdx = new MInteger();\r\n    MInteger outNbElement = new MInteger();\r\n    double[] outReal = new double[array.length-1];\r\n    int startIdx = 0;\r\n    int endIdx = array.length - 1;\r\n\r\n    Core core = new Core();\r\n    core.rsi(startIdx, endIdx, array, length-1, outBegIdx, outNbElement, outReal);\r\n    System.out.println(Arrays.toString(outReal));\r\n\r\n    return outReal[0];\r\n\r\nmy custom code without plugin\r\n\r\n     double av_gain_up_periods = 0;\r\n     double av_loss_down_periods = 0;\r\n     int gain_count = 0;\r\n     int loss_count = 0;\r\n     double previous_observation = array[0];\r\n    \r\n     for (int i = 1; i &lt; array.length; i++) {\r\n                if (previous_observation &lt;= array[i]) { // if gain\r\n                    double gain = array[i] - previous_observation;\r\n                    gain_count++;\r\n                    av_gain_up_periods += gain;\r\n                }\r\n                else { // if loss\r\n                    double loss = previous_observation - array[i];\r\n                    loss_count++;\r\n                    av_loss_down_periods += loss;\r\n                }\r\n                previous_observation = array[i];\r\n            }\r\n            av_gain_up_periods = av_gain_up_periods/gain_count;\r\n            av_loss_down_periods = av_loss_down_periods/loss_count;\r\n    \r\n            // CALCULATE RSI\r\n            double relative_strength = av_gain_up_periods/av_loss_down_periods;\r\n            double relative_strength_index = 100-(100/(1+relative_strength));\r\n    \r\n            // PRINT RESULT\r\n            return relative_strength_index;\r\n\r\nI can garantee you that I have 14 closes price and they are the same as Tradingview&#39;s. The difference is in the calculation.\r\n\r\nRelated to this [issue][1]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68247061/tradingview-rsi-formula-what-am-i-doing-wrong-java","title":"How to get the same RSI as Tradingview in Java?","body":"<p>I don't understand why, but my RSI is always different as Tradingview's RSI.</p>\n<p>Is use the same period (14 candles of 15min each), I use the same type of value (closes price), I tried to add the last non closed candle, but I never get the same RSI.</p>\n<p>Tradingview RSI code :</p>\n<pre><code>//@version=4\nstudy(title=&quot;Relative Strength Index&quot;, shorttitle=&quot;RSI&quot;, \nformat=format.price, precision=2, resolution=&quot;&quot;)\nlen = input(14, minval=1, title=&quot;Length&quot;)\nsrc = input(close, &quot;Source&quot;, type = input.source)\nup = rma(max(change(src), 0), len)\ndown = rma(-min(change(src), 0), len)\nrsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))\nplot(rsi, &quot;RSI&quot;, color=#7E57C2)\nband1 = hline(70, &quot;Upper Band&quot;, color=#787B86)\nbandm = hline(50, &quot;Middle Band&quot;, color=color.new(#787B86, 50))\nband0 = hline(30, &quot;Lower Band&quot;, color=#787B86)\nfill(band1, band0, color=color.rgb(126, 87, 194, 90), title=&quot;Background&quot;)\n</code></pre>\n<p>MY code with TA-Lib</p>\n<pre><code>MInteger outBegIdx = new MInteger();\nMInteger outNbElement = new MInteger();\ndouble[] outReal = new double[array.length-1];\nint startIdx = 0;\nint endIdx = array.length - 1;\n\nCore core = new Core();\ncore.rsi(startIdx, endIdx, array, length-1, outBegIdx, outNbElement, outReal);\nSystem.out.println(Arrays.toString(outReal));\n\nreturn outReal[0];\n</code></pre>\n<p>my custom code without plugin</p>\n<pre><code> double av_gain_up_periods = 0;\n double av_loss_down_periods = 0;\n int gain_count = 0;\n int loss_count = 0;\n double previous_observation = array[0];\n\n for (int i = 1; i &lt; array.length; i++) {\n            if (previous_observation &lt;= array[i]) { // if gain\n                double gain = array[i] - previous_observation;\n                gain_count++;\n                av_gain_up_periods += gain;\n            }\n            else { // if loss\n                double loss = previous_observation - array[i];\n                loss_count++;\n                av_loss_down_periods += loss;\n            }\n            previous_observation = array[i];\n        }\n        av_gain_up_periods = av_gain_up_periods/gain_count;\n        av_loss_down_periods = av_loss_down_periods/loss_count;\n\n        // CALCULATE RSI\n        double relative_strength = av_gain_up_periods/av_loss_down_periods;\n        double relative_strength_index = 100-(100/(1+relative_strength));\n\n        // PRINT RESULT\n        return relative_strength_index;\n</code></pre>\n<p>I can garantee you that I have 14 closes price and they are the same as Tradingview's. The difference is in the calculation.</p>\n<p>Related to this <a href=\"https://stackoverflow.com/questions/68247061/tradingview-rsi-formula-what-am-i-doing-wrong-java\">issue</a></p>\n<p>Thanks</p>\n"},{"tags":["java","android","xml","android-layout","android-dialogfragment"],"comments":[{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1667381212,"post_id":74285916,"comment_id":131151517,"body_markdown":"you can crete popup windows and show the same at a specific location on the screen or relative to the view you are highlighting. Search of show case views on github. there are plenty or search view tooltips android https://github.com/skydoves/Balloon","body":"you can crete popup windows and show the same at a specific location on the screen or relative to the view you are highlighting. Search of show case views on github. there are plenty or search view tooltips android <a href=\"https://github.com/skydoves/Balloon\" rel=\"nofollow noreferrer\">github.com/skydoves/Balloon</a>"},{"owner":{"account_id":15104867,"reputation":675,"user_id":10900851,"display_name":"devzom"},"score":0,"creation_date":1667590465,"post_id":74285916,"comment_id":131210881,"body_markdown":"There are many libraries available publicly to make an &quot;Guided tour&quot; through the app: ex: https://github.com/canopas/Intro-showcase-view","body":"There are many libraries available publicly to make an &quot;Guided tour&quot; through the app: ex: <a href=\"https://github.com/canopas/Intro-showcase-view\" rel=\"nofollow noreferrer\">github.com/canopas/Intro-showcase-view</a>"}],"owner":{"account_id":26803663,"reputation":1,"user_id":20395253,"display_name":"1asset"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667386297,"creation_date":1667375656,"question_id":74285916,"body_markdown":"I am developing an android application and want to create an instruction mechanism for every page, directing users to click a specific button. \r\n\r\nHow can I create such dialogs indicating, highlighting a button that has to be clicked, a[![As you can see at the left screen, I want such result](https://i.stack.imgur.com/71K65.jpg)](https://i.stack.imgur.com/71K65.jpg)lso the button should be highlighted and background is darkened to focus a user&#39;s attention.\r\n\r\n\r\nI created a simple alert dialog, but it&#39;s not what I am looking for","title":"How to create an instruction in android app (directing a user to click a specific button)","body":"<p>I am developing an android application and want to create an instruction mechanism for every page, directing users to click a specific button.</p>\n<p>How can I create such dialogs indicating, highlighting a button that has to be clicked, a<a href=\"https://i.stack.imgur.com/71K65.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71K65.jpg\" alt=\"As you can see at the left screen, I want such result\" /></a>lso the button should be highlighted and background is darkened to focus a user's attention.</p>\n<p>I created a simple alert dialog, but it's not what I am looking for</p>\n"},{"tags":["java","spring","mongodb","boot","mongock"],"comments":[{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1667306365,"post_id":74272739,"comment_id":131132683,"body_markdown":"Which version are you using for Mongock and Spring data?","body":"Which version are you using for Mongock and Spring data?"}],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667386183,"creation_date":1667386183,"answer_id":74287994,"question_id":74272739,"body_markdown":"The problem you are experimenting is that, for the Mongock version you are using, `MongockTemplate`(which is a deprecated wrapper for `MongoTemplate`) is not using the same version of MongoTemplate you are importing.\r\n\r\nInstead of fixing the `MongockTemplate`, we highly recommend upgrading to Mongock 5.x.x, and use directly `MongoTemplate`.\r\n\r\nUpgrading from version 4 to 5 is an easy process, but you have [this guide][1]\r\n\r\n\r\n  [1]: https://docs.mongock.io/v5/from-version-4-to-5/index.html","title":"Caused by: java.lang.AbstractMethodError Method...MongockTemplate.updateMulti is abstract","body":"<p>The problem you are experimenting is that, for the Mongock version you are using, <code>MongockTemplate</code>(which is a deprecated wrapper for <code>MongoTemplate</code>) is not using the same version of MongoTemplate you are importing.</p>\n<p>Instead of fixing the <code>MongockTemplate</code>, we highly recommend upgrading to Mongock 5.x.x, and use directly <code>MongoTemplate</code>.</p>\n<p>Upgrading from version 4 to 5 is an easy process, but you have <a href=\"https://docs.mongock.io/v5/from-version-4-to-5/index.html\" rel=\"nofollow noreferrer\">this guide</a></p>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667386183,"creation_date":1667287747,"question_id":74272739,"body_markdown":"I am using mongock, all migration correctly pass, bun when invoke mongoTemplate.updateMulti then throw an \r\n```\r\nCaused by: java.lang.AbstractMethodError: Method com/github/cloudyrock/mongock/driver/mongodb/springdata/v3/decorator/impl/MongockTemplate.updateMulti(Lorg/springframework/data/mongodb/core/query/Query;Lorg/springframework/data/mongodb/core/query/Update;Ljava/lang/String;)Lcom/mongodb/client/result/UpdateResult; is abstract\r\n\tat com.github.cloudyrock.mongock.driver.mongodb.springdata.v3.decorator.impl.MongockTemplate.updateMulti(MongockTemplate.java)\r\n```\r\n\r\n```\r\nprivate void updateSpecifiedCollection(MongockTemplate mongoTemplate, String collectionName) {\r\n    Update updateQuery = Update.update(&quot;photo_width&quot;, 1920).set(&quot;photo_height&quot;, 1080);\r\n    mongoTemplate.updateMulti(Query.query(Criteria.where(&quot;camera.serial_number&quot;)\r\n            .is(&quot;1f3417b7-ccbf-4367-bba2-540d555ce11c&quot;).and(&quot;photo_date&quot;).gt(Instant.parse(&quot;2018-06-25T13:54:00Z&quot;))),\r\n        updateQuery, collectionName);\r\n```\r\n\r\n\r\n\r\n\r\ni am expecting it will rename specified name.","title":"Caused by: java.lang.AbstractMethodError Method...MongockTemplate.updateMulti is abstract","body":"<p>I am using mongock, all migration correctly pass, bun when invoke mongoTemplate.updateMulti then throw an</p>\n<pre><code>Caused by: java.lang.AbstractMethodError: Method com/github/cloudyrock/mongock/driver/mongodb/springdata/v3/decorator/impl/MongockTemplate.updateMulti(Lorg/springframework/data/mongodb/core/query/Query;Lorg/springframework/data/mongodb/core/query/Update;Ljava/lang/String;)Lcom/mongodb/client/result/UpdateResult; is abstract\n    at com.github.cloudyrock.mongock.driver.mongodb.springdata.v3.decorator.impl.MongockTemplate.updateMulti(MongockTemplate.java)\n</code></pre>\n<pre><code>private void updateSpecifiedCollection(MongockTemplate mongoTemplate, String collectionName) {\n    Update updateQuery = Update.update(&quot;photo_width&quot;, 1920).set(&quot;photo_height&quot;, 1080);\n    mongoTemplate.updateMulti(Query.query(Criteria.where(&quot;camera.serial_number&quot;)\n            .is(&quot;1f3417b7-ccbf-4367-bba2-540d555ce11c&quot;).and(&quot;photo_date&quot;).gt(Instant.parse(&quot;2018-06-25T13:54:00Z&quot;))),\n        updateQuery, collectionName);\n</code></pre>\n<p>i am expecting it will rename specified name.</p>\n"},{"tags":["java","networking","dns","inetaddress"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1667031382,"post_id":74243724,"comment_id":131078287,"body_markdown":"Java invokes the host operating system to resolve dns; why would there be a specific Java DNS resolver by default? The only option I know of would be running your own Java DNS. Which is probably not what you want. Why do you want to do this?","body":"Java invokes the host operating system to resolve dns; why would there be a specific Java DNS resolver by default? The only option I know of would be running your own Java DNS. Which is probably not what you want. Why do you want to do this?"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667031748,"post_id":74243724,"comment_id":131078330,"body_markdown":"I was interested in it for educational purposes. How can I run my Java DNS which works for java version 8 and later? Could you provide a sample code?","body":"I was interested in it for educational purposes. How can I run my Java DNS which works for java version 8 and later? Could you provide a sample code?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1667032295,"post_id":74243724,"comment_id":131078395,"body_markdown":"No one is going to provide &quot;sample code&quot;, because no one is doing this. [dnsjava](https://github.com/dnsjava/dnsjava) is a dns server written in Java. You can run any dns server you like, [Unbound](https://www.nlnetlabs.nl/projects/unbound/about/) for example, then you must configure your operating system to use it. Note: This is still not something Java (as a platform) is designed for. Why would there be a &quot;resolve dns names&quot; in an atypical manner?","body":"No one is going to provide &quot;sample code&quot;, because no one is doing this. <a href=\"https://github.com/dnsjava/dnsjava\" rel=\"nofollow noreferrer\">dnsjava</a> is a dns server written in Java. You can run any dns server you like, <a href=\"https://www.nlnetlabs.nl/projects/unbound/about/\" rel=\"nofollow noreferrer\">Unbound</a> for example, then you must configure your operating system to use it. Note: This is still not something Java (as a platform) is designed for. Why would there be a &quot;resolve dns names&quot; in an atypical manner?"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667032936,"post_id":74243724,"comment_id":131078469,"body_markdown":"Rather than starting a server I was wondering if there was a solution similar to [this](https://stackoverflow.com/questions/11647629/how-to-configure-hostname-resolution-to-use-a-custom-dns-server-in-java#answer-67683205) but also working for Java 8. If we could do the same programmatically it would be even better instead of passing a parameter to the JDK.","body":"Rather than starting a server I was wondering if there was a solution similar to <a href=\"https://stackoverflow.com/questions/11647629/how-to-configure-hostname-resolution-to-use-a-custom-dns-server-in-java#answer-67683205\">this</a> but also working for Java 8. If we could do the same programmatically it would be even better instead of passing a parameter to the JDK."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1667034167,"post_id":74243724,"comment_id":131078632,"body_markdown":"Not that I&#39;m aware of. Good luck!","body":"Not that I&#39;m aware of. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667385860,"creation_date":1667109770,"answer_id":74250879,"question_id":74243724,"body_markdown":"After a deep search I found [this example](https://burningwave.github.io/tools/#configuring-host-resolution) that uses the burningwave tools library:\r\n\r\n```java\r\nMap&lt;String, String&gt; hostAliases = new LinkedHashMap&lt;&gt;();\r\nhostAliases.put(&quot;my.hostname.one&quot;, &quot;123.123.123.123&quot;);\r\n\r\nHostResolutionRequestInterceptor.INSTANCE.install(\r\n    new MappedHostResolver(hostAliases),\r\n    DefaultHostResolver.INSTANCE\r\n);\r\n\r\nInetAddress inetAddress = InetAddress.getByName(&quot;my.hostname.one&quot;);\r\n```\r\nAnd here the code [to add a DNS server connection based host resolver](https://stackoverflow.com/questions/74259441/how-to-write-a-dns-server-based-host-resolver-in-java#answer-74272565)","title":"How to configure host name resolution to use a custom host resolver that works in Java 8 and later?","body":"<p>After a deep search I found <a href=\"https://burningwave.github.io/tools/#configuring-host-resolution\" rel=\"nofollow noreferrer\">this example</a> that uses the burningwave tools library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; hostAliases = new LinkedHashMap&lt;&gt;();\nhostAliases.put(&quot;my.hostname.one&quot;, &quot;123.123.123.123&quot;);\n\nHostResolutionRequestInterceptor.INSTANCE.install(\n    new MappedHostResolver(hostAliases),\n    DefaultHostResolver.INSTANCE\n);\n\nInetAddress inetAddress = InetAddress.getByName(&quot;my.hostname.one&quot;);\n</code></pre>\n<p>And here the code <a href=\"https://stackoverflow.com/questions/74259441/how-to-write-a-dns-server-based-host-resolver-in-java#answer-74272565\">to add a DNS server connection based host resolver</a></p>\n"}],"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74250879,"answer_count":1,"score":1,"last_activity_date":1667385860,"creation_date":1667030500,"question_id":74243724,"body_markdown":"According to [this post](https://stackoverflow.com/questions/11647629/how-to-configure-hostname-resolution-to-use-a-custom-dns-server-in-java) there are several ways to configure a custom host resolver in Java, but each of these ways differs from the other and does not work for all java versions between 8 and the most recent.\r\n\r\nThe post indicated above is 10 years old: does anyone know if in this period a solution has been found that works for all the java versions mentioned above? If so, does anyone have an example code?","title":"How to configure host name resolution to use a custom host resolver that works in Java 8 and later?","body":"<p>According to <a href=\"https://stackoverflow.com/questions/11647629/how-to-configure-hostname-resolution-to-use-a-custom-dns-server-in-java\">this post</a> there are several ways to configure a custom host resolver in Java, but each of these ways differs from the other and does not work for all java versions between 8 and the most recent.</p>\n<p>The post indicated above is 10 years old: does anyone know if in this period a solution has been found that works for all the java versions mentioned above? If so, does anyone have an example code?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667384864,"post_id":74287625,"comment_id":131152824,"body_markdown":"You need a `synchronized` block around all the reading operations or use a `ReadLock` that `LocalCache` needs to expose. But this design is really flawed, why not use a `ConcurrentMap&lt;String, List&lt;Float&gt;&gt;`?","body":"You need a <code>synchronized</code> block around all the reading operations or use a <code>ReadLock</code> that <code>LocalCache</code> needs to expose. But this design is really flawed, why not use a <code>ConcurrentMap&lt;String, List&lt;Float&gt;&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667385814,"creation_date":1667385814,"answer_id":74287902,"question_id":74287625,"body_markdown":"The obvious solution is just:\r\n\r\n```java\r\nfoo() {\r\n  synchronized(localCache) {\r\n    localCache.getData();\r\n    localCache.getKeys();\r\n    localCache.getSize();\r\n  }\r\n}\r\n```\r\n\r\nBut it might have poor performance. If the calls to the `add` method are rare enough with regards to the calls to the getters, you can use a ReadWriteLock. The add method would lock for writing (exclusive lock), while the foo method would lock for reading (shared lock with other readers).\r\n\r\nIf you need higher throughput (the add method is called often), I would create an intermediate data structure:\r\n\r\n```java\r\nclass Data {\r\n  String key;\r\n  float[] oneData;\r\n}\r\n\r\nclass LocalCache {\r\n  final Queue&lt;Data&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n  public void add(String key, float[] data) { // no need to synchronize\r\n    queue.add(new Data(key, data));\r\n  }\r\n}\r\n\r\nfoo() {\r\n   List&lt;Data&gt; currentData = new ArrayList&lt;&gt;(localCache.getQueue());\r\n   // will not copy your several GB of data, only pointers to the Data objects.\r\n   // Will get the entire content of the queue at some point in time,\r\n   // the result of the latest add operations may be missing.\r\n}\r\n```\r\n\r\nAlso, if you only need a `Map&lt;String, float[]&gt;` that support concurrent access, as f1sh pointed out, just use ConcurrentHashMap. It is very efficient.","title":"How to achieve an atomic reading for combined data in Java","body":"<p>The obvious solution is just:</p>\n<pre class=\"lang-java prettyprint-override\"><code>foo() {\n  synchronized(localCache) {\n    localCache.getData();\n    localCache.getKeys();\n    localCache.getSize();\n  }\n}\n</code></pre>\n<p>But it might have poor performance. If the calls to the <code>add</code> method are rare enough with regards to the calls to the getters, you can use a ReadWriteLock. The add method would lock for writing (exclusive lock), while the foo method would lock for reading (shared lock with other readers).</p>\n<p>If you need higher throughput (the add method is called often), I would create an intermediate data structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Data {\n  String key;\n  float[] oneData;\n}\n\nclass LocalCache {\n  final Queue&lt;Data&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\n\n  public void add(String key, float[] data) { // no need to synchronize\n    queue.add(new Data(key, data));\n  }\n}\n\nfoo() {\n   List&lt;Data&gt; currentData = new ArrayList&lt;&gt;(localCache.getQueue());\n   // will not copy your several GB of data, only pointers to the Data objects.\n   // Will get the entire content of the queue at some point in time,\n   // the result of the latest add operations may be missing.\n}\n</code></pre>\n<p>Also, if you only need a <code>Map&lt;String, float[]&gt;</code> that support concurrent access, as f1sh pointed out, just use ConcurrentHashMap. It is very efficient.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667385814,"creation_date":1667384415,"question_id":74287625,"body_markdown":"In the following code, `LocalCache` stands for a `Map&lt;String, float[]&gt;` that could consume up to serveral GB memory. The idea is that each `String` in `keys` has a 256 sized `float[]` data.\r\n```\r\npublic class LocalCache {\r\n   int size;\r\n   List&lt;String&gt; keys;\r\n   float[] data;\r\n   \r\n   public void synchronized add(String oneKey, float[] oneData) {\r\n       for (int i = 0; i&lt;oneData.length; i++) {\r\n\t      this.data[i+256*size] = oneData[i];\r\n\t   }\r\n\t   keys.add(oneKey);\r\n\t   size++;\r\n   }\r\n   \r\n}\r\n\r\nfoo() {\r\n   localCache.getData();\r\n   localCache.getKeys();\r\n   localCache.getSize();\r\n}\r\n```\r\nThe question is when a function like `foo`, uses `data` and `keys` and `size`, how to make sure that they are identical? ","title":"How to achieve an atomic reading for combined data in Java","body":"<p>In the following code, <code>LocalCache</code> stands for a <code>Map&lt;String, float[]&gt;</code> that could consume up to serveral GB memory. The idea is that each <code>String</code> in <code>keys</code> has a 256 sized <code>float[]</code> data.</p>\n<pre><code>public class LocalCache {\n   int size;\n   List&lt;String&gt; keys;\n   float[] data;\n   \n   public void synchronized add(String oneKey, float[] oneData) {\n       for (int i = 0; i&lt;oneData.length; i++) {\n          this.data[i+256*size] = oneData[i];\n       }\n       keys.add(oneKey);\n       size++;\n   }\n   \n}\n\nfoo() {\n   localCache.getData();\n   localCache.getKeys();\n   localCache.getSize();\n}\n</code></pre>\n<p>The question is when a function like <code>foo</code>, uses <code>data</code> and <code>keys</code> and <code>size</code>, how to make sure that they are identical?</p>\n"},{"tags":["java","gradle","intellij-idea","graphql","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667385184,"creation_date":1667385184,"answer_id":74287780,"question_id":74009637,"body_markdown":"In your case, there are two different problems that need to be solved: the Spring for GraphQL auto-detection of schema files, and the IntelliJ IDEA plugin support.\r\n\r\nFirst, if you&#39;ve structured your application this way, you should tell Spring Boot to [look for schema files in the entire classpath][1] with a configuration property:\r\n\r\n```properties\r\nspring.graphql.schema.locations=&quot;classpath*:graphql/**/&quot;\r\n```\r\n\r\nSecond, the IntelliJ IDEA plugin for GraphQL support is relying on [the `.graphqlconfig` specification][2]. In your case, you could add a `.graphqlconfig` file at the root of your project with the following:\r\n\r\n```json\r\n{\r\n  &quot;projects&quot;: {\r\n    &quot;shared&quot;: {\r\n      &quot;includes&quot;: [&quot;./shared/src/main/resources/graphql/*.graphql&quot;]\r\n    },\r\n    &quot;user&quot;: {\r\n      &quot;includes&quot;: [&quot;./user/src/main/resources/graphql/*.graphql&quot;]\r\n    },\r\n    &quot;task&quot;: {\r\n      &quot;includes&quot;: [&quot;./task/src/main/resources/graphql/*.graphql&quot;]\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nYou can [check out the plugin documentation][3] since there are multiple ways to structure your configuration for this use case.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.graphql.schema\r\n  [2]: https://github.com/kamilkisiela/graphql-config/blob/legacy/specification.md#use-cases\r\n  [3]: https://jimkyndemeyer.github.io/js-graphql-intellij-plugin/docs/developer-guide#setting-up-multi-schema-projects-using-graphql-config","title":"Java GraphQL schema dependency across modules","body":"<p>In your case, there are two different problems that need to be solved: the Spring for GraphQL auto-detection of schema files, and the IntelliJ IDEA plugin support.</p>\n<p>First, if you've structured your application this way, you should tell Spring Boot to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.graphql.schema\" rel=\"nofollow noreferrer\">look for schema files in the entire classpath</a> with a configuration property:</p>\n<pre><code>spring.graphql.schema.locations=&quot;classpath*:graphql/**/&quot;\n</code></pre>\n<p>Second, the IntelliJ IDEA plugin for GraphQL support is relying on <a href=\"https://github.com/kamilkisiela/graphql-config/blob/legacy/specification.md#use-cases\" rel=\"nofollow noreferrer\">the <code>.graphqlconfig</code> specification</a>. In your case, you could add a <code>.graphqlconfig</code> file at the root of your project with the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;projects&quot;: {\n    &quot;shared&quot;: {\n      &quot;includes&quot;: [&quot;./shared/src/main/resources/graphql/*.graphql&quot;]\n    },\n    &quot;user&quot;: {\n      &quot;includes&quot;: [&quot;./user/src/main/resources/graphql/*.graphql&quot;]\n    },\n    &quot;task&quot;: {\n      &quot;includes&quot;: [&quot;./task/src/main/resources/graphql/*.graphql&quot;]\n    }\n  }\n}\n\n</code></pre>\n<p>You can <a href=\"https://jimkyndemeyer.github.io/js-graphql-intellij-plugin/docs/developer-guide#setting-up-multi-schema-projects-using-graphql-config\" rel=\"nofollow noreferrer\">check out the plugin documentation</a> since there are multiple ways to structure your configuration for this use case.</p>\n"}],"owner":{"account_id":4160509,"reputation":317,"user_id":3410729,"display_name":"WitHeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667385184,"creation_date":1665367548,"question_id":74009637,"body_markdown":"I have a gradle project that is divided into multiple modules. There is a shared module that defines a root GraphQL schema that I want to expose to other modules but I&#39;m not sure how to define this dependency in other modules. Also a requirement is that IntelliJ IDEA would be able to resolve the types in the other modules&#39; GraphQL schema to their definitions in the shared module&#39;s schema.\r\n\r\nFor example, my project has the following structure:\r\n```\r\nprojectRoot\r\n  |-- shared/src/main/resources/graphql\r\n  |   `-- schema.graphql\r\n  |-- user/src/main/resources/graphql\r\n  |   `-- schema.graphql\r\n  `-- task/src/main/resources/graphql\r\n      `-- schema.graphql\r\n```\r\n\r\nIn ```shared/src/main/resources/graphql/schema.graphql``` I have defined the following:\r\n```\r\ntype Mutation {}\r\ntype Query {}\r\n```\r\n\r\nAnd in ```user/src/main/resources/graphql/schema.graphql``` I have defined the following:\r\n```\r\nextend type Mutation {}\r\nextend type Query {}\r\n```\r\n\r\nI have defined a dependency on the shared module in the user module&#39;s gradle.build file as follows:\r\n```\r\ndependencies {\r\n    api(project(&quot;:shared&quot;)) // I have tried implementation also\r\n}\r\n```\r\n\r\nI am unable to run the project as I have a few other things to sort out also but IDEA is unable to resolve the types:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe GraphQL I&#39;m using is [Spring for GraphQL][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gCs9I.png\r\n  [2]: https://docs.spring.io/spring-graphql/docs/current/reference/html/","title":"Java GraphQL schema dependency across modules","body":"<p>I have a gradle project that is divided into multiple modules. There is a shared module that defines a root GraphQL schema that I want to expose to other modules but I'm not sure how to define this dependency in other modules. Also a requirement is that IntelliJ IDEA would be able to resolve the types in the other modules' GraphQL schema to their definitions in the shared module's schema.</p>\n<p>For example, my project has the following structure:</p>\n<pre><code>projectRoot\n  |-- shared/src/main/resources/graphql\n  |   `-- schema.graphql\n  |-- user/src/main/resources/graphql\n  |   `-- schema.graphql\n  `-- task/src/main/resources/graphql\n      `-- schema.graphql\n</code></pre>\n<p>In <code>shared/src/main/resources/graphql/schema.graphql</code> I have defined the following:</p>\n<pre><code>type Mutation {}\ntype Query {}\n</code></pre>\n<p>And in <code>user/src/main/resources/graphql/schema.graphql</code> I have defined the following:</p>\n<pre><code>extend type Mutation {}\nextend type Query {}\n</code></pre>\n<p>I have defined a dependency on the shared module in the user module's gradle.build file as follows:</p>\n<pre><code>dependencies {\n    api(project(&quot;:shared&quot;)) // I have tried implementation also\n}\n</code></pre>\n<p>I am unable to run the project as I have a few other things to sort out also but IDEA is unable to resolve the types:\n<a href=\"https://i.stack.imgur.com/gCs9I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gCs9I.png\" alt=\"enter image description here\" /></a></p>\n<p>The GraphQL I'm using is <a href=\"https://docs.spring.io/spring-graphql/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring for GraphQL</a></p>\n"},{"tags":["java","maven","save"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667366755,"post_id":74284644,"comment_id":131147698,"body_markdown":"&quot;I want this program to be usable on any computer, so saving the file on my local disk isn&#39;t ideal&quot; Isn&#39;t saving the data on the local disk of the computer it&#39;s running on exactly what you want in this case?","body":"&quot;I want this program to be usable on any computer, so saving the file on my local disk isn&#39;t ideal&quot; Isn&#39;t saving the data on the local disk of the computer it&#39;s running on exactly what you want in this case?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667368672,"post_id":74284644,"comment_id":131148032,"body_markdown":"[Java NIO.2](https://en.wikipedia.org/wiki/Non-blocking_I/O_%28Java%29#JDK_7_and_NIO.2) provides convenient ways to write files across various host OS platforms. Search Stack Overflow to learn more.","body":"<a href=\"https://en.wikipedia.org/wiki/Non-blocking_I/O_%28Java%29#JDK_7_and_NIO.2\" rel=\"nofollow noreferrer\">Java NIO.2</a> provides convenient ways to write files across various host OS platforms. Search Stack Overflow to learn more."}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667385081,"creation_date":1667385081,"answer_id":74287761,"question_id":74284644,"body_markdown":"You can use stream and buffered reader and writer for this purpose \r\n\r\n    InputStream inputStream = new FileInputStream(&quot;example.txt&quot;);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n    OutputStream outputStream = new FileOutputStream(&quot;example.txt&quot;);\r\n    BufferedWriter wr = new BufferedWriter(new OutputStreamWriter(outputStream));\r\n\r\nwhen you use this way, you can put the file in the same directory that your jar is, and also when writing it will create the file in the same directory that the jar is","title":"Best way for saving information from a program in Java","body":"<p>You can use stream and buffered reader and writer for this purpose</p>\n<pre><code>InputStream inputStream = new FileInputStream(&quot;example.txt&quot;);\nBufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\n\nOutputStream outputStream = new FileOutputStream(&quot;example.txt&quot;);\nBufferedWriter wr = new BufferedWriter(new OutputStreamWriter(outputStream));\n</code></pre>\n<p>when you use this way, you can put the file in the same directory that your jar is, and also when writing it will create the file in the same directory that the jar is</p>\n"}],"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667385081,"creation_date":1667366334,"question_id":74284644,"body_markdown":"I&#39;m using Maven to write a java program and this program will read information from a .txt file in src-&gt;main-&gt;resources folder. During the program, the user can modify the information read from the .txt file, and I want to write the updated information to the same .txt file at the end of the program, however, this is where I&#39;ve run into a problem.\r\n\r\nI read that you can&#39;t write to a file located inside the resources folder while the jar file is running. So, how would I save information from a program if I can&#39;t write to a file located inside the resources folder? Or, is there a way and I just don&#39;t know about it?\r\n\r\nKeep in mind, I want this program to be usable on any computer, so saving the file on my local disk isn&#39;t ideal.\r\n\r\nAny help is greatly appreciated!","title":"Best way for saving information from a program in Java","body":"<p>I'm using Maven to write a java program and this program will read information from a .txt file in src-&gt;main-&gt;resources folder. During the program, the user can modify the information read from the .txt file, and I want to write the updated information to the same .txt file at the end of the program, however, this is where I've run into a problem.</p>\n<p>I read that you can't write to a file located inside the resources folder while the jar file is running. So, how would I save information from a program if I can't write to a file located inside the resources folder? Or, is there a way and I just don't know about it?</p>\n<p>Keep in mind, I want this program to be usable on any computer, so saving the file on my local disk isn't ideal.</p>\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1667346064,"post_id":74282757,"comment_id":131144856,"body_markdown":"Does the data appear in the `List&lt;Data&gt;`?","body":"Does the data appear in the <code>List&lt;Data&gt;</code>?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1667346575,"post_id":74282757,"comment_id":131144957,"body_markdown":"Calling `refresh()` on the table is not required (it is also not the cause of your issue).","body":"Calling <code>refresh()</code> on the table is not required (it is also not the cause of your issue)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667346760,"post_id":74282757,"comment_id":131144983,"body_markdown":"`Paths.get(&quot;src/main/resources/kl/fla/decrypted.txt&quot;)` and using a file API, is not how you should [lookup resources](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other).","body":"<code>Paths.get(&quot;src&#47;main&#47;resources&#47;kl&#47;fla&#47;decrypted.txt&quot;)</code> and using a file API, is not how you should <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">lookup resources</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667346883,"post_id":74282757,"comment_id":131145006,"body_markdown":"Please provide the code for the `Data` class and a sample data file.","body":"Please provide the code for the <code>Data</code> class and a sample data file."},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1667378901,"post_id":74282757,"comment_id":131150713,"body_markdown":"Try calling `dataTable.getItems().addAll(...)` instead of `dataTable.setItems(...)`. I think your problem comes from here because your table binds values with a data list which has been replaced by the list you&#39;ve created; in other words, it binds to an empty list. But I need to be sure of that","body":"Try calling <code>dataTable.getItems().addAll(...)</code> instead of <code>dataTable.setItems(...)</code>. I think your problem comes from here because your table binds values with a data list which has been replaced by the list you&#39;ve created; in other words, it binds to an empty list. But I need to be sure of that"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1667385503,"post_id":74282757,"comment_id":131153055,"body_markdown":"@0009laH hmm .. what do you mean by _binds values with the data list_? don&#39;t see any such thingy. Populating the data as done here should simply work, doesn&#39;t matter whether addAll/setAll/setItems is used","body":"@0009laH hmm .. what do you mean by <i>binds values with the data list</i>? don&#39;t see any such thingy. Populating the data as done here should simply work, doesn&#39;t matter whether addAll/setAll/setItems is used"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1667409485,"post_id":74282757,"comment_id":131162272,"body_markdown":"@kleopatra To be more precise, &quot;your table binds the element `items` to an observable list which has been replaced by the list you have created&quot;. But the problem was elsewhere :)","body":"@kleopatra To be more precise, &quot;your table binds the element <code>items</code> to an observable list which has been replaced by the list you have created&quot;. But the problem was elsewhere :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667411304,"post_id":74282757,"comment_id":131162924,"body_markdown":"@0009laH _your table binds the element items to an observable list_ where exactly? I don&#39;t see anything like this, it&#39;s just replacing the value of the itemsProperty which is perfectly okay","body":"@0009laH <i>your table binds the element items to an observable list</i> where exactly? I don&#39;t see anything like this, it&#39;s just replacing the value of the itemsProperty which is perfectly okay"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1667482678,"post_id":74282757,"comment_id":131180549,"body_markdown":"@kleopatra Nowhere in this code, it was the default observable list which is instantiated with the table view.","body":"@kleopatra Nowhere in this code, it was the default observable list which is instantiated with the table view."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1667484452,"post_id":74282757,"comment_id":131181283,"body_markdown":"@0009laH doesn&#39;t whether it&#39;s the default or a replaced observable list - itemsProperty is mutable, table must (and does) cope with replacing it","body":"@0009laH doesn&#39;t whether it&#39;s the default or a replaced observable list - itemsProperty is mutable, table must (and does) cope with replacing it"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667384738,"creation_date":1667384738,"answer_id":74287681,"question_id":74282757,"body_markdown":"The data are (probably) there; you just can’t see them because you have constrained every row to be just one pixel high:\r\n\r\n    fixedCellSize=&quot;1.0&quot;\r\n\r\nRemove that attribute and just use the default setting, and it should work (assuming there are no other errors in code you haven’t posted).","title":"JavaFx TableView doesnt show data","body":"<p>The data are (probably) there; you just can’t see them because you have constrained every row to be just one pixel high:</p>\n<pre><code>fixedCellSize=&quot;1.0&quot;\n</code></pre>\n<p>Remove that attribute and just use the default setting, and it should work (assuming there are no other errors in code you haven’t posted).</p>\n"}],"owner":{"account_id":24349700,"reputation":35,"user_id":18285700,"display_name":"spinnning"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74287681,"answer_count":1,"score":0,"last_activity_date":1667384738,"creation_date":1667344503,"question_id":74282757,"body_markdown":"I know there are many questions about this, but the answers didn&#39;t solve my problem.\r\nI have a TableView with 4 columns. The data is read out of a txt file. \\\r\nIn the initialize method from the Controller the CellValueFactory is set, and another method is called, which reads the Data from the file and creates an observableList of the model.\r\nThen the list is added to the items of the table, but no data is displayed, and no placeholder is there. Does anyone know what is wrong?\r\n\r\n## Controller class\r\n```java\r\n@FXML\r\nprivate TableView&lt;Data&gt; dataTable;\r\n@FXML\r\nprivate TableColumn&lt;Data, String&gt; dataType;\r\n@FXML\r\nprivate TableColumn&lt;Data, String&gt; dataName;\r\n@FXML\r\nprivate TableColumn&lt;Data, String&gt; dataDate;\r\n@FXML\r\nprivate TableColumn&lt;Data, String&gt; dataInformation;\r\n\r\n\r\n@FXML\r\npublic void initialize() {\r\n    dataType.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataType()));\r\n    dataName.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataName()));\r\n    dataDate.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataDate()));\r\n    dataInformation.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataInformation()));\r\n    initData();\r\n}\r\n\r\nprivate void initData() {\r\n    ArrayList&lt;Data&gt; data = new ArrayList&lt;&gt;();\r\n    try {\r\n        Path filePath = Paths.get(&quot;src/main/resources/kl/fla/decrypted.txt&quot;);\r\n        if (filePath.toFile().exists()) {\r\n            data = (ArrayList&lt;Data&gt;) Files.readAllLines(filePath, StandardCharsets.UTF_8).stream()\r\n                    .map(Data::new).collect(Collectors.toList());\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    dataTable.setItems(FXCollections.observableArrayList(data));\r\n    dataTable.refresh();\r\n}\r\n``` \r\n## FXML File\r\n```xml\r\n&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; \r\n      prefWidth=&quot;1080.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;kl.fla.controller.TableController&quot;\r\n&gt;\r\n   &lt;children&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;393.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;70.0&quot; prefWidth=&quot;295.0&quot; text=&quot;Hidden Gate&quot;&gt;\r\n         &lt;font&gt; \r\n            &lt;Font size=&quot;48.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;TableView fx:id=&quot;dataTable&quot; fixedCellSize=&quot;1.0&quot; layoutX=&quot;36.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;439.0&quot; prefWidth=&quot;840.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;dataType&quot; prefWidth=&quot;135.0&quot; resizable=&quot;false&quot; text=&quot;Datatype&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;dataName&quot; minWidth=&quot;4.0&quot; prefWidth=&quot;135.0&quot; resizable=&quot;false&quot; text=&quot;Name&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;dataDate&quot; prefWidth=&quot;135.0&quot; resizable=&quot;false&quot; text=&quot;Date&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;dataInformation&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;285.0&quot; resizable=&quot;false&quot; text=&quot;Information&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n## Screenshot of the empty TableView\r\n[![Screenshot TableView][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GbxTB.png","title":"JavaFx TableView doesnt show data","body":"<p>I know there are many questions about this, but the answers didn't solve my problem.\nI have a TableView with 4 columns. The data is read out of a txt file. <br />\nIn the initialize method from the Controller the CellValueFactory is set, and another method is called, which reads the Data from the file and creates an observableList of the model.\nThen the list is added to the items of the table, but no data is displayed, and no placeholder is there. Does anyone know what is wrong?</p>\n<h2>Controller class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\nprivate TableView&lt;Data&gt; dataTable;\n@FXML\nprivate TableColumn&lt;Data, String&gt; dataType;\n@FXML\nprivate TableColumn&lt;Data, String&gt; dataName;\n@FXML\nprivate TableColumn&lt;Data, String&gt; dataDate;\n@FXML\nprivate TableColumn&lt;Data, String&gt; dataInformation;\n\n\n@FXML\npublic void initialize() {\n    dataType.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataType()));\n    dataName.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataName()));\n    dataDate.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataDate()));\n    dataInformation.setCellValueFactory(value -&gt; new SimpleStringProperty(value.getValue().getDataInformation()));\n    initData();\n}\n\nprivate void initData() {\n    ArrayList&lt;Data&gt; data = new ArrayList&lt;&gt;();\n    try {\n        Path filePath = Paths.get(&quot;src/main/resources/kl/fla/decrypted.txt&quot;);\n        if (filePath.toFile().exists()) {\n            data = (ArrayList&lt;Data&gt;) Files.readAllLines(filePath, StandardCharsets.UTF_8).stream()\n                    .map(Data::new).collect(Collectors.toList());\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    dataTable.setItems(FXCollections.observableArrayList(data));\n    dataTable.refresh();\n}\n</code></pre>\n<h2>FXML File</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; \n      prefWidth=&quot;1080.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;kl.fla.controller.TableController&quot;\n&gt;\n   &lt;children&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;393.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;70.0&quot; prefWidth=&quot;295.0&quot; text=&quot;Hidden Gate&quot;&gt;\n         &lt;font&gt; \n            &lt;Font size=&quot;48.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TableView fx:id=&quot;dataTable&quot; fixedCellSize=&quot;1.0&quot; layoutX=&quot;36.0&quot; layoutY=&quot;141.0&quot; prefHeight=&quot;439.0&quot; prefWidth=&quot;840.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;dataType&quot; prefWidth=&quot;135.0&quot; resizable=&quot;false&quot; text=&quot;Datatype&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;dataName&quot; minWidth=&quot;4.0&quot; prefWidth=&quot;135.0&quot; resizable=&quot;false&quot; text=&quot;Name&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;dataDate&quot; prefWidth=&quot;135.0&quot; resizable=&quot;false&quot; text=&quot;Date&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;dataInformation&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;285.0&quot; resizable=&quot;false&quot; text=&quot;Information&quot; /&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<h2>Screenshot of the empty TableView</h2>\n<p><a href=\"https://i.stack.imgur.com/GbxTB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GbxTB.png\" alt=\"Screenshot TableView\" /></a></p>\n"},{"tags":["java","android","nfc","mifare","ndef"],"answers":[{"tags":[],"owner":{"account_id":2822313,"reputation":40033,"user_id":2425802,"display_name":"Michael Roland"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1667384714,"creation_date":1486544748,"answer_id":42108779,"question_id":42105626,"body_markdown":"NTAG216 is an NFC Forum Type 2 tag. Consequently, you have to follow the NFC Forum [Type 2 Tag Operation specification](http://apps4android.org/nfc-specifications/NFCForum-TS-Type-2-Tag_1.1.pdf) when writing data to this type of NFC tag.\r\n\r\nTherefore, you will need to follow a few rules for a tag to be discoverable as NDEF tag (Type 2 tag):\r\n\r\nFirst, the capability container (located in block 3) needs to be configured.\r\n\r\n- Byte 0 must be set to the &quot;magic&quot; value `0xE1`.\r\n- Byte 1 must be set to `0x10` to indicate mapping version 1.0.\r\n- Byte 2 must be set to `0x6D` to indicate the memory size of NTAG216.\r\n- Byte 3 can be set to `0x00` to indicate read/write access to the NDEF data or to `0x0F` to indicate read-only access (note that these are permissions on the application layer).\r\n\r\nSo you can write the capability container as:\r\n\r\n    byte[] response = nfc.transceive(new byte[] {\r\n        (byte)0xA2, // WRITE\r\n        (byte)3,    // block address\r\n        (byte)0xE1, (byte)0x10, (byte)0x6D, (byte)0x00\r\n    });\r\n\r\nNTAG216 already ships with a properly configured capability container so there is no need to do this by hand. Also note that block 3 is one-time-programmable, which means that bits can only be set to one but cannot be cleared to zero again. So if you did already overwrite the capability container with a different value, the tag can most likely no longer be used as an NDEF tag.\r\n\r\nThe data must be written to the data blocks starting at block 4. NDEF messages must be wrapped into an NDEF message TLV (tag-length-value) structure. The tag for this TLV is `0x03`. The length can be either in one-byte format (for NDEF messages with a length between 0 and 254 bytes) or in three-byte format (for NDEF messages with a length of 255 or more bytes). The data of this TLV block is the actual NDEF message (that you can obtain from `ndefMessage.toByteArray()`).\r\n\r\nFor example, for the NDEF message `D1 01 0D 55 01 65 78 61 6D 70 6C 65 2E 63 6F 6D 2F` (which is a URI record with the URL &quot;http://www.example.com/&quot;), you would get the following TLV structure:\r\n&lt;pre&gt;\r\n03 11 D1010D55016578616D706C652E636F6D2F\r\n&lt;/pre&gt;\r\nIf you have alonger NDEF message (e.g. one with 259 bytes), you would use the three-byte length format:\r\n&lt;pre&gt;\r\n03 &lt;b&gt;&lt;i&gt;FF&lt;/i&gt;0103&lt;/b&gt; D101FF5501...\r\n&lt;/pre&gt;\r\n\r\nFurther, you should mark the end of the data on the tag with a Terminator TLV (tag `0xFE`, no length and data fields):\r\n&lt;pre&gt;\r\nFE\r\n&lt;/pre&gt;\r\n\r\nYou could then write this data to the tag as:\r\n\r\n    byte[] ndefMessage = new byte[] {\r\n        (byte)0xD1, (byte)0x01, (byte)0x0D, (byte)0x55, (byte)0x01, (byte)0x65, (byte)0x78, (byte)0x61, (byte)0x6D, (byte)0x70, (byte)0x6C, (byte)0x65, (byte)0x2E, (byte)0x63, (byte)0x6F, (byte)0x6D, (byte)0x2F\r\n    };\r\n\r\n    // wrap into TLV structure\r\n    byte[] tlvEncodedData = null;\r\n    if (ndefMessage.length &lt; 255) {\r\n        tlvEncodedData = new byte[ndefMessage.length + 3];\r\n        tlvEncodedData[0] = (byte)0x03;  // NDEF TLV tag\r\n        tlvEncodedData[1] = (byte)(ndefMessage.length &amp; 0x0FF);  // NDEF TLV length (1 byte)\r\n        System.arraycopy(ndefMessage, 0, tlvEncodedData, 2, ndefMessage.length);\r\n        tlvEncodedData[2 + ndefMessage.length] = (byte)0xFE;  // Terminator TLV tag\r\n    } else {\r\n        tlvEncodedData = new byte[ndefMessage.length + 5];\r\n        tlvEncodedData[0] = (byte)0x03;  // NDEF TLV tag\r\n        tlvEncodedData[1] = (byte)0xFF;  // NDEF TLV length (3 byte, marker)\r\n        tlvEncodedData[2] = (byte)((ndefMessage.length &gt;&gt;&gt; 8) &amp; 0x0FF);  // NDEF TLV length (3 byte, hi)\r\n        tlvEncodedData[3] = (byte)(ndefMessage.length &amp; 0x0FF);          // NDEF TLV length (3 byte, lo)\r\n        System.arraycopy(ndefMessage, 0, tlvEncodedData, 4, ndefMessage.length);\r\n        tlvEncodedData[4 + ndefMessage.length] = (byte)0xFE;  // Terminator TLV tag\r\n    }\r\n\r\n    // fill up with zeros to block boundary:\r\n    tlvEncodedData = Arrays.copyOf(tlvEncodedData, (tlvEncodedData.length / 4 + 1) * 4);\r\n    for (int i = 0; i &lt; tlvEncodedData.length; i += 4) {\r\n        byte[] command = new byte[] {\r\n            (byte)0xA2, // WRITE\r\n            (byte)((4 + i / 4) &amp; 0x0FF), // block address\r\n            0, 0, 0, 0\r\n        };\r\n        System.arraycopy(tlvEncodedData, i, command, 2, 4);\r\n        byte[] response = nfc.transceive(command);\r\n    }\r\n\r\nFinally, be aware that you can&#39;t use the tag as NDEF tag if you have read-password set on the NDEF data area since the NFC Forum Type 2 Tag Operation specification requires the tag to be freely readable.","title":"Writing NDEF data to NTAG216 tag using low-level NFC communication methods","body":"<p>NTAG216 is an NFC Forum Type 2 tag. Consequently, you have to follow the NFC Forum <a href=\"http://apps4android.org/nfc-specifications/NFCForum-TS-Type-2-Tag_1.1.pdf\" rel=\"nofollow noreferrer\">Type 2 Tag Operation specification</a> when writing data to this type of NFC tag.</p>\n<p>Therefore, you will need to follow a few rules for a tag to be discoverable as NDEF tag (Type 2 tag):</p>\n<p>First, the capability container (located in block 3) needs to be configured.</p>\n<ul>\n<li>Byte 0 must be set to the &quot;magic&quot; value <code>0xE1</code>.</li>\n<li>Byte 1 must be set to <code>0x10</code> to indicate mapping version 1.0.</li>\n<li>Byte 2 must be set to <code>0x6D</code> to indicate the memory size of NTAG216.</li>\n<li>Byte 3 can be set to <code>0x00</code> to indicate read/write access to the NDEF data or to <code>0x0F</code> to indicate read-only access (note that these are permissions on the application layer).</li>\n</ul>\n<p>So you can write the capability container as:</p>\n<pre><code>byte[] response = nfc.transceive(new byte[] {\n    (byte)0xA2, // WRITE\n    (byte)3,    // block address\n    (byte)0xE1, (byte)0x10, (byte)0x6D, (byte)0x00\n});\n</code></pre>\n<p>NTAG216 already ships with a properly configured capability container so there is no need to do this by hand. Also note that block 3 is one-time-programmable, which means that bits can only be set to one but cannot be cleared to zero again. So if you did already overwrite the capability container with a different value, the tag can most likely no longer be used as an NDEF tag.</p>\n<p>The data must be written to the data blocks starting at block 4. NDEF messages must be wrapped into an NDEF message TLV (tag-length-value) structure. The tag for this TLV is <code>0x03</code>. The length can be either in one-byte format (for NDEF messages with a length between 0 and 254 bytes) or in three-byte format (for NDEF messages with a length of 255 or more bytes). The data of this TLV block is the actual NDEF message (that you can obtain from <code>ndefMessage.toByteArray()</code>).</p>\n<p>For example, for the NDEF message <code>D1 01 0D 55 01 65 78 61 6D 70 6C 65 2E 63 6F 6D 2F</code> (which is a URI record with the URL &quot;http://www.example.com/&quot;), you would get the following TLV structure:</p>\n<pre>\n03 11 D1010D55016578616D706C652E636F6D2F\n</pre>\n<p>If you have alonger NDEF message (e.g. one with 259 bytes), you would use the three-byte length format:</p>\n<pre>\n03 <b><i>FF</i>0103</b> D101FF5501...\n</pre>\n<p>Further, you should mark the end of the data on the tag with a Terminator TLV (tag <code>0xFE</code>, no length and data fields):</p>\n<pre>\nFE\n</pre>\n<p>You could then write this data to the tag as:</p>\n<pre><code>byte[] ndefMessage = new byte[] {\n    (byte)0xD1, (byte)0x01, (byte)0x0D, (byte)0x55, (byte)0x01, (byte)0x65, (byte)0x78, (byte)0x61, (byte)0x6D, (byte)0x70, (byte)0x6C, (byte)0x65, (byte)0x2E, (byte)0x63, (byte)0x6F, (byte)0x6D, (byte)0x2F\n};\n\n// wrap into TLV structure\nbyte[] tlvEncodedData = null;\nif (ndefMessage.length &lt; 255) {\n    tlvEncodedData = new byte[ndefMessage.length + 3];\n    tlvEncodedData[0] = (byte)0x03;  // NDEF TLV tag\n    tlvEncodedData[1] = (byte)(ndefMessage.length &amp; 0x0FF);  // NDEF TLV length (1 byte)\n    System.arraycopy(ndefMessage, 0, tlvEncodedData, 2, ndefMessage.length);\n    tlvEncodedData[2 + ndefMessage.length] = (byte)0xFE;  // Terminator TLV tag\n} else {\n    tlvEncodedData = new byte[ndefMessage.length + 5];\n    tlvEncodedData[0] = (byte)0x03;  // NDEF TLV tag\n    tlvEncodedData[1] = (byte)0xFF;  // NDEF TLV length (3 byte, marker)\n    tlvEncodedData[2] = (byte)((ndefMessage.length &gt;&gt;&gt; 8) &amp; 0x0FF);  // NDEF TLV length (3 byte, hi)\n    tlvEncodedData[3] = (byte)(ndefMessage.length &amp; 0x0FF);          // NDEF TLV length (3 byte, lo)\n    System.arraycopy(ndefMessage, 0, tlvEncodedData, 4, ndefMessage.length);\n    tlvEncodedData[4 + ndefMessage.length] = (byte)0xFE;  // Terminator TLV tag\n}\n\n// fill up with zeros to block boundary:\ntlvEncodedData = Arrays.copyOf(tlvEncodedData, (tlvEncodedData.length / 4 + 1) * 4);\nfor (int i = 0; i &lt; tlvEncodedData.length; i += 4) {\n    byte[] command = new byte[] {\n        (byte)0xA2, // WRITE\n        (byte)((4 + i / 4) &amp; 0x0FF), // block address\n        0, 0, 0, 0\n    };\n    System.arraycopy(tlvEncodedData, i, command, 2, 4);\n    byte[] response = nfc.transceive(command);\n}\n</code></pre>\n<p>Finally, be aware that you can't use the tag as NDEF tag if you have read-password set on the NDEF data area since the NFC Forum Type 2 Tag Operation specification requires the tag to be freely readable.</p>\n"}],"owner":{"account_id":5272042,"reputation":185,"user_id":4210025,"accept_rate":100,"display_name":"phLamBy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4208,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":42108779,"answer_count":1,"score":4,"last_activity_date":1667384714,"creation_date":1486532918,"question_id":42105626,"body_markdown":"I have implemented the code to interact with an NTAG216 by means of low-level communication methods (following [NTAG212 Mifare Ultralight with Authentication](https://stackoverflow.com/a/22723250/2425802) and the datasheet of NTAG216).\r\n\r\n### What I have achieved so far:\r\n\r\n- Set password write protection on NTAG216 if not set or if new/blank tag.\r\n- If password is already set, authenticate using PWD_AUTH and comparing PACK.\r\n- Read data.\r\n- Write/overwrite data.\r\n  \r\n### What I haven&#39;t been able to do so far:\r\n\r\n- Detect NDEF messages that I write to the tag in other apps. In other words I&#39;m able to write to the tag using `writePage()` method and also read tags using `readPage()`. However, on time of writing pages I convert an `NdefMessage` into a byte array which can be read as well as written. However, this NDEF message is not detected in other applications.\r\n\r\nWhat do I need to do in order to be able to detect NDEF messages I write from other applications?","title":"Writing NDEF data to NTAG216 tag using low-level NFC communication methods","body":"<p>I have implemented the code to interact with an NTAG216 by means of low-level communication methods (following <a href=\"https://stackoverflow.com/a/22723250/2425802\">NTAG212 Mifare Ultralight with Authentication</a> and the datasheet of NTAG216).</p>\n\n<h3>What I have achieved so far:</h3>\n\n<ul>\n<li>Set password write protection on NTAG216 if not set or if new/blank tag.</li>\n<li>If password is already set, authenticate using PWD_AUTH and comparing PACK.</li>\n<li>Read data.</li>\n<li>Write/overwrite data.</li>\n</ul>\n\n<h3>What I haven't been able to do so far:</h3>\n\n<ul>\n<li>Detect NDEF messages that I write to the tag in other apps. In other words I'm able to write to the tag using <code>writePage()</code> method and also read tags using <code>readPage()</code>. However, on time of writing pages I convert an <code>NdefMessage</code> into a byte array which can be read as well as written. However, this NDEF message is not detected in other applications.</li>\n</ul>\n\n<p>What do I need to do in order to be able to detect NDEF messages I write from other applications?</p>\n"},{"tags":["java","selenium","selenium-webdriver","while-loop","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667384503,"creation_date":1667384503,"answer_id":74287638,"question_id":74287356,"body_markdown":"I can&#39;t give you tested answer, but I would suggest the following:  \r\nCount the amount of presented elements and scroll until this counter is less than the goal, as following:\r\n```java\r\ndriver.findElement(By.cssSelector(&quot;[class=&#39;btn btn-primary btn-alternate search-more&#39;]&quot;)).click();\r\n\r\nThread.sleep(2000);\r\nint goal = 100;\r\nint elementsCount = 0;\r\nList&lt;WebElement&gt; elements = driver.findElements(By.className(&quot;project-tile&quot;));\r\nelementsCount = elementsCount + elements.size();  \r\n\r\nwhile(elementsCount&lt;goal){\r\n    ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n    elements = driver.findElements(By.className(&quot;project-tile&quot;));\r\n    elementsCount = elementsCount + elements.size();\r\n}\r\n```","title":"Selenium: scroll page down until X number of elements is loaded (Java)","body":"<p>I can't give you tested answer, but I would suggest the following:<br />\nCount the amount of presented elements and scroll until this counter is less than the goal, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.cssSelector(&quot;[class='btn btn-primary btn-alternate search-more']&quot;)).click();\n\nThread.sleep(2000);\nint goal = 100;\nint elementsCount = 0;\nList&lt;WebElement&gt; elements = driver.findElements(By.className(&quot;project-tile&quot;));\nelementsCount = elementsCount + elements.size();  \n\nwhile(elementsCount&lt;goal){\n    ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\n    elements = driver.findElements(By.className(&quot;project-tile&quot;));\n    elementsCount = elementsCount + elements.size();\n}\n</code></pre>\n"}],"owner":{"account_id":18452672,"reputation":189,"user_id":13442349,"display_name":"PaulJK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74287638,"answer_count":1,"score":1,"last_activity_date":1667384536,"creation_date":1667383111,"question_id":74287356,"body_markdown":"I&#39;m using Selenium to read X number of elements from a website. The website initially opens with 21 elements + a &quot;see more&quot; button, upon clicking the button there&#39;s an extra batch of elements loaded and then another batch is loaded every time you scroll to the bottom of the page. What&#39;s the best way to keep scrolling down until e.g. 100 elements are loaded?\r\n\r\n```\r\ndriver.findElement(By.cssSelector(&quot;[class=&#39;btn btn-primary btn-alternate search-more&#39;]&quot;)).click();\r\n\r\nThread.sleep(2000);\r\n\r\n((JavascriptExecutor) driver)\r\n     .executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n\r\nList&lt;WebElement&gt; elements = driver.findElements(By.className(&quot;project-tile&quot;));\r\nint elementsCount = elements.size();     \r\n```","title":"Selenium: scroll page down until X number of elements is loaded (Java)","body":"<p>I'm using Selenium to read X number of elements from a website. The website initially opens with 21 elements + a &quot;see more&quot; button, upon clicking the button there's an extra batch of elements loaded and then another batch is loaded every time you scroll to the bottom of the page. What's the best way to keep scrolling down until e.g. 100 elements are loaded?</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;[class='btn btn-primary btn-alternate search-more']&quot;)).click();\n\nThread.sleep(2000);\n\n((JavascriptExecutor) driver)\n     .executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\n\nList&lt;WebElement&gt; elements = driver.findElements(By.className(&quot;project-tile&quot;));\nint elementsCount = elements.size();     \n</code></pre>\n"},{"tags":["java","capture"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1337861583,"post_id":10735619,"comment_id":13949340,"body_markdown":"Re your update (which is really a completely different question): **Whare are the details of the exception?** That&#39;s kind of important. :-) It will have useful information on it, telling you why an `IOException` has occurred. At a *guess*, I&#39;d say either `python` is not in your path, or `preintHello.py` is not in the current directory.","body":"Re your update (which is really a completely different question): <b>Whare are the details of the exception?</b> That&#39;s kind of important. :-) It will have useful information on it, telling you why an <code>IOException</code> has occurred. At a <i>guess</i>, I&#39;d say either <code>python</code> is not in your path, or <code>preintHello.py</code> is not in the current directory."},{"owner":{"account_id":1513057,"reputation":307,"user_id":1414696,"accept_rate":43,"display_name":"user1414696"},"score":0,"creation_date":1337862242,"post_id":10735619,"comment_id":13949615,"body_markdown":"The file is in the same directory. The absolute address is C:\\Users\\parth.k\\Documents\\printHello.py     As far as &#39;python&#39; is concerned, when I type &#39;python&#39; in my command prompt, it gives an error saying that &quot;it is not recognized as an internal or external command...&quot;   And, do you mean to say that if I print the details of the exception, we will be able to figure out the exact reason ?? In that case, I will print that and get back to you.","body":"The file is in the same directory. The absolute address is C:\\Users\\parth.k\\Documents\\printHello.py     As far as &#39;python&#39; is concerned, when I type &#39;python&#39; in my command prompt, it gives an error saying that &quot;it is not recognized as an internal or external command...&quot;   And, do you mean to say that if I print the details of the exception, we will be able to figure out the exact reason ?? In that case, I will print that and get back to you."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1337864100,"post_id":10735619,"comment_id":13950436,"body_markdown":"@ user: Yes, I mean that if you output the text of the exception, it will tell you what&#39;s wrong. But in your case, you already know: *&quot;...is not recognized as an internal or external command&quot;* So `python` isn&#39;t in your path and Java can&#39;t run it. That error message sounds like Windows, so this page should be helpful: http://docs.python.org/faq/windows.html#how-do-i-run-a-python-program-under-windows This part of things has nothing to do with Java or your original question.","body":"@ user: Yes, I mean that if you output the text of the exception, it will tell you what&#39;s wrong. But in your case, you already know: <i>&quot;...is not recognized as an internal or external command&quot;</i> So <code>python</code> isn&#39;t in your path and Java can&#39;t run it. That error message sounds like Windows, so this page should be helpful: <a href=\"http://docs.python.org/faq/windows.html#how-do-i-run-a-python-program-under-windows\" rel=\"nofollow noreferrer\">docs.python.org/faq/&hellip;</a> This part of things has nothing to do with Java or your original question."}],"answers":[{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337855299,"creation_date":1337855299,"answer_id":10735669,"question_id":10735619,"body_markdown":"You can connect to the error and inputStream, while Using `Runtime.exec()` oder `ProcessBuilder`.\r\n\r\nExamples can be found here:\r\nhttp://www.java-tips.org/java-se-tips/java.util/from-runtime.exec-to-processbuilder.html\r\n","title":"Capture the output of DOS (command prompt) and display in a JAVA Frame","body":"<p>You can connect to the error and inputStream, while Using <code>Runtime.exec()</code> oder <code>ProcessBuilder</code>.</p>\n\n<p>Examples can be found here:\n<a href=\"http://www.java-tips.org/java-se-tips/java.util/from-runtime.exec-to-processbuilder.html\" rel=\"nofollow\">http://www.java-tips.org/java-se-tips/java.util/from-runtime.exec-to-processbuilder.html</a></p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337856323,"creation_date":1337855309,"answer_id":10735673,"question_id":10735619,"body_markdown":"You can execute the process via a [`ProcessBuilder`][1], which will give you a [`Process`][2] instance on which you can read the output via the stream returned from [`getInputStream`][3].\r\n\r\nHere&#39;s an example that runs the Python script `hello.py` and builds up its output in a string:\r\n\r\n    import java.io.Reader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class RunPython {\r\n        public static final void main(String[] args) {\r\n            ProcessBuilder  pb;\r\n            Process         p;\r\n            Reader          r;\r\n            StringBuilder   sb;\r\n            int             ch;\r\n    \r\n            // Start the process, build up its output in a string\r\n            sb = new StringBuilder(2000);\r\n            try {\r\n                // Create the process and start it\r\n                pb = new ProcessBuilder(&quot;python&quot;, &quot;hello.py&quot;);\r\n                p = pb.start();\r\n\r\n                // Get access to its output\r\n                r = new InputStreamReader(p.getInputStream());\r\n\r\n                // Read until we run out of output\r\n                while ((ch = r.read()) != -1) {\r\n                    sb.append((char)ch);\r\n                }\r\n            }\r\n            catch (IOException ex) {\r\n                // Handle the I/O exception appropriately.\r\n                // Here I just dump it out, which is not appropriate\r\n                // for real apps.\r\n                System.err.println(&quot;Exception: &quot; + ex.getMessage());\r\n                System.exit(-1);\r\n            }\r\n    \r\n            // Do what you want with the string; in this case, I&#39;ll output\r\n            // it to stdout\r\n            System.out.println(&quot;Process said: &quot; + sb);\r\n        }\r\n    }\r\n\r\nYou can then do whatever you like with the string, including putting it in the `JTextArea` like any other string. (You could use a `BufferedReader` around the `InputStreamReader` if you like, but you get the idea.)\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getInputStream%28%29\r\n","title":"Capture the output of DOS (command prompt) and display in a JAVA Frame","body":"<p>You can execute the process via a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow\"><code>ProcessBuilder</code></a>, which will give you a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html\" rel=\"nofollow\"><code>Process</code></a> instance on which you can read the output via the stream returned from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getInputStream%28%29\" rel=\"nofollow\"><code>getInputStream</code></a>.</p>\n\n<p>Here's an example that runs the Python script <code>hello.py</code> and builds up its output in a string:</p>\n\n<pre><code>import java.io.Reader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class RunPython {\n    public static final void main(String[] args) {\n        ProcessBuilder  pb;\n        Process         p;\n        Reader          r;\n        StringBuilder   sb;\n        int             ch;\n\n        // Start the process, build up its output in a string\n        sb = new StringBuilder(2000);\n        try {\n            // Create the process and start it\n            pb = new ProcessBuilder(\"python\", \"hello.py\");\n            p = pb.start();\n\n            // Get access to its output\n            r = new InputStreamReader(p.getInputStream());\n\n            // Read until we run out of output\n            while ((ch = r.read()) != -1) {\n                sb.append((char)ch);\n            }\n        }\n        catch (IOException ex) {\n            // Handle the I/O exception appropriately.\n            // Here I just dump it out, which is not appropriate\n            // for real apps.\n            System.err.println(\"Exception: \" + ex.getMessage());\n            System.exit(-1);\n        }\n\n        // Do what you want with the string; in this case, I'll output\n        // it to stdout\n        System.out.println(\"Process said: \" + sb);\n    }\n}\n</code></pre>\n\n<p>You can then do whatever you like with the string, including putting it in the <code>JTextArea</code> like any other string. (You could use a <code>BufferedReader</code> around the <code>InputStreamReader</code> if you like, but you get the idea.)</p>\n"}],"owner":{"account_id":1513057,"reputation":307,"user_id":1414696,"accept_rate":43,"display_name":"user1414696"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2729,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667384411,"creation_date":1337855121,"question_id":10735619,"body_markdown":"When I run a python script, the output appears on the DOS ( command prompt in Windows ).\r\n\r\nI want the output be displayed on a JAVA Application, i.e. on a window which contians JTextArea. The output should be same as that on the DOS. \r\n\r\nSo, **How do I capture the output from the DOS and insert it into JAVA Application ??**\r\n\r\n(I tried storing output of the python script in a text file and then reading it using JAVA. But, in that case, the JAVA application waits for the script to finish running first and then displays the output. And, when the output is more than the screen size, a scroll bar appeears, so that I can see the entire output.)\r\n\r\n-----\r\nAfter crowder&#39;s comment, I ran this code. but the output is always:\r\n\r\nerror:\r\nProcess said:\r\n\r\n\r\n    import java.io.*;\r\n    import java.lang.*;\r\n    import java.util.*;\r\n    class useGobbler {\r\n    \t    public static void main ( String args[] )\r\n\t        {\r\n\t  \t    ProcessBuilder pb; \r\n\t\t    Process p;\r\n\t\t    Reader r;\r\n\t\t    StringBuilder sb;\r\n\t\t    int ch;\r\n\r\n\t\t    sb = new StringBuilder(2000);\r\n\r\n\t\t    try\r\n\t\t    {\r\n\t\t    \tpb = new ProcessBuilder(&quot;python&quot;,&quot;printHello.py&quot;);\r\n\t\t    \tp = pb.start();\r\n    \r\n    \t\t\tr = new InputStreamReader(p.getInputStream());\r\n\t\t\t    while((ch =r.read() ) != -1)\r\n\t\t    \t{\r\n\t\t    \t\tsb.append((char)ch);\r\n\t\t    \t}\r\n\t\t\t\t\t\r\n\t  \t    }\r\n\t\t    catch(IOException e)\r\n\t\t    {\r\n\t\t    \tSystem.out.println(&quot;error&quot;);\r\n\r\n\t\t    }\r\n\t\r\n\t\t    System.out.println(&quot;Process said:&quot; + sb);\r\n \t    }\r\n    }\r\n\r\nCan anyone tell me what am I doing wrong ??","title":"Capture the output of DOS (command prompt) and display in a JAVA Frame","body":"<p>When I run a python script, the output appears on the DOS ( command prompt in Windows ).</p>\n\n<p>I want the output be displayed on a JAVA Application, i.e. on a window which contians JTextArea. The output should be same as that on the DOS. </p>\n\n<p>So, <strong>How do I capture the output from the DOS and insert it into JAVA Application ??</strong></p>\n\n<p>(I tried storing output of the python script in a text file and then reading it using JAVA. But, in that case, the JAVA application waits for the script to finish running first and then displays the output. And, when the output is more than the screen size, a scroll bar appeears, so that I can see the entire output.)</p>\n\n<hr>\n\n<p>After crowder's comment, I ran this code. but the output is always:</p>\n\n<p>error:\nProcess said:</p>\n\n<pre><code>import java.io.*;\nimport java.lang.*;\nimport java.util.*;\nclass useGobbler {\n        public static void main ( String args[] )\n        {\n        ProcessBuilder pb; \n        Process p;\n        Reader r;\n        StringBuilder sb;\n        int ch;\n\n        sb = new StringBuilder(2000);\n\n        try\n        {\n            pb = new ProcessBuilder(\"python\",\"printHello.py\");\n            p = pb.start();\n\n            r = new InputStreamReader(p.getInputStream());\n            while((ch =r.read() ) != -1)\n            {\n                sb.append((char)ch);\n            }\n\n        }\n        catch(IOException e)\n        {\n            System.out.println(\"error\");\n\n        }\n\n        System.out.println(\"Process said:\" + sb);\n    }\n}\n</code></pre>\n\n<p>Can anyone tell me what am I doing wrong ??</p>\n"},{"tags":["java","networking","dns","inetaddress"],"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1667223856,"post_id":74259441,"comment_id":131112856,"body_markdown":"&quot;But I&#39;m unable to get all hostnames via IP&quot; There is no guarantee that all IP addresses have `PTR` records, nor that this maps to the same name as a forward query on the name. Also what you wrote is a DNS client, not a server. Except for learning, I recommend you use whatever DNS library exists in your language of choice to avoid having to handle all the difficult parts of DNS (ex: name compression). That won&#39;t change the above conclusion though about `PTR` records. You also need to test the type of records you got back before trying to parse them.","body":"&quot;But I&#39;m unable to get all hostnames via IP&quot; There is no guarantee that all IP addresses have <code>PTR</code> records, nor that this maps to the same name as a forward query on the name. Also what you wrote is a DNS client, not a server. Except for learning, I recommend you use whatever DNS library exists in your language of choice to avoid having to handle all the difficult parts of DNS (ex: name compression). That won&#39;t change the above conclusion though about <code>PTR</code> records. You also need to test the type of records you got back before trying to parse them."},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667225463,"post_id":74259441,"comment_id":131113508,"body_markdown":"Thanks for the answer. Now I&#39;m trying with dnsjava library but [I&#39;m unable to retrieve the host name by IP](https://stackoverflow.com/questions/74264551/how-to-retrieve-the-host-name-by-ip-with-dnsjava-library): do you know what&#39;s wrong?","body":"Thanks for the answer. Now I&#39;m trying with dnsjava library but <a href=\"https://stackoverflow.com/questions/74264551/how-to-retrieve-the-host-name-by-ip-with-dnsjava-library\">I&#39;m unable to retrieve the host name by IP</a>: do you know what&#39;s wrong?"},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1667229992,"post_id":74259441,"comment_id":131115299,"body_markdown":"The answer is still the same as above: not all IP addresses have `PTR` records.","body":"The answer is still the same as above: not all IP addresses have <code>PTR</code> records."}],"answers":[{"tags":[],"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667383914,"creation_date":1667286370,"answer_id":74272565,"question_id":74259441,"body_markdown":"In the end, I used the [dnsjava library](https://github.com/dnsjava/dnsjava) because creating this component with the java.net.DatagramSocket class is too complicated. This is the component I created:\r\n\r\n```java\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Supplier;\r\n\r\nimport org.burningwave.tools.net.HostResolver;\r\nimport org.xbill.DNS.AAAARecord;\r\nimport org.xbill.DNS.ARecord;\r\nimport org.xbill.DNS.Name;\r\nimport org.xbill.DNS.Record;\r\nimport org.xbill.DNS.ReverseMap;\r\nimport org.xbill.DNS.SimpleResolver;\r\nimport org.xbill.DNS.TextParseException;\r\nimport org.xbill.DNS.Type;\r\nimport org.xbill.DNS.lookup.LookupResult;\r\nimport org.xbill.DNS.lookup.LookupSession;\r\n\r\npublic class DNSJavaHostResolver implements HostResolver {\r\n\r\n\tprivate LookupSession lookupSession;\r\n\r\n\tpublic DNSJavaHostResolver(String dNSServerIP) {\r\n\t\ttry {\r\n\t\t\tlookupSession = LookupSession.builder().resolver(\r\n\t\t\t\tnew SimpleResolver(InetAddress.getByName(dNSServerIP))\r\n\t\t\t).build();\r\n\t\t} catch (UnknownHostException exc) {\r\n\t\t\tsneakyThrow(exc);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;InetAddress&gt; getAllAddressesForHostName(Map&lt;String, Object&gt; argumentsMap) {\r\n\t\tCollection&lt;InetAddress&gt; hostInfos = new ArrayList&lt;&gt;();\r\n\t\tString hostName = (String)getMethodArguments(argumentsMap)[0];\r\n\t\tfindAndProcessHostInfos(\r\n\t\t\t() -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn Name.fromString(hostName.endsWith(&quot;.&quot;) ? hostName : hostName + &quot;.&quot;);\r\n\t\t\t\t} catch (TextParseException exc) {\r\n\t\t\t\t\treturn sneakyThrow(exc);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trecord -&gt; {\r\n\t\t\t\tif (record instanceof ARecord) {\r\n\t\t\t\t\thostInfos.add(((ARecord)record).getAddress());\r\n\t\t\t\t} else if (record instanceof AAAARecord) {\r\n\t\t\t\t\thostInfos.add(((AAAARecord)record).getAddress());\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tType.A, Type.AAAA\r\n\t\t);\r\n\t\treturn hostInfos;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic Collection&lt;String&gt; getAllHostNamesForHostAddress(Map&lt;String, Object&gt; argumentsMap) {\r\n\t\tCollection&lt;String&gt; hostNames = new ArrayList&lt;&gt;();\r\n\t\tfindAndProcessHostInfos(\r\n\t\t\t() -&gt;\r\n\t\t\t\tReverseMap.fromAddress((byte[])getMethodArguments(argumentsMap)[0]),\r\n\t\t\trecord -&gt;\r\n\t\t\t\thostNames.add(((PTRRecord)record).getTarget().toString(true)),\r\n\t\t\tType.PTR\r\n\t\t);\r\n\t\treturn hostNames;\r\n\t}\r\n\r\n\tprivate void findAndProcessHostInfos(\r\n\t\tSupplier&lt;Name&gt; nameSupplier,\r\n\t\tConsumer&lt;Record&gt; recordProcessor,\r\n\t\tint... types\r\n\t) {\r\n    \tCollection&lt;CompletableFuture&lt;LookupResult&gt;&gt; hostInfoRetrievers = new ArrayList&lt;&gt;();\r\n    \tfor (int type : types) {\r\n    \t\thostInfoRetrievers.add(\r\n\t\t\t\tlookupSession.lookupAsync(nameSupplier.get(), type).toCompletableFuture()\r\n\t\t\t);\r\n    \t}\r\n    \thostInfoRetrievers.stream().forEach(hostNamesRetriever -&gt; {\r\n    \t\ttry {\r\n    \t\t\tList&lt;Record&gt; records = hostNamesRetriever.join().getRecords();\r\n    \t\t\tif (records != null) {\r\n    \t\t\t\tfor (Record record : records) {\r\n    \t\t\t\t\trecordProcessor.accept(record);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Throwable exc) {\r\n\r\n    \t\t}\r\n    \t});\r\n\t}\r\n\r\n    private &lt;T&gt; T sneakyThrow(Throwable exc) {\r\n        throwException(exc);\r\n        return null;\r\n    }\r\n\r\n\r\n    private &lt;E extends Throwable&gt; void throwException(Throwable exc) throws E {\r\n        throw (E)exc;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this the code to add it to the HostResolutionRequestInterceptor:\r\n```java\r\nHostResolutionRequestInterceptor.INSTANCE.install(\r\n\tnew DNSJavaHostResolver(&quot;208.67.222.222&quot;),//Open DNS server\r\n\tnew DNSJavaHostResolver(&quot;208.67.222.220&quot;),//Open DNS server\r\n\tDefaultHostResolver.INSTANCE\r\n);\r\nInetAddress inetAddress = InetAddress.getByName(&quot;stackoverflow.com&quot;);\r\n```","title":"How to write a DNS server connection based host resolver in Java?","body":"<p>In the end, I used the <a href=\"https://github.com/dnsjava/dnsjava\" rel=\"nofollow noreferrer\">dnsjava library</a> because creating this component with the java.net.DatagramSocket class is too complicated. This is the component I created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.function.Consumer;\nimport java.util.function.Supplier;\n\nimport org.burningwave.tools.net.HostResolver;\nimport org.xbill.DNS.AAAARecord;\nimport org.xbill.DNS.ARecord;\nimport org.xbill.DNS.Name;\nimport org.xbill.DNS.Record;\nimport org.xbill.DNS.ReverseMap;\nimport org.xbill.DNS.SimpleResolver;\nimport org.xbill.DNS.TextParseException;\nimport org.xbill.DNS.Type;\nimport org.xbill.DNS.lookup.LookupResult;\nimport org.xbill.DNS.lookup.LookupSession;\n\npublic class DNSJavaHostResolver implements HostResolver {\n\n    private LookupSession lookupSession;\n\n    public DNSJavaHostResolver(String dNSServerIP) {\n        try {\n            lookupSession = LookupSession.builder().resolver(\n                new SimpleResolver(InetAddress.getByName(dNSServerIP))\n            ).build();\n        } catch (UnknownHostException exc) {\n            sneakyThrow(exc);\n        }\n    }\n\n    @Override\n    public Collection&lt;InetAddress&gt; getAllAddressesForHostName(Map&lt;String, Object&gt; argumentsMap) {\n        Collection&lt;InetAddress&gt; hostInfos = new ArrayList&lt;&gt;();\n        String hostName = (String)getMethodArguments(argumentsMap)[0];\n        findAndProcessHostInfos(\n            () -&gt; {\n                try {\n                    return Name.fromString(hostName.endsWith(&quot;.&quot;) ? hostName : hostName + &quot;.&quot;);\n                } catch (TextParseException exc) {\n                    return sneakyThrow(exc);\n                }\n            },\n            record -&gt; {\n                if (record instanceof ARecord) {\n                    hostInfos.add(((ARecord)record).getAddress());\n                } else if (record instanceof AAAARecord) {\n                    hostInfos.add(((AAAARecord)record).getAddress());\n                }\n            },\n            Type.A, Type.AAAA\n        );\n        return hostInfos;\n    }\n\n\n    @Override\n    public Collection&lt;String&gt; getAllHostNamesForHostAddress(Map&lt;String, Object&gt; argumentsMap) {\n        Collection&lt;String&gt; hostNames = new ArrayList&lt;&gt;();\n        findAndProcessHostInfos(\n            () -&gt;\n                ReverseMap.fromAddress((byte[])getMethodArguments(argumentsMap)[0]),\n            record -&gt;\n                hostNames.add(((PTRRecord)record).getTarget().toString(true)),\n            Type.PTR\n        );\n        return hostNames;\n    }\n\n    private void findAndProcessHostInfos(\n        Supplier&lt;Name&gt; nameSupplier,\n        Consumer&lt;Record&gt; recordProcessor,\n        int... types\n    ) {\n        Collection&lt;CompletableFuture&lt;LookupResult&gt;&gt; hostInfoRetrievers = new ArrayList&lt;&gt;();\n        for (int type : types) {\n            hostInfoRetrievers.add(\n                lookupSession.lookupAsync(nameSupplier.get(), type).toCompletableFuture()\n            );\n        }\n        hostInfoRetrievers.stream().forEach(hostNamesRetriever -&gt; {\n            try {\n                List&lt;Record&gt; records = hostNamesRetriever.join().getRecords();\n                if (records != null) {\n                    for (Record record : records) {\n                        recordProcessor.accept(record);\n                    }\n                }\n            } catch (Throwable exc) {\n\n            }\n        });\n    }\n\n    private &lt;T&gt; T sneakyThrow(Throwable exc) {\n        throwException(exc);\n        return null;\n    }\n\n\n    private &lt;E extends Throwable&gt; void throwException(Throwable exc) throws E {\n        throw (E)exc;\n    }\n\n}\n</code></pre>\n<p>And this the code to add it to the HostResolutionRequestInterceptor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HostResolutionRequestInterceptor.INSTANCE.install(\n    new DNSJavaHostResolver(&quot;208.67.222.222&quot;),//Open DNS server\n    new DNSJavaHostResolver(&quot;208.67.222.220&quot;),//Open DNS server\n    DefaultHostResolver.INSTANCE\n);\nInetAddress inetAddress = InetAddress.getByName(&quot;stackoverflow.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74272565,"answer_count":1,"score":1,"last_activity_date":1667383914,"creation_date":1667197459,"question_id":74259441,"body_markdown":"By reading [this article](https://levelup.gitconnected.com/dns-response-in-java-a6298e3cc7d9) I was able to partially write a DNS server query based resolver that I added to the [HostResolutionRequestInterceptor](https://burningwave.github.io/tools/#configuring-host-resolution) component.\r\n\r\nBut I&#39;m unable to get all hostnames via IP using java.net.DatagramSocket and I can&#39;t implement the `getAllHostNamesForHostAddress` of the `HostResolver` interface. This is the component I wrote:\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.net.UnknownHostException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Random;\r\n\r\nimport org.burningwave.tools.net.HostResolver;\r\nimport org.burningwave.tools.net.IPAddressUtil;\r\n\r\npublic class IPV4DNSServerHostResolver implements HostResolver {\r\n\tprivate static Random requestIdGenerator;\r\n\r\n\tstatic {\r\n\t\trequestIdGenerator = new Random();\r\n\t}\r\n\r\n\tprivate InetAddress dNSServerIP;\r\n\tprivate int dNSServerPort;\r\n\r\n\tpublic IPV4DNSServerHostResolver(String dNSServerIP, int dNSServerPort) throws UnknownHostException {\r\n\t\tthis.dNSServerIP = InetAddress.getByName(dNSServerIP);\r\n\t\tthis.dNSServerPort = dNSServerPort;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;InetAddress&gt; getAllAddressesForHostName(Map&lt;String, Object&gt; argumentsMap) {\r\n\t\treturn resolveHostForName((String)getMethodArguments(argumentsMap)[0]);\r\n\t}\r\n\r\n\tpublic Collection&lt;InetAddress&gt; resolveHostForName(String hostName) {\r\n\t\ttry {\r\n\t\t\tCollection&lt;InetAddress&gt; addresses = new ArrayList&lt;&gt;();\r\n\t\t\tbyte[] response = sendRequest(hostName);\r\n\t        Map&lt;String, String&gt; iPToDomainMap = parseResponse(response);\r\n\t        for (Map.Entry&lt;String, String&gt; iPToDomain : iPToDomainMap.entrySet()) {\r\n\t        \taddresses.add(InetAddress.getByAddress(iPToDomain.getValue(), IPAddressUtil.INSTANCE.textToNumericFormat(iPToDomain.getKey())));\r\n\t        }\r\n\t        return addresses;\r\n\t\t} catch (Throwable exc) {\r\n\t\t\treturn sneakyThrow(exc);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate byte[] sendRequest(String hostName) throws IOException, SocketException {\r\n\t\tshort ID = (short)requestIdGenerator.nextInt(32767);\r\n\t\ttry (\r\n\t\t\tByteArrayOutputStream requestContentStream = new ByteArrayOutputStream();\r\n\t\t\tDataOutputStream requestWrapper = new DataOutputStream(requestContentStream);\r\n\t\t) {\r\n\t\t\tshort requestFlags = Short.parseShort(&quot;0000000100000000&quot;, 2);\r\n\t\t\tByteBuffer byteBuffer = ByteBuffer.allocate(2).putShort(requestFlags);\r\n\t\t\tbyte[] flagsByteArray = byteBuffer.array();\r\n\r\n\t\t\tshort QDCOUNT = 1;\r\n\t\t\tshort ANCOUNT = 0;\r\n\t\t\tshort NSCOUNT = 0;\r\n\t\t\tshort ARCOUNT = 0;\r\n\r\n\t\t\trequestWrapper.writeShort(ID);\r\n\t\t\trequestWrapper.write(flagsByteArray);\r\n\t\t\trequestWrapper.writeShort(QDCOUNT);\r\n\t\t\trequestWrapper.writeShort(ANCOUNT);\r\n\t\t\trequestWrapper.writeShort(NSCOUNT);\r\n\t\t\trequestWrapper.writeShort(ARCOUNT);\r\n\r\n\t\t\tString[] domainParts = hostName.split(&quot;\\\\.&quot;);\r\n\r\n\t\t\tfor (int i = 0; i &lt; domainParts.length; i++) {\r\n\t\t\t    byte[] domainBytes = domainParts[i].getBytes(StandardCharsets.UTF_8);\r\n\t\t\t    requestWrapper.writeByte(domainBytes.length);\r\n\t\t\t    requestWrapper.write(domainBytes);\r\n\t\t\t}\r\n\t\t\trequestWrapper.writeByte(0);\r\n\t\t\trequestWrapper.writeShort(1);\r\n\t\t\trequestWrapper.writeShort(1);\r\n\t\t\tbyte[] dnsFrame = requestContentStream.toByteArray();\r\n\t\t\tDatagramPacket packet;\r\n\t\t\tbyte[] response;\r\n\t\t\ttry (DatagramSocket socket = new DatagramSocket()){\r\n\t\t\t    DatagramPacket dnsReqPacket = new DatagramPacket(dnsFrame, dnsFrame.length, dNSServerIP, dNSServerPort);\r\n\t\t\t    socket.send(dnsReqPacket);\r\n\t\t\t    response = new byte[1024];\r\n\t\t\t    packet = new DatagramPacket(response, response.length);\r\n\t\t\t    socket.receive(packet);\r\n\t\t\t}\r\n\t\t\treturn response;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Map&lt;String, String&gt; parseResponse(byte[] responseContent) throws IOException {\r\n\t\ttry (InputStream responseContentStream = new ByteArrayInputStream(responseContent);\r\n\t\t\tDataInputStream responseWrapper = new DataInputStream(responseContentStream)\r\n\t\t) {\r\n\t\t\tresponseWrapper.skip(6);\r\n\t\t\tshort ANCOUNT = responseWrapper.readShort();\r\n\t\t\tresponseWrapper.skip(4);\r\n\t\t\tint recLen;\r\n\t\t\twhile ((recLen = responseWrapper.readByte()) &gt; 0) {\r\n\t\t\t    byte[] record = new byte[recLen];\r\n\t\t\t    for (int i = 0; i &lt; recLen; i++) {\r\n\t\t\t        record[i] = responseWrapper.readByte();\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t\tresponseWrapper.skip(4);\r\n\t\t\tbyte firstBytes = responseWrapper.readByte();\r\n\t\t\tint firstTwoBits = (firstBytes &amp; 0b11000000) &gt;&gt;&gt; 6;\r\n\t\t\tMap&lt;String, String&gt; ipToDomainMap = new HashMap&lt;&gt;();\r\n\t\t\ttry (ByteArrayOutputStream label = new ByteArrayOutputStream();) {\r\n\t\t\t\tfor(int i = 0; i &lt; ANCOUNT; i++) {\r\n\t\t\t\t    if(firstTwoBits == 3) {\r\n\t\t\t\t        byte currentByte = responseWrapper.readByte();\r\n\t\t\t\t        boolean stop = false;\r\n\t\t\t\t        byte[] newArray = Arrays.copyOfRange(responseContent, currentByte, responseContent.length);\r\n\t\t\t\t        try (InputStream responseSectionContentStream = new ByteArrayInputStream(newArray);\r\n\t\t\t        \t\tDataInputStream responseSectionWrapper = new DataInputStream(responseSectionContentStream);\r\n\t\t        \t\t) {\r\n\t\t\t\t\t        ArrayList&lt;Integer&gt; RDATA = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t        ArrayList&lt;String&gt; DOMAINS = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t        while(!stop) {\r\n\t\t\t\t\t            byte nextByte = responseSectionWrapper.readByte();\r\n\t\t\t\t\t            if(nextByte != 0) {\r\n\t\t\t\t\t                byte[] currentLabel = new byte[nextByte];\r\n\t\t\t\t\t                for(int j = 0; j &lt; nextByte; j++) {\r\n\t\t\t\t\t                    currentLabel[j] = responseSectionWrapper.readByte();\r\n\t\t\t\t\t                }\r\n\t\t\t\t\t                label.write(currentLabel);\r\n\t\t\t\t\t            } else {\r\n\t\t\t\t\t                stop = true;\r\n\t\t\t\t\t                responseWrapper.skip(8);\r\n\t\t\t\t\t                int RDLENGTH = responseWrapper.readShort();\r\n\t\t\t\t\t                for(int s = 0; s &lt; RDLENGTH; s++) {\r\n\t\t\t\t\t                    int nx = responseWrapper.readByte() &amp; 255;\r\n\t\t\t\t\t                    RDATA.add(nx);\r\n\t\t\t\t\t                }\r\n\t\t\t\t\t            }\r\n\t\t\t\t\t            DOMAINS.add(new String( label.toByteArray(), StandardCharsets.UTF_8));\r\n\t\t\t\t\t            label.reset();\r\n\t\t\t\t\t        }\r\n\r\n\t\t\t\t\t        StringBuilder ip = new StringBuilder();\r\n\t\t\t\t\t        StringBuilder domainSb = new StringBuilder();\r\n\t\t\t\t\t        for(Integer ipPart:RDATA) {\r\n\t\t\t\t\t            ip.append(ipPart).append(&quot;.&quot;);\r\n\t\t\t\t\t        }\r\n\r\n\t\t\t\t\t        for(String domainPart:DOMAINS) {\r\n\t\t\t\t\t            if(!domainPart.equals(&quot;&quot;)) {\r\n\t\t\t\t\t                domainSb.append(domainPart).append(&quot;.&quot;);\r\n\t\t\t\t\t            }\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t        String domainFinal = domainSb.toString();\r\n\t\t\t\t\t        String ipFinal = ip.toString();\r\n\t\t\t\t\t        ipToDomainMap.put(ipFinal.substring(0, ipFinal.length()-1), domainFinal.substring(0, domainFinal.length()-1));\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\r\n\t\t\t\t    firstBytes = responseWrapper.readByte();\r\n\t\t\t\t    firstTwoBits = (firstBytes &amp; 0b11000000) &gt;&gt;&gt; 6;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ipToDomainMap;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;String&gt; getAllHostNamesForHostAddress(Map&lt;String, Object&gt; argumentsMap) {\r\n\t\tbyte[] addressAsByteArray = (byte[])getMethodArguments(argumentsMap)[0];\r\n\t\tString iPAddress = IPAddressUtil.INSTANCE.numericToTextFormat(addressAsByteArray);\r\n\t\t//To be implemented\r\n\t\treturn sneakyThrow(new UnknownHostException(iPAddress));\r\n\t}\r\n\r\n    private &lt;T&gt; T sneakyThrow(Throwable exc) {\r\n        throwException(exc);\r\n        return null;\r\n    }\r\n\r\n\r\n    private &lt;E extends Throwable&gt; void throwException(Throwable exc) throws E {\r\n        throw (E)exc;\r\n    }\r\n\r\n}\r\n```\r\nDoes anyone know how to get all hostnames via IP using java.net.DatagramSocket?","title":"How to write a DNS server connection based host resolver in Java?","body":"<p>By reading <a href=\"https://levelup.gitconnected.com/dns-response-in-java-a6298e3cc7d9\" rel=\"nofollow noreferrer\">this article</a> I was able to partially write a DNS server query based resolver that I added to the <a href=\"https://burningwave.github.io/tools/#configuring-host-resolution\" rel=\"nofollow noreferrer\">HostResolutionRequestInterceptor</a> component.</p>\n<p>But I'm unable to get all hostnames via IP using java.net.DatagramSocket and I can't implement the <code>getAllHostNamesForHostAddress</code> of the <code>HostResolver</code> interface. This is the component I wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Random;\n\nimport org.burningwave.tools.net.HostResolver;\nimport org.burningwave.tools.net.IPAddressUtil;\n\npublic class IPV4DNSServerHostResolver implements HostResolver {\n    private static Random requestIdGenerator;\n\n    static {\n        requestIdGenerator = new Random();\n    }\n\n    private InetAddress dNSServerIP;\n    private int dNSServerPort;\n\n    public IPV4DNSServerHostResolver(String dNSServerIP, int dNSServerPort) throws UnknownHostException {\n        this.dNSServerIP = InetAddress.getByName(dNSServerIP);\n        this.dNSServerPort = dNSServerPort;\n    }\n\n    @Override\n    public Collection&lt;InetAddress&gt; getAllAddressesForHostName(Map&lt;String, Object&gt; argumentsMap) {\n        return resolveHostForName((String)getMethodArguments(argumentsMap)[0]);\n    }\n\n    public Collection&lt;InetAddress&gt; resolveHostForName(String hostName) {\n        try {\n            Collection&lt;InetAddress&gt; addresses = new ArrayList&lt;&gt;();\n            byte[] response = sendRequest(hostName);\n            Map&lt;String, String&gt; iPToDomainMap = parseResponse(response);\n            for (Map.Entry&lt;String, String&gt; iPToDomain : iPToDomainMap.entrySet()) {\n                addresses.add(InetAddress.getByAddress(iPToDomain.getValue(), IPAddressUtil.INSTANCE.textToNumericFormat(iPToDomain.getKey())));\n            }\n            return addresses;\n        } catch (Throwable exc) {\n            return sneakyThrow(exc);\n        }\n    }\n\n    private byte[] sendRequest(String hostName) throws IOException, SocketException {\n        short ID = (short)requestIdGenerator.nextInt(32767);\n        try (\n            ByteArrayOutputStream requestContentStream = new ByteArrayOutputStream();\n            DataOutputStream requestWrapper = new DataOutputStream(requestContentStream);\n        ) {\n            short requestFlags = Short.parseShort(&quot;0000000100000000&quot;, 2);\n            ByteBuffer byteBuffer = ByteBuffer.allocate(2).putShort(requestFlags);\n            byte[] flagsByteArray = byteBuffer.array();\n\n            short QDCOUNT = 1;\n            short ANCOUNT = 0;\n            short NSCOUNT = 0;\n            short ARCOUNT = 0;\n\n            requestWrapper.writeShort(ID);\n            requestWrapper.write(flagsByteArray);\n            requestWrapper.writeShort(QDCOUNT);\n            requestWrapper.writeShort(ANCOUNT);\n            requestWrapper.writeShort(NSCOUNT);\n            requestWrapper.writeShort(ARCOUNT);\n\n            String[] domainParts = hostName.split(&quot;\\\\.&quot;);\n\n            for (int i = 0; i &lt; domainParts.length; i++) {\n                byte[] domainBytes = domainParts[i].getBytes(StandardCharsets.UTF_8);\n                requestWrapper.writeByte(domainBytes.length);\n                requestWrapper.write(domainBytes);\n            }\n            requestWrapper.writeByte(0);\n            requestWrapper.writeShort(1);\n            requestWrapper.writeShort(1);\n            byte[] dnsFrame = requestContentStream.toByteArray();\n            DatagramPacket packet;\n            byte[] response;\n            try (DatagramSocket socket = new DatagramSocket()){\n                DatagramPacket dnsReqPacket = new DatagramPacket(dnsFrame, dnsFrame.length, dNSServerIP, dNSServerPort);\n                socket.send(dnsReqPacket);\n                response = new byte[1024];\n                packet = new DatagramPacket(response, response.length);\n                socket.receive(packet);\n            }\n            return response;\n        }\n    }\n\n    private Map&lt;String, String&gt; parseResponse(byte[] responseContent) throws IOException {\n        try (InputStream responseContentStream = new ByteArrayInputStream(responseContent);\n            DataInputStream responseWrapper = new DataInputStream(responseContentStream)\n        ) {\n            responseWrapper.skip(6);\n            short ANCOUNT = responseWrapper.readShort();\n            responseWrapper.skip(4);\n            int recLen;\n            while ((recLen = responseWrapper.readByte()) &gt; 0) {\n                byte[] record = new byte[recLen];\n                for (int i = 0; i &lt; recLen; i++) {\n                    record[i] = responseWrapper.readByte();\n                }\n            }\n            responseWrapper.skip(4);\n            byte firstBytes = responseWrapper.readByte();\n            int firstTwoBits = (firstBytes &amp; 0b11000000) &gt;&gt;&gt; 6;\n            Map&lt;String, String&gt; ipToDomainMap = new HashMap&lt;&gt;();\n            try (ByteArrayOutputStream label = new ByteArrayOutputStream();) {\n                for(int i = 0; i &lt; ANCOUNT; i++) {\n                    if(firstTwoBits == 3) {\n                        byte currentByte = responseWrapper.readByte();\n                        boolean stop = false;\n                        byte[] newArray = Arrays.copyOfRange(responseContent, currentByte, responseContent.length);\n                        try (InputStream responseSectionContentStream = new ByteArrayInputStream(newArray);\n                            DataInputStream responseSectionWrapper = new DataInputStream(responseSectionContentStream);\n                        ) {\n                            ArrayList&lt;Integer&gt; RDATA = new ArrayList&lt;&gt;();\n                            ArrayList&lt;String&gt; DOMAINS = new ArrayList&lt;&gt;();\n                            while(!stop) {\n                                byte nextByte = responseSectionWrapper.readByte();\n                                if(nextByte != 0) {\n                                    byte[] currentLabel = new byte[nextByte];\n                                    for(int j = 0; j &lt; nextByte; j++) {\n                                        currentLabel[j] = responseSectionWrapper.readByte();\n                                    }\n                                    label.write(currentLabel);\n                                } else {\n                                    stop = true;\n                                    responseWrapper.skip(8);\n                                    int RDLENGTH = responseWrapper.readShort();\n                                    for(int s = 0; s &lt; RDLENGTH; s++) {\n                                        int nx = responseWrapper.readByte() &amp; 255;\n                                        RDATA.add(nx);\n                                    }\n                                }\n                                DOMAINS.add(new String( label.toByteArray(), StandardCharsets.UTF_8));\n                                label.reset();\n                            }\n\n                            StringBuilder ip = new StringBuilder();\n                            StringBuilder domainSb = new StringBuilder();\n                            for(Integer ipPart:RDATA) {\n                                ip.append(ipPart).append(&quot;.&quot;);\n                            }\n\n                            for(String domainPart:DOMAINS) {\n                                if(!domainPart.equals(&quot;&quot;)) {\n                                    domainSb.append(domainPart).append(&quot;.&quot;);\n                                }\n                            }\n                            String domainFinal = domainSb.toString();\n                            String ipFinal = ip.toString();\n                            ipToDomainMap.put(ipFinal.substring(0, ipFinal.length()-1), domainFinal.substring(0, domainFinal.length()-1));\n                        }\n                    }\n\n                    firstBytes = responseWrapper.readByte();\n                    firstTwoBits = (firstBytes &amp; 0b11000000) &gt;&gt;&gt; 6;\n                }\n            }\n            return ipToDomainMap;\n        }\n    }\n\n    @Override\n    public Collection&lt;String&gt; getAllHostNamesForHostAddress(Map&lt;String, Object&gt; argumentsMap) {\n        byte[] addressAsByteArray = (byte[])getMethodArguments(argumentsMap)[0];\n        String iPAddress = IPAddressUtil.INSTANCE.numericToTextFormat(addressAsByteArray);\n        //To be implemented\n        return sneakyThrow(new UnknownHostException(iPAddress));\n    }\n\n    private &lt;T&gt; T sneakyThrow(Throwable exc) {\n        throwException(exc);\n        return null;\n    }\n\n\n    private &lt;E extends Throwable&gt; void throwException(Throwable exc) throws E {\n        throw (E)exc;\n    }\n\n}\n</code></pre>\n<p>Does anyone know how to get all hostnames via IP using java.net.DatagramSocket?</p>\n"},{"tags":["java","types","double"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1648627566,"post_id":71673612,"comment_id":126669625,"body_markdown":"Please show your code. Are you even calling `hasNextDouble`?","body":"Please show your code. Are you even calling <code>hasNextDouble</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648629499,"post_id":71673612,"comment_id":126670340,"body_markdown":"User input is not an argument. Your question doesn&#39;t make sense.","body":"User input is not an argument. Your question doesn&#39;t make sense."}],"answers":[{"tags":[],"owner":{"account_id":24576308,"reputation":63,"user_id":18482083,"display_name":"karthi_chellaiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648631474,"creation_date":1648631474,"answer_id":71674517,"question_id":71673612,"body_markdown":"\r\nmay be you can try this :\r\n\r\n      Scanner scan = new Scanner(&quot; 22.10 2123324.58 S &quot;);\r\n            while(scan.hasNext()){\r\n                if(scan.hasNextDouble()){\r\n                    System.out.println(&quot;Found Double Value: &quot;+scan.next());\r\n                }\r\n                else{\r\n                    throw new IllegalStateException(&quot;This is not a double value: &quot;+scan.next());\r\n                }\r\n            }\r\n            scan.close();","title":"Is there any way we can compare the data types of two numbers?","body":"<p>may be you can try this :</p>\n<pre><code>  Scanner scan = new Scanner(&quot; 22.10 2123324.58 S &quot;);\n        while(scan.hasNext()){\n            if(scan.hasNextDouble()){\n                System.out.println(&quot;Found Double Value: &quot;+scan.next());\n            }\n            else{\n                throw new IllegalStateException(&quot;This is not a double value: &quot;+scan.next());\n            }\n        }\n        scan.close();\n</code></pre>\n"}],"owner":{"account_id":24742887,"reputation":1,"user_id":18629424,"display_name":"Utsav asthana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667383780,"creation_date":1648627328,"question_id":71673612,"body_markdown":"I&#39;m from Mechanical background and started coding in java recently. I&#39;m looking for a solution for the below question. Here&#39;s my work in brief :\r\n\r\n 1. Input 2 double values from the user(using scanner). \r\n 2. Check data type.\r\n 3. If arguments are not doubles, supply suitable error message &amp; terminate\r\n\r\nI need to know on how to use &#39;hasNextDouble&#39; for checking the data type in above &#39;step 2&#39;","title":"Is there any way we can compare the data types of two numbers?","body":"<p>I'm from Mechanical background and started coding in java recently. I'm looking for a solution for the below question. Here's my work in brief :</p>\n<ol>\n<li>Input 2 double values from the user(using scanner).</li>\n<li>Check data type.</li>\n<li>If arguments are not doubles, supply suitable error message &amp; terminate</li>\n</ol>\n<p>I need to know on how to use 'hasNextDouble' for checking the data type in above 'step 2'</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2906812,"reputation":21459,"user_id":2491900,"display_name":"shree.pat18"},"score":5,"creation_date":1651857694,"post_id":72145270,"comment_id":127472562,"body_markdown":"A char has to be a single character, I suspect you need a string","body":"A char has to be a single character, I suspect you need a string"}],"answers":[{"tags":[],"owner":{"account_id":5073291,"reputation":56,"user_id":4071466,"display_name":"abdurrhman el shimy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651858081,"creation_date":1651858081,"answer_id":72145348,"question_id":72145270,"body_markdown":"A `char` represents a single character like `&#39;C&#39;`. To represent a word you need a String variable such as: \r\n\r\n`public static final String code = &quot;RETURN&quot;;`","title":"?Invalid char constant compile error ?cannot able to declare in java","body":"<p>A <code>char</code> represents a single character like <code>'C'</code>. To represent a word you need a String variable such as:</p>\n<p><code>public static final String code = &quot;RETURN&quot;;</code></p>\n"}],"owner":{"account_id":13669792,"reputation":7,"user_id":9862697,"display_name":"ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667383731,"creation_date":1651857579,"question_id":72145270,"body_markdown":"I am trying declare char constant in java it throwing invalid constant error.\r\n\r\n    public static final char code = &#39;RETURN&#39;;","title":"?Invalid char constant compile error ?cannot able to declare in java","body":"<p>I am trying declare char constant in java it throwing invalid constant error.</p>\n<pre><code>public static final char code = 'RETURN';\n</code></pre>\n"},{"tags":["java","mongodb","modeling"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1667385563,"post_id":74287474,"comment_id":131153078,"body_markdown":"well, it all depends on your use cases. But in general you don&#39;t need a specific model like class if you want to use mongo db you can just use Map&lt;String,String&gt; for your attributes and mongo will just recive/produce a json document","body":"well, it all depends on your use cases. But in general you don&#39;t need a specific model like class if you want to use mongo db you can just use Map&lt;String,String&gt; for your attributes and mongo will just recive/produce a json document"},{"owner":{"account_id":22517470,"reputation":91,"user_id":16711507,"display_name":"akram seid"},"score":0,"creation_date":1667399848,"post_id":74287474,"comment_id":131158315,"body_markdown":"I do need the data to retrieve info like crops that grow at certain altitude or released in certain year and similar.","body":"I do need the data to retrieve info like crops that grow at certain altitude or released in certain year and similar."}],"owner":{"account_id":22517470,"reputation":91,"user_id":16711507,"display_name":"akram seid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667383692,"creation_date":1667383692,"question_id":74287474,"body_markdown":"I have an agriculture related data that I need to model in java.to mention how the data looks in a nutshell the data is collection of attributes which are collected whenever a new plant variety is produced. Currently the plants I want to model their data are around 135 grouped into 9 groups. The problem I am facing during the modeling process is that every plant has its own attributes that it doesn&#39;t share with others and also it have few attributes similar to other plants and there is also some difference in attributes of the same plant released in the same year which makes it difficult to restrict the amount of fields I tried to include in the class.[![sample data][1]][1]\r\n\r\n For example the attributes shown in the red might not be included in other variety or might be included adding other attributes it is not possible to know exactly which attributes can be there or not. The other problem is that some attributes similar to the one shown in the blue rectangle has range values.\r\nWhat I have tried was to list down every possible attributes by looking over 24 books I have and having unique attributes making them into classes for every plant and extracting values which have ranges into other classes with min and max values and I ended up having over 200 classes which makes it very complicated to build a unified system that I can use to feed the data and retrieve info from it.\r\n\r\nWhat is ur recommended approach to model the data the database I planned to use is mongodb since since some varieties may miss values which other varieties has. I am ready to move to other programming languages like python if I have to thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iRm0f.jpg","title":"How to model semistructured data in Java?","body":"<p>I have an agriculture related data that I need to model in java.to mention how the data looks in a nutshell the data is collection of attributes which are collected whenever a new plant variety is produced. Currently the plants I want to model their data are around 135 grouped into 9 groups. The problem I am facing during the modeling process is that every plant has its own attributes that it doesn't share with others and also it have few attributes similar to other plants and there is also some difference in attributes of the same plant released in the same year which makes it difficult to restrict the amount of fields I tried to include in the class.<a href=\"https://i.stack.imgur.com/iRm0f.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iRm0f.jpg\" alt=\"sample data\" /></a></p>\n<p>For example the attributes shown in the red might not be included in other variety or might be included adding other attributes it is not possible to know exactly which attributes can be there or not. The other problem is that some attributes similar to the one shown in the blue rectangle has range values.\nWhat I have tried was to list down every possible attributes by looking over 24 books I have and having unique attributes making them into classes for every plant and extracting values which have ranges into other classes with min and max values and I ended up having over 200 classes which makes it very complicated to build a unified system that I can use to feed the data and retrieve info from it.</p>\n<p>What is ur recommended approach to model the data the database I planned to use is mongodb since since some varieties may miss values which other varieties has. I am ready to move to other programming languages like python if I have to thanks.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1662035211,"post_id":73568533,"comment_id":129916075,"body_markdown":"One possibility is that you&#39;ve used different JDK versions to build and run the app. Try running it from within Eclipse","body":"One possibility is that you&#39;ve used different JDK versions to build and run the app. Try running it from within Eclipse"},{"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"score":0,"creation_date":1662035743,"post_id":73568533,"comment_id":129916276,"body_markdown":"It&#39;s working fine within eclipse.... when creating a jar file and running, got on the above exception","body":"It&#39;s working fine within eclipse.... when creating a jar file and running, got on the above exception"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1662043594,"post_id":73568533,"comment_id":129919604,"body_markdown":"Don’t tag your question with `[java-8]` when you don’t use Java&#160;8. Include the real Java version you’re using in your question.","body":"Don’t tag your question with <code>[java-8]</code> when you don’t use Java 8. Include the real Java version you’re using in your question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1662045358,"post_id":73568533,"comment_id":129920371,"body_markdown":"Hint: if you were really using Java 8 to run this, it would work just fine.  But you are actually running the code in a Java 9 or later JVM, where the &quot;missing&quot; class has been moved to the &quot;jdk.unsupported&quot; module.  The simple solution will be to run this on Java 8 only.","body":"Hint: if you were really using Java 8 to run this, it would work just fine.  But you are actually running the code in a Java 9 or later JVM, where the &quot;missing&quot; class has been moved to the &quot;jdk.unsupported&quot; module.  The simple solution will be to run this on Java 8 only."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662085016,"creation_date":1662046927,"answer_id":73572136,"question_id":73568533,"body_markdown":"If you were really using Java 8 to run this, your JAR would probably work just fine ...\r\n\r\nBut the evidence suggests that you are actually running the code in a Java 9 or later JVM, where the &quot;missing&quot; `sun.reflect.Reflection` class has been moved to the `jdk.unsupported` module.  \r\n\r\nThe simplest solution will be to run this on Java 8 only.  Alternatively, you will need to figure out where in your code-base (or dependencies) the `sun.reflect.Reflection` class is being used.  (It looks like it is in `com.jidesoft.plaf` code.)\r\n\r\n  - If it is your code that is using the class, figure out how to do what `Reflection` is doing ... without relying on internal APIs.\r\n\r\n  - If it is a dependency, look for a newer version of the dependency that supports Java 9 and later.\r\n\r\n----------------------\r\n\r\nThis may help you work around the (apparent) Java 9+ compatibility issues in the jidesoft code.\r\n\r\n  - It looks like you may be using the JIDE Common Layer.  There is version of this on GitHub in the [jidesoft/jide-oss](https://github.com/jidesoft/jide-oss)\r\n\r\n  - There is a file in the repo called [README JDK9.txt](https://github.com/jidesoft/jide-oss/blob/master/Readme%20JDK9.txt).  It says the following:\r\n\r\n\r\n        --add-exports java.desktop/com.sun.java.swing.plaf.windows=ALL-UNNAMED\r\n        --add-exports java.desktop/javax.swing.plaf.synth=ALL-UNNAMED \r\n        --add-exports java.desktop/sun.swing=ALL-UNNAMED \r\n        --add-exports java.desktop/sun.awt=ALL-UNNAMED \r\n        --add-exports java.desktop/sun.awt.image=ALL-UNNAMED \r\n        --add-exports java.desktop/sun.awt.shell=ALL-UNNAMED \r\n        --add-exports java.desktop/sun.awt.dnd=ALL-UNNAMED \r\n        --add-exports java.desktop/sun.awt.windows=ALL-UNNAMED \r\n        --add-exports java.base/sun.security.action=ALL-UNNAMED\r\n\r\n        Remove xerces.jar from the classpath\r\n\r\n    These would appear to be instructions on how to use the dependency on Java 9 or later.\r\n\r\n  - In the repo there also seem to be versions of the source code for Java 8 and Java 9.\r\n\r\n\r\n----------------------\r\n\r\nI&#39;m afraid, I can&#39;t tell you how to build and run the Java 9 version of the code.  If it is too hard for you to figure it out, my advice is to run your application on Java 8.\r\n\r\nFinally, there are things in the jide-oss issue tracker that suggest that this code is unlikely to get much &quot;love&quot; in the future.  In particular, there doesn&#39;t appear to be any enthusiasm for addressing the various problems caused by the codebase&#39;s reliance on JDK internal APIs.  This will be increasingly problematic as the Java team close off access to those APIs.  So I would advise:\r\n\r\n  - Start looking for alternatives for the functionality that the jidesoft code is providing you.\r\n  - Don&#39;t develop new applications that rely on jide-oss. \r\n  - For an existing application, *either* plan to rework the code to use the alternative, *or* resolve to make Java 8 (and no higher!) the required platform for your application.","title":"java.lang.NoClassDefFoundError: sun/reflect/Reflection while running from jar","body":"<p>If you were really using Java 8 to run this, your JAR would probably work just fine ...</p>\n<p>But the evidence suggests that you are actually running the code in a Java 9 or later JVM, where the &quot;missing&quot; <code>sun.reflect.Reflection</code> class has been moved to the <code>jdk.unsupported</code> module.</p>\n<p>The simplest solution will be to run this on Java 8 only.  Alternatively, you will need to figure out where in your code-base (or dependencies) the <code>sun.reflect.Reflection</code> class is being used.  (It looks like it is in <code>com.jidesoft.plaf</code> code.)</p>\n<ul>\n<li><p>If it is your code that is using the class, figure out how to do what <code>Reflection</code> is doing ... without relying on internal APIs.</p>\n</li>\n<li><p>If it is a dependency, look for a newer version of the dependency that supports Java 9 and later.</p>\n</li>\n</ul>\n<hr />\n<p>This may help you work around the (apparent) Java 9+ compatibility issues in the jidesoft code.</p>\n<ul>\n<li><p>It looks like you may be using the JIDE Common Layer.  There is version of this on GitHub in the <a href=\"https://github.com/jidesoft/jide-oss\" rel=\"nofollow noreferrer\">jidesoft/jide-oss</a></p>\n</li>\n<li><p>There is a file in the repo called <a href=\"https://github.com/jidesoft/jide-oss/blob/master/Readme%20JDK9.txt\" rel=\"nofollow noreferrer\">README JDK9.txt</a>.  It says the following:</p>\n<pre><code>--add-exports java.desktop/com.sun.java.swing.plaf.windows=ALL-UNNAMED\n--add-exports java.desktop/javax.swing.plaf.synth=ALL-UNNAMED \n--add-exports java.desktop/sun.swing=ALL-UNNAMED \n--add-exports java.desktop/sun.awt=ALL-UNNAMED \n--add-exports java.desktop/sun.awt.image=ALL-UNNAMED \n--add-exports java.desktop/sun.awt.shell=ALL-UNNAMED \n--add-exports java.desktop/sun.awt.dnd=ALL-UNNAMED \n--add-exports java.desktop/sun.awt.windows=ALL-UNNAMED \n--add-exports java.base/sun.security.action=ALL-UNNAMED\n\nRemove xerces.jar from the classpath\n</code></pre>\n<p>These would appear to be instructions on how to use the dependency on Java 9 or later.</p>\n</li>\n<li><p>In the repo there also seem to be versions of the source code for Java 8 and Java 9.</p>\n</li>\n</ul>\n<hr />\n<p>I'm afraid, I can't tell you how to build and run the Java 9 version of the code.  If it is too hard for you to figure it out, my advice is to run your application on Java 8.</p>\n<p>Finally, there are things in the jide-oss issue tracker that suggest that this code is unlikely to get much &quot;love&quot; in the future.  In particular, there doesn't appear to be any enthusiasm for addressing the various problems caused by the codebase's reliance on JDK internal APIs.  This will be increasingly problematic as the Java team close off access to those APIs.  So I would advise:</p>\n<ul>\n<li>Start looking for alternatives for the functionality that the jidesoft code is providing you.</li>\n<li>Don't develop new applications that rely on jide-oss.</li>\n<li>For an existing application, <em>either</em> plan to rework the code to use the alternative, <em>or</em> resolve to make Java 8 (and no higher!) the required platform for your application.</li>\n</ul>\n"}],"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73572136,"answer_count":1,"score":0,"last_activity_date":1667383688,"creation_date":1662031348,"question_id":73568533,"body_markdown":"I built a jar using Ecplise, setting the main class properly.\r\n\r\nWhen I run &quot;java -Xms512m -Xmx1024m -jar foo.jar config.ini&quot; from the command line (Windows), I get an below exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun/reflect/Reflection\r\n            at com.jidesoft.plaf.UIDefaultsLookup.getCallerClassLoader(Unknown Source)\r\n            at com.jidesoft.plaf.UIDefaultsLookup.get(Unknown Source)\r\n            at com.jidesoft.plaf.vsnet.VsnetWindowsUtils.initComponentDefaultsWithMenu(Unknown Source)\r\n            at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n            at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n            at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n            at com.jidesoft.swing.JideButton.updateUI(Unknown Source)\r\n            at java.desktop/javax.swing.AbstractButton.init(AbstractButton.java:2136)\r\n            at java.desktop/javax.swing.JButton.&lt;init&gt;(JButton.java:131)\r\n            at java.desktop/javax.swing.JButton.&lt;init&gt;(JButton.java:85)\r\n            at com.jidesoft.swing.JideButton.&lt;init&gt;(Unknown Source)\r\n            at com.jidesoft.swing.JideButton.&lt;init&gt;(Unknown Source)\r\n            at ro.sync.ui.application.lb.&lt;init&gt;(Unknown Source)\r\n            at ro.sync.exml.m.d.&lt;init&gt;(Unknown Source)\r\n            at ro.sync.exml.m.d.dqe(Unknown Source)\r\n            at ro.sync.exml.m.c.&lt;init&gt;(Unknown Source)\r\n            at ro.sync.ecss.extensions.api.component.AuthorComponentFactory$2.&lt;init&gt;(Unknown Source)\r\n            at ro.sync.ecss.extensions.api.component.AuthorComponentFactory.init(Unknown Source)\r\n            at ro.sync.ecss.extensions.api.component.AuthorComponentFactory.init(Unknown Source)\r\n            at ro.sync.ecss.samples.AuthorComponentSample.&lt;init&gt;(AuthorComponentSample.java:311)\r\n            at ro.sync.ecss.samples.AuthorComponentSample.main(AuthorComponentSample.java:545)\r\n    Caused by: java.lang.ClassNotFoundException: sun.reflect.Reflection\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 21 more","title":"java.lang.NoClassDefFoundError: sun/reflect/Reflection while running from jar","body":"<p>I built a jar using Ecplise, setting the main class properly.</p>\n<p>When I run &quot;java -Xms512m -Xmx1024m -jar foo.jar config.ini&quot; from the command line (Windows), I get an below exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: sun/reflect/Reflection\n        at com.jidesoft.plaf.UIDefaultsLookup.getCallerClassLoader(Unknown Source)\n        at com.jidesoft.plaf.UIDefaultsLookup.get(Unknown Source)\n        at com.jidesoft.plaf.vsnet.VsnetWindowsUtils.initComponentDefaultsWithMenu(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.swing.JideButton.updateUI(Unknown Source)\n        at java.desktop/javax.swing.AbstractButton.init(AbstractButton.java:2136)\n        at java.desktop/javax.swing.JButton.&lt;init&gt;(JButton.java:131)\n        at java.desktop/javax.swing.JButton.&lt;init&gt;(JButton.java:85)\n        at com.jidesoft.swing.JideButton.&lt;init&gt;(Unknown Source)\n        at com.jidesoft.swing.JideButton.&lt;init&gt;(Unknown Source)\n        at ro.sync.ui.application.lb.&lt;init&gt;(Unknown Source)\n        at ro.sync.exml.m.d.&lt;init&gt;(Unknown Source)\n        at ro.sync.exml.m.d.dqe(Unknown Source)\n        at ro.sync.exml.m.c.&lt;init&gt;(Unknown Source)\n        at ro.sync.ecss.extensions.api.component.AuthorComponentFactory$2.&lt;init&gt;(Unknown Source)\n        at ro.sync.ecss.extensions.api.component.AuthorComponentFactory.init(Unknown Source)\n        at ro.sync.ecss.extensions.api.component.AuthorComponentFactory.init(Unknown Source)\n        at ro.sync.ecss.samples.AuthorComponentSample.&lt;init&gt;(AuthorComponentSample.java:311)\n        at ro.sync.ecss.samples.AuthorComponentSample.main(AuthorComponentSample.java:545)\nCaused by: java.lang.ClassNotFoundException: sun.reflect.Reflection\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 21 more\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","r2dbc"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1667300000,"post_id":74274690,"comment_id":131130682,"body_markdown":"Consider using [projections](https://thorben-janssen.com/spring-data-jpa-query-projections/) to fetch only the necessary entity properties.","body":"Consider using <a href=\"https://thorben-janssen.com/spring-data-jpa-query-projections/\" rel=\"nofollow noreferrer\">projections</a> to fetch only the necessary entity properties."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667300114,"post_id":74274690,"comment_id":131130714,"body_markdown":"`But mapping them into DTO causes loading to hibernate proxies -&gt; All over it&#39;s taking 500ms again` - i don&#39;t work with MapStruct, so this is just a guess, but most probably some getters are invoked reflectively, which causes to load additional data from db. If it&#39;s possible with MapStruct, try to create mappers manually (the entire process source -&gt; target manually) in order to make sure you don&#39;t accidentally load data you don&#39;t need during mapping process.","body":"<code>But mapping them into DTO causes loading to hibernate proxies -&gt; All over it&#39;s taking 500ms again</code> - i don&#39;t work with MapStruct, so this is just a guess, but most probably some getters are invoked reflectively, which causes to load additional data from db. If it&#39;s possible with MapStruct, try to create mappers manually (the entire process source -&gt; target manually) in order to make sure you don&#39;t accidentally load data you don&#39;t need during mapping process."},{"owner":{"account_id":10513615,"reputation":718,"user_id":7748446,"display_name":"Selast Lambou"},"score":0,"creation_date":1667383707,"post_id":74274690,"comment_id":131152369,"body_markdown":"@birca123 The fact that we have `@OneToMany` makes it impossible for us to use `projections`","body":"@birca123 The fact that we have <code>@OneToMany</code> makes it impossible for us to use <code>projections</code>"},{"owner":{"account_id":10513615,"reputation":718,"user_id":7748446,"display_name":"Selast Lambou"},"score":0,"creation_date":1667384042,"post_id":74274690,"comment_id":131152493,"body_markdown":"@Chaosfire the Mapstruct is mapping from internal Domain objects into DTO, by calling getters, and by that, making additional SQL requests. It also doesn&#39;t load something we don&#39;t want, but just what is needed to be mapped","body":"@Chaosfire the Mapstruct is mapping from internal Domain objects into DTO, by calling getters, and by that, making additional SQL requests. It also doesn&#39;t load something we don&#39;t want, but just what is needed to be mapped"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":2,"creation_date":1667386803,"post_id":74274690,"comment_id":131153521,"body_markdown":"@SelastLambou That fact doesn&#39;t stop you from using projections, you can still use them in form of interface projections. Where you can use [@EntityGraph](https://www.baeldung.com/spring-data-jpa-named-entity-graphs) to specify paths of properties that need to be loaded eagerly. The problem is that JPA will still fetch all properties as I pointed out [here](https://stackoverflow.com/q/74162755/10231374). Take a look at [Blaze persistence](https://github.com/Blazebit/blaze-persistence) library, which could be useful in your case, since it has support for specifications and better projections.","body":"@SelastLambou That fact doesn&#39;t stop you from using projections, you can still use them in form of interface projections. Where you can use <a href=\"https://www.baeldung.com/spring-data-jpa-named-entity-graphs\" rel=\"nofollow noreferrer\">@EntityGraph</a> to specify paths of properties that need to be loaded eagerly. The problem is that JPA will still fetch all properties as I pointed out <a href=\"https://stackoverflow.com/q/74162755/10231374\">here</a>. Take a look at <a href=\"https://github.com/Blazebit/blaze-persistence\" rel=\"nofollow noreferrer\">Blaze persistence</a> library, which could be useful in your case, since it has support for specifications and better projections."}],"owner":{"account_id":10513615,"reputation":718,"user_id":7748446,"display_name":"Selast Lambou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667383641,"creation_date":1667299407,"question_id":74274690,"body_markdown":"I&#39;m developing a Spring Boot application right now. It&#39;s part of microservice architecture and implements a search using JPA Specifications. And then maps into DTO before returning to results. The schema is like this:\r\n\r\n```plantuml\r\nController --&gt; Service --&gt; JPA: Find entities\r\nJPA --&gt; Service --&gt; Controller: Return \r\nController --&gt; Mapper: Map into DTO (MapStruct)\r\n```\r\n\r\n\r\n## The problem\r\nThe entity I&#39;m doing a search against does have a lot of dependencies (at least \r\n`15` of `@ManyToOne`, `@OneToMany` and `@OneToOne`) and it takes `500ms` to load just one whole entity. So for loading a list of `50` entities, it takes between `5` and `25` s, which is a problem in the microservice architecture.\r\n\r\n## What I&#39;ve tried:\r\n\r\n - I&#39;ve used JCache to reduce the execution time to 5s, from 25s ✅\r\n - I loaded all in `EAGER` mode: It&#39;s taking 500ms incompressible time ❌\r\n - I loaded all in `LAZY` mode: \r\n    - it&#39;s taking 5ms for all 50 entities before mapping into `DTO` ✅\r\n    - But mapping them into `DTO` causes loading to hibernate proxies -&gt; All over it&#39;s taking 500ms again ❌\r\n - I tried using different threads to map to `DTO` (parallelism) -&gt; JPA is blocking anyway, so it&#39;s still taking 500ms ❌\r\n - I tried then using `R2DBC` but it&#39;s not working properly inside a blocking app, and not resolving relationships anyway ❌\r\n\r\nAt this point, the only thing I can think of is:\r\n- Changing the application into a reactive one\r\n- Loading each dependency by `ID` manually and using a caching mechanism\r\n\r\nThis is the point. Do you have any ideas?","title":"Spring Boot JPA Hibernate Search Optimisation","body":"<p>I'm developing a Spring Boot application right now. It's part of microservice architecture and implements a search using JPA Specifications. And then maps into DTO before returning to results. The schema is like this:</p>\n<pre><code>Controller --&gt; Service --&gt; JPA: Find entities\nJPA --&gt; Service --&gt; Controller: Return \nController --&gt; Mapper: Map into DTO (MapStruct)\n</code></pre>\n<h2>The problem</h2>\n<p>The entity I'm doing a search against does have a lot of dependencies (at least\n<code>15</code> of <code>@ManyToOne</code>, <code>@OneToMany</code> and <code>@OneToOne</code>) and it takes <code>500ms</code> to load just one whole entity. So for loading a list of <code>50</code> entities, it takes between <code>5</code> and <code>25</code> s, which is a problem in the microservice architecture.</p>\n<h2>What I've tried:</h2>\n<ul>\n<li>I've used JCache to reduce the execution time to 5s, from 25s ✅</li>\n<li>I loaded all in <code>EAGER</code> mode: It's taking 500ms incompressible time ❌</li>\n<li>I loaded all in <code>LAZY</code> mode:\n<ul>\n<li>it's taking 5ms for all 50 entities before mapping into <code>DTO</code> ✅</li>\n<li>But mapping them into <code>DTO</code> causes loading to hibernate proxies -&gt; All over it's taking 500ms again ❌</li>\n</ul>\n</li>\n<li>I tried using different threads to map to <code>DTO</code> (parallelism) -&gt; JPA is blocking anyway, so it's still taking 500ms ❌</li>\n<li>I tried then using <code>R2DBC</code> but it's not working properly inside a blocking app, and not resolving relationships anyway ❌</li>\n</ul>\n<p>At this point, the only thing I can think of is:</p>\n<ul>\n<li>Changing the application into a reactive one</li>\n<li>Loading each dependency by <code>ID</code> manually and using a caching mechanism</li>\n</ul>\n<p>This is the point. Do you have any ideas?</p>\n"},{"tags":["java","list","sorting","kotlin"],"comments":[{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":1,"creation_date":1501154360,"post_id":45349293,"comment_id":77659479,"body_markdown":"show us your code.","body":"show us your code."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1501154392,"post_id":45349293,"comment_id":77659508,"body_markdown":"*what have you tried already to solve your problem?*","body":"<i>what have you tried already to solve your problem?</i>"},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1501154499,"post_id":45349293,"comment_id":77659580,"body_markdown":"What do you mean by the &#39;best&#39; way?","body":"What do you mean by the &#39;best&#39; way?"},{"owner":{"account_id":55219,"reputation":58940,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"score":1,"creation_date":1501154535,"post_id":45349293,"comment_id":77659604,"body_markdown":"How big is your data sets? For trivial cases, you might as well brute force it. For each item in the id list, find the corresponding item in the person list and append to a new list. \n\nIf the dataset is huge, sort the person list on ascending order of ID. Then do the same thing, but use a binary search to find person-by-id","body":"How big is your data sets? For trivial cases, you might as well brute force it. For each item in the id list, find the corresponding item in the person list and append to a new list.   If the dataset is huge, sort the person list on ascending order of ID. Then do the same thing, but use a binary search to find person-by-id"},{"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"score":0,"creation_date":1501154682,"post_id":45349293,"comment_id":77659706,"body_markdown":"I think the best if you do not sort it physically. Use a map of `Person` to store your persons. `Map&lt;Integer, Person&gt;` Then use your already sorted list of IDs as an index.","body":"I think the best if you do not sort it physically. Use a map of <code>Person</code> to store your persons. <code>Map&lt;Integer, Person&gt;</code> Then use your already sorted list of IDs as an index."},{"owner":{"account_id":5383745,"reputation":1244,"user_id":4288334,"display_name":"Niroshan"},"score":0,"creation_date":1501158744,"post_id":45349293,"comment_id":77662686,"body_markdown":"Sorry! Edited and now added my work.","body":"Sorry! Edited and now added my work."},{"owner":{"account_id":5383745,"reputation":1244,"user_id":4288334,"display_name":"Niroshan"},"score":0,"creation_date":1501159064,"post_id":45349293,"comment_id":77662930,"body_markdown":"@Joe Thanks for the link. But I&#39;m also looking for a &#39;best way&#39; or &#39;efficient&#39; way when using Kotlin or Java. other than my way of doing.","body":"@Joe Thanks for the link. But I&#39;m also looking for a &#39;best way&#39; or &#39;efficient&#39; way when using Kotlin or Java. other than my way of doing."}],"answers":[{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1501154737,"creation_date":1501154737,"answer_id":45349443,"question_id":45349293,"body_markdown":"I would do something like (in pseudocode, since i don&#39;t know what your code looks like)\r\n\r\n    listOfPersons = [{2,Bob},{3,Claire},{1,Alice}]\r\n    orderList = [1,3,2]\r\n    sortedList = []\r\n    for(id in orderList)\r\n        person = listOfPersons.lookup(id)\r\n        sortedList.add(person)  \r\n   \r\nAnd the lookup would be easier if you would have a map (id-&gt; person) rather than a listOfPersons.","title":"Sorting list based on another list&#39;s order","body":"<p>I would do something like (in pseudocode, since i don't know what your code looks like)</p>\n\n<pre><code>listOfPersons = [{2,Bob},{3,Claire},{1,Alice}]\norderList = [1,3,2]\nsortedList = []\nfor(id in orderList)\n    person = listOfPersons.lookup(id)\n    sortedList.add(person)  \n</code></pre>\n\n<p>And the lookup would be easier if you would have a map (id-> person) rather than a listOfPersons.</p>\n"},{"tags":[],"owner":{"account_id":2527365,"reputation":142491,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1667383621,"creation_date":1501155553,"answer_id":45349755,"question_id":45349293,"body_markdown":"An efficient solution is to first create the mapping from the ID in the `ids` (your desired IDs order) to the index in that list:\r\n\r\n    val orderById = ids.withIndex().associate { (index, it) -&gt; it.id to index }\r\n\r\nAnd then sort your list of `people` by the order of their `id` in this mapping:\r\n\r\n    val sortedPeople = people.sortedBy { orderById[it.id] }\r\n\r\nNote: if a person has an ID that is not present in the `ids`, they will be placed first in the list. To place them last, you can use a [`nullsLast`][2] comparator:\r\n\r\n    val sortedPeople = people.sortedWith(compareBy(nullsLast&lt;String&gt;()) { orderById[it.id] })\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/nulls-first.html\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/nulls-last.html","title":"Sorting list based on another list&#39;s order","body":"<p>An efficient solution is to first create the mapping from the ID in the <code>ids</code> (your desired IDs order) to the index in that list:</p>\n<pre><code>val orderById = ids.withIndex().associate { (index, it) -&gt; it.id to index }\n</code></pre>\n<p>And then sort your list of <code>people</code> by the order of their <code>id</code> in this mapping:</p>\n<pre><code>val sortedPeople = people.sortedBy { orderById[it.id] }\n</code></pre>\n<p>Note: if a person has an ID that is not present in the <code>ids</code>, they will be placed first in the list. To place them last, you can use a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/nulls-last.html\" rel=\"nofollow noreferrer\"><code>nullsLast</code></a> comparator:</p>\n<pre><code>val sortedPeople = people.sortedWith(compareBy(nullsLast&lt;String&gt;()) { orderById[it.id] })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6664648,"reputation":295,"user_id":5142649,"accept_rate":88,"display_name":"pradeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501157700,"creation_date":1501157700,"answer_id":45350551,"question_id":45349293,"body_markdown":"Try the below code.\r\n\r\n \r\n\r\n   \r\n\r\n     Map&lt;String, Person&gt; personMap=new HashMap&lt;&gt;(); // create a map with key as ID and value as Person object\r\n    List&lt;String&gt; orderList=new ArrayList&lt;&gt;();  // create a list or array with ID order\r\n    List&lt;Person&gt; outputList=new ArrayList&lt;&gt;(); //list to hold sorted values\r\n    \r\n    //logic\r\n    \r\n        // to sort Person based on ID list order\r\n        for (String order : orderList) {\r\n          if(personMap.containsKey(order)){\r\n            outputList.add(personMap.get(order));\r\n            personMap.remove(order);\r\n          }\r\n        }\r\n        \r\n      // logic to add the Person object whose id is not present in ID order list\r\n        for (Entry&lt;String, Person&gt; entry : personMap.entrySet())\r\n        {\r\n          int lastIndex=outputList.size();\r\n          outputList.add(lastIndex, entry.getValue());\r\n          lastIndex++;\r\n        }\r\n\r\nNow, the `outputList` will have the values that you are expecting...\r\n","title":"Sorting list based on another list&#39;s order","body":"<p>Try the below code.</p>\n\n<pre><code> Map&lt;String, Person&gt; personMap=new HashMap&lt;&gt;(); // create a map with key as ID and value as Person object\nList&lt;String&gt; orderList=new ArrayList&lt;&gt;();  // create a list or array with ID order\nList&lt;Person&gt; outputList=new ArrayList&lt;&gt;(); //list to hold sorted values\n\n//logic\n\n    // to sort Person based on ID list order\n    for (String order : orderList) {\n      if(personMap.containsKey(order)){\n        outputList.add(personMap.get(order));\n        personMap.remove(order);\n      }\n    }\n\n  // logic to add the Person object whose id is not present in ID order list\n    for (Entry&lt;String, Person&gt; entry : personMap.entrySet())\n    {\n      int lastIndex=outputList.size();\n      outputList.add(lastIndex, entry.getValue());\n      lastIndex++;\n    }\n</code></pre>\n\n<p>Now, the <code>outputList</code> will have the values that you are expecting...</p>\n"},{"tags":[],"owner":{"account_id":1936529,"reputation":1132,"user_id":1743867,"display_name":"seal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501159282,"creation_date":1501159282,"answer_id":45351123,"question_id":45349293,"body_markdown":"Following code will convert Person list to a `Map` where key will be the ID and value will be the Person object itself. This `Map` will help to quick lookup. Then iterate over the ID&#39;s list the get the value from the `Map` and added to a another `List`. \r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n      // List of ID\r\n      val listId = listOf(2, 1, 3)\r\n\r\n      val list = listOf(Person(id = 1, name = &quot;A&quot;),\r\n            Person(id = 2, name = &quot;B&quot;),\r\n            Person(id = 3, name = &quot;C&quot;))\r\n\r\n      val map: Map&lt;Int, Person&gt; = list.associateBy ({it.id}, {it})\r\n\r\n      val sortedList = mutableListOf&lt;Person&gt;()\r\n\r\n      listId.forEach({\r\n          sortedList.add(map[it]!!)\r\n      })\r\n\r\n      sortedList.forEach({\r\n         println(it)\r\n      })\r\n    }\r\n\r\n    data class Person(val id: Int, val name: String)\r\n\r\nOutput \r\n\r\n    Person(id=2, name=B)\r\n    Person(id=1, name=A)\r\n    Person(id=3, name=C)","title":"Sorting list based on another list&#39;s order","body":"<p>Following code will convert Person list to a <code>Map</code> where key will be the ID and value will be the Person object itself. This <code>Map</code> will help to quick lookup. Then iterate over the ID's list the get the value from the <code>Map</code> and added to a another <code>List</code>. </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  // List of ID\n  val listId = listOf(2, 1, 3)\n\n  val list = listOf(Person(id = 1, name = \"A\"),\n        Person(id = 2, name = \"B\"),\n        Person(id = 3, name = \"C\"))\n\n  val map: Map&lt;Int, Person&gt; = list.associateBy ({it.id}, {it})\n\n  val sortedList = mutableListOf&lt;Person&gt;()\n\n  listId.forEach({\n      sortedList.add(map[it]!!)\n  })\n\n  sortedList.forEach({\n     println(it)\n  })\n}\n\ndata class Person(val id: Int, val name: String)\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>Person(id=2, name=B)\nPerson(id=1, name=A)\nPerson(id=3, name=C)\n</code></pre>\n"}],"owner":{"account_id":5383745,"reputation":1244,"user_id":4288334,"display_name":"Niroshan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17736,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"closed_date":1501162686,"accepted_answer_id":45349755,"answer_count":4,"score":20,"last_activity_date":1667383621,"creation_date":1501154292,"question_id":45349293,"body_markdown":"I need to sort a list of `Person` objects(`List&lt;Person&gt;`, where each `Person` object has few attributes like `id`(unique), `name`, `age`… etc).\r\n\r\n\r\nThe sorting order is based on another list. That list contains a set of `Person` `id`&#39;s (A `List&lt;String&gt;` which is already sorted). \r\n\r\nWhat is the best way to order the `List&lt;Person&gt;` in the same order as the list of `id`&#39;s using Kotlin or Java.\r\n\r\nExample:\r\n\r\n    List Person {\r\n    (“ID1”,”PERSON1”,22,..), (“ID-2”,”PERSON2”,20,..) ), (“ID-3”,”PERSON3”,19,..),…..\r\n    }\r\n    \r\nOrdered Id List :\r\n\r\n    List of ID {(“ID2”), (“ID1”),(”ID3”)….}\r\n    \r\nSorted `Person` list should be:\r\n\r\n    List PERSON {\r\n     (“ID-2”,”PERSON 2”,20,..) ), (“ID1”,”PERSON 2”,22,..),  (“ID-3”,”PERSON 2”,19,..),…..\r\n    }\r\n\r\nIf the `Person` list contains any `id`&#39;s which are not mentioned in the `id` list then those values should be at the end of the sorted list.\r\n___________________\r\nEdited: This is my current way in Java. I am hoping for a better way than this:\r\n\r\n    public static List&lt;Person&gt; getSortList(List &lt;Person&gt; unsortedList, List&lt;String&gt; orderList){\r\n    \r\n        if(unsortedList!=null &amp;&amp; !unsortedList.isEmpty() &amp;&amp; orderList!=null &amp;&amp; !orderList.isEmpty()){\r\n            List sortedList = new ArrayList&lt;OpenHABWidget&gt;();\r\n            for(String id : orderList){\r\n                Person found= getPersonIfFound(unsortedList, id); // search for the item on the list by ID\r\n                if(found!=null)sortedList.add(found);       // if found add to sorted list\r\n                unsortedList.remove(found);        // remove added item\r\n            }\r\n            sortedList.addAll(unsortedList);        // append the reaming items on the unsorted list to new sorted list\r\n            return sortedList;\r\n        }\r\n        else{\r\n            return unsortedList;\r\n        }\r\n    \r\n    }\r\n    \r\n    public static Person getPersonIfFound(List &lt;Person&gt; list, String key){\r\n        for(Person person : list){\r\n            if(person.getId().equals(key)){\r\n                return person;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Sorting list based on another list&#39;s order","body":"<p>I need to sort a list of <code>Person</code> objects(<code>List&lt;Person&gt;</code>, where each <code>Person</code> object has few attributes like <code>id</code>(unique), <code>name</code>, <code>age</code>… etc).</p>\n<p>The sorting order is based on another list. That list contains a set of <code>Person</code> <code>id</code>'s (A <code>List&lt;String&gt;</code> which is already sorted).</p>\n<p>What is the best way to order the <code>List&lt;Person&gt;</code> in the same order as the list of <code>id</code>'s using Kotlin or Java.</p>\n<p>Example:</p>\n<pre><code>List Person {\n(“ID1”,”PERSON1”,22,..), (“ID-2”,”PERSON2”,20,..) ), (“ID-3”,”PERSON3”,19,..),…..\n}\n</code></pre>\n<p>Ordered Id List :</p>\n<pre><code>List of ID {(“ID2”), (“ID1”),(”ID3”)….}\n</code></pre>\n<p>Sorted <code>Person</code> list should be:</p>\n<pre><code>List PERSON {\n (“ID-2”,”PERSON 2”,20,..) ), (“ID1”,”PERSON 2”,22,..),  (“ID-3”,”PERSON 2”,19,..),…..\n}\n</code></pre>\n<p>If the <code>Person</code> list contains any <code>id</code>'s which are not mentioned in the <code>id</code> list then those values should be at the end of the sorted list.</p>\n<hr />\n<p>Edited: This is my current way in Java. I am hoping for a better way than this:</p>\n<pre><code>public static List&lt;Person&gt; getSortList(List &lt;Person&gt; unsortedList, List&lt;String&gt; orderList){\n\n    if(unsortedList!=null &amp;&amp; !unsortedList.isEmpty() &amp;&amp; orderList!=null &amp;&amp; !orderList.isEmpty()){\n        List sortedList = new ArrayList&lt;OpenHABWidget&gt;();\n        for(String id : orderList){\n            Person found= getPersonIfFound(unsortedList, id); // search for the item on the list by ID\n            if(found!=null)sortedList.add(found);       // if found add to sorted list\n            unsortedList.remove(found);        // remove added item\n        }\n        sortedList.addAll(unsortedList);        // append the reaming items on the unsorted list to new sorted list\n        return sortedList;\n    }\n    else{\n        return unsortedList;\n    }\n\n}\n\npublic static Person getPersonIfFound(List &lt;Person&gt; list, String key){\n    for(Person person : list){\n        if(person.getId().equals(key)){\n            return person;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","blob","apache-storm","stream-processing"],"comments":[{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1667375611,"post_id":74279968,"comment_id":131149611,"body_markdown":"I would try to find the corresponding logs in my case in order to compare to your logs. Can you tell me, if you run in LocalCluster or in a distribtued cluster? And which logfile was that?","body":"I would try to find the corresponding logs in my case in order to compare to your logs. Can you tell me, if you run in LocalCluster or in a distribtued cluster? And which logfile was that?"},{"owner":{"account_id":7924051,"reputation":138,"user_id":5984020,"display_name":"Deepti"},"score":0,"creation_date":1667920691,"post_id":74279968,"comment_id":131280179,"body_markdown":"We figured out the issue. It was running in cluster mode but there were some config issues due to which permissions were not being granted as expected. Due to which it was unable to find the file","body":"We figured out the issue. It was running in cluster mode but there were some config issues due to which permissions were not being granted as expected. Due to which it was unable to find the file"}],"owner":{"account_id":7924051,"reputation":138,"user_id":5984020,"display_name":"Deepti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667383272,"creation_date":1667325480,"question_id":74279968,"body_markdown":"We are seeing below error when we migrate to Apache Storm 2.2.0 from 1.2.3. We do not see any permission issues as well on the file which it is unable to find. Also, the file exists but just the `/data` part is being appended to the actual file name due to which it is unable to find it. We want to know if some config decides this value.\r\n\r\nPS: We are using Plaintext auth and do see below logs. But assuming they are not cause of concern.\r\n\r\n`PlainSaslTransportPlugin [ERROR] SASL PLAIN client transport has been established.  This is totally insecure.  Please do not use this.`\r\n\r\n**We think `File not found` is the issue. We want to know if any specific configuration is required.**\r\n\r\n```\r\nnimbus.log-2022-11-01 15:18:38.502 o.a.s.c.StormClusterStateImpl [INFO] set-path: /blobstore/all_test-1-1667296118-stormjar.jar/10.32.17.238:6627-1\r\nnimbus.log-2022-11-01 15:18:38.603 o.a.s.d.n.Nimbus [WARN] begin blob download exception.\r\nnimbus.log:java.lang.RuntimeException: java.io.FileNotFoundException: /grid/1/storm/blobs/967/data_all_test-1-1667296118-stormjar.jar/data (No such file or directory)\r\nnimbus.log-\tat org.apache.storm.blobstore.LocalFsBlobStore.getBlob(LocalFsBlobStore.java:396) ~[storm-server-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.daemon.nimbus.Nimbus.beginBlobDownload(Nimbus.java:3767) [storm-server-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.generated.Nimbus$Processor$beginBlobDownload.getResult(Nimbus.java:4013) [storm-client-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.generated.Nimbus$Processor$beginBlobDownload.getResult(Nimbus.java:3992) [storm-client-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.thrift.ProcessFunction.process(ProcessFunction.java:38) [storm-shaded-deps-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.thrift.TBaseProcessor.process(TBaseProcessor.java:38) [storm-shaded-deps-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.security.auth.sasl.SaslTransportPlugin$TUGIWrapProcessor.process(SaslTransportPlugin.java:152) [storm-client-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat org.apache.storm.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:313) [storm-shaded-deps-2.2.0.jar:2.2.0]\r\nnimbus.log-\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_05]\r\nnimbus.log-\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_05]\r\nnimbus.log-\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_05]\r\nnimbus.log:Caused by: java.io.FileNotFoundException: /grid/1/storm/blobs/967/data_all_test-1-1667296118-stormjar.jar/data (No such file or directory)\r\n```","title":"Upgrade Apache Storm from 1.2.3. to 2.2.0","body":"<p>We are seeing below error when we migrate to Apache Storm 2.2.0 from 1.2.3. We do not see any permission issues as well on the file which it is unable to find. Also, the file exists but just the <code>/data</code> part is being appended to the actual file name due to which it is unable to find it. We want to know if some config decides this value.</p>\n<p>PS: We are using Plaintext auth and do see below logs. But assuming they are not cause of concern.</p>\n<p><code>PlainSaslTransportPlugin [ERROR] SASL PLAIN client transport has been established.  This is totally insecure.  Please do not use this.</code></p>\n<p><strong>We think <code>File not found</code> is the issue. We want to know if any specific configuration is required.</strong></p>\n<pre><code>nimbus.log-2022-11-01 15:18:38.502 o.a.s.c.StormClusterStateImpl [INFO] set-path: /blobstore/all_test-1-1667296118-stormjar.jar/10.32.17.238:6627-1\nnimbus.log-2022-11-01 15:18:38.603 o.a.s.d.n.Nimbus [WARN] begin blob download exception.\nnimbus.log:java.lang.RuntimeException: java.io.FileNotFoundException: /grid/1/storm/blobs/967/data_all_test-1-1667296118-stormjar.jar/data (No such file or directory)\nnimbus.log- at org.apache.storm.blobstore.LocalFsBlobStore.getBlob(LocalFsBlobStore.java:396) ~[storm-server-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.daemon.nimbus.Nimbus.beginBlobDownload(Nimbus.java:3767) [storm-server-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.generated.Nimbus$Processor$beginBlobDownload.getResult(Nimbus.java:4013) [storm-client-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.generated.Nimbus$Processor$beginBlobDownload.getResult(Nimbus.java:3992) [storm-client-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.thrift.ProcessFunction.process(ProcessFunction.java:38) [storm-shaded-deps-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.thrift.TBaseProcessor.process(TBaseProcessor.java:38) [storm-shaded-deps-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.security.auth.sasl.SaslTransportPlugin$TUGIWrapProcessor.process(SaslTransportPlugin.java:152) [storm-client-2.2.0.jar:2.2.0]\nnimbus.log- at org.apache.storm.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:313) [storm-shaded-deps-2.2.0.jar:2.2.0]\nnimbus.log- at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_05]\nnimbus.log- at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_05]\nnimbus.log- at java.lang.Thread.run(Thread.java:745) [?:1.8.0_05]\nnimbus.log:Caused by: java.io.FileNotFoundException: /grid/1/storm/blobs/967/data_all_test-1-1667296118-stormjar.jar/data (No such file or directory)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":2,"creation_date":1423346204,"post_id":28387887,"comment_id":45113282,"body_markdown":"Check out the `substring` and `endsWith` methods from the `String` class","body":"Check out the <code>substring</code> and <code>endsWith</code> methods from the <code>String</code> class"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1423346239,"post_id":28387887,"comment_id":45113295,"body_markdown":"It&#39;s well documented: [String#endsWith](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-)","body":"It&#39;s well documented: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-\" rel=\"nofollow noreferrer\">String#endsWith</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1423346601,"post_id":28387887,"comment_id":45113417,"body_markdown":"Do you want to replace always `@2x.png` or any substring which starts with `@` till end?","body":"Do you want to replace always <code>@2x.png</code> or any substring which starts with <code>@</code> till end?"}],"answers":[{"tags":[],"owner":{"display_name":"user3377716"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1667383239,"creation_date":1423346412,"answer_id":28387934,"question_id":28387887,"body_markdown":"Assuming you have a string initialized as `String file = &quot;am.sunrise.ios@2x.png&quot;;`.\r\n\r\n    if(file.endsWith(&quot;@2x.png&quot;))\r\n        file = file.substring(0, file.lastIndexOf(&quot;@2x.png&quot;));\r\n\r\nThe `endsWith(String)` method returns a boolean determining if the string has a certain suffix. Depending on that you can replace the string with a substring of itself starting with the first character and ending before the index of the character that you are trying to remove.","title":"Remove trailing substring from String in Java","body":"<p>Assuming you have a string initialized as <code>String file = &quot;am.sunrise.ios@2x.png&quot;;</code>.</p>\n<pre><code>if(file.endsWith(&quot;@2x.png&quot;))\n    file = file.substring(0, file.lastIndexOf(&quot;@2x.png&quot;));\n</code></pre>\n<p>The <code>endsWith(String)</code> method returns a boolean determining if the string has a certain suffix. Depending on that you can replace the string with a substring of itself starting with the first character and ending before the index of the character that you are trying to remove.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423346940,"creation_date":1423346443,"answer_id":28387942,"question_id":28387887,"body_markdown":"If you want to generally remove entire content of string from `@` till end you can use \r\n\r\n    yourString = yourString.replaceAll(&quot;@.*&quot;,&quot;&quot;);\r\n\r\nwhere `@.*` is regex ([regular expression][1]) representing substring starting with `@` and having any character after it (represented by `.`) zero or more times (represented by `*`).\r\n\r\nIn case there will be no `@xxx` part your string will be unchanged.\r\n\r\n---\r\nIf you want to change only this particular substring `@2x.png` (and not substirng like `@3x.png`) while making sure that it is placed at end of your string you can use \r\n\r\n    yourString = yourString.replaceAll(&quot;@2x\\\\.png$&quot;,&quot;&quot;);\r\n\r\nwhere \r\n\r\n - `$` represents end of string\r\n - `\\\\.` represents `.` literal (we need to escape it since like shown earlier `.` is metacharacter representing *any* character)\r\n\r\n  [1]: http://www.regular-expressions.info/tutorial.html","title":"Remove trailing substring from String in Java","body":"<p>If you want to generally remove entire content of string from <code>@</code> till end you can use </p>\n\n<pre><code>yourString = yourString.replaceAll(\"@.*\",\"\");\n</code></pre>\n\n<p>where <code>@.*</code> is regex (<a href=\"http://www.regular-expressions.info/tutorial.html\" rel=\"nofollow\">regular expression</a>) representing substring starting with <code>@</code> and having any character after it (represented by <code>.</code>) zero or more times (represented by <code>*</code>).</p>\n\n<p>In case there will be no <code>@xxx</code> part your string will be unchanged.</p>\n\n<hr>\n\n<p>If you want to change only this particular substring <code>@2x.png</code> (and not substirng like <code>@3x.png</code>) while making sure that it is placed at end of your string you can use </p>\n\n<pre><code>yourString = yourString.replaceAll(\"@2x\\\\.png$\",\"\");\n</code></pre>\n\n<p>where </p>\n\n<ul>\n<li><code>$</code> represents end of string</li>\n<li><code>\\\\.</code> represents <code>.</code> literal (we need to escape it since like shown earlier <code>.</code> is metacharacter representing <em>any</em> character)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5752493,"reputation":121,"user_id":4541676,"accept_rate":89,"display_name":"Christopher Bell"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423346529,"creation_date":1423346529,"answer_id":28387956,"question_id":28387887,"body_markdown":"\r\n\tpublic static void main(String [] args){\r\n\t\t\r\n\t\tString word = &quot;am.sunrise.ios@2x.png&quot;;\r\n\t\t\r\n\t\tword = word.replace(&quot;@2x.png&quot;, &quot;&quot;);\r\n\t\t\r\n\t\tSystem.out.println(word);\r\n\t}\r\n\r\n","title":"Remove trailing substring from String in Java","body":"<pre><code>public static void main(String [] args){\n\n    String word = \"am.sunrise.ios@2x.png\";\n\n    word = word.replace(\"@2x.png\", \"\");\n\n    System.out.println(word);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1423346548,"creation_date":1423346548,"answer_id":28387960,"question_id":28387887,"body_markdown":"You could check the `lastIndexOf`, and if it exists in the string, use `substring` to remove it:\r\n\r\n    String str = &quot;am.sunrise.ios@2x.png&quot;;\r\n    String search = &quot;@2x.png&quot;;\r\n    \r\n    int index = str.lastIndexOf(search);\r\n    if (index &gt; 0) {\r\n        str = str.substring(0, index);\r\n    }","title":"Remove trailing substring from String in Java","body":"<p>You could check the <code>lastIndexOf</code>, and if it exists in the string, use <code>substring</code> to remove it:</p>\n\n<pre><code>String str = \"am.sunrise.ios@2x.png\";\nString search = \"@2x.png\";\n\nint index = str.lastIndexOf(search);\nif (index &gt; 0) {\n    str = str.substring(0, index);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3578561,"reputation":2945,"user_id":2987273,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423513482,"creation_date":1423348573,"answer_id":28388278,"question_id":28387887,"body_markdown":"You could use String.split():\r\n\r\n    public static void main(String [] args){\r\n      String word = &quot;am.sunrise.ios@2x.png&quot;;\r\n      String[] parts = word.split(&quot;@&quot;);\r\n      if (parts.length == 2) {\r\n        System.out.println(&quot;looks like user@host...&quot;);\r\n        System.out.println(&quot;User: &quot; + parts[0]);\r\n        System.out.println(&quot;Host: &quot; + parts[1]);\r\n      }\r\n    }\r\n\r\nThen you haven an array of Strings, where the first element contains the part before &quot;@&quot; and the second element the part after the &quot;@&quot;.","title":"Remove trailing substring from String in Java","body":"<p>You could use String.split():</p>\n\n<pre><code>public static void main(String [] args){\n  String word = \"am.sunrise.ios@2x.png\";\n  String[] parts = word.split(\"@\");\n  if (parts.length == 2) {\n    System.out.println(\"looks like user@host...\");\n    System.out.println(\"User: \" + parts[0]);\n    System.out.println(\"Host: \" + parts[1]);\n  }\n}\n</code></pre>\n\n<p>Then you haven an array of Strings, where the first element contains the part before \"@\" and the second element the part after the \"@\".</p>\n"},{"tags":[],"owner":{"account_id":4311104,"reputation":387,"user_id":3522128,"accept_rate":58,"display_name":"tbcrawford"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423591165,"creation_date":1423424370,"answer_id":28398468,"question_id":28387887,"body_markdown":"Since I was trying to do this on an ArrayList of items similarly styled I ended up using the following code:\r\n\r\n        for (int image = 0; image &lt; IBImages.size(); image++) {\r\n            IBImages.set(image, IBImages.get(image).split(&quot;~&quot;)[0].split(&quot;@&quot;)[0].split(&quot;.png&quot;)[0]);\r\n        }\r\n\r\nIf I have a list of images with the names \r\n    \r\n    [am.sunrise.ios.png, am.sunrise.ios@2x.png, am.sunrise.ios@3x.png, am.sunrise.ios~ipad.png, am.sunrise.ios~ipad@2x.png]\r\n\r\nThis allows me to split the string into 2 parts.\r\nFor example, &quot;am.sunrise.ios~ipad.png&quot; will be split into &quot;am.sunrise.ios&quot; and &quot;~ipad.png&quot; if I split on &quot;~&quot;. I can just get the first part back by referencing [0]. Therefore I get what I&#39;m looking for in one line of code.\r\n\r\nNote that ***image*** is &quot;am.sunrise.ios~ipad.png&quot;","title":"Remove trailing substring from String in Java","body":"<p>Since I was trying to do this on an ArrayList of items similarly styled I ended up using the following code:</p>\n\n<pre><code>    for (int image = 0; image &lt; IBImages.size(); image++) {\n        IBImages.set(image, IBImages.get(image).split(\"~\")[0].split(\"@\")[0].split(\".png\")[0]);\n    }\n</code></pre>\n\n<p>If I have a list of images with the names </p>\n\n<pre><code>[am.sunrise.ios.png, am.sunrise.ios@2x.png, am.sunrise.ios@3x.png, am.sunrise.ios~ipad.png, am.sunrise.ios~ipad@2x.png]\n</code></pre>\n\n<p>This allows me to split the string into 2 parts.\nFor example, \"am.sunrise.ios~ipad.png\" will be split into \"am.sunrise.ios\" and \"~ipad.png\" if I split on \"~\". I can just get the first part back by referencing [0]. Therefore I get what I'm looking for in one line of code.</p>\n\n<p>Note that <strong><em>image</em></strong> is \"am.sunrise.ios~ipad.png\"</p>\n"},{"tags":[],"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650616128,"creation_date":1582388331,"answer_id":60354140,"question_id":28387887,"body_markdown":"Combining the answers [1](https://stackoverflow.com/a/28387960/4607733) and [2](https://stackoverflow.com/a/28387934/4607733):\r\n\r\n    String str = &quot;am.sunrise.ios@2x.png&quot;;\r\n    String search = &quot;@2x.png&quot;;\r\n    \r\n    if (str.endsWith(search)) {\r\n      str = str.substring(0, str.lastIndexOf(search));\r\n    }","title":"Remove trailing substring from String in Java","body":"<p>Combining the answers <a href=\"https://stackoverflow.com/a/28387960/4607733\">1</a> and <a href=\"https://stackoverflow.com/a/28387934/4607733\">2</a>:</p>\n<pre><code>String str = &quot;am.sunrise.ios@2x.png&quot;;\nString search = &quot;@2x.png&quot;;\n\nif (str.endsWith(search)) {\n  str = str.substring(0, str.lastIndexOf(search));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11569626,"reputation":149,"user_id":8476770,"display_name":"Hannu Varjoranta"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1608929962,"creation_date":1608929962,"answer_id":65451742,"question_id":28387887,"body_markdown":"```\r\nprivate static String removeSuffixIfExists(String key, String suffix) {\r\n    return key.endswith(suffix)\r\n        ? key.substring(0, key.length() - suffix.length())\r\n        : key; \r\n    }\r\n}\r\n\r\nString suffix = &quot;@2x.png&quot;;\r\nString key = &quot;am.sunrise.ios@2x.png&quot;;\r\n\r\nString output = removeSuffixIfExists(key, suffix);\r\n\r\n```","title":"Remove trailing substring from String in Java","body":"<pre><code>private static String removeSuffixIfExists(String key, String suffix) {\n    return key.endswith(suffix)\n        ? key.substring(0, key.length() - suffix.length())\n        : key; \n    }\n}\n\nString suffix = &quot;@2x.png&quot;;\nString key = &quot;am.sunrise.ios@2x.png&quot;;\n\nString output = removeSuffixIfExists(key, suffix);\n\n</code></pre>\n"}],"owner":{"account_id":4311104,"reputation":387,"user_id":3522128,"accept_rate":58,"display_name":"tbcrawford"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16855,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28387960,"answer_count":8,"score":9,"last_activity_date":1667383239,"creation_date":1423346129,"question_id":28387887,"body_markdown":"I am looking to remove parts of a string if it ends in a certain string.\r\n\r\nAn example would be to take this string: `&quot;am.sunrise.ios@2x.png&quot;`\r\n\r\nAnd remove the `@2x.png` so it looks like: `&quot;am.sunrise.ios&quot;`\r\n\r\nHow would I go about checking to see if the end of a string contains `&quot;@2x.png&quot;` and remove it?","title":"Remove trailing substring from String in Java","body":"<p>I am looking to remove parts of a string if it ends in a certain string.</p>\n\n<p>An example would be to take this string: <code>\"am.sunrise.ios@2x.png\"</code></p>\n\n<p>And remove the <code>@2x.png</code> so it looks like: <code>\"am.sunrise.ios\"</code></p>\n\n<p>How would I go about checking to see if the end of a string contains <code>\"@2x.png\"</code> and remove it?</p>\n"},{"tags":["java","wildfly"],"comments":[{"owner":{"account_id":60104,"reputation":19214,"user_id":179669,"accept_rate":97,"display_name":"Bakudan"},"score":0,"creation_date":1530083976,"post_id":51056504,"comment_id":89103896,"body_markdown":"Take look at this [Java URL encoding of query string parameters](https://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters)","body":"Take look at this <a href=\"https://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters\">Java URL encoding of query string parameters</a>"},{"owner":{"display_name":"user4477122"},"score":0,"creation_date":1530084241,"post_id":51056504,"comment_id":89104033,"body_markdown":"can you please hit this https://stackoverflow.com?someVar={}... in my case its not working","body":"can you please hit this <a href=\"https://stackoverflow.com?someVar=\">stackoverflow.com?someVar=</a>{}... in my case its not working"}],"answers":[{"tags":[],"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530151790,"creation_date":1530151790,"answer_id":51073714,"question_id":51056504,"body_markdown":"There is a configuration option in undertow, which allows special characters as umlauts, {}, etc in the URL.\r\n\r\nThe property is: `org.wildfly.undertow.ALLOW_UNESCAPED_CHARACTERS_IN_URL`, e.g.:\r\n\r\n    ./bin/standalone.sh -Dorg.wildfly.undertow.ALLOW_UNESCAPED_CHARACTERS_IN_URL=true\r\n\r\n","title":"Wildfly 13: not able to use {} [] in query string of url","body":"<p>There is a configuration option in undertow, which allows special characters as umlauts, {}, etc in the URL.</p>\n\n<p>The property is: <code>org.wildfly.undertow.ALLOW_UNESCAPED_CHARACTERS_IN_URL</code>, e.g.:</p>\n\n<pre><code>./bin/standalone.sh -Dorg.wildfly.undertow.ALLOW_UNESCAPED_CHARACTERS_IN_URL=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9324571,"reputation":837,"user_id":6922308,"accept_rate":55,"display_name":"Anu Shibin Joseph Raj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667383233,"creation_date":1568724243,"answer_id":57974496,"question_id":51056504,"body_markdown":"In JBoss 7.2, I had to edit the standalone.xml and make the following change to get it working:\r\n\r\n```xml\r\n&lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; allow-unescaped-characters-in-url=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\r\n```\r\n\r\nNote that I have added a new attribute called **allow-unescaped-characters-in-url=&quot;true&quot;**.\r\n\r\nThe -Dorg.wildfly.undertow.ALLOW_UNESCAPED_CHARACTERS_IN_URL=true didn&#39;t work.","title":"Wildfly 13: not able to use {} [] in query string of url","body":"<p>In JBoss 7.2, I had to edit the standalone.xml and make the following change to get it working:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; allow-unescaped-characters-in-url=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\n</code></pre>\n<p>Note that I have added a new attribute called <strong>allow-unescaped-characters-in-url=&quot;true&quot;</strong>.</p>\n<p>The -Dorg.wildfly.undertow.ALLOW_UNESCAPED_CHARACTERS_IN_URL=true didn't work.</p>\n"},{"tags":[],"owner":{"account_id":7833963,"reputation":611,"user_id":5922842,"display_name":"eliarms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576473177,"creation_date":1576473177,"answer_id":59350856,"question_id":51056504,"body_markdown":"&gt; By “default **allow-unescaped-character-in-url**” is set to false and in\n&gt; general, should not be needed as most clients correctly encode\n&gt; characters.  Please take note that setting this to true can be\n&gt; considered as a security risk, as allowing non-standard characters can\n&gt; allow request smuggling attacks in some circumstances.\n\nThat being said, this issue can be resolved by following below steps:\n\n - Login to your Widfly Admin console\n - Navigate to **Configuration=&gt;Subsystems/Subsystem=&gt;web/Settings=&gt;Server/Server=&gt;default-server=&gt;htpp-listener**\n - Click Edit and set “**ALLOW UNESCAPED CHARACTERS IN URL**” to **True**\n - Reload the application\n\nPlease refer to below image for more details\n\n[WIDFLY ALLOW UNESCAPED CHARACTERS IN URL][1]\n\n[1]: https://i.stack.imgur.com/GgeaC.jpg","title":"Wildfly 13: not able to use {} [] in query string of url","body":"<blockquote>\n<p>By “default <strong>allow-unescaped-character-in-url</strong>” is set to false and in\ngeneral, should not be needed as most clients correctly encode\ncharacters.  Please take note that setting this to true can be\nconsidered as a security risk, as allowing non-standard characters can\nallow request smuggling attacks in some circumstances.</p>\n</blockquote>\n<p>That being said, this issue can be resolved by following below steps:</p>\n<ul>\n<li>Login to your Widfly Admin console</li>\n<li>Navigate to <strong>Configuration=&gt;Subsystems/Subsystem=&gt;web/Settings=&gt;Server/Server=&gt;default-server=&gt;htpp-listener</strong></li>\n<li>Click Edit and set “<strong>ALLOW UNESCAPED CHARACTERS IN URL</strong>” to <strong>True</strong></li>\n<li>Reload the application</li>\n</ul>\n<p>Please refer to below image for more details</p>\n<p><a href=\"https://i.stack.imgur.com/GgeaC.jpg\" rel=\"nofollow noreferrer\">WIDFLY ALLOW UNESCAPED CHARACTERS IN URL</a></p>\n"}],"owner":{"display_name":"user4477122"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2389,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1667383233,"creation_date":1530083110,"question_id":51056504,"body_markdown":"Whenever i&#39;m trying to use {} or [] in url query string getting bad request.\r\n\r\nHow i can enable this in wildfly?\r\n\r\neg: https://stackoverflow.com?someVar={}","title":"Wildfly 13: not able to use {} [] in query string of url","body":"<p>Whenever i'm trying to use {} or [] in url query string getting bad request.</p>\n\n<p>How i can enable this in wildfly?</p>\n\n<p>eg: <a href=\"https://stackoverflow.com?someVar=\">https://stackoverflow.com?someVar=</a>{}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1666911395,"post_id":74229049,"comment_id":131053409,"body_markdown":"Q: Have you stepped through your code in the IntelliJ debugger?  This is absolutely the fastest, most effective way to a) troubleshoot this problem, and - more importantly - b) check for OTHER possible issues you might not have discovered yet.  In particular, you want to set breakpoints wherever you&#39;re calling &quot;setRevealed()&quot;: https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html","body":"Q: Have you stepped through your code in the IntelliJ debugger?  This is absolutely the fastest, most effective way to a) troubleshoot this problem, and - more importantly - b) check for OTHER possible issues you might not have discovered yet.  In particular, you want to set breakpoints wherever you&#39;re calling &quot;setRevealed()&quot;: <a href=\"https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666911739,"post_id":74229049,"comment_id":131053474,"body_markdown":"When do you call `setRevealed`?","body":"When do you call <code>setRevealed</code>?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1666911961,"post_id":74229049,"comment_id":131053518,"body_markdown":"`board[i] == board[k]` is also doing a memory location comparison and not evaluating the properties of the object.  You may want to do some research into how `equals` works in Java","body":"<code>board[i] == board[k]</code> is also doing a memory location comparison and not evaluating the properties of the object.  You may want to do some research into how <code>equals</code> works in Java"},{"owner":{"account_id":26162864,"reputation":19,"user_id":19849098,"display_name":"RipTehHomie"},"score":0,"creation_date":1666914114,"post_id":74229049,"comment_id":131053868,"body_markdown":"@MadProgrammer\n\nWhile writing my comment I realized I was writing the board[i].setRevealed wrong, when writing it correctly as:\n\n`\n```\n public boolean guess(int i, int k)\n    {\n        if(board[i].equals(board[k]))\n        {\n            board[i].setRevealed(true);\n            return true;\n        }\n        return false;\n    }\n```\n`\nIt only returns the first guess regardless of if it is true or not when the first guess is above 1.\n\nEdit: I was wrong it seems like it will only return four of the numbers seemingly at random and with different indexes each time.","body":"@MadProgrammer  While writing my comment I realized I was writing the board[i].setRevealed wrong, when writing it correctly as:  ` ```  public boolean guess(int i, int k)     {         if(board[i].equals(board[k]))         {             board[i].setRevealed(true);             return true;         }         return false;     } ``` ` It only returns the first guess regardless of if it is true or not when the first guess is above 1.  Edit: I was wrong it seems like it will only return four of the numbers seemingly at random and with different indexes each time."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666926769,"post_id":74229049,"comment_id":131055511,"body_markdown":"The `Domino.equals(Domino other)` method is suspect. It doesn&#39;t use the `other` parameter. Instead of `public boolean equals(Domino other)`, it could be `public boolean isDoubles ()`.","body":"The <code>Domino.equals(Domino other)</code> method is suspect. It doesn&#39;t use the <code>other</code> parameter. Instead of <code>public boolean equals(Domino other)</code>, it could be <code>public boolean isDoubles ()</code>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666928810,"creation_date":1666928810,"answer_id":74230434,"question_id":74229049,"body_markdown":"So, in your original code, you were using `board[i] == board[k]` which is comparing memory address locations and not the object properties, instead, you should be using `board[i].equals(board[k])`.  \r\n\r\nIn this case you need to override `equals` method of the `Domino` class in order to change how the comparison works, for example...\r\n\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int hash = 7;\r\n        hash = 59 * hash + this.getTop();\r\n        hash = 59 * hash + this.getBottom();\r\n        return hash;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (!(obj instanceof Domino)) {\r\n            return false;\r\n        }\r\n        final Domino other = (Domino) obj;\r\n        if (this.getTop() != other.getTop()) {\r\n            return false;\r\n        }\r\n        if (this.getBottom() != other.getBottom()) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nIt&#39;s important to remember, if you override `equals` you should also override `hashCode` as they have an important relationship to each other.\r\n\r\nYou also never call `setRevealed`, which I guess should be done in `guess`\r\n\r\n    public boolean guess(int i, int k) {\r\n        if (board[i].equals(board[k])) {\r\n            board[i].setRevealed(true);\r\n            board[k].setRevealed(true);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        Main() {\r\n            String message = &quot;Welcome to Memory Lane!&quot; + &quot;\\n&quot;\r\n                    + &quot;Choose two indexes to reveal the corresponding dominoes.&quot; + &quot;\\n&quot;\r\n                    + &quot;If the dominoes match, they stay revealed.&quot; + &quot;\\n&quot;\r\n                    + &quot;Reveal all the dominoes to win the game!&quot; + &quot;\\n&quot;;\r\n\r\n            System.out.println(message);\r\n\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            MemoryLane game = new MemoryLane(2);\r\n\r\n            long start = System.currentTimeMillis();\r\n\r\n            while (!game.gameOver()) {\r\n                // This is just making it easier to cheat.\r\n                System.out.println(game.debug());\r\n                System.out.println(game);\r\n\r\n                System.out.print(&quot;First:  &quot;);\r\n                int first = input.nextInt();\r\n\r\n                System.out.print(&quot;Second: &quot;);\r\n                int second = input.nextInt();\r\n\r\n                game.guess(first, second);\r\n                System.out.println(game.peek(first, second) + &quot;\\n&quot;);\r\n            }\r\n\r\n            long stop = System.currentTimeMillis();\r\n            long elapsed = (stop - start) / 1000;\r\n\r\n            System.out.println(game);\r\n\r\n            System.out.println(&quot;\\nYou win!&quot;);\r\n            System.out.println(&quot;Total time: &quot; + elapsed + &quot;s&quot;);\r\n        }\r\n\r\n        public class Domino {\r\n            private int top, bottom;\r\n            private boolean revealed;\r\n\r\n            public Domino(int x, int y) {\r\n                if (x &gt; y) {\r\n                    top = y;\r\n                    bottom = x;\r\n                } else {\r\n                    top = x;\r\n                    bottom = y;\r\n                }\r\n            }\r\n\r\n            public int getTop() {\r\n                return top;\r\n            }\r\n\r\n            public int getBottom() {\r\n                return bottom;\r\n            }\r\n\r\n            public boolean isRevealed() {\r\n                return revealed;\r\n            }\r\n\r\n            public void setRevealed(boolean revealed) {\r\n                this.revealed = revealed;\r\n            }\r\n\r\n            @Override\r\n            public int hashCode() {\r\n                int hash = 7;\r\n                hash = 59 * hash + this.getTop();\r\n                hash = 59 * hash + this.getBottom();\r\n                return hash;\r\n            }\r\n\r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (this == obj) {\r\n                    return true;\r\n                }\r\n                if (!(obj instanceof Domino)) {\r\n                    return false;\r\n                }\r\n                final Domino other = (Domino) obj;\r\n                if (this.getTop() != other.getTop()) {\r\n                    return false;\r\n                }\r\n                if (this.getBottom() != other.getBottom()) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n\r\n        public class MemoryLane {\r\n            private Domino[] board;\r\n\r\n            public MemoryLane(int max) {\r\n                board = new Domino[(max * max) + max];\r\n\r\n                int i = 0;\r\n                for (int top = 1; top &lt;= max; top++) {\r\n                    for (int bot = 1; bot &lt;= max; bot++) {\r\n                        // make new Domino(2x) +\r\n                        // save into array\r\n                        if (top &lt;= bot) {\r\n                            board[i] = new Domino(top, bot);\r\n                            i++;\r\n                            board[i] = new Domino(top, bot);\r\n                            i++;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                shuffle();\r\n            }\r\n\r\n            private void shuffle() {\r\n                int index;\r\n                Random random = new Random();\r\n                for (int i = board.length - 1; i &gt; 0; i--) {\r\n                    index = random.nextInt(i + 1);\r\n                    if (index != i) {\r\n                        Domino temp = board[index];\r\n                        board[index] = board[i];\r\n                        board[i] = temp;\r\n                    }\r\n                }\r\n            }\r\n\r\n            public boolean guess(int i, int k) {\r\n                if (board[i].equals(board[k])) {\r\n                    board[i].setRevealed(true);\r\n                    board[k].setRevealed(true);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            public String peek(int a, int b) {\r\n                String text = new String();\r\n                text += (&quot;[&quot; + board[a].getTop() + &quot;] [&quot; + board[b].getTop() + &quot;]\\n&quot;);\r\n                text += (&quot;[&quot; + board[a].getBottom() + &quot;] [&quot; + board[b].getBottom() + &quot;]\\n&quot;);\r\n\r\n                return text;\r\n            }\r\n\r\n            public boolean gameOver() {\r\n\r\n                int count = 0;\r\n\r\n                for (int i = 0; i &lt; board.length; i++) {\r\n                    if (board[i].isRevealed()) {\r\n                        count++;\r\n                    }\r\n                }\r\n\r\n                return (count == board.length);\r\n            }\r\n\r\n            public String debug() {\r\n                String text = new String();\r\n\r\n                for (int i = 0; i &lt; board.length; i++) {\r\n                    text += (&quot;[&quot; + board[i].getTop() + &quot;] &quot;);\r\n                }\r\n\r\n                text += (&#39;\\n&#39;);\r\n\r\n                for (int i = 0; i &lt; board.length; i++) {\r\n                    text += (&quot;[&quot; + board[i].getBottom() + &quot;] &quot;);\r\n                }\r\n\r\n                return text;\r\n            }\r\n\r\n            public String toString() {\r\n                String text = new String();\r\n\r\n                for (int i = 0; i &lt; board.length; i++) {\r\n                    if (board[i].isRevealed()) {\r\n                        text += (&quot;[&quot; + board[i].getTop() + &quot;] &quot;);\r\n                    } else {\r\n                        text += (&quot;[ ] &quot;);\r\n                    }\r\n                }\r\n\r\n                text += (&#39;\\n&#39;);\r\n\r\n                for (int i = 0; i &lt; board.length; i++) {\r\n                    if (board[i].isRevealed()) {\r\n                        text += (&quot;[&quot; + board[i].getBottom() + &quot;] &quot;);\r\n                    } else {\r\n                        text += (&quot;[ ] &quot;);\r\n                    }\r\n                }\r\n\r\n                return text;\r\n            }\r\n        }\r\n    }\r\n","title":"Memory game not revealing correct guesses","body":"<p>So, in your original code, you were using <code>board[i] == board[k]</code> which is comparing memory address locations and not the object properties, instead, you should be using <code>board[i].equals(board[k])</code>.</p>\n<p>In this case you need to override <code>equals</code> method of the <code>Domino</code> class in order to change how the comparison works, for example...</p>\n<pre><code>@Override\npublic int hashCode() {\n    int hash = 7;\n    hash = 59 * hash + this.getTop();\n    hash = 59 * hash + this.getBottom();\n    return hash;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj) {\n        return true;\n    }\n    if (!(obj instanceof Domino)) {\n        return false;\n    }\n    final Domino other = (Domino) obj;\n    if (this.getTop() != other.getTop()) {\n        return false;\n    }\n    if (this.getBottom() != other.getBottom()) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>It's important to remember, if you override <code>equals</code> you should also override <code>hashCode</code> as they have an important relationship to each other.</p>\n<p>You also never call <code>setRevealed</code>, which I guess should be done in <code>guess</code></p>\n<pre><code>public boolean guess(int i, int k) {\n    if (board[i].equals(board[k])) {\n        board[i].setRevealed(true);\n        board[k].setRevealed(true);\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    Main() {\n        String message = &quot;Welcome to Memory Lane!&quot; + &quot;\\n&quot;\n                + &quot;Choose two indexes to reveal the corresponding dominoes.&quot; + &quot;\\n&quot;\n                + &quot;If the dominoes match, they stay revealed.&quot; + &quot;\\n&quot;\n                + &quot;Reveal all the dominoes to win the game!&quot; + &quot;\\n&quot;;\n\n        System.out.println(message);\n\n        Scanner input = new Scanner(System.in);\n\n        MemoryLane game = new MemoryLane(2);\n\n        long start = System.currentTimeMillis();\n\n        while (!game.gameOver()) {\n            // This is just making it easier to cheat.\n            System.out.println(game.debug());\n            System.out.println(game);\n\n            System.out.print(&quot;First:  &quot;);\n            int first = input.nextInt();\n\n            System.out.print(&quot;Second: &quot;);\n            int second = input.nextInt();\n\n            game.guess(first, second);\n            System.out.println(game.peek(first, second) + &quot;\\n&quot;);\n        }\n\n        long stop = System.currentTimeMillis();\n        long elapsed = (stop - start) / 1000;\n\n        System.out.println(game);\n\n        System.out.println(&quot;\\nYou win!&quot;);\n        System.out.println(&quot;Total time: &quot; + elapsed + &quot;s&quot;);\n    }\n\n    public class Domino {\n        private int top, bottom;\n        private boolean revealed;\n\n        public Domino(int x, int y) {\n            if (x &gt; y) {\n                top = y;\n                bottom = x;\n            } else {\n                top = x;\n                bottom = y;\n            }\n        }\n\n        public int getTop() {\n            return top;\n        }\n\n        public int getBottom() {\n            return bottom;\n        }\n\n        public boolean isRevealed() {\n            return revealed;\n        }\n\n        public void setRevealed(boolean revealed) {\n            this.revealed = revealed;\n        }\n\n        @Override\n        public int hashCode() {\n            int hash = 7;\n            hash = 59 * hash + this.getTop();\n            hash = 59 * hash + this.getBottom();\n            return hash;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj) {\n                return true;\n            }\n            if (!(obj instanceof Domino)) {\n                return false;\n            }\n            final Domino other = (Domino) obj;\n            if (this.getTop() != other.getTop()) {\n                return false;\n            }\n            if (this.getBottom() != other.getBottom()) {\n                return false;\n            }\n            return true;\n        }\n    }\n\n    public class MemoryLane {\n        private Domino[] board;\n\n        public MemoryLane(int max) {\n            board = new Domino[(max * max) + max];\n\n            int i = 0;\n            for (int top = 1; top &lt;= max; top++) {\n                for (int bot = 1; bot &lt;= max; bot++) {\n                    // make new Domino(2x) +\n                    // save into array\n                    if (top &lt;= bot) {\n                        board[i] = new Domino(top, bot);\n                        i++;\n                        board[i] = new Domino(top, bot);\n                        i++;\n                    }\n                }\n            }\n\n            shuffle();\n        }\n\n        private void shuffle() {\n            int index;\n            Random random = new Random();\n            for (int i = board.length - 1; i &gt; 0; i--) {\n                index = random.nextInt(i + 1);\n                if (index != i) {\n                    Domino temp = board[index];\n                    board[index] = board[i];\n                    board[i] = temp;\n                }\n            }\n        }\n\n        public boolean guess(int i, int k) {\n            if (board[i].equals(board[k])) {\n                board[i].setRevealed(true);\n                board[k].setRevealed(true);\n                return true;\n            }\n            return false;\n        }\n\n        public String peek(int a, int b) {\n            String text = new String();\n            text += (&quot;[&quot; + board[a].getTop() + &quot;] [&quot; + board[b].getTop() + &quot;]\\n&quot;);\n            text += (&quot;[&quot; + board[a].getBottom() + &quot;] [&quot; + board[b].getBottom() + &quot;]\\n&quot;);\n\n            return text;\n        }\n\n        public boolean gameOver() {\n\n            int count = 0;\n\n            for (int i = 0; i &lt; board.length; i++) {\n                if (board[i].isRevealed()) {\n                    count++;\n                }\n            }\n\n            return (count == board.length);\n        }\n\n        public String debug() {\n            String text = new String();\n\n            for (int i = 0; i &lt; board.length; i++) {\n                text += (&quot;[&quot; + board[i].getTop() + &quot;] &quot;);\n            }\n\n            text += ('\\n');\n\n            for (int i = 0; i &lt; board.length; i++) {\n                text += (&quot;[&quot; + board[i].getBottom() + &quot;] &quot;);\n            }\n\n            return text;\n        }\n\n        public String toString() {\n            String text = new String();\n\n            for (int i = 0; i &lt; board.length; i++) {\n                if (board[i].isRevealed()) {\n                    text += (&quot;[&quot; + board[i].getTop() + &quot;] &quot;);\n                } else {\n                    text += (&quot;[ ] &quot;);\n                }\n            }\n\n            text += ('\\n');\n\n            for (int i = 0; i &lt; board.length; i++) {\n                if (board[i].isRevealed()) {\n                    text += (&quot;[&quot; + board[i].getBottom() + &quot;] &quot;);\n                } else {\n                    text += (&quot;[ ] &quot;);\n                }\n            }\n\n            return text;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26162864,"reputation":19,"user_id":19849098,"display_name":"RipTehHomie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667383182,"creation_date":1666995141,"answer_id":74241381,"question_id":74229049,"body_markdown":"I figured it out\r\n\r\nThe problem was my equals method was comparing top to bottom which is why i was getting such weird results. I changed it to\r\n\r\n```java\r\n   public boolean equals(Domino other){\r\n       return this.top == other.top &amp;&amp; this.bottom == other.bottom\r\n   }\r\n```\r\n\r\nand now it works perfectly fine thanks for all of the help guys!","title":"Memory game not revealing correct guesses","body":"<p>I figured it out</p>\n<p>The problem was my equals method was comparing top to bottom which is why i was getting such weird results. I changed it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public boolean equals(Domino other){\n       return this.top == other.top &amp;&amp; this.bottom == other.bottom\n   }\n</code></pre>\n<p>and now it works perfectly fine thanks for all of the help guys!</p>\n"}],"owner":{"account_id":26162864,"reputation":19,"user_id":19849098,"display_name":"RipTehHomie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1667383182,"creation_date":1666911073,"question_id":74229049,"body_markdown":"This program is a Domino memory game where you flip dominos until you make a correct guess where the correct dominos are supposed to stay revealed. However the problem is that while the game does work correctly the dominos do not stay revealed nor does the game end.\r\n\r\nThis is the code for my Domino Class \r\n`\r\n```\r\npublic class Domino {\r\n    private int top, bottom;\r\n    private boolean revealed;\r\n\r\n    public Domino(int x, int y) {\r\n        if (x &gt; y) {\r\n            top = y;\r\n            bottom = x;\r\n        } else {\r\n            top = x;\r\n            bottom = y;\r\n        }\r\n    }\r\n\r\n    public int getTop() {\r\n        return top;\r\n    }\r\n\r\n    public int getBottom() {\r\n        return bottom;\r\n    }\r\n\r\n    \r\n    public boolean isRevealed() {\r\n        if (revealed)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    \r\n    public void setRevealed(boolean revealed) {\r\n        this.revealed = revealed;\r\n    }\r\n\r\n  \r\n    public boolean equals(Domino other) {\r\n        if (top == bottom)\r\n            return true;\r\n        return false;\r\n    }\r\n}\r\n```\r\n`\r\n\r\nThen here is the memory game class (called MemoryLane) \r\n\r\n`\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class MemoryLane\r\n{\r\n    private Domino[] board;\r\n\r\n    \r\n    public MemoryLane(int max)\r\n    {\r\n        board = new Domino[(max * max) + max];\r\n\r\n        int i = 0;\r\n        for(int top = 1; top &lt;= max; top++)\r\n            for(int bot = 1; bot &lt;= max; bot++)\r\n            {\r\n                // make new Domino(2x) +\r\n                // save into array\r\n                if(top &lt;= bot)\r\n                {\r\n                    board[i] = new Domino(top, bot);\r\n                    i++;\r\n                    board[i] = new Domino(top, bot);\r\n                    i++;\r\n                }\r\n            }\r\n\r\n        shuffle();\r\n    }\r\n\r\n    \r\n    private void shuffle()\r\n    {\r\n        int index;\r\n        Random random = new Random();\r\n        for (int i = board.length - 1; i &gt; 0; i--)\r\n        {\r\n            index = random.nextInt(i + 1);\r\n            if (index != i)\r\n            {\r\n                Domino temp = board[index];\r\n                board[index] = board[i];\r\n                board[i] = temp;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public boolean guess(int i, int k)\r\n    {\r\n        if(board[i] == board[k])\r\n        {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    \r\n    public String peek(int a, int b)\r\n    {\r\n        String text = new String();\r\n        text += (&quot;[&quot; + board[a].getTop()+ &quot;] [&quot; + board[b].getTop()+ &quot;]\\n&quot;);\r\n        text += (&quot;[&quot; + board[a].getBottom()+ &quot;] [&quot; + board[b].getBottom()+ &quot;]\\n&quot;);\r\n\r\n        return text;\r\n    }\r\n    \r\n    public boolean gameOver() {\r\n\r\n        int count = 0;\r\n\r\n        for(int i=0; i&lt; board.length; i++)\r\n        {\r\n            if(board[i].isRevealed())\r\n                count ++;\r\n        }\r\n\r\n        return (count == board.length);\r\n    }\r\n\r\n \r\n    public String toString() {\r\n        String text = new String();\r\n\r\n        for(int i=0; i&lt; board.length; i++)\r\n        {\r\n            if(board[i].isRevealed())\r\n                text += (&quot;[&quot; + board[i].getTop()+ &quot;] &quot;);\r\n            else\r\n                text += (&quot;[ ] &quot;);\r\n        }\r\n\r\n        text += (&#39;\\n&#39;);\r\n\r\n        for(int i=0; i&lt; board.length; i++)\r\n        {\r\n            if(board[i].isRevealed())\r\n                text +=  (&quot;[&quot; + board[i].getBottom()+ &quot;] &quot;);\r\n            else\r\n                text += (&quot;[ ] &quot;);\r\n        }\r\n\r\n        return text;\r\n    }\r\n}\r\n```\r\n`\r\nThen here is the driver (the driver was provided to me by a third party so it must work as it is presented and cannot be changed)\r\n\r\n`\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class MemoryLaneDriver\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        String message = &quot;Welcome to Memory Lane!&quot; + &quot;\\n&quot; +\r\n                &quot;Choose two indexes to reveal the corresponding dominoes.&quot; + &quot;\\n&quot; +\r\n                &quot;If the dominoes match, they stay revealed.&quot; + &quot;\\n&quot; +\r\n                &quot;Reveal all the dominoes to win the game!&quot; + &quot;\\n&quot;;\r\n\r\n        System.out.println(message);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        MemoryLane game = new MemoryLane(2);\r\n\r\n        long start = System.currentTimeMillis();\r\n\r\n        while(!game.gameOver())\r\n        {\r\n            System.out.println(game);\r\n\r\n            System.out.print(&quot;First:  &quot;);\r\n            int first = input.nextInt();\r\n\r\n            System.out.print(&quot;Second: &quot;);\r\n            int second = input.nextInt();\r\n\r\n            game.guess(first, second);\r\n            System.out.println(game.peek(first, second) + &quot;\\n&quot;);\r\n        }\r\n\r\n        long stop = System.currentTimeMillis();\r\n        long elapsed = (stop - start) / 1000;\r\n\r\n        System.out.println(game);\r\n\r\n        System.out.println(&quot;\\nYou win!&quot;);\r\n        System.out.println(&quot;Total time: &quot; + elapsed + &quot;s&quot;);\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nI have tried using the methods in Domino like setRevealed and isRevealed in the guess method (for example when i try board.setRevealed = true or board.isRevealed = true), but it wont work and turns up red in IntelliJ. I can also not use any Stringbuilder uses (such as append) because it is outside of what has been covered in class.\r\n\r\nWhen I say the game is working correctly, I mean that it outputs my choices like:\r\n\r\n`\r\n```\r\nWelcome to Memory Lane!\r\nChoose two indexes to reveal the corresponding dominoes.\r\nIf the dominoes match, they stay revealed.\r\nReveal all the dominoes to win the game!\r\n\r\n[ ] [ ] [ ] [ ] [ ] [ ] \r\n[ ] [ ] [ ] [ ] [ ] [ ] \r\nFirst:  1\r\nSecond: 3\r\n[2] [2]\r\n[2] [2]\r\n\r\n\r\n[ ] [ ] [ ] [ ] [ ] [ ] \r\n[ ] [ ] [ ] [ ] [ ] [ ] \r\nFirst:\r\n```\r\n`\r\n\r\nHowever as you can see it is not revealing the correct guess, and even if I guess all of the Dominos correctly the game does not end. ","title":"Memory game not revealing correct guesses","body":"<p>This program is a Domino memory game where you flip dominos until you make a correct guess where the correct dominos are supposed to stay revealed. However the problem is that while the game does work correctly the dominos do not stay revealed nor does the game end.</p>\n<p>This is the code for my Domino Class\n`</p>\n<pre><code>public class Domino {\n    private int top, bottom;\n    private boolean revealed;\n\n    public Domino(int x, int y) {\n        if (x &gt; y) {\n            top = y;\n            bottom = x;\n        } else {\n            top = x;\n            bottom = y;\n        }\n    }\n\n    public int getTop() {\n        return top;\n    }\n\n    public int getBottom() {\n        return bottom;\n    }\n\n    \n    public boolean isRevealed() {\n        if (revealed)\n            return true;\n        return false;\n    }\n\n    \n    public void setRevealed(boolean revealed) {\n        this.revealed = revealed;\n    }\n\n  \n    public boolean equals(Domino other) {\n        if (top == bottom)\n            return true;\n        return false;\n    }\n}\n</code></pre>\n<p>`</p>\n<p>Then here is the memory game class (called MemoryLane)</p>\n<p>`</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class MemoryLane\n{\n    private Domino[] board;\n\n    \n    public MemoryLane(int max)\n    {\n        board = new Domino[(max * max) + max];\n\n        int i = 0;\n        for(int top = 1; top &lt;= max; top++)\n            for(int bot = 1; bot &lt;= max; bot++)\n            {\n                // make new Domino(2x) +\n                // save into array\n                if(top &lt;= bot)\n                {\n                    board[i] = new Domino(top, bot);\n                    i++;\n                    board[i] = new Domino(top, bot);\n                    i++;\n                }\n            }\n\n        shuffle();\n    }\n\n    \n    private void shuffle()\n    {\n        int index;\n        Random random = new Random();\n        for (int i = board.length - 1; i &gt; 0; i--)\n        {\n            index = random.nextInt(i + 1);\n            if (index != i)\n            {\n                Domino temp = board[index];\n                board[index] = board[i];\n                board[i] = temp;\n            }\n        }\n    }\n\n\n    public boolean guess(int i, int k)\n    {\n        if(board[i] == board[k])\n        {\n            return true;\n        }\n        return false;\n    }\n\n    \n    public String peek(int a, int b)\n    {\n        String text = new String();\n        text += (&quot;[&quot; + board[a].getTop()+ &quot;] [&quot; + board[b].getTop()+ &quot;]\\n&quot;);\n        text += (&quot;[&quot; + board[a].getBottom()+ &quot;] [&quot; + board[b].getBottom()+ &quot;]\\n&quot;);\n\n        return text;\n    }\n    \n    public boolean gameOver() {\n\n        int count = 0;\n\n        for(int i=0; i&lt; board.length; i++)\n        {\n            if(board[i].isRevealed())\n                count ++;\n        }\n\n        return (count == board.length);\n    }\n\n \n    public String toString() {\n        String text = new String();\n\n        for(int i=0; i&lt; board.length; i++)\n        {\n            if(board[i].isRevealed())\n                text += (&quot;[&quot; + board[i].getTop()+ &quot;] &quot;);\n            else\n                text += (&quot;[ ] &quot;);\n        }\n\n        text += ('\\n');\n\n        for(int i=0; i&lt; board.length; i++)\n        {\n            if(board[i].isRevealed())\n                text +=  (&quot;[&quot; + board[i].getBottom()+ &quot;] &quot;);\n            else\n                text += (&quot;[ ] &quot;);\n        }\n\n        return text;\n    }\n}\n</code></pre>\n<p>`\nThen here is the driver (the driver was provided to me by a third party so it must work as it is presented and cannot be changed)</p>\n<p>`</p>\n<pre><code>import java.util.Scanner;\n\npublic class MemoryLaneDriver\n{\n    public static void main(String[] args)\n    {\n        String message = &quot;Welcome to Memory Lane!&quot; + &quot;\\n&quot; +\n                &quot;Choose two indexes to reveal the corresponding dominoes.&quot; + &quot;\\n&quot; +\n                &quot;If the dominoes match, they stay revealed.&quot; + &quot;\\n&quot; +\n                &quot;Reveal all the dominoes to win the game!&quot; + &quot;\\n&quot;;\n\n        System.out.println(message);\n\n        Scanner input = new Scanner(System.in);\n\n        MemoryLane game = new MemoryLane(2);\n\n        long start = System.currentTimeMillis();\n\n        while(!game.gameOver())\n        {\n            System.out.println(game);\n\n            System.out.print(&quot;First:  &quot;);\n            int first = input.nextInt();\n\n            System.out.print(&quot;Second: &quot;);\n            int second = input.nextInt();\n\n            game.guess(first, second);\n            System.out.println(game.peek(first, second) + &quot;\\n&quot;);\n        }\n\n        long stop = System.currentTimeMillis();\n        long elapsed = (stop - start) / 1000;\n\n        System.out.println(game);\n\n        System.out.println(&quot;\\nYou win!&quot;);\n        System.out.println(&quot;Total time: &quot; + elapsed + &quot;s&quot;);\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>I have tried using the methods in Domino like setRevealed and isRevealed in the guess method (for example when i try board.setRevealed = true or board.isRevealed = true), but it wont work and turns up red in IntelliJ. I can also not use any Stringbuilder uses (such as append) because it is outside of what has been covered in class.</p>\n<p>When I say the game is working correctly, I mean that it outputs my choices like:</p>\n<p>`</p>\n<pre><code>Welcome to Memory Lane!\nChoose two indexes to reveal the corresponding dominoes.\nIf the dominoes match, they stay revealed.\nReveal all the dominoes to win the game!\n\n[ ] [ ] [ ] [ ] [ ] [ ] \n[ ] [ ] [ ] [ ] [ ] [ ] \nFirst:  1\nSecond: 3\n[2] [2]\n[2] [2]\n\n\n[ ] [ ] [ ] [ ] [ ] [ ] \n[ ] [ ] [ ] [ ] [ ] [ ] \nFirst:\n</code></pre>\n<p>`</p>\n<p>However as you can see it is not revealing the correct guess, and even if I guess all of the Dominos correctly the game does not end.</p>\n"},{"tags":["java","tree","java-stream","flatten"],"comments":[{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1547490666,"post_id":54187121,"comment_id":95202626,"body_markdown":"@Ricola That doesn&#39;t use streams in any way. How is it a possible dupe?","body":"@Ricola That doesn&#39;t use streams in any way. How is it a possible dupe?"},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1547490809,"post_id":54187121,"comment_id":95202683,"body_markdown":"The second most voted answer (mine actually) uses streams. Anyway I copied and adapted it as an answer here.","body":"The second most voted answer (mine actually) uses streams. Anyway I copied and adapted it as an answer here."},{"owner":{"account_id":11706032,"reputation":1690,"user_id":8569585,"display_name":"Lucas Noetzold"},"score":0,"creation_date":1547490882,"post_id":54187121,"comment_id":95202716,"body_markdown":"@Ricola having a specific title helps someone googling for this, like me a few moments ago","body":"@Ricola having a specific title helps someone googling for this, like me a few moments ago"}],"answers":[{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667383133,"creation_date":1547490642,"answer_id":54187222,"question_id":54187121,"body_markdown":"Lets call your class `Node`. In that class, add the method (assuming `getChildren()` never return `null`) :\r\n\r\n    public Stream&lt;Node&gt; streamAll(){\r\n        return Stream.concat(Stream.of(this), getChildren().stream().flatMap(Node::streamAll));\r\n    }\r\n\r\nThen to get a list, you can simply call\r\n\r\n    rootNode.streamAll().collect(Collectors.toList());\r\n\r\nor since java 16\r\n\r\n    rootNode.streamAll().toList();","title":"Flatmaping a n-order tree structure : Java Streams","body":"<p>Lets call your class <code>Node</code>. In that class, add the method (assuming <code>getChildren()</code> never return <code>null</code>) :</p>\n<pre><code>public Stream&lt;Node&gt; streamAll(){\n    return Stream.concat(Stream.of(this), getChildren().stream().flatMap(Node::streamAll));\n}\n</code></pre>\n<p>Then to get a list, you can simply call</p>\n<pre><code>rootNode.streamAll().collect(Collectors.toList());\n</code></pre>\n<p>or since java 16</p>\n<pre><code>rootNode.streamAll().toList();\n</code></pre>\n"}],"owner":{"account_id":11706032,"reputation":1690,"user_id":8569585,"display_name":"Lucas Noetzold"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1547491752,"accepted_answer_id":54187222,"answer_count":1,"score":1,"last_activity_date":1667383133,"creation_date":1547490174,"question_id":54187121,"body_markdown":"Suppose I have a non-binary tree structure (each node may have `n` child nodes). In that sense, what could be a good method for flattening the whole tree into a single list using java &lt;b&gt;streams&lt;/b&gt;?  \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    rootNode.getChildren().stream()\r\n        .flatMap(node -&gt; node.getChildren().stream())\r\n        .collect(Collectors.toList());\r\n\r\nThis example is what I would do for a single level flattening, and still such would not include the root node (which is desired).","title":"Flatmaping a n-order tree structure : Java Streams","body":"<p>Suppose I have a non-binary tree structure (each node may have <code>n</code> child nodes). In that sense, what could be a good method for flattening the whole tree into a single list using java <b>streams</b>?<br>\n</p>\n\n<pre><code>rootNode.getChildren().stream()\n    .flatMap(node -&gt; node.getChildren().stream())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>This example is what I would do for a single level flattening, and still such would not include the root node (which is desired).</p>\n"},{"tags":["java","android","api","android-studio","jitsi-meet"],"owner":{"account_id":24620226,"reputation":11,"user_id":18520703,"display_name":"Aarielle Aariel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667383003,"creation_date":1666460965,"question_id":74165830,"body_markdown":"I am using Jitsi Meet library for a conference call in Android Studio project. It&#39;s working fine but the problem is I want to set each member&#39;s name with the person&#39;s profile name and the person could not change their name while joining. I have searched for this problem and I found that using `readOnlyName` will solve the problem but after using it&#39;s still not working. Also, I need that when the person creates the conference only the first person should be a moderator. My code just sets a moderator role for every person who joins the conference.\r\n```\r\nJitsiMeetUserInfo jitsiMeetUserInfo = new JitsiMeetUserInfo();\r\njitsiMeetUserInfo.setDisplayName(username);\r\njitsiMeetUserInfo.setEmail(&quot;abc@xyz.com&quot;);\r\n        \r\nJitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder()\r\n    .setRoom(practice_edittext.getText().toString())\r\n    .setFeatureFlag(&quot;invite.enabled&quot;,false)\r\n    .setUserInfo(jitsiMeetUserInfo)\r\n    .setConfigOverride(&quot;enableInsecureRoomNameWarning&quot;, false)\r\n    .setConfigOverride(&quot;invite.enabled&quot;, false)\r\n    .setFeatureFlag(&quot;readOnlyName&quot;, true)\r\n    .setConfigOverride(&quot;hideAddRoomButton&quot;, false)\r\n    .build();\r\n    \r\nJitsiMeetActivity.launch(Main_Activity.this,options);\r\n```\r\nI am using the latest version of Jitsi Meet library\r\n```\r\nimplementation (&#39;org.jitsi.react:jitsi-meet-sdk:6.2.0&#39;) { transitive = true }\r\n```","title":"Problem of read only name using Jitsi Meet library","body":"<p>I am using Jitsi Meet library for a conference call in Android Studio project. It's working fine but the problem is I want to set each member's name with the person's profile name and the person could not change their name while joining. I have searched for this problem and I found that using <code>readOnlyName</code> will solve the problem but after using it's still not working. Also, I need that when the person creates the conference only the first person should be a moderator. My code just sets a moderator role for every person who joins the conference.</p>\n<pre><code>JitsiMeetUserInfo jitsiMeetUserInfo = new JitsiMeetUserInfo();\njitsiMeetUserInfo.setDisplayName(username);\njitsiMeetUserInfo.setEmail(&quot;abc@xyz.com&quot;);\n        \nJitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder()\n    .setRoom(practice_edittext.getText().toString())\n    .setFeatureFlag(&quot;invite.enabled&quot;,false)\n    .setUserInfo(jitsiMeetUserInfo)\n    .setConfigOverride(&quot;enableInsecureRoomNameWarning&quot;, false)\n    .setConfigOverride(&quot;invite.enabled&quot;, false)\n    .setFeatureFlag(&quot;readOnlyName&quot;, true)\n    .setConfigOverride(&quot;hideAddRoomButton&quot;, false)\n    .build();\n    \nJitsiMeetActivity.launch(Main_Activity.this,options);\n</code></pre>\n<p>I am using the latest version of Jitsi Meet library</p>\n<pre><code>implementation ('org.jitsi.react:jitsi-meet-sdk:6.2.0') { transitive = true }\n</code></pre>\n"},{"tags":["java","android-wifi","android-11"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660797482,"post_id":73397130,"comment_id":129618710,"body_markdown":"Just to be sure: Can you please confirm that the Lenovo tablet WiFi is turned on and working correctly, specifically that you can see a list of available networks from the android settings. You might want to check permissions before you attempt to get the WiFi list.","body":"Just to be sure: Can you please confirm that the Lenovo tablet WiFi is turned on and working correctly, specifically that you can see a list of available networks from the android settings. You might want to check permissions before you attempt to get the WiFi list."},{"owner":{"account_id":17012850,"reputation":111,"user_id":12307480,"display_name":"Shehzad Raheem"},"score":0,"creation_date":1660803746,"post_id":73397130,"comment_id":129619899,"body_markdown":"Lenovo tablet Wi-Fi is turned on and working correctly, and I have also accepted the Permissions.","body":"Lenovo tablet Wi-Fi is turned on and working correctly, and I have also accepted the Permissions."},{"owner":{"account_id":17012850,"reputation":111,"user_id":12307480,"display_name":"Shehzad Raheem"},"score":0,"creation_date":1660803815,"post_id":73397130,"comment_id":129619918,"body_markdown":"It&#39;s not showing available Wi-Fi list.","body":"It&#39;s not showing available Wi-Fi list."}],"owner":{"account_id":17012850,"reputation":111,"user_id":12307480,"display_name":"Shehzad Raheem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667382850,"creation_date":1660793261,"question_id":73397130,"body_markdown":"Basically, I&#39;m trying to show **available Wi-Fi** list in my **Lenovo-Tablet Android 11**, but it&#39;s **not working**. The same code is working fine for **BMAX-Tablet Android 11** and I can see the list.\r\nHere is the code, that is working fine for **BMAX-Tablet Android 11** but not for the **Lenovo-Tablet Android 11**.\r\n\r\n    public class WifiConnectionActivity extends ThermalogBaseActivity implements \r\n    WifiItemListener {\r\n\r\n    private static final int MY_REQUEST_CODE = 123;\r\n    private static final String TAG = WifiConnectionActivity.class.getCanonicalName();\r\n    List&lt;ScanResult&gt; list;\r\n    ProgressDialog dialog;\r\n    RecyclerView wifiRecyclerView;\r\n    WifiAdapter wifiAdapter;\r\n    private WifiManager wifiManager;\r\n    private WifiBroadcastReceiver wifiReceiver;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_wifi_connection);\r\n        disableButtonsSettings();\r\n\r\n        dialog = new ProgressDialog(WifiConnectionActivity.this);\r\n        this.wifiManager = (WifiManager) this.getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n        checkPermission();\r\n\r\n        wifiRecyclerView = findViewById(R.id.wifi_recycler_view);\r\n        wifiRecyclerView.setLayoutManager(new LinearLayoutManager(WifiConnectionActivity.this));\r\n        wifiRecyclerView.setHasFixedSize(true);\r\n\r\n    }\r\n\r\n    void checkPermission() {\r\n        dialog.setTitle(&quot;Loading&quot;);\r\n        dialog.setMessage(&quot;Please wait...&quot;);\r\n        dialog.show();\r\n        int permission1 = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION);\r\n        // Check for permissions\r\n        if (permission1 != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            Log.d(TAG, &quot;Requesting Permissions&quot;);\r\n\r\n            // Request permissions\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{\r\n                            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                            Manifest.permission.ACCESS_FINE_LOCATION,\r\n                            Manifest.permission.ACCESS_WIFI_STATE,\r\n                            Manifest.permission.ACCESS_NETWORK_STATE\r\n                    }, MY_REQUEST_CODE);\r\n            dialog.dismiss();\r\n            return;\r\n        }\r\n        wifiManager.startScan();\r\n    }\r\n\r\n    void showAvailableWifiList(List&lt;ScanResult&gt; list) {\r\n        wifiAdapter = new WifiAdapter(WifiConnectionActivity.this, list, this::getItemPosition);\r\n        wifiRecyclerView.setAdapter(wifiAdapter);\r\n        wifiAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode) {\r\n            case MY_REQUEST_CODE: {\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Log.d(TAG, &quot;Permission Granted: &quot; + permissions[0]);\r\n                    // Start Scan Wifi.\r\n                    wifiManager.startScan();\r\n                } else {\r\n                    // Permission denied, Disable the\r\n                    // functionality that depends on this permission.\r\n                    Log.d(TAG, &quot;Permission Denied: &quot; + permissions[0]);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPostResume() {\r\n        super.onPostResume();\r\n        wifiReceiver = new WifiBroadcastReceiver(wifiManager);\r\n        IntentFilter intentFilter = new IntentFilter();\r\n        intentFilter.addAction(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION);\r\n        registerReceiver(wifiReceiver, intentFilter);\r\n    }\r\n    \r\n\r\n    // Define class to listen to broadcasts\r\n    class WifiBroadcastReceiver extends BroadcastReceiver {\r\n\r\n        WifiManager wifiManager;\r\n\r\n        public WifiBroadcastReceiver(WifiManager wifiManager) {\r\n            this.wifiManager = wifiManager;\r\n        }\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            boolean isUpdated = intent.getBooleanExtra(WifiManager.EXTRA_RESULTS_UPDATED, false);\r\n            if (isUpdated) {\r\n                // dialog.show(AdminSettingsActivity.this, &quot;&quot;, &quot;Loading. Please wait...&quot;, true);\r\n                list = wifiManager.getScanResults();\r\n                showAvailableWifiList(list);\r\n            } else {\r\n                Log.d(TAG, &quot;Scan not OK&quot;);\r\n            }\r\n            dialog.dismiss();\r\n        }\r\n    }\r\n\r\n    }\r\n\r\nI&#39;m not getting any error in case of **Lenovo-Tablet Android 11**.\r\nHow can I resolve this?\r\n\r\n\r\n**Solution: \r\n         Enable tablet location.**\r\n","title":"Unable to fetch Wi-Fi list in Android 11 Lenovo Tablet","body":"<p>Basically, I'm trying to show <strong>available Wi-Fi</strong> list in my <strong>Lenovo-Tablet Android 11</strong>, but it's <strong>not working</strong>. The same code is working fine for <strong>BMAX-Tablet Android 11</strong> and I can see the list.\nHere is the code, that is working fine for <strong>BMAX-Tablet Android 11</strong> but not for the <strong>Lenovo-Tablet Android 11</strong>.</p>\n<pre><code>public class WifiConnectionActivity extends ThermalogBaseActivity implements \nWifiItemListener {\n\nprivate static final int MY_REQUEST_CODE = 123;\nprivate static final String TAG = WifiConnectionActivity.class.getCanonicalName();\nList&lt;ScanResult&gt; list;\nProgressDialog dialog;\nRecyclerView wifiRecyclerView;\nWifiAdapter wifiAdapter;\nprivate WifiManager wifiManager;\nprivate WifiBroadcastReceiver wifiReceiver;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_wifi_connection);\n    disableButtonsSettings();\n\n    dialog = new ProgressDialog(WifiConnectionActivity.this);\n    this.wifiManager = (WifiManager) this.getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    checkPermission();\n\n    wifiRecyclerView = findViewById(R.id.wifi_recycler_view);\n    wifiRecyclerView.setLayoutManager(new LinearLayoutManager(WifiConnectionActivity.this));\n    wifiRecyclerView.setHasFixedSize(true);\n\n}\n\nvoid checkPermission() {\n    dialog.setTitle(&quot;Loading&quot;);\n    dialog.setMessage(&quot;Please wait...&quot;);\n    dialog.show();\n    int permission1 = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION);\n    // Check for permissions\n    if (permission1 != PackageManager.PERMISSION_GRANTED) {\n\n        Log.d(TAG, &quot;Requesting Permissions&quot;);\n\n        // Request permissions\n        ActivityCompat.requestPermissions(this,\n                new String[]{\n                        Manifest.permission.ACCESS_COARSE_LOCATION,\n                        Manifest.permission.ACCESS_FINE_LOCATION,\n                        Manifest.permission.ACCESS_WIFI_STATE,\n                        Manifest.permission.ACCESS_NETWORK_STATE\n                }, MY_REQUEST_CODE);\n        dialog.dismiss();\n        return;\n    }\n    wifiManager.startScan();\n}\n\nvoid showAvailableWifiList(List&lt;ScanResult&gt; list) {\n    wifiAdapter = new WifiAdapter(WifiConnectionActivity.this, list, this::getItemPosition);\n    wifiRecyclerView.setAdapter(wifiAdapter);\n    wifiAdapter.notifyDataSetChanged();\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    switch (requestCode) {\n        case MY_REQUEST_CODE: {\n            // If request is cancelled, the result arrays are empty.\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Log.d(TAG, &quot;Permission Granted: &quot; + permissions[0]);\n                // Start Scan Wifi.\n                wifiManager.startScan();\n            } else {\n                // Permission denied, Disable the\n                // functionality that depends on this permission.\n                Log.d(TAG, &quot;Permission Denied: &quot; + permissions[0]);\n            }\n            break;\n        }\n    }\n}\n\n\n@Override\nprotected void onPostResume() {\n    super.onPostResume();\n    wifiReceiver = new WifiBroadcastReceiver(wifiManager);\n    IntentFilter intentFilter = new IntentFilter();\n    intentFilter.addAction(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION);\n    registerReceiver(wifiReceiver, intentFilter);\n}\n\n\n// Define class to listen to broadcasts\nclass WifiBroadcastReceiver extends BroadcastReceiver {\n\n    WifiManager wifiManager;\n\n    public WifiBroadcastReceiver(WifiManager wifiManager) {\n        this.wifiManager = wifiManager;\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        boolean isUpdated = intent.getBooleanExtra(WifiManager.EXTRA_RESULTS_UPDATED, false);\n        if (isUpdated) {\n            // dialog.show(AdminSettingsActivity.this, &quot;&quot;, &quot;Loading. Please wait...&quot;, true);\n            list = wifiManager.getScanResults();\n            showAvailableWifiList(list);\n        } else {\n            Log.d(TAG, &quot;Scan not OK&quot;);\n        }\n        dialog.dismiss();\n    }\n}\n\n}\n</code></pre>\n<p>I'm not getting any error in case of <strong>Lenovo-Tablet Android 11</strong>.\nHow can I resolve this?</p>\n<p><strong>Solution:\nEnable tablet location.</strong></p>\n"},{"tags":["java","sql","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":3096604,"reputation":1281,"user_id":2621656,"accept_rate":89,"display_name":"deterministicFail"},"score":0,"creation_date":1408356779,"post_id":25360336,"comment_id":39542978,"body_markdown":"do you really want to fetch all records of the table when param is null?","body":"do you really want to fetch all records of the table when param is null?"},{"owner":{"account_id":3797708,"reputation":134,"user_id":3152194,"accept_rate":88,"display_name":"Duracel"},"score":0,"creation_date":1408356794,"post_id":25360336,"comment_id":39542988,"body_markdown":"blah, in javadoc i&#39;ve found that second parameter in setParameter function must be non-null.","body":"blah, in javadoc i&#39;ve found that second parameter in setParameter function must be non-null."},{"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"score":0,"creation_date":1408356943,"post_id":25360336,"comment_id":39543065,"body_markdown":"Workaround is that you can set some default pattern when parameter is null and put that in the equal.","body":"Workaround is that you can set some default pattern when parameter is null and put that in the equal."},{"owner":{"account_id":3797708,"reputation":134,"user_id":3152194,"accept_rate":88,"display_name":"Duracel"},"score":0,"creation_date":1408357004,"post_id":25360336,"comment_id":39543104,"body_markdown":"deterministicFail : all i was trying to simplify my query : searching if passed param is not null. but it seems won&#39;t go this way.","body":"deterministicFail : all i was trying to simplify my query : searching if passed param is not null. but it seems won&#39;t go this way."}],"answers":[{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408357968,"creation_date":1408357968,"answer_id":25361255,"question_id":25360336,"body_markdown":"Maybe you could use [criteria queries][1] instead:\r\n\r\n    Criteria crit = sess.createCriteria(Table1.class);\r\n    crit.setProjection(Restrictions.id());\r\n    if (param != null) crit.add(Restrictions.eq(&quot;id_or_smth&quot;, param));\r\n\r\n    List result = crit.list();\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querycriteria.html","title":"Hibernate native query optional parameter throws &#39;operator does not exist: bigint = bytea&#39;","body":"<p>Maybe you could use <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querycriteria.html\" rel=\"nofollow\">criteria queries</a> instead:</p>\n\n<pre><code>Criteria crit = sess.createCriteria(Table1.class);\ncrit.setProjection(Restrictions.id());\nif (param != null) crit.add(Restrictions.eq(\"id_or_smth\", param));\n\nList result = crit.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667382628,"creation_date":1408358555,"answer_id":25361424,"question_id":25360336,"body_markdown":"HQL and Criteria can only work when you specify an actual Entity property/Table column, so this doesn&#39;t work:\r\n\r\n    :param IS NULL\r\n\r\nIf id_or_smth is a Table1 column, then this is how your query should look like:\r\n\r\n    Query q = entityManager.createNativeQuery(&quot;SELECT id FROM table1 WHERE id_or_smth IS NULL or id_or_smth = :param&quot;);\r\n    q.setParameter(&quot;param&quot;, paramValye);\r\n    q.getResultList();\r\n\r\nAnd paramValue must not be null.\r\n\r\nIn SQL, you must always use `IS NULL` and `IS NOT NULL` because a query like this:\r\n\r\n    SELECT id FROM table1 WHERE id_or_smth = NULL\r\n\r\nwill always return an empty result, even if there are rows satisfying id_or_smth IS NULL\r\n\r\n","title":"Hibernate native query optional parameter throws &#39;operator does not exist: bigint = bytea&#39;","body":"<p>HQL and Criteria can only work when you specify an actual Entity property/Table column, so this doesn't work:</p>\n<pre><code>:param IS NULL\n</code></pre>\n<p>If id_or_smth is a Table1 column, then this is how your query should look like:</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;SELECT id FROM table1 WHERE id_or_smth IS NULL or id_or_smth = :param&quot;);\nq.setParameter(&quot;param&quot;, paramValye);\nq.getResultList();\n</code></pre>\n<p>And paramValue must not be null.</p>\n<p>In SQL, you must always use <code>IS NULL</code> and <code>IS NOT NULL</code> because a query like this:</p>\n<pre><code>SELECT id FROM table1 WHERE id_or_smth = NULL\n</code></pre>\n<p>will always return an empty result, even if there are rows satisfying id_or_smth IS NULL</p>\n"}],"owner":{"account_id":3797708,"reputation":134,"user_id":3152194,"accept_rate":88,"display_name":"Duracel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3205,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25361424,"answer_count":2,"score":4,"last_activity_date":1667382628,"creation_date":1408354911,"question_id":25360336,"body_markdown":"I have a query as follows:\r\n\r\n    SELECT id FROM table1 WHERE (:param IS NULL OR id_or_smth = :param)\r\n\r\nThe `param` parameter is optional, therefore it can be `null`\r\n\r\n1. I createed a `javax.persistance.Query`\r\n2. To which I then `setParameter(&quot;param&quot;, null)` \r\n3. And when I called `getResultList()` I got the following error:\r\n\r\n&gt; Caused by: org.hibernate.exception.SQLGrammarException: ERROR:\r\n&gt; operator does not exist: bigint = bytea\r\n\r\nhow can i handle this?","title":"Hibernate native query optional parameter throws &#39;operator does not exist: bigint = bytea&#39;","body":"<p>I have a query as follows:</p>\n\n<pre><code>SELECT id FROM table1 WHERE (:param IS NULL OR id_or_smth = :param)\n</code></pre>\n\n<p>The <code>param</code> parameter is optional, therefore it can be <code>null</code></p>\n\n<ol>\n<li>I createed a <code>javax.persistance.Query</code></li>\n<li>To which I then <code>setParameter(\"param\", null)</code> </li>\n<li>And when I called <code>getResultList()</code> I got the following error:</li>\n</ol>\n\n<blockquote>\n  <p>Caused by: org.hibernate.exception.SQLGrammarException: ERROR:\n  operator does not exist: bigint = bytea</p>\n</blockquote>\n\n<p>how can i handle this?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667343811,"post_id":74282683,"comment_id":131144383,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667382579,"creation_date":1667382579,"answer_id":74287209,"question_id":74282683,"body_markdown":"#### The answer\r\nHi. You should definitely not be using the ```==``` operator for String comparisons in Java.\r\n\r\nUse the equals method instead: ```oldPass.getText().toString().equals(&quot;xxxx&quot;)```. (But look out for NPEs! If you ever plan on using a variable instead of &quot;xxxx&quot;, you should make sure it&#39;s not null, as the validation else wise would result in a NPE.\r\n\r\n\r\n#### A little tip\r\n\r\nInstead of always having to override an interface, such as View.OnClickListener, you can just use the lambda version of it.\r\n&lt;br/&gt;(Lambdas allow you to code a functional method, as a replacement for an (anonymous) class as an implementation).\r\n\r\nThis would look as follows:\r\n\r\n```buttonChange.setOnClickListener(event -&gt; { /* your code... */});```\r\n\r\nIn combination with the equals solution, your code could look something like this:\r\n\r\n```\r\n\r\nbuttonChange.setOnClickListener(event -&gt; {\r\n\r\n    if (oldPass.getText().equals(&quot;xxxx&quot;)) {\r\n        Toast.makeText(getApplicationContext(), &quot;Password updated!&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        Toast.makeText(getApplicationContext(), &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n});\r\n\r\n```\r\n\r\nSome of the things I did:\r\n* I removed the unused ```Context context1``` variable, as you&#39;re not using it anyways.\r\n* The ```toast1.show();``` can be &quot;executed&quot; directly.\r\n* I removed the ```toString()``` from the equals statement, as a charsequence can be validated too.\r\n\r\n(If you have more questions like this popping up in your head, I advise you to do some sort of beginner tutorial for Java in general).","title":"Change of Password - Android Studio","body":"<h4>The answer</h4>\n<p>Hi. You should definitely not be using the <code>==</code> operator for String comparisons in Java.</p>\n<p>Use the equals method instead: <code>oldPass.getText().toString().equals(&quot;xxxx&quot;)</code>. (But look out for NPEs! If you ever plan on using a variable instead of &quot;xxxx&quot;, you should make sure it's not null, as the validation else wise would result in a NPE.</p>\n<h4>A little tip</h4>\n<p>Instead of always having to override an interface, such as View.OnClickListener, you can just use the lambda version of it.\n<br/>(Lambdas allow you to code a functional method, as a replacement for an (anonymous) class as an implementation).</p>\n<p>This would look as follows:</p>\n<p><code>buttonChange.setOnClickListener(event -&gt; { /* your code... */});</code></p>\n<p>In combination with the equals solution, your code could look something like this:</p>\n<pre><code>\nbuttonChange.setOnClickListener(event -&gt; {\n\n    if (oldPass.getText().equals(&quot;xxxx&quot;)) {\n        Toast.makeText(getApplicationContext(), &quot;Password updated!&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(getApplicationContext(), &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n\n</code></pre>\n<p>Some of the things I did:</p>\n<ul>\n<li>I removed the unused <code>Context context1</code> variable, as you're not using it anyways.</li>\n<li>The <code>toast1.show();</code> can be &quot;executed&quot; directly.</li>\n<li>I removed the <code>toString()</code> from the equals statement, as a charsequence can be validated too.</li>\n</ul>\n<p>(If you have more questions like this popping up in your head, I advise you to do some sort of beginner tutorial for Java in general).</p>\n"}],"owner":{"account_id":26800390,"reputation":1,"user_id":20392421,"display_name":"stack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667382579,"creation_date":1667343789,"question_id":74282683,"body_markdown":"I&#39;m doing my first project in android studio, using java, and I&#39;m having a problem. The purpose of the program is to verify that the old password, in this case &quot;xxxx&quot;, corresponds to the password typed by the app user. But when running the program, this comparison always gives error, even if it is the same. Can you help me, please?\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\n\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\npublic class ProfileActivity extends AppCompatActivity {\r\n\r\n    private EditText oldPass, newPass;\r\n    private Button buttonChange;\r\n    //private String oldPassstr, newPassstr; //tem a pass que o user vai inserir\r\n\r\n    //@SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n\r\n        newPass = (EditText) findViewById(R.id.editNewPassword);\r\n        oldPass = (EditText) findViewById(R.id.editOldPassword);\r\n        buttonChange = findViewById(R.id.change_but);\r\n\r\n        goToHome();\r\n        goToSmart();\r\n        ChangePassword(oldPass);\r\n    }\r\n\r\n    public void goToHome(){\r\n        ImageButton button = (ImageButton) findViewById(R.id.Profile_Home_but);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(ProfileActivity.this,myHomeActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void goToSmart(){\r\n        ImageButton button = (ImageButton) findViewById(R.id.Profile_Smart_but);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(ProfileActivity.this,SmartActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void ChangePassword(EditText oldPass) {\r\n\r\n        buttonChange.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (oldPass.getText().toString() == &quot;xxxx&quot;) {\r\n                    Context context1 = getApplicationContext();\r\n                    Toast toast1 = Toast.makeText(getApplicationContext(), &quot;Password Updated!&quot;, Toast.LENGTH_SHORT);\r\n                    toast1.show();\r\n                }\r\n                else{\r\n                    Context context2 = getApplicationContext();\r\n                    Toast toast2 = Toast.makeText(getApplicationContext(), &quot;ERROR&quot;, Toast.LENGTH_SHORT);\r\n                    toast2.show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"Change of Password - Android Studio","body":"<p>I'm doing my first project in android studio, using java, and I'm having a problem. The purpose of the program is to verify that the old password, in this case &quot;xxxx&quot;, corresponds to the password typed by the app user. But when running the program, this comparison always gives error, even if it is the same. Can you help me, please?</p>\n<pre><code>package com.example.myapplication;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\n\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class ProfileActivity extends AppCompatActivity {\n\n    private EditText oldPass, newPass;\n    private Button buttonChange;\n    //private String oldPassstr, newPassstr; //tem a pass que o user vai inserir\n\n    //@SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_profile);\n\n        newPass = (EditText) findViewById(R.id.editNewPassword);\n        oldPass = (EditText) findViewById(R.id.editOldPassword);\n        buttonChange = findViewById(R.id.change_but);\n\n        goToHome();\n        goToSmart();\n        ChangePassword(oldPass);\n    }\n\n    public void goToHome(){\n        ImageButton button = (ImageButton) findViewById(R.id.Profile_Home_but);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(ProfileActivity.this,myHomeActivity.class);\n                startActivity(i);\n            }\n        });\n    }\n\n    public void goToSmart(){\n        ImageButton button = (ImageButton) findViewById(R.id.Profile_Smart_but);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(ProfileActivity.this,SmartActivity.class);\n                startActivity(i);\n            }\n        });\n    }\n\n    public void ChangePassword(EditText oldPass) {\n\n        buttonChange.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (oldPass.getText().toString() == &quot;xxxx&quot;) {\n                    Context context1 = getApplicationContext();\n                    Toast toast1 = Toast.makeText(getApplicationContext(), &quot;Password Updated!&quot;, Toast.LENGTH_SHORT);\n                    toast1.show();\n                }\n                else{\n                    Context context2 = getApplicationContext();\n                    Toast toast2 = Toast.makeText(getApplicationContext(), &quot;ERROR&quot;, Toast.LENGTH_SHORT);\n                    toast2.show();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","oop","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13933885,"reputation":125,"user_id":14897805,"display_name":"Martin Ma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667329011,"creation_date":1667328663,"answer_id":74280528,"question_id":74276271,"body_markdown":"You need to specify what class type you want to use like this \r\nSo instead of \r\n\r\n     private SourceConfig sourceConfig;\r\n\r\nuse \r\n\r\n    private KafkaSourceConfig kafkaSourceConfig; \r\n\r\n\r\n\r\nOr you can keep it like you have but in case you want use some property of child class you have to cast it to that class type.\r\n\r\ne.g.\r\n\r\n    KafkaSourceConfig kafkaSourceConfig = (KafkaSourceConfig)sourceConfig;\r\n\r\n\r\nit can look like this \r\n\r\n   \r\n\r\n     if(sourceConfig instanceOf KafkaSourceConfig)\r\n    {\r\n    KafkaSourceConfig ksc = (KafkaSourceConfig)sourceConfig; \r\n    }\r\n    if(sourceConfig instanceOf MysqlSourceConfig)\r\n    {\r\n    MysqlSourceConfig mysc= (MysqlSourceConfig)sourceConfig; \r\n    }","title":"How to put inherited objects of an abstract class as object fields in a Java class","body":"<p>You need to specify what class type you want to use like this\nSo instead of</p>\n<pre><code> private SourceConfig sourceConfig;\n</code></pre>\n<p>use</p>\n<pre><code>private KafkaSourceConfig kafkaSourceConfig; \n</code></pre>\n<p>Or you can keep it like you have but in case you want use some property of child class you have to cast it to that class type.</p>\n<p>e.g.</p>\n<pre><code>KafkaSourceConfig kafkaSourceConfig = (KafkaSourceConfig)sourceConfig;\n</code></pre>\n<p>it can look like this</p>\n<pre><code> if(sourceConfig instanceOf KafkaSourceConfig)\n{\nKafkaSourceConfig ksc = (KafkaSourceConfig)sourceConfig; \n}\nif(sourceConfig instanceOf MysqlSourceConfig)\n{\nMysqlSourceConfig mysc= (MysqlSourceConfig)sourceConfig; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9090068,"reputation":61,"user_id":6766329,"accept_rate":29,"display_name":"Satyam Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667382372,"creation_date":1667382372,"answer_id":74287186,"question_id":74276271,"body_markdown":"I looked around a bit and came to know about [Polymorphic Deserialization,][1] that&#39;s supported by Jackson. \r\n\r\nhttps://stackoverflow.com/questions/30362446/deserialize-json-with-jackson-into-polymorphic-types-a-complete-example-is-giv\r\n\r\nEssentially, we have to infer from some field which subclass to refer to from the JSON that is provided. \r\n\r\nFor example, \r\n\r\n```\r\n&quot;sourceConfig&quot;: {\r\n  &quot;source&quot;: &quot;MYSQL&quot;     \r\n}\r\n\r\n```\r\n\r\nThis should call MysqlSourceConfig&#39;s constructor. So the below code does the work.\r\n\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@Data\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;source&quot;,\r\n        defaultImpl = MysqlSourceConfig.class,\r\n        visible = true)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = MysqlSourceConfig.class, name = &quot;MYSQL&quot;),\r\n        @JsonSubTypes.Type(value = KafkaSourceConfig.class, name = &quot;KAFKA&quot;),\r\n})\r\npublic abstract class SourceConfig {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Enumerated(value = EnumType.STRING)\r\n    @NotNull\r\n    private Source source;\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://medium.com/@david.truong510/jackson-polymorphic-deserialization-91426e39b96a","title":"How to put inherited objects of an abstract class as object fields in a Java class","body":"<p>I looked around a bit and came to know about <a href=\"https://medium.com/@david.truong510/jackson-polymorphic-deserialization-91426e39b96a\" rel=\"nofollow noreferrer\">Polymorphic Deserialization,</a> that's supported by Jackson.</p>\n<p><a href=\"https://stackoverflow.com/questions/30362446/deserialize-json-with-jackson-into-polymorphic-types-a-complete-example-is-giv\">Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error</a></p>\n<p>Essentially, we have to infer from some field which subclass to refer to from the JSON that is provided.</p>\n<p>For example,</p>\n<pre><code>&quot;sourceConfig&quot;: {\n  &quot;source&quot;: &quot;MYSQL&quot;     \n}\n\n</code></pre>\n<p>This should call MysqlSourceConfig's constructor. So the below code does the work.</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@Data\n@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;source&quot;,\n        defaultImpl = MysqlSourceConfig.class,\n        visible = true)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = MysqlSourceConfig.class, name = &quot;MYSQL&quot;),\n        @JsonSubTypes.Type(value = KafkaSourceConfig.class, name = &quot;KAFKA&quot;),\n})\npublic abstract class SourceConfig {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Enumerated(value = EnumType.STRING)\n    @NotNull\n    private Source source;\n}\n\n</code></pre>\n"}],"owner":{"account_id":9090068,"reputation":61,"user_id":6766329,"accept_rate":29,"display_name":"Satyam Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74287186,"answer_count":2,"score":0,"last_activity_date":1667382372,"creation_date":1667307216,"question_id":74276271,"body_markdown":"I&#39;m creating a Spring JPA project with the following structure:\r\n```\r\npublic class Pipeline {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private long id;\r\n  private String name;\r\n  private SourceConfig sourceConfig;\r\n  private SinkConfig sinkConfig;\r\n  ...\r\n  ...\r\n}\r\n\r\npublic abstract class SourceConfig {\r\n  private long id;\r\n  private String name;\r\n}\r\n\r\npublic abstract class SinkConfig {\r\n  private long id;\r\n  private String name;\r\n}\r\n\r\npublic KafkaSourceConfig extends SourceConfig {\r\n  private String topic;\r\n  private String messageSchema;\r\n}\r\n\r\npublic MysqlSourceConfig extends SourceConfig {\r\n  private String databaseName;\r\n  private String tableName;\r\n}\r\n\r\n```\r\n\r\nNow when the client passes the following JSON, how would the program know which SourceConfig subclass to add to the Pipeline object?\r\n\r\n```\r\n{\r\n    &quot;name&quot;: &quot;mysql_to_bq_1&quot;,\r\n    &quot;sourceConfig&quot;: {\r\n        &quot;source&quot;: &quot;MYSQL&quot;,\r\n        \r\n    },\r\n    &quot;sinkConfig&quot;: {\r\n\r\n    },\r\n    &quot;createdBy&quot;: &quot;paul&quot;\r\n}\r\n```","title":"How to put inherited objects of an abstract class as object fields in a Java class","body":"<p>I'm creating a Spring JPA project with the following structure:</p>\n<pre><code>public class Pipeline {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private long id;\n  private String name;\n  private SourceConfig sourceConfig;\n  private SinkConfig sinkConfig;\n  ...\n  ...\n}\n\npublic abstract class SourceConfig {\n  private long id;\n  private String name;\n}\n\npublic abstract class SinkConfig {\n  private long id;\n  private String name;\n}\n\npublic KafkaSourceConfig extends SourceConfig {\n  private String topic;\n  private String messageSchema;\n}\n\npublic MysqlSourceConfig extends SourceConfig {\n  private String databaseName;\n  private String tableName;\n}\n\n</code></pre>\n<p>Now when the client passes the following JSON, how would the program know which SourceConfig subclass to add to the Pipeline object?</p>\n<pre><code>{\n    &quot;name&quot;: &quot;mysql_to_bq_1&quot;,\n    &quot;sourceConfig&quot;: {\n        &quot;source&quot;: &quot;MYSQL&quot;,\n        \n    },\n    &quot;sinkConfig&quot;: {\n\n    },\n    &quot;createdBy&quot;: &quot;paul&quot;\n}\n</code></pre>\n"},{"tags":["java","sonarqube","rules"],"answers":[{"tags":[],"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667382261,"creation_date":1667382261,"answer_id":74287167,"question_id":74128107,"body_markdown":"[At the official documentation][1] you can found following:\r\n\r\n&gt; **Adding Coding Rules** \r\n&gt; \r\n&gt; There are three ways to add coding rules to SonarQube:\r\n&gt; \r\n&gt;  - Writing a SonarQube plugin in Java that uses SonarQube APIs to add    new rules \r\n&gt;  - Adding XPath rules directly through the SonarQube web    interface \r\n&gt;  - Importing Generic Issue Reports generated by an    independently run tool\r\n\r\n\r\nMy advice is to create plugin:\r\n\r\n&gt; Writing coding rules in Java is a six-step process:\r\n&gt; \r\n&gt;  1. Create a SonarQube plugin. \r\n&gt;  2. Put a dependency on the API of the language plugin for which you are writing coding rules. \r\n&gt;  3. Create as many custom rules as required. \r\n&gt;  4. Generate the SonarQube plugin (jar file). \r\n&gt;  5. Place this jar file in the SONARQUBE_HOME/extensions/plugins\r\n&gt;     directory.\r\n&gt;  6. Restart SonarQube server.\r\n\r\n[Here is a book for Sonarqube][2] with a chapter for creating custom plugins and [here is a GitHub project][3] with an example.\r\n\r\n\r\n  [1]: https://docs.sonarqube.org/latest/extend/adding-coding-rules/\r\n  [2]: https://livebook.manning.com/book/sonarqube-in-action/chapter-16/\r\n  [3]: https://github.com/SonarSource/sonar-custom-plugin-example/blob/9.x/src/main/java/org/sonarsource/plugins/example/rules/JavaRulesDefinition.java","title":"How to write custom rule to prevent some method call in SonarQube?","body":"<p><a href=\"https://docs.sonarqube.org/latest/extend/adding-coding-rules/\" rel=\"nofollow noreferrer\">At the official documentation</a> you can found following:</p>\n<blockquote>\n<p><strong>Adding Coding Rules</strong></p>\n<p>There are three ways to add coding rules to SonarQube:</p>\n<ul>\n<li>Writing a SonarQube plugin in Java that uses SonarQube APIs to add    new rules</li>\n<li>Adding XPath rules directly through the SonarQube web    interface</li>\n<li>Importing Generic Issue Reports generated by an    independently run tool</li>\n</ul>\n</blockquote>\n<p>My advice is to create plugin:</p>\n<blockquote>\n<p>Writing coding rules in Java is a six-step process:</p>\n<ol>\n<li>Create a SonarQube plugin.</li>\n<li>Put a dependency on the API of the language plugin for which you are writing coding rules.</li>\n<li>Create as many custom rules as required.</li>\n<li>Generate the SonarQube plugin (jar file).</li>\n<li>Place this jar file in the SONARQUBE_HOME/extensions/plugins\ndirectory.</li>\n<li>Restart SonarQube server.</li>\n</ol>\n</blockquote>\n<p><a href=\"https://livebook.manning.com/book/sonarqube-in-action/chapter-16/\" rel=\"nofollow noreferrer\">Here is a book for Sonarqube</a> with a chapter for creating custom plugins and <a href=\"https://github.com/SonarSource/sonar-custom-plugin-example/blob/9.x/src/main/java/org/sonarsource/plugins/example/rules/JavaRulesDefinition.java\" rel=\"nofollow noreferrer\">here is a GitHub project</a> with an example.</p>\n"}],"owner":{"account_id":10630809,"reputation":19,"user_id":7829027,"display_name":"sameer kr bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667382261,"creation_date":1666193636,"question_id":74128107,"body_markdown":"Suppose i have one **class A** and it has three method **met1,met2** and **met3** i want to build a custom rule where if someone calls **met3** it should throw some custom message showing as non compliant solution in sonar?\r\n\r\n","title":"How to write custom rule to prevent some method call in SonarQube?","body":"<p>Suppose i have one <strong>class A</strong> and it has three method <strong>met1,met2</strong> and <strong>met3</strong> i want to build a custom rule where if someone calls <strong>met3</strong> it should throw some custom message showing as non compliant solution in sonar?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1619777298,"creation_date":1619776480,"answer_id":67331836,"question_id":67329660,"body_markdown":"I shall start first by explaining, how to bring in Spring Security into your application.\r\n\r\nJust add below dependency to your application. Now, when you run your application the spring security is implemented by default. (As of April 2021, version might change in future)\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.4.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nClosely looking at the console, you will see a password generated for default user: **user**. The password is a hash that you need to use.\r\n\r\nWhen you access any URL from your application now, you will be restricted from Postman. From your browser, you will see a login page where you need to enter this username and password and you will be through to your URL. That sets up the inbuilt Spring Security.\r\n\r\nBut what is happening under the hood?\r\n\r\nI shall answer it by reminding you of Servlets and Filters and DispatcherServlet in Spring.\r\n\r\nDispatcherServlet is the very basic of Spring MVC and it forwards the requests to your controllers. Basically, DispatcherServlet is also a servlet. \r\n\r\n\r\nI can create a chain of filters before DispatcherServlet and check my request for Authentication and Authorization before forwarding the request to hit my DispatcherServlet and then my controllers. This way, I can bring in Security to my application. This is exactly what the Spring Security does.\r\n\r\nThe below link very delicately highlights all the filters that are there before DispatcherServlet and what is the importance of those Filters. Please refer the link below:\r\n\r\nhttps://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works\r\n\r\n\r\nNow, we need to understand what authentication and authorization is:\r\n1. Authentication- Anyone using your application needs to have some info and you need to verify that user’s username, password to allow him to access your application. If his username or password is wrong, that means he is not authenticated.\r\n2. Authorization- Once the user is authenticated, there might be some URLs of your application that should only be allowed to admin users and not normal users. This is called authorizing a user to access some parts of your application based on his role.\r\n\r\n\r\nLet us look at some important Spring’s Filter in Filter Chain:\r\n\r\n\r\n**•\tBasicAuthenticationFilter:** Tries to find a Basic Auth HTTP Header on the request and if found, tries to authenticate the user with the header’s username and password.\r\n\r\n\r\n**•\tUsernamePasswordAuthenticationFilter:** Tries to find a username/password request parameter/POST body and if found, tries to authenticate the user with those values.\r\n\r\n\r\n**•\tDefaultLoginPageGeneratingFilter:** Generates a login page for you, if you don’t explicitly disable that feature. THIS filter is why you get a default login page when enabling Spring Security.\r\n\r\n\r\n**•\tDefaultLogoutPageGeneratingFilter:** Generates a logout page for you, if you don’t explicitly disable that feature.\r\n\r\n\r\n**•\tFilterSecurityInterceptor:** Does your authorization.\r\n\r\n\r\nThese filters, by default, are providing you a login page which you saw on your browser. Also, they provide a logout page, ability to login with Basic Auth or Form Logins, as well as protecting against CSRF attacks.\r\n\r\nRemember, the login page at the beginning just after adding Spring Security to your pom.xml. That is happening because of the below class:\r\n```\r\npublic abstract class WebSecurityConfigurerAdapter implements\r\n                WebSecurityConfigurer&lt;WebSecurity&gt; {\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                .formLogin().and()\r\n                .httpBasic();\r\n        }\r\n}\r\n```\r\nThis WebSecurityConfigurerAdapter class is what we extend and we override its configure method. As per above, all the requests need to do basic authentication via form login method. This login page is the default provided by Spring that we saw when we accessed our URL. \r\n\r\n\r\nNow, next question arises, what if we want to do this configuration ourselves? The below topic discusses exactly that:\r\n\r\n**How to configure Spring Security?**\r\n\r\n\r\nTo configure Spring Security, we need to have a @Configuration, @EnableWebSecurity class which extends WebSecurityConfigurerAdapter class.\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n      http\r\n        .authorizeRequests()\r\n          .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n          .anyRequest().authenticated()\r\n          .and()\r\n       .formLogin()\r\n         .loginPage(&quot;/login&quot;)\r\n         .permitAll()\r\n         .and()\r\n      .logout()\r\n        .permitAll()\r\n        .and()\r\n      .httpBasic();\r\n  }\r\n}\r\n```\r\nYou must do above the mentioned configurations. Now, you can do your specific security configuration i.e. which all URLs are allowed, which need to be authenticated, what are the types of authentication the application will perform and what are the roles that are allowed on specific URLs.\r\n\r\nSo, basically, all your authentication and authorization information is configured here. Other configuration regarding CORS, CSRF and other exploits is also done here, but that is out of the scope of the basics.\r\n\r\n\r\nIn the example above, all requests going to **/** and **/home** are allowed to any user i.e. anyone can access them and get response but the other requests need to be authenticated. Also, we have allowed form login i.e. when any request apart from **/** and **/home** is accessed, the user will be presented with a login page where he will input his username and password and that username/password will be authenticated using basic authentication i.e. sending in an HTTP Basic Auth Header to authenticate.\r\n\r\n\r\n\r\nTill now, we have added Spring Security, protected our URLs, configured Spring Security. But, how will we check the username and password to be authenticated? The below discusses this:\r\n\r\n\r\nYou need to specify some @Beans to get Spring Security working. Why some beans are needed? \r\n **Because** **Spring Container needs these beans to implement security under the hood.**\r\n\r\nYou need to provide these two beans – UserDetailsService &amp; PasswordEncoder.\r\n\r\n\r\n**UserDetailsService** **–** This is responsible for providing your user to the Spring container. The user can be present either in your DB, memory, anywhere. Ex: It can be stored in User table with username, password, roles and other columns.\r\n\r\n```\r\n@Bean\r\npublic UserDetailsService userDetailsService() {\r\n    return new MyUserDetailsService();\r\n}\r\n```\r\n\r\nAbove, we are providing our custom MyUserDetailsService which has to be a UserDetailsService child for Spring container to identify its purpose. Below is the sample implementation:\r\n```\r\npublic class MyDatabaseUserDetailsService implements UserDetailsService {\r\n\r\n        UserDetails loadUserByUsername(String username) throws UsernameNotFoundException { \r\n         //  Load the user from the users table by username. If not found, throw UsernameNotFoundException.\r\n         // Convert/wrap the user to a UserDetails object and return it.\r\n        return someUserDetails;\r\n    }\r\n}\r\n```\r\n```\r\npublic interface UserDetails extends Serializable {\r\n\r\n    String getUsername();\r\n\r\n    String getPassword();\r\n\r\n    // isAccountNonExpired,isAccountNonLocked,\r\n    // isCredentialsNonExpired,isEnabled\r\n}\r\n```\r\nYou see, UserDetailsService shall provide the container with UserDetails object. \r\n\r\n\r\nBy default, Spring provides these implementations of UserDetailsService:\r\n\r\n**1.\tJdbcUserDetailsManager-** which is a JDBC based UserDetailsService. You can configure it to match your user table/column structure.\r\n\r\n**2.\tInMemoryUserDetailsManager-** which keeps all userdetails in memory. This is generally used for testing purposes.\r\n\r\n**3.\torg.springframework.security.core.userdetail.User–** This is what is used mostly in custom applications. You can extend this User class on your custom implementation for your user object.\r\n\r\nNow, as per above if any request arrives and needs to be authenticated, then since we have UserDetailsService in place, we will get the user from the UserDetails object returned by UserDetailsService for the user who has sent the request and can authenticate his sent username/password with the one received from our UserDetailsService.\r\n\r\nThis way, the user is authenticated.\r\n\r\n**Note:** The password received from user is automatically hashed. So, if we do not have the hash representation of password from our UserDetailsService, it will fail even when the password is correct.\r\n\r\nTo prevent this, we provide PasswordEncoder bean to our container which will apply the hashing algorithm specified by the PasswordEncoder on the password in UserDetails object and make a hash for it. Then, it checks both the hashed passwords and authenticates or fails a user.\r\n\r\n\r\n**PasswordEncoder-** This provides a hash of your password for security purposes. **Why?** You cannot/should not deal with plain passwords. That beats the very purpose of Spring Security. Better, hash it with any algorithm.\r\n\r\n```\r\n@Bean\r\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n```\r\nNow, you can autowire this PasswordEncoder anywhere in your application.\r\n\r\n\r\n**AuthenticationProvider-**\r\n\r\n\r\nIn some cases, we do not have access to the user’s password but some other third party stores our user&#39;s information in some fancy way.\r\n\r\nIn those cases, we need to provide AuthenticationProvider beans to our Spring container. Once container has this object, it will try to authenticate with the implementation we have provided to authenticate with that third party which will give us a UserDetails object or any other object from which we can obtain our UserDetails object.\r\n\r\nOnce, this is obtained, that means we are authenticated and we will send back a UsernamePasswordAuthenticationToken with our username, password and authorities/roles. If it is not obtained, we can throw an exception.\r\n\r\n```\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        return new MyAuthenticationProvider();\r\n    }\r\n\r\n```\r\n\r\nAn AuthenticationProvider consists primarily of one method and a basic implementation could look like this:\r\n\r\n```\r\npublic class MyAuthenticationProvider implements AuthenticationProvider {\r\n\r\n        Authentication authenticate(Authentication authentication)  \r\n                throws AuthenticationException {\r\n            String username = authentication.getPrincipal().toString(); \r\n            String password = authentication.getCredentials().toString();\r\n\r\n            User user = callThirdPartyService(username, password); \r\n            if (user == null) {                                     \r\n                throw new AuthenticationException(&quot;Incorrect username/password&quot;);\r\n            }\r\n            return new UserNamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\r\n        }\r\n}\r\n```\r\n\r\nThats all there is to Spring Security basics or under the hood functionality and how we can leverage these to customize our security implementation. You can find examples anywhere. More advanced topics such as JWT, Oauth2 implementation, CSRF prevention, CORS allowance are beyond the scope. ","title":"Basics of Spring Security","body":"<p>I shall start first by explaining, how to bring in Spring Security into your application.</p>\n<p>Just add below dependency to your application. Now, when you run your application the spring security is implemented by default. (As of April 2021, version might change in future)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n    &lt;version&gt;5.4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Closely looking at the console, you will see a password generated for default user: <strong>user</strong>. The password is a hash that you need to use.</p>\n<p>When you access any URL from your application now, you will be restricted from Postman. From your browser, you will see a login page where you need to enter this username and password and you will be through to your URL. That sets up the inbuilt Spring Security.</p>\n<p>But what is happening under the hood?</p>\n<p>I shall answer it by reminding you of Servlets and Filters and DispatcherServlet in Spring.</p>\n<p>DispatcherServlet is the very basic of Spring MVC and it forwards the requests to your controllers. Basically, DispatcherServlet is also a servlet.</p>\n<p>I can create a chain of filters before DispatcherServlet and check my request for Authentication and Authorization before forwarding the request to hit my DispatcherServlet and then my controllers. This way, I can bring in Security to my application. This is exactly what the Spring Security does.</p>\n<p>The below link very delicately highlights all the filters that are there before DispatcherServlet and what is the importance of those Filters. Please refer the link below:</p>\n<p><a href=\"https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works\">How Spring Security Filter Chain works</a></p>\n<p>Now, we need to understand what authentication and authorization is:</p>\n<ol>\n<li>Authentication- Anyone using your application needs to have some info and you need to verify that user’s username, password to allow him to access your application. If his username or password is wrong, that means he is not authenticated.</li>\n<li>Authorization- Once the user is authenticated, there might be some URLs of your application that should only be allowed to admin users and not normal users. This is called authorizing a user to access some parts of your application based on his role.</li>\n</ol>\n<p>Let us look at some important Spring’s Filter in Filter Chain:</p>\n<p><strong>• BasicAuthenticationFilter:</strong> Tries to find a Basic Auth HTTP Header on the request and if found, tries to authenticate the user with the header’s username and password.</p>\n<p><strong>• UsernamePasswordAuthenticationFilter:</strong> Tries to find a username/password request parameter/POST body and if found, tries to authenticate the user with those values.</p>\n<p><strong>• DefaultLoginPageGeneratingFilter:</strong> Generates a login page for you, if you don’t explicitly disable that feature. THIS filter is why you get a default login page when enabling Spring Security.</p>\n<p><strong>• DefaultLogoutPageGeneratingFilter:</strong> Generates a logout page for you, if you don’t explicitly disable that feature.</p>\n<p><strong>• FilterSecurityInterceptor:</strong> Does your authorization.</p>\n<p>These filters, by default, are providing you a login page which you saw on your browser. Also, they provide a logout page, ability to login with Basic Auth or Form Logins, as well as protecting against CSRF attacks.</p>\n<p>Remember, the login page at the beginning just after adding Spring Security to your pom.xml. That is happening because of the below class:</p>\n<pre><code>public abstract class WebSecurityConfigurerAdapter implements\n                WebSecurityConfigurer&lt;WebSecurity&gt; {\n\n    protected void configure(HttpSecurity http) throws Exception {\n            http\n                .authorizeRequests()\n                    .anyRequest().authenticated()\n                    .and()\n                .formLogin().and()\n                .httpBasic();\n        }\n}\n</code></pre>\n<p>This WebSecurityConfigurerAdapter class is what we extend and we override its configure method. As per above, all the requests need to do basic authentication via form login method. This login page is the default provided by Spring that we saw when we accessed our URL.</p>\n<p>Now, next question arises, what if we want to do this configuration ourselves? The below topic discusses exactly that:</p>\n<p><strong>How to configure Spring Security?</strong></p>\n<p>To configure Spring Security, we need to have a @Configuration, @EnableWebSecurity class which extends WebSecurityConfigurerAdapter class.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n      http\n        .authorizeRequests()\n          .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\n          .anyRequest().authenticated()\n          .and()\n       .formLogin()\n         .loginPage(&quot;/login&quot;)\n         .permitAll()\n         .and()\n      .logout()\n        .permitAll()\n        .and()\n      .httpBasic();\n  }\n}\n</code></pre>\n<p>You must do above the mentioned configurations. Now, you can do your specific security configuration i.e. which all URLs are allowed, which need to be authenticated, what are the types of authentication the application will perform and what are the roles that are allowed on specific URLs.</p>\n<p>So, basically, all your authentication and authorization information is configured here. Other configuration regarding CORS, CSRF and other exploits is also done here, but that is out of the scope of the basics.</p>\n<p>In the example above, all requests going to <strong>/</strong> and <strong>/home</strong> are allowed to any user i.e. anyone can access them and get response but the other requests need to be authenticated. Also, we have allowed form login i.e. when any request apart from <strong>/</strong> and <strong>/home</strong> is accessed, the user will be presented with a login page where he will input his username and password and that username/password will be authenticated using basic authentication i.e. sending in an HTTP Basic Auth Header to authenticate.</p>\n<p>Till now, we have added Spring Security, protected our URLs, configured Spring Security. But, how will we check the username and password to be authenticated? The below discusses this:</p>\n<p>You need to specify some @Beans to get Spring Security working. Why some beans are needed?\n<strong>Because</strong> <strong>Spring Container needs these beans to implement security under the hood.</strong></p>\n<p>You need to provide these two beans – UserDetailsService &amp; PasswordEncoder.</p>\n<p><strong>UserDetailsService</strong> <strong>–</strong> This is responsible for providing your user to the Spring container. The user can be present either in your DB, memory, anywhere. Ex: It can be stored in User table with username, password, roles and other columns.</p>\n<pre><code>@Bean\npublic UserDetailsService userDetailsService() {\n    return new MyUserDetailsService();\n}\n</code></pre>\n<p>Above, we are providing our custom MyUserDetailsService which has to be a UserDetailsService child for Spring container to identify its purpose. Below is the sample implementation:</p>\n<pre><code>public class MyDatabaseUserDetailsService implements UserDetailsService {\n\n        UserDetails loadUserByUsername(String username) throws UsernameNotFoundException { \n         //  Load the user from the users table by username. If not found, throw UsernameNotFoundException.\n         // Convert/wrap the user to a UserDetails object and return it.\n        return someUserDetails;\n    }\n}\n</code></pre>\n<pre><code>public interface UserDetails extends Serializable {\n\n    String getUsername();\n\n    String getPassword();\n\n    // isAccountNonExpired,isAccountNonLocked,\n    // isCredentialsNonExpired,isEnabled\n}\n</code></pre>\n<p>You see, UserDetailsService shall provide the container with UserDetails object.</p>\n<p>By default, Spring provides these implementations of UserDetailsService:</p>\n<p><strong>1.    JdbcUserDetailsManager-</strong> which is a JDBC based UserDetailsService. You can configure it to match your user table/column structure.</p>\n<p><strong>2.    InMemoryUserDetailsManager-</strong> which keeps all userdetails in memory. This is generally used for testing purposes.</p>\n<p><strong>3.    org.springframework.security.core.userdetail.User–</strong> This is what is used mostly in custom applications. You can extend this User class on your custom implementation for your user object.</p>\n<p>Now, as per above if any request arrives and needs to be authenticated, then since we have UserDetailsService in place, we will get the user from the UserDetails object returned by UserDetailsService for the user who has sent the request and can authenticate his sent username/password with the one received from our UserDetailsService.</p>\n<p>This way, the user is authenticated.</p>\n<p><strong>Note:</strong> The password received from user is automatically hashed. So, if we do not have the hash representation of password from our UserDetailsService, it will fail even when the password is correct.</p>\n<p>To prevent this, we provide PasswordEncoder bean to our container which will apply the hashing algorithm specified by the PasswordEncoder on the password in UserDetails object and make a hash for it. Then, it checks both the hashed passwords and authenticates or fails a user.</p>\n<p><strong>PasswordEncoder-</strong> This provides a hash of your password for security purposes. <strong>Why?</strong> You cannot/should not deal with plain passwords. That beats the very purpose of Spring Security. Better, hash it with any algorithm.</p>\n<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Now, you can autowire this PasswordEncoder anywhere in your application.</p>\n<p><strong>AuthenticationProvider-</strong></p>\n<p>In some cases, we do not have access to the user’s password but some other third party stores our user's information in some fancy way.</p>\n<p>In those cases, we need to provide AuthenticationProvider beans to our Spring container. Once container has this object, it will try to authenticate with the implementation we have provided to authenticate with that third party which will give us a UserDetails object or any other object from which we can obtain our UserDetails object.</p>\n<p>Once, this is obtained, that means we are authenticated and we will send back a UsernamePasswordAuthenticationToken with our username, password and authorities/roles. If it is not obtained, we can throw an exception.</p>\n<pre><code>    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        return new MyAuthenticationProvider();\n    }\n\n</code></pre>\n<p>An AuthenticationProvider consists primarily of one method and a basic implementation could look like this:</p>\n<pre><code>public class MyAuthenticationProvider implements AuthenticationProvider {\n\n        Authentication authenticate(Authentication authentication)  \n                throws AuthenticationException {\n            String username = authentication.getPrincipal().toString(); \n            String password = authentication.getCredentials().toString();\n\n            User user = callThirdPartyService(username, password); \n            if (user == null) {                                     \n                throw new AuthenticationException(&quot;Incorrect username/password&quot;);\n            }\n            return new UserNamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\n        }\n}\n</code></pre>\n<p>Thats all there is to Spring Security basics or under the hood functionality and how we can leverage these to customize our security implementation. You can find examples anywhere. More advanced topics such as JWT, Oauth2 implementation, CSRF prevention, CORS allowance are beyond the scope.</p>\n"}],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3604,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":67331836,"answer_count":1,"score":3,"last_activity_date":1667381953,"creation_date":1619766613,"question_id":67329660,"body_markdown":"What are the very basics of Spring Security i.e. how Spring sets up security internally. What are all the beans involved that are to be provided for Spring Security to work out-of-the-box?","title":"Basics of Spring Security","body":"<p>What are the very basics of Spring Security i.e. how Spring sets up security internally. What are all the beans involved that are to be provided for Spring Security to work out-of-the-box?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22743949,"reputation":70,"user_id":16904968,"display_name":"Hardik Khandelwal"},"score":1,"creation_date":1667219153,"post_id":74263107,"comment_id":131111124,"body_markdown":"How are you handling the intent of the notification? \nAre you using deep links to the desired activity?","body":"How are you handling the intent of the notification?  Are you using deep links to the desired activity?"},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1667219589,"post_id":74263107,"comment_id":131111287,"body_markdown":"I will pass the values with the intent using intent.putExtra(&quot;key&quot;, value) inside alarmReceiver class which extends BroadCastReceiver. I have RecyclerView in MainActivity when I click on an item it navigates to the note noteDetail Activity, here works fine, but if I add a note and set reminder on it and when the notification appears it should go to that particular NoteDetail activity","body":"I will pass the values with the intent using intent.putExtra(&quot;key&quot;, value) inside alarmReceiver class which extends BroadCastReceiver. I have RecyclerView in MainActivity when I click on an item it navigates to the note noteDetail Activity, here works fine, but if I add a note and set reminder on it and when the notification appears it should go to that particular NoteDetail activity"},{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":0,"creation_date":1667221250,"post_id":74263107,"comment_id":131111926,"body_markdown":"Would you add some details or code?","body":"Would you add some details or code?"},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1667222240,"post_id":74263107,"comment_id":131112316,"body_markdown":"sure. I share some code now.","body":"sure. I share some code now."},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1667298893,"post_id":74263107,"comment_id":131130331,"body_markdown":"@AbolfazlAbbasi have you looked up the code?","body":"@AbolfazlAbbasi have you looked up the code?"}],"answers":[{"tags":[],"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667381922,"creation_date":1667335317,"answer_id":74281554,"question_id":74263107,"body_markdown":"Great, I have an idea, I assume your activity gets id and other data from intent. so we have to put data to alarm intent and read them from AlarmReceiver and put them again into the Activity Intent.\r\n\r\n     private void setAlarm() {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(Calendar.HOUR, hour);\r\n        calendar.set(Calendar.MINUTE, minute);\r\n\r\n        alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(this, AlarmReceiver.class);\r\n        intent.putExtra(&quot;id&quot;, &quot;myId&quot;);\r\n        intent.putExtra(&quot;title&quot;, &quot;my title&quot;);\r\n\r\n        pendingIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\r\n        alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        Toast.makeText(this, &quot;Alarm is set&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nand get that from the Receiver class:\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        Intent i = new Intent(context, ChecklistChildActivity.class);\r\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        i.putExtra(&quot;id&quot;, intent.getStringExtra(&quot;id&quot;));\r\n        i.putExtra(&quot;title&quot;, intent.getStringExtra(&quot;title&quot;));\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, i, 0);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;alarmChannel&quot;)\r\n            .setContentTitle(&quot;title&quot;)\r\n            .setContentText(&quot;text&quot;)\r\n            .setAutoCancel(true)\r\n            .setDefaults(NotificationCompat.DEFAULT_ALL)\r\n            .setSmallIcon(R.drawable.alarm)\r\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n            .setContentIntent(pendingIntent);\r\n\r\n        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(context);\r\n        managerCompat.notify(123, builder.build());\r\n    \r\n    }\r\n\r\nthat is a simple way but I suggest using the database in your activity and getting the note details in the onCreate method with id, so you need just add id in your intents and add get query in NoteDetail.java class.\r\n","title":"How to open activity that corresponding to the position click when I clicked on the notification when pops up?","body":"<p>Great, I have an idea, I assume your activity gets id and other data from intent. so we have to put data to alarm intent and read them from AlarmReceiver and put them again into the Activity Intent.</p>\n<pre><code> private void setAlarm() {\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(Calendar.HOUR, hour);\n    calendar.set(Calendar.MINUTE, minute);\n\n    alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n    Intent intent = new Intent(this, AlarmReceiver.class);\n    intent.putExtra(&quot;id&quot;, &quot;myId&quot;);\n    intent.putExtra(&quot;title&quot;, &quot;my title&quot;);\n\n    pendingIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\n    alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    Toast.makeText(this, &quot;Alarm is set&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>and get that from the Receiver class:</p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n\n    Intent i = new Intent(context, ChecklistChildActivity.class);\n    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    i.putExtra(&quot;id&quot;, intent.getStringExtra(&quot;id&quot;));\n    i.putExtra(&quot;title&quot;, intent.getStringExtra(&quot;title&quot;));\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, i, 0);\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;alarmChannel&quot;)\n        .setContentTitle(&quot;title&quot;)\n        .setContentText(&quot;text&quot;)\n        .setAutoCancel(true)\n        .setDefaults(NotificationCompat.DEFAULT_ALL)\n        .setSmallIcon(R.drawable.alarm)\n        .setPriority(NotificationCompat.PRIORITY_HIGH)\n        .setContentIntent(pendingIntent);\n\n    NotificationManagerCompat managerCompat = NotificationManagerCompat.from(context);\n    managerCompat.notify(123, builder.build());\n\n}\n</code></pre>\n<p>that is a simple way but I suggest using the database in your activity and getting the note details in the onCreate method with id, so you need just add id in your intents and add get query in NoteDetail.java class.</p>\n"}],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74281554,"answer_count":1,"score":0,"last_activity_date":1667381922,"creation_date":1667218402,"question_id":74263107,"body_markdown":"I have RecyclerView that contains notes, when I add new note I want to add reminder for that particular note but when the notification appears and I click on it I want to navigate to that activity and open that note. Notification works properly but what I want is, when I clicked on the notification open that note I set reminder on it.\r\n\r\nAlarmReceiver class:\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        Intent i = new Intent(context, ChecklistChildActivity.class);\r\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, i, 0);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;alarmChannel&quot;)\r\n                .setContentTitle(&quot;title&quot;)\r\n                .setContentText(&quot;text&quot;)\r\n                .setAutoCancel(true)\r\n                .setDefaults(NotificationCompat.DEFAULT_ALL)\r\n                .setSmallIcon(R.drawable.alarm)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(context);\r\n        managerCompat.notify(123, builder.build());\r\n\r\n    }\r\n}\r\n\r\n\r\nsetAlarm method:\r\n\r\n     private void setAlarm() {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(Calendar.HOUR, hour);\r\n        calendar.set(Calendar.MINUTE, minute);\r\n\r\n        alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(this, AlarmReceiver.class);\r\n        pendingIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\r\n        alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        Toast.makeText(this, &quot;Alarm is set&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\nI have an o&#39;clock interface in RecyclerAdapter that I implemented in MainActivity:\r\n\r\n @Override\r\n    public void onNoteClicked(int position, View itemView) {\r\n\r\n            Intent intent = new Intent(this, NoteDetail.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            intent.putExtra(&quot;id&quot;, noteAdapter.itemList.get(position).getId());\r\n            intent.putExtra(&quot;title&quot;, noteAdapter.itemList.get(position).getTitle());\r\n            intent.putExtra(&quot;content&quot;, noteAdapter.itemList.get(position).getContent());\r\n            intent.putExtra(&quot;date&quot;, noteAdapter.itemList.get(position).getDate());\r\n            intent.putExtra(&quot;backgroundColor&quot;, noteAdapter.itemList.get(position).getBackgroundColor());\r\n          \r\n            startActivity(intent);\r\n        }\r\n    \r\nWhen I clicked on the notification this method somehow should be called. When I add the note I don&#39;t know which position it goes in order to pass that position with the intent, though if I know the position, the position may change when I add or remove another note.","title":"How to open activity that corresponding to the position click when I clicked on the notification when pops up?","body":"<p>I have RecyclerView that contains notes, when I add new note I want to add reminder for that particular note but when the notification appears and I click on it I want to navigate to that activity and open that note. Notification works properly but what I want is, when I clicked on the notification open that note I set reminder on it.</p>\n<p>AlarmReceiver class:</p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n\n    Intent i = new Intent(context, ChecklistChildActivity.class);\n    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, i, 0);\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;alarmChannel&quot;)\n            .setContentTitle(&quot;title&quot;)\n            .setContentText(&quot;text&quot;)\n            .setAutoCancel(true)\n            .setDefaults(NotificationCompat.DEFAULT_ALL)\n            .setSmallIcon(R.drawable.alarm)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setContentIntent(pendingIntent);\n\n    NotificationManagerCompat managerCompat = NotificationManagerCompat.from(context);\n    managerCompat.notify(123, builder.build());\n\n}\n</code></pre>\n<p>}</p>\n<p>setAlarm method:</p>\n<pre><code> private void setAlarm() {\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(Calendar.HOUR, hour);\n    calendar.set(Calendar.MINUTE, minute);\n\n    alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n    Intent intent = new Intent(this, AlarmReceiver.class);\n    pendingIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\n    alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    Toast.makeText(this, &quot;Alarm is set&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>I have an o'clock interface in RecyclerAdapter that I implemented in MainActivity:</p>\n<p>@Override\npublic void onNoteClicked(int position, View itemView) {</p>\n<pre><code>        Intent intent = new Intent(this, NoteDetail.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.putExtra(&quot;id&quot;, noteAdapter.itemList.get(position).getId());\n        intent.putExtra(&quot;title&quot;, noteAdapter.itemList.get(position).getTitle());\n        intent.putExtra(&quot;content&quot;, noteAdapter.itemList.get(position).getContent());\n        intent.putExtra(&quot;date&quot;, noteAdapter.itemList.get(position).getDate());\n        intent.putExtra(&quot;backgroundColor&quot;, noteAdapter.itemList.get(position).getBackgroundColor());\n      \n        startActivity(intent);\n    }\n</code></pre>\n<p>When I clicked on the notification this method somehow should be called. When I add the note I don't know which position it goes in order to pass that position with the intent, though if I know the position, the position may change when I add or remove another note.</p>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1541576324,"post_id":53173475,"comment_id":93259849,"body_markdown":"You have compilation issues...without the full output of the error it is impossible to see what it&#39;s going on...","body":"You have compilation issues...without the full output of the error it is impossible to see what it&#39;s going on..."}],"answers":[{"tags":[],"owner":{"account_id":13176119,"reputation":95,"user_id":9517023,"display_name":"shelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541583305,"creation_date":1541583305,"answer_id":53186743,"question_id":53173475,"body_markdown":"It started working Automagically . FIX : delete .m2 repository. \r\n\r\nI did that yesterday but it didn&#39;t help, today somehow, deleting the .m2 repository and updating the project helped !","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p>It started working Automagically . FIX : delete .m2 repository. </p>\n\n<p>I did that yesterday but it didn't help, today somehow, deleting the .m2 repository and updating the project helped !</p>\n"},{"tags":[],"owner":{"account_id":4437340,"reputation":41,"user_id":3612834,"display_name":"ghostNet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558033309,"creation_date":1558033309,"answer_id":56175048,"question_id":53173475,"body_markdown":"Confirm, delete your entire local repository pointed to by .m2/settings.xml, usually this is .m2/repository","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p>Confirm, delete your entire local repository pointed to by .m2/settings.xml, usually this is .m2/repository</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1566752682,"creation_date":1565641044,"answer_id":57467737,"question_id":53173475,"body_markdown":"*Check properly settings with version of your project in eclipse and version of your runner for maven.*\r\n\r\n\r\n----------\r\n\r\nI have reproduced the same issue with *maven-compiler plugin*, but using version 3.8.1:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project testName: Fatal error compiling\r\n\r\n\r\nMy POM was:\r\n\r\n     &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n*To clarify:* \r\n\r\nin project I&#39;m using Java 11 and IntelijIDEA (but logic I think the same for eclipse). So I&#39;m using maven lifecycle phases fine only if my version of project (check properly Project Structure -&gt; Project Settings) corresponds to version of maven runner.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nE.g. if version of runner is for java 8, but project settings are for Java 11 then I&#39;m getting this error. If I have the same for both then I don&#39;t have any problems.\r\n\r\n\r\n----------\r\n\r\nAnd I highly recommend to check all settings for maven and the whole project. It helps to avoid the issues in the future. Deleting folder for maven is as alternative solution, but it must be last thing that you need to do.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ecmnp.png","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p><em>Check properly settings with version of your project in eclipse and version of your runner for maven.</em></p>\n\n<hr>\n\n<p>I have reproduced the same issue with <em>maven-compiler plugin</em>, but using version 3.8.1:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project testName: Fatal error compiling\n</code></pre>\n\n<p>My POM was:</p>\n\n<pre><code> &lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n      &lt;source&gt;11&lt;/source&gt;\n      &lt;target&gt;11&lt;/target&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p><em>To clarify:</em> </p>\n\n<p>in project I'm using Java 11 and IntelijIDEA (but logic I think the same for eclipse). So I'm using maven lifecycle phases fine only if my version of project (check properly Project Structure -> Project Settings) corresponds to version of maven runner.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ecmnp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ecmnp.png\" alt=\"enter image description here\"></a></p>\n\n<p>E.g. if version of runner is for java 8, but project settings are for Java 11 then I'm getting this error. If I have the same for both then I don't have any problems.</p>\n\n<hr>\n\n<p>And I highly recommend to check all settings for maven and the whole project. It helps to avoid the issues in the future. Deleting folder for maven is as alternative solution, but it must be last thing that you need to do.</p>\n"},{"tags":[],"owner":{"account_id":15994038,"reputation":1,"user_id":11601844,"display_name":"Davis Verastegui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606761374,"creation_date":1606759765,"answer_id":65078902,"question_id":53173475,"body_markdown":"I updated my Java SDK to 11.9 and reloaded the project. With this I solved my problem.","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p>I updated my Java SDK to 11.9 and reloaded the project. With this I solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":21322986,"reputation":1,"user_id":15695828,"display_name":"Sushruth Nagaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663666728,"creation_date":1663666728,"answer_id":73784600,"question_id":53173475,"body_markdown":"I had the same issue, it was because the Spring Boot project was using Java 11 but my %JAVA_HOME% variable was pointing to Java 8 home directory. I resolved the issue by changing the path to %JAVA_HOME% variable.","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p>I had the same issue, it was because the Spring Boot project was using Java 11 but my %JAVA_HOME% variable was pointing to Java 8 home directory. I resolved the issue by changing the path to %JAVA_HOME% variable.</p>\n"},{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667381614,"creation_date":1667381614,"answer_id":74287035,"question_id":53173475,"body_markdown":"You just need to go to preference(eclipse in this case) and change the right version of JDK like below in pic:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/hJ2dw.png","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p>You just need to go to preference(eclipse in this case) and change the right version of JDK like below in pic:</p>\n<p><a href=\"https://i.stack.imgur.com/hJ2dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJ2dw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13176119,"reputation":95,"user_id":9517023,"display_name":"shelo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32917,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":6,"score":6,"last_activity_date":1667381614,"creation_date":1541512974,"question_id":53173475,"body_markdown":"I know this is a duplicate question but the answers on other topics didn&#39;t help me. \r\n\r\nI&#39;m using Eclipse Photon, Java Version :10, I&#39;ve set jdk/jre versions on 10 in eclipse and pom.xml file. I&#39;ve changed eclipse.ini file :\r\n\r\n-Dosgi.requiredJavaVersion=10 (it was set to 1.8)\r\n\r\nand also I&#39;ve added plugin in my pom.xml : \r\n\r\n\r\n        \t\t&lt;plugin&gt;\r\n            \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            \t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            \t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n            \t\t&lt;configuration&gt;\r\n                \t\t&lt;source&gt;10&lt;/source&gt;\r\n                \t\t&lt;target&gt;10&lt;/target&gt;\r\n            \t\t&lt;/configuration&gt;\r\n        \t\t&lt;/plugin&gt;\r\n\r\n\r\nNothing helped. This is my pom.xml : \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.luv2code&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-demo-06-user-roles&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;spring-security-demo&lt;/name&gt;\r\n\r\n\t&lt;properties&gt;\r\n\r\n\t\t&lt;maven.compiler.source&gt;10&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;10&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;!-- Spring Security --&gt;\r\n\t\t&lt;!-- Spring Security WEB --&gt;\r\n\t\t&lt;!-- Spring Security taglibs --&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;5.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;5.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;5.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;!-- Spring MVC support --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Servlet, JSP and JSTL support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\r\n\t&lt;!-- TO DO: Add support for Maven WAR Plugin --&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;spring-security-demo&lt;/finalName&gt;\r\n\t\t\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;!--  Add Maven coordinates forL maven-war-plugin --&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n  \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;plugin&gt;\r\n            \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            \t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            \t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n            \t\t&lt;configuration&gt;\r\n                \t\t&lt;source&gt;10&lt;/source&gt;\r\n                \t\t&lt;target&gt;10&lt;/target&gt;\r\n            \t\t&lt;/configuration&gt;\r\n        \t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\t\r\n\t\r\n\r\n\r\n&lt;/project&gt;\r\n\r\nThe dependencies aren&#39;t being read in class files and also I&#39;ve tried deleting .m2 repository and starting Eclipse and doing the : Maven-&gt;Clean, Maven-&gt;install, and than Maven-&gt;update project. Nothing helped. I&#39;m really stuck here for about 2-3 hours now. \r\n\r\nNote: in Windows-&gt;Preferences-&gt;installed JRE&#39;s the jre10 was marked with the tick. I changed it to mark the jdk10. but still error : \r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project spring-security-demo-06-user-roles: Compilation failure\r\n\r\nEverything was working fine until I added the dependency of : spring-security-taglibs. \r\n\r\nDeleting the dependency doesn&#39;t do anything aswell.","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile)","body":"<p>I know this is a duplicate question but the answers on other topics didn't help me. </p>\n\n<p>I'm using Eclipse Photon, Java Version :10, I've set jdk/jre versions on 10 in eclipse and pom.xml file. I've changed eclipse.ini file :</p>\n\n<p>-Dosgi.requiredJavaVersion=10 (it was set to 1.8)</p>\n\n<p>and also I've added plugin in my pom.xml : </p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>Nothing helped. This is my pom.xml : </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.luv2code&lt;/groupId&gt;\n&lt;artifactId&gt;spring-security-demo-06-user-roles&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;spring-security-demo&lt;/name&gt;\n\n&lt;properties&gt;\n\n    &lt;maven.compiler.source&gt;10&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;10&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- Spring Security --&gt;\n    &lt;!-- Spring Security WEB --&gt;\n    &lt;!-- Spring Security taglibs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Spring MVC support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Servlet, JSP and JSTL support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n\n&lt;!-- TO DO: Add support for Maven WAR Plugin --&gt;\n&lt;build&gt;\n    &lt;finalName&gt;spring-security-demo&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!--  Add Maven coordinates forL maven-war-plugin --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>The dependencies aren't being read in class files and also I've tried deleting .m2 repository and starting Eclipse and doing the : Maven->Clean, Maven->install, and than Maven->update project. Nothing helped. I'm really stuck here for about 2-3 hours now. </p>\n\n<p>Note: in Windows->Preferences->installed JRE's the jre10 was marked with the tick. I changed it to mark the jdk10. but still error : </p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project spring-security-demo-06-user-roles: Compilation failure\n</code></pre>\n\n<p>Everything was working fine until I added the dependency of : spring-security-taglibs. </p>\n\n<p>Deleting the dependency doesn't do anything aswell.</p>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667380620,"post_id":74286748,"comment_id":131151301,"body_markdown":"The name of the method `waitFor` should give you a hint.","body":"The name of the method <code>waitFor</code> should give you a hint."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667381254,"post_id":74286748,"comment_id":131151535,"body_markdown":"You are not consuming the standard output stream of the process, so it will hang until you do. That means your `waitFor` call creates a deadlock.","body":"You are not consuming the standard output stream of the process, so it will hang until you do. That means your <code>waitFor</code> call creates a deadlock."},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1667381287,"post_id":74286748,"comment_id":131151545,"body_markdown":"@f1sh Swapping `waitFor` to `exitValue` fixed the problem, not sure how I missed something like that, but very much thank you!\n\nAlthough when using `exitValue` I get the error `java.lang.IllegalThreadStateException: process hasn&#39;t exited`. Would that be fixable by using `waitFor` but adding a timeout instead of it blocking indefinitely?","body":"@f1sh Swapping <code>waitFor</code> to <code>exitValue</code> fixed the problem, not sure how I missed something like that, but very much thank you!  Although when using <code>exitValue</code> I get the error <code>java.lang.IllegalThreadStateException: process hasn&#39;t exited</code>. Would that be fixable by using <code>waitFor</code> but adding a timeout instead of it blocking indefinitely?"}],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667381227,"answer_count":0,"score":0,"last_activity_date":1667381010,"creation_date":1667380187,"question_id":74286748,"body_markdown":"I&#39;m trying to execute a shell script in a Java program using `ProcessBuilder`. The problem is that my Java program hangs itself/freezes every time I use the ProcessBuilder to run the script. Upon executing the shell script, the terminal window in the Java program hangs and to close down the program, I need to kill the process with `kill -9 PID`, I can simply not close down the program with the `exit` command in the terminal which I can in normal cases when it&#39;s not frozen.\r\n\r\nBy looking at the active running processes on the Linux server after I&#39;ve ran the test, both my Java program, the shell script it executes, and the 2nd Java program that the executing shell script start are all 3 active, hence 1st Java program (the one using ProcessBuilder) still being frozen.\r\n\r\nI have also set the ProcessBuilder to redirect the error stream to a file but that file is completely empty every time after each run.\r\n\r\n**Java Code**\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Starting!&quot;);\r\n\r\n    File directory = new File(&quot;/path/to&quot;);\r\n    File startScript = new File(directory, &quot;script.sh&quot;);\r\n\r\n    try {\r\n        String command = &quot;sh &quot; + startScript.getAbsolutePath();\r\n        System.out.println(&quot;Path set to: &quot; + startScript.getAbsolutePath());\r\n\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, command);\r\n        processBuilder.directory(directory);\r\n        processBuilder.redirectError(new File(directory, &quot;error.txt&quot;));\r\n        processBuilder.redirectErrorStream(true);\r\n        Process process = processBuilder.start();\r\n\r\n        System.out.println(&quot;Process start code ran...&quot;);\r\n\r\n        // Exit status\r\n        int exitStatus = process.waitFor();\r\n        \r\n        if (exitStatus == 0) {\r\n            System.out.println(&quot;Test ran successfully!&quot;);\r\n        } else {\r\n            System.out.println(&quot;Something went wrong. Exit status is &quot; + exitStatus);\r\n        }\r\n    } catch (Exception exception) {\r\n        exception.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n**Shell Script**\r\n\r\n```\r\n#!/bin/bash\r\n\r\necho &quot;Starting...&quot;\r\ncd /path/to/\r\njava -Xms2G -Xmx2G -jar /path/to/server.jar nogui\r\n```\r\n\r\n**Terminal Output of &quot;main&quot; Java Program**\r\n\r\n```\r\nPath set to: /the/path/script.sh\r\nProcess start code ran...\r\n```\r\n\r\n**Tried**\r\nI have tried the code showed above multiple times with multiple different commands (for example I have tried the command in the `ProcessBuilder` simply being the path to the script, still the same result).\r\n\r\n**Expected**\r\nThe start script to execute without errors and the Java program to still function properly after that. I also expect that the terminal should output the *&quot;Test ran successfully!&quot;* or *&quot;Something went wrong. Exit status is X.&quot;*, something it does not do.\r\n\r\n**Happened**\r\nThe program hangs itself after reaching the &quot;*Process start code ran...*&quot;. The shell script gets executed as can be seen in the running processes list.","title":"Java program hangs itself after executing shell script with ProcessBuilder","body":"<p>I'm trying to execute a shell script in a Java program using <code>ProcessBuilder</code>. The problem is that my Java program hangs itself/freezes every time I use the ProcessBuilder to run the script. Upon executing the shell script, the terminal window in the Java program hangs and to close down the program, I need to kill the process with <code>kill -9 PID</code>, I can simply not close down the program with the <code>exit</code> command in the terminal which I can in normal cases when it's not frozen.</p>\n<p>By looking at the active running processes on the Linux server after I've ran the test, both my Java program, the shell script it executes, and the 2nd Java program that the executing shell script start are all 3 active, hence 1st Java program (the one using ProcessBuilder) still being frozen.</p>\n<p>I have also set the ProcessBuilder to redirect the error stream to a file but that file is completely empty every time after each run.</p>\n<p><strong>Java Code</strong></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Starting!&quot;);\n\n    File directory = new File(&quot;/path/to&quot;);\n    File startScript = new File(directory, &quot;script.sh&quot;);\n\n    try {\n        String command = &quot;sh &quot; + startScript.getAbsolutePath();\n        System.out.println(&quot;Path set to: &quot; + startScript.getAbsolutePath());\n\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, command);\n        processBuilder.directory(directory);\n        processBuilder.redirectError(new File(directory, &quot;error.txt&quot;));\n        processBuilder.redirectErrorStream(true);\n        Process process = processBuilder.start();\n\n        System.out.println(&quot;Process start code ran...&quot;);\n\n        // Exit status\n        int exitStatus = process.waitFor();\n        \n        if (exitStatus == 0) {\n            System.out.println(&quot;Test ran successfully!&quot;);\n        } else {\n            System.out.println(&quot;Something went wrong. Exit status is &quot; + exitStatus);\n        }\n    } catch (Exception exception) {\n        exception.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>Shell Script</strong></p>\n<pre><code>#!/bin/bash\n\necho &quot;Starting...&quot;\ncd /path/to/\njava -Xms2G -Xmx2G -jar /path/to/server.jar nogui\n</code></pre>\n<p><strong>Terminal Output of &quot;main&quot; Java Program</strong></p>\n<pre><code>Path set to: /the/path/script.sh\nProcess start code ran...\n</code></pre>\n<p><strong>Tried</strong>\nI have tried the code showed above multiple times with multiple different commands (for example I have tried the command in the <code>ProcessBuilder</code> simply being the path to the script, still the same result).</p>\n<p><strong>Expected</strong>\nThe start script to execute without errors and the Java program to still function properly after that. I also expect that the terminal should output the <em>&quot;Test ran successfully!&quot;</em> or <em>&quot;Something went wrong. Exit status is X.&quot;</em>, something it does not do.</p>\n<p><strong>Happened</strong>\nThe program hangs itself after reaching the &quot;<em>Process start code ran...</em>&quot;. The shell script gets executed as can be seen in the running processes list.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1667379712,"post_id":74286612,"comment_id":131151003,"body_markdown":"That only makes sense if you have a single record in each list","body":"That only makes sense if you have a single record in each list"},{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":0,"creation_date":1667379716,"post_id":74286612,"comment_id":131151005,"body_markdown":"You probably can&#39;t. Assuming you have a list of records for each key in your map, you won&#39;t be able to store these in a flattened map, as you cannot have duplicate keys. This would mean you can only store a single record for each key.","body":"You probably can&#39;t. Assuming you have a list of records for each key in your map, you won&#39;t be able to store these in a flattened map, as you cannot have duplicate keys. This would mean you can only store a single record for each key."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1667380230,"post_id":74286612,"comment_id":131151177,"body_markdown":"You want to reduce the list to a single element. But you need to explain the rules for this reduction, otherwise probably you won&#39;t be able go get much help.","body":"You want to reduce the list to a single element. But you need to explain the rules for this reduction, otherwise probably you won&#39;t be able go get much help."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667380998,"creation_date":1667380089,"answer_id":74286731,"question_id":74286612,"body_markdown":"You can preserve all `Records` from the list, some logic for apply some logic resolving `Records` mapped to the same key needs to be applied. For instance, keep the one that has the latest timestamp, otherwise it wouldn&#39;t be possible.\r\n\r\nThat&#39;s how it can be done using using three-args flavor of Collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)):\r\n\r\n```\r\nMap&lt;String, List&lt;Records&gt;&gt; prevDateData = outputs.get(currentDate.minusDays(1))\r\n    .stream()\r\n    .collect(Collectors.toMap(\r\n        Records::getId,      // keyMapper\r\n        Function.identity(), // valueMapper\r\n        (left, right) -&gt; *your logic for resolving duplicates here* // mergeFunction\r\n    ));\r\n```\r\n\r\nThe simplest example `mergeFunction` would be `(l, r) -&gt; r` which overrides the previously associated value with a new one. You might want something more elaborate.\r\n\r\nMerge function is of type `BinaryOperator`, and static methods [`minBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#minBy(java.util.Comparator)) and [`maxBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)) producing a `BinaryOperator` based on the provided Comparator might be helpful in implementing the merge function.","title":"How can I get Map&lt;String, Records&gt; from Map&lt;String, List&lt;Records&gt;&gt;","body":"<p>You can preserve all <code>Records</code> from the list, some logic for apply some logic resolving <code>Records</code> mapped to the same key needs to be applied. For instance, keep the one that has the latest timestamp, otherwise it wouldn't be possible.</p>\n<p>That's how it can be done using using three-args flavor of Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>:</p>\n<pre><code>Map&lt;String, List&lt;Records&gt;&gt; prevDateData = outputs.get(currentDate.minusDays(1))\n    .stream()\n    .collect(Collectors.toMap(\n        Records::getId,      // keyMapper\n        Function.identity(), // valueMapper\n        (left, right) -&gt; *your logic for resolving duplicates here* // mergeFunction\n    ));\n</code></pre>\n<p>The simplest example <code>mergeFunction</code> would be <code>(l, r) -&gt; r</code> which overrides the previously associated value with a new one. You might want something more elaborate.</p>\n<p>Merge function is of type <code>BinaryOperator</code>, and static methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#minBy(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>minBy()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>maxBy()</code></a> producing a <code>BinaryOperator</code> based on the provided Comparator might be helpful in implementing the merge function.</p>\n"}],"owner":{"display_name":"user19078589"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74286731,"answer_count":1,"score":0,"last_activity_date":1667380998,"creation_date":1667379471,"question_id":74286612,"body_markdown":"This is code I have tried:\r\n\r\n    Map&lt;LocalDate, List&lt;Records&gt;&gt; outputs = new HashMap&lt;&gt;();\r\n\r\n    Map&lt;String, List&lt;Records&gt;&gt; prevDateData = outputs.get(currentDate.minusDays(1))\r\n                                    .stream().collect(Collectors.groupingBy(Records::getId));\r\n\r\nBut I want to achieve data structure from outputs:\r\n\r\n    Map&lt;String, Records&gt; prevDateData\r\n\r\nCan someone suggest how I could do that?","title":"How can I get Map&lt;String, Records&gt; from Map&lt;String, List&lt;Records&gt;&gt;","body":"<p>This is code I have tried:</p>\n<pre><code>Map&lt;LocalDate, List&lt;Records&gt;&gt; outputs = new HashMap&lt;&gt;();\n\nMap&lt;String, List&lt;Records&gt;&gt; prevDateData = outputs.get(currentDate.minusDays(1))\n                                .stream().collect(Collectors.groupingBy(Records::getId));\n</code></pre>\n<p>But I want to achieve data structure from outputs:</p>\n<pre><code>Map&lt;String, Records&gt; prevDateData\n</code></pre>\n<p>Can someone suggest how I could do that?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9078,"page":914,"page_size":100}
