{"items":[{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":106692,"reputation":5379,"user_id":284120,"accept_rate":88,"display_name":"tobygriffin"},"score":0,"creation_date":1500860230,"post_id":45271066,"comment_id":77505807,"body_markdown":"What have you considered and ruled out so far?","body":"What have you considered and ruled out so far?"},{"owner":{"account_id":2281582,"reputation":614,"user_id":2006529,"accept_rate":50,"display_name":"somaniA"},"score":0,"creation_date":1500860960,"post_id":45271066,"comment_id":77505983,"body_markdown":"I am not sure , there are no error in logs about this . what i suspect is , it tries to zip the file , but the file size is huge and it took a lot of time and it fails sometimes because of this .","body":"I am not sure , there are no error in logs about this . what i suspect is , it tries to zip the file , but the file size is huge and it took a lot of time and it fails sometimes because of this ."}],"answers":[{"tags":[],"owner":{"account_id":1994047,"reputation":750,"user_id":1787363,"display_name":"Yoseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633493447,"creation_date":1633493447,"answer_id":69459740,"question_id":45271066,"body_markdown":"See https://github.com/apache/logging-log4j2/blob/5edf43758f104affad9842753e66be173fc4d68a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/RollingFileManager.java#L439\r\nand\r\nhttps://github.com/apache/logging-log4j2/blob/5edf43758f104affad9842753e66be173fc4d68a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/action/ZipCompressAction.java\r\n\r\nThe zip action is done as an asynchronous action, so logging can continue while the file is getting zipped. Any number of things can cause the behavior you are seeing as these asynchronous actions can be terminated, or if an exception happens then the zip and remove of the original file is not done. There is logging for most of these things so if you are not seeing log messages then it might be that it is still zipping that huge file, while logging continues. ","title":"Log4j Zip file fails sometimes","body":"<p>See <a href=\"https://github.com/apache/logging-log4j2/blob/5edf43758f104affad9842753e66be173fc4d68a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/RollingFileManager.java#L439\" rel=\"nofollow noreferrer\">https://github.com/apache/logging-log4j2/blob/5edf43758f104affad9842753e66be173fc4d68a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/RollingFileManager.java#L439</a>\nand\n<a href=\"https://github.com/apache/logging-log4j2/blob/5edf43758f104affad9842753e66be173fc4d68a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/action/ZipCompressAction.java\" rel=\"nofollow noreferrer\">https://github.com/apache/logging-log4j2/blob/5edf43758f104affad9842753e66be173fc4d68a/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/rolling/action/ZipCompressAction.java</a></p>\n<p>The zip action is done as an asynchronous action, so logging can continue while the file is getting zipped. Any number of things can cause the behavior you are seeing as these asynchronous actions can be terminated, or if an exception happens then the zip and remove of the original file is not done. There is logging for most of these things so if you are not seeing log messages then it might be that it is still zipping that huge file, while logging continues.</p>\n"}],"owner":{"account_id":2281582,"reputation":614,"user_id":2006529,"accept_rate":50,"display_name":"somaniA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633493447,"creation_date":1500855609,"question_id":45271066,"body_markdown":"I am using log4j rolling file appender with zip facility . Every hour it rolls the file and zip it . Sometimes it just fails to zip . so we have a unzip log file and also a zipped log file with same name but zero bytes . what could be the reason . this is configuration : \r\n\r\n\r\n\r\n    &lt;RollingFile name=&quot;stat-log&quot; fileName=&quot;${stat-log}&quot;\r\n    \t\t\tfilePattern=&quot;${stat-log}.%d{yyyy-MM-dd-HH}.gz&quot;&gt;\r\n    \t\t\t&lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;pattern&gt;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\n    \t\t\t\t&lt;/pattern&gt;\r\n    \t\t\t&lt;/PatternLayout&gt;\r\n    \t\t\t&lt;Policies&gt;\r\n    \t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\r\n    \t\t\t\t\tmodulate=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;/Policies&gt;\r\n    \t\t&lt;/RollingFile&gt;\r\n\r\n\r\n\r\n\r\ni have added apache-log4j-extras-1.2.17.jar in the class path and log4j version is 2.5 \r\n\r\nOne more thing , the log files are huge , the zip which failed , has a log file with 30 GB size . ","title":"Log4j Zip file fails sometimes","body":"<p>I am using log4j rolling file appender with zip facility . Every hour it rolls the file and zip it . Sometimes it just fails to zip . so we have a unzip log file and also a zipped log file with same name but zero bytes . what could be the reason . this is configuration : </p>\n\n<pre><code>&lt;RollingFile name=\"stat-log\" fileName=\"${stat-log}\"\n            filePattern=\"${stat-log}.%d{yyyy-MM-dd-HH}.gz\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\n                &lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=\"1\"\n                    modulate=\"true\" /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n</code></pre>\n\n<p>i have added apache-log4j-extras-1.2.17.jar in the class path and log4j version is 2.5 </p>\n\n<p>One more thing , the log files are huge , the zip which failed , has a log file with 30 GB size . </p>\n"},{"tags":["java","lambda","functional-programming","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":13641450,"reputation":96,"user_id":9841416,"display_name":"pavleprica"},"score":0,"creation_date":1633447633,"post_id":69453152,"comment_id":122759670,"body_markdown":"Reactive can be hard to learn indeed! It&#39;s hard to tell without having a bigger insight into the code. But I would say the issue is in the `.withTransaction` part. Perhaps you could separate that into another `.map()`. What is `withTransaction` actually? What does it accept and return?","body":"Reactive can be hard to learn indeed! It&#39;s hard to tell without having a bigger insight into the code. But I would say the issue is in the <code>.withTransaction</code> part. Perhaps you could separate that into another <code>.map()</code>. What is <code>withTransaction</code> actually? What does it accept and return?"},{"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"score":0,"creation_date":1633448429,"post_id":69453152,"comment_id":122760066,"body_markdown":"`withTransaction()` is a method in another service to persist objects to the database. It accepts a lambda function and returns a `&lt;T&gt;`.","body":"<code>withTransaction()</code> is a method in another service to persist objects to the database. It accepts a lambda function and returns a <code>&lt;T&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633454927,"creation_date":1633448832,"answer_id":69453568,"question_id":69453152,"body_markdown":"I guess method `withTransaction()` does not return `String` as it should. You should map the return value to a `String`:\r\n\r\n\t.map(id -&gt; service.withTransaction((s, em) -&gt; {\r\n\t\t//some code goes here\r\n\t\tif (true)\r\n\t\t\treturn &quot;data sync failed&quot;;\r\n\t\treturn &quot;data synced successfully&quot;;\r\n\t}))\r\n\t.map(e -&gt; e.toString()); //or whatever","title":"Return a String value when method return type is Mono&lt;String&gt;","body":"<p>I guess method <code>withTransaction()</code> does not return <code>String</code> as it should. You should map the return value to a <code>String</code>:</p>\n<pre><code>.map(id -&gt; service.withTransaction((s, em) -&gt; {\n    //some code goes here\n    if (true)\n        return &quot;data sync failed&quot;;\n    return &quot;data synced successfully&quot;;\n}))\n.map(e -&gt; e.toString()); //or whatever\n</code></pre>\n"}],"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2783,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69453568,"answer_count":1,"score":1,"last_activity_date":1633492120,"creation_date":1633447197,"question_id":69453152,"body_markdown":"My method returns a `Mono&lt;String&gt;` response back to the controller. However, I am getting the following `error` while trying to return a `String` value.\r\n\r\n    Required Type: Mono&lt;String&gt;, \r\n    Provided: Mono&lt;Object&gt;\r\n    no instance(s) of type variable(s) T exist so that Mono&lt;T&gt; conforms to String inference variable R has incompatible bounds: equality constraints\r\n \r\n\r\n**Service:**\r\n \r\n    public Mono&lt;String&gt; moveToDB(String pid, String op, MoveRequest moveRequest) {\r\n            return Mono.just(pid)\r\n                    .subscribeOn(Schedulers.boundedElastic())\r\n                    .map(id -&gt; persistenceService.withTransaction((s, em) -&gt; {\r\n                         //some code goes here\r\n                        if (condition)\r\n                           return &quot;data sync failed&quot;; //ERROR\r\n                        return &quot;data synced successfully&quot;; //ERROR\r\n            }));\r\n    }\r\n\r\nI am new to reactive programming and I am probably making a silly mistake but I&#39;d appreciate some help on this. Thanks!","title":"Return a String value when method return type is Mono&lt;String&gt;","body":"<p>My method returns a <code>Mono&lt;String&gt;</code> response back to the controller. However, I am getting the following <code>error</code> while trying to return a <code>String</code> value.</p>\n<pre><code>Required Type: Mono&lt;String&gt;, \nProvided: Mono&lt;Object&gt;\nno instance(s) of type variable(s) T exist so that Mono&lt;T&gt; conforms to String inference variable R has incompatible bounds: equality constraints\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>public Mono&lt;String&gt; moveToDB(String pid, String op, MoveRequest moveRequest) {\n        return Mono.just(pid)\n                .subscribeOn(Schedulers.boundedElastic())\n                .map(id -&gt; persistenceService.withTransaction((s, em) -&gt; {\n                     //some code goes here\n                    if (condition)\n                       return &quot;data sync failed&quot;; //ERROR\n                    return &quot;data synced successfully&quot;; //ERROR\n        }));\n}\n</code></pre>\n<p>I am new to reactive programming and I am probably making a silly mistake but I'd appreciate some help on this. Thanks!</p>\n"},{"tags":["java","arrays","loops"],"answers":[{"tags":[],"owner":{"account_id":10993747,"reputation":487,"user_id":8076698,"display_name":"semicolon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633468797,"creation_date":1633468797,"answer_id":69457382,"question_id":69457269,"body_markdown":"Try following: \r\n\r\n```java\r\nfor (int i = 0; i &lt; 12; i++) {\r\n    System.out.println(&quot;There are a total of &quot; + daysInMonth[i] + &quot; days in the month of &quot; + months[i] + &quot;.&quot;);\r\n}\r\n```","title":"How Would I Create a Loop to Display the Months and Days in Each Month?","body":"<p>Try following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 12; i++) {\n    System.out.println(&quot;There are a total of &quot; + daysInMonth[i] + &quot; days in the month of &quot; + months[i] + &quot;.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6142953,"reputation":321,"user_id":4789766,"accept_rate":80,"display_name":"Matthew S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633469296,"creation_date":1633469296,"answer_id":69457457,"question_id":69457269,"body_markdown":"You could create a Map&lt;String, Integer&gt; and then iterate through it.\r\n\r\n```\r\nfinal Map&lt;String, Integer&gt; months = new HashMap&lt;&gt;();\r\nmonths.put(&quot;January&quot;, 31);\r\nmonths.put(&quot;February&quot;, 28);\r\n...\r\nmonths.forEach((k, v) -&gt; System.out.println(&quot;There are a total of &quot; + v + &quot; days in the month of &quot; + k + &quot;.&quot;));\r\n```","title":"How Would I Create a Loop to Display the Months and Days in Each Month?","body":"<p>You could create a Map&lt;String, Integer&gt; and then iterate through it.</p>\n<pre><code>final Map&lt;String, Integer&gt; months = new HashMap&lt;&gt;();\nmonths.put(&quot;January&quot;, 31);\nmonths.put(&quot;February&quot;, 28);\n...\nmonths.forEach((k, v) -&gt; System.out.println(&quot;There are a total of &quot; + v + &quot; days in the month of &quot; + k + &quot;.&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633471711,"creation_date":1633469627,"answer_id":69457506,"question_id":69457269,"body_markdown":"The [answer by semicolon](https://stackoverflow.com/a/69457382/10819573) is correct and you should accept that. I have written this answer to introduce you to the `java.time` API.\r\n\r\n    import java.time.Month;\r\n    import java.time.format.TextStyle;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfor (int i = 1; i &lt;= 12; i++) {\r\n    \t\t\tMonth month = Month.of(i);\r\n    \t\t\tSystem.out.println(month.getDisplayName(TextStyle.FULL, Locale.ENGLISH) + &quot; has a maximum of &quot;\r\n    \t\t\t\t\t+ month.maxLength() + &quot; days.&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    January has a maximum of 31 days.\r\n    February has a maximum of 29 days.\r\n    March has a maximum of 31 days.\r\n    ...\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://ideone.com/38DCTe","title":"How Would I Create a Loop to Display the Months and Days in Each Month?","body":"<p>The <a href=\"https://stackoverflow.com/a/69457382/10819573\">answer by semicolon</a> is correct and you should accept that. I have written this answer to introduce you to the <code>java.time</code> API.</p>\n<pre><code>import java.time.Month;\nimport java.time.format.TextStyle;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt;= 12; i++) {\n            Month month = Month.of(i);\n            System.out.println(month.getDisplayName(TextStyle.FULL, Locale.ENGLISH) + &quot; has a maximum of &quot;\n                    + month.maxLength() + &quot; days.&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>January has a maximum of 31 days.\nFebruary has a maximum of 29 days.\nMarch has a maximum of 31 days.\n...\n</code></pre>\n<p><a href=\"https://ideone.com/38DCTe\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":22951907,"reputation":41,"user_id":17083066,"display_name":"Epicskylegend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633491804,"creation_date":1633468075,"question_id":69457269,"body_markdown":"```java\r\npublic class Array {\r\n\r\n    public static void main(String args[]) {\r\n        String[] months = { &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot; };\r\n        int[] daysInMonth = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\r\n        System.out.println(&quot;There are a total of &quot; + daysInMonth[0] + &quot; days in the month of &quot; + months[0] + &quot;.&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nInstead of printing to the console 12 different times for each one of the months, how could I make my code more efficient and create a loop to print out each of the elements in my arrays?","title":"How Would I Create a Loop to Display the Months and Days in Each Month?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Array {\n\n    public static void main(String args[]) {\n        String[] months = { &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot; };\n        int[] daysInMonth = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n        System.out.println(&quot;There are a total of &quot; + daysInMonth[0] + &quot; days in the month of &quot; + months[0] + &quot;.&quot;);\n    }\n\n}\n</code></pre>\n<p>Instead of printing to the console 12 different times for each one of the months, how could I make my code more efficient and create a loop to print out each of the elements in my arrays?</p>\n"},{"tags":["java","runnable","scheduledexecutorservice"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1633465226,"post_id":69456780,"comment_id":122766026,"body_markdown":"You could just use `return;`","body":"You could just use <code>return;</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1633486222,"post_id":69456780,"comment_id":122770135,"body_markdown":"Does this answer your question? [How to remove a task from ScheduledExecutorService?](https://stackoverflow.com/questions/14423449/how-to-remove-a-task-from-scheduledexecutorservice)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14423449/how-to-remove-a-task-from-scheduledexecutorservice\">How to remove a task from ScheduledExecutorService?</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633491008,"creation_date":1633490678,"answer_id":69459466,"question_id":69456780,"body_markdown":"# Use multiple executors\r\n\r\nUse separate executor service instances. When conditions are such that you no longer need the executor service running your scheduled task, shutdown that service.\r\n\r\nYou can have the scheduled task shutdown its own executor service. \r\n\r\n - In code below, my task accesses the scheduled executor service as a local variable in order to call `shutdown`. That local variable `go` is an `AtomicBoolean` rather than a `boolean`/`Boolean` because any variable accessed from within the nested task definition must be either explicitly `final` or effectively `final`. \r\n - Alternatively, you could pass the scheduled executor service to the constructor of your task. That task would keep a reference internally, to later call its `shutdown` method.\r\n\r\nYou said:\r\n\r\n&gt;I cannot shut down the executor though, as I am using that instance to create new tasks in different thread.\r\n\r\nYou can have multiple executor services at the same time. If sharing an executor service is inconvenient, create multiple. \r\n\r\n## Example code\r\n\r\nIn this example, we start two different tasks in two different scheduled executor services. Both tasks print the current time to the console.\r\n\r\nWe flip a flag in `AtomicBoolean go` to signal when we want the second scheduled executor service’s task to halt further scheduling. The task calls `shutdown` on its own scheduler. \r\n\r\n```java\r\nInstant start = Instant.now();\r\nSystem.out.println( &quot;START demo. &quot; + start );\r\n\r\nScheduledExecutorService sesX = Executors.newScheduledThreadPool( 3 );\r\nsesX.scheduleAtFixedRate( () -&gt; System.out.println( &quot;X is running. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) ) , 0 , 5 , TimeUnit.SECONDS );\r\n\r\nScheduledExecutorService sesY = Executors.newSingleThreadScheduledExecutor();\r\nfinal AtomicBoolean go = new AtomicBoolean( true );\r\nsesY.scheduleAtFixedRate(\r\n        () -&gt; {\r\n            if ( go.get() )\r\n            {\r\n                System.out.println( &quot;Y is running. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\r\n            } else // Else the flag tripped signaling us to stop our work, and to shut down our scheduled executor service.\r\n            {\r\n                sesY.shutdown();\r\n                System.out.println( &quot;Y is STOPPING per boolean flag. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\r\n            }\r\n        } ,\r\n        0 ,\r\n        11 ,\r\n        TimeUnit.SECONDS\r\n);\r\n\r\ntry { Thread.sleep( Duration.ofSeconds( 30 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\ngo.set( false );  // Trip the flag for the &quot;X&quot; task to stop its scheduled executor service.\r\n\r\ntry { Thread.sleep( Duration.ofMinutes( 1 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\nSystem.out.println( &quot;STOPPING demo. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\r\nsesX.shutdown();\r\nsesY.shutdown();\r\n\r\nSystem.out.println( &quot;END of demo. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\r\n```\r\n\r\nTo that code you may want to add calls to `awaitTermination` to throw an exception if a time-out occurs. \r\n\r\nWhen run, you will see something like this output. Notice how after `Y is STOPPING` we see no more occurrences of `Y is running.`. \r\n\r\n```none\r\nSTART demo. 2021-10-06T03:22:05.894497Z\r\nY is running. 2021-10-06T03:22:05.901926Z Elapsed: PT0.007436S\r\nX is running. 2021-10-06T03:22:05.900470Z Elapsed: PT0.005976S\r\nX is running. 2021-10-06T03:22:10.905005Z Elapsed: PT5.010514S\r\nX is running. 2021-10-06T03:22:15.900850Z Elapsed: PT10.006362S\r\nY is running. 2021-10-06T03:22:16.907107Z Elapsed: PT11.012623S\r\nX is running. 2021-10-06T03:22:20.900625Z Elapsed: PT15.006141S\r\nX is running. 2021-10-06T03:22:25.904249Z Elapsed: PT20.009759S\r\nY is running. 2021-10-06T03:22:27.906847Z Elapsed: PT22.012356S\r\nX is running. 2021-10-06T03:22:30.901478Z Elapsed: PT25.00699S\r\nX is running. 2021-10-06T03:22:35.906167Z Elapsed: PT30.0117S\r\nY is STOPPING per boolean flag. 2021-10-06T03:22:38.902688Z Elapsed: PT33.008203S\r\nX is running. 2021-10-06T03:22:40.900736Z Elapsed: PT35.006248S\r\nX is running. 2021-10-06T03:22:45.901721Z Elapsed: PT40.007239S\r\nX is running. 2021-10-06T03:22:50.905250Z Elapsed: PT45.010765S\r\nX is running. 2021-10-06T03:22:55.904860Z Elapsed: PT50.01037S\r\nX is running. 2021-10-06T03:23:00.903331Z Elapsed: PT55.008842S\r\nX is running. 2021-10-06T03:23:05.904016Z Elapsed: PT1M0.009534S\r\nX is running. 2021-10-06T03:23:10.901787Z Elapsed: PT1M5.007306S\r\nX is running. 2021-10-06T03:23:15.903274Z Elapsed: PT1M10.00879S\r\nX is running. 2021-10-06T03:23:20.905279Z Elapsed: PT1M15.010808S\r\nX is running. 2021-10-06T03:23:25.903848Z Elapsed: PT1M20.009362S\r\nX is running. 2021-10-06T03:23:30.901875Z Elapsed: PT1M25.007388S\r\nX is running. 2021-10-06T03:23:35.905661Z Elapsed: PT1M30.011178S\r\nSTOPPING demo. 2021-10-06T03:23:35.909920Z Elapsed: PT1M30.015447S\r\nEND of demo. 2021-10-06T03:23:35.911568Z Elapsed: PT1M30.017074S\r\n```\r\n\r\n\r\n\r\n","title":"How to cancel current task using ScheduledExecutorService?","body":"<h1>Use multiple executors</h1>\n<p>Use separate executor service instances. When conditions are such that you no longer need the executor service running your scheduled task, shutdown that service.</p>\n<p>You can have the scheduled task shutdown its own executor service.</p>\n<ul>\n<li>In code below, my task accesses the scheduled executor service as a local variable in order to call <code>shutdown</code>. That local variable <code>go</code> is an <code>AtomicBoolean</code> rather than a <code>boolean</code>/<code>Boolean</code> because any variable accessed from within the nested task definition must be either explicitly <code>final</code> or effectively <code>final</code>.</li>\n<li>Alternatively, you could pass the scheduled executor service to the constructor of your task. That task would keep a reference internally, to later call its <code>shutdown</code> method.</li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>I cannot shut down the executor though, as I am using that instance to create new tasks in different thread.</p>\n</blockquote>\n<p>You can have multiple executor services at the same time. If sharing an executor service is inconvenient, create multiple.</p>\n<h2>Example code</h2>\n<p>In this example, we start two different tasks in two different scheduled executor services. Both tasks print the current time to the console.</p>\n<p>We flip a flag in <code>AtomicBoolean go</code> to signal when we want the second scheduled executor service’s task to halt further scheduling. The task calls <code>shutdown</code> on its own scheduler.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant start = Instant.now();\nSystem.out.println( &quot;START demo. &quot; + start );\n\nScheduledExecutorService sesX = Executors.newScheduledThreadPool( 3 );\nsesX.scheduleAtFixedRate( () -&gt; System.out.println( &quot;X is running. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) ) , 0 , 5 , TimeUnit.SECONDS );\n\nScheduledExecutorService sesY = Executors.newSingleThreadScheduledExecutor();\nfinal AtomicBoolean go = new AtomicBoolean( true );\nsesY.scheduleAtFixedRate(\n        () -&gt; {\n            if ( go.get() )\n            {\n                System.out.println( &quot;Y is running. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\n            } else // Else the flag tripped signaling us to stop our work, and to shut down our scheduled executor service.\n            {\n                sesY.shutdown();\n                System.out.println( &quot;Y is STOPPING per boolean flag. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\n            }\n        } ,\n        0 ,\n        11 ,\n        TimeUnit.SECONDS\n);\n\ntry { Thread.sleep( Duration.ofSeconds( 30 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\ngo.set( false );  // Trip the flag for the &quot;X&quot; task to stop its scheduled executor service.\n\ntry { Thread.sleep( Duration.ofMinutes( 1 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\nSystem.out.println( &quot;STOPPING demo. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\nsesX.shutdown();\nsesY.shutdown();\n\nSystem.out.println( &quot;END of demo. &quot; + Instant.now() + &quot; Elapsed: &quot; + Duration.between( start , Instant.now() ) );\n</code></pre>\n<p>To that code you may want to add calls to <code>awaitTermination</code> to throw an exception if a time-out occurs.</p>\n<p>When run, you will see something like this output. Notice how after <code>Y is STOPPING</code> we see no more occurrences of <code>Y is running.</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>START demo. 2021-10-06T03:22:05.894497Z\nY is running. 2021-10-06T03:22:05.901926Z Elapsed: PT0.007436S\nX is running. 2021-10-06T03:22:05.900470Z Elapsed: PT0.005976S\nX is running. 2021-10-06T03:22:10.905005Z Elapsed: PT5.010514S\nX is running. 2021-10-06T03:22:15.900850Z Elapsed: PT10.006362S\nY is running. 2021-10-06T03:22:16.907107Z Elapsed: PT11.012623S\nX is running. 2021-10-06T03:22:20.900625Z Elapsed: PT15.006141S\nX is running. 2021-10-06T03:22:25.904249Z Elapsed: PT20.009759S\nY is running. 2021-10-06T03:22:27.906847Z Elapsed: PT22.012356S\nX is running. 2021-10-06T03:22:30.901478Z Elapsed: PT25.00699S\nX is running. 2021-10-06T03:22:35.906167Z Elapsed: PT30.0117S\nY is STOPPING per boolean flag. 2021-10-06T03:22:38.902688Z Elapsed: PT33.008203S\nX is running. 2021-10-06T03:22:40.900736Z Elapsed: PT35.006248S\nX is running. 2021-10-06T03:22:45.901721Z Elapsed: PT40.007239S\nX is running. 2021-10-06T03:22:50.905250Z Elapsed: PT45.010765S\nX is running. 2021-10-06T03:22:55.904860Z Elapsed: PT50.01037S\nX is running. 2021-10-06T03:23:00.903331Z Elapsed: PT55.008842S\nX is running. 2021-10-06T03:23:05.904016Z Elapsed: PT1M0.009534S\nX is running. 2021-10-06T03:23:10.901787Z Elapsed: PT1M5.007306S\nX is running. 2021-10-06T03:23:15.903274Z Elapsed: PT1M10.00879S\nX is running. 2021-10-06T03:23:20.905279Z Elapsed: PT1M15.010808S\nX is running. 2021-10-06T03:23:25.903848Z Elapsed: PT1M20.009362S\nX is running. 2021-10-06T03:23:30.901875Z Elapsed: PT1M25.007388S\nX is running. 2021-10-06T03:23:35.905661Z Elapsed: PT1M30.011178S\nSTOPPING demo. 2021-10-06T03:23:35.909920Z Elapsed: PT1M30.015447S\nEND of demo. 2021-10-06T03:23:35.911568Z Elapsed: PT1M30.017074S\n</code></pre>\n"}],"owner":{"account_id":1149353,"reputation":4547,"user_id":1131384,"accept_rate":65,"display_name":"Chillax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633491008,"creation_date":1633465075,"question_id":69456780,"body_markdown":"\r\n\r\nI need to schedule a task, which runs periodically. The task should check if some conditions are still valid (isValid) and if not, it has to stop the running task and not create any further tasks. I cannot shut down the executor though, as I am using that instance to create new tasks in different thread.\r\n\r\nWhat I have come up with is:\r\n\r\n\r\n    ScheduledFuture&lt;?&gt; scheduledTask = _executor.scheduleWithFixedDelay( () -&gt; \r\n    \t\t\t\t{\r\n    \t\t\t\t\ttry\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tif( isValid() )\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t// Do tasks to close\r\n    \t\t\t\t\t\t\t// Cancel the task, but how?\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch ( Throwable e)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlog.fatal( &quot;Unexpected error..&quot;, e );\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}, 0L, 30, TimeUnit.SECONDS );\r\n\t\t\t\t\r\nHow do I cancel the *currently* running task (*scheduledTask*) ? ","title":"How to cancel current task using ScheduledExecutorService?","body":"<p>I need to schedule a task, which runs periodically. The task should check if some conditions are still valid (isValid) and if not, it has to stop the running task and not create any further tasks. I cannot shut down the executor though, as I am using that instance to create new tasks in different thread.</p>\n<p>What I have come up with is:</p>\n<pre><code>ScheduledFuture&lt;?&gt; scheduledTask = _executor.scheduleWithFixedDelay( () -&gt; \n                {\n                    try\n                    {\n                        if( isValid() )\n                        {\n                            // Do tasks to close\n                            // Cancel the task, but how?\n                        }\n                    }\n                    catch ( Throwable e)\n                    {\n                        log.fatal( &quot;Unexpected error..&quot;, e );\n                    }\n                }, 0L, 30, TimeUnit.SECONDS );\n            \n</code></pre>\n<p>How do I cancel the <em>currently</em> running task (<em>scheduledTask</em>) ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1633488120,"post_id":69433830,"comment_id":122770467,"body_markdown":"FYI it is hard to answer this question when none of the code examples compile. In the future, please try to create a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"FYI it is hard to answer this question when none of the code examples compile. In the future, please try to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633490259,"creation_date":1633490259,"answer_id":69459426,"question_id":69433830,"body_markdown":"The problem is that `BaitushumAKBARSCard2AccountSchema` and `JskkBaitushumAKBARSCard2AccountSchema` specify different concrete types for the `ParameterizedPayment` type parameter. To fix this, you&#39;ll need to make `BaitushumAKBARSCard2AccountSchema` take an additional type parameter:\r\n\r\n    public class BaitushumAKBARSCard2AccountSchema&lt;C extends BaitushumAKBARSCard2AccountSchema.Config,\r\n            P extends BaitushumAdapter.Parameters&gt;\r\n            extends AKBARSCard2AccountSchema&lt;C&gt; implements ParameterizedPayment&lt;P&gt; {\r\n    \r\n        private P parameters;\r\n    \r\n        @Override\r\n        public void setParameters(P parameters) {\r\n            this.parameters = parameters;\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nThen, the declaration for `JskkBaitushumAKBARSCard2AccountSchema` changes to this:\r\n\r\n    public class JskkBaitushumAKBARSCard2AccountSchema\r\n            extends BaitushumAKBARSCard2AccountSchema&lt;JskkBaitushumAKBARSCard2AccountSchema.Config,\r\n            JskkBaitushumAdapter.Parameters&gt; {\r\n\r\nNote two additional changes:\r\n\r\n1. It isn&#39;t necessary to specify that `JskkBaitushumAKBARSCard2AccountSchema` implements `ParameterizedPayment` anymore, since this is implied by extending `BaitushumAKBARSCard2AccountSchema`\r\n\r\n2. The `parameters` field and `setParameters` methods can be inherited from `BaitushumAKBARSCard2AccountSchema` and do not need to be redeclared.\r\n","title":"How do I use a generic in an interface other than the one specified in the parent class?","body":"<p>The problem is that <code>BaitushumAKBARSCard2AccountSchema</code> and <code>JskkBaitushumAKBARSCard2AccountSchema</code> specify different concrete types for the <code>ParameterizedPayment</code> type parameter. To fix this, you'll need to make <code>BaitushumAKBARSCard2AccountSchema</code> take an additional type parameter:</p>\n<pre><code>public class BaitushumAKBARSCard2AccountSchema&lt;C extends BaitushumAKBARSCard2AccountSchema.Config,\n        P extends BaitushumAdapter.Parameters&gt;\n        extends AKBARSCard2AccountSchema&lt;C&gt; implements ParameterizedPayment&lt;P&gt; {\n\n    private P parameters;\n\n    @Override\n    public void setParameters(P parameters) {\n        this.parameters = parameters;\n    }\n\n    // ...\n}\n</code></pre>\n<p>Then, the declaration for <code>JskkBaitushumAKBARSCard2AccountSchema</code> changes to this:</p>\n<pre><code>public class JskkBaitushumAKBARSCard2AccountSchema\n        extends BaitushumAKBARSCard2AccountSchema&lt;JskkBaitushumAKBARSCard2AccountSchema.Config,\n        JskkBaitushumAdapter.Parameters&gt; {\n</code></pre>\n<p>Note two additional changes:</p>\n<ol>\n<li><p>It isn't necessary to specify that <code>JskkBaitushumAKBARSCard2AccountSchema</code> implements <code>ParameterizedPayment</code> anymore, since this is implied by extending <code>BaitushumAKBARSCard2AccountSchema</code></p>\n</li>\n<li><p>The <code>parameters</code> field and <code>setParameters</code> methods can be inherited from <code>BaitushumAKBARSCard2AccountSchema</code> and do not need to be redeclared.</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user14384473"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633490259,"creation_date":1633340266,"question_id":69433830,"body_markdown":"\r\nThis is a parent class I inherit from it and I want to use another generic in the interface\r\n\r\n    public class BaitushumAKBARSCard2AccountSchema&lt;C extends BaitushumAKBARSCard2AccountSchema.Config&gt;\r\n            extends AKBARSCard2AccountSchema&lt;C&gt; implements ParameterizedPayment&lt;BaitushumAdapter.Parameters&gt; {\r\n    \r\n        private BaitushumAdapter.Parameters parameters;\r\n    \r\n        @Override\r\n        public void setParameters(BaitushumAdapter.Parameters parameters) {\r\n            this.parameters = parameters;\r\n        }\r\n\r\n\r\n\r\nThis is the inheritor class\r\n[![enter image description here][1]][1]\r\n\r\n    public class JskkBaitushumAKBARSCard2AccountSchema extends BaitushumAKBARSCard2AccountSchema&lt;JskkBaitushumAKBARSCard2AccountSchema.Config&gt;\r\n            implements ParameterizedPayment&lt;JskkBaitushumAdapter.Parameters&gt; {\r\n    \r\n        private JskkBaitushumAdapter.Parameters parameters;\r\n    \r\n        @Override\r\n        public void setParameters(JskkBaitushumAdapter.Parameters parameters) {\r\n            this.parameters = parameters;\r\n        }\r\n\r\n\r\nParameters are inherited(\r\nThey are in the Baitushum class)\r\n\r\n \r\n\r\n    public static class Parameters extends ParameterizedPayment.Parameters {\r\n\r\n\r\n\r\nParameters are parents\r\n\r\n    public class JskkBaitushumAdapter {\r\n    \r\n        public static class Parameters extends BaitushumAdapter.Parameters {\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vlNX4.png","title":"How do I use a generic in an interface other than the one specified in the parent class?","body":"<p>This is a parent class I inherit from it and I want to use another generic in the interface</p>\n<pre><code>public class BaitushumAKBARSCard2AccountSchema&lt;C extends BaitushumAKBARSCard2AccountSchema.Config&gt;\n        extends AKBARSCard2AccountSchema&lt;C&gt; implements ParameterizedPayment&lt;BaitushumAdapter.Parameters&gt; {\n\n    private BaitushumAdapter.Parameters parameters;\n\n    @Override\n    public void setParameters(BaitushumAdapter.Parameters parameters) {\n        this.parameters = parameters;\n    }\n</code></pre>\n<p>This is the inheritor class\n<a href=\"https://i.stack.imgur.com/vlNX4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vlNX4.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class JskkBaitushumAKBARSCard2AccountSchema extends BaitushumAKBARSCard2AccountSchema&lt;JskkBaitushumAKBARSCard2AccountSchema.Config&gt;\n        implements ParameterizedPayment&lt;JskkBaitushumAdapter.Parameters&gt; {\n\n    private JskkBaitushumAdapter.Parameters parameters;\n\n    @Override\n    public void setParameters(JskkBaitushumAdapter.Parameters parameters) {\n        this.parameters = parameters;\n    }\n</code></pre>\n<p>Parameters are inherited(\nThey are in the Baitushum class)</p>\n<pre><code>public static class Parameters extends ParameterizedPayment.Parameters {\n</code></pre>\n<p>Parameters are parents</p>\n<pre><code>public class JskkBaitushumAdapter {\n\n    public static class Parameters extends BaitushumAdapter.Parameters {\n</code></pre>\n"},{"tags":["java","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632811486,"creation_date":1632811486,"answer_id":69356937,"question_id":69356822,"body_markdown":"Try this:\r\n\r\n    import java.util.Scanner;\r\n\r\npublic class MyMainClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\r\n\t\tString[][] word = { { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, }, { &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, }, { &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, },\r\n\t\t\t\t{ &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, } };\r\n\r\n\t\tfor (int row = 0; row &lt; word.length; row++) {\r\n\t\t\tfor (int col = 0; col &lt; word[row].length; col++) {\r\n\t\t\t\t//To Print Second Row\r\n\t\t\t\tif(row==2) {\r\n\t\t\t\t\tSystem.out.print(word[row][col] + &quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\t//To Print Third Column\r\n\t\t\t\tif(col==3) {\r\n\t\t\t\t\tSystem.out.print(word[row][col] + &quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nYou jus need to specify only those row/column in the if condition which you want to display...","title":"printing specific rows or columns in 2 dimensional arrays","body":"<p>Try this:</p>\n<pre><code>import java.util.Scanner;\n</code></pre>\n<p>public class MyMainClass {</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner input = new Scanner(System.in);\n\n    String[][] word = { { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, }, { &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, }, { &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, },\n            { &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, } };\n\n    for (int row = 0; row &lt; word.length; row++) {\n        for (int col = 0; col &lt; word[row].length; col++) {\n            //To Print Second Row\n            if(row==2) {\n                System.out.print(word[row][col] + &quot; &quot;);\n            }\n            //To Print Third Column\n            if(col==3) {\n                System.out.print(word[row][col] + &quot; &quot;);\n            }\n            \n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>You jus need to specify only those row/column in the if condition which you want to display...</p>\n"}],"owner":{"account_id":22854927,"reputation":3,"user_id":16999929,"display_name":"Josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633489138,"creation_date":1632810866,"question_id":69356822,"body_markdown":"How do I print specific rows or columns in 2D array ex. I want to print the row in column 2\r\nit should &quot;IJKL&quot; or print the column in row 3 and it should &quot;DHLP&quot;\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Test2 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        String[][] word = {{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, },\r\n                            {&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, },\r\n                            {&quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, },\r\n                            {&quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, }};\r\n\r\n        for (int row = 0; row &lt; word.length; row++) {\r\n            for (int col = 0; col &lt; word[row].length; col++) {\r\n                System.out.print(word [row][col] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"printing specific rows or columns in 2 dimensional arrays","body":"<p>How do I print specific rows or columns in 2D array ex. I want to print the row in column 2\nit should &quot;IJKL&quot; or print the column in row 3 and it should &quot;DHLP&quot;</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test2 {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        \n        String[][] word = {{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, },\n                            {&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, },\n                            {&quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, },\n                            {&quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, }};\n\n        for (int row = 0; row &lt; word.length; row++) {\n            for (int col = 0; col &lt; word[row].length; col++) {\n                System.out.print(word [row][col] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javafx","java-13"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1592903699,"post_id":62530945,"comment_id":110584372,"body_markdown":"The error you&#39;re seeing is typically caused by having your main class extend `javafx.application.Application` but the application is launched with JavaFX on the classpath. The `java -jar ...` command uses the classpath. The fix is to create a separate main class that simply launches JavaFX (e.g. by invoking `Application.launch(YourApp.class, args)`).","body":"The error you&#39;re seeing is typically caused by having your main class extend <code>javafx.application.Application</code> but the application is launched with JavaFX on the classpath. The <code>java -jar ...</code> command uses the classpath. The fix is to create a separate main class that simply launches JavaFX (e.g. by invoking <code>Application.launch(YourApp.class, args)</code>)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1592904194,"post_id":62530945,"comment_id":110584637,"body_markdown":"Note if that doesn&#39;t help then you should [edit] your question to provide a [mre] demonstrating the problem.","body":"Note if that doesn&#39;t help then you should <a href=\"https://stackoverflow.com/posts/62530945/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":20898872,"reputation":733,"user_id":15352409,"display_name":"Kochez"},"score":0,"creation_date":1643539582,"post_id":62530945,"comment_id":125362541,"body_markdown":"@Slaw could you kindly give an example of how to create a separate main class as you have stated? I am using IntelliJ, and I&#39;m having the same problem trying to export the default JavaFX code.","body":"@Slaw could you kindly give an example of how to create a separate main class as you have stated? I am using IntelliJ, and I&#39;m having the same problem trying to export the default JavaFX code."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1643576866,"post_id":62530945,"comment_id":125371440,"body_markdown":"@Kochez Added example to [your gist](https://gist.github.com/RyanKoech/15e2dd446f5424c2fe86249e5528289d).","body":"@Kochez Added example to <a href=\"https://gist.github.com/RyanKoech/15e2dd446f5424c2fe86249e5528289d\" rel=\"nofollow noreferrer\">your gist</a>."}],"owner":{"account_id":5548029,"reputation":57,"user_id":4402088,"display_name":"user4402088"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633488610,"creation_date":1592902507,"question_id":62530945,"body_markdown":"I created a project in eclipse and want to run my exported .jar file on an other machine. When I try to do so using &quot;java -jar myfile.jar&quot;, I get the following message:\r\n*Error: JavaFX runtime components are missing, and are required to run this application*\r\n\r\nIf I run it in eclipse (using jdk13), everything works.\r\n\r\nOn the machine where I want to run the jar file I installed openjdk and openjfx. Actually I&#39;m not sure wether the problem has to be solved in eclipse while exporting the jar file or on the other machine while running it? And how? May anyone give me a hint?\r\n\r\n","title":"JavaFX runtime components are missing whenrunning an exported jar","body":"<p>I created a project in eclipse and want to run my exported .jar file on an other machine. When I try to do so using &quot;java -jar myfile.jar&quot;, I get the following message:\n<em>Error: JavaFX runtime components are missing, and are required to run this application</em></p>\n<p>If I run it in eclipse (using jdk13), everything works.</p>\n<p>On the machine where I want to run the jar file I installed openjdk and openjfx. Actually I'm not sure wether the problem has to be solved in eclipse while exporting the jar file or on the other machine while running it? And how? May anyone give me a hint?</p>\n"},{"tags":["java","compression"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":6,"creation_date":1633479295,"post_id":69458525,"comment_id":122769160,"body_markdown":"If you do `msg.charAt(i-1)` when `i` is zero, that is what happens.","body":"If you do <code>msg.charAt(i-1)</code> when <code>i</code> is zero, that is what happens."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1633481645,"post_id":69458525,"comment_id":122769500,"body_markdown":"Maybe you could keep only non-vowels?","body":"Maybe you could keep only non-vowels?"},{"owner":{"account_id":10957658,"reputation":1672,"user_id":8051903,"accept_rate":25,"display_name":"langme"},"score":0,"creation_date":1633503171,"post_id":69458525,"comment_id":122773350,"body_markdown":"try to catch your error on the line of java.lang.StringIndexOutOfBoundsException","body":"try to catch your error on the line of java.lang.StringIndexOutOfBoundsException"}],"answers":[{"tags":[],"owner":{"account_id":22953760,"reputation":1,"user_id":17084658,"display_name":"PellePlutt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633487849,"creation_date":1633487849,"answer_id":69459218,"question_id":69458525,"body_markdown":"    Solved\r\n    \r\n    String output = &quot;&quot;;\r\n            String localChar;\r\n            if(msg.isEmpty()) {\r\n                output = &quot;&quot;;\r\n                return output;\r\n            }\r\n            output = String.valueOf(msg.charAt(0));\r\n           for (int i = 1; i &lt;= msg.length()-1; i++) {\r\n               localChar = String.valueOf(msg.charAt(i));\r\n               if (!VOWELS.contains(localChar)|| Character.isWhitespace(msg.charAt(i-1))){\r\n                   output += localChar;\r\n    \r\n               }\r\n           }","title":"Compression program gives StringIndexOutOfBoundsException","body":"<pre><code>Solved\n\nString output = &quot;&quot;;\n        String localChar;\n        if(msg.isEmpty()) {\n            output = &quot;&quot;;\n            return output;\n        }\n        output = String.valueOf(msg.charAt(0));\n       for (int i = 1; i &lt;= msg.length()-1; i++) {\n           localChar = String.valueOf(msg.charAt(i));\n           if (!VOWELS.contains(localChar)|| Character.isWhitespace(msg.charAt(i-1))){\n               output += localChar;\n\n           }\n       }\n</code></pre>\n"}],"owner":{"account_id":22953760,"reputation":1,"user_id":17084658,"display_name":"PellePlutt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1633624041,"answer_count":1,"score":-3,"last_activity_date":1633487849,"creation_date":1633479209,"question_id":69458525,"body_markdown":"I am trying to write a compression program that removes vowels, using a String instead of an array, per the assignment specifications, but I keep getting this error. I am totally lost. Could use some help. \r\n\r\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\r\n    static String stringCompress(String msg) {\r\n\r\n        String vowels = VOWELS;\r\n        String output = &quot;&quot;;\r\n        String localChar;\r\n\r\n       for (int i = 0; i &lt; msg.length(); i++) {\r\n           localChar = String.valueOf(msg.charAt(i));\r\n           if (!VOWELS.contains(localChar)|| Character.isWhitespace(msg.charAt(i-1))){\r\n               output += localChar;\r\n\r\n           }\r\n       }\r\n        return output;","title":"Compression program gives StringIndexOutOfBoundsException","body":"<p>I am trying to write a compression program that removes vowels, using a String instead of an array, per the assignment specifications, but I keep getting this error. I am totally lost. Could use some help.</p>\n<p>java.lang.StringIndexOutOfBoundsException: String index out of range: -1</p>\n<pre><code>static String stringCompress(String msg) {\n\n    String vowels = VOWELS;\n    String output = &quot;&quot;;\n    String localChar;\n\n   for (int i = 0; i &lt; msg.length(); i++) {\n       localChar = String.valueOf(msg.charAt(i));\n       if (!VOWELS.contains(localChar)|| Character.isWhitespace(msg.charAt(i-1))){\n           output += localChar;\n\n       }\n   }\n    return output;\n</code></pre>\n"},{"tags":["java","jvm-hotspot"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633487271,"creation_date":1633487271,"answer_id":69459170,"question_id":69458900,"body_markdown":"CDS (Class Data Sharing) does not need Compressed OOPs. However, before JDK 15, it worked only in the default configuration, where `UseCompressedOops=true` and `UseCompressedClassPointers=true`.\r\n\r\nThe problem and the solution is described in [JDK-8232069](https://bugs.openjdk.java.net/browse/JDK-8232069).\r\n\r\nFor CDS archive to be valid, the runtime values of `UseCompressedOops` and `UseCompressedClassPointers` must match the values used during archive generation. Before JDK-8232069, the values were not saved in the archive, and the JVM assumed that the Compressed OOPs were turned on (the default). As a consequence, CDS was not compatible with ZGC, because ZGC requires Compressed OOPs to be turned off.\r\n\r\nTo make CDS compatible with ZGC, JDK-8232069 made the values of `UseCompressedOops` and `UseCompressedClassPointers` written to the archive, and when the JVM starts, it checks if the current flags match those saved values. So now (since JDK 15) CDS works with either configuration of Compressed OOPs, and now it is compatible with ZGC.","title":"In Hotspot JVM, why CDS needs Compressed Oops?","body":"<p>CDS (Class Data Sharing) does not need Compressed OOPs. However, before JDK 15, it worked only in the default configuration, where <code>UseCompressedOops=true</code> and <code>UseCompressedClassPointers=true</code>.</p>\n<p>The problem and the solution is described in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8232069\" rel=\"nofollow noreferrer\">JDK-8232069</a>.</p>\n<p>For CDS archive to be valid, the runtime values of <code>UseCompressedOops</code> and <code>UseCompressedClassPointers</code> must match the values used during archive generation. Before JDK-8232069, the values were not saved in the archive, and the JVM assumed that the Compressed OOPs were turned on (the default). As a consequence, CDS was not compatible with ZGC, because ZGC requires Compressed OOPs to be turned off.</p>\n<p>To make CDS compatible with ZGC, JDK-8232069 made the values of <code>UseCompressedOops</code> and <code>UseCompressedClassPointers</code> written to the archive, and when the JVM starts, it checks if the current flags match those saved values. So now (since JDK 15) CDS works with either configuration of Compressed OOPs, and now it is compatible with ZGC.</p>\n"}],"owner":{"account_id":20966560,"reputation":63,"user_id":15404655,"display_name":"swz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69459170,"answer_count":1,"score":1,"last_activity_date":1633487271,"creation_date":1633484058,"question_id":69458900,"body_markdown":"I read this post &quot;https://malloc.se/blog/zgc-jdk15&quot;, and last index is about `Class Data Sharing`.\r\nIn this index, \r\n\r\n&gt;This feature(means CDS) only work when the Compressed Oops feature was enable(-XX:+UseCompressedOops).\r\n\r\nI know about CDS and Compress Oops a little, but I cant understand about their relationship.\r\n\r\n","title":"In Hotspot JVM, why CDS needs Compressed Oops?","body":"<p>I read this post &quot;https://malloc.se/blog/zgc-jdk15&quot;, and last index is about <code>Class Data Sharing</code>.\nIn this index,</p>\n<blockquote>\n<p>This feature(means CDS) only work when the Compressed Oops feature was enable(-XX:+UseCompressedOops).</p>\n</blockquote>\n<p>I know about CDS and Compress Oops a little, but I cant understand about their relationship.</p>\n"},{"tags":["java","android","xml","android-toolbar","android-appbarlayout"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1632807214,"post_id":69356203,"comment_id":122585638,"body_markdown":"In your case does view pager also has a scrolling content?","body":"In your case does view pager also has a scrolling content?"},{"owner":{"account_id":17896249,"reputation":3,"user_id":13001593,"display_name":"Steve"},"score":0,"creation_date":1632808845,"post_id":69356203,"comment_id":122586036,"body_markdown":"Yes. In this case(for testing) it&#39;s a TextView in a NestedScrollView.","body":"Yes. In this case(for testing) it&#39;s a TextView in a NestedScrollView."}],"answers":[{"tags":[],"owner":{"account_id":18315004,"reputation":188,"user_id":13336952,"display_name":"Tanish Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632824352,"creation_date":1632824352,"answer_id":69359920,"question_id":69356203,"body_markdown":"Take a look at this [Material Design App Bar][1].\r\n&lt;br&gt;I think your are trying to create a prominent top app bar and also want to use image in the bar.\r\n&lt;br&gt;The article explains pretty much everything. But in case you have any trouble do ask.\r\n\r\n  [1]: https://material.io/components/app-bars-top","title":"How to insert an image between a Toolbar and a TabLayout?","body":"<p>Take a look at this <a href=\"https://material.io/components/app-bars-top\" rel=\"nofollow noreferrer\">Material Design App Bar</a>.\n<br>I think your are trying to create a prominent top app bar and also want to use image in the bar.\n<br>The article explains pretty much everything. But in case you have any trouble do ask.</p>\n"}],"owner":{"account_id":17896249,"reputation":3,"user_id":13001593,"display_name":"Steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633487051,"creation_date":1632806618,"question_id":69356203,"body_markdown":"I would like to insert an image(the blue imageView) in my AppBarLayout between a Toolbar and a TabLayout. The TabLayout should always be displayed and the Toolbar when you scroll up. The image should only be displayed when you scroll to the top of the page.\r\nHowever, I have the problem that the image always blocks or obstructs the top toolbar. Does anyone have an idea how to solve this problem?\r\n\r\nCode:\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.Site.MainPage&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/mainPage_appBar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/mainPage_toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@color/UpperToolbarBackground&quot;\r\n                app:layout_scrollFlags=&quot;scroll|enterAlways&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/mainPage_toolbar_title&quot;\r\n                    style=&quot;@style/TextAppearance.AppCompat.Widget.ActionToolBar.Title&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:text=&quot;Test&quot;\r\n                    android:textColor=&quot;@color/UpperToolbarText&quot; /&gt;\r\n    \r\n    \r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_scrollFlags=&quot;scroll&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/mainPage_profile_picture&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:background=&quot;@color/blue_700&quot;\r\n                    app:layout_constraintDimensionRatio=&quot;1:1&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n            &lt;com.google.android.material.tabs.TabLayout\r\n                android:id=&quot;@+id/mainPage_tabLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:layout_margin=&quot;0dp&quot;\r\n                app:layout_scrollFlags=&quot;noScroll&quot;\r\n                app:tabMode=&quot;auto&quot; /&gt;\r\n    \r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n    \r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:id=&quot;@+id/mainPage_nestedScrollView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/mainPage_appBar&quot;&gt;\r\n    \r\n    \r\n            &lt;androidx.viewpager2.widget.ViewPager2\r\n                android:id=&quot;@+id/mainPage_viewPager&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:nestedScrollingEnabled=&quot;true&quot; /&gt;\r\n    \r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nExample Images:\r\n\r\n### How it is:\r\n\r\nStart\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/7M5yz.png&quot; width=&quot;300&quot;/&gt;\r\n\r\nScroll down\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/oNcFe.png&quot; width=&quot;300&quot;/&gt;\r\n\r\nScroll a little bit up (here is the problem)\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/VySDy.png&quot; width=&quot;300&quot;/&gt;\r\n\r\n### How it is supposed to be:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/TMpK7.png&quot; width=&quot;300&quot;/&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/7M5yz.png\r\n  [2]: https://i.stack.imgur.com/oNcFe.png\r\n  [3]: https://i.stack.imgur.com/VySDy.png\r\n  [4]: https://i.stack.imgur.com/TMpK7.png","title":"How to insert an image between a Toolbar and a TabLayout?","body":"<p>I would like to insert an image(the blue imageView) in my AppBarLayout between a Toolbar and a TabLayout. The TabLayout should always be displayed and the Toolbar when you scroll up. The image should only be displayed when you scroll to the top of the page.\nHowever, I have the problem that the image always blocks or obstructs the top toolbar. Does anyone have an idea how to solve this problem?</p>\n<p>Code:</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.Site.MainPage&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/mainPage_appBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/mainPage_toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;@color/UpperToolbarBackground&quot;\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/mainPage_toolbar_title&quot;\n                style=&quot;@style/TextAppearance.AppCompat.Widget.ActionToolBar.Title&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;Test&quot;\n                android:textColor=&quot;@color/UpperToolbarText&quot; /&gt;\n\n\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_scrollFlags=&quot;scroll&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/mainPage_profile_picture&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:background=&quot;@color/blue_700&quot;\n                app:layout_constraintDimensionRatio=&quot;1:1&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n        &lt;com.google.android.material.tabs.TabLayout\n            android:id=&quot;@+id/mainPage_tabLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:layout_margin=&quot;0dp&quot;\n            app:layout_scrollFlags=&quot;noScroll&quot;\n            app:tabMode=&quot;auto&quot; /&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/mainPage_nestedScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fillViewport=&quot;true&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/mainPage_appBar&quot;&gt;\n\n\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:id=&quot;@+id/mainPage_viewPager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:nestedScrollingEnabled=&quot;true&quot; /&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Example Images:</p>\n<h3>How it is:</h3>\n<p>Start</p>\n<img src=\"https://i.stack.imgur.com/7M5yz.png\" width=\"300\"/>\n<p>Scroll down</p>\n<img src=\"https://i.stack.imgur.com/oNcFe.png\" width=\"300\"/>\n<p>Scroll a little bit up (here is the problem)</p>\n<img src=\"https://i.stack.imgur.com/VySDy.png\" width=\"300\"/>\n<h3>How it is supposed to be:</h3>\n<img src=\"https://i.stack.imgur.com/TMpK7.png\" width=\"300\"/>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":0,"creation_date":1633429647,"post_id":69448577,"comment_id":122751640,"body_markdown":"Your questions is not clear at all. Are you saying, that you use two different databases? What do the classes `Potential` and `Customer` look like? You make it look like they have identical content and do not have a relation with each other.","body":"Your questions is not clear at all. Are you saying, that you use two different databases? What do the classes <code>Potential</code> and <code>Customer</code> look like? You make it look like they have identical content and do not have a relation with each other."},{"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"score":0,"creation_date":1633483283,"post_id":69448577,"comment_id":122769735,"body_markdown":"I just make the fields identical for simplicity.  `Potential` is from a graph database.  `Customer` is from mysql database.  So it&#39;s difficult for me to union them since they are from different databases.  For mysql I have no issue since I can construct the SQL in the @Query... but I don&#39;t know if it&#39;s even possible to include the potentials list in this query so i can combine it with the Customer query.","body":"I just make the fields identical for simplicity.  <code>Potential</code> is from a graph database.  <code>Customer</code> is from mysql database.  So it&#39;s difficult for me to union them since they are from different databases.  For mysql I have no issue since I can construct the SQL in the @Query... but I don&#39;t know if it&#39;s even possible to include the potentials list in this query so i can combine it with the Customer query."},{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":0,"creation_date":1633507452,"post_id":69448577,"comment_id":122774890,"body_markdown":"How is that supposed to work? The JPA query just generates SQL queries and sorting, filtering etc. happens in the (MySQL) Database. This is fast an efficient and you get a small (hopefully) result set handed back. Your DB doesn&#39;t know of the result list from the graph DB. You would have to fetch _all_ customers and manually merge, sort and filter the lists. But that is a **bad** idea, bc this will be extremely slow, use a lot of memory and doesn&#39;t scale at all.","body":"How is that supposed to work? The JPA query just generates SQL queries and sorting, filtering etc. happens in the (MySQL) Database. This is fast an efficient and you get a small (hopefully) result set handed back. Your DB doesn&#39;t know of the result list from the graph DB. You would have to fetch <i>all</i> customers and manually merge, sort and filter the lists. But that is a <b>bad</b> idea, bc this will be extremely slow, use a lot of memory and doesn&#39;t scale at all."},{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":0,"creation_date":1633507885,"post_id":69448577,"comment_id":122775055,"body_markdown":"The question is, are the `Potential`s _also_ in the MySQL DB, i.e., do _all_ of them have a corresponding `Customer`? If not, can you create entries for them?\nOtherwise, using plain SQL, a table value constructor for the Potential result list unioned with the Customer table might be possible. But that might get extremely complicated and will probably be very slow.","body":"The question is, are the <code>Potential</code>s <i>also</i> in the MySQL DB, i.e., do <i>all</i> of them have a corresponding <code>Customer</code>? If not, can you create entries for them? Otherwise, using plain SQL, a table value constructor for the Potential result list unioned with the Customer table might be possible. But that might get extremely complicated and will probably be very slow."}],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633430257,"creation_date":1633430257,"answer_id":69448951,"question_id":69448577,"body_markdown":"Use a native union query and instead of using `Customer` or `Potential`, create another POJO class to map query results.","title":"Is it possible to query both from entity and list object","body":"<p>Use a native union query and instead of using <code>Customer</code> or <code>Potential</code>, create another POJO class to map query results.</p>\n"},{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633486361,"creation_date":1633486361,"answer_id":69459096,"question_id":69448577,"body_markdown":"I assume that there is some property in your Potential class that identifies a Customer. For argument&#39;s sake, let&#39;s assume that the id field in the two classes are the same, e.g., you want to pair up the Potential with id == 123 with the Customer with id == 123.\r\n\r\nThe simplest thing that I can think of is to map the list of Potentials to a list of Integers (or whatever type the id is), and then use that as a parameter to an &quot;in&quot; clause in your Customer query. For example, \r\n\r\n    @Query(&quot;SELECT c FROM Customer c WHERE c.id in :idList&quot;)\r\n    List&lt;Customer&gt; findCustomersById(List&lt;int&gt; idList)\r\n\r\nand\r\n\r\n    findCustomersById(\r\n     potentials\r\n      .stream()\r\n      .map(Potential::getId)\r\n      .collect(Collectors.toList()\r\n    );\r\n\r\nAs far as &quot;zipping&quot; the two lists, i.e. pairing up the matches from the two lists, I&#39;ll leave that as an exercise for you :-)","title":"Is it possible to query both from entity and list object","body":"<p>I assume that there is some property in your Potential class that identifies a Customer. For argument's sake, let's assume that the id field in the two classes are the same, e.g., you want to pair up the Potential with id == 123 with the Customer with id == 123.</p>\n<p>The simplest thing that I can think of is to map the list of Potentials to a list of Integers (or whatever type the id is), and then use that as a parameter to an &quot;in&quot; clause in your Customer query. For example,</p>\n<pre><code>@Query(&quot;SELECT c FROM Customer c WHERE c.id in :idList&quot;)\nList&lt;Customer&gt; findCustomersById(List&lt;int&gt; idList)\n</code></pre>\n<p>and</p>\n<pre><code>findCustomersById(\n potentials\n  .stream()\n  .map(Potential::getId)\n  .collect(Collectors.toList()\n);\n</code></pre>\n<p>As far as &quot;zipping&quot; the two lists, i.e. pairing up the matches from the two lists, I'll leave that as an exercise for you :-)</p>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633486361,"creation_date":1633428530,"question_id":69448577,"body_markdown":"I want to query from both the entity and a list object.  Say I have an entity called &quot;Customer&quot;, and I have a list of potential customers of object Potential.\r\n\r\n    Customer {\r\n        id, name, address, ...\r\n    }\r\n\r\n    Potential {\r\n        id, name, address, ...\r\n    }\r\n\r\nIn my repository I write the query as follows if I want to customize the query to get customers\r\n\r\n    @Query(&quot;SELECT c FROM Customer c WHERE c.status = :status&quot;)\r\n    List&lt;Customer&gt; findAllSpecialCustomers(String status)\r\n\r\nBut if I currently have a list object\r\n\r\n    List&lt;Potential&gt; potentials\r\n\r\nAnd I want to include it in the Query above, how should I do it?  Or is it even possible?  The reason why I want to do this is because both entities represent different tables but i want to do sorting and pagination on the combined records of the two entities.  Also, `potentials` is queried from graph database.  While entity Customer is from mysql database.\r\n\r\nBasically, I have a `potentials` list object that is queried from graph database.  I want to union it with `Customer` entity from a mysql database through @Query and apply sorting and pagination to the combined records.","title":"Is it possible to query both from entity and list object","body":"<p>I want to query from both the entity and a list object.  Say I have an entity called &quot;Customer&quot;, and I have a list of potential customers of object Potential.</p>\n<pre><code>Customer {\n    id, name, address, ...\n}\n\nPotential {\n    id, name, address, ...\n}\n</code></pre>\n<p>In my repository I write the query as follows if I want to customize the query to get customers</p>\n<pre><code>@Query(&quot;SELECT c FROM Customer c WHERE c.status = :status&quot;)\nList&lt;Customer&gt; findAllSpecialCustomers(String status)\n</code></pre>\n<p>But if I currently have a list object</p>\n<pre><code>List&lt;Potential&gt; potentials\n</code></pre>\n<p>And I want to include it in the Query above, how should I do it?  Or is it even possible?  The reason why I want to do this is because both entities represent different tables but i want to do sorting and pagination on the combined records of the two entities.  Also, <code>potentials</code> is queried from graph database.  While entity Customer is from mysql database.</p>\n<p>Basically, I have a <code>potentials</code> list object that is queried from graph database.  I want to union it with <code>Customer</code> entity from a mysql database through @Query and apply sorting and pagination to the combined records.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1633482216,"post_id":69458709,"comment_id":122769566,"body_markdown":"Why not use [`Map.of()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V))?","body":"Why not use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of()</code></a>?"},{"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"score":0,"creation_date":1633482389,"post_id":69458709,"comment_id":122769589,"body_markdown":"Thanks for advice. But not understand could you please explain more? where I have to use","body":"Thanks for advice. But not understand could you please explain more? where I have to use"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1633482529,"post_id":69458709,"comment_id":122769614,"body_markdown":"`Map&lt;String, String&gt; TYPES = Map.of(&quot;T1&quot;, &quot;ABC&quot;, &quot;T2&quot;, &quot;ABC1&quot;, ...)`","body":"<code>Map&lt;String, String&gt; TYPES = Map.of(&quot;T1&quot;, &quot;ABC&quot;, &quot;T2&quot;, &quot;ABC1&quot;, ...)</code>"},{"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"score":0,"creation_date":1633483144,"post_id":69458709,"comment_id":122769712,"body_markdown":"Thanks. If I add &quot;public static final&quot; again it will through same warning:-  public static final Map&lt;String, String&gt; TYPES = Map.of(&quot;T1&quot;, &quot;ABC&quot;, &quot;T2&quot;, &quot;ABC1&quot;, ...).","body":"Thanks. If I add &quot;public static final&quot; again it will through same warning:-  public static final Map&lt;String, String&gt; TYPES = Map.of(&quot;T1&quot;, &quot;ABC&quot;, &quot;T2&quot;, &quot;ABC1&quot;, ...)."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1633486134,"post_id":69458709,"comment_id":122770121,"body_markdown":"The tool offers advice. The advice does not work. Ignore the tool?","body":"The tool offers advice. The advice does not work. Ignore the tool?"}],"answers":[{"tags":[],"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633486335,"creation_date":1633486335,"answer_id":69459090,"question_id":69458709,"body_markdown":"Thanks @shmosel\r\nBelow solution is working..\r\n Map&lt;String, String&gt; TYPES = Map.of(&quot;T1&quot;, &quot;ABC&quot;, &quot;T2&quot;, &quot;ABC1&quot;, ...)","title":"Sonar &quot;Make this member &quot;protected&quot;","body":"<p>Thanks @shmosel\nBelow solution is working..\nMap&lt;String, String&gt; TYPES = Map.of(&quot;T1&quot;, &quot;ABC&quot;, &quot;T2&quot;, &quot;ABC1&quot;, ...)</p>\n"}],"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633486335,"creation_date":1633481492,"question_id":69458709,"body_markdown":"I have a constant clsss. inside constant class one &quot;public final static&quot; map. below code \r\n\r\n    public static final Map&lt;String, String&gt; TYPES = Stream.of(new String[][]{\r\n                {&quot;T1&quot;, &quot;ABC&quot;},\r\n                {&quot;T2&quot;, &quot;ABC1&quot;},\r\n                {&quot;T3&quot;, &quot;ABC2&quot;},\r\n                {&quot;T4&quot;, &quot;ABC3&quot;},\r\n                {&quot;T4&quot;, &quot;ABC4&quot;}\r\n        }).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\r\n\t\r\n\t\r\nIn the above method sonar showing &quot;Make this member &quot;protected&quot; if I make this as protected\tI got compilation error. \r\nCan sone one help me on this? to refactor this  I am using java 11","title":"Sonar &quot;Make this member &quot;protected&quot;","body":"<p>I have a constant clsss. inside constant class one &quot;public final static&quot; map. below code</p>\n<pre><code>public static final Map&lt;String, String&gt; TYPES = Stream.of(new String[][]{\n            {&quot;T1&quot;, &quot;ABC&quot;},\n            {&quot;T2&quot;, &quot;ABC1&quot;},\n            {&quot;T3&quot;, &quot;ABC2&quot;},\n            {&quot;T4&quot;, &quot;ABC3&quot;},\n            {&quot;T4&quot;, &quot;ABC4&quot;}\n    }).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\n</code></pre>\n<p>In the above method sonar showing &quot;Make this member &quot;protected&quot; if I make this as protected I got compilation error.\nCan sone one help me on this? to refactor this  I am using java 11</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1633453637,"post_id":69454423,"comment_id":122762129,"body_markdown":"Your JSON is invalid","body":"Your JSON is invalid"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1633486022,"post_id":69454423,"comment_id":122770101,"body_markdown":"ok, i updated it , didnt noticed i missed the square brackets when redacting the payload","body":"ok, i updated it , didnt noticed i missed the square brackets when redacting the payload"}],"answers":[{"tags":[],"owner":{"account_id":3421530,"reputation":3695,"user_id":2868955,"accept_rate":85,"display_name":"Evdzhan Mustafa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633453974,"creation_date":1633453603,"answer_id":69454627,"question_id":69454423,"body_markdown":"Try using json path. Library can be found [here][1]. E.g. say you had json like this:\r\n\r\n    {\r\n      &quot;code&quot;: null,\r\n      &quot;message&quot;: null,\r\n      &quot;recCtrlOut&quot;: {\r\n      },\r\n      &quot;acctSumm&quot;: [\r\n        {\r\n          &quot;acctBasic&quot;: {\r\n            &quot;acctType&quot;: &quot;SV&quot;,\r\n            &quot;acctId&quot;: &quot;123&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;acctBasic&quot;: {\r\n            &quot;acctType&quot;: &quot;SV&quot;,\r\n            &quot;acctId&quot;: &quot;321&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nActual code would be something like:\r\n\r\n \r\n\r\n    List&lt;String&gt; ids = JsonPath.read(json, &quot;$.acctSumm[*].acctBasic.acctId&quot;);\r\n\r\nThe above list will now hold:\r\n\r\n    [&quot;123&quot;,&quot;321&quot;]\r\n\r\nIf you wanna learn json path syntax, you could try using [this][2] online tool. [Here][3] is also a guide to help you get started with json path.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path\r\n  [2]: https://jsonpath.com/\r\n  [3]: https://www.baeldung.com/guide-to-jayway-jsonpath","title":"How to assign to a new array an array of objects?","body":"<p>Try using json path. Library can be found <a href=\"https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path\" rel=\"nofollow noreferrer\">here</a>. E.g. say you had json like this:</p>\n<pre><code>{\n  &quot;code&quot;: null,\n  &quot;message&quot;: null,\n  &quot;recCtrlOut&quot;: {\n  },\n  &quot;acctSumm&quot;: [\n    {\n      &quot;acctBasic&quot;: {\n        &quot;acctType&quot;: &quot;SV&quot;,\n        &quot;acctId&quot;: &quot;123&quot;\n      }\n    },\n    {\n      &quot;acctBasic&quot;: {\n        &quot;acctType&quot;: &quot;SV&quot;,\n        &quot;acctId&quot;: &quot;321&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Actual code would be something like:</p>\n<pre><code>List&lt;String&gt; ids = JsonPath.read(json, &quot;$.acctSumm[*].acctBasic.acctId&quot;);\n</code></pre>\n<p>The above list will now hold:</p>\n<pre><code>[&quot;123&quot;,&quot;321&quot;]\n</code></pre>\n<p>If you wanna learn json path syntax, you could try using <a href=\"https://jsonpath.com/\" rel=\"nofollow noreferrer\">this</a> online tool. <a href=\"https://www.baeldung.com/guide-to-jayway-jsonpath\" rel=\"nofollow noreferrer\">Here</a> is also a guide to help you get started with json path.</p>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69454627,"answer_count":1,"score":0,"last_activity_date":1633485986,"creation_date":1633452689,"question_id":69454423,"body_markdown":"I can&#39;t figure out how I would do the ff.\r\n\r\nI have the ff. Payload\r\n\r\n       {\r\n        &quot;code&quot;: null,\r\n        &quot;message&quot;: null,\r\n        &quot;recCtrlOut&quot;: {\r\n        },\r\n        &quot;acctSumm&quot;: [\r\n            {\r\n                &quot;acctBasic&quot;: {\r\n                    &quot;acctType&quot;: &quot;SV&quot;,\r\n                    &quot;acctId&quot;: &quot;123&quot;,\r\n                    },\r\n                &quot;acctBasic&quot;: {\r\n                    &quot;acctType&quot;: &quot;SV&quot;,\r\n                    &quot;acctId&quot;: &quot;321&quot;,\r\n                    }\r\n    }\r\n    ]\r\n            \r\n    }\r\n\r\nAnd I just want to get the acctId params and assign it to a new plain array of accountIds. How do I do it in Spring/Java?. Thanks\r\n\r\n","title":"How to assign to a new array an array of objects?","body":"<p>I can't figure out how I would do the ff.</p>\n<p>I have the ff. Payload</p>\n<pre><code>   {\n    &quot;code&quot;: null,\n    &quot;message&quot;: null,\n    &quot;recCtrlOut&quot;: {\n    },\n    &quot;acctSumm&quot;: [\n        {\n            &quot;acctBasic&quot;: {\n                &quot;acctType&quot;: &quot;SV&quot;,\n                &quot;acctId&quot;: &quot;123&quot;,\n                },\n            &quot;acctBasic&quot;: {\n                &quot;acctType&quot;: &quot;SV&quot;,\n                &quot;acctId&quot;: &quot;321&quot;,\n                }\n}\n]\n        \n}\n</code></pre>\n<p>And I just want to get the acctId params and assign it to a new plain array of accountIds. How do I do it in Spring/Java?. Thanks</p>\n"},{"tags":["java","spring","oracle","spring-boot","ldap"],"answers":[{"tags":[],"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633428045,"creation_date":1633428045,"answer_id":69448451,"question_id":69447856,"body_markdown":"I may do some thing like this, I am going to create file call `~/.ssh/config` then add following\r\n\r\n    Host remoteserver1\r\n            User usermane\r\n            Hostname ip or host name\r\n    \t    ForwardAgent yes\r\n    Host oracleserver\r\n        User username\r\n        Hostname some.ldap.host\r\n        Port 22\r\n\t   # ForwardAgent yes if you need to forward one more instance\r\n        LocalForward 8081 some.ldap.host:389\r\n        ProxyCommand ssh -q -W %h:%p remoteserver1\r\n\r\n\r\nWhat this does is that when I attempt to connect to ssh oracleserver from remoteserver1, it connects to hopper and then proxies the SSH connection to port 22 on overthere (ie: SSH on oracleserver).\r\n\r\nnow to connect via ssh do following `ssh oracleserver` , as it will make ssh tunnel between your machine and oracleserver via remoteserver1. along with port forwarding.\r\n\r\n\r\n","title":"Spring Boot, using oracle-ldap url through ssh tunnel on local machine","body":"<p>I may do some thing like this, I am going to create file call <code>~/.ssh/config</code> then add following</p>\n<pre><code>Host remoteserver1\n        User usermane\n        Hostname ip or host name\n        ForwardAgent yes\nHost oracleserver\n    User username\n    Hostname some.ldap.host\n    Port 22\n   # ForwardAgent yes if you need to forward one more instance\n    LocalForward 8081 some.ldap.host:389\n    ProxyCommand ssh -q -W %h:%p remoteserver1\n</code></pre>\n<p>What this does is that when I attempt to connect to ssh oracleserver from remoteserver1, it connects to hopper and then proxies the SSH connection to port 22 on overthere (ie: SSH on oracleserver).</p>\n<p>now to connect via ssh do following <code>ssh oracleserver</code> , as it will make ssh tunnel between your machine and oracleserver via remoteserver1. along with port forwarding.</p>\n"},{"tags":[],"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633485513,"creation_date":1633485513,"answer_id":69459022,"question_id":69447856,"body_markdown":"The problem was in redirecting source connection request to another machine with oracle db itself (after ldap auth).\r\nSo, the request&#39;s path looked like:\r\n\r\n    1.local -&gt; 2.remote server -&gt; 3.ldap server -&gt; 4.oracle db server\r\n\r\nThere wasn&#39;t connectivity between **1st** and **4th** machine as the tunnel was only between **1th** and **3rd** one.\r\n\r\nSo, you if you faced this issue, you may add one more ssh tunnel (First tunnel is for ldap server, second one for oracle db) and enrich your &quot;etc/hosts&quot; with oracle server&#39;s routing.\r\n\r\nIn my case the issue was in access restrictions. The oracle server is filtering sockets somehow and grants access to certain machines.","title":"Spring Boot, using oracle-ldap url through ssh tunnel on local machine","body":"<p>The problem was in redirecting source connection request to another machine with oracle db itself (after ldap auth).\nSo, the request's path looked like:</p>\n<pre><code>1.local -&gt; 2.remote server -&gt; 3.ldap server -&gt; 4.oracle db server\n</code></pre>\n<p>There wasn't connectivity between <strong>1st</strong> and <strong>4th</strong> machine as the tunnel was only between <strong>1th</strong> and <strong>3rd</strong> one.</p>\n<p>So, you if you faced this issue, you may add one more ssh tunnel (First tunnel is for ldap server, second one for oracle db) and enrich your &quot;etc/hosts&quot; with oracle server's routing.</p>\n<p>In my case the issue was in access restrictions. The oracle server is filtering sockets somehow and grants access to certain machines.</p>\n"}],"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69459022,"answer_count":2,"score":0,"last_activity_date":1633485513,"creation_date":1633425488,"question_id":69447856,"body_markdown":"There are 3 machines: &lt;br&gt;\r\n`local -&gt; some remote server -&gt; oracle db server (via ldap)`&lt;br&gt;\r\n\r\n**I want to set up datasource connection (in my spring boot app) to the oracle db.**&lt;br&gt;\r\nThere is no direct connectivity between local machine and the one with oracle db.\r\nSo, i&#39;m using the ssh tunnel through remote server:\r\n\r\nssh -L 127.0.0.1:8081:some.ldap.host:389 user@remote.server.host\r\n\r\nIn application.yml file i&#39;m using further url:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:oracle:thin:@ldap://127.0.0.1:8081//srvcnm,cn=OracleContext,dc=yy,dc=xx,dc=com \r\n\r\n```\r\n\r\nAnd when my app trying to get db connection, im getting the following error:\r\n```\r\nCaused by: oracle.net.nt.TimeoutInterruptHandler$IOReadTimeoutException: Socket read timed out\r\n\tat oracle.net.nt.TimeoutSocketChannel.handleInterrupt(TimeoutSocketChannel.java:254)\r\n\tat oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:103)\r\n\tat oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:77)\r\n\tat oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:192)\r\n\t... 126 common frames omitted\r\n```\r\n\r\nWhenever i&#39;m deploying app on the remote server and enter &quot;direct&quot; url in application.yml the connection is being obtained without any timeouts, and the app works well.\r\n\r\n```\r\njdbc:oracle:thin:@ldap://some.ldap.host:389//srvcnm,cn=OracleContext,dc=yy,dc=xx,dc=com\r\n```\r\n\r\nDoes anyone know how to handle this? How to get connection from local machine?","title":"Spring Boot, using oracle-ldap url through ssh tunnel on local machine","body":"<p>There are 3 machines: <br>\n<code>local -&gt; some remote server -&gt; oracle db server (via ldap)</code><br></p>\n<p><strong>I want to set up datasource connection (in my spring boot app) to the oracle db.</strong><br>\nThere is no direct connectivity between local machine and the one with oracle db.\nSo, i'm using the ssh tunnel through remote server:</p>\n<p>ssh -L 127.0.0.1:8081:some.ldap.host:389 user@remote.server.host</p>\n<p>In application.yml file i'm using further url:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:oracle:thin:@ldap://127.0.0.1:8081//srvcnm,cn=OracleContext,dc=yy,dc=xx,dc=com \n\n</code></pre>\n<p>And when my app trying to get db connection, im getting the following error:</p>\n<pre><code>Caused by: oracle.net.nt.TimeoutInterruptHandler$IOReadTimeoutException: Socket read timed out\n    at oracle.net.nt.TimeoutSocketChannel.handleInterrupt(TimeoutSocketChannel.java:254)\n    at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:103)\n    at oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:77)\n    at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:192)\n    ... 126 common frames omitted\n</code></pre>\n<p>Whenever i'm deploying app on the remote server and enter &quot;direct&quot; url in application.yml the connection is being obtained without any timeouts, and the app works well.</p>\n<pre><code>jdbc:oracle:thin:@ldap://some.ldap.host:389//srvcnm,cn=OracleContext,dc=yy,dc=xx,dc=com\n</code></pre>\n<p>Does anyone know how to handle this? How to get connection from local machine?</p>\n"},{"tags":["java","unit-testing","junit","mockito","mongotemplate"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1633484408,"post_id":69455220,"comment_id":122769874,"body_markdown":"It&#39;s not clear to me what you&#39;re trying to verify in this test. I would expect the test to call `getAllData()` somewhere.","body":"It&#39;s not clear to me what you&#39;re trying to verify in this test. I would expect the test to call <code>getAllData()</code> somewhere."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633485397,"creation_date":1633485397,"answer_id":69459013,"question_id":69455220,"body_markdown":"You should call `getAllData()` in your test and verify that the results returned match the results returned from the mocked Mongo template:\r\n\r\nThe test will look something like this:\r\n\r\n    @Test\r\n    public void testGetAllData() {\r\n        MyInventoryService myInventoryService = new MyInventoryService(mongoTemplate);\r\n\r\n        List&lt;MyInventory&gt; mockMyInventoryList = new ArrayList&lt;&gt;();\r\n        mockMyInventoryList.add(MyInventory.builder()\r\n                .id(&quot;614a4d70cghyt86&quot;)\r\n                .it_key(&quot;DESS&quot;)\r\n                //.........setting the data here\r\n                .build()\r\n        );\r\n\r\n        when(this.mongoTemplate.find(any(Query.class), eq(MyInventory.class)))\r\n                .thenReturn(mockMyInventoryList);\r\n        Assert.assertEquals(mockMyInventoryList, myInventoryService.getAllData());\r\n    }\r\n","title":"How to write unit test for a method which takes no parameters and use a mongoTemplate to Query","body":"<p>You should call <code>getAllData()</code> in your test and verify that the results returned match the results returned from the mocked Mongo template:</p>\n<p>The test will look something like this:</p>\n<pre><code>@Test\npublic void testGetAllData() {\n    MyInventoryService myInventoryService = new MyInventoryService(mongoTemplate);\n\n    List&lt;MyInventory&gt; mockMyInventoryList = new ArrayList&lt;&gt;();\n    mockMyInventoryList.add(MyInventory.builder()\n            .id(&quot;614a4d70cghyt86&quot;)\n            .it_key(&quot;DESS&quot;)\n            //.........setting the data here\n            .build()\n    );\n\n    when(this.mongoTemplate.find(any(Query.class), eq(MyInventory.class)))\n            .thenReturn(mockMyInventoryList);\n    Assert.assertEquals(mockMyInventoryList, myInventoryService.getAllData());\n}\n</code></pre>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633485397,"creation_date":1633456824,"question_id":69455220,"body_markdown":"I am trying to write the unit test for a method which does not take any parameter and inside it uses a mongoTemplate to query using criteria. Let me post the entity class first \r\n\r\n\r\n\r\n     @Data\r\n     @Builder\r\n     @Getter\r\n     @Setter\r\n     @NoAgrsConstructor\r\n     @EqualAndHashCode\r\n     public class MyInventory{\r\n\r\n      @Id\r\n      private String id;\r\n      @Field(&quot;it_key&quot;)\r\n      @JsonProperty(&quot;it_key&quot;)\r\n      private String it_key;\r\n\r\n      ............\r\n\r\nIn my service class it is feching data using the below method\r\n\r\n      public List&lt;MyInentory&gt; getAllData(){\r\n      Query query = new Query();\r\n      //some criteria here\r\n       query.addCriteria(criteria);\r\n      List&lt;MyInventory&gt; listOfInventory = mongoTemplate.find(query,MyInventory.class);\r\n      return listOfInventory;\r\n    }\r\n\r\nI am trying to write the unit test for it \r\n\r\n      @RunWith(SpringRunner.class)\r\n      @ExtendWith(MockitoExtension.class)\r\n      @MockitoSettings(strictness=Strictness.LENIENT)\r\n      @SpringBootTest(classes={MongoTemplate.class}\r\n      @ActiveProfiles(&quot;mock&quot;)\r\n      public class MyInventoryServiceTest{\r\n     \r\n       @MockBean\r\n       private MongoTemplate mongoTemplate;\r\n  \r\n       @Test\r\n       public void testGetAllData(){\r\n\r\n       mockMyInentoryList.add(MyInventory.builder()\r\n        .id(&quot;614a4d70cghyt86&quot;)\r\n        .it_key(&quot;DESS&quot;)\r\n       //.........setting the data here \r\n       .build()\r\n     );\r\n\r\n     List&lt;MyInventory&gt; expected = new ArrayList&lt;&gt;();\r\n     Inventory inv = Mockito.mock(MyInventory.class);\r\n     expected.add(inv);\r\n     when(this.mongoTemplate.find(any(Query.class),eq(MyInventory.class)))\r\n    .thenReturn(mockMyInentoryList);\r\n     Assert.asserEquals(mockMyInentoryList,expected);\r\n     \r\n\r\nAnd the error what i get is\r\n\r\n     java.lang.AssertionError\r\n\r\n     Expected:[MyInventory(id=614a4d70cghyt86,it_key=DESS........]\r\n     Actual:  [Mock for MyInventory, hashcode: 1252142274]\r\n\r\n","title":"How to write unit test for a method which takes no parameters and use a mongoTemplate to Query","body":"<p>I am trying to write the unit test for a method which does not take any parameter and inside it uses a mongoTemplate to query using criteria. Let me post the entity class first</p>\n<pre><code> @Data\n @Builder\n @Getter\n @Setter\n @NoAgrsConstructor\n @EqualAndHashCode\n public class MyInventory{\n\n  @Id\n  private String id;\n  @Field(&quot;it_key&quot;)\n  @JsonProperty(&quot;it_key&quot;)\n  private String it_key;\n\n  ............\n</code></pre>\n<p>In my service class it is feching data using the below method</p>\n<pre><code>  public List&lt;MyInentory&gt; getAllData(){\n  Query query = new Query();\n  //some criteria here\n   query.addCriteria(criteria);\n  List&lt;MyInventory&gt; listOfInventory = mongoTemplate.find(query,MyInventory.class);\n  return listOfInventory;\n}\n</code></pre>\n<p>I am trying to write the unit test for it</p>\n<pre><code>  @RunWith(SpringRunner.class)\n  @ExtendWith(MockitoExtension.class)\n  @MockitoSettings(strictness=Strictness.LENIENT)\n  @SpringBootTest(classes={MongoTemplate.class}\n  @ActiveProfiles(&quot;mock&quot;)\n  public class MyInventoryServiceTest{\n \n   @MockBean\n   private MongoTemplate mongoTemplate;\n\n   @Test\n   public void testGetAllData(){\n\n   mockMyInentoryList.add(MyInventory.builder()\n    .id(&quot;614a4d70cghyt86&quot;)\n    .it_key(&quot;DESS&quot;)\n   //.........setting the data here \n   .build()\n );\n\n List&lt;MyInventory&gt; expected = new ArrayList&lt;&gt;();\n Inventory inv = Mockito.mock(MyInventory.class);\n expected.add(inv);\n when(this.mongoTemplate.find(any(Query.class),eq(MyInventory.class)))\n.thenReturn(mockMyInentoryList);\n Assert.asserEquals(mockMyInentoryList,expected);\n \n</code></pre>\n<p>And the error what i get is</p>\n<pre><code> java.lang.AssertionError\n\n Expected:[MyInventory(id=614a4d70cghyt86,it_key=DESS........]\n Actual:  [Mock for MyInventory, hashcode: 1252142274]\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","annotations"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1439125217,"post_id":31904444,"comment_id":51723160,"body_markdown":"How about `@RequestMapping(System.getProperty(&quot;xxx.mapping.path&quot;, &quot;/xxx&quot;))`","body":"How about <code>@RequestMapping(System.getProperty(&quot;xxx.mapping.path&quot;, &quot;&#47;xxx&quot;))</code>"},{"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"score":1,"creation_date":1439125527,"post_id":31904444,"comment_id":51723247,"body_markdown":"@SMA that won&#39;t work. Annotation parameter values must be compile-time constants","body":"@SMA that won&#39;t work. Annotation parameter values must be compile-time constants"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1439125735,"post_id":31904444,"comment_id":51723300,"body_markdown":"@BohuslavBurghardt I just meant you define static final variable and use that variable here.","body":"@BohuslavBurghardt I just meant you define static final variable and use that variable here."}],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1439125420,"creation_date":1439125420,"answer_id":31904513,"question_id":31904444,"body_markdown":"It should be possible to use placeholders in `@RequestMapping`, like for example `@RequestMapping(&quot;${foo.bar}&quot;)`. Take a look at the [documentation][1] for more details:\r\n\r\n&gt; Patterns in `@RequestMapping` annotations support `${…​`} placeholders against local properties and/or system properties and environment variables. This may be useful in cases where the path a controller is mapped to may need to be customized through configuration. For more information on placeholders, see the javadocs of the PropertyPlaceholderConfigurer class.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-placeholders","title":"Spring: define @RequestMapping value in a properties file","body":"<p>It should be possible to use placeholders in <code>@RequestMapping</code>, like for example <code>@RequestMapping(\"${foo.bar}\")</code>. Take a look at the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-placeholders\" rel=\"noreferrer\">documentation</a> for more details:</p>\n\n<blockquote>\n  <p>Patterns in <code>@RequestMapping</code> annotations support <code>${…​</code>} placeholders against local properties and/or system properties and environment variables. This may be useful in cases where the path a controller is mapped to may need to be customized through configuration. For more information on placeholders, see the javadocs of the PropertyPlaceholderConfigurer class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552154065,"creation_date":1552110973,"answer_id":55074452,"question_id":31904444,"body_markdown":"Thx for the help. It is my contribution...\r\nNo dependencies are necessary because maven do everything by itself.\r\n\r\nIn the property file - use maven interpolation, such as below:\r\n\r\n    vs= v1\r\n    \r\n    us= users\r\n    me= messages\r\n\r\n    url.user=${vs}/${us}\r\n    url.mess=${vs}/${me}\r\n\r\nIn your destiny file, for example controller/resource (in mycase):\r\n```\r\n@RestController\r\n//@RequestMapping(&quot;v1/users&quot;) &lt;&lt;&lt;&lt;&lt;&lt;instead this\r\n@RequestMapping(&quot;${url.user}&quot;)&lt;&lt;&lt;&lt;&lt;&lt;use this\r\n@Api(value = &quot;API RESTFUL)\r\npublic class UserResource {\r\n//\r\n```\r\n\r\n","title":"Spring: define @RequestMapping value in a properties file","body":"<p>Thx for the help. It is my contribution...\nNo dependencies are necessary because maven do everything by itself.</p>\n\n<p>In the property file - use maven interpolation, such as below:</p>\n\n<pre><code>vs= v1\n\nus= users\nme= messages\n\nurl.user=${vs}/${us}\nurl.mess=${vs}/${me}\n</code></pre>\n\n<p>In your destiny file, for example controller/resource (in mycase):</p>\n\n<pre><code>@RestController\n//@RequestMapping(\"v1/users\") &lt;&lt;&lt;&lt;&lt;&lt;instead this\n@RequestMapping(\"${url.user}\")&lt;&lt;&lt;&lt;&lt;&lt;use this\n@Api(value = \"API RESTFUL)\npublic class UserResource {\n//\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19196094,"reputation":474,"user_id":14024740,"display_name":"AussieDev81"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633483785,"creation_date":1633483785,"answer_id":69458877,"question_id":31904444,"body_markdown":"As [bohuslav burghardt][1] has mentioned this is totally possible.\r\n\r\nSo if you have a common domain stored in your `application.properties` file you can use placeholders to call it in your controller/s and even chain placeholders &amp; text together.\r\n\r\nFor Example...&lt;br/&gt;\r\nIn your .properties file\r\n```\r\napp.domain = mydomain/v1\r\n```\r\nIn the controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;${app.domain}/my-controller&quot;)\r\npublic class MyController {\r\n```\r\n  [1]: https://stackoverflow.com/users/1291150/bohuslav-burghardt","title":"Spring: define @RequestMapping value in a properties file","body":"<p>As <a href=\"https://stackoverflow.com/users/1291150/bohuslav-burghardt\">bohuslav burghardt</a> has mentioned this is totally possible.</p>\n<p>So if you have a common domain stored in your <code>application.properties</code> file you can use placeholders to call it in your controller/s and even chain placeholders &amp; text together.</p>\n<p>For Example...<br/>\nIn your .properties file</p>\n<pre><code>app.domain = mydomain/v1\n</code></pre>\n<p>In the controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;${app.domain}/my-controller&quot;)\npublic class MyController {\n</code></pre>\n"}],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30183,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":31904513,"answer_count":3,"score":25,"last_activity_date":1633483785,"creation_date":1439124914,"question_id":31904444,"body_markdown":"Is it possible to define the value of a `@RequestMapping` annotation in Spring   by defining it in a properties file?\r\n\r\nActually, I do something like:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/xxx&quot;)\r\n    public class MyController {\r\n    ...\r\n    }\r\n\r\nBut I would like to store the path `/xxx` in a properties file. Why? For instance, it is less likely that I do mystakes in my templates if I rename the path in the controller.\r\n\r\nIn other framework this is allowed (see Symfony, for instance).","title":"Spring: define @RequestMapping value in a properties file","body":"<p>Is it possible to define the value of a <code>@RequestMapping</code> annotation in Spring   by defining it in a properties file?</p>\n\n<p>Actually, I do something like:</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/xxx\")\npublic class MyController {\n...\n}\n</code></pre>\n\n<p>But I would like to store the path <code>/xxx</code> in a properties file. Why? For instance, it is less likely that I do mystakes in my templates if I rename the path in the controller.</p>\n\n<p>In other framework this is allowed (see Symfony, for instance).</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1525564387,"post_id":50195033,"comment_id":87407100,"body_markdown":"Can you explain the algorithm? Or from where you have it? It&#39;s cumbersome to read through the algorithm to understand it if you could just explain it to us.","body":"Can you explain the algorithm? Or from where you have it? It&#39;s cumbersome to read through the algorithm to understand it if you could just explain it to us."},{"owner":{"account_id":3304580,"reputation":622,"user_id":2779795,"display_name":"Tony Tuttle"},"score":2,"creation_date":1525564511,"post_id":50195033,"comment_id":87407118,"body_markdown":"It&#39;s selection sort.  You start at index `0` and find the smallest element in the array and put it at index `0`.  Then you go to index `1` and do the same thing, and so on until the last index.","body":"It&#39;s selection sort.  You start at index <code>0</code> and find the smallest element in the array and put it at index <code>0</code>.  Then you go to index <code>1</code> and do the same thing, and so on until the last index."},{"owner":{"account_id":35663,"reputation":27496,"user_id":101087,"accept_rate":62,"display_name":"NineBerry"},"score":0,"creation_date":1525564549,"post_id":50195033,"comment_id":87407124,"body_markdown":"Why do you think this is not selection sort? It does some unnecessary iterations, but it&#39;s selection sort","body":"Why do you think this is not selection sort? It does some unnecessary iterations, but it&#39;s selection sort"},{"owner":{"account_id":3278466,"reputation":4089,"user_id":2759719,"accept_rate":84,"display_name":"mrQWERTY"},"score":1,"creation_date":1525564605,"post_id":50195033,"comment_id":87407133,"body_markdown":"This is not bubble sort. Bubble sort will be comparing j to j - 1 instead of i. https://www.javatpoint.com/bubble-sort-in-java","body":"This is not bubble sort. Bubble sort will be comparing j to j - 1 instead of i. <a href=\"https://www.javatpoint.com/bubble-sort-in-java\" rel=\"nofollow noreferrer\">javatpoint.com/bubble-sort-in-java</a>"},{"owner":{"account_id":13435338,"reputation":47,"user_id":9693937,"display_name":"Huy Anh Dinh"},"score":0,"creation_date":1525565087,"post_id":50195033,"comment_id":87407192,"body_markdown":"Thanks, sorry if I did make someone misunderstand something in the code","body":"Thanks, sorry if I did make someone misunderstand something in the code"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1525576000,"post_id":50195033,"comment_id":87408809,"body_markdown":"You can cut the number of iterations in half by changing your inner loop to `for (int j = i+1; j &lt; array.length; j++)`. There&#39;s no reason to check items `1` through `i` in that loop, because you know they&#39;re already in the proper order.","body":"You can cut the number of iterations in half by changing your inner loop to <code>for (int j = i+1; j &lt; array.length; j++)</code>. There&#39;s no reason to check items <code>1</code> through <code>i</code> in that loop, because you know they&#39;re already in the proper order."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1525576096,"post_id":50195033,"comment_id":87408823,"body_markdown":"It&#39;s called selection sort because at each iteration of the outer loop, you&#39;re *selecting* the i-th smallest number. See https://en.wikipedia.org/wiki/Selection_sort","body":"It&#39;s called selection sort because at each iteration of the outer loop, you&#39;re <i>selecting</i> the i-th smallest number. See <a href=\"https://en.wikipedia.org/wiki/Selection_sort\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Selection_sort</a>"},{"owner":{"account_id":13416183,"reputation":184,"user_id":9680605,"display_name":"Aman Khandelwal"},"score":0,"creation_date":1525579179,"post_id":50195033,"comment_id":87414081,"body_markdown":"It type of sorting is selection sorting.\nView here[https://www.geeksforgeeks.org/selection-sort/]","body":"It type of sorting is selection sorting. View here[<a href=\"https://www.geeksforgeeks.org/selection-sort/]\" rel=\"nofollow noreferrer\">geeksforgeeks.org/selection-sort/]</a>"},{"owner":{"account_id":13435338,"reputation":47,"user_id":9693937,"display_name":"Huy Anh Dinh"},"score":0,"creation_date":1525605514,"post_id":50195033,"comment_id":87414754,"body_markdown":"Thanks to those who enlightened me with such explanation!","body":"Thanks to those who enlightened me with such explanation!"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1633481259,"post_id":50195033,"comment_id":122769448,"body_markdown":"[GeeksforGeeks describes selection sort](https://www.geeksforgeeks.org/selection-sort/) as *repeatedly finding the minimum element (considering ascending order) from unsorted part and putting it at the beginning*. Many more swaps my happen with the procedure presented.","body":"<a href=\"https://www.geeksforgeeks.org/selection-sort/\" rel=\"nofollow noreferrer\">GeeksforGeeks describes selection sort</a> as <i>repeatedly finding the minimum element (considering ascending order) from unsorted part and putting it at the beginning</i>. Many more swaps my happen with the procedure presented."}],"answers":[{"tags":[],"owner":{"account_id":10448067,"reputation":777,"user_id":7702557,"display_name":"Kwright02"},"down_vote_count":3,"up_vote_count":6,"is_accepted":true,"score":3,"last_activity_date":1525564604,"creation_date":1525564604,"answer_id":50195058,"question_id":50195033,"body_markdown":"This is most definitely selection sort since at the end you&#39;re swapping a higher number near the beginning for a lower number further away. Most of the time if a sort method has a swap at the end it&#39;s selection.","title":"What do you call this kind of sorting in JAVA?","body":"<p>This is most definitely selection sort since at the end you're swapping a higher number near the beginning for a lower number further away. Most of the time if a sort method has a swap at the end it's selection.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633483395,"creation_date":1633477269,"answer_id":69458346,"question_id":50195033,"body_markdown":"This is a *kind of* [bubble sort][1]. A bubble sort would compare `array[j-1]` with `array[j]`, not `array[i]` with `array[j]`, but the overall effect is similar: The algorithm moves *all* larger elements to the right simultaneously, whereas a bubble sort moves each element in turn to the right until a larger element is encountered. \r\n\r\nIt is *not* a selection sort, which starting at index 0, finds the smallest element from index onwards then swaps it with the element at index, then increments index and repeats for all indexes.\r\n\r\nYour code is a java implementation of a simplified and unoptimized version of this [pseudocode][2].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bubble_sort\r\n  [2]: https://en.wikipedia.org/wiki/Bubble_sort#Pseudocode_implementation","title":"What do you call this kind of sorting in JAVA?","body":"<p>This is a <em>kind of</em> <a href=\"https://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">bubble sort</a>. A bubble sort would compare <code>array[j-1]</code> with <code>array[j]</code>, not <code>array[i]</code> with <code>array[j]</code>, but the overall effect is similar: The algorithm moves <em>all</em> larger elements to the right simultaneously, whereas a bubble sort moves each element in turn to the right until a larger element is encountered.</p>\n<p>It is <em>not</em> a selection sort, which starting at index 0, finds the smallest element from index onwards then swaps it with the element at index, then increments index and repeats for all indexes.</p>\n<p>Your code is a java implementation of a simplified and unoptimized version of this <a href=\"https://en.wikipedia.org/wiki/Bubble_sort#Pseudocode_implementation\" rel=\"nofollow noreferrer\">pseudocode</a>.</p>\n"}],"owner":{"account_id":13435338,"reputation":47,"user_id":9693937,"display_name":"Huy Anh Dinh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50195058,"answer_count":2,"score":2,"last_activity_date":1633483395,"creation_date":1525564247,"question_id":50195033,"body_markdown":"Hope that you guys are having a good day!\r\n\r\nI&#39;m new to Java so I&#39;m still getting the hang of it.\r\n\r\n\r\nThere is a sorting algorithm which I do use more often than not\r\n\r\n    for(int i=0; i&lt;array.length; i++){\r\n        for(int j=i; j&lt;array.length; j++){\r\n            if(array[j] &lt; array[i]){\r\n                int temp = array[i];\r\n                array[i] = array[j];\r\n                array[j] = temp;\r\n            }\r\n        }\r\n    }\r\n\r\nExplanation:\r\nThe outer loop first use the first element of the array and start comparing that to the rest of the elements inside the list, if it is larger than one of the element, swap it.\r\n\r\nFor example, we got an array 12, 5, 14, 8, 3\r\n\r\nWe have array[0] as 12.\r\nComparing that to array[1] in the inner loop, since 5&lt;12 we swap them. The inner loop continues until array[4] where array[4] &lt; array[0]\r\nnow we have 3 as the smallest element in the array in the right place\r\n\r\nRinse and repeat with the rest of the elements\r\n\r\nWhat is this type of sorting? Because it doesn&#39;t seem to fit in Selection Sort or Insertion Sort let alone Bubble Sort.\r\n\r\nThanks for helping!","title":"What do you call this kind of sorting in JAVA?","body":"<p>Hope that you guys are having a good day!</p>\n\n<p>I'm new to Java so I'm still getting the hang of it.</p>\n\n<p>There is a sorting algorithm which I do use more often than not</p>\n\n<pre><code>for(int i=0; i&lt;array.length; i++){\n    for(int j=i; j&lt;array.length; j++){\n        if(array[j] &lt; array[i]){\n            int temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n    }\n}\n</code></pre>\n\n<p>Explanation:\nThe outer loop first use the first element of the array and start comparing that to the rest of the elements inside the list, if it is larger than one of the element, swap it.</p>\n\n<p>For example, we got an array 12, 5, 14, 8, 3</p>\n\n<p>We have array[0] as 12.\nComparing that to array[1] in the inner loop, since 5&lt;12 we swap them. The inner loop continues until array[4] where array[4] &lt; array[0]\nnow we have 3 as the smallest element in the array in the right place</p>\n\n<p>Rinse and repeat with the rest of the elements</p>\n\n<p>What is this type of sorting? Because it doesn't seem to fit in Selection Sort or Insertion Sort let alone Bubble Sort.</p>\n\n<p>Thanks for helping!</p>\n"},{"tags":["java","connection","rmi","firewall"],"answers":[{"tags":[],"owner":{"account_id":106291,"reputation":22384,"user_id":283200,"display_name":"Kai Sternad"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1590969158,"creation_date":1276878115,"answer_id":3071382,"question_id":3071376,"body_markdown":"In RMI, with regards to ports there are two distinct mechanisms involved: \r\n\r\n1. By default, the RMI Registry uses port 1099\r\n\r\n2. Client and server (stubs, remote objects) communicate over random ports unless a fixed port has been specified when exporting a remote object. The communcation is started via a socket factory which uses 0 as starting port, which means use any port that&#39;s available between 1 and 65535.","title":"What port is used by Java RMI connection?","body":"<p>In RMI, with regards to ports there are two distinct mechanisms involved: </p>\n\n<ol>\n<li><p>By default, the RMI Registry uses port 1099</p></li>\n<li><p>Client and server (stubs, remote objects) communicate over random ports unless a fixed port has been specified when exporting a remote object. The communcation is started via a socket factory which uses 0 as starting port, which means use any port that's available between 1 and 65535.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22143,"reputation":5621,"user_id":54356,"accept_rate":74,"display_name":"El Guapo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1276878203,"creation_date":1276878203,"answer_id":3071393,"question_id":3071376,"body_markdown":"You typically set the port at the server using the rmiregistry command. You can set the port on the command line, or it will default to 1099","title":"What port is used by Java RMI connection?","body":"<p>You typically set the port at the server using the rmiregistry command. You can set the port on the command line, or it will default to 1099</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":2,"up_vote_count":30,"is_accepted":true,"score":28,"last_activity_date":1487646740,"creation_date":1276878868,"answer_id":3071469,"question_id":3071376,"body_markdown":"RMI generally won&#39;t work over a firewall, since it uses unpredictable ports (it starts off on 1099, and then runs off with a random port after that).\r\n\r\nIn these situations, you generally need to resort to  tunnelling RMI over HTTP, which is described well [here][1].\r\n\r\n\r\n  [1]: http://web.archive.org/web/20070517161338/http://www.cs.swan.ac.uk/~csneal/InternetComputing/Tunnelling.html","title":"What port is used by Java RMI connection?","body":"<p>RMI generally won't work over a firewall, since it uses unpredictable ports (it starts off on 1099, and then runs off with a random port after that).</p>\n\n<p>In these situations, you generally need to resort to  tunnelling RMI over HTTP, which is described well <a href=\"http://web.archive.org/web/20070517161338/http://www.cs.swan.ac.uk/~csneal/InternetComputing/Tunnelling.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2619813,"reputation":81,"user_id":2268105,"display_name":"Leo Dagum"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1365632087,"creation_date":1365632087,"answer_id":15937445,"question_id":3071376,"body_markdown":"If you can modify the client, then have it print out the remote reference and you will see what port it&#39;s using.  E.g.\r\n\r\n    ServerApi server = (ServerApi) registry.lookup(ServerApi.RMI_NAME);\r\n    System.out.println(&quot;Got server handle &quot; + server);\r\n\r\nwill produce something like:\r\n\r\nGot server handle Proxy[ServerApi,RemoteObjectInvocationHandler[UnicastRef [liveRef: [endpoint:[172.17.3.190:9001](remote),objID:[-7c63fea8:...\r\n\r\nwhere you can see the port is 9001.  If the remote class is not specifying the port, then it will change across reboots.  If you want to use a fixed port then you need to make sure the remote class constructor does something like:\r\n\r\n    super(rmiPort)\r\n\r\n","title":"What port is used by Java RMI connection?","body":"<p>If you can modify the client, then have it print out the remote reference and you will see what port it's using.  E.g.</p>\n\n<pre><code>ServerApi server = (ServerApi) registry.lookup(ServerApi.RMI_NAME);\nSystem.out.println(\"Got server handle \" + server);\n</code></pre>\n\n<p>will produce something like:</p>\n\n<p>Got server handle Proxy[ServerApi,RemoteObjectInvocationHandler[UnicastRef [liveRef: [endpoint:172.17.3.190:9001,objID:[-7c63fea8:...</p>\n\n<p>where you can see the port is 9001.  If the remote class is not specifying the port, then it will change across reboots.  If you want to use a fixed port then you need to make sure the remote class constructor does something like:</p>\n\n<pre><code>super(rmiPort)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1453408839,"creation_date":1424298141,"answer_id":28595106,"question_id":3071376,"body_markdown":"From the *javadoc* of `java.rmi.registry.Registry`\r\n\r\n&gt; Therefore, a registry&#39;s remote object implementation is typically exported with a well-known address, such as with a well-known [`ObjID`][1] and TCP port number (default is [`1099`][2]).\r\n\r\nSee more in the [javadoc of `java.rmi.registry.LocateRegistry`][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/rmi/server/ObjID.html#REGISTRY_ID\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/rmi/registry/Registry.html#REGISTRY_PORT\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/rmi/registry/LocateRegistry.html","title":"What port is used by Java RMI connection?","body":"<p>From the <em>javadoc</em> of <code>java.rmi.registry.Registry</code></p>\n\n<blockquote>\n  <p>Therefore, a registry's remote object implementation is typically exported with a well-known address, such as with a well-known <a href=\"https://docs.oracle.com/javase/8/docs/api/java/rmi/server/ObjID.html#REGISTRY_ID\" rel=\"nofollow\"><code>ObjID</code></a> and TCP port number (default is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/rmi/registry/Registry.html#REGISTRY_PORT\" rel=\"nofollow\"><code>1099</code></a>).</p>\n</blockquote>\n\n<p>See more in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/rmi/registry/LocateRegistry.html\" rel=\"nofollow\">javadoc of <code>java.rmi.registry.LocateRegistry</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1447667490,"creation_date":1447667490,"answer_id":33732450,"question_id":3071376,"body_markdown":"The port is available here: `java.rmi.registry.Registry.REGISTRY_PORT` (1099)","title":"What port is used by Java RMI connection?","body":"<p>The port is available here: <code>java.rmi.registry.Registry.REGISTRY_PORT</code> (1099)</p>\n"},{"tags":[],"owner":{"account_id":4548892,"reputation":958,"user_id":3694570,"accept_rate":50,"display_name":"Marco Blos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473205559,"creation_date":1473205559,"answer_id":39359335,"question_id":3071376,"body_markdown":"Depends how you implement the RMI, you can set the registry port (registry is a &quot;unique point of services&quot;). If you don&#39;t set a explicit port, the registry will assume the port 1099 by default. In some cases, you have a firewall, and the firewall don&#39;t allow your rmi-client to see the stubs and objects behind the registry, because this things are running in randomically port, a different port that the registry use, and this port is blocked by firewall - of course.\r\nIf you use `RmiServiceExporter` to configure your RmiServer, you can use the method `rmiServiceExporter.setServicePort(port)` to fixed the rmi port, and open this port in the firewall.\r\n\r\nEdit: I resolve this issue with this post: http://www.mscharhag.com/java/java-rmi-things-to-remember","title":"What port is used by Java RMI connection?","body":"<p>Depends how you implement the RMI, you can set the registry port (registry is a \"unique point of services\"). If you don't set a explicit port, the registry will assume the port 1099 by default. In some cases, you have a firewall, and the firewall don't allow your rmi-client to see the stubs and objects behind the registry, because this things are running in randomically port, a different port that the registry use, and this port is blocked by firewall - of course.\nIf you use <code>RmiServiceExporter</code> to configure your RmiServer, you can use the method <code>rmiServiceExporter.setServicePort(port)</code> to fixed the rmi port, and open this port in the firewall.</p>\n\n<p>Edit: I resolve this issue with this post: <a href=\"http://www.mscharhag.com/java/java-rmi-things-to-remember\" rel=\"nofollow\">http://www.mscharhag.com/java/java-rmi-things-to-remember</a></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1633483224,"creation_date":1486945870,"answer_id":42194948,"question_id":3071376,"body_markdown":"All the answers so far are incorrect. The Registry normally uses port 1099, but you can change it. But that&#39;s not the end of the story. Remote objects also use ports, and not necessarily 1099.\r\n\r\n*If you don&#39;t specify a port when exporting*, RMI uses a random port. The solution is therefore *to specify a port number when exporting*. And this is a port that needs opening in the firewall, if any.\r\n\r\n- In the case where your remote object extends `UnicastRemoteObject`, have its constructor call `super(port)` with some non-zero port number.\r\n\r\n- In the case where it doesn&#39;t extend `UnicastRemoteObject`, provide a non-zero port number to `UnicastRemoteObject.exportObject()`.\r\n\r\nThere are several wrinkles to this.\r\n\r\n- If you *are* using socket factories, your `RMIServerSocketFactory` must have a sensible implementation of `equals()` for port sharing to work, i.e. one that doesn&#39;t just rely on object identity via `==` or `Object.equals()`.\r\n\r\n- If *either* you don&#39;t provide a server socket factory, *or* you do provide one with a sensible `equals()` method, *but not both,* you can use the same non-zero explicit port number for all remote objects, e.g. `createRegistry(1099)` followed by any number of `super(1099)` or `exportObject(..., 1099)` calls. ","title":"What port is used by Java RMI connection?","body":"<p>All the answers so far are incorrect. The Registry normally uses port 1099, but you can change it. But that's not the end of the story. Remote objects also use ports, and not necessarily 1099.</p>\n<p><em>If you don't specify a port when exporting</em>, RMI uses a random port. The solution is therefore <em>to specify a port number when exporting</em>. And this is a port that needs opening in the firewall, if any.</p>\n<ul>\n<li><p>In the case where your remote object extends <code>UnicastRemoteObject</code>, have its constructor call <code>super(port)</code> with some non-zero port number.</p>\n</li>\n<li><p>In the case where it doesn't extend <code>UnicastRemoteObject</code>, provide a non-zero port number to <code>UnicastRemoteObject.exportObject()</code>.</p>\n</li>\n</ul>\n<p>There are several wrinkles to this.</p>\n<ul>\n<li><p>If you <em>are</em> using socket factories, your <code>RMIServerSocketFactory</code> must have a sensible implementation of <code>equals()</code> for port sharing to work, i.e. one that doesn't just rely on object identity via <code>==</code> or <code>Object.equals()</code>.</p>\n</li>\n<li><p>If <em>either</em> you don't provide a server socket factory, <em>or</em> you do provide one with a sensible <code>equals()</code> method, <em>but not both,</em> you can use the same non-zero explicit port number for all remote objects, e.g. <code>createRegistry(1099)</code> followed by any number of <code>super(1099)</code> or <code>exportObject(..., 1099)</code> calls.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507551068,"creation_date":1507551068,"answer_id":46646151,"question_id":3071376,"body_markdown":"With reference to other answers above, here is my view -\r\n\r\nthere are ports involved on both client and server side.\r\n\r\n- for server/remote side, if you export the object without providing a port , remote object would use a random port to listen.\r\n\r\n- a client, when looks up the remote object, it would always use a random port on its side and will connect to the remote object port as listed above.","title":"What port is used by Java RMI connection?","body":"<p>With reference to other answers above, here is my view -</p>\n\n<p>there are ports involved on both client and server side.</p>\n\n<ul>\n<li><p>for server/remote side, if you export the object without providing a port , remote object would use a random port to listen.</p></li>\n<li><p>a client, when looks up the remote object, it would always use a random port on its side and will connect to the remote object port as listed above.</p></li>\n</ul>\n"}],"owner":{"account_id":622236,"reputation":317,"user_id":365507,"accept_rate":100,"display_name":"kwc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143452,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":3071469,"answer_count":9,"score":27,"last_activity_date":1633483224,"creation_date":1276878034,"question_id":3071376,"body_markdown":"May I know what port is used by Java RMI connection?\r\n\r\nIf I want to connect a Java client application to a Java server application using RMI connection, what port I need to open at the server machine so that the client application can connect to it?\r\n\r\nI want to set up a firewall in the server machine but I don&#39;t know which port I should open.\r\n","title":"What port is used by Java RMI connection?","body":"<p>May I know what port is used by Java RMI connection?</p>\n\n<p>If I want to connect a Java client application to a Java server application using RMI connection, what port I need to open at the server machine so that the client application can connect to it?</p>\n\n<p>I want to set up a firewall in the server machine but I don't know which port I should open.</p>\n"},{"tags":["java","arrays","algorithm","primes"],"comments":[{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1633384921,"post_id":69442774,"comment_id":122741289,"body_markdown":"the part that takes the most amount of time is the function calculatePrimeFactors its complexity is O(sqrt(n)) where n is the element, usually the elements are much bigger than the size of the array because it wont be interesting to input the function the array [0,1,...,n] or an array with a repeating number","body":"the part that takes the most amount of time is the function calculatePrimeFactors its complexity is O(sqrt(n)) where n is the element, usually the elements are much bigger than the size of the array because it wont be interesting to input the function the array [0,1,...,n] or an array with a repeating number"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1633386871,"post_id":69442774,"comment_id":122741632,"body_markdown":"Your example is wrong. 2 and 3 can&#39;t be in the same list, they don&#39;t share prime divisors. My sublists are 2: [2, 6, 14]\n3: [3, 9]\n7: [7]\n19: [19]","body":"Your example is wrong. 2 and 3 can&#39;t be in the same list, they don&#39;t share prime divisors. My sublists are 2: [2, 6, 14] 3: [3, 9] 7: [7] 19: [19]"},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1633387410,"post_id":69442774,"comment_id":122741735,"body_markdown":"@PresidentJamesK.Polk there is no such rule. also 6 and 3 has common prime factor. the idea is to maximize the amount of lists while every list have different prime factors","body":"@PresidentJamesK.Polk there is no such rule. also 6 and 3 has common prime factor. the idea is to maximize the amount of lists while every list have different prime factors"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1633387464,"post_id":69442774,"comment_id":122741747,"body_markdown":"@Ofek: Thank you for clarifying. I thought rule #2 required all the elements to share a prime divisor","body":"@Ofek: Thank you for clarifying. I thought rule #2 required all the elements to share a prime divisor"},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1633389227,"post_id":69442774,"comment_id":122742017,"body_markdown":"I still don&#39;t get it. Condition 1 seems to be at odds with Condition 2. A DAG would probably be more suited then a list?","body":"I still don&#39;t get it. Condition 1 seems to be at odds with Condition 2. A DAG would probably be more suited then a list?"},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":1,"creation_date":1633390686,"post_id":69442774,"comment_id":122742208,"body_markdown":"@Neil Both conditions are the same. they are saying that a two numbers are: at the same array OR don&#39;t have prime factor. technically the input satisfy this condition, so the idea is to maximize the amount of arrays.","body":"@Neil Both conditions are the same. they are saying that a two numbers are: at the same array OR don&#39;t have prime factor. technically the input satisfy this condition, so the idea is to maximize the amount of arrays."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1633391100,"post_id":69442774,"comment_id":122742282,"body_markdown":"(1) Your two conditions allow the possibility of just returning the original array. You also need a third condition, or else to specify that you want to split it into as many subarrays as possible. (2) The term &quot;subarray&quot; often means specifically &quot;contiguous subarray&quot;, and your example is consistent with either interpretation. Can you clarify? (3) Your current solution doesn&#39;t work, because at no point does it merge two sets of primes that don&#39;t overlap but later turn out to both overlap some third set (for example, `[2,3], [5,7], [2,5]` should become `[2, 3, 5, 7]` but doesn&#39;t).","body":"(1) Your two conditions allow the possibility of just returning the original array. You also need a third condition, or else to specify that you want to split it into as many subarrays as possible. (2) The term &quot;subarray&quot; often means specifically &quot;contiguous subarray&quot;, and your example is consistent with either interpretation. Can you clarify? (3) Your current solution doesn&#39;t work, because at no point does it merge two sets of primes that don&#39;t overlap but later turn out to both overlap some third set (for example, <code>[2,3], [5,7], [2,5]</code> should become <code>[2, 3, 5, 7]</code> but doesn&#39;t)."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1633391874,"post_id":69442774,"comment_id":122742381,"body_markdown":"Oh, you start out with numbers and then group them by each prime factors? In the case where `[1, n]`, I wounder if it&#39;s bounded? If it was a DAG, how many disconnected components.","body":"Oh, you start out with numbers and then group them by each prime factors? In the case where <code>[1, n]</code>, I wounder if it&#39;s bounded? If it was a DAG, how many disconnected components."},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1633393630,"post_id":69442774,"comment_id":122742578,"body_markdown":"@ruakh about 3, you have the same mistake everyone is doing. the conditions are saying that every two numbers that sharing prime factor are in the same array, NOT every two numbers in the same array are sharing prime factor.","body":"@ruakh about 3, you have the same mistake everyone is doing. the conditions are saying that every two numbers that sharing prime factor are in the same array, NOT every two numbers in the same array are sharing prime factor."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1633395152,"post_id":69442774,"comment_id":122742801,"body_markdown":"@Ofek: I have *not* made that mistake. You must have misread my comment.","body":"@Ofek: I have <i>not</i> made that mistake. You must have misread my comment."}],"answers":[{"tags":[],"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633390766,"creation_date":1633387727,"answer_id":69443138,"question_id":69442774,"body_markdown":"this algorithm is with complexity of O(n^2*log(m)) when n is the length of the array and m is the maximum element in the array.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\tfor (int[] result : split(new int[] {2, 3, 6, 7, 9, 14, 19})) {\r\n\t\t\tSystem.out.println(Arrays.toString(result));\r\n\t\t}\r\n\t}\r\n\r\n    //Complexity: O(n^2 * m)    [ n=arr.length, m=max(arr) ]\r\n\tpublic static int[][] split(int[] arr) {\r\n\t\tList&lt;LinkedList&gt; lists = new ArrayList&lt;&gt;();\r\n\t\tfor (int n : arr) {\r\n\t\t\tLinkedList selectedList = null;\r\n\t\t\tfor (int i = 0; i &lt; lists.size(); i++) {\r\n\t\t\t\tLinkedList list = lists.get(i);\r\n\t\t\t\tif (list.hasNumberWithCommonPrimeFactor(n)) {\r\n\t\t\t\t\tif (selectedList == null) {//if we haven&#39;t added the number yet\r\n\t\t\t\t\t\t//add the number to the set\r\n\t\t\t\t\t\tselectedList = list;\r\n\t\t\t\t\t\tlist.add(n);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//join the lists\r\n\t\t\t\t\t\tselectedList.joinAfter(list);\r\n\t\t\t\t\t\tlists.remove(i);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (selectedList == null) {//if we haven&#39;t added the number\r\n\t\t\t\t//let put the number inside a new list\r\n\t\t\t\tlists.add(new LinkedList(n));\r\n\t\t\t}\r\n\t\t}\r\n\t\t//convert the sets to arrays\r\n\t\treturn lists.stream().map(LinkedList::toArray).toArray(int[][]::new);\r\n\t}\r\n\r\n\t//gcd function with complexity O(log(a+b))\r\n\tpublic static int gcd(int a, int b) {\r\n\t\treturn a % b == 0 ? b : gcd(b, a % b);\r\n\t}\r\n\r\n\tprivate static class LinkedList {\r\n\t\tpublic Node first;\r\n\t\tpublic Node last;\r\n\t\tpublic int size;\r\n\r\n\t\t//Complexity: O(1)\r\n\t\tpublic LinkedList(int firstValue) {\r\n\t\t\tfirst = last = new Node(firstValue);\r\n\t\t\tsize = 1;\r\n\t\t}\r\n\r\n\t\t//Complexity: O(1)\r\n\t\tpublic void add(int value) {\r\n\t\t\tlast = last.next = new Node(value);\r\n\t\t\tsize++;\r\n\t\t}\r\n\r\n\t\t//Complexity: O(1)\r\n\t\tpublic void joinAfter(LinkedList other) {\r\n\t\t\tlast.next = other.first;\r\n\t\t\tlast = other.last;\r\n\t\t\tsize += other.size;\r\n\t\t}\r\n\r\n\t\t//Complexity: O(n)\r\n\t\tpublic int[] toArray() {\r\n\t\t\tint[] arr = new int[size];\r\n\t\t\tNode node = first;\r\n\t\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\t\tarr[i] = node.value;\r\n\t\t\t\tnode = node.next;\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}\r\n\r\n\t\t//Complexity: O(n)\r\n\t\tpublic boolean hasNumberWithCommonPrimeFactor(int num) {\r\n\t\t\tNode node = first;\r\n\t\t\twhile (node != null) {\r\n\t\t\t\tif (gcd(node.value, num) &gt; 1)\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tnode = node.next;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class Node {\r\n\t\tpublic int value;\r\n\t\tpublic Node next;\r\n\r\n\t\tpublic Node(int value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\t}\r\n\r\nthis will print\r\n\r\n    [2, 6, 3, 9, 14, 7]\r\n    [19]\r\n\r\n\r\nthe idea I was using is that gcd(a,b)==1 if and only if a,b aren&#39;t sharing any prime factor","title":"Efficiently splitting an array of integers into subarrays of their prime divisors so that no two sub arrays contain overlapping prime divisors","body":"<p>this algorithm is with complexity of O(n^2*log(m)) when n is the length of the array and m is the maximum element in the array.</p>\n<pre><code>public static void main(String[] args) {\n    for (int[] result : split(new int[] {2, 3, 6, 7, 9, 14, 19})) {\n        System.out.println(Arrays.toString(result));\n    }\n}\n\n//Complexity: O(n^2 * m)    [ n=arr.length, m=max(arr) ]\npublic static int[][] split(int[] arr) {\n    List&lt;LinkedList&gt; lists = new ArrayList&lt;&gt;();\n    for (int n : arr) {\n        LinkedList selectedList = null;\n        for (int i = 0; i &lt; lists.size(); i++) {\n            LinkedList list = lists.get(i);\n            if (list.hasNumberWithCommonPrimeFactor(n)) {\n                if (selectedList == null) {//if we haven't added the number yet\n                    //add the number to the set\n                    selectedList = list;\n                    list.add(n);\n                } else {\n                    //join the lists\n                    selectedList.joinAfter(list);\n                    lists.remove(i);\n                    i--;\n                }\n            }\n        }\n        if (selectedList == null) {//if we haven't added the number\n            //let put the number inside a new list\n            lists.add(new LinkedList(n));\n        }\n    }\n    //convert the sets to arrays\n    return lists.stream().map(LinkedList::toArray).toArray(int[][]::new);\n}\n\n//gcd function with complexity O(log(a+b))\npublic static int gcd(int a, int b) {\n    return a % b == 0 ? b : gcd(b, a % b);\n}\n\nprivate static class LinkedList {\n    public Node first;\n    public Node last;\n    public int size;\n\n    //Complexity: O(1)\n    public LinkedList(int firstValue) {\n        first = last = new Node(firstValue);\n        size = 1;\n    }\n\n    //Complexity: O(1)\n    public void add(int value) {\n        last = last.next = new Node(value);\n        size++;\n    }\n\n    //Complexity: O(1)\n    public void joinAfter(LinkedList other) {\n        last.next = other.first;\n        last = other.last;\n        size += other.size;\n    }\n\n    //Complexity: O(n)\n    public int[] toArray() {\n        int[] arr = new int[size];\n        Node node = first;\n        for (int i = 0; i &lt; size; i++) {\n            arr[i] = node.value;\n            node = node.next;\n        }\n        return arr;\n    }\n\n    //Complexity: O(n)\n    public boolean hasNumberWithCommonPrimeFactor(int num) {\n        Node node = first;\n        while (node != null) {\n            if (gcd(node.value, num) &gt; 1)\n                return true;\n            node = node.next;\n        }\n        return false;\n    }\n}\n\nprivate static class Node {\n    public int value;\n    public Node next;\n\n    public Node(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>this will print</p>\n<pre><code>[2, 6, 3, 9, 14, 7]\n[19]\n</code></pre>\n<p>the idea I was using is that gcd(a,b)==1 if and only if a,b aren't sharing any prime factor</p>\n"},{"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633481246,"creation_date":1633461144,"answer_id":69456071,"question_id":69442774,"body_markdown":"This can run better than quadratic if `sqrt(max(list))` is significantly less than the input length, although we could possibly improve that with a precalculated list of primes to reduce factoring time. It&#39;s `O(n) * sqrt(max(list)) + O(num unique primes in list)`, assuming the disjoint-set data structure is [practically amortised constant time][1].\r\n\r\nPython code (sorry, I&#39;m unfamiliar with Java):\r\n```python\r\n# The Disjoint set (by Matt Timmermans)\r\n# has the value as either the size of the set\r\n# in case of the parent, or the negative index\r\n# of the parent in case of a child.\r\ndef find(ds, idx):\r\n  if ds[idx] &gt; 0:\r\n    return idx\r\n\r\n  root = find(ds, -ds[idx])\r\n\r\n  # Path compression\r\n  if ds[idx] != -root:\r\n    ds[idx] = -root\r\n\r\n  return root\r\n\r\n# Returns False if the\r\n# elements are ALREADY\r\n# in the same set.\r\ndef union(ds, a, b):\r\n  a_root = find(ds, a)\r\n  b_root = find(ds, b)\r\n\r\n  if a_root == b_root:\r\n    return False\r\n\r\n  # Union by size\r\n  if ds[a_root] &gt;= ds[b_root]:\r\n    ds[a_root] += ds[b_root]\r\n    ds[b_root] = -a_root\r\n  else:\r\n    ds[b_root] += ds[a_root]\r\n    ds[a_root] = -b_root\r\n\r\n  return True\r\n\r\n# End code by by Matt Timmermans\r\n\r\n\r\ndef prime_factors(n):\r\n  primes = []\r\n  \r\n  i = 2\r\n  \r\n  while i*i &lt;= n:\r\n    if n % i == 0:\r\n      primes.append(i)\r\n      while n % i == 0:\r\n        n //= i\r\n    i += 1\r\n\r\n  if n &gt; 1:\r\n    primes.append(n)\r\n\r\n  return primes\r\n\r\n\r\nimport collections\r\n\r\n\r\ndef update(ds, m, val, index):\r\n  if val in m:\r\n    return index\r\n  m[val] = index\r\n  if len(ds) &lt; index + 1:\r\n    ds.append(1)\r\n  return index + 1\r\n\r\n\r\ndef f(A):\r\n  ds = []\r\n  prime_index = 0\r\n  prime_to_index = {}\r\n  factor_list = [0] * len(A)\r\n\r\n  for i, a in enumerate(A):\r\n    ps = prime_factors(a)\r\n\r\n    factor_list[i] = ps[0]\r\n    prime_index = update(ds, prime_to_index, ps[0], prime_index)\r\n\r\n    ps_0_idx = prime_to_index[ps[0]]\r\n\r\n    for j in range(1, len(ps)):\r\n      prime_index = update(ds, prime_to_index, ps[j], prime_index)\r\n      idx = prime_to_index[ps[j]]\r\n      union(ds, ps_0_idx, idx)\r\n\r\n  result = collections.defaultdict(list)\r\n\r\n  for i, factor in enumerate(factor_list):\r\n    parent = find(ds, prime_to_index[factor])\r\n    result[parent].append(A[i])\r\n\r\n  return list(result.values())\r\n```\r\nOutput:\r\n```\r\nA = [2, 3, 6, 7, 9, 14, 19]\r\n\r\nprint(f(A)) # [[2, 3, 6, 7, 9, 14], [19]]\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Disjoint-set_data_structure#Time_complexity","title":"Efficiently splitting an array of integers into subarrays of their prime divisors so that no two sub arrays contain overlapping prime divisors","body":"<p>This can run better than quadratic if <code>sqrt(max(list))</code> is significantly less than the input length, although we could possibly improve that with a precalculated list of primes to reduce factoring time. It's <code>O(n) * sqrt(max(list)) + O(num unique primes in list)</code>, assuming the disjoint-set data structure is <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure#Time_complexity\" rel=\"nofollow noreferrer\">practically amortised constant time</a>.</p>\n<p>Python code (sorry, I'm unfamiliar with Java):</p>\n<pre class=\"lang-py prettyprint-override\"><code># The Disjoint set (by Matt Timmermans)\n# has the value as either the size of the set\n# in case of the parent, or the negative index\n# of the parent in case of a child.\ndef find(ds, idx):\n  if ds[idx] &gt; 0:\n    return idx\n\n  root = find(ds, -ds[idx])\n\n  # Path compression\n  if ds[idx] != -root:\n    ds[idx] = -root\n\n  return root\n\n# Returns False if the\n# elements are ALREADY\n# in the same set.\ndef union(ds, a, b):\n  a_root = find(ds, a)\n  b_root = find(ds, b)\n\n  if a_root == b_root:\n    return False\n\n  # Union by size\n  if ds[a_root] &gt;= ds[b_root]:\n    ds[a_root] += ds[b_root]\n    ds[b_root] = -a_root\n  else:\n    ds[b_root] += ds[a_root]\n    ds[a_root] = -b_root\n\n  return True\n\n# End code by by Matt Timmermans\n\n\ndef prime_factors(n):\n  primes = []\n  \n  i = 2\n  \n  while i*i &lt;= n:\n    if n % i == 0:\n      primes.append(i)\n      while n % i == 0:\n        n //= i\n    i += 1\n\n  if n &gt; 1:\n    primes.append(n)\n\n  return primes\n\n\nimport collections\n\n\ndef update(ds, m, val, index):\n  if val in m:\n    return index\n  m[val] = index\n  if len(ds) &lt; index + 1:\n    ds.append(1)\n  return index + 1\n\n\ndef f(A):\n  ds = []\n  prime_index = 0\n  prime_to_index = {}\n  factor_list = [0] * len(A)\n\n  for i, a in enumerate(A):\n    ps = prime_factors(a)\n\n    factor_list[i] = ps[0]\n    prime_index = update(ds, prime_to_index, ps[0], prime_index)\n\n    ps_0_idx = prime_to_index[ps[0]]\n\n    for j in range(1, len(ps)):\n      prime_index = update(ds, prime_to_index, ps[j], prime_index)\n      idx = prime_to_index[ps[j]]\n      union(ds, ps_0_idx, idx)\n\n  result = collections.defaultdict(list)\n\n  for i, factor in enumerate(factor_list):\n    parent = find(ds, prime_to_index[factor])\n    result[parent].append(A[i])\n\n  return list(result.values())\n</code></pre>\n<p>Output:</p>\n<pre><code>A = [2, 3, 6, 7, 9, 14, 19]\n\nprint(f(A)) # [[2, 3, 6, 7, 9, 14], [19]]\n</code></pre>\n"}],"owner":{"account_id":22942064,"reputation":21,"user_id":17074666,"display_name":"Kamil12"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1633481246,"creation_date":1633384320,"question_id":69442774,"body_markdown":"I am currently trying to split an integer array into sub arrays so that:\r\n- No two different sub arrays contain elements that have any common prime divisors.\r\n- Elements that share prime divisors are placed into the same sub array.\r\n\r\ne.g. an array contatining 2, 3, 6, 7, 9, 14, 19 would be split into two arrays [2, 3, 6, 7, 9, 14] and [19].\r\n\r\nI&#39;ve figured out a working solution, but i think it&#39;s crude and inefficient and I was wondering if there was a way to optimize it. \r\n\r\nThe solution:\r\n\r\n```\r\npublic class SOExample {\r\n\r\n    private final Map&lt;Integer, Set&lt;Integer&gt;&gt; integersPrimesMap = new HashMap&lt;&gt;();\r\n    private final List&lt;Set&lt;Integer&gt;&gt; primesSubArrays = new ArrayList&lt;&gt;();\r\n    private final Set&lt;Integer&gt; usedIntegers = new HashSet&lt;&gt;();\r\n\r\n    public SOExample(int[] arr) {\r\n        for (int i : arr) {\r\n            calculatePrimeFactors(i);\r\n        }\r\n        for (Map.Entry&lt;Integer, Set&lt;Integer&gt;&gt; x : integersPrimesMap.entrySet()) {\r\n            primesSubArrays.add(x.getValue());\r\n        }\r\n        // Combine sub arrays which contain overlapping elements\r\n        Iterator&lt;Set&lt;Integer&gt;&gt; i = primesSubArrays.iterator();\r\n        while (i.hasNext()) {\r\n            Set&lt;Integer&gt; x = i.next();\r\n            for (Set&lt;Integer&gt; j : primesSubArrays) {\r\n                if (x != j &amp;&amp; !Collections.disjoint(x, j)) {\r\n                    j.addAll(x);\r\n                    i.remove();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // figure out which integer belongs to which sub array from their prime divisors in integersPrimesMap and create sub arrays of integers.\r\n    }\r\n\r\n    private void calculatePrimeFactors(int n) {\r\n        if (usedIntegers.contains(n)) {\r\n            return;\r\n        }\r\n        usedIntegers.add(n);\r\n        Set&lt;Integer&gt; factors = new HashSet&lt;&gt;();\r\n        if (n % 2 == 0) {\r\n            factors.add(2);\r\n            n = n / 2;\r\n        }\r\n        while (n % 2 == 0) {\r\n            n = n / 2;\r\n        }\r\n\r\n        for (int i = 3; i &lt;= Math.sqrt(n); i = i + 2) {\r\n            if (n % i == 0) {\r\n                factors.add(i);\r\n                n = n / i;\r\n            }\r\n            while (n % i == 0) {\r\n                factors.add(i);\r\n                n = n / i;\r\n            }\r\n            if (n == 1) {\r\n                break;\r\n            }\r\n        }\r\n        if (n &gt; 2) {\r\n            factors.add(n);\r\n        }\r\n        integersPrimesMap.put(n, factors);\r\n    }\r\n}\r\n```\r\n\r\nMy biggest struggle is with combining sub arrays of the integers prime factors, my current solution is O(n^2). I&#39;m fairly certrain that it can be done faster but I was unable to work out the answer by my self.","title":"Efficiently splitting an array of integers into subarrays of their prime divisors so that no two sub arrays contain overlapping prime divisors","body":"<p>I am currently trying to split an integer array into sub arrays so that:</p>\n<ul>\n<li>No two different sub arrays contain elements that have any common prime divisors.</li>\n<li>Elements that share prime divisors are placed into the same sub array.</li>\n</ul>\n<p>e.g. an array contatining 2, 3, 6, 7, 9, 14, 19 would be split into two arrays [2, 3, 6, 7, 9, 14] and [19].</p>\n<p>I've figured out a working solution, but i think it's crude and inefficient and I was wondering if there was a way to optimize it.</p>\n<p>The solution:</p>\n<pre><code>public class SOExample {\n\n    private final Map&lt;Integer, Set&lt;Integer&gt;&gt; integersPrimesMap = new HashMap&lt;&gt;();\n    private final List&lt;Set&lt;Integer&gt;&gt; primesSubArrays = new ArrayList&lt;&gt;();\n    private final Set&lt;Integer&gt; usedIntegers = new HashSet&lt;&gt;();\n\n    public SOExample(int[] arr) {\n        for (int i : arr) {\n            calculatePrimeFactors(i);\n        }\n        for (Map.Entry&lt;Integer, Set&lt;Integer&gt;&gt; x : integersPrimesMap.entrySet()) {\n            primesSubArrays.add(x.getValue());\n        }\n        // Combine sub arrays which contain overlapping elements\n        Iterator&lt;Set&lt;Integer&gt;&gt; i = primesSubArrays.iterator();\n        while (i.hasNext()) {\n            Set&lt;Integer&gt; x = i.next();\n            for (Set&lt;Integer&gt; j : primesSubArrays) {\n                if (x != j &amp;&amp; !Collections.disjoint(x, j)) {\n                    j.addAll(x);\n                    i.remove();\n                    break;\n                }\n            }\n        }\n        // figure out which integer belongs to which sub array from their prime divisors in integersPrimesMap and create sub arrays of integers.\n    }\n\n    private void calculatePrimeFactors(int n) {\n        if (usedIntegers.contains(n)) {\n            return;\n        }\n        usedIntegers.add(n);\n        Set&lt;Integer&gt; factors = new HashSet&lt;&gt;();\n        if (n % 2 == 0) {\n            factors.add(2);\n            n = n / 2;\n        }\n        while (n % 2 == 0) {\n            n = n / 2;\n        }\n\n        for (int i = 3; i &lt;= Math.sqrt(n); i = i + 2) {\n            if (n % i == 0) {\n                factors.add(i);\n                n = n / i;\n            }\n            while (n % i == 0) {\n                factors.add(i);\n                n = n / i;\n            }\n            if (n == 1) {\n                break;\n            }\n        }\n        if (n &gt; 2) {\n            factors.add(n);\n        }\n        integersPrimesMap.put(n, factors);\n    }\n}\n</code></pre>\n<p>My biggest struggle is with combining sub arrays of the integers prime factors, my current solution is O(n^2). I'm fairly certrain that it can be done faster but I was unable to work out the answer by my self.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":4,"creation_date":1633475803,"post_id":69458190,"comment_id":122768583,"body_markdown":"You have the right intuition. The tutorial is just oversimplifying the problem. Stick with what you know; there&#39;s nothing wrong in what you said","body":"You have the right intuition. The tutorial is just oversimplifying the problem. Stick with what you know; there&#39;s nothing wrong in what you said"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1633478034,"post_id":69458190,"comment_id":122768940,"body_markdown":"But also be aware of the fact that this is a simplification that, for practical purposes, _everyone will make_ because for practical purposes, those variables &quot;are&quot; objects when used. At the technical level, you&#39;re right, and at the practical level, that&#39;s being needlessly pedantic, so keep that knowledge in your back pocket, but you&#39;re both right: they&#39;re variables (at the parser level), and they&#39;re objects (at the &quot;what does your code treat them as&quot; level).","body":"But also be aware of the fact that this is a simplification that, for practical purposes, <i>everyone will make</i> because for practical purposes, those variables &quot;are&quot; objects when used. At the technical level, you&#39;re right, and at the practical level, that&#39;s being needlessly pedantic, so keep that knowledge in your back pocket, but you&#39;re both right: they&#39;re variables (at the parser level), and they&#39;re objects (at the &quot;what does your code treat them as&quot; level)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633479588,"post_id":69458190,"comment_id":122769214,"body_markdown":"On the other hand, novice Java programmers get confused by these (over-)simplifications ... as amply illustrated by other questions that we get on StackOverflow.  From the perspective of such people, this pedantry *in training material* is **necessary**.","body":"On the other hand, novice Java programmers get confused by these (over-)simplifications ... as amply illustrated by other questions that we get on StackOverflow.  From the perspective of such people, this pedantry <i>in training material</i> is <b>necessary</b>."},{"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"score":0,"creation_date":1633517979,"post_id":69458190,"comment_id":122779197,"body_markdown":"@Stephen C Technically speaking the ability to differentiate between reference variables and the misperception of referring to variables as object isn&#39;t pedantry and should be well understood.","body":"@Stephen C Technically speaking the ability to differentiate between reference variables and the misperception of referring to variables as object isn&#39;t pedantry and should be well understood."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633521061,"post_id":69458190,"comment_id":122780463,"body_markdown":"@Ineversurrender93 - That is **exactly** my point!  Which is why it is so important for the training material to be (pedantically) correct.  And why the OP is correct to call this out.  Hopefully someone brings this to the attention of the folks at PatrickVideos!","body":"@Ineversurrender93 - That is <b>exactly</b> my point!  Which is why it is so important for the training material to be (pedantically) correct.  And why the OP is correct to call this out.  Hopefully someone brings this to the attention of the folks at PatrickVideos!"}],"answers":[{"tags":[],"owner":{"account_id":15089118,"reputation":561,"user_id":10892021,"display_name":"Gnut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633476748,"creation_date":1633476748,"answer_id":69458299,"question_id":69458190,"body_markdown":"You are right that, strictly speaking, in the above example, we are declaring variables alex, linda, john that will hold reference to an object.\r\n\r\nBut since they hold reference to an object, in a juggling of terminologies, we can call them objects.\r\n\r\nSo a variable can be considered a syntactic construct, while the object (what it refers to) is its semantic.\r\n\r\nIt&#39;s like in Math, you can say sin(x) is a function, but strictly speaking it is an expression. To be a function you also have to specify its domain, so sin(x) in this case is refering to the function x -&gt; sin(x) where x is a real number.","title":"Whats the distinction between objects and variables?","body":"<p>You are right that, strictly speaking, in the above example, we are declaring variables alex, linda, john that will hold reference to an object.</p>\n<p>But since they hold reference to an object, in a juggling of terminologies, we can call them objects.</p>\n<p>So a variable can be considered a syntactic construct, while the object (what it refers to) is its semantic.</p>\n<p>It's like in Math, you can say sin(x) is a function, but strictly speaking it is an expression. To be a function you also have to specify its domain, so sin(x) in this case is refering to the function x -&gt; sin(x) where x is a real number.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633480889,"creation_date":1633477287,"answer_id":69458349,"question_id":69458190,"body_markdown":"# Yes, reference variables\r\n\r\nYou are correct, `alex`, `linda`, and `john` are all [*reference variables*][1]. \r\n\r\nAll three are little containers that hold either nothing ([null][2]) or a [reference][3] ([pointer][4]) to an object setting in memory somewhere else. Those three variables do not *hold* an object, but they know how to get you *to* an object. \r\n\r\nGiven the syntax in Java, we tend to forget about this distinction. In our daily programming work, we usually think of `alex` as the object. We generally think:\r\n\r\n&gt;`alex` holds a `Person` object representing the human known as Alex \r\n\r\n… whereas the technical truth is: \r\n\r\n&gt;`alex` may hold a reference that can lead us to the chunk of memory elsewhere holding our `Person` object that we want to access\r\n\r\nIn a tutorial, it can be tiring and distracting to constantly refer to `alex` and `linda` as reference variables. So perhaps we should give the author of your tutorial some poetic license to call them objects.\r\n\r\n## Example code\r\n\r\nSome example code, using the [records][5] feature in Java 16+.\r\n\r\n```java\r\nrecord Person( String firstName , String lastName , Color favoriteColor ) { }\r\n\r\nPerson alex = new Person( &quot;Alex&quot; , &quot;Peterson&quot; , Color.MAGENTA );\r\nPerson linda = new Person( &quot;Linda&quot; , &quot;Greystone&quot; , Color.GREEN );\r\nPerson john = new Person( &quot;John&quot; , &quot;Petrov&quot; , Color.YELLOW );\r\n```\r\n\r\nEach call to `new Person` instantiates an object, that is, allocates a chunk of memory somewhere in RAM to hold our three member fields (state) along with handles to the executable code we think of as named methods (behavior). (For records, the compiler implicitly creates constructor, getters, `equals` &amp; `hashCode`, and `toString` methods. Plus, you can add more.)\r\n\r\nThe call to `new Person` returns a reference, essentially the address in memory where the new Person object/instance lives. We store that reference in the reference variable `alex` or `linda`.  We declared those variables as being references to hold objects of type `Person`. \r\n\r\n\r\n\r\n[![diagram of reference variables pointing to objects][6]][6]\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://en.wiktionary.org/wiki/reference_variable\r\n  [2]: https://en.wikipedia.org/wiki/Null_pointer\r\n  [3]: https://en.wikipedia.org/wiki/Reference_(computer_science)\r\n  [4]: https://en.wikipedia.org/wiki/Pointer_(computer_programming)\r\n  [5]: https://openjdk.java.net/jeps/395\r\n  [6]: https://i.stack.imgur.com/EqWXO.jpg","title":"Whats the distinction between objects and variables?","body":"<h1>Yes, reference variables</h1>\n<p>You are correct, <code>alex</code>, <code>linda</code>, and <code>john</code> are all <a href=\"https://en.wiktionary.org/wiki/reference_variable\" rel=\"nofollow noreferrer\"><em>reference variables</em></a>.</p>\n<p>All three are little containers that hold either nothing (<a href=\"https://en.wikipedia.org/wiki/Null_pointer\" rel=\"nofollow noreferrer\">null</a>) or a <a href=\"https://en.wikipedia.org/wiki/Reference_(computer_science)\" rel=\"nofollow noreferrer\">reference</a> (<a href=\"https://en.wikipedia.org/wiki/Pointer_(computer_programming)\" rel=\"nofollow noreferrer\">pointer</a>) to an object setting in memory somewhere else. Those three variables do not <em>hold</em> an object, but they know how to get you <em>to</em> an object.</p>\n<p>Given the syntax in Java, we tend to forget about this distinction. In our daily programming work, we usually think of <code>alex</code> as the object. We generally think:</p>\n<blockquote>\n<p><code>alex</code> holds a <code>Person</code> object representing the human known as Alex</p>\n</blockquote>\n<p>… whereas the technical truth is:</p>\n<blockquote>\n<p><code>alex</code> may hold a reference that can lead us to the chunk of memory elsewhere holding our <code>Person</code> object that we want to access</p>\n</blockquote>\n<p>In a tutorial, it can be tiring and distracting to constantly refer to <code>alex</code> and <code>linda</code> as reference variables. So perhaps we should give the author of your tutorial some poetic license to call them objects.</p>\n<h2>Example code</h2>\n<p>Some example code, using the <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature in Java 16+.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String firstName , String lastName , Color favoriteColor ) { }\n\nPerson alex = new Person( &quot;Alex&quot; , &quot;Peterson&quot; , Color.MAGENTA );\nPerson linda = new Person( &quot;Linda&quot; , &quot;Greystone&quot; , Color.GREEN );\nPerson john = new Person( &quot;John&quot; , &quot;Petrov&quot; , Color.YELLOW );\n</code></pre>\n<p>Each call to <code>new Person</code> instantiates an object, that is, allocates a chunk of memory somewhere in RAM to hold our three member fields (state) along with handles to the executable code we think of as named methods (behavior). (For records, the compiler implicitly creates constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code> methods. Plus, you can add more.)</p>\n<p>The call to <code>new Person</code> returns a reference, essentially the address in memory where the new Person object/instance lives. We store that reference in the reference variable <code>alex</code> or <code>linda</code>.  We declared those variables as being references to hold objects of type <code>Person</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/EqWXO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqWXO.jpg\" alt=\"diagram of reference variables pointing to objects\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20837029,"reputation":647,"user_id":15304670,"display_name":"Mahmoud Aly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633477793,"creation_date":1633477469,"answer_id":69458373,"question_id":69458190,"body_markdown":"- ```Employee```  is a class\r\n- ```alex``` is an object of the class ```Employee```\r\n- ```alex``` is an instance of the class ```Employee```\r\n- ```alex``` for the jvm is the variable of object that doesn&#39;t contains the object data.\r\n- ```alex``` is said to be an instance of ```Employee``` and an ```Employee``` object for simplicity.\r\n\r\n&gt; In Java, no variable can ever hold an object.\r\nA variable can only hold a reference to an object [1].\r\n\r\n&gt; Instead of holding an object itself, a variable holds the information necessary to find the object in memory. This information is called a reference or pointer to the object [1].\r\n\r\n&gt;  Object is not stored in the variable.The object is somewhere else; the variable points to it [1].\r\n\r\n[1] https://math.hws.edu/javanotes/c5/s1.html","title":"Whats the distinction between objects and variables?","body":"<ul>\n<li><code>Employee</code>  is a class</li>\n<li><code>alex</code> is an object of the class <code>Employee</code></li>\n<li><code>alex</code> is an instance of the class <code>Employee</code></li>\n<li><code>alex</code> for the jvm is the variable of object that doesn't contains the object data.</li>\n<li><code>alex</code> is said to be an instance of <code>Employee</code> and an <code>Employee</code> object for simplicity.</li>\n</ul>\n<blockquote>\n<p>In Java, no variable can ever hold an object.\nA variable can only hold a reference to an object [1].</p>\n</blockquote>\n<blockquote>\n<p>Instead of holding an object itself, a variable holds the information necessary to find the object in memory. This information is called a reference or pointer to the object [1].</p>\n</blockquote>\n<blockquote>\n<p>Object is not stored in the variable.The object is somewhere else; the variable points to it [1].</p>\n</blockquote>\n<p>[1] <a href=\"https://math.hws.edu/javanotes/c5/s1.html\" rel=\"nofollow noreferrer\">https://math.hws.edu/javanotes/c5/s1.html</a></p>\n"}],"owner":{"account_id":15134855,"reputation":93,"user_id":10921658,"display_name":"syclone"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1633478134,"answer_count":3,"score":0,"last_activity_date":1633480889,"creation_date":1633475608,"question_id":69458190,"body_markdown":"I have followed the java SE tutorial from [www.patrickvideos.com][1] and have come across a problem in the chapter about &quot;class &amp; object&quot;. The person making the tutorial gave the following code example:\r\n\r\n    Employee alex;\r\n    Employee linda;\r\n    Employee john;\r\n\r\nHe said explicitly that `&quot;alex, linda, john are what you call objects&quot;`. However, if i&#39;m not mistaken variables themselves can&#39;t be objects but simply hold references to objects or to an instance of a class. So are `alex, linda, john` objects or is it safe to assume that they are references to objects and that person is spreading misinformation?\r\n\r\n  [1]: https://www.patrickvideos.com/","title":"Whats the distinction between objects and variables?","body":"<p>I have followed the java SE tutorial from <a href=\"https://www.patrickvideos.com/\" rel=\"nofollow noreferrer\">www.patrickvideos.com</a> and have come across a problem in the chapter about &quot;class &amp; object&quot;. The person making the tutorial gave the following code example:</p>\n<pre><code>Employee alex;\nEmployee linda;\nEmployee john;\n</code></pre>\n<p>He said explicitly that <code>&quot;alex, linda, john are what you call objects&quot;</code>. However, if i'm not mistaken variables themselves can't be objects but simply hold references to objects or to an instance of a class. So are <code>alex, linda, john</code> objects or is it safe to assume that they are references to objects and that person is spreading misinformation?</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633478281,"creation_date":1633478281,"answer_id":69458448,"question_id":69458193,"body_markdown":"You need one more header.  Something like:\r\n\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=myspreadsheet.xls&quot;);\r\n","title":"How can I rename the response from an http request?","body":"<p>You need one more header.  Something like:</p>\n<pre><code>response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=myspreadsheet.xls&quot;);\n</code></pre>\n"}],"owner":{"account_id":1073114,"reputation":3335,"user_id":1071914,"accept_rate":86,"display_name":"user1071914"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69458448,"answer_count":1,"score":-1,"last_activity_date":1633478281,"creation_date":1633475662,"question_id":69458193,"body_markdown":"I have a relatively simple Java/Tomcat requirement but I can&#39;t figure out how to implement it.\r\n\r\nI have an HTTPS POST request into a specific server URL, call it `/myserver/somecontroller.do`.\r\n\r\nThe controller method correctly returns an Excel document with a mime type of `application/vnd.ms-excel`. \r\n\r\nThis all works fine.   The problem is that the response gets downloaded on the client computer with the name `somecontroller.do` instead of something that Excel understands, like `myspreadsheet.xls`.\r\n\r\nSo when the user clicks the file to open it, they get an ugly error message instead of the spreadsheet they were expecting, and I get a trouble ticket in my inbox.\r\n\r\nThey could rename the file, but the optimal solution is to have the system name the file correctly.\r\n\r\nHow can I modify the HTTPServletResponse parameters so that it understands it&#39;s sending a document called `myspreadsheet.xls` instead of `somecontroller.do`?   \r\n\r\nSome cleaned-up example code:\r\n\r\n    // Returns a spreadsheet, but it&#39;s called &quot;somethingelse.do&quot; instead of \r\n    // &quot;somethingelse.xls&quot;\r\n\r\n\r\n\t@RequestMapping(value=&quot;/something/somthingelse.do&quot;, method=RequestMethod.POST)\r\n\t\tpublic String doSomething(@ModelAttribute ReportModel reportModel, BindingResult bindResult,HttpServletResponse response,Model model) throws Exception{\r\n\t\tWorkbook reportObj = ReportService.generateExcel(ReportService.getReportData(reportModel.getReportParameters()));\r\n\t\tresponse.setContentType(&quot;application/vnd.ms-excel&quot;);\r\n\t\tOutputStream out = response.getOutputStream();\r\n\t\tHSSFWorkbook workbook = (HSSFWorkbook) reportObj;\r\n\t\tworkbook.write(out);\r\n\t\tout.flush();\r\n\t\treturn SomeViewMapping.VIEW_SOMETHING.getViewName();\r\n\t}\r\n\r\n\r\n","title":"How can I rename the response from an http request?","body":"<p>I have a relatively simple Java/Tomcat requirement but I can't figure out how to implement it.</p>\n<p>I have an HTTPS POST request into a specific server URL, call it <code>/myserver/somecontroller.do</code>.</p>\n<p>The controller method correctly returns an Excel document with a mime type of <code>application/vnd.ms-excel</code>.</p>\n<p>This all works fine.   The problem is that the response gets downloaded on the client computer with the name <code>somecontroller.do</code> instead of something that Excel understands, like <code>myspreadsheet.xls</code>.</p>\n<p>So when the user clicks the file to open it, they get an ugly error message instead of the spreadsheet they were expecting, and I get a trouble ticket in my inbox.</p>\n<p>They could rename the file, but the optimal solution is to have the system name the file correctly.</p>\n<p>How can I modify the HTTPServletResponse parameters so that it understands it's sending a document called <code>myspreadsheet.xls</code> instead of <code>somecontroller.do</code>?</p>\n<p>Some cleaned-up example code:</p>\n<pre><code>// Returns a spreadsheet, but it's called &quot;somethingelse.do&quot; instead of \n// &quot;somethingelse.xls&quot;\n\n\n@RequestMapping(value=&quot;/something/somthingelse.do&quot;, method=RequestMethod.POST)\n    public String doSomething(@ModelAttribute ReportModel reportModel, BindingResult bindResult,HttpServletResponse response,Model model) throws Exception{\n    Workbook reportObj = ReportService.generateExcel(ReportService.getReportData(reportModel.getReportParameters()));\n    response.setContentType(&quot;application/vnd.ms-excel&quot;);\n    OutputStream out = response.getOutputStream();\n    HSSFWorkbook workbook = (HSSFWorkbook) reportObj;\n    workbook.write(out);\n    out.flush();\n    return SomeViewMapping.VIEW_SOMETHING.getViewName();\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1526295729,"post_id":50328668,"comment_id":87673218,"body_markdown":"This looks like an SSL error, with the basic error being that an artifact could not be downloaded.  You should look into your connectivity with the artifact repository.","body":"This looks like an SSL error, with the basic error being that an artifact could not be downloaded.  You should look into your connectivity with the artifact repository."}],"answers":[{"tags":[],"owner":{"account_id":990193,"reputation":1190,"user_id":1007735,"accept_rate":60,"display_name":"jtsnr"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1551190188,"creation_date":1551190188,"answer_id":54887402,"question_id":50328668,"body_markdown":"Add the following to your mvn command:\r\n\r\n    -Dhttps.protocols=TLSv1.2","title":"Maven/Java build - SSL peer shut down incorrectly","body":"<p>Add the following to your mvn command:</p>\n\n<pre><code>-Dhttps.protocols=TLSv1.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918835,"reputation":11,"user_id":9342058,"display_name":"maixnor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624351991,"creation_date":1624351991,"answer_id":68080471,"question_id":50328668,"body_markdown":"This frequently happens to me at college where many devices access the maven servers at the same time. So many students are trying to access the dependencies, that the maven servers flag our IP-Addresses as a DOS attack and therefore refuse the connection. \r\n\r\nNormally after about 10 Minutes the flag has lifted, and you can access the dependencies again.\r\n\r\nIf you need the dependencies urgently, try switching your public IP Address (e.g. phone hotspot).\r\n\r\n\r\nAnother long-term solution would be to introduce an artifact store to the network which caches and distributes the dependencies locally and only downloads unknown versions or packages from the maven servers. Talk to your local system administrator about it. \r\n\r\n\r\nIf you are using docker containers in build pipelines then you will need an artifact store, otherwise builds will fail regularly bc of the DOS flag.","title":"Maven/Java build - SSL peer shut down incorrectly","body":"<p>This frequently happens to me at college where many devices access the maven servers at the same time. So many students are trying to access the dependencies, that the maven servers flag our IP-Addresses as a DOS attack and therefore refuse the connection.</p>\n<p>Normally after about 10 Minutes the flag has lifted, and you can access the dependencies again.</p>\n<p>If you need the dependencies urgently, try switching your public IP Address (e.g. phone hotspot).</p>\n<p>Another long-term solution would be to introduce an artifact store to the network which caches and distributes the dependencies locally and only downloads unknown versions or packages from the maven servers. Talk to your local system administrator about it.</p>\n<p>If you are using docker containers in build pipelines then you will need an artifact store, otherwise builds will fail regularly bc of the DOS flag.</p>\n"},{"tags":[],"owner":{"account_id":3236292,"reputation":896,"user_id":2730420,"display_name":"beaudet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633476768,"creation_date":1633371015,"answer_id":69440562,"question_id":50328668,"body_markdown":"I am receiving the same error when connected to my employer&#39;s VPN although I don&#39;t think it&#39;s traffic volume related, but rather an issue with TLS renegotiation where a TLS client is supposed to downgrade from TLS1.3 to TLS1.2 if both parties cannot agree on TLS1.3 terms.  I suspect it has something to do with our company&#39;s firewall configuration.  Regardless, as listed above, adding -Dhttps.protocols=TLSv1.2 fixes the problem when running mvn from the command line, e.g.\r\n\r\n    $ mvn -Dhttps.protocols=TLSv1.2 package\r\n\r\nIf you are executing maven through Eclipse, you can add this property as a parameter in the relevant maven run configuration.\r\n\r\n","title":"Maven/Java build - SSL peer shut down incorrectly","body":"<p>I am receiving the same error when connected to my employer's VPN although I don't think it's traffic volume related, but rather an issue with TLS renegotiation where a TLS client is supposed to downgrade from TLS1.3 to TLS1.2 if both parties cannot agree on TLS1.3 terms.  I suspect it has something to do with our company's firewall configuration.  Regardless, as listed above, adding -Dhttps.protocols=TLSv1.2 fixes the problem when running mvn from the command line, e.g.</p>\n<pre><code>$ mvn -Dhttps.protocols=TLSv1.2 package\n</code></pre>\n<p>If you are executing maven through Eclipse, you can add this property as a parameter in the relevant maven run configuration.</p>\n"}],"owner":{"account_id":450838,"reputation":35086,"user_id":846381,"accept_rate":49,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14645,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1633476768,"creation_date":1526295496,"question_id":50328668,"body_markdown":"I have the following error after debugging a maven download from nexus in jenkins.\r\n\r\nOpenssl works ok and the cert is a valid one issued by Amazon.\r\n\r\n```\r\nBasicRepositoryConnector-nexus.pmc.pearsonprd.tech-2-0, handling exception: javax.net.ssl.SSLException: SSL peer shut down incorrectly\r\n09:42:35 %% Invalidated:  [Session-2, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]\r\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\r\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, WRITE: TLSv1.2 Alert, length = 26\r\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, called closeSocket()\r\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, called close()\r\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, called closeInternal(true)\r\n09:42:35   \r\n```\r\n\r\nMaven failed with the following error.\r\n\r\n```\r\n09:42:35 [ERROR] Failed to execute goal on project hybris-package: Could not resolve dependencies for project com.sap:hybris-package:jar:1.0-SNAPSHOT: Could not transfer artifact com.sap.hybris:hybris-commerce-suite:zip:6.6.0.1 from/to thirdparty (https://nexus.tech/nexus/content/repositories/thirdparty): GET request of: com/sap/hybris/hybris-commerce-suite/6.6.0.1/hybris-commerce-suite-6.6.0.1.zip from thirdparty failed: SSL peer shut down incorrectly -&gt; [Help 1]\r\n```\r\n\r\nMy thought process is that its something to do with networking or Java related? Have you seen this before?","title":"Maven/Java build - SSL peer shut down incorrectly","body":"<p>I have the following error after debugging a maven download from nexus in jenkins.</p>\n\n<p>Openssl works ok and the cert is a valid one issued by Amazon.</p>\n\n<p><code>\nBasicRepositoryConnector-nexus.pmc.pearsonprd.tech-2-0, handling exception: javax.net.ssl.SSLException: SSL peer shut down incorrectly\n09:42:35 %% Invalidated:  [Session-2, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, WRITE: TLSv1.2 Alert, length = 26\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, called closeSocket()\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, called close()\n09:42:35 BasicRepositoryConnector-nexus.tech-2-0, called closeInternal(true)\n09:42:35\n</code></p>\n\n<p>Maven failed with the following error.</p>\n\n<p><code>\n09:42:35 [ERROR] Failed to execute goal on project hybris-package: Could not resolve dependencies for project com.sap:hybris-package:jar:1.0-SNAPSHOT: Could not transfer artifact com.sap.hybris:hybris-commerce-suite:zip:6.6.0.1 from/to thirdparty (https://nexus.tech/nexus/content/repositories/thirdparty): GET request of: com/sap/hybris/hybris-commerce-suite/6.6.0.1/hybris-commerce-suite-6.6.0.1.zip from thirdparty failed: SSL peer shut down incorrectly -&gt; [Help 1]\n</code></p>\n\n<p>My thought process is that its something to do with networking or Java related? Have you seen this before?</p>\n"},{"tags":["java","macos","maven","apache-spark","homebrew"],"answers":[{"tags":[],"owner":{"account_id":10620,"reputation":6817,"user_id":20146,"accept_rate":50,"display_name":"offby1"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633475812,"creation_date":1630523356,"answer_id":69019372,"question_id":69019371,"body_markdown":"## How I fixed it\r\nAt first I googled, and saw lots of people with this problem were using Java 16.  But I thought (incorrectly!) that I was using Java 11, because\r\n```\r\n:-) 2021-09-01T10:32:59-0700 $ java --version\r\nopenjdk 11.0.12 2021-07-20\r\nOpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)\r\n```\r\n\r\nBut I then thought to check further:\r\n```\r\nmvn --debug package\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\r\nJava version: 16.0.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/16.0.1/libexec/openjdk.jdk/Contents/Home\r\n```\r\n&quot;Aha!&quot; said I.\r\n\r\nSo I fixed it by\r\n- `brew uninstall maven`\r\n- going to [the maven page](https://maven.apache.org/install.html) and following the installation instructions.\r\n\r\n## Why did it work before?\r\n\r\nThe troublesome code only recently got some tests added, which happen to trigger some reflection stuff (sorry about being vague, I&#39;m new to Java :-) )\r\n```\r\nSparkSession.builder().appName(&quot;ANewUnitTest&quot;).master(&quot;local&quot;).getOrCreate()\r\n```\r\n","title":"Why am I seeing `java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible` on a mac","body":"<h2>How I fixed it</h2>\n<p>At first I googled, and saw lots of people with this problem were using Java 16.  But I thought (incorrectly!) that I was using Java 11, because</p>\n<pre><code>:-) 2021-09-01T10:32:59-0700 $ java --version\nopenjdk 11.0.12 2021-07-20\nOpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)\n</code></pre>\n<p>But I then thought to check further:</p>\n<pre><code>mvn --debug package\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\nJava version: 16.0.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/16.0.1/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<p>&quot;Aha!&quot; said I.</p>\n<p>So I fixed it by</p>\n<ul>\n<li><code>brew uninstall maven</code></li>\n<li>going to <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">the maven page</a> and following the installation instructions.</li>\n</ul>\n<h2>Why did it work before?</h2>\n<p>The troublesome code only recently got some tests added, which happen to trigger some reflection stuff (sorry about being vague, I'm new to Java :-) )</p>\n<pre><code>SparkSession.builder().appName(&quot;ANewUnitTest&quot;).master(&quot;local&quot;).getOrCreate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630675077,"creation_date":1630675077,"answer_id":69045586,"question_id":69019371,"body_markdown":"You can try to keep `mvn` from brew, but specify which version of Java you want to use using the `JAVA_HOME` environment variable:\r\n\r\n    % export JAVA_HOME=/usr/local/opt/openjdk@8\r\n    % mvn --debug\r\n    Apache Maven 3.8.2 (ea98e05a04480131370aa0c110b8c54cf726c06f)\r\n    Maven home: /usr/local/Cellar/maven/3.8.2/libexec\r\n    Java version: 1.8.0_302, vendor: Oracle Corporation, runtime: /usr/local/Cellar/openjdk@8/1.8.0+302/libexec/openjdk.jdk/Contents/Home/jre\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;11.5.2&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nYou should be good with either Java v8 and v11 and Spark. I don&#39;t know yet about more recent versions, according to https://spark.apache.org/docs/latest/.","title":"Why am I seeing `java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible` on a mac","body":"<p>You can try to keep <code>mvn</code> from brew, but specify which version of Java you want to use using the <code>JAVA_HOME</code> environment variable:</p>\n<pre><code>% export JAVA_HOME=/usr/local/opt/openjdk@8\n% mvn --debug\nApache Maven 3.8.2 (ea98e05a04480131370aa0c110b8c54cf726c06f)\nMaven home: /usr/local/Cellar/maven/3.8.2/libexec\nJava version: 1.8.0_302, vendor: Oracle Corporation, runtime: /usr/local/Cellar/openjdk@8/1.8.0+302/libexec/openjdk.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.5.2&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>You should be good with either Java v8 and v11 and Spark. I don't know yet about more recent versions, according to <a href=\"https://spark.apache.org/docs/latest/\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/</a>.</p>\n"}],"owner":{"account_id":10620,"reputation":6817,"user_id":20146,"accept_rate":50,"display_name":"offby1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6998,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1633475812,"creation_date":1630523356,"question_id":69019371,"body_markdown":"I&#39;ve been building code at work happily for days, but suddenly one of my projects (not all) fails with this error message.  See below for the answer!","title":"Why am I seeing `java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible` on a mac","body":"<p>I've been building code at work happily for days, but suddenly one of my projects (not all) fails with this error message.  See below for the answer!</p>\n"},{"tags":["java","javafx","package"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1633475815,"post_id":69443315,"comment_id":122768584,"body_markdown":"Replaced comments with an answer.","body":"Replaced comments with an answer."}],"answers":[{"tags":[],"owner":{"account_id":19036937,"reputation":1202,"user_id":13897851,"display_name":"Titouan L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633452233,"creation_date":1633452233,"answer_id":69454330,"question_id":69443315,"body_markdown":"So, after reinstalling Java multiple times, I found out that with [Java sdk 8](https://www.oracle.com/ca-fr/java/technologies/javase/javase8-archive-downloads.html) the code works fine, I must have made a mistake in the configuration.\r\n\r\nHowever, as stated in jewelsea&#39;s comments, these technologies are no longer supported, so it is not appropriate to continue a project using them.","title":"cannot find symbol BehaviorSkinBase (from javafx)","body":"<p>So, after reinstalling Java multiple times, I found out that with <a href=\"https://www.oracle.com/ca-fr/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">Java sdk 8</a> the code works fine, I must have made a mistake in the configuration.</p>\n<p>However, as stated in jewelsea's comments, these technologies are no longer supported, so it is not appropriate to continue a project using them.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633475793,"creation_date":1633475793,"answer_id":69458209,"question_id":69443315,"body_markdown":"**Use of internal `com.sun` APIs are not publicly supported in JavaFX**\r\n\r\n`BehaviorSkinBase` was `com.sun` api. \r\n\r\nIt was never supported as public API, so it could change without warning or deprecation (which it did). \r\n\r\nIt is best for any user application code to not rely on `BehaviorSkinBase`, or any other `com.sun` API. \r\n\r\n------\r\n\r\nThe above information is the actual answer to this question.\r\n\r\nThe information below is informational on JavaFX custom controls and implementation options, so can be ignored if not relevant to you at this time.\r\n\r\n**Implementation Options**\r\n\r\n&gt; Is there another way of doing this sort of customization if this class is definitely no longer usable?\r\n\r\nYes, there are multiple options, see the steps below.  \r\n\r\nThe decision of which approach is best for your application will depend on the amount of customization you wish to do, as well as your skill level and the amount of time you wish to expend on the effort.\r\n\r\n**How to re-write your custom slider**\r\n\r\n 1. Compare the custom slider to the standard JavaFX slider, if you can just use a standard slider instead of a custom one, then do so.\r\n\r\n 2. If the only changes in your custom slider are visual styling, perhaps providing some custom CSS to style the standard slider will suffice.\r\n\r\n 3. If the custom slider has a different node hierarchy from the standard slider, then likely just styling the standard slider won&#39;t cut it, you will need to create a custom skin.\r\n\r\n 4. If you need to create a custom skin, then see if you can subclass [SliderSkin][1], this will allow you to provide a different node hierarchy and completely different visuals for the Slider, while still retaining the public API for the [Slider][2] class.\r\n\r\n 5. If your custom slider requires a different public API from the slider class, then create a new Control subclass and a new Skin subclass (you are now creating a completely custom control from scratch).\r\n\r\nNote that custom controls are often good for a general-purpose control library, but, often, for a typical application are not needed because the application doesn&#39;t require the formality of the control interface and can instead define its UI using layout panes and collections of in-built controls integrated together using a controller and perhaps defined using FXML.  So most application code gets by with just step 1 or 2 of the above list (e.g. using a standard slider perhaps customized in look via CSS).\r\n  \r\n**Handling behaviors in your customized control**\r\n\r\nIf you used the existing slider skin it comes with its in-built behavior implementation which is internal and not public API but is likely sufficient for you and you are unlikely to need to change it.\r\n\r\nIf you had to create your own completely custom control, then it will not have a behavior implementation, so you will need to add your own from scratch.  The behavior implementation will be doing the keyboard and input handling for the control and maybe some other work.  \r\n\r\nIf it is a simple control with simple behavior, this will be as simple as attaching a few event handlers to the nodes in the control.  \r\n\r\nIf it is a complex control that has different key mappings for different platforms, then perhaps take a look at the internal behavior implementation in JavaFX to see how it implements behavior modeling and get some ideas from that (or copy-and-paste relevant stuff to your own app codebase), to help with implementing the behavior for your control.\r\n\r\n**Historical internal implementation link Behavior and Skin**\r\n\r\nSee [custom controls wiki change 4][3]. \r\n\r\n &gt; Change #4: SkinBase no longer has any public reference to Behavior API.\r\n\r\nThat was a change from JavaFX 2 to 8. Likely the code you are working with is based on a JavaFX version that is long obsolete. Read also about the skin at the same link, it might help you. \r\n\r\n\r\n**Background Info on Behaviors**\r\n\r\nIf you are curious, the current API behavior code is at: \r\n\r\n * https://github.com/openjdk/jfx/tree/fdc88341f1df8fb9c99356ada54b25124b77ea6e/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior.\r\n\r\nIt doesn&#39;t include BehaviorSkinBase as, long ago, the concepts of behaviors and skins were separated in JavaFX.  The behavior (as far as I understand it) is mainly for handling keyboard input mapping (though it likely can do other things too).  A lot of those input mappings are target platform-specific, so a different mapping might be used for a Mac user versus a PC user, which allows the keyboard input to conform to the standard keyboard usage for the target platform.  The behaviors (I believe) help handle those kinds of idiosyncrasies.\r\n\r\n**Background Info on Skins**\r\n\r\nThe skins represent the visual layout of a control.  The Control subclass defines the public API, and is often abstracted from the internal implementation of the Skin.  This allows you to define a control like a Spinner which might feature up and down arrows to change an integer value within a range on a PC, but on a touch device like an iOS, it might be implemented as a scrollable [rolodex][4] style.  The public control interface doesn&#39;t change, but different skin implementations are attached to the control for different platforms to allow a different look and feel depending on the target device.\r\n\r\nCustom controls that you create from scratch can extend the [Skin][5] interface to allow them to be skinnable as described above.  \r\n\r\nAlso, the Skins of all the in-built controls in the JavaFX platform are available as public API in the [javafx.scene.control.skin](https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/skin/package-summary.html) package.  So if you want to provide a new skin for an existing control, you can extend and override an existing skin implementation (which will be a lot easier than creating a custom control from scratch as long as the control you are customizing has functionality close to your desired control).\r\n\r\n**Background on Behavior/Skin Integration**\r\n\r\nInternally, the skins can reference behaviors for additional customization, e.g. different key accelerator input maps for different platforms as previously discussed.  \r\n\r\nThe JavaFX platform implements an internal behavior framework and system to support the public API controls in the core platform.  That behavior framework is completely private API though (in `com.sun`) classes, and so is subject to change without notice.  \r\n\r\nYou should never write code that depends on `com.sun` classes from the JavaFX framework, as the next time the framework is released for a new feature or bug fix, it could break your code, unlike the public API which is stable and provides advance notice of any deprecated features.\r\n\r\nSo not relying on the internal behavior framework in JavaFX is probably a good thing.  You can, however, implement your own behaviors for your custom controls if you need them.  To do so, you could look at the implementation in the openjfx source for the in-built controls and emulate the pieces you wish (either through copy-and-paste of private API to new classes in your project or by implementing the input behaviors for your custom controls from scratch).  \r\n\r\nNote that if your custom control is just a grouping of in-built core controls from the JavaFX platform or a subclass of one of those controls, then it will inherit the default behaviors of those controls.  Often this will be sufficient and you will not need to code your own behaviors.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/skin/SliderSkin.html\r\n  [2]: https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/Slider.html\r\n  [3]: https://wiki.openjdk.java.net/display/OpenJFX/UI+Controls+Architecture\r\n  [4]: https://en.wikipedia.org/wiki/Rolodex\r\n  [5]: https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/Skin.html","title":"cannot find symbol BehaviorSkinBase (from javafx)","body":"<p><strong>Use of internal <code>com.sun</code> APIs are not publicly supported in JavaFX</strong></p>\n<p><code>BehaviorSkinBase</code> was <code>com.sun</code> api.</p>\n<p>It was never supported as public API, so it could change without warning or deprecation (which it did).</p>\n<p>It is best for any user application code to not rely on <code>BehaviorSkinBase</code>, or any other <code>com.sun</code> API.</p>\n<hr />\n<p>The above information is the actual answer to this question.</p>\n<p>The information below is informational on JavaFX custom controls and implementation options, so can be ignored if not relevant to you at this time.</p>\n<p><strong>Implementation Options</strong></p>\n<blockquote>\n<p>Is there another way of doing this sort of customization if this class is definitely no longer usable?</p>\n</blockquote>\n<p>Yes, there are multiple options, see the steps below.</p>\n<p>The decision of which approach is best for your application will depend on the amount of customization you wish to do, as well as your skill level and the amount of time you wish to expend on the effort.</p>\n<p><strong>How to re-write your custom slider</strong></p>\n<ol>\n<li><p>Compare the custom slider to the standard JavaFX slider, if you can just use a standard slider instead of a custom one, then do so.</p>\n</li>\n<li><p>If the only changes in your custom slider are visual styling, perhaps providing some custom CSS to style the standard slider will suffice.</p>\n</li>\n<li><p>If the custom slider has a different node hierarchy from the standard slider, then likely just styling the standard slider won't cut it, you will need to create a custom skin.</p>\n</li>\n<li><p>If you need to create a custom skin, then see if you can subclass <a href=\"https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/skin/SliderSkin.html\" rel=\"nofollow noreferrer\">SliderSkin</a>, this will allow you to provide a different node hierarchy and completely different visuals for the Slider, while still retaining the public API for the <a href=\"https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/Slider.html\" rel=\"nofollow noreferrer\">Slider</a> class.</p>\n</li>\n<li><p>If your custom slider requires a different public API from the slider class, then create a new Control subclass and a new Skin subclass (you are now creating a completely custom control from scratch).</p>\n</li>\n</ol>\n<p>Note that custom controls are often good for a general-purpose control library, but, often, for a typical application are not needed because the application doesn't require the formality of the control interface and can instead define its UI using layout panes and collections of in-built controls integrated together using a controller and perhaps defined using FXML.  So most application code gets by with just step 1 or 2 of the above list (e.g. using a standard slider perhaps customized in look via CSS).</p>\n<p><strong>Handling behaviors in your customized control</strong></p>\n<p>If you used the existing slider skin it comes with its in-built behavior implementation which is internal and not public API but is likely sufficient for you and you are unlikely to need to change it.</p>\n<p>If you had to create your own completely custom control, then it will not have a behavior implementation, so you will need to add your own from scratch.  The behavior implementation will be doing the keyboard and input handling for the control and maybe some other work.</p>\n<p>If it is a simple control with simple behavior, this will be as simple as attaching a few event handlers to the nodes in the control.</p>\n<p>If it is a complex control that has different key mappings for different platforms, then perhaps take a look at the internal behavior implementation in JavaFX to see how it implements behavior modeling and get some ideas from that (or copy-and-paste relevant stuff to your own app codebase), to help with implementing the behavior for your control.</p>\n<p><strong>Historical internal implementation link Behavior and Skin</strong></p>\n<p>See <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/UI+Controls+Architecture\" rel=\"nofollow noreferrer\">custom controls wiki change 4</a>.</p>\n<blockquote>\n<p>Change #4: SkinBase no longer has any public reference to Behavior API.</p>\n</blockquote>\n<p>That was a change from JavaFX 2 to 8. Likely the code you are working with is based on a JavaFX version that is long obsolete. Read also about the skin at the same link, it might help you.</p>\n<p><strong>Background Info on Behaviors</strong></p>\n<p>If you are curious, the current API behavior code is at:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jfx/tree/fdc88341f1df8fb9c99356ada54b25124b77ea6e/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx/tree/fdc88341f1df8fb9c99356ada54b25124b77ea6e/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior</a>.</li>\n</ul>\n<p>It doesn't include BehaviorSkinBase as, long ago, the concepts of behaviors and skins were separated in JavaFX.  The behavior (as far as I understand it) is mainly for handling keyboard input mapping (though it likely can do other things too).  A lot of those input mappings are target platform-specific, so a different mapping might be used for a Mac user versus a PC user, which allows the keyboard input to conform to the standard keyboard usage for the target platform.  The behaviors (I believe) help handle those kinds of idiosyncrasies.</p>\n<p><strong>Background Info on Skins</strong></p>\n<p>The skins represent the visual layout of a control.  The Control subclass defines the public API, and is often abstracted from the internal implementation of the Skin.  This allows you to define a control like a Spinner which might feature up and down arrows to change an integer value within a range on a PC, but on a touch device like an iOS, it might be implemented as a scrollable <a href=\"https://en.wikipedia.org/wiki/Rolodex\" rel=\"nofollow noreferrer\">rolodex</a> style.  The public control interface doesn't change, but different skin implementations are attached to the control for different platforms to allow a different look and feel depending on the target device.</p>\n<p>Custom controls that you create from scratch can extend the <a href=\"https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/Skin.html\" rel=\"nofollow noreferrer\">Skin</a> interface to allow them to be skinnable as described above.</p>\n<p>Also, the Skins of all the in-built controls in the JavaFX platform are available as public API in the <a href=\"https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/skin/package-summary.html\" rel=\"nofollow noreferrer\">javafx.scene.control.skin</a> package.  So if you want to provide a new skin for an existing control, you can extend and override an existing skin implementation (which will be a lot easier than creating a custom control from scratch as long as the control you are customizing has functionality close to your desired control).</p>\n<p><strong>Background on Behavior/Skin Integration</strong></p>\n<p>Internally, the skins can reference behaviors for additional customization, e.g. different key accelerator input maps for different platforms as previously discussed.</p>\n<p>The JavaFX platform implements an internal behavior framework and system to support the public API controls in the core platform.  That behavior framework is completely private API though (in <code>com.sun</code>) classes, and so is subject to change without notice.</p>\n<p>You should never write code that depends on <code>com.sun</code> classes from the JavaFX framework, as the next time the framework is released for a new feature or bug fix, it could break your code, unlike the public API which is stable and provides advance notice of any deprecated features.</p>\n<p>So not relying on the internal behavior framework in JavaFX is probably a good thing.  You can, however, implement your own behaviors for your custom controls if you need them.  To do so, you could look at the implementation in the openjfx source for the in-built controls and emulate the pieces you wish (either through copy-and-paste of private API to new classes in your project or by implementing the input behaviors for your custom controls from scratch).</p>\n<p>Note that if your custom control is just a grouping of in-built core controls from the JavaFX platform or a subclass of one of those controls, then it will inherit the default behaviors of those controls.  Often this will be sufficient and you will not need to code your own behaviors.</p>\n"}],"owner":{"account_id":19036937,"reputation":1202,"user_id":13897851,"display_name":"Titouan L"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69458209,"answer_count":2,"score":1,"last_activity_date":1633475793,"creation_date":1633389659,"question_id":69443315,"body_markdown":"In a javafx project I forked, the class `BehaviorSkinBase` from the package `com.sun.javafx.scene.control.skin` is used. This is an old project so I expected some code to be deprecated but this class doesnt appear in the [deprecated list](https://openjfx.io/javadoc/17/deprecated-list.html). \r\n\r\nOn [this website](https://jalbum.net/api/net/jalbum/control/mediaslider/skin/BehaviorSkinBase.html), I found the entire documentation about the missing class, but there is no source code or javafx version. \r\n\r\nI tried to build the project with multiple version of javafx from the official [website](https://gluonhq.com/products/javafx/) but none of them solved the problem.\r\n\r\nThis class is used in order to define a custom slider with other javafx class.\r\n```\r\npublic class CustomSliderSkin extends BehaviorSkinBase&lt;Slider, SliderBehavior&gt;\r\n```\r\n\r\nIs there another way of doing this sort of customization if this class is definitely no longer usable ?","title":"cannot find symbol BehaviorSkinBase (from javafx)","body":"<p>In a javafx project I forked, the class <code>BehaviorSkinBase</code> from the package <code>com.sun.javafx.scene.control.skin</code> is used. This is an old project so I expected some code to be deprecated but this class doesnt appear in the <a href=\"https://openjfx.io/javadoc/17/deprecated-list.html\" rel=\"nofollow noreferrer\">deprecated list</a>.</p>\n<p>On <a href=\"https://jalbum.net/api/net/jalbum/control/mediaslider/skin/BehaviorSkinBase.html\" rel=\"nofollow noreferrer\">this website</a>, I found the entire documentation about the missing class, but there is no source code or javafx version.</p>\n<p>I tried to build the project with multiple version of javafx from the official <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">website</a> but none of them solved the problem.</p>\n<p>This class is used in order to define a custom slider with other javafx class.</p>\n<pre><code>public class CustomSliderSkin extends BehaviorSkinBase&lt;Slider, SliderBehavior&gt;\n</code></pre>\n<p>Is there another way of doing this sort of customization if this class is definitely no longer usable ?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1633418075,"post_id":69446232,"comment_id":122747150,"body_markdown":"What is the problem?","body":"What is the problem?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633477372,"post_id":69446232,"comment_id":122768814,"body_markdown":"You can&#39;t do it with a Stream, as you can&#39;t see two lines at once, unless you devise a `Collector`.","body":"You can&#39;t do it with a Stream, as you can&#39;t see two lines at once, unless you devise a <code>Collector</code>."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633419492,"creation_date":1633419125,"answer_id":69446429,"question_id":69446232,"body_markdown":"I would change the whole code to a non `forEach` loop like this (taking into consideration that the next line **will** have the request body!)\r\n\r\n```java\r\ntry(BufferedReader br = new BufferedReader(fileReader))\r\n{\r\n\tfor(String line = br.readLine(); line != null; line = br.readLine())\r\n\t{\r\n\t\tif (line.contains(&quot;Inside /buyairtime&quot;))\r\n\t\t{\r\n\t\t\tString[] item = line.split(&quot;\\\\|&quot;);\r\n\t\t\tString AppSessionId = item[1].trim();\r\n\t\t\tlogger.info(&quot;SessionId =&quot; + sessionId + &quot; AppSessionId =&quot; + AppSessionId);\r\n\r\n\t\t\tline = br.readLine(); // Jump to the next line\r\n\t\t\tif (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;requestBody&quot;))\r\n\t\t\t{\r\n\t\t\t\tString[] request = line.split(&quot;\\\\|&quot;);\r\n\t\t\t\tString requestBody = request[2].replace(&quot;#&quot;, &quot;&quot;).trim(); // Replace everything and get only the request body...\r\n\t\t\t\tlogger.info(&quot;SessionId =&quot; + sessionId + &quot; requestBody =&quot; + requestBody);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n} catch (IOException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nAs you can see, I jump into the next line to get the ReqBody, your logic was not correct before, since you supposed to read the both lines at the same time.","title":"Read a log file line by line","body":"<p>I would change the whole code to a non <code>forEach</code> loop like this (taking into consideration that the next line <strong>will</strong> have the request body!)</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(BufferedReader br = new BufferedReader(fileReader))\n{\n    for(String line = br.readLine(); line != null; line = br.readLine())\n    {\n        if (line.contains(&quot;Inside /buyairtime&quot;))\n        {\n            String[] item = line.split(&quot;\\\\|&quot;);\n            String AppSessionId = item[1].trim();\n            logger.info(&quot;SessionId =&quot; + sessionId + &quot; AppSessionId =&quot; + AppSessionId);\n\n            line = br.readLine(); // Jump to the next line\n            if (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;requestBody&quot;))\n            {\n                String[] request = line.split(&quot;\\\\|&quot;);\n                String requestBody = request[2].replace(&quot;#&quot;, &quot;&quot;).trim(); // Replace everything and get only the request body...\n                logger.info(&quot;SessionId =&quot; + sessionId + &quot; requestBody =&quot; + requestBody);\n            }\n        }\n    }\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>As you can see, I jump into the next line to get the ReqBody, your logic was not correct before, since you supposed to read the both lines at the same time.</p>\n"}],"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69446429,"answer_count":1,"score":1,"last_activity_date":1633473974,"creation_date":1633417947,"question_id":69446232,"body_markdown":"I am trying to read a file line by line and look out for lines that contain the string &quot;Inside /buyairtime&quot; in it, then get the AppSessionId from that line, after that use the AppSessionId to get the requestBody that should be in the next line and retrieve the transactionId.\r\n\r\nI am able to read the file and get the AppSessionId but I am not able to get the &quot;requestBody&quot;, please any help will be appreciated.\r\n\r\nhere is what I have tried.\r\n```java\r\ntry(BufferedReader br = new BufferedReader(fileReader)) {\r\n\tbr.lines().forEach((line) -&gt; {\r\n\r\n\t\tif (line.contains(&quot;Inside /buyairtime&quot;)) {\r\n\t\t\tString[] item = line.split(&quot;\\\\|&quot;);\r\n\t\t\tString AppSessionId = item[1].trim();\r\n\t\t\tlogger.info(&quot;SessionId =&quot; + sessionId + &quot; AppSessionId =&quot; + AppSessionId);\r\n\r\n\t\t\tif (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;requestBody&quot;)) {\r\n\t\t\t\tString[] request = line.split(&quot;\\\\|&quot;);\r\n\t\t\t\tString requestBody = request[2].replace(&quot;#&quot;, &quot;&quot;).trim();\r\n\t\t\t\tlogger.info(&quot;SessionId =&quot; + sessionId + &quot; requestBody =&quot; + requestBody);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n} catch (IOException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\nEx: here is an example of lines to read\r\n\r\n```\r\n[http-nio-8090-exec-66] g.c.v.M.controller.ApiController         : AppSessionId | MB-9672588DE0304D7 | ######## Inside /buyairtime Route\r\n\r\ng.c.v.M.controller.ApiController         : AppSessionId | MB-9672588DE0304D7 | ######## requestBody = {&quot;amount&quot;:&quot;4.0&quot;,&quot;msisdn&quot;:&quot;233200906179&quot;,&quot;transactionid&quot;:&quot;0000001853861312&quot;}\r\n\r\ng.c.v.M.controller.ApiController         : AppSessionId | MB-9672588DE0304D7 | ######## Client IP = 127.0.0.1\r\n```\r\n\r\n  here is an [image][1] of the part of the file\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r9w7t.jpg\r\n\r\n\r\n  [1]: https://","title":"Read a log file line by line","body":"<p>I am trying to read a file line by line and look out for lines that contain the string &quot;Inside /buyairtime&quot; in it, then get the AppSessionId from that line, after that use the AppSessionId to get the requestBody that should be in the next line and retrieve the transactionId.</p>\n<p>I am able to read the file and get the AppSessionId but I am not able to get the &quot;requestBody&quot;, please any help will be appreciated.</p>\n<p>here is what I have tried.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(BufferedReader br = new BufferedReader(fileReader)) {\n    br.lines().forEach((line) -&gt; {\n\n        if (line.contains(&quot;Inside /buyairtime&quot;)) {\n            String[] item = line.split(&quot;\\\\|&quot;);\n            String AppSessionId = item[1].trim();\n            logger.info(&quot;SessionId =&quot; + sessionId + &quot; AppSessionId =&quot; + AppSessionId);\n\n            if (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;requestBody&quot;)) {\n                String[] request = line.split(&quot;\\\\|&quot;);\n                String requestBody = request[2].replace(&quot;#&quot;, &quot;&quot;).trim();\n                logger.info(&quot;SessionId =&quot; + sessionId + &quot; requestBody =&quot; + requestBody);\n            }\n        }\n    });\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Ex: here is an example of lines to read</p>\n<pre><code>[http-nio-8090-exec-66] g.c.v.M.controller.ApiController         : AppSessionId | MB-9672588DE0304D7 | ######## Inside /buyairtime Route\n\ng.c.v.M.controller.ApiController         : AppSessionId | MB-9672588DE0304D7 | ######## requestBody = {&quot;amount&quot;:&quot;4.0&quot;,&quot;msisdn&quot;:&quot;233200906179&quot;,&quot;transactionid&quot;:&quot;0000001853861312&quot;}\n\ng.c.v.M.controller.ApiController         : AppSessionId | MB-9672588DE0304D7 | ######## Client IP = 127.0.0.1\n</code></pre>\n<p>here is an <a href=\"https://i.stack.imgur.com/r9w7t.jpg\" rel=\"nofollow noreferrer\">image</a> of the part of the file</p>\n"},{"tags":["java","try-catch-finally"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1633457145,"post_id":69455275,"comment_id":122763426,"body_markdown":"Why do you need to close it in the `finally` block if you&#39;re using try with resources?","body":"Why do you need to close it in the <code>finally</code> block if you&#39;re using try with resources?"},{"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"score":0,"creation_date":1633457475,"post_id":69455275,"comment_id":122763555,"body_markdown":"Because inside the code could be some exceptions, I&#39;m using the client inside the main try, but I need to close the connection at the end of whole process.","body":"Because inside the code could be some exceptions, I&#39;m using the client inside the main try, but I need to close the connection at the end of whole process."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1633457915,"post_id":69455275,"comment_id":122763658,"body_markdown":"@YuCheng Please post that as an answer and delete the comment.","body":"@YuCheng Please post that as an answer and delete the comment."}],"answers":[{"tags":[],"owner":{"account_id":3095876,"reputation":131,"user_id":2621070,"display_name":"Yu Cheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633458521,"creation_date":1633457955,"answer_id":69455443,"question_id":69455275,"body_markdown":"The object in try(...) must implement `AutoClosable` and that object will be automatically closed whether or not an exception happens. You don&#39;t need the finally block at all.\r\n\r\nIf the object does not implement `AutoClosable`, you can fall back to the old try-catch-finally block as\r\n```\r\nDockerClient client = null;\r\ntry {\r\n  //some code here\r\n  client = DefaultDockerClient.fromEnv().connectTimeoutMillis(TimeUnit.SECONDS.toMillis(3)).build();\r\n} catch (DockerCertificateException e) {\r\n  log.warn(&quot;Failed to connect Docker Client {}&quot;, e.getMessage());\r\n} finally {\r\n  if (client != null) client.close();        \r\n}\r\n```\r\n\r\nThis is called the Java try-with-resources block. You can see an example that compares normal try-catch-finally block with the try-with-resources block here: https://www.baeldung.com/java-try-with-resources#replacing","title":"Close a resource in a Finally block from a try catch with resources","body":"<p>The object in try(...) must implement <code>AutoClosable</code> and that object will be automatically closed whether or not an exception happens. You don't need the finally block at all.</p>\n<p>If the object does not implement <code>AutoClosable</code>, you can fall back to the old try-catch-finally block as</p>\n<pre><code>DockerClient client = null;\ntry {\n  //some code here\n  client = DefaultDockerClient.fromEnv().connectTimeoutMillis(TimeUnit.SECONDS.toMillis(3)).build();\n} catch (DockerCertificateException e) {\n  log.warn(&quot;Failed to connect Docker Client {}&quot;, e.getMessage());\n} finally {\n  if (client != null) client.close();        \n}\n</code></pre>\n<p>This is called the Java try-with-resources block. You can see an example that compares normal try-catch-finally block with the try-with-resources block here: <a href=\"https://www.baeldung.com/java-try-with-resources#replacing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-try-with-resources#replacing</a></p>\n"},{"tags":[],"owner":{"account_id":22951053,"reputation":175,"user_id":17082325,"display_name":"iggi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633459932,"creation_date":1633459932,"answer_id":69455817,"question_id":69455275,"body_markdown":"Client will be closed, cause you are using try-with-resources (when you open resourse in `try(resource definition)`), which closes resource after try block automatically, you don`t need to write finally block.","title":"Close a resource in a Finally block from a try catch with resources","body":"<p>Client will be closed, cause you are using try-with-resources (when you open resourse in <code>try(resource definition)</code>), which closes resource after try block automatically, you don`t need to write finally block.</p>\n"}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69455817,"answer_count":2,"score":-1,"last_activity_date":1633473917,"creation_date":1633457086,"question_id":69455275,"body_markdown":"I have in my code the next:\r\n\r\n```java\r\ntry (DockerClient client = DefaultDockerClient.fromEnv().connectTimeoutMillis(TimeUnit.SECONDS.toMillis(3)).build()) {\r\n    //some code here\r\n}catch (DockerCertificateException e) {\r\n    log.warn(&quot;Failed to connect Docker Client {}&quot;, e.getMessage());\r\n}\r\nfinally {\r\n\r\n}\r\n```\r\nI need to close the client in the final block, but I can&#39;t because I&#39;m getting an error (Cannot resolve symbol client).\r\n\r\nIs there any way to close this client in the final block?","title":"Close a resource in a Finally block from a try catch with resources","body":"<p>I have in my code the next:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (DockerClient client = DefaultDockerClient.fromEnv().connectTimeoutMillis(TimeUnit.SECONDS.toMillis(3)).build()) {\n    //some code here\n}catch (DockerCertificateException e) {\n    log.warn(&quot;Failed to connect Docker Client {}&quot;, e.getMessage());\n}\nfinally {\n\n}\n</code></pre>\n<p>I need to close the client in the final block, but I can't because I'm getting an error (Cannot resolve symbol client).</p>\n<p>Is there any way to close this client in the final block?</p>\n"},{"tags":["java","jpa","java-8","spring-data-jpa"],"comments":[{"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"score":0,"creation_date":1553404879,"post_id":55320772,"comment_id":97368583,"body_markdown":"https://stackoverflow.com/questions/5360795/what-is-the-difference-between-unidirectional-and-bidirectional-jpa-and-hibernat","body":"<a href=\"https://stackoverflow.com/questions/5360795/what-is-the-difference-between-unidirectional-and-bidirectional-jpa-and-hibernat\" title=\"what is the difference between unidirectional and bidirectional jpa and hibernat\">stackoverflow.com/questions/5360795/&hellip;</a>"},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1553405802,"post_id":55320772,"comment_id":97368723,"body_markdown":"Possible duplicate of [What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?](https://stackoverflow.com/questions/5360795/what-is-the-difference-between-unidirectional-and-bidirectional-jpa-and-hibernat)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5360795/what-is-the-difference-between-unidirectional-and-bidirectional-jpa-and-hibernat\">What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4897516,"reputation":123,"user_id":3946611,"display_name":"deepak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553405853,"creation_date":1553405853,"answer_id":55321033,"question_id":55320772,"body_markdown":"```fetch and cascade``` options can be defined on both sides. If its defined only on one side that it won&#39;t have any impact when the other side object is fetched. e.g. If eager fetch is set for courses in Department class but not in Course class then, if a select query is made on department then, it will fetch all its courses along with it But if a select query is made on course then, it won&#39;t fetch its associated department unless explicitly called out in query.\r\n\r\nSame goes for cascade option. Thus, its definition on either side depends on the kind of queries which are required to be made. If there are going to be a lot of queries on department which needs all the courses information every time but its not the same for fetching a course then, fetch option should be defined only in Department class for courses.\r\n\r\nBi-directional association is good but with additional update in your code for efficient queries i.e. ```use JoinColumn with @ManyToOne association``` so that additional association mapping information between two entities doesn&#39;t have to be maintained on code side.","title":"When we using relationship One To Many two side and when we using it one side","body":"<p><code>fetch and cascade</code> options can be defined on both sides. If its defined only on one side that it won't have any impact when the other side object is fetched. e.g. If eager fetch is set for courses in Department class but not in Course class then, if a select query is made on department then, it will fetch all its courses along with it But if a select query is made on course then, it won't fetch its associated department unless explicitly called out in query.</p>\n\n<p>Same goes for cascade option. Thus, its definition on either side depends on the kind of queries which are required to be made. If there are going to be a lot of queries on department which needs all the courses information every time but its not the same for fetching a course then, fetch option should be defined only in Department class for courses.</p>\n\n<p>Bi-directional association is good but with additional update in your code for efficient queries i.e. <code>use JoinColumn with @ManyToOne association</code> so that additional association mapping information between two entities doesn't have to be maintained on code side.</p>\n"}],"owner":{"account_id":15421034,"reputation":1,"user_id":11125062,"display_name":"Trungtbdnvn11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633473826,"creation_date":1553402180,"question_id":55320772,"body_markdown":"I have read some code describing relationship of two entities on both sides which look like following: \r\n\r\n    public class Department {\r\n        @OneToMany(mappedBy = &quot;department&quot;,fetch = FetchType.EAGER , cascade = CascadeType.ALL)\r\n        private List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    public class Course {\r\n     @ManyToOne\r\n        private Department department;\r\n    }\r\n\r\nThere are two scenarios: When I use relationship annotation on both sides(&quot;on both tables Department and Course &quot;)  with One-To-Many relationship and When i only use on one side(&quot;only table Derpartment). Scenario is similar for Many-To-Many relationship as well.\r\n\r\nMy question: Should **&quot;fetch = FetchType.EAGER , cascade = CascadeType.ALL&quot;** be defined only on one side or both sides in the above mentioned scenarios ? ","title":"When we using relationship One To Many two side and when we using it one side","body":"<p>I have read some code describing relationship of two entities on both sides which look like following: </p>\n\n<pre><code>public class Department {\n    @OneToMany(mappedBy = \"department\",fetch = FetchType.EAGER , cascade = CascadeType.ALL)\n    private List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\n}\n\npublic class Course {\n @ManyToOne\n    private Department department;\n}\n</code></pre>\n\n<p>There are two scenarios: When I use relationship annotation on both sides(\"on both tables Department and Course \")  with One-To-Many relationship and When i only use on one side(\"only table Derpartment). Scenario is similar for Many-To-Many relationship as well.</p>\n\n<p>My question: Should <strong>\"fetch = FetchType.EAGER , cascade = CascadeType.ALL\"</strong> be defined only on one side or both sides in the above mentioned scenarios ? </p>\n"},{"tags":["java","spring-boot","maven","github","repository"],"comments":[{"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"score":0,"creation_date":1633006161,"post_id":69344772,"comment_id":122650361,"body_markdown":"it&#39;s really not recommended to post your passwords in your questions (or anywhere)","body":"it&#39;s really not recommended to post your passwords in your questions (or anywhere)"},{"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"score":0,"creation_date":1633007913,"post_id":69344772,"comment_id":122651159,"body_markdown":"@MorBlau really appreciate the suggestion. The password is not correct it&#39;s truncated so I think it&#39;s safe with a wrong password.","body":"@MorBlau really appreciate the suggestion. The password is not correct it&#39;s truncated so I think it&#39;s safe with a wrong password."}],"answers":[{"tags":[],"owner":{"account_id":258298,"reputation":5582,"user_id":540380,"display_name":"FrankyFred"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633473733,"creation_date":1632917255,"answer_id":69376076,"question_id":69344772,"body_markdown":"As mentioned in this issue [Publishing GitHub Packages returns 422 error][1]   \r\nthe cause appears to be the name of your maven artifact, it must be lowercase.\r\n\r\nIn your `pom.xml`, use for example `&lt;artifactId&gt;security-springboot-contracts&lt;/artifactId&gt;` instead of `&lt;artifactId&gt;SecuritySpringBootContracts&lt;/artifactId&gt;` \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64322121/publishing-github-packages-returns-422-error","title":"Publish Maven project to Github Package","body":"<p>As mentioned in this issue <a href=\"https://stackoverflow.com/questions/64322121/publishing-github-packages-returns-422-error\">Publishing GitHub Packages returns 422 error</a><br />\nthe cause appears to be the name of your maven artifact, it must be lowercase.</p>\n<p>In your <code>pom.xml</code>, use for example <code>&lt;artifactId&gt;security-springboot-contracts&lt;/artifactId&gt;</code> instead of <code>&lt;artifactId&gt;SecuritySpringBootContracts&lt;/artifactId&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633016460,"creation_date":1633016460,"answer_id":69395158,"question_id":69344772,"body_markdown":"The snapshot version which got created during startup of an application is wrong, it should be similar to like 0.0.1-SNAPSHOT\r\n\r\nEx: &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; or  &lt;version&gt;0.0.3-SNAPSHOT&lt;/version&gt;\r\n\r\nin your case it got created with &lt;version&gt;0.0.3&lt;/version&gt; \r\n","title":"Publish Maven project to Github Package","body":"<p>The snapshot version which got created during startup of an application is wrong, it should be similar to like 0.0.1-SNAPSHOT</p>\n<p>Ex: 0.0.1-SNAPSHOT or  0.0.3-SNAPSHOT</p>\n<p>in your case it got created with 0.0.3</p>\n"}],"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69376076,"answer_count":2,"score":2,"last_activity_date":1633473733,"creation_date":1632736954,"question_id":69344772,"body_markdown":"**Objective**\r\n\r\nPublish private maven project to GitHub packages as a private repo for use in other projects.\r\n\r\n**Getting Error**\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project SecuritySpringBootContracts: Failed to deploy artifacts: Could not transfer artifact com.sagar:SecuritySpringBootContracts:jar:0.0.3 from/to contracts (https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts): transfer failed for https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts/com/sagar/SecuritySpringBootContracts/0.0.3/SecuritySpringBootContracts-0.0.3.jar, status: 422 Unprocessable Entity\r\n\r\n**My private repository in GitHub**\r\n\r\nhttps://github.com/sagarnayak/SecuritySpringBootContracts\r\n\r\n**My code**\r\n\r\nSettings.xml in **C:\\Users\\SAGAR\\ .m2**\r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n\r\n    &lt;activeProfiles&gt;\r\n        &lt;activeProfile&gt;github&lt;/activeProfile&gt;\r\n    &lt;/activeProfiles&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;github&lt;/id&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;contracts&lt;/id&gt;\r\n                    &lt;url&gt;https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;contracts&lt;/id&gt;\r\n            &lt;username&gt;sagarnayak&lt;/username&gt;\r\n            &lt;password&gt;ghp_WRGrhj380s8vikAcZMp4j1z02&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n\r\npom.xml\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.sagar&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;SecuritySpringBootContracts&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.3&lt;/version&gt;\r\n\t\t&lt;name&gt;SecuritySpringBootContracts&lt;/name&gt;\r\n\t\t&lt;description&gt;SecuritySpringBootContracts&lt;/description&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t\t&lt;kotlin.version&gt;1.5.31&lt;/kotlin.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n\t\t\t&lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t\t&lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n\t\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t\t\t&lt;compilerPlugins&gt;\r\n\t\t\t\t\t\t\t&lt;plugin&gt;spring&lt;/plugin&gt;\r\n\t\t\t\t\t\t&lt;/compilerPlugins&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\t\t&lt;distributionManagement&gt;\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;contracts&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;contracts package&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts&lt;/url&gt;\r\n\t\t\t&lt;/repository&gt;\r\n\t\t&lt;/distributionManagement&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\nWhen I type ***mvnw deploy*** I get the error -\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project SecuritySpringBootContracts: Failed to deploy artifacts: Could not transfer artifact com.sagar:SecuritySpringBootContracts:jar:0.0.3 from/to contracts (https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts): transfer failed for https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts/com/sagar/SecuritySpringBootContracts/0.0.3/SecuritySpringBootContracts-0.0.3.jar, status: 422 Unprocessable Entity\r\n\r\n*Any suggestion is appreciated.*","title":"Publish Maven project to Github Package","body":"<p><strong>Objective</strong></p>\n<p>Publish private maven project to GitHub packages as a private repo for use in other projects.</p>\n<p><strong>Getting Error</strong></p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project SecuritySpringBootContracts: Failed to deploy artifacts: Could not transfer artifact com.sagar:SecuritySpringBootContracts:jar:0.0.3 from/to contracts (https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts): transfer failed for https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts/com/sagar/SecuritySpringBootContracts/0.0.3/SecuritySpringBootContracts-0.0.3.jar, status: 422 Unprocessable Entity\n</code></pre>\n<p><strong>My private repository in GitHub</strong></p>\n<p><a href=\"https://github.com/sagarnayak/SecuritySpringBootContracts\" rel=\"nofollow noreferrer\">https://github.com/sagarnayak/SecuritySpringBootContracts</a></p>\n<p><strong>My code</strong></p>\n<p>Settings.xml in <strong>C:\\Users\\SAGAR\\ .m2</strong></p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                  http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n\n&lt;activeProfiles&gt;\n    &lt;activeProfile&gt;github&lt;/activeProfile&gt;\n&lt;/activeProfiles&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;github&lt;/id&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;contracts&lt;/id&gt;\n                &lt;url&gt;https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts&lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/releases&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;servers&gt;\n    &lt;server&gt;\n        &lt;id&gt;contracts&lt;/id&gt;\n        &lt;username&gt;sagarnayak&lt;/username&gt;\n        &lt;password&gt;ghp_WRGrhj380s8vikAcZMp4j1z02&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sagar&lt;/groupId&gt;\n    &lt;artifactId&gt;SecuritySpringBootContracts&lt;/artifactId&gt;\n    &lt;version&gt;0.0.3&lt;/version&gt;\n    &lt;name&gt;SecuritySpringBootContracts&lt;/name&gt;\n    &lt;description&gt;SecuritySpringBootContracts&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.5.31&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;contracts&lt;/id&gt;\n            &lt;name&gt;contracts package&lt;/name&gt;\n            &lt;url&gt;https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I type <em><strong>mvnw deploy</strong></em> I get the error -</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project SecuritySpringBootContracts: Failed to deploy artifacts: Could not transfer artifact com.sagar:SecuritySpringBootContracts:jar:0.0.3 from/to contracts (https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts): transfer failed for https://maven.pkg.github.com/sagarnayak/SecuritySpringBootContracts/com/sagar/SecuritySpringBootContracts/0.0.3/SecuritySpringBootContracts-0.0.3.jar, status: 422 Unprocessable Entity\n</code></pre>\n<p><em>Any suggestion is appreciated.</em></p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633473473,"creation_date":1633473473,"answer_id":69457975,"question_id":69457935,"body_markdown":"The class [Arrays][1] has nice utility functions:\r\n\r\n    Arrays.setAll(array, i -&gt; array[i] / 2);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html","title":"Divide a java array like a numpy array","body":"<p>The class <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays</a> has nice utility functions:</p>\n<pre><code>Arrays.setAll(array, i -&gt; array[i] / 2);\n</code></pre>\n"}],"owner":{"account_id":14789404,"reputation":147,"user_id":12763110,"display_name":"BOUNCE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69457975,"answer_count":1,"score":0,"last_activity_date":1633473577,"creation_date":1633473169,"question_id":69457935,"body_markdown":"Is it possible to divide each element of a java float array by a constant, similarly to elementwise division possible with numPy arrays? Or is it necessary to iterate through the array with a loop and perform the division one by one?","title":"Divide a java array like a numpy array","body":"<p>Is it possible to divide each element of a java float array by a constant, similarly to elementwise division possible with numPy arrays? Or is it necessary to iterate through the array with a loop and perform the division one by one?</p>\n"},{"tags":["java","mime-types","content-type","apache-tika"],"answers":[{"tags":[],"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633428197,"creation_date":1633428197,"answer_id":69448487,"question_id":69448197,"body_markdown":"Tika sees these binary values in the file: `1110100011100101`\r\n\r\nThese binary values could mean anything. It could be an integer or long stored in this file, namely 59621\r\n\r\nThis short amount of content gives Tika too little values to work with to make an educated guess, so it defaults to not recognizing it, as it&#39;s uncertain of it&#39;s type, and the extension doesn&#39;t help it clearing up the content above the threshold of certainty.\r\n\r\nThis is why your longer file does work, as the change that it&#39;s a long data segmented piece of integers masking as a text file are smaller. \r\n\r\nWhen tika fails due to shortness of file, try doing a system call via [shell_exec()][1] as a backup, to make a best guess of the filetype.\r\n\r\n\r\n  [1]: https://www.php.net/manual/en/function.shell-exec.php","title":"Apache Tika unable to detect Content-Type using file content","body":"<p>Tika sees these binary values in the file: <code>1110100011100101</code></p>\n<p>These binary values could mean anything. It could be an integer or long stored in this file, namely 59621</p>\n<p>This short amount of content gives Tika too little values to work with to make an educated guess, so it defaults to not recognizing it, as it's uncertain of it's type, and the extension doesn't help it clearing up the content above the threshold of certainty.</p>\n<p>This is why your longer file does work, as the change that it's a long data segmented piece of integers masking as a text file are smaller.</p>\n<p>When tika fails due to shortness of file, try doing a system call via <a href=\"https://www.php.net/manual/en/function.shell-exec.php\" rel=\"nofollow noreferrer\">shell_exec()</a> as a backup, to make a best guess of the filetype.</p>\n"},{"tags":[],"owner":{"account_id":5061881,"reputation":236,"user_id":4063203,"display_name":"Dave Meikle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633473379,"creation_date":1633472200,"answer_id":69457831,"question_id":69448197,"body_markdown":"In the ISO 8859-1 encoding these characters will be in the 8-Bit character range i.e. extended range 128 to 256. However, whilst the TextDetector counts them it doesn&#39;t consider it in the calculation to detect if the file looks mostly text.\r\n\r\nI&#39;m on the Tika Development team, so will take a look at the history of the original tickets, and see how best to factor this in.\r\n\r\nYou can customise the detectors you are using in Tika by overriding the [Tika Configuration file][1], or the [*org.apache.tika.detect.Detector*][2] service loader.\r\n\r\nFor now, you may want to consider adding the the _FileCommandDetector_ to your configuration using one of these approaches to allow you to continue to use this approach.\r\n\r\nFor example, with the following configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;properties&gt;\r\n      &lt;detectors&gt;\r\n        &lt;detector class=&quot;org.apache.tika.detect.FileCommandDetector&quot;/&gt;\r\n        &lt;detector class=&quot;org.apache.tika.detect.OverrideDetector&quot;/&gt;\r\n        &lt;detector class=&quot;org.apache.tika.mime.MimeTypes&quot;/&gt;\r\n      &lt;/detectors&gt;\r\n    &lt;/properties&gt;\r\n\r\nRunning the below text detection will correctly mark this as text/plain:\r\n\r\n    java -jar tika-app-2.1.0.jar --config=tika-config.xml -d test.tmp\r\n\r\n\r\nWhere as the default configuration will mark it as *application/octet-stream*\r\n\r\n    java -jar tika-app-2.1.0.jar -d test.tmp\r\n\r\nThe *FileCommandDetector* executes the *File* command, if available on the local machine, to detect the type.\r\n\r\n  [1]: https://tika.apache.org/2.0.0/configuring.html#Configuring_Detectors\r\n  [2]: https://tika.apache.org/2.0.0/configuring.html#Configuring_the_Service_Loader","title":"Apache Tika unable to detect Content-Type using file content","body":"<p>In the ISO 8859-1 encoding these characters will be in the 8-Bit character range i.e. extended range 128 to 256. However, whilst the TextDetector counts them it doesn't consider it in the calculation to detect if the file looks mostly text.</p>\n<p>I'm on the Tika Development team, so will take a look at the history of the original tickets, and see how best to factor this in.</p>\n<p>You can customise the detectors you are using in Tika by overriding the <a href=\"https://tika.apache.org/2.0.0/configuring.html#Configuring_Detectors\" rel=\"nofollow noreferrer\">Tika Configuration file</a>, or the <a href=\"https://tika.apache.org/2.0.0/configuring.html#Configuring_the_Service_Loader\" rel=\"nofollow noreferrer\"><em>org.apache.tika.detect.Detector</em></a> service loader.</p>\n<p>For now, you may want to consider adding the the <em>FileCommandDetector</em> to your configuration using one of these approaches to allow you to continue to use this approach.</p>\n<p>For example, with the following configuration file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;properties&gt;\n  &lt;detectors&gt;\n    &lt;detector class=&quot;org.apache.tika.detect.FileCommandDetector&quot;/&gt;\n    &lt;detector class=&quot;org.apache.tika.detect.OverrideDetector&quot;/&gt;\n    &lt;detector class=&quot;org.apache.tika.mime.MimeTypes&quot;/&gt;\n  &lt;/detectors&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Running the below text detection will correctly mark this as text/plain:</p>\n<pre><code>java -jar tika-app-2.1.0.jar --config=tika-config.xml -d test.tmp\n</code></pre>\n<p>Where as the default configuration will mark it as <em>application/octet-stream</em></p>\n<pre><code>java -jar tika-app-2.1.0.jar -d test.tmp\n</code></pre>\n<p>The <em>FileCommandDetector</em> executes the <em>File</em> command, if available on the local machine, to detect the type.</p>\n"}],"owner":{"account_id":19491621,"reputation":1,"user_id":14259727,"display_name":"Aman Todi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633473379,"creation_date":1633427020,"question_id":69448197,"body_markdown":"I have been trying to detect the mime-type using the file content only, using Apache Tika Core and Apache Tika Parser 1.23 jars.\r\nBelow is the code used for the same:\r\n\r\n    Tika tika = new Tika();\r\n    File file = new File(filepath);\r\n    String mimeType = tika.detect(file);\r\n\r\n\r\nTika fails to detect the content type for a file with .tmp extension (Text/Plain file) and iso-8859-1 charset, with content as below:\r\n\r\n*&#232;&#229;*\r\n\r\nA file with same configurations and below content is detected properly though:\r\n\r\n*00000000000000000000\r\n00000000000000000000\r\n00000000000000000000\r\n00000000000000000000\r\n00000000000000000000\r\n00000000000000000000\r\nPREPREPREPREPREPREPREPREPRE&#234;&#238;&#240;&#240;&#229;&#241;&#239;&#238;&#237;&#228;&#229;&#237;&#242;&#241;&#234;&#232;&#229;*\r\n\r\nI have tried using Linux File command to detect the mime type, and it works as expected. I also tried using Apache Tika App 2.1.0 GUI, but it behaves the same as my code.\r\n\r\nAny suggestions how to detect such files using the content of the file? Thank you in advance.","title":"Apache Tika unable to detect Content-Type using file content","body":"<p>I have been trying to detect the mime-type using the file content only, using Apache Tika Core and Apache Tika Parser 1.23 jars.\nBelow is the code used for the same:</p>\n<pre><code>Tika tika = new Tika();\nFile file = new File(filepath);\nString mimeType = tika.detect(file);\n</code></pre>\n<p>Tika fails to detect the content type for a file with .tmp extension (Text/Plain file) and iso-8859-1 charset, with content as below:</p>\n<p><em>èå</em></p>\n<p>A file with same configurations and below content is detected properly though:</p>\n<p><em>00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\nPREPREPREPREPREPREPREPREPREêîððåñïîíäåíòñêèå</em></p>\n<p>I have tried using Linux File command to detect the mime type, and it works as expected. I also tried using Apache Tika App 2.1.0 GUI, but it behaves the same as my code.</p>\n<p>Any suggestions how to detect such files using the content of the file? Thank you in advance.</p>\n"},{"tags":["java","linked-list","iterator"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1633481189,"post_id":69457601,"comment_id":122769430,"body_markdown":"There is far too much going on in your code that simply doesn&#39;t work. What are you trying to achieve, are you simply making your own implementation of a linked list? If so then in addition to the corrections commented on the answer below, `MyLinkedList` should not implement `Iterator`, it should instead implement `Iterable`? And only `MyLinkedListIterator&lt;E&gt;` should implement `Iterator&lt;E&gt;`. See an example here of how implementing iterator could work: https://gist.github.com/jnwhiteh/68d095c630dfcaddffd1","body":"There is far too much going on in your code that simply doesn&#39;t work. What are you trying to achieve, are you simply making your own implementation of a linked list? If so then in addition to the corrections commented on the answer below, <code>MyLinkedList</code> should not implement <code>Iterator</code>, it should instead implement <code>Iterable</code>? And only <code>MyLinkedListIterator&lt;E&gt;</code> should implement <code>Iterator&lt;E&gt;</code>. See an example here of how implementing iterator could work: <a href=\"https://gist.github.com/jnwhiteh/68d095c630dfcaddffd1\" rel=\"nofollow noreferrer\">gist.github.com/jnwhiteh/68d095c630dfcaddffd1</a>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633473020,"creation_date":1633473020,"answer_id":69457922,"question_id":69457601,"body_markdown":"There are several problems with `next()`.  One that you immediately set the `currentNode` to the very end of the list, which is probably why you are getting null as the second element if I&#39;m guessing correctly.\r\n\r\n    currentNode = list.tail;\r\n\r\nThink about this.  You have a linked list.  What is the *next* element after the current one?  It is not the tail...\r\n","title":"How to print out data using java iterator with a linked list","body":"<p>There are several problems with <code>next()</code>.  One that you immediately set the <code>currentNode</code> to the very end of the list, which is probably why you are getting null as the second element if I'm guessing correctly.</p>\n<pre><code>currentNode = list.tail;\n</code></pre>\n<p>Think about this.  You have a linked list.  What is the <em>next</em> element after the current one?  It is not the tail...</p>\n"}],"owner":{"account_id":22773673,"reputation":11,"user_id":16930682,"display_name":"Andrew Amirzadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633473020,"creation_date":1633470317,"question_id":69457601,"body_markdown":"I am trying to iterate over the MylinkedList using the MyLinkedListIterator class I created. I am expecting it to print out drop, goofy, Donald, Duck, Mouse etc... but the while loop that I wrote is not working properly. I tried debugging by system.out.print(iter.next()) expecting the first element to be printed in the linked list &quot;drop&quot; but instead was returned null. \r\n  \r\n\r\n    public class xxx_xxx_xxxx{\r\n        \r\n        \tpublic static void main(String[] args) throws Exception {\r\n        \r\n        \t\t\r\n        \t\tMyLinkedList&lt;String&gt; list = new MyLinkedList&lt;&gt;();\r\n        \r\n        \t\tlist.add(&quot;drop&quot;);\r\n        \t\tlist.add(&quot;goofy&quot;);\r\n        \t\tlist.add(&quot;Donald&quot;);\r\n        \t\tlist.add(&quot;Duck&quot;);\r\n        \t\tlist.add(&quot;Mouse&quot;);\r\n        \t\tlist.add(&quot;Kangaroo&quot;);\r\n        \t\tlist.add(&quot;Koala&quot;);\r\n                // initialized list of MyLinkedListIterator\r\n        \t\tMyLinkedListIterator&lt;String&gt; iter = new MyLinkedListIterator&lt;String&gt;();\r\n        \r\n        \t\twhile (iter.hasNext()) {\r\n        \t\t\tSystem.out.print(iter.next());\r\n        \t\t}\r\n        \r\n        \t}\r\n        \r\n        }\r\n        \r\n        interface MyList&lt;E&gt; {\r\n        \r\n        \tpublic void insert(int index, E object) throws Exception;\r\n        \r\n        \tpublic void add(E object);\r\n        \r\n        \tpublic E get(int index) throws Exception;\r\n        \r\n        \tpublic int indexOf(E object);\r\n        \r\n        \tpublic int lastIndexOf(E object);\r\n        \r\n        \tpublic E remove(int index) throws Exception;\r\n        \r\n        \tpublic E set(int index, E object) throws Exception;\r\n        \r\n        \tpublic int size();\r\n        \r\n        }\r\n        \r\n        class Node&lt;E&gt; {\r\n        \tE element;\r\n        \tNode&lt;E&gt; next;\r\n        \r\n        \tpublic Node(E element) {\r\n        \t\tthis.element = element;\r\n        \t}\r\n        }\r\n        \r\n        class MyLinkedList&lt;E&gt; implements MyList&lt;E&gt;, Iterator&lt;E&gt; {\r\n        \tNode&lt;E&gt; head = null;\r\n        \tNode&lt;E&gt; tail = null;\r\n        \tint size = 0;\r\n        \r\n        \t@Override\r\n        \tpublic void insert(int index, E object) throws Exception {\r\n        \t\tif (index &lt; 0 || index &gt; size - 1)\r\n        \t\t\tthrow new Exception(&quot;Invalid index.&quot;);\r\n        \r\n        \t\tNode&lt;E&gt; newNode = new Node&lt;&gt;(object);\r\n        \r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\tint counter = 0;\r\n        \t\tNode&lt;E&gt; previous = null;\r\n        \t\twhile (counter &lt; index) {\r\n        \t\t\tprevious = current;\r\n        \t\t\tcurrent = current.next;\r\n        \t\t\tcounter++;\r\n        \t\t}\r\n        \r\n        \t\tif (previous != null)\r\n        \t\t\tprevious.next = newNode;\r\n        \t\tnewNode.next = current;\r\n        \r\n        \t\tsize++;\r\n        \r\n        \t\tif (index == 0)\r\n        \t\t\thead = newNode;\r\n        \t\tif (index == size - 1)\r\n        \t\t\ttail = newNode;\r\n        \r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic void add(E object) {\r\n        \t\tNode&lt;E&gt; newNode = new Node&lt;E&gt;(object);\r\n        \r\n        \t\tsize++;\r\n        \r\n        \t\tif (head == null)\r\n        \t\t\thead = newNode;\r\n        \t\telse\r\n        \t\t\ttail.next = newNode;\r\n        \t\ttail = newNode;\r\n        \r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic E get(int index) throws Exception {\r\n        \t\tif (index &lt; 0 || index &gt; size - 1)\r\n        \t\t\tthrow new Exception(&quot;Invalid index.&quot;);\r\n        \r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\tint counter = 0;\r\n        \t\twhile (counter &lt; index) {\r\n        \t\t\tcurrent = current.next;\r\n        \t\t\tcounter++;\r\n        \t\t}\r\n        \r\n        \t\treturn current.element;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int indexOf(E object) {\r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\tint index = 0;\r\n        \t\twhile (current != null) {\r\n        \t\t\tif (object.equals(current.element))\r\n        \t\t\t\treturn index;\r\n        \t\t\tcurrent = current.next;\r\n        \t\t\tindex++;\r\n        \t\t}\r\n        \t\treturn -1;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int lastIndexOf(E object) {\r\n        \r\n        \t\tint result = -1;\r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\tint index = 0;\r\n        \t\twhile (current != null) {\r\n        \t\t\tif (object.equals(current.element))\r\n        \t\t\t\tresult = index;\r\n        \t\t\tcurrent = current.next;\r\n        \t\t\tindex++;\r\n        \t\t}\r\n        \r\n        \t\treturn result;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic E remove(int index) throws Exception {\r\n        \t\tif (index &lt; 0 || index &gt; size - 1)\r\n        \t\t\tthrow new Exception(&quot;Invalid index.&quot;);\r\n        \r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\tint counter = 0;\r\n        \t\tNode&lt;E&gt; previous = null;\r\n        \t\twhile (counter &lt; index) {\r\n        \r\n        \t\t\tprevious = current;\r\n        \t\t\tcurrent = current.next;\r\n        \t\t\tcounter++;\r\n        \t\t}\r\n        \r\n        \t\tif (previous != null)\r\n        \t\t\tprevious.next = current.next;\r\n        \t\tE result = current.element;\r\n        \r\n        \t\tsize--;\r\n        \r\n        \t\tif (index == 0)\r\n        \t\t\thead = current.next;\r\n        \t\tif (index == size - 1)\r\n        \t\t\ttail = previous;\r\n        \r\n        \t\treturn result;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic E set(int index, E object) throws Exception {\r\n        \t\tif (index &lt; 0 || index &gt; size - 1)\r\n        \t\t\tthrow new Exception(&quot;Invalid index.&quot;);\r\n        \r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\tint counter = 0;\r\n        \t\twhile (counter &lt; index) {\r\n        \t\t\tcurrent = current.next;\r\n        \t\t\tcounter++;\r\n        \r\n        \t\t}\r\n        \r\n        \t\tE result = current.element;\r\n        \t\tcurrent.element = object;\r\n        \t\treturn result;\r\n        \r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int size() {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\treturn size;\r\n        \t}\r\n        \r\n        \tpublic Iterator&lt;E&gt; iterator() {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\treturn new MyLinkedListIterator();\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \r\n        \t\tString result = &quot;[&quot;;\r\n        \t\tNode&lt;E&gt; current = head;\r\n        \t\twhile (current != null) {\r\n        \r\n        \t\t\tresult += current.element;\r\n        \t\t\tif (current.next != null)\r\n        \t\t\t\tresult += &quot;, &quot;;\r\n        \r\n        \t\t\tcurrent = current.next;\r\n        \t\t}\r\n        \t\treturn result + &quot;]&quot;;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic boolean hasNext() {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\treturn false;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic E next() {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\treturn null;\r\n        \t}\r\n        }\r\n        \r\n        //Create the class MyLinkedListIterator&lt;E&gt;, which implements the Iterator&lt;E&gt; interface.\r\n        \r\n        class MyLinkedListIterator&lt;E&gt; implements Iterator&lt;E&gt; {\r\n        \r\n        \t// MyLinkedListIterator should contain the following data items,\r\n        \r\n        \t// &quot;list&quot; of type MyLinkedList\r\n        \tMyLinkedList&lt;E&gt; list = new MyLinkedList&lt;&gt;();\r\n        \r\n        \t// &quot;currentNode&quot; of type Node&lt;E&gt;, initially set to list.head\r\n        \tNode&lt;E&gt; currentNode = list.head;\r\n        \r\n        \t// The hasNext() method should return true as long as currentNode is not null\r\n        \r\n        \tpublic boolean hasNext() {\r\n        \r\n        \t\treturn currentNode != null;\r\n        \r\n        \t}\r\n        \r\n        \t// The next() method should return the list&#39;s data item at currentNode, and\r\n        \t// advance currentNode\r\n        \r\n        \tpublic E next() {\r\n        \r\n        \t\tNode&lt;E&gt; res = list.head;\r\n        \t\tcurrentNode = list.tail;\r\n        \t\treturn (E) res;\r\n        \r\n        \t}\r\n        \r\n        }","title":"How to print out data using java iterator with a linked list","body":"<p>I am trying to iterate over the MylinkedList using the MyLinkedListIterator class I created. I am expecting it to print out drop, goofy, Donald, Duck, Mouse etc... but the while loop that I wrote is not working properly. I tried debugging by system.out.print(iter.next()) expecting the first element to be printed in the linked list &quot;drop&quot; but instead was returned null.</p>\n<pre><code>public class xxx_xxx_xxxx{\n    \n        public static void main(String[] args) throws Exception {\n    \n            \n            MyLinkedList&lt;String&gt; list = new MyLinkedList&lt;&gt;();\n    \n            list.add(&quot;drop&quot;);\n            list.add(&quot;goofy&quot;);\n            list.add(&quot;Donald&quot;);\n            list.add(&quot;Duck&quot;);\n            list.add(&quot;Mouse&quot;);\n            list.add(&quot;Kangaroo&quot;);\n            list.add(&quot;Koala&quot;);\n            // initialized list of MyLinkedListIterator\n            MyLinkedListIterator&lt;String&gt; iter = new MyLinkedListIterator&lt;String&gt;();\n    \n            while (iter.hasNext()) {\n                System.out.print(iter.next());\n            }\n    \n        }\n    \n    }\n    \n    interface MyList&lt;E&gt; {\n    \n        public void insert(int index, E object) throws Exception;\n    \n        public void add(E object);\n    \n        public E get(int index) throws Exception;\n    \n        public int indexOf(E object);\n    \n        public int lastIndexOf(E object);\n    \n        public E remove(int index) throws Exception;\n    \n        public E set(int index, E object) throws Exception;\n    \n        public int size();\n    \n    }\n    \n    class Node&lt;E&gt; {\n        E element;\n        Node&lt;E&gt; next;\n    \n        public Node(E element) {\n            this.element = element;\n        }\n    }\n    \n    class MyLinkedList&lt;E&gt; implements MyList&lt;E&gt;, Iterator&lt;E&gt; {\n        Node&lt;E&gt; head = null;\n        Node&lt;E&gt; tail = null;\n        int size = 0;\n    \n        @Override\n        public void insert(int index, E object) throws Exception {\n            if (index &lt; 0 || index &gt; size - 1)\n                throw new Exception(&quot;Invalid index.&quot;);\n    \n            Node&lt;E&gt; newNode = new Node&lt;&gt;(object);\n    \n            Node&lt;E&gt; current = head;\n            int counter = 0;\n            Node&lt;E&gt; previous = null;\n            while (counter &lt; index) {\n                previous = current;\n                current = current.next;\n                counter++;\n            }\n    \n            if (previous != null)\n                previous.next = newNode;\n            newNode.next = current;\n    \n            size++;\n    \n            if (index == 0)\n                head = newNode;\n            if (index == size - 1)\n                tail = newNode;\n    \n        }\n    \n        @Override\n        public void add(E object) {\n            Node&lt;E&gt; newNode = new Node&lt;E&gt;(object);\n    \n            size++;\n    \n            if (head == null)\n                head = newNode;\n            else\n                tail.next = newNode;\n            tail = newNode;\n    \n        }\n    \n        @Override\n        public E get(int index) throws Exception {\n            if (index &lt; 0 || index &gt; size - 1)\n                throw new Exception(&quot;Invalid index.&quot;);\n    \n            Node&lt;E&gt; current = head;\n            int counter = 0;\n            while (counter &lt; index) {\n                current = current.next;\n                counter++;\n            }\n    \n            return current.element;\n        }\n    \n        @Override\n        public int indexOf(E object) {\n            Node&lt;E&gt; current = head;\n            int index = 0;\n            while (current != null) {\n                if (object.equals(current.element))\n                    return index;\n                current = current.next;\n                index++;\n            }\n            return -1;\n        }\n    \n        @Override\n        public int lastIndexOf(E object) {\n    \n            int result = -1;\n            Node&lt;E&gt; current = head;\n            int index = 0;\n            while (current != null) {\n                if (object.equals(current.element))\n                    result = index;\n                current = current.next;\n                index++;\n            }\n    \n            return result;\n        }\n    \n        @Override\n        public E remove(int index) throws Exception {\n            if (index &lt; 0 || index &gt; size - 1)\n                throw new Exception(&quot;Invalid index.&quot;);\n    \n            Node&lt;E&gt; current = head;\n            int counter = 0;\n            Node&lt;E&gt; previous = null;\n            while (counter &lt; index) {\n    \n                previous = current;\n                current = current.next;\n                counter++;\n            }\n    \n            if (previous != null)\n                previous.next = current.next;\n            E result = current.element;\n    \n            size--;\n    \n            if (index == 0)\n                head = current.next;\n            if (index == size - 1)\n                tail = previous;\n    \n            return result;\n        }\n    \n        @Override\n        public E set(int index, E object) throws Exception {\n            if (index &lt; 0 || index &gt; size - 1)\n                throw new Exception(&quot;Invalid index.&quot;);\n    \n            Node&lt;E&gt; current = head;\n            int counter = 0;\n            while (counter &lt; index) {\n                current = current.next;\n                counter++;\n    \n            }\n    \n            E result = current.element;\n            current.element = object;\n            return result;\n    \n        }\n    \n        @Override\n        public int size() {\n            // TODO Auto-generated method stub\n            return size;\n        }\n    \n        public Iterator&lt;E&gt; iterator() {\n            // TODO Auto-generated method stub\n            return new MyLinkedListIterator();\n        }\n    \n        @Override\n        public String toString() {\n    \n            String result = &quot;[&quot;;\n            Node&lt;E&gt; current = head;\n            while (current != null) {\n    \n                result += current.element;\n                if (current.next != null)\n                    result += &quot;, &quot;;\n    \n                current = current.next;\n            }\n            return result + &quot;]&quot;;\n        }\n    \n        @Override\n        public boolean hasNext() {\n            // TODO Auto-generated method stub\n            return false;\n        }\n    \n        @Override\n        public E next() {\n            // TODO Auto-generated method stub\n            return null;\n        }\n    }\n    \n    //Create the class MyLinkedListIterator&lt;E&gt;, which implements the Iterator&lt;E&gt; interface.\n    \n    class MyLinkedListIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n    \n        // MyLinkedListIterator should contain the following data items,\n    \n        // &quot;list&quot; of type MyLinkedList\n        MyLinkedList&lt;E&gt; list = new MyLinkedList&lt;&gt;();\n    \n        // &quot;currentNode&quot; of type Node&lt;E&gt;, initially set to list.head\n        Node&lt;E&gt; currentNode = list.head;\n    \n        // The hasNext() method should return true as long as currentNode is not null\n    \n        public boolean hasNext() {\n    \n            return currentNode != null;\n    \n        }\n    \n        // The next() method should return the list's data item at currentNode, and\n        // advance currentNode\n    \n        public E next() {\n    \n            Node&lt;E&gt; res = list.head;\n            currentNode = list.tail;\n            return (E) res;\n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","sonarqube","dto","sonarqube-scan","sonarqube-ops"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633473694,"post_id":69442254,"comment_id":122768164,"body_markdown":"Sonarqube should give you a reference to the rule, providing more detail. This one may be https://rules.sonarsource.com/java/RSPEC-2384","body":"Sonarqube should give you a reference to the rule, providing more detail. This one may be <a href=\"https://rules.sonarsource.com/java/RSPEC-2384\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-2384</a>"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633473001,"creation_date":1633380822,"answer_id":69442294,"question_id":69442254,"body_markdown":"SonarQube is telling you to be cautious when receiving `List`s in a constructor. Why? Because the caller holds a reference to that `List` and it can do the following with it if it is not immutable:\r\n\r\n 1. Change the `List` content by adding or removing elements to it, actually affecting your `MenuItemExpandedDTO`.\r\n 2. Change the objects contained in the `List` if they are not immutable. This means that `AllergenInfo` objects in the `List` can be changed affecting your `MenuItemExpandedDTO` object.\r\n\r\nTo tackle 1., you can simply store a copy of the `List` as SonarQube suggests:\r\n```java\r\npublic MenuItemExpandedDTO(\r\n        PropertiesDTO propertiesDto,\r\n        List&lt;ModifierGroupDTO&gt; modifierGroupDtoList,\r\n        List&lt;AllergenInfo&gt; allergenInfoList\r\n) {\r\n    this.uuid = propertiesDto.getUuid();\r\n    this.modifierGroupDtoList = new ArrayList&lt;&gt;(modifierGroupDtoList);\r\n    this.allergenInfoList = new ArrayList&lt;&gt;(allergenInfoList);\r\n  }\r\n}\r\n```\r\n\r\nTackling 2. is trickier and the simplest and more reliable solution is to use immutable objects. You can read more about this and how to design your classes so that you have immutable objects at https://www.baeldung.com/java-immutable-object.\r\n```java\r\npublic class MenuItemExpandedDTO {\r\n    private final UUID uuid;\r\n    private final List&lt;ModifierGroupDTO&gt; modifierGroupDtoList;\r\n    private final List&lt;AllergenInfo&gt; allergenInfoList;\r\n\r\n    public MenuItemExpandedDTO(PropertiesDTO propertiesDto,\r\n                               List&lt;ModifierGroupDTO&gt; modifierGroupDtoList,\r\n                               List&lt;AllergenInfo&gt; allergenInfoList) {\r\n        this.uuid = propertiesDto.getUuid();\r\n        this.modifierGroupDtoList = new ArrayList&lt;&gt;(modifierGroupDtoList);\r\n        this.allergenInfoList = new ArrayList&lt;&gt;(allergenInfoList);\r\n    }\r\n\r\n    public UUID getUuid() {\r\n        return UUID;\r\n    }\r\n\r\n    public List&lt;ModifierGroupDTO&gt; getModifierGroupDtoList() {\r\n        return new ArrayList&lt;&gt;(modifierGroupDtoList);\r\n    }\r\n\r\n    public List&lt;AllergenInfo&gt; getAllergenInfoList() {\r\n        return new ArrayList&lt;&gt;(allergenInfoList);\r\n    }\r\n}\r\n```\r\n\r\nKeep in mind that `ModifierGroupDTO` and `AllergenInfo` must also be immutable so that `MenuItemExpandedDTO` is 100% immutable.","title":"SonarQube: &quot;Store a copy of &quot;productAllergenInfos&quot;&quot;","body":"<p>SonarQube is telling you to be cautious when receiving <code>List</code>s in a constructor. Why? Because the caller holds a reference to that <code>List</code> and it can do the following with it if it is not immutable:</p>\n<ol>\n<li>Change the <code>List</code> content by adding or removing elements to it, actually affecting your <code>MenuItemExpandedDTO</code>.</li>\n<li>Change the objects contained in the <code>List</code> if they are not immutable. This means that <code>AllergenInfo</code> objects in the <code>List</code> can be changed affecting your <code>MenuItemExpandedDTO</code> object.</li>\n</ol>\n<p>To tackle 1., you can simply store a copy of the <code>List</code> as SonarQube suggests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MenuItemExpandedDTO(\n        PropertiesDTO propertiesDto,\n        List&lt;ModifierGroupDTO&gt; modifierGroupDtoList,\n        List&lt;AllergenInfo&gt; allergenInfoList\n) {\n    this.uuid = propertiesDto.getUuid();\n    this.modifierGroupDtoList = new ArrayList&lt;&gt;(modifierGroupDtoList);\n    this.allergenInfoList = new ArrayList&lt;&gt;(allergenInfoList);\n  }\n}\n</code></pre>\n<p>Tackling 2. is trickier and the simplest and more reliable solution is to use immutable objects. You can read more about this and how to design your classes so that you have immutable objects at <a href=\"https://www.baeldung.com/java-immutable-object\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-immutable-object</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MenuItemExpandedDTO {\n    private final UUID uuid;\n    private final List&lt;ModifierGroupDTO&gt; modifierGroupDtoList;\n    private final List&lt;AllergenInfo&gt; allergenInfoList;\n\n    public MenuItemExpandedDTO(PropertiesDTO propertiesDto,\n                               List&lt;ModifierGroupDTO&gt; modifierGroupDtoList,\n                               List&lt;AllergenInfo&gt; allergenInfoList) {\n        this.uuid = propertiesDto.getUuid();\n        this.modifierGroupDtoList = new ArrayList&lt;&gt;(modifierGroupDtoList);\n        this.allergenInfoList = new ArrayList&lt;&gt;(allergenInfoList);\n    }\n\n    public UUID getUuid() {\n        return UUID;\n    }\n\n    public List&lt;ModifierGroupDTO&gt; getModifierGroupDtoList() {\n        return new ArrayList&lt;&gt;(modifierGroupDtoList);\n    }\n\n    public List&lt;AllergenInfo&gt; getAllergenInfoList() {\n        return new ArrayList&lt;&gt;(allergenInfoList);\n    }\n}\n</code></pre>\n<p>Keep in mind that <code>ModifierGroupDTO</code> and <code>AllergenInfo</code> must also be immutable so that <code>MenuItemExpandedDTO</code> is 100% immutable.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69442294,"answer_count":1,"score":0,"last_activity_date":1633473001,"creation_date":1633380502,"question_id":69442254,"body_markdown":"I have the following DTO:\r\n\r\n```\r\n@Data\r\n@RequiredArgsConstructor\r\npublic class MenuItemExpandedDTO {\r\nprivate UUID uuid;\r\nprivate List&lt;ModifierGroupDTO&gt; modifierGroupDtoList;\r\nprivate List&lt;AllergenInfo&gt; allergenInfoList;\r\n\r\npublic MenuItemExpandedDTO(\r\n        PropertiesDTO propertiesDto,\r\n        List&lt;ModifierGroupDTO&gt; modifierGroupDtoList,\r\n        List&lt;AllergenInfo&gt; allergenInfoList\r\n) {\r\n    this.uuid = propertiesDto.getUuid();\r\n    this.modifierGroupDtoList = modifierGroupDtoList;\r\n    this.allergenInfoList = allergenInfoList;\r\n  }\r\n}\r\n```\r\n\r\nIn SonarQube analysis, I get a Vulnerability due to `allergenInfoList` as it is stated  \r\n\r\n*&quot;Message: Store a copy of allergenInfoList&quot;*\r\n\r\nSo, I am not sure what the problem is, but before fixing this error, I am wondering what is wrong with that code? In some pages, it is recommended to initialize the list e.g. `private List&lt;AllergenInfo&gt; allergenInfoList = Collections.emptyList()`. But it is not a way I follow in my projects. So, what is the problem with this code? ","title":"SonarQube: &quot;Store a copy of &quot;productAllergenInfos&quot;&quot;","body":"<p>I have the following DTO:</p>\n<pre><code>@Data\n@RequiredArgsConstructor\npublic class MenuItemExpandedDTO {\nprivate UUID uuid;\nprivate List&lt;ModifierGroupDTO&gt; modifierGroupDtoList;\nprivate List&lt;AllergenInfo&gt; allergenInfoList;\n\npublic MenuItemExpandedDTO(\n        PropertiesDTO propertiesDto,\n        List&lt;ModifierGroupDTO&gt; modifierGroupDtoList,\n        List&lt;AllergenInfo&gt; allergenInfoList\n) {\n    this.uuid = propertiesDto.getUuid();\n    this.modifierGroupDtoList = modifierGroupDtoList;\n    this.allergenInfoList = allergenInfoList;\n  }\n}\n</code></pre>\n<p>In SonarQube analysis, I get a Vulnerability due to <code>allergenInfoList</code> as it is stated</p>\n<p><em>&quot;Message: Store a copy of allergenInfoList&quot;</em></p>\n<p>So, I am not sure what the problem is, but before fixing this error, I am wondering what is wrong with that code? In some pages, it is recommended to initialize the list e.g. <code>private List&lt;AllergenInfo&gt; allergenInfoList = Collections.emptyList()</code>. But it is not a way I follow in my projects. So, what is the problem with this code?</p>\n"},{"tags":["java","exception","hadoop"],"answers":[{"tags":[],"owner":{"account_id":193604,"reputation":1751,"user_id":435436,"display_name":"Tim Boudreau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373585905,"creation_date":1373585905,"answer_id":17605323,"question_id":17602988,"body_markdown":"You have multiple versions of the library containing ``org.eclipse.jdt.internal.compiler.CompilationResult`` on your classpath, and they are ordered so that a version in which the method ``CompilationResult.getProblems()`` does not exist (or was incompatibly changed) comes first on the classpath, probably because it is provided by whatever container you&#39;re running in.\r\n\r\nPossible solutions:\r\n\r\n  * Reorder the classpath to avoid the problem\r\n  * If it is a Maven project, exclude the duplicate JARs as dependencies (in NetBeans, expand the *Libraries* node and right click the library and choose *Exclude Dependency* from the popup menu)\r\n","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>You have multiple versions of the library containing <code>org.eclipse.jdt.internal.compiler.CompilationResult</code> on your classpath, and they are ordered so that a version in which the method <code>CompilationResult.getProblems()</code> does not exist (or was incompatibly changed) comes first on the classpath, probably because it is provided by whatever container you're running in.</p>\n\n<p>Possible solutions:</p>\n\n<ul>\n<li>Reorder the classpath to avoid the problem</li>\n<li>If it is a Maven project, exclude the duplicate JARs as dependencies (in NetBeans, expand the <em>Libraries</em> node and right click the library and choose <em>Exclude Dependency</em> from the popup menu)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":388110,"reputation":847,"user_id":746846,"accept_rate":64,"display_name":"thiru_k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380820870,"creation_date":1380820870,"answer_id":19165326,"question_id":17602988,"body_markdown":"try running by removing ecj-x.x.x.jar from your tomcat library","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>try running by removing ecj-x.x.x.jar from your tomcat library</p>\n"},{"tags":[],"owner":{"account_id":755023,"reputation":6091,"user_id":873641,"accept_rate":86,"display_name":"Daniel Cerecedo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398193267,"creation_date":1398193267,"answer_id":23228036,"question_id":17602988,"body_markdown":"I had the same problem with jars from hadoop that in turn depend on some jetty packages. I solved it by placing the following exclusions in the offending dependency:\r\n\r\n    &lt;exclusions&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api-2.5&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n      &lt;exclusion&gt;\r\n    \t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I had the same problem with jars from hadoop that in turn depend on some jetty packages. I solved it by placing the following exclusions in the offending dependency:</p>\n\n<pre><code>&lt;exclusions&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api-2.5&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n&lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3761988,"reputation":99,"user_id":3126642,"accept_rate":67,"display_name":"Jinfeng"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1402627853,"creation_date":1402627853,"answer_id":24196971,"question_id":17602988,"body_markdown":"I met the same exception with you. In my cases, it&#39;s caused by the jetty library conflicts with Hadoop/HBase libraries( maybe both contain org.eclipse.jdt.internal.compiler.CompilationResult method). I solve this bug by adding following exclusions into Hadoop/HBase dependencies:\r\n\r\n          &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n\t      &lt;version&gt;${hadoop.version2}&lt;/version&gt;\r\n\t      &lt;exclusions&gt;\r\n          \t&lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api-2.1&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasper-compiler&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasper-runtime&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n\t      &lt;/exclusions&gt;\r\n\t    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I met the same exception with you. In my cases, it's caused by the jetty library conflicts with Hadoop/HBase libraries( maybe both contain org.eclipse.jdt.internal.compiler.CompilationResult method). I solve this bug by adding following exclusions into Hadoop/HBase dependencies:</p>\n\n<pre><code>      &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n      &lt;version&gt;${hadoop.version2}&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api-2.1&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;jasper-compiler&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;jasper-runtime&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220154,"reputation":130,"user_id":1186939,"display_name":"mukut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424012600,"creation_date":1424012600,"answer_id":28527410,"question_id":17602988,"body_markdown":"I started working on hadoop and wanted to integrate to be put in hadoop from app. SO added hadoop maven dependency and all these errors thrown by app. \r\nOnce I removed my hadoop dependency then errors  gone.","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I started working on hadoop and wanted to integrate to be put in hadoop from app. SO added hadoop maven dependency and all these errors thrown by app. \nOnce I removed my hadoop dependency then errors  gone.</p>\n"},{"tags":[],"owner":{"account_id":1916933,"reputation":8906,"user_id":1729347,"display_name":"Peter Tadros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430994167,"creation_date":1429456009,"answer_id":29731628,"question_id":17602988,"body_markdown":"I excluded the following dependencies from &quot;org.apache.hbase&quot; in the pom.xml file\r\n\r\n    &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jetty&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n     &lt;/exclusion&gt;\r\n     &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\r\n     &lt;/exclusion&gt;\r\n    &lt;exclusion&gt;\r\n         &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;exclusion&gt;\r\n         &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n         &lt;artifactId&gt;servlet-api-2.1&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;exclusion&gt;\r\n    \t&lt;groupId&gt;tomcat&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jasper-compiler&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;exclusion&gt;\r\n    \t&lt;groupId&gt;tomcat&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jasper-runtime&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\nThis solved my problem","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I excluded the following dependencies from \"org.apache.hbase\" in the pom.xml file</p>\n\n<pre><code>&lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;jetty&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n &lt;/exclusion&gt;\n &lt;exclusion&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\n &lt;/exclusion&gt;\n&lt;exclusion&gt;\n     &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n     &lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;exclusion&gt;\n     &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n     &lt;artifactId&gt;servlet-api-2.1&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;exclusion&gt;\n    &lt;groupId&gt;tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;jasper-compiler&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;exclusion&gt;\n    &lt;groupId&gt;tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;jasper-runtime&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n\n<p>This solved my problem</p>\n"},{"tags":[],"owner":{"account_id":1092264,"reputation":757,"user_id":1086647,"accept_rate":100,"display_name":"blamblambunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436537748,"creation_date":1436537748,"answer_id":31343070,"question_id":17602988,"body_markdown":"I fixed this by using the correct Servlet API version: Tomcat 7.x expects version 3.0.x, not the 3.1.x I&#39;d tried using. See also &#39;https://stackoverflow.com/questions/21096837/what-does-offending-class-tell-me-on-server-startup/31342449&#39;","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I fixed this by using the correct Servlet API version: Tomcat 7.x expects version 3.0.x, not the 3.1.x I'd tried using. See also '<a href=\"https://stackoverflow.com/questions/21096837/what-does-offending-class-tell-me-on-server-startup/31342449\">What does offending class tell me on server startup?</a>'</p>\n"},{"tags":[],"owner":{"account_id":7098611,"reputation":49,"user_id":5431138,"accept_rate":25,"display_name":"Satish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454416407,"creation_date":1454416407,"answer_id":35153649,"question_id":17602988,"body_markdown":"HI this is because of jsp page compilers, In my case the jsp pages is developed in older version of tomcat then i deployed into new version of tomcat then i got java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/IProblem;  then i added the &#39;jasper-*.*&#39;  and &#39;ecj.*,el-*.*&#39;jars to the build path. I succeeded.","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>HI this is because of jsp page compilers, In my case the jsp pages is developed in older version of tomcat then i deployed into new version of tomcat then i got java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/IProblem;  then i added the 'jasper-<em>.</em>'  and 'ecj.<em>,el-</em>.*'jars to the build path. I succeeded.</p>\n"},{"tags":[],"owner":{"account_id":1790766,"reputation":1110,"user_id":1631235,"accept_rate":60,"display_name":"ankit.vishen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504992244,"creation_date":1504992244,"answer_id":46135235,"question_id":17602988,"body_markdown":"In my case it was because of conflict of dependency jar but its tough to find out which jar is the cause of conflict. \r\n\r\nSo to check conflict, in __pom.xml__ there is ``Dependency Hierarchy`` tab in eclipse. In ``Resolved Dependency`` section check whether there are two jars with same name. If found then exclude one of them from parent dependency.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m2s8E.png\r\nIn my case it was jsp-api jar, By clicking on jsp-api jar I found that parent dependency is __activemq-core__ so I excluded jsp-api jar from activemq-core dependency and its working fine.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.6.0&lt;/version&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\r\n    \t\t &lt;/exclusion&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n    \t\t\t &lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n ","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>In my case it was because of conflict of dependency jar but its tough to find out which jar is the cause of conflict. </p>\n\n<p>So to check conflict, in <strong>pom.xml</strong> there is <code>Dependency Hierarchy</code> tab in eclipse. In <code>Resolved Dependency</code> section check whether there are two jars with same name. If found then exclude one of them from parent dependency.</p>\n\n<p><a href=\"https://i.stack.imgur.com/m2s8E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m2s8E.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my case it was jsp-api jar, By clicking on jsp-api jar I found that parent dependency is <strong>activemq-core</strong> so I excluded jsp-api jar from activemq-core dependency and its working fine.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n    &lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-2.1&lt;/artifactId&gt;\n         &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n             &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n             &lt;artifactId&gt;jsp-api-2.1&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5012146,"reputation":11,"user_id":4028100,"display_name":"Deepak Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539002846,"creation_date":1539002526,"answer_id":52702573,"question_id":17602988,"body_markdown":"I also had the similar problem and all these answers were not solving my problem. I was using drools in spark and implemented my code using java. I got the same error on cluster (On local system in eclipse it was working fine), the cause for this problem was ecj-x.x.x.jar file. On cluster some other version of jar file was present which was creating the compilation problem for drool file (.drl file). So in driver classpath I externally added the current version of ecj jar file and it worked for me.\r\n\r\nCommand which I used during spark-submit:   \r\n\r\n    spark2-submit --driver-class-path ecj-4.4.2.jar --class Yourclass Yourbundeledjarfile.jar","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I also had the similar problem and all these answers were not solving my problem. I was using drools in spark and implemented my code using java. I got the same error on cluster (On local system in eclipse it was working fine), the cause for this problem was ecj-x.x.x.jar file. On cluster some other version of jar file was present which was creating the compilation problem for drool file (.drl file). So in driver classpath I externally added the current version of ecj jar file and it worked for me.</p>\n\n<p>Command which I used during spark-submit:   </p>\n\n<pre><code>spark2-submit --driver-class-path ecj-4.4.2.jar --class Yourclass Yourbundeledjarfile.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619188100,"creation_date":1619187249,"answer_id":67231565,"question_id":17602988,"body_markdown":"In my case appears I had &quot;jdtcore&quot; dependency being pulled in by one thing (jasperreports), and ecj dependency being pulled in by another (drools).  Conflict, as mentioned by Tim&#39;s [answer][1]!\r\n\r\nFix was figure out which two dependencies were pulling it in, then either update jasperreports, so it no longer had the jdtcore dependency, or exclude jdtcore dependency from the jasperreports&#39; dependency in the pom file.  Here&#39;s the exclude:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n      &lt;version&gt;4.5.1&lt;/version&gt;\r\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n         &lt;!-- conflict with newer drools knowledge-api&#39;s ecj  --&gt;\r\n          &lt;groupId&gt;eclipse&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jdtcore&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSeems to fix:\r\n\r\nAttempt to fix sdb dying at startup, with our new drools&#39;ish jar:\r\n\r\n    Caused by: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/CategorizedProblem;\r\n            at org.drools.commons.jci.compilers.EclipseJavaCompiler$3.acceptResult(EclipseJavaCompiler.java:328)\r\n            at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:411)\r\n\r\n  [1]: https://stackoverflow.com/a/17605323/32453\r\n","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>In my case appears I had &quot;jdtcore&quot; dependency being pulled in by one thing (jasperreports), and ecj dependency being pulled in by another (drools).  Conflict, as mentioned by Tim's <a href=\"https://stackoverflow.com/a/17605323/32453\">answer</a>!</p>\n<p>Fix was figure out which two dependencies were pulling it in, then either update jasperreports, so it no longer had the jdtcore dependency, or exclude jdtcore dependency from the jasperreports' dependency in the pom file.  Here's the exclude:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n  &lt;version&gt;4.5.1&lt;/version&gt;\n  &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n     &lt;!-- conflict with newer drools knowledge-api's ecj  --&gt;\n      &lt;groupId&gt;eclipse&lt;/groupId&gt;\n      &lt;artifactId&gt;jdtcore&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Seems to fix:</p>\n<p>Attempt to fix sdb dying at startup, with our new drools'ish jar:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/CategorizedProblem;\n        at org.drools.commons.jci.compilers.EclipseJavaCompiler$3.acceptResult(EclipseJavaCompiler.java:328)\n        at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:411)\n</code></pre>\n"}],"owner":{"account_id":3032773,"reputation":151,"user_id":2571444,"accept_rate":11,"display_name":"naveen kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28361,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":11,"score":8,"last_activity_date":1633472871,"creation_date":1373574920,"question_id":17602988,"body_markdown":"I have created a web service in netbeans 6.7 and one project for client. The web service has a method which does some query from database and returns me an array.\r\nCalling the web service method in client.jsp file in web clients service gives error : \r\n\r\n    javax.servlet.ServletException: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/IProblem;\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:273)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n    \r\n    root cause\r\n    \r\n    java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/IProblem;\r\n    \torg.apache.jasper.compiler.JDTCompiler$2.acceptResult(JDTCompiler.java:354)\r\n    \torg.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:398)\r\n    \torg.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:425)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:298)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\r\n    \torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:299)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:315)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n    `\r\n\r\nI have imported jars from hadoop.","title":"java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult","body":"<p>I have created a web service in netbeans 6.7 and one project for client. The web service has a method which does some query from database and returns me an array.\nCalling the web service method in client.jsp file in web clients service gives error : </p>\n\n<pre><code>javax.servlet.ServletException: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/IProblem;\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:273)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n\nroot cause\n\njava.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()[Lorg/eclipse/jdt/core/compiler/IProblem;\n    org.apache.jasper.compiler.JDTCompiler$2.acceptResult(JDTCompiler.java:354)\n    org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:398)\n    org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:425)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:298)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\n    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:299)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:315)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n`\n</code></pre>\n\n<p>I have imported jars from hadoop.</p>\n"},{"tags":["java","sqlite","containers","out-of-memory","micronaut"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1633175919,"post_id":69415060,"comment_id":122693605,"body_markdown":"Is there a volume mounted to the target dump path?","body":"Is there a volume mounted to the target dump path?"},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1633178305,"post_id":69415060,"comment_id":122694149,"body_markdown":"@tmarwen Yes it mounted. That&#39;s not a issue as I was able to generate the heap dump when I allocated less Xmx to java application.","body":"@tmarwen Yes it mounted. That&#39;s not a issue as I was able to generate the heap dump when I allocated less Xmx to java application."}],"answers":[{"tags":[],"owner":{"account_id":12397658,"reputation":11,"user_id":9036589,"display_name":"Nirav Assar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633472020,"creation_date":1633471699,"answer_id":69457775,"question_id":69415060,"body_markdown":"A technique that i find effective to debug issues I can call &quot;isolate and strip down&quot;. The idea behind this is to isolate all the factors of this problem into separate concerns and keep iterating to find out which factor weighs into the most to cause the problem. It is a problem identification exercise. Once you have listed out some candidate problems, then you can shift your attention to a solution mindset.\r\n\r\nFor your particular issue, I can summarize whats happening as such (correct me if I am wrong)\r\n\r\n - use a database connection to prepare a statement, then assign it some variables, and execute.\r\n - get the result set. with the result set, fill the item entities and send them to a consumer in a batch (about 100). Then repeat\r\n\r\nFrom here i can extract a list of concerns. \r\n\r\n- 1. sql query the database and expect a result of 50k\r\n- 2. processing one resultSet row into an item entity\r\n- 3. passing one item entity into the consumer.\r\n\r\nSo isolate these concerns to debug it. While doing so comment out or delete the other parts of the code. \r\n\r\nFor item 1, see if the resulting set of 50k is causing an OOM error. adjust the query to have a max of 10k, 20k, 30k. Or start with 1k; see if 100 results works. Change the query a bit and see if you can add to it bit by bit and see when it break.\r\n\r\nFor item 2, is building the items in a loop of a 100 a problem. How about can you build it all the way to 500k. Try different amounts. \r\n\r\nFor Item 3, can you process one item to consumer without any issues. Can you send it mock items just created by hand and processing one batch of 100. Then raise it to a batch of 1000 or 5000. If successful rotate through and see at what point it fails. \r\n\r\nAnother angle is to mess with the memory limits. I would do this afterwards once you have some subset of the above working, and keeping incrementing until you see it break.\r\n\r\nA still another route is see if you can use Micronaut Repositories and entities to solve the same issue. both in a smaller context like 100 entities and then try to increment up to 50k. I dont think from what i see above that is micronaut issue, but experimenting will help rule it out with proof ","title":"How to find out the root cause of container going out of memory (OOM)","body":"<p>A technique that i find effective to debug issues I can call &quot;isolate and strip down&quot;. The idea behind this is to isolate all the factors of this problem into separate concerns and keep iterating to find out which factor weighs into the most to cause the problem. It is a problem identification exercise. Once you have listed out some candidate problems, then you can shift your attention to a solution mindset.</p>\n<p>For your particular issue, I can summarize whats happening as such (correct me if I am wrong)</p>\n<ul>\n<li>use a database connection to prepare a statement, then assign it some variables, and execute.</li>\n<li>get the result set. with the result set, fill the item entities and send them to a consumer in a batch (about 100). Then repeat</li>\n</ul>\n<p>From here i can extract a list of concerns.</p>\n<ul>\n<li>\n<ol>\n<li>sql query the database and expect a result of 50k</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>processing one resultSet row into an item entity</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>passing one item entity into the consumer.</li>\n</ol>\n</li>\n</ul>\n<p>So isolate these concerns to debug it. While doing so comment out or delete the other parts of the code.</p>\n<p>For item 1, see if the resulting set of 50k is causing an OOM error. adjust the query to have a max of 10k, 20k, 30k. Or start with 1k; see if 100 results works. Change the query a bit and see if you can add to it bit by bit and see when it break.</p>\n<p>For item 2, is building the items in a loop of a 100 a problem. How about can you build it all the way to 500k. Try different amounts.</p>\n<p>For Item 3, can you process one item to consumer without any issues. Can you send it mock items just created by hand and processing one batch of 100. Then raise it to a batch of 1000 or 5000. If successful rotate through and see at what point it fails.</p>\n<p>Another angle is to mess with the memory limits. I would do this afterwards once you have some subset of the above working, and keeping incrementing until you see it break.</p>\n<p>A still another route is see if you can use Micronaut Repositories and entities to solve the same issue. both in a smaller context like 100 entities and then try to increment up to 50k. I dont think from what i see above that is micronaut issue, but experimenting will help rule it out with proof</p>\n"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633472020,"creation_date":1633161296,"question_id":69415060,"body_markdown":"I am running a batch in my Micronaut application which fetches 500 000 records from db, picking batch of 100 items and after doing processing (which includes a api call for that batch) again inserting the data in another sqlite table.\r\n\r\n \r\n\r\n         try (Connection connection = dataSource.getConnection();\r\n                PreparedStatement statement = connection.prepareStatement(&quot;SELECT id,item_id,type,operation FROM table WHERE serial_id = ? AND type = ? AND fail_reason IS NULL&quot;  )) {\r\n                statement.setString(1, serialId);\r\n                statement.setString(2, type.name());\r\n                ResultSet resultSet = statement.executeQuery();\r\n                List&lt;ItemEntity&gt; itemEntities = new ArrayList&lt;&gt;(batchSize);\r\n                int i = 0;\r\n                while (resultSet.next()) {\r\n                    itemEntities.add(ItemEntity.builder()\r\n                            .id(resultSet.getString(&quot;id&quot;))\r\n                            .itemId(resultSet.getString(&quot;item_id&quot;))\r\n                            .type(ItemType.valueOf(resultSet.getString(&quot;type&quot;)))\r\n                            .operation(Operation.valueOf(resultSet.getString(&quot;operation&quot;)))\r\n                            .build());\r\n    \r\n                    i++;\r\n    \r\n                    if(i == batchSize) {\r\n                        i = 0;\r\n                        consumer.accept(itemEntities);\r\n                        itemEntities.clear();\r\n                    }\r\n                }\r\n    \r\n                if(!itemEntities.isEmpty())\r\n                    consumer.accept(itemEntities);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;error&quot;, ex);\r\n                throw new RuntimeException(&quot;error&quot;, ex);\r\n            }\r\n        }\r\n\r\nWhenever this batch is running container is restarting with exit code 137. I have checked with the below jvm arguments\r\n\r\n    -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/data/heapdump.hprof\r\n\r\nAs I am not getting any heapdump file after container restart So I am assuming it&#39;s not the Micronaut application that is causing container to go OOM. \r\n\r\nContainer memory limit is 512m.\r\n\r\nWhat are all the things I can try to debug this issue?","title":"How to find out the root cause of container going out of memory (OOM)","body":"<p>I am running a batch in my Micronaut application which fetches 500 000 records from db, picking batch of 100 items and after doing processing (which includes a api call for that batch) again inserting the data in another sqlite table.</p>\n<pre><code>     try (Connection connection = dataSource.getConnection();\n            PreparedStatement statement = connection.prepareStatement(&quot;SELECT id,item_id,type,operation FROM table WHERE serial_id = ? AND type = ? AND fail_reason IS NULL&quot;  )) {\n            statement.setString(1, serialId);\n            statement.setString(2, type.name());\n            ResultSet resultSet = statement.executeQuery();\n            List&lt;ItemEntity&gt; itemEntities = new ArrayList&lt;&gt;(batchSize);\n            int i = 0;\n            while (resultSet.next()) {\n                itemEntities.add(ItemEntity.builder()\n                        .id(resultSet.getString(&quot;id&quot;))\n                        .itemId(resultSet.getString(&quot;item_id&quot;))\n                        .type(ItemType.valueOf(resultSet.getString(&quot;type&quot;)))\n                        .operation(Operation.valueOf(resultSet.getString(&quot;operation&quot;)))\n                        .build());\n\n                i++;\n\n                if(i == batchSize) {\n                    i = 0;\n                    consumer.accept(itemEntities);\n                    itemEntities.clear();\n                }\n            }\n\n            if(!itemEntities.isEmpty())\n                consumer.accept(itemEntities);\n        } catch (Exception ex) {\n            log.error(&quot;error&quot;, ex);\n            throw new RuntimeException(&quot;error&quot;, ex);\n        }\n    }\n</code></pre>\n<p>Whenever this batch is running container is restarting with exit code 137. I have checked with the below jvm arguments</p>\n<pre><code>-XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/data/heapdump.hprof\n</code></pre>\n<p>As I am not getting any heapdump file after container restart So I am assuming it's not the Micronaut application that is causing container to go OOM.</p>\n<p>Container memory limit is 512m.</p>\n<p>What are all the things I can try to debug this issue?</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1633273835,"post_id":69426104,"comment_id":122710568,"body_markdown":"So what&#39;s the memory issue? Does it not get released when the batch finishes processing? Does it increase with every batch?","body":"So what&#39;s the memory issue? Does it not get released when the batch finishes processing? Does it increase with every batch?"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1633273903,"post_id":69426104,"comment_id":122710592,"body_markdown":"When I deploy this on openshift, I see that the amount of memory goes straight up during the processing (and keeps on going up without releasing anything). This step is part of a bigger job, but it goes out of memory before the job finishes. (OOM gets thrown)","body":"When I deploy this on openshift, I see that the amount of memory goes straight up during the processing (and keeps on going up without releasing anything). This step is part of a bigger job, but it goes out of memory before the job finishes. (OOM gets thrown)"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1633281366,"post_id":69426104,"comment_id":122712586,"body_markdown":"Did you try allocating more memory? Maybe it just needs more in your production environment. The fact that you OOM before the job finishes means you never get a good picture of what sort of resources the job needs as a whole.","body":"Did you try allocating more memory? Maybe it just needs more in your production environment. The fact that you OOM before the job finishes means you never get a good picture of what sort of resources the job needs as a whole."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1633286566,"post_id":69426104,"comment_id":122713961,"body_markdown":"@RoddyoftheFrozenPeas I don&#39;t want to allocate more memory. According tot he documentations I&#39;ve read, the gc will be called depending on chunk size defined. If the memory keeps increasing, it doesn&#39;t matter how much memory I allocate, we will run out of heap memory. It went from 280Mb -&gt; 1Gb.","body":"@RoddyoftheFrozenPeas I don&#39;t want to allocate more memory. According tot he documentations I&#39;ve read, the gc will be called depending on chunk size defined. If the memory keeps increasing, it doesn&#39;t matter how much memory I allocate, we will run out of heap memory. It went from 280Mb -&gt; 1Gb."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1633329352,"post_id":69426104,"comment_id":122720611,"body_markdown":"Which `CrudRepository` implementation are you using in your `RepositoryItemWriter`? If it is a JPA repository, then you might be facing an issue similar to https://stackoverflow.com/questions/54746793, in which case you need to call `org.springframework.data.jpa.repository.JpaRepository#flush` in your custom writer.","body":"Which <code>CrudRepository</code> implementation are you using in your <code>RepositoryItemWriter</code>? If it is a JPA repository, then you might be facing an issue similar to <a href=\"https://stackoverflow.com/questions/54746793\">stackoverflow.com/questions/54746793</a>, in which case you need to call <code>org.springframework.data.jpa.repository.JpaRepository#flush</code> in your custom writer."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1633334515,"post_id":69426104,"comment_id":122722170,"body_markdown":"@MahmoudBenHassine It is the RepositoryItemWriter in package org.springframework.batch.item.data;. It does use the CrudRepository, but I can&#39;t seem to access it directly since it has private access only. If not I could have done it in the `doWrite` override. I see that you are the author in comment. The heap memory issue is majorly solved; still had a heap issue, but it&#39;s just the jvm -Xmx setting I think. But it gets very slow still over time (took up to 4 hours I noticed); if you would have a suggestion to manage the flush?","body":"@MahmoudBenHassine It is the RepositoryItemWriter in package org.springframework.batch.item.data;. It does use the CrudRepository, but I can&#39;t seem to access it directly since it has private access only. If not I could have done it in the <code>doWrite</code> override. I see that you are the author in comment. The heap memory issue is majorly solved; still had a heap issue, but it&#39;s just the jvm -Xmx setting I think. But it gets very slow still over time (took up to 4 hours I noticed); if you would have a suggestion to manage the flush?"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1633336491,"post_id":69426104,"comment_id":122722875,"body_markdown":"Currently just adding the repository locally to the itemwriter itself / overriding the write method with repository.flush in the end; I don&#39;t suppose it makes a difference. I&#39;ll deploy / run it and share the result.","body":"Currently just adding the repository locally to the itemwriter itself / overriding the write method with repository.flush in the end; I don&#39;t suppose it makes a difference. I&#39;ll deploy / run it and share the result."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633341991,"post_id":69426104,"comment_id":122725069,"body_markdown":"Not just call `flush` also `clear`. You need the `EntityManager` for that. What happens is that objects get added to the 1st level cache and dirty checking is done. With a `flush()` you sync state to the database **but** the objects are still in the 1st level cache. WIth 100 objects this isn&#39;t an issue, when you have 100000 objects that is an issue.","body":"Not just call <code>flush</code> also <code>clear</code>. You need the <code>EntityManager</code> for that. What happens is that objects get added to the 1st level cache and dirty checking is done. With a <code>flush()</code> you sync state to the database <b>but</b> the objects are still in the 1st level cache. WIth 100 objects this isn&#39;t an issue, when you have 100000 objects that is an issue."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1633342788,"post_id":69426104,"comment_id":122725373,"body_markdown":"@M.Deinum You&#39;re right, thanks for the tip, I&#39;ll try this out in the afternoon.","body":"@M.Deinum You&#39;re right, thanks for the tip, I&#39;ll try this out in the afternoon."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1633348770,"post_id":69426104,"comment_id":122727663,"body_markdown":"Yes, it should be `flush` and `clear`. I seem to have forgotten to mention `clear` in my previous comment but this is mentioned in the similar question/answer I shared.","body":"Yes, it should be <code>flush</code> and <code>clear</code>. I seem to have forgotten to mention <code>clear</code> in my previous comment but this is mentioned in the similar question/answer I shared."}],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633471746,"creation_date":1633352101,"answer_id":69436325,"question_id":69426104,"body_markdown":"The issue got resolved (or at least to an acceptable level) with thanks to @Mahmoud Ben Hassine and @M. Deinum.  \r\nThe itemWriters look as follows: \r\n\r\n    @Component\r\n    public class MutationHistoryItemWriter extends RepositoryItemWriter&lt;AbstractMutationHistoryEntity&gt;{\r\n    \r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \tprivate final MutationHistoryRepository mutationHistoryRepository;\r\n    \r\n    \tpublic MutationHistoryItemWriter(MutationHistoryRepository mutationHistoryRepository) {\r\n    \t\tthis.mutationHistoryRepository = mutationHistoryRepository;\r\n    \t\tsetRepository(mutationHistoryRepository);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(List&lt;? extends AbstractMutationHistoryEntity&gt; items) throws Exception {\r\n    \t\tsuper.write(items);\r\n    \t\tmutationHistoryRepository.flush();\r\n    \t\tentityManager.clear();\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class MirrorItemWriter  extends RepositoryItemWriter&lt;SumoCmMemberEntity&gt; {\r\n    \r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \tprivate final SumoCmMemberRepository sumoCmMemberRepository;\r\n    \r\n    \tpublic MirrorItemWriter(SumoCmMemberRepository sumoCmMemberRepository) {\r\n    \t\tthis.sumoCmMemberRepository = sumoCmMemberRepository;\r\n    \t\tsetRepository(sumoCmMemberRepository);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(List&lt;? extends SumoCmMemberEntity&gt; items) throws Exception {\r\n    \t\tsuper.write(items);\r\n    \t\tsumoCmMemberRepository.flush();\r\n    \t\tentityManager.clear();\r\n    \t}\r\n    \r\n    }\r\n\r\nInterestingly: \r\n\r\n - Writing the xml also suddenly sped up drastically (step 1) after flushing the writers and clearing the entityManagers, which doesn&#39;t make sense to me but hey it works (I don&#39;t use async processing or multithreading).  \r\n - The HibernateCursorItemReader performs more normal now as well. I&#39;m not sure what the behavior of massive memory consumption triggered during my initial tests (difference between HibernateCursorItemReader vs RepositoryItemReader), but it doesn&#39;t matter at this point.  \r\n\r\nI executed the test 2 times with a break in between, \r\nprocessing 3steps * 200k records (600k total) and this 2 times.  \r\n\r\nIt basically went from 4 hours + heap overflow to a mere few minutes on the first run:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the second run, I see some degradation happen again, but is still what I &#39;d consider fast considering the situation before: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor some reason, the memory just doesn&#39;t want to give it break though. \r\nI&#39;m starting to take it personal (LoL).  \r\nThe processor spikes briefly, but nothing out of order.  \r\n\r\n[![enter image description here][3]][3]\r\n\r\nIt is not really a problem for me, since the 200k records is just a load test. Initial state will be set through sql scripts, so it&#39;s not really an issue. Consequent mutations will concern a few thousands per week at max.  \r\nWe will also putting Influx / Grafana monitoring, so we will be able to monitor the jvm + have alerting.  \r\nStill bothers me a bit though so I will continue to do some tests the rest of the day.\r\n\r\nEdit: \r\nAfter replacing all HibernateCursorItemReaders by RepositoryItemReaders, the memory consumption looks good.  \r\nFollowing graph represents 2 batch runs for 600k records total each: \r\n\r\n[![enter image description here][4]][4]\r\n\r\nDealing with a strange issue that only half of my records were stored in the db, but that may be because of an unrelated bug. \r\n\r\nEdit: \r\nOnly half of the records were stored because the RepositoryItemReader is paginated. I fixed the memory bug with the HibernateItemReader meanwhile.  \r\n\r\n    @Component\r\n    public class OptInItemReader extends HibernateCursorItemReader&lt;BodiCmMemberEntity&gt; {\r\n    \r\n    \tSessionFactory sessionFactory;\r\n    \r\n    \tprivate static final String ITEM_READER_NAME = &quot;OPT_IN_ITEM_READER&quot;;\r\n    \tprivate static final String QUERY_FIND_OPT_INS =\r\n    \r\n    \t\t\t&quot;&quot;&quot;\r\n    \t\t\tYour query \r\n    \t\t\t&quot;&quot;&quot;;\r\n    \r\n    \tpublic OptInItemReader(SessionFactory sessionFactory) throws Exception {\r\n    \t\tthis.sessionFactory = sessionFactory;\r\n    \t\tsetName(ITEM_READER_NAME);\r\n    \t\tsetSessionFactory(sessionFactory);\r\n    \t\tsetQueryProvider(provider(QUERY_FIND_OPT_INS, sessionFactory));\r\n    \t}\r\n    \r\n    \tprivate HibernateNativeQueryProvider&lt;BodiCmMemberEntity&gt; provider(String query, SessionFactory sessionFactory) {\r\n    \t\tHibernateNativeQueryProvider&lt;BodiCmMemberEntity&gt; provider = new HibernateNativeQueryProvider&lt;&gt;();\r\n    \t\tprovider.setSqlQuery(query);\r\n    \t\tprovider.setEntityClass(BodiCmMemberEntity.class);\r\n    \t\treturn provider;\r\n    \t}\r\n    \r\n    }\r\n\r\nI assigned a session on which I began a transacton manually in the provider which wasn&#39;t needed. Now the flush is properly managed internally. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UkIOhl.png\r\n  [2]: https://i.stack.imgur.com/Idy0rl.png\r\n  [3]: https://i.stack.imgur.com/4sdmk.png\r\n  [4]: https://i.stack.imgur.com/UNo8A.png","title":"Spring batch memory through the roof","body":"<p>The issue got resolved (or at least to an acceptable level) with thanks to @Mahmoud Ben Hassine and @M. Deinum.<br />\nThe itemWriters look as follows:</p>\n<pre><code>@Component\npublic class MutationHistoryItemWriter extends RepositoryItemWriter&lt;AbstractMutationHistoryEntity&gt;{\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private final MutationHistoryRepository mutationHistoryRepository;\n\n    public MutationHistoryItemWriter(MutationHistoryRepository mutationHistoryRepository) {\n        this.mutationHistoryRepository = mutationHistoryRepository;\n        setRepository(mutationHistoryRepository);\n    }\n\n    @Override\n    public void write(List&lt;? extends AbstractMutationHistoryEntity&gt; items) throws Exception {\n        super.write(items);\n        mutationHistoryRepository.flush();\n        entityManager.clear();\n    }\n\n}\n\npublic class MirrorItemWriter  extends RepositoryItemWriter&lt;SumoCmMemberEntity&gt; {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private final SumoCmMemberRepository sumoCmMemberRepository;\n\n    public MirrorItemWriter(SumoCmMemberRepository sumoCmMemberRepository) {\n        this.sumoCmMemberRepository = sumoCmMemberRepository;\n        setRepository(sumoCmMemberRepository);\n    }\n\n    @Override\n    public void write(List&lt;? extends SumoCmMemberEntity&gt; items) throws Exception {\n        super.write(items);\n        sumoCmMemberRepository.flush();\n        entityManager.clear();\n    }\n\n}\n</code></pre>\n<p>Interestingly:</p>\n<ul>\n<li>Writing the xml also suddenly sped up drastically (step 1) after flushing the writers and clearing the entityManagers, which doesn't make sense to me but hey it works (I don't use async processing or multithreading).</li>\n<li>The HibernateCursorItemReader performs more normal now as well. I'm not sure what the behavior of massive memory consumption triggered during my initial tests (difference between HibernateCursorItemReader vs RepositoryItemReader), but it doesn't matter at this point.</li>\n</ul>\n<p>I executed the test 2 times with a break in between,\nprocessing 3steps * 200k records (600k total) and this 2 times.</p>\n<p>It basically went from 4 hours + heap overflow to a mere few minutes on the first run:</p>\n<p><a href=\"https://i.stack.imgur.com/UkIOhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkIOhl.png\" alt=\"enter image description here\" /></a></p>\n<p>On the second run, I see some degradation happen again, but is still what I 'd consider fast considering the situation before:</p>\n<p><a href=\"https://i.stack.imgur.com/Idy0rl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Idy0rl.png\" alt=\"enter image description here\" /></a></p>\n<p>For some reason, the memory just doesn't want to give it break though.\nI'm starting to take it personal (LoL).<br />\nThe processor spikes briefly, but nothing out of order.</p>\n<p><a href=\"https://i.stack.imgur.com/4sdmk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4sdmk.png\" alt=\"enter image description here\" /></a></p>\n<p>It is not really a problem for me, since the 200k records is just a load test. Initial state will be set through sql scripts, so it's not really an issue. Consequent mutations will concern a few thousands per week at max.<br />\nWe will also putting Influx / Grafana monitoring, so we will be able to monitor the jvm + have alerting.<br />\nStill bothers me a bit though so I will continue to do some tests the rest of the day.</p>\n<p>Edit:\nAfter replacing all HibernateCursorItemReaders by RepositoryItemReaders, the memory consumption looks good.<br />\nFollowing graph represents 2 batch runs for 600k records total each:</p>\n<p><a href=\"https://i.stack.imgur.com/UNo8A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UNo8A.png\" alt=\"enter image description here\" /></a></p>\n<p>Dealing with a strange issue that only half of my records were stored in the db, but that may be because of an unrelated bug.</p>\n<p>Edit:\nOnly half of the records were stored because the RepositoryItemReader is paginated. I fixed the memory bug with the HibernateItemReader meanwhile.</p>\n<pre><code>@Component\npublic class OptInItemReader extends HibernateCursorItemReader&lt;BodiCmMemberEntity&gt; {\n\n    SessionFactory sessionFactory;\n\n    private static final String ITEM_READER_NAME = &quot;OPT_IN_ITEM_READER&quot;;\n    private static final String QUERY_FIND_OPT_INS =\n\n            &quot;&quot;&quot;\n            Your query \n            &quot;&quot;&quot;;\n\n    public OptInItemReader(SessionFactory sessionFactory) throws Exception {\n        this.sessionFactory = sessionFactory;\n        setName(ITEM_READER_NAME);\n        setSessionFactory(sessionFactory);\n        setQueryProvider(provider(QUERY_FIND_OPT_INS, sessionFactory));\n    }\n\n    private HibernateNativeQueryProvider&lt;BodiCmMemberEntity&gt; provider(String query, SessionFactory sessionFactory) {\n        HibernateNativeQueryProvider&lt;BodiCmMemberEntity&gt; provider = new HibernateNativeQueryProvider&lt;&gt;();\n        provider.setSqlQuery(query);\n        provider.setEntityClass(BodiCmMemberEntity.class);\n        return provider;\n    }\n\n}\n</code></pre>\n<p>I assigned a session on which I began a transacton manually in the provider which wasn't needed. Now the flush is properly managed internally.</p>\n"}],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2942,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69436325,"answer_count":1,"score":2,"last_activity_date":1633471746,"creation_date":1633273634,"question_id":69426104,"body_markdown":"I&#39;m dealing with a serious memory issue in Spring Batch which is a worrisome issue.  \r\nThe flow is simple: read from Oracle, convert to another object type, and write it back to another table. It concerns 200k records.  \r\nI tried both HibernateCursorItemReader and RepositoryItemReader.  \r\n\r\nMy job executes the following step: \r\n\r\n\t@Bean\r\n\tpublic Step optInMutationHistoryStep() {\r\n\t\treturn stepBuilderFactory\r\n\t\t\t\t.get(STEP_NAME)\r\n\t\t\t\t.&lt;BodiCmMemberEntity, AbstractMutationHistoryEntity&gt; chunk(5)\r\n\t\t\t\t.reader(optInItemReader)\r\n\t\t\t\t.processor(optInMutationHistoryItemProcessor)\r\n\t\t\t\t.writer(mutationHistoryItemWriter)\r\n\t\t\t\t.faultTolerant()\r\n\t\t\t\t.skipPolicy(itemSkipPolicy)\r\n\t\t\t\t.skip(Exception.class)\r\n\t\t\t\t.listener((StepExecutionListener) optInCountListener)\r\n\t\t\t\t.build();\r\n\r\n\t}\r\n\r\nReader: \r\n\r\n    @Component\r\n    public class OptInItemReaderTest extends RepositoryItemReader&lt;BodiCmMemberEntity&gt; {\r\n    \r\n    \tpublic OptInItemReaderTest(BodiCmMemberRepository bodiCmMemberRepository){\r\n    \t\tsetRepository(bodiCmMemberRepository);\r\n    \t\tsetMethodName(&quot;findAllOptIns&quot;);\r\n    \t\tsetPageSize(100);\r\n    \t\tMap&lt;String, Sort.Direction&gt; sort = new HashMap&lt;&gt;();\r\n    \t\tsort.put(&quot;member_number&quot;, Sort.Direction.ASC);\r\n    \t\tsetSort(new HashMap&lt;&gt;(sort));\r\n    \t}\r\n    \r\n    }\r\n\r\nProcessor: \r\n\r\n    @Component\r\n    @StepScope\r\n    public class OptInMutationHistoryItemProcessor implements ItemProcessor&lt;CmMemberEntity, AbstractMutationHistoryEntity&gt; {\r\n    \r\n    \tLong jobId;\r\n    \r\n    \t@BeforeStep\r\n    \tpublic void beforeStep(StepExecution stepExecution){\r\n    \t\tjobId = stepExecution.getJobExecutionId();\r\n    \t}\r\n    \r\n    \tprivate final MutationHistoryBatchFactory mutationHistoryFactory;\r\n    \r\n    \tpublic OptInMutationHistoryItemProcessor(MutationHistoryBatchFactory mutationHistoryFactory) {\r\n    \t\tthis.mutationHistoryFactory = mutationHistoryFactory;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic AbstractMutationHistoryEntity process(CmMemberEntity cmMemberEntity){\r\n    \t\treturn mutationHistoryFactory.addMutationHistoryEntity(cmMemberEntity, jobId, OPT_IN);\r\n    \t}\r\n    }\r\n\r\nItemwriter: \r\n\r\n    @Component\r\n    public class MutationHistoryItemWriter extends RepositoryItemWriter&lt;AbstractMutationHistoryEntity&gt;{\r\n    \r\n    \tpublic MutationHistoryItemWriter(MutationHistoryRepository mutationHistoryRepository) {\r\n    \t\tsetRepository(mutationHistoryRepository);\r\n    \t}\r\n    }\r\n\r\n\r\nThe factory method that I use in the processor: \r\n\r\n\tpublic AbstractMutationHistoryEntity addMutationHistoryEntity(CmMemberEntity cmMemberEntity, Long jobId, JobType jobType) {\r\n\t\treturn mutationHistoryEntityBuilder(cmMemberEntity, jobId, jobType, MutationType.ADD)\r\n\t\t\t\t.editionCode(cmMemberEntity.getPoleEditionCodeEntity().getEditionCode())\r\n\t\t\t\t.firstName(cmMemberEntity.getFirstName())\r\n\t\t\t\t.lastName(cmMemberEntity.getLastName())\r\n\t\t\t\t.streetName(cmMemberEntity.getStreetName())\r\n\t\t\t\t.houseNumber(cmMemberEntity.getHouseNumber())\r\n\t\t\t\t.box(cmMemberEntity.getBox())\r\n\t\t\t\t.postalCode(cmMemberEntity.getPostalCode())\r\n\t\t\t\t.numberPieces(DEFAULT_NUMBER_PIECES)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nI don&#39;t see immediate references held in memory, not sure what causes the rapid memory increase. It doubles quickly.  \r\n\r\nIntuitively I feel the problem is either that the retrieved resultset isn&#39;t regularly flushed, or the processor leaks somehow, but not sure why since I don&#39;t hold references to the objects that I create within the processor. \r\n\r\nAny suggestion? \r\n\r\nEdit: \r\n\r\nMy full job looks as follows: \r\n\r\n\t@Bean\r\n\tpublic Job optInJob(\r\n\t\t\tOptInJobCompletionNotificationListener listener,\r\n\t\t\t@Qualifier(&quot;optInSumoStep&quot;) Step optInSumoStep,\r\n\t\t\t@Qualifier(&quot;optInMutationHistoryStep&quot;) Step optInMutationHistoryStep,\r\n\t\t\t@Qualifier(&quot;optInMirrorStep&quot;) Step optInMirrorStep) {\r\n\t\treturn jobBuilderFactory.get(OPT_IN_JOB)\r\n\t\t\t\t.incrementer(new RunIdIncrementer())\r\n\t\t\t\t.listener(listener)\r\n\t\t\t\t.flow(optInSumoStep)\r\n\t\t\t\t.next(optInMutationHistoryStep)\r\n\t\t\t\t.next(optInMirrorStep)\r\n\t\t\t\t.end()\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nIn the first step, the same itemreader is used to write records to an XML. In the second step, the step as initially shared is executed.  \r\nIn OpenShift it&#39;s pretty clear that nothing gets cleaned up, and I don&#39;t hold any references afaik; I wouldn&#39;t know why I would: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt is pretty clear that the consumption does flatten after a while, but ik keeps rising, it never goes down. After the first step (around 680Mb), I would have assumed it would have. Even more, I would expect the curve to go flat during the first step as well; after increasing chunk size to 100, memory should get released each 100 processed chunks.  \r\n\r\nThe HibernateCursorItemReader is pretty disastrous; it rose already to 700Mb during the first step. The repositoryItemWriter seems to perform better. Maybe there&#39;s a reason for it, but I&#39;m not clear which one it is. \r\n\r\nI can&#39;t say right now if anything will get cleaned up after the job; as it processes 200k records, it takes some time and I assume it will run out of memory again before it finishes.  \r\n\r\nI&#39;m concerned we won&#39;t be ready for production if we don&#39;t manage to solve this problem. \r\n\r\nEdit 2: \r\n\r\nInterestingly, the curve has flattened to the point where memory consumption doesn&#39;t increase in step 2. It&#39;s interesting; I couldn&#39;t currently tell why that is &#39;now&#39;. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nCurrent hope / expectation is that step 3 doesn&#39;t increase memory consumption, and that the memory gets cleaned up after the job has finished. \r\nIt does appear that the insert speed has drastically slowed down. I estimate by a factor of 3 (about 110k records in the second step). \r\n\r\nEdit 3: \r\nApplying flush on the itemwriter didn&#39;t do anything to either the reducing memory consumption or speed: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nActually it&#39;s running straight for my limits this time, however I can&#39;t explain it: \r\n\r\n[![enter image description here][5]][5]\r\n\r\nYou can clearly see how the process slows down tremendously, for just reading, transforming, writing records. \r\n\r\n[![enter image description here][6]][6]\r\n\r\nI have currently no idea why, but for a batch application I don&#39;t think this is acceptable behavior for us to move this to production. After two batch runs it would just go stale.   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T2B1r.png\r\n  [2]: https://i.stack.imgur.com/EQpaR.png\r\n  [3]: https://i.stack.imgur.com/p08J9.png\r\n  [4]: https://i.stack.imgur.com/oQ9ub.png\r\n  [5]: https://i.stack.imgur.com/TH2jI.png\r\n  [6]: https://i.stack.imgur.com/mBold.png","title":"Spring batch memory through the roof","body":"<p>I'm dealing with a serious memory issue in Spring Batch which is a worrisome issue.<br />\nThe flow is simple: read from Oracle, convert to another object type, and write it back to another table. It concerns 200k records.<br />\nI tried both HibernateCursorItemReader and RepositoryItemReader.</p>\n<p>My job executes the following step:</p>\n<pre><code>@Bean\npublic Step optInMutationHistoryStep() {\n    return stepBuilderFactory\n            .get(STEP_NAME)\n            .&lt;BodiCmMemberEntity, AbstractMutationHistoryEntity&gt; chunk(5)\n            .reader(optInItemReader)\n            .processor(optInMutationHistoryItemProcessor)\n            .writer(mutationHistoryItemWriter)\n            .faultTolerant()\n            .skipPolicy(itemSkipPolicy)\n            .skip(Exception.class)\n            .listener((StepExecutionListener) optInCountListener)\n            .build();\n\n}\n</code></pre>\n<p>Reader:</p>\n<pre><code>@Component\npublic class OptInItemReaderTest extends RepositoryItemReader&lt;BodiCmMemberEntity&gt; {\n\n    public OptInItemReaderTest(BodiCmMemberRepository bodiCmMemberRepository){\n        setRepository(bodiCmMemberRepository);\n        setMethodName(&quot;findAllOptIns&quot;);\n        setPageSize(100);\n        Map&lt;String, Sort.Direction&gt; sort = new HashMap&lt;&gt;();\n        sort.put(&quot;member_number&quot;, Sort.Direction.ASC);\n        setSort(new HashMap&lt;&gt;(sort));\n    }\n\n}\n</code></pre>\n<p>Processor:</p>\n<pre><code>@Component\n@StepScope\npublic class OptInMutationHistoryItemProcessor implements ItemProcessor&lt;CmMemberEntity, AbstractMutationHistoryEntity&gt; {\n\n    Long jobId;\n\n    @BeforeStep\n    public void beforeStep(StepExecution stepExecution){\n        jobId = stepExecution.getJobExecutionId();\n    }\n\n    private final MutationHistoryBatchFactory mutationHistoryFactory;\n\n    public OptInMutationHistoryItemProcessor(MutationHistoryBatchFactory mutationHistoryFactory) {\n        this.mutationHistoryFactory = mutationHistoryFactory;\n    }\n\n    @Override\n    public AbstractMutationHistoryEntity process(CmMemberEntity cmMemberEntity){\n        return mutationHistoryFactory.addMutationHistoryEntity(cmMemberEntity, jobId, OPT_IN);\n    }\n}\n</code></pre>\n<p>Itemwriter:</p>\n<pre><code>@Component\npublic class MutationHistoryItemWriter extends RepositoryItemWriter&lt;AbstractMutationHistoryEntity&gt;{\n\n    public MutationHistoryItemWriter(MutationHistoryRepository mutationHistoryRepository) {\n        setRepository(mutationHistoryRepository);\n    }\n}\n</code></pre>\n<p>The factory method that I use in the processor:</p>\n<pre><code>public AbstractMutationHistoryEntity addMutationHistoryEntity(CmMemberEntity cmMemberEntity, Long jobId, JobType jobType) {\n    return mutationHistoryEntityBuilder(cmMemberEntity, jobId, jobType, MutationType.ADD)\n            .editionCode(cmMemberEntity.getPoleEditionCodeEntity().getEditionCode())\n            .firstName(cmMemberEntity.getFirstName())\n            .lastName(cmMemberEntity.getLastName())\n            .streetName(cmMemberEntity.getStreetName())\n            .houseNumber(cmMemberEntity.getHouseNumber())\n            .box(cmMemberEntity.getBox())\n            .postalCode(cmMemberEntity.getPostalCode())\n            .numberPieces(DEFAULT_NUMBER_PIECES)\n            .build();\n}\n</code></pre>\n<p>I don't see immediate references held in memory, not sure what causes the rapid memory increase. It doubles quickly.</p>\n<p>Intuitively I feel the problem is either that the retrieved resultset isn't regularly flushed, or the processor leaks somehow, but not sure why since I don't hold references to the objects that I create within the processor.</p>\n<p>Any suggestion?</p>\n<p>Edit:</p>\n<p>My full job looks as follows:</p>\n<pre><code>@Bean\npublic Job optInJob(\n        OptInJobCompletionNotificationListener listener,\n        @Qualifier(&quot;optInSumoStep&quot;) Step optInSumoStep,\n        @Qualifier(&quot;optInMutationHistoryStep&quot;) Step optInMutationHistoryStep,\n        @Qualifier(&quot;optInMirrorStep&quot;) Step optInMirrorStep) {\n    return jobBuilderFactory.get(OPT_IN_JOB)\n            .incrementer(new RunIdIncrementer())\n            .listener(listener)\n            .flow(optInSumoStep)\n            .next(optInMutationHistoryStep)\n            .next(optInMirrorStep)\n            .end()\n            .build();\n}\n</code></pre>\n<p>In the first step, the same itemreader is used to write records to an XML. In the second step, the step as initially shared is executed.<br />\nIn OpenShift it's pretty clear that nothing gets cleaned up, and I don't hold any references afaik; I wouldn't know why I would:</p>\n<p><a href=\"https://i.stack.imgur.com/T2B1r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2B1r.png\" alt=\"enter image description here\" /></a></p>\n<p>It is pretty clear that the consumption does flatten after a while, but ik keeps rising, it never goes down. After the first step (around 680Mb), I would have assumed it would have. Even more, I would expect the curve to go flat during the first step as well; after increasing chunk size to 100, memory should get released each 100 processed chunks.</p>\n<p>The HibernateCursorItemReader is pretty disastrous; it rose already to 700Mb during the first step. The repositoryItemWriter seems to perform better. Maybe there's a reason for it, but I'm not clear which one it is.</p>\n<p>I can't say right now if anything will get cleaned up after the job; as it processes 200k records, it takes some time and I assume it will run out of memory again before it finishes.</p>\n<p>I'm concerned we won't be ready for production if we don't manage to solve this problem.</p>\n<p>Edit 2:</p>\n<p>Interestingly, the curve has flattened to the point where memory consumption doesn't increase in step 2. It's interesting; I couldn't currently tell why that is 'now'.</p>\n<p><a href=\"https://i.stack.imgur.com/EQpaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQpaR.png\" alt=\"enter image description here\" /></a></p>\n<p>Current hope / expectation is that step 3 doesn't increase memory consumption, and that the memory gets cleaned up after the job has finished.\nIt does appear that the insert speed has drastically slowed down. I estimate by a factor of 3 (about 110k records in the second step).</p>\n<p>Edit 3:\nApplying flush on the itemwriter didn't do anything to either the reducing memory consumption or speed:</p>\n<p><a href=\"https://i.stack.imgur.com/p08J9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p08J9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oQ9ub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQ9ub.png\" alt=\"enter image description here\" /></a></p>\n<p>Actually it's running straight for my limits this time, however I can't explain it:</p>\n<p><a href=\"https://i.stack.imgur.com/TH2jI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TH2jI.png\" alt=\"enter image description here\" /></a></p>\n<p>You can clearly see how the process slows down tremendously, for just reading, transforming, writing records.</p>\n<p><a href=\"https://i.stack.imgur.com/mBold.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mBold.png\" alt=\"enter image description here\" /></a></p>\n<p>I have currently no idea why, but for a batch application I don't think this is acceptable behavior for us to move this to production. After two batch runs it would just go stale.</p>\n"},{"tags":["java","counting"],"answers":[{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633471116,"creation_date":1633471116,"answer_id":69457689,"question_id":69456682,"body_markdown":"You have invalid conditions in last `if` (most nested one) - you need to make sure that next character (called `nextLetter` in your code) is none of the characters you check but you use OR instead of AND conditions there so it&#39;s always true (because character cannot be two different characters at the same time).\r\n\r\nSo you can change this `if` to:\r\n```\r\nif(nextLetter != &#39;.&#39; &amp;&amp; nextLetter != &#39;:&#39; &amp;&amp; nextLetter != &#39;;&#39; &amp;&amp; nextLetter != &#39;?&#39; &amp;&amp; nextLetter != &#39;!&#39;&amp;&amp; nextLetter != &#39; &#39; &amp;&amp; nextLetter != &#39;\\n&#39; &amp;&amp; nextLetter != &#39;\\t&#39;)\r\n```\r\n\r\nand it will count the words correctly. Make sure that you count also the first word because currently if you start with `numWords` set to zero, it will print `9` for your example instead of `10` - because first word is not counted. So you should count it as well.\r\n\r\nBtw. Your code could be significantly simplified in several ways, you can also use alternative approaches like `split` function (from String). ","title":"Why is this counting the number of words incorrectly?","body":"<p>You have invalid conditions in last <code>if</code> (most nested one) - you need to make sure that next character (called <code>nextLetter</code> in your code) is none of the characters you check but you use OR instead of AND conditions there so it's always true (because character cannot be two different characters at the same time).</p>\n<p>So you can change this <code>if</code> to:</p>\n<pre><code>if(nextLetter != '.' &amp;&amp; nextLetter != ':' &amp;&amp; nextLetter != ';' &amp;&amp; nextLetter != '?' &amp;&amp; nextLetter != '!'&amp;&amp; nextLetter != ' ' &amp;&amp; nextLetter != '\\n' &amp;&amp; nextLetter != '\\t')\n</code></pre>\n<p>and it will count the words correctly. Make sure that you count also the first word because currently if you start with <code>numWords</code> set to zero, it will print <code>9</code> for your example instead of <code>10</code> - because first word is not counted. So you should count it as well.</p>\n<p>Btw. Your code could be significantly simplified in several ways, you can also use alternative approaches like <code>split</code> function (from String).</p>\n"},{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633471667,"creation_date":1633471250,"answer_id":69457712,"question_id":69456682,"body_markdown":"The following line is always true:\r\n\r\n````java\r\nif(nextLetter != &#39;.&#39; || nextLetter != &#39;:&#39; || nextLetter != &#39;;&#39; || nextLetter != &#39;?&#39; || nextLetter != &#39;!&#39;|| nextLetter != &#39; &#39; || nextLetter != &#39;\\n&#39; || nextLetter != &#39;\\t&#39;)\r\n````\r\n\r\nChange it to: \r\n\r\n````java\r\nif(nextLetter != &#39;.&#39; &amp;&amp; nextLetter != &#39;:&#39; &amp;&amp; nextLetter != &#39;;&#39; &amp;&amp; nextLetter != &#39;?&#39; &amp;&amp; nextLetter != &#39;!&#39;&amp;&amp; nextLetter != &#39; &#39; &amp;&amp; nextLetter != &#39;\\n&#39; &amp;&amp; nextLetter != &#39;\\t&#39;)\r\n````\r\nStarting your count to `int numwords = 1;` will give you an incorrect count. Start at 0.  \r\n\r\nYour second input is starting with `!` which is adding a word to the count.  \r\nYou have to check if the character after a terminator is a letter or not to avoid this behavior:\r\n\r\n````java\r\n public static void words(String text) {\r\n        int numWords = 0;\r\n        final String wordTerminators = &quot;.:;?! \\n\\t&quot;;\r\n        for (int charNum = 0; charNum &lt; text.length() - 1; charNum++) {\r\n            char letter = text.charAt(charNum);\r\n           \r\n            char nextLetter = text.charAt(charNum + 1);\r\n            if (wordTerminators.contains(letter + &quot;&quot;)) {\r\n                if (!wordTerminators.contains(nextLetter + &quot;&quot;) &amp;&amp; !(nextLetter+&quot;&quot;).matches(&quot;[A-Za-z]&quot;))\r\n                    numWords += 1;\r\n            }\r\n\r\n        }\r\n        System.out.println(&quot;Number of words: &quot; + numWords);\r\n    }\r\n````\r\n\r\nHere is a cleaner version of my solution:\r\n\r\n````java\r\n    public static void words(String text) {\r\n        int numWords = 0;\r\n        \r\n        String[] splitted = text.split(&quot;[.:;?! \\\\n\\\\t]+&quot;);\r\n        for (String word : splitted) {\r\n            if (word.length() &gt; 0)\r\n                numWords++;\r\n        }\r\n        System.out.println(&quot;Number of words: &quot; + numWords);\r\n    }\r\n````\r\n\r\nBoth methods outputs are:\r\n````\r\nNumber of words: 10\r\nNumber of words: 10\r\n````","title":"Why is this counting the number of words incorrectly?","body":"<p>The following line is always true:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(nextLetter != '.' || nextLetter != ':' || nextLetter != ';' || nextLetter != '?' || nextLetter != '!'|| nextLetter != ' ' || nextLetter != '\\n' || nextLetter != '\\t')\n</code></pre>\n<p>Change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(nextLetter != '.' &amp;&amp; nextLetter != ':' &amp;&amp; nextLetter != ';' &amp;&amp; nextLetter != '?' &amp;&amp; nextLetter != '!'&amp;&amp; nextLetter != ' ' &amp;&amp; nextLetter != '\\n' &amp;&amp; nextLetter != '\\t')\n</code></pre>\n<p>Starting your count to <code>int numwords = 1;</code> will give you an incorrect count. Start at 0.</p>\n<p>Your second input is starting with <code>!</code> which is adding a word to the count.<br />\nYou have to check if the character after a terminator is a letter or not to avoid this behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static void words(String text) {\n        int numWords = 0;\n        final String wordTerminators = &quot;.:;?! \\n\\t&quot;;\n        for (int charNum = 0; charNum &lt; text.length() - 1; charNum++) {\n            char letter = text.charAt(charNum);\n           \n            char nextLetter = text.charAt(charNum + 1);\n            if (wordTerminators.contains(letter + &quot;&quot;)) {\n                if (!wordTerminators.contains(nextLetter + &quot;&quot;) &amp;&amp; !(nextLetter+&quot;&quot;).matches(&quot;[A-Za-z]&quot;))\n                    numWords += 1;\n            }\n\n        }\n        System.out.println(&quot;Number of words: &quot; + numWords);\n    }\n</code></pre>\n<p>Here is a cleaner version of my solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void words(String text) {\n        int numWords = 0;\n        \n        String[] splitted = text.split(&quot;[.:;?! \\\\n\\\\t]+&quot;);\n        for (String word : splitted) {\n            if (word.length() &gt; 0)\n                numWords++;\n        }\n        System.out.println(&quot;Number of words: &quot; + numWords);\n    }\n</code></pre>\n<p>Both methods outputs are:</p>\n<pre><code>Number of words: 10\nNumber of words: 10\n</code></pre>\n"}],"owner":{"account_id":22952278,"reputation":1,"user_id":17083387,"display_name":"mr struggle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633471667,"creation_date":1633464488,"question_id":69456682,"body_markdown":" public static void words(String text) {\r\n    \tint numWords = 1;\r\n    \t\r\n    \tfor (int charNum = 0; charNum &lt; text.length(); charNum++) {\r\n    \t\tchar letter = text.charAt(charNum);\r\n    \t\t\r\n    \t\tif(charNum + 1 &lt; text.length()) {\r\n\t\t\t\tchar nextLetter = text.charAt(charNum + 1);\r\n\t\t\t\tif(letter == &#39;.&#39; || letter == &#39;:&#39; || letter == &#39;;&#39; || letter == &#39;?&#39; || letter == &#39;!&#39;|| letter == &#39; &#39; || letter == &#39;\\n&#39; || letter == &#39;\\t&#39;) {\r\n\t\t\t\t\tif(nextLetter != &#39;.&#39; || nextLetter != &#39;:&#39; || nextLetter != &#39;;&#39; || nextLetter != &#39;?&#39; || nextLetter != &#39;!&#39;|| nextLetter != &#39; &#39; || nextLetter != &#39;\\n&#39; || nextLetter != &#39;\\t&#39;)\r\n\t\t\t\t\t\tnumWords += 1;\r\n\t\t\t\t}\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tSystem.out.println(&quot;Number of words: &quot; + numWords);\r\n    }\r\n\r\nThe String &quot;Is this_one_long_word or several??? What do you think?? Too much&quot; should print 10 words and &quot;!This uses periods.as.word.delimiters and can be tricky.&quot; should print 10 words.\r\n\r\nThis is the description: A word is sequence of one or more characters delimited by white space or by a sentence terminators (period, colon, semicolon, question mark, exclamation point), whether or not it is an actual English word. White space is defined as a space, tab ( &#39;\\t&#39;), a new line character (&#39;\\n&#39;), and the end of the String itself. Again this gives some results that may not make sense. For example the text &quot;I_don&#39;t_like_to_use_SPACES-EVER!&quot; has a single word: I_don&#39;t_like_to_use_SPACES-EVER.","title":"Why is this counting the number of words incorrectly?","body":"<p>public static void words(String text) {\nint numWords = 1;</p>\n<pre><code>    for (int charNum = 0; charNum &lt; text.length(); charNum++) {\n        char letter = text.charAt(charNum);\n        \n        if(charNum + 1 &lt; text.length()) {\n            char nextLetter = text.charAt(charNum + 1);\n            if(letter == '.' || letter == ':' || letter == ';' || letter == '?' || letter == '!'|| letter == ' ' || letter == '\\n' || letter == '\\t') {\n                if(nextLetter != '.' || nextLetter != ':' || nextLetter != ';' || nextLetter != '?' || nextLetter != '!'|| nextLetter != ' ' || nextLetter != '\\n' || nextLetter != '\\t')\n                    numWords += 1;\n            }   \n        }\n    }\n    \n    System.out.println(&quot;Number of words: &quot; + numWords);\n}\n</code></pre>\n<p>The String &quot;Is this_one_long_word or several??? What do you think?? Too much&quot; should print 10 words and &quot;!This uses periods.as.word.delimiters and can be tricky.&quot; should print 10 words.</p>\n<p>This is the description: A word is sequence of one or more characters delimited by white space or by a sentence terminators (period, colon, semicolon, question mark, exclamation point), whether or not it is an actual English word. White space is defined as a space, tab ( '\\t'), a new line character ('\\n'), and the end of the String itself. Again this gives some results that may not make sense. For example the text &quot;I_don't_like_to_use_SPACES-EVER!&quot; has a single word: I_don't_like_to_use_SPACES-EVER.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8536943,"reputation":566,"user_id":6398361,"display_name":"potiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633471486,"creation_date":1633434750,"answer_id":69449947,"question_id":69449563,"body_markdown":"There are many things wrong :( I recommend you read a tutorial about how to build a hello world app with Spring.\r\n\r\n1. Remove `@Autowired` annotation from `printMessage` method in `Person` class. Here you can see how to use `@Autowired` annotation https://www.baeldung.com/spring-autowire.\r\n\r\n2. Use `@SpringBootApplication` annotation on `TestApplication` class. It creates all beans annotated with `@Component` annotation. ","title":"Consider defining a bean of type","body":"<p>There are many things wrong :( I recommend you read a tutorial about how to build a hello world app with Spring.</p>\n<ol>\n<li><p>Remove <code>@Autowired</code> annotation from <code>printMessage</code> method in <code>Person</code> class. Here you can see how to use <code>@Autowired</code> annotation <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-autowire</a>.</p>\n</li>\n<li><p>Use <code>@SpringBootApplication</code> annotation on <code>TestApplication</code> class. It creates all beans annotated with <code>@Component</code> annotation.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7753112,"reputation":211,"user_id":5868435,"accept_rate":50,"display_name":"Joe Peteny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633471486,"creation_date":1633433115,"question_id":69449563,"body_markdown":"I&#39;m new about spring and my purpose is crea two object and one object print a string and the second object ( that has dipendency with first object take the value e prints an output). It is an exercise:\r\n\r\nHelloworld.java is this:\r\n\r\n    @Component\r\n    public class HelloWorld {\r\n    \t\r\n    \tprivate String message=&quot;&quot;;\t\r\n    \r\n    \r\n    \tpublic void setMessage(String message) {\r\n    \t\t\r\n    \t\tthis.message = message;\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n    }\r\n\r\nPerson class does this:\r\n\r\n    @Component\r\n    public class Person {\r\n    \t\r\n    \tprivate String person=&quot;Jessy&quot;;\r\n    \t\r\n    \tpublic void setPerson(String person) {\r\n    \t\tthis.person = person;\r\n    \t}\r\n    \t\r\n    // I want receive hellowordbean and I want print the first message and join the two message\r\n    \t@Autowired\r\n    \tpublic String printMessage(HelloWorld message) {\r\n    \t\treturn message.getMessage()+&quot; - &quot;+this.person;\r\n    \t}\r\n    \r\n    }\r\n\r\nthis is main class:\r\n\r\n    @ComponentScan(value={&quot;com.example.bean&quot;})\r\n    \r\n    public class TestApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t//SpringApplication.run(TestApplication.class, args);\r\n    \t\tApplicationContext context = SpringApplication.run(HelloWorld.class, args);\r\n    \t\tHelloWorld word=context.getBean(HelloWorld.class);\r\n    \t\t\r\n    \t\tword.setMessage(&quot;hi world&quot;);\r\n    \t\t\r\n    \t\tApplicationContext personContext = SpringApplication.run(Person.class, args);\r\n    \t\tPerson person=personContext.getBean(Person.class);\r\n    \t\tperson.setPerson(&quot;Jimbey&quot;);\r\n    \t\tSystem.out.println(person.printMessage(word));\r\n    \t}\r\n    \r\n    }\r\n\r\nI play run and I obtain\r\n\r\n&gt; Description:\r\n&gt; \r\n&gt; Parameter 0 of method printMessage in com.example.bean.Person required\r\n&gt; a bean of type &#39;com.example.bean.HelloWorld&#39; that could not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type &#39;com.example.bean.HelloWorld&#39; in your\r\n&gt; configur\r\n\r\nI don&#39;t know how resolve this problem, anyone can help me?","title":"Consider defining a bean of type","body":"<p>I'm new about spring and my purpose is crea two object and one object print a string and the second object ( that has dipendency with first object take the value e prints an output). It is an exercise:</p>\n<p>Helloworld.java is this:</p>\n<pre><code>@Component\npublic class HelloWorld {\n    \n    private String message=&quot;&quot;;  \n\n\n    public void setMessage(String message) {\n        \n        this.message = message;\n        \n    }\n\n\n    @Bean\n    public String getMessage() {\n        return message;\n    }\n\n}\n</code></pre>\n<p>Person class does this:</p>\n<pre><code>@Component\npublic class Person {\n    \n    private String person=&quot;Jessy&quot;;\n    \n    public void setPerson(String person) {\n        this.person = person;\n    }\n    \n// I want receive hellowordbean and I want print the first message and join the two message\n    @Autowired\n    public String printMessage(HelloWorld message) {\n        return message.getMessage()+&quot; - &quot;+this.person;\n    }\n\n}\n</code></pre>\n<p>this is main class:</p>\n<pre><code>@ComponentScan(value={&quot;com.example.bean&quot;})\n\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        //SpringApplication.run(TestApplication.class, args);\n        ApplicationContext context = SpringApplication.run(HelloWorld.class, args);\n        HelloWorld word=context.getBean(HelloWorld.class);\n        \n        word.setMessage(&quot;hi world&quot;);\n        \n        ApplicationContext personContext = SpringApplication.run(Person.class, args);\n        Person person=personContext.getBean(Person.class);\n        person.setPerson(&quot;Jimbey&quot;);\n        System.out.println(person.printMessage(word));\n    }\n\n}\n</code></pre>\n<p>I play run and I obtain</p>\n<blockquote>\n<p>Description:</p>\n<p>Parameter 0 of method printMessage in com.example.bean.Person required\na bean of type 'com.example.bean.HelloWorld' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.example.bean.HelloWorld' in your\nconfigur</p>\n</blockquote>\n<p>I don't know how resolve this problem, anyone can help me?</p>\n"},{"tags":["java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":5251428,"reputation":4648,"user_id":4195568,"accept_rate":85,"display_name":"Ying Xiong"},"score":0,"creation_date":1630429508,"post_id":69002613,"comment_id":121952245,"body_markdown":"That question is about building/installing spark using homebrew, which I assume need additional java dependency, while I directly used `pip install pyspark`. Therefore I am not sure whether it&#39;s the same issue. But I&#39;ll try to install java8 with homebrew according to https://stackoverflow.com/a/68967081/4195568 as well and see if it helps.","body":"That question is about building/installing spark using homebrew, which I assume need additional java dependency, while I directly used <code>pip install pyspark</code>. Therefore I am not sure whether it&#39;s the same issue. But I&#39;ll try to install java8 with homebrew according to <a href=\"https://stackoverflow.com/a/68967081/4195568\">stackoverflow.com/a/68967081/4195568</a> as well and see if it helps."},{"owner":{"account_id":5251428,"reputation":4648,"user_id":4195568,"accept_rate":85,"display_name":"Ying Xiong"},"score":0,"creation_date":1630430692,"post_id":69002613,"comment_id":121952719,"body_markdown":"Installing JDK@8 with homebrew works. Thanks, @vaibhavsahu !","body":"Installing JDK@8 with homebrew works. Thanks, @vaibhavsahu !"}],"owner":{"account_id":5251428,"reputation":4648,"user_id":4195568,"accept_rate":85,"display_name":"Ying Xiong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1630430703,"answer_count":0,"score":2,"last_activity_date":1633471345,"creation_date":1630428860,"question_id":69002613,"body_markdown":"I just started learning Spark and met some issues starting the interactive shell. When I ran `pyspark` in command line, I got the following output:\r\n\r\n```$ $ pyspark\r\nPython 3.8.2 (default, Dec 21 2020, 15:06:04)\r\n[Clang 12.0.0 (clang-1200.0.32.29)] on darwin\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat org.apache.spark.unsafe.array.ByteArrayMethods.&lt;clinit&gt;(ByteArrayMethods.java:54)\r\n\tat org.apache.spark.internal.config.package$.&lt;init&gt;(package.scala:1095)\r\n\tat org.apache.spark.internal.config.package$.&lt;clinit&gt;(package.scala)\r\n\tat org.apache.spark.deploy.SparkSubmitArguments.$anonfun$loadEnvironmentArguments$3(SparkSubmitArguments.scala:157)\r\n\tat scala.Option.orElse(Option.scala:447)\r\n\tat org.apache.spark.deploy.SparkSubmitArguments.loadEnvironmentArguments(SparkSubmitArguments.scala:157)\r\n\tat org.apache.spark.deploy.SparkSubmitArguments.&lt;init&gt;(SparkSubmitArguments.scala:115)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2$$anon$3.&lt;init&gt;(SparkSubmit.scala:1022)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.parseArguments(SparkSubmit.scala:1022)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:85)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @13545af8\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:188)\r\n\tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:181)\r\n\tat org.apache.spark.unsafe.Platform.&lt;clinit&gt;(Platform.java:56)\r\n\t... 13 more\r\nTraceback (most recent call last):\r\n  File &quot;/Users/yxiong/sys/python-venv/lib/python3.8/site-packages/pyspark/python/pyspark/shell.py&quot;, line 35, in &lt;module&gt;\r\n    SparkContext._ensure_initialized()  # type: ignore\r\n  File &quot;/Users/yxiong/sys/python-venv/lib/python3.8/site-packages/pyspark/context.py&quot;, line 331, in _ensure_initialized\r\n    SparkContext._gateway = gateway or launch_gateway(conf)\r\n  File &quot;/Users/yxiong/sys/python-venv/lib/python3.8/site-packages/pyspark/java_gateway.py&quot;, line 108, in launch_gateway\r\n    raise Exception(&quot;Java gateway process exited before sending its port number&quot;)\r\nException: Java gateway process exited before sending its port number\r\n&gt;&gt;&gt;\r\n```\r\n\r\nMore details about my environment:\r\n\r\n1. I am on macOS Catalina 10.15.7.\r\n1. The python version is 3.8.2, and I use `virtualenv` to manage my python packages.\r\n1. I installed pyspark with `pip install pyspark` from my virtualenv, and no error was raised during the installation. I also tried to download the pre-built `spark-3.1.2-bin-haddop3.2` tarball from apache site and ran the `bin/pyspark` from their, but got the same error as above.\r\n1. I installed `jre-8u301` and `jdk-16.0.2` from oracle website, and `java -versions` shows the following. I added `export JAVA_HOME=$(/usr/libexec/java_home)` in my `~/.bash_profile` (which evaluates to `/Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home`), but it did not solve the problem above.\r\n\r\n    ```\r\n    $ java -version\r\n    java version &quot;16.0.2&quot; 2021-07-20\r\n    Java(TM) SE Runtime Environment (build 16.0.2+7-67)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\r\n    ```\r\n\r\nHow can I fix or troubleshoot this issue?\r\n","title":"Java exception when running pyspark on Macbook","body":"<p>I just started learning Spark and met some issues starting the interactive shell. When I ran <code>pyspark</code> in command line, I got the following output:</p>\n<pre><code>Python 3.8.2 (default, Dec 21 2020, 15:06:04)\n[Clang 12.0.0 (clang-1200.0.32.29)] on darwin\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at org.apache.spark.unsafe.array.ByteArrayMethods.&lt;clinit&gt;(ByteArrayMethods.java:54)\n    at org.apache.spark.internal.config.package$.&lt;init&gt;(package.scala:1095)\n    at org.apache.spark.internal.config.package$.&lt;clinit&gt;(package.scala)\n    at org.apache.spark.deploy.SparkSubmitArguments.$anonfun$loadEnvironmentArguments$3(SparkSubmitArguments.scala:157)\n    at scala.Option.orElse(Option.scala:447)\n    at org.apache.spark.deploy.SparkSubmitArguments.loadEnvironmentArguments(SparkSubmitArguments.scala:157)\n    at org.apache.spark.deploy.SparkSubmitArguments.&lt;init&gt;(SparkSubmitArguments.scala:115)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2$$anon$3.&lt;init&gt;(SparkSubmit.scala:1022)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.parseArguments(SparkSubmit.scala:1022)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:85)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @13545af8\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:188)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:181)\n    at org.apache.spark.unsafe.Platform.&lt;clinit&gt;(Platform.java:56)\n    ... 13 more\nTraceback (most recent call last):\n  File &quot;/Users/yxiong/sys/python-venv/lib/python3.8/site-packages/pyspark/python/pyspark/shell.py&quot;, line 35, in &lt;module&gt;\n    SparkContext._ensure_initialized()  # type: ignore\n  File &quot;/Users/yxiong/sys/python-venv/lib/python3.8/site-packages/pyspark/context.py&quot;, line 331, in _ensure_initialized\n    SparkContext._gateway = gateway or launch_gateway(conf)\n  File &quot;/Users/yxiong/sys/python-venv/lib/python3.8/site-packages/pyspark/java_gateway.py&quot;, line 108, in launch_gateway\n    raise Exception(&quot;Java gateway process exited before sending its port number&quot;)\nException: Java gateway process exited before sending its port number\n&gt;&gt;&gt;\n</code></pre>\n<p>More details about my environment:</p>\n<ol>\n<li><p>I am on macOS Catalina 10.15.7.</p>\n</li>\n<li><p>The python version is 3.8.2, and I use <code>virtualenv</code> to manage my python packages.</p>\n</li>\n<li><p>I installed pyspark with <code>pip install pyspark</code> from my virtualenv, and no error was raised during the installation. I also tried to download the pre-built <code>spark-3.1.2-bin-haddop3.2</code> tarball from apache site and ran the <code>bin/pyspark</code> from their, but got the same error as above.</p>\n</li>\n<li><p>I installed <code>jre-8u301</code> and <code>jdk-16.0.2</code> from oracle website, and <code>java -versions</code> shows the following. I added <code>export JAVA_HOME=$(/usr/libexec/java_home)</code> in my <code>~/.bash_profile</code> (which evaluates to <code>/Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home</code>), but it did not solve the problem above.</p>\n<pre><code>$ java -version\njava version &quot;16.0.2&quot; 2021-07-20\nJava(TM) SE Runtime Environment (build 16.0.2+7-67)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\n</code></pre>\n</li>\n</ol>\n<p>How can I fix or troubleshoot this issue?</p>\n"},{"tags":["java","grails","groovy","quartz-scheduler"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1633451897,"post_id":69454185,"comment_id":122761487,"body_markdown":"you can only check for those users in the beginning of your job","body":"you can only check for those users in the beginning of your job"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633456438,"creation_date":1633456438,"answer_id":69455151,"question_id":69454185,"body_markdown":"&gt; I have a job done with the quartz plugin, but I would like to run it\r\n&gt; only if my User table contains users with active status.\r\n\r\nThere isn&#39;t enough information here to know for sure what the right thing to do is but one thing to consider is you can schedule the Quartz job to run at whatever frequency you like and have the job query the database regarding user active status, and then the job can react accordingly.","title":"Grails 3 : exExecute a job after saving to the database","body":"<blockquote>\n<p>I have a job done with the quartz plugin, but I would like to run it\nonly if my User table contains users with active status.</p>\n</blockquote>\n<p>There isn't enough information here to know for sure what the right thing to do is but one thing to consider is you can schedule the Quartz job to run at whatever frequency you like and have the job query the database regarding user active status, and then the job can react accordingly.</p>\n"},{"tags":[],"owner":{"account_id":21410187,"reputation":9,"user_id":16901226,"display_name":"Owen Rubel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633471336,"creation_date":1633471336,"answer_id":69457724,"question_id":69454185,"body_markdown":"I think what you want is a webhook; after a put/post/delete (ie idempotent call), you call another endpoint. ","title":"Grails 3 : exExecute a job after saving to the database","body":"<p>I think what you want is a webhook; after a put/post/delete (ie idempotent call), you call another endpoint.</p>\n"}],"owner":{"account_id":22950425,"reputation":1,"user_id":17081792,"display_name":"Gunsmokaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633471336,"creation_date":1633451555,"question_id":69454185,"body_markdown":"I have a job done with the quartz plugin, but I would like to run it only if my User table contains users with active status.\r\n\r\nThank you","title":"Grails 3 : exExecute a job after saving to the database","body":"<p>I have a job done with the quartz plugin, but I would like to run it only if my User table contains users with active status.</p>\n<p>Thank you</p>\n"},{"tags":["java","arrays","algorithm","for-loop","bubble-sort"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633467060,"post_id":69457048,"comment_id":122766592,"body_markdown":"Manually write down the algorithm on paper with arrays of 3 or 4 elements. If you find a problem with the approach, or room for improvement, then you can take it to your professor and talk about it. It&#39;s also possible the code provided is just wrong","body":"Manually write down the algorithm on paper with arrays of 3 or 4 elements. If you find a problem with the approach, or room for improvement, then you can take it to your professor and talk about it. It&#39;s also possible the code provided is just wrong"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1633476746,"post_id":69457048,"comment_id":122768717,"body_markdown":"`for(i = 0; i &lt;= lastPos -1; i++)` may be rewritten as `for(i = 0; i &lt; lastPos; i++)` which is a ubiquitous meme in c-like languages which use zero-based array indexing","body":"<code>for(i = 0; i &lt;= lastPos -1; i++)</code> may be rewritten as <code>for(i = 0; i &lt; lastPos; i++)</code> which is a ubiquitous meme in c-like languages which use zero-based array indexing"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633470774,"creation_date":1633470774,"answer_id":69457646,"question_id":69457048,"body_markdown":"First of all, there is a bug in the code. This line:\r\n\r\n    if(array[i] &gt; array[i -1])\r\n\r\nshould be:\r\n\r\n    if(array[i] &gt; array[i + 1])\r\n\r\nThis also shows why you want to loop until `lastPos-1`: this is because you will access an array element that is one index *further*. Or to state that in a different way: the right most pair within the subarray between index 0 and index `lastPos` (included), starts at `lastPos-1`.\r\n\r\nIn your example we would indeed run until index 8. This is because the final pair of values to compare are at index 8 and 9. If we would have gone to 9, then we would compare the value at 9 with that at index 10, but index 10 would be an out of range index.\r\n ","title":"I want to understand BubbleSort but I am struggling to understand a specific part in the code my professor provided","body":"<p>First of all, there is a bug in the code. This line:</p>\n<pre><code>if(array[i] &gt; array[i -1])\n</code></pre>\n<p>should be:</p>\n<pre><code>if(array[i] &gt; array[i + 1])\n</code></pre>\n<p>This also shows why you want to loop until <code>lastPos-1</code>: this is because you will access an array element that is one index <em>further</em>. Or to state that in a different way: the right most pair within the subarray between index 0 and index <code>lastPos</code> (included), starts at <code>lastPos-1</code>.</p>\n<p>In your example we would indeed run until index 8. This is because the final pair of values to compare are at index 8 and 9. If we would have gone to 9, then we would compare the value at 9 with that at index 10, but index 10 would be an out of range index.</p>\n"}],"owner":{"account_id":22952512,"reputation":13,"user_id":17083590,"display_name":"JulianTheProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633470774,"creation_date":1633466649,"question_id":69457048,"body_markdown":"The only part I don&#39;t fully understand is the inner for loop conditions. In the outer for loop we declared that lastPos is array.length-1 , so if we were to pass an array of size 10, lasPos would equal 9 right? Okay, so now in the inner for loop, we say that as long as index &lt;= lastPos-1 then we run whatever is inside but if we do index &lt;= lastPos-1 would that not be 8 now? why wouldn&#39;t we just do lastPos instead of lastPos-1 in the inner loop?\r\n```\r\n//The IntBubbleSorter class provides a public static\r\n//method for performing a bubble sort on an int array\r\npublic class IntBubbleSort \r\n{\r\n\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint lastPosition;\r\n\t\tint[] myArray = new int[10];\r\n\t\t\r\n\t\tlastPosition = myArray.length-1;\r\n\t\t\r\n\t\tSystem.out.println(lastPosition);\r\n\t\t\r\n\t}\r\n\t\r\n\t//The bubbleSort method uses the bubble sort algorithm\r\n\t//to sort an int array\r\n\t\r\n\tpublic static void bubbleSort(int[] array)\r\n\t{\r\n\t\tint lastPos;\t\t//Position of the last element to compare\r\n\t\tint i;\t\t\t\t//index of an element to compare\r\n\t\tint temp;\t\t\t//used to swap to elements\r\n\t\t\r\n\t\t//The outer loop positions lastPos at the last element\r\n\t\t//to compare during each pass through the array. Initially\r\n\t\t//lastPos is the index of the last element in the array.\r\n\t\t//During each iteration, it is decreased by one.\r\n\t\t\r\n\t\tfor(lastPos = array.length - 1; lastPos &gt;=0 ; lastPos--)\r\n\t\t{\r\n\t\t\t//The inner loop steps through the array, comparing\r\n\t\t\t//each element with its neighbor. All of the elements\r\n\t\t\t//from index 0 through lastPos are involved in the \r\n\t\t\t//comparison. If two elements are out of order, they\r\n\t\t\t//are swapped\r\n\t\t\t\r\n\t\t\tfor(i = 0; i &lt;= lastPos -1; i++)         //what the hell? \r\n\t\t\t{\r\n\t\t\t\t//compare an element with its neighbor\r\n\t\t\t\tif(array[i] &gt; array[i -1])\r\n\t\t\t\t{\r\n\t\t\t\t\t//swap the two elements\r\n\t\t\t\t\ttemp = array[i];\r\n\t\t\t\t\tarray[i] = array[i+1];\r\n\t\t\t\t\tarray[i +1] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\r\n}\r\n```","title":"I want to understand BubbleSort but I am struggling to understand a specific part in the code my professor provided","body":"<p>The only part I don't fully understand is the inner for loop conditions. In the outer for loop we declared that lastPos is array.length-1 , so if we were to pass an array of size 10, lasPos would equal 9 right? Okay, so now in the inner for loop, we say that as long as index &lt;= lastPos-1 then we run whatever is inside but if we do index &lt;= lastPos-1 would that not be 8 now? why wouldn't we just do lastPos instead of lastPos-1 in the inner loop?</p>\n<pre><code>//The IntBubbleSorter class provides a public static\n//method for performing a bubble sort on an int array\npublic class IntBubbleSort \n{\n\n    \n    public static void main(String[] args)\n    {\n        int lastPosition;\n        int[] myArray = new int[10];\n        \n        lastPosition = myArray.length-1;\n        \n        System.out.println(lastPosition);\n        \n    }\n    \n    //The bubbleSort method uses the bubble sort algorithm\n    //to sort an int array\n    \n    public static void bubbleSort(int[] array)\n    {\n        int lastPos;        //Position of the last element to compare\n        int i;              //index of an element to compare\n        int temp;           //used to swap to elements\n        \n        //The outer loop positions lastPos at the last element\n        //to compare during each pass through the array. Initially\n        //lastPos is the index of the last element in the array.\n        //During each iteration, it is decreased by one.\n        \n        for(lastPos = array.length - 1; lastPos &gt;=0 ; lastPos--)\n        {\n            //The inner loop steps through the array, comparing\n            //each element with its neighbor. All of the elements\n            //from index 0 through lastPos are involved in the \n            //comparison. If two elements are out of order, they\n            //are swapped\n            \n            for(i = 0; i &lt;= lastPos -1; i++)         //what the hell? \n            {\n                //compare an element with its neighbor\n                if(array[i] &gt; array[i -1])\n                {\n                    //swap the two elements\n                    temp = array[i];\n                    array[i] = array[i+1];\n                    array[i +1] = temp;\n                }\n            }\n            \n        }\n        \n    }\n    \n\n}\n</code></pre>\n"},{"tags":["java","file","file-io","filesystems"],"comments":[{"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"score":4,"creation_date":1226667902,"post_id":289965,"comment_id":138690,"body_markdown":"Just so you understand, this is not just a limitation in Java.  This is pretty much how all I/O works. It&#39;s the functionality that the underlying OS provides.","body":"Just so you understand, this is not just a limitation in Java.  This is pretty much how all I/O works. It&#39;s the functionality that the underlying OS provides."},{"owner":{"account_id":3044,"reputation":12476,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"score":3,"creation_date":1228513617,"post_id":289965,"comment_id":179422,"body_markdown":"Maybe there is a filesystem implementation that supports something like linked list data blocks which could probably allow fast data insertion in the middle of a file. However one would need pretty low level system calls to achieve this.","body":"Maybe there is a filesystem implementation that supports something like linked list data blocks which could probably allow fast data insertion in the middle of a file. However one would need pretty low level system calls to achieve this."},{"owner":{"account_id":17874,"reputation":546,"user_id":40443,"accept_rate":100,"display_name":"Albert"},"score":1,"creation_date":1242918667,"post_id":289965,"comment_id":700541,"body_markdown":"I can&#39;t find the exact article, but I read one explaining how to use a rope as the data structure driving a simple text editor. http://en.wikipedia.org/wiki/Rope_%28computer_science%29","body":"I can&#39;t find the exact article, but I read one explaining how to use a rope as the data structure driving a simple text editor. <a href=\"http://en.wikipedia.org/wiki/Rope_%28computer_science%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Rope_%28computer_science%29</a>"}],"answers":[{"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1226668020,"creation_date":1226667318,"answer_id":289991,"question_id":289965,"body_markdown":"I believe the only way to insert text into an existing text file is to read the original file and write the content in a temporary file with the new text inserted. Then erase the original file and rename the temporary file to the original name.\r\n\r\nThis [example][1] is focused on inserted a single line into an existing file, but still maybe of use to you.\r\n\r\n\r\n  [1]: http://www.java-tips.org/java-se-tips/java.io/insert-a-line-in-a-file.html","title":"Inserting text into an existing file via Java","body":"<p>I believe the only way to insert text into an existing text file is to read the original file and write the content in a temporary file with the new text inserted. Then erase the original file and rename the temporary file to the original name.</p>\n\n<p>This <a href=\"http://www.java-tips.org/java-se-tips/java.io/insert-a-line-in-a-file.html\" rel=\"nofollow noreferrer\">example</a> is focused on inserted a single line into an existing file, but still maybe of use to you.</p>\n"},{"tags":[],"owner":{"account_id":14012,"reputation":11489,"user_id":28482,"accept_rate":69,"display_name":"Touko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1226667333,"creation_date":1226667333,"answer_id":289992,"question_id":289965,"body_markdown":"I don&#39;t know if there&#39;s a handy way to do it straight otherwise than \r\n\r\n  - read the beginning of the file and write it to target\r\n  - write your new text to target\r\n  - read the rest of the file and write it to target.\r\n\r\nAbout the target : You can construct the new contents of the file in memory and then overwrite the old content of the file if the files handled aren&#39;t so big. Or you can write the result to a temporary file.\r\n\r\nThe thing would probably be easiest to do with streams, RandomAccessFile doesn&#39;t seem to be meant for inserting in the middle (afaik). Check the [tutorial][1] if you need.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/io/index.html","title":"Inserting text into an existing file via Java","body":"<p>I don't know if there's a handy way to do it straight otherwise than </p>\n\n<ul>\n<li>read the beginning of the file and write it to target</li>\n<li>write your new text to target</li>\n<li>read the rest of the file and write it to target.</li>\n</ul>\n\n<p>About the target : You can construct the new contents of the file in memory and then overwrite the old content of the file if the files handled aren't so big. Or you can write the result to a temporary file.</p>\n\n<p>The thing would probably be easiest to do with streams, RandomAccessFile doesn't seem to be meant for inserting in the middle (afaik). Check the <a href=\"http://java.sun.com/docs/books/tutorial/essential/io/index.html\" rel=\"nofollow noreferrer\">tutorial</a> if you need.</p>\n"},{"tags":[],"owner":{"account_id":5419,"reputation":13287,"user_id":8709,"display_name":"Ken Gentle"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1226667453,"creation_date":1226667453,"answer_id":289996,"question_id":289965,"body_markdown":"Well, no, I don&#39;t believe there is a way to avoid overwriting existing content with a single, standard Java IO API call.\r\n\r\nIf the files are not too large, just read the entire file into an ArrayList (an entry per line) and either rewrite entries or insert new entries for new lines.\r\n\r\nThen overwrite the existing file with new content, or move the existing file to a backup and write a new file.\r\n\r\nDepending on how sophisticated the edits need to be, your data structure may need to change.\r\n\r\nAnother method would be to read characters from the existing file while writing to the edited file and edit the stream as it is read.","title":"Inserting text into an existing file via Java","body":"<p>Well, no, I don't believe there is a way to avoid overwriting existing content with a single, standard Java IO API call.</p>\n\n<p>If the files are not too large, just read the entire file into an ArrayList (an entry per line) and either rewrite entries or insert new entries for new lines.</p>\n\n<p>Then overwrite the existing file with new content, or move the existing file to a backup and write a new file.</p>\n\n<p>Depending on how sophisticated the edits need to be, your data structure may need to change.</p>\n\n<p>Another method would be to read characters from the existing file while writing to the edited file and edit the stream as it is read.</p>\n"},{"tags":[],"owner":{"account_id":7689,"reputation":53388,"user_id":13422,"accept_rate":50,"display_name":"Zan Lynx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1253778954,"creation_date":1242918002,"answer_id":893384,"question_id":289965,"body_markdown":"If Java has a way to memory map files, then what you can do is extend the file to its new length, map the file, memmove all the bytes down to the end to make a hole and write the new data into the hole.\r\n\r\nThis works in C.  Never tried it in Java.\r\n\r\nAnother way I just thought of to do the same but with random file access. \r\n\r\n * Seek to the end - 1 MB\r\n * Read 1 MB\r\n * Write that to original position + gap size.\r\n * Repeat for each previous 1 MB working toward the beginning of the file.\r\n * Stop when you reach the desired gap position.\r\n\r\nUse a larger buffer size for faster performance.","title":"Inserting text into an existing file via Java","body":"<p>If Java has a way to memory map files, then what you can do is extend the file to its new length, map the file, memmove all the bytes down to the end to make a hole and write the new data into the hole.</p>\n\n<p>This works in C.  Never tried it in Java.</p>\n\n<p>Another way I just thought of to do the same but with random file access. </p>\n\n<ul>\n<li>Seek to the end - 1 MB</li>\n<li>Read 1 MB</li>\n<li>Write that to original position + gap size.</li>\n<li>Repeat for each previous 1 MB working toward the beginning of the file.</li>\n<li>Stop when you reach the desired gap position.</li>\n</ul>\n\n<p>Use a larger buffer size for faster performance.</p>\n"},{"tags":[],"owner":{"display_name":"saravana kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253732909,"creation_date":1253732909,"answer_id":1468017,"question_id":289965,"body_markdown":"If it is a text file,,,,Read the existing file in StringBuffer and append the new content in the same StringBuffer now u can write the SrtingBuffer on file. so now the file contains both the existing and new text.","title":"Inserting text into an existing file via Java","body":"<p>If it is a text file,,,,Read the existing file in StringBuffer and append the new content in the same StringBuffer now u can write the SrtingBuffer on file. so now the file contains both the existing and new text.</p>\n"},{"tags":[],"owner":{"account_id":249846,"reputation":876,"user_id":526196,"accept_rate":94,"display_name":"S.Yavari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437017903,"creation_date":1307168183,"answer_id":6235119,"question_id":289965,"body_markdown":"You can use following code:\r\n\r\n    BufferedReader reader = null;\r\n    BufferedWriter writer = null;\r\n    ArrayList list = new ArrayList();\r\n\r\n    try {\r\n        reader = new BufferedReader(new FileReader(fileName));\r\n        String tmp;\r\n        while ((tmp = reader.readLine()) != null)\r\n            list.add(tmp);\r\n        OUtil.closeReader(reader);\r\n\r\n        list.add(0, &quot;Start Text&quot;);\r\n        list.add(&quot;End Text&quot;);\r\n\r\n        writer = new BufferedWriter(new FileWriter(fileName));\r\n        for (int i = 0; i &lt; list.size(); i++)\r\n            writer.write(list.get(i) + &quot;\\r\\n&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        OUtil.closeReader(reader);\r\n        OUtil.closeWriter(writer);\r\n    }\r\n","title":"Inserting text into an existing file via Java","body":"<p>You can use following code:</p>\n\n<pre><code>BufferedReader reader = null;\nBufferedWriter writer = null;\nArrayList list = new ArrayList();\n\ntry {\n    reader = new BufferedReader(new FileReader(fileName));\n    String tmp;\n    while ((tmp = reader.readLine()) != null)\n        list.add(tmp);\n    OUtil.closeReader(reader);\n\n    list.add(0, \"Start Text\");\n    list.add(\"End Text\");\n\n    writer = new BufferedWriter(new FileWriter(fileName));\n    for (int i = 0; i &lt; list.size(); i++)\n        writer.write(list.get(i) + \"\\r\\n\");\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    OUtil.closeReader(reader);\n    OUtil.closeWriter(writer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142897,"reputation":3963,"user_id":350891,"accept_rate":100,"display_name":"xor_eq"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1373445323,"creation_date":1373445323,"answer_id":17565931,"question_id":289965,"body_markdown":"Okay, this question is pretty old, but FileChannels exist since Java 1.4 and I don&#39;t know why they aren&#39;t mentioned anywhere when dealing with the problem of replacing or inserting content in files. [FileChannels][1] are fast, use them.\r\n\r\nHere&#39;s an example (ignoring exceptions and some other stuff):\r\n\r\n    public void insert(String filename, long offset, byte[] content) {\r\n      RandomAccessFile r = new RandomAccessFile(new File(filename), &quot;rw&quot;);\r\n      RandomAccessFile rtemp = new RandomAccessFile(new File(filename + &quot;~&quot;), &quot;rw&quot;);\r\n      long fileSize = r.length();\r\n      FileChannel sourceChannel = r.getChannel();\r\n      FileChannel targetChannel = rtemp.getChannel();\r\n      sourceChannel.transferTo(offset, (fileSize - offset), targetChannel);\r\n      sourceChannel.truncate(offset);\r\n      r.seek(offset);\r\n      r.write(content);\r\n      long newOffset = r.getFilePointer();\r\n      targetChannel.position(0L);\r\n      sourceChannel.transferFrom(targetChannel, newOffset, (fileSize - offset));\r\n      sourceChannel.close();\r\n      targetChannel.close();\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/nio/channels/FileChannel.html","title":"Inserting text into an existing file via Java","body":"<p>Okay, this question is pretty old, but FileChannels exist since Java 1.4 and I don't know why they aren't mentioned anywhere when dealing with the problem of replacing or inserting content in files. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/channels/FileChannel.html\">FileChannels</a> are fast, use them.</p>\n\n<p>Here's an example (ignoring exceptions and some other stuff):</p>\n\n<pre><code>public void insert(String filename, long offset, byte[] content) {\n  RandomAccessFile r = new RandomAccessFile(new File(filename), \"rw\");\n  RandomAccessFile rtemp = new RandomAccessFile(new File(filename + \"~\"), \"rw\");\n  long fileSize = r.length();\n  FileChannel sourceChannel = r.getChannel();\n  FileChannel targetChannel = rtemp.getChannel();\n  sourceChannel.transferTo(offset, (fileSize - offset), targetChannel);\n  sourceChannel.truncate(offset);\n  r.seek(offset);\n  r.write(content);\n  long newOffset = r.getFilePointer();\n  targetChannel.position(0L);\n  sourceChannel.transferFrom(targetChannel, newOffset, (fileSize - offset));\n  sourceChannel.close();\n  targetChannel.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14815450,"reputation":81,"user_id":15110659,"display_name":"mdre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633470543,"creation_date":1633470543,"answer_id":69457622,"question_id":289965,"body_markdown":"As @xor_eq answer&#39;s edit queue is full, here in a new answer a more documented and slightly improved version of his:\r\n\r\n\r\n\tpublic static void insert(String filename, long offset, byte[] content) throws IOException {\r\n\t\tFile temp = Files.createTempFile(&quot;insertTempFile&quot;, &quot;.temp&quot;).toFile(); // Create a temporary file to save content to\r\n\t\ttry (RandomAccessFile r = new RandomAccessFile(new File(filename), &quot;rw&quot;); // Open file for read &amp; write\r\n\t\t\t\tRandomAccessFile rtemp = new RandomAccessFile(temp, &quot;rw&quot;); // Open temporary file for read &amp; write\r\n\t\t\t\tFileChannel sourceChannel = r.getChannel(); // Channel of file\r\n\t\t\t\tFileChannel targetChannel = rtemp.getChannel()) { // Channel of temporary file\r\n\t\t\tlong fileSize = r.length();\r\n\t\t\tsourceChannel.transferTo(offset, (fileSize - offset), targetChannel); // Copy content after insert index to\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// temporary file\r\n\t\t\tsourceChannel.truncate(offset); // Remove content past insert index from file\r\n\t\t\tr.seek(offset); // Goto back of file (now insert index)\r\n\t\t\tr.write(content); // Write new content\r\n\t\t\tlong newOffset = r.getFilePointer(); // The current offset\r\n\t\t\ttargetChannel.position(0L); // Goto start of temporary file\r\n\t\t\tsourceChannel.transferFrom(targetChannel, newOffset, (fileSize - offset)); // Copy all content of temporary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// to end of file\r\n\t\t}\r\n\t\tFiles.delete(temp.toPath()); // Delete the temporary file as not needed anymore\r\n\t} ","title":"Inserting text into an existing file via Java","body":"<p>As @xor_eq answer's edit queue is full, here in a new answer a more documented and slightly improved version of his:</p>\n<pre><code>public static void insert(String filename, long offset, byte[] content) throws IOException {\n    File temp = Files.createTempFile(&quot;insertTempFile&quot;, &quot;.temp&quot;).toFile(); // Create a temporary file to save content to\n    try (RandomAccessFile r = new RandomAccessFile(new File(filename), &quot;rw&quot;); // Open file for read &amp; write\n            RandomAccessFile rtemp = new RandomAccessFile(temp, &quot;rw&quot;); // Open temporary file for read &amp; write\n            FileChannel sourceChannel = r.getChannel(); // Channel of file\n            FileChannel targetChannel = rtemp.getChannel()) { // Channel of temporary file\n        long fileSize = r.length();\n        sourceChannel.transferTo(offset, (fileSize - offset), targetChannel); // Copy content after insert index to\n                                                                                // temporary file\n        sourceChannel.truncate(offset); // Remove content past insert index from file\n        r.seek(offset); // Goto back of file (now insert index)\n        r.write(content); // Write new content\n        long newOffset = r.getFilePointer(); // The current offset\n        targetChannel.position(0L); // Goto start of temporary file\n        sourceChannel.transferFrom(targetChannel, newOffset, (fileSize - offset)); // Copy all content of temporary\n                                                                                    // to end of file\n    }\n    Files.delete(temp.toPath()); // Delete the temporary file as not needed anymore\n} \n</code></pre>\n"}],"owner":{"account_id":17012,"reputation":1516,"user_id":37651,"accept_rate":75,"display_name":"Dinuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82081,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":17565931,"answer_count":8,"score":26,"last_activity_date":1633470543,"creation_date":1226666690,"question_id":289965,"body_markdown":"I would like to create a simple program (in Java) which edits text files - particularly one which performs inserting arbitrary pieces of text at random positions in a text file. This feature is part of a larger program I am currently writing.\r\n\r\n\r\nReading the description about java.util.RandomAccessFile, it appears that any write operations performed in the middle of a file would actually overwrite the exiting content.   This is a side-effect which I would like to avoid (if possible).\r\n\r\n\r\nIs there a simple way to achieve this?\r\n\r\nThanks in advance.","title":"Inserting text into an existing file via Java","body":"<p>I would like to create a simple program (in Java) which edits text files - particularly one which performs inserting arbitrary pieces of text at random positions in a text file. This feature is part of a larger program I am currently writing.</p>\n\n<p>Reading the description about java.util.RandomAccessFile, it appears that any write operations performed in the middle of a file would actually overwrite the exiting content.   This is a side-effect which I would like to avoid (if possible).</p>\n\n<p>Is there a simple way to achieve this?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1633435785,"post_id":69450027,"comment_id":122754206,"body_markdown":"Can this have negative numbers also? Or only positive?","body":"Can this have negative numbers also? Or only positive?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1633435849,"post_id":69450027,"comment_id":122754230,"body_markdown":"Does this help? [How to Break from Java Stream forEach](https://www.baeldung.com/java-break-stream-foreach)","body":"Does this help? <a href=\"https://www.baeldung.com/java-break-stream-foreach\" rel=\"nofollow noreferrer\">How to Break from Java Stream forEach</a>"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":3,"creation_date":1633437910,"post_id":69450027,"comment_id":122755027,"body_markdown":"Any reason why it has to be done with a stream?  A simple loop and break seems more obvious.","body":"Any reason why it has to be done with a stream?  A simple loop and break seems more obvious."},{"owner":{"account_id":21738198,"reputation":81,"user_id":16045922,"display_name":"maybesomename"},"score":0,"creation_date":1633440954,"post_id":69450027,"comment_id":122756538,"body_markdown":"@user16632363 The inside logic is more complex, than this simplified version, so I would prefer to use a stream as I find it more readable.","body":"@user16632363 The inside logic is more complex, than this simplified version, so I would prefer to use a stream as I find it more readable."},{"owner":{"account_id":21738198,"reputation":81,"user_id":16045922,"display_name":"maybesomename"},"score":0,"creation_date":1633441064,"post_id":69450027,"comment_id":122756587,"body_markdown":"@Abra your link is really helpful.","body":"@Abra your link is really helpful."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633435925,"creation_date":1633435925,"answer_id":69450221,"question_id":69450027,"body_markdown":"You can control how the sum reduction occurs:\r\n\r\n    Integer sum = intList.stream().reduce(0, (i1, i2) -&gt; {\r\n            if(i1 == null) return null;\r\n            if(i2 == null) return null;\r\n            return i1 + i2;\r\n        });","title":"Is there a way to step out of a java stream if an item matches a condition?","body":"<p>You can control how the sum reduction occurs:</p>\n<pre><code>Integer sum = intList.stream().reduce(0, (i1, i2) -&gt; {\n        if(i1 == null) return null;\n        if(i2 == null) return null;\n        return i1 + i2;\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633435929,"creation_date":1633435929,"answer_id":69450222,"question_id":69450027,"body_markdown":"May be using reduce like:\r\n\r\n    List&lt;Integer&gt; intList = Arrays.asList(1,2,3,null,4);\r\n    Integer sum = intList.stream().reduce(0, (a, b) -&gt; a == null || b == null ? null: a + b);\r\n    System.out.println(sum);","title":"Is there a way to step out of a java stream if an item matches a condition?","body":"<p>May be using reduce like:</p>\n<pre><code>List&lt;Integer&gt; intList = Arrays.asList(1,2,3,null,4);\nInteger sum = intList.stream().reduce(0, (a, b) -&gt; a == null || b == null ? null: a + b);\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633444830,"creation_date":1633444830,"answer_id":69452499,"question_id":69450027,"body_markdown":"Streams are not always the right solution.  And even when they are they may not be as efficient as a simple loop solution.  In your case, I would do the following:\r\n```\r\npublic static Integer sum(List&lt;Integer&gt; vals) {\r\n   \tint sum = 0;\r\n   \tfor (Integer v : vals) {\r\n   \t\tif (v == null) {\r\n   \t\t\treturn null;\r\n   \t\t}\r\n   \t\tsum += v;\r\n   \t}\r\n   \treturn sum;\r\n}\r\n```\r\nThis both sums the elements or short circuits and returns a null.","title":"Is there a way to step out of a java stream if an item matches a condition?","body":"<p>Streams are not always the right solution.  And even when they are they may not be as efficient as a simple loop solution.  In your case, I would do the following:</p>\n<pre><code>public static Integer sum(List&lt;Integer&gt; vals) {\n    int sum = 0;\n    for (Integer v : vals) {\n        if (v == null) {\n            return null;\n        }\n        sum += v;\n    }\n    return sum;\n}\n</code></pre>\n<p>This both sums the elements or short circuits and returns a null.</p>\n"},{"tags":[],"owner":{"account_id":1891014,"reputation":3150,"user_id":1709089,"display_name":"dajavax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633470495,"creation_date":1633456622,"answer_id":69455190,"question_id":69450027,"body_markdown":"As for your question &quot;Is there an operation that terminates the stream if an item meets a condition?&quot;, Java 9 introduces [`Stream::takeWhile`](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-) which does this.\r\n\r\nHowever, using this for your use case would result in a sum of everything before the null (not what you are expecting of actually returning a null). For your case, and being limited to the JDK, using the [answer](https://stackoverflow.com/a/69450221/1709089) proposed by [M A](https://stackoverflow.com/users/1064245/m-a) is the best (though it does not stop when it reaches a null).\r\n\r\nThe actual best way would be if there is a `takeWhileInclusive` combined with the reduce operation. Unfortunately, `takeWhileInclusive` does not exist in the JDK. However, [Tagir Valeev](https://stackoverflow.com/users/4856258/tagir-valeev), who is a committer in the JDK, has written a stream extension library ([StreamEx](https://github.com/amaembo/streamex)) which has [`StreamEx::takeWhileInclusive`](https://amaembo.github.io/streamex/javadoc/one/util/streamex/AbstractStreamEx.html#takeWhileInclusive(java.util.function.Predicate)). It might be useful.\r\n\r\nThe following example, using that library, would step out with a null if null is encountered, or with the sum if it is not:\r\n```java\r\nStreamEx.of(intList).takeWhileInclusive(Objects::nonNull)\r\n    .reduce(0, (a, b) -&gt; a == null || b == null ? null : a + b);\r\n```","title":"Is there a way to step out of a java stream if an item matches a condition?","body":"<p>As for your question &quot;Is there an operation that terminates the stream if an item meets a condition?&quot;, Java 9 introduces <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#takeWhile-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Stream::takeWhile</code></a> which does this.</p>\n<p>However, using this for your use case would result in a sum of everything before the null (not what you are expecting of actually returning a null). For your case, and being limited to the JDK, using the <a href=\"https://stackoverflow.com/a/69450221/1709089\">answer</a> proposed by <a href=\"https://stackoverflow.com/users/1064245/m-a\">M A</a> is the best (though it does not stop when it reaches a null).</p>\n<p>The actual best way would be if there is a <code>takeWhileInclusive</code> combined with the reduce operation. Unfortunately, <code>takeWhileInclusive</code> does not exist in the JDK. However, <a href=\"https://stackoverflow.com/users/4856258/tagir-valeev\">Tagir Valeev</a>, who is a committer in the JDK, has written a stream extension library (<a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a>) which has <a href=\"https://amaembo.github.io/streamex/javadoc/one/util/streamex/AbstractStreamEx.html#takeWhileInclusive(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>StreamEx::takeWhileInclusive</code></a>. It might be useful.</p>\n<p>The following example, using that library, would step out with a null if null is encountered, or with the sum if it is not:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamEx.of(intList).takeWhileInclusive(Objects::nonNull)\n    .reduce(0, (a, b) -&gt; a == null || b == null ? null : a + b);\n</code></pre>\n"}],"owner":{"account_id":21738198,"reputation":81,"user_id":16045922,"display_name":"maybesomename"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69455190,"answer_count":4,"score":2,"last_activity_date":1633470495,"creation_date":1633435075,"question_id":69450027,"body_markdown":"I have a list of integers and I need to find the sum of its items. If the list contains any `null` items, the result should be `null`. My current implementation:\r\n\r\n    intList.stream().anyMatch(Objects::isNull) ? null : intList.stream().mapToInt(Integer::intValue).sum();\r\n\r\nCan this be done with a single continuous stream? Is there an operation that terminates the stream if an item meets a condition?","title":"Is there a way to step out of a java stream if an item matches a condition?","body":"<p>I have a list of integers and I need to find the sum of its items. If the list contains any <code>null</code> items, the result should be <code>null</code>. My current implementation:</p>\n<pre><code>intList.stream().anyMatch(Objects::isNull) ? null : intList.stream().mapToInt(Integer::intValue).sum();\n</code></pre>\n<p>Can this be done with a single continuous stream? Is there an operation that terminates the stream if an item meets a condition?</p>\n"},{"tags":["java","jackson","vert.x","rest"],"answers":[{"tags":[],"owner":{"account_id":12732046,"reputation":1,"user_id":9248322,"display_name":"BenatoJ."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633195450,"creation_date":1633195450,"answer_id":69418691,"question_id":69417729,"body_markdown":"Vertx has first class support for JSON you don’t need to import anything extra for that, secondly why you need date ? Just use instant as it is supported.","title":"Eclipse Vert.x : parsing java.time date with jackson","body":"<p>Vertx has first class support for JSON you don’t need to import anything extra for that, secondly why you need date ? Just use instant as it is supported.</p>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1633342168,"creation_date":1633196371,"answer_id":69418797,"question_id":69417729,"body_markdown":"Behind the scene `Vertx` uses `Jackson&#39;s ObjectMapper` inside `encode()` and `encodePrettily()` methods. What you need to do is register `JavaTimeModule` with these `ObjectMappers.` \r\n\r\nAdd these code snippet to your application&#39;s main method.\r\n```\r\nObjectMapper mapper = DatabindCodec.mapper();\r\nmapper.registerModule(new JavaTimeModule());\r\n\r\nObjectMapper prettyMapper = DatabindCodec.prettyMapper();\r\nprettyMapper.registerModule(new JavaTimeModule());\r\n```\r\n*This is the complete package for `DatabindCodec` class:  `io.vertx.core.json.jackson.DatabindCodec`*\r\n\r\n### Update ###\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  // code already exists\r\n\r\n  @Override\r\n  public void start() {\r\n      ObjectMapper mapper = DatabindCodec.mapper();\r\n      mapper.registerModule(new JavaTimeModule());\r\n \r\n      ObjectMapper prettyMapper = DatabindCodec.prettyMapper();\r\n      prettyMapper.registerModule(new JavaTimeModule());\r\n  \r\n  \r\n  // code already exists\r\n```","title":"Eclipse Vert.x : parsing java.time date with jackson","body":"<p>Behind the scene <code>Vertx</code> uses <code>Jackson's ObjectMapper</code> inside <code>encode()</code> and <code>encodePrettily()</code> methods. What you need to do is register <code>JavaTimeModule</code> with these <code>ObjectMappers.</code></p>\n<p>Add these code snippet to your application's main method.</p>\n<pre><code>ObjectMapper mapper = DatabindCodec.mapper();\nmapper.registerModule(new JavaTimeModule());\n\nObjectMapper prettyMapper = DatabindCodec.prettyMapper();\nprettyMapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p><em>This is the complete package for <code>DatabindCodec</code> class:  <code>io.vertx.core.json.jackson.DatabindCodec</code></em></p>\n<h3>Update</h3>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n  // code already exists\n\n  @Override\n  public void start() {\n      ObjectMapper mapper = DatabindCodec.mapper();\n      mapper.registerModule(new JavaTimeModule());\n \n      ObjectMapper prettyMapper = DatabindCodec.prettyMapper();\n      prettyMapper.registerModule(new JavaTimeModule());\n  \n  \n  // code already exists\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5224958,"reputation":536,"user_id":4177271,"display_name":"Tcheutchoua Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633470422,"creation_date":1633470422,"answer_id":69457611,"question_id":69417729,"body_markdown":"If you can get the sql date as `java.util.Date`, then you can convert that to unix epoch time (Unix timestamp is the number of seconds that have elapsed since January 1, 1970), and passed it as a long value to the eventBus.\r\n\r\n When you receive the long on the other end, you can easily convert that to a Date. \r\n\r\n    // Converting Date to timestamp and sending in Json\r\n    timestamp = Date().getTime()\r\n    new JsonObject().put(&quot;date&quot;, timestamp)\r\n    \r\n\r\n    // Converting the timestamp to Date\r\n    Date(timestamp)\r\n\r\nIf the db date can only be gotten as a LocalDate, you could also convert the LocalDate to a form from which the unix timestamp can be gotten, say to an Instant/Date.\r\n\r\nThe main idea is to convert the date to a standard form, pass it to the eventBus, get it from the other end and convert back to Date. ","title":"Eclipse Vert.x : parsing java.time date with jackson","body":"<p>If you can get the sql date as <code>java.util.Date</code>, then you can convert that to unix epoch time (Unix timestamp is the number of seconds that have elapsed since January 1, 1970), and passed it as a long value to the eventBus.</p>\n<p>When you receive the long on the other end, you can easily convert that to a Date.</p>\n<pre><code>// Converting Date to timestamp and sending in Json\ntimestamp = Date().getTime()\nnew JsonObject().put(&quot;date&quot;, timestamp)\n\n\n// Converting the timestamp to Date\nDate(timestamp)\n</code></pre>\n<p>If the db date can only be gotten as a LocalDate, you could also convert the LocalDate to a form from which the unix timestamp can be gotten, say to an Instant/Date.</p>\n<p>The main idea is to convert the date to a standard form, pass it to the eventBus, get it from the other end and convert back to Date.</p>\n"}],"owner":{"account_id":18513961,"reputation":48,"user_id":13488504,"display_name":"William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69418797,"answer_count":3,"score":2,"last_activity_date":1633470422,"creation_date":1633184343,"question_id":69417729,"body_markdown":"I&#39;m trying to learn Vert.x by creating a small ReST API. Everything went smooth until I added the database backend. I chose Postgres as a database. My issue comes when a java.time LocalDate is being parsed into JSON. As far as I understand I need the jackson backend to parse it. I added it into my classpath through maven dependencies. The dependcy is there but the framework spits an Exception as it can&#39;t find the jackson plugin called jackson-datatype-jsr310. Well it IS there so i&#39;m a bit stuck... \r\n\r\nI am using **Vert.x 4** and **java 16**, I develop on Windows 10 with IntelliJ IDEA.\r\n\r\n```\r\nopenjdk 16.0.1 2021-04-20\r\nOpenJDK Runtime Environment AdoptOpenJDK-16.0.1+9 (build 16.0.1+9)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK-16.0.1+9 (build 16.0.1+9, mixed mode, sharing)\r\n```\r\n\r\n## My pom ##\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myapi&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n    &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\r\n    &lt;maven-shade-plugin.version&gt;3.2.4&lt;/maven-shade-plugin.version&gt;\r\n    &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\r\n    &lt;exec-maven-plugin.version&gt;3.0.0&lt;/exec-maven-plugin.version&gt;\r\n\r\n    &lt;vertx.version&gt;4.1.4&lt;/vertx.version&gt;\r\n    &lt;junit-jupiter.version&gt;5.8.0&lt;/junit-jupiter.version&gt;\r\n    &lt;log4j.version&gt;2.14.1&lt;/log4j.version&gt;\r\n    &lt;jackson.version&gt;2.13.0-rc2&lt;/jackson.version&gt;\r\n\r\n    &lt;main.verticle&gt;dev.schaw.myapi.MainVerticle&lt;/main.verticle&gt;\r\n    &lt;launcher.class&gt;io.vertx.core.Launcher&lt;/launcher.class&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vertx-stack-depchain&lt;/artifactId&gt;\r\n        &lt;version&gt;${vertx.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-pg-client&lt;/artifactId&gt;\r\n      &lt;version&gt;${vertx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;11&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer\r\n                  implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;manifestEntries&gt;\r\n                    &lt;Main-Class&gt;${launcher.class}&lt;/Main-Class&gt;\r\n                    &lt;Main-Verticle&gt;${main.verticle}&lt;/Main-Verticle&gt;\r\n                  &lt;/manifestEntries&gt;\r\n                &lt;/transformer&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n              &lt;/transformers&gt;\r\n              &lt;outputFile&gt;${project.build.directory}/${project.artifactId}-${project.version}-fat.jar\r\n              &lt;/outputFile&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${exec-maven-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;io.vertx.core.Launcher&lt;/mainClass&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;run&lt;/argument&gt;\r\n            &lt;argument&gt;${main.verticle}&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## My verticle ##\r\n\r\n```\r\npackage dev.schaw.myapi;\r\n\r\nimport io.vertx.config.ConfigRetriever;\r\nimport io.vertx.config.ConfigRetrieverOptions;\r\nimport io.vertx.config.ConfigStoreOptions;\r\nimport io.vertx.core.AbstractVerticle;\r\nimport io.vertx.core.AsyncResult;\r\nimport io.vertx.core.http.HttpMethod;\r\nimport io.vertx.core.http.HttpServer;\r\nimport io.vertx.core.http.HttpServerResponse;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.ext.web.Router;\r\nimport io.vertx.pgclient.PgConnectOptions;\r\nimport io.vertx.pgclient.PgPool;\r\nimport io.vertx.sqlclient.*;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  private HttpServer server;\r\n  private Router router;\r\n  private Logger logger;\r\n  private SqlClient sqlClient;\r\n\r\n  @Override\r\n  public void start() {\r\n\r\n    server = vertx.createHttpServer();\r\n    router = Router.router(vertx);\r\n    logger = LoggerFactory.getLogger(MainVerticle.class);\r\n\r\n    ConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()\r\n      .addStore(new ConfigStoreOptions()\r\n        .setType(&quot;file&quot;)\r\n        .setConfig(new JsonObject().put(&quot;path&quot;, &quot;config.json&quot;))));\r\n    retriever.getConfig(this::onConfigRetrieved);\r\n  }\r\n\r\n  public void onConfigRetrieved(AsyncResult&lt;JsonObject&gt; configAsyncResult){\r\n    JsonObject config = configAsyncResult.result();\r\n\r\n    JsonObject dataConnection = config.getJsonObject(&quot;myapi&quot;).getJsonObject(&quot;dataConnection&quot;);\r\n    PgConnectOptions connectOptions = new PgConnectOptions()\r\n      .setHost(dataConnection.getString(&quot;host&quot;))\r\n      .setPort(dataConnection.getInteger(&quot;port&quot;))\r\n      .setDatabase(dataConnection.getString(&quot;database&quot;))\r\n      .setUser(dataConnection.getString(&quot;user&quot;))\r\n      .setPassword(dataConnection.getString(&quot;password&quot;));\r\n\r\n    PoolOptions poolOptions = new PoolOptions().setMaxSize(5);\r\n\r\n    sqlClient = PgPool.pool(vertx, connectOptions, poolOptions);\r\n\r\n    router.route(HttpMethod.GET, &quot;/&quot;).handler(ctx -&gt; {\r\n      logger.info(&quot;received a request&quot;);\r\n      HttpServerResponse response = ctx.response();\r\n      response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\r\n      response.end(&quot;Hello World!\\n&quot;);\r\n    });\r\n\r\n    router.get(&quot;/data&quot;).handler(ctx -&gt; {\r\n        sqlClient.preparedQuery(&quot;SELECT * FROM sample_data WHERE id=$1&quot;)\r\n          .execute(Tuple.of(1), queryAsyncResult -&gt; {\r\n            RowSet&lt;Row&gt; set = queryAsyncResult.result();\r\n            if(set.rowCount() != 1){\r\n              ctx.fail(404);\r\n            }\r\n            Row r = set.iterator().next();\r\n            JsonObject body = new JsonObject().put(&quot;id&quot;, r.getInteger(&quot;id&quot;))\r\n              .put(&quot;name&quot;, r.getString(&quot;name&quot;))\r\n              .put(&quot;date&quot;, r.getLocalDate(&quot;date&quot;));\r\n            ctx.response().putHeader(&quot;content-type&quot;, &quot;application/json&quot;).end(body.encode());\r\n          });\r\n      });\r\n\r\n    int port = config\r\n      .getJsonObject(&quot;myapi&quot;)\r\n      .getJsonObject(&quot;server&quot;)\r\n      .getInteger(&quot;port&quot;);\r\n    server.requestHandler(router).listen(port);\r\n  }\r\n}\r\n```\r\n\r\n## The database init script ##\r\n\r\n```\r\ncreate table sample_data (\r\n  id serial primary key,\r\n  name varchar(80) not null,\r\n  date date not null\r\n);\r\n```\r\n\r\n## And here is the exception ##\r\n*you can check the classpath here.*\r\n\r\n```\r\n&quot;C:\\Program Files\\AdoptOpenJDK\\jdk-16.0.1.9-hotspot\\bin\\java.exe&quot; -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:53414,suspend=y,server=n -javaagent:C:\\Users\\willi\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\212.5284.40\\plugins\\java\\lib\\rt\\debugger-agent.jar -Dfile.encoding=UTF-8 -classpath C:\\Users\\willi\\Projects\\myapi\\target\\classes;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.0-rc2\\jackson-core-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.0-rc2\\jackson-databind-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.0-rc2\\jackson-annotations-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.0-rc2\\jackson-datatype-jsr310-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.0-rc2\\jackson-datatype-jdk8-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-web\\4.1.4\\vertx-web-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-web-common\\4.1.4\\vertx-web-common-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-auth-common\\4.1.4\\vertx-auth-common-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-bridge-common\\4.1.4\\vertx-bridge-common-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-core\\4.1.4\\vertx-core-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-common\\4.1.67.Final\\netty-common-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.67.Final\\netty-buffer-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-transport\\4.1.67.Final\\netty-transport-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-handler\\4.1.67.Final\\netty-handler-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec\\4.1.67.Final\\netty-codec-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.67.Final\\netty-handler-proxy-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.67.Final\\netty-codec-socks-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.67.Final\\netty-codec-http-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-http2\\4.1.67.Final\\netty-codec-http2-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.67.Final\\netty-resolver-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-resolver-dns\\4.1.67.Final\\netty-resolver-dns-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-dns\\4.1.67.Final\\netty-codec-dns-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-config\\4.1.4\\vertx-config-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.14.1\\log4j-api-2.14.1.jar;C:\\Users\\willi\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-core\\2.14.1\\log4j-core-2.14.1.jar;C:\\Users\\willi\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-slf4j-impl\\2.14.1\\log4j-slf4j-impl-2.14.1.jar;C:\\Users\\willi\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.25\\slf4j-api-1.7.25.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-pg-client\\4.1.4\\vertx-pg-client-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-sql-client\\4.1.4\\vertx-sql-client-4.1.4.jar;C:\\Users\\willi\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\212.5284.40\\lib\\idea_rt.jar io.vertx.core.Launcher run dev.schaw.myapi.MainVerticle\r\nConnected to the target VM, address: &#39;127.0.0.1:53414&#39;, transport: &#39;socket&#39;\r\nOpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n16:06:01.100 [vert.x-eventloop-thread-0] INFO  io.vertx.core.impl.launcher.commands.VertxIsolatedDeployer - Succeeded in deploying verticle\r\n16:06:03.393 [vert.x-eventloop-thread-1] ERROR io.vertx.core.impl.ContextImpl - Unhandled exception\r\nio.vertx.core.json.EncodeException: Failed to encode as JSON: Java 8 date/time type `java.time.LocalDate` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: java.util.LinkedHashMap[&quot;date&quot;])\r\n\tat io.vertx.core.json.jackson.DatabindCodec.toString(DatabindCodec.java:163) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.json.JsonObject.encode(JsonObject.java:728) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat dev.schaw.myapi.MainVerticle.lambda$onConfigRetrieved$1(MainVerticle.java:73) ~[classes/:?]\r\n\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102) ~[vertx-sql-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35) ~[vertx-sql-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.Promise.complete(Promise.java:66) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.Promise.handle(Promise.java:51) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.Promise.handle(Promise.java:29) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureImpl$ListenerArray.onSuccess(FutureImpl.java:262) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:81) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.DuplicatedContext.execute(DuplicatedContext.java:173) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:51) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46) ~[vertx-sql-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287) ~[vertx-sql-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:96) ~[vertx-pg-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:99) ~[vertx-sql-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.net.impl.NetSocketImpl.lambda$new$1(NetSocketImpl.java:97) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.streams.impl.InboundBuffer.handleEvent(InboundBuffer.java:240) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.streams.impl.InboundBuffer.write(InboundBuffer.java:130) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.net.impl.NetSocketImpl.lambda$handleMessage$9(NetSocketImpl.java:390) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:50) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.ContextImpl.emit(ContextImpl.java:274) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:22) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:389) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:155) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:154) ~[vertx-core-4.1.4.jar:4.1.4]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:87) ~[vertx-pg-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139) [vertx-pg-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237) [vertx-pg-client-4.1.4.jar:4.1.4]\r\n\tat io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96) [vertx-pg-client-4.1.4.jar:4.1.4]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.67.Final.jar:4.1.67.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.67.Final.jar:4.1.67.Final]\r\n\tat java.lang.Thread.run(Thread.java:831) [?:?]\r\n```\r\n\r\nI found this migration guide which says something about jackson : &lt;https://vert-x3.github.io/vertx-4-migration-guide/index.html&gt; but it does not help.\r\n\r\nI also found this issue on github : &lt;https://github.com/vert-x3/vertx-web/issues/1841&gt; albeit i&#39;m not sure it applies to me.\r\n\r\n**Serializing a date should be a common task so I guess the fault is on me. Does someone have any idea how I can solve this issue ?**\r\n","title":"Eclipse Vert.x : parsing java.time date with jackson","body":"<p>I'm trying to learn Vert.x by creating a small ReST API. Everything went smooth until I added the database backend. I chose Postgres as a database. My issue comes when a java.time LocalDate is being parsed into JSON. As far as I understand I need the jackson backend to parse it. I added it into my classpath through maven dependencies. The dependcy is there but the framework spits an Exception as it can't find the jackson plugin called jackson-datatype-jsr310. Well it IS there so i'm a bit stuck...</p>\n<p>I am using <strong>Vert.x 4</strong> and <strong>java 16</strong>, I develop on Windows 10 with IntelliJ IDEA.</p>\n<pre><code>openjdk 16.0.1 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-16.0.1+9 (build 16.0.1+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-16.0.1+9 (build 16.0.1+9, mixed mode, sharing)\n</code></pre>\n<h2>My pom</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;myapi&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\n    &lt;maven-shade-plugin.version&gt;3.2.4&lt;/maven-shade-plugin.version&gt;\n    &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\n    &lt;exec-maven-plugin.version&gt;3.0.0&lt;/exec-maven-plugin.version&gt;\n\n    &lt;vertx.version&gt;4.1.4&lt;/vertx.version&gt;\n    &lt;junit-jupiter.version&gt;5.8.0&lt;/junit-jupiter.version&gt;\n    &lt;log4j.version&gt;2.14.1&lt;/log4j.version&gt;\n    &lt;jackson.version&gt;2.13.0-rc2&lt;/jackson.version&gt;\n\n    &lt;main.verticle&gt;dev.schaw.myapi.MainVerticle&lt;/main.verticle&gt;\n    &lt;launcher.class&gt;io.vertx.core.Launcher&lt;/launcher.class&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-stack-depchain&lt;/artifactId&gt;\n        &lt;version&gt;${vertx.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-pg-client&lt;/artifactId&gt;\n      &lt;version&gt;${vertx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;11&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer\n                  implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Main-Class&gt;${launcher.class}&lt;/Main-Class&gt;\n                    &lt;Main-Verticle&gt;${main.verticle}&lt;/Main-Verticle&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n              &lt;/transformers&gt;\n              &lt;outputFile&gt;${project.build.directory}/${project.artifactId}-${project.version}-fat.jar\n              &lt;/outputFile&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${exec-maven-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;io.vertx.core.Launcher&lt;/mainClass&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;run&lt;/argument&gt;\n            &lt;argument&gt;${main.verticle}&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<h2>My verticle</h2>\n<pre><code>package dev.schaw.myapi;\n\nimport io.vertx.config.ConfigRetriever;\nimport io.vertx.config.ConfigRetrieverOptions;\nimport io.vertx.config.ConfigStoreOptions;\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.AsyncResult;\nimport io.vertx.core.http.HttpMethod;\nimport io.vertx.core.http.HttpServer;\nimport io.vertx.core.http.HttpServerResponse;\nimport io.vertx.core.json.JsonObject;\nimport io.vertx.ext.web.Router;\nimport io.vertx.pgclient.PgConnectOptions;\nimport io.vertx.pgclient.PgPool;\nimport io.vertx.sqlclient.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MainVerticle extends AbstractVerticle {\n\n  private HttpServer server;\n  private Router router;\n  private Logger logger;\n  private SqlClient sqlClient;\n\n  @Override\n  public void start() {\n\n    server = vertx.createHttpServer();\n    router = Router.router(vertx);\n    logger = LoggerFactory.getLogger(MainVerticle.class);\n\n    ConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()\n      .addStore(new ConfigStoreOptions()\n        .setType(&quot;file&quot;)\n        .setConfig(new JsonObject().put(&quot;path&quot;, &quot;config.json&quot;))));\n    retriever.getConfig(this::onConfigRetrieved);\n  }\n\n  public void onConfigRetrieved(AsyncResult&lt;JsonObject&gt; configAsyncResult){\n    JsonObject config = configAsyncResult.result();\n\n    JsonObject dataConnection = config.getJsonObject(&quot;myapi&quot;).getJsonObject(&quot;dataConnection&quot;);\n    PgConnectOptions connectOptions = new PgConnectOptions()\n      .setHost(dataConnection.getString(&quot;host&quot;))\n      .setPort(dataConnection.getInteger(&quot;port&quot;))\n      .setDatabase(dataConnection.getString(&quot;database&quot;))\n      .setUser(dataConnection.getString(&quot;user&quot;))\n      .setPassword(dataConnection.getString(&quot;password&quot;));\n\n    PoolOptions poolOptions = new PoolOptions().setMaxSize(5);\n\n    sqlClient = PgPool.pool(vertx, connectOptions, poolOptions);\n\n    router.route(HttpMethod.GET, &quot;/&quot;).handler(ctx -&gt; {\n      logger.info(&quot;received a request&quot;);\n      HttpServerResponse response = ctx.response();\n      response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\n      response.end(&quot;Hello World!\\n&quot;);\n    });\n\n    router.get(&quot;/data&quot;).handler(ctx -&gt; {\n        sqlClient.preparedQuery(&quot;SELECT * FROM sample_data WHERE id=$1&quot;)\n          .execute(Tuple.of(1), queryAsyncResult -&gt; {\n            RowSet&lt;Row&gt; set = queryAsyncResult.result();\n            if(set.rowCount() != 1){\n              ctx.fail(404);\n            }\n            Row r = set.iterator().next();\n            JsonObject body = new JsonObject().put(&quot;id&quot;, r.getInteger(&quot;id&quot;))\n              .put(&quot;name&quot;, r.getString(&quot;name&quot;))\n              .put(&quot;date&quot;, r.getLocalDate(&quot;date&quot;));\n            ctx.response().putHeader(&quot;content-type&quot;, &quot;application/json&quot;).end(body.encode());\n          });\n      });\n\n    int port = config\n      .getJsonObject(&quot;myapi&quot;)\n      .getJsonObject(&quot;server&quot;)\n      .getInteger(&quot;port&quot;);\n    server.requestHandler(router).listen(port);\n  }\n}\n</code></pre>\n<h2>The database init script</h2>\n<pre><code>create table sample_data (\n  id serial primary key,\n  name varchar(80) not null,\n  date date not null\n);\n</code></pre>\n<h2>And here is the exception</h2>\n<p><em>you can check the classpath here.</em></p>\n<pre><code>&quot;C:\\Program Files\\AdoptOpenJDK\\jdk-16.0.1.9-hotspot\\bin\\java.exe&quot; -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:53414,suspend=y,server=n -javaagent:C:\\Users\\willi\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\212.5284.40\\plugins\\java\\lib\\rt\\debugger-agent.jar -Dfile.encoding=UTF-8 -classpath C:\\Users\\willi\\Projects\\myapi\\target\\classes;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.0-rc2\\jackson-core-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.0-rc2\\jackson-databind-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.0-rc2\\jackson-annotations-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.0-rc2\\jackson-datatype-jsr310-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.0-rc2\\jackson-datatype-jdk8-2.13.0-rc2.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-web\\4.1.4\\vertx-web-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-web-common\\4.1.4\\vertx-web-common-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-auth-common\\4.1.4\\vertx-auth-common-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-bridge-common\\4.1.4\\vertx-bridge-common-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-core\\4.1.4\\vertx-core-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-common\\4.1.67.Final\\netty-common-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.67.Final\\netty-buffer-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-transport\\4.1.67.Final\\netty-transport-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-handler\\4.1.67.Final\\netty-handler-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec\\4.1.67.Final\\netty-codec-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.67.Final\\netty-handler-proxy-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.67.Final\\netty-codec-socks-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.67.Final\\netty-codec-http-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-http2\\4.1.67.Final\\netty-codec-http2-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.67.Final\\netty-resolver-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-resolver-dns\\4.1.67.Final\\netty-resolver-dns-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\netty\\netty-codec-dns\\4.1.67.Final\\netty-codec-dns-4.1.67.Final.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-config\\4.1.4\\vertx-config-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.14.1\\log4j-api-2.14.1.jar;C:\\Users\\willi\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-core\\2.14.1\\log4j-core-2.14.1.jar;C:\\Users\\willi\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-slf4j-impl\\2.14.1\\log4j-slf4j-impl-2.14.1.jar;C:\\Users\\willi\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.25\\slf4j-api-1.7.25.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-pg-client\\4.1.4\\vertx-pg-client-4.1.4.jar;C:\\Users\\willi\\.m2\\repository\\io\\vertx\\vertx-sql-client\\4.1.4\\vertx-sql-client-4.1.4.jar;C:\\Users\\willi\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\212.5284.40\\lib\\idea_rt.jar io.vertx.core.Launcher run dev.schaw.myapi.MainVerticle\nConnected to the target VM, address: '127.0.0.1:53414', transport: 'socket'\nOpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n16:06:01.100 [vert.x-eventloop-thread-0] INFO  io.vertx.core.impl.launcher.commands.VertxIsolatedDeployer - Succeeded in deploying verticle\n16:06:03.393 [vert.x-eventloop-thread-1] ERROR io.vertx.core.impl.ContextImpl - Unhandled exception\nio.vertx.core.json.EncodeException: Failed to encode as JSON: Java 8 date/time type `java.time.LocalDate` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: java.util.LinkedHashMap[&quot;date&quot;])\n    at io.vertx.core.json.jackson.DatabindCodec.toString(DatabindCodec.java:163) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.json.JsonObject.encode(JsonObject.java:728) ~[vertx-core-4.1.4.jar:4.1.4]\n    at dev.schaw.myapi.MainVerticle.lambda$onConfigRetrieved$1(MainVerticle.java:73) ~[classes/:?]\n    at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102) ~[vertx-sql-client-4.1.4.jar:4.1.4]\n    at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35) ~[vertx-sql-client-4.1.4.jar:4.1.4]\n    at io.vertx.core.Promise.complete(Promise.java:66) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.Promise.handle(Promise.java:51) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.Promise.handle(Promise.java:29) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureImpl$ListenerArray.onSuccess(FutureImpl.java:262) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:81) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.DuplicatedContext.execute(DuplicatedContext.java:173) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:51) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46) ~[vertx-sql-client-4.1.4.jar:4.1.4]\n    at io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287) ~[vertx-sql-client-4.1.4.jar:4.1.4]\n    at io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:96) ~[vertx-pg-client-4.1.4.jar:4.1.4]\n    at io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:99) ~[vertx-sql-client-4.1.4.jar:4.1.4]\n    at io.vertx.core.net.impl.NetSocketImpl.lambda$new$1(NetSocketImpl.java:97) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.streams.impl.InboundBuffer.handleEvent(InboundBuffer.java:240) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.streams.impl.InboundBuffer.write(InboundBuffer.java:130) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.net.impl.NetSocketImpl.lambda$handleMessage$9(NetSocketImpl.java:390) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:50) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.ContextImpl.emit(ContextImpl.java:274) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:22) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:389) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:155) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:154) ~[vertx-core-4.1.4.jar:4.1.4]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:87) ~[vertx-pg-client-4.1.4.jar:4.1.4]\n    at io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139) [vertx-pg-client-4.1.4.jar:4.1.4]\n    at io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237) [vertx-pg-client-4.1.4.jar:4.1.4]\n    at io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96) [vertx-pg-client-4.1.4.jar:4.1.4]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.67.Final.jar:4.1.67.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.67.Final.jar:4.1.67.Final]\n    at java.lang.Thread.run(Thread.java:831) [?:?]\n</code></pre>\n<p>I found this migration guide which says something about jackson : <a href=\"https://vert-x3.github.io/vertx-4-migration-guide/index.html\" rel=\"nofollow noreferrer\">https://vert-x3.github.io/vertx-4-migration-guide/index.html</a> but it does not help.</p>\n<p>I also found this issue on github : <a href=\"https://github.com/vert-x3/vertx-web/issues/1841\" rel=\"nofollow noreferrer\">https://github.com/vert-x3/vertx-web/issues/1841</a> albeit i'm not sure it applies to me.</p>\n<p><strong>Serializing a date should be a common task so I guess the fault is on me. Does someone have any idea how I can solve this issue ?</strong></p>\n"},{"tags":["java","swing","jpanel"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633470366,"creation_date":1384821638,"answer_id":20060951,"question_id":20060923,"body_markdown":"Call `mainFrame.setVisible(true);` last\r\n\r\n    private void Start()\r\n    {\r\n    \r\n        JFrame mainFrame = new JFrame(&quot;MineSweeper&quot;);\r\n        // Move this...\r\n        //mainFrame.setVisible(true);\r\n        //...\r\n        mainFrame.add(p1, BorderLayout.CENTER); \r\n        // To here\r\n        mainFrame.setVisible(true);\r\n    }\r\n\r\nYou should also launch you application within the context of the EDT.  Take a look at [Initial Threads](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html) for more details\r\n\r\nYou should also avoid using a `MouseListener` on buttons, they have a `ActionListener` API which includes notification when the use clicks the button or &quot;active&quot; key (usually &lt;kbd&gt;Enter&lt;/kbd&gt; or &lt;kbd&gt;Space&lt;/kbd&gt;)","title":"I am trying to add a JButton array that I added to a panel onto my JFrame, yet nothing is showing up","body":"<p>Call <code>mainFrame.setVisible(true);</code> last</p>\n<pre><code>private void Start()\n{\n\n    JFrame mainFrame = new JFrame(&quot;MineSweeper&quot;);\n    // Move this...\n    //mainFrame.setVisible(true);\n    //...\n    mainFrame.add(p1, BorderLayout.CENTER); \n    // To here\n    mainFrame.setVisible(true);\n}\n</code></pre>\n<p>You should also launch you application within the context of the EDT.  Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">Initial Threads</a> for more details</p>\n<p>You should also avoid using a <code>MouseListener</code> on buttons, they have a <code>ActionListener</code> API which includes notification when the use clicks the button or &quot;active&quot; key (usually <kbd>Enter</kbd> or <kbd>Space</kbd>)</p>\n"}],"owner":{"account_id":3604319,"reputation":13,"user_id":3006878,"display_name":"user3006878"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20060951,"answer_count":1,"score":1,"last_activity_date":1633470366,"creation_date":1384821514,"question_id":20060923,"body_markdown":"Here is my code:\r\nFor some reason nothing will appear on my screen, yet I don&#39;t know why, I believe I am initializing it correctly and adding it. Help? \r\n\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n\r\n    public class main implements MouseListener{\r\n\t\r\n\tfinal int WIDTH = 800, HEIGHT = 500, BOARD_WIDTH = 10, BOARD_HEIGHT = 10;\r\n\tprivate JButton [][]buttons = new JButton[BOARD_WIDTH][BOARD_HEIGHT];\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tnew main();\r\n\t}\r\n\t\r\n\tpublic main()\r\n\t{\r\n\t\tStart();\r\n\t}\r\n\t\r\n\tprivate void Start()\r\n\t{\r\n\t\t\r\n\t\tJFrame mainFrame = new JFrame(&quot;MineSweeper&quot;);\r\n\t\tmainFrame.setVisible(true);\r\n\t\tmainFrame.setSize(WIDTH,HEIGHT);\r\n\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tmainFrame.setLocationRelativeTo(null);\r\n\t\tmainFrame.setResizable(false);\r\n\t\tmainFrame.setLayout(new BorderLayout());\r\n\t\t\r\n\t\tJPanel p1 = new JPanel();\r\n\t\tp1.setLayout(new GridLayout(BOARD_WIDTH, BOARD_HEIGHT));\r\n\t\t\r\n\t\tfor(int x = 0; x &lt; BOARD_WIDTH; x++)\r\n\t\t\tfor(int y = 0; y &lt; BOARD_HEIGHT; y++)\r\n\t\t\t{\r\n\t\t\t\tbuttons[x][y] = new JButton(&quot;01&quot;);\r\n\t\t\t\tbuttons[x][y].addMouseListener(this);\r\n\t\t\t\tp1.add(buttons[x][y]);\r\n\t\t\t}\r\n\t\t\r\n\t\tmainFrame.add(p1, BorderLayout.CENTER);\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n    }\r\n\r\nThanks for any help!\r\nAlso sorry for any confusion it is that my buttons wont appear on the screen not that the frame will no appear.\r\n","title":"I am trying to add a JButton array that I added to a panel onto my JFrame, yet nothing is showing up","body":"<p>Here is my code:\nFor some reason nothing will appear on my screen, yet I don't know why, I believe I am initializing it correctly and adding it. Help? </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n\npublic class main implements MouseListener{\n\nfinal int WIDTH = 800, HEIGHT = 500, BOARD_WIDTH = 10, BOARD_HEIGHT = 10;\nprivate JButton [][]buttons = new JButton[BOARD_WIDTH][BOARD_HEIGHT];\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    new main();\n}\n\npublic main()\n{\n    Start();\n}\n\nprivate void Start()\n{\n\n    JFrame mainFrame = new JFrame(\"MineSweeper\");\n    mainFrame.setVisible(true);\n    mainFrame.setSize(WIDTH,HEIGHT);\n    mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    mainFrame.setLocationRelativeTo(null);\n    mainFrame.setResizable(false);\n    mainFrame.setLayout(new BorderLayout());\n\n    JPanel p1 = new JPanel();\n    p1.setLayout(new GridLayout(BOARD_WIDTH, BOARD_HEIGHT));\n\n    for(int x = 0; x &lt; BOARD_WIDTH; x++)\n        for(int y = 0; y &lt; BOARD_HEIGHT; y++)\n        {\n            buttons[x][y] = new JButton(\"01\");\n            buttons[x][y].addMouseListener(this);\n            p1.add(buttons[x][y]);\n        }\n\n    mainFrame.add(p1, BorderLayout.CENTER); \n}\n\n@Override\npublic void mouseClicked(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void mouseEntered(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void mouseExited(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void mousePressed(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void mouseReleased(MouseEvent arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n}\n</code></pre>\n\n<p>Thanks for any help!\nAlso sorry for any confusion it is that my buttons wont appear on the screen not that the frame will no appear.</p>\n"},{"tags":["java","time-complexity","big-o"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1633468475,"post_id":69457224,"comment_id":122766961,"body_markdown":"Space complexity is incorrect.","body":"Space complexity is incorrect."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1633468949,"post_id":69457224,"comment_id":122767112,"body_markdown":"If `one` and `two` were 10MB or 100MB each, how much memory would the algorithm require? Which lines in your snippet would require large space allocations?","body":"If <code>one</code> and <code>two</code> were 10MB or 100MB each, how much memory would the algorithm require? Which lines in your snippet would require large space allocations?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1633468959,"post_id":69457224,"comment_id":122767115,"body_markdown":"Note you can sort in `O(n)` in this case too.","body":"Note you can sort in <code>O(n)</code> in this case too."},{"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"score":0,"creation_date":1633479997,"post_id":69457224,"comment_id":122769281,"body_markdown":"How can I sort in O(n) time?","body":"How can I sort in O(n) time?"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1634666598,"post_id":69457224,"comment_id":123085342,"body_markdown":"@DavisWard [Radix sort](https://en.wikipedia.org/wiki/Radix_sort) and [counting sort](https://en.wikipedia.org/wiki/Counting_sort) are often used for sorting strings and sets of small integers. This is an exception to the typical `O(n log n)` sort expectation, because you can simply count/increment (O(1)) for each char (O(n)) and reproduce it in O(n + k) time with `k` as the number of buckets (65536, for 65536 char values).","body":"@DavisWard <a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">Radix sort</a> and <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a> are often used for sorting strings and sets of small integers. This is an exception to the typical <code>O(n log n)</code> sort expectation, because you can simply count/increment (O(1)) for each char (O(n)) and reproduce it in O(n + k) time with <code>k</code> as the number of buckets (65536, for 65536 char values)."}],"answers":[{"tags":[],"owner":{"account_id":5340515,"reputation":64,"user_id":4257803,"display_name":"markigno"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633469507,"creation_date":1633469148,"answer_id":69457439,"question_id":69457224,"body_markdown":"Time complexity is O(nlogn) both in avg and in worst case.\r\nSpace complexity of Timsort (the used sort algorithm) requires an additional O(n) space: it is not constant complexity but linear complexity.\r\nSome references: https://ericmervin.medium.com/what-is-timsort-76173b49bd16\r\n\r\nThe complexity of your algorithm is the same complexity of Timsort, because you used two times that algorithm.","title":"Are the time and space complexity for my algorithm for checking if two strings are permutations of each other correct?","body":"<p>Time complexity is O(nlogn) both in avg and in worst case.\nSpace complexity of Timsort (the used sort algorithm) requires an additional O(n) space: it is not constant complexity but linear complexity.\nSome references: <a href=\"https://ericmervin.medium.com/what-is-timsort-76173b49bd16\" rel=\"nofollow noreferrer\">https://ericmervin.medium.com/what-is-timsort-76173b49bd16</a></p>\n<p>The complexity of your algorithm is the same complexity of Timsort, because you used two times that algorithm.</p>\n"}],"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69457439,"answer_count":1,"score":0,"last_activity_date":1633469507,"creation_date":1633467726,"question_id":69457224,"body_markdown":"        /*\r\n        Returns true is the two strings are permutations of each other.\r\n        Time Complexity; O(nlog n) -&gt; because of the java utils array sort\r\n        Space Complexity; O(1)\r\n     */\r\n    public boolean isPermutationOptimized(String one, String two) {\r\n        if (one.length() != two.length()) {\r\n            return false;\r\n        }\r\n        return sort(one).equals(sort(two));\r\n    }\r\n\r\n    public String sort(String s) {\r\n        char[] c = s.toCharArray();\r\n        java.util.Arrays.sort(c);\r\n        return new String(c);\r\n    }\r\n\r\nI believe the time complexity is O(nlogn) because of the java.utils array sort and space complexity is constant.","title":"Are the time and space complexity for my algorithm for checking if two strings are permutations of each other correct?","body":"<pre><code>    /*\n    Returns true is the two strings are permutations of each other.\n    Time Complexity; O(nlog n) -&gt; because of the java utils array sort\n    Space Complexity; O(1)\n */\npublic boolean isPermutationOptimized(String one, String two) {\n    if (one.length() != two.length()) {\n        return false;\n    }\n    return sort(one).equals(sort(two));\n}\n\npublic String sort(String s) {\n    char[] c = s.toCharArray();\n    java.util.Arrays.sort(c);\n    return new String(c);\n}\n</code></pre>\n<p>I believe the time complexity is O(nlogn) because of the java.utils array sort and space complexity is constant.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1238723700,"post_id":712231,"comment_id":524599,"body_markdown":"Can you paste the stacktrace over here? And jdk you are using? Or try without importing java.util.Locale.getISOCountries(), just to be sure its same Locale you intended.","body":"Can you paste the stacktrace over here? And jdk you are using? Or try without importing java.util.Locale.getISOCountries(), just to be sure its same Locale you intended."}],"answers":[{"tags":[],"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238723928,"creation_date":1238723928,"answer_id":712303,"question_id":712231,"body_markdown":" 1. Create a Map out of this page [http://www.theodora.com/country_digraphs.html][1] \r\n 2. Save it to a file (I suggest XMLEncoder/XMLDecoder class)\r\n 3. Create a wrapping class that loads this Map from the file (I&#39;d use a lazily initialized singleton) and allows access to the get(...) methods.\r\n 4. Repeat (or use a bi-directional map) these steps for each column of the table on the afore mentioned webpage.\r\n 5. Fancy-Time: Throw in some code to wrap the entries in a Reference object (SoftReference?) so that the Map won&#39;t throw MemoryErrors\r\n\r\n\r\n  [1]: http://www.theodora.com/country_digraphs.html","title":"Best way to get a list of countries in Java","body":"<ol>\n<li>Create a Map out of this page <a href=\"http://www.theodora.com/country_digraphs.html\" rel=\"nofollow noreferrer\">http://www.theodora.com/country_digraphs.html</a> </li>\n<li>Save it to a file (I suggest XMLEncoder/XMLDecoder class)</li>\n<li>Create a wrapping class that loads this Map from the file (I'd use a lazily initialized singleton) and allows access to the get(...) methods.</li>\n<li>Repeat (or use a bi-directional map) these steps for each column of the table on the afore mentioned webpage.</li>\n<li>Fancy-Time: Throw in some code to wrap the entries in a Reference object (SoftReference?) so that the Map won't throw MemoryErrors</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31201,"reputation":36752,"user_id":85509,"accept_rate":100,"display_name":"user85509"},"down_vote_count":3,"up_vote_count":6,"is_accepted":true,"score":3,"last_activity_date":1238724356,"creation_date":1238724356,"answer_id":712316,"question_id":712231,"body_markdown":"For a separate project, I took the country code data from the [ISO site](http://www.iso.org/iso/country_codes/iso_3166_code_lists.htm).\r\n\r\nBeware of the following:\r\n\r\n* The names are in all caps.  You will probably want to tweak it so it&#39;s not.\r\n* The names are not all in simple ASCII.\r\n* The names are not entirely political neutral (it is probably impossible for any purported list of countries to be).  E.g., &quot;Taiwan, Province of China&quot; is a name.  A good starting point to learn about the issues is [this blog post](http://www.koziarski.net/archives/2008/9/24/countries-and-controversies).","title":"Best way to get a list of countries in Java","body":"<p>For a separate project, I took the country code data from the <a href=\"http://www.iso.org/iso/country_codes/iso_3166_code_lists.htm\" rel=\"nofollow noreferrer\">ISO site</a>.</p>\n\n<p>Beware of the following:</p>\n\n<ul>\n<li>The names are in all caps.  You will probably want to tweak it so it's not.</li>\n<li>The names are not all in simple ASCII.</li>\n<li>The names are not entirely political neutral (it is probably impossible for any purported list of countries to be).  E.g., \"Taiwan, Province of China\" is a name.  A good starting point to learn about the issues is <a href=\"http://www.koziarski.net/archives/2008/9/24/countries-and-controversies\" rel=\"nofollow noreferrer\">this blog post</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":224182,"reputation":2219,"user_id":483819,"display_name":"mkyong"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1510677627,"creation_date":1366735355,"answer_id":16174768,"question_id":712231,"body_markdown":"See code snippets :\r\n\r\n    String[] countryCodes = Locale.getISOCountries();\r\n     \r\n    for (String countryCode : countryCodes) {\r\n     \r\n    \tLocale obj = new Locale(&quot;&quot;, countryCode);\r\n     \r\n    \tSystem.out.println(&quot;Country Code = &quot; + obj.getCountry() \r\n    \t    + &quot;, Country Name = &quot; + obj.getDisplayCountry());\r\n     \r\n    }\r\n\r\nRefer to this [country list in Java][1] for more examples.\r\n\r\n\r\n  [1]: http://www.mkyong.com/java/display-a-list-of-countries-in-java/","title":"Best way to get a list of countries in Java","body":"<p>See code snippets :</p>\n\n<pre><code>String[] countryCodes = Locale.getISOCountries();\n\nfor (String countryCode : countryCodes) {\n\n    Locale obj = new Locale(\"\", countryCode);\n\n    System.out.println(\"Country Code = \" + obj.getCountry() \n        + \", Country Name = \" + obj.getDisplayCountry());\n\n}\n</code></pre>\n\n<p>Refer to this <a href=\"http://www.mkyong.com/java/display-a-list-of-countries-in-java/\" rel=\"noreferrer\">country list in Java</a> for more examples.</p>\n"},{"tags":[],"owner":{"account_id":12375720,"reputation":833,"user_id":9471274,"display_name":"Enamul Haque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533444642,"creation_date":1533444642,"answer_id":51691481,"question_id":712231,"body_markdown":"You can use from json bellow like\r\n\r\n 1. Json parsing..\r\n\r\n        String jsonString =JSON_DATA;\r\n\t    ObjectMapper mapper = new ObjectMapper();\t \r\n\t\ttry {\r\n\t\t\t    JsonNode rootNode = mapper.readTree(jsonString);\t\t\t  \r\n\t\t\t    \r\n\t\t\t    for (JsonNode node : rootNode) {\r\n\t\t\t\t\tString countrycode = node.path(&quot;code&quot;).asText();\r\n\t\t\t\t\tString dialnumber = node.path(&quot;dial_code&quot;).asText();\r\n\t\t\t\t\tString countryname = node.path(&quot;name&quot;).asText();\r\n\r\n\t\t\t\t}\r\n\t         \r\n\t\t\t    \r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n 2. Json String here\r\n\r\n        public static String JSON_DATA=&quot;\r\n\r\n         [\r\n           {\r\n            &quot;name&quot;: &quot;Afghanistan&quot;,\r\n            &quot;dial_code&quot;: &quot;+93&quot;,\r\n            &quot;code&quot;: &quot;AF&quot;\r\n           }, \r\n\r\n          {\r\n           &quot;name&quot;: &quot;Aland Islands&quot;,\r\n          &quot;dial_code&quot;: &quot;+358&quot;,\r\n          &quot;code&quot;: &quot;AX&quot;\r\n          },\r\n\r\n\r\n        {\r\n          &quot;name&quot;: &quot;Albania&quot;,\r\n         &quot;dial_code&quot;: &quot;+355&quot;,\r\n         &quot;code&quot;: &quot;AL&quot;\r\n         },\r\n\r\n        {\r\n         &quot;name&quot;: &quot;Algeria&quot;,\r\n         &quot;dial_code&quot;: &quot;+213&quot;,\r\n         &quot;code&quot;: &quot;DZ&quot;\r\n         },\r\n\r\n        {\r\n           &quot;name&quot;: &quot;AmericanSamoa&quot;,\r\n           &quot;dial_code&quot;: &quot;+1684&quot;,\r\n           &quot;code&quot;: &quot;AS&quot;\r\n          }]&quot;;\r\n\r\n 3. Or You can  download full json from link : https://gist.github.com/Goles/3196253\r\n","title":"Best way to get a list of countries in Java","body":"<p>You can use from json bellow like</p>\n\n<ol>\n<li><p>Json parsing..</p>\n\n<pre><code>String jsonString =JSON_DATA;\nObjectMapper mapper = new ObjectMapper();    \ntry {\n        JsonNode rootNode = mapper.readTree(jsonString);              \n\n        for (JsonNode node : rootNode) {\n            String countrycode = node.path(\"code\").asText();\n            String dialnumber = node.path(\"dial_code\").asText();\n            String countryname = node.path(\"name\").asText();\n\n        }\n\n\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre></li>\n<li><p>Json String here</p>\n\n<pre><code>public static String JSON_DATA=\"\n\n [\n   {\n    \"name\": \"Afghanistan\",\n    \"dial_code\": \"+93\",\n    \"code\": \"AF\"\n   }, \n\n  {\n   \"name\": \"Aland Islands\",\n  \"dial_code\": \"+358\",\n  \"code\": \"AX\"\n  },\n\n\n{\n  \"name\": \"Albania\",\n \"dial_code\": \"+355\",\n \"code\": \"AL\"\n },\n\n{\n \"name\": \"Algeria\",\n \"dial_code\": \"+213\",\n \"code\": \"DZ\"\n },\n\n{\n   \"name\": \"AmericanSamoa\",\n   \"dial_code\": \"+1684\",\n   \"code\": \"AS\"\n  }]\";\n</code></pre></li>\n<li><p>Or You can  download full json from link : <a href=\"https://gist.github.com/Goles/3196253\" rel=\"nofollow noreferrer\">https://gist.github.com/Goles/3196253</a></p></li>\n</ol>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41545,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":712316,"answer_count":4,"score":29,"last_activity_date":1633469313,"creation_date":1238721533,"question_id":712231,"body_markdown":"Other than `Locale.getISOCountries()` that is, because I&#39;m already &lt;a href=&quot;https://stackoverflow.com/questions/712230/weird-error-with-locale-getisocountries&quot;&gt;getting some strange errors with that&lt;/a&gt;. What else is the best way to get the 2-letter country codes as well as the full country name?","title":"Best way to get a list of countries in Java","body":"<p>Other than <code>Locale.getISOCountries()</code> that is, because I'm already <a href=\"https://stackoverflow.com/questions/712230/weird-error-with-locale-getisocountries\">getting some strange errors with that</a>. What else is the best way to get the 2-letter country codes as well as the full country name?</p>\n"},{"tags":["java","dictionary","merge","vavr"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633433726,"creation_date":1633433726,"answer_id":69449708,"question_id":69448517,"body_markdown":"I have no idea what vavr has to do with this.\r\n\r\n```\r\nlist.stream()                             // A\r\n  .flatMap(map -&gt; map.entrySet().stream()) // B\r\n  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```\r\n\r\n[A] Now you have a stream of `Map&lt;String, Object&gt;`.\r\n\r\n[B] Now you have a stream of map entries.\r\nNow you have a stream of key/value pairs.\r\n\r\nThen just collect them into a map by providing a function to extract a key from a `Map.Entry` object, and a function that extracts a value.\r\n\r\nNote that if you have a map of type `Map&lt;String, Object&gt;`, I give it 99% odds you&#39;re doing something wrong. Java is nominally, statically, and strongly typed, after all.","title":"Convert List of Maps to a single Map with VAVR","body":"<p>I have no idea what vavr has to do with this.</p>\n<pre><code>list.stream()                             // A\n  .flatMap(map -&gt; map.entrySet().stream()) // B\n  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>[A] Now you have a stream of <code>Map&lt;String, Object&gt;</code>.</p>\n<p>[B] Now you have a stream of map entries.\nNow you have a stream of key/value pairs.</p>\n<p>Then just collect them into a map by providing a function to extract a key from a <code>Map.Entry</code> object, and a function that extracts a value.</p>\n<p>Note that if you have a map of type <code>Map&lt;String, Object&gt;</code>, I give it 99% odds you're doing something wrong. Java is nominally, statically, and strongly typed, after all.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633469080,"creation_date":1633436561,"answer_id":69450389,"question_id":69448517,"body_markdown":"You have several options.\r\n\r\nFor instance, given the following data set (sorry for its simplicity):\r\n\r\n```java\r\nMap&lt;String, Object&gt; map1 = HashMap.of(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\r\nMap&lt;String, Object&gt; map2 = HashMap.of(&quot;key3&quot;, &quot;value3&quot;, &quot;key4&quot;, &quot;value4&quot;);\r\nMap&lt;String, Object&gt; map3 = HashMap.of(&quot;key5&quot;, &quot;value5&quot;, &quot;key6&quot;, &quot;value6&quot;);\r\nList&lt;Map&lt;String, Object&gt;&gt; list = List.of(map1, map2, map3);\r\n```\r\n\r\nYou can combine the different `Map`s with [`fold`](https://www.javadoc.io/static/io.vavr/vavr/0.10.4/io/vavr/collection/Foldable.html#fold-T-java.util.function.BiFunction-), for instance:\r\n\r\n```java\r\nMap&lt;String, Object&gt; result = list.fold(HashMap.empty(), (m1, m2) -&gt; m1.merge(m2));\r\n```\r\n\r\nYou can use [`reduce`](https://www.javadoc.io/static/io.vavr/vavr/0.10.4/io/vavr/collection/Foldable.html#reduce-java.util.function.BiFunction-) as well:\r\n\r\n```java\r\nMap&lt;String, Object&gt; result = list.reduce((m1, m2) -&gt; m1.merge(m2));\r\n```\r\n\r\nBoth of them use the `Map` [`merge`](https://www.javadoc.io/static/io.vavr/vavr/0.10.3/io/vavr/collection/Map.html#merge-io.vavr.collection.Map-) method. There is an [overloaded version](https://www.javadoc.io/static/io.vavr/vavr/0.10.3/io/vavr/collection/Map.html#merge-io.vavr.collection.Map-java.util.function.BiFunction-) of this method that allows you to define how collisions should be resolved.","title":"Convert List of Maps to a single Map with VAVR","body":"<p>You have several options.</p>\n<p>For instance, given the following data set (sorry for its simplicity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; map1 = HashMap.of(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\nMap&lt;String, Object&gt; map2 = HashMap.of(&quot;key3&quot;, &quot;value3&quot;, &quot;key4&quot;, &quot;value4&quot;);\nMap&lt;String, Object&gt; map3 = HashMap.of(&quot;key5&quot;, &quot;value5&quot;, &quot;key6&quot;, &quot;value6&quot;);\nList&lt;Map&lt;String, Object&gt;&gt; list = List.of(map1, map2, map3);\n</code></pre>\n<p>You can combine the different <code>Map</code>s with <a href=\"https://www.javadoc.io/static/io.vavr/vavr/0.10.4/io/vavr/collection/Foldable.html#fold-T-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>fold</code></a>, for instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; result = list.fold(HashMap.empty(), (m1, m2) -&gt; m1.merge(m2));\n</code></pre>\n<p>You can use <a href=\"https://www.javadoc.io/static/io.vavr/vavr/0.10.4/io/vavr/collection/Foldable.html#reduce-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>reduce</code></a> as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; result = list.reduce((m1, m2) -&gt; m1.merge(m2));\n</code></pre>\n<p>Both of them use the <code>Map</code> <a href=\"https://www.javadoc.io/static/io.vavr/vavr/0.10.3/io/vavr/collection/Map.html#merge-io.vavr.collection.Map-\" rel=\"nofollow noreferrer\"><code>merge</code></a> method. There is an <a href=\"https://www.javadoc.io/static/io.vavr/vavr/0.10.3/io/vavr/collection/Map.html#merge-io.vavr.collection.Map-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">overloaded version</a> of this method that allows you to define how collisions should be resolved.</p>\n"}],"owner":{"account_id":17814331,"reputation":21,"user_id":12938233,"display_name":"Stefan Dierichs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633469080,"creation_date":1633428284,"question_id":69448517,"body_markdown":"I&#39;m struggling to reduce a `List` of `Map`s to a single `Map` using [Vavr][1]\r\n\r\n    &lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;\r\nto\r\n\r\n    &lt;Map&lt;String, Object&gt;&gt;\r\n\r\nI tried it with `flatmap`/`reduce`/`merge` but unfortunately with no happy end :-(\r\n\r\nCan someone provided an example how to do it with `io.vavr.collection.List`/`io.vavr.collection.Map` ?\r\n\r\n\r\n  [1]: https://www.vavr.io/","title":"Convert List of Maps to a single Map with VAVR","body":"<p>I'm struggling to reduce a <code>List</code> of <code>Map</code>s to a single <code>Map</code> using <a href=\"https://www.vavr.io/\" rel=\"nofollow noreferrer\">Vavr</a></p>\n<pre><code>&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;Map&lt;String, Object&gt;&gt;\n</code></pre>\n<p>I tried it with <code>flatmap</code>/<code>reduce</code>/<code>merge</code> but unfortunately with no happy end :-(</p>\n<p>Can someone provided an example how to do it with <code>io.vavr.collection.List</code>/<code>io.vavr.collection.Map</code> ?</p>\n"},{"tags":["java","android","multithreading","synchronization","background-process"],"comments":[{"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"score":0,"creation_date":1633461098,"post_id":69452099,"comment_id":122764727,"body_markdown":"IMO this is a correct behavior and the output depends on the threads execution.\nBoth the prints are printing in different threads. That&#39;s why you don&#39;t see a sequential execution.\nBy the time you post something to UI thread, your current thread is free and executes the next print (&quot;### INNER ###) statement.","body":"IMO this is a correct behavior and the output depends on the threads execution. Both the prints are printing in different threads. That&#39;s why you don&#39;t see a sequential execution. By the time you post something to UI thread, your current thread is free and executes the next print (&quot;### INNER ###) statement."},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1633461406,"post_id":69452099,"comment_id":122764823,"body_markdown":"I see. So, how to solve the problem?","body":"I see. So, how to solve the problem?"},{"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"score":0,"creation_date":1633462402,"post_id":69452099,"comment_id":122765156,"body_markdown":"You are already updating the progress on the UI thread. What&#39;s the exact issue?\nYou will never be sure when the main thread will execute your runnable.","body":"You are already updating the progress on the UI thread. What&#39;s the exact issue? You will never be sure when the main thread will execute your runnable."},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1633463232,"post_id":69452099,"comment_id":122765445,"body_markdown":"Sorry, I thought I was clear enough. The exact issue is the one in the title of the thread: to force the runOnUiThread to get `### INNER ###`, then `-------------`, then `### INNER ###`, then `-------------`, and so on. Your answer seems to be that this is impossible unless I do everything in the same thread (hence blocking it while doing the `doInBackground` tasks). But then, how the `publishProgress` method in AsyncTask performs this?","body":"Sorry, I thought I was clear enough. The exact issue is the one in the title of the thread: to force the runOnUiThread to get <code>### INNER ###</code>, then <code>-------------</code>, then <code>### INNER ###</code>, then <code>-------------</code>, and so on. Your answer seems to be that this is impossible unless I do everything in the same thread (hence blocking it while doing the <code>doInBackground</code> tasks). But then, how the <code>publishProgress</code> method in AsyncTask performs this?"},{"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"score":0,"creation_date":1633468773,"post_id":69452099,"comment_id":122767064,"body_markdown":"AsyncTask internally does something very similar to your code. It posts the job on the main Handler which delivers the job to main UI thread. The async operation is never disturbed during this. You can try something like this\n```\n val semaphore = Semaphore(1)\n        val mainHandler = Handler(Looper.getMainLooper())\nfor (your logic) {\n          try {\n               semaphore.acquire()\n               mainHandler.post { \n                  /* do your main ui work*/ \n                   semaphore.release()\n               }\n           } catch (e: Exception) {}\n         \n        }\n```","body":"AsyncTask internally does something very similar to your code. It posts the job on the main Handler which delivers the job to main UI thread. The async operation is never disturbed during this. You can try something like this ```  val semaphore = Semaphore(1)         val mainHandler = Handler(Looper.getMainLooper()) for (your logic) {           try {                semaphore.acquire()                mainHandler.post {                    /* do your main ui work*/                     semaphore.release()                }            } catch (e: Exception) {}                   } ```"}],"answers":[{"tags":[],"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633468983,"creation_date":1633468983,"answer_id":69457408,"question_id":69452099,"body_markdown":"May be you can try something like below for your use case.\r\n```\r\n  val semaphore = Semaphore(1)\r\n        val mainHandler = Handler(Looper.getMainLooper())\r\n        for (your logic) {\r\n            try {\r\n                semaphore.acquire()\r\n                mainHandler.post {\r\n                    /* do your main ui work*/\r\n                    semaphore.release()\r\n                }\r\n            } catch (e: Exception) {\r\n\r\n            } \r\n        }\r\n        \r\n```","title":"Forcing runOnUiThread","body":"<p>May be you can try something like below for your use case.</p>\n<pre><code>  val semaphore = Semaphore(1)\n        val mainHandler = Handler(Looper.getMainLooper())\n        for (your logic) {\n            try {\n                semaphore.acquire()\n                mainHandler.post {\n                    /* do your main ui work*/\n                    semaphore.release()\n                }\n            } catch (e: Exception) {\n\n            } \n        }\n        \n</code></pre>\n"}],"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69457408,"answer_count":1,"score":0,"last_activity_date":1633468983,"creation_date":1633443354,"question_id":69452099,"body_markdown":"I am trying to force a background thread to publish progress, like an AsyncTask, but I am failing miserably. I don&#39;t understand why it does not work.\r\n\r\nI begin the background thread like this:\r\n\r\n    new Thread(() -&gt; {\r\n        doInBackground();\r\n    }).start();\r\n\r\nInside `doInBackground()`, I have a loop like this:\r\n\r\n    ...\r\n    synchronized (this) {\r\n        ...\r\n        for (int i = 0; i &lt; 100000; i++) {\r\n            ...\r\n            if (i % 100 == 0) {\r\n               System.out.println(&quot;### INNER ### &quot;);\r\n               activity.runOnUiThread(this::onProgressUpdate);\r\n            }\r\n        }\r\n     }\r\n\r\nAnd `onProgressUpdate()` is simply\r\n\r\n    onProgressUpdate() {\r\n         System.out.println(&quot;-------------&quot;);\r\n    }\r\n\r\nWhat I expect is that, for each `### INNER ### ` I see an intercalated `-------------`. Yet, I see all the `### INNER ### ` first, and then all the `-------------`. So the line\r\n\r\n    activity.runOnUiThread(this::onProgressUpdate);\r\n\r\nis not being executed at the moment I want. I tried adding and removing several `synchronized (this)` everywhere, without success.\r\n\r\nWhat I am doing wrong?","title":"Forcing runOnUiThread","body":"<p>I am trying to force a background thread to publish progress, like an AsyncTask, but I am failing miserably. I don't understand why it does not work.</p>\n<p>I begin the background thread like this:</p>\n<pre><code>new Thread(() -&gt; {\n    doInBackground();\n}).start();\n</code></pre>\n<p>Inside <code>doInBackground()</code>, I have a loop like this:</p>\n<pre><code>...\nsynchronized (this) {\n    ...\n    for (int i = 0; i &lt; 100000; i++) {\n        ...\n        if (i % 100 == 0) {\n           System.out.println(&quot;### INNER ### &quot;);\n           activity.runOnUiThread(this::onProgressUpdate);\n        }\n    }\n }\n</code></pre>\n<p>And <code>onProgressUpdate()</code> is simply</p>\n<pre><code>onProgressUpdate() {\n     System.out.println(&quot;-------------&quot;);\n}\n</code></pre>\n<p>What I expect is that, for each <code>### INNER ### </code> I see an intercalated <code>-------------</code>. Yet, I see all the <code>### INNER ### </code> first, and then all the <code>-------------</code>. So the line</p>\n<pre><code>activity.runOnUiThread(this::onProgressUpdate);\n</code></pre>\n<p>is not being executed at the moment I want. I tried adding and removing several <code>synchronized (this)</code> everywhere, without success.</p>\n<p>What I am doing wrong?</p>\n"},{"tags":["java","python","jdbc","impala","jaydebeapi"],"answers":[{"tags":[],"owner":{"account_id":14592565,"reputation":1,"user_id":10539270,"display_name":"Ashutosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577769215,"creation_date":1551116424,"answer_id":54871799,"question_id":54870285,"body_markdown":"Did you check do you have the ImpalaJDBC***.jar in your new machine.\r\nPlease check properly weather it&#39;s available at classpath/build path or not.\r\n\r\n**Edit:**\r\nYou can use hive jdbc jar as well to connect with impala , just use the port of impala rather hive in jdbc url.","title":"Impala driver class not being found through Jaydebeapi Connection","body":"<p>Did you check do you have the ImpalaJDBC***.jar in your new machine.\nPlease check properly weather it's available at classpath/build path or not.</p>\n\n<p><strong>Edit:</strong>\nYou can use hive jdbc jar as well to connect with impala , just use the port of impala rather hive in jdbc url.</p>\n"},{"tags":[],"owner":{"account_id":9521589,"reputation":193,"user_id":7076275,"display_name":"yahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618988797,"creation_date":1618988797,"answer_id":67190859,"question_id":54870285,"body_markdown":"Looking at this error means your jar is corrupt.\r\nFirst check your impalaJDBC jar\r\n```\r\njava -jar ImpalaJDBC&lt;version&gt;.jar\r\n```\r\nIf it gives you error that means your jar is corrupt.\r\n\r\nDownload the correct jar from cloudera","title":"Impala driver class not being found through Jaydebeapi Connection","body":"<p>Looking at this error means your jar is corrupt.\nFirst check your impalaJDBC jar</p>\n<pre><code>java -jar ImpalaJDBC&lt;version&gt;.jar\n</code></pre>\n<p>If it gives you error that means your jar is corrupt.</p>\n<p>Download the correct jar from cloudera</p>\n"}],"owner":{"account_id":12938968,"reputation":85,"user_id":9355397,"accept_rate":71,"display_name":"papacoolaid666"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2521,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633468317,"creation_date":1551110795,"question_id":54870285,"body_markdown":"I recently switched over from using a PC to a Mac and now for whatever reason one of my Impala drivers that worked fine is no longer found when run in Python. I keep receiving this error every time I run the script : &quot;java.lang.RuntimeException: Class com.cloudera.impala.jdbc41.Driver not found&quot;. Please see code snippet for my connection below.\r\n\r\n`c = jaydebeapi.connect\r\n(jclassname=&#39;com.cloudera.impala.jdbc41.Driver&#39;,\r\nurl=&#39;jdbc:impala://cloudera-impala-proxy.live.bi.xxx/;AuthMech=3;ssl=1;&#39;,\r\ndriver_args=[&#39;xxx&#39;, self.dwh_password],                               jars=&#39;/Users/xxx/Desktop/ImpalaJDBC41 2.jar&#39;)`\r\n\r\nAny help or suggestions are appreciated, I feel like I&#39;m going crazy trying to get this to work. ","title":"Impala driver class not being found through Jaydebeapi Connection","body":"<p>I recently switched over from using a PC to a Mac and now for whatever reason one of my Impala drivers that worked fine is no longer found when run in Python. I keep receiving this error every time I run the script : \"java.lang.RuntimeException: Class com.cloudera.impala.jdbc41.Driver not found\". Please see code snippet for my connection below.</p>\n\n<p><code>c = jaydebeapi.connect\n(jclassname='com.cloudera.impala.jdbc41.Driver',\nurl='jdbc:impala://cloudera-impala-proxy.live.bi.xxx/;AuthMech=3;ssl=1;',\ndriver_args=['xxx', self.dwh_password],                               jars='/Users/xxx/Desktop/ImpalaJDBC41 2.jar')</code></p>\n\n<p>Any help or suggestions are appreciated, I feel like I'm going crazy trying to get this to work. </p>\n"},{"tags":["java","oracle","jdbc","jmeter"],"comments":[{"owner":{"account_id":10240697,"reputation":963,"user_id":7558199,"display_name":"ararar"},"score":0,"creation_date":1494245277,"post_id":43844202,"comment_id":74730211,"body_markdown":"can you pls try this jdbc:oracle:thin:@//host:port/service and set max number of connections to 0","body":"can you pls try this jdbc:oracle:thin:@//host:port/service and set max number of connections to 0"},{"owner":{"account_id":9148918,"reputation":1,"user_id":6804126,"display_name":"Jheng Ibasco"},"score":0,"creation_date":1494254538,"post_id":43844202,"comment_id":74736901,"body_markdown":"nothing&#39;s happen still getting the ORA-00911: invalid character","body":"nothing&#39;s happen still getting the ORA-00911: invalid character"}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494240816,"creation_date":1494236578,"answer_id":43844439,"question_id":43844202,"body_markdown":"Your database URL in your configuration needs to be:\r\n\r\n    jdbc:oracle:thin:@&lt;hostname&gt;:&lt;port&gt;/&lt;serviceName&gt;\r\n\r\nA colon before the last element indicates you are passing a SID. A slash indicates you are passing a service name.\r\n\r\nFrom the screenshot you added later and the error you got next, you also need to change the isolation level from `DEFAULT` to `TRANSACTION_READ_COMMITED`, and you need to change the validation query from `select 1` to `select 1 from dual`. Make sure you do not add a semicolon on the end of that query. (A semicolon is a statement separator is many clients, it is not part of a single SQL statement, and including it in a JDBC call will give you an ORA-00911 error).","title":"How to connect Oracle database to JMeter if we have service name instead of SID?","body":"<p>Your database URL in your configuration needs to be:</p>\n\n<pre><code>jdbc:oracle:thin:@&lt;hostname&gt;:&lt;port&gt;/&lt;serviceName&gt;\n</code></pre>\n\n<p>A colon before the last element indicates you are passing a SID. A slash indicates you are passing a service name.</p>\n\n<p>From the screenshot you added later and the error you got next, you also need to change the isolation level from <code>DEFAULT</code> to <code>TRANSACTION_READ_COMMITED</code>, and you need to change the validation query from <code>select 1</code> to <code>select 1 from dual</code>. Make sure you do not add a semicolon on the end of that query. (A semicolon is a statement separator is many clients, it is not part of a single SQL statement, and including it in a JDBC call will give you an ORA-00911 error).</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494236595,"creation_date":1494236595,"answer_id":43844444,"question_id":43844202,"body_markdown":"You should change your JDBC URL like:\r\n\r\n    jdbc:oracle:thin:@&lt;hostname&gt;:&lt;port&gt;/&lt;serviceName&gt;\r\n                                       ^slash instead of colon should be here\r\n\r\nReferences:\r\n\r\n - [JDBC - Oracle FAQ][1]\r\n - [The Real Secret to Building a Database Test Plan With JMeter][2]\r\n\r\n\r\n  [1]: http://www.orafaq.com/wiki/JDBC\r\n  [2]: https://www.blazemeter.com/blog/real-secret-building-database-test-plan-jmeter","title":"How to connect Oracle database to JMeter if we have service name instead of SID?","body":"<p>You should change your JDBC URL like:</p>\n\n<pre><code>jdbc:oracle:thin:@&lt;hostname&gt;:&lt;port&gt;/&lt;serviceName&gt;\n                                   ^slash instead of colon should be here\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://www.orafaq.com/wiki/JDBC\" rel=\"nofollow noreferrer\">JDBC - Oracle FAQ</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/real-secret-building-database-test-plan-jmeter\" rel=\"nofollow noreferrer\">The Real Secret to Building a Database Test Plan With JMeter</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":620811,"reputation":3572,"user_id":362483,"accept_rate":64,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494318404,"creation_date":1494318404,"answer_id":43864762,"question_id":43844202,"body_markdown":"When connecting to an Oracle database, database server will have a configuration file (tnsnames.ora), that informs the server about NET_SERVICE_NAMES which are valid database connections.\r\n\r\n By default, this file is located at ORACLE_HOME/network/admin and should contain entry like :\r\n\r\nmyDatabaseNetService =\r\n  (DESCRIPTION =\r\n    (ADDRESS = (PROTOCOL = tcp)(HOST = localhost)(PORT = 1521)(QUEUESIZE = 100))\r\n    (CONNECT_DATA =\r\n      (SERVICE_NAME = bookstore.company.com)\r\n    )\r\n  )\r\n\r\nUse myDatabaseNetService as SERVICE_NAME in connection string.\r\n\r\n","title":"How to connect Oracle database to JMeter if we have service name instead of SID?","body":"<p>When connecting to an Oracle database, database server will have a configuration file (tnsnames.ora), that informs the server about NET_SERVICE_NAMES which are valid database connections.</p>\n\n<p>By default, this file is located at ORACLE_HOME/network/admin and should contain entry like :</p>\n\n<p>myDatabaseNetService =\n  (DESCRIPTION =\n    (ADDRESS = (PROTOCOL = tcp)(HOST = localhost)(PORT = 1521)(QUEUESIZE = 100))\n    (CONNECT_DATA =\n      (SERVICE_NAME = bookstore.company.com)\n    )\n  )</p>\n\n<p>Use myDatabaseNetService as SERVICE_NAME in connection string.</p>\n"},{"tags":[],"owner":{"account_id":9148918,"reputation":1,"user_id":6804126,"display_name":"Jheng Ibasco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494320350,"creation_date":1494320350,"answer_id":43865435,"question_id":43844202,"body_markdown":"Thank You guys for helping me. So appreciated. So what i did to resolve my problem is i just downgrade my JMeter version to 2.13 and the configurations are: \r\n\r\nTransaction Isolation: TRANSACTION_READ_COMMITED\r\nValidation Query: select 1 from or Select 1\r\nDatabase URL: jdbc:oracle:thin:@&lt;HOSTNAME&gt;:&lt;PORT&gt;/&lt;SERVICE_NAME&gt;\r\nJDBC Driver Class: oracle.jdbc.OracleDriver\r\nJDBC Sampler: There should no semicolon at the end of the query\r\nOracle driver: ojdbc7 in oracle website\r\npath of driver: lib/ext\r\n","title":"How to connect Oracle database to JMeter if we have service name instead of SID?","body":"<p>Thank You guys for helping me. So appreciated. So what i did to resolve my problem is i just downgrade my JMeter version to 2.13 and the configurations are: </p>\n\n<p>Transaction Isolation: TRANSACTION_READ_COMMITED\nValidation Query: select 1 from or Select 1\nDatabase URL: jdbc:oracle:thin:@:/\nJDBC Driver Class: oracle.jdbc.OracleDriver\nJDBC Sampler: There should no semicolon at the end of the query\nOracle driver: ojdbc7 in oracle website\npath of driver: lib/ext</p>\n"}],"owner":{"account_id":9148918,"reputation":1,"user_id":6804126,"display_name":"Jheng Ibasco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1633468010,"creation_date":1494235860,"question_id":43844202,"body_markdown":"I&#39;m using Oracle with JMeter and instead of using SID we use service name. I get this error: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Cannot create PoolableConnectionFactory (Listener refused the connection with the following error:\r\n    ORA-12505, TNS:listener does not currently know of SID given in connect descriptor)\r\n\r\nMy JMeter configuration:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n     jdbc:oracle:thin:@&lt;hostname&gt;:&lt;port&gt;:&lt;serviceName&gt;\r\n     oracle.jdbc.OracleDriver\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/paFN2.png","title":"How to connect Oracle database to JMeter if we have service name instead of SID?","body":"<p>I'm using Oracle with JMeter and instead of using SID we use service name. I get this error: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Cannot create PoolableConnectionFactory (Listener refused the connection with the following error:\nORA-12505, TNS:listener does not currently know of SID given in connect descriptor)\n</code></pre>\n\n<p>My JMeter configuration:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> jdbc:oracle:thin:@&lt;hostname&gt;:&lt;port&gt;:&lt;serviceName&gt;\n oracle.jdbc.OracleDriver\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/paFN2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/paFN2.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","import","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":16384947,"reputation":397,"user_id":11835088,"display_name":"Pawan Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572718544,"creation_date":1572718544,"answer_id":58673952,"question_id":58673427,"body_markdown":"Make sure your PoissonDistribution class available in Java Classpath.\r\nAnd i can guess your jar will not in add jar properly.\r\n\r\n**Add following step to add jar :**\r\n\r\n- Eclipse by right-clicking on the Project\r\n- Build Path \r\n- Add External JARs. \r\n- And give the Jar.\r\n- Ok\r\n","title":"NoClassDefFoundError with Apache commons math","body":"<p>Make sure your PoissonDistribution class available in Java Classpath.\nAnd i can guess your jar will not in add jar properly.</p>\n\n<p><strong>Add following step to add jar :</strong></p>\n\n<ul>\n<li>Eclipse by right-clicking on the Project</li>\n<li>Build Path </li>\n<li>Add External JARs. </li>\n<li>And give the Jar.</li>\n<li>Ok</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15542367,"reputation":55,"user_id":11212696,"display_name":"niko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572782740,"creation_date":1572782740,"answer_id":58679982,"question_id":58673427,"body_markdown":"Ok so by coincidence I&#39;ve found the solution: \r\n\r\nMy problem was that I added the JAR to the Modulepath and not the Classpath in the project properties.","title":"NoClassDefFoundError with Apache commons math","body":"<p>Ok so by coincidence I've found the solution: </p>\n\n<p>My problem was that I added the JAR to the Modulepath and not the Classpath in the project properties.</p>\n"},{"tags":[],"owner":{"account_id":14488276,"reputation":301,"user_id":10465435,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633467799,"creation_date":1633467799,"answer_id":69457233,"question_id":58673427,"body_markdown":"In my case, I&#39;d forgot just to add part of Apache library is the name: commons-math3-3.6.1.jar","title":"NoClassDefFoundError with Apache commons math","body":"<p>In my case, I'd forgot just to add part of Apache library is the name: commons-math3-3.6.1.jar</p>\n"}],"owner":{"account_id":15542367,"reputation":55,"user_id":11212696,"display_name":"niko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58679982,"answer_count":3,"score":1,"last_activity_date":1633467799,"creation_date":1572715119,"question_id":58673427,"body_markdown":"I want to use the PoissonDistribution from Apache Commons but always get the error a ```NoClassDefFoundError```.\r\n\r\nThe code:\r\n```\r\nimport org.apache.commons.math3.distribution.PoissonDistribution;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tPoissonDistribution p = new PoissonDistribution(5.0);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe error message:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/math3/distribution/PoissonDistribution\r\n\tat Test.main(Test.java:6)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.math3.distribution.PoissonDistribution\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n```\r\nWhat I&#39;ve done so far:\r\nThe commons-math3-3.6.1.jar file is located in a folder inside my project folder and via ```Project-&gt;Properties-&gt;Java Build Path-&gt;Libraries``` I added the JAR file and then in the &quot;Order and Export&quot; tab next to it I selected the jar file.\r\n\r\n\r\nThanks for your help!","title":"NoClassDefFoundError with Apache commons math","body":"<p>I want to use the PoissonDistribution from Apache Commons but always get the error a <code>NoClassDefFoundError</code>.</p>\n\n<p>The code:</p>\n\n<pre><code>import org.apache.commons.math3.distribution.PoissonDistribution;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        PoissonDistribution p = new PoissonDistribution(5.0);\n\n    }\n\n}\n</code></pre>\n\n<p>The error message:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/commons/math3/distribution/PoissonDistribution\n    at Test.main(Test.java:6)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.math3.distribution.PoissonDistribution\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 1 more\n</code></pre>\n\n<p>What I've done so far:\nThe commons-math3-3.6.1.jar file is located in a folder inside my project folder and via <code>Project-&gt;Properties-&gt;Java Build Path-&gt;Libraries</code> I added the JAR file and then in the \"Order and Export\" tab next to it I selected the jar file.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","swing","user-interface","java-2d","highdpi"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1633462569,"post_id":69456195,"comment_id":122765210,"body_markdown":"Put aside &#39;how&#39; for the moment and focus on the *&#39;why&#39;.* ***Why*** do you think it&#39;s necessary to know this scaling factor?","body":"Put aside &#39;how&#39; for the moment and focus on the <i>&#39;why&#39;.</i> <b><i>Why</i></b> do you think it&#39;s necessary to know this scaling factor?"},{"owner":{"account_id":14961155,"reputation":85,"user_id":13321265,"display_name":"Gianluca Corazza"},"score":0,"creation_date":1633464208,"post_id":69456195,"comment_id":122765722,"body_markdown":"Because I need to scale my JPanel with this factor. The paintComponent method doesnt get affected by this value, but it needs to.","body":"Because I need to scale my JPanel with this factor. The paintComponent method doesnt get affected by this value, but it needs to."},{"owner":{"account_id":14961155,"reputation":85,"user_id":13321265,"display_name":"Gianluca Corazza"},"score":0,"creation_date":1633465893,"post_id":69456195,"comment_id":122766233,"body_markdown":"Visualised here: https://ibb.co/54195Xv","body":"Visualised here: <a href=\"https://ibb.co/54195Xv\" rel=\"nofollow noreferrer\">ibb.co/54195Xv</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633921989,"post_id":69456195,"comment_id":122880003,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1644768161,"post_id":69456195,"comment_id":125688125,"body_markdown":"You can get the scale from the `Graphics` object that is passed to your `paint` method, you can also get it from [`GraphicsConfiguration`](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/GraphicsConfiguration.html) object using [`getDefaultTransform()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/GraphicsConfiguration.html#getDefaultTransform()) method.","body":"You can get the scale from the <code>Graphics</code> object that is passed to your <code>paint</code> method, you can also get it from <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/GraphicsConfiguration.html\" rel=\"nofollow noreferrer\"><code>GraphicsConfiguration</code></a> object using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/GraphicsConfiguration.html#getDefaultTransform()\" rel=\"nofollow noreferrer\"><code>getDefaultTransform()</code></a> method."}],"answers":[{"tags":[],"owner":{"account_id":14961155,"reputation":85,"user_id":13321265,"display_name":"Gianluca Corazza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633467166,"creation_date":1633467166,"answer_id":69457130,"question_id":69456195,"body_markdown":"In contrast to my assumption, JPanels get scaled by the uiScale Property. I reseted the Transform in a Superclass.. My bad ","title":"How to determine the java2d uiscale factor?","body":"<p>In contrast to my assumption, JPanels get scaled by the uiScale Property. I reseted the Transform in a Superclass.. My bad</p>\n"}],"owner":{"account_id":14961155,"reputation":85,"user_id":13321265,"display_name":"Gianluca Corazza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633467166,"creation_date":1633461853,"question_id":69456195,"body_markdown":"I know you can set the factor via -Dsun.java2d.uiScale=2 but what if I want to let the System choose the Value, how do I get the value set? Where is it saved?","title":"How to determine the java2d uiscale factor?","body":"<p>I know you can set the factor via -Dsun.java2d.uiScale=2 but what if I want to let the System choose the Value, how do I get the value set? Where is it saved?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":2,"creation_date":1633459706,"post_id":69455700,"comment_id":122764233,"body_markdown":"Can you expand on this point please? `I’m bound by the contract of the existing Avro schemas.`. I&#39;m not clear why that preempts you from using Kafka Connect.","body":"Can you expand on this point please? <code>I’m bound by the contract of the existing Avro schemas.</code>. I&#39;m not clear why that preempts you from using Kafka Connect."},{"owner":{"account_id":4490649,"reputation":389,"user_id":3651825,"accept_rate":65,"display_name":"MrM"},"score":0,"creation_date":1633460491,"post_id":69455700,"comment_id":122764520,"body_markdown":"Apologies, poor wording / not relevant. I have edited my original post.","body":"Apologies, poor wording / not relevant. I have edited my original post."},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1633462492,"post_id":69455700,"comment_id":122765181,"body_markdown":"AWS has DMS (database migration service) which reads the Oracle transaction logs and sends to the whatever destination defined. So there is a low-level way. `Kafka Connect /w jdbc connectors.. not seem to fit the bill` why the connector is not enough? You should be able using an existing cluster","body":"AWS has DMS (database migration service) which reads the Oracle transaction logs and sends to the whatever destination defined. So there is a low-level way. <code>Kafka Connect &#47;w jdbc connectors.. not seem to fit the bill</code> why the connector is not enough? You should be able using an existing cluster"},{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":0,"creation_date":1633534929,"post_id":69455700,"comment_id":122786802,"body_markdown":"@MrM Check out https://rmoff.dev/no-more-silos for useful background","body":"@MrM Check out <a href=\"https://rmoff.dev/no-more-silos\" rel=\"nofollow noreferrer\">rmoff.dev/no-more-silos</a> for useful background"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633466546,"creation_date":1633466546,"answer_id":69457036,"question_id":69455700,"body_markdown":"The Confluent JDBC **Source** writes to any Kafka cluster, exactly like you want, but you shouldn&#39;t use JDBC for streaming data unless you are snapshotting the current state of the table and there will be no updates/deletes as you&#39;re doing so. \r\n\r\n[Debezium supports Oracle](https://debezium.io/documentation/reference/connectors/oracle.html), otherwise Oracle provides GoldenGate for this purpose. ","title":"How to stream data from a RDBM to Kafka cluster","body":"<p>The Confluent JDBC <strong>Source</strong> writes to any Kafka cluster, exactly like you want, but you shouldn't use JDBC for streaming data unless you are snapshotting the current state of the table and there will be no updates/deletes as you're doing so.</p>\n<p><a href=\"https://debezium.io/documentation/reference/connectors/oracle.html\" rel=\"nofollow noreferrer\">Debezium supports Oracle</a>, otherwise Oracle provides GoldenGate for this purpose.</p>\n"}],"owner":{"account_id":4490649,"reputation":389,"user_id":3651825,"accept_rate":65,"display_name":"MrM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633466546,"creation_date":1633459374,"question_id":69455700,"body_markdown":"I need to fetch data from an Oracle DB into existing topics on an existing Kafka cluster (centrally maintained in my organization) using queries. Since I&#39;m familiar with Java, I could use JDBC to connect to the database and issue queries, create a kafka producer, and use the resultset to populate the topics, however this feels like reinventing the wheel.\r\n\r\nIs there a more elegant way of streaming data from a RDBM to Kafka in my usecase? I have looked into Confluent Kafka Connect /w jdbc connectors, but this does not seem to fit the bill since my data sink will be an existing kafka cluster. \r\n\r\nAny insight is much appreciated. ","title":"How to stream data from a RDBM to Kafka cluster","body":"<p>I need to fetch data from an Oracle DB into existing topics on an existing Kafka cluster (centrally maintained in my organization) using queries. Since I'm familiar with Java, I could use JDBC to connect to the database and issue queries, create a kafka producer, and use the resultset to populate the topics, however this feels like reinventing the wheel.</p>\n<p>Is there a more elegant way of streaming data from a RDBM to Kafka in my usecase? I have looked into Confluent Kafka Connect /w jdbc connectors, but this does not seem to fit the bill since my data sink will be an existing kafka cluster.</p>\n<p>Any insight is much appreciated.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1633440473,"post_id":69447695,"comment_id":122756309,"body_markdown":"Why do you try to inject the variable through CATALINA_OPTS? Why not just create an environment variable `export ENABLE_SCHEDULE_TASK=1` in the host machine? Spring should pick this up.","body":"Why do you try to inject the variable through CATALINA_OPTS? Why not just create an environment variable <code>export ENABLE_SCHEDULE_TASK=1</code> in the host machine? Spring should pick this up."},{"owner":{"account_id":1956426,"reputation":496,"user_id":1759343,"accept_rate":53,"display_name":"yas"},"score":0,"creation_date":1633444277,"post_id":69447695,"comment_id":122758110,"body_markdown":"I think both export and CATALINA_OPTS:{xxxxx} do the same thing here =&gt; set environment variable. The question is more about app not acting according to given environment variable.\n\nBut really appreciate your input though. I have to check other variables which might have change this output.","body":"I think both export and CATALINA_OPTS:{xxxxx} do the same thing here =&gt; set environment variable. The question is more about app not acting according to given environment variable.  But really appreciate your input though. I have to check other variables which might have change this output."}],"answers":[{"tags":[],"owner":{"account_id":1956426,"reputation":496,"user_id":1759343,"accept_rate":53,"display_name":"yas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633466325,"creation_date":1633466325,"answer_id":69457005,"question_id":69447695,"body_markdown":"There seems to be an issue with \r\n\r\n&gt; @ConditionalOnProperty\r\n\r\nSame behaviour was reported [here][1]. \r\nWe are using spring boot version &lt;version&gt;2.0.3.RELEASE&lt;/version&gt; which is different from the link provided. However, same, unexpected bean creation occurred.\r\n\r\nBut when testing with spring boot &lt;version&gt;2.5.5&lt;/version&gt;. It works as expected.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/18674","title":"ConditionalOnProperty - not picking up Environment variable","body":"<p>There seems to be an issue with</p>\n<blockquote>\n<p>@ConditionalOnProperty</p>\n</blockquote>\n<p>Same behaviour was reported <a href=\"https://github.com/spring-projects/spring-boot/issues/18674\" rel=\"nofollow noreferrer\">here</a>.\nWe are using spring boot version 2.0.3.RELEASE which is different from the link provided. However, same, unexpected bean creation occurred.</p>\n<p>But when testing with spring boot 2.5.5. It works as expected.</p>\n"}],"owner":{"account_id":1956426,"reputation":496,"user_id":1759343,"accept_rate":53,"display_name":"yas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633466325,"creation_date":1633424854,"question_id":69447695,"body_markdown":"I am a little confused with ```@ConditionalOnProperty``` .\r\n\r\n``` \r\n@Configuration\r\n@EnableScheduling\r\n@ConditionalOnProperty(prefix = &quot;enable.schedule&quot;, name=&quot;task&quot;,havingValue=&quot;1&quot;, matchIfMissing = false)\r\npublic class SchedulingConfig {\r\n\r\n}\r\n ```\r\n\r\nMy understanding here is =&gt; if there is a property called ```enable.schedule.task``` with value ```1``` then ```SchedulingConfig``` bean will be created. (So far, I think I am on right track and I get it correctly)\r\n\r\nI get confused when on one of my servers, I get the following System Properties \r\n```enable.schedule.task:{value:&quot;0&quot;}```\r\n\r\nBased on my understanding above, if there is a property called ```enable.schedule.task``` with value ```0``` then ```SchedulingConfig``` bean should NOT be created. On top of that, we have ```matchIfMissing``` as ```false```. But SchedulingConfig bean get created.\r\n\r\nSo why does the bean get created with value ```0```?\r\nWhere did I make it wrong?\r\n\r\nNOTE: it is set as \r\n```CATALINA_OPTS:{value: &quot;-Denable.schedule.task=0&quot;} ```. Should that be an issue?\r\n\r\nThanks.\r\n","title":"ConditionalOnProperty - not picking up Environment variable","body":"<p>I am a little confused with <code>@ConditionalOnProperty</code> .</p>\n<pre><code>@Configuration\n@EnableScheduling\n@ConditionalOnProperty(prefix = &quot;enable.schedule&quot;, name=&quot;task&quot;,havingValue=&quot;1&quot;, matchIfMissing = false)\npublic class SchedulingConfig {\n\n}\n</code></pre>\n<p>My understanding here is =&gt; if there is a property called <code>enable.schedule.task</code> with value <code>1</code> then <code>SchedulingConfig</code> bean will be created. (So far, I think I am on right track and I get it correctly)</p>\n<p>I get confused when on one of my servers, I get the following System Properties\n<code>enable.schedule.task:{value:&quot;0&quot;}</code></p>\n<p>Based on my understanding above, if there is a property called <code>enable.schedule.task</code> with value <code>0</code> then <code>SchedulingConfig</code> bean should NOT be created. On top of that, we have <code>matchIfMissing</code> as <code>false</code>. But SchedulingConfig bean get created.</p>\n<p>So why does the bean get created with value <code>0</code>?\nWhere did I make it wrong?</p>\n<p>NOTE: it is set as\n<code>CATALINA_OPTS:{value: &quot;-Denable.schedule.task=0&quot;} </code>. Should that be an issue?</p>\n<p>Thanks.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633452741,"creation_date":1633452741,"answer_id":69454440,"question_id":69454386,"body_markdown":"Assuming the timestamp be the correct marker, you could try stripping it off along with all following content:\r\n\r\n    String output = JAVA_STACK_TRACE.replaceAll(&quot;\\\\s+\\\\d{4}-\\\\d{2}-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2}.*$&quot;, &quot;&quot;);\r\n    System.out.println(output);\r\n\r\nThis prints:\r\n\r\n    ABC-007: This is a dummy ABC error message. This message can have multiple sentences.","title":"How can i find the first index of date and time in string in Java","body":"<p>Assuming the timestamp be the correct marker, you could try stripping it off along with all following content:</p>\n<pre><code>String output = JAVA_STACK_TRACE.replaceAll(&quot;\\\\s+\\\\d{4}-\\\\d{2}-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2}.*$&quot;, &quot;&quot;);\nSystem.out.println(output);\n</code></pre>\n<p>This prints:</p>\n<pre><code>ABC-007: This is a dummy ABC error message. This message can have multiple sentences.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633465948,"creation_date":1633465948,"answer_id":69456947,"question_id":69454386,"body_markdown":"Tim Biegeleisen’s simple code seems to be the best to obtain your real goal: extract the message before the date.\r\n\r\nSince you asked for the index of the date, for the sake of completeness I wanted to show you that a regular expression can be used for that too:\r\n\r\n\t\tPattern p = Pattern.compile(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2},\\\\d{3}&quot;);\r\n\t\tMatcher m = p.matcher(JAVA_STACK_TRACE);\r\n\t\t\r\n\t\tif (m.find()) {\r\n\t\t\tint indexOfDateAndTime = m.start();\r\n\t\t\tSystem.out.println(&quot;Index: &quot; + indexOfDateAndTime);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\t\t}\r\n\r\nOutput:\r\n\r\n&gt; Index: 86\r\n\r\nThe `start()` method of `Matcher` gives you the index of where the match started, the first matched character. There is a corresponding `end` method giving us the offset after the last character matched.\r\n\r\nIt’s a detour if all you want is the message, though.","title":"How can i find the first index of date and time in string in Java","body":"<p>Tim Biegeleisen’s simple code seems to be the best to obtain your real goal: extract the message before the date.</p>\n<p>Since you asked for the index of the date, for the sake of completeness I wanted to show you that a regular expression can be used for that too:</p>\n<pre><code>    Pattern p = Pattern.compile(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2},\\\\d{3}&quot;);\n    Matcher m = p.matcher(JAVA_STACK_TRACE);\n    \n    if (m.find()) {\n        int indexOfDateAndTime = m.start();\n        System.out.println(&quot;Index: &quot; + indexOfDateAndTime);\n    } else {\n        System.out.println(&quot;Not found&quot;);\n    }\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Index: 86</p>\n</blockquote>\n<p>The <code>start()</code> method of <code>Matcher</code> gives you the index of where the match started, the first matched character. There is a corresponding <code>end</code> method giving us the offset after the last character matched.</p>\n<p>It’s a detour if all you want is the message, though.</p>\n"}],"owner":{"account_id":16252314,"reputation":37,"user_id":11735931,"display_name":"Munjal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1633465948,"creation_date":1633452513,"question_id":69454386,"body_markdown":"I have this string with YYYY-MM-DD HH:MM:SS date and time format as below:\r\n\r\n```String JAVA_STACK_TRACE = &quot;ABC-007: This is a dummy ABC error message. This message can have multiple sentences.&quot; + &quot; 2021-09-24 19:12:50,672 Exception in thread \\&quot;main\\&quot; java.lang.RuntimeException: A test exception&quot; + &quot;  at com.stackify.stacktrace.StackTraceExample.methodB(StackTraceExample.java:13)&quot; + &quot;  at com.stackify.stacktrace.StackTraceExample.methodA(StackTraceExample.java:9)&quot; + &quot;  at com.stackify.stacktrace.StackTraceExample.main(StackTraceExample.java:5)&quot;;```\r\n\r\nI want to extract *&quot;ABC-007: This is a dummy DCS error message.&quot;* this part from the string and neglect all the exception stack trace.\r\n\r\nI was thinking that if I get the index of the date, I can do a sub string from the index 0 to the index of date.\r\n\r\nI am not good with regex so haven&#39;t tried anything. Thanks in advance.","title":"How can i find the first index of date and time in string in Java","body":"<p>I have this string with YYYY-MM-DD HH:MM:SS date and time format as below:</p>\n<p><code>String JAVA_STACK_TRACE = &quot;ABC-007: This is a dummy ABC error message. This message can have multiple sentences.&quot; + &quot; 2021-09-24 19:12:50,672 Exception in thread \\&quot;main\\&quot; java.lang.RuntimeException: A test exception&quot; + &quot;  at com.stackify.stacktrace.StackTraceExample.methodB(StackTraceExample.java:13)&quot; + &quot;  at com.stackify.stacktrace.StackTraceExample.methodA(StackTraceExample.java:9)&quot; + &quot;  at com.stackify.stacktrace.StackTraceExample.main(StackTraceExample.java:5)&quot;;</code></p>\n<p>I want to extract <em>&quot;ABC-007: This is a dummy DCS error message.&quot;</em> this part from the string and neglect all the exception stack trace.</p>\n<p>I was thinking that if I get the index of the date, I can do a sub string from the index 0 to the index of date.</p>\n<p>I am not good with regex so haven't tried anything. Thanks in advance.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1633463662,"post_id":69456499,"comment_id":122765560,"body_markdown":"i think the best logic is replace `:D:` to `{SPACE}D:` and split by space eg.  `replace(&quot;:D:&quot;,&quot; D:&quot;).split(&quot; &quot;);`","body":"i think the best logic is replace <code>:D:</code> to <code>{SPACE}D:</code> and split by space eg.  <code>replace(&quot;:D:&quot;,&quot; D:&quot;).split(&quot; &quot;);</code>"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1633464021,"post_id":69456499,"comment_id":122765657,"body_markdown":"@DilermandoLima There is a space in the path itself as well. That&#39;s not going to work.","body":"@DilermandoLima There is a space in the path itself as well. That&#39;s not going to work."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633464009,"creation_date":1633464009,"answer_id":69456591,"question_id":69456499,"body_markdown":"A simple regular expression below splits on &quot;:&quot; that are followed by a &quot;driveletter:&quot;\r\n\r\n    String s = &quot;D:/test/for test/change.txt:D:/test/for test/further.txt:D:/test/for test/yandex.txt&quot;;\r\n    s.split(&quot;:(?=\\\\w:)&quot;);\r\n    ==&gt; String[3] { &quot;D:/test/for test/change.txt&quot;\r\n                  , &quot;D:/test/for test/further.txt&quot;\r\n                  , &quot;D:/test/for test/yandex.txt&quot; }\r\n\r\nNote that this won&#39;t help if additional paths don&#39;t begin with `driveletter:`\r\n","title":"Substring a string in JAVA","body":"<p>A simple regular expression below splits on &quot;:&quot; that are followed by a &quot;driveletter:&quot;</p>\n<pre><code>String s = &quot;D:/test/for test/change.txt:D:/test/for test/further.txt:D:/test/for test/yandex.txt&quot;;\ns.split(&quot;:(?=\\\\w:)&quot;);\n==&gt; String[3] { &quot;D:/test/for test/change.txt&quot;\n              , &quot;D:/test/for test/further.txt&quot;\n              , &quot;D:/test/for test/yandex.txt&quot; }\n</code></pre>\n<p>Note that this won't help if additional paths don't begin with <code>driveletter:</code></p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633464862,"creation_date":1633464862,"answer_id":69456748,"question_id":69456499,"body_markdown":"It looks to me like you want to split on a colon whenever it&#39;s not followed by a slash.  For that, the regular expression you need is a &quot;negative lookahead&quot;, which means &quot;not followed by&quot;.  So you should write `myString.split(&quot;:(?!/)&quot;)` - the `(?!  )` is how to write the negative lookahead. ","title":"Substring a string in JAVA","body":"<p>It looks to me like you want to split on a colon whenever it's not followed by a slash.  For that, the regular expression you need is a &quot;negative lookahead&quot;, which means &quot;not followed by&quot;.  So you should write <code>myString.split(&quot;:(?!/)&quot;)</code> - the <code>(?!  )</code> is how to write the negative lookahead.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633465180,"creation_date":1633464964,"answer_id":69456759,"question_id":69456499,"body_markdown":"You can simply split it on `:(?=[A-Za-z]:\\/)` which can be explained as\r\n\r\n  - `:` : The character `:`\r\n  - `(?=` : Start of lookahead\r\n \t- `[A-Za-z]` : An alphabet\r\n \t- `:\\\\/` : The character `:` followed by `/`\r\n  - `)` : End of lookahead\r\n\r\n**Demo:**\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;D:/test/for test/change.txt:D:/test/for test/further.txt:D:/test/for test/yandex.txt&quot;;\r\n    \t\tString[] paths = str.split(&quot;:(?=[A-Za-z]:\\\\/)&quot;);\r\n    \t\tArrays.stream(paths).forEach(System.out::println);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    D:/test/for test/change.txt\r\n    D:/test/for test/further.txt\r\n    D:/test/for test/yandex.txt\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\n\r\n  [1]: https://ideone.com/qOPzU8","title":"Substring a string in JAVA","body":"<p>You can simply split it on <code>:(?=[A-Za-z]:\\/)</code> which can be explained as</p>\n<ul>\n<li><code>:</code> : The character <code>:</code></li>\n<li><code>(?=</code> : Start of lookahead\n<ul>\n<li><code>[A-Za-z]</code> : An alphabet</li>\n<li><code>:\\\\/</code> : The character <code>:</code> followed by <code>/</code></li>\n</ul>\n</li>\n<li><code>)</code> : End of lookahead</li>\n</ul>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;D:/test/for test/change.txt:D:/test/for test/further.txt:D:/test/for test/yandex.txt&quot;;\n        String[] paths = str.split(&quot;:(?=[A-Za-z]:\\\\/)&quot;);\n        Arrays.stream(paths).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>D:/test/for test/change.txt\nD:/test/for test/further.txt\nD:/test/for test/yandex.txt\n</code></pre>\n<p><a href=\"https://ideone.com/qOPzU8\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"}],"owner":{"account_id":19608232,"reputation":25,"user_id":14351356,"display_name":"Petru Ciorba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69456591,"answer_count":3,"score":1,"last_activity_date":1633465180,"creation_date":1633463564,"question_id":69456499,"body_markdown":" Is possible to substring this `String = &quot;D:/test/for test/change.txt:D:/test/for test/further.txt:D:/test/for test/yandex.txt&quot;` to:\r\n\r\n    D:/test/for test/change.txt\r\n\r\n    D:/test/for test/further.txt\r\n\r\n    D:/test/for test/yandex.txt\r\nBecause are two column, I can not `split()` use `&quot;:&quot;`.","title":"Substring a string in JAVA","body":"<p>Is possible to substring this <code>String = &quot;D:/test/for test/change.txt:D:/test/for test/further.txt:D:/test/for test/yandex.txt&quot;</code> to:</p>\n<pre><code>D:/test/for test/change.txt\n\nD:/test/for test/further.txt\n\nD:/test/for test/yandex.txt\n</code></pre>\n<p>Because are two column, I can not <code>split()</code> use <code>&quot;:&quot;</code>.</p>\n"},{"tags":["java","spring-boot","spring-repositories"],"comments":[{"owner":{"account_id":4768761,"reputation":1,"user_id":3854178,"display_name":"Aditya"},"score":0,"creation_date":1633461229,"post_id":69456019,"comment_id":122764772,"body_markdown":"P.S using postgresql db","body":"P.S using postgresql db"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1633461400,"post_id":69456019,"comment_id":122764821,"body_markdown":"how about change `REPLACE(name, &#39;:text&#39; ,&#39;&#39;)` to `REPLACE(name, :text , &#39;&#39; )`","body":"how about change <code>REPLACE(name, &#39;:text&#39; ,&#39;&#39;)</code> to <code>REPLACE(name, :text , &#39;&#39; )</code>"},{"owner":{"account_id":4768761,"reputation":1,"user_id":3854178,"display_name":"Aditya"},"score":0,"creation_date":1633463971,"post_id":69456019,"comment_id":122765646,"body_markdown":"@Query(value = &quot;UPDATE site_list SET name = REPLACE(name,:text,&#39;&#39;) WHERE name ILIKE %:text%&quot;, nativeQuery = true)\n\nThis is working for rows having one word but not reflecting for rows having more than 1 word.\n\nFor example, i am passing &quot;site&quot; to this method so the rows having only &quot;site&quot; are replaced with &#39;&#39; but rows like &quot;site 1&quot; remains unchanged. can you help identify what&#39;s wrong?","body":"@Query(value = &quot;UPDATE site_list SET name = REPLACE(name,:text,&#39;&#39;) WHERE name ILIKE %:text%&quot;, nativeQuery = true)  This is working for rows having one word but not reflecting for rows having more than 1 word.  For example, i am passing &quot;site&quot; to this method so the rows having only &quot;site&quot; are replaced with &#39;&#39; but rows like &quot;site 1&quot; remains unchanged. can you help identify what&#39;s wrong?"},{"owner":{"account_id":4768761,"reputation":1,"user_id":3854178,"display_name":"Aditya"},"score":0,"creation_date":1633505928,"post_id":69456019,"comment_id":122774306,"body_markdown":"This is working now...\n\n@Query(value = &quot;UPDATE site_list SET name = REPLACE(name,:text,&#39;&#39;) WHERE name ILIKE CONCAT(&#39;%&#39;, CONCAT(:text, &#39;%&#39;))&quot;, nativeQuery = true)","body":"This is working now...  @Query(value = &quot;UPDATE site_list SET name = REPLACE(name,:text,&#39;&#39;) WHERE name ILIKE CONCAT(&#39;%&#39;, CONCAT(:text, &#39;%&#39;))&quot;, nativeQuery = true)"}],"owner":{"account_id":4768761,"reputation":1,"user_id":3854178,"display_name":"Aditya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633464995,"creation_date":1633460888,"question_id":69456019,"body_markdown":"    public interface SiteListRepository extends BaseListRepository&lt;SiteList, Long&gt; {\r\n    \r\n        @Modifying\r\n        @Query(value = &quot;UPDATE site_list SET name = REPLACE(name,&#39;:text&#39;,&#39;&#39;) WHERE name ILIKE :text&quot;, nativeQuery = true)\r\n        void updateSiteListName(@Param(&quot;text&quot;) String text);\r\n    }","title":"How to write below native query in spring boot? The changes are not reflecting on calling the below method updateSiteListName(abc);","body":"<pre><code>public interface SiteListRepository extends BaseListRepository&lt;SiteList, Long&gt; {\n\n    @Modifying\n    @Query(value = &quot;UPDATE site_list SET name = REPLACE(name,':text','') WHERE name ILIKE :text&quot;, nativeQuery = true)\n    void updateSiteListName(@Param(&quot;text&quot;) String text);\n}\n</code></pre>\n"},{"tags":["java","jsp","tomcat","legacy"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1633452570,"post_id":69453912,"comment_id":122761729,"body_markdown":"It&#39;s very difficult to tell from this what your issue really is.  Can you share some code to describe the problem a bit better?","body":"It&#39;s very difficult to tell from this what your issue really is.  Can you share some code to describe the problem a bit better?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1633483048,"post_id":69453912,"comment_id":122769695,"body_markdown":"I would use an ordinary Java class that you call from the JSPs, rather than putting the code into a JSP that is imported into the other ones. In general, it is now considered best practice to minimize the amount of Java code in a JSP and to restrict it as much as possible to UI logic.","body":"I would use an ordinary Java class that you call from the JSPs, rather than putting the code into a JSP that is imported into the other ones. In general, it is now considered best practice to minimize the amount of Java code in a JSP and to restrict it as much as possible to UI logic."}],"owner":{"account_id":3566412,"reputation":21,"user_id":2977813,"display_name":"ejuan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633464989,"creation_date":1633450207,"question_id":69453912,"body_markdown":"I&#39;m trying to modularize credentials disparate among several (dozens) JSP files (exploded war in Tomcat 6). I&#39;ve found I can&#39;t create a single JSP (e.g. that would read a single credentials file) and then import it because imported code may get duplicated, causing errors (I&#39;ve found there&#39;s nothing similar to C&#39;s #ifdef/ifndef directives in JSP). Are there other ways to refactor this project? I think credentials shouldn&#39;t be managed this way, but in the short term, I can&#39;t just migrate the whole project because of its size.\r\n\r\nAn oversimplified example:\r\n\r\n    // createConnection.jsp\r\n\r\n    String user = &quot;the user&quot;;\r\n    String password = &quot;the password&quot;;\r\n\r\n    conn = openJdbcConnection(user, password, etc);\r\n    return conn;\r\n\r\n``createConnection.jsp`` gets imported into several other JSPs and the returned ``conn`` is used to query data.\r\n\r\nPlus, there&#39;re other variants of ``createConnection.jsp`` which have their own copy/implementation of ``openJdbcConnection``.\r\n\r\nMy first attempt was to isolate the code and try to import it where it&#39;s currently used, but some JSP already import other JSP which already has code like this (imagine importing ``createConnection.jsp`` into ``connectionCreator.jsp`` or a JSP having API-like routines to query data which in turn get imported into other files).\r\n\r\nThe main issue is credentials are all over the place and changing them is difficult and error-prone.","title":"Modularize credentials in legacy JSP project","body":"<p>I'm trying to modularize credentials disparate among several (dozens) JSP files (exploded war in Tomcat 6). I've found I can't create a single JSP (e.g. that would read a single credentials file) and then import it because imported code may get duplicated, causing errors (I've found there's nothing similar to C's #ifdef/ifndef directives in JSP). Are there other ways to refactor this project? I think credentials shouldn't be managed this way, but in the short term, I can't just migrate the whole project because of its size.</p>\n<p>An oversimplified example:</p>\n<pre><code>// createConnection.jsp\n\nString user = &quot;the user&quot;;\nString password = &quot;the password&quot;;\n\nconn = openJdbcConnection(user, password, etc);\nreturn conn;\n</code></pre>\n<p><code>createConnection.jsp</code> gets imported into several other JSPs and the returned <code>conn</code> is used to query data.</p>\n<p>Plus, there're other variants of <code>createConnection.jsp</code> which have their own copy/implementation of <code>openJdbcConnection</code>.</p>\n<p>My first attempt was to isolate the code and try to import it where it's currently used, but some JSP already import other JSP which already has code like this (imagine importing <code>createConnection.jsp</code> into <code>connectionCreator.jsp</code> or a JSP having API-like routines to query data which in turn get imported into other files).</p>\n<p>The main issue is credentials are all over the place and changing them is difficult and error-prone.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1633391043,"post_id":69443402,"comment_id":122742269,"body_markdown":"In a word:  No.  (Also, you are not using FileDialog’s getDirectory and getFile methods correctly.  And `path.equals(&quot;nullnull&quot;)` is… a really wrong way to check for user cancelation.  You only have to check [whether getFile() returned null.](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/FileDialog.html#getFile()))","body":"In a word:  No.  (Also, you are not using FileDialog’s getDirectory and getFile methods correctly.  And <code>path.equals(&quot;nullnull&quot;)</code> is… a really wrong way to check for user cancelation.  You only have to check <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/FileDialog.html#getFile()\" rel=\"nofollow noreferrer\">whether getFile() returned null.</a>)"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":2,"creation_date":1633391093,"post_id":69443402,"comment_id":122742277,"body_markdown":"Short answer is &quot;No&quot;. A longer answer might be to use platform-specific API to check if the executable is associated with `.txt` files, for example, or have a list of popular names of editor executables.","body":"Short answer is &quot;No&quot;. A longer answer might be to use platform-specific API to check if the executable is associated with <code>.txt</code> files, for example, or have a list of popular names of editor executables."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1633398847,"post_id":69443402,"comment_id":122743324,"body_markdown":"You would require a list of all possible text editors, then check if the file is an executable. Or do you mean to check if the file is editable text?","body":"You would require a list of all possible text editors, then check if the file is an executable. Or do you mean to check if the file is editable text?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633453927,"post_id":69443402,"comment_id":122762257,"body_markdown":"How many &quot;users&quot; know the file name and path of the Notepad, Wordpad, and Word applications?  You might want to let the user select a text editor application from a JComboBox and you fire up the correct process.","body":"How many &quot;users&quot; know the file name and path of the Notepad, Wordpad, and Word applications?  You might want to let the user select a text editor application from a JComboBox and you fire up the correct process."},{"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"score":0,"creation_date":1633454858,"post_id":69443402,"comment_id":122762580,"body_markdown":"@GilbertLeBlanc Is there a way to start a process without knowing the path to its executable? Different users may have their text editors installed in different places.","body":"@GilbertLeBlanc Is there a way to start a process without knowing the path to its executable? Different users may have their text editors installed in different places."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633456673,"post_id":69443402,"comment_id":122763272,"body_markdown":"How many &quot;users&quot; do you know with their own downloaded text editors?","body":"How many &quot;users&quot; do you know with their own downloaded text editors?"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1633467176,"post_id":69443402,"comment_id":122766618,"body_markdown":"@GilbertLeBlanc The users that I know all have downloaded text editors, because they are all programmers.","body":"@GilbertLeBlanc The users that I know all have downloaded text editors, because they are all programmers."}],"answers":[{"tags":[],"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633452331,"creation_date":1633399610,"answer_id":69444150,"question_id":69443402,"body_markdown":"This is how I got my desired functionality:\r\n\r\n    private JMenuBar createMenuBar() {\r\n\t\tJMenuBar jmb = new JMenuBar();\r\n\t\tJMenu fileMenu = new JMenu(&quot;Settings&quot;);\r\n\t\tJMenuItem setEditor = new JMenuItem(&quot;Set Text Editor&quot;);\r\n\t\tsetEditor.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\r\n\t\t\t\t\tfd.setDirectory(&quot;C:\\\\&quot;);\r\n\t\t\t\t\tfd.setVisible(true);\r\n\t\t\t\t\tString path = fd.getDirectory() + fd.getFile();\r\n\t\t\t\t\tif (!path.equals(&quot;nullnull&quot;)) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t//Try to open the output file (a .txt file), then kill it immediately so it doesn&#39;t actually open.\r\n\t\t\t\t\t\t\tProcess p = new ProcessBuilder(path,la.getOutFile().toString()).start(); \r\n\t\t\t\t\t\t\tp.destroy();\r\n\t\t\t\t\t\t\tLogUtils.setTextEditor(path);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(Exception e1) {\r\n\t\t\t\t\t\t\t//If the selected file is not a text editor, it will not know how to open a .txt file\r\n\t\t\t\t\t\t\t//and the process throws an exception.\r\n\t\t\t\t\t\t\tJOptionPane.showMessageDialog(frame,\r\n\t\t\t\t\t\t\t\t    &quot;Select a valid text editor!&quot;,\r\n\t\t\t\t\t\t\t\t    &quot;Invalid Text Editor&quot;,\r\n\t\t\t\t\t\t\t\t    JOptionPane.ERROR_MESSAGE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception err) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tfileMenu.add(setEditor);\r\n\t\tjmb.add(fileMenu);\r\n\t\treturn jmb;\r\n\t\t\r\n\t}\r\n\r\nOnly way this would fail (I think) would be if the selected file *can* open a .txt file, but still isn&#39;t a text editor. Please let me know if this might cause problems.\r\n\r\n**EDIT:** I undeleted this post because I want to know more about this approach. \r\n\r\nIt seems to me that the following is true:\r\n\r\n Exception will be thrown as desired:\r\n 1. If the selected file is not executable\r\n 2. If the selected file is executable but cannot take a 2nd param in the ProcessBuilder\r\n\r\nThe only way this approach &quot;breaks&quot; is if the selected file is executable and it can take a 2nd param in the processbuilder, but it still isn&#39;t a text editor. This seems desirable to me since it drastically cuts down on the probability of the user selecting a non text editor. ","title":"Check If a Selected File is a Text Editor","body":"<p>This is how I got my desired functionality:</p>\n<pre><code>private JMenuBar createMenuBar() {\n    JMenuBar jmb = new JMenuBar();\n    JMenu fileMenu = new JMenu(&quot;Settings&quot;);\n    JMenuItem setEditor = new JMenuItem(&quot;Set Text Editor&quot;);\n    setEditor.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            try {\n                FileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\n                fd.setDirectory(&quot;C:\\\\&quot;);\n                fd.setVisible(true);\n                String path = fd.getDirectory() + fd.getFile();\n                if (!path.equals(&quot;nullnull&quot;)) {\n                    try {\n                        //Try to open the output file (a .txt file), then kill it immediately so it doesn't actually open.\n                        Process p = new ProcessBuilder(path,la.getOutFile().toString()).start(); \n                        p.destroy();\n                        LogUtils.setTextEditor(path);\n                    }\n                    catch(Exception e1) {\n                        //If the selected file is not a text editor, it will not know how to open a .txt file\n                        //and the process throws an exception.\n                        JOptionPane.showMessageDialog(frame,\n                                &quot;Select a valid text editor!&quot;,\n                                &quot;Invalid Text Editor&quot;,\n                                JOptionPane.ERROR_MESSAGE);\n                    }\n                }\n            }\n            catch(Exception err) {\n                \n            }\n        }   \n    });\n    fileMenu.add(setEditor);\n    jmb.add(fileMenu);\n    return jmb;\n    \n}\n</code></pre>\n<p>Only way this would fail (I think) would be if the selected file <em>can</em> open a .txt file, but still isn't a text editor. Please let me know if this might cause problems.</p>\n<p><strong>EDIT:</strong> I undeleted this post because I want to know more about this approach.</p>\n<p>It seems to me that the following is true:</p>\n<p>Exception will be thrown as desired:</p>\n<ol>\n<li>If the selected file is not executable</li>\n<li>If the selected file is executable but cannot take a 2nd param in the ProcessBuilder</li>\n</ol>\n<p>The only way this approach &quot;breaks&quot; is if the selected file is executable and it can take a 2nd param in the processbuilder, but it still isn't a text editor. This seems desirable to me since it drastically cuts down on the probability of the user selecting a non text editor.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633464550,"creation_date":1633464550,"answer_id":69456694,"question_id":69443402,"body_markdown":"In the comments, the OP asked\r\n\r\n    Is there a way to start a process without knowing the path to its executable? \r\n    Different users may have their text editors installed in different places.\r\n\r\nI don&#39;t think you can start a process without the full path to the executable.\r\n\r\nI was curious, so I wrote a Java class to read my disks, report on the number of directories and files on my disks, and give me the full path to the executables.\r\n\r\nHere are the results after about 30 tests on my system.\r\n\r\n    Searching for the following programs: [notepad.exe, wordpad.exe, soffice.exe]\r\n    \r\n    Number of directories searched: 135,331\r\n    Number of files searched:       559,262\r\n    \r\n    C:\\Windows\\notepad.exe\r\n    C:\\Windows\\System32\\notepad.exe\r\n    C:\\Windows\\SysWOW64\\notepad.exe\r\n    C:\\Program Files\\Windows NT\\Accessories\\wordpad.exe\r\n    C:\\Program Files (x86)\\OpenOffice 4\\program\\soffice.exe\r\n    C:\\Program Files (x86)\\Windows NT\\Accessories\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\notepad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1202_none_a27aa61d221bdc5c\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\wow64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1_none_2f60455143be03e9\\notepad.exe\r\n    C:\\Windows\\WinSxS\\wow64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1_none_ee00310940a3cd37\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\f\\notepad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\r\\notepad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\f\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\r\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1202_none_a27aa61d221bdc5c\\f\\wordpad.exe\r\n    C:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1202_none_a27aa61d221bdc5c\\r\\wordpad.exe\r\n    C:\\Program Files\\Papyrus Author\\Modules\\filter\\program\\soffice.exe\r\n    C:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\f\\notepad.exe\r\n    C:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\r\\notepad.exe\r\n    C:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\f\\wordpad.exe\r\n    C:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\r\\wordpad.exe\r\n    C:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1237.1.10\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\f\\notepad.exe\r\n    C:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1237.1.10\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\r\\notepad.exe\r\n    \r\n    Elapsed execution time: 7 minutes, 46 seconds\r\n\r\nIt&#39;s not a quick process.  What surprised me was the number of copies of Notepad and Wordpad that I had on my computer.  Even if the user never installed a single text processor, you still have to figure out which Notepad is the one with the desktop icon.\r\n\r\nHere&#39;s the complete runnable code I used to get the test results.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class FullPath {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFullPath fp = new FullPath();\r\n    \t\tfp.displayFullPath();\r\n    \t}\r\n    \t\r\n    \tprivate List&lt;File&gt; directoryNames;\r\n    \tprivate List&lt;String&gt; fileNames;\r\n    \t\r\n    \tpublic FullPath() {\r\n    \t\tthis.directoryNames = new ArrayList&lt;&gt;();\r\n    \t\tthis.fileNames = new ArrayList&lt;&gt;();\r\n    \t}\r\n    \t\r\n    \tpublic void displayFullPath() {\r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\t\r\n    \t\tString[] programs = { &quot;notepad.exe&quot;, &quot;wordpad.exe&quot;, &quot;soffice.exe&quot; };\r\n    \t\tSystem.out.println(&quot;Searching for the following programs: &quot; \r\n    \t\t\t\t+ Arrays.toString(programs));\r\n    \t\tSystem.out.println();\r\n    \t\t\r\n    \t\tcreateFileList();\r\n    \t\tSystem.out.println(&quot;Number of directories searched: &quot; + \r\n    \t\t\t\tString.format(&quot;%,d&quot;, directoryNames.size()));\r\n    \t\tSystem.out.println(&quot;Number of files searched:       &quot; + \r\n    \t\t\t\tString.format(&quot;%,d&quot;, fileNames.size()));\r\n    \t\tSystem.out.println();\r\n    \t\tList&lt;String&gt; fullPathsList = findFullPath(programs);\r\n    \t\t\r\n    \t\tfor (String s : fullPathsList) {\r\n    \t\t\tSystem.out.println(s);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t\t\r\n    \t\tlong elapsedTime = (System.currentTimeMillis() - startTime + 500) / 1000;\r\n    \t\tint minutes = (int) (elapsedTime / 60L);\r\n    \t\tint seconds = (int) (elapsedTime % 60L);\r\n    \t\tSystem.out.println(&quot;Elapsed execution time: &quot; + minutes + \r\n    \t\t\t\t&quot; minutes, &quot; + seconds + &quot; seconds&quot;);\r\n    \t}\r\n    \r\n    \tprivate void createFileList() {\r\n    \t\tFile[] roots = File.listRoots();\r\n    \t\tfor (int index = 0; index &lt; roots.length; index++) {\r\n    \t\t\tgetFileList(roots[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int index = 0; index &lt; directoryNames.size(); index++) {\r\n    \t\t\tgetFileList(directoryNames.get(index));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate List&lt;String&gt; findFullPath(String[] filenames) {\r\n    \t\tList&lt;String&gt; fullPathsList = new ArrayList&lt;&gt;();\r\n    \t\tfor (int index = 0; index &lt; fileNames.size(); index++) {\r\n    \t\t\tString s = fileNames.get(index);\r\n    \t\t\tfor (int jndex = 0; jndex &lt; filenames.length; jndex++) {\r\n    \t\t\t\tString t = filenames[jndex].toLowerCase();\r\n    \t\t\t\tif (s.toLowerCase().endsWith(t)) {\r\n    \t\t\t\t\tfullPathsList.add(s);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn fullPathsList;\r\n    \t}\r\n    \t\r\n    \tprivate void getFileList(File directory) {\r\n    \t\tFile[] files = directory.listFiles();\r\n    \t\tif (files != null) {\r\n    \t\t\tfor (int index = 0; index &lt; files.length; index++) {\r\n    \t\t\t\tif (files[index].isDirectory()) {\r\n    \t\t\t\t\tdirectoryNames.add(files[index]);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tfileNames.add(files[index].getCanonicalPath());\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Check If a Selected File is a Text Editor","body":"<p>In the comments, the OP asked</p>\n<pre><code>Is there a way to start a process without knowing the path to its executable? \nDifferent users may have their text editors installed in different places.\n</code></pre>\n<p>I don't think you can start a process without the full path to the executable.</p>\n<p>I was curious, so I wrote a Java class to read my disks, report on the number of directories and files on my disks, and give me the full path to the executables.</p>\n<p>Here are the results after about 30 tests on my system.</p>\n<pre><code>Searching for the following programs: [notepad.exe, wordpad.exe, soffice.exe]\n\nNumber of directories searched: 135,331\nNumber of files searched:       559,262\n\nC:\\Windows\\notepad.exe\nC:\\Windows\\System32\\notepad.exe\nC:\\Windows\\SysWOW64\\notepad.exe\nC:\\Program Files\\Windows NT\\Accessories\\wordpad.exe\nC:\\Program Files (x86)\\OpenOffice 4\\program\\soffice.exe\nC:\\Program Files (x86)\\Windows NT\\Accessories\\wordpad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\notepad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\wordpad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1202_none_a27aa61d221bdc5c\\wordpad.exe\nC:\\Windows\\WinSxS\\wow64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1_none_2f60455143be03e9\\notepad.exe\nC:\\Windows\\WinSxS\\wow64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1_none_ee00310940a3cd37\\wordpad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\f\\notepad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\r\\notepad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\f\\wordpad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\r\\wordpad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1202_none_a27aa61d221bdc5c\\f\\wordpad.exe\nC:\\Windows\\WinSxS\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1202_none_a27aa61d221bdc5c\\r\\wordpad.exe\nC:\\Program Files\\Papyrus Author\\Modules\\filter\\program\\soffice.exe\nC:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\f\\notepad.exe\nC:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\r\\notepad.exe\nC:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\f\\wordpad.exe\nC:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1165.1.8\\amd64_microsoft-windows-wordpad_31bf3856ad364e35_10.0.19041.1151_none_a28a8e43220f257d\\r\\wordpad.exe\nC:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1237.1.10\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\f\\notepad.exe\nC:\\Windows\\servicing\\LCU\\Package_for_RollupFix~31bf3856ad364e35~amd64~~19041.1237.1.10\\amd64_microsoft-windows-notepad_31bf3856ad364e35_10.0.19041.1081_none_e3f87355251e8c43\\r\\notepad.exe\n\nElapsed execution time: 7 minutes, 46 seconds\n</code></pre>\n<p>It's not a quick process.  What surprised me was the number of copies of Notepad and Wordpad that I had on my computer.  Even if the user never installed a single text processor, you still have to figure out which Notepad is the one with the desktop icon.</p>\n<p>Here's the complete runnable code I used to get the test results.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class FullPath {\n\n    public static void main(String[] args) {\n        FullPath fp = new FullPath();\n        fp.displayFullPath();\n    }\n    \n    private List&lt;File&gt; directoryNames;\n    private List&lt;String&gt; fileNames;\n    \n    public FullPath() {\n        this.directoryNames = new ArrayList&lt;&gt;();\n        this.fileNames = new ArrayList&lt;&gt;();\n    }\n    \n    public void displayFullPath() {\n        long startTime = System.currentTimeMillis();\n        \n        String[] programs = { &quot;notepad.exe&quot;, &quot;wordpad.exe&quot;, &quot;soffice.exe&quot; };\n        System.out.println(&quot;Searching for the following programs: &quot; \n                + Arrays.toString(programs));\n        System.out.println();\n        \n        createFileList();\n        System.out.println(&quot;Number of directories searched: &quot; + \n                String.format(&quot;%,d&quot;, directoryNames.size()));\n        System.out.println(&quot;Number of files searched:       &quot; + \n                String.format(&quot;%,d&quot;, fileNames.size()));\n        System.out.println();\n        List&lt;String&gt; fullPathsList = findFullPath(programs);\n        \n        for (String s : fullPathsList) {\n            System.out.println(s);\n        }\n        System.out.println();\n        \n        long elapsedTime = (System.currentTimeMillis() - startTime + 500) / 1000;\n        int minutes = (int) (elapsedTime / 60L);\n        int seconds = (int) (elapsedTime % 60L);\n        System.out.println(&quot;Elapsed execution time: &quot; + minutes + \n                &quot; minutes, &quot; + seconds + &quot; seconds&quot;);\n    }\n\n    private void createFileList() {\n        File[] roots = File.listRoots();\n        for (int index = 0; index &lt; roots.length; index++) {\n            getFileList(roots[index]);\n        }\n        \n        for (int index = 0; index &lt; directoryNames.size(); index++) {\n            getFileList(directoryNames.get(index));\n        }\n    }\n\n    private List&lt;String&gt; findFullPath(String[] filenames) {\n        List&lt;String&gt; fullPathsList = new ArrayList&lt;&gt;();\n        for (int index = 0; index &lt; fileNames.size(); index++) {\n            String s = fileNames.get(index);\n            for (int jndex = 0; jndex &lt; filenames.length; jndex++) {\n                String t = filenames[jndex].toLowerCase();\n                if (s.toLowerCase().endsWith(t)) {\n                    fullPathsList.add(s);\n                }\n            }\n        }\n        \n        return fullPathsList;\n    }\n    \n    private void getFileList(File directory) {\n        File[] files = directory.listFiles();\n        if (files != null) {\n            for (int index = 0; index &lt; files.length; index++) {\n                if (files[index].isDirectory()) {\n                    directoryNames.add(files[index]);\n                } else {\n                    try {\n                        fileNames.add(files[index].getCanonicalPath());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633464550,"creation_date":1633390542,"question_id":69443402,"body_markdown":"I have a program that does some file IO functions. I am using a FileDialog to allow the user to select the TextEditor which they would like results to be opened in. My question is this: Is it possible to verify that the selected file is actually a text editor?\r\n\r\nHere is what I have in the GUI:\r\n\r\n    private JMenuBar createMenuBar() {\r\n\t\tJMenuBar jmb = new JMenuBar();\r\n\t\tJMenu fileMenu = new JMenu(&quot;Settings&quot;);\r\n\t\tJMenuItem setEditor = new JMenuItem(&quot;Set Text Editor&quot;);\r\n\t\tsetEditor.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\r\n\t\t\t\t\tfd.setDirectory(&quot;C:\\\\&quot;);\r\n\t\t\t\t\tfd.setVisible(true);\r\n\t\t\t\t\tString path = fd.getDirectory() + fd.getFile();\r\n\t\t\t\t\tif (!path.equals(&quot;nullnull&quot;)) {\r\n\t\t\t\t\t\tif(fileIsTextEditor(path)) { // How to code fileIsTextEditor(path)?\r\n\t\t\t\t\t\t\tLogUtils.setTextEditor(path);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t//handle invalid text editor selected\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception err) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tfileMenu.add(setEditor);\r\n\t\tjmb.add(fileMenu);\r\n\t\treturn jmb;\r\n\t\t\r\n\t}\r\n\r\nHere is my write function in a Static Util class:\r\n\r\n    public static void writeToFile(File outFile) {\r\n\t\ttry{\r\n\r\n\t          Files.write(Paths.get(outFile.toString()), results.toString().getBytes(), StandardOpenOption.APPEND);\r\n\t          new ProcessBuilder(textEditor, outFile.toString()).start();\r\n\t          //\r\n\t          results.setLength(0);\r\n\t      }\r\n\t      catch(Exception e){\r\n\t          System.out.println(e);\r\n\t          try {\r\n\t\t\t\tjava.awt.Desktop.getDesktop().edit(new File(outFile.toString()));\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t      }\r\n\t}","title":"Check If a Selected File is a Text Editor","body":"<p>I have a program that does some file IO functions. I am using a FileDialog to allow the user to select the TextEditor which they would like results to be opened in. My question is this: Is it possible to verify that the selected file is actually a text editor?</p>\n<p>Here is what I have in the GUI:</p>\n<pre><code>private JMenuBar createMenuBar() {\n    JMenuBar jmb = new JMenuBar();\n    JMenu fileMenu = new JMenu(&quot;Settings&quot;);\n    JMenuItem setEditor = new JMenuItem(&quot;Set Text Editor&quot;);\n    setEditor.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            try {\n                FileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\n                fd.setDirectory(&quot;C:\\\\&quot;);\n                fd.setVisible(true);\n                String path = fd.getDirectory() + fd.getFile();\n                if (!path.equals(&quot;nullnull&quot;)) {\n                    if(fileIsTextEditor(path)) { // How to code fileIsTextEditor(path)?\n                        LogUtils.setTextEditor(path);\n                    }\n                    else {\n                        //handle invalid text editor selected\n                    }\n                }\n            }\n            catch(Exception err) {\n                \n            }\n        }   \n    });\n    fileMenu.add(setEditor);\n    jmb.add(fileMenu);\n    return jmb;\n    \n}\n</code></pre>\n<p>Here is my write function in a Static Util class:</p>\n<pre><code>public static void writeToFile(File outFile) {\n    try{\n\n          Files.write(Paths.get(outFile.toString()), results.toString().getBytes(), StandardOpenOption.APPEND);\n          new ProcessBuilder(textEditor, outFile.toString()).start();\n          //\n          results.setLength(0);\n      }\n      catch(Exception e){\n          System.out.println(e);\n          try {\n            java.awt.Desktop.getDesktop().edit(new File(outFile.toString()));\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n      }\n}\n</code></pre>\n"},{"tags":["java","arrays","vector"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633464486,"creation_date":1633464486,"answer_id":69456679,"question_id":69456617,"body_markdown":"NB: Before I answer the question, Vector is deprecated and should _never_ be used.  You&#39;re looking for `List`. Whatever property Vector has that makes you think you need it, I really doubt it.\r\n\r\nThe problem here is that `List` (and `Vector`) are generified, and generics __cannot be a primitive type__. So, `int[]` and `Integer[]` aren&#39;t the same thing, and for the same reason, you can&#39;t casually turn an `int[]` into a `List&lt;Integer&gt;`. Instead, `Arrays.asList(someIntArray)` gives you a list with __only one element in it__, and that list is of type `List&lt;int[]&gt;` - in other words, `nums` is treated as the single element of a list of int arrays.\r\n\r\nThere is no method in the `java.*` libraries that turns an `int[]` into a `List&lt;Integer&gt;` (or `Vector&lt;Integer&gt;`, naturally).\r\n\r\nAn easy-ish way to do it:\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.stream(nums).mapToObj(x -&gt; x).toList();\r\n```\r\n\r\nThis will first create an IntStream of your numbers. It then maps the `int` values to `Integer` values, using the identity operation which gets automatically sugared into `x -&gt; Integer.valueOf(x)` (if you find it more readable like so, then go ahead and write it like that), and then turns the whole thing into a list. If `toList()` doesn&#39;t work - you&#39;re on java pre-16, write `.collect(Collectors.toList())` instead of `.toList()`.\r\n\r\nIf you don&#39;t like the above, a simple for loop would then do the job. This works just as well:\r\n\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\nfor (int n : nums) list.add(n);\r\n```\r\n","title":"Best way to convert an array of integers to a vector? in java","body":"<p>NB: Before I answer the question, Vector is deprecated and should <em>never</em> be used.  You're looking for <code>List</code>. Whatever property Vector has that makes you think you need it, I really doubt it.</p>\n<p>The problem here is that <code>List</code> (and <code>Vector</code>) are generified, and generics <strong>cannot be a primitive type</strong>. So, <code>int[]</code> and <code>Integer[]</code> aren't the same thing, and for the same reason, you can't casually turn an <code>int[]</code> into a <code>List&lt;Integer&gt;</code>. Instead, <code>Arrays.asList(someIntArray)</code> gives you a list with <strong>only one element in it</strong>, and that list is of type <code>List&lt;int[]&gt;</code> - in other words, <code>nums</code> is treated as the single element of a list of int arrays.</p>\n<p>There is no method in the <code>java.*</code> libraries that turns an <code>int[]</code> into a <code>List&lt;Integer&gt;</code> (or <code>Vector&lt;Integer&gt;</code>, naturally).</p>\n<p>An easy-ish way to do it:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums).mapToObj(x -&gt; x).toList();\n</code></pre>\n<p>This will first create an IntStream of your numbers. It then maps the <code>int</code> values to <code>Integer</code> values, using the identity operation which gets automatically sugared into <code>x -&gt; Integer.valueOf(x)</code> (if you find it more readable like so, then go ahead and write it like that), and then turns the whole thing into a list. If <code>toList()</code> doesn't work - you're on java pre-16, write <code>.collect(Collectors.toList())</code> instead of <code>.toList()</code>.</p>\n<p>If you don't like the above, a simple for loop would then do the job. This works just as well:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nfor (int n : nums) list.add(n);\n</code></pre>\n"}],"owner":{"account_id":22446598,"reputation":45,"user_id":16650432,"display_name":"Rakshith B S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69456679,"answer_count":1,"score":-1,"last_activity_date":1633464486,"creation_date":1633464190,"question_id":69456617,"body_markdown":"I have an array like\r\n\r\n    int [] nums={1,2,3,1,1,3};\r\nSo i wanted it convert it into an vector\r\nI did try\r\n\r\n    Vector&lt;Integer&gt; num= new Vector&lt;Integer&gt;(Arrays.asList(nums));\r\nand got this error\r\n\r\n    java: method addAll in class java.util.Collections cannot be applied to given types;\r\n      required: java.util.Collection&lt;? super T&gt;,T[]\r\n      found:    java.util.Vector&lt;java.lang.Integer&gt;,int[]\r\n      reason: inference variable T has incompatible bounds\r\nIs there a way to change the types or a faster method than this?","title":"Best way to convert an array of integers to a vector? in java","body":"<p>I have an array like</p>\n<pre><code>int [] nums={1,2,3,1,1,3};\n</code></pre>\n<p>So i wanted it convert it into an vector\nI did try</p>\n<pre><code>Vector&lt;Integer&gt; num= new Vector&lt;Integer&gt;(Arrays.asList(nums));\n</code></pre>\n<p>and got this error</p>\n<pre><code>java: method addAll in class java.util.Collections cannot be applied to given types;\n  required: java.util.Collection&lt;? super T&gt;,T[]\n  found:    java.util.Vector&lt;java.lang.Integer&gt;,int[]\n  reason: inference variable T has incompatible bounds\n</code></pre>\n<p>Is there a way to change the types or a faster method than this?</p>\n"},{"tags":["java","linked-list","nodes","priority-queue"],"comments":[{"owner":{"account_id":10993747,"reputation":487,"user_id":8076698,"display_name":"semicolon"},"score":0,"creation_date":1633470505,"post_id":69456653,"comment_id":122767509,"body_markdown":"For providing comparison strategy, you can implement `Comparable` and override its&#39; `compareTo` method. For priority, you will need to use this `compareTo` for sorting your Linked list and then inserting to queue.","body":"For providing comparison strategy, you can implement <code>Comparable</code> and override its&#39; <code>compareTo</code> method. For priority, you will need to use this <code>compareTo</code> for sorting your Linked list and then inserting to queue."}],"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633464358,"creation_date":1633464358,"question_id":69456653,"body_markdown":"Suppose I had a class like this.\r\n```\r\nclass GroupOfFourInts\r\n{\r\n   int myInt1;\r\n   int myInt2;\r\n   int myInt3;\r\n   int myInt4;\r\n\r\n   public GroupOfFourInts(int a, int b, int c, int d)\r\n   {\r\n     myInt1 = a; myInt2 = b; myInt3 = c; myInt4 = d;\r\n   }\r\n}\r\n```\r\nIf I were to insert these four integers into a single node in a linked list, how would I go about comparing those? For example, if I&#39;m trying to make a priority queue using a linked list, how could I use myInt2 as the priority and insert the nodes in order by the highest myInt2 to the lowest?","title":"More than one object in LinkedList node, comparing?","body":"<p>Suppose I had a class like this.</p>\n<pre><code>class GroupOfFourInts\n{\n   int myInt1;\n   int myInt2;\n   int myInt3;\n   int myInt4;\n\n   public GroupOfFourInts(int a, int b, int c, int d)\n   {\n     myInt1 = a; myInt2 = b; myInt3 = c; myInt4 = d;\n   }\n}\n</code></pre>\n<p>If I were to insert these four integers into a single node in a linked list, how would I go about comparing those? For example, if I'm trying to make a priority queue using a linked list, how could I use myInt2 as the priority and insert the nodes in order by the highest myInt2 to the lowest?</p>\n"},{"tags":["java","unit-testing","junit","spring-boot","spring-test-mvc"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":3,"creation_date":1426366316,"post_id":29053974,"comment_id":46345585,"body_markdown":"Try annotating `DemoApplication` with `@WebAppConfiguration`. If that doesn&#39;t work, could you add the code of it too?","body":"Try annotating <code>DemoApplication</code> with <code>@WebAppConfiguration</code>. If that doesn&#39;t work, could you add the code of it too?"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1685136002,"post_id":29053974,"comment_id":134624527,"body_markdown":"years later... I think if you use mockMVC its not unit test, its integration test","body":"years later... I think if you use mockMVC its not unit test, its integration test"}],"answers":[{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1633463839,"creation_date":1426367896,"answer_id":29054326,"question_id":29053974,"body_markdown":"Spring MVC offers a [standaloneSetup][1] that supports testing relatively simple controllers, without the need of context. \r\n\r\n&gt; Build a MockMvc by registering one or more @Controller&#39;s instances and\r\n&gt; configuring Spring MVC infrastructure programmatically. This allows\r\n&gt; full control over the instantiation and initialization of controllers,\r\n&gt; and their dependencies, similar to plain unit tests while also making\r\n&gt; it possible to test one controller at a time.\r\n\r\nAn example test for your controller can be something as simple as \r\n\r\n    public class DemoApplicationTests {\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            this.mockMvc = MockMvcBuilders.standaloneSetup(new HelloWorld()).build();\r\n        }\r\n    \r\n        @Test\r\n        public void testSayHelloWorld() throws Exception {\r\n            this.mockMvc.perform(get(&quot;/&quot;)\r\n               .accept(MediaType.parseMediaType(&quot;application/json;charset=UTF-8&quot;)))\r\n               .andExpect(status().isOk())\r\n               .andExpect(content().contentType(&quot;application/json&quot;));\r\n    \r\n        }\r\n    }\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/setup/MockMvcBuilders.html#standaloneSetup-java.lang.Object...-","title":"How to write a unit test for a Spring Boot Controller endpoint","body":"<p>Spring MVC offers a <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/setup/MockMvcBuilders.html#standaloneSetup-java.lang.Object...-\" rel=\"nofollow noreferrer\">standaloneSetup</a> that supports testing relatively simple controllers, without the need of context.</p>\n<blockquote>\n<p>Build a MockMvc by registering one or more @Controller's instances and\nconfiguring Spring MVC infrastructure programmatically. This allows\nfull control over the instantiation and initialization of controllers,\nand their dependencies, similar to plain unit tests while also making\nit possible to test one controller at a time.</p>\n</blockquote>\n<p>An example test for your controller can be something as simple as</p>\n<pre><code>public class DemoApplicationTests {\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.standaloneSetup(new HelloWorld()).build();\n    }\n\n    @Test\n    public void testSayHelloWorld() throws Exception {\n        this.mockMvc.perform(get(&quot;/&quot;)\n           .accept(MediaType.parseMediaType(&quot;application/json;charset=UTF-8&quot;)))\n           .andExpect(status().isOk())\n           .andExpect(content().contentType(&quot;application/json&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3802366,"reputation":277,"user_id":3155630,"display_name":"Charles Wang"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453542855,"creation_date":1453363108,"answer_id":34918230,"question_id":29053974,"body_markdown":"Adding `@WebAppConfiguration` (`org.springframework.test.context.web.WebAppConfiguration`) annotation to your DemoApplicationTests class will work.","title":"How to write a unit test for a Spring Boot Controller endpoint","body":"<p>Adding <code>@WebAppConfiguration</code> (<code>org.springframework.test.context.web.WebAppConfiguration</code>) annotation to your DemoApplicationTests class will work.</p>\n"},{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1633464269,"creation_date":1461141357,"answer_id":36738187,"question_id":29053974,"body_markdown":"The new testing improvements that debuted in Spring Boot `1.4.M2` can help reduce the amount of code you need to write situation such as these.\r\n\r\nThe test would look like so:\r\n\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestB‌​uilders.get; \r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMat‌​chers.content; \r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMat‌​chers.status;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(HelloWorld.class)\r\n    public class UserVehicleControllerTests {\r\n        \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        \r\n        @Test\r\n        public void testSayHelloWorld() throws Exception {\r\n            this.mockMvc.perform(get(&quot;/&quot;).accept(MediaType.parseMediaType(&quot;application/json;charset=UTF-8&quot;)))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().contentType(&quot;application/json&quot;));\r\n        }\r\n        \r\n    }\r\n\r\nSee [this](https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4) blog post for more details as well as the [documentation][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.4.0.RC1/reference/htmlsingle/#boot-features-testing-spring-boot-applications","title":"How to write a unit test for a Spring Boot Controller endpoint","body":"<p>The new testing improvements that debuted in Spring Boot <code>1.4.M2</code> can help reduce the amount of code you need to write situation such as these.</p>\n<p>The test would look like so:</p>\n<pre><code>import static org.springframework.test.web.servlet.request.MockMvcRequestB‌​uilders.get; \nimport static org.springframework.test.web.servlet.result.MockMvcResultMat‌​chers.content; \nimport static org.springframework.test.web.servlet.result.MockMvcResultMat‌​chers.status;\n\n@RunWith(SpringRunner.class)\n@WebMvcTest(HelloWorld.class)\npublic class UserVehicleControllerTests {\n    \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @Test\n    public void testSayHelloWorld() throws Exception {\n        this.mockMvc.perform(get(&quot;/&quot;).accept(MediaType.parseMediaType(&quot;application/json;charset=UTF-8&quot;)))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(&quot;application/json&quot;));\n    }\n    \n}\n</code></pre>\n<p>See <a href=\"https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\" rel=\"nofollow noreferrer\">this</a> blog post for more details as well as the <a href=\"http://docs.spring.io/spring-boot/docs/1.4.0.RC1/reference/htmlsingle/#boot-features-testing-spring-boot-applications\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3233258,"reputation":560,"user_id":2728007,"display_name":"Siva Kumar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1481549073,"creation_date":1481549073,"answer_id":41101924,"question_id":29053974,"body_markdown":"Here is another answer using Spring MVC&#39;s standaloneSetup. Using this way you can either autowire the controller class or Mock it.\r\n\r\n  \r\n\r\n        import static org.mockito.Mockito.mock;\r\n        import static org.springframework.test.web.server.request.MockMvcRequestBuilders.get;\r\n        import static org.springframework.test.web.server.result.MockMvcResultMatchers.content;\r\n        import static org.springframework.test.web.server.result.MockMvcResultMatchers.status;\r\n        \r\n        import org.junit.Before;\r\n        import org.junit.Test;\r\n        import org.junit.runner.RunWith;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.boot.test.context.SpringBootTest;\r\n        import org.springframework.http.MediaType;\r\n        import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n        import org.springframework.test.web.server.MockMvc;\r\n        import org.springframework.test.web.server.setup.MockMvcBuilders;\r\n        \r\n        \r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n        public class DemoApplicationTests {\r\n        \t\r\n        \tfinal String BASE_URL = &quot;http://localhost:8080/&quot;;\r\n        \r\n        \t@Autowired\r\n            private HelloWorld controllerToTest;\r\n        \r\n            private MockMvc mockMvc;\r\n        \r\n            @Before\r\n            public void setup() {\r\n                this.mockMvc = MockMvcBuilders.standaloneSetup(controllerToTest).build();\r\n            }\r\n        \r\n            @Test\r\n            public void testSayHelloWorld() throws Exception{\r\n            \t//Mocking Controller\r\n            \tcontrollerToTest = mock(HelloWorld.class);\r\n        \r\n                 this.mockMvc.perform(get(&quot;/&quot;)\r\n                         .accept(MediaType.parseMediaType(&quot;application/json;charset=UTF-8&quot;)))\r\n                         .andExpect(status().isOk())\r\n                         .andExpect(content().mimeType(MediaType.APPLICATION_JSON));\r\n            }\r\n        \r\n            @Test\r\n            public void contextLoads() {\r\n            }\r\n        \r\n        }","title":"How to write a unit test for a Spring Boot Controller endpoint","body":"<p>Here is another answer using Spring MVC's standaloneSetup. Using this way you can either autowire the controller class or Mock it.</p>\n\n<pre><code>    import static org.mockito.Mockito.mock;\n    import static org.springframework.test.web.server.request.MockMvcRequestBuilders.get;\n    import static org.springframework.test.web.server.result.MockMvcResultMatchers.content;\n    import static org.springframework.test.web.server.result.MockMvcResultMatchers.status;\n\n    import org.junit.Before;\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.context.SpringBootTest;\n    import org.springframework.http.MediaType;\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n    import org.springframework.test.web.server.MockMvc;\n    import org.springframework.test.web.server.setup.MockMvcBuilders;\n\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    public class DemoApplicationTests {\n\n        final String BASE_URL = \"http://localhost:8080/\";\n\n        @Autowired\n        private HelloWorld controllerToTest;\n\n        private MockMvc mockMvc;\n\n        @Before\n        public void setup() {\n            this.mockMvc = MockMvcBuilders.standaloneSetup(controllerToTest).build();\n        }\n\n        @Test\n        public void testSayHelloWorld() throws Exception{\n            //Mocking Controller\n            controllerToTest = mock(HelloWorld.class);\n\n             this.mockMvc.perform(get(\"/\")\n                     .accept(MediaType.parseMediaType(\"application/json;charset=UTF-8\")))\n                     .andExpect(status().isOk())\n                     .andExpect(content().mimeType(MediaType.APPLICATION_JSON));\n        }\n\n        @Test\n        public void contextLoads() {\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591364520,"creation_date":1591364520,"answer_id":62216731,"question_id":29053974,"body_markdown":"Let assume i am having a `RestController` with `GET/POST/PUT/DELETE` operations and i have to write unit test using spring boot.I will just share code of RestController class and respective unit test.Wont be sharing any other related code to the controller ,can have assumption on that. \r\n\r\n    @RestController\r\n    @RequestMapping(value = “/myapi/myApp” , produces = {&quot;application/json&quot;})\r\n    public class AppController {\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tprivate AppService service;\r\n    \r\n    \t@GetMapping\r\n    \tpublic MyAppResponse&lt;AppEntity&gt; get() throws Exception {\r\n    \t\t\r\n    \t\tMyAppResponse&lt;AppEntity&gt; response = new MyAppResponse&lt;AppEntity&gt;();\r\n    \t\tservice.getApp().stream().forEach(x -&gt; response.addData(x));\t\r\n    \t\treturn response;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;HttpStatus&gt; create(@RequestBody AppRequest request) throws Exception {\r\n    \t\t//Validation code\t\t\r\n    \t\tservice.createApp(request);\r\n    \t\t\r\n    \t    return ResponseEntity.ok(HttpStatus.OK);\r\n    \t}\r\n    \t\r\n    \t@PutMapping\r\n    \tpublic ResponseEntity&lt;HttpStatus&gt; update(@RequestBody IDMSRequest request) throws Exception {\r\n    \t\t\r\n    \t\t//Validation code\r\n    \t\tservice.updateApp(request);\r\n    \t\t\r\n    \t    return ResponseEntity.ok(HttpStatus.OK);\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping\r\n    \tpublic ResponseEntity&lt;HttpStatus&gt; delete(@RequestBody AppRequest request) throws Exception {\r\n    \t\t\r\n    \t\t//Validation\t\t\r\n    \t\tservice.deleteApp(request.id);\r\n    \t\t\r\n    \t    return ResponseEntity.ok(HttpStatus.OK);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(classes = Main.class)\r\n    @WebAppConfiguration\r\n    public abstract class BaseTest {\r\n       protected MockMvc mvc;\r\n       @Autowired\r\n       WebApplicationContext webApplicationContext;\r\n    \r\n       protected void setUp() {\r\n          mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n       }\r\n       protected String mapToJson(Object obj) throws JsonProcessingException {\r\n          ObjectMapper objectMapper = new ObjectMapper();\r\n          return objectMapper.writeValueAsString(obj);\r\n       }\r\n       protected &lt;T&gt; T mapFromJson(String json, Class&lt;T&gt; clazz)\r\n          throws JsonParseException, JsonMappingException, IOException {\r\n          \r\n          ObjectMapper objectMapper = new ObjectMapper();\r\n          return objectMapper.readValue(json, clazz);\r\n       }\r\n    }\r\n    \r\n    public class AppControllerTest extends BaseTest {\r\n    \t\r\n    \t@MockBean\r\n    \tprivate IIdmsService service;\r\n    \t\r\n    \tprivate static final String URI = &quot;/myapi/myApp&quot;;\r\n    \t\r\n    \r\n       @Override\r\n       @Before\r\n       public void setUp() {\r\n          super.setUp();\r\n       }\r\n      \r\n       @Test\r\n       public void testGet() throws Exception {\r\n    \t   AppEntity entity = new AppEntity();\r\n          List&lt;AppEntity&gt; dataList = new ArrayList&lt;AppEntity&gt;();\r\n          AppResponse&lt;AppEntity&gt; dataResponse = new AppResponse&lt;AppEntity&gt;();\r\n          entity.setId(1);\r\n          entity.setCreated_at(&quot;2020-02-21 17:01:38.717863&quot;);\r\n          entity.setCreated_by(“Abhinav Kr”);\r\n          entity.setModified_at(&quot;2020-02-24 17:01:38.717863&quot;);\r\n          entity.setModified_by(“Jyoti”);\r\n                dataList.add(entity);\r\n          \r\n          dataResponse.setData(dataList);\r\n          \r\n          Mockito.when(service.getApp()).thenReturn(dataList);\r\n          \r\n          RequestBuilder requestBuilder =  MockMvcRequestBuilders.get(URI)\r\n    \t\t\t\t .accept(MediaType.APPLICATION_JSON);\r\n    \r\n          \tMvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\r\n          \tMockHttpServletResponse response = mvcResult.getResponse();\r\n          \t\r\n          \tString expectedJson = this.mapToJson(dataResponse);\r\n          \tString outputInJson = mvcResult.getResponse().getContentAsString();\r\n          \t\r\n          \tassertEquals(HttpStatus.OK.value(), response.getStatus());\r\n          \tassertEquals(expectedJson, outputInJson);\r\n       }\r\n      \r\n       @Test\r\n       public void testCreate() throws Exception {\r\n    \t  \r\n    \t   AppRequest request = new AppRequest();\r\n    \t   request.createdBy = 1;\r\n    \t   request.AppFullName = “My App”;\r\n    \t   request.appTimezone = “India”;\r\n    \t   \r\n    \t   String inputInJson = this.mapToJson(request);\r\n    \t   Mockito.doNothing().when(service).createApp(Mockito.any(AppRequest.class));\r\n    \t   service.createApp(request);\r\n    \t   Mockito.verify(service, Mockito.times(1)).createApp(request);\r\n    \t   \r\n    \t   RequestBuilder requestBuilder =  MockMvcRequestBuilders.post(URI)\r\n    \t\t\t  \t\t\t\t\t\t\t\t\t\t\t\t .accept(MediaType.APPLICATION_JSON).content(inputInJson)\r\n    \t\t\t  \t\t\t\t\t\t\t\t                 .contentType(MediaType.APPLICATION_JSON);\r\n    \t   \r\n    \t   MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\r\n    \t   MockHttpServletResponse response = mvcResult.getResponse();\r\n    \t   assertEquals(HttpStatus.OK.value(), response.getStatus());\r\n    \t     \r\n       }\r\n      \r\n       @Test\r\n       public void testUpdate() throws Exception {\r\n    \t   \r\n    \t   AppRequest request = new AppRequest();\r\n    \t   request.id = 1;\r\n    \t   request.modifiedBy = 1;\r\n    \t    request.AppFullName = “My App”;\r\n    \t   request.appTimezone = “Bharat”;\r\n    \t   \r\n    \t   String inputInJson = this.mapToJson(request);\r\n    \t   Mockito.doNothing().when(service).updateApp(Mockito.any(AppRequest.class));\r\n    \t   service.updateApp(request);\r\n    \t   Mockito.verify(service, Mockito.times(1)).updateApp(request);\r\n    \t   \r\n    \t   RequestBuilder requestBuilder =  MockMvcRequestBuilders.put(URI)\r\n    \t\t\t  \t\t\t\t\t\t\t\t\t\t\t\t .accept(MediaType.APPLICATION_JSON).content(inputInJson)\r\n    \t\t\t  \t\t\t\t\t\t\t\t                 .contentType(MediaType.APPLICATION_JSON);\r\n    \t   \r\n    \t   MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\r\n    \t   MockHttpServletResponse response = mvcResult.getResponse();\r\n    \t   assertEquals(HttpStatus.OK.value(), response.getStatus());\r\n    \t     \r\n       }\r\n       \r\n       @Test\r\n       public void testDelete() throws Exception {\r\n    \t   \r\n    \t   AppRequest request = new AppRequest();\r\n    \t   request.id = 1;\r\n    \t   \r\n    \t   String inputInJson = this.mapToJson(request);\r\n    \t   Mockito.doNothing().when(service).deleteApp(Mockito.any(Integer.class));\r\n    \t   service.deleteApp(request.id);\r\n    \t   Mockito.verify(service, Mockito.times(1)).deleteApp(request.id);\r\n    \t   \r\n    \t   RequestBuilder requestBuilder =  MockMvcRequestBuilders.delete(URI)\r\n    \t\t\t  \t\t\t\t\t\t\t\t\t\t\t\t .accept(MediaType.APPLICATION_JSON).content(inputInJson)\r\n    \t\t\t  \t\t\t\t\t\t\t\t                 .contentType(MediaType.APPLICATION_JSON);\r\n    \t   \r\n    \t   MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\r\n    \t   MockHttpServletResponse response = mvcResult.getResponse();\r\n    \t   assertEquals(HttpStatus.OK.value(), response.getStatus());\r\n    \t     \r\n       }\r\n       \r\n    }\r\n\r\n","title":"How to write a unit test for a Spring Boot Controller endpoint","body":"<p>Let assume i am having a <code>RestController</code> with <code>GET/POST/PUT/DELETE</code> operations and i have to write unit test using spring boot.I will just share code of RestController class and respective unit test.Wont be sharing any other related code to the controller ,can have assumption on that. </p>\n\n<pre><code>@RestController\n@RequestMapping(value = “/myapi/myApp” , produces = {\"application/json\"})\npublic class AppController {\n\n\n    @Autowired\n    private AppService service;\n\n    @GetMapping\n    public MyAppResponse&lt;AppEntity&gt; get() throws Exception {\n\n        MyAppResponse&lt;AppEntity&gt; response = new MyAppResponse&lt;AppEntity&gt;();\n        service.getApp().stream().forEach(x -&gt; response.addData(x));    \n        return response;\n    }\n\n\n    @PostMapping\n    public ResponseEntity&lt;HttpStatus&gt; create(@RequestBody AppRequest request) throws Exception {\n        //Validation code       \n        service.createApp(request);\n\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n\n    @PutMapping\n    public ResponseEntity&lt;HttpStatus&gt; update(@RequestBody IDMSRequest request) throws Exception {\n\n        //Validation code\n        service.updateApp(request);\n\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n\n    @DeleteMapping\n    public ResponseEntity&lt;HttpStatus&gt; delete(@RequestBody AppRequest request) throws Exception {\n\n        //Validation        \n        service.deleteApp(request.id);\n\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n\n}\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = Main.class)\n@WebAppConfiguration\npublic abstract class BaseTest {\n   protected MockMvc mvc;\n   @Autowired\n   WebApplicationContext webApplicationContext;\n\n   protected void setUp() {\n      mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n   }\n   protected String mapToJson(Object obj) throws JsonProcessingException {\n      ObjectMapper objectMapper = new ObjectMapper();\n      return objectMapper.writeValueAsString(obj);\n   }\n   protected &lt;T&gt; T mapFromJson(String json, Class&lt;T&gt; clazz)\n      throws JsonParseException, JsonMappingException, IOException {\n\n      ObjectMapper objectMapper = new ObjectMapper();\n      return objectMapper.readValue(json, clazz);\n   }\n}\n\npublic class AppControllerTest extends BaseTest {\n\n    @MockBean\n    private IIdmsService service;\n\n    private static final String URI = \"/myapi/myApp\";\n\n\n   @Override\n   @Before\n   public void setUp() {\n      super.setUp();\n   }\n\n   @Test\n   public void testGet() throws Exception {\n       AppEntity entity = new AppEntity();\n      List&lt;AppEntity&gt; dataList = new ArrayList&lt;AppEntity&gt;();\n      AppResponse&lt;AppEntity&gt; dataResponse = new AppResponse&lt;AppEntity&gt;();\n      entity.setId(1);\n      entity.setCreated_at(\"2020-02-21 17:01:38.717863\");\n      entity.setCreated_by(“Abhinav Kr”);\n      entity.setModified_at(\"2020-02-24 17:01:38.717863\");\n      entity.setModified_by(“Jyoti”);\n            dataList.add(entity);\n\n      dataResponse.setData(dataList);\n\n      Mockito.when(service.getApp()).thenReturn(dataList);\n\n      RequestBuilder requestBuilder =  MockMvcRequestBuilders.get(URI)\n                 .accept(MediaType.APPLICATION_JSON);\n\n        MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\n        MockHttpServletResponse response = mvcResult.getResponse();\n\n        String expectedJson = this.mapToJson(dataResponse);\n        String outputInJson = mvcResult.getResponse().getContentAsString();\n\n        assertEquals(HttpStatus.OK.value(), response.getStatus());\n        assertEquals(expectedJson, outputInJson);\n   }\n\n   @Test\n   public void testCreate() throws Exception {\n\n       AppRequest request = new AppRequest();\n       request.createdBy = 1;\n       request.AppFullName = “My App”;\n       request.appTimezone = “India”;\n\n       String inputInJson = this.mapToJson(request);\n       Mockito.doNothing().when(service).createApp(Mockito.any(AppRequest.class));\n       service.createApp(request);\n       Mockito.verify(service, Mockito.times(1)).createApp(request);\n\n       RequestBuilder requestBuilder =  MockMvcRequestBuilders.post(URI)\n                                                             .accept(MediaType.APPLICATION_JSON).content(inputInJson)\n                                                             .contentType(MediaType.APPLICATION_JSON);\n\n       MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\n       MockHttpServletResponse response = mvcResult.getResponse();\n       assertEquals(HttpStatus.OK.value(), response.getStatus());\n\n   }\n\n   @Test\n   public void testUpdate() throws Exception {\n\n       AppRequest request = new AppRequest();\n       request.id = 1;\n       request.modifiedBy = 1;\n        request.AppFullName = “My App”;\n       request.appTimezone = “Bharat”;\n\n       String inputInJson = this.mapToJson(request);\n       Mockito.doNothing().when(service).updateApp(Mockito.any(AppRequest.class));\n       service.updateApp(request);\n       Mockito.verify(service, Mockito.times(1)).updateApp(request);\n\n       RequestBuilder requestBuilder =  MockMvcRequestBuilders.put(URI)\n                                                             .accept(MediaType.APPLICATION_JSON).content(inputInJson)\n                                                             .contentType(MediaType.APPLICATION_JSON);\n\n       MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\n       MockHttpServletResponse response = mvcResult.getResponse();\n       assertEquals(HttpStatus.OK.value(), response.getStatus());\n\n   }\n\n   @Test\n   public void testDelete() throws Exception {\n\n       AppRequest request = new AppRequest();\n       request.id = 1;\n\n       String inputInJson = this.mapToJson(request);\n       Mockito.doNothing().when(service).deleteApp(Mockito.any(Integer.class));\n       service.deleteApp(request.id);\n       Mockito.verify(service, Mockito.times(1)).deleteApp(request.id);\n\n       RequestBuilder requestBuilder =  MockMvcRequestBuilders.delete(URI)\n                                                             .accept(MediaType.APPLICATION_JSON).content(inputInJson)\n                                                             .contentType(MediaType.APPLICATION_JSON);\n\n       MvcResult mvcResult = mvc.perform(requestBuilder).andReturn();\n       MockHttpServletResponse response = mvcResult.getResponse();\n       assertEquals(HttpStatus.OK.value(), response.getStatus());\n\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1394832,"reputation":10696,"user_id":1324816,"accept_rate":56,"display_name":"user6123723"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132206,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":29054326,"answer_count":5,"score":83,"last_activity_date":1633464269,"creation_date":1426365819,"question_id":29053974,"body_markdown":"I have a sample Spring Boot app with the following \r\n\r\nBoot main class\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n\r\nController\r\n\r\n    @RestController\r\n    @EnableAutoConfiguration\r\n    public class HelloWorld {\r\n        @RequestMapping(&quot;/&quot;)\r\n        String gethelloWorld() {\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nWhat&#39;s the easiest way to write a unit test for the controller? I tried the following but it complains about failing to autowire WebApplicationContext\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = DemoApplication.class)\r\n    public class DemoApplicationTests {\r\n    \t\r\n    \tfinal String BASE_URL = &quot;http://localhost:8080/&quot;;\r\n    \r\n    \t@Autowired\r\n    \tprivate WebApplicationContext wac;\r\n    \r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t    this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n    \t}\r\n    \t     \r\n    \t@Test\r\n    \tpublic void testSayHelloWorld() throws Exception{\r\n    \t\t\r\n    \t\t this.mockMvc.perform(get(&quot;/&quot;)\r\n                     .accept(MediaType.parseMediaType(&quot;application/json;charset=UTF-8&quot;)))\r\n                     .andExpect(status().isOk())\r\n                     .andExpect(content().contentType(&quot;application/json&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to write a unit test for a Spring Boot Controller endpoint","body":"<p>I have a sample Spring Boot app with the following </p>\n\n<p>Boot main class</p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>@RestController\n@EnableAutoConfiguration\npublic class HelloWorld {\n    @RequestMapping(\"/\")\n    String gethelloWorld() {\n        return \"Hello World!\";\n    }\n\n}\n</code></pre>\n\n<p>What's the easiest way to write a unit test for the controller? I tried the following but it complains about failing to autowire WebApplicationContext</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = DemoApplication.class)\npublic class DemoApplicationTests {\n\n    final String BASE_URL = \"http://localhost:8080/\";\n\n    @Autowired\n    private WebApplicationContext wac;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n    }\n\n    @Test\n    public void testSayHelloWorld() throws Exception{\n\n         this.mockMvc.perform(get(\"/\")\n                 .accept(MediaType.parseMediaType(\"application/json;charset=UTF-8\")))\n                 .andExpect(status().isOk())\n                 .andExpect(content().contentType(\"application/json\"));\n    }\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1633442444,"post_id":69451810,"comment_id":122757240,"body_markdown":"I think it would depend on what `// Do Something;` actually does.","body":"I think it would depend on what <code>&#47;&#47; Do Something;</code> actually does."},{"owner":{"account_id":9270986,"reputation":295,"user_id":6896310,"display_name":"EnlightenedFunky"},"score":0,"creation_date":1633442997,"post_id":69451810,"comment_id":122757508,"body_markdown":"Ok sure I&#39;ll add it","body":"Ok sure I&#39;ll add it"},{"owner":{"account_id":9270986,"reputation":295,"user_id":6896310,"display_name":"EnlightenedFunky"},"score":0,"creation_date":1633443220,"post_id":69451810,"comment_id":122757616,"body_markdown":"@JohnnyMopp it builds up from that first method, and only looks at a 1D array, and counts the odd numbers, my problem is I want to find a way to condense the constant calling of the method.","body":"@JohnnyMopp it builds up from that first method, and only looks at a 1D array, and counts the odd numbers, my problem is I want to find a way to condense the constant calling of the method."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1633446022,"post_id":69451810,"comment_id":122758946,"body_markdown":"I tried to come up with a recursive method but couldn&#39;t get the varargs method to overload, so I had to call it something different. Now it&#39;s lunchtime... But you can check it out here: https://ideone.com/5uf77A Maybe it will set you in the right direction.","body":"I tried to come up with a recursive method but couldn&#39;t get the varargs method to overload, so I had to call it something different. Now it&#39;s lunchtime... But you can check it out here: <a href=\"https://ideone.com/5uf77A\" rel=\"nofollow noreferrer\">ideone.com/5uf77A</a> Maybe it will set you in the right direction."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1633447658,"post_id":69451810,"comment_id":122759683,"body_markdown":"@JohnnyMopp, your attempt should be posted as an answer.  Minor improvement: it could make sense to add a class check `if (a[0] instanceof Number)`, then cast `i` to `Number` and use its `Number::intValue` method when checking for oddity instead of casting to `int`.","body":"@JohnnyMopp, your attempt should be posted as an answer.  Minor improvement: it could make sense to add a class check <code>if (a[0] instanceof Number)</code>, then cast <code>i</code> to <code>Number</code> and use its <code>Number::intValue</code> method when checking for oddity instead of casting to <code>int</code>."},{"owner":{"account_id":9270986,"reputation":295,"user_id":6896310,"display_name":"EnlightenedFunky"},"score":0,"creation_date":1633451584,"post_id":69451810,"comment_id":122761362,"body_markdown":"I agree actually it&#39;s very unique, and interesting I will accept it if it is posted.","body":"I agree actually it&#39;s very unique, and interesting I will accept it if it is posted."}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633462407,"creation_date":1633458809,"answer_id":69455593,"question_id":69451810,"body_markdown":"When the parameter is amulti dimensional array, you can recursively call the function that digs down until you end up with a 1d array of numbers. The logic is:\r\n```\r\nif a is a multi-dimensional array\r\n    for each array in a\r\n        call recursively\r\nelse\r\n    count odd numbers in a\r\n```\r\nI have 2 functions. One that takes a variable number of args, and a recursive one. The first just calls the second with the var args as an array. The varargs function needs a bit of work if you want to allow mixed parameters (eg: `countOdd(new int [] {1,2,3}, 4, 5);`)\r\n```\r\n// The var args version. You call this. It then calls the recursive\r\n// version.\r\npublic static &lt;T&gt; int countOdd(T... arguments)\r\n{\r\n   return countOddRec(arguments);\r\n}\r\n\r\n// Recursive version\r\nprivate static &lt;T&gt; int countOddRec(T[] a)\r\n{\r\n\tif (a == null || a.length == 0) return 0;\r\n\t\r\n\tint count=0;\r\n\r\n    // Is it an array of Numbers?\r\n\tif (a[0] instanceof Number) {\r\n\t\tfor (T i: a) {\r\n            // Simplified the counting code a bit. Any # mod 2 is either 0 or 1\r\n\t\t\tcount += ((Number)i).intValue() % 2;\r\n\t\t}\r\n\t}\r\n    // Is it an multi-dimensional? Call recursively for each sub-array.\r\n\telse {\r\n\t\tfor (T sub : a) {\r\n            count += countOddRec((T[])sub);\r\n        }\r\n\t}\r\n\t\r\n\treturn count;\r\n}\r\n```\r\nAs mentioned in the comments, this will not work for primitive data types (ex: `int`, etc). Instead, use non-primitive types (ex: `Integer`, etc).\r\n","title":"Method Overloading Techinques","body":"<p>When the parameter is amulti dimensional array, you can recursively call the function that digs down until you end up with a 1d array of numbers. The logic is:</p>\n<pre><code>if a is a multi-dimensional array\n    for each array in a\n        call recursively\nelse\n    count odd numbers in a\n</code></pre>\n<p>I have 2 functions. One that takes a variable number of args, and a recursive one. The first just calls the second with the var args as an array. The varargs function needs a bit of work if you want to allow mixed parameters (eg: <code>countOdd(new int [] {1,2,3}, 4, 5);</code>)</p>\n<pre><code>// The var args version. You call this. It then calls the recursive\n// version.\npublic static &lt;T&gt; int countOdd(T... arguments)\n{\n   return countOddRec(arguments);\n}\n\n// Recursive version\nprivate static &lt;T&gt; int countOddRec(T[] a)\n{\n    if (a == null || a.length == 0) return 0;\n    \n    int count=0;\n\n    // Is it an array of Numbers?\n    if (a[0] instanceof Number) {\n        for (T i: a) {\n            // Simplified the counting code a bit. Any # mod 2 is either 0 or 1\n            count += ((Number)i).intValue() % 2;\n        }\n    }\n    // Is it an multi-dimensional? Call recursively for each sub-array.\n    else {\n        for (T sub : a) {\n            count += countOddRec((T[])sub);\n        }\n    }\n    \n    return count;\n}\n</code></pre>\n<p>As mentioned in the comments, this will not work for primitive data types (ex: <code>int</code>, etc). Instead, use non-primitive types (ex: <code>Integer</code>, etc).</p>\n"},{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633464116,"creation_date":1633464116,"answer_id":69456605,"question_id":69451810,"body_markdown":"Well, I guess there are some very interesting problems around, all coupled together. Namely\r\n\r\n 1. How to generify array processing and method declaration for\r\n    arbitrary depth (this is your initial question)?\r\n 2. How to deep traverse array with unknown depth?\r\n 3. How to inject some useful payload\r\n    into array traversal (in your case - count odd numbers)\r\n    independently of traversal itself?\r\n 4. Is it possible to generify approach for primitive and object arrays, and how?\r\n\r\nI have a good suggestion for points 3: instead of hardcoding payload in the method itself we can produce `IntStream` (or generic `Stream` for `Object` version) which can be processed separately.\r\n\r\nOn points 1 and 4 my guess it&#39;s probably not possible or at least not elegant. `java.lang.reflect.Array` doesn&#39;t show any wonder in this and my assumption is - if JDK couldn&#39;t do this, I cannot neither. So, the best option is probably to allow general signature with `Object` accompanied with couple of frequently used overloads, up to depth 3. Of course, this implies danger of `ClassCastExceptions` at runtime.\r\n\r\nSo, final result with implementation of point 2 may look like this\r\n```\r\npublic class FlattenArray {\r\n  public static IntStream flatten(int n) {\r\n    return IntStream.of(n);\r\n  }\r\n  public static IntStream flatten(int[] array) {\r\n    return IntStream.of(array);\r\n  }\r\n  public static IntStream flatten(int[][] array) {\r\n    return flatten((Object) array);\r\n  }\r\n  public static IntStream flatten(Object array) {\r\n    Class&lt;?&gt; aClass = array.getClass();\r\n    if (!aClass.isArray())\r\n      return IntStream.of(((Number) array).intValue());\r\n    else {\r\n      Class&lt;?&gt; componentType = aClass.getComponentType();\r\n      if (componentType.isPrimitive())\r\n        return IntStream.of((int[]) array);\r\n      else\r\n        return Arrays.stream((Object[]) array).flatMapToInt(FlattenArray::flatten);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd use this like\r\n```\r\nlong count = FlattenArray.flatten(2, 3, 5, 7).filter(i -&gt; i &amp; 1 != 0).count();\r\n```","title":"Method Overloading Techinques","body":"<p>Well, I guess there are some very interesting problems around, all coupled together. Namely</p>\n<ol>\n<li>How to generify array processing and method declaration for\narbitrary depth (this is your initial question)?</li>\n<li>How to deep traverse array with unknown depth?</li>\n<li>How to inject some useful payload\ninto array traversal (in your case - count odd numbers)\nindependently of traversal itself?</li>\n<li>Is it possible to generify approach for primitive and object arrays, and how?</li>\n</ol>\n<p>I have a good suggestion for points 3: instead of hardcoding payload in the method itself we can produce <code>IntStream</code> (or generic <code>Stream</code> for <code>Object</code> version) which can be processed separately.</p>\n<p>On points 1 and 4 my guess it's probably not possible or at least not elegant. <code>java.lang.reflect.Array</code> doesn't show any wonder in this and my assumption is - if JDK couldn't do this, I cannot neither. So, the best option is probably to allow general signature with <code>Object</code> accompanied with couple of frequently used overloads, up to depth 3. Of course, this implies danger of <code>ClassCastExceptions</code> at runtime.</p>\n<p>So, final result with implementation of point 2 may look like this</p>\n<pre><code>public class FlattenArray {\n  public static IntStream flatten(int n) {\n    return IntStream.of(n);\n  }\n  public static IntStream flatten(int[] array) {\n    return IntStream.of(array);\n  }\n  public static IntStream flatten(int[][] array) {\n    return flatten((Object) array);\n  }\n  public static IntStream flatten(Object array) {\n    Class&lt;?&gt; aClass = array.getClass();\n    if (!aClass.isArray())\n      return IntStream.of(((Number) array).intValue());\n    else {\n      Class&lt;?&gt; componentType = aClass.getComponentType();\n      if (componentType.isPrimitive())\n        return IntStream.of((int[]) array);\n      else\n        return Arrays.stream((Object[]) array).flatMapToInt(FlattenArray::flatten);\n    }\n  }\n}\n</code></pre>\n<p>And use this like</p>\n<pre><code>long count = FlattenArray.flatten(2, 3, 5, 7).filter(i -&gt; i &amp; 1 != 0).count();\n</code></pre>\n"}],"owner":{"account_id":9270986,"reputation":295,"user_id":6896310,"display_name":"EnlightenedFunky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69455593,"answer_count":2,"score":1,"last_activity_date":1633464116,"creation_date":1633442141,"question_id":69451810,"body_markdown":"I have a method overload that goes as follows:\r\n\r\n```\r\npublic class Odddetector {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint count = countOdd(new int [] {5, 7, 3, 9, 0});\r\n\t\tSystem.out.println(count);\r\n\t\tcount = countOdd(new int [] {2, 6, 4, 8, 1});\r\n\t\tSystem.out.println(count);\r\n\t\tcount = countOdd(5, 7, 10);\r\n\t\tSystem.out.println(count);\r\n\t\tcount = countOdd(8, 2, 7);\r\n\t\tSystem.out.println(count);\r\n\t\tcount = countOdd(new int[][] {{1, 2}, {3, 4, 5}});//extra point only\r\n\t\tSystem.out.println(count);\r\n\t\tcount = countOdd(new int[][] {{6, 2}, {3, 4, 0}});//extra point only\r\n\t\tSystem.out.println(count);\r\n\t}\r\npublic static int countOdd(int[] a){\r\n      int count=0;\r\n\t  for (int i: a) count = (i %2 != 0)?++count:count;\r\n      return count;\r\n      // Do Something;\r\n}\r\npublic static int countOdd(int[][] a){\r\n     // Do Something;\r\n     int count=0;\r\n\t for (int b = 0; b&lt; a.length; b++){\r\n\t\t\t//System.out.println(java.util.Arrays.toString(a[b])); not a necessary line.\r\n\t\t\tcount += countOdd(a[b]);\r\n\t\t}\r\n      return count;\r\n}\r\n// more method overloading\r\n\r\n```\r\n\r\nMy question is there a way to condense the solution to have one method that takes into account N-Dimensional Arrays. The code runs fine like this however, I would like to know what Java techniques can help account for the increase in dimensions. I would like to add some details and that is that the first method is the base method, and all the other methods call that first int[] a. The new section I added is the full code I am currently in developing this code which my professor gave as a challenge. I currently have the Data Structures by Lang, and I can accept hints. I prefer hints actually because I would like to learn to code this.","title":"Method Overloading Techinques","body":"<p>I have a method overload that goes as follows:</p>\n<pre><code>public class Odddetector {\n\n    public static void main(String[] args) {\n        int count = countOdd(new int [] {5, 7, 3, 9, 0});\n        System.out.println(count);\n        count = countOdd(new int [] {2, 6, 4, 8, 1});\n        System.out.println(count);\n        count = countOdd(5, 7, 10);\n        System.out.println(count);\n        count = countOdd(8, 2, 7);\n        System.out.println(count);\n        count = countOdd(new int[][] {{1, 2}, {3, 4, 5}});//extra point only\n        System.out.println(count);\n        count = countOdd(new int[][] {{6, 2}, {3, 4, 0}});//extra point only\n        System.out.println(count);\n    }\npublic static int countOdd(int[] a){\n      int count=0;\n      for (int i: a) count = (i %2 != 0)?++count:count;\n      return count;\n      // Do Something;\n}\npublic static int countOdd(int[][] a){\n     // Do Something;\n     int count=0;\n     for (int b = 0; b&lt; a.length; b++){\n            //System.out.println(java.util.Arrays.toString(a[b])); not a necessary line.\n            count += countOdd(a[b]);\n        }\n      return count;\n}\n// more method overloading\n\n</code></pre>\n<p>My question is there a way to condense the solution to have one method that takes into account N-Dimensional Arrays. The code runs fine like this however, I would like to know what Java techniques can help account for the increase in dimensions. I would like to add some details and that is that the first method is the base method, and all the other methods call that first int[] a. The new section I added is the full code I am currently in developing this code which my professor gave as a challenge. I currently have the Data Structures by Lang, and I can accept hints. I prefer hints actually because I would like to learn to code this.</p>\n"},{"tags":["java","synchronization","process"],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1337185886,"creation_date":1337185886,"answer_id":10622783,"question_id":10622724,"body_markdown":"That&#39;s right. You can not use any standard synchronization mechanisms because they are working into one JVM.\r\n\r\nSolutions\r\n\r\n 1. You can use file locks introduced in java 7.\r\n 2. You can use synchronization via database entities. \r\n 3. One of already implemented solutions like Terracota may be helpful\r\n 4. Re-think your design. If you are beginner in java world try to talk in details with more experienced engineers. Your question shows that IMHO you are just on wrong way. \r\n\r\n","title":"Java synchronization between different JVMs","body":"<p>That's right. You can not use any standard synchronization mechanisms because they are working into one JVM.</p>\n\n<p>Solutions</p>\n\n<ol>\n<li>You can use file locks introduced in java 7.</li>\n<li>You can use synchronization via database entities. </li>\n<li>One of already implemented solutions like Terracota may be helpful</li>\n<li>Re-think your design. If you are beginner in java world try to talk in details with more experienced engineers. Your question shows that IMHO you are just on wrong way. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337185892,"creation_date":1337185892,"answer_id":10622785,"question_id":10622724,"body_markdown":"&gt; they are all thread-level?\r\n\r\nThat&#39;s correct, `synchronized` etc only work within the context of a single process.\r\n\r\n&gt; Does Java provide support for IPC like semaphores between processes?\r\n\r\nOne way to implement communication between Java processes is using [RMI][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_remote_method_invocation","title":"Java synchronization between different JVMs","body":"<blockquote>\n  <p>they are all thread-level?</p>\n</blockquote>\n\n<p>That's correct, <code>synchronized</code> etc only work within the context of a single process.</p>\n\n<blockquote>\n  <p>Does Java provide support for IPC like semaphores between processes?</p>\n</blockquote>\n\n<p>One way to implement communication between Java processes is using <a href=\"http://en.wikipedia.org/wiki/Java_remote_method_invocation\" rel=\"nofollow\">RMI</a>.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1337185951,"creation_date":1337185951,"answer_id":10622804,"question_id":10622724,"body_markdown":"You can use `synchronized` keyword, locks, atomic objects, etc. - but they are local to the JVM. So if you have two JVMs running the same program, they can still e.g. run the same `synchronized` method at the same time - one on each JVM, but not more.\r\n\r\nSolutions:\r\n\r\n* [tag:Terracotta] provides distributed locking\r\n\r\n* [tag:hazelcast] as well\r\n\r\n* you can use manual synchronization on file system or database","title":"Java synchronization between different JVMs","body":"<p>You can use <code>synchronized</code> keyword, locks, atomic objects, etc. - but they are local to the JVM. So if you have two JVMs running the same program, they can still e.g. run the same <code>synchronized</code> method at the same time - one on each JVM, but not more.</p>\n\n<p>Solutions:</p>\n\n<ul>\n<li><p><a href=\"/questions/tagged/terracotta\" class=\"post-tag\" title=\"show questions tagged 'terracotta'\" rel=\"tag\">terracotta</a> provides distributed locking</p></li>\n<li><p><a href=\"/questions/tagged/hazelcast\" class=\"post-tag\" title=\"show questions tagged 'hazelcast'\" rel=\"tag\">hazelcast</a> as well</p></li>\n<li><p>you can use manual synchronization on file system or database</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471913340,"creation_date":1471913000,"answer_id":39090694,"question_id":10622724,"body_markdown":"I have implemented a java IPC Lock implementation using files: [FileBasedLock][1] and a IPC Semaphore implementation using a shared DB (jdbc): [JdbcSemaphore][2]. Both implementations are part of [spf4j][3].\r\n\r\nIf you have a zookeeper instance take a look at the Zookeeper based Lock recipes from [Apache Curator][4]\r\n\r\n\r\n  [1]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/concurrent/FileBasedLock.java\r\n  [2]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/concurrent/jdbc/JdbcSemaphore.java\r\n  [3]: http://www.spf4j.org\r\n  [4]: http://curator.apache.org/curator-recipes/index.html","title":"Java synchronization between different JVMs","body":"<p>I have implemented a java IPC Lock implementation using files: <a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/concurrent/FileBasedLock.java\" rel=\"nofollow\">FileBasedLock</a> and a IPC Semaphore implementation using a shared DB (jdbc): <a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/concurrent/jdbc/JdbcSemaphore.java\" rel=\"nofollow\">JdbcSemaphore</a>. Both implementations are part of <a href=\"http://www.spf4j.org\" rel=\"nofollow\">spf4j</a>.</p>\n\n<p>If you have a zookeeper instance take a look at the Zookeeper based Lock recipes from <a href=\"http://curator.apache.org/curator-recipes/index.html\" rel=\"nofollow\">Apache Curator</a></p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488566473,"creation_date":1472286588,"answer_id":39179093,"question_id":10622724,"body_markdown":"I&#39;m using [distributed lock](https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers) provided by [Redisson](https://redisson.org) to synchronize work of different JVMs","title":"Java synchronization between different JVMs","body":"<p>I'm using <a href=\"https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers\" rel=\"nofollow noreferrer\">distributed lock</a> provided by <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> to synchronize work of different JVMs</p>\n"}],"owner":{"account_id":1458358,"reputation":163,"user_id":1373382,"display_name":"tytchong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11692,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10622783,"answer_count":5,"score":14,"last_activity_date":1633463965,"creation_date":1337185641,"question_id":10622724,"body_markdown":"The project I am working on would trigger various asynchronous jobs to do some work. As I look into it more these asynchronous jobs are actually being run as separate JVMs (separate java processes).  Does it mean I would not be able to use any of the following if I need to synchronize between these processes:\r\n\r\n- synchronized methods/blocks\r\n- any lock that implements `java.util.concurrent.locks`\r\n\r\nBecause it seems to me they are all thread-level?\r\n\r\nDoes Java provide support for IPC like semaphores between processes?\r\n","title":"Java synchronization between different JVMs","body":"<p>The project I am working on would trigger various asynchronous jobs to do some work. As I look into it more these asynchronous jobs are actually being run as separate JVMs (separate java processes).  Does it mean I would not be able to use any of the following if I need to synchronize between these processes:</p>\n\n<ul>\n<li>synchronized methods/blocks</li>\n<li>any lock that implements <code>java.util.concurrent.locks</code></li>\n</ul>\n\n<p>Because it seems to me they are all thread-level?</p>\n\n<p>Does Java provide support for IPC like semaphores between processes?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1633464070,"post_id":69456563,"comment_id":122765673,"body_markdown":"I take it that the class under test is not created by the bean container? If so: We have to invoke it manually. It is the bean containers responsibility to call the `@PostConstruct` method at runtime [iff](https://en.wikipedia.org/wiki/If_and_only_if) the instance was created by the bean container.","body":"I take it that the class under test is not created by the bean container? If so: We have to invoke it manually. It is the bean containers responsibility to call the <code>@PostConstruct</code> method at runtime <a href=\"https://en.wikipedia.org/wiki/If_and_only_if\" rel=\"nofollow noreferrer\">iff</a> the instance was created by the bean container."},{"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"score":0,"creation_date":1633464785,"post_id":69456563,"comment_id":122765895,"body_markdown":"In unit-testing we test only 1 class, so we don&#39;t test all Spring context. For testing your class, you should invoke method with @PostConstruct annotation in your test","body":"In unit-testing we test only 1 class, so we don&#39;t test all Spring context. For testing your class, you should invoke method with @PostConstruct annotation in your test"}],"owner":{"account_id":9361051,"reputation":23,"user_id":6947360,"display_name":"javi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633463881,"creation_date":1633463881,"question_id":69456563,"body_markdown":"I am using junit 5.7.2 , I am using a factory design pattern where in I populate a map inside the postConstruct method. I need to write junit for that but postconstruct method is not getting invoked.\r\n","title":"@PostConstruct method is not getting called in junit","body":"<p>I am using junit 5.7.2 , I am using a factory design pattern where in I populate a map inside the postConstruct method. I need to write junit for that but postconstruct method is not getting invoked.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1633510862,"post_id":69456548,"comment_id":122776155,"body_markdown":"It is entirely irrelevant, how many unused objects the heap memory contains. All that matters, is how much free memory is available to new allocations. Having an excessive amount of finalizers is an entirely different issue and definitely connected to your application, even if you’re not using `finalize()` on your own. Your definitely using lots of objects of a class which has a `finalize()`.","body":"It is entirely irrelevant, how many unused objects the heap memory contains. All that matters, is how much free memory is available to new allocations. Having an excessive amount of finalizers is an entirely different issue and definitely connected to your application, even if you’re not using <code>finalize()</code> on your own. Your definitely using lots of objects of a class which has a <code>finalize()</code>."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633511487,"post_id":69456548,"comment_id":122776438,"body_markdown":"AFAIK AdaptiveSizePolicy was never enabled for CMS.","body":"AFAIK AdaptiveSizePolicy was never enabled for CMS."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633511553,"post_id":69456548,"comment_id":122776476,"body_markdown":"Also, re statement 2, the concurrent cycle is also time scheduled based on predictions of heap churn.","body":"Also, re statement 2, the concurrent cycle is also time scheduled based on predictions of heap churn."},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633512008,"post_id":69456548,"comment_id":122776670,"body_markdown":"@Erik you mean in my case it is not enabled or in CMS generally doesn&#39;t support?","body":"@Erik you mean in my case it is not enabled or in CMS generally doesn&#39;t support?"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633512307,"post_id":69456548,"comment_id":122776797,"body_markdown":"CMS doesn&#39;t support it. Again AFAIK, the implementation was never done fully and not enabled.","body":"CMS doesn&#39;t support it. Again AFAIK, the implementation was never done fully and not enabled."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633512502,"post_id":69456548,"comment_id":122776862,"body_markdown":"I have to add that I don&#39;t quite get what your question actually is. Do you get OOME? I mean, if the app works with acceptable response times, where is the problem?","body":"I have to add that I don&#39;t quite get what your question actually is. Do you get OOME? I mean, if the app works with acceptable response times, where is the problem?"},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633512835,"post_id":69456548,"comment_id":122777043,"body_markdown":"@Erik The issue which I am facing is that my memory usage increases to the extent it reaches 99% at which time I restart the service to avoid OOM error.\n\nAnd when I am taking the heap dump, its the `finalizer` object which is taking the space. Which I mentioned I am not using in code directly.\nSo, thinking if its because of setting equal min and max heap size, as GC pauses more in that case as larger space empty","body":"@Erik The issue which I am facing is that my memory usage increases to the extent it reaches 99% at which time I restart the service to avoid OOM error.  And when I am taking the heap dump, its the <code>finalizer</code> object which is taking the space. Which I mentioned I am not using in code directly. So, thinking if its because of setting equal min and max heap size, as GC pauses more in that case as larger space empty"},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633512896,"post_id":69456548,"comment_id":122777072,"body_markdown":"@Erik this blog says that ApativeSizePolicy is there in CMS https://www.javacodebook.com/2013/08/13/garbage-collection-adaptive-size-policy-java-performance-tuning/","body":"@Erik this blog says that ApativeSizePolicy is there in CMS <a href=\"https://www.javacodebook.com/2013/08/13/garbage-collection-adaptive-size-policy-java-performance-tuning/\" rel=\"nofollow noreferrer\">javacodebook.com/2013/08/13/&hellip;</a>"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633518309,"post_id":69456548,"comment_id":122779334,"body_markdown":"@arqam If you read it carefully it actually does not. But anyway, the definite word: https://bugs.openjdk.java.net/browse/JDK-8034246","body":"@arqam If you read it carefully it actually does not. But anyway, the definite word: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8034246\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8034246</a>"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633518381,"post_id":69456548,"comment_id":122779363,"body_markdown":"@arqam so what does your gc log say? And, you don&#39;t actually know that you&#39;ll get an OOME if you restart the app.","body":"@arqam so what does your gc log say? And, you don&#39;t actually know that you&#39;ll get an OOME if you restart the app."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633518452,"post_id":69456548,"comment_id":122779392,"body_markdown":"@arqam it might very well be that they think it works but in reality it doesn&#39;t.","body":"@arqam it might very well be that they think it works but in reality it doesn&#39;t."},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633518468,"post_id":69456548,"comment_id":122779400,"body_markdown":"@Erik when I restart the service, the available memory gets freed up and OOM error is not thrown, or maybe I have to check the logs for OOM.","body":"@Erik when I restart the service, the available memory gets freed up and OOM error is not thrown, or maybe I have to check the logs for OOM."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633518551,"post_id":69456548,"comment_id":122779431,"body_markdown":"@arqam of course the memory is freed, what else could happen? And of course you don&#39;t get an OOME. I&#39;m trying to get to, what does the gc log say and do you actually get an OOME. And do you have a bad response time, bad performance or what?","body":"@arqam of course the memory is freed, what else could happen? And of course you don&#39;t get an OOME. I&#39;m trying to get to, what does the gc log say and do you actually get an OOME. And do you have a bad response time, bad performance or what?"},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633518625,"post_id":69456548,"comment_id":122779455,"body_markdown":"@Erik we sort of get the alert when memory usage is high, and support at that time restarts the service to prevent the app from crashing.","body":"@Erik we sort of get the alert when memory usage is high, and support at that time restarts the service to prevent the app from crashing."},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633519050,"post_id":69456548,"comment_id":122779619,"body_markdown":"@Erik also if CMS doesn&#39;t allow resizing of younger generation, so when we provide -xms and -xmx flags, then how does the JVM grow the heap from min to max as the `NewRatio=3` condition needs to be maintained between younger and older generation.","body":"@Erik also if CMS doesn&#39;t allow resizing of younger generation, so when we provide -xms and -xmx flags, then how does the JVM grow the heap from min to max as the <code>NewRatio=3</code> condition needs to be maintained between younger and older generation."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633519348,"post_id":69456548,"comment_id":122779735,"body_markdown":"@arqam If you don&#39;t believe the openjdk bugs site, I don&#39;t know what to tell you. Anyway, I would advise you to set up gc logging to find out what&#39;s going on. Secondly, you have the switch -XX:CMSInitiatingOccupancyFraction=&lt;some percentage&gt; that tells CMS when to start a concurrent cycle and try to use that.","body":"@arqam If you don&#39;t believe the openjdk bugs site, I don&#39;t know what to tell you. Anyway, I would advise you to set up gc logging to find out what&#39;s going on. Secondly, you have the switch -XX:CMSInitiatingOccupancyFraction=&lt;some percentage&gt; that tells CMS when to start a concurrent cycle and try to use that."},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633519652,"post_id":69456548,"comment_id":122779870,"body_markdown":"@Erik I actually want to understand how does -xms and -xmx play a role in CMS, because these flags would not make sense in case of CMS when we don&#39;t do resizing.","body":"@Erik I actually want to understand how does -xms and -xmx play a role in CMS, because these flags would not make sense in case of CMS when we don&#39;t do resizing."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1633520478,"post_id":69456548,"comment_id":122780230,"body_markdown":"@arqam There is lot of information about that. ms sets the minimum size of the heap. If the app needs more heap it will take more from the os until it reaches mx. The adaptive policy is about the relationship between young and old gen.","body":"@arqam There is lot of information about that. ms sets the minimum size of the heap. If the app needs more heap it will take more from the os until it reaches mx. The adaptive policy is about the relationship between young and old gen."},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1633520950,"post_id":69456548,"comment_id":122780422,"body_markdown":"@Erik in that case can we say that if xms=xmx, the GC pause will be higher and it can affect cleaning up of the finalizer objects, as the objects are inserted in the finalizer queue only after a GC is done.","body":"@Erik in that case can we say that if xms=xmx, the GC pause will be higher and it can affect cleaning up of the finalizer objects, as the objects are inserted in the finalizer queue only after a GC is done."}],"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633463803,"creation_date":1633463803,"question_id":69456548,"body_markdown":"In few of my services when checking the heap dump I am seeing `java.lang.ref.finalizer` taking up almost all space. There are thousands of instances of finalizer class in histogram.\r\n(I don&#39;t use finalize() method in code or 3rd party libraries)\r\n\r\n**My GC flags :** `-XX:+UseConcMarkSweepGC -Xms7168m -Xmx7168m -XX:NewRatio=3`\r\n\r\nWhile understanding the garbage collection mechanism I am having few queries.\r\n\r\n**Statement 1 :**  If we set both the initial and maximum values of the heap as equal, the GC becomes slightly more efficient, because it never needs to figure out whether the heap should be resized.\r\n\r\n**Statement 2 :** The JVM starts a concurrent cycle based on the occupancy of the heap. When it is\r\nsufficiently full, the JVM starts background threads that cycle through the heap and\r\nremove objects\r\n\r\nIf we go with `Statement2` first, then it would mean that in my case where minHeap = maxHeap, the JVM won&#39;t start garbage collection for a long time, as the initial heap size itself is larger.\r\n\r\n***Question :*** Won&#39;t this make GC more inefficient contradicting `Statement1`, and in turn also cause memory error which I am facing (mentioned in the beginning), where too many objects are left in the heap to be GC collected for a long time and in turn filling up memory, to an extent where a Full GC is not happening?\r\n\r\n","title":"Java CMS garbage collection min heap","body":"<p>In few of my services when checking the heap dump I am seeing <code>java.lang.ref.finalizer</code> taking up almost all space. There are thousands of instances of finalizer class in histogram.\n(I don't use finalize() method in code or 3rd party libraries)</p>\n<p><strong>My GC flags :</strong> <code>-XX:+UseConcMarkSweepGC -Xms7168m -Xmx7168m -XX:NewRatio=3</code></p>\n<p>While understanding the garbage collection mechanism I am having few queries.</p>\n<p><strong>Statement 1 :</strong>  If we set both the initial and maximum values of the heap as equal, the GC becomes slightly more efficient, because it never needs to figure out whether the heap should be resized.</p>\n<p><strong>Statement 2 :</strong> The JVM starts a concurrent cycle based on the occupancy of the heap. When it is\nsufficiently full, the JVM starts background threads that cycle through the heap and\nremove objects</p>\n<p>If we go with <code>Statement2</code> first, then it would mean that in my case where minHeap = maxHeap, the JVM won't start garbage collection for a long time, as the initial heap size itself is larger.</p>\n<p><em><strong>Question :</strong></em> Won't this make GC more inefficient contradicting <code>Statement1</code>, and in turn also cause memory error which I am facing (mentioned in the beginning), where too many objects are left in the heap to be GC collected for a long time and in turn filling up memory, to an extent where a Full GC is not happening?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"score":1,"creation_date":1633460116,"post_id":69455506,"comment_id":122764373,"body_markdown":"If you are using IntelliJ or Eclipse you probably have ability to go inside this JpaRepository class by clicking on it with pressed CTRL. Just try to go up and up and you will probably get your answer.","body":"If you are using IntelliJ or Eclipse you probably have ability to go inside this JpaRepository class by clicking on it with pressed CTRL. Just try to go up and up and you will probably get your answer."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1633461890,"post_id":69455506,"comment_id":122765000,"body_markdown":"I use IntelliJ but for some reason, ctrl-click does not work for me.","body":"I use IntelliJ but for some reason, ctrl-click does not work for me."}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633460569,"creation_date":1633460569,"answer_id":69455960,"question_id":69455506,"body_markdown":"if you are using spring-boot you could change log level in `properties` and get all statement SQL have used for Hibernate\r\n\r\n\r\n```\r\n# SETTINGS FOR MORE DETAILS ON HIBERNATE\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.use_sql_comments=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n# CHANGE LEVEL LOG FOR HIBERNATE\r\nlogging.level.org.hibernate.type=TRACE\r\n\r\n# CHANGE LEVEL LOG FOR SPRING JDBC\r\nlogging.level.org.springframework.jdbc=TRACE\r\n\r\n## YOU CAN USE &#39;INFO&#39; OR &#39;DEBUG&#39; INSTEAD OF &#39;TRACE&#39; AS YOU PREFER\r\n\r\n```","title":"Where is the sql so I can see the criteria that hibernate repository uses to filter out records in findById()&quot;","body":"<p>if you are using spring-boot you could change log level in <code>properties</code> and get all statement SQL have used for Hibernate</p>\n<pre><code># SETTINGS FOR MORE DETAILS ON HIBERNATE\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\n\n# CHANGE LEVEL LOG FOR HIBERNATE\nlogging.level.org.hibernate.type=TRACE\n\n# CHANGE LEVEL LOG FOR SPRING JDBC\nlogging.level.org.springframework.jdbc=TRACE\n\n## YOU CAN USE 'INFO' OR 'DEBUG' INSTEAD OF 'TRACE' AS YOU PREFER\n\n</code></pre>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69455960,"answer_count":1,"score":0,"last_activity_date":1633463567,"creation_date":1633458270,"question_id":69455506,"body_markdown":"I have an Oracle table mapped to a Hibernate repository.\r\n\r\nIn the code I only see\r\n\r\n    public interface MyTableRepository extends JpaRepository&lt;MyTableRacord, Long&gt; {\r\n    }\r\n\r\nWhere is the sql that findById(Long id) uses?\r\n\r\n*What criteria is it using to filter out the records?*\r\n","title":"Where is the sql so I can see the criteria that hibernate repository uses to filter out records in findById()&quot;","body":"<p>I have an Oracle table mapped to a Hibernate repository.</p>\n<p>In the code I only see</p>\n<pre><code>public interface MyTableRepository extends JpaRepository&lt;MyTableRacord, Long&gt; {\n}\n</code></pre>\n<p>Where is the sql that findById(Long id) uses?</p>\n<p><em>What criteria is it using to filter out the records?</em></p>\n"},{"tags":["java","smtp","jakarta-mail","ssl"],"answers":[{"tags":[],"owner":{"account_id":10109,"reputation":1618,"user_id":18937,"display_name":"Sarat"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1384278459,"creation_date":1231090931,"answer_id":411362,"question_id":411331,"body_markdown":"We actually have some notification code in our product that uses TLS to send mail if it is available.\r\n\r\nYou will need to set the Java Mail properties. You only need the TLS one but you might need SSL if your SMTP server uses SSL.\r\n\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);  // If you need to authenticate\r\n    // Use the following if you need SSL\r\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, d_port);\r\n    props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n\r\nYou can then either pass this to a JavaMail Session or any other session instantiator like `Session.getDefaultInstance(props)`.","title":"Using JavaMail with TLS","body":"<p>We actually have some notification code in our product that uses TLS to send mail if it is available.</p>\n\n<p>You will need to set the Java Mail properties. You only need the TLS one but you might need SSL if your SMTP server uses SSL.</p>\n\n<pre><code>Properties props = new Properties();\nprops.put(\"mail.smtp.starttls.enable\",\"true\");\nprops.put(\"mail.smtp.auth\", \"true\");  // If you need to authenticate\n// Use the following if you need SSL\nprops.put(\"mail.smtp.socketFactory.port\", d_port);\nprops.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\nprops.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n</code></pre>\n\n<p>You can then either pass this to a JavaMail Session or any other session instantiator like <code>Session.getDefaultInstance(props)</code>.</p>\n"},{"tags":[],"owner":{"display_name":"jasonsmith"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1231187397,"creation_date":1231187397,"answer_id":414396,"question_id":411331,"body_markdown":"Good post, the line \r\n\r\n    props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\nis mandatory if the SMTP server uses **SSL Authentication**, like the GMail SMTP server does. However if the server uses **Plaintext Authentication over TLS**, it should not be present, because Java Mail will complain about the initial connection being plaintext.\r\n\r\nAlso make sure you are using the latest version of Java Mail. Recently I used some old Java Mail jars from a previous project and could not make the code work, because the login process was failing. After I have upgraded to the latest version of Java Mail, the reason of the error became clear: it was a javax.net.ssl.SSLHandshakeException, which was not thrown up in the old version of the lib.","title":"Using JavaMail with TLS","body":"<p>Good post, the line </p>\n\n<pre><code>props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n</code></pre>\n\n<p>is mandatory if the SMTP server uses <strong>SSL Authentication</strong>, like the GMail SMTP server does. However if the server uses <strong>Plaintext Authentication over TLS</strong>, it should not be present, because Java Mail will complain about the initial connection being plaintext.</p>\n\n<p>Also make sure you are using the latest version of Java Mail. Recently I used some old Java Mail jars from a previous project and could not make the code work, because the login process was failing. After I have upgraded to the latest version of Java Mail, the reason of the error became clear: it was a javax.net.ssl.SSLHandshakeException, which was not thrown up in the old version of the lib.</p>\n"},{"tags":[],"owner":{"account_id":130680,"reputation":4073,"user_id":330110,"accept_rate":100,"display_name":"Brent Matzelle"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1289138666,"creation_date":1289138666,"answer_id":4118048,"question_id":411331,"body_markdown":"The settings from the example above didn&#39;t work for the server I was using ([authsmtp.com][1]).  I kept on getting this error:\r\n\r\n    javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n\r\nI removed the mail.smtp.socketFactory settings and everything worked.  The final settings were this (SMTP auth was not used and I set the port elsewhere):\r\n\r\n    java.util.Properties props = new java.util.Properties();\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n  [1]: http://www.authsmtp.com/","title":"Using JavaMail with TLS","body":"<p>The settings from the example above didn't work for the server I was using (<a href=\"http://www.authsmtp.com/\" rel=\"noreferrer\">authsmtp.com</a>).  I kept on getting this error:</p>\n\n<pre><code>javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n</code></pre>\n\n<p>I removed the mail.smtp.socketFactory settings and everything worked.  The final settings were this (SMTP auth was not used and I set the port elsewhere):</p>\n\n<pre><code>java.util.Properties props = new java.util.Properties();\nprops.put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1494282,"reputation":5690,"user_id":1400607,"accept_rate":78,"display_name":"Renish Khunt"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1358515768,"creation_date":1357222412,"answer_id":14140574,"question_id":411331,"body_markdown":"Just use the following code.  It is really useful to send email via Java, and it works: \r\n    \r\n    import java.util.*;\r\n    import javax.activation.CommandMap;\r\n    import javax.activation.MailcapCommandMap;\r\n    import javax.mail.*;\r\n    import javax.mail.Provider;\r\n    import javax.mail.internet.*;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n                final String username=&quot;your@gmail.com&quot;;\r\n                final String password=&quot;password&quot;;\r\n                Properties prop=new Properties();\r\n                prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n                prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n                prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \r\n                Session session = Session.getDefaultInstance(prop,\r\n    \t\t  new javax.mail.Authenticator() {\r\n    \t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t  }\r\n    \t    });\r\n              try {\r\n                     String body=&quot;Dear Renish Khunt Welcome&quot;;\r\n                     String htmlBody = &quot;&lt;strong&gt;This is an HTML Message&lt;/strong&gt;&quot;;\r\n                     String textBody = &quot;This is a Text Message.&quot;;\r\n    \t\t Message message = new MimeMessage(session);\r\n    \t\t message.setFrom(new InternetAddress(&quot;your@gmail.com&quot;));\r\n    \t\t         message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(&quot;receiver@gmail.com&quot;));\r\n    \t\tmessage.setSubject(&quot;Testing Subject&quot;);\r\n            MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\r\n            mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\r\n            mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\r\n            mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\r\n            mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\r\n            mc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\r\n            CommandMap.setDefaultCommandMap(mc);\r\n    \t\t\tmessage.setText(htmlBody);\r\n                            message.setContent(textBody, &quot;text/html&quot;);\r\n    \t\t\tTransport.send(message);\r\n    \r\n    \t\t\tSystem.out.println(&quot;Done&quot;);\r\n    \r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n        }\r\n    \r\n    }","title":"Using JavaMail with TLS","body":"<p>Just use the following code.  It is really useful to send email via Java, and it works: </p>\n\n<pre><code>import java.util.*;\nimport javax.activation.CommandMap;\nimport javax.activation.MailcapCommandMap;\nimport javax.mail.*;\nimport javax.mail.Provider;\nimport javax.mail.internet.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n            final String username=\"your@gmail.com\";\n            final String password=\"password\";\n            Properties prop=new Properties();\n            prop.put(\"mail.smtp.auth\", \"true\");\n            prop.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n            prop.put(\"mail.smtp.port\", \"587\");\n            prop.put(\"mail.smtp.starttls.enable\", \"true\");\n\n            Session session = Session.getDefaultInstance(prop,\n          new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(username, password);\n          }\n        });\n          try {\n                 String body=\"Dear Renish Khunt Welcome\";\n                 String htmlBody = \"&lt;strong&gt;This is an HTML Message&lt;/strong&gt;\";\n                 String textBody = \"This is a Text Message.\";\n         Message message = new MimeMessage(session);\n         message.setFrom(new InternetAddress(\"your@gmail.com\"));\n                 message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(\"receiver@gmail.com\"));\n        message.setSubject(\"Testing Subject\");\n        MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\n        mc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\");\n        mc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\");\n        mc.addMailcap(\"text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain\");\n        mc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\");\n        mc.addMailcap(\"message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822\");\n        CommandMap.setDefaultCommandMap(mc);\n            message.setText(htmlBody);\n                        message.setContent(textBody, \"text/html\");\n            Transport.send(message);\n\n            System.out.println(\"Done\");\n\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514466382,"creation_date":1463655690,"answer_id":37321272,"question_id":411331,"body_markdown":"With [Simple Java Mail 5.0.0](http://simplejavamail.org) (simplejavamail.org) it is very straightforward and the library will take care of all the Session properties for you.\r\n\r\nHere&#39;s an example using Google&#39;s SMTP servers:\r\n\r\n    Email email = EmailBuilder.startingBlank()\r\n            .from(&quot;lollypop&quot;, &quot;lol.pop@somemail.com&quot;)\r\n            .to(&quot;C.Cane&quot;, &quot;candycane@candyshop.org&quot;)\r\n            .withSubject(&quot;hey&quot;)\r\n            .withPlainText(&quot;We should meet up!&quot;)\r\n            .withHTMLText(&quot;&lt;b&gt;We should meet up!&lt;/b&gt;&quot;)\r\n            .buildEmail();\r\n\r\n    MailerBuilder.withSMTPServer(&quot;smtp.gmail.com&quot;, 25, &quot;user&quot;, &quot;pass&quot;, SMTP_TLS)\r\n            .buildMailer()\r\n            .sendMail(email);\r\n\r\n    MailerBuilder.withSMTPServer(&quot;smtp.gmail.com&quot;, 587, &quot;user&quot;, &quot;pass&quot;, SMTP_TLS)\r\n            .buildMailer()\r\n            .sendMail(email);\r\n\r\n    MailerBuilder.withSMTPServer(&quot;smtp.gmail.com&quot;, 465, &quot;user&quot;, &quot;pass&quot;, SMTP_SSL)\r\n            .buildMailer()\r\n            .sendMail(email);\r\n\r\nIf you have two-factor login turned on, you need to generate an [application specific password](https://security.google.com/settings/security/apppasswords) from your Google account.","title":"Using JavaMail with TLS","body":"<p>With <a href=\"http://simplejavamail.org\" rel=\"nofollow noreferrer\">Simple Java Mail 5.0.0</a> (simplejavamail.org) it is very straightforward and the library will take care of all the Session properties for you.</p>\n\n<p>Here's an example using Google's SMTP servers:</p>\n\n<pre><code>Email email = EmailBuilder.startingBlank()\n        .from(\"lollypop\", \"lol.pop@somemail.com\")\n        .to(\"C.Cane\", \"candycane@candyshop.org\")\n        .withSubject(\"hey\")\n        .withPlainText(\"We should meet up!\")\n        .withHTMLText(\"&lt;b&gt;We should meet up!&lt;/b&gt;\")\n        .buildEmail();\n\nMailerBuilder.withSMTPServer(\"smtp.gmail.com\", 25, \"user\", \"pass\", SMTP_TLS)\n        .buildMailer()\n        .sendMail(email);\n\nMailerBuilder.withSMTPServer(\"smtp.gmail.com\", 587, \"user\", \"pass\", SMTP_TLS)\n        .buildMailer()\n        .sendMail(email);\n\nMailerBuilder.withSMTPServer(\"smtp.gmail.com\", 465, \"user\", \"pass\", SMTP_SSL)\n        .buildMailer()\n        .sendMail(email);\n</code></pre>\n\n<p>If you have two-factor login turned on, you need to generate an <a href=\"https://security.google.com/settings/security/apppasswords\" rel=\"nofollow noreferrer\">application specific password</a> from your Google account.</p>\n"},{"tags":[],"owner":{"account_id":14385403,"reputation":21,"user_id":10391562,"display_name":"Evgeniy Noskov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608287979,"creation_date":1608287979,"answer_id":65355549,"question_id":411331,"body_markdown":"As a small note, it only started to work for me when I changed smtp to smtps in the examples above per samples from javamail (see smtpsend.java, https://github.com/javaee/javamail/releases/download/JAVAMAIL-1_6_2/javamail-samples.zip, option -S).\r\n\r\nMy resulting code is as follow:\r\n\r\n    Properties props=new Properties();\r\n    props.put(&quot;mail.smtps.starttls.enable&quot;,&quot;true&quot;);\r\n    // Use the following if you need SSL\r\n    props.put(&quot;mail.smtps.socketFactory.port&quot;, port);\r\n    props.put(&quot;mail.smtps.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n    props.put(&quot;mail.smtps.socketFactory.fallback&quot;, &quot;false&quot;);\r\n    props.put(&quot;mail.smtps.host&quot;, serverList.get(randNum));\r\n    Session session = Session.getDefaultInstance(props);\r\n\r\n    smtpConnectionPool = new SmtpConnectionPool(\r\n        SmtpConnectionFactories.newSmtpFactory(session));\r\n        \r\n    final ClosableSmtpConnection transport = smtpConnectionPool.borrowObject();\r\n    ...\r\n    transport.sendMessage(message, message.getAllRecipients());","title":"Using JavaMail with TLS","body":"<p>As a small note, it only started to work for me when I changed smtp to smtps in the examples above per samples from javamail (see smtpsend.java, <a href=\"https://github.com/javaee/javamail/releases/download/JAVAMAIL-1_6_2/javamail-samples.zip\" rel=\"nofollow noreferrer\">https://github.com/javaee/javamail/releases/download/JAVAMAIL-1_6_2/javamail-samples.zip</a>, option -S).</p>\n<p>My resulting code is as follow:</p>\n<pre><code>Properties props=new Properties();\nprops.put(&quot;mail.smtps.starttls.enable&quot;,&quot;true&quot;);\n// Use the following if you need SSL\nprops.put(&quot;mail.smtps.socketFactory.port&quot;, port);\nprops.put(&quot;mail.smtps.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\nprops.put(&quot;mail.smtps.socketFactory.fallback&quot;, &quot;false&quot;);\nprops.put(&quot;mail.smtps.host&quot;, serverList.get(randNum));\nSession session = Session.getDefaultInstance(props);\n\nsmtpConnectionPool = new SmtpConnectionPool(\n    SmtpConnectionFactories.newSmtpFactory(session));\n    \nfinal ClosableSmtpConnection transport = smtpConnectionPool.borrowObject();\n...\ntransport.sendMessage(message, message.getAllRecipients());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633462861,"creation_date":1633460044,"answer_id":69455848,"question_id":411331,"body_markdown":"I just spent quite a bit of time figuring out how to use JavaMail to send emails with gmail or office365. I couldn&#39;t find the answer in the [faq][1], but was helped a bit by the [javadoc][2].\r\n\r\nIf you forget `props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;)` you get `com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail`.\r\n\r\nIf you forget `props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);` you get `javax.mail.MessagingException: Could not convert socket to TLS;` and `No appropriate protocol (protocol is disabled or cipher suites are inappropriate)`. Apparently this is only necessary for JavaMail versions 1.5.2 and older.\r\n\r\nHere is the minimal code I required to get it to work:\r\n\r\n    import java.util.Properties;\r\n    import javax.mail.Authenticator;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    public class SendEmail {\r\n        public static void main(String[] args) {\r\n            Properties props = new Properties();\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n            // smtp.gmail.com supports TLSv1.2 and TLSv1.3\r\n            // smtp.office365.com supports only TLSv1.2\r\n            props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            \r\n            Session session = Session.getInstance(props, new Authenticator() {\r\n                @Override\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(&quot;test@example.com&quot;, &quot;******&quot;);\r\n                }\r\n            });\r\n            \r\n            try {\r\n                Message message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(&quot;sender@example.com&quot;));\r\n                message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;recipient@example.com&quot;));\r\n                message.setSubject(&quot;You got mail&quot;);\r\n                message.setText(&quot;This email was sent with JavaMail.&quot;);\r\n                Transport.send(message);\r\n                System.out.println(&quot;Email sent.&quot;);\r\n            } catch (MessagingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://javaee.github.io/javamail/FAQ\r\n  [2]: https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html","title":"Using JavaMail with TLS","body":"<p>I just spent quite a bit of time figuring out how to use JavaMail to send emails with gmail or office365. I couldn't find the answer in the <a href=\"https://javaee.github.io/javamail/FAQ\" rel=\"nofollow noreferrer\">faq</a>, but was helped a bit by the <a href=\"https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>If you forget <code>props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;)</code> you get <code>com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail</code>.</p>\n<p>If you forget <code>props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);</code> you get <code>javax.mail.MessagingException: Could not convert socket to TLS;</code> and <code>No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</code>. Apparently this is only necessary for JavaMail versions 1.5.2 and older.</p>\n<p>Here is the minimal code I required to get it to work:</p>\n<pre><code>import java.util.Properties;\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class SendEmail {\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n        // smtp.gmail.com supports TLSv1.2 and TLSv1.3\n        // smtp.office365.com supports only TLSv1.2\n        props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        \n        Session session = Session.getInstance(props, new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;test@example.com&quot;, &quot;******&quot;);\n            }\n        });\n        \n        try {\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&quot;sender@example.com&quot;));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;recipient@example.com&quot;));\n            message.setSubject(&quot;You got mail&quot;);\n            message.setText(&quot;This email was sent with JavaMail.&quot;);\n            Transport.send(message);\n            System.out.println(&quot;Email sent.&quot;);\n        } catch (MessagingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18634,"reputation":13159,"user_id":42891,"accept_rate":100,"display_name":"dancavallaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160509,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":411362,"answer_count":7,"score":52,"last_activity_date":1633462861,"creation_date":1231090108,"question_id":411331,"body_markdown":"I found several other questions on SO regarding the JavaMail API and sending mail through an SMTP server, but none of them discussed using TLS security. I&#39;m trying to use JavaMail to send status updates to myself through my work SMTP mail server, but it requires TLS, and I can&#39;t find any examples online of how to use JavaMail to access an SMTP server that requires TLS encryption. Can anyone help with this?","title":"Using JavaMail with TLS","body":"<p>I found several other questions on SO regarding the JavaMail API and sending mail through an SMTP server, but none of them discussed using TLS security. I'm trying to use JavaMail to send status updates to myself through my work SMTP mail server, but it requires TLS, and I can't find any examples online of how to use JavaMail to access an SMTP server that requires TLS encryption. Can anyone help with this?</p>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1633462569,"post_id":69456258,"comment_id":122765209,"body_markdown":"`Integer` has a cache (by default I think it covers `-128` to `127` or something like that).","body":"<code>Integer</code> has a cache (by default I think it covers <code>-128</code> to <code>127</code> or something like that)."},{"owner":{"account_id":16311830,"reputation":21,"user_id":11780229,"display_name":"Wiatrak"},"score":0,"creation_date":1633462813,"post_id":69456258,"comment_id":122765298,"body_markdown":"Ach... Now understand... Thank you very much. I skipped this problem using new Integer(): inst2.setIntVal( new Integer(inst1.getIntVal().intValue()) );","body":"Ach... Now understand... Thank you very much. I skipped this problem using new Integer(): inst2.setIntVal( new Integer(inst1.getIntVal().intValue()) );"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1633464524,"post_id":69456258,"comment_id":122765806,"body_markdown":"&quot;I skipped this problem using ...&quot;: why do you think it is a problem that both `TestClass` instances reference the same `Integer` object?","body":"&quot;I skipped this problem using ...&quot;: why do you think it is a problem that both <code>TestClass</code> instances reference the same <code>Integer</code> object?"},{"owner":{"account_id":16311830,"reputation":21,"user_id":11780229,"display_name":"Wiatrak"},"score":0,"creation_date":1633551099,"post_id":69456258,"comment_id":122792905,"body_markdown":"Thomas, at first, I wanted to answer you: because\nif I change the value of Integer in inst1, in inst2 value will be changed too.\nBut you just made me realize that this is not true, because Integer objects are immutable! Thank you very much! :-)","body":"Thomas, at first, I wanted to answer you: because if I change the value of Integer in inst1, in inst2 value will be changed too. But you just made me realize that this is not true, because Integer objects are immutable! Thank you very much! :-)"}],"owner":{"account_id":16311830,"reputation":21,"user_id":11780229,"display_name":"Wiatrak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633462556,"answer_count":0,"score":0,"last_activity_date":1633462569,"creation_date":1633462236,"question_id":69456258,"body_markdown":"In the application, I needed to create a copy of an object that contained Double and Integer fields. It turned out that the calls:\r\ndoubleValue() methods for Integer instances, and\r\nintValue() methods for Double instances \r\nbehave differently, which surprised me.\r\nHere is an example:\r\n\r\n    class TestClass {\r\n        private Integer intVal;\r\n        private Double doubleVal;\r\n\r\n        public Integer getIntVal() {\r\n            return intVal;\r\n        }\r\n\r\n        public void setIntVal(Integer intVal) {\r\n            this.intVal = intVal;\r\n        }\r\n\r\n        public Double getDoubleVal() {\r\n           return doubleVal;\r\n        }\r\n\r\n        public void setDoubleVal(Double doubleVal) {\r\n            this.doubleVal = doubleVal;\r\n        }\r\n    }\r\n    \r\n    private void testInteger() {\r\n        TestClass inst1 = new TestClass();\r\n        inst1.setDoubleVal( 20.0 );\r\n        inst1.setIntVal( 10 );\r\n        TestClass inst2 = new TestClass();\r\n        inst2.setDoubleVal( inst1.getDoubleVal().doubleValue() );\r\n        inst2.setIntVal( inst1.getIntVal().intValue() );\r\n    }\r\n\r\n\r\nWhen \r\n\r\n    inst2.setDoubleVal( inst1.getDoubleVal().doubleValue() );\r\n\r\n\r\nwas called, the inst2.doubleVal property was a **different** object than ins1.doubleVal.  \r\n\r\nWhen \r\n\r\n    inst2.setIntVal( inst1.getIntVal().intValue() );\r\n\r\nwas called, inst2.intVal was **the same** object as ins1.instVal.\r\n\r\nHere is the information from the debugger:  \r\n&gt;    `inst1.doubleVal = {Double@7183} 20.0   \r\n    inst2.doubleVal = {Double@7187} 20.0  \r\n    inst1.intVal = {Integer@7184} 10  \r\n    inst2.intVal = (Integer@7184} 10  `\r\n\r\nCould someone please explain this to me?","title":"Do Java Integer and Double behave differently?","body":"<p>In the application, I needed to create a copy of an object that contained Double and Integer fields. It turned out that the calls:\ndoubleValue() methods for Integer instances, and\nintValue() methods for Double instances\nbehave differently, which surprised me.\nHere is an example:</p>\n<pre><code>class TestClass {\n    private Integer intVal;\n    private Double doubleVal;\n\n    public Integer getIntVal() {\n        return intVal;\n    }\n\n    public void setIntVal(Integer intVal) {\n        this.intVal = intVal;\n    }\n\n    public Double getDoubleVal() {\n       return doubleVal;\n    }\n\n    public void setDoubleVal(Double doubleVal) {\n        this.doubleVal = doubleVal;\n    }\n}\n\nprivate void testInteger() {\n    TestClass inst1 = new TestClass();\n    inst1.setDoubleVal( 20.0 );\n    inst1.setIntVal( 10 );\n    TestClass inst2 = new TestClass();\n    inst2.setDoubleVal( inst1.getDoubleVal().doubleValue() );\n    inst2.setIntVal( inst1.getIntVal().intValue() );\n}\n</code></pre>\n<p>When</p>\n<pre><code>inst2.setDoubleVal( inst1.getDoubleVal().doubleValue() );\n</code></pre>\n<p>was called, the inst2.doubleVal property was a <strong>different</strong> object than ins1.doubleVal.</p>\n<p>When</p>\n<pre><code>inst2.setIntVal( inst1.getIntVal().intValue() );\n</code></pre>\n<p>was called, inst2.intVal was <strong>the same</strong> object as ins1.instVal.</p>\n<p>Here is the information from the debugger:</p>\n<blockquote>\n<p><code>inst1.doubleVal = {Double@7183} 20.0    inst2.doubleVal = {Double@7187} 20.0   inst1.intVal = {Integer@7184} 10   inst2.intVal = (Integer@7184} 10  </code></p>\n</blockquote>\n<p>Could someone please explain this to me?</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1633461843,"post_id":69456164,"comment_id":122764980,"body_markdown":"So you just want to output the values `1` to `31`?  Sounds like you can just output the value of `i + 1` then, the `daysInMonth` array adds no value.","body":"So you just want to output the values <code>1</code> to <code>31</code>?  Sounds like you can just output the value of <code>i + 1</code> then, the <code>daysInMonth</code> array adds no value."},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1633461925,"post_id":69456164,"comment_id":122765010,"body_markdown":"Why use an array if you can just print `i+1`?","body":"Why use an array if you can just print <code>i+1</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22951053,"reputation":175,"user_id":17082325,"display_name":"iggi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633461943,"creation_date":1633461943,"answer_id":69456209,"question_id":69456164,"body_markdown":"If I understand you correctly, you don&#39;t need an array, just write `i` in output and change loop parameters like that\r\n\r\n    for (int i = 1; i &lt; 32; i++) {\r\n        System.out.println(&quot;Day of the month: &quot; + i);\r\n    }","title":"How do I Create a Loop That Will Return The Days on the Month for my Code?","body":"<p>If I understand you correctly, you don't need an array, just write <code>i</code> in output and change loop parameters like that</p>\n<pre><code>for (int i = 1; i &lt; 32; i++) {\n    System.out.println(&quot;Day of the month: &quot; + i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19477022,"reputation":21,"user_id":14248258,"display_name":"ttheland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633462546,"creation_date":1633462546,"answer_id":69456316,"question_id":69456164,"body_markdown":"You could use the array length in iterating through the loop, since months have different lengths, and print i instead of an index [i] of your array.\r\n\r\n     int[] daysInMonth = new int[31];\r\n       for (int i = 0; i &lt;= daysInMonth.length-1; i++) {\r\n           System.out.println(&quot;Day of the month: &quot; + (i+1));\r\n       }","title":"How do I Create a Loop That Will Return The Days on the Month for my Code?","body":"<p>You could use the array length in iterating through the loop, since months have different lengths, and print i instead of an index [i] of your array.</p>\n<pre><code> int[] daysInMonth = new int[31];\n   for (int i = 0; i &lt;= daysInMonth.length-1; i++) {\n       System.out.println(&quot;Day of the month: &quot; + (i+1));\n   }\n</code></pre>\n"}],"owner":{"account_id":22951907,"reputation":41,"user_id":17083066,"display_name":"Epicskylegend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633462546,"creation_date":1633461706,"question_id":69456164,"body_markdown":"    public class Array {\r\n        public static void main(String args[]) {\r\n           int[] daysInMonth = new int[31];\r\n           for (int i = 0; i &lt; 31; i++) {\r\n               System.out.println(&quot;Day of the month: &quot; + daysInMonth[i]);\r\n           }\r\n        }\r\n    }\r\n\r\n   \r\n\r\n\r\nI recognize that I could hard code the values for each day of the month. I could do: daysInMonth[0] = 1; for all of the values in the month, but would like to use a loop to do this instead for the sake of efficiency. How would I create a loop that would output &quot;Days of the month: 1, Day of the Month: 2, etc?&quot;","title":"How do I Create a Loop That Will Return The Days on the Month for my Code?","body":"<pre><code>public class Array {\n    public static void main(String args[]) {\n       int[] daysInMonth = new int[31];\n       for (int i = 0; i &lt; 31; i++) {\n           System.out.println(&quot;Day of the month: &quot; + daysInMonth[i]);\n       }\n    }\n}\n</code></pre>\n<p>I recognize that I could hard code the values for each day of the month. I could do: daysInMonth[0] = 1; for all of the values in the month, but would like to use a loop to do this instead for the sake of efficiency. How would I create a loop that would output &quot;Days of the month: 1, Day of the Month: 2, etc?&quot;</p>\n"},{"tags":["java","crystal-reports","xlsx"],"comments":[{"owner":{"account_id":4600810,"reputation":23121,"user_id":3731614,"accept_rate":96,"display_name":"Muhammad Omer Aslam"},"score":0,"creation_date":1517519520,"post_id":48571749,"comment_id":84140320,"body_markdown":"https://archive.sap.com/discussions/thread/1735662","body":"<a href=\"https://archive.sap.com/discussions/thread/1735662\" rel=\"nofollow noreferrer\">archive.sap.com/discussions/thread/1735662</a>"},{"owner":{"account_id":1675176,"reputation":1927,"user_id":1540896,"accept_rate":83,"display_name":"Mariusz"},"score":0,"creation_date":1684533112,"post_id":48571749,"comment_id":134536397,"body_markdown":"`com.crystaldecisions.sdk.occa.report.exportoptions.ReportExportFormat` class does not have recordToMSExcel2007 field in newest SDK. I checked SP 29 version 12.2.230.4777. This class is in CrystalReportsRuntime.jar. What version do you use? Do you know how export report to XLSX format using newest Crystal Reports for Eclipse Runtime Libraries?","body":"<code>com.crystaldecisions.sdk.occa.report.exportoptions.ReportExp&zwnj;&#8203;ortFormat</code> class does not have recordToMSExcel2007 field in newest SDK. I checked SP 29 version 12.2.230.4777. This class is in CrystalReportsRuntime.jar. What version do you use? Do you know how export report to XLSX format using newest Crystal Reports for Eclipse Runtime Libraries?"}],"owner":{"account_id":11936906,"reputation":43,"user_id":8735058,"display_name":"ahmad alzamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633461638,"creation_date":1517519333,"question_id":48571749,"body_markdown":"I am using Java to generate crystal reports locally -not on report application server- and trying to export to XLSX format.\r\nbut so far, I was only able to export to xls format.\r\n\r\ndoes the java library for crystal reports support xlsx format?\r\n\r\n`Edit 2018-02-02`\r\n\r\nif possible, I want the file to be saved directly as XLSX.\r\nI found some suggestions on SAP forums saying that you can open it in xls and then save as xlsx.\r\n\r\nbut the problem is that my report has too many rows and exceeds the sheet limit, so crystal report will create a new sheet every time the row count exceeds the limit.\r\n\r\nif I were to save in xls and then open and save as xlsx, then I will have to merge the sheets and I am not sure of the impact this will have on formatting.\r\n\r\n\r\n\r\n\r\n`update 2018-02-15:`\r\n\r\nI was able to export directly to xlsx using the JAR files provided on the crystal reports web site: [Crystal reports SAP][1] , after downloading the crystal report viewer, I added some jars in the folders under: ..\\Crystal Reports Viewer\\SAP Crystal Reports viewer\\plugins and using those jars I was able to export with:\r\n\r\n        DataOnlyExcelExportFormatOptions options = new \r\n        DataOnlyExcelExportFormatOptions();\r\n\t\toptions.setMaintainColumnAlignment(true);\r\n\t\toptions.setSimplifyPageHeaders(false);\r\n\t\toptions.setExportPageHeaderAndFooter(true);\r\n\t\toptions.setUseWorksheetFunctionsForSummaries(true);\r\n\t\toptions.setBaseAreaType(AreaSectionKind.detail);\r\n\t\tExportOptions exportOpt = new ExportOptions();\r\n\t\texportOpt.setFormatOptions(options);\r\n\t\texportOpt.setExportFormatType(ReportExportFormat.recordToMSExcel2007);\r\n        ...\r\n        ReportClientDocument doc1 = ReportClientDocument.openReport(f);\r\n        ...\r\n\t\tPrintOutputController printer = doc1.getPrintOutputController();\r\n        printer.export(exportOpt, fileOutputStream);\r\n\r\nline of concern here is: ReportExportFormat.recordToMSExcel2007\r\n\r\nthis will export directly to xlsx.\r\n\r\n\r\n\r\n  [1]: http://www.crystalreports.com/crviewer-confirm/","title":"Crystal Reports with Java","body":"<p>I am using Java to generate crystal reports locally -not on report application server- and trying to export to XLSX format.\nbut so far, I was only able to export to xls format.</p>\n\n<p>does the java library for crystal reports support xlsx format?</p>\n\n<p><code>Edit 2018-02-02</code></p>\n\n<p>if possible, I want the file to be saved directly as XLSX.\nI found some suggestions on SAP forums saying that you can open it in xls and then save as xlsx.</p>\n\n<p>but the problem is that my report has too many rows and exceeds the sheet limit, so crystal report will create a new sheet every time the row count exceeds the limit.</p>\n\n<p>if I were to save in xls and then open and save as xlsx, then I will have to merge the sheets and I am not sure of the impact this will have on formatting.</p>\n\n<p><code>update 2018-02-15:</code></p>\n\n<p>I was able to export directly to xlsx using the JAR files provided on the crystal reports web site: <a href=\"http://www.crystalreports.com/crviewer-confirm/\" rel=\"nofollow noreferrer\">Crystal reports SAP</a> , after downloading the crystal report viewer, I added some jars in the folders under: ..\\Crystal Reports Viewer\\SAP Crystal Reports viewer\\plugins and using those jars I was able to export with:</p>\n\n<pre><code>    DataOnlyExcelExportFormatOptions options = new \n    DataOnlyExcelExportFormatOptions();\n    options.setMaintainColumnAlignment(true);\n    options.setSimplifyPageHeaders(false);\n    options.setExportPageHeaderAndFooter(true);\n    options.setUseWorksheetFunctionsForSummaries(true);\n    options.setBaseAreaType(AreaSectionKind.detail);\n    ExportOptions exportOpt = new ExportOptions();\n    exportOpt.setFormatOptions(options);\n    exportOpt.setExportFormatType(ReportExportFormat.recordToMSExcel2007);\n    ...\n    ReportClientDocument doc1 = ReportClientDocument.openReport(f);\n    ...\n    PrintOutputController printer = doc1.getPrintOutputController();\n    printer.export(exportOpt, fileOutputStream);\n</code></pre>\n\n<p>line of concern here is: ReportExportFormat.recordToMSExcel2007</p>\n\n<p>this will export directly to xlsx.</p>\n"},{"tags":["java","android","android-studio","duplicates"],"comments":[{"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"score":2,"creation_date":1633450279,"post_id":69453823,"comment_id":122760900,"body_markdown":"copy the project folder to another location?","body":"copy the project folder to another location?"},{"owner":{"account_id":5829144,"reputation":395,"user_id":4594347,"display_name":"Tonui Nicholus"},"score":0,"creation_date":1633451021,"post_id":69453823,"comment_id":122761170,"body_markdown":"also remember to remove build, .gradle, .idea folders. they are unnecessary for backup. Using Mac simply, Command+D on project folder, Windows Cltr+C , Ctrl+P","body":"also remember to remove build, .gradle, .idea folders. they are unnecessary for backup. Using Mac simply, Command+D on project folder, Windows Cltr+C , Ctrl+P"},{"owner":{"account_id":18444627,"reputation":67,"user_id":14352720,"display_name":"Umair Anjum"},"score":0,"creation_date":1633452258,"post_id":69453823,"comment_id":122761612,"body_markdown":"You can also make a repo on bitbucket and push the code to save for future use. just see any youtube video how to push your code to GITHUB or BiBucket in a private repository. it&#39;s pretty simple and easy","body":"You can also make a repo on bitbucket and push the code to save for future use. just see any youtube video how to push your code to GITHUB or BiBucket in a private repository. it&#39;s pretty simple and easy"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1633452668,"post_id":69453823,"comment_id":122761762,"body_markdown":"Learn to use Git and Github/Bitbucket, etc. ASAP or you will regret it later.","body":"Learn to use Git and Github/Bitbucket, etc. ASAP or you will regret it later."}],"answers":[{"tags":[],"owner":{"account_id":20035349,"reputation":11,"user_id":14687207,"display_name":"Bryan Brooks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633461467,"creation_date":1633461467,"answer_id":69456120,"question_id":69453823,"body_markdown":"Simple way is using Ctrl+C, Ctrl+V.\r\nBut it&#39;s better to use Git.","title":"How to duplicate a project Android studio, for backup","body":"<p>Simple way is using Ctrl+C, Ctrl+V.\nBut it's better to use Git.</p>\n"}],"owner":{"account_id":18490501,"reputation":5,"user_id":15918759,"display_name":"Jaloliddin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633461467,"creation_date":1633449827,"question_id":69453823,"body_markdown":"How to duplicate a project Android studio, for backup.\r\n\r\nplease, I want simple way.\r\n\r\n\r\n\r\n","title":"How to duplicate a project Android studio, for backup","body":"<p>How to duplicate a project Android studio, for backup.</p>\n<p>please, I want simple way.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":4,"creation_date":1437694055,"post_id":31599467,"comment_id":51150977,"body_markdown":"The only benefit I can think of would be that methods that accept a `Set` would not accept a `Collections.singleton()` had it returned a simple `Collection`.","body":"The only benefit I can think of would be that methods that accept a <code>Set</code> would not accept a <code>Collections.singleton()</code> had it returned a simple <code>Collection</code>."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1437695011,"post_id":31599467,"comment_id":51151271,"body_markdown":"@Slanec indeed... Whereas methods accepting a `Collection` will happily accept a `Set` as well...","body":"@Slanec indeed... Whereas methods accepting a <code>Collection</code> will happily accept a <code>Set</code> as well..."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1437695069,"post_id":31599467,"comment_id":51151291,"body_markdown":"Possibly because the word &quot;singleton&quot; in mathematics implies a set.","body":"Possibly because the word &quot;singleton&quot; in mathematics implies a set."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":2,"creation_date":1437695776,"post_id":31599467,"comment_id":51151518,"body_markdown":"Because a collection of one single element is a set, by definition.","body":"Because a collection of one single element is a set, by definition."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1437696111,"post_id":31599467,"comment_id":51151620,"body_markdown":"@immibis my maths are not to that level :/ Would you be so kind as to provide a link clarifying the concepts?","body":"@immibis my maths are not to that level :/ Would you be so kind as to provide a link clarifying the concepts?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":4,"creation_date":1437696692,"post_id":31599467,"comment_id":51151773,"body_markdown":"@fge It&#39;s the definition, nothing particularly deep. First sentence of https://en.wikipedia.org/wiki/Singleton_%28mathematics%29 for example - &quot;In mathematics, a singleton, also known as a unit set, is a set with exactly one element.&quot;","body":"@fge It&#39;s the definition, nothing particularly deep. First sentence of <a href=\"https://en.wikipedia.org/wiki/Singleton_%28mathematics%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Singleton_%28mathematics%29</a> for example - &quot;In mathematics, a singleton, also known as a unit set, is a set with exactly one element.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1437692560,"creation_date":1437692560,"answer_id":31599494,"question_id":31599467,"body_markdown":"I&#39;m not sure there&#39;s a &quot;benefit&quot; or &quot;advantage&quot; per se?  It&#39;s just the method that returns a singleton `Set`, and happens to be the default implementation when you want a singleton `Collection` as well, since a singleton `Collection` happens to be a mathematical set as well.","title":"What is the benefit for Collections.singleton() to return a Set instead of a Collection?","body":"<p>I'm not sure there's a \"benefit\" or \"advantage\" per se?  It's just the method that returns a singleton <code>Set</code>, and happens to be the default implementation when you want a singleton <code>Collection</code> as well, since a singleton <code>Collection</code> happens to be a mathematical set as well.</p>\n"},{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1437693135,"creation_date":1437693135,"answer_id":31599585,"question_id":31599467,"body_markdown":"Not all the lists are random access, just take a `LinkedList` (random access in the API, not in the implementation)as a counter-example. By the way I agree with Louis Wasserman, a `Set` simply makes sense because it is closer to the mathematical definition, it just feels natural.","title":"What is the benefit for Collections.singleton() to return a Set instead of a Collection?","body":"<p>Not all the lists are random access, just take a <code>LinkedList</code> (random access in the API, not in the implementation)as a counter-example. By the way I agree with Louis Wasserman, a <code>Set</code> simply makes sense because it is closer to the mathematical definition, it just feels natural.</p>\n"},{"tags":[],"owner":{"account_id":3771097,"reputation":2695,"user_id":3133286,"accept_rate":86,"display_name":"ordonezalex"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1497033327,"creation_date":1497033327,"answer_id":44464652,"question_id":31599467,"body_markdown":"I wondered the same thing and came across your question in my research. Here is my conclusion:\r\n\r\n**Returning a `Set` keeps the Collections API clean.**\r\n\r\nHere are the methods for getting a singleton Collection:\r\n\r\n* `public static &lt;T&gt; Set&lt;T&gt; singleton(T o)`\r\n* `public static &lt;T&gt; List&lt;T&gt; singletonList(T o)`\r\n* `public static &lt;K,V&gt; Map&lt;K,V&gt; singletonMap(K key, V value)`\r\n\r\nWhat if the API designers decided on having a `singletonSet` method and `singleton` method? It would look like this:\r\n\r\n* `public static &lt;T&gt; Collection&lt;T&gt; singleton(T o)`\r\n* `public static &lt;T&gt; Set&lt;T&gt; singletonSet(T o)`\r\n* `public static &lt;T&gt; List&lt;T&gt; singletonList(T o)`\r\n* `public static &lt;K,V&gt; Map&lt;K,V&gt; singletonMap(K key, V value)`\r\n\r\nIs the `singleton` method really necessary? Let&#39;s think about why we would need some of these methods.\r\n\r\nThink about when you would call `singletonList`? You probably have an API that requires `List` instead of `Collection` or `Set`. I will use this poor example:\r\n\r\n    public void needsList(List&lt;?&gt; list);\r\n\r\nYou can only pass a `List`. `needsList` hopefully needs the data indexed and is not arbitrarily requesting a `List` instead of a `Collection`.\r\n\r\nHowever, you could also pass a `List` to a method that required any `Collection`:\r\n\r\n    public void needsAnyCollection(Collection&lt;?&gt; collection);\r\n\r\nBut if that is the case, then why use a `List`? A `List` has a more complicated API and involves storing indexes. Do you really need the indexes? Would a `Set` not suffice? I argue that you should use a `Set`, because `needsAnyCollection` does not care about the order.\r\n\r\nThis is where `singletonSet` really shines. You know that if the collection is of size 1 (singleton), then the data must be unique. **Collections of size 1 are coincidentally a Set.**\r\n\r\nThere is no need for a method which returns a singleton of type `Collection`, because it is accidentally a `Set`.","title":"What is the benefit for Collections.singleton() to return a Set instead of a Collection?","body":"<p>I wondered the same thing and came across your question in my research. Here is my conclusion:</p>\n\n<p><strong>Returning a <code>Set</code> keeps the Collections API clean.</strong></p>\n\n<p>Here are the methods for getting a singleton Collection:</p>\n\n<ul>\n<li><code>public static &lt;T&gt; Set&lt;T&gt; singleton(T o)</code></li>\n<li><code>public static &lt;T&gt; List&lt;T&gt; singletonList(T o)</code></li>\n<li><code>public static &lt;K,V&gt; Map&lt;K,V&gt; singletonMap(K key, V value)</code></li>\n</ul>\n\n<p>What if the API designers decided on having a <code>singletonSet</code> method and <code>singleton</code> method? It would look like this:</p>\n\n<ul>\n<li><code>public static &lt;T&gt; Collection&lt;T&gt; singleton(T o)</code></li>\n<li><code>public static &lt;T&gt; Set&lt;T&gt; singletonSet(T o)</code></li>\n<li><code>public static &lt;T&gt; List&lt;T&gt; singletonList(T o)</code></li>\n<li><code>public static &lt;K,V&gt; Map&lt;K,V&gt; singletonMap(K key, V value)</code></li>\n</ul>\n\n<p>Is the <code>singleton</code> method really necessary? Let's think about why we would need some of these methods.</p>\n\n<p>Think about when you would call <code>singletonList</code>? You probably have an API that requires <code>List</code> instead of <code>Collection</code> or <code>Set</code>. I will use this poor example:</p>\n\n<pre><code>public void needsList(List&lt;?&gt; list);\n</code></pre>\n\n<p>You can only pass a <code>List</code>. <code>needsList</code> hopefully needs the data indexed and is not arbitrarily requesting a <code>List</code> instead of a <code>Collection</code>.</p>\n\n<p>However, you could also pass a <code>List</code> to a method that required any <code>Collection</code>:</p>\n\n<pre><code>public void needsAnyCollection(Collection&lt;?&gt; collection);\n</code></pre>\n\n<p>But if that is the case, then why use a <code>List</code>? A <code>List</code> has a more complicated API and involves storing indexes. Do you really need the indexes? Would a <code>Set</code> not suffice? I argue that you should use a <code>Set</code>, because <code>needsAnyCollection</code> does not care about the order.</p>\n\n<p>This is where <code>singletonSet</code> really shines. You know that if the collection is of size 1 (singleton), then the data must be unique. <strong>Collections of size 1 are coincidentally a Set.</strong></p>\n\n<p>There is no need for a method which returns a singleton of type <code>Collection</code>, because it is accidentally a <code>Set</code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1633461428,"creation_date":1497042065,"answer_id":44466624,"question_id":31599467,"body_markdown":"# Immutable\r\n\r\nThe benefit is found in the first adjective read in [that JavaDoc documentation](http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-): *immutable*. \r\n\r\nThere are times when you are working with code that demands a [`Set`](http://docs.oracle.com/javase/8/docs/api/java/util/Set.html) (or `List`, etc.). In your own context you may have a strict need for only a single item. To accomplish your own goal of enforcing the rule of single-item-only while needing to present that item in a set, use a `Set` implementation that forbids you from adding more than one item. \r\n\r\n“Immutable” on [`Collections::singleton`](http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-) means that, once created, the resulting `Set` object is guaranteed to have one, and only one item. Not zero, and not more than one.  No more can be added. The one item cannot be removed. \r\n\r\nFor example, imagine your code is working with an `Employee` object representing the CEO (Chief Executive Officer) of your company. Your code is explicitly dealing with the CEO only, so you know there can be only one such `Employee` object at a time, always one CEO exactly. Yet you want to leverage some existing code that creates a report for a specified collection of `Employee` objects. By using `Collection.singleton` you are guaranteed that your own code does not mistakenly have other than one single employee, while still being able to pass a `Set`.\r\n\r\n    Set&lt; Employee &gt; ceo = Collections.singleton( new Employee( &quot;Tim Cook&quot; ) ) ;  // Always exactly one item in this context, only one CEO is possible.\r\n\r\n    ceo.add( … ) ;     // Fails, as the collection is immutable.\r\n    ceo.clear() ;      // Fails, as the collection is immutable.\r\n    ceo.remove( … ) ;  // Fails, as the collection is immutable.\r\n\r\n    someReport.processEmployees( ceo ) ;\r\n\r\n\r\n# Java 9: `Set.of` &amp; `List.of`\r\n\r\n\r\nJava 9 and later offers new interface methods [`Set.of`](https://docs.oracle.com/javase/9/docs/api/java/util/Set.html#of-E-) and [`List.of`](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-) to get the same effect, an immutable collection of a single element. \r\n\r\n    Set&lt; Pet &gt; pet = Set.of( someDog ) ;\r\n\r\n\r\nSibling `of` methods are overloaded to accept any number of  elements to be in the immutable collection, not just one element. \r\n\r\n    Set&lt; Pet &gt; pets = Set.of( someDog , someOtherDog , someCat ) ;","title":"What is the benefit for Collections.singleton() to return a Set instead of a Collection?","body":"<h1>Immutable</h1>\n<p>The benefit is found in the first adjective read in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\" rel=\"nofollow noreferrer\">that JavaDoc documentation</a>: <em>immutable</em>.</p>\n<p>There are times when you are working with code that demands a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> (or <code>List</code>, etc.). In your own context you may have a strict need for only a single item. To accomplish your own goal of enforcing the rule of single-item-only while needing to present that item in a set, use a <code>Set</code> implementation that forbids you from adding more than one item.</p>\n<p>“Immutable” on <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\" rel=\"nofollow noreferrer\"><code>Collections::singleton</code></a> means that, once created, the resulting <code>Set</code> object is guaranteed to have one, and only one item. Not zero, and not more than one.  No more can be added. The one item cannot be removed.</p>\n<p>For example, imagine your code is working with an <code>Employee</code> object representing the CEO (Chief Executive Officer) of your company. Your code is explicitly dealing with the CEO only, so you know there can be only one such <code>Employee</code> object at a time, always one CEO exactly. Yet you want to leverage some existing code that creates a report for a specified collection of <code>Employee</code> objects. By using <code>Collection.singleton</code> you are guaranteed that your own code does not mistakenly have other than one single employee, while still being able to pass a <code>Set</code>.</p>\n<pre><code>Set&lt; Employee &gt; ceo = Collections.singleton( new Employee( &quot;Tim Cook&quot; ) ) ;  // Always exactly one item in this context, only one CEO is possible.\n\nceo.add( … ) ;     // Fails, as the collection is immutable.\nceo.clear() ;      // Fails, as the collection is immutable.\nceo.remove( … ) ;  // Fails, as the collection is immutable.\n\nsomeReport.processEmployees( ceo ) ;\n</code></pre>\n<h1>Java 9: <code>Set.of</code> &amp; <code>List.of</code></h1>\n<p>Java 9 and later offers new interface methods <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html#of-E-\" rel=\"nofollow noreferrer\"><code>Set.of</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-\" rel=\"nofollow noreferrer\"><code>List.of</code></a> to get the same effect, an immutable collection of a single element.</p>\n<pre><code>Set&lt; Pet &gt; pet = Set.of( someDog ) ;\n</code></pre>\n<p>Sibling <code>of</code> methods are overloaded to accept any number of  elements to be in the immutable collection, not just one element.</p>\n<pre><code>Set&lt; Pet &gt; pets = Set.of( someDog , someOtherDog , someCat ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574955524,"creation_date":1574948337,"answer_id":59090172,"question_id":31599467,"body_markdown":"The reason singleton Collections exist is to provide a low memory collection if you know you are going to store 1 element and it is not going to be mutated. Especially in high volume services this can have significant impact due to garbage collection latency.\r\n\r\nThis applies for both `Set.of(&quot;1&quot;);` and `Collections.singleton(&quot;1&quot;);`\r\n\r\nSince `Set` is a `Collection` already returning the more constrained contract is a good thing for users of the libraries. \r\nYou get additional functionality without paying anything for it.\r\n\r\nAnd you as a user should do the same as for any other API and library, you should store the least needed contract for it.\r\n\r\nSo if the only thing you&#39;ll ever need to do with the structure is to iterate in a loop I&#39;d suggest to choose `Iterable` instead of using `List`, `Set` or `Collection`. Since a`Collection` is an `Iterable` this will work out of the box.\r\n\r\n","title":"What is the benefit for Collections.singleton() to return a Set instead of a Collection?","body":"<p>The reason singleton Collections exist is to provide a low memory collection if you know you are going to store 1 element and it is not going to be mutated. Especially in high volume services this can have significant impact due to garbage collection latency.</p>\n\n<p>This applies for both <code>Set.of(\"1\");</code> and <code>Collections.singleton(\"1\");</code></p>\n\n<p>Since <code>Set</code> is a <code>Collection</code> already returning the more constrained contract is a good thing for users of the libraries. \nYou get additional functionality without paying anything for it.</p>\n\n<p>And you as a user should do the same as for any other API and library, you should store the least needed contract for it.</p>\n\n<p>So if the only thing you'll ever need to do with the structure is to iterate in a loop I'd suggest to choose <code>Iterable</code> instead of using <code>List</code>, <code>Set</code> or <code>Collection</code>. Since a<code>Collection</code> is an <code>Iterable</code> this will work out of the box.</p>\n"}],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32179,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"accepted_answer_id":31599494,"answer_count":5,"score":24,"last_activity_date":1633461428,"creation_date":1437692440,"question_id":31599467,"body_markdown":"The [`Collections.singleton()` method](http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-) returns a `Set` with that single argument instead of a `Collection`.\r\n\r\nWhy is that so? From what I can see, apart from `Set` being a subtype of `Collection`, I can see no advantage... Is this only because `Set` extends `Collection` anyway so there is no reason not to?\r\n\r\nAnd yes, there is also [`Collections.singletonList()`](http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singletonList-T-) but this is another matter since you can access random elements from a `List` with `.get()`...\r\n","title":"What is the benefit for Collections.singleton() to return a Set instead of a Collection?","body":"<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-\" rel=\"noreferrer\"><code>Collections.singleton()</code> method</a> returns a <code>Set</code> with that single argument instead of a <code>Collection</code>.</p>\n\n<p>Why is that so? From what I can see, apart from <code>Set</code> being a subtype of <code>Collection</code>, I can see no advantage... Is this only because <code>Set</code> extends <code>Collection</code> anyway so there is no reason not to?</p>\n\n<p>And yes, there is also <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singletonList-T-\" rel=\"noreferrer\"><code>Collections.singletonList()</code></a> but this is another matter since you can access random elements from a <code>List</code> with <code>.get()</code>...</p>\n"},{"tags":["java","spring-boot","kafka-consumer-api"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634056810,"post_id":69456101,"comment_id":122922040,"body_markdown":"To investigate this further, can you make a small reproducer at github ?","body":"To investigate this further, can you make a small reproducer at github ?"}],"owner":{"account_id":22951842,"reputation":11,"user_id":17083006,"display_name":"realcaptainmorgan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633461314,"creation_date":1633461314,"question_id":69456101,"body_markdown":"I am working on the implementation for a Kafka Consumer that consumes messages that are serialized by the KafkaAvroSerializer.  I am encountering the following error when we are trying to deserialize Kafka Records for which we do not have corresponding avro schema: \r\n```\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Could not find class com.appdynamics.avro.cn.collectors.models.v1.CollectionStatusEventDto specified in writer&#39;s schema whilst finding reader&#39;s schema for a SpecificRecord.\r\n```\r\n\r\nI am looking for a way either (1) handle this exception gracefully and seek past the invalid record or (2) deserialize the record without the corresponding Avro schema.  I have seen approaches where people will use the byte array deserializer, but in my implementation of that, I was getting errors related to &quot;missing magic bytes&quot; because the Kafka Records were being serialized with the KafkaAvroSerializer.  I have also seen implementations that handle errors using the ErrorHandlingDeserializer2.class, except we are not using the DefaultKafkaConsumerFactory class, rather we are using a simple KafkaConsumer.   Any advice as to how I would go about fixing this error would be much appreciated.  Thanks.","title":"How do I handle Kafka Consumer Deserialization errors for records serialized with the KafkaAvroSerializer?","body":"<p>I am working on the implementation for a Kafka Consumer that consumes messages that are serialized by the KafkaAvroSerializer.  I am encountering the following error when we are trying to deserialize Kafka Records for which we do not have corresponding avro schema:</p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Could not find class com.appdynamics.avro.cn.collectors.models.v1.CollectionStatusEventDto specified in writer's schema whilst finding reader's schema for a SpecificRecord.\n</code></pre>\n<p>I am looking for a way either (1) handle this exception gracefully and seek past the invalid record or (2) deserialize the record without the corresponding Avro schema.  I have seen approaches where people will use the byte array deserializer, but in my implementation of that, I was getting errors related to &quot;missing magic bytes&quot; because the Kafka Records were being serialized with the KafkaAvroSerializer.  I have also seen implementations that handle errors using the ErrorHandlingDeserializer2.class, except we are not using the DefaultKafkaConsumerFactory class, rather we are using a simple KafkaConsumer.   Any advice as to how I would go about fixing this error would be much appreciated.  Thanks.</p>\n"},{"tags":["java","variables","methods","binary","extends"],"comments":[{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1633460464,"post_id":69455906,"comment_id":122764512,"body_markdown":"To &quot;use an integer from another method&quot; you need to pass the integer as a function/method argument. The easiest way is to declare length as `public static void length(int binary)` then call it from`calculations` with `length(binary)`. Note, you&#39;ll likely want to return a value from your `length` method since it doesn&#39;t really do anything as it is. Also, `String.valueOf` returns a string and not an `int`.","body":"To &quot;use an integer from another method&quot; you need to pass the integer as a function/method argument. The easiest way is to declare length as <code>public static void length(int binary)</code> then call it from<code>calculations</code> with <code>length(binary)</code>. Note, you&#39;ll likely want to return a value from your <code>length</code> method since it doesn&#39;t really do anything as it is. Also, <code>String.valueOf</code> returns a string and not an <code>int</code>."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1633460678,"post_id":69455906,"comment_id":122764583,"body_markdown":"You have a few issues with your code. Note that even though you may enter binary into `scan.nextInt()`, the entered data is already in base10 decimal form, since that is how `nextInt()` is interpreting the entered data. That said, it isn&#39;t clear what you are actually trying to do. Can you please provide example input and desired output?","body":"You have a few issues with your code. Note that even though you may enter binary into <code>scan.nextInt()</code>, the entered data is already in base10 decimal form, since that is how <code>nextInt()</code> is interpreting the entered data. That said, it isn&#39;t clear what you are actually trying to do. Can you please provide example input and desired output?"}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633460778,"creation_date":1633460778,"answer_id":69456002,"question_id":69455906,"body_markdown":"&gt;but I cannot access the int binary in another method. \r\n\r\nBecause it does not exist.  \r\n\r\n&#39;binary&#39; is declared as local in the `calculations&#39; method. It ceases to exist when that method returns.\r\n\r\nThe fact that you can&#39;t mention its name outside the method reflects its non-existence outside the method; the technical term is &#39;scope&#39;.\r\n\r\nIf you want &#39;binary&#39; to have a lifetime beyond the method, you could declare it as a class or instance variable.  Add\r\n\r\n    static int binary;\r\n\r\noutside any method, and turn the existing declaration of binary into a simple assignment.\r\n\r\n    binary = scan.nextInt();","title":"How to use a Integer from another method","body":"<blockquote>\n<p>but I cannot access the int binary in another method.</p>\n</blockquote>\n<p>Because it does not exist.</p>\n<p>'binary' is declared as local in the `calculations' method. It ceases to exist when that method returns.</p>\n<p>The fact that you can't mention its name outside the method reflects its non-existence outside the method; the technical term is 'scope'.</p>\n<p>If you want 'binary' to have a lifetime beyond the method, you could declare it as a class or instance variable.  Add</p>\n<pre><code>static int binary;\n</code></pre>\n<p>outside any method, and turn the existing declaration of binary into a simple assignment.</p>\n<pre><code>binary = scan.nextInt();\n</code></pre>\n"}],"owner":{"account_id":22928610,"reputation":1,"user_id":17063294,"display_name":"CodingAdrian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633460778,"creation_date":1633460323,"question_id":69455906,"body_markdown":"```\r\npackage BinaryCode;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        calculations();\r\n\r\n    }\r\n\r\n    public static int calculations(){\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your binary&quot;);\r\n\r\n        int binary = scan.nextInt();\r\n        int shift = 0;\r\n        int dec = 0;\r\n        int rest = 0;\r\n\r\n        while(binary!= 0){\r\n\r\n            rest = binary%10;\r\n            dec = dec+(int)(rest*(Math.pow(2, shift)));\r\n            binary = binary/10;\r\n            shift = shift+1;\r\n\r\n        }\r\n\r\n        System.out.println(dec);\r\n\r\n        return binary;\r\n    }\r\n    public static void length (){\r\n\r\n        int length = String.valueOf(binary);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nSo I am a beginner and I tried to program a converter that converts binary code to a decimal number. That worked well now I want to limit the length of the binary number, but I cannot access the int binary in another method. If I put it in the main method, there is also no access. Outside of all methods, in the class I somehow can&#39;t save any changes(if the value changes). I would greatly appreciate any help and I&#39;m sorry for my poor English.\r\n","title":"How to use a Integer from another method","body":"<pre><code>package BinaryCode;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args){\n\n        calculations();\n\n    }\n\n    public static int calculations(){\n\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter your binary&quot;);\n\n        int binary = scan.nextInt();\n        int shift = 0;\n        int dec = 0;\n        int rest = 0;\n\n        while(binary!= 0){\n\n            rest = binary%10;\n            dec = dec+(int)(rest*(Math.pow(2, shift)));\n            binary = binary/10;\n            shift = shift+1;\n\n        }\n\n        System.out.println(dec);\n\n        return binary;\n    }\n    public static void length (){\n\n        int length = String.valueOf(binary);\n\n    }\n\n\n}\n\n</code></pre>\n<p>So I am a beginner and I tried to program a converter that converts binary code to a decimal number. That worked well now I want to limit the length of the binary number, but I cannot access the int binary in another method. If I put it in the main method, there is also no access. Outside of all methods, in the class I somehow can't save any changes(if the value changes). I would greatly appreciate any help and I'm sorry for my poor English.</p>\n"},{"tags":["java","apache-beam","value-provider","apache-beam-kafkaio"],"comments":[{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1633125540,"post_id":69411670,"comment_id":122686222,"body_markdown":"Is there a reason you&#39;re trying to use ValueProvider?","body":"Is there a reason you&#39;re trying to use ValueProvider?"},{"owner":{"account_id":8383230,"reputation":57,"user_id":6294462,"display_name":"thatGuy"},"score":0,"creation_date":1633442712,"post_id":69411670,"comment_id":122757369,"body_markdown":"I want to get the values of some parameters during the runtime from the command instead of fetching those information from a file","body":"I want to get the values of some parameters during the runtime from the command instead of fetching those information from a file"}],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633460353,"creation_date":1633460353,"answer_id":69455912,"question_id":69411670,"body_markdown":"ValueProviders only work for transforms (including sources) that have plumbed support for them.  They are only needed for legacy Dataflow templates. Generally one can use concrete values for pipeline options (e.g. `String getKafkaServer()`) which can be passed at pipeline startup. If one wants to defer this selection to template instantiation time, use [flex templates][1].\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates","title":"KafkaIO withBootStrapServers","body":"<p>ValueProviders only work for transforms (including sources) that have plumbed support for them.  They are only needed for legacy Dataflow templates. Generally one can use concrete values for pipeline options (e.g. <code>String getKafkaServer()</code>) which can be passed at pipeline startup. If one wants to defer this selection to template instantiation time, use <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates\" rel=\"nofollow noreferrer\">flex templates</a>.</p>\n"}],"owner":{"account_id":8383230,"reputation":57,"user_id":6294462,"display_name":"thatGuy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69455912,"answer_count":1,"score":0,"last_activity_date":1633460353,"creation_date":1633120072,"question_id":69411670,"body_markdown":"I am trying to get a server ID as a parameter while executing the run command using ValueProvider\r\n\r\nFor the Value Provider in Options Interface:\r\n```\r\nValueProvider&lt;String&gt; getKafkaServer();\r\n    void setKafkaServer(ValueProvider&lt;String&gt; value);\r\n```\r\nwithBootstrapServers throws the error &quot;incompatible types: org.apache.beam.sdk.options.ValueProvider cannot be converted to java.lang.String&quot;\r\n```\r\nPCollection&lt;String&gt; kafkaMessages = p\r\n\t\t\t\t.apply(&quot;Read from Kafka&quot;, KafkaIO.&lt;Long, String&gt;read()\r\n\t\t\t\t\t\t.withBootstrapServers(options.getBootstrapServers())\r\n```\r\n[This answer](https://stackoverflow.com/questions/54510181/how-to-fix-incompatible-types-org-apache-beam-sdk-options-valueproviderjava-l) suggests to use options.getBootstrapServers().get() but that generates the following error\r\n```\r\n[ERROR] - Expected getter for property [getbootstrapServers] of type [org.apache.beam.sdk.options.ValueProvider]\r\n[ERROR] - Expected setter for property [bootstrapServers] of type [org.apache.beam.sdk.options.ValueProvider]\r\n```\r\nAny help to resolve this is much appreciated\r\n\r\n","title":"KafkaIO withBootStrapServers","body":"<p>I am trying to get a server ID as a parameter while executing the run command using ValueProvider</p>\n<p>For the Value Provider in Options Interface:</p>\n<pre><code>ValueProvider&lt;String&gt; getKafkaServer();\n    void setKafkaServer(ValueProvider&lt;String&gt; value);\n</code></pre>\n<p>withBootstrapServers throws the error &quot;incompatible types: org.apache.beam.sdk.options.ValueProvider cannot be converted to java.lang.String&quot;</p>\n<pre><code>PCollection&lt;String&gt; kafkaMessages = p\n                .apply(&quot;Read from Kafka&quot;, KafkaIO.&lt;Long, String&gt;read()\n                        .withBootstrapServers(options.getBootstrapServers())\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/54510181/how-to-fix-incompatible-types-org-apache-beam-sdk-options-valueproviderjava-l\">This answer</a> suggests to use options.getBootstrapServers().get() but that generates the following error</p>\n<pre><code>[ERROR] - Expected getter for property [getbootstrapServers] of type [org.apache.beam.sdk.options.ValueProvider]\n[ERROR] - Expected setter for property [bootstrapServers] of type [org.apache.beam.sdk.options.ValueProvider]\n</code></pre>\n<p>Any help to resolve this is much appreciated</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633459143,"post_id":69455527,"comment_id":122764038,"body_markdown":"What is your content type header in the headers tab?","body":"What is your content type header in the headers tab?"},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1633459527,"post_id":69455527,"comment_id":122764166,"body_markdown":"Content-Type: &quot;application/xml&quot;","body":"Content-Type: &quot;application/xml&quot;"},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633459573,"post_id":69455527,"comment_id":122764182,"body_markdown":"Is that 100% the right URL?","body":"Is that 100% the right URL?"},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1633459616,"post_id":69455527,"comment_id":122764198,"body_markdown":"yes. ill post pics of the code...","body":"yes. ill post pics of the code..."},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1633460270,"post_id":69455527,"comment_id":122764429,"body_markdown":"added images and the web.xml @ErmiyaEskandary","body":"added images and the web.xml @ErmiyaEskandary"},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633460919,"post_id":69455527,"comment_id":122764668,"body_markdown":"Please replace them with text as its much easier to copy paste etc. - thank you","body":"Please replace them with text as its much easier to copy paste etc. - thank you"},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1633460992,"post_id":69455527,"comment_id":122764698,"body_markdown":"ill make it more simple. I am using https://learning.oreilly.com/library/view/restful-java-with/9780596809300/ch03.html as a reference. @ErmiyaEskandary","body":"ill make it more simple. I am using <a href=\"https://learning.oreilly.com/library/view/restful-java-with/9780596809300/ch03.html\" rel=\"nofollow noreferrer\">learning.oreilly.com/library/view/restful-java-with/&hellip;</a> as a reference. @ErmiyaEskandary"}],"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633460239,"creation_date":1633458391,"question_id":69455527,"body_markdown":"This is the post method...      \r\n\r\n       @POST\r\n       @Consumes(&quot;application/xml&quot;)\r\n       public Response createCustomer(Customer customer) {\r\n          customer.setId(idCounter.incrementAndGet());\r\n          customerDB.put(customer.getId(), customer);\r\n          System.out.println(&quot;Created customer &quot; + customer.getId());\r\n          return Response.created(URI.create(&quot;/customers/&quot; + customer.getId())).build();\r\n       }\r\n\r\nI am not getting any logs to view in Netbeans or the server (Glassfish).\r\n\r\nThis is what I am sending..\r\n\r\n    &lt;customer&gt;&lt;first-name&gt;Bill&lt;/first-name&gt;&lt;last-name&gt;Burke&lt;/last-name&gt;&lt;street&gt;256 Clarendon Street&lt;/street&gt;&lt;city&gt;Boston&lt;/city&gt;&lt;state&gt;MA&lt;/state&gt;&lt;zip&gt;02115&lt;/zip&gt;&lt;country&gt;USA&lt;/country&gt;&lt;/customer&gt;\r\n\r\n\r\nWhat is causing the 415? Im confused.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nPicture of the application class...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPicture of the customer\r\n[![enter image description here][3]][3]\r\n\r\nI can confirm, also, that `System.out.println(&quot;Customer Resource is created.&quot;);` get printed.\r\n\r\nAlso, here is the web.xml file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \t version=&quot;3.1&quot;&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/brJW9.png\r\n  [2]: https://i.stack.imgur.com/tmkZw.png\r\n  [3]: https://i.stack.imgur.com/4zkzn.png","title":"POST returns a 415. REST webapp in NetBeans","body":"<p>This is the post method...</p>\n<pre><code>   @POST\n   @Consumes(&quot;application/xml&quot;)\n   public Response createCustomer(Customer customer) {\n      customer.setId(idCounter.incrementAndGet());\n      customerDB.put(customer.getId(), customer);\n      System.out.println(&quot;Created customer &quot; + customer.getId());\n      return Response.created(URI.create(&quot;/customers/&quot; + customer.getId())).build();\n   }\n</code></pre>\n<p>I am not getting any logs to view in Netbeans or the server (Glassfish).</p>\n<p>This is what I am sending..</p>\n<pre><code>&lt;customer&gt;&lt;first-name&gt;Bill&lt;/first-name&gt;&lt;last-name&gt;Burke&lt;/last-name&gt;&lt;street&gt;256 Clarendon Street&lt;/street&gt;&lt;city&gt;Boston&lt;/city&gt;&lt;state&gt;MA&lt;/state&gt;&lt;zip&gt;02115&lt;/zip&gt;&lt;country&gt;USA&lt;/country&gt;&lt;/customer&gt;\n</code></pre>\n<p>What is causing the 415? Im confused.</p>\n<p><a href=\"https://i.stack.imgur.com/brJW9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/brJW9.png\" alt=\"enter image description here\" /></a></p>\n<p>Picture of the application class...</p>\n<p><a href=\"https://i.stack.imgur.com/tmkZw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tmkZw.png\" alt=\"enter image description here\" /></a></p>\n<p>Picture of the customer\n<a href=\"https://i.stack.imgur.com/4zkzn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4zkzn.png\" alt=\"enter image description here\" /></a></p>\n<p>I can confirm, also, that <code>System.out.println(&quot;Customer Resource is created.&quot;);</code> get printed.</p>\n<p>Also, here is the web.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n     version=&quot;3.1&quot;&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634228853,"post_id":69455784,"comment_id":122975030,"body_markdown":"can you put full stacktrace and can you put a reproducer to github ?","body":"can you put full stacktrace and can you put a reproducer to github ?"},{"owner":{"account_id":15472039,"reputation":11,"user_id":11161786,"display_name":"DDD"},"score":0,"creation_date":1636385987,"post_id":69455784,"comment_id":123536268,"body_markdown":"@&#246;zkanpakdil.. Below is the link.. Please have a look\nhttps://github.com/sajid3211/Staceow_-/blob/main/TLS","body":"@&#246;zkanpakdil.. Below is the link.. Please have a look <a href=\"https://github.com/sajid3211/Staceow_-/blob/main/TLS\" rel=\"nofollow noreferrer\">github.com/sajid3211/Staceow_-/blob/main/TLS</a>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1636393067,"post_id":69455784,"comment_id":123539323,"body_markdown":"that log does not look like the full picture. what is your SSL configuration, which protocol which algorithm, and what java version, please provide more details, if you are trying to use old sslv3 you may need to https://stackoverflow.com/a/38434933/175554","body":"that log does not look like the full picture. what is your SSL configuration, which protocol which algorithm, and what java version, please provide more details, if you are trying to use old sslv3 you may need to <a href=\"https://stackoverflow.com/a/38434933/175554\">stackoverflow.com/a/38434933/175554</a>"},{"owner":{"account_id":15472039,"reputation":11,"user_id":11161786,"display_name":"DDD"},"score":0,"creation_date":1636470061,"post_id":69455784,"comment_id":123562152,"body_markdown":"Those are full logs, I have sanitized these that&#39;s it. We dont need to use old sslv3, We intend to use TLSv1.2","body":"Those are full logs, I have sanitized these that&#39;s it. We dont need to use old sslv3, We intend to use TLSv1.2"},{"owner":{"account_id":15472039,"reputation":11,"user_id":11161786,"display_name":"DDD"},"score":0,"creation_date":1636470970,"post_id":69455784,"comment_id":123562564,"body_markdown":"openssl s_client -connect server1:1234 -cert /tmp/sk/host_ECDSA.pem  -key /tmp/sk/host_ECDSA.key -CAfile /tmp/sk/ECDSA_Server.cer\nThis&#39;s the command","body":"openssl s_client -connect server1:1234 -cert /tmp/sk/host_ECDSA.pem  -key /tmp/sk/host_ECDSA.key -CAfile /tmp/sk/ECDSA_Server.cer This&#39;s the command"}],"owner":{"account_id":15472039,"reputation":11,"user_id":11161786,"display_name":"DDD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633459764,"creation_date":1633459764,"question_id":69455784,"body_markdown":"We are enabling 2-way SSL and using ECDSA certificates. Our application uses SSLServerSocket which is enabled for 2 -way SSL.\r\n    sslSocket.setNeedClientAuth(true);\r\n\r\nI see TLS handshake failing everytime at ***READ ClientKeyExchange ECDH ( I tested using openssl  s_client -connect .. )\r\n    ***SEND Alert Fatal, Unexpected Message\r\n    ***ENCRYPT: Plaintext (2): [ \r\n      0000: 02 0a                                           [..              ]\r\n     ]\r\n    ***ENCRYPT: Ciphertext (2): [ \r\n     0000: 02 0a                                           [..              ]\r\n     ]\r\n\r\nThe above is obtained after enabling -Djavax.net.debug=all\r\nCipher suite agreed is TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n\r\nAny leads on what could be the issue here?\r\n\r\nAlert Fatal, Unexpected Message is very generic. Can we get a detailed message than this?\r\nThe java security provider used is \r\n    security.provider.1=com.rsa.jsafe.provider.JsafeJCE\r\n\r\nThanks","title":"TLS handshake fails at ClientKeyExchange ECDH","body":"<p>We are enabling 2-way SSL and using ECDSA certificates. Our application uses SSLServerSocket which is enabled for 2 -way SSL.\nsslSocket.setNeedClientAuth(true);</p>\n<p>I see TLS handshake failing everytime at ***READ ClientKeyExchange ECDH ( I tested using openssl  s_client -connect .. )\n***SEND Alert Fatal, Unexpected Message\n***ENCRYPT: Plaintext (2): [\n0000: 02 0a                                           [..              ]\n]\n***ENCRYPT: Ciphertext (2): [\n0000: 02 0a                                           [..              ]\n]</p>\n<p>The above is obtained after enabling -Djavax.net.debug=all\nCipher suite agreed is TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</p>\n<p>Any leads on what could be the issue here?</p>\n<p>Alert Fatal, Unexpected Message is very generic. Can we get a detailed message than this?\nThe java security provider used is\nsecurity.provider.1=com.rsa.jsafe.provider.JsafeJCE</p>\n<p>Thanks</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":3019348,"reputation":910,"user_id":2560750,"accept_rate":0,"display_name":"cyril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633459715,"creation_date":1633074332,"answer_id":69402270,"question_id":68802903,"body_markdown":"You have to add custom codec following your mongodb implementation.\r\n\r\nSee this\r\n\r\nhttp://mongodb.github.io/mongo-java-driver/4.3/bson/codecs/","title":"Cannot serialize mongo integer data to enum in object document","body":"<p>You have to add custom codec following your mongodb implementation.</p>\n<p>See this</p>\n<p><a href=\"http://mongodb.github.io/mongo-java-driver/4.3/bson/codecs/\" rel=\"nofollow noreferrer\">http://mongodb.github.io/mongo-java-driver/4.3/bson/codecs/</a></p>\n"}],"owner":{"account_id":22479776,"reputation":43,"user_id":16679004,"display_name":"notShehanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633459715,"creation_date":1629117185,"question_id":68802903,"body_markdown":"\r\nI&#39;m trying to retrieve documents from Mongo DB. The documents received well when the Gender attribute is not included. But when it&#39;s included an error occurs.\r\n\r\nHere is my function to retrieve the person documents from Mongo\r\n\r\n```\r\nprivate List&lt;Person&gt; getPersons()\r\n{\r\n\t// Query to get person list\r\n\r\n\t// Loop through person list\r\n\tfor (Person person : personList) {\r\n\t\t// Some condition checking\r\n\t\tfilteredPersonList.add(person);\r\n\t}\r\n\treturn filteredPersonList;\r\n}\r\n```\r\n\r\nHere is my Person class\r\n```\r\npublic class Person {\r\n  @BsonProperty(&quot;firstName&quot;)\r\n  @JSONField(&quot;firstName&quot;)\r\n  public String FirstName\r\n\r\n  @BsonProperty(&quot;lastName&quot;)\r\n  @JSONField(&quot;lastName&quot;)\r\n  public String LastName\r\n\r\n  @BsonProperty(&quot;gender&quot;)\r\n  @JSONField(&quot;gender&quot;)\r\n  public Gender Gender\r\n\r\n  @BsonProperty(&quot;isMarried&quot;)\r\n  @JSONField(&quot;isMarried&quot;)\r\n  public Boolean IsMarried\r\n}\r\n```\r\n\r\nHere is the Gender enum for the Gender property\r\n\r\n```\r\n@JSONType(serializeEnumAsJavaBean = true)\r\npublic enum Gender {\r\n  Male(0),\r\n  Female(1),\r\n  ;\r\n  private final int type;\r\n\r\n  Gender (int type) {\r\n    this.type = type;\r\n  }\r\n\r\n  public int getType() {\r\n    return type;\r\n  }\r\n}\r\n```\r\n\r\n\r\nThis is the error I get\r\n\r\n```\r\n org.bson.codecs.configuration.CodecConfigurationException: Failed to decode &#39;Person&#39;. Decoding &#39;gender&#39; errored with: readString can only be called when CurrentBSONType is STRING, not when CurrentBSONType is INT32.A custom Codec or PojoCodec may need to be explicitly configured and registered to handle this type. \r\nat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:224)\r\nat org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:197)\r\nat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:121)\r\nat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:125)\r\nat org.bson.codecs.pojo.LazyPojoCodec.decode(LazyPojoCodec.java:57)\r\nat org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\r\nat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:218)\r\n\t... 58 more\r\n```\r\n\r\nIn Mongo DB, the type of the gender property is INT32.","title":"Cannot serialize mongo integer data to enum in object document","body":"<p>I'm trying to retrieve documents from Mongo DB. The documents received well when the Gender attribute is not included. But when it's included an error occurs.</p>\n<p>Here is my function to retrieve the person documents from Mongo</p>\n<pre><code>private List&lt;Person&gt; getPersons()\n{\n    // Query to get person list\n\n    // Loop through person list\n    for (Person person : personList) {\n        // Some condition checking\n        filteredPersonList.add(person);\n    }\n    return filteredPersonList;\n}\n</code></pre>\n<p>Here is my Person class</p>\n<pre><code>public class Person {\n  @BsonProperty(&quot;firstName&quot;)\n  @JSONField(&quot;firstName&quot;)\n  public String FirstName\n\n  @BsonProperty(&quot;lastName&quot;)\n  @JSONField(&quot;lastName&quot;)\n  public String LastName\n\n  @BsonProperty(&quot;gender&quot;)\n  @JSONField(&quot;gender&quot;)\n  public Gender Gender\n\n  @BsonProperty(&quot;isMarried&quot;)\n  @JSONField(&quot;isMarried&quot;)\n  public Boolean IsMarried\n}\n</code></pre>\n<p>Here is the Gender enum for the Gender property</p>\n<pre><code>@JSONType(serializeEnumAsJavaBean = true)\npublic enum Gender {\n  Male(0),\n  Female(1),\n  ;\n  private final int type;\n\n  Gender (int type) {\n    this.type = type;\n  }\n\n  public int getType() {\n    return type;\n  }\n}\n</code></pre>\n<p>This is the error I get</p>\n<pre><code> org.bson.codecs.configuration.CodecConfigurationException: Failed to decode 'Person'. Decoding 'gender' errored with: readString can only be called when CurrentBSONType is STRING, not when CurrentBSONType is INT32.A custom Codec or PojoCodec may need to be explicitly configured and registered to handle this type. \nat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:224)\nat org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:197)\nat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:121)\nat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:125)\nat org.bson.codecs.pojo.LazyPojoCodec.decode(LazyPojoCodec.java:57)\nat org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\nat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:218)\n    ... 58 more\n</code></pre>\n<p>In Mongo DB, the type of the gender property is INT32.</p>\n"},{"tags":["java","spring-boot","infinispan"],"comments":[{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1633704095,"post_id":69452840,"comment_id":122838377,"body_markdown":"Seems to me, that usage of collections isn&#39;t supported there. There is no `setParameterList` method nor does the method throwing the exception - `ConstantValueExpr.getConstantValueAs` - cover collections at all. So the best thing I can think of for now is converting your arrayList into a string and inject it into the query directly. Of course, in JPA, this would be regarded a smell, but if there&#39;s no other choice...","body":"Seems to me, that usage of collections isn&#39;t supported there. There is no <code>setParameterList</code> method nor does the method throwing the exception - <code>ConstantValueExpr.getConstantValueAs</code> - cover collections at all. So the best thing I can think of for now is converting your arrayList into a string and inject it into the query directly. Of course, in JPA, this would be regarded a smell, but if there&#39;s no other choice..."},{"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"score":0,"creation_date":1633848523,"post_id":69452840,"comment_id":122866257,"body_markdown":"Yes this is bad practice but I guess it is the only option. Thank you","body":"Yes this is bad practice but I guess it is the only option. Thank you"},{"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"score":0,"creation_date":1635080610,"post_id":69452840,"comment_id":123194243,"body_markdown":"When I try to convert a list of Integers to string with commas, there is NumberFromatException. Is there anyway to use ‘in’ on list of values that are not Strings?","body":"When I try to convert a list of Integers to string with commas, there is NumberFromatException. Is there anyway to use ‘in’ on list of values that are not Strings?"}],"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633459566,"creation_date":1633445969,"question_id":69452840,"body_markdown":"I am trying to query my infinispan cache (version 12.1.7) using &#39;in&#39; like so:\r\n\r\n```java\r\nQuery&lt;Foo&gt; query = qf.create(&quot;from com.test.app.Foo where id in :ids&quot;)\r\nquery.setParameter(&quot;ids&quot;, idsArrayList) // idsArrayList is an array of string ids\r\n```\r\n\r\nbut when i run my application i get an error saying &#39;:&#39; is not allowed.\r\n\r\nI also tried using `(:ids)` like so:\r\n\r\n```java\r\nQuery&lt;Foo&gt; query = qf.create(&quot;from com.test.app.Foo where id in (:ids)&quot;)\r\n```\r\n\r\nbut now the error is `java.util.Arrays$ArrayList cannot be cast to java.lang.Comparable`.\r\n\r\nI can&#39;t find any information about this beside the documentation itself but it is not very allaborated so I would love some help.","title":"how to use &#39;in&#39; operator in infinispan query with parameters","body":"<p>I am trying to query my infinispan cache (version 12.1.7) using 'in' like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query&lt;Foo&gt; query = qf.create(&quot;from com.test.app.Foo where id in :ids&quot;)\nquery.setParameter(&quot;ids&quot;, idsArrayList) // idsArrayList is an array of string ids\n</code></pre>\n<p>but when i run my application i get an error saying ':' is not allowed.</p>\n<p>I also tried using <code>(:ids)</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query&lt;Foo&gt; query = qf.create(&quot;from com.test.app.Foo where id in (:ids)&quot;)\n</code></pre>\n<p>but now the error is <code>java.util.Arrays$ArrayList cannot be cast to java.lang.Comparable</code>.</p>\n<p>I can't find any information about this beside the documentation itself but it is not very allaborated so I would love some help.</p>\n"},{"tags":["java","bytecode"],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633459443,"creation_date":1633459443,"answer_id":69455712,"question_id":69455383,"body_markdown":"Yes, it&#39;s because they are double. In [Java Virtual Machine Specification](https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-2.html) section 2.6.1 Local variables you can read:\r\n\r\nA single local variable can hold a value of type boolean, byte, char, short, int, float, reference, or returnAddress. A pair of local variables can hold a value of type long or double. ","title":"Java bytecode - Why is offset being skipped?","body":"<p>Yes, it's because they are double. In <a href=\"https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-2.html\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a> section 2.6.1 Local variables you can read:</p>\n<p>A single local variable can hold a value of type boolean, byte, char, short, int, float, reference, or returnAddress. A pair of local variables can hold a value of type long or double.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633459552,"creation_date":1633459552,"answer_id":69455741,"question_id":69455383,"body_markdown":"According to the [JVM spec][1] (emphasis mine):\r\n\r\n&gt; Local variables are addressed by indexing. The index of the first\r\n&gt; local variable is zero. An integer is considered to be an index into\r\n&gt; the local variable array if and only if that integer is between zero\r\n&gt; and one less than the size of the local variable array.\r\n&gt; \r\n&gt; *A value of type `long` or type `double` occupies two consecutive local\r\n&gt; variables.* Such a value may only be addressed using the lesser index.\r\n&gt; For example, a value of type double stored in the local variable array\r\n&gt; at index n actually occupies the local variables with indices n and\r\n&gt; n+1; however, the local variable at index n+1 cannot be loaded from.\r\n\r\nIt is not that indices 2 and 4 are not used. It&#39;s just that `param` and `d` are `double`s and they occupy 2 spaces each.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-2.html#jvms-2.6.1","title":"Java bytecode - Why is offset being skipped?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-2.html#jvms-2.6.1\" rel=\"nofollow noreferrer\">JVM spec</a> (emphasis mine):</p>\n<blockquote>\n<p>Local variables are addressed by indexing. The index of the first\nlocal variable is zero. An integer is considered to be an index into\nthe local variable array if and only if that integer is between zero\nand one less than the size of the local variable array.</p>\n<p><em>A value of type <code>long</code> or type <code>double</code> occupies two consecutive local\nvariables.</em> Such a value may only be addressed using the lesser index.\nFor example, a value of type double stored in the local variable array\nat index n actually occupies the local variables with indices n and\nn+1; however, the local variable at index n+1 cannot be loaded from.</p>\n</blockquote>\n<p>It is not that indices 2 and 4 are not used. It's just that <code>param</code> and <code>d</code> are <code>double</code>s and they occupy 2 spaces each.</p>\n"}],"owner":{"account_id":5095155,"reputation":504,"user_id":4086770,"accept_rate":43,"display_name":"hnnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69455741,"answer_count":2,"score":1,"last_activity_date":1633459552,"creation_date":1633457614,"question_id":69455383,"body_markdown":"I have this very simple class\r\n\r\n```\r\npublic class TestImpl2 {\r\n    public TestImpl2() {\r\n    }\r\n\r\n    public double run(double param) {\r\n        double d = 7.0D;\r\n        double k = 4.0D;\r\n        if (param &lt; k) {\r\n            System.out.println(d);\r\n        }\r\n\r\n        return 0.0D;\r\n    }\r\n}\r\n```\r\n\r\nThat i compiled with javac and then decompiled with javap to see its bytecode. \r\n\r\n         0: ldc2_w        #14                 // double 7.0d\r\n         3: dstore_3\r\n         4: ldc2_w        #16                 // double 4.0d\r\n         7: dstore        5\r\n         9: dload_1\r\n        10: dload         5\r\n        12: dcmpg\r\n        13: ifge          23\r\n        16: getstatic     #23                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        19: dload_3\r\n        20: invokevirtual #29                 // Method java/io/PrintStream.println:(D)V\r\n        23: dconst_0\r\n        24: dreturn\r\n\r\nLets check offsets \r\n\r\n0 - is reserved for &quot;this&quot; reference\r\n\r\n1 - is the method parameter\r\n\r\n2 - skipped ? \r\n\r\n3 - variable &quot;d&quot;\r\n\r\n4 - skipped ? \r\n\r\n5 - variable &quot;k&quot;\r\n\r\nWhy were offsets 2 and 4 skipped? Is it because method param, d and k are doubles or is it something completly else?","title":"Java bytecode - Why is offset being skipped?","body":"<p>I have this very simple class</p>\n<pre><code>public class TestImpl2 {\n    public TestImpl2() {\n    }\n\n    public double run(double param) {\n        double d = 7.0D;\n        double k = 4.0D;\n        if (param &lt; k) {\n            System.out.println(d);\n        }\n\n        return 0.0D;\n    }\n}\n</code></pre>\n<p>That i compiled with javac and then decompiled with javap to see its bytecode.</p>\n<pre><code>     0: ldc2_w        #14                 // double 7.0d\n     3: dstore_3\n     4: ldc2_w        #16                 // double 4.0d\n     7: dstore        5\n     9: dload_1\n    10: dload         5\n    12: dcmpg\n    13: ifge          23\n    16: getstatic     #23                 // Field java/lang/System.out:Ljava/io/PrintStream;\n    19: dload_3\n    20: invokevirtual #29                 // Method java/io/PrintStream.println:(D)V\n    23: dconst_0\n    24: dreturn\n</code></pre>\n<p>Lets check offsets</p>\n<p>0 - is reserved for &quot;this&quot; reference</p>\n<p>1 - is the method parameter</p>\n<p>2 - skipped ?</p>\n<p>3 - variable &quot;d&quot;</p>\n<p>4 - skipped ?</p>\n<p>5 - variable &quot;k&quot;</p>\n<p>Why were offsets 2 and 4 skipped? Is it because method param, d and k are doubles or is it something completly else?</p>\n"},{"tags":["java","testing","slack","slack-api"],"owner":{"account_id":17148688,"reputation":73,"user_id":12411107,"display_name":"Allan P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1633458749,"creation_date":1633458749,"question_id":69455581,"body_markdown":"I&#39;m building a Java slack bot using the bolt-java-sdk.\r\n\r\nThe application is working fine however I would like to add tests to verify everything works before pushing to production.\r\n\r\nThe SDK is not quite clear enough for me to figure out a way to set up the tests, for example to send a slash command event to the application and then confirming the correct response is returned.\r\n\r\nCan anyone please help me out?","title":"Testing Slack bots built with Bolt SDK","body":"<p>I'm building a Java slack bot using the bolt-java-sdk.</p>\n<p>The application is working fine however I would like to add tests to verify everything works before pushing to production.</p>\n<p>The SDK is not quite clear enough for me to figure out a way to set up the tests, for example to send a slash command event to the application and then confirming the correct response is returned.</p>\n<p>Can anyone please help me out?</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1633457463,"post_id":69455305,"comment_id":122763549,"body_markdown":"I suggest you step away from the code for a minute and describe the problem you are trying to solve. When a user runs this program, what does it do? What will the user see on the screen? What actions can they take? What are the results of those actions? Notice that all of these questions should be answered in terms of what the input and output should be. There is nothing at this level about loops.","body":"I suggest you step away from the code for a minute and describe the problem you are trying to solve. When a user runs this program, what does it do? What will the user see on the screen? What actions can they take? What are the results of those actions? Notice that all of these questions should be answered in terms of what the input and output should be. There is nothing at this level about loops."},{"owner":{"account_id":22951251,"reputation":23,"user_id":17082496,"display_name":"new001"},"score":0,"creation_date":1633457579,"post_id":69455305,"comment_id":122763581,"body_markdown":"actually i need to loop plustime and result like the below","body":"actually i need to loop plustime and result like the below"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633458147,"post_id":69455305,"comment_id":122763727,"body_markdown":"Do you want to print the results or store them in a `Collection` or array?","body":"Do you want to print the results or store them in a <code>Collection</code> or array?"}],"answers":[{"tags":[],"owner":{"account_id":22951053,"reputation":175,"user_id":17082325,"display_name":"iggi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633458674,"creation_date":1633457915,"answer_id":69455436,"question_id":69455305,"body_markdown":"You can try this, but i dont know how to make it in format with AM/PM\r\n\r\n    import java.time.LocalTime;\r\n    \r\n    class Main {  \r\n      public static void main(String args[]) { \r\n        final int count=3;\r\n    \tLocalTime time= LocalTime.of(10, 30);\r\n    \r\n        for (int i = 0; i &lt; count; i++) {\r\n            System.out.println(time);\r\n    \t\ttime = time.plusMinutes(30);\r\n        }\r\n      } \r\n    }\r\n\r\nOutput:\r\n\r\n    10:30\r\n    11:00\r\n    11:30\r\n\r\n**UPDATE**\r\n\r\nYou can use DateTimeFormater to display time like you need:\r\n\r\n    import java.time.LocalTime;\r\n    import java.time.format.*;\r\n    class Main {  \r\n      public static void main(String args[]) { \r\n        final int count=10;\r\n    \tDateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\r\n    \tLocalTime time= LocalTime.parse(&quot;10:00 AM&quot;, fmt);\r\n        for (int i = 0; i &lt; count; i++) {\r\n            System.out.println(fmt.format(time));\r\n    \t\ttime = time.plusMinutes(30);\r\n        }\r\n      } \r\n    }\r\n\r\nOutput:\r\n\r\n    10:00 AM\r\n    10:30 AM\r\n    11:00 AM\r\n    11:30 AM\r\n    12:00 PM\r\n    12:30 PM\r\n    01:00 PM\r\n    01:30 PM\r\n    02:00 PM\r\n    02:30 PM","title":"how to loop to given time in java","body":"<p>You can try this, but i dont know how to make it in format with AM/PM</p>\n<pre><code>import java.time.LocalTime;\n\nclass Main {  \n  public static void main(String args[]) { \n    final int count=3;\n    LocalTime time= LocalTime.of(10, 30);\n\n    for (int i = 0; i &lt; count; i++) {\n        System.out.println(time);\n        time = time.plusMinutes(30);\n    }\n  } \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>10:30\n11:00\n11:30\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>You can use DateTimeFormater to display time like you need:</p>\n<pre><code>import java.time.LocalTime;\nimport java.time.format.*;\nclass Main {  \n  public static void main(String args[]) { \n    final int count=10;\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\n    LocalTime time= LocalTime.parse(&quot;10:00 AM&quot;, fmt);\n    for (int i = 0; i &lt; count; i++) {\n        System.out.println(fmt.format(time));\n        time = time.plusMinutes(30);\n    }\n  } \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>10:00 AM\n10:30 AM\n11:00 AM\n11:30 AM\n12:00 PM\n12:30 PM\n01:00 PM\n01:30 PM\n02:00 PM\n02:30 PM\n</code></pre>\n"}],"owner":{"account_id":22951251,"reputation":23,"user_id":17082496,"display_name":"new001"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1633459648,"answer_count":1,"score":-4,"last_activity_date":1633458674,"creation_date":1633457213,"question_id":69455305,"body_markdown":"im going to loop my time under for loop, please let me know why to correct this.\r\n\r\n    count=3;\r\n    Integer timefirst= 30;\r\n    LocalTime actime= 10.30 AM;\r\n    LocalTime plustime=actime.plusMinutes(timefirst);;\r\n\r\n\t\tfor (int i = 0; i &lt; count; i++) {\r\n\t\t\t\t//how to use LocalTime  under this loop\r\n\t\t\t}\r\n\r\ni actully need result is : \r\n\r\n    10.30 am\r\n    11.00 am\r\n    11.30 am\r\n\r\n","title":"how to loop to given time in java","body":"<p>im going to loop my time under for loop, please let me know why to correct this.</p>\n<pre><code>count=3;\nInteger timefirst= 30;\nLocalTime actime= 10.30 AM;\nLocalTime plustime=actime.plusMinutes(timefirst);;\n\n    for (int i = 0; i &lt; count; i++) {\n            //how to use LocalTime  under this loop\n        }\n</code></pre>\n<p>i actully need result is :</p>\n<pre><code>10.30 am\n11.00 am\n11.30 am\n</code></pre>\n"},{"tags":["java","maven","pitest"],"comments":[{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1629442569,"post_id":68841287,"comment_id":121692620,"body_markdown":"Can you post the pom, and also confirm if it does/doesn&#39;t work if you run it on your own machine without docker etc.","body":"Can you post the pom, and also confirm if it does/doesn&#39;t work if you run it on your own machine without docker etc."},{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1629442645,"post_id":68841287,"comment_id":121692655,"body_markdown":"Doubt it&#39;s relevent, but why pitest 1.5.2 and not 1.6.9?","body":"Doubt it&#39;s relevent, but why pitest 1.5.2 and not 1.6.9?"},{"owner":{"account_id":5241088,"reputation":737,"user_id":4188097,"accept_rate":56,"display_name":"Ryan"},"score":0,"creation_date":1629902603,"post_id":68841287,"comment_id":121810933,"body_markdown":"@henry Using 1.5.2 because that is the most recent version my company has available. I will post a scrubbed version of the pom later today. It seems to be able to run locally, so this may be an issue with the docker container. One difference is that my local machine has Java 11.0.10 and the docker container is using 11.0.12, but I find it unlikely that that is the issue.","body":"@henry Using 1.5.2 because that is the most recent version my company has available. I will post a scrubbed version of the pom later today. It seems to be able to run locally, so this may be an issue with the docker container. One difference is that my local machine has Java 11.0.10 and the docker container is using 11.0.12, but I find it unlikely that that is the issue."},{"owner":{"account_id":5241088,"reputation":737,"user_id":4188097,"accept_rate":56,"display_name":"Ryan"},"score":0,"creation_date":1629902610,"post_id":68841287,"comment_id":121810938,"body_markdown":"The error log also says `Unable to load the mojo &#39;mutationCoverage&#39; in the plugin &#39;org.pitest:pitest-maven:1.5.2&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: &#39;void org.pitest.functional.FCollection.mapTo(java.lang.Iterable, java.util.function.Function, java.util.Collection)&#39;`","body":"The error log also says <code>Unable to load the mojo &#39;mutationCoverage&#39; in the plugin &#39;org.pitest:pitest-maven:1.5.2&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.Component&zwnj;&#8203;LookupException: &#39;void org.pitest.functional.FCollection.mapTo(java.lang.Iterable, java.util.function.Function, java.util.Collection)&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5241088,"reputation":737,"user_id":4188097,"accept_rate":56,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633458607,"creation_date":1633458607,"answer_id":69455561,"question_id":68841287,"body_markdown":"Turns out our remote environment was running the tests a slightly different way and was using a plugin for pitest that was not explicitly defined in our POM. The plugin was [Alex Victoor&#39;s pitest-cucumber-plugin][1] which includes a compatibility matrix that I was able to use to resolve the issue.\r\n\r\n\r\n  [1]: https://github.com/alexvictoor/pitest-cucumber-plugin","title":"Why is Pitest throwing a NoSuchMethodError?","body":"<p>Turns out our remote environment was running the tests a slightly different way and was using a plugin for pitest that was not explicitly defined in our POM. The plugin was <a href=\"https://github.com/alexvictoor/pitest-cucumber-plugin\" rel=\"nofollow noreferrer\">Alex Victoor's pitest-cucumber-plugin</a> which includes a compatibility matrix that I was able to use to resolve the issue.</p>\n"}],"owner":{"account_id":5241088,"reputation":737,"user_id":4188097,"accept_rate":56,"display_name":"Ryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69455561,"answer_count":1,"score":0,"last_activity_date":1633458607,"creation_date":1629339836,"question_id":68841287,"body_markdown":"So I recently upgraded one of my repos to Java 11 and updated the versions of some of the other dependencies. After going through several of the dependencies and resolving all of the errors, I finally got the application to pass all unit and integration tests and it was running normally again. However, when I push the project it also automatically performs mutation tests through Pitest.\r\n\r\nThis is done in a completely clean environment: a docker container is spun up with the necessary Java and Maven versions (Java 11 and Maven 3.6.3).\r\n\r\nThe mutation tests fail to compile now, and the following stack trace is given:\r\n```\r\n18-Aug-2021 15:57:19\t[WARNING] Error injecting: org.pitest.maven.PitMojo\r\n18-Aug-2021 15:57:19\tcom.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n18-Aug-2021 15:57:19\t\r\n18-Aug-2021 15:57:19\t1) Error injecting constructor, java.lang.NoSuchMethodError: &#39;void org.pitest.functional.FCollection.mapTo(java.lang.Iterable, java.util.function.Function, java.util.Collection)&#39;\r\n18-Aug-2021 15:57:19\t  at org.pitest.maven.PitMojo.&lt;init&gt;(Unknown Source)\r\n18-Aug-2021 15:57:19\t  while locating org.pitest.maven.PitMojo\r\n18-Aug-2021 15:57:19\t\r\n18-Aug-2021 15:57:19\t1 error\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n18-Aug-2021 15:57:19\t    at java.lang.reflect.Method.invoke (Method.java:566)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n18-Aug-2021 15:57:19\tCaused by: java.lang.NoSuchMethodError: &#39;void org.pitest.functional.FCollection.mapTo(java.lang.Iterable, java.util.function.Function, java.util.Collection)&#39;\r\n18-Aug-2021 15:57:19\t    at org.pitest.maven.DependencyFilter.&lt;init&gt; (DependencyFilter.java:42)\r\n18-Aug-2021 15:57:19\t    at org.pitest.maven.AbstractPitMojo.&lt;init&gt; (AbstractPitMojo.java:365)\r\n18-Aug-2021 15:57:19\t    at org.pitest.maven.PitMojo.&lt;init&gt; (PitMojo.java:14)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:62)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n18-Aug-2021 15:57:19\t    at java.lang.reflect.Constructor.newInstance (Constructor.java:490)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n18-Aug-2021 15:57:19\t    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n18-Aug-2021 15:57:19\t    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n18-Aug-2021 15:57:19\t    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n18-Aug-2021 15:57:19\t    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n18-Aug-2021 15:57:19\t    at java.lang.reflect.Method.invoke (Method.java:566)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n18-Aug-2021 15:57:19\t    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\nThis is only a part of the stack trace, but I believe it is the relevant part, I can grab more of the stack trace if necessary/requested.\r\n\r\nI have not been able to find much information about this issue. Any similar topics/posts I have found on StackOverflow/GitHub just suggest to either perform a `mvn clean` or to upgrade to a newer version (the most common I&#39;ve noticed mentioned is Pitest 1.4.3). However, as I said the mutation tests (in fact all of the tests) are run in a completely new and clean environment and we upgraded Pitest from 1.1.11 to 1.5.2.\r\n\r\nIn fact, I was originally going to leave Pitest at version 1.1.11, but was getting an `IllegalArgumentException` instead, and assumed it was just because it needed to be upgraded.\r\n\r\nWhy is this exception being thrown? Is Pitest missing a dependency that I need to add? Where can I find more information on errors like this, and what debugging might I be able to do to find the cause and form a solution?\r\n\r\nThank you","title":"Why is Pitest throwing a NoSuchMethodError?","body":"<p>So I recently upgraded one of my repos to Java 11 and updated the versions of some of the other dependencies. After going through several of the dependencies and resolving all of the errors, I finally got the application to pass all unit and integration tests and it was running normally again. However, when I push the project it also automatically performs mutation tests through Pitest.</p>\n<p>This is done in a completely clean environment: a docker container is spun up with the necessary Java and Maven versions (Java 11 and Maven 3.6.3).</p>\n<p>The mutation tests fail to compile now, and the following stack trace is given:</p>\n<pre><code>18-Aug-2021 15:57:19    [WARNING] Error injecting: org.pitest.maven.PitMojo\n18-Aug-2021 15:57:19    com.google.inject.ProvisionException: Unable to provision, see the following errors:\n18-Aug-2021 15:57:19    \n18-Aug-2021 15:57:19    1) Error injecting constructor, java.lang.NoSuchMethodError: 'void org.pitest.functional.FCollection.mapTo(java.lang.Iterable, java.util.function.Function, java.util.Collection)'\n18-Aug-2021 15:57:19      at org.pitest.maven.PitMojo.&lt;init&gt;(Unknown Source)\n18-Aug-2021 15:57:19      while locating org.pitest.maven.PitMojo\n18-Aug-2021 15:57:19    \n18-Aug-2021 15:57:19    1 error\n18-Aug-2021 15:57:19        at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n18-Aug-2021 15:57:19        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n18-Aug-2021 15:57:19        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n18-Aug-2021 15:57:19        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n18-Aug-2021 15:57:19        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n18-Aug-2021 15:57:19        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n18-Aug-2021 15:57:19        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n18-Aug-2021 15:57:19        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n18-Aug-2021 15:57:19        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n18-Aug-2021 15:57:19        at java.lang.reflect.Method.invoke (Method.java:566)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n18-Aug-2021 15:57:19    Caused by: java.lang.NoSuchMethodError: 'void org.pitest.functional.FCollection.mapTo(java.lang.Iterable, java.util.function.Function, java.util.Collection)'\n18-Aug-2021 15:57:19        at org.pitest.maven.DependencyFilter.&lt;init&gt; (DependencyFilter.java:42)\n18-Aug-2021 15:57:19        at org.pitest.maven.AbstractPitMojo.&lt;init&gt; (AbstractPitMojo.java:365)\n18-Aug-2021 15:57:19        at org.pitest.maven.PitMojo.&lt;init&gt; (PitMojo.java:14)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:62)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n18-Aug-2021 15:57:19        at java.lang.reflect.Constructor.newInstance (Constructor.java:490)\n18-Aug-2021 15:57:19        at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n18-Aug-2021 15:57:19        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n18-Aug-2021 15:57:19        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n18-Aug-2021 15:57:19        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n18-Aug-2021 15:57:19        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n18-Aug-2021 15:57:19        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n18-Aug-2021 15:57:19        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n18-Aug-2021 15:57:19        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n18-Aug-2021 15:57:19        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n18-Aug-2021 15:57:19        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n18-Aug-2021 15:57:19        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n18-Aug-2021 15:57:19        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n18-Aug-2021 15:57:19        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n18-Aug-2021 15:57:19        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n18-Aug-2021 15:57:19        at java.lang.reflect.Method.invoke (Method.java:566)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n18-Aug-2021 15:57:19        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>This is only a part of the stack trace, but I believe it is the relevant part, I can grab more of the stack trace if necessary/requested.</p>\n<p>I have not been able to find much information about this issue. Any similar topics/posts I have found on StackOverflow/GitHub just suggest to either perform a <code>mvn clean</code> or to upgrade to a newer version (the most common I've noticed mentioned is Pitest 1.4.3). However, as I said the mutation tests (in fact all of the tests) are run in a completely new and clean environment and we upgraded Pitest from 1.1.11 to 1.5.2.</p>\n<p>In fact, I was originally going to leave Pitest at version 1.1.11, but was getting an <code>IllegalArgumentException</code> instead, and assumed it was just because it needed to be upgraded.</p>\n<p>Why is this exception being thrown? Is Pitest missing a dependency that I need to add? Where can I find more information on errors like this, and what debugging might I be able to do to find the cause and form a solution?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","application.properties"],"comments":[{"owner":{"account_id":5977697,"reputation":2143,"user_id":4697963,"display_name":"Markiian Benovskyi"},"score":1,"creation_date":1633444775,"post_id":69452431,"comment_id":122758339,"body_markdown":"Turn on debugging and logback, you might have errors during start-up","body":"Turn on debugging and logback, you might have errors during start-up"},{"owner":{"account_id":18529605,"reputation":7,"user_id":13500712,"display_name":"LordHans"},"score":0,"creation_date":1633445163,"post_id":69452431,"comment_id":122758523,"body_markdown":"Using &quot;mvn spring-boot:run -e -X&quot; on the proyect doesn&#39;t print any error","body":"Using &quot;mvn spring-boot:run -e -X&quot; on the proyect doesn&#39;t print any error"},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1633446117,"post_id":69452431,"comment_id":122758984,"body_markdown":"Do you write log to a file? Maybe you created a `logback.xml` file","body":"Do you write log to a file? Maybe you created a <code>logback.xml</code> file"},{"owner":{"account_id":18529605,"reputation":7,"user_id":13500712,"display_name":"LordHans"},"score":0,"creation_date":1633446453,"post_id":69452431,"comment_id":122759146,"body_markdown":"Yes I have a log file, but its empty. Not logback.xml","body":"Yes I have a log file, but its empty. Not logback.xml"},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1633452116,"post_id":69452431,"comment_id":122761552,"body_markdown":"@LordHans please add those log files and configuration to your question. It would help everyone.","body":"@LordHans please add those log files and configuration to your question. It would help everyone."},{"owner":{"account_id":18529605,"reputation":7,"user_id":13500712,"display_name":"LordHans"},"score":0,"creation_date":1633463458,"post_id":69452431,"comment_id":122765507,"body_markdown":"@ray log files are empty. Configuration is irrelevant, all 3 have the same. But only dev works","body":"@ray log files are empty. Configuration is irrelevant, all 3 have the same. But only dev works"}],"answers":[{"tags":[],"owner":{"account_id":12583803,"reputation":47,"user_id":9153532,"display_name":"philgsk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633444748,"creation_date":1633444748,"answer_id":69452482,"question_id":69452431,"body_markdown":"Maybe you have multiple setting to set the profile? Perhaps although in you IDE Application Config?","title":"Why does spring.profiles.active only read some profiles?","body":"<p>Maybe you have multiple setting to set the profile? Perhaps although in you IDE Application Config?</p>\n"},{"tags":[],"owner":{"account_id":3923602,"reputation":738,"user_id":3244998,"display_name":"thepaoloboi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633458484,"creation_date":1633458484,"answer_id":69455536,"question_id":69452431,"body_markdown":"I do not know how did you created the *local* and *test* `properties` files but from  your first screenshot they seem to be different from the others (see the different icons).\r\n\r\nCheck how did you create them.","title":"Why does spring.profiles.active only read some profiles?","body":"<p>I do not know how did you created the <em>local</em> and <em>test</em> <code>properties</code> files but from  your first screenshot they seem to be different from the others (see the different icons).</p>\n<p>Check how did you create them.</p>\n"}],"owner":{"account_id":18529605,"reputation":7,"user_id":13500712,"display_name":"LordHans"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1633458484,"creation_date":1633444603,"question_id":69452431,"body_markdown":"Im making multiple profiles for my springboot app.\r\n\r\nI have dev, local and test properties files. \r\n\r\n![Properties files][1]\r\n\r\nOn application.properties file I only have this:\r\n\r\n    spring.profiles.active=dev\r\nIf I change dev to local or test spring doesnt load the profile and the console stays like this: \r\n\r\n![spring.profiles.active=test console][2]\r\n\r\nAny reason why it doesnt work with local and test but it does with dev? I have exact same settings on all 3 and yet it doesnt work\r\n\r\n  [1]: https://i.stack.imgur.com/JAiWx.png\r\n  [2]: https://i.stack.imgur.com/IfJBq.png","title":"Why does spring.profiles.active only read some profiles?","body":"<p>Im making multiple profiles for my springboot app.</p>\n<p>I have dev, local and test properties files.</p>\n<p><img src=\"https://i.stack.imgur.com/JAiWx.png\" alt=\"Properties files\" /></p>\n<p>On application.properties file I only have this:</p>\n<pre><code>spring.profiles.active=dev\n</code></pre>\n<p>If I change dev to local or test spring doesnt load the profile and the console stays like this:</p>\n<p><img src=\"https://i.stack.imgur.com/IfJBq.png\" alt=\"spring.profiles.active=test console\" /></p>\n<p>Any reason why it doesnt work with local and test but it does with dev? I have exact same settings on all 3 and yet it doesnt work</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":1755304,"reputation":3707,"user_id":1603511,"accept_rate":86,"display_name":"p.streef"},"score":0,"creation_date":1464689517,"post_id":37529956,"comment_id":62574559,"body_markdown":"I believe if you do not set anything, the shaperenderer uses pixel coordinates. I recommend testing this first, and then adding transformations to it when you know this works.","body":"I believe if you do not set anything, the shaperenderer uses pixel coordinates. I recommend testing this first, and then adding transformations to it when you know this works."}],"answers":[{"tags":[],"owner":{"account_id":8525177,"reputation":439,"user_id":6390841,"display_name":"WonderfulWorld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464626199,"creation_date":1464626199,"answer_id":37530283,"question_id":37529956,"body_markdown":"\r\n    @Override\r\n    public void create () {\r\n        shapeRenderer = new ShapeRenderer();\r\n        camera = new OrthographicCamera(Gdx.graphics.getWidth(), Gdx.graphics.getHeight()); \r\n    }\r\n    \r\n    @Override\r\n    public void render () {\r\n         Gdx.gl.glClearColor(1, 1, 1, 1);\r\n         Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n         Gdx.gl.glEnable(GL20.GL_BLEND);\r\n         Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);\r\n         Gdx.gl.glDisable(GL20.GL_BLEND);\r\n    \r\n         shapeRenderer.setColor(Color.RED);\r\n         shapeRenderer.begin(ShapeType.FilledCircle);\r\n         shapeRenderer.filledCircle(25, 25, 25);\r\n         shapeRenderer.end();\r\n    }\r\n\r\n","title":"ShapeRenderer LibGdx not working","body":"<pre><code>@Override\npublic void create () {\n    shapeRenderer = new ShapeRenderer();\n    camera = new OrthographicCamera(Gdx.graphics.getWidth(), Gdx.graphics.getHeight()); \n}\n\n@Override\npublic void render () {\n     Gdx.gl.glClearColor(1, 1, 1, 1);\n     Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n     Gdx.gl.glEnable(GL20.GL_BLEND);\n     Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);\n     Gdx.gl.glDisable(GL20.GL_BLEND);\n\n     shapeRenderer.setColor(Color.RED);\n     shapeRenderer.begin(ShapeType.FilledCircle);\n     shapeRenderer.filledCircle(25, 25, 25);\n     shapeRenderer.end();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3783371,"reputation":139,"user_id":3142152,"accept_rate":57,"display_name":"Major Ben"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464708389,"creation_date":1464708389,"answer_id":37549770,"question_id":37529956,"body_markdown":"I am sorry for everyone who might have been confused by my question. I found out what was wrong. The thing is I am using a different orthographic camera which has a projection matrix which was a small square on the bottom left. I failed to change the projection matrix to the smaller left corner.\r\n\r\nshapeRend.setProjectionMatrix(camera.combined);\r\n\r\nThe batch&#39;s projection matrix wasn&#39;t configured to the camera&#39;s and that is why it failed. \r\n\r\n I am not using shapeRenderer anymore anyway because I believe using textures are better. Thank-you for everyone who answered. \r\n\r\n","title":"ShapeRenderer LibGdx not working","body":"<p>I am sorry for everyone who might have been confused by my question. I found out what was wrong. The thing is I am using a different orthographic camera which has a projection matrix which was a small square on the bottom left. I failed to change the projection matrix to the smaller left corner.</p>\n\n<p>shapeRend.setProjectionMatrix(camera.combined);</p>\n\n<p>The batch's projection matrix wasn't configured to the camera's and that is why it failed. </p>\n\n<p>I am not using shapeRenderer anymore anyway because I believe using textures are better. Thank-you for everyone who answered. </p>\n"},{"tags":[],"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633458063,"creation_date":1633274267,"answer_id":69426196,"question_id":37529956,"body_markdown":"**Kotlin**    \r\n\r\nYou need to set the shapeRenderer.projectionMatrix in the resize function of libGDX. Otherwise the shapeRenderer won&#39;t work.\r\n\r\n\r\n    override fun render() {\r\n\r\n        // camera\r\n\r\n        camera?.update() //update our camera every frame\r\n\r\n        // draw\r\n\r\n        batch.begin()\r\n\r\n        // background\r\n\r\n        batch.draw(background, 0f, 0f, camera!!.viewportWidth, camera!!.viewportHeight)\r\n\r\n        batch.end()\r\n\r\n        // shapes\r\n\r\n        shapeRenderer.begin(ShapeRenderer.ShapeType.Line)\r\n\r\n        shapeRenderer.color = Color.BLUE\r\n        shapeRenderer.circle(myCircle.x, myCircle.y, myCircle.radius)\r\n\r\n        shapeRenderer.end()\r\n\r\n    }\r\n\r\n    override fun resize(width: Int, height: Int) {\r\n\r\n        // aspect fill\r\n\r\n        viewport!!.update(width, height, true)\r\n\r\n        batch.projectionMatrix = camera!!.combined\r\n\r\n        shapeRenderer.projectionMatrix = camera!!.combined;\r\n\r\n    }","title":"ShapeRenderer LibGdx not working","body":"<p><strong>Kotlin</strong></p>\n<p>You need to set the shapeRenderer.projectionMatrix in the resize function of libGDX. Otherwise the shapeRenderer won't work.</p>\n<pre><code>override fun render() {\n\n    // camera\n\n    camera?.update() //update our camera every frame\n\n    // draw\n\n    batch.begin()\n\n    // background\n\n    batch.draw(background, 0f, 0f, camera!!.viewportWidth, camera!!.viewportHeight)\n\n    batch.end()\n\n    // shapes\n\n    shapeRenderer.begin(ShapeRenderer.ShapeType.Line)\n\n    shapeRenderer.color = Color.BLUE\n    shapeRenderer.circle(myCircle.x, myCircle.y, myCircle.radius)\n\n    shapeRenderer.end()\n\n}\n\noverride fun resize(width: Int, height: Int) {\n\n    // aspect fill\n\n    viewport!!.update(width, height, true)\n\n    batch.projectionMatrix = camera!!.combined\n\n    shapeRenderer.projectionMatrix = camera!!.combined;\n\n}\n</code></pre>\n"}],"owner":{"account_id":3783371,"reputation":139,"user_id":3142152,"accept_rate":57,"display_name":"Major Ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633458063,"creation_date":1464624777,"question_id":37529956,"body_markdown":"I don&#39;t know why the ShapeRenderer object is not drawing a circle on the screen. I tried modifying the code to include suggestions such as changing projection matrix and transform matrix of my shaperenderer object to the batch ones, and even adding batch.end() before shaperenderer.begin(). Here is my code:\r\n\r\n    public void draw (Batch batch, float parentAlpha){\r\n\t\tsuper.draw(batch, parentAlpha);\r\n\t\tbatch.end();\r\n\t\tshapeRend.setProjectionMatrix(batch.getProjectionMatrix());\r\n\t\tshapeRend.setTransformMatrix(batch.getTransformMatrix());\r\n\t\tfloat x = body.getWorldCenter().x;\r\n\t\tfloat y = body.getWorldCenter().y;\r\n\t\tshapeRend.translate(x, y, 0);\r\n\t\t\r\n\t\t\r\n\t\tshapeRend.begin(ShapeType.Filled);\r\n\t\tshapeRend.setColor(Color.RED);\r\n\t\tshapeRend.circle(0, 0, Constants.PLAYER_RADIUS);\r\n\t\tshapeRend.end();\r\n\t\tbatch.begin();\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\nThere is really no other code I could provide other than that Contants.player_radius = 0.2, which shouldn&#39;t make a difference. I have my world renderer (Box2D physics) which is visible but the shaperenderer circle is not there. Originally I did not put the translate function and just put the x and y directly into the shapeRend.circle (x, y, r) method call, but I was just testing different ways. Any suggestions would be helpful. Thank-you.","title":"ShapeRenderer LibGdx not working","body":"<p>I don't know why the ShapeRenderer object is not drawing a circle on the screen. I tried modifying the code to include suggestions such as changing projection matrix and transform matrix of my shaperenderer object to the batch ones, and even adding batch.end() before shaperenderer.begin(). Here is my code:</p>\n\n<pre><code>public void draw (Batch batch, float parentAlpha){\n    super.draw(batch, parentAlpha);\n    batch.end();\n    shapeRend.setProjectionMatrix(batch.getProjectionMatrix());\n    shapeRend.setTransformMatrix(batch.getTransformMatrix());\n    float x = body.getWorldCenter().x;\n    float y = body.getWorldCenter().y;\n    shapeRend.translate(x, y, 0);\n\n\n    shapeRend.begin(ShapeType.Filled);\n    shapeRend.setColor(Color.RED);\n    shapeRend.circle(0, 0, Constants.PLAYER_RADIUS);\n    shapeRend.end();\n    batch.begin();\n\n\n}\n</code></pre>\n\n<p>There is really no other code I could provide other than that Contants.player_radius = 0.2, which shouldn't make a difference. I have my world renderer (Box2D physics) which is visible but the shaperenderer circle is not there. Originally I did not put the translate function and just put the x and y directly into the shapeRend.circle (x, y, r) method call, but I was just testing different ways. Any suggestions would be helpful. Thank-you.</p>\n"},{"tags":["java","spring","tomcat","spring-jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633420044,"post_id":69446273,"comment_id":122747849,"body_markdown":"`Utils.getMaxSize` the fact that it is in a `Utils` class makes me wonder how is this thing being used? Is it spring managed or do you create them on the fly or... Please add the actual class.","body":"<code>Utils.getMaxSize</code> the fact that it is in a <code>Utils</code> class makes me wonder how is this thing being used? Is it spring managed or do you create them on the fly or... Please add the actual class."},{"owner":{"account_id":152288,"reputation":491,"user_id":366713,"accept_rate":86,"display_name":"Galen"},"score":0,"creation_date":1633458035,"post_id":69446273,"comment_id":122763695,"body_markdown":"Utils (not exact classname in my code, but I greatly simplified here) is a Spring object (in spring application context).  I updated the description above, to make it a bit more clear.","body":"Utils (not exact classname in my code, but I greatly simplified here) is a Spring object (in spring application context).  I updated the description above, to make it a bit more clear."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633527177,"post_id":69446273,"comment_id":122783251,"body_markdown":"If this is the actual code there is no leak, so either there is something you aren&#39;t showing or tomcat is drunk.","body":"If this is the actual code there is no leak, so either there is something you aren&#39;t showing or tomcat is drunk."},{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1634912815,"post_id":69446273,"comment_id":123162319,"body_markdown":"Are you using the `@Transactional` annotation in the method using your database calls? If not you may want to consider looking into it and using it and is it will handle opening and closing your connections.","body":"Are you using the <code>@Transactional</code> annotation in the method using your database calls? If not you may want to consider looking into it and using it and is it will handle opening and closing your connections."}],"owner":{"account_id":152288,"reputation":491,"user_id":366713,"accept_rate":86,"display_name":"Galen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633457986,"creation_date":1633418245,"question_id":69446273,"body_markdown":"I am using a Spring jdbcTemplate object like this, to return a result from the database:\r\n\r\n```\r\npublic class Utils {\r\n...\r\n    @Autowired\r\n    protected JdbcTemplate jdbcTemplate;\r\n...\r\n...\r\n\tpublic Integer getMaxSize(String foo) {\r\n\t\tString query = &quot;SELECT MAX(LENGTH(foo)) AS FF FROM bar&quot;;\r\n\t\tLong listSize = (Long)jdbcTemplate.queryForMap(query).get(&quot;FF&quot;);\r\n\t\t\r\n\t\tif (listSize == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn listSize.intValue();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n...\r\nutils.getMaxSize(&quot;abc&quot;);\r\n```\r\n\r\n\r\n\r\nHowever, the tomcat connection pool is flagging this as a culprit that&#39;s not closing it&#39;s connection:\r\n\r\n```\r\n  WARNING [Tomcat JDBC Pool Cleaner[914504136:1633411205250]] \r\n  org.apache.tomcat.jdbc.pool.ConnectionPool.abandon Connection has been abandoned \r\n  PooledConnection[org.mariadb.jdbc.MariaDbConnection@5b3f016]:java.lang.Exception\r\n  ...\r\n  ...\r\n  at ore.mt.Utils.getMaxSize(Utils.java:725)\r\n  ...\r\n  ...\r\n```\r\n\r\nFrom reading this article: http://fabriziogiovannetti.com/blog/abandoned-connection-on-tomcat-how-to-find-the-root-cause/30\r\n\r\nit seems like it&#39;s identifying the getMaxSize method as the culprit that&#39;s not closing its connection.  In my tomcat connection pool settings, I have:\r\n\r\n              removeAbandoned=&quot;true&quot;\r\n              removeAbandonedTimeout=&quot;120&quot;\r\n              logAbandoned=&quot;true&quot;\r\n\r\nI&#39;m also using:\r\n\r\n```\r\njdbcInterceptors=&quot;org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer;org.apache.tomcat.jdbc.pool.interceptor.ResetAbandonedTimer&quot;\r\n```\r\n\r\nIs there some edge case I&#39;m not thinking of, where queryForMap itself, or somehow the way I&#39;m returning by reference is somehow keeping the connection open?\r\n\r\nThanks!\r\n","title":"Spring jdbctemplate not closing connection?","body":"<p>I am using a Spring jdbcTemplate object like this, to return a result from the database:</p>\n<pre><code>public class Utils {\n...\n    @Autowired\n    protected JdbcTemplate jdbcTemplate;\n...\n...\n    public Integer getMaxSize(String foo) {\n        String query = &quot;SELECT MAX(LENGTH(foo)) AS FF FROM bar&quot;;\n        Long listSize = (Long)jdbcTemplate.queryForMap(query).get(&quot;FF&quot;);\n        \n        if (listSize == null) {\n            return null;\n        }\n        return listSize.intValue();\n    }\n}\n</code></pre>\n<pre><code>...\nutils.getMaxSize(&quot;abc&quot;);\n</code></pre>\n<p>However, the tomcat connection pool is flagging this as a culprit that's not closing it's connection:</p>\n<pre><code>  WARNING [Tomcat JDBC Pool Cleaner[914504136:1633411205250]] \n  org.apache.tomcat.jdbc.pool.ConnectionPool.abandon Connection has been abandoned \n  PooledConnection[org.mariadb.jdbc.MariaDbConnection@5b3f016]:java.lang.Exception\n  ...\n  ...\n  at ore.mt.Utils.getMaxSize(Utils.java:725)\n  ...\n  ...\n</code></pre>\n<p>From reading this article: <a href=\"http://fabriziogiovannetti.com/blog/abandoned-connection-on-tomcat-how-to-find-the-root-cause/30\" rel=\"nofollow noreferrer\">http://fabriziogiovannetti.com/blog/abandoned-connection-on-tomcat-how-to-find-the-root-cause/30</a></p>\n<p>it seems like it's identifying the getMaxSize method as the culprit that's not closing its connection.  In my tomcat connection pool settings, I have:</p>\n<pre><code>          removeAbandoned=&quot;true&quot;\n          removeAbandonedTimeout=&quot;120&quot;\n          logAbandoned=&quot;true&quot;\n</code></pre>\n<p>I'm also using:</p>\n<pre><code>jdbcInterceptors=&quot;org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer;org.apache.tomcat.jdbc.pool.interceptor.ResetAbandonedTimer&quot;\n</code></pre>\n<p>Is there some edge case I'm not thinking of, where queryForMap itself, or somehow the way I'm returning by reference is somehow keeping the connection open?</p>\n<p>Thanks!</p>\n"},{"tags":["java","validation","nullpointerexception","swingworker","jtextarea"],"comments":[{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":0,"creation_date":1261284708,"post_id":1934889,"comment_id":1844006,"body_markdown":"The techniques in this answer should help you: http://stackoverflow.com/questions/620993/determining-binary-text-file-type","body":"The techniques in this answer should help you: <a href=\"http://stackoverflow.com/questions/620993/determining-binary-text-file-type\" title=\"determining binary text file type\">stackoverflow.com/questions/620993/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633457936,"creation_date":1261285174,"answer_id":1934906,"question_id":1934889,"body_markdown":"You could cover the most by sniffing the mime type based on the file extension or, even better, the actual file **content**. You can do that with help of among others [jMimeMagic][1] ([Maven coords here][2]). If the mime type does not start with &quot;text&quot;, then it&#39;s certainly not a text file.\r\n\r\n    String mimeType = Magic.getMagicMatch(file, false).getMimeType();\r\n    boolean text = mimeType.startsWith(&quot;text&quot;);\r\n\r\n\r\n  [1]: https://github.com/arimus/jmimemagic\r\n  [2]: https://mvnrepository.com/artifact/net.sf.jmimemagic/jmimemagic/0.1.5","title":"Java InputReader. Detect if file being read is binary?","body":"<p>You could cover the most by sniffing the mime type based on the file extension or, even better, the actual file <strong>content</strong>. You can do that with help of among others <a href=\"https://github.com/arimus/jmimemagic\" rel=\"nofollow noreferrer\">jMimeMagic</a> (<a href=\"https://mvnrepository.com/artifact/net.sf.jmimemagic/jmimemagic/0.1.5\" rel=\"nofollow noreferrer\">Maven coords here</a>). If the mime type does not start with &quot;text&quot;, then it's certainly not a text file.</p>\n<pre><code>String mimeType = Magic.getMagicMatch(file, false).getMimeType();\nboolean text = mimeType.startsWith(&quot;text&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"anon235370"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261286769,"creation_date":1261286769,"answer_id":1934940,"question_id":1934889,"body_markdown":"I found that MIME types can really help with this!\r\n[JAF][1]\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0487.html","title":"Java InputReader. Detect if file being read is binary?","body":"<p>I found that MIME types can really help with this!\n<a href=\"http://www.rgagnon.com/javadetails/java-0487.html\" rel=\"nofollow noreferrer\">JAF</a></p>\n"},{"tags":[],"owner":{"display_name":"anon235370"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596941741,"creation_date":1268882615,"answer_id":2467385,"question_id":1934889,"body_markdown":"For those who read this and are curious as to what I have done to fix the File reading problem.... I have instead implemented a FileReader and have experienced no problems on Windows. I have however noticed on Linux that there are some problems which tends to lead to a crash. Also I noticed when running through an IDE such as Netbeans I receive various runtime errors when trying to load a binary file and massive slow-down; but when I execute the .jar as an executable and not from the IDE it works fine.\r\n\r\nHere is relevant code that I have had no problem with (even when loading binary file types such as .mp3, .exe, etc.)\r\n\r\n    /*...*/\r\n    @Override\r\n    protected Void doInBackground() throws Exception {\r\n        BufferedReader br = null;\r\n    \r\n        try {\r\n            br = new BufferedReader(new FileReader(file));\r\n            int ch = br.read();\r\n    \r\n            while(ch != -1) {\r\n                publish(ch);\r\n                ch = br.read();\r\n            }\r\n        }\r\n        finally {\r\n            try {\r\n                br.close();\r\n            } catch (IOException e) {}\r\n        }\r\n        System.gc();\r\n        return null;\r\n    }\r\n    /*...*/","title":"Java InputReader. Detect if file being read is binary?","body":"<p>For those who read this and are curious as to what I have done to fix the File reading problem.... I have instead implemented a FileReader and have experienced no problems on Windows. I have however noticed on Linux that there are some problems which tends to lead to a crash. Also I noticed when running through an IDE such as Netbeans I receive various runtime errors when trying to load a binary file and massive slow-down; but when I execute the .jar as an executable and not from the IDE it works fine.</p>\n<p>Here is relevant code that I have had no problem with (even when loading binary file types such as .mp3, .exe, etc.)</p>\n<pre><code>/*...*/\n@Override\nprotected Void doInBackground() throws Exception {\n    BufferedReader br = null;\n\n    try {\n        br = new BufferedReader(new FileReader(file));\n        int ch = br.read();\n\n        while(ch != -1) {\n            publish(ch);\n            ch = br.read();\n        }\n    }\n    finally {\n        try {\n            br.close();\n        } catch (IOException e) {}\n    }\n    System.gc();\n    return null;\n}\n/*...*/\n</code></pre>\n"}],"owner":{"display_name":"anon235370"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2467385,"answer_count":3,"score":0,"last_activity_date":1633457936,"creation_date":1261284594,"question_id":1934889,"body_markdown":"I had posted a question in regards to this code. I found that JTextArea does not support the binary type data that is loaded. \r\n\r\nSo my new question is how can I go about detecting the &#39;bad&#39; file and canceling the file I/O and telling the user that they need to select a new file?\r\n\r\n    class Open extends SwingWorker&lt;Void, String&gt;\r\n    {\r\n        File file;\r\n        JTextArea jta;\r\n    \r\n        Open(File file, JTextArea jta)\r\n        {\r\n            this.file = file;\r\n            this.jta = jta;\r\n        }\r\n    \r\n        @Override\r\n        protected Void doInBackground() throws Exception\r\n        {\r\n            BufferedReader br = null;\r\n    \r\n            try\r\n            {\r\n                br = new BufferedReader(new FileReader(file));\r\n    \r\n                String line = br.readLine();\r\n    \r\n                while(line != null)\r\n                {\r\n                    publish(line);\r\n                    line = br.readLine();\r\n                }\r\n            }\r\n            finally\r\n            {\r\n                try\r\n                {\r\n                    br.close();\r\n                } catch (IOException e) { }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void process(List&lt;String&gt; chunks)\r\n        {\r\n            for(String s : chunks)\r\n                jta.append(s + &quot;\\n&quot;);\r\n        }\r\n    }","title":"Java InputReader. Detect if file being read is binary?","body":"<p>I had posted a question in regards to this code. I found that JTextArea does not support the binary type data that is loaded. </p>\n\n<p>So my new question is how can I go about detecting the 'bad' file and canceling the file I/O and telling the user that they need to select a new file?</p>\n\n<pre><code>class Open extends SwingWorker&lt;Void, String&gt;\n{\n    File file;\n    JTextArea jta;\n\n    Open(File file, JTextArea jta)\n    {\n        this.file = file;\n        this.jta = jta;\n    }\n\n    @Override\n    protected Void doInBackground() throws Exception\n    {\n        BufferedReader br = null;\n\n        try\n        {\n            br = new BufferedReader(new FileReader(file));\n\n            String line = br.readLine();\n\n            while(line != null)\n            {\n                publish(line);\n                line = br.readLine();\n            }\n        }\n        finally\n        {\n            try\n            {\n                br.close();\n            } catch (IOException e) { }\n        }\n        return null;\n    }\n\n    @Override\n    protected void process(List&lt;String&gt; chunks)\n    {\n        for(String s : chunks)\n            jta.append(s + \"\\n\");\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633454622,"post_id":69454588,"comment_id":122762499,"body_markdown":"You should only synchronize if you actually need to (e.g. modifying state), synchronizing just because you&#39;re doing something multi-threaded is the wrong approach. In any case, this is not generally answerable without a [mre] (and then answers would only apply to that example, so might not be applicable).","body":"You should only synchronize if you actually need to (e.g. modifying state), synchronizing just because you&#39;re doing something multi-threaded is the wrong approach. In any case, this is not generally answerable without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (and then answers would only apply to that example, so might not be applicable)."},{"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"score":2,"creation_date":1633454939,"post_id":69454588,"comment_id":122762613,"body_markdown":"If you synchronize where needed, your approach should work fine. Did you run tests?","body":"If you synchronize where needed, your approach should work fine. Did you run tests?"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1633454970,"post_id":69454588,"comment_id":122762623,"body_markdown":"Mark, I think I gave enough info to understand the question, because it&#39;s not about the code so there&#39;s no need to reproduce it, it&#39;s question about how it&#39;s normal in Java","body":"Mark, I think I gave enough info to understand the question, because it&#39;s not about the code so there&#39;s no need to reproduce it, it&#39;s question about how it&#39;s normal in Java"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1633455021,"post_id":69454588,"comment_id":122762647,"body_markdown":"Datz, yeah, tests are working but I wanted to know if it&#39;s okay or I need to use something else, thanks for the answer","body":"Datz, yeah, tests are working but I wanted to know if it&#39;s okay or I need to use something else, thanks for the answer"}],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633457761,"creation_date":1633457761,"answer_id":69455408,"question_id":69454588,"body_markdown":"You are right to be cautious\r\n\r\nUnfortunately, with concurrent processing, tests might succeed many times but then randomly fail because of a different winner in race conditions, so I&#39;d be cautious in trusting them (unless you write very good concurrency tests). Also, when talking about synchronization, it is pretty hard to be sure it&#39;s right without getting down to the code and knowing what&#39;s expected and what state changes are valid.\r\n\r\nUnless `SomeSharedData` is **read-only** after you pass it to this `Test` , I&#39;d be very careful..\r\n\r\nYou say you&#39;ll &quot;synchronize the fields I need when I&#39;m using them&quot; but that might not be enough, just because your calls wait in line to read/write the fields doesn&#39;t mean you&#39;ve synchronized correctly. If something changes a field of `SomeSharedData` while a `doWork()` thread is running then it could read the field as one value at one moment then another value the next, which could potentially break some things..\r\n\r\n*Couldn&#39;t fit this in a comment.*","title":"Calling a method in multiple threads","body":"<p>You are right to be cautious</p>\n<p>Unfortunately, with concurrent processing, tests might succeed many times but then randomly fail because of a different winner in race conditions, so I'd be cautious in trusting them (unless you write very good concurrency tests). Also, when talking about synchronization, it is pretty hard to be sure it's right without getting down to the code and knowing what's expected and what state changes are valid.</p>\n<p>Unless <code>SomeSharedData</code> is <strong>read-only</strong> after you pass it to this <code>Test</code> , I'd be very careful..</p>\n<p>You say you'll &quot;synchronize the fields I need when I'm using them&quot; but that might not be enough, just because your calls wait in line to read/write the fields doesn't mean you've synchronized correctly. If something changes a field of <code>SomeSharedData</code> while a <code>doWork()</code> thread is running then it could read the field as one value at one moment then another value the next, which could potentially break some things..</p>\n<p><em>Couldn't fit this in a comment.</em></p>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69455408,"answer_count":1,"score":0,"last_activity_date":1633457761,"creation_date":1633453412,"question_id":69454588,"body_markdown":"Let&#39;s say I have ThreadPoolExecutor and BlockingQueue in the class: \r\n``` \r\nclass Test {\r\nprivate final SomeSharedData sharedField;\r\n\r\nprivate OkHttpClient httpClient;\r\nprivate ThreadPoolExecutor executor;\r\nprivate BlockingQueue&lt;String&gt; blockingQueue;\r\n\r\npublic void doWork(){ \r\n  ...\r\n}\r\n\r\n}\r\n```\r\nAnd in this class I have method `doWork()` that is reading from this queue in a `while(true)` loop. It is doing some work with HTTP and ```sharedField```. Is it okay if I will add in the executor multiple callings of this method? Like this: \r\n```\r\nexecutor.execute(this::doWork);\r\nexecutor.execute(this::doWork);\r\n```\r\nIs it normal way to use it like this, I&#39;m concerned because the threads will be using one method of the same object, or should I write a class that will implement runnable with `doWork()` logic (normal way)? I know, there might be a problem with synchronization, because threads will be working with the fields of this object, but I will synchronize the fields I need when I&#39;m using them, if I do it, is it normal to use it like this or there might be another problems?","title":"Calling a method in multiple threads","body":"<p>Let's say I have ThreadPoolExecutor and BlockingQueue in the class:</p>\n<pre><code>class Test {\nprivate final SomeSharedData sharedField;\n\nprivate OkHttpClient httpClient;\nprivate ThreadPoolExecutor executor;\nprivate BlockingQueue&lt;String&gt; blockingQueue;\n\npublic void doWork(){ \n  ...\n}\n\n}\n</code></pre>\n<p>And in this class I have method <code>doWork()</code> that is reading from this queue in a <code>while(true)</code> loop. It is doing some work with HTTP and <code>sharedField</code>. Is it okay if I will add in the executor multiple callings of this method? Like this:</p>\n<pre><code>executor.execute(this::doWork);\nexecutor.execute(this::doWork);\n</code></pre>\n<p>Is it normal way to use it like this, I'm concerned because the threads will be using one method of the same object, or should I write a class that will implement runnable with <code>doWork()</code> logic (normal way)? I know, there might be a problem with synchronization, because threads will be working with the fields of this object, but I will synchronize the fields I need when I'm using them, if I do it, is it normal to use it like this or there might be another problems?</p>\n"},{"tags":["java","spring","hibernate","tomcat","struts2"],"comments":[{"owner":{"account_id":400932,"reputation":2006,"user_id":767200,"accept_rate":61,"display_name":"Amol Ghotankar"},"score":0,"creation_date":1375116697,"post_id":17909713,"comment_id":26196794,"body_markdown":"I see now my application is not responding and in tomcat manager i see","body":"I see now my application is not responding and in tomcat manager i see"},{"owner":{"account_id":383425,"reputation":41761,"user_id":739270,"accept_rate":68,"display_name":"Mohammed Azharuddin Shaikh"},"score":0,"creation_date":1457028018,"post_id":17909713,"comment_id":59230751,"body_markdown":"I&#39;m also facing the same problem, I&#39;m using Hadoop, Hbase and Jquery. Any idea?","body":"I&#39;m also facing the same problem, I&#39;m using Hadoop, Hbase and Jquery. Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":1042260,"reputation":452,"user_id":1365879,"accept_rate":75,"display_name":"yohm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1375024993,"creation_date":1375024993,"answer_id":17909752,"question_id":17909713,"body_markdown":"You will find more about the error in the file &quot;catalina.out&quot; (Tomcat logs):\r\n\r\n    C:\\program files\\apache software foundation\\apache-tomcat{ver}\\logs\\catalina.out\r\n\r\n","title":"Web application inside Tomcat 7 stops responding after 12-18 hrs","body":"<p>You will find more about the error in the file \"catalina.out\" (Tomcat logs):</p>\n\n<pre><code>C:\\program files\\apache software foundation\\apache-tomcat{ver}\\logs\\catalina.out\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2931163,"reputation":487,"user_id":2511350,"accept_rate":57,"display_name":"Niju"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375025423,"creation_date":1375025423,"answer_id":17909827,"question_id":17909713,"body_markdown":"This problem is probably a connection issue and not the problem of tomcat. While using hibernate you should use connection pooling also.Otherwise there is chance to disconnect from database and connection couldnot establish after a certain time period. The utility jars like C3P0 are available for solving issue. Also please check &quot;catalina.out&quot; file inside tomcat folder for the log.","title":"Web application inside Tomcat 7 stops responding after 12-18 hrs","body":"<p>This problem is probably a connection issue and not the problem of tomcat. While using hibernate you should use connection pooling also.Otherwise there is chance to disconnect from database and connection couldnot establish after a certain time period. The utility jars like C3P0 are available for solving issue. Also please check \"catalina.out\" file inside tomcat folder for the log.</p>\n"},{"tags":[],"owner":{"account_id":3045659,"reputation":4786,"user_id":2581401,"display_name":"c.s."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375027530,"creation_date":1375027530,"answer_id":17910140,"question_id":17909713,"body_markdown":"Though I am not sure about the order of your logs it seems that your application is failing in the following order:\r\n\r\n  - Some hiberante queries fail to execute and throw an exception\r\n  - The exceptions are not handled appropriately and possibly leave critical resources open (i.e. you have memory leaks - perhaps it does not close the database connections or the hibernate sessions). \r\n  - This causes some threads to hang (most of them seem to belong to third party libraries but some are suspects that are created by your application).\r\n  - Tomcat detects those conditions and is trying to shut down the corresponding services trying to reclaim the server&#39;s stability and eventually shuts down your applciation.\r\n\r\nIf you have the source code check if all database related code works correctly (i.e. connections/session are closed in a `finally` block no matter what) and check that threads created by the application (if any) will shutdown gracefully.\r\n\r\n","title":"Web application inside Tomcat 7 stops responding after 12-18 hrs","body":"<p>Though I am not sure about the order of your logs it seems that your application is failing in the following order:</p>\n\n<ul>\n<li>Some hiberante queries fail to execute and throw an exception</li>\n<li>The exceptions are not handled appropriately and possibly leave critical resources open (i.e. you have memory leaks - perhaps it does not close the database connections or the hibernate sessions). </li>\n<li>This causes some threads to hang (most of them seem to belong to third party libraries but some are suspects that are created by your application).</li>\n<li>Tomcat detects those conditions and is trying to shut down the corresponding services trying to reclaim the server's stability and eventually shuts down your applciation.</li>\n</ul>\n\n<p>If you have the source code check if all database related code works correctly (i.e. connections/session are closed in a <code>finally</code> block no matter what) and check that threads created by the application (if any) will shutdown gracefully.</p>\n"}],"owner":{"account_id":400932,"reputation":2006,"user_id":767200,"accept_rate":61,"display_name":"Amol Ghotankar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16473,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1633457590,"creation_date":1375024653,"question_id":17909713,"body_markdown":"I have an application hosted using tomcat and it stops responding after 12-18hrs, i can access other application like tomcat manager i.e tomcat process is working but my deployed app stops responding.\r\n\r\nI could not find anything really significant in logs that I can directly get some reason.\r\n\r\nI am using struts2 + spring + hibernate + jasper + jquery. And my tomcat is 7.0.32 hosted th mysql database.\r\n\r\nPlease let me know - how to know what exactly is the reason i.e debug it out and later how to fix it.\r\n\r\nIf required I can add some logs, but not sure which logs to add and which not so requesting moderators not to mark this question as false or unanswerable question but comment out and I will add/update the question as required.\r\n\r\nI have read some related question but they are really different than mine.\r\n\r\nThanks in advance.\r\n\r\n**catilina.out was created after server was stopped by me and shows following contents in brief**\r\n\r\n    INFO: Waiting for 200 instance(s) to be deallocated\r\n    \t\tJul 28, 2013 8:27:15 PM org.apache.catalina.core.StandardWrapper unload\r\n    \t\tINFO: Waiting for 200 instance(s) to be deallocated\r\n    \t\tJul 28, 2013 8:27:15 PM org.apache.catalina.core.StandardWrapper unload\r\n    \t\tINFO: Waiting for 1 instance(s) to be deallocated\r\n    \t\tJul 28, 2013 8:27:16 PM org.apache.catalina.core.StandardWrapper unload\r\n    \t\tINFO: Waiting for 1 instance(s) to be deallocated\r\n    \t\tJul 28, 2013 8:27:17 PM org.apache.catalina.core.StandardWrapper unload\r\n    \t\tINFO: Waiting for 1 instance(s) to be deallocated\r\n    \t\tJul 28, 2013 8:27:17 PM org.apache.catalina.core.ApplicationContext log\r\n    \t\tINFO: Closing Spring root WebApplicationContext\r\n    \t\tJul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\r\n    \t\tSEVERE: The web application [] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    \t\tJul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    \t\tSEVERE: The web application [] appears to have started a thread named [MySQL Statement Cancellation Timer] but has failed to stop it. This is very likely to create a memory leak.\r\n    \t\tJul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    \t\tSEVERE: The web application [] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak.\r\n    \t\tJul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    \t\tSEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0] but has failed to stop it. This is very likely to create a memory leak.\r\n    .............\r\n    \r\n    \r\n    \r\n    SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.DoctorProcessor.list(com.cursive.eclinic.DoctorCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.DoctorProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@1ee69725]) and a value of type [com.opensymphony.xwork2.ActionContext] (value [com.opensymphony.xwork2.ActionContext@56a2f846]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2513679]) and a value of type [org.apache.struts2.dispatcher.Dispatcher] (value [org.apache.struts2.dispatcher.Dispatcher@21cf431f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.TimeSlotProcessor.list(com.cursive.eclinic.TimeSlotCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.TimeSlotProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@1ee69725]) and a value of type [com.opensymphony.xwork2.ActionContext] (value [com.opensymphony.xwork2.ActionContext@6559e819]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2513679]) and a value of type [org.apache.struts2.dispatcher.Dispatcher] (value [org.apache.struts2.dispatcher.Dispatcher@21cf431f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.HospitalDoctorProcessor.list(com.cursive.eclinic.HospitalDoctorCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.HospitalDoctorProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@1ee69725]) and a value of type [com.opensymphony.xwork2.ActionContext] (value [com.opensymphony.xwork2.ActionContext@7194f54a]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2513679]) and a value of type [org.apache.struts2.dispatcher.Dispatcher] (value [org.apache.struts2.dispatcher.Dispatcher@21cf431f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \t\tSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.HospitalProcessor.list(com.cursive.eclinic.HospitalCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.HospitalProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    \t\tJul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\r\n    \r\n    \r\n    \r\n    INFO: Illegal access: this web application instance has been stopped already.  Could not load org.apache.log4j.spi.ThrowableInformation.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    \t\tjava.lang.IllegalStateException\r\n    \t\t\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1599)\r\n    \t\t\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1558)\r\n    \t\t\tat org.apache.log4j.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:154)\r\n    \t\t\tat org.apache.log4j.Category.forcedLog(Category.java:388)\r\n    \t\t\tat org.apache.log4j.Category.log(Category.java:853)\r\n    \t\t\tat com.mchange.v2.log.log4j.Log4jMLog$Log4jMLogger.log(Log4jMLog.java:161)\r\n    \t\t\tat com.mchange.v2.log.log4j.Log4jMLog$Log4jMLogger.log(Log4jMLog.java:173)\r\n    \t\t\tat com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:629)\r\n    \t\t\tat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477)\r\n    \t\t\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525)\r\n    \t\t\tat com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128)\r\n    \t\t\tat org.hibernate.connection.C3P0ConnectionProvider.getConnection(C3P0ConnectionProvider.java:78)\r\n    \t\t\tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\r\n    \t\t\tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\r\n    \t\t\tat org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\r\n    \t\t\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1577)\r\n    \t\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:696)\r\n    \t\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\r\n    \t\t\tat org.hibernate.loader.Loader.doList(Loader.java:2232)\r\n    \t\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2129)\r\n    \t\t\tat org.hibernate.loader.Loader.list(Loader.java:2124)\r\n    \t\t\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:118)\r\n    \t\t\tat org.hibernate.impl.SessionImpl.list(SessionImpl.java:1599)\r\n    \t\t\tat org.hibernate.impl.CriteriaImpl.list(CriteriaImpl.java:306)\r\n\r\n\r\n\r\nEdited --------\r\n\r\nTomcat manager server status shows under \r\n\r\n    &quot;http-bio-80&quot; Max threads: 200 \r\n    Current thread count: 149 \r\n    Current thread busy: 146 \r\n    Max processing time: 1066526 ms \r\n    Processing time: 26227.367 s \r\n    Request count: 5364 \r\n    Error count: 262 \r\n    Bytes received: 0.00 MB \r\n    Bytes sent: 127.51 MB\r\n\r\nAnd this is memory status \r\n\r\nJVM\r\n\r\n    Free memory: 36.16 MB Total memory: 362.78 MB Max memory: 494.93 MB\r\n    Memory Pool\tType\tInitial\tTotal\tMaximum\tUsed\r\n    Eden Space\tHeap memory\t68.31 MB\t100.12 MB\t136.50 MB\t81.74 MB (59%)\r\n    Survivor Space\tHeap memory\t8.50 MB\t12.50 MB\t17.06 MB\t12.50 MB (73%)\r\n    Tenured Gen\tHeap memory\t170.68 MB\t250.16 MB\t341.37 MB\t232.37 MB (68%)\r\n    Code Cache\tNon-heap memory\t2.43 MB\t11.12 MB\t48.00 MB\t10.99 MB (22%)\r\n    Perm Gen\tNon-heap memory\t20.75 MB\t69.87 MB\t82.00 MB\t69.76 MB (85%)\r\n\r\n\r\nWhat does it mean?\r\n\r\n\r\nI did a smart thing today restarted tomcat before it stopped responding and got following logs do they say anything \r\n\r\n    Jul 30, 2013 8:37:32 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-bio-80&quot;]\r\n    Jul 30, 2013 8:37:32 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-bio-443&quot;]\r\n    Jul 30, 2013 8:37:32 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Jul 30, 2013 8:37:32 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Closing Spring root WebApplicationContext\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\r\n    SEVERE: The web application [] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [] appears to have started a thread named [MySQL Statement Cancellation Timer] but has failed to stop it. This is very likely to create a memory leak.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0] but has failed to stop it. This is very likely to create a memory leak.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1] but has failed to stop it. This is very likely to create a memory leak.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2] but has failed to stop it. This is very likely to create a memory leak.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Closing Spring root WebApplicationContext\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\r\n    SEVERE: The web application [/eclinic] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    Jul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [/eclinic] appears to have started a thread named [MySQL Statement Cancellation Timer] but has failed to stop it. This is very likely to create a memory leak.\r\n    Jul 30, 2013 8:37:33 PM org.apache.coyote.AbstractProtocol stop\r\n    INFO: Stopping ProtocolHandler [&quot;http-bio-80&quot;]\r\n    Jul 30, 2013 8:37:33 PM org.apache.coyote.AbstractProtocol stop\r\n    INFO: Stopping ProtocolHandler [&quot;http-bio-443&quot;]\r\n    Jul 30, 2013 8:37:33 PM org.apache.coyote.AbstractProtocol stop\r\n    INFO: Stopping ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n\r\n","title":"Web application inside Tomcat 7 stops responding after 12-18 hrs","body":"<p>I have an application hosted using tomcat and it stops responding after 12-18hrs, i can access other application like tomcat manager i.e tomcat process is working but my deployed app stops responding.</p>\n\n<p>I could not find anything really significant in logs that I can directly get some reason.</p>\n\n<p>I am using struts2 + spring + hibernate + jasper + jquery. And my tomcat is 7.0.32 hosted th mysql database.</p>\n\n<p>Please let me know - how to know what exactly is the reason i.e debug it out and later how to fix it.</p>\n\n<p>If required I can add some logs, but not sure which logs to add and which not so requesting moderators not to mark this question as false or unanswerable question but comment out and I will add/update the question as required.</p>\n\n<p>I have read some related question but they are really different than mine.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>catilina.out was created after server was stopped by me and shows following contents in brief</strong></p>\n\n<pre><code>INFO: Waiting for 200 instance(s) to be deallocated\n        Jul 28, 2013 8:27:15 PM org.apache.catalina.core.StandardWrapper unload\n        INFO: Waiting for 200 instance(s) to be deallocated\n        Jul 28, 2013 8:27:15 PM org.apache.catalina.core.StandardWrapper unload\n        INFO: Waiting for 1 instance(s) to be deallocated\n        Jul 28, 2013 8:27:16 PM org.apache.catalina.core.StandardWrapper unload\n        INFO: Waiting for 1 instance(s) to be deallocated\n        Jul 28, 2013 8:27:17 PM org.apache.catalina.core.StandardWrapper unload\n        INFO: Waiting for 1 instance(s) to be deallocated\n        Jul 28, 2013 8:27:17 PM org.apache.catalina.core.ApplicationContext log\n        INFO: Closing Spring root WebApplicationContext\n        Jul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\n        SEVERE: The web application [] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n        Jul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\n        SEVERE: The web application [] appears to have started a thread named [MySQL Statement Cancellation Timer] but has failed to stop it. This is very likely to create a memory leak.\n        Jul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\n        SEVERE: The web application [] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak.\n        Jul 28, 2013 8:27:17 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\n        SEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0] but has failed to stop it. This is very likely to create a memory leak.\n.............\n\n\n\nSEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.DoctorProcessor.list(com.cursive.eclinic.DoctorCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.DoctorProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@1ee69725]) and a value of type [com.opensymphony.xwork2.ActionContext] (value [com.opensymphony.xwork2.ActionContext@56a2f846]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2513679]) and a value of type [org.apache.struts2.dispatcher.Dispatcher] (value [org.apache.struts2.dispatcher.Dispatcher@21cf431f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.TimeSlotProcessor.list(com.cursive.eclinic.TimeSlotCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.TimeSlotProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@1ee69725]) and a value of type [com.opensymphony.xwork2.ActionContext] (value [com.opensymphony.xwork2.ActionContext@6559e819]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2513679]) and a value of type [org.apache.struts2.dispatcher.Dispatcher] (value [org.apache.struts2.dispatcher.Dispatcher@21cf431f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.HospitalDoctorProcessor.list(com.cursive.eclinic.HospitalDoctorCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.HospitalDoctorProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@1ee69725]) and a value of type [com.opensymphony.xwork2.ActionContext] (value [com.opensymphony.xwork2.ActionContext@7194f54a]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@2513679]) and a value of type [org.apache.struts2.dispatcher.Dispatcher] (value [org.apache.struts2.dispatcher.Dispatcher@21cf431f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n        SEVERE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@55cd6225]) and a value of type [org.springframework.aop.framework.Cglib2AopProxy.CglibMethodInvocation] (value [ReflectiveMethodInvocation: public java.util.List com.cursive.eclinic.processor.HospitalProcessor.list(com.cursive.eclinic.HospitalCriteria) throws java.lang.Exception; target is of class [com.cursive.eclinic.processor.HospitalProcessor]]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n        Jul 28, 2013 8:27:18 PM org.apache.catalina.loader.WebappClassLoader checkThreadLocalMapForLeaks\n\n\n\nINFO: Illegal access: this web application instance has been stopped already.  Could not load org.apache.log4j.spi.ThrowableInformation.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\n        java.lang.IllegalStateException\n            at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1599)\n            at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1558)\n            at org.apache.log4j.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:154)\n            at org.apache.log4j.Category.forcedLog(Category.java:388)\n            at org.apache.log4j.Category.log(Category.java:853)\n            at com.mchange.v2.log.log4j.Log4jMLog$Log4jMLogger.log(Log4jMLog.java:161)\n            at com.mchange.v2.log.log4j.Log4jMLog$Log4jMLogger.log(Log4jMLog.java:173)\n            at com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:629)\n            at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477)\n            at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525)\n            at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128)\n            at org.hibernate.connection.C3P0ConnectionProvider.getConnection(C3P0ConnectionProvider.java:78)\n            at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n            at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n            at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\n            at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1577)\n            at org.hibernate.loader.Loader.doQuery(Loader.java:696)\n            at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\n            at org.hibernate.loader.Loader.doList(Loader.java:2232)\n            at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2129)\n            at org.hibernate.loader.Loader.list(Loader.java:2124)\n            at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:118)\n            at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1599)\n            at org.hibernate.impl.CriteriaImpl.list(CriteriaImpl.java:306)\n</code></pre>\n\n<p>Edited --------</p>\n\n<p>Tomcat manager server status shows under </p>\n\n<pre><code>\"http-bio-80\" Max threads: 200 \nCurrent thread count: 149 \nCurrent thread busy: 146 \nMax processing time: 1066526 ms \nProcessing time: 26227.367 s \nRequest count: 5364 \nError count: 262 \nBytes received: 0.00 MB \nBytes sent: 127.51 MB\n</code></pre>\n\n<p>And this is memory status </p>\n\n<p>JVM</p>\n\n<pre><code>Free memory: 36.16 MB Total memory: 362.78 MB Max memory: 494.93 MB\nMemory Pool Type    Initial Total   Maximum Used\nEden Space  Heap memory 68.31 MB    100.12 MB   136.50 MB   81.74 MB (59%)\nSurvivor Space  Heap memory 8.50 MB 12.50 MB    17.06 MB    12.50 MB (73%)\nTenured Gen Heap memory 170.68 MB   250.16 MB   341.37 MB   232.37 MB (68%)\nCode Cache  Non-heap memory 2.43 MB 11.12 MB    48.00 MB    10.99 MB (22%)\nPerm Gen    Non-heap memory 20.75 MB    69.87 MB    82.00 MB    69.76 MB (85%)\n</code></pre>\n\n<p>What does it mean?</p>\n\n<p>I did a smart thing today restarted tomcat before it stopped responding and got following logs do they say anything </p>\n\n<pre><code>Jul 30, 2013 8:37:32 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-bio-80\"]\nJul 30, 2013 8:37:32 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-bio-443\"]\nJul 30, 2013 8:37:32 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"ajp-bio-8009\"]\nJul 30, 2013 8:37:32 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nJul 30, 2013 8:37:33 PM org.apache.catalina.core.ApplicationContext log\nINFO: Closing Spring root WebApplicationContext\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\nSEVERE: The web application [] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [] appears to have started a thread named [MySQL Statement Cancellation Timer] but has failed to stop it. This is very likely to create a memory leak.\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak.\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0] but has failed to stop it. This is very likely to create a memory leak.\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1] but has failed to stop it. This is very likely to create a memory leak.\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [] appears to have started a thread named [com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2] but has failed to stop it. This is very likely to create a memory leak.\nJul 30, 2013 8:37:33 PM org.apache.catalina.core.ApplicationContext log\nINFO: Closing Spring root WebApplicationContext\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\nSEVERE: The web application [/eclinic] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nJul 30, 2013 8:37:33 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [/eclinic] appears to have started a thread named [MySQL Statement Cancellation Timer] but has failed to stop it. This is very likely to create a memory leak.\nJul 30, 2013 8:37:33 PM org.apache.coyote.AbstractProtocol stop\nINFO: Stopping ProtocolHandler [\"http-bio-80\"]\nJul 30, 2013 8:37:33 PM org.apache.coyote.AbstractProtocol stop\nINFO: Stopping ProtocolHandler [\"http-bio-443\"]\nJul 30, 2013 8:37:33 PM org.apache.coyote.AbstractProtocol stop\nINFO: Stopping ProtocolHandler [\"ajp-bio-8009\"]\n</code></pre>\n"},{"tags":["java","jdbc","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1633452163,"post_id":69454179,"comment_id":122761574,"body_markdown":"The jar has to be included in a plug-in, and be in the `Bundle-Classpath` of the plug-in. See for example [here](https://stackoverflow.com/a/44196191/2670892)","body":"The jar has to be included in a plug-in, and be in the <code>Bundle-Classpath</code> of the plug-in. See for example <a href=\"https://stackoverflow.com/a/44196191/2670892\">here</a>"},{"owner":{"account_id":22932137,"reputation":1,"user_id":17066224,"display_name":"Randall S. Becker"},"score":0,"creation_date":1633471671,"post_id":69454179,"comment_id":122767778,"body_markdown":"Thanks. That was the missing piece. Having it in CLASSPATH also appears to have interfered with some ECLIPSE function in 2021-09. ./bin has to be in the definition also for an RCP project to retain the project classes.","body":"Thanks. That was the missing piece. Having it in CLASSPATH also appears to have interfered with some ECLIPSE function in 2021-09. ./bin has to be in the definition also for an RCP project to retain the project classes."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633867223,"post_id":69454179,"comment_id":122869905,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22932137,"reputation":1,"user_id":17066224,"display_name":"Randall S. Becker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633457364,"creation_date":1633451523,"question_id":69454179,"body_markdown":"I am having trouble with the class loader trying to convince an Eclipse RCP application to load the UCanAccess JDBC driver. This works fine in a standard Java application, but I&#39;m having trouble (ClassNotFoundException when I try to use Class.forName()) and java.sql.SQLException: No suitable driver found for jdbc:ucanaccess://path without it. This probably comes down to properly specifying the class path to the RCP application, which does not appear to use the CLASSPATH variable or -classpath to the JVM.\r\n","title":"Loading ucanaccess.jar into an Eclipse RCP application","body":"<p>I am having trouble with the class loader trying to convince an Eclipse RCP application to load the UCanAccess JDBC driver. This works fine in a standard Java application, but I'm having trouble (ClassNotFoundException when I try to use Class.forName()) and java.sql.SQLException: No suitable driver found for jdbc:ucanaccess://path without it. This probably comes down to properly specifying the class path to the RCP application, which does not appear to use the CLASSPATH variable or -classpath to the JVM.</p>\n"},{"tags":["java","logic","computer-science","discrete-mathematics","conjunctive-normal-form"],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633457331,"creation_date":1633457331,"answer_id":69455330,"question_id":69448486,"body_markdown":"It depends on the specific notation you are using (from a book? From lectures?) But in this context I would expect it to be: \r\n\r\n1. { {} } is a conjunction of a single empty disjunction, which is is equivalent to that single empty disjunction, and its value is the [identity element][1] for disjunction (consider/remember what that is).\r\n\r\n2. {} is the empty conjunction, its value is the identity element for conjunction.\r\n\r\nBecause these values are different, the clauses are not equivalent.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Identity_element","title":"Is an empty clause within another empty clause is equivalent to an empty clause ?(In CNF form)","body":"<p>It depends on the specific notation you are using (from a book? From lectures?) But in this context I would expect it to be:</p>\n<ol>\n<li><p>{ {} } is a conjunction of a single empty disjunction, which is is equivalent to that single empty disjunction, and its value is the <a href=\"https://en.wikipedia.org/wiki/Identity_element\" rel=\"nofollow noreferrer\">identity element</a> for disjunction (consider/remember what that is).</p>\n</li>\n<li><p>{} is the empty conjunction, its value is the identity element for conjunction.</p>\n</li>\n</ol>\n<p>Because these values are different, the clauses are not equivalent.</p>\n"}],"owner":{"account_id":22946850,"reputation":1,"user_id":17078728,"display_name":"Carmello Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633457331,"creation_date":1633428197,"question_id":69448486,"body_markdown":"Is the clause { { } } ≡ { } ? The clauses are In CNF form.I tried thinking about it , so the final solution, according to me should be that the statement is true. Is the understanding correct?","title":"Is an empty clause within another empty clause is equivalent to an empty clause ?(In CNF form)","body":"<p>Is the clause { { } } ≡ { } ? The clauses are In CNF form.I tried thinking about it , so the final solution, according to me should be that the statement is true. Is the understanding correct?</p>\n"},{"tags":["java","android","json","google-places-api"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1633830944,"post_id":69448983,"comment_id":122864370,"body_markdown":"I guess checking the documentation or doing a web search wasn&#39;t an option?","body":"I guess checking the documentation or doing a web search wasn&#39;t an option?"},{"owner":{"account_id":22912781,"reputation":21,"user_id":17049793,"display_name":"Sahil"},"score":0,"creation_date":1633958311,"post_id":69448983,"comment_id":122891212,"body_markdown":"@Robert yes ofc it was, but the documentation does not seem to be useful in this case","body":"@Robert yes ofc it was, but the documentation does not seem to be useful in this case"}],"answers":[{"tags":[],"owner":{"account_id":3788082,"reputation":3094,"user_id":3145360,"accept_rate":33,"display_name":"Justin Poehnelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633457021,"creation_date":1633457021,"answer_id":69455258,"question_id":69448983,"body_markdown":"https://developers.google.com/maps/documentation/places/web-service/details#PlacePhoto which can be used to access the photos of the place https://developers.google.com/maps/documentation/places/web-service/photos.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h3osf.png","title":"What is the photo_reference field in the Places API?","body":"<p><a href=\"https://developers.google.com/maps/documentation/places/web-service/details#PlacePhoto\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/places/web-service/details#PlacePhoto</a> which can be used to access the photos of the place <a href=\"https://developers.google.com/maps/documentation/places/web-service/photos\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/places/web-service/photos</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/h3osf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3osf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22912781,"reputation":21,"user_id":17049793,"display_name":"Sahil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633457021,"creation_date":1633430425,"question_id":69448983,"body_markdown":"I understand most of the fields in the Places API, but I don&#39;t understand how to interpret the `photo_reference` field in the JSON.\r\n\r\n\r\nHere is the Snapshot of the JSON:\r\n[click to see the screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ITt86.png","title":"What is the photo_reference field in the Places API?","body":"<p>I understand most of the fields in the Places API, but I don't understand how to interpret the <code>photo_reference</code> field in the JSON.</p>\n<p>Here is the Snapshot of the JSON:\n<a href=\"https://i.stack.imgur.com/ITt86.png\" rel=\"nofollow noreferrer\">click to see the screenshot</a></p>\n"},{"tags":["java","security","jvm","bouncycastle","jvm-arguments"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1633470166,"post_id":69455130,"comment_id":122767421,"body_markdown":"Try to create a [minimal verifiable example](https://stackoverflow.com/help/minimal-reproducible-example), otherwise the question is too abstract. It&#39;s unlikely the code is executed before the property is set. Setting system properties is one of the first things JVM does during initialization.","body":"Try to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal verifiable example</a>, otherwise the question is too abstract. It&#39;s unlikely the code is executed before the property is set. Setting system properties is one of the first things JVM does during initialization."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1633484178,"post_id":69455130,"comment_id":122769845,"body_markdown":"It appears from the discussion in the issue [Logging of TLS handshake details #742](https://github.com/bcgit/bc-java/issues/742) that BouncyCastle does not respect that system property. I couldn&#39;t find any evidence of it changing the value of that property. I don&#39;t know why your code above doesn&#39;t see it set.","body":"It appears from the discussion in the issue <a href=\"https://github.com/bcgit/bc-java/issues/742\" rel=\"nofollow noreferrer\">Logging of TLS handshake details #742</a> that BouncyCastle does not respect that system property. I couldn&#39;t find any evidence of it changing the value of that property. I don&#39;t know why your code above doesn&#39;t see it set."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1633508244,"post_id":69455130,"comment_id":122775176,"body_markdown":"It’s rather the opposite. Between the initial setting by the JVM and the execution of this class initializer, a lot of other things may happen, including the possibility that some code overwrites this system property.","body":"It’s rather the opposite. Between the initial setting by the JVM and the execution of this class initializer, a lot of other things may happen, including the possibility that some code overwrites this system property."}],"owner":{"account_id":92555,"reputation":4267,"user_id":253609,"accept_rate":87,"display_name":"conorgriffin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633456344,"creation_date":1633456344,"question_id":69455130,"body_markdown":"I have an application which is started with `-Djavax.net.debug=ssl,handshake` but which does not actually show any debug logging.  This property is evaluated in a static block in `javax.net.ssl.SSLSocketFactory` as shown below\r\n\r\n```\r\n    static {\r\n        String s = java.security.AccessController.doPrivileged(\r\n            new GetPropertyAction(&quot;javax.net.debug&quot;, &quot;&quot;)).toLowerCase(\r\n                                                            Locale.ENGLISH);\r\n        DEBUG = s.contains(&quot;all&quot;) || s.contains(&quot;ssl&quot;);\r\n    }\r\n```\r\n\r\nIs there any possibility that this static block evaluates the property value before the JVM arg sets the value?  What&#39;s peculiar about this is that it only happens when a certain `Provider` is set on the classpath (along with other associated jar files), namely the BouncyCastle FIPS Provider.  I&#39;m wondering if somehow this library introduces a race condition or it prevents debug logging of TLS/SSL completely.\r\n\r\nI assumed that passing this as a JVM arg would ensure the earliest possible setting of this property.  When are these evaluated and is it possible this is a race condition or is this a &#39;feature&#39; of the bc-fips provider jar?","title":"When are JVM arguments evaluated into system properties?","body":"<p>I have an application which is started with <code>-Djavax.net.debug=ssl,handshake</code> but which does not actually show any debug logging.  This property is evaluated in a static block in <code>javax.net.ssl.SSLSocketFactory</code> as shown below</p>\n<pre><code>    static {\n        String s = java.security.AccessController.doPrivileged(\n            new GetPropertyAction(&quot;javax.net.debug&quot;, &quot;&quot;)).toLowerCase(\n                                                            Locale.ENGLISH);\n        DEBUG = s.contains(&quot;all&quot;) || s.contains(&quot;ssl&quot;);\n    }\n</code></pre>\n<p>Is there any possibility that this static block evaluates the property value before the JVM arg sets the value?  What's peculiar about this is that it only happens when a certain <code>Provider</code> is set on the classpath (along with other associated jar files), namely the BouncyCastle FIPS Provider.  I'm wondering if somehow this library introduces a race condition or it prevents debug logging of TLS/SSL completely.</p>\n<p>I assumed that passing this as a JVM arg would ensure the earliest possible setting of this property.  When are these evaluated and is it possible this is a race condition or is this a 'feature' of the bc-fips provider jar?</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1633446336,"post_id":69452324,"comment_id":122759088,"body_markdown":"You need to login the user to the FirebaseAuth in order to persist in the instance.","body":"You need to login the user to the FirebaseAuth in order to persist in the instance."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633456257,"creation_date":1633456257,"answer_id":69455114,"question_id":69452324,"body_markdown":"Firebase automatically restores the user credentials when you restart the app. This requires it to make a call to the server, amongst others to check whether the account was disabled. Since this call may take some time to complete, most likely it&#39;s still ongoing when you call `FirebaseAuth.getInstance().getCurrentUser()`.\r\n\r\nFor this reason it&#39;s best to instead observe `FirebaseAuth.instance.authStateChanges()` as shown in the https://stackoverflow.com/collectives/google-cloud/articles/68104924/listen-for-authentication-state-in-android. This callback gets called first when the authentication check I mentioned has completed, so you can use that to respond to the restored sign-in:\r\n```\r\nauth.addAuthStateListener(new FirebaseAuth.AuthStateListener() {\r\n    @Override\r\n    public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n        if (firebaseAuth.getCurrentUser() == null) {\r\n            Log.i(&quot;firebase&quot;, &quot;AuthState changed to null&quot;);\r\n        }\r\n        else {\r\n            Log.i(&quot;firebase&quot;, &quot;AuthState changed to &quot;+firebaseAuth.getCurrentUser().getUid());\r\n        }\r\n    }\r\n});\r\n```","title":"Get firebase user id in android","body":"<p>Firebase automatically restores the user credentials when you restart the app. This requires it to make a call to the server, amongst others to check whether the account was disabled. Since this call may take some time to complete, most likely it's still ongoing when you call <code>FirebaseAuth.getInstance().getCurrentUser()</code>.</p>\n<p>For this reason it's best to instead observe <code>FirebaseAuth.instance.authStateChanges()</code> as shown in the <a href=\"https://stackoverflow.com/collectives/google-cloud/articles/68104924/listen-for-authentication-state-in-android\">https://stackoverflow.com/collectives/google-cloud/articles/68104924/listen-for-authentication-state-in-android</a>. This callback gets called first when the authentication check I mentioned has completed, so you can use that to respond to the restored sign-in:</p>\n<pre><code>auth.addAuthStateListener(new FirebaseAuth.AuthStateListener() {\n    @Override\n    public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n        if (firebaseAuth.getCurrentUser() == null) {\n            Log.i(&quot;firebase&quot;, &quot;AuthState changed to null&quot;);\n        }\n        else {\n            Log.i(&quot;firebase&quot;, &quot;AuthState changed to &quot;+firebaseAuth.getCurrentUser().getUid());\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":22948363,"reputation":1,"user_id":17080021,"display_name":"PPL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633456257,"creation_date":1633444215,"question_id":69452324,"body_markdown":"After register with Firebase phone number (sms), I can get `user_id` and friends list from `user_id`, etc. But after I exit from app, and then re-enter the app return null `(FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();)` I cannot not get Firebase `user id` (firebaseUser return null). `implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;` Plz... How to solve a problem? \r\n\r\n    FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n    if (firebaseUser != null) { // return null\r\n        DatabaseReference reference1 = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid());\r\n        reference1.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\r\n                User user = dataSnapshot.getValue(User.class);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NotNull DatabaseError databaseError) {\r\n            }\r\n        });\r\n    }","title":"Get firebase user id in android","body":"<p>After register with Firebase phone number (sms), I can get <code>user_id</code> and friends list from <code>user_id</code>, etc. But after I exit from app, and then re-enter the app return null <code>(FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();)</code> I cannot not get Firebase <code>user id</code> (firebaseUser return null). <code>implementation 'com.google.firebase:firebase-auth:21.0.1'</code> Plz... How to solve a problem?</p>\n<pre><code>FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\nif (firebaseUser != null) { // return null\n    DatabaseReference reference1 = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid());\n    reference1.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\n            User user = dataSnapshot.getValue(User.class);\n        }\n\n        @Override\n        public void onCancelled(@NotNull DatabaseError databaseError) {\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","notifications","server-sent-events"],"comments":[{"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"score":0,"creation_date":1633352161,"post_id":68190944,"comment_id":122729057,"body_markdown":"your problem was solved ?","body":"your problem was solved ?"},{"owner":{"account_id":8424630,"reputation":145,"user_id":6322336,"display_name":"Fabio Nardelli"},"score":0,"creation_date":1633380981,"post_id":68190944,"comment_id":122740391,"body_markdown":"Hi, thank you for answering. Yes, I solved it. I didn&#39;t update or answer to my own question because of lack of time. Anyway, I solved it by using a separate controller for requesting old unhandled messages and using the sse emitter only for sending new messages on their arrival, via a service. It was pretty simple, my mistake was to try to solve this as a single problem while actually they were two different problems.","body":"Hi, thank you for answering. Yes, I solved it. I didn&#39;t update or answer to my own question because of lack of time. Anyway, I solved it by using a separate controller for requesting old unhandled messages and using the sse emitter only for sending new messages on their arrival, via a service. It was pretty simple, my mistake was to try to solve this as a single problem while actually they were two different problems."},{"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"score":0,"creation_date":1633430318,"post_id":68190944,"comment_id":122751896,"body_markdown":"can you update the answer there? I am also stuck.","body":"can you update the answer there? I am also stuck."},{"owner":{"account_id":8424630,"reputation":145,"user_id":6322336,"display_name":"Fabio Nardelli"},"score":0,"creation_date":1633456228,"post_id":68190944,"comment_id":122763096,"body_markdown":"@SYEDMUSTAFAHUSSAIN Done.","body":"@SYEDMUSTAFAHUSSAIN Done."}],"owner":{"account_id":8424630,"reputation":145,"user_id":6322336,"display_name":"Fabio Nardelli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633456152,"creation_date":1625041048,"question_id":68190944,"body_markdown":"I&#39;m new to Spring Boot and web applications. I have to send notifications of unhandled/unread messages from a Spring Boot backend to a web client. I decided to use Server Sent Events since I think I don&#39;t need a bidirectional connection (otherwise I&#39;d have thought of WebSockets).\r\n\r\nI made a very simple REST controller which finds all unhandled messages in a db and sends them to the client. The problem is that it keeps sending forever all the messages, while I&#39;d like to send a message only when it is added to the db, or when the client first connects to the server.\r\n\r\nThe behaviour I&#39;d like to achieve is similar to a mail client or a messaging app, in which the user is notifyed not only on new messages but also of previous ones if he/she didn&#39;t mark them as read. The notification should happen only once when the client connects, not loop forever.\r\n\r\nHere is my code:\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    public class SseEmitterController {\r\n\r\n        private MessageDAO messageDAO;\r\n\r\n        private ExecutorService nonBlockingService = Executors\r\n                .newCachedThreadPool();\r\n\r\n        @Autowired\r\n        public SseEmitterController(MessageDAO messageDAO) {\r\n            this.messageDAO = messageDAO;\r\n        }\r\n\r\n        @GetMapping(&quot;/incoming_messages&quot;)\r\n        public SseEmitter handleSse() {\r\n            SseEmitter emitter = new SseEmitter();\r\n            nonBlockingService.execute(() -&gt; {\r\n                try {\r\n                    List&lt;Message&gt; messages = messageDAO.findByHandledFalse();\r\n\r\n                    for (Message message: messages) {\r\n                        emitter.send(message, MediaType.APPLICATION_JSON);\r\n                    }\r\n\r\n                    emitter.complete();\r\n                } catch (Exception ex) {\r\n                    emitter.completeWithError(ex);\r\n                }\r\n            });\r\n            return emitter;\r\n        }\r\n    }\r\n\r\nI know that the problem is caused by the fact that I query the db inside handleSse method, but I couldn&#39;t figure out how to do it outside.\r\nCould you please help me?\r\n\r\n**Update October 05, 2021**\r\nI found out how to solve the problem, I didn&#39;t update the question because I didn&#39;t have the time, but since someone asked me to do so in the comments, I&#39;m gonna explain my solution, hoping it may be helpful.\r\n\r\nHere&#39;s my code:\r\n\r\nThe SseEmitterController is responsible for invoking the SseService on frontend&#39;s request:\r\n```\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class SseEmitterController {\r\n\r\n    private final SseService sseService;\r\n\r\n    @Autowired\r\n    SseEmitterController(SseService sseService) {\r\n        this.sseService = sseService;\r\n    }\r\n\r\n    @GetMapping(&quot;/incoming_messages&quot;)\r\n    public ResponseEntity&lt;SseEmitter&gt; handleSse() {\r\n\r\n        final SseEmitter emitter = new SseEmitter();\r\n        sseService.addEmitter(emitter);\r\n        emitter.onCompletion(() -&gt; sseService.removeEmitter(emitter));\r\n        emitter.onTimeout(() -&gt; sseService.removeEmitter(emitter));\r\n        return new ResponseEntity&lt;&gt;(emitter, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nThe SseService is called on a new message arrival (from another part of the application) and sends the notification (actually a server sent event) to the frontend (which previously called the endpoint in the controller above.\r\nThe service is called like so: `sseService.sendHelpRequestNotification(helpRequest);`\r\n\r\n```\r\n@Service\r\npublic class SseService {\r\n\r\n    private final List&lt;SseEmitter&gt; emitters = new CopyOnWriteArrayList&lt;&gt;();\r\n\r\n\r\n    public void addEmitter(final SseEmitter emitter) {\r\n        emitters.add(emitter);\r\n    }\r\n\r\n    public void removeEmitter(final SseEmitter emitter) {\r\n        emitters.remove(emitter);\r\n    }\r\n\r\n    public void sendMessagesNotification(Message message) {\r\n        List&lt;SseEmitter&gt; sseEmitterListToRemove = new ArrayList&lt;&gt;();\r\n        emitters.forEach((SseEmitter emitter) -&gt; {\r\n            try {\r\n                emitter.send(message, MediaType.APPLICATION_JSON);\r\n            } catch (Exception e) {\r\n                sseEmitterListToRemove.add(emitter);\r\n            }\r\n        });\r\n        emitters.removeAll(sseEmitterListToRemove);\r\n    }\r\n}\r\n```\r\nAnd finally there is another controller to get all previous unhandled messages (not involving server sent events):\r\n\r\n```\r\n@GetMapping(value = &quot;/unhandled_help_requests&quot;)\r\npublic ResponseEntity&lt;List&lt;HelpRequest&gt;&gt; getUnhandledMessages() {\r\n    List&lt;Message&gt; resultSet = messageDAO.findByHandledFalse(Sort.by(&quot;date&quot;).and(Sort.by(&quot;time&quot;)));\r\n    return new ResponseEntity&lt;&gt;(resultSet, HttpStatus.OK);\r\n}\r\n```\r\n\r\nSo, to sum it up: the frontend calls the SseEmitterController to listen for new SSEs. These SSEs are created and sent whenever a new message arrives to the backend, via the SseService. Finally, to get all unhandled (for whatever reason) messages, there is a specific old fashioned controller.","title":"How to send unread messages notifications with Server Sent Events in Spring Boot?","body":"<p>I'm new to Spring Boot and web applications. I have to send notifications of unhandled/unread messages from a Spring Boot backend to a web client. I decided to use Server Sent Events since I think I don't need a bidirectional connection (otherwise I'd have thought of WebSockets).</p>\n<p>I made a very simple REST controller which finds all unhandled messages in a db and sends them to the client. The problem is that it keeps sending forever all the messages, while I'd like to send a message only when it is added to the db, or when the client first connects to the server.</p>\n<p>The behaviour I'd like to achieve is similar to a mail client or a messaging app, in which the user is notifyed not only on new messages but also of previous ones if he/she didn't mark them as read. The notification should happen only once when the client connects, not loop forever.</p>\n<p>Here is my code:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class SseEmitterController {\n\n    private MessageDAO messageDAO;\n\n    private ExecutorService nonBlockingService = Executors\n            .newCachedThreadPool();\n\n    @Autowired\n    public SseEmitterController(MessageDAO messageDAO) {\n        this.messageDAO = messageDAO;\n    }\n\n    @GetMapping(&quot;/incoming_messages&quot;)\n    public SseEmitter handleSse() {\n        SseEmitter emitter = new SseEmitter();\n        nonBlockingService.execute(() -&gt; {\n            try {\n                List&lt;Message&gt; messages = messageDAO.findByHandledFalse();\n\n                for (Message message: messages) {\n                    emitter.send(message, MediaType.APPLICATION_JSON);\n                }\n\n                emitter.complete();\n            } catch (Exception ex) {\n                emitter.completeWithError(ex);\n            }\n        });\n        return emitter;\n    }\n}\n</code></pre>\n<p>I know that the problem is caused by the fact that I query the db inside handleSse method, but I couldn't figure out how to do it outside.\nCould you please help me?</p>\n<p><strong>Update October 05, 2021</strong>\nI found out how to solve the problem, I didn't update the question because I didn't have the time, but since someone asked me to do so in the comments, I'm gonna explain my solution, hoping it may be helpful.</p>\n<p>Here's my code:</p>\n<p>The SseEmitterController is responsible for invoking the SseService on frontend's request:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class SseEmitterController {\n\n    private final SseService sseService;\n\n    @Autowired\n    SseEmitterController(SseService sseService) {\n        this.sseService = sseService;\n    }\n\n    @GetMapping(&quot;/incoming_messages&quot;)\n    public ResponseEntity&lt;SseEmitter&gt; handleSse() {\n\n        final SseEmitter emitter = new SseEmitter();\n        sseService.addEmitter(emitter);\n        emitter.onCompletion(() -&gt; sseService.removeEmitter(emitter));\n        emitter.onTimeout(() -&gt; sseService.removeEmitter(emitter));\n        return new ResponseEntity&lt;&gt;(emitter, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>The SseService is called on a new message arrival (from another part of the application) and sends the notification (actually a server sent event) to the frontend (which previously called the endpoint in the controller above.\nThe service is called like so: <code>sseService.sendHelpRequestNotification(helpRequest);</code></p>\n<pre><code>@Service\npublic class SseService {\n\n    private final List&lt;SseEmitter&gt; emitters = new CopyOnWriteArrayList&lt;&gt;();\n\n\n    public void addEmitter(final SseEmitter emitter) {\n        emitters.add(emitter);\n    }\n\n    public void removeEmitter(final SseEmitter emitter) {\n        emitters.remove(emitter);\n    }\n\n    public void sendMessagesNotification(Message message) {\n        List&lt;SseEmitter&gt; sseEmitterListToRemove = new ArrayList&lt;&gt;();\n        emitters.forEach((SseEmitter emitter) -&gt; {\n            try {\n                emitter.send(message, MediaType.APPLICATION_JSON);\n            } catch (Exception e) {\n                sseEmitterListToRemove.add(emitter);\n            }\n        });\n        emitters.removeAll(sseEmitterListToRemove);\n    }\n}\n</code></pre>\n<p>And finally there is another controller to get all previous unhandled messages (not involving server sent events):</p>\n<pre><code>@GetMapping(value = &quot;/unhandled_help_requests&quot;)\npublic ResponseEntity&lt;List&lt;HelpRequest&gt;&gt; getUnhandledMessages() {\n    List&lt;Message&gt; resultSet = messageDAO.findByHandledFalse(Sort.by(&quot;date&quot;).and(Sort.by(&quot;time&quot;)));\n    return new ResponseEntity&lt;&gt;(resultSet, HttpStatus.OK);\n}\n</code></pre>\n<p>So, to sum it up: the frontend calls the SseEmitterController to listen for new SSEs. These SSEs are created and sent whenever a new message arrives to the backend, via the SseService. Finally, to get all unhandled (for whatever reason) messages, there is a specific old fashioned controller.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":3,"creation_date":1633455919,"post_id":69455052,"comment_id":122762988,"body_markdown":"JavaScript is not Java.","body":"JavaScript is not Java."},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1633456596,"post_id":69455052,"comment_id":122763232,"body_markdown":"You are dividing an integer by another integer; you&#39;re only going to get an integer as a result. Try dividing by a decimal.","body":"You are dividing an integer by another integer; you&#39;re only going to get an integer as a result. Try dividing by a decimal."}],"owner":{"account_id":22951137,"reputation":1,"user_id":17082398,"display_name":"FrenchQuebecouais"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633456615,"answer_count":0,"score":0,"last_activity_date":1633455912,"creation_date":1633455881,"question_id":69455052,"body_markdown":"I have a problem with my code, it doesn&#39;t show the percentage correctly in the console.\r\nI tried a lot of thing, a little help would be much appreciate.\r\n\r\nThank you!\r\n\r\n      public static void exercice1() {\r\n\t  int egale = 0;\r\n    Random rand = new Random(); \r\n    System.out.println(&quot;==== Lancer d&#39;une pi&#232;ce (10 fois) =====&quot;);\r\n    for (int i=1; i&lt;=1000000; i++){\r\n      int lancer = rand.nextInt(6)+1;\r\n      int lancer2 = rand.nextInt(6)+1;\r\n      int lancer3 = rand.nextInt(6)+1;\r\n     if(lancer == lancer2 &amp;&amp; lancer2 == lancer3 &amp;&amp; lancer3 == lancer) {\r\n    \t egale++;\r\n     \tSystem.out.println(&quot;Les d&#233;s on &#233;t&#233; sembable &quot;+egale+ &quot; fois&quot;);\r\n     }\r\n    \t \r\n    \t \r\n    }\r\n  \tdouble pourcentage = ((egale / 1000000) * 100);\r\n  \tDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n  \tSystem.out.println(&quot;Les d&#233;s on &#233;t&#233; sembable &quot;+Double.valueOf(df.format(pourcentage))+ &quot;% du temps&quot;);\r\n  }\r\n\r\n\r\n\r\n","title":"show percentage in console (JAVA)","body":"<p>I have a problem with my code, it doesn't show the percentage correctly in the console.\nI tried a lot of thing, a little help would be much appreciate.</p>\n<p>Thank you!</p>\n<pre><code>  public static void exercice1() {\n  int egale = 0;\nRandom rand = new Random(); \nSystem.out.println(&quot;==== Lancer d'une pièce (10 fois) =====&quot;);\nfor (int i=1; i&lt;=1000000; i++){\n  int lancer = rand.nextInt(6)+1;\n  int lancer2 = rand.nextInt(6)+1;\n  int lancer3 = rand.nextInt(6)+1;\n if(lancer == lancer2 &amp;&amp; lancer2 == lancer3 &amp;&amp; lancer3 == lancer) {\n     egale++;\n    System.out.println(&quot;Les dés on été sembable &quot;+egale+ &quot; fois&quot;);\n }\n     \n     \n}\ndouble pourcentage = ((egale / 1000000) * 100);\nDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\nSystem.out.println(&quot;Les dés on été sembable &quot;+Double.valueOf(df.format(pourcentage))+ &quot;% du temps&quot;);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","junit","jdbctemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1633437580,"post_id":69450548,"comment_id":122754901,"body_markdown":"You are, despite the JUnit 5 dependencies, using JUnit 4. So either use a JUnit 5 `@Test` annotation or add `@RunWith(SpringRunner.class)` to your class.","body":"You are, despite the JUnit 5 dependencies, using JUnit 4. So either use a JUnit 5 <code>@Test</code> annotation or add <code>@RunWith(SpringRunner.class)</code> to your class."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1633437661,"post_id":69450548,"comment_id":122754933,"body_markdown":"You should remove all the Junit dependencies. And I would also recommend to update to the most recent Spring Boot version","body":"You should remove all the Junit dependencies. And I would also recommend to update to the most recent Spring Boot version"},{"owner":{"account_id":11199673,"reputation":115,"user_id":8217185,"display_name":"thevipulvats"},"score":0,"creation_date":1633438941,"post_id":69450548,"comment_id":122755526,"body_markdown":"@M.Deinum        When i try with junit 5 `@ Test` i get same null pointer exception and when i try with `@ RunWith(SpringRunner.class)`  i get java.lang.IllegalStateException: Failed to load ApplicationContext\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)..............","body":"@M.Deinum        When i try with junit 5 <code>@ Test</code> i get same null pointer exception and when i try with <code>@ RunWith(SpringRunner.class)</code>  i get java.lang.IllegalStateException: Failed to load ApplicationContext \tat org.springframework.test.context.cache.DefaultCacheAwareCont&zwnj;&#8203;extLoaderDelegate.lo&zwnj;&#8203;adContext(DefaultCac&zwnj;&#8203;heAwareContextLoader&zwnj;&#8203;Delegate.java:125) \tat org.springframework.test.context.support.DefaultTestContext.&zwnj;&#8203;getApplicationContex&zwnj;&#8203;t(DefaultTestContext&zwnj;&#8203;.java:108)..........&zwnj;&#8203;...."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633439343,"post_id":69450548,"comment_id":122755744,"body_markdown":"So you are using JUnit 4 then and your configuration is borked. Please don&#39;t add additional code/errors as comments as those are totally unreadable.","body":"So you are using JUnit 4 then and your configuration is borked. Please don&#39;t add additional code/errors as comments as those are totally unreadable."},{"owner":{"account_id":11199673,"reputation":115,"user_id":8217185,"display_name":"thevipulvats"},"score":0,"creation_date":1633440066,"post_id":69450548,"comment_id":122756096,"body_markdown":"@M.Deinum Any help.. how to work it out with junit 5 ?","body":"@M.Deinum Any help.. how to work it out with junit 5 ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633440326,"post_id":69450548,"comment_id":122756225,"body_markdown":"For starters use only junit5 dependencies and the fact you have those exclusions (why, those are already part of `spring-boot-starter-test`) and you are messing around with versions. That latter fact makes me wonder if you are messing around with maven even more.","body":"For starters use only junit5 dependencies and the fact you have those exclusions (why, those are already part of <code>spring-boot-starter-test</code>) and you are messing around with versions. That latter fact makes me wonder if you are messing around with maven even more."},{"owner":{"account_id":11199673,"reputation":115,"user_id":8217185,"display_name":"thevipulvats"},"score":0,"creation_date":1633463174,"post_id":69450548,"comment_id":122765431,"body_markdown":"@M.Deinum, I am using ArgumentsAccessor and Mockito.lenient() that&#39;s why I had to override the versions.","body":"@M.Deinum, I am using ArgumentsAccessor and Mockito.lenient() that&#39;s why I had to override the versions."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633527285,"post_id":69450548,"comment_id":122783306,"body_markdown":"You downgraded the versions of mockito and updated the versions of junit. So basically you have non compatible versions, I would suggest using the proper way for the new version of mockito.","body":"You downgraded the versions of mockito and updated the versions of junit. So basically you have non compatible versions, I would suggest using the proper way for the new version of mockito."}],"owner":{"account_id":11199673,"reputation":115,"user_id":8217185,"display_name":"thevipulvats"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633455898,"creation_date":1633437227,"question_id":69450548,"body_markdown":" I am trying to test the db call with h2 database but jdbc template is turning out to be null.\r\nI have already set the application-testing.properties and set the environment in eclipse as active for this this property.\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.JdbcTest;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.test.context.jdbc.Sql;\r\n    // \r\n    \r\n    @Sql({ &quot;schema.sql&quot;, &quot;test-data.sql&quot; })\r\n    @JdbcTest\r\n    public class DbTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate JdbcTemplate jdbcTemplateRead;\r\n    \r\n    \t@Test\r\n    \tpublic void testTheDatabase() {\r\n    \t\t// PDao paymentDao = new PDao();\r\n    \t\t// paymentDao.setJdbcTemplateRead(jdbcTemplateRead);\r\n    \t\t// User user = paymentDao.getUser(0l);\r\n    \t\t// assertThat(user.getPlatForm()).isEqualTo(5);\r\n    \t}\r\n    }\r\n\r\n**application-testing.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.h2.console.enabled=true\r\n\r\n**Getting this exception**\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.til.gaana.user.api.service.impl.DbTest.testTheDatabase(DbTest.java:26)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n**Spring boot version** \r\n2.0.4.RELEASE\r\n\r\n**pom.xml**\r\n\r\n\t    &lt;dependency&gt;  \r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt; \r\n\t\t\t&lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt; \r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.8.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- 1.8.1 junit-platform-engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.24.0&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.12.4&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.8.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.10&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Getting null as jdbctemplate while testing db with JdbcTest","body":"<p>I am trying to test the db call with h2 database but jdbc template is turning out to be null.\nI have already set the application-testing.properties and set the environment in eclipse as active for this this property.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.JdbcTest;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.test.context.jdbc.Sql;\n// \n\n@Sql({ &quot;schema.sql&quot;, &quot;test-data.sql&quot; })\n@JdbcTest\npublic class DbTest {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplateRead;\n\n    @Test\n    public void testTheDatabase() {\n        // PDao paymentDao = new PDao();\n        // paymentDao.setJdbcTemplateRead(jdbcTemplateRead);\n        // User user = paymentDao.getUser(0l);\n        // assertThat(user.getPlatForm()).isEqualTo(5);\n    }\n}\n</code></pre>\n<p><strong>application-testing.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.h2.console.enabled=true\n</code></pre>\n<p><strong>Getting this exception</strong></p>\n<pre><code>java.lang.NullPointerException\n    at com.til.gaana.user.api.service.impl.DbTest.testTheDatabase(DbTest.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p><strong>Spring boot version</strong>\n2.0.4.RELEASE</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;  \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \n        &lt;scope&gt;test&lt;/scope&gt; \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n        &lt;version&gt;1.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- 1.8.1 junit-platform-engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.24.0&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;3.12.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.8.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.8.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n  &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n  &lt;version&gt;1.9.10&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","macos","tomcat","liferay"],"comments":[{"owner":{"account_id":459192,"reputation":4210,"user_id":859518,"display_name":"Pankaj Kathiriya"},"score":0,"creation_date":1382361653,"post_id":19494864,"comment_id":28917106,"body_markdown":"are you getting blank page on localhost:8080?","body":"are you getting blank page on localhost:8080?"},{"owner":{"account_id":221962,"reputation":7949,"user_id":480231,"accept_rate":81,"display_name":"1110"},"score":0,"creation_date":1382433387,"post_id":19494864,"comment_id":28947373,"body_markdown":"Yes I get blank page when I try to access localhost:8080","body":"Yes I get blank page when I try to access localhost:8080"},{"owner":{"account_id":459192,"reputation":4210,"user_id":859518,"display_name":"Pankaj Kathiriya"},"score":0,"creation_date":1382434215,"post_id":19494864,"comment_id":28947828,"body_markdown":"I had faced same issue. I am not sure but it was issue with virtual host setting. localhost:8080/web/guest/home would work if you try..","body":"I had faced same issue. I am not sure but it was issue with virtual host setting. localhost:8080/web/guest/home would work if you try.."},{"owner":{"account_id":221962,"reputation":7949,"user_id":480231,"accept_rate":81,"display_name":"1110"},"score":0,"creation_date":1382442513,"post_id":19494864,"comment_id":28952664,"body_markdown":"No that doesn&#39;t work also :(","body":"No that doesn&#39;t work also :("}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382364847,"creation_date":1382364847,"answer_id":19496935,"question_id":19494864,"body_markdown":"You haven&#39;t configured a connector port 8080 so you won&#39;t get a response. The only connector you have configured is for AJP on port 8009 as can be seen from the logs.\r\n\r\n    Oct 21, 2013 2:30:04 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>You haven't configured a connector port 8080 so you won't get a response. The only connector you have configured is for AJP on port 8009 as can be seen from the logs.</p>\n\n<pre><code>Oct 21, 2013 2:30:04 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471515,"reputation":3093,"user_id":879368,"accept_rate":84,"display_name":"yannicuLar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382617774,"creation_date":1382617774,"answer_id":19565988,"question_id":19494864,"body_markdown":"If you&#39;re running the server from Eclipse, Go to Servers -&gt; ports and set 8080 for HTTP/1.1\r\n![enter image description here][1]\r\n\r\nIf you&#39;re running a standalone Tomcat, go and edit tomcat/conf/server.xml and set\r\n\r\n    &lt;Connector URIEncoding=&quot;UTF-8&quot; connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;/&gt;\r\n\r\nMake sure that the port 8080 is allowed from the server, and it&#39;s not used from another application\r\nWhen the Server start, you should be able to read in the log this :\r\n\r\n    org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fhsk7.jpg","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>If you're running the server from Eclipse, Go to Servers -> ports and set 8080 for HTTP/1.1\n<img src=\"https://i.stack.imgur.com/fhsk7.jpg\" alt=\"enter image description here\"></p>\n\n<p>If you're running a standalone Tomcat, go and edit tomcat/conf/server.xml and set</p>\n\n<pre><code>&lt;Connector URIEncoding=\"UTF-8\" connectionTimeout=\"20000\" port=\"8080\" protocol=\"HTTP/1.1\" redirectPort=\"8443\"/&gt;\n</code></pre>\n\n<p>Make sure that the port 8080 is allowed from the server, and it's not used from another application\nWhen the Server start, you should be able to read in the log this :</p>\n\n<pre><code>org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8080\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382624962,"creation_date":1382624962,"answer_id":19568755,"question_id":19494864,"body_markdown":"My expectation would be to find this in the log:\r\n\r\n    24.10.2013 13:43:14 org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    24.10.2013 13:43:14 org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n\r\nthis would indicate the protocol handler for 8080 to start. \r\n\r\nMy advice to find the root cause of your problem is:\r\n\r\n* Access `localhost:8080` *before* you start Liferay. This might give you the same result, indicating that there&#39;s some other software running on port 8080.\r\n* If this didn&#39;t help: Download a Liferay tomcat bundle again, unzip unchanged to a new location, run that one unchanged as well - if this one works, compare both directories, especially tomcat&#39;s `/conf/` directory.\r\n* If that doesn&#39;t work, check if your environment defines any of the variables CATALINA_HOME, CATALINA_BASE, LIFERAY_HOME. \r\n* You&#39;ll be able to see more of the logs that you posted by running just a single command like `./bin/catalina.sh run`. This will run tomcat in the foreground, showing the logs from the beginning without the chance to miss something because the `tail` command came too late\r\n","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>My expectation would be to find this in the log:</p>\n\n<pre><code>24.10.2013 13:43:14 org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8080\"]\n24.10.2013 13:43:14 org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"ajp-bio-8009\"]\n</code></pre>\n\n<p>this would indicate the protocol handler for 8080 to start. </p>\n\n<p>My advice to find the root cause of your problem is:</p>\n\n<ul>\n<li>Access <code>localhost:8080</code> <em>before</em> you start Liferay. This might give you the same result, indicating that there's some other software running on port 8080.</li>\n<li>If this didn't help: Download a Liferay tomcat bundle again, unzip unchanged to a new location, run that one unchanged as well - if this one works, compare both directories, especially tomcat's <code>/conf/</code> directory.</li>\n<li>If that doesn't work, check if your environment defines any of the variables CATALINA_HOME, CATALINA_BASE, LIFERAY_HOME. </li>\n<li>You'll be able to see more of the logs that you posted by running just a single command like <code>./bin/catalina.sh run</code>. This will run tomcat in the foreground, showing the logs from the beginning without the chance to miss something because the <code>tail</code> command came too late</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2068045,"reputation":1056,"user_id":1843163,"accept_rate":56,"display_name":"JohnP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382997697,"creation_date":1382995338,"answer_id":19645316,"question_id":19494864,"body_markdown":"There is probably some other process using port 8080. Check it with this command:\r\n\r\n    sudo netstat -lnp | grep &#39;:8080&#39;\r\n\r\nKill that running process\r\n\r\n    sudo kill -9 {PID}\r\n\r\nFor example \r\n\r\n    sudo kill -9 1234\r\n\r\nRestart Tomcat (if installed as service)\r\n\r\n    service tomcat7 restart\r\n\r\n","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>There is probably some other process using port 8080. Check it with this command:</p>\n\n<pre><code>sudo netstat -lnp | grep ':8080'\n</code></pre>\n\n<p>Kill that running process</p>\n\n<pre><code>sudo kill -9 {PID}\n</code></pre>\n\n<p>For example </p>\n\n<pre><code>sudo kill -9 1234\n</code></pre>\n\n<p>Restart Tomcat (if installed as service)</p>\n\n<pre><code>service tomcat7 restart\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108689,"reputation":1028,"user_id":288387,"accept_rate":53,"display_name":"elsadek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383166305,"creation_date":1383166305,"answer_id":19693579,"question_id":19494864,"body_markdown":"A good starting point is to check if tomcat is receiving requests on port 8080 ; in your command-line type:\r\n\r\n    telnet localhost 8080\r\n\r\nIf you get a black/empty screen then tomcat is indeed listening on that port, otherwise you get a connection failure, then you need to doublecheck you tomcat configuration.","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>A good starting point is to check if tomcat is receiving requests on port 8080 ; in your command-line type:</p>\n\n<pre><code>telnet localhost 8080\n</code></pre>\n\n<p>If you get a black/empty screen then tomcat is indeed listening on that port, otherwise you get a connection failure, then you need to doublecheck you tomcat configuration.</p>\n"},{"tags":[],"owner":{"account_id":2065473,"reputation":5806,"user_id":1928157,"accept_rate":79,"display_name":"Jignesh.Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383209384,"creation_date":1383200532,"answer_id":19699689,"question_id":19494864,"body_markdown":" It looks like Liferay started up normally (but add more information - catalina.out or others, as gamerson requested in a comment)\r\n\r\nAlso:\r\n\r\n - Check Firewall settings (8080 might be blocked)\r\n - Your lsof output lists IPV6 (it&#39;s been long since I interpreted lsof\r\n   output and commandline - this might be normal, or not. You don&#39;t say\r\n   if you attempt an IPV4 connection)\r\n - Try to connect with a browser from that server. If it&#39;s a shell-only\r\n   server, use w3m or lynx on `http://localhost:8080/`\r\n\r\n  \r\n\r\n     #user  nobody;\r\n        worker_processes  1;\r\n        \r\n        events {\r\n            worker_connections  1024;\r\n        }\r\n        \r\n        \r\n        http {\r\n            passenger_root /var/lib/gems/1.9.1/gems/passenger-4.0.5;\r\n            passenger_ruby /usr/bin/ruby1.9.1;\r\n            passenger_max_pool_size 10;\r\n            include       mime.types;\r\n            default_type  application/octet-stream;\r\n            sendfile        on;\r\n            keepalive_timeout  65;\r\n        \r\n            gzip  on;\r\n        \r\n            server {\r\n              listen       80;\r\n              server_name  localhost;\r\n              access_log /var/www/access.log;\r\n              error_log  /var/www/error.log;\r\n        \r\n             location / {\r\n                root   /var/www/demo/public;\r\n                passenger_enabled on;\r\n                rails_env production;\r\n             }\r\n        \r\n             error_page   500 502 503 504  /50x.html;\r\n             location = /50x.html {\r\n                root   html;\r\n            }\r\n        }","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>It looks like Liferay started up normally (but add more information - catalina.out or others, as gamerson requested in a comment)</p>\n\n<p>Also:</p>\n\n<ul>\n<li>Check Firewall settings (8080 might be blocked)</li>\n<li>Your lsof output lists IPV6 (it's been long since I interpreted lsof\noutput and commandline - this might be normal, or not. You don't say\nif you attempt an IPV4 connection)</li>\n<li><p>Try to connect with a browser from that server. If it's a shell-only\nserver, use w3m or lynx on <code>http://localhost:8080/</code></p>\n\n<p>#user  nobody;\n    worker_processes  1;</p>\n\n<pre><code>events {\n    worker_connections  1024;\n}\n\n\nhttp {\n    passenger_root /var/lib/gems/1.9.1/gems/passenger-4.0.5;\n    passenger_ruby /usr/bin/ruby1.9.1;\n    passenger_max_pool_size 10;\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n\n    gzip  on;\n\n    server {\n      listen       80;\n      server_name  localhost;\n      access_log /var/www/access.log;\n      error_log  /var/www/error.log;\n\n     location / {\n        root   /var/www/demo/public;\n        passenger_enabled on;\n        rails_env production;\n     }\n\n     error_page   500 502 503 504  /50x.html;\n     location = /50x.html {\n        root   html;\n    }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12632314,"reputation":511,"user_id":9183199,"display_name":"ThivankaW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633455738,"creation_date":1633455738,"answer_id":69455020,"question_id":19494864,"body_markdown":"I mistakenly had a environment variable for CATALINA_HOME setup a few months back pointing to a different tomcat setup this caused the port 8080 to be invoked by that older setup and thus getting reserved before its used by Liferay. Make sure your CATALINA_HOME variable is configured to point at the tomcat bundled with Liferay. ","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>I mistakenly had a environment variable for CATALINA_HOME setup a few months back pointing to a different tomcat setup this caused the port 8080 to be invoked by that older setup and thus getting reserved before its used by Liferay. Make sure your CATALINA_HOME variable is configured to point at the tomcat bundled with Liferay.</p>\n"}],"owner":{"account_id":221962,"reputation":7949,"user_id":480231,"accept_rate":81,"display_name":"1110"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1633455738,"creation_date":1382359415,"question_id":19494864,"body_markdown":"I have downloaded liferay bundle with tomcat.&lt;br/&gt;\r\nI unpack it to my mac `Applications/Administrating/liferay....`&lt;br/&gt;\r\nI have run `./startup.sh` &lt;br/&gt;\r\nAnd at the exnd I get: `INFO: Server startup in 47781 ms`&lt;br/&gt;\r\nBut when I open `localhost:8080` in browser I get `&quot;No data received&quot;` like there is no site installed.&lt;br/&gt;\r\nThis is whole log:\r\n\r\n    Using CATALINA_BASE:   /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40\r\n    Using CATALINA_HOME:   /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40\r\n    Using CATALINA_TMPDIR: /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/temp\r\n    Using JRE_HOME:        /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n    Using CLASSPATH:       /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/bin/bootstrap.jar:/Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/bin/tomcat-juli.jar\r\n    STSiMacVVU:bin vladimirvucetic$ tail -f ../logs/catalina.out \r\n    Oct 21, 2013 2:30:04 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Oct 21, 2013 2:30:04 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 665 ms\r\n    Oct 21, 2013 2:30:04 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Oct 21, 2013 2:30:04 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.40\r\n    Oct 21, 2013 2:30:04 PM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    INFO: Deploying configuration descriptor /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/conf/Catalina/localhost/ROOT.xml\r\n    Loading jar:file:/Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\r\n    Loading jar:file:/Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\r\n    Oct 21, 2013 2:30:16 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring root WebApplicationContext\r\n    14:30:21,037 INFO  [localhost-startStop-1][DialectDetector:71] Determine dialect for HSQL Database Engine 2\r\n    14:30:21,040 WARN  [localhost-startStop-1][DialectDetector:86] Liferay is configured to use Hypersonic as its database. Do NOT use Hypersonic in production. Hypersonic is an embedded database useful for development and demo&#39;ing purposes. The database settings can be changed in portal-ext.properties.\r\n    14:30:21,084 INFO  [localhost-startStop-1][DialectDetector:136] Found dialect org.hibernate.dialect.HSQLDialect\r\n    14:30:36,629 WARN  [localhost-startStop-1][PDFProcessorImpl:235] Liferay is not configured to use ImageMagick. For better quality document and image previews, install ImageMagick and enable it in portal-ext.properties or in the Server Administration control panel at: http://&lt;server&gt;/group/control_panel/manage/-/server/external-services\r\n    Starting Liferay Portal Community Edition 6.1.2 CE (Paton / Build 6102 / August 2, 2013)\r\n    14:30:41,605 INFO  [localhost-startStop-1][BaseDB:478] Database supports case sensitive queries\r\n    14:30:42,056 INFO  [localhost-startStop-1][ServerDetector:169] Server supports hot deploy\r\n    14:30:42,064 INFO  [localhost-startStop-1][PluginPackageUtil:1046] Reading plugin package for the root context\r\n    14:30:44,914 INFO  [localhost-startStop-1][AutoDeployDir:144] Auto deploy scanner started for /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/deploy\r\n    Oct 21, 2013 2:30:48 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring FrameworkServlet &#39;Remoting Servlet&#39;\r\n    Oct 21, 2013 2:30:49 PM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/marketplace-portlet\r\n    Oct 21, 2013 2:30:50 PM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/portal-compat-hook\r\n    Oct 21, 2013 2:30:51 PM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/resources-importer-web\r\n    Oct 21, 2013 2:30:51 PM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/welcome-theme\r\n    Oct 21, 2013 2:30:52 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Oct 21, 2013 2:30:52 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 47781 ms\r\n\r\nWhat am I missing here?","title":"Liferay installed but localhost:8080 return &quot;No data received&quot;","body":"<p>I have downloaded liferay bundle with tomcat.<br/>\nI unpack it to my mac <code>Applications/Administrating/liferay....</code><br/>\nI have run <code>./startup.sh</code> <br/>\nAnd at the exnd I get: <code>INFO: Server startup in 47781 ms</code><br/>\nBut when I open <code>localhost:8080</code> in browser I get <code>\"No data received\"</code> like there is no site installed.<br/>\nThis is whole log:</p>\n\n<pre><code>Using CATALINA_BASE:   /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40\nUsing CATALINA_HOME:   /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40\nUsing CATALINA_TMPDIR: /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/temp\nUsing JRE_HOME:        /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nUsing CLASSPATH:       /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/bin/bootstrap.jar:/Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/bin/tomcat-juli.jar\nSTSiMacVVU:bin vladimirvucetic$ tail -f ../logs/catalina.out \nOct 21, 2013 2:30:04 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nOct 21, 2013 2:30:04 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 665 ms\nOct 21, 2013 2:30:04 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nOct 21, 2013 2:30:04 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.40\nOct 21, 2013 2:30:04 PM org.apache.catalina.startup.HostConfig deployDescriptor\nINFO: Deploying configuration descriptor /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/conf/Catalina/localhost/ROOT.xml\nLoading jar:file:/Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\nLoading jar:file:/Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\nOct 21, 2013 2:30:16 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring root WebApplicationContext\n14:30:21,037 INFO  [localhost-startStop-1][DialectDetector:71] Determine dialect for HSQL Database Engine 2\n14:30:21,040 WARN  [localhost-startStop-1][DialectDetector:86] Liferay is configured to use Hypersonic as its database. Do NOT use Hypersonic in production. Hypersonic is an embedded database useful for development and demo'ing purposes. The database settings can be changed in portal-ext.properties.\n14:30:21,084 INFO  [localhost-startStop-1][DialectDetector:136] Found dialect org.hibernate.dialect.HSQLDialect\n14:30:36,629 WARN  [localhost-startStop-1][PDFProcessorImpl:235] Liferay is not configured to use ImageMagick. For better quality document and image previews, install ImageMagick and enable it in portal-ext.properties or in the Server Administration control panel at: http://&lt;server&gt;/group/control_panel/manage/-/server/external-services\nStarting Liferay Portal Community Edition 6.1.2 CE (Paton / Build 6102 / August 2, 2013)\n14:30:41,605 INFO  [localhost-startStop-1][BaseDB:478] Database supports case sensitive queries\n14:30:42,056 INFO  [localhost-startStop-1][ServerDetector:169] Server supports hot deploy\n14:30:42,064 INFO  [localhost-startStop-1][PluginPackageUtil:1046] Reading plugin package for the root context\n14:30:44,914 INFO  [localhost-startStop-1][AutoDeployDir:144] Auto deploy scanner started for /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/deploy\nOct 21, 2013 2:30:48 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring FrameworkServlet 'Remoting Servlet'\nOct 21, 2013 2:30:49 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/marketplace-portlet\nOct 21, 2013 2:30:50 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/portal-compat-hook\nOct 21, 2013 2:30:51 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/resources-importer-web\nOct 21, 2013 2:30:51 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory /Applications/Administrating/liferay-portal-6.1.2-ce-ga3/tomcat-7.0.40/webapps/welcome-theme\nOct 21, 2013 2:30:52 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"ajp-bio-8009\"]\nOct 21, 2013 2:30:52 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 47781 ms\n</code></pre>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","configuration","quarkus","application.properties"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":1,"creation_date":1633415859,"post_id":69441822,"comment_id":122746418,"body_markdown":"I&#39;m not completely sure if understand your problem but for me its looking ok, If you check priority of the config sources env variables have more priority than properties files https://quarkus.io/guides/config-reference#configuration-sources . For a given variable present in the property file if you specify the value in a environmental variable, the value picked should be the one from the environmental variable. Is this your problem or what you are saying is that quarkus is doing something different","body":"I&#39;m not completely sure if understand your problem but for me its looking ok, If you check priority of the config sources env variables have more priority than properties files <a href=\"https://quarkus.io/guides/config-reference#configuration-sources\" rel=\"nofollow noreferrer\">quarkus.io/guides/config-reference#configuration-sources</a> . For a given variable present in the property file if you specify the value in a environmental variable, the value picked should be the one from the environmental variable. Is this your problem or what you are saying is that quarkus is doing something different"},{"owner":{"account_id":8131218,"reputation":584,"user_id":6124434,"accept_rate":79,"display_name":"scarface"},"score":1,"creation_date":1633455190,"post_id":69441822,"comment_id":122762710,"body_markdown":"@JavierToja you are completely right. I did not realize that env variables have preference over application.properties file. In the end I solved it using `QuarkusTestProfile`.","body":"@JavierToja you are completely right. I did not realize that env variables have preference over application.properties file. In the end I solved it using <code>QuarkusTestProfile</code>."}],"answers":[{"tags":[],"owner":{"account_id":8131218,"reputation":584,"user_id":6124434,"accept_rate":79,"display_name":"scarface"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633455708,"creation_date":1633455708,"answer_id":69455017,"question_id":69441822,"body_markdown":"Exactly as @JavierToja mentioned in his comment - the environment variables have higher priority than properties.\r\n\r\nTherefore for testing purposes I did not create a test profile via properties like `%test.my.property=myValue` nor by creating `application-test.properties` as the values from env variables in the non-test profile get  preferred and I would not achieve the desired behavior this way.\r\n\r\nIn the end I solved my problem with preferring test profile over the environment variables in the &quot;main&quot; profile (`application.properties`) by implementing `QuarkusTestProfile` class [1]. I overridden the `getConfigOverrides` method in such way that it returns a map of key value pairs where the key is the property name that I want to override and the value is the value for this property that I want to prefer to a value from an environment variable.\r\n\r\n[1] https://quarkus.io/guides/getting-started-testing#testing_different_profiles  ","title":"Quarkus does not use profile-related variables","body":"<p>Exactly as @JavierToja mentioned in his comment - the environment variables have higher priority than properties.</p>\n<p>Therefore for testing purposes I did not create a test profile via properties like <code>%test.my.property=myValue</code> nor by creating <code>application-test.properties</code> as the values from env variables in the non-test profile get  preferred and I would not achieve the desired behavior this way.</p>\n<p>In the end I solved my problem with preferring test profile over the environment variables in the &quot;main&quot; profile (<code>application.properties</code>) by implementing <code>QuarkusTestProfile</code> class [1]. I overridden the <code>getConfigOverrides</code> method in such way that it returns a map of key value pairs where the key is the property name that I want to override and the value is the value for this property that I want to prefer to a value from an environment variable.</p>\n<p>[1] <a href=\"https://quarkus.io/guides/getting-started-testing#testing_different_profiles\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#testing_different_profiles</a></p>\n"}],"owner":{"account_id":8131218,"reputation":584,"user_id":6124434,"accept_rate":79,"display_name":"scarface"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69455017,"answer_count":1,"score":2,"last_activity_date":1633455708,"creation_date":1633377903,"question_id":69441822,"body_markdown":"These two links:\r\n\r\n- https://quarkus.io/guides/config-reference#custom-profiles and\r\n- https://quarkus.io/guides/config-reference#profile-aware-files\r\n\r\nspecify how to use different profiles in Quarkus applications. I tried both variants for my testing environment and I basically failed at both of them.\r\n\r\n**1st variant (custom profiles)**\r\n\r\nI have the main configuration file `src/main/resources/application.properties` which contains all main config variables but each of them has an env variable assigned as a value.\r\n\r\nI have my test config variables also in `src/main/resources/application.properties`. Their names are the same as for the base config variables just prefixed with `%test.`.\r\n\r\nWhen I do not have any environment variable set related to any config variable, then `mvn -Dquarkus.test.profile=test clean verify` works as expected - the values from the config variables prefixed with `%test.` are used during the tests.\r\n\r\nHowever, as soon as I specify any env variable which is used as a value for some config property, the test value for this config property is not used anymore but the value from the variable. This breaks the expected behavior also in my CI/CD pipelines.\r\n\r\n\r\n**2nd variant (profile aware files)**\r\n\r\nI have a main configuration file `src/main/resources/application.properties` and also I have a test profile file `src/main/resources/application-test.properties`. I have the same scenario with variables as in the 1st variant. Meaning that in the main config file I have for example `my.property=${MY_PROPERTY}` and in the test profile config I have `my.property=dummyValue`.\r\n\r\nIf I do not set env variable `MY_PROPERTY`, then the `dummyValue` value is used for `my.property` during runtime. But when I set the env variable `MY_PROPERTY`, then the `dummyValue` is completely ignored when I run `mvn -Dquarkus.test.profile=test clean verify`. Therefore this breaks my testing environment again.\r\n","title":"Quarkus does not use profile-related variables","body":"<p>These two links:</p>\n<ul>\n<li><a href=\"https://quarkus.io/guides/config-reference#custom-profiles\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config-reference#custom-profiles</a> and</li>\n<li><a href=\"https://quarkus.io/guides/config-reference#profile-aware-files\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config-reference#profile-aware-files</a></li>\n</ul>\n<p>specify how to use different profiles in Quarkus applications. I tried both variants for my testing environment and I basically failed at both of them.</p>\n<p><strong>1st variant (custom profiles)</strong></p>\n<p>I have the main configuration file <code>src/main/resources/application.properties</code> which contains all main config variables but each of them has an env variable assigned as a value.</p>\n<p>I have my test config variables also in <code>src/main/resources/application.properties</code>. Their names are the same as for the base config variables just prefixed with <code>%test.</code>.</p>\n<p>When I do not have any environment variable set related to any config variable, then <code>mvn -Dquarkus.test.profile=test clean verify</code> works as expected - the values from the config variables prefixed with <code>%test.</code> are used during the tests.</p>\n<p>However, as soon as I specify any env variable which is used as a value for some config property, the test value for this config property is not used anymore but the value from the variable. This breaks the expected behavior also in my CI/CD pipelines.</p>\n<p><strong>2nd variant (profile aware files)</strong></p>\n<p>I have a main configuration file <code>src/main/resources/application.properties</code> and also I have a test profile file <code>src/main/resources/application-test.properties</code>. I have the same scenario with variables as in the 1st variant. Meaning that in the main config file I have for example <code>my.property=${MY_PROPERTY}</code> and in the test profile config I have <code>my.property=dummyValue</code>.</p>\n<p>If I do not set env variable <code>MY_PROPERTY</code>, then the <code>dummyValue</code> value is used for <code>my.property</code> during runtime. But when I set the env variable <code>MY_PROPERTY</code>, then the <code>dummyValue</code> is completely ignored when I run <code>mvn -Dquarkus.test.profile=test clean verify</code>. Therefore this breaks my testing environment again.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8022,"page":1970,"page_size":100}
