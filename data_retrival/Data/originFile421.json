{"items":[{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":12347923,"reputation":185,"user_id":9008002,"display_name":"Ivan Baranuk"},"score":0,"creation_date":1684496761,"post_id":76287546,"comment_id":134529498,"body_markdown":"It is absolutly possible. In general it is achived by adding libraries in classpath (as described here https://stackoverflow.com/questions/8084926/including-jar-files-in-class-path ).","body":"It is absolutly possible. In general it is achived by adding libraries in classpath (as described here <a href=\"https://stackoverflow.com/questions/8084926/including-jar-files-in-class-path\" title=\"including jar files in class path\">stackoverflow.com/questions/8084926/&hellip;</a> )."},{"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"score":0,"creation_date":1684740651,"post_id":76287546,"comment_id":134555353,"body_markdown":"Thanks @IvanBaranuk , I think I have done this (for intellij) as you can see in the screenshot I have attached but it does not seem to work. Unless I am missing something here","body":"Thanks @IvanBaranuk , I think I have done this (for intellij) as you can see in the screenshot I have attached but it does not seem to work. Unless I am missing something here"}],"answers":[{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684635411,"creation_date":1684627507,"answer_id":76297805,"question_id":76287546,"body_markdown":"You can add your external library to the classpath but there is another way that is better. Because of both projects are maven based it&#39;s better to use one of them as a dependency of another one . If we name the project that manages database connection as ConnectorProject you should at first build this project . After building ,the jar file of this project goes to .m2 folder so every projects that add ConnectorProject dependency in its own pom.xml file can use it. So add this dependency to your main project. \r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;${connector-project-groupId}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${connector-project-artifactId}&lt;/artifactId&gt;\r\n        &lt;version&gt;${connector-project-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Spring boot - Use external jar to manage database connection and it&#39;s required dependencies","body":"<p>You can add your external library to the classpath but there is another way that is better. Because of both projects are maven based it's better to use one of them as a dependency of another one . If we name the project that manages database connection as ConnectorProject you should at first build this project . After building ,the jar file of this project goes to .m2 folder so every projects that add ConnectorProject dependency in its own pom.xml file can use it. So add this dependency to your main project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;${connector-project-groupId}&lt;/groupId&gt;\n    &lt;artifactId&gt;${connector-project-artifactId}&lt;/artifactId&gt;\n    &lt;version&gt;${connector-project-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684635411,"creation_date":1684486837,"question_id":76287546,"body_markdown":"I have a **main spring boot application** that connects to a mongodb to perform certain actions.\r\n\r\nIt&#39;s main class:\r\n\r\n    @EnableMongoRepositories(repositoryBaseClass = CustomMongoRepositoryImpl.class)\r\n    @ComponentScan(basePackages = {&quot;org.company.product&quot;})\r\n    @SpringBootApplication\r\n    public class SvcPosControllerDataApplication {\r\n        public static void main(String[] args) {\r\n    \t\tSpringApplication.run(SvcPosControllerDataApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nIt&#39;s pom.xml\r\n\r\n    ...\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t  &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t  &lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t  &lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t  &lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Database --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    ...\r\n\r\nIt&#39;s application properties\r\n\r\n    ...\r\n    spring.data.mongodb.uri=mongodb://localhost:27017/\r\n    spring.data.mongodb.database=myMongoDb_Test\r\n    ...\r\n\r\n\r\nNow, I want to be able and use (*on demand*) an **external jar file** that connects to an mssql database and retrieves some data.\r\n\r\nI am adding the external jar into my main project in the following way (I can not declare it as a dependency):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe external jar file has the following elements:\r\n\r\nA repository:\r\n\r\n    @Repository\r\n    public interface CustomerRepository extends JpaRepository&lt;Customer, String&gt; {\r\n        Customer findByAccountNumber(String accountNumber);\r\n    }\r\n\r\nAn entity class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Customer&quot;)\r\n    public class Customer {\r\n        @Column(name = &quot;StoreID&quot;)\r\n        private Integer storeID;\r\n    \r\n        @Id\r\n        @Size(max = 20)\r\n        @Nationalized\r\n        @Column(name = &quot;AccountNumber&quot;, length = 20)\r\n        private String accountNumber;\r\n    \t...\r\n\r\nA data service to fetch some data from the database (implements a common interface and is declared as primary to override main&#39;s project dataservice):\r\n\r\n    @Service\r\n    @Primary\r\n    public class BasicDataServiceCustomer_External implements IDataServiceCustomer {\r\n        @Autowired\r\n        CustomerMappingService customerMappingService;\r\n        @Autowired\r\n        Utils utils;\r\n        @Autowired\r\n        CustomerRepository repo;\r\n        @Autowired\r\n        EntityManager em;\r\n    \r\n        @Override\r\n        public List&lt;Customer&gt; findAll() {\r\n    \t...\r\n\t\r\nIt&#39;s pom.xml\r\n\r\n    ...\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${spring-boot-starter.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${spring-boot-starter-data-jpa.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${mssql-jdbc.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    ...\r\n\r\nAnd it&#39;s application properties:\r\n\r\n    spring.datasource.url= jdbc:sqlserver://localhost:1433;encrypt=true;trustServerCertificate=true;databaseName=MyDatabase_Test\r\n    spring.datasource.username= sa\r\n    spring.datasource.password= *******\r\n    \r\n    spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.SQLServerDialect\r\n    spring.jpa.hibernate.ddl-auto= none\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    spring.jpa.properties.hibernate.create_empty_composites.enabled=true\r\n\r\nFinally it&#39;s main class:\r\n\r\n    //@SpringBootApplication\r\n    @EnableJpaRepositories(basePackages = {&quot;org.company.product.external_service.repository&quot;})\r\n    @SpringBootConfiguration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackages = {&quot;org.company.product&quot;,&quot;org.company.product.external_service&quot;})\r\n    public class ScvExternalDataService02 {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ScvExternalDataService02.class, args);\r\n        }\r\n    }\r\n\r\nBut I am getting an exception:\r\n\r\n    2023-05-19 11:44:51.159 ERROR 23888 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;svcPosControllerDataApplication&#39;: Unsatisfied dependency expressed through field &#39;dataServiceFactory&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataServiceFactory&#39;: Unsatisfied dependency expressed through field &#39;basicDataServices&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;basicDataServiceCustomer_Custom_02&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat org.company.product.main_service.SvcPosControllerDataApplication.main(SvcPosControllerDataApplication.java:23)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataServiceFactory&#39;: Unsatisfied dependency expressed through field &#39;basicDataServices&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;basicDataServiceCustomer_Custom_02&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \t... 25 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;basicDataServiceCustomer_Custom_02&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \t... 39 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n    \t... 54 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/persistence/criteria/Expression\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n    \t... 56 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.persistence.criteria.Expression\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 60 common frames omitted\r\n\t\r\nFirst I want to know if this can be done (load everything required for mssql connection, repository etc. from within the external jar). \r\n\r\nIf yes, then how can I achieve such a scenario?\r\n\r\n(*) I understand that a configuration that manages all the required data source connections (mongodb, mssql) and their dependencies from within the main service might make more sense. But this is a requirement asked for investigation purposes.\r\n\r\n  [1]: https://i.stack.imgur.com/INbJd.jpg","title":"Spring boot - Use external jar to manage database connection and it&#39;s required dependencies","body":"<p>I have a <strong>main spring boot application</strong> that connects to a mongodb to perform certain actions.</p>\n<p>It's main class:</p>\n<pre><code>@EnableMongoRepositories(repositoryBaseClass = CustomMongoRepositoryImpl.class)\n@ComponentScan(basePackages = {&quot;org.company.product&quot;})\n@SpringBootApplication\npublic class SvcPosControllerDataApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(SvcPosControllerDataApplication.class, args);\n    }\n}\n</code></pre>\n<p>It's pom.xml</p>\n<pre><code>...\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Database --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n<p>It's application properties</p>\n<pre><code>...\nspring.data.mongodb.uri=mongodb://localhost:27017/\nspring.data.mongodb.database=myMongoDb_Test\n...\n</code></pre>\n<p>Now, I want to be able and use (<em>on demand</em>) an <strong>external jar file</strong> that connects to an mssql database and retrieves some data.</p>\n<p>I am adding the external jar into my main project in the following way (I can not declare it as a dependency):</p>\n<p><a href=\"https://i.stack.imgur.com/INbJd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/INbJd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The external jar file has the following elements:</p>\n<p>A repository:</p>\n<pre><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, String&gt; {\n    Customer findByAccountNumber(String accountNumber);\n}\n</code></pre>\n<p>An entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;Customer&quot;)\npublic class Customer {\n    @Column(name = &quot;StoreID&quot;)\n    private Integer storeID;\n\n    @Id\n    @Size(max = 20)\n    @Nationalized\n    @Column(name = &quot;AccountNumber&quot;, length = 20)\n    private String accountNumber;\n    ...\n</code></pre>\n<p>A data service to fetch some data from the database (implements a common interface and is declared as primary to override main's project dataservice):</p>\n<pre><code>@Service\n@Primary\npublic class BasicDataServiceCustomer_External implements IDataServiceCustomer {\n    @Autowired\n    CustomerMappingService customerMappingService;\n    @Autowired\n    Utils utils;\n    @Autowired\n    CustomerRepository repo;\n    @Autowired\n    EntityManager em;\n\n    @Override\n    public List&lt;Customer&gt; findAll() {\n    ...\n</code></pre>\n<p>It's pom.xml</p>\n<pre><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot-starter.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot-starter-data-jpa.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;${mssql-jdbc.version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n<p>And it's application properties:</p>\n<pre><code>spring.datasource.url= jdbc:sqlserver://localhost:1433;encrypt=true;trustServerCertificate=true;databaseName=MyDatabase_Test\nspring.datasource.username= sa\nspring.datasource.password= *******\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.SQLServerDialect\nspring.jpa.hibernate.ddl-auto= none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.properties.hibernate.create_empty_composites.enabled=true\n</code></pre>\n<p>Finally it's main class:</p>\n<pre><code>//@SpringBootApplication\n@EnableJpaRepositories(basePackages = {&quot;org.company.product.external_service.repository&quot;})\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(basePackages = {&quot;org.company.product&quot;,&quot;org.company.product.external_service&quot;})\npublic class ScvExternalDataService02 {\n    public static void main(String[] args) {\n        SpringApplication.run(ScvExternalDataService02.class, args);\n    }\n}\n</code></pre>\n<p>But I am getting an exception:</p>\n<pre><code>2023-05-19 11:44:51.159 ERROR 23888 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'svcPosControllerDataApplication': Unsatisfied dependency expressed through field 'dataServiceFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataServiceFactory': Unsatisfied dependency expressed through field 'basicDataServices'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'basicDataServiceCustomer_Custom_02': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at org.company.product.main_service.SvcPosControllerDataApplication.main(SvcPosControllerDataApplication.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataServiceFactory': Unsatisfied dependency expressed through field 'basicDataServices'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'basicDataServiceCustomer_Custom_02': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'basicDataServiceCustomer_Custom_02': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 39 common frames omitted\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    ... 54 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/persistence/criteria/Expression\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 56 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.persistence.criteria.Expression\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 60 common frames omitted\n</code></pre>\n<p>First I want to know if this can be done (load everything required for mssql connection, repository etc. from within the external jar).</p>\n<p>If yes, then how can I achieve such a scenario?</p>\n<p>(*) I understand that a configuration that manages all the required data source connections (mongodb, mssql) and their dependencies from within the main service might make more sense. But this is a requirement asked for investigation purposes.</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":1,"creation_date":1680420657,"post_id":75910622,"comment_id":133893149,"body_markdown":"what&#39;s the error? I&#39;ve tried it and it&#39;s working","body":"what&#39;s the error? I&#39;ve tried it and it&#39;s working"},{"owner":{"account_id":28192596,"reputation":11,"user_id":21547760,"display_name":"Aadarsh"},"score":0,"creation_date":1680450531,"post_id":75910622,"comment_id":133896995,"body_markdown":"@Erwin Error is it should be new StringBuilder(&quot;&quot;)  like this but when i did this it does not gives the output","body":"@Erwin Error is it should be new StringBuilder(&quot;&quot;)  like this but when i did this it does not gives the output"},{"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":0,"creation_date":1680482163,"post_id":75910622,"comment_id":133901141,"body_markdown":"Could you please post a stack trace so we can see the error you are getting?","body":"Could you please post a stack trace so we can see the error you are getting?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680482172,"post_id":75910622,"comment_id":133901142,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3491975,"reputation":1562,"user_id":2921426,"accept_rate":64,"display_name":"SimonC"},"score":0,"creation_date":1683203607,"post_id":75910622,"comment_id":134332545,"body_markdown":"Just a side-note, because your question has been answered. Please don&#39;t format you code like that. It&#39;s utterly unreadable","body":"Just a side-note, because your question has been answered. Please don&#39;t format you code like that. It&#39;s utterly unreadable"}],"answers":[{"tags":[],"owner":{"account_id":28083875,"reputation":81,"user_id":21454529,"display_name":"Allison Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683203073,"creation_date":1683203073,"answer_id":76173146,"question_id":75910622,"body_markdown":"There&#39;s a small bug in `Strchk` function. The base condition should be when `i` is equal to `abc.length()` not `str.length()`.  The function should be like this:\r\n\r\n    public static void Strchk (String abc, int i, StringBuilder str, boolean[] stroc)\r\n    {\r\n        if( i==abc.length() ) {\r\n            System.out.println(str);\r\n            return;\r\n        }\r\n        char currChar=abc.charAt(i);\r\n        if(stroc[currChar - &#39;a&#39;])\r\n            //duplicate\r\n            Strchk(abc, i+1, str, stroc);\r\n        else\r\n        {\r\n            stroc[currChar-&#39;a&#39;]=true;\r\n            Strchk(abc, i+1, str.append(currChar), stroc);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Remove duplicates from a given string in Java using recusrion","body":"<p>There's a small bug in <code>Strchk</code> function. The base condition should be when <code>i</code> is equal to <code>abc.length()</code> not <code>str.length()</code>.  The function should be like this:</p>\n<pre><code>public static void Strchk (String abc, int i, StringBuilder str, boolean[] stroc)\n{\n    if( i==abc.length() ) {\n        System.out.println(str);\n        return;\n    }\n    char currChar=abc.charAt(i);\n    if(stroc[currChar - 'a'])\n        //duplicate\n        Strchk(abc, i+1, str, stroc);\n    else\n    {\n        stroc[currChar-'a']=true;\n        Strchk(abc, i+1, str.append(currChar), stroc);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684635364,"creation_date":1684635364,"answer_id":76298033,"question_id":75910622,"body_markdown":"I&#39;ve re-written your code, and removed the requirement for the `stroc` parameter.  \r\nIs this the process you&#39;re looking for?\r\n\r\nOnly append unique characters.\r\n\r\n```java\r\nvoid strchk(String string, int index, StringBuilder builder) {\r\n    if (index &gt;= string.length()) {\r\n        System.out.println(builder);\r\n        return;\r\n    }\r\n    char character = string.charAt(index);\r\n    if (!builder.toString().contains(String.valueOf(character))) {\r\n        strchk(string, index + 1, builder.append(character));\r\n    } else {\r\n        strchk(string, index + 1, builder);\r\n    }\r\n}\r\n```\r\nOutput\r\n```none\r\napncoleg\r\n```","title":"Remove duplicates from a given string in Java using recusrion","body":"<p>I've re-written your code, and removed the requirement for the <code>stroc</code> parameter.<br />\nIs this the process you're looking for?</p>\n<p>Only append unique characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void strchk(String string, int index, StringBuilder builder) {\n    if (index &gt;= string.length()) {\n        System.out.println(builder);\n        return;\n    }\n    char character = string.charAt(index);\n    if (!builder.toString().contains(String.valueOf(character))) {\n        strchk(string, index + 1, builder.append(character));\n    } else {\n        strchk(string, index + 1, builder);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>apncoleg\n</code></pre>\n"}],"owner":{"account_id":28192596,"reputation":11,"user_id":21547760,"display_name":"Aadarsh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684635364,"creation_date":1680419927,"question_id":75910622,"body_markdown":"I am getting an error in output as i need to give spaces in function calling of strchk in new StringBuilder(&quot;     &quot;)\r\nto get the output printed whereas it should be like new StringBuilder(&quot;&quot;)\r\nI had also tried an online compiler it gives the same error\r\nThis is the input code\r\n```\r\n\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args)\r\n        {\r\n        String abc=&quot;appnacolllege&quot;;\r\n        Strchk(abc, 0, new StringBuilder(&quot;     &quot;),new boolean[26]);\r\n\t}\r\n\r\n\r\n    public static void Strchk (String abc,int i,StringBuilder str,boolean stroc[] ) \r\n      {\r\n       if(i==str.length())\r\n       {System.out.println(str);\r\n       return;}\r\n       char currChar=abc.charAt(i);\r\n       if(stroc[currChar-&#39;a&#39;]==true)\r\n         //duplicate\r\n       Strchk(abc, i+1, str, stroc);      \r\n       else\r\n       {\r\n       stroc[currChar-&#39;a&#39;]=true;\r\n       Strchk(abc, i+1, str.append(currChar), stroc);\r\n       }\r\n    } \r\n}\r\n\r\n```\r\n","title":"Remove duplicates from a given string in Java using recusrion","body":"<p>I am getting an error in output as i need to give spaces in function calling of strchk in new StringBuilder(&quot;     &quot;)\nto get the output printed whereas it should be like new StringBuilder(&quot;&quot;)\nI had also tried an online compiler it gives the same error\nThis is the input code</p>\n<pre><code>\n\npublic class Main\n{\n    public static void main(String[] args)\n        {\n        String abc=&quot;appnacolllege&quot;;\n        Strchk(abc, 0, new StringBuilder(&quot;     &quot;),new boolean[26]);\n    }\n\n\n    public static void Strchk (String abc,int i,StringBuilder str,boolean stroc[] ) \n      {\n       if(i==str.length())\n       {System.out.println(str);\n       return;}\n       char currChar=abc.charAt(i);\n       if(stroc[currChar-'a']==true)\n         //duplicate\n       Strchk(abc, i+1, str, stroc);      \n       else\n       {\n       stroc[currChar-'a']=true;\n       Strchk(abc, i+1, str.append(currChar), stroc);\n       }\n    } \n}\n\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1681064356,"post_id":75972119,"comment_id":133995241,"body_markdown":"Are you trying to extract known tokens from the string (e.g. replacing `&amp;someData` with the data referenced by `someData`)? If so, there are much better ways than a regex in my opinion. Otherwise, I&#39;m not following what truly determines what strings belong, and which don&#39;t.","body":"Are you trying to extract known tokens from the string (e.g. replacing <code>&amp;someData</code> with the data referenced by <code>someData</code>)? If so, there are much better ways than a regex in my opinion. Otherwise, I&#39;m not following what truly determines what strings belong, and which don&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681128755,"creation_date":1681128755,"answer_id":75977016,"question_id":75972119,"body_markdown":"You can use your pattern and remove all matches from the string. Then check if the string has less than 3 or more than 15 characters.\r\n\r\n    String[] strings = {&quot;&amp;aHi&quot;, &quot;Hi&quot;, &quot;Hi!&quot;};\r\n\r\n    for (String s : strings) {\r\n        int len = s.replaceAll(&quot;(?i)&amp;[0-9A-FK-ORX]&quot;,&quot;&quot;).length();\r\n        if (len &lt; 3 || len &gt; 15) {\r\n            System.out.println(&quot;VALID --&gt; &quot; + s + &quot;. (&quot; + len + &quot; characters)&quot;);\r\n        } else {\r\n            System.out.println(&quot;INVALID --&gt; &quot; + s + &quot; (&quot;+ len + &quot; characters)&quot;);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    VALID --&gt; &amp;aHi. (2 characters)\r\n    VALID --&gt; Hi. (2 characters)\r\n    INVALID --&gt; Hi! (3 characters)","title":"Pattern, ignore &#39;&amp;&#39; and subsequent characters if they contain any specific characters","body":"<p>You can use your pattern and remove all matches from the string. Then check if the string has less than 3 or more than 15 characters.</p>\n<pre><code>String[] strings = {&quot;&amp;aHi&quot;, &quot;Hi&quot;, &quot;Hi!&quot;};\n\nfor (String s : strings) {\n    int len = s.replaceAll(&quot;(?i)&amp;[0-9A-FK-ORX]&quot;,&quot;&quot;).length();\n    if (len &lt; 3 || len &gt; 15) {\n        System.out.println(&quot;VALID --&gt; &quot; + s + &quot;. (&quot; + len + &quot; characters)&quot;);\n    } else {\n        System.out.println(&quot;INVALID --&gt; &quot; + s + &quot; (&quot;+ len + &quot; characters)&quot;);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>VALID --&gt; &amp;aHi. (2 characters)\nVALID --&gt; Hi. (2 characters)\nINVALID --&gt; Hi! (3 characters)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684633865,"creation_date":1684633428,"answer_id":76297975,"question_id":75972119,"body_markdown":"The `|` symbol in regex is not a-alike to an if-conditional statement.\r\n\r\nIt&#39;s simply saying the regex should match A, B, or C, etc.  \r\n\r\nThe following should be correct, let me know if I have made an error.\r\n\r\n```regex\r\n(?i)(?:(?:&amp;[0-9A-FK-ORX])?.{16,}|(?:&amp;[0-9A-FK-ORX])?..)\r\n```\r\n\r\nHere it is, with your variables.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String A = &quot;&amp;aHi&quot;; // true, 2 characters in total\r\n    String B = &quot;Hi&quot;; // true, 2 characters in total\r\n    String C = &quot;Hi!&quot;; // false, 3 characters in total\r\n    System.out.println(valid(A));\r\n    System.out.println(valid(B));\r\n    System.out.println(valid(C));\r\n}\r\n\r\nstatic boolean valid(String string) {\r\n    return string.matches(&quot;(?i)(?:(?:&amp;[0-9A-FK-ORX])?.{16,}|(?:&amp;[0-9A-FK-ORX])?..)&quot;);\r\n}\r\n```\r\nOutput\r\n```none\r\ntrue\r\ntrue\r\nfalse\r\n```","title":"Pattern, ignore &#39;&amp;&#39; and subsequent characters if they contain any specific characters","body":"<p>The <code>|</code> symbol in regex is not a-alike to an if-conditional statement.</p>\n<p>It's simply saying the regex should match A, B, or C, etc.</p>\n<p>The following should be correct, let me know if I have made an error.</p>\n<pre><code>(?i)(?:(?:&amp;[0-9A-FK-ORX])?.{16,}|(?:&amp;[0-9A-FK-ORX])?..)\n</code></pre>\n<p>Here it is, with your variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String A = &quot;&amp;aHi&quot;; // true, 2 characters in total\n    String B = &quot;Hi&quot;; // true, 2 characters in total\n    String C = &quot;Hi!&quot;; // false, 3 characters in total\n    System.out.println(valid(A));\n    System.out.println(valid(B));\n    System.out.println(valid(C));\n}\n\nstatic boolean valid(String string) {\n    return string.matches(&quot;(?i)(?:(?:&amp;[0-9A-FK-ORX])?.{16,}|(?:&amp;[0-9A-FK-ORX])?..)&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\ntrue\nfalse\n</code></pre>\n"}],"owner":{"account_id":25620024,"reputation":15,"user_id":19392086,"display_name":"DaVaMu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684633865,"creation_date":1681063583,"question_id":75972119,"body_markdown":"Example, I have 3 String:\r\n\r\n```\r\nString A = &quot;&amp;aHi&quot;; // true, 2 characters in total\r\nString B = &quot;Hi&quot;; // true, 2 characters in total\r\nString C = &quot;Hi!&quot;; // false, 3 characters in total\r\n```\r\n\r\nWhen the string contains &quot;&amp;&quot; followed by some character like &quot;[0-9A-FK-ORX]&quot; I want it to be excluded in the check if the string is less than 3 characters or greater than 15 characters.\r\n\r\n\r\n\r\nThis is what I currently have:\r\nPattern: \r\n\r\n```\r\n&quot;^(?i)(?:(?!&amp;[0-9A-FK-ORX]).|^.{0,2}|^.{16,})$&quot;\r\n```\r\n\r\nbut I can&#39;t get it to work, I&#39;m trying to get it to ignore lower and upper case, I&#39;m checking that it&#39;s less than 3 or greater than 15, but I can&#39;t get what I need.","title":"Pattern, ignore &#39;&amp;&#39; and subsequent characters if they contain any specific characters","body":"<p>Example, I have 3 String:</p>\n<pre><code>String A = &quot;&amp;aHi&quot;; // true, 2 characters in total\nString B = &quot;Hi&quot;; // true, 2 characters in total\nString C = &quot;Hi!&quot;; // false, 3 characters in total\n</code></pre>\n<p>When the string contains &quot;&amp;&quot; followed by some character like &quot;[0-9A-FK-ORX]&quot; I want it to be excluded in the check if the string is less than 3 characters or greater than 15 characters.</p>\n<p>This is what I currently have:\nPattern:</p>\n<pre><code>&quot;^(?i)(?:(?!&amp;[0-9A-FK-ORX]).|^.{0,2}|^.{16,})$&quot;\n</code></pre>\n<p>but I can't get it to work, I'm trying to get it to ignore lower and upper case, I'm checking that it's less than 3 or greater than 15, but I can't get what I need.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":6504384,"reputation":1853,"user_id":5033923,"accept_rate":47,"display_name":"Carlos Hern&#225;ndez Gil"},"score":0,"creation_date":1462532030,"post_id":37070527,"comment_id":61686118,"body_markdown":"post your tr object where you set the values please","body":"post your tr object where you set the values please"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1462532105,"post_id":37070527,"comment_id":61686156,"body_markdown":"Looks like incompatible classes","body":"Looks like incompatible classes"}],"answers":[{"tags":[],"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462532143,"creation_date":1462532143,"answer_id":37070624,"question_id":37070527,"body_markdown":"You appear to be importing some kind of external json library that doesn&#39;t have a `put()` method.\r\n\r\nJSONObject that has `put()` is &quot;built in&quot; to android, you don&#39;t need any additional libraries for it.\r\n\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    JSONObject jsonObject = new JSONObject();\r\n    jsonObject.put(&quot;key&quot;, &quot;value&quot;);\r\n\r\nThis will work.","title":"Java.lang.NoSuchMethodError: org.json.JSONObject.put","body":"<p>You appear to be importing some kind of external json library that doesn't have a <code>put()</code> method.</p>\n\n<p>JSONObject that has <code>put()</code> is \"built in\" to android, you don't need any additional libraries for it.</p>\n\n<pre><code>import org.json.JSONObject;\n\nJSONObject jsonObject = new JSONObject();\njsonObject.put(\"key\", \"value\");\n</code></pre>\n\n<p>This will work.</p>\n"},{"tags":[],"owner":{"account_id":14401721,"reputation":1213,"user_id":10403133,"display_name":"Nasib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651861014,"creation_date":1651861014,"answer_id":72145812,"question_id":37070527,"body_markdown":"**KOTLIN**&lt;br&gt;\r\nLate but, i think it might help someone.\r\ni had this error\r\n\r\n    No virtual method put(Ljava/lang/String;F)Lorg/json/JSONObject; in class Lorg/json/JSONObject\r\n\r\ni was importing the correct class and not importing any other related 3rd party libs.  even added progaurd rules but nothing helped. \r\n\r\nthen i replaced\r\n\r\n \r\n\r\n                    val orderRequest = JSONObject()\r\n                    orderRequest.put(&quot;amount&quot;, amount)\r\n                    orderRequest.put(&quot;currency&quot;, &quot;INR&quot;)\r\n                    orderRequest.put(&quot;receipt&quot;, &quot;order_rcptid_11&quot;)\r\n\r\nwith \r\n\r\n             val reqStr = &quot;&quot;&quot;\r\n                        {\r\n                        &quot;amount&quot; : &quot;$amount&quot;,\r\n                        &quot;currency&quot; : &quot;INR&quot;,\r\n                        &quot;receipt&quot; : &quot;order_rcptid_11&quot;\r\n                        }\r\n                        &quot;&quot;&quot;.trimIndent()\r\n                    \r\n             val orderRequest = JSONObject(reqStr)","title":"Java.lang.NoSuchMethodError: org.json.JSONObject.put","body":"<p><strong>KOTLIN</strong><br>\nLate but, i think it might help someone.\ni had this error</p>\n<pre><code>No virtual method put(Ljava/lang/String;F)Lorg/json/JSONObject; in class Lorg/json/JSONObject\n</code></pre>\n<p>i was importing the correct class and not importing any other related 3rd party libs.  even added progaurd rules but nothing helped.</p>\n<p>then i replaced</p>\n<pre><code>                val orderRequest = JSONObject()\n                orderRequest.put(&quot;amount&quot;, amount)\n                orderRequest.put(&quot;currency&quot;, &quot;INR&quot;)\n                orderRequest.put(&quot;receipt&quot;, &quot;order_rcptid_11&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>         val reqStr = &quot;&quot;&quot;\n                    {\n                    &quot;amount&quot; : &quot;$amount&quot;,\n                    &quot;currency&quot; : &quot;INR&quot;,\n                    &quot;receipt&quot; : &quot;order_rcptid_11&quot;\n                    }\n                    &quot;&quot;&quot;.trimIndent()\n                \n         val orderRequest = JSONObject(reqStr)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9078600,"reputation":4924,"user_id":6759241,"display_name":"greeble31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684632913,"creation_date":1684632913,"answer_id":76297952,"question_id":37070527,"body_markdown":"Per the [documentation](https://developer.android.com/reference/org/json/JSONObject#put(java.lang.String,%20java.lang.Object)), the `Object` value passed to `JSONObject.put` must be:\r\n\r\n&gt; ...a JSONObject, JSONArray, String, Boolean, Integer, Long, Double, NULL, or null. May not be NaNs or infinities.\r\n\r\n`tr.getValue()` is of type `ArrayList&lt;String&gt;`. Since this is not one of the listed types, the attempt fails at runtime.","title":"Java.lang.NoSuchMethodError: org.json.JSONObject.put","body":"<p>Per the <a href=\"https://developer.android.com/reference/org/json/JSONObject#put(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a>, the <code>Object</code> value passed to <code>JSONObject.put</code> must be:</p>\n<blockquote>\n<p>...a JSONObject, JSONArray, String, Boolean, Integer, Long, Double, NULL, or null. May not be NaNs or infinities.</p>\n</blockquote>\n<p><code>tr.getValue()</code> is of type <code>ArrayList&lt;String&gt;</code>. Since this is not one of the listed types, the attempt fails at runtime.</p>\n"}],"owner":{"display_name":"user6289326"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684632913,"creation_date":1462531866,"question_id":37070527,"body_markdown":"I&#39;m developing an Android library, i add my lib in my Test project, now i have a error that can&#39;t allow to finish my test:\r\n\r\n\r\n\r\n    Could not find method org.json.JSONObject.put, referenced from method com.ldm.JsonBuilder.jsonbuilder\r\n\r\n    Process: , PID: 31181\r\n    java.lang.NoSuchMethodError: org.json.JSONObject.put\r\n    at com.ldm.JsonBuilder.jsonbuilder(JsonBuilder.java:70)\r\n    at com.ldm.TestConnection.TestNow(TestConnection.java:79)\r\n    at ldm.eisworld.it.test.MainActivity.onCreate(MainActivity.java:23)\r\n    at android.app.Activity.performCreate(Activity.java:5442)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2393)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2493)\r\n    at android.app.ActivityThread.access$800(ActivityThread.java:166)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1283)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:136)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5584)\r\n    at java.lang.reflect.Method.invokeNative(Native Method)\r\n    at java.lang.reflect.Method.invoke(Method.java:515)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n    at dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n\r\n\r\nThis is my gradle:\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        compile files(&#39;libs/httpcore-4.4.4.jar&#39;)\r\n        compile files(&#39;libs/json.jar&#39;)\r\n        compile &#39;org.json:json:20141113&#39;\r\n    }\r\n\r\n\r\nAnd this is a part of my code:\r\n\r\n       /* Parsing of hash map */\r\n        for (Map.Entry&lt;String, ArrayList&lt;String&gt;&gt; tr : rh.entrySet()) {\r\n\r\n            try {\r\n                /* Object that contains URL */\r\n                JSONObject TraceUrl = new JSONObject();\r\n                /* Object that contains nodes for each URL */\r\n                JSONObject TraceNodes = new JSONObject();\r\n\r\n                TraceUrl.put(&quot;url&quot;, tr.getKey());\r\n                TraceUrl.put(&quot;nodes&quot;, tr.getValue());\r\n                trace.put(TraceUrl);\r\n            } catch (JSONException e) {\r\n                System.out.println(&quot;Exception: &quot; + e.toString());\r\n            }\r\n\r\n\r\n\r\nHow i can resolve it ?\r\n","title":"Java.lang.NoSuchMethodError: org.json.JSONObject.put","body":"<p>I'm developing an Android library, i add my lib in my Test project, now i have a error that can't allow to finish my test:</p>\n\n<pre><code>Could not find method org.json.JSONObject.put, referenced from method com.ldm.JsonBuilder.jsonbuilder\n\nProcess: , PID: 31181\njava.lang.NoSuchMethodError: org.json.JSONObject.put\nat com.ldm.JsonBuilder.jsonbuilder(JsonBuilder.java:70)\nat com.ldm.TestConnection.TestNow(TestConnection.java:79)\nat ldm.eisworld.it.test.MainActivity.onCreate(MainActivity.java:23)\nat android.app.Activity.performCreate(Activity.java:5442)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2393)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2493)\nat android.app.ActivityThread.access$800(ActivityThread.java:166)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1283)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:136)\nat android.app.ActivityThread.main(ActivityThread.java:5584)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:515)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\nat dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>This is my gradle:</p>\n\n<pre><code>dependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile files('libs/httpcore-4.4.4.jar')\n    compile files('libs/json.jar')\n    compile 'org.json:json:20141113'\n}\n</code></pre>\n\n<p>And this is a part of my code:</p>\n\n<pre><code>   /* Parsing of hash map */\n    for (Map.Entry&lt;String, ArrayList&lt;String&gt;&gt; tr : rh.entrySet()) {\n\n        try {\n            /* Object that contains URL */\n            JSONObject TraceUrl = new JSONObject();\n            /* Object that contains nodes for each URL */\n            JSONObject TraceNodes = new JSONObject();\n\n            TraceUrl.put(\"url\", tr.getKey());\n            TraceUrl.put(\"nodes\", tr.getValue());\n            trace.put(TraceUrl);\n        } catch (JSONException e) {\n            System.out.println(\"Exception: \" + e.toString());\n        }\n</code></pre>\n\n<p>How i can resolve it ?</p>\n"},{"tags":["java","spring-boot","resilience4j","resilience4j-retry","spring-cloud-circuitbreaker"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1684656039,"post_id":76297910,"comment_id":134546433,"body_markdown":"Does this answer your question? [Resiliency4j circuit breaker with retry configuration not working](https://stackoverflow.com/questions/71457925/resiliency4j-circuit-breaker-with-retry-configuration-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71457925/resiliency4j-circuit-breaker-with-retry-configuration-not-working\">Resiliency4j circuit breaker with retry configuration not working</a>"},{"owner":{"account_id":18984426,"reputation":418,"user_id":13855094,"display_name":"Krithick S"},"score":0,"creation_date":1685776109,"post_id":76297910,"comment_id":134711315,"body_markdown":"Can you share the fallback method?","body":"Can you share the fallback method?"}],"owner":{"account_id":28645106,"reputation":11,"user_id":21933311,"display_name":"Somesh Vemula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684631383,"creation_date":1684631383,"question_id":76297910,"body_markdown":"I&#39;m doing a project using Spring Boot and Micro-services architecture. \r\nI have two micro-services one calling the other to process a request from API gateway. I&#39;m trying to implement the circuit breaker pattern and retry pattern at the same time using resillience4j but my micro-service is not retrying. \r\n\r\nNote: If I disable(comment out) the circuit breaker annotation, my micro-service is retrying!!\r\n\r\nHere is my code of the service layer of micro-service.\r\n\r\n\r\n```\r\n@Override\r\n    @CircuitBreaker(name=&quot;${spring.application.name}&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\r\n    @Retry(name=&quot;${spring.application.name}&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\r\n\r\n    public ResponseDto getEmployee(Long id) {\r\n        LOGGER.info(&quot;inside getEmployee by ID method&quot;);\r\n        Employee employee = employeeRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, id));\r\n//        ------------------ Communication using REST template -----------------------------\r\n//        ResponseEntity&lt;DepartmentDto&gt; responseEntity = restTemplate.getForEntity(&quot;http://localhost:8080/api/departments/&quot; + employee.getDepartmentCode(),\r\n//                DepartmentDto.class);\r\n//        DepartmentDto departmentDto = responseEntity.getBody();\r\n\r\n//      ------------------ Communication using WebClient -----------------------------\r\n//        DepartmentDto departmentDto = webClient.get()\r\n//                .uri(&quot;http://localhost:8081/api/departments/&quot; + employee.getDepartmentCode())\r\n//                .retrieve()\r\n//                .bodyToMono(DepartmentDto.class)\r\n//                .block();\r\n\r\n//      ----------------------- Communication using OpenFeign -----------------------------\r\n        DepartmentDto departmentDto = apiClient.getDepartment(employee.getDepartmentCode());\r\n\r\n        return new ResponseDto(modelMapper.map(employee, EmployeeDto.class), departmentDto);\r\n    }\r\n```\r\n\r\nHere is my properties file\r\n\r\n\r\n```\r\n#------------------------------  Circuit breaker properties--------------------------------------\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.failureRateThreshold=50\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.minimumNumberOfCalls=5\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.waitDurationInOpenState=5s\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.permittedNumberOfCallsInHalfOpenState=3\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowSize=10\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowType=COUNT_BASED\r\n\r\n\r\n#------------------------------  Retry Configuration  --------------------------------------\r\nresilience4j.retry.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\r\nresilience4j.retry.instances.EMPLOYEE-SERVICE.maxAttempts=10\r\nresilience4j.retry.instances.EMPLOYEE-SERVICE.waitDuration=1s\r\n```\r\n\r\n\r\nI&#39;ve tried multiple time, but didn&#39;t work :)","title":"How can I implement the circuit breaker pattern and retry pattern at the same time using Resilience4j with Spring Boot and microservices?","body":"<p>I'm doing a project using Spring Boot and Micro-services architecture.\nI have two micro-services one calling the other to process a request from API gateway. I'm trying to implement the circuit breaker pattern and retry pattern at the same time using resillience4j but my micro-service is not retrying.</p>\n<p>Note: If I disable(comment out) the circuit breaker annotation, my micro-service is retrying!!</p>\n<p>Here is my code of the service layer of micro-service.</p>\n<pre><code>@Override\n    @CircuitBreaker(name=&quot;${spring.application.name}&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\n    @Retry(name=&quot;${spring.application.name}&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\n\n    public ResponseDto getEmployee(Long id) {\n        LOGGER.info(&quot;inside getEmployee by ID method&quot;);\n        Employee employee = employeeRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, id));\n//        ------------------ Communication using REST template -----------------------------\n//        ResponseEntity&lt;DepartmentDto&gt; responseEntity = restTemplate.getForEntity(&quot;http://localhost:8080/api/departments/&quot; + employee.getDepartmentCode(),\n//                DepartmentDto.class);\n//        DepartmentDto departmentDto = responseEntity.getBody();\n\n//      ------------------ Communication using WebClient -----------------------------\n//        DepartmentDto departmentDto = webClient.get()\n//                .uri(&quot;http://localhost:8081/api/departments/&quot; + employee.getDepartmentCode())\n//                .retrieve()\n//                .bodyToMono(DepartmentDto.class)\n//                .block();\n\n//      ----------------------- Communication using OpenFeign -----------------------------\n        DepartmentDto departmentDto = apiClient.getDepartment(employee.getDepartmentCode());\n\n        return new ResponseDto(modelMapper.map(employee, EmployeeDto.class), departmentDto);\n    }\n</code></pre>\n<p>Here is my properties file</p>\n<pre><code>#------------------------------  Circuit breaker properties--------------------------------------\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.failureRateThreshold=50\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.minimumNumberOfCalls=5\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.waitDurationInOpenState=5s\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.permittedNumberOfCallsInHalfOpenState=3\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowSize=10\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowType=COUNT_BASED\n\n\n#------------------------------  Retry Configuration  --------------------------------------\nresilience4j.retry.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\nresilience4j.retry.instances.EMPLOYEE-SERVICE.maxAttempts=10\nresilience4j.retry.instances.EMPLOYEE-SERVICE.waitDuration=1s\n</code></pre>\n<p>I've tried multiple time, but didn't work :)</p>\n"},{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1685645375,"post_id":76297904,"comment_id":134693317,"body_markdown":"Get a look at [my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials), all work with Cognito","body":"Get a look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a>, all work with Cognito"}],"owner":{"account_id":4010818,"reputation":65,"user_id":3304234,"display_name":"El_bosteador"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684631203,"creation_date":1684631203,"question_id":76297904,"body_markdown":"I&#39;ve hit a wall in trying to protect my API routes in Spring-Boot. I&#39;m trying to figure out where the SecurityFilterChain gets the claims it needs to authorize calls. I made a custom filter but I&#39;m not sure what to do next. \r\n\r\n    public class CognitoFilter extends GenericFilter {\r\n    @Override\r\n    public void doFilter(\r\n            ServletRequest request,\r\n            ServletResponse response,\r\n            FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n\r\n        // Get the Authorization header to get cognito groups from it\r\n        String authHeader = req.getHeader(&quot;Authorization&quot;);\r\n        if (authHeader != null) {\r\n            System.out.println(authHeader.replace(&quot;Bearer &quot;, &quot;&quot;));\r\n        }\r\n\r\n        chain.doFilter(request, response);\r\n      }\r\n    }\r\n\r\nWith this filter chain config:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        // disable basic authentication (username and PW)\r\n        http.httpBasic().disable();\r\n\r\n        // disable Cross Site Request Forgery (CSRF)\r\n        // In general not required for stateless Rst APIs that use CRUD\r\n        http.cors().and().csrf().disable();\r\n\r\n        http.addFilterBefore(\r\n                new CognitoFilter(),\r\n                BasicAuthenticationFilter.class\r\n            )\r\n            .authorizeHttpRequests(authorizer -&gt;\r\n                    authorizer\r\n                        .requestMatchers(&quot;/api/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;PROVIDER&quot;)\r\n            );\r\n\r\n        return http.build();\r\n      }\r\n    }\r\n\r\n\r\nI&#39;m having a really hard time understanding how to setup Spring security to read my cognito token and where/how to tell it which claims to look at. Haven&#39;t seen tutorials that explain how the claims are obtained and parsed. \r\n\r\nAny help with this would help a ton!","title":"Using Spring Security with a Cognito token","body":"<p>I've hit a wall in trying to protect my API routes in Spring-Boot. I'm trying to figure out where the SecurityFilterChain gets the claims it needs to authorize calls. I made a custom filter but I'm not sure what to do next.</p>\n<pre><code>public class CognitoFilter extends GenericFilter {\n@Override\npublic void doFilter(\n        ServletRequest request,\n        ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n\n    // Get the Authorization header to get cognito groups from it\n    String authHeader = req.getHeader(&quot;Authorization&quot;);\n    if (authHeader != null) {\n        System.out.println(authHeader.replace(&quot;Bearer &quot;, &quot;&quot;));\n    }\n\n    chain.doFilter(request, response);\n  }\n}\n</code></pre>\n<p>With this filter chain config:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n    // disable basic authentication (username and PW)\n    http.httpBasic().disable();\n\n    // disable Cross Site Request Forgery (CSRF)\n    // In general not required for stateless Rst APIs that use CRUD\n    http.cors().and().csrf().disable();\n\n    http.addFilterBefore(\n            new CognitoFilter(),\n            BasicAuthenticationFilter.class\n        )\n        .authorizeHttpRequests(authorizer -&gt;\n                authorizer\n                    .requestMatchers(&quot;/api/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;PROVIDER&quot;)\n        );\n\n    return http.build();\n  }\n}\n</code></pre>\n<p>I'm having a really hard time understanding how to setup Spring security to read my cognito token and where/how to tell it which claims to look at. Haven't seen tutorials that explain how the claims are obtained and parsed.</p>\n<p>Any help with this would help a ton!</p>\n"},{"tags":["java","string","unicode","utf-8","truncate"],"answers":[{"tags":[],"owner":{"account_id":7862,"reputation":14582,"user_id":13824,"accept_rate":83,"display_name":"billjamesdev"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1222569730,"creation_date":1222150061,"answer_id":119338,"question_id":119328,"body_markdown":"UTF-8 encoding has a neat trait that allows you to see where in a byte-set you are.\r\n\r\ncheck the stream at the character limit you want.  \r\n\r\n  - If its high bit is 0, it&#39;s a single-byte char, just replace it with 0 and you&#39;re fine.  \r\n  - If its high bit is 1 and so is the next bit, then you&#39;re at the start of a multi-byte char, so just set that byte to 0 and you&#39;re good.  \r\n  - If the high bit is 1 but the next bit is 0, then you&#39;re in the middle of a character, travel back along the buffer until you hit a byte that has 2 or more 1s in the high bits, and replace that byte with 0.\r\n\r\nExample:  If your stream is: 31 33 31 C1 A3 32 33 00, you can make your string 1, 2, 3, 5, 6, or 7 bytes long, but not 4, as that would put the 0 after C1, which is the start of a multi-byte char.","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>UTF-8 encoding has a neat trait that allows you to see where in a byte-set you are.</p>\n\n<p>check the stream at the character limit you want.  </p>\n\n<ul>\n<li>If its high bit is 0, it's a single-byte char, just replace it with 0 and you're fine.  </li>\n<li>If its high bit is 1 and so is the next bit, then you're at the start of a multi-byte char, so just set that byte to 0 and you're good.  </li>\n<li>If the high bit is 1 but the next bit is 0, then you're in the middle of a character, travel back along the buffer until you hit a byte that has 2 or more 1s in the high bits, and replace that byte with 0.</li>\n</ul>\n\n<p>Example:  If your stream is: 31 33 31 C1 A3 32 33 00, you can make your string 1, 2, 3, 5, 6, or 7 bytes long, but not 4, as that would put the 0 after C1, which is the start of a multi-byte char.</p>\n"},{"tags":[],"owner":{"account_id":9974,"reputation":6191,"user_id":18645,"display_name":"mitchnull"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1624001789,"creation_date":1222150307,"answer_id":119343,"question_id":119328,"body_markdown":"You should use [CharsetEncoder][1], the simple `getBytes()` + copy as many as you can can cut UTF-8 charcters in half.\r\n\r\n\r\nSomething like this:   \r\n\r\n    public static int truncateUtf8(String input, byte[] output) {\r\n        \r\n        ByteBuffer outBuf = ByteBuffer.wrap(output);\r\n        CharBuffer inBuf = CharBuffer.wrap(input.toCharArray());\r\n\r\n        CharsetEncoder utf8Enc = StandardCharsets.UTF_8.newEncoder();\r\n        utf8Enc.encode(inBuf, outBuf, true);\r\n        System.out.println(&quot;encoded &quot; + inBuf.position() + &quot; chars of &quot; + input.length() + &quot;, result: &quot; + outBuf.position() + &quot; bytes&quot;);\r\n        return outBuf.position();\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html#encode-java.nio.CharBuffer-java.nio.ByteBuffer-boolean-\r\n","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html#encode-java.nio.CharBuffer-java.nio.ByteBuffer-boolean-\" rel=\"nofollow noreferrer\">CharsetEncoder</a>, the simple <code>getBytes()</code> + copy as many as you can can cut UTF-8 charcters in half.</p>\n<p>Something like this:</p>\n<pre><code>public static int truncateUtf8(String input, byte[] output) {\n    \n    ByteBuffer outBuf = ByteBuffer.wrap(output);\n    CharBuffer inBuf = CharBuffer.wrap(input.toCharArray());\n\n    CharsetEncoder utf8Enc = StandardCharsets.UTF_8.newEncoder();\n    utf8Enc.encode(inBuf, outBuf, true);\n    System.out.println(&quot;encoded &quot; + inBuf.position() + &quot; chars of &quot; + input.length() + &quot;, result: &quot; + outBuf.position() + &quot; bytes&quot;);\n    return outBuf.position();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8696,"reputation":6189,"user_id":15790,"display_name":"Matt Quail"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1222179111,"creation_date":1222155027,"answer_id":119586,"question_id":119328,"body_markdown":"Here is a simple loop that counts how big the UTF-8 representation is going to be, and truncates when it is exceeded:\r\n\r\n    public static String truncateWhenUTF8(String s, int maxBytes) {\r\n        int b = 0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            char c = s.charAt(i);\r\n\r\n            // ranges from http://en.wikipedia.org/wiki/UTF-8\r\n            int skip = 0;\r\n            int more;\r\n            if (c &lt;= 0x007f) {\r\n                more = 1;\r\n            }\r\n            else if (c &lt;= 0x07FF) {\r\n                more = 2;\r\n            } else if (c &lt;= 0xd7ff) {\r\n                more = 3;\r\n            } else if (c &lt;= 0xDFFF) {\r\n                // surrogate area, consume next char as well\r\n                more = 4;\r\n                skip = 1;\r\n            } else {\r\n                more = 3;\r\n            }\r\n\r\n            if (b + more &gt; maxBytes) {\r\n                return s.substring(0, i);\r\n            }\r\n            b += more;\r\n            i += skip;\r\n        }\r\n        return s;\r\n    }\r\n\r\nThis *does* handle [surrogate pairs](http://en.wikipedia.org/wiki/UTF-16) that appear in the input string. Java&#39;s UTF-8 encoder (correctly) outputs surrogate pairs as a single 4-byte sequence instead of two 3-byte sequences, so `truncateWhenUTF8()` will return the longest truncated string it can. If you ignore surrogate pairs in the implementation then the truncated strings may be shorted than they needed to be.\r\n\r\nI haven&#39;t done a lot of testing on that code, but here are some preliminary tests:\r\n\r\n    private static void test(String s, int maxBytes, int expectedBytes) {\r\n        String result = truncateWhenUTF8(s, maxBytes);\r\n        byte[] utf8 = result.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n        if (utf8.length &gt; maxBytes) {\r\n            System.out.println(&quot;BAD: our truncation of &quot; + s + &quot; was too big&quot;);\r\n        }\r\n        if (utf8.length != expectedBytes) {\r\n            System.out.println(&quot;BAD: expected &quot; + expectedBytes + &quot; got &quot; + utf8.length);\r\n        }\r\n        System.out.println(s + &quot; truncated to &quot; + result);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        test(&quot;abcd&quot;, 0, 0);\r\n        test(&quot;abcd&quot;, 1, 1);\r\n        test(&quot;abcd&quot;, 2, 2);\r\n        test(&quot;abcd&quot;, 3, 3);\r\n        test(&quot;abcd&quot;, 4, 4);\r\n        test(&quot;abcd&quot;, 5, 4);\r\n\r\n        test(&quot;a\\u0080b&quot;, 0, 0);\r\n        test(&quot;a\\u0080b&quot;, 1, 1);\r\n        test(&quot;a\\u0080b&quot;, 2, 1);\r\n        test(&quot;a\\u0080b&quot;, 3, 3);\r\n        test(&quot;a\\u0080b&quot;, 4, 4);\r\n        test(&quot;a\\u0080b&quot;, 5, 4);\r\n\r\n        test(&quot;a\\u0800b&quot;, 0, 0);\r\n        test(&quot;a\\u0800b&quot;, 1, 1);\r\n        test(&quot;a\\u0800b&quot;, 2, 1);\r\n        test(&quot;a\\u0800b&quot;, 3, 1);\r\n        test(&quot;a\\u0800b&quot;, 4, 4);\r\n        test(&quot;a\\u0800b&quot;, 5, 5);\r\n        test(&quot;a\\u0800b&quot;, 6, 5);\r\n\r\n        // surrogate pairs\r\n        test(&quot;\\uD834\\uDD1E&quot;, 0, 0);\r\n        test(&quot;\\uD834\\uDD1E&quot;, 1, 0);\r\n        test(&quot;\\uD834\\uDD1E&quot;, 2, 0);\r\n        test(&quot;\\uD834\\uDD1E&quot;, 3, 0);\r\n        test(&quot;\\uD834\\uDD1E&quot;, 4, 4);\r\n        test(&quot;\\uD834\\uDD1E&quot;, 5, 4);\r\n\r\n    }\r\n\r\n**Updated** Modified code example, it now handles surrogate pairs.","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>Here is a simple loop that counts how big the UTF-8 representation is going to be, and truncates when it is exceeded:</p>\n\n<pre><code>public static String truncateWhenUTF8(String s, int maxBytes) {\n    int b = 0;\n    for (int i = 0; i &lt; s.length(); i++) {\n        char c = s.charAt(i);\n\n        // ranges from http://en.wikipedia.org/wiki/UTF-8\n        int skip = 0;\n        int more;\n        if (c &lt;= 0x007f) {\n            more = 1;\n        }\n        else if (c &lt;= 0x07FF) {\n            more = 2;\n        } else if (c &lt;= 0xd7ff) {\n            more = 3;\n        } else if (c &lt;= 0xDFFF) {\n            // surrogate area, consume next char as well\n            more = 4;\n            skip = 1;\n        } else {\n            more = 3;\n        }\n\n        if (b + more &gt; maxBytes) {\n            return s.substring(0, i);\n        }\n        b += more;\n        i += skip;\n    }\n    return s;\n}\n</code></pre>\n\n<p>This <em>does</em> handle <a href=\"http://en.wikipedia.org/wiki/UTF-16\" rel=\"noreferrer\">surrogate pairs</a> that appear in the input string. Java's UTF-8 encoder (correctly) outputs surrogate pairs as a single 4-byte sequence instead of two 3-byte sequences, so <code>truncateWhenUTF8()</code> will return the longest truncated string it can. If you ignore surrogate pairs in the implementation then the truncated strings may be shorted than they needed to be.</p>\n\n<p>I haven't done a lot of testing on that code, but here are some preliminary tests:</p>\n\n<pre><code>private static void test(String s, int maxBytes, int expectedBytes) {\n    String result = truncateWhenUTF8(s, maxBytes);\n    byte[] utf8 = result.getBytes(Charset.forName(\"UTF-8\"));\n    if (utf8.length &gt; maxBytes) {\n        System.out.println(\"BAD: our truncation of \" + s + \" was too big\");\n    }\n    if (utf8.length != expectedBytes) {\n        System.out.println(\"BAD: expected \" + expectedBytes + \" got \" + utf8.length);\n    }\n    System.out.println(s + \" truncated to \" + result);\n}\n\npublic static void main(String[] args) {\n    test(\"abcd\", 0, 0);\n    test(\"abcd\", 1, 1);\n    test(\"abcd\", 2, 2);\n    test(\"abcd\", 3, 3);\n    test(\"abcd\", 4, 4);\n    test(\"abcd\", 5, 4);\n\n    test(\"a\\u0080b\", 0, 0);\n    test(\"a\\u0080b\", 1, 1);\n    test(\"a\\u0080b\", 2, 1);\n    test(\"a\\u0080b\", 3, 3);\n    test(\"a\\u0080b\", 4, 4);\n    test(\"a\\u0080b\", 5, 4);\n\n    test(\"a\\u0800b\", 0, 0);\n    test(\"a\\u0800b\", 1, 1);\n    test(\"a\\u0800b\", 2, 1);\n    test(\"a\\u0800b\", 3, 1);\n    test(\"a\\u0800b\", 4, 4);\n    test(\"a\\u0800b\", 5, 5);\n    test(\"a\\u0800b\", 6, 5);\n\n    // surrogate pairs\n    test(\"\\uD834\\uDD1E\", 0, 0);\n    test(\"\\uD834\\uDD1E\", 1, 0);\n    test(\"\\uD834\\uDD1E\", 2, 0);\n    test(\"\\uD834\\uDD1E\", 3, 0);\n    test(\"\\uD834\\uDD1E\", 4, 4);\n    test(\"\\uD834\\uDD1E\", 5, 4);\n\n}\n</code></pre>\n\n<p><strong>Updated</strong> Modified code example, it now handles surrogate pairs.</p>\n"},{"tags":[],"owner":{"account_id":10157,"reputation":160,"user_id":19050,"display_name":"user19050"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1222157514,"creation_date":1222156061,"answer_id":119660,"question_id":119328,"body_markdown":"You can calculate the number of bytes without doing any conversion.\r\n\r\n    foreach character in the Java string\r\n      if 0 &lt;= character &lt;= 0x7f\r\n         count += 1\r\n      else if 0x80 &lt;= character &lt;= 0x7ff\r\n         count += 2\r\n      else if 0x800 &lt;= character &lt;= 0xd7ff // excluding the surrogate area\r\n         count += 3\r\n      else if 0xdc00 &lt;= character &lt;= 0xffff\r\n         count += 3\r\n      else { // surrogate, a bit more complicated\r\n         count += 4\r\n         skip one extra character in the input stream\r\n      }\r\n\r\nYou would have to detect surrogate pairs (D800-DBFF and U+DC00–U+DFFF) and count 4 bytes for each valid surrogate pair. If you get the first value in the first range and the second in the second range, it&#39;s all ok, skip them and add 4.\r\nBut if not, then it is an invalid surrogate pair. I am not sure how Java deals with that, but your algorithm will have to do right counting in that (unlikely) case.\r\n\r\n\r\n\r\n","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>You can calculate the number of bytes without doing any conversion.</p>\n\n<pre><code>foreach character in the Java string\n  if 0 &lt;= character &lt;= 0x7f\n     count += 1\n  else if 0x80 &lt;= character &lt;= 0x7ff\n     count += 2\n  else if 0x800 &lt;= character &lt;= 0xd7ff // excluding the surrogate area\n     count += 3\n  else if 0xdc00 &lt;= character &lt;= 0xffff\n     count += 3\n  else { // surrogate, a bit more complicated\n     count += 4\n     skip one extra character in the input stream\n  }\n</code></pre>\n\n<p>You would have to detect surrogate pairs (D800-DBFF and U+DC00–U+DFFF) and count 4 bytes for each valid surrogate pair. If you get the first value in the first range and the second in the second range, it's all ok, skip them and add 4.\nBut if not, then it is an invalid surrogate pair. I am not sure how Java deals with that, but your algorithm will have to do right counting in that (unlikely) case.</p>\n"},{"tags":[],"owner":{"account_id":50395,"reputation":917,"user_id":150333,"display_name":"sigget"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1501599611,"creation_date":1454403843,"answer_id":35148974,"question_id":119328,"body_markdown":"Here&#39;s what I came up with, it uses standard Java APIs so should be safe and compatible with all the unicode weirdness and surrogate pairs etc. The solution is taken from http://www.jroller.com/holy/entry/truncating_utf_string_to_the with checks added for null and for avoiding decoding when the string is fewer bytes than **maxBytes**.\r\n\r\n    /**\r\n     * Truncates a string to the number of characters that fit in X bytes avoiding multi byte characters being cut in\r\n     * half at the cut off point. Also handles surrogate pairs where 2 characters in the string is actually one literal\r\n     * character.\r\n     *\r\n     * Based on: http://www.jroller.com/holy/entry/truncating_utf_string_to_the\r\n     */\r\n    public static String truncateToFitUtf8ByteLength(String s, int maxBytes) {\r\n        if (s == null) {\r\n            return null;\r\n        }\r\n        Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n        CharsetDecoder decoder = charset.newDecoder();\r\n        byte[] sba = s.getBytes(charset);\r\n        if (sba.length &lt;= maxBytes) {\r\n            return s;\r\n        }\r\n        // Ensure truncation by having byte buffer = maxBytes\r\n        ByteBuffer bb = ByteBuffer.wrap(sba, 0, maxBytes);\r\n        CharBuffer cb = CharBuffer.allocate(maxBytes);\r\n        // Ignore an incomplete character\r\n        decoder.onMalformedInput(CodingErrorAction.IGNORE)\r\n        decoder.decode(bb, cb, true);\r\n        decoder.flush(cb);\r\n        return new String(cb.array(), 0, cb.position());\r\n    }\r\n","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>Here's what I came up with, it uses standard Java APIs so should be safe and compatible with all the unicode weirdness and surrogate pairs etc. The solution is taken from <a href=\"http://www.jroller.com/holy/entry/truncating_utf_string_to_the\" rel=\"noreferrer\">http://www.jroller.com/holy/entry/truncating_utf_string_to_the</a> with checks added for null and for avoiding decoding when the string is fewer bytes than <strong>maxBytes</strong>.</p>\n\n<pre><code>/**\n * Truncates a string to the number of characters that fit in X bytes avoiding multi byte characters being cut in\n * half at the cut off point. Also handles surrogate pairs where 2 characters in the string is actually one literal\n * character.\n *\n * Based on: http://www.jroller.com/holy/entry/truncating_utf_string_to_the\n */\npublic static String truncateToFitUtf8ByteLength(String s, int maxBytes) {\n    if (s == null) {\n        return null;\n    }\n    Charset charset = Charset.forName(\"UTF-8\");\n    CharsetDecoder decoder = charset.newDecoder();\n    byte[] sba = s.getBytes(charset);\n    if (sba.length &lt;= maxBytes) {\n        return s;\n    }\n    // Ensure truncation by having byte buffer = maxBytes\n    ByteBuffer bb = ByteBuffer.wrap(sba, 0, maxBytes);\n    CharBuffer cb = CharBuffer.allocate(maxBytes);\n    // Ignore an incomplete character\n    decoder.onMalformedInput(CodingErrorAction.IGNORE)\n    decoder.decode(bb, cb, true);\n    decoder.flush(cb);\n    return new String(cb.array(), 0, cb.position());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2557068,"reputation":603,"user_id":2218806,"display_name":"Suresh Gupta"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1540363993,"creation_date":1540363993,"answer_id":52962632,"question_id":119328,"body_markdown":"you can use -new String( data.getBytes(&quot;UTF-8&quot;) , 0, maxLen, &quot;UTF-8&quot;);","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>you can use -new String( data.getBytes(\"UTF-8\") , 0, maxLen, \"UTF-8\");</p>\n"},{"tags":[],"owner":{"account_id":352393,"reputation":7153,"user_id":6404321,"display_name":"walen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651045996,"creation_date":1639417578,"answer_id":70338834,"question_id":119328,"body_markdown":"Based on [billjamesdev&#39;s answer][1] I&#39;ve come up with the following method which, as far as I can tell, is the simplest _and_ still works OK with surrogate pairs:\r\n\r\n    public static String utf8ByteTrim(String s, int trimSize) {\r\n        final byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\r\n        if ((bytes[trimSize-1] &amp; 0x80) != 0) { // inside a multibyte sequence\r\n            while ((bytes[trimSize-1] &amp; 0x40) == 0) { // 2nd, 3rd, 4th bytes\r\n                trimSize--;\r\n            }\r\n            trimSize--;\r\n        }\r\n        return new String(bytes, 0, trimSize, StandardCharsets.UTF_8);\r\n    }\r\n\r\nSome testing:\r\n\r\n    String test = &quot;A&#230;&#128514;尝试&quot;;\r\n    IntStream.range(1, 16).forEachOrdered(i -&gt;\r\n            System.out.println(&quot;Size &quot; + i + &quot;: &quot; + utf8ByteTrim(test, i))\r\n    );\r\n\r\n    ---\r\n\r\n    Size 1: A\r\n    Size 2: A\r\n    Size 3: A\r\n    Size 4: A&#230;\r\n    Size 5: A&#230;\r\n    Size 6: A&#230;\r\n    Size 7: A&#230;\r\n    Size 8: A&#230;&#128514;\r\n    Size 9: A&#230;&#128514;\r\n    Size 10: A&#230;&#128514;\r\n    Size 11: A&#230;&#128514;尝\r\n    Size 12: A&#230;&#128514;尝\r\n    Size 13: A&#230;&#128514;尝试\r\n    Size 14: A&#230;&#128514;尝试\r\n    Size 15: A&#230;&#128514;尝试\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/119338/6404321","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>Based on <a href=\"https://stackoverflow.com/a/119338/6404321\">billjamesdev's answer</a> I've come up with the following method which, as far as I can tell, is the simplest <em>and</em> still works OK with surrogate pairs:</p>\n<pre><code>public static String utf8ByteTrim(String s, int trimSize) {\n    final byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\n    if ((bytes[trimSize-1] &amp; 0x80) != 0) { // inside a multibyte sequence\n        while ((bytes[trimSize-1] &amp; 0x40) == 0) { // 2nd, 3rd, 4th bytes\n            trimSize--;\n        }\n        trimSize--;\n    }\n    return new String(bytes, 0, trimSize, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>Some testing:</p>\n<pre><code>String test = &quot;Aæ😂尝试&quot;;\nIntStream.range(1, 16).forEachOrdered(i -&gt;\n        System.out.println(&quot;Size &quot; + i + &quot;: &quot; + utf8ByteTrim(test, i))\n);\n\n---\n\nSize 1: A\nSize 2: A\nSize 3: A\nSize 4: Aæ\nSize 5: Aæ\nSize 6: Aæ\nSize 7: Aæ\nSize 8: Aæ😂\nSize 9: Aæ😂\nSize 10: Aæ😂\nSize 11: Aæ😂尝\nSize 12: Aæ😂尝\nSize 13: Aæ😂尝试\nSize 14: Aæ😂尝试\nSize 15: Aæ😂尝试\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13408827,"reputation":937,"user_id":9676015,"display_name":"Brent K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684630618,"creation_date":1684630618,"answer_id":76297886,"question_id":119328,"body_markdown":"Scanning from the tail end of the string is far more efficient that scanning from the beginning, especially on very long strings.  So [walen][1] was on the right path, unfortunately that answer does not provide the correct truncation.\r\n\r\nIf you would like a solution that scans backwards only a few characters, this is the best option.\r\n\r\nUsing the data in [billjamesdev&#39;s answer][2] we can effectively scan backwards and correctly get the truncation on a character boundary.\r\n\r\n    public static String utf8ByteTrim(String s, int requestedTrimSize) {\r\n        final byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\r\n        int maxTrimSize = Integer.min(requestedTrimSize, bytes.length);\r\n        int trimSize = maxTrimSize;\r\n        if ((bytes[trimSize-1] &amp; 0x80) != 0) { // inside a multibyte sequence\r\n            while ((bytes[trimSize - 1] &amp; 0x40) == 0) { // 2nd, 3rd, 4th bytes\r\n                trimSize--;\r\n            }\r\n            trimSize--;  // Get to the start of the UTF-8\r\n            // Now see if that final UTF-8 character fits.\r\n            // Assume the UTF-8 starts with binary 110xxxxx and is 2 bytes\r\n            int numBytes = 2;  \r\n            if ((bytes[trimSize] &amp; 0xF0) == 0xE0) {\r\n                // If the UTF-8 starts with binary 1110xxxx it is 3 bytes\r\n                numBytes = 3;\r\n            } else if ((bytes[trimSize] &amp; 0xF8) == 0xF0) {\r\n                // If the UTF-8 starts with binary 11110xxx it is 3 bytes\r\n                numBytes = 4;\r\n            }\r\n            if( (trimSize + numBytes) == maxTrimSize)  {\r\n                // The entire last UTF-8 character fits\r\n                trimSize = maxTrimSize; \r\n            }\r\n        }\r\n        return new String(bytes, 0, trimSize, StandardCharsets.UTF_8);\r\n    }\r\n\r\nThere is only one while loop that will execute at most 3 iterations as it walks backward. Then a few if statements will determine which character to truncate.\r\n\r\nSome testing:\r\n\r\n    String test = &quot;A&#230;&#128514;尝试&quot;; // Sizes: (1,2,4,3,3) = 13 bytes\r\n    IntStream.range(1, 16).forEachOrdered(i -&gt;\r\n            System.out.println(&quot;Size &quot; + i + &quot;: &quot; + utf8ByteTrim(test, i))\r\n    );\r\n    \r\n    ---\r\n    \r\n    Size 1: A\r\n    Size 2: A\r\n    Size 3: A&#230;\r\n    Size 4: A&#230;\r\n    Size 5: A&#230;\r\n    Size 6: A&#230;\r\n    Size 7: A&#230;&#128514;\r\n    Size 8: A&#230;&#128514;\r\n    Size 9: A&#230;&#128514;\r\n    Size 10: A&#230;&#128514;尝\r\n    Size 11: A&#230;&#128514;尝\r\n    Size 12: A&#230;&#128514;尝\r\n    Size 13: A&#230;&#128514;尝试\r\n    Size 14: A&#230;&#128514;尝试\r\n    Size 15: A&#230;&#128514;尝试\r\n\r\n  [1]: https://stackoverflow.com/a/70338834/9676015\r\n  [2]: https://stackoverflow.com/a/119338/6404321","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>Scanning from the tail end of the string is far more efficient that scanning from the beginning, especially on very long strings.  So <a href=\"https://stackoverflow.com/a/70338834/9676015\">walen</a> was on the right path, unfortunately that answer does not provide the correct truncation.</p>\n<p>If you would like a solution that scans backwards only a few characters, this is the best option.</p>\n<p>Using the data in <a href=\"https://stackoverflow.com/a/119338/6404321\">billjamesdev's answer</a> we can effectively scan backwards and correctly get the truncation on a character boundary.</p>\n<pre><code>public static String utf8ByteTrim(String s, int requestedTrimSize) {\n    final byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\n    int maxTrimSize = Integer.min(requestedTrimSize, bytes.length);\n    int trimSize = maxTrimSize;\n    if ((bytes[trimSize-1] &amp; 0x80) != 0) { // inside a multibyte sequence\n        while ((bytes[trimSize - 1] &amp; 0x40) == 0) { // 2nd, 3rd, 4th bytes\n            trimSize--;\n        }\n        trimSize--;  // Get to the start of the UTF-8\n        // Now see if that final UTF-8 character fits.\n        // Assume the UTF-8 starts with binary 110xxxxx and is 2 bytes\n        int numBytes = 2;  \n        if ((bytes[trimSize] &amp; 0xF0) == 0xE0) {\n            // If the UTF-8 starts with binary 1110xxxx it is 3 bytes\n            numBytes = 3;\n        } else if ((bytes[trimSize] &amp; 0xF8) == 0xF0) {\n            // If the UTF-8 starts with binary 11110xxx it is 3 bytes\n            numBytes = 4;\n        }\n        if( (trimSize + numBytes) == maxTrimSize)  {\n            // The entire last UTF-8 character fits\n            trimSize = maxTrimSize; \n        }\n    }\n    return new String(bytes, 0, trimSize, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>There is only one while loop that will execute at most 3 iterations as it walks backward. Then a few if statements will determine which character to truncate.</p>\n<p>Some testing:</p>\n<pre><code>String test = &quot;Aæ😂尝试&quot;; // Sizes: (1,2,4,3,3) = 13 bytes\nIntStream.range(1, 16).forEachOrdered(i -&gt;\n        System.out.println(&quot;Size &quot; + i + &quot;: &quot; + utf8ByteTrim(test, i))\n);\n\n---\n\nSize 1: A\nSize 2: A\nSize 3: Aæ\nSize 4: Aæ\nSize 5: Aæ\nSize 6: Aæ\nSize 7: Aæ😂\nSize 8: Aæ😂\nSize 9: Aæ😂\nSize 10: Aæ😂尝\nSize 11: Aæ😂尝\nSize 12: Aæ😂尝\nSize 13: Aæ😂尝试\nSize 14: Aæ😂尝试\nSize 15: Aæ😂尝试\n</code></pre>\n"}],"owner":{"account_id":2975,"reputation":19834,"user_id":4220,"accept_rate":100,"display_name":"Johan L&#252;bcke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38683,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":119586,"answer_count":8,"score":48,"last_activity_date":1684630618,"creation_date":1222149801,"question_id":119328,"body_markdown":"How do I truncate a java `String` so that I know it will fit in a given number of bytes storage once it is UTF-8 encoded?","title":"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?","body":"<p>How do I truncate a java <code>String</code> so that I know it will fit in a given number of bytes storage once it is UTF-8 encoded?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1548960266,"post_id":54465747,"comment_id":95742438,"body_markdown":"Does it work when you run it only with maven? Which version of IntelliJ are you using?","body":"Does it work when you run it only with maven? Which version of IntelliJ are you using?"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1548962018,"post_id":54465747,"comment_id":95743255,"body_markdown":"could it be that `build-helper-maven-plugin` conflicts with generating resources? Could you comment that one out and see what happens?","body":"could it be that <code>build-helper-maven-plugin</code> conflicts with generating resources? Could you comment that one out and see what happens?"}],"answers":[{"tags":[],"owner":{"account_id":4274889,"reputation":617,"user_id":3495816,"display_name":"user3495816"},"down_vote_count":3,"up_vote_count":9,"is_accepted":true,"score":6,"last_activity_date":1549012461,"creation_date":1549012461,"answer_id":54476293,"question_id":54465747,"body_markdown":"Problem was that my mappers were missing annotation `@Mapper`.","title":"MapStruct is not generating implementation classes","body":"<p>Problem was that my mappers were missing annotation <code>@Mapper</code>.</p>\n"},{"tags":[],"owner":{"account_id":11396057,"reputation":664,"user_id":8354437,"display_name":"Ankit Chauhan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598615258,"creation_date":1598615258,"answer_id":63633202,"question_id":54465747,"body_markdown":"Adding `mapstruct-processor` dependency solved the issue for me.","title":"MapStruct is not generating implementation classes","body":"<p>Adding <code>mapstruct-processor</code> dependency solved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":1939812,"reputation":2762,"user_id":1746258,"accept_rate":72,"display_name":"Ulug&#39;bek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615719948,"creation_date":1615382953,"answer_id":66565735,"question_id":54465747,"body_markdown":"I have come across this issue. In my case gets this error: \r\n\r\n&gt; Java: No implementation was created for Mapper due to having a problem in the erroneous element\r\n\r\nwhen the app is running. \r\n\r\nI used to spring boot version `2.4.3` when I decrease version to `2.2.6.RELEASE` it start to work","title":"MapStruct is not generating implementation classes","body":"<p>I have come across this issue. In my case gets this error:</p>\n<blockquote>\n<p>Java: No implementation was created for Mapper due to having a problem in the erroneous element</p>\n</blockquote>\n<p>when the app is running.</p>\n<p>I used to spring boot version <code>2.4.3</code> when I decrease version to <code>2.2.6.RELEASE</code> it start to work</p>\n"},{"tags":[],"owner":{"account_id":5084245,"reputation":1010,"user_id":4079473,"display_name":"anstue"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1619698674,"creation_date":1619698674,"answer_id":67317199,"question_id":54465747,"body_markdown":"If you use kotlin, you need to use `kapt` instead of `annotationProcessor`\r\n\r\nGradle example:\r\n\r\n    plugins {\r\n      kotlin(&quot;kapt&quot;) version &quot;1.4.32&quot;\r\n    }\r\n    ...\r\n    dependencies {\r\n      ...\r\n      implementation(&quot;org.mapstruct:mapstruct:1.4.2.Final&quot;)\r\n      kapt(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\r\n    }\r\n\r\nAfterwards the implementation is generated if you execute `gradle build`","title":"MapStruct is not generating implementation classes","body":"<p>If you use kotlin, you need to use <code>kapt</code> instead of <code>annotationProcessor</code></p>\n<p>Gradle example:</p>\n<pre><code>plugins {\n  kotlin(&quot;kapt&quot;) version &quot;1.4.32&quot;\n}\n...\ndependencies {\n  ...\n  implementation(&quot;org.mapstruct:mapstruct:1.4.2.Final&quot;)\n  kapt(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\n}\n</code></pre>\n<p>Afterwards the implementation is generated if you execute <code>gradle build</code></p>\n"},{"tags":[],"owner":{"account_id":4755054,"reputation":11,"user_id":3844026,"display_name":"Mattia Casella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634817752,"creation_date":1634817752,"answer_id":69661640,"question_id":54465747,"body_markdown":"For me the problem was:\r\n\r\n    &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n\r\nAfter commented that out, all works!\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;source&gt;${jdk.target.version}&lt;/source&gt;\r\n    \t\t&lt;target&gt;${jdk.target.version}&lt;/target&gt;\r\n    \t\t&lt;!--&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;--&gt;\r\n    \t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t&lt;path&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t\t\t&lt;/path&gt;\r\n    \t\t&lt;/annotationProcessorPaths&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"MapStruct is not generating implementation classes","body":"<p>For me the problem was:</p>\n<pre><code>&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n</code></pre>\n<p>After commented that out, all works!</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${jdk.target.version}&lt;/source&gt;\n        &lt;target&gt;${jdk.target.version}&lt;/target&gt;\n        &lt;!--&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;--&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11771802,"reputation":758,"user_id":8614637,"display_name":"DeveloperKurt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638097246,"creation_date":1638097246,"answer_id":70142735,"question_id":54465747,"body_markdown":"If you are using Kotlin with maven, you can add these dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nAnd add the kapt execution to the kotlin-maven-plugin as follows:\r\n\r\n       &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;kapt&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;kapt&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceDirs&gt;\r\n                                    &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\r\n                                    &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\r\n                                &lt;/sourceDirs&gt;\r\n                                &lt;annotationProcessorPaths&gt;\r\n                                    &lt;!-- Specify your annotation processors here. --&gt;\r\n                                    &lt;annotationProcessorPath&gt;\r\n                                        &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;\r\n                                        &lt;version&gt;2.9&lt;/version&gt;\r\n                                    &lt;/annotationProcessorPath&gt;\r\n                                &lt;/annotationProcessorPaths&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;compile&lt;/id&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test-compile&lt;/id&gt;\r\n                            &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\n","title":"MapStruct is not generating implementation classes","body":"<p>If you are using Kotlin with maven, you can add these dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And add the kapt execution to the kotlin-maven-plugin as follows:</p>\n<pre><code>   &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;!-- Specify your annotation processors here. --&gt;\n                                &lt;annotationProcessorPath&gt;\n                                    &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\n                                    &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;\n                                    &lt;version&gt;2.9&lt;/version&gt;\n                                &lt;/annotationProcessorPath&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24464992,"reputation":1,"user_id":18385509,"display_name":"DH12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684626300,"creation_date":1684626300,"answer_id":76297761,"question_id":54465747,"body_markdown":"Try Properties &gt; Maven &gt; Annotation Processing &gt; (Enable) Automatically configure JDT APT.","title":"MapStruct is not generating implementation classes","body":"<p>Try Properties &gt; Maven &gt; Annotation Processing &gt; (Enable) Automatically configure JDT APT.</p>\n"}],"owner":{"account_id":4274889,"reputation":617,"user_id":3495816,"display_name":"user3495816"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31181,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":54476293,"answer_count":7,"score":16,"last_activity_date":1684626300,"creation_date":1548954269,"question_id":54465747,"body_markdown":"I am using Mapstruct and Lombok with maven and IDEA and it is refusing to generate mappers implementation. Config:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    ...\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;org.mapstruct.version&gt;1.3.0.Beta2&lt;/org.mapstruct.version&gt;\r\n            &lt;lombok.version&gt;1.18.2&lt;/lombok.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n            &lt;!-- spring deps --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            ...\r\n    \r\n            &lt;!-- lombok dep --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;add-source&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;add-source&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sources&gt;\r\n                                    &lt;source&gt;${project.build.directory}/generated-sources/java/&lt;/source&gt;\r\n                                    &lt;source&gt;${project.build.directory}/generated-sources/annotations/&lt;/source&gt;\r\n                                &lt;/sources&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifestEntries&gt;\r\n                                &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\r\n                            &lt;/manifestEntries&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n       ...\r\n    &lt;/project&gt;\r\n\r\nBoth Mapstruct and Lombok are registered as annotations processors with idea:\r\n[![enter image description here][1]][1]\r\n\r\nImplementation files does not generate when I try to build with IDEA or if I try maven clean install.\r\n\r\nI have tried changing Java from 11 to 8 and it still does not work. /target/generated-sources/annotations is just empty. Other project with same config is wroking fine.\r\n\r\n  [1]: https://i.stack.imgur.com/MCuwF.png","title":"MapStruct is not generating implementation classes","body":"<p>I am using Mapstruct and Lombok with maven and IDEA and it is refusing to generate mappers implementation. Config:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n...\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.3.0.Beta2&lt;/org.mapstruct.version&gt;\n        &lt;lombok.version&gt;1.18.2&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- spring deps --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        ...\n\n        &lt;!-- lombok dep --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;add-source&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;${project.build.directory}/generated-sources/java/&lt;/source&gt;\n                                &lt;source&gt;${project.build.directory}/generated-sources/annotations/&lt;/source&gt;\n                            &lt;/sources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n   ...\n&lt;/project&gt;\n</code></pre>\n\n<p>Both Mapstruct and Lombok are registered as annotations processors with idea:\n<a href=\"https://i.stack.imgur.com/MCuwF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MCuwF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Implementation files does not generate when I try to build with IDEA or if I try maven clean install.</p>\n\n<p>I have tried changing Java from 11 to 8 and it still does not work. /target/generated-sources/annotations is just empty. Other project with same config is wroking fine.</p>\n"},{"tags":["java","date","datetime","time","java-time"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1653059723,"post_id":72321174,"comment_id":127766273,"body_markdown":"You want to use the Period class, not Duration class - https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","body":"You want to use the Period class, not Duration class - <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/iso/period.html</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653060845,"post_id":72321174,"comment_id":127766751,"body_markdown":"@OldProgrammer Or the ThreeTen Extra combo: [PeriodDuration](https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/PeriodDuration.html). Or if you don’t want the external dependency, then both a `Period` and a `Duration`.","body":"@OldProgrammer Or the ThreeTen Extra combo: <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/PeriodDuration.html\" rel=\"nofollow noreferrer\">PeriodDuration</a>. Or if you don’t want the external dependency, then both a <code>Period</code> and a <code>Duration</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653073474,"post_id":72321174,"comment_id":127770827,"body_markdown":"You may want to look at [my answer here](https://stackoverflow.com/a/43976799/5772882).","body":"You may want to look at <a href=\"https://stackoverflow.com/a/43976799/5772882\">my answer here</a>."}],"answers":[{"tags":[],"owner":{"account_id":13151658,"reputation":1004,"user_id":9971890,"display_name":"Gimme the 411"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653061259,"creation_date":1653061259,"answer_id":72321553,"question_id":72321174,"body_markdown":"I believe I have solved it:\r\n\r\n    ZonedDateTime event1 = ZonedDateTime.of(2022, 2, 2, 2, 2, 2, 0, ZoneId.of(&quot;UTC-7&quot;));\r\n    ZonedDateTime event2 = ZonedDateTime.of(2025, 1, 1, 0, 0, 0, 0, ZoneId.of(&quot;UTC-7&quot;));\r\n    Duration duration = Duration.between(event1, event2);\r\n    Period period = Period.between(event1.toLocalDate(), event2.toLocalDate());\r\n    Log.d(&quot;Duration ISO-8601: &quot;, period.toString() + duration.toString());\r\n\r\nThis prints:\r\n\r\n    P2Y10M30DPT25533H57M58S\r\n\r\nWhich is 2 years, 10 months, 30 days, 25533 hours, 57 minutes, 58 seconds.\r\n\r\nWhen extracting the individual values (which is what I need), using modulus fixes the problem with hours:\r\n\r\n     String.valueOf(duration.toHours() % 24)\r\n\r\nAnd if there&#39;s any problem with minutes and seconds, % 60 will fix it.","title":"How can I get the Duration between two dates / times in YMDHMS (ISO 8601)?","body":"<p>I believe I have solved it:</p>\n<pre><code>ZonedDateTime event1 = ZonedDateTime.of(2022, 2, 2, 2, 2, 2, 0, ZoneId.of(&quot;UTC-7&quot;));\nZonedDateTime event2 = ZonedDateTime.of(2025, 1, 1, 0, 0, 0, 0, ZoneId.of(&quot;UTC-7&quot;));\nDuration duration = Duration.between(event1, event2);\nPeriod period = Period.between(event1.toLocalDate(), event2.toLocalDate());\nLog.d(&quot;Duration ISO-8601: &quot;, period.toString() + duration.toString());\n</code></pre>\n<p>This prints:</p>\n<pre><code>P2Y10M30DPT25533H57M58S\n</code></pre>\n<p>Which is 2 years, 10 months, 30 days, 25533 hours, 57 minutes, 58 seconds.</p>\n<p>When extracting the individual values (which is what I need), using modulus fixes the problem with hours:</p>\n<pre><code> String.valueOf(duration.toHours() % 24)\n</code></pre>\n<p>And if there's any problem with minutes and seconds, % 60 will fix it.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653088606,"creation_date":1653062677,"answer_id":72321832,"question_id":72321174,"body_markdown":"You can create a custom class that will maintain `Period` and `Duration` fields (credits to *@Ole V.V.* since he mentioned it earlier in the comments).\r\n\r\nHere is an example of such a class implementation, which exposes a static method `between()`, that expects two arguments of type `LocalDateTime`.\r\n\r\nMethods like `getYears()` and `getHours()` will delegate the call to `Period` and `Duration` objects.\r\n```\r\nclass DateTimeSlot {\r\n    private Period period;\r\n    private Duration duration;\r\n    \r\n    private DateTimeSlot(Period period, Duration duration) {\r\n        this.period = period;\r\n        this.duration = duration;\r\n    }\r\n    \r\n    public int getYears() {\r\n        return period.getYears();\r\n    }\r\n    \r\n    public int getMonth() {\r\n        return period.getMonths();\r\n    }\r\n    \r\n    public int getDays() {\r\n        return period.getDays();\r\n    }\r\n    \r\n    public int getHours() {\r\n        return duration.toHoursPart(); // this method can be safely used instead `toHours()` because `between()` implementation guerantees that duration will be less than 24 hours\r\n    }\r\n    \r\n    public int getMinutes() {\r\n        return duration.toMinutesPart();\r\n    }\r\n    \r\n    public int getSeconds() {\r\n        return (int) (duration.getSeconds() % 60);\r\n    }\r\n    \r\n    public static DateTimeSlot between(LocalDateTime from, LocalDateTime to) {\r\n        if (from.isAfter(to) || from.equals(to)) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        \r\n        Duration duration;\r\n        Period period;\r\n        \r\n        if (from.toLocalTime().isBefore(to.toLocalTime())) {\r\n            duration = Duration.between(from.toLocalTime(), to.toLocalTime());\r\n            period = Period.between(from.toLocalDate(), to.toLocalDate());\r\n        } else {\r\n            duration = Duration.between(to.withHour(from.getHour())\r\n                .withMinute(from.getMinute())\r\n                .withSecond(from.getSecond())\r\n                .minusDays(1), to);                    // apply shift one day back\r\n            period = Period.between(from.toLocalDate()\r\n                .plusDays(1), to.toLocalDate());       // apply shift one day forward (to compensate the previous shift)\r\n        }\r\n        return new DateTimeSlot(period, duration);\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;%s years, %s months, %s days, %s hours, %s minutes, %s seconds&quot;,\r\n            getYears(), getMonth(), getDays(), getHours(), getMinutes(), getSeconds());\r\n    }\r\n}\r\n```\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        LocalDateTime now = LocalDateTime.of(2022, 5, 20, 18, 0, 18);\r\n        LocalDateTime withTimeBefore = LocalDateTime.of(2020, 12, 31, 15, 9, 27);\r\n        LocalDateTime withTimeAfter = LocalDateTime.of(2020, 12, 31, 22, 50, 48);\r\n        \r\n        DateTimeSlot slot1 = DateTimeSlot.between(withTimeBefore, now);\r\n        DateTimeSlot slot2 = DateTimeSlot.between(withTimeAfter, now);\r\n        \r\n        System.out.println(slot1);\r\n        System.out.println(slot2);\r\n    }\r\n\r\n*Output*\r\n```\r\n1 years, 4 months, 20 days, 2 hours, 50 minutes, 51 seconds  // between 2020-12-31T15:09:27 and 2022-05-20T18:00:18\r\n1 years, 4 months, 19 days, 19 hours, 9 minutes, 30 seconds  // between 2020-12-31T22:50:48 and 2022-05-20T18:00:18\r\n```","title":"How can I get the Duration between two dates / times in YMDHMS (ISO 8601)?","body":"<p>You can create a custom class that will maintain <code>Period</code> and <code>Duration</code> fields (credits to <em>@Ole V.V.</em> since he mentioned it earlier in the comments).</p>\n<p>Here is an example of such a class implementation, which exposes a static method <code>between()</code>, that expects two arguments of type <code>LocalDateTime</code>.</p>\n<p>Methods like <code>getYears()</code> and <code>getHours()</code> will delegate the call to <code>Period</code> and <code>Duration</code> objects.</p>\n<pre><code>class DateTimeSlot {\n    private Period period;\n    private Duration duration;\n    \n    private DateTimeSlot(Period period, Duration duration) {\n        this.period = period;\n        this.duration = duration;\n    }\n    \n    public int getYears() {\n        return period.getYears();\n    }\n    \n    public int getMonth() {\n        return period.getMonths();\n    }\n    \n    public int getDays() {\n        return period.getDays();\n    }\n    \n    public int getHours() {\n        return duration.toHoursPart(); // this method can be safely used instead `toHours()` because `between()` implementation guerantees that duration will be less than 24 hours\n    }\n    \n    public int getMinutes() {\n        return duration.toMinutesPart();\n    }\n    \n    public int getSeconds() {\n        return (int) (duration.getSeconds() % 60);\n    }\n    \n    public static DateTimeSlot between(LocalDateTime from, LocalDateTime to) {\n        if (from.isAfter(to) || from.equals(to)) {\n            throw new IllegalArgumentException();\n        }\n        \n        Duration duration;\n        Period period;\n        \n        if (from.toLocalTime().isBefore(to.toLocalTime())) {\n            duration = Duration.between(from.toLocalTime(), to.toLocalTime());\n            period = Period.between(from.toLocalDate(), to.toLocalDate());\n        } else {\n            duration = Duration.between(to.withHour(from.getHour())\n                .withMinute(from.getMinute())\n                .withSecond(from.getSecond())\n                .minusDays(1), to);                    // apply shift one day back\n            period = Period.between(from.toLocalDate()\n                .plusDays(1), to.toLocalDate());       // apply shift one day forward (to compensate the previous shift)\n        }\n        return new DateTimeSlot(period, duration);\n    }\n    \n    @Override\n    public String toString() {\n        return String.format(&quot;%s years, %s months, %s days, %s hours, %s minutes, %s seconds&quot;,\n            getYears(), getMonth(), getDays(), getHours(), getMinutes(), getSeconds());\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    LocalDateTime now = LocalDateTime.of(2022, 5, 20, 18, 0, 18);\n    LocalDateTime withTimeBefore = LocalDateTime.of(2020, 12, 31, 15, 9, 27);\n    LocalDateTime withTimeAfter = LocalDateTime.of(2020, 12, 31, 22, 50, 48);\n    \n    DateTimeSlot slot1 = DateTimeSlot.between(withTimeBefore, now);\n    DateTimeSlot slot2 = DateTimeSlot.between(withTimeAfter, now);\n    \n    System.out.println(slot1);\n    System.out.println(slot2);\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>1 years, 4 months, 20 days, 2 hours, 50 minutes, 51 seconds  // between 2020-12-31T15:09:27 and 2022-05-20T18:00:18\n1 years, 4 months, 19 days, 19 hours, 9 minutes, 30 seconds  // between 2020-12-31T22:50:48 and 2022-05-20T18:00:18\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653150948,"creation_date":1653150948,"answer_id":72331438,"question_id":72321174,"body_markdown":"My library [Time4J][1] has support for calculating and printing such durations. Example using your input:\r\n\r\n        PlainTimestamp event1 = PlainTimestamp.of(2022, 2, 2, 2, 2, 2);\r\n        PlainTimestamp event2 = PlainTimestamp.of(2025, 1, 1, 0, 0, 0);\r\n        TZID tzid = ZonalOffset.ofHours(OffsetSign.BEHIND_UTC, 7);\r\n\r\n        Duration&lt;IsoUnit&gt; duration =\r\n            Duration.in(\r\n                    Timezone.of(tzid), \r\n                    CalendarUnit.YEARS,\r\n                    CalendarUnit.MONTHS, \r\n                    CalendarUnit.DAYS,\r\n                    ClockUnit.HOURS, \r\n                    ClockUnit.MINUTES, \r\n                    ClockUnit.SECONDS)\r\n                .between(event1, event2);\r\n        System.out.println(PrettyTime.of(Locale.US).print(duration));\r\n        // 2 years, 10 months, 29 days, 21 hours, 57 minutes, and 58 seconds\r\n\r\nA big advantage is here good internationalization of the output including language-dependent plural rules, see also [javadoc][2].\r\n\r\nYou can also use instants/moments as input and then transform to local timestamps like this way if your input changes (some transformation examples):\r\n\r\n        tzid = () -&gt; &quot;America/Chicago&quot;; // probably better than your fixed offset\r\n        event1 = TemporalType.LOCAL_DATE_TIME.translate(LocalDateTime.of(2022, 2, 2, 2, 2, 2));\r\n        event2 = Moment.nowInSystemTime().toZonalTimestamp(tzid);\r\n\r\n\r\n  [1]: https://github.com/MenoData/Time4J\r\n  [2]: http://time4j.net/javadoc-en/net/time4j/PrettyTime.html","title":"How can I get the Duration between two dates / times in YMDHMS (ISO 8601)?","body":"<p>My library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> has support for calculating and printing such durations. Example using your input:</p>\n<pre><code>    PlainTimestamp event1 = PlainTimestamp.of(2022, 2, 2, 2, 2, 2);\n    PlainTimestamp event2 = PlainTimestamp.of(2025, 1, 1, 0, 0, 0);\n    TZID tzid = ZonalOffset.ofHours(OffsetSign.BEHIND_UTC, 7);\n\n    Duration&lt;IsoUnit&gt; duration =\n        Duration.in(\n                Timezone.of(tzid), \n                CalendarUnit.YEARS,\n                CalendarUnit.MONTHS, \n                CalendarUnit.DAYS,\n                ClockUnit.HOURS, \n                ClockUnit.MINUTES, \n                ClockUnit.SECONDS)\n            .between(event1, event2);\n    System.out.println(PrettyTime.of(Locale.US).print(duration));\n    // 2 years, 10 months, 29 days, 21 hours, 57 minutes, and 58 seconds\n</code></pre>\n<p>A big advantage is here good internationalization of the output including language-dependent plural rules, see also <a href=\"http://time4j.net/javadoc-en/net/time4j/PrettyTime.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>You can also use instants/moments as input and then transform to local timestamps like this way if your input changes (some transformation examples):</p>\n<pre><code>    tzid = () -&gt; &quot;America/Chicago&quot;; // probably better than your fixed offset\n    event1 = TemporalType.LOCAL_DATE_TIME.translate(LocalDateTime.of(2022, 2, 2, 2, 2, 2));\n    event2 = Moment.nowInSystemTime().toZonalTimestamp(tzid);\n</code></pre>\n"}],"owner":{"account_id":13151658,"reputation":1004,"user_id":9971890,"display_name":"Gimme the 411"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684625343,"creation_date":1653059311,"question_id":72321174,"body_markdown":"Given `2` dates, how can I calculate the difference between them in `Year Month Day, Hour Minute Second` format, as per **ISO 8601** Durations?\r\n\r\nI&#39;ve only found Java libraries that can give the difference in days or smaller.\r\n\r\nGiven that months and years have irregular numbers of days, I&#39;m not sure how to figure out the difference in months and years.\r\n\r\nEven `Duration.between()` is close, but it gives the result in hours minutes seconds:\r\n\r\n    ZonedDateTime event1 = ZonedDateTime.of(2022, 2, 2, 2, 2, 2, 0, ZoneId.of(&quot;UTC-7&quot;));\r\n    ZonedDateTime event2 = ZonedDateTime.of(2025, 1, 1, 0, 0, 0, 0, ZoneId.of(&quot;UTC-7&quot;));\r\n    //ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;UTC-7&quot;));\r\n    Duration duration = Duration.between(event1, event2);\r\n    Log.d(&quot;Duration ISO-8601: &quot;, duration.toString());\r\n\r\n\r\n    Output:    PT25533H57M58S\r\n\r\nWhich is `25533` *hours*, `57` *minutes*, `58` *seconds*.\r\n\r\nI&#39;d like to see something like:\r\n```\r\n__ years, __ months, __ days, 9 hours, 57 minutes, 58 seconds\r\n```","title":"How can I get the Duration between two dates / times in YMDHMS (ISO 8601)?","body":"<p>Given <code>2</code> dates, how can I calculate the difference between them in <code>Year Month Day, Hour Minute Second</code> format, as per <strong>ISO 8601</strong> Durations?</p>\n<p>I've only found Java libraries that can give the difference in days or smaller.</p>\n<p>Given that months and years have irregular numbers of days, I'm not sure how to figure out the difference in months and years.</p>\n<p>Even <code>Duration.between()</code> is close, but it gives the result in hours minutes seconds:</p>\n<pre><code>ZonedDateTime event1 = ZonedDateTime.of(2022, 2, 2, 2, 2, 2, 0, ZoneId.of(&quot;UTC-7&quot;));\nZonedDateTime event2 = ZonedDateTime.of(2025, 1, 1, 0, 0, 0, 0, ZoneId.of(&quot;UTC-7&quot;));\n//ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;UTC-7&quot;));\nDuration duration = Duration.between(event1, event2);\nLog.d(&quot;Duration ISO-8601: &quot;, duration.toString());\n\n\nOutput:    PT25533H57M58S\n</code></pre>\n<p>Which is <code>25533</code> <em>hours</em>, <code>57</code> <em>minutes</em>, <code>58</code> <em>seconds</em>.</p>\n<p>I'd like to see something like:</p>\n<pre><code>__ years, __ months, __ days, 9 hours, 57 minutes, 58 seconds\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684624668,"creation_date":1684624668,"answer_id":76297697,"question_id":76297588,"body_markdown":"I copied the initialize method contents into the start method of a new app and added the bits that would allow it to display and run and it worked for me with no issue. (JavaFX &amp; JDK 20 on Win 11). \r\n\r\nI dropped files from the file explorer into the app window and they were named in the system out, as per the drop handler code.\r\n\r\n*Output*\r\n\r\n    javafx.scene.input.DragEvent[source=Pane@6b2cc6e[styleClass=root]]\r\n    Dropped file: C:\\Users\\&lt;username&gt;\\OneDrive\\Documents\\flight.txt\r\n\r\n*Code*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.Dragboard;\r\n    import javafx.scene.input.TransferMode;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class CopyHandler extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            Pane dropPane = new Pane();\r\n            dropPane.setPrefSize(600, 400);\r\n    \r\n            dropPane.setOnDragEntered(event -&gt; {\r\n                System.out.println(event);\r\n    \r\n                if (event.getGestureSource() != dropPane &amp;&amp; event.getDragboard().hasFiles()) {\r\n                    dropPane.setStyle(&quot;-fx-border-color: blue; -fx-border-width: 2;&quot;);\r\n                    event.acceptTransferModes(TransferMode.COPY);\r\n                }\r\n                event.consume();\r\n            });\r\n    \r\n            dropPane.setOnDragExited(event -&gt; {\r\n                dropPane.setStyle(&quot;-fx-border-color: transparent;&quot;);\r\n                event.consume();\r\n            });\r\n    \r\n            dropPane.setOnDragOver(event -&gt; {\r\n                if (event.getGestureSource() != dropPane &amp;&amp; event.getDragboard().hasFiles()) {\r\n                    event.acceptTransferModes(TransferMode.COPY);\r\n                }\r\n                event.consume();\r\n            });\r\n    \r\n            dropPane.setOnDragDropped(event -&gt; {\r\n                Dragboard dragboard = event.getDragboard();\r\n                boolean success = false;\r\n                if (dragboard.hasFiles()) {\r\n                    for (File file : dragboard.getFiles()) {\r\n                        // Process the dropped file\r\n                        System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\r\n                    }\r\n                    success = true;\r\n                }\r\n                event.setDropCompleted(success);\r\n                event.consume();\r\n            });\r\n    \r\n            primaryStage.setScene(new Scene(dropPane));\r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Issue with drag and drop functionality for .jar files in JavaFX application","body":"<p>I copied the initialize method contents into the start method of a new app and added the bits that would allow it to display and run and it worked for me with no issue. (JavaFX &amp; JDK 20 on Win 11).</p>\n<p>I dropped files from the file explorer into the app window and they were named in the system out, as per the drop handler code.</p>\n<p><em>Output</em></p>\n<pre><code>javafx.scene.input.DragEvent[source=Pane@6b2cc6e[styleClass=root]]\nDropped file: C:\\Users\\&lt;username&gt;\\OneDrive\\Documents\\flight.txt\n</code></pre>\n<p><em>Code</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.input.Dragboard;\nimport javafx.scene.input.TransferMode;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class CopyHandler extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        Pane dropPane = new Pane();\n        dropPane.setPrefSize(600, 400);\n\n        dropPane.setOnDragEntered(event -&gt; {\n            System.out.println(event);\n\n            if (event.getGestureSource() != dropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                dropPane.setStyle(&quot;-fx-border-color: blue; -fx-border-width: 2;&quot;);\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dropPane.setOnDragExited(event -&gt; {\n            dropPane.setStyle(&quot;-fx-border-color: transparent;&quot;);\n            event.consume();\n        });\n\n        dropPane.setOnDragOver(event -&gt; {\n            if (event.getGestureSource() != dropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dropPane.setOnDragDropped(event -&gt; {\n            Dragboard dragboard = event.getDragboard();\n            boolean success = false;\n            if (dragboard.hasFiles()) {\n                for (File file : dragboard.getFiles()) {\n                    // Process the dropped file\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\n                }\n                success = true;\n            }\n            event.setDropCompleted(success);\n            event.consume();\n        });\n\n        primaryStage.setScene(new Scene(dropPane));\n        primaryStage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27449243,"reputation":11,"user_id":20941852,"display_name":"1mag1n33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684624668,"creation_date":1684622099,"question_id":76297588,"body_markdown":"Issue with drag and drop functionality in JavaFX application\r\n\r\nI&#39;m currently working on a JavaFX application and trying to implement a drag and drop functionality. I have a pane in my UI where I want users to be able to drag and drop files, specifically .jar files. However, I&#39;m encountering an issue where the cursor shows a cancel sign when I drag a file over the pane, and the drop event is not triggered.\r\n\r\nI&#39;ve tried various approaches, including setting the onDragEntered, onDragExited, onDragOver, and onDragDropped event handlers for the pane. I&#39;ve also set the TransferMode to COPY and verified that the dragboard has files. However, the desired behavior is not working as expected.\r\n\r\n\r\nHere is my FXML file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.net.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.detector.Controller&quot;&gt;\r\n    &lt;stylesheets&gt;\r\n        &lt;URL value=&quot;@styles.css&quot; /&gt;\r\n    &lt;/stylesheets&gt;\r\n    &lt;children&gt;\r\n        &lt;Pane fx:id=&quot;dragDropPane&quot; layoutY=&quot;-3.0&quot; prefHeight=&quot;349.0&quot; prefWidth=&quot;600.0&quot; /&gt;\r\n        &lt;Button layoutX=&quot;545.0&quot; layoutY=&quot;361.0&quot; onAction=&quot;#onOpenButtonClick&quot; text=&quot;Open&quot; /&gt;\r\n        &lt;TextField fx:id=&quot;pathText&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;515.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;255.0&quot; layoutY=&quot;192.0&quot; text=&quot;Drag .jar file here&quot; /&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nAnd here is my controller code:\r\n\r\n\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.input.DragEvent;\r\nimport javafx.scene.input.Dragboard;\r\nimport javafx.scene.input.TransferMode;\r\nimport javafx.scene.layout.Pane;\r\n\r\nimport java.io.File;\r\n\r\npublic class Controller {\r\n    @FXML\r\n    public Pane dragDropPane;\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        dragDropPane.setOnDragEntered(event -&gt; {\r\n            if (event.getGestureSource() != dragDropPane &amp;&amp; event.getDragboard().hasFiles()) {\r\n                dragDropPane.setStyle(&quot;-fx-border-color: blue; -fx-border-width: 2;&quot;);\r\n                event.acceptTransferModes(TransferMode.COPY);\r\n            }\r\n            event.consume();\r\n        });\r\n\r\n        dragDropPane.setOnDragExited(event -&gt; {\r\n            dragDropPane.setStyle(&quot;-fx-border-color: transparent;&quot;);\r\n            event.consume();\r\n        });\r\n\r\n        dragDropPane.setOnDragOver(event -&gt; {\r\n            if (event.getGestureSource() != dragDropPane &amp;&amp; event.getDragboard().hasFiles()) {\r\n                event.acceptTransferModes(TransferMode.COPY);\r\n            }\r\n            event.consume();\r\n        });\r\n\r\n        dragDropPane.setOnDragDropped(event -&gt; {\r\n            Dragboard dragboard = event.getDragboard();\r\n            boolean success = false;\r\n            if (dragboard.hasFiles()) {\r\n                for (File file : dragboard.getFiles()) {\r\n                    // Process the dropped file\r\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\r\n                }\r\n                success = true;\r\n            }\r\n            event.setDropCompleted(success);\r\n            event.consume();\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nI&#39;m unsure why the drag and drop functionality is not working as expected. I appreciate any insights or suggestions on how to resolve this issue. Thank you!\r\n","title":"Issue with drag and drop functionality for .jar files in JavaFX application","body":"<p>Issue with drag and drop functionality in JavaFX application</p>\n<p>I'm currently working on a JavaFX application and trying to implement a drag and drop functionality. I have a pane in my UI where I want users to be able to drag and drop files, specifically .jar files. However, I'm encountering an issue where the cursor shows a cancel sign when I drag a file over the pane, and the drop event is not triggered.</p>\n<p>I've tried various approaches, including setting the onDragEntered, onDragExited, onDragOver, and onDragDropped event handlers for the pane. I've also set the TransferMode to COPY and verified that the dragboard has files. However, the desired behavior is not working as expected.</p>\n<p>Here is my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.net.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.detector.Controller&quot;&gt;\n    &lt;stylesheets&gt;\n        &lt;URL value=&quot;@styles.css&quot; /&gt;\n    &lt;/stylesheets&gt;\n    &lt;children&gt;\n        &lt;Pane fx:id=&quot;dragDropPane&quot; layoutY=&quot;-3.0&quot; prefHeight=&quot;349.0&quot; prefWidth=&quot;600.0&quot; /&gt;\n        &lt;Button layoutX=&quot;545.0&quot; layoutY=&quot;361.0&quot; onAction=&quot;#onOpenButtonClick&quot; text=&quot;Open&quot; /&gt;\n        &lt;TextField fx:id=&quot;pathText&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;515.0&quot; /&gt;\n      &lt;Label layoutX=&quot;255.0&quot; layoutY=&quot;192.0&quot; text=&quot;Drag .jar file here&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>And here is my controller code:</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.input.DragEvent;\nimport javafx.scene.input.Dragboard;\nimport javafx.scene.input.TransferMode;\nimport javafx.scene.layout.Pane;\n\nimport java.io.File;\n\npublic class Controller {\n    @FXML\n    public Pane dragDropPane;\n\n    @FXML\n    public void initialize() {\n        dragDropPane.setOnDragEntered(event -&gt; {\n            if (event.getGestureSource() != dragDropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                dragDropPane.setStyle(&quot;-fx-border-color: blue; -fx-border-width: 2;&quot;);\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dragDropPane.setOnDragExited(event -&gt; {\n            dragDropPane.setStyle(&quot;-fx-border-color: transparent;&quot;);\n            event.consume();\n        });\n\n        dragDropPane.setOnDragOver(event -&gt; {\n            if (event.getGestureSource() != dragDropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dragDropPane.setOnDragDropped(event -&gt; {\n            Dragboard dragboard = event.getDragboard();\n            boolean success = false;\n            if (dragboard.hasFiles()) {\n                for (File file : dragboard.getFiles()) {\n                    // Process the dropped file\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\n                }\n                success = true;\n            }\n            event.setDropCompleted(success);\n            event.consume();\n        });\n    }\n}\n\n</code></pre>\n<p>I'm unsure why the drag and drop functionality is not working as expected. I appreciate any insights or suggestions on how to resolve this issue. Thank you!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682923221,"post_id":76144387,"comment_id":134284718,"body_markdown":"Try to use C##SCOTT schema in the entity annotation @Table.","body":"Try to use C##SCOTT schema in the entity annotation @Table."},{"owner":{"account_id":3984916,"reputation":97,"user_id":3285813,"display_name":"CuriousGeo66"},"score":1,"creation_date":1684623157,"post_id":76144387,"comment_id":134544612,"body_markdown":"@Mar-Z ... that was a big derp on my part yes C##SCOTT would be correct. It seems like the Oracle database I created doesn&#39;t want common users to actually have admin rights to the tables, from what I understand, you can do it, buuuut a  using a non C## name (not a common user) would helped. But later I had problems with Spring Data JPA choking on the hash/ pound sign for some reason. Might be by design. dunno. So solution was to create a database user with admin right and not have to use the C## prefix in the name for the schema / user that owned the tables.","body":"@Mar-Z ... that was a big derp on my part yes C##SCOTT would be correct. It seems like the Oracle database I created doesn&#39;t want common users to actually have admin rights to the tables, from what I understand, you can do it, buuuut a  using a non C## name (not a common user) would helped. But later I had problems with Spring Data JPA choking on the hash/ pound sign for some reason. Might be by design. dunno. So solution was to create a database user with admin right and not have to use the C## prefix in the name for the schema / user that owned the tables."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683030545,"creation_date":1683030545,"answer_id":76154838,"question_id":76144387,"body_markdown":"You should distinguish between user and schema. Assuming you say\r\n&gt;  I have a database schema/user in an Oracle enterprise database named C##SCOTT called Employee.\r\n\r\nand \r\n&gt; I also have another schema/user called C##ORC_READ_ONLY which is set up to have read-only permissions of the tables within the C##SCOTT schema.\r\n\r\nyour entity should look like\r\n```java\r\n@Data\r\n@ToString\r\n@Entity\r\n@Table(name =&quot;EMPLOYEE&quot;, schema=&quot;C##SCOTT&quot;)\r\npublic class Employee {\r\n}\r\n```\r\nThe rest of the code should remain as is (tiny thing: you don&#39;t need `@Repository` over an interface extending `JpaRepository` as Spring resolves it automatically).","title":"Spring Data JPA: How to access a table in another schema with a read only username/schema","body":"<p>You should distinguish between user and schema. Assuming you say</p>\n<blockquote>\n<p>I have a database schema/user in an Oracle enterprise database named C##SCOTT called Employee.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>I also have another schema/user called C##ORC_READ_ONLY which is set up to have read-only permissions of the tables within the C##SCOTT schema.</p>\n</blockquote>\n<p>your entity should look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@ToString\n@Entity\n@Table(name =&quot;EMPLOYEE&quot;, schema=&quot;C##SCOTT&quot;)\npublic class Employee {\n}\n</code></pre>\n<p>The rest of the code should remain as is (tiny thing: you don't need <code>@Repository</code> over an interface extending <code>JpaRepository</code> as Spring resolves it automatically).</p>\n"},{"tags":[],"owner":{"account_id":3984916,"reputation":97,"user_id":3285813,"display_name":"CuriousGeo66"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684624331,"creation_date":1684624331,"answer_id":76297676,"question_id":76144387,"body_markdown":"Sooo. My only solution was to create another user that had admin rights... and NOT use the C## prefix. Thus I changed the Model to:\r\n\r\n    @Data\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;, schema= &quot;FRED&quot;)\r\n    public class Employee {\r\n    \r\n        @Id                    \r\n        @Column(name = &quot;EMPNO&quot;)\r\n        private Long id;\r\n    \r\n        private String ename;\r\n    \r\n        private String job;\r\n    \r\n        private Long mgr;\r\n    \r\n        private Date hiredate;\r\n    \r\n        private Long sal;\r\n    \r\n        private Long comm;\r\n    \r\n        private Long deptno;\r\n    \r\n    }\r\n\r\nFRED is not a common user. I think it was how I configured the Oracle database that caused the issue. @Mar-Z and @sergey-tsypanov answers DID help me put it together.\r\n","title":"Spring Data JPA: How to access a table in another schema with a read only username/schema","body":"<p>Sooo. My only solution was to create another user that had admin rights... and NOT use the C## prefix. Thus I changed the Model to:</p>\n<pre><code>@Data\n@ToString\n@Entity\n@Table(name = &quot;EMPLOYEE&quot;, schema= &quot;FRED&quot;)\npublic class Employee {\n\n    @Id                    \n    @Column(name = &quot;EMPNO&quot;)\n    private Long id;\n\n    private String ename;\n\n    private String job;\n\n    private Long mgr;\n\n    private Date hiredate;\n\n    private Long sal;\n\n    private Long comm;\n\n    private Long deptno;\n\n}\n</code></pre>\n<p>FRED is not a common user. I think it was how I configured the Oracle database that caused the issue. @Mar-Z and @sergey-tsypanov answers DID help me put it together.</p>\n"}],"owner":{"account_id":3984916,"reputation":97,"user_id":3285813,"display_name":"CuriousGeo66"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684624331,"creation_date":1682906386,"question_id":76144387,"body_markdown":"So I have a database schema/user in an Oracle enterprise database named C##SCOTT called Employee. This schema/user has all the permissions to create tables, update, read and write. I also have another schema/user called C##ORC_READ_ONLY which is set up to have read-only permissions of the tables within the C##SCOTT schema. My application.yml file looks like this if I want to access the database via C##ORC_READ_ONLY:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:oracle:thin:@localhost:1521:orcl\r\n        username: C##ORC_READ_ONLY\r\n        password: --password goes here--\r\n        driver-class-name: oracle.jdbc.OracleDriver\r\n    \r\n      jpa:\r\n        database: oracle\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: none\r\n\r\n\r\nFrom my understanding I just code my Entity like this:\r\n\r\n    @Data\r\n    @ToString\r\n    @Entity\r\n    @Table(name =&quot;EMPLOYEE&quot;, schema=&quot;C##SCOTT&quot;)\r\n    public class Employee {\r\n    \r\n        @Id                   \r\n        @Column(name = &quot;EMPNO&quot;)\r\n        private Long id;\r\n    \r\n        private String ename;\r\n    \r\n        private String job;\r\n    \r\n        private Long mgr;\r\n    \r\n        private Date hiredate;\r\n    \r\n        private Long sal;\r\n    \r\n        private Long comm;\r\n    \r\n        private Long deptno;\r\n    \r\n    }\r\n    \r\n\r\n...and the repo like this:\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    }\r\n\r\nThe service portion of my demo web-service looks like this:\r\n\r\n    @Service\r\n    public class EmployeeService {\r\n    \r\n        @Autowired\r\n        EmployeeRepository employeeRepository;\r\n    \r\n        @Autowired\r\n        ObjectMapper employeeObjectMapper;\r\n    \r\n        public String getAllEmployeesService( ) throws JsonProcessingException {\r\n    \r\n            List&lt;Employee&gt; employeeArrayList = employeeRepository.findAll();\r\n            GetAllEmployeesResponseWrapper getAllEmployeeResponseWrapper = new GetAllEmployeesResponseWrapper(employeeArrayList);\r\n            String response = employeeObjectMapper.writeValueAsString(getAllEmployeeResponseWrapper);\r\n    \r\n            return response;\r\n    \r\n        }\r\n    }\r\n\r\nEverything compiles fine, no warnings or errors regarding access occur. However, if I try to send the request message to the the web-service, I get an exception thrown saying that the table or view cannot be found:\r\n\r\n    ORA-00942: table or view does not exist\r\n\r\nNow if I change the username and password to the schema/username that is the actual owner of the table... it works fine. Do I have to override the `findAll()` method from the repository to get this to work? Or is there something else wrong?\r\n\r\n","title":"Spring Data JPA: How to access a table in another schema with a read only username/schema","body":"<p>So I have a database schema/user in an Oracle enterprise database named C##SCOTT called Employee. This schema/user has all the permissions to create tables, update, read and write. I also have another schema/user called C##ORC_READ_ONLY which is set up to have read-only permissions of the tables within the C##SCOTT schema. My application.yml file looks like this if I want to access the database via C##ORC_READ_ONLY:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:oracle:thin:@localhost:1521:orcl\n    username: C##ORC_READ_ONLY\n    password: --password goes here--\n    driver-class-name: oracle.jdbc.OracleDriver\n\n  jpa:\n    database: oracle\n    show-sql: true\n    hibernate:\n      ddl-auto: none\n</code></pre>\n<p>From my understanding I just code my Entity like this:</p>\n<pre><code>@Data\n@ToString\n@Entity\n@Table(name =&quot;EMPLOYEE&quot;, schema=&quot;C##SCOTT&quot;)\npublic class Employee {\n\n    @Id                   \n    @Column(name = &quot;EMPNO&quot;)\n    private Long id;\n\n    private String ename;\n\n    private String job;\n\n    private Long mgr;\n\n    private Date hiredate;\n\n    private Long sal;\n\n    private Long comm;\n\n    private Long deptno;\n\n}\n</code></pre>\n<p>...and the repo like this:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n}\n</code></pre>\n<p>The service portion of my demo web-service looks like this:</p>\n<pre><code>@Service\npublic class EmployeeService {\n\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @Autowired\n    ObjectMapper employeeObjectMapper;\n\n    public String getAllEmployeesService( ) throws JsonProcessingException {\n\n        List&lt;Employee&gt; employeeArrayList = employeeRepository.findAll();\n        GetAllEmployeesResponseWrapper getAllEmployeeResponseWrapper = new GetAllEmployeesResponseWrapper(employeeArrayList);\n        String response = employeeObjectMapper.writeValueAsString(getAllEmployeeResponseWrapper);\n\n        return response;\n\n    }\n}\n</code></pre>\n<p>Everything compiles fine, no warnings or errors regarding access occur. However, if I try to send the request message to the the web-service, I get an exception thrown saying that the table or view cannot be found:</p>\n<pre><code>ORA-00942: table or view does not exist\n</code></pre>\n<p>Now if I change the username and password to the schema/username that is the actual owner of the table... it works fine. Do I have to override the <code>findAll()</code> method from the repository to get this to work? Or is there something else wrong?</p>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684593188,"post_id":76295597,"comment_id":134541344,"body_markdown":"Maybe because you didn&#39;t provide a minimal reproducible example.","body":"Maybe because you didn&#39;t provide a minimal reproducible example."}],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684603688,"creation_date":1684599742,"answer_id":76296199,"question_id":76295597,"body_markdown":"how to run groovy script using java command line you can check in groovy shells/batches:\r\n\r\nhttps://github.com/apache/groovy/blob/master/src/bin/groovy.bat#L30\r\n\r\n```\r\njava -cp &quot;$GROOVY_HOME/lib&quot; groovy.ui.GroovyMain myscript.groovy\r\n```\r\n\r\nthe only question find out gradle/lib folder where usually groovy-all is located\r\n\r\ni can suggest this as straight forward:\r\n```\r\ndef groovyJar = new File(groovy.ui.GroovyMain.getProtectionDomain().getCodeSource()?.getLocation()?.toURI())\r\n```\r\n---\r\n\r\nOr when using `javaexec` as mentioned above, it&#39;s:\r\n\r\n```\r\n  javaexec {\r\n    classpath = files(groovy.ui.GroovyMain.protectionDomain.codeSource.location)\r\n    mainClass = &#39;groovy.ui.GroovyMain&#39;\r\n    args = [&#39;my-script.groovy&#39;]\r\n  }\r\n```","title":"How to run a Groovy script from a Gradle task in another java process?","body":"<p>how to run groovy script using java command line you can check in groovy shells/batches:</p>\n<p><a href=\"https://github.com/apache/groovy/blob/master/src/bin/groovy.bat#L30\" rel=\"nofollow noreferrer\">https://github.com/apache/groovy/blob/master/src/bin/groovy.bat#L30</a></p>\n<pre><code>java -cp &quot;$GROOVY_HOME/lib&quot; groovy.ui.GroovyMain myscript.groovy\n</code></pre>\n<p>the only question find out gradle/lib folder where usually groovy-all is located</p>\n<p>i can suggest this as straight forward:</p>\n<pre><code>def groovyJar = new File(groovy.ui.GroovyMain.getProtectionDomain().getCodeSource()?.getLocation()?.toURI())\n</code></pre>\n<hr />\n<p>Or when using <code>javaexec</code> as mentioned above, it's:</p>\n<pre><code>  javaexec {\n    classpath = files(groovy.ui.GroovyMain.protectionDomain.codeSource.location)\n    mainClass = 'groovy.ui.GroovyMain'\n    args = ['my-script.groovy']\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684623852,"creation_date":1684601453,"answer_id":76296338,"question_id":76295597,"body_markdown":"An alterntive solution seems to be:\r\n\r\nAdd the following to `build.gradle`:\r\n\r\n```\r\nconfigurations {\r\n  groovyScript\r\n}\r\n\r\ndependencies {\r\n  groovyScript localGroovy()\r\n  ...\r\n}\r\n```\r\n\r\nThen later use:\r\n\r\n```\r\n  javaexec {\r\n    classpath = configurations.groovyScript\r\n    mainClass = &#39;groovy.ui.GroovyMain&#39;\r\n    args = [&#39;my-script.groovy&#39;]\r\n  }\r\n```\r\n\r\nI&#39;ve just read this somewhere in the web. I do not really understand what this is exactly doing. If someone could explain, that would be great. TYVMIA ","title":"How to run a Groovy script from a Gradle task in another java process?","body":"<p>An alterntive solution seems to be:</p>\n<p>Add the following to <code>build.gradle</code>:</p>\n<pre><code>configurations {\n  groovyScript\n}\n\ndependencies {\n  groovyScript localGroovy()\n  ...\n}\n</code></pre>\n<p>Then later use:</p>\n<pre><code>  javaexec {\n    classpath = configurations.groovyScript\n    mainClass = 'groovy.ui.GroovyMain'\n    args = ['my-script.groovy']\n  }\n</code></pre>\n<p>I've just read this somewhere in the web. I do not really understand what this is exactly doing. If someone could explain, that would be great. TYVMIA</p>\n"}],"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76296199,"answer_count":2,"score":0,"last_activity_date":1684623852,"creation_date":1684590941,"question_id":76295597,"body_markdown":"Let&#39;s say you have a Groovy script that ends with a `System.exit(...)` call and you want this Groovy script to be executed in a Gradle task. As the `System.exit` call will terminate the whole JVM you want to run this script in another Java process (as using `GroovyShell` does not seem to be an option because to of the `System.exit` call). How can you do this without using a separate Groovy installation&#39;s `groovy` command)?\r\n\r\nIf something like this might work, how do I have to replace `???` and `????`?\r\n```\r\n  javaexec {\r\n    classpath = ???\r\n    mainClass = ????\r\n    args = [&#39;my-script.groovy&#39;]\r\n  }\r\n```\r\n\r\n---\r\n[Edit] Okay, here&#39;s a &quot;minimal reproducible example&quot; as mentioned in the comment below, if that makes the question better understandable:\r\n\r\nThe Groovy script:\r\n\r\n```\r\n    // file: my-script.groovy\r\n\r\n    println &#39;Hello World&#39;\r\n    System.exit(0)\r\n```\r\n\r\nThe Gradle task (this might be completely wrong and I do not know how to replace the question marks):\r\n\r\n```\r\ntask runMyScript(type: JavaExec) {\r\n  classpath = ???\r\n  mainClass = ????\r\n  args = [&#39;my-script.groovy&#39;]\r\n}\r\n```","title":"How to run a Groovy script from a Gradle task in another java process?","body":"<p>Let's say you have a Groovy script that ends with a <code>System.exit(...)</code> call and you want this Groovy script to be executed in a Gradle task. As the <code>System.exit</code> call will terminate the whole JVM you want to run this script in another Java process (as using <code>GroovyShell</code> does not seem to be an option because to of the <code>System.exit</code> call). How can you do this without using a separate Groovy installation's <code>groovy</code> command)?</p>\n<p>If something like this might work, how do I have to replace <code>???</code> and <code>????</code>?</p>\n<pre><code>  javaexec {\n    classpath = ???\n    mainClass = ????\n    args = ['my-script.groovy']\n  }\n</code></pre>\n<hr />\n<p>[Edit] Okay, here's a &quot;minimal reproducible example&quot; as mentioned in the comment below, if that makes the question better understandable:</p>\n<p>The Groovy script:</p>\n<pre><code>    // file: my-script.groovy\n\n    println 'Hello World'\n    System.exit(0)\n</code></pre>\n<p>The Gradle task (this might be completely wrong and I do not know how to replace the question marks):</p>\n<pre><code>task runMyScript(type: JavaExec) {\n  classpath = ???\n  mainClass = ????\n  args = ['my-script.groovy']\n}\n</code></pre>\n"},{"tags":["java","network-programming"],"comments":[{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1363213864,"post_id":15397758,"comment_id":21767488,"body_markdown":"It looks like you need a collection of some sort of data structure class: http://docs.oracle.com/javase/tutorial/collections/index.html","body":"It looks like you need a collection of some sort of data structure class: <a href=\"http://docs.oracle.com/javase/tutorial/collections/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/index.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363214091,"creation_date":1363214091,"answer_id":15397828,"question_id":15397758,"body_markdown":"Use an `ArrayList&lt;String&gt;`.\r\n\r\nArrayList has a method, `add`, that adds a new value to the end of the collection. When you&#39;re done, you can use a `for` or `foreach` loop over the ArrayList and get each value added to it one at a time.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\r\n\r\nIf you need to store a bunch of strings but associate them with names, then you want a `HashMap&lt;String,String&gt;`.\r\n\r\nYou can do `.add(&quot;username&quot;, &quot;tom&quot;)` and `.add(&quot;password&quot;, &quot;hunter12&quot;)` on a HashMap, and to get a value you do `.get(&quot;username&quot;)` and you get &quot;tom&quot; back.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"Java - How to read next line and store multiple data separately in their own variable?","body":"<p>Use an <code>ArrayList&lt;String&gt;</code>.</p>\n\n<p>ArrayList has a method, <code>add</code>, that adds a new value to the end of the collection. When you're done, you can use a <code>for</code> or <code>foreach</code> loop over the ArrayList and get each value added to it one at a time.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html</a></p>\n\n<p>If you need to store a bunch of strings but associate them with names, then you want a <code>HashMap&lt;String,String&gt;</code>.</p>\n\n<p>You can do <code>.add(\"username\", \"tom\")</code> and <code>.add(\"password\", \"hunter12\")</code> on a HashMap, and to get a value you do <code>.get(\"username\")</code> and you get \"tom\" back.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html</a></p>\n"},{"tags":[],"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363214447,"creation_date":1363214447,"answer_id":15397917,"question_id":15397758,"body_markdown":"The problem is that the readline method returns the string without a line break.\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine%28%29\r\n\r\nWhen you use it on the server there is no line break, so it continues to wait for the end of the line. \r\n\r\nTry this on your client:\r\n\r\n    System.out.println(&quot;Type password&quot;);\r\n    myPass = fromUser.readLine();\r\n    toServer.writeBytes(myPass + &quot;\\n&quot;);\r\n\r\n\r\n    System.out.println(&quot;Type address&quot;);\r\n    myAd = fromUser.readLine();\r\n    toServer.writeBytes(myAd + &quot;\\n&quot;);","title":"Java - How to read next line and store multiple data separately in their own variable?","body":"<p>The problem is that the readline method returns the string without a line break.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine%28%29</a></p>\n\n<p>When you use it on the server there is no line break, so it continues to wait for the end of the line. </p>\n\n<p>Try this on your client:</p>\n\n<pre><code>System.out.println(\"Type password\");\nmyPass = fromUser.readLine();\ntoServer.writeBytes(myPass + \"\\n\");\n\n\nSystem.out.println(\"Type address\");\nmyAd = fromUser.readLine();\ntoServer.writeBytes(myAd + \"\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1332894,"reputation":3749,"user_id":1276341,"accept_rate":100,"display_name":"MrLore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1363214465,"creation_date":1363214465,"answer_id":15397923,"question_id":15397758,"body_markdown":"You&#39;re not really asking the right question, the problem you have is caused by a previous oversight, and if you fix it you can skip this problem.\r\n\r\nWhen you read the line in on the client with `fromUser.readLine();`, the String you recieve will have had its line separator removed, as stated in the Javadocs:\r\n\r\n&gt; public String readLine() throws IOException\r\n\r\n&gt;Read a line of text. A line is considered to be terminated by any one of a line feed (&#39;\\n&#39;), a carriage return (&#39;\\r&#39;), or a carriage return followed immediately by a linefeed.\r\n\r\n&gt;**Returns**:\r\n\tA String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached\r\n\r\nTherefore, if you add them back in to the String before you send it to your server like so:\r\n\r\n    System.out.println(&quot;Type password&quot;);\r\n    myPass = fromUser.readLine() + System.lineSeparator();\r\n    toServer.writeBytes(myPass);\r\n\r\n\r\n    System.out.println(&quot;Type address&quot;);\r\n    myAd = fromUser.readLine() + System.lineSeparator();\r\n    toServer.writeBytes(myAd);\r\n\r\nYour server code should work as expected, as they will then be counted as separate lines once again.\r\n\r\nOr if you really want to do that, you should consider a `Map&lt;String, String&gt;` if you have an unknown number of variables.","title":"Java - How to read next line and store multiple data separately in their own variable?","body":"<p>You're not really asking the right question, the problem you have is caused by a previous oversight, and if you fix it you can skip this problem.</p>\n\n<p>When you read the line in on the client with <code>fromUser.readLine();</code>, the String you recieve will have had its line separator removed, as stated in the Javadocs:</p>\n\n<blockquote>\n  <p>public String readLine() throws IOException</p>\n  \n  <p>Read a line of text. A line is considered to be terminated by any one of a line feed ('\\n'), a carriage return ('\\r'), or a carriage return followed immediately by a linefeed.</p>\n  \n  <p><strong>Returns</strong>:\n      A String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached</p>\n</blockquote>\n\n<p>Therefore, if you add them back in to the String before you send it to your server like so:</p>\n\n<pre><code>System.out.println(\"Type password\");\nmyPass = fromUser.readLine() + System.lineSeparator();\ntoServer.writeBytes(myPass);\n\n\nSystem.out.println(\"Type address\");\nmyAd = fromUser.readLine() + System.lineSeparator();\ntoServer.writeBytes(myAd);\n</code></pre>\n\n<p>Your server code should work as expected, as they will then be counted as separate lines once again.</p>\n\n<p>Or if you really want to do that, you should consider a <code>Map&lt;String, String&gt;</code> if you have an unknown number of variables.</p>\n"}],"owner":{"account_id":2202359,"reputation":973,"user_id":1946455,"accept_rate":100,"display_name":"Dembele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15397923,"answer_count":3,"score":0,"last_activity_date":1684621887,"creation_date":1363213774,"question_id":15397758,"body_markdown":"I&#39;ve come to a problem in passing data from one client class to another server class. I made variables to store each information the client sends to the server, and it uses an if statement that rejects service if either address or password is incorrect, else otherwise.\r\n\r\nHowever, I&#39;ve come to a problem, when user typed in password; then address. The data is automatically passed on the first round. Instead of client send password data, and store data in password variable in the server. Then client send address, store the data in address variable. It just sends both, and store both in one variable.\r\n\r\n**I want to display:**\r\n\r\n    Password received: unlo91\\ (made up password)\r\n    Address received: localhost\r\n\r\n**Instead I get:**\r\n\r\n    Password received: unlo91\\localhost (made up password)\r\n    Address received: null\r\n\r\nIs there a method to, &quot;Right. Client just sent password. Store it in PW var. OK, don&#39;t store in PW var now because that is already in use (or used once already). Move on to next available variable (address) to store the next.&quot;\r\n\r\n**Server:**\r\n\r\n\r\n    cliPass = fromClient.readLine(); \r\n    System.out.println(&quot;Client entered... &quot; + cliPass );\r\n    cliAd = fromClient.readLine(); \r\n    System.out.println(&quot;Client entered... &quot; + cliAd);\r\n\r\n   \r\n**Client:**\r\n\r\n\r\n    \tSystem.out.println(&quot;Type password&quot;);\r\n    \tmyPass = fromUser.readLine();\r\n        toServer.writeBytes(myPass);\r\n    \t\r\n    \t\r\n    \tSystem.out.println(&quot;Type address&quot;);\r\n    \tmyAd = fromUser.readLine();\r\n        toServer.writeBytes(myAd);","title":"Java - How to read next line and store multiple data separately in their own variable?","body":"<p>I've come to a problem in passing data from one client class to another server class. I made variables to store each information the client sends to the server, and it uses an if statement that rejects service if either address or password is incorrect, else otherwise.</p>\n\n<p>However, I've come to a problem, when user typed in password; then address. The data is automatically passed on the first round. Instead of client send password data, and store data in password variable in the server. Then client send address, store the data in address variable. It just sends both, and store both in one variable.</p>\n\n<p><strong>I want to display:</strong></p>\n\n<pre><code>Password received: unlo91\\ (made up password)\nAddress received: localhost\n</code></pre>\n\n<p><strong>Instead I get:</strong></p>\n\n<pre><code>Password received: unlo91\\localhost (made up password)\nAddress received: null\n</code></pre>\n\n<p>Is there a method to, \"Right. Client just sent password. Store it in PW var. OK, don't store in PW var now because that is already in use (or used once already). Move on to next available variable (address) to store the next.\"</p>\n\n<p><strong>Server:</strong></p>\n\n<pre><code>cliPass = fromClient.readLine(); \nSystem.out.println(\"Client entered... \" + cliPass );\ncliAd = fromClient.readLine(); \nSystem.out.println(\"Client entered... \" + cliAd);\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>    System.out.println(\"Type password\");\n    myPass = fromUser.readLine();\n    toServer.writeBytes(myPass);\n\n\n    System.out.println(\"Type address\");\n    myAd = fromUser.readLine();\n    toServer.writeBytes(myAd);\n</code></pre>\n"},{"tags":["java","spring-boot","file-io","multipartfile"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1684481439,"post_id":76286304,"comment_id":134526562,"body_markdown":"Where do you expect to see your file? I can see you have created new File without any path, and `getOrifinalFileName` is not going to give you a file path, make sure you knew where the current directory is.","body":"Where do you expect to see your file? I can see you have created new File without any path, and <code>getOrifinalFileName</code> is not going to give you a file path, make sure you knew where the current directory is."},{"owner":{"account_id":8339777,"reputation":115,"user_id":6265426,"display_name":"Gautham Muralidharan"},"score":0,"creation_date":1684490963,"post_id":76286304,"comment_id":134528426,"body_markdown":"@Popeye. The file does get created as mentioned in the outermost folder in the project. The issue I face is that the `transferTo()` does not work in my code.\n\nI saw your other comment that it worked for you. Please let me know if the exact same code worked?","body":"@Popeye. The file does get created as mentioned in the outermost folder in the project. The issue I face is that the <code>transferTo()</code> does not work in my code.  I saw your other comment that it worked for you. Please let me know if the exact same code worked?"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1684533791,"post_id":76286304,"comment_id":134536469,"body_markdown":"The exact code you have written. Please be more specific on how it does not work, Does it throw exception? Is it just no files are created?","body":"The exact code you have written. Please be more specific on how it does not work, Does it throw exception? Is it just no files are created?"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1684536643,"post_id":76286304,"comment_id":134536803,"body_markdown":"Give an absolute path, if you use `File`  the renamed file got created in `ROOT` directory of `TOMCAT`, I can explain the reason, but then I will have to offer a complete answer.","body":"Give an absolute path, if you use <code>File</code>  the renamed file got created in <code>ROOT</code> directory of <code>TOMCAT</code>, I can explain the reason, but then I will have to offer a complete answer."},{"owner":{"account_id":8339777,"reputation":115,"user_id":6265426,"display_name":"Gautham Muralidharan"},"score":0,"creation_date":1684560704,"post_id":76286304,"comment_id":134538160,"body_markdown":"The code gets executed successfully without throwing any exceptions. File gets created thanks to `createNewFile()` But the MultipartFile did not get transferred to the file.","body":"The code gets executed successfully without throwing any exceptions. File gets created thanks to <code>createNewFile()</code> But the MultipartFile did not get transferred to the file."},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1684576758,"post_id":76286304,"comment_id":134539488,"body_markdown":"As I said in my last comment , if you do not provide absolute path , your code will not execute properly. In production environment it will start writing file in your home directory, worse case, somewhere where it won&#39;t even have permission to write. Also creating file before moving is unnecessary.","body":"As I said in my last comment , if you do not provide absolute path , your code will not execute properly. In production environment it will start writing file in your home directory, worse case, somewhere where it won&#39;t even have permission to write. Also creating file before moving is unnecessary."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684487101,"creation_date":1684477663,"answer_id":76286519,"question_id":76286304,"body_markdown":"I have reproduced your case and can confirm that `transferTo()` with `File` object doesn&#39;t work. I don&#39;t know why. But `transferTo()` with `Path` works fine.\r\n\r\nThis code works fine:\r\n\r\n    String fileName = file.getOriginalFilename();\r\n    File file1 = new File(fileName);\r\n    file.transferTo(file1.toPath());\r\n\r\nEDIT: I have checked the source code (Java 20) and there is an obvious difference between (1) transferTo(File file) and (2) transferTo(Path path): in (1) the file will only be copied if it is an absolute path. It means starts with &#39;/&#39; on Unix or drive letter or network drive on Windows. Method (2) doesn&#39;t check it and just copy the file. In our case to the working directory as the file name is not prefixed with anything.","title":"Spring boot MultipartFile transferTo not working","body":"<p>I have reproduced your case and can confirm that <code>transferTo()</code> with <code>File</code> object doesn't work. I don't know why. But <code>transferTo()</code> with <code>Path</code> works fine.</p>\n<p>This code works fine:</p>\n<pre><code>String fileName = file.getOriginalFilename();\nFile file1 = new File(fileName);\nfile.transferTo(file1.toPath());\n</code></pre>\n<p>EDIT: I have checked the source code (Java 20) and there is an obvious difference between (1) transferTo(File file) and (2) transferTo(Path path): in (1) the file will only be copied if it is an absolute path. It means starts with '/' on Unix or drive letter or network drive on Windows. Method (2) doesn't check it and just copy the file. In our case to the working directory as the file name is not prefixed with anything.</p>\n"},{"tags":[],"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684621808,"creation_date":1684621808,"answer_id":76297579,"question_id":76286304,"body_markdown":"I did a little digging on the source code itself to find out why this is happening. \r\n\r\nIn the class `org.springframework.web.multipart.support.StandardMultipartHttpServletRequest` two functions exists\r\n\r\n```java\r\n\t\t@Override\r\n\t\tpublic void transferTo(File dest) throws IOException, IllegalStateException {\r\n\t\t\tthis.part.write(dest.getPath());\r\n\t\t\tif (dest.isAbsolute() &amp;&amp; !dest.exists()) {\r\n\t\t\t\tFileCopyUtils.copy(this.part.getInputStream(), Files.newOutputStream(dest.toPath()));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void transferTo(Path dest) throws IOException, IllegalStateException {\r\n\t\t\tFileCopyUtils.copy(this.part.getInputStream(), Files.newOutputStream(dest));\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\nDefinition of `part.write()` method is written in class `org.apache.catalina.core.ApplicationPart`\r\n\r\n```\r\n    @Override\r\n    public void write(String fileName) throws IOException {\r\n        File file = new File(fileName);\r\n        // testing whether the path is absolute or not, OP&#39;s code is relative path\r\n        if (!file.isAbsolute()) {\r\n          // HIGHLIGHTED PART\r\n            file = new File(location, fileName);\r\n        }\r\n        try {\r\n            fileItem.write(file);\r\n        } catch (Exception e) {\r\n            throw new IOException(e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nIn the `write` method absolute path is being created by using `location` variable. Variable `location` hold the value of `ROOT` directory of `TOMCAT` as example\r\n\r\n```\r\n/tmp/tomcat.8080.12533880900101227658/work/Tomcat/localhost/ROOT/\r\n```\r\n\r\nSo, when you do not give an absolute path to `write`, function simply decide to move the file to `ROOT` directory. In other word, file is being moved, working properly, **OP just does not know where to look for the moved file.**\r\n\r\nWhat can be done to resolve OP&#39;&#39;s issue. \r\n\r\n```java\r\nclass ControllerClass {\r\n  // Create an absolute base path where your uploaded file will be moved. \r\n  // All file will be moved here \r\n  private final String uploadFilePath = &quot;/a/suitable/path/&quot;;\r\n  @PostMapping(&quot;/form3&quot;)\r\n  public String handleFormUpload3(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n      String fileName = file.getOriginalFilename();\r\n      File file1 = new File(uploadFilePath, fileName);\r\n      //if(!file1.exists())\r\n      //    file1.createNewFile();\r\n      file.transferTo(file1);\r\n      System.out.println(file1.exists());\r\n      return &quot;redirect:uploadSuccess&quot;;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**PS**\r\nThis is poor judgement of coding by Spring Boot development team. They have overwridden function that has different behvior. This is bad principle for writing library. It is unwise to force programmer to be hyper aware of how functions with same name behave. It just create distrust towards the library. Both of the functions should have behave exactly the same. My apporach would be simpley call the other function with proper value instead of writing a whole new function with different nature.","title":"Spring boot MultipartFile transferTo not working","body":"<p>I did a little digging on the source code itself to find out why this is happening.</p>\n<p>In the class <code>org.springframework.web.multipart.support.StandardMultipartHttpServletRequest</code> two functions exists</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public void transferTo(File dest) throws IOException, IllegalStateException {\n            this.part.write(dest.getPath());\n            if (dest.isAbsolute() &amp;&amp; !dest.exists()) {\n                FileCopyUtils.copy(this.part.getInputStream(), Files.newOutputStream(dest.toPath()));\n            }\n        }\n\n        @Override\n        public void transferTo(Path dest) throws IOException, IllegalStateException {\n            FileCopyUtils.copy(this.part.getInputStream(), Files.newOutputStream(dest));\n        }\n    }\n\n</code></pre>\n<p>Definition of <code>part.write()</code> method is written in class <code>org.apache.catalina.core.ApplicationPart</code></p>\n<pre><code>    @Override\n    public void write(String fileName) throws IOException {\n        File file = new File(fileName);\n        // testing whether the path is absolute or not, OP's code is relative path\n        if (!file.isAbsolute()) {\n          // HIGHLIGHTED PART\n            file = new File(location, fileName);\n        }\n        try {\n            fileItem.write(file);\n        } catch (Exception e) {\n            throw new IOException(e);\n        }\n    }\n\n</code></pre>\n<p>In the <code>write</code> method absolute path is being created by using <code>location</code> variable. Variable <code>location</code> hold the value of <code>ROOT</code> directory of <code>TOMCAT</code> as example</p>\n<pre><code>/tmp/tomcat.8080.12533880900101227658/work/Tomcat/localhost/ROOT/\n</code></pre>\n<p>So, when you do not give an absolute path to <code>write</code>, function simply decide to move the file to <code>ROOT</code> directory. In other word, file is being moved, working properly, <strong>OP just does not know where to look for the moved file.</strong></p>\n<p>What can be done to resolve OP''s issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ControllerClass {\n  // Create an absolute base path where your uploaded file will be moved. \n  // All file will be moved here \n  private final String uploadFilePath = &quot;/a/suitable/path/&quot;;\n  @PostMapping(&quot;/form3&quot;)\n  public String handleFormUpload3(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n      String fileName = file.getOriginalFilename();\n      File file1 = new File(uploadFilePath, fileName);\n      //if(!file1.exists())\n      //    file1.createNewFile();\n      file.transferTo(file1);\n      System.out.println(file1.exists());\n      return &quot;redirect:uploadSuccess&quot;;\n  }\n}\n\n</code></pre>\n<p><strong>PS</strong>\nThis is poor judgement of coding by Spring Boot development team. They have overwridden function that has different behvior. This is bad principle for writing library. It is unwise to force programmer to be hyper aware of how functions with same name behave. It just create distrust towards the library. Both of the functions should have behave exactly the same. My apporach would be simpley call the other function with proper value instead of writing a whole new function with different nature.</p>\n"}],"owner":{"account_id":8339777,"reputation":115,"user_id":6265426,"display_name":"Gautham Muralidharan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684621808,"creation_date":1684475339,"question_id":76286304,"body_markdown":"The line `file1.createNewFile();` creates a new file, but the `file.transferTo(file1);` does not transfer the contents of the MultipartFile to file1.\r\nIs there a way to make the `transferTo` method work?\r\n\r\n    @PostMapping(&quot;/form3&quot;)\r\n    public String handleFormUpload3(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        String fileName = file.getOriginalFilename();\r\n        File file1 = new File(fileName);\r\n        if(!file1.exists())\r\n            file1.createNewFile();\r\n        file.transferTo(file1);\r\n        System.out.println(file1.exists());\r\n        return &quot;redirect:uploadSuccess&quot;;\r\n    }\r\n\r\nWhen I use `FileOutputStream` to save the MultipartFile to a regular file by converting into to a byte array, the transfer works fine. But `transferTo()` is much simpler and less verbose. How do I make it work?","title":"Spring boot MultipartFile transferTo not working","body":"<p>The line <code>file1.createNewFile();</code> creates a new file, but the <code>file.transferTo(file1);</code> does not transfer the contents of the MultipartFile to file1.\nIs there a way to make the <code>transferTo</code> method work?</p>\n<pre><code>@PostMapping(&quot;/form3&quot;)\npublic String handleFormUpload3(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n    String fileName = file.getOriginalFilename();\n    File file1 = new File(fileName);\n    if(!file1.exists())\n        file1.createNewFile();\n    file.transferTo(file1);\n    System.out.println(file1.exists());\n    return &quot;redirect:uploadSuccess&quot;;\n}\n</code></pre>\n<p>When I use <code>FileOutputStream</code> to save the MultipartFile to a regular file by converting into to a byte array, the transfer works fine. But <code>transferTo()</code> is much simpler and less verbose. How do I make it work?</p>\n"},{"tags":["java","android","android-viewpager2"],"answers":[{"tags":[],"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593092176,"creation_date":1593090050,"answer_id":62575966,"question_id":62575821,"body_markdown":"You can use [isFakeDragging](https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#isFakeDragging()) inside [registerOnPageChangeCallback](https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#registerOnPageChangeCallback(androidx.viewpager2.widget.ViewPager2.OnPageChangeCallback)) to detect whether the drag is fake or initiated by user.\r\n\r\n&gt; Returns true if a fake drag is in progress.\r\n\r\n    ...onPageScrolledonPageScrolled(int position, float positionOffset, int positionOffsetPixels){\r\n        if(isFakeDragging)\r\n            {// fake scroll}\r\n        else{// user scroll}\r\n    }","title":"Android ViewPager2 - how to detect user initiated page change","body":"<p>You can use <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#isFakeDragging()\" rel=\"nofollow noreferrer\">isFakeDragging</a> inside <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#registerOnPageChangeCallback(androidx.viewpager2.widget.ViewPager2.OnPageChangeCallback)\" rel=\"nofollow noreferrer\">registerOnPageChangeCallback</a> to detect whether the drag is fake or initiated by user.</p>\n<blockquote>\n<p>Returns true if a fake drag is in progress.</p>\n</blockquote>\n<pre><code>...onPageScrolledonPageScrolled(int position, float positionOffset, int positionOffsetPixels){\n    if(isFakeDragging)\n        {// fake scroll}\n    else{// user scroll}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18907312,"reputation":1734,"user_id":13794189,"display_name":"Miguel Tom&#225;s"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684620619,"creation_date":1631810031,"answer_id":69212102,"question_id":62575821,"body_markdown":"One can override viewpager2 to detect a page change like so:\r\n\r\n        viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n            }\r\n        });","title":"Android ViewPager2 - how to detect user initiated page change","body":"<p>One can override viewpager2 to detect a page change like so:</p>\n<pre><code>    viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":2409442,"reputation":2169,"user_id":2104933,"accept_rate":60,"display_name":"lilbiscuit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4674,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684620619,"creation_date":1593089588,"question_id":62575821,"body_markdown":"I have the ViewPager2 callback setup but need to detect when a user initiated page change has completed. The callback won&#39;t differentiate between user initiated and code initiated. Here&#39;s what I have now:\r\n\r\n    ViewPager2.OnPageChangeCallback swipeListener = new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                //I want to run code only if user initiated this page change\r\n                //but this runs whether user initiated or code initiated\r\n            }\r\n    }\r\n\r\nThe page change that is done via code:\r\n\r\n    viewPager.setCurrentItem(targetSlide);\r\n\r\nThe [docs for ViewPager2][1] show a `isUserInputEnabled()` method which tells you if a user &quot;can&quot; change the page manually, but I need to detect if the user &quot;did&quot; initiate the page change.\r\n\r\n\r\n  [1]: https://androidx.de/androidx/viewpager2/widget/ViewPager2.html","title":"Android ViewPager2 - how to detect user initiated page change","body":"<p>I have the ViewPager2 callback setup but need to detect when a user initiated page change has completed. The callback won't differentiate between user initiated and code initiated. Here's what I have now:</p>\n<pre><code>ViewPager2.OnPageChangeCallback swipeListener = new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n            //I want to run code only if user initiated this page change\n            //but this runs whether user initiated or code initiated\n        }\n}\n</code></pre>\n<p>The page change that is done via code:</p>\n<pre><code>viewPager.setCurrentItem(targetSlide);\n</code></pre>\n<p>The <a href=\"https://androidx.de/androidx/viewpager2/widget/ViewPager2.html\" rel=\"noreferrer\">docs for ViewPager2</a> show a <code>isUserInputEnabled()</code> method which tells you if a user &quot;can&quot; change the page manually, but I need to detect if the user &quot;did&quot; initiate the page change.</p>\n"},{"tags":["java","class","date","jodatime"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1569764268,"post_id":58155682,"comment_id":102694196,"body_markdown":"Do any of [`java.time.Year`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Year.html), [`java.time.YearMonth`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/YearMonth.html), or [`java.time.MonthDay`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/MonthDay.html) meet your requirements?","body":"Do any of <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>java.time.YearMonth</code></a>, or <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/MonthDay.html\" rel=\"nofollow noreferrer\"><code>java.time.MonthDay</code></a> meet your requirements?"},{"owner":{"account_id":3832981,"reputation":3332,"user_id":3178068,"display_name":"TiiJ7"},"score":2,"creation_date":1569764606,"post_id":58155682,"comment_id":102694282,"body_markdown":"What is your use case for this? In general, I would not recommend using a single class to represent multiple concepts of time. There is a reason `java.time` had to split it all up.","body":"What is your use case for this? In general, I would not recommend using a single class to represent multiple concepts of time. There is a reason <code>java.time</code> had to split it all up."},{"owner":{"display_name":"user6863891"},"score":0,"creation_date":1569766041,"post_id":58155682,"comment_id":102694662,"body_markdown":"@Slaw you suggestion sounds good, I can wrap all: java.time.Year, java.time.YearMonth, or java.time.MonthDay  in a class and that would solve the problem.","body":"@Slaw you suggestion sounds good, I can wrap all: java.time.Year, java.time.YearMonth, or java.time.MonthDay  in a class and that would solve the problem."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1569766161,"post_id":58155682,"comment_id":102694702,"body_markdown":"Note there&#39;s already a class that encapsulates all those values (year, month, and day): [`java.time.LocalDate`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDate.html).","body":"Note there&#39;s already a class that encapsulates all those values (year, month, and day): <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>."},{"owner":{"display_name":"user6863891"},"score":0,"creation_date":1569766353,"post_id":58155682,"comment_id":102694752,"body_markdown":"Yes, But I can&#39;t make month day optional in that, with custom class wrapped around those 3 I can make the month day optional","body":"Yes, But I can&#39;t make month day optional in that, with custom class wrapped around those 3 I can make the month day optional"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1569774504,"post_id":58155682,"comment_id":102696796,"body_markdown":"No such class as `java.time.LocalYear`. There is [`Year`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html).","body":"No such class as <code>java.time.LocalYear</code>. There is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1569775157,"post_id":58155682,"comment_id":102696958,"body_markdown":"Why the tag for *Joda-Time*? The creator of that library, Stephen Colebourne, went on to create its successor, the *java-time* classes built into Java 8 and later. You seem to be referring to *java.time*, so either explain or delete the `jodatime` tag.","body":"Why the tag for <i>Joda-Time</i>? The creator of that library, Stephen Colebourne, went on to create its successor, the <i>java-time</i> classes built into Java 8 and later. You seem to be referring to <i>java.time</i>, so either explain or delete the <code>jodatime</code> tag."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1569775349,"post_id":58155682,"comment_id":102697011,"body_markdown":"Explain your business problem, as there likely is a better solution than devising a partial date class.","body":"Explain your business problem, as there likely is a better solution than devising a partial date class."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1569775410,"post_id":58155682,"comment_id":102697027,"body_markdown":"Avoid using `Date` as a class name. Java already includes two classes with that name.","body":"Avoid using <code>Date</code> as a class name. Java already includes two classes with that name."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1569823411,"post_id":58155682,"comment_id":102706219,"body_markdown":"What does it *mean* for them to be optional?","body":"What does it <i>mean</i> for them to be optional?"},{"owner":{"display_name":"user6863891"},"score":0,"creation_date":1569849665,"post_id":58155682,"comment_id":102718876,"body_markdown":"@Raedwald By optional I mean it can be empty, and use will not always provide the month and day information and could only provide year.","body":"@Raedwald By optional I mean it can be empty, and use will not always provide the month and day information and could only provide year."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569823737,"creation_date":1569767556,"answer_id":58156196,"question_id":58155682,"body_markdown":"It’s hard to guide you without knowing your use case. One option is using the `TemporalAccessor` interface as a common type for dates with and without month and/or day of month and then put either a `LocalDate`, a `YearMonth` or a `Year` into your variable (the last class is just called `Year` (not `LocalYear`, though it would have been in line with the naming scheme)). For example:\r\n\r\n\t\tList&lt;TemporalAccessor&gt; dates = List.of(\r\n\t\t\t\tLocalDate.of(2019, Month.OCTOBER, 3), // full date\r\n\t\t\t\tYearMonth.of(2019, Month.NOVEMBER), // no day of month\r\n\t\t\t\tYear.of(2020)); // no month or day of month\r\n\r\nWhat can we use this for? One example:\r\n\r\n\t\tfor (TemporalAccessor ta : dates) {\r\n\t\t\tSystem.out.println(ta);\r\n\t\t\tSystem.out.println(&quot;Year: &quot; + ta.get(ChronoField.YEAR));\r\n\t\t\tif (ta.isSupported(ChronoField.MONTH_OF_YEAR)) {\r\n\t\t\t\tSystem.out.println(&quot;Month: &quot; + ta.get(ChronoField.MONTH_OF_YEAR));\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Month: undefined&quot;);\r\n\t\t\t}\r\n\t\t\tif (ta.isSupported(ChronoField.DAY_OF_MONTH)) {\r\n\t\t\t\tSystem.out.println(&quot;Day: &quot; + ta.get(ChronoField.DAY_OF_MONTH));\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Day: undefined&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\r\nThis outputs:\r\n\r\n&gt;     2019-10-03\r\n&gt;     Year: 2019\r\n&gt;     Month: 10\r\n&gt;     Day: 3\r\n&gt;     \r\n&gt;     2019-11\r\n&gt;     Year: 2019\r\n&gt;     Month: 11\r\n&gt;     Day: undefined\r\n&gt;     \r\n&gt;     2020\r\n&gt;     Year: 2020\r\n&gt;     Month: undefined\r\n&gt;     Day: undefined\r\n\r\nWhether or how well it fulfils your requirements I cannot tell.\r\n\r\nUsing `ChronoField` constants for access is low-level, so you may want to wrap the `TemporalAccessor` in a nice class with nice getters. For example:\r\n\r\n    public class PartialDate {\r\n    \r\n    \tprivate TemporalAccessor date;\r\n    \r\n    \tpublic PartialDate(Year year) {\r\n    \t\tdate = year;\r\n    \t}\r\n    \r\n    \tpublic PartialDate(Year year, int month) {\r\n    \t\tdate = year.atMonth(month);\r\n    \t}\r\n    \r\n    \tpublic PartialDate(Year year, int month, int day) {\r\n    \t\tdate = year.atMonth(month).atDay(day);\r\n    \t}\r\n    \t\r\n    \tpublic Year getYear() {\r\n    \t\treturn Year.from(date);\r\n    \t}\r\n    \t\r\n    \tpublic OptionalInt getMonthValue() {\r\n    \t\tif (date.isSupported(ChronoField.MONTH_OF_YEAR)) {\r\n    \t\t\treturn OptionalInt.of(date.get(ChronoField.MONTH_OF_YEAR));\r\n    \t\t} else {\r\n    \t\t\treturn OptionalInt.empty();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t// A similar getDay method\r\n    \t\r\n    }\r\n\r\nYou may extend the class to your needs. Maybe you want constructors that accept a `Month` enum constant and/or a `YearMonth` object directly and/or getters that return those types wrapped in `Optional`s.\r\n\r\n**Link:** [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.","title":"java: represent Date with optional month and day","body":"<p>It’s hard to guide you without knowing your use case. One option is using the <code>TemporalAccessor</code> interface as a common type for dates with and without month and/or day of month and then put either a <code>LocalDate</code>, a <code>YearMonth</code> or a <code>Year</code> into your variable (the last class is just called <code>Year</code> (not <code>LocalYear</code>, though it would have been in line with the naming scheme)). For example:</p>\n\n<pre><code>    List&lt;TemporalAccessor&gt; dates = List.of(\n            LocalDate.of(2019, Month.OCTOBER, 3), // full date\n            YearMonth.of(2019, Month.NOVEMBER), // no day of month\n            Year.of(2020)); // no month or day of month\n</code></pre>\n\n<p>What can we use this for? One example:</p>\n\n<pre><code>    for (TemporalAccessor ta : dates) {\n        System.out.println(ta);\n        System.out.println(\"Year: \" + ta.get(ChronoField.YEAR));\n        if (ta.isSupported(ChronoField.MONTH_OF_YEAR)) {\n            System.out.println(\"Month: \" + ta.get(ChronoField.MONTH_OF_YEAR));\n        } else {\n            System.out.println(\"Month: undefined\");\n        }\n        if (ta.isSupported(ChronoField.DAY_OF_MONTH)) {\n            System.out.println(\"Day: \" + ta.get(ChronoField.DAY_OF_MONTH));\n        } else {\n            System.out.println(\"Day: undefined\");\n        }\n        System.out.println();\n    }\n</code></pre>\n\n<p>This outputs:</p>\n\n<blockquote>\n<pre><code>2019-10-03\nYear: 2019\nMonth: 10\nDay: 3\n\n2019-11\nYear: 2019\nMonth: 11\nDay: undefined\n\n2020\nYear: 2020\nMonth: undefined\nDay: undefined\n</code></pre>\n</blockquote>\n\n<p>Whether or how well it fulfils your requirements I cannot tell.</p>\n\n<p>Using <code>ChronoField</code> constants for access is low-level, so you may want to wrap the <code>TemporalAccessor</code> in a nice class with nice getters. For example:</p>\n\n<pre><code>public class PartialDate {\n\n    private TemporalAccessor date;\n\n    public PartialDate(Year year) {\n        date = year;\n    }\n\n    public PartialDate(Year year, int month) {\n        date = year.atMonth(month);\n    }\n\n    public PartialDate(Year year, int month, int day) {\n        date = year.atMonth(month).atDay(day);\n    }\n\n    public Year getYear() {\n        return Year.from(date);\n    }\n\n    public OptionalInt getMonthValue() {\n        if (date.isSupported(ChronoField.MONTH_OF_YEAR)) {\n            return OptionalInt.of(date.get(ChronoField.MONTH_OF_YEAR));\n        } else {\n            return OptionalInt.empty();\n        }\n    }\n\n    // A similar getDay method\n\n}\n</code></pre>\n\n<p>You may extend the class to your needs. Maybe you want constructors that accept a <code>Month</code> enum constant and/or a <code>YearMonth</code> object directly and/or getters that return those types wrapped in <code>Optional</code>s.</p>\n\n<p><strong>Link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"display_name":"user6863891"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684620486,"creation_date":1569763743,"question_id":58155682,"body_markdown":"I would like to store Date with optional month and day in java.\r\nI know of the [`java.time.LocalYear`][1] class to store just the year.\r\nShall I create my own custom class to hold dates with optional month and day or are there any custom library to solve the problem.\r\n\r\n```\r\n\r\npublic class Date {\r\n\r\n  private LocalYear year;\r\n  private int month;\r\n  private int day;\r\n\r\n  public Date(LocalYear year) {\r\n   this.year = year;\r\n  } \r\n  \r\n  public Date(LocalYear year, int month) {\r\n   this.year = year;\r\n   this.month = month;\r\n  }\r\n\r\n  public Date(LocalYear year, int month, iny day) {\r\n   this.year = year;\r\n   this.month = month;\r\n   this.day = day;\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Year.html","title":"java: represent Date with optional month and day","body":"<p>I would like to store Date with optional month and day in java.\nI know of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalYear</code></a> class to store just the year.\nShall I create my own custom class to hold dates with optional month and day or are there any custom library to solve the problem.</p>\n<pre><code>\npublic class Date {\n\n  private LocalYear year;\n  private int month;\n  private int day;\n\n  public Date(LocalYear year) {\n   this.year = year;\n  } \n  \n  public Date(LocalYear year, int month) {\n   this.year = year;\n   this.month = month;\n  }\n\n  public Date(LocalYear year, int month, iny day) {\n   this.year = year;\n   this.month = month;\n   this.day = day;\n  }\n}\n</code></pre>\n"},{"tags":["java","flutter","path"],"comments":[{"owner":{"account_id":14061061,"reputation":56930,"user_id":10157127,"display_name":"Md. Yeasin Sheikh"},"score":0,"creation_date":1684606516,"post_id":76296682,"comment_id":134542932,"body_markdown":"can you restart after setting env varidables","body":"can you restart after setting env varidables"}],"answers":[{"tags":[],"owner":{"account_id":14061061,"reputation":56930,"user_id":10157127,"display_name":"Md. Yeasin Sheikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684606664,"creation_date":1684606664,"answer_id":76296739,"question_id":76296682,"body_markdown":"You need to use `JAVA_HOME` without `%`, It will look like \r\n\r\n\r\n\r\n|Variable| Value  |\r\n|--------|-------|\r\n|JAVA_HOME|  C:\\Program Files\\Java\\jdk-19 |\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd restart your computer if needed. \r\n\r\n  [1]: https://i.stack.imgur.com/1HT7v.png","title":"Flutter Can&#39;t Find javaHome","body":"<p>You need to use <code>JAVA_HOME</code> without <code>%</code>, It will look like</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Variable</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>JAVA_HOME</td>\n<td>C:\\Program Files\\Java\\jdk-19</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://i.stack.imgur.com/1HT7v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HT7v.png\" alt=\"enter image description here\" /></a></p>\n<p>And restart your computer if needed.</p>\n"}],"owner":{"account_id":15527999,"reputation":23,"user_id":11202281,"display_name":"Masood GhassemI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684620469,"creation_date":1684605913,"question_id":76296682,"body_markdown":"So I&#39;m trying flutter and I&#39;m having a problem with running the starter app on my emulator. I first installed flutter alongside the electric eel version of android studio, which had problems with the java path. I fixed the problem by just copying the jdk folder contents to the jre folder. and because of &quot;LIFE&quot; I left flutter for about a month or so. today I decided to start it over but when I try to launch the starter app that flutter creates on the emulator via vscode, I get the following error:\r\n\r\n```\r\nPS E:\\projects\\first_app&gt; flutter run\r\nUsing hardware rendering with device sdk gphone x86 64. If you notice graphics artifacts, consider enabling software rendering with &quot;--enable-software-rendering&quot;.\r\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nRunning Gradle task &#39;assembleDebug&#39;...                           1,010ms\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\nand i have no idea why it thinks that the jdk path is `C:\\Program Files\\Java\\jre-10.0.2\\bin\\java.exe` while my android studio is installed in the `Z:\\Program Files\\Android\\Android Studio`\r\n\r\ncopying the contents of the `C:\\Program Files\\Java\\jdk-19 `folder into the `C:\\Program Files\\Java\\jre-10.0.2\\ `folder fixes the issue and the app launches but this removes my jre which a lot of apps need.\r\n\r\nI tried setting some environment paths to fix the issue but they did nothing\r\n\r\n[![enter image description here](https://i.stack.imgur.com/0o9fL.png)](https://i.stack.imgur.com/0o9fL.png)\r\n\r\nand below is the PATH variables:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/IjKeN.png)](https://i.stack.imgur.com/IjKeN.png)\r\n\r\nEDIT: since taking these screenshots I&#39;ve also tried setting a `javaHome` variable alongside the `JAVA_HOME` variable. that didn&#39;t fix the issue either. also I&#39;ve set both of the to have the `\\bin` folder too. no help.\r\n\r\n\r\n\r\n\r\n**EDIT 2: so... for some reason uninstalling all java installations on my pc with revo fixed the problem. I reinstalled java v8 and the problem didn&#39;t occur again, so I guess problem fixed?! I&#39;m closing the thread and posting this in case anyone else found themselves here**","title":"Flutter Can&#39;t Find javaHome","body":"<p>So I'm trying flutter and I'm having a problem with running the starter app on my emulator. I first installed flutter alongside the electric eel version of android studio, which had problems with the java path. I fixed the problem by just copying the jdk folder contents to the jre folder. and because of &quot;LIFE&quot; I left flutter for about a month or so. today I decided to start it over but when I try to launch the starter app that flutter creates on the emulator via vscode, I get the following error:</p>\n<pre><code>PS E:\\projects\\first_app&gt; flutter run\nUsing hardware rendering with device sdk gphone x86 64. If you notice graphics artifacts, consider enabling software rendering with &quot;--enable-software-rendering&quot;.\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java.exe\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\nRunning Gradle task 'assembleDebug'...                           1,010ms\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>and i have no idea why it thinks that the jdk path is <code>C:\\Program Files\\Java\\jre-10.0.2\\bin\\java.exe</code> while my android studio is installed in the <code>Z:\\Program Files\\Android\\Android Studio</code></p>\n<p>copying the contents of the <code>C:\\Program Files\\Java\\jdk-19 </code>folder into the <code>C:\\Program Files\\Java\\jre-10.0.2\\ </code>folder fixes the issue and the app launches but this removes my jre which a lot of apps need.</p>\n<p>I tried setting some environment paths to fix the issue but they did nothing</p>\n<p><a href=\"https://i.stack.imgur.com/0o9fL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0o9fL.png\" alt=\"enter image description here\" /></a></p>\n<p>and below is the PATH variables:</p>\n<p><a href=\"https://i.stack.imgur.com/IjKeN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IjKeN.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: since taking these screenshots I've also tried setting a <code>javaHome</code> variable alongside the <code>JAVA_HOME</code> variable. that didn't fix the issue either. also I've set both of the to have the <code>\\bin</code> folder too. no help.</p>\n<p><strong>EDIT 2: so... for some reason uninstalling all java installations on my pc with revo fixed the problem. I reinstalled java v8 and the problem didn't occur again, so I guess problem fixed?! I'm closing the thread and posting this in case anyone else found themselves here</strong></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":0,"creation_date":1684608263,"post_id":76296835,"comment_id":134543165,"body_markdown":"In the Build Output window, on the bottom left, select the alert just above the one you have selected, where it is written &quot;demo 2: build failed&quot;. It should have more information. I agree, this is unintuitive by Intellij","body":"In the Build Output window, on the bottom left, select the alert just above the one you have selected, where it is written &quot;demo 2: build failed&quot;. It should have more information. I agree, this is unintuitive by Intellij"},{"owner":{"account_id":14743580,"reputation":35,"user_id":10647601,"display_name":"Giv-Mash"},"score":0,"creation_date":1684608481,"post_id":76296835,"comment_id":134543200,"body_markdown":"I have aleardy tried but it does not have more information.","body":"I have aleardy tried but it does not have more information."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1684608867,"post_id":76296835,"comment_id":134543256,"body_markdown":"Have you attempted to build on the command line?  My guess is that you&#39;re missing some libraries but I&#39;ll admit that it&#39;s weird that IntelliJ isn&#39;t giving you the error output.","body":"Have you attempted to build on the command line?  My guess is that you&#39;re missing some libraries but I&#39;ll admit that it&#39;s weird that IntelliJ isn&#39;t giving you the error output."},{"owner":{"account_id":14743580,"reputation":35,"user_id":10647601,"display_name":"Giv-Mash"},"score":0,"creation_date":1684609205,"post_id":76296835,"comment_id":134543300,"body_markdown":"I haven&#39;t tried with terminal yet. I doubt that I am missing any lib, I have created a simple spring boot project, but still can&#39;t run","body":"I haven&#39;t tried with terminal yet. I doubt that I am missing any lib, I have created a simple spring boot project, but still can&#39;t run"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684632749,"post_id":76296835,"comment_id":134545180,"body_markdown":"Click on the little m to reload your pom.","body":"Click on the little m to reload your pom."}],"answers":[{"tags":[],"owner":{"account_id":23240561,"reputation":39,"user_id":17329945,"display_name":"Othmane Darhoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684620278,"creation_date":1684620278,"answer_id":76297522,"question_id":76296835,"body_markdown":"try to Reload maven or change JDK version 8 in your IDE\r\n","title":"Intellij build with an error alert but not showing","body":"<p>try to Reload maven or change JDK version 8 in your IDE</p>\n"}],"owner":{"account_id":14743580,"reputation":35,"user_id":10647601,"display_name":"Giv-Mash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684620278,"creation_date":1684608211,"question_id":76296835,"body_markdown":"I am trying to run a java project in intellij on OS(mac) but the building window show error but can&#39;t specify the issue.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Suvc.png","title":"Intellij build with an error alert but not showing","body":"<p>I am trying to run a java project in intellij on OS(mac) but the building window show error but can't specify the issue.<a href=\"https://i.stack.imgur.com/2Suvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Suvc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":0,"creation_date":1620216909,"post_id":67401061,"comment_id":119133972,"body_markdown":"what about formatting your question to make it readable?","body":"what about formatting your question to make it readable?"},{"owner":{"account_id":10703440,"reputation":39,"user_id":7877991,"display_name":"nandan pandey"},"score":0,"creation_date":1620217504,"post_id":67401061,"comment_id":119134266,"body_markdown":"Sorry about the formatting, i did formatted my question again","body":"Sorry about the formatting, i did formatted my question again"}],"answers":[{"tags":[],"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620221686,"creation_date":1620221686,"answer_id":67402378,"question_id":67401061,"body_markdown":"You probably need to specify a mapping for `@RequestMapping` like `@RequestMapping(&#39;/&#39;)`","title":"No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>You probably need to specify a mapping for <code>@RequestMapping</code> like <code>@RequestMapping('/')</code></p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620274198,"creation_date":1620274198,"answer_id":67411730,"question_id":67401061,"body_markdown":"change the following:\r\n```Java\r\n@Controller\r\n@RequestMapping\r\n```\r\n\r\nto this:\r\n```Java\r\n@Controller\r\n```\r\n\r\ni.e. Remove the `@RequestMapping` annotation from the class;\r\nit provides no value.","title":"No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>change the following:</p>\n<pre><code>@Controller\n@RequestMapping\n</code></pre>\n<p>to this:</p>\n<pre><code>@Controller\n</code></pre>\n<p>i.e. Remove the <code>@RequestMapping</code> annotation from the class;\nit provides no value.</p>\n"},{"tags":[],"owner":{"account_id":10703440,"reputation":39,"user_id":7877991,"display_name":"nandan pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620737788,"creation_date":1620737788,"answer_id":67487227,"question_id":67401061,"body_markdown":"I was able to resolve the issue by using &lt;mvc:annotation-driven/&gt; in dispatcher xml.\r\n\r\nAnnotationMethodHandlerAdapter is removed from Spring 5. So when migrating from Spring 4.x to Spring 5.2.13 I was getting the Adaptor issue.\r\n\r\n","title":"No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>I was able to resolve the issue by using mvc:annotation-driven/ in dispatcher xml.</p>\n<p>AnnotationMethodHandlerAdapter is removed from Spring 5. So when migrating from Spring 4.x to Spring 5.2.13 I was getting the Adaptor issue.</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683090802,"creation_date":1683090802,"answer_id":76160613,"question_id":67401061,"body_markdown":"You need to add both:\r\n \r\n@RestController /or @Controller\r\n@RequestMapping(&quot;your path&quot;)","title":"No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>You need to add both:</p>\n<p>@RestController /or @Controller\n@RequestMapping(&quot;your path&quot;)</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684620174,"creation_date":1684620174,"answer_id":76297520,"question_id":67401061,"body_markdown":"This can happens when there is root URL path (&quot;/&quot;) in a Spring MVC controller.\r\n\r\nIn one of the controllers add a @GetMapping(&quot;/&quot;)\r\n\r\nEx :\r\n\r\n    @RestController(&quot;/&quot;)\r\n    public class UserController {\r\n\r\n        @GetMapping(&quot;/&quot;)\r\n        public String welcomeUser() {\r\n            return &quot;&lt;h1&gt; Welcome&lt;/h1&gt;&quot;;\r\n        }\r\n\r\n    }","title":"No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>This can happens when there is root URL path (&quot;/&quot;) in a Spring MVC controller.</p>\n<p>In one of the controllers add a @GetMapping(&quot;/&quot;)</p>\n<p>Ex :</p>\n<pre><code>@RestController(&quot;/&quot;)\npublic class UserController {\n\n    @GetMapping(&quot;/&quot;)\n    public String welcomeUser() {\n        return &quot;&lt;h1&gt; Welcome&lt;/h1&gt;&quot;;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10703440,"reputation":39,"user_id":7877991,"display_name":"nandan pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4025,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1684620174,"creation_date":1620216774,"question_id":67401061,"body_markdown":"We are migrating from spring 4.x to spring 5.2.13 version. In spring 4 this was working but in spring 5.x we are getting the below error for dispatcher servlet\r\n\r\n&gt;javax.servlet.ServletException: No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler\r\n        at\r\n\r\n\r\nCan anyone help me , what i am missing here? \r\nI am migrating from spring 4.x to spring 5.2.13\r\n\r\n","title":"No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>We are migrating from spring 4.x to spring 5.2.13 version. In spring 4 this was working but in spring 5.x we are getting the below error for dispatcher servlet</p>\n<blockquote>\n<p>javax.servlet.ServletException: No adapter for handler : The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler\nat</p>\n</blockquote>\n<p>Can anyone help me , what i am missing here?\nI am migrating from spring 4.x to spring 5.2.13</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695226,"reputation":47,"user_id":9223876,"display_name":"Thomas Arif Başoğlu"},"score":0,"creation_date":1542107029,"post_id":53279561,"comment_id":93440913,"body_markdown":"I just downloaded eclipse to my linux mint","body":"I just downloaded eclipse to my linux mint"},{"owner":{"account_id":12695226,"reputation":47,"user_id":9223876,"display_name":"Thomas Arif Başoğlu"},"score":0,"creation_date":1542107213,"post_id":53279561,"comment_id":93440999,"body_markdown":"For an IDE I have eclipse but an old version so does that means updating it solves the problem","body":"For an IDE I have eclipse but an old version so does that means updating it solves the problem"},{"owner":{"account_id":4635472,"reputation":1280,"user_id":3756843,"display_name":"Paul Rey"},"score":0,"creation_date":1542107239,"post_id":53279561,"comment_id":93441018,"body_markdown":"Hello Thomas, just for you knowledge, your issue is more about your Java environment than your code.","body":"Hello Thomas, just for you knowledge, your issue is more about your Java environment than your code."},{"owner":{"account_id":12695226,"reputation":47,"user_id":9223876,"display_name":"Thomas Arif Başoğlu"},"score":0,"creation_date":1542107383,"post_id":53279561,"comment_id":93441078,"body_markdown":"So if I update my eclipse that would solve the problem","body":"So if I update my eclipse that would solve the problem"},{"owner":{"account_id":4635472,"reputation":1280,"user_id":3756843,"display_name":"Paul Rey"},"score":0,"creation_date":1542107579,"post_id":53279561,"comment_id":93441226,"body_markdown":"Maybe  [this](https://stackoverflow.com/a/13636584/3756843) could help you","body":"Maybe  <a href=\"https://stackoverflow.com/a/13636584/3756843\">this</a> could help you"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1542107821,"post_id":53279561,"comment_id":93441389,"body_markdown":"FYI, there is already a [`Month` enum](https://docs.oracle.com/javase/8/docs/api/java/time/Month.html).","body":"FYI, there is already a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code> enum</a>."},{"owner":{"account_id":12695226,"reputation":47,"user_id":9223876,"display_name":"Thomas Arif Başoğlu"},"score":0,"creation_date":1542107898,"post_id":53279561,"comment_id":93441440,"body_markdown":"I know in my assignment they wanted me to write it thats why","body":"I know in my assignment they wanted me to write it thats why"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":2,"creation_date":1542109592,"post_id":53279561,"comment_id":93442400,"body_markdown":"BTW: `java.time.Month` has also a method `getValue()` which returns an `int` for  &quot;the month-of-year, from 1 (January) to 12 (December)&quot;.","body":"BTW: <code>java.time.Month</code> has also a method <code>getValue()</code> which returns an <code>int</code> for  &quot;the month-of-year, from 1 (January) to 12 (December)&quot;."}],"answers":[{"tags":[],"owner":{"account_id":12682930,"reputation":1163,"user_id":9215910,"display_name":"Pooja Aggarwal"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1542109725,"creation_date":1542107045,"answer_id":53279612,"question_id":53279561,"body_markdown":"The Value you are providing in enum is by default 0, 1,... an so on as in array indexing. If you want to change this, you need to have value integer taken explicitly and add it in constructor as well. Also, to use this value you can have a getter as well.\r\n\r\nTry this:\r\n\r\n    public enum Month {\r\n\r\n        January(1),\r\n        February(2),\r\n        March(3),\r\n        April(4),\r\n        May(5),\r\n        June(6),\r\n        July(7),\r\n        August(8),\r\n        September(9),\r\n        October(10),\r\n        November(11),\r\n        December(12);\r\n\r\n        private int value;\r\n\r\n        Month(int value) {\r\n            this.value = value;\r\n        }\r\n        \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n    \r\n    }","title":"How to assign a value to each enum object, such as month number on a Month enum?","body":"<p>The Value you are providing in enum is by default 0, 1,... an so on as in array indexing. If you want to change this, you need to have value integer taken explicitly and add it in constructor as well. Also, to use this value you can have a getter as well.</p>\n\n<p>Try this:</p>\n\n<pre><code>public enum Month {\n\n    January(1),\n    February(2),\n    March(3),\n    April(4),\n    May(5),\n    June(6),\n    July(7),\n    August(8),\n    September(9),\n    October(10),\n    November(11),\n    December(12);\n\n    private int value;\n\n    Month(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542110548,"creation_date":1542107120,"answer_id":53279629,"question_id":53279561,"body_markdown":"Add constructor:\r\n\r\n    public enum Month {\r\n        JANUARY(1), FEBRUARY(2), MARCH(3), APRIL(4), MAY(5), JUNE(6), JULY(7), AUGUST(8), SEPTEMBER(9), OCTOBER(10),  NOVEMBER(11), DECEMBER(12);\r\n\r\n        private final int number;\r\n\r\n        public Month (int number) {\r\n            this.number = number;\r\n        }\r\n\r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n    }\r\n\r\n","title":"How to assign a value to each enum object, such as month number on a Month enum?","body":"<p>Add constructor:</p>\n\n<pre><code>public enum Month {\n    JANUARY(1), FEBRUARY(2), MARCH(3), APRIL(4), MAY(5), JUNE(6), JULY(7), AUGUST(8), SEPTEMBER(9), OCTOBER(10),  NOVEMBER(11), DECEMBER(12);\n\n    private final int number;\n\n    public Month (int number) {\n        this.number = number;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14242449,"reputation":2057,"user_id":10288420,"display_name":"drowny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542107312,"creation_date":1542107312,"answer_id":53279687,"question_id":53279561,"body_markdown":"You have to write constructor for enum. So you need to implement like this;\r\n\r\n    public enum Month {\r\n        January(1), February(2), March(3), April(4), May(5), June(6), July(7), August(8), September(9), October(10), November(11), December(12);\r\n    \r\n        private int value;\r\n    \r\n        Month(int i) {\r\n            this.value = i;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAs you can see  the constructor ;\r\n\r\n    Month(int i) {\r\n        this.value = i;\r\n    } \r\n\r\nwhich is giving the integer value of related month.And set to value field of enum which is keep the month&#39;s value.","title":"How to assign a value to each enum object, such as month number on a Month enum?","body":"<p>You have to write constructor for enum. So you need to implement like this;</p>\n\n<pre><code>public enum Month {\n    January(1), February(2), March(3), April(4), May(5), June(6), July(7), August(8), September(9), October(10), November(11), December(12);\n\n    private int value;\n\n    Month(int i) {\n        this.value = i;\n    }\n\n}\n</code></pre>\n\n<p>As you can see  the constructor ;</p>\n\n<pre><code>Month(int i) {\n    this.value = i;\n} \n</code></pre>\n\n<p>which is giving the integer value of related month.And set to value field of enum which is keep the month's value.</p>\n"},{"tags":[],"owner":{"account_id":2764790,"reputation":579,"user_id":2380799,"accept_rate":60,"display_name":"Andrej Buday"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684619967,"creation_date":1542108159,"answer_id":53279949,"question_id":53279561,"body_markdown":"Enum is basically declaration of final set of passible options (in your case months). But it is still Java Class ~ Object. \r\n\r\nYour error literally says you are missing constructor for Java Class while you want to give every enumeration certain property. I guess you want to add month order in calendar. All you need to do is just declare property of class and enum constructor.\r\n    \r\n    public enum Month {\r\n        // Enum definition. Passing value to constructor. \r\n        JANUARY(1), FEBRUARY(2), MARCH(3), APRIL(4),MAY(5),JUNE(6), JULY(7), AUGUST(8), SEPTEMBER(9), OCTOBER(10),  NOVEMBER(11), DECEMBER(12);\r\n\r\n        // Member field.\r\n        private int monthOrder;\r\n\r\n        // Constructor.\r\n        public Month (int monthOrder) {\r\n            this.monthOrder = monthOrder;\r\n        }\r\n\r\n        // Accessor.\r\n        public int getMonthOrder() {\r\n            return this.monthOrder;\r\n        }\r\n     }\r\n\r\nSee similar [code run at Ideone.com][1].\r\n\r\n\r\n  [1]: https://ideone.com/bc5d6N","title":"How to assign a value to each enum object, such as month number on a Month enum?","body":"<p>Enum is basically declaration of final set of passible options (in your case months). But it is still Java Class ~ Object.</p>\n<p>Your error literally says you are missing constructor for Java Class while you want to give every enumeration certain property. I guess you want to add month order in calendar. All you need to do is just declare property of class and enum constructor.</p>\n<pre><code>public enum Month {\n    // Enum definition. Passing value to constructor. \n    JANUARY(1), FEBRUARY(2), MARCH(3), APRIL(4),MAY(5),JUNE(6), JULY(7), AUGUST(8), SEPTEMBER(9), OCTOBER(10),  NOVEMBER(11), DECEMBER(12);\n\n    // Member field.\n    private int monthOrder;\n\n    // Constructor.\n    public Month (int monthOrder) {\n        this.monthOrder = monthOrder;\n    }\n\n    // Accessor.\n    public int getMonthOrder() {\n        return this.monthOrder;\n    }\n }\n</code></pre>\n<p>See similar <a href=\"https://ideone.com/bc5d6N\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n"}],"owner":{"account_id":12695226,"reputation":47,"user_id":9223876,"display_name":"Thomas Arif Başoğlu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8268,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53279612,"answer_count":4,"score":4,"last_activity_date":1684619967,"creation_date":1542106883,"question_id":53279561,"body_markdown":"I am new to Java so I don&#39;t really know much can you help me as simply as possible. This is my code; I got an error about the `month(int)` so that means it cannot import the library.\r\n\r\n    public enum Month {\r\n    \tJanuary(1), February(2), March(3), April(4),May(5),June(6), July(7), August(8), September(9), October(10),  November(11), December(12)\r\n    }\r\n\r\n&gt;ERROR:Description\tResource\tPath\tLocation\tType\r\nThe constructor Month(int) is undefined\tMonth.java\t/tb00594_comp1027_formative2/src/tb00594_comp1027_formative2\tline 4\tJava Problem\r\n\r\n&gt;WARNING:Description\tResource\tPath\tLocation\tType\r\nBuild path specifies execution environment JavaSE-1.7. There are no JREs installed in the workspace that are strictly compatible with this environment. \ttb00594_comp1027_formative2\t\tBuild path\tJRE System Library Problem\r\n\r\nSo if you can help me as quickly as possible I would be greatefull.\r\n","title":"How to assign a value to each enum object, such as month number on a Month enum?","body":"<p>I am new to Java so I don't really know much can you help me as simply as possible. This is my code; I got an error about the <code>month(int)</code> so that means it cannot import the library.</p>\n<pre><code>public enum Month {\n    January(1), February(2), March(3), April(4),May(5),June(6), July(7), August(8), September(9), October(10),  November(11), December(12)\n}\n</code></pre>\n<blockquote>\n<p>ERROR:Description  Resource    Path    Location    Type\nThe constructor Month(int) is undefined Month.java  /tb00594_comp1027_formative2/src/tb00594_comp1027_formative2    line 4  Java Problem</p>\n</blockquote>\n<blockquote>\n<p>WARNING:Description    Resource    Path    Location    Type\nBuild path specifies execution environment JavaSE-1.7. There are no JREs installed in the workspace that are strictly compatible with this environment.     tb00594_comp1027_formative2     Build path  JRE System Library Problem</p>\n</blockquote>\n<p>So if you can help me as quickly as possible I would be greatefull.</p>\n"},{"tags":["java","android","android-camera"],"comments":[{"owner":{"account_id":251969,"reputation":13463,"user_id":529691,"display_name":"JoxTraex"},"score":0,"creation_date":1506807292,"post_id":46506617,"comment_id":79968845,"body_markdown":"Possibly taking an image and morphing it via opengl matrix math may work and be more performance.","body":"Possibly taking an image and morphing it via opengl matrix math may work and be more performance."}],"answers":[{"tags":[],"owner":{"account_id":6827583,"reputation":1255,"user_id":5252807,"accept_rate":0,"display_name":"Ozlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506809629,"creation_date":1506808903,"answer_id":46507427,"question_id":46506617,"body_markdown":"Just only Camera2 API are not enough to develop an app which is like mentioned you. You should use computer vision libraries such as [OpenCV](http://opencv.org/platforms/android/) or [OpenGL](https://developer.android.com/guide/topics/graphics/opengl.html).\r\n\r\nFirst of all, please check [it](http://paulbourke.net/miscellaneous/imagewarp/) out for creating theoretical background.\r\n\r\n[Here](http://www.programering.com/a/MTO3EDNwATc.html) is an example application which is using OpenCV and it is about funny effects.\r\n\r\n[This](https://sites.google.com/site/jaurisano/portfolio/cs-525-gpu-programming/glsl-webcam-shaders) can be another reference application which is about fun house effects and it was developed by using GLSL.\r\n\r\nAlso [this](https://stackoverflow.com/questions/5055625/image-warping-bulge-effect-algorithm) post can be helpful for you.\r\n\r\nMoreover, you can check [it][1] and [it][2] out. And, you can use &quot;image warping&quot; term to search to find solutions for your problem on internet.\r\n\r\n\r\n  [1]: https://github.com/cxcxcxcx/imgwarp-opencv\r\n  [2]: https://github.com/tanner-rutgers/Warpy","title":"Android Camera preview with funhouse mirror effect","body":"<p>Just only Camera2 API are not enough to develop an app which is like mentioned you. You should use computer vision libraries such as <a href=\"http://opencv.org/platforms/android/\" rel=\"nofollow noreferrer\">OpenCV</a> or <a href=\"https://developer.android.com/guide/topics/graphics/opengl.html\" rel=\"nofollow noreferrer\">OpenGL</a>.</p>\n\n<p>First of all, please check <a href=\"http://paulbourke.net/miscellaneous/imagewarp/\" rel=\"nofollow noreferrer\">it</a> out for creating theoretical background.</p>\n\n<p><a href=\"http://www.programering.com/a/MTO3EDNwATc.html\" rel=\"nofollow noreferrer\">Here</a> is an example application which is using OpenCV and it is about funny effects.</p>\n\n<p><a href=\"https://sites.google.com/site/jaurisano/portfolio/cs-525-gpu-programming/glsl-webcam-shaders\" rel=\"nofollow noreferrer\">This</a> can be another reference application which is about fun house effects and it was developed by using GLSL.</p>\n\n<p>Also <a href=\"https://stackoverflow.com/questions/5055625/image-warping-bulge-effect-algorithm\">this</a> post can be helpful for you.</p>\n\n<p>Moreover, you can check <a href=\"https://github.com/cxcxcxcx/imgwarp-opencv\" rel=\"nofollow noreferrer\">it</a> and <a href=\"https://github.com/tanner-rutgers/Warpy\" rel=\"nofollow noreferrer\">it</a> out. And, you can use \"image warping\" term to search to find solutions for your problem on internet.</p>\n"}],"owner":{"account_id":1158273,"reputation":645,"user_id":1138321,"accept_rate":45,"display_name":"Joey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684619066,"creation_date":1506802084,"question_id":46506617,"body_markdown":"I created a small Android app that uses the front facing camera to shoot a selfie. But what I want to accomplish is a funhouse mirror effect.\r\n\r\nI searched the internet trying to find a solution or a way to do this but I am guessing I am searching for the wrong terms here:\r\n\r\nSample Image\r\n-\r\n[![enter image description here][1]][1]\r\n\r\nCan someone push me in the right direction or how this is made? I searched for morphing, distortion etc.\r\n\r\n**What I have right now:**\r\nA basic camera app which is saving a taken photo using the Camera2 API in Android SDK 23\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hzaza.jpg","title":"Android Camera preview with funhouse mirror effect","body":"<p>I created a small Android app that uses the front facing camera to shoot a selfie. But what I want to accomplish is a funhouse mirror effect.</p>\n<p>I searched the internet trying to find a solution or a way to do this but I am guessing I am searching for the wrong terms here:</p>\n<h2>Sample Image</h2>\n<p><a href=\"https://i.stack.imgur.com/hzaza.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzaza.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Can someone push me in the right direction or how this is made? I searched for morphing, distortion etc.</p>\n<p><strong>What I have right now:</strong>\nA basic camera app which is saving a taken photo using the Camera2 API in Android SDK 23</p>\n"},{"tags":["java","hibernate","jpa","sqlresultsetmapping"],"owner":{"account_id":551550,"reputation":700,"user_id":916428,"accept_rate":58,"display_name":"M364M4N cro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684617787,"creation_date":1684576754,"question_id":76294570,"body_markdown":"I am trying to use a @SqlResultSetMapping to map a native-query-result into an Entity.\r\nThis entity happens to have a lazy loaded @OneToMany with a referencedColumnName that does not point to a PK. That @OneToMany is not relevant to my native query.\r\n\r\nThe problem is is when i execute the native query, i get:\r\n\r\n    The column name mycolumn18_20_0_ was not found in this ResultSet.\r\nBut if i remove the referencedColumnName from the @OneToMany, then it works.\r\n\r\nThis forces me to add a `mycolumn18_20_0_` to my native select.\r\n\r\nHow am i supposed to handle this situation? How do i map this `mycolumn18_20_0_` in my @SqlResultSetMapping.","title":"Use @SqlResultSetMapping to map entity that has a @OneToMany association with a non-PK referencedColumnName","body":"<p>I am trying to use a @SqlResultSetMapping to map a native-query-result into an Entity.\nThis entity happens to have a lazy loaded @OneToMany with a referencedColumnName that does not point to a PK. That @OneToMany is not relevant to my native query.</p>\n<p>The problem is is when i execute the native query, i get:</p>\n<pre><code>The column name mycolumn18_20_0_ was not found in this ResultSet.\n</code></pre>\n<p>But if i remove the referencedColumnName from the @OneToMany, then it works.</p>\n<p>This forces me to add a <code>mycolumn18_20_0_</code> to my native select.</p>\n<p>How am i supposed to handle this situation? How do i map this <code>mycolumn18_20_0_</code> in my @SqlResultSetMapping.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8907527,"reputation":130,"user_id":6648902,"display_name":"Emmanuel Price"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506438153,"creation_date":1506173062,"answer_id":46380059,"question_id":46379960,"body_markdown":"Not enough to go by, you should read the documentation. \r\n\r\nHere are the docs, with a map initialised and values added: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html\r\n\r\n` MultiValuedMap&lt;K, String&gt; map = new MultiValuedHashMap&lt;K, String&gt;();`","title":"How to initialize MultiValuedMap - apache commons library in Java","body":"<p>Not enough to go by, you should read the documentation. </p>\n\n<p>Here are the docs, with a map initialised and values added: <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html</a></p>\n\n<p><code>MultiValuedMap&lt;K, String&gt; map = new MultiValuedHashMap&lt;K, String&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517299969,"creation_date":1517299969,"answer_id":48516752,"question_id":46379960,"body_markdown":"Although the docs talk about a `MultiValuedHashMap`, I can&#39;t find it. Instead, I use a [`HashSetValuedHashMap`][1]:\r\n\r\n    MultiValuedMap&lt;Double, Double&gt; candidateRange = new HashSetValuedHashMap&lt;&gt;();\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/multimap/HashSetValuedHashMap.html","title":"How to initialize MultiValuedMap - apache commons library in Java","body":"<p>Although the docs talk about a <code>MultiValuedHashMap</code>, I can't find it. Instead, I use a <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/multimap/HashSetValuedHashMap.html\" rel=\"nofollow noreferrer\"><code>HashSetValuedHashMap</code></a>:</p>\n\n<pre><code>MultiValuedMap&lt;Double, Double&gt; candidateRange = new HashSetValuedHashMap&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588640820,"creation_date":1588640820,"answer_id":61604151,"question_id":46379960,"body_markdown":"It is like initializing `Map` interface with `HashMap`,\r\n\r\n\t\tMultivaluedMap&lt;String, Object&gt; headers = new MultivaluedHashMap&lt;&gt;();\r\n\t\theaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\theaders.add(&quot;x-authorization&quot;, &quot;1bdc5db0-dfc8-43f2-9159-3827bfe48ea7.1587315996051&quot;);","title":"How to initialize MultiValuedMap - apache commons library in Java","body":"<p>It is like initializing <code>Map</code> interface with <code>HashMap</code>,</p>\n\n<pre><code>    MultivaluedMap&lt;String, Object&gt; headers = new MultivaluedHashMap&lt;&gt;();\n    headers.add(\"Content-Type\", \"application/json\");\n    headers.add(\"x-authorization\", \"1bdc5db0-dfc8-43f2-9159-3827bfe48ea7.1587315996051\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16349152,"reputation":41,"user_id":11808165,"display_name":"Elias Jambari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598890915,"creation_date":1598890915,"answer_id":63674537,"question_id":46379960,"body_markdown":"I can&#39;t find `MultivaluedHashMap` either. You may want to use `ArrayListValuedHashMap` instead as it follows.\r\n\r\n    MultiValuedMap&lt;K, V&gt; map = new ArrayListValuedHashMap&lt;K, V&gt;();","title":"How to initialize MultiValuedMap - apache commons library in Java","body":"<p>I can't find <code>MultivaluedHashMap</code> either. You may want to use <code>ArrayListValuedHashMap</code> instead as it follows.</p>\n<pre><code>MultiValuedMap&lt;K, V&gt; map = new ArrayListValuedHashMap&lt;K, V&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684617677,"creation_date":1684617677,"answer_id":76297393,"question_id":46379960,"body_markdown":"You could also initialize a MultiValuedMap without the need of an external library. Example:\r\n\r\n    MultiValueMap&lt;String, Object&gt; headers = CollectionUtils.toMultiValueMap(Map.of(&quot;Content-Type&quot;, List.of(&quot;application/json&quot;)));","title":"How to initialize MultiValuedMap - apache commons library in Java","body":"<p>You could also initialize a MultiValuedMap without the need of an external library. Example:</p>\n<pre><code>MultiValueMap&lt;String, Object&gt; headers = CollectionUtils.toMultiValueMap(Map.of(&quot;Content-Type&quot;, List.of(&quot;application/json&quot;)));\n</code></pre>\n"}],"owner":{"account_id":5429815,"reputation":1117,"user_id":4321039,"accept_rate":43,"display_name":"ejshin1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23314,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1684617677,"creation_date":1506172385,"question_id":46379960,"body_markdown":"I have key-value structure with duplicate key values. Thus, I use MultiValuedMap. Key and value types are double. However, I am not sure how to initialize this structure.\r\n\r\n\r\n    static MultiValuedMap&lt;Double, Double&gt; candidateRange;    \r\n    // following line will generate an error\r\n    candidateRange = new MultiValuedMap&lt;Double, Double&gt;();","title":"How to initialize MultiValuedMap - apache commons library in Java","body":"<p>I have key-value structure with duplicate key values. Thus, I use MultiValuedMap. Key and value types are double. However, I am not sure how to initialize this structure.</p>\n\n<pre><code>static MultiValuedMap&lt;Double, Double&gt; candidateRange;    \n// following line will generate an error\ncandidateRange = new MultiValuedMap&lt;Double, Double&gt;();\n</code></pre>\n"},{"tags":["java","input","time","java.util.scanner","delay"],"comments":[{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":1,"creation_date":1617024965,"post_id":66855124,"comment_id":118177791,"body_markdown":"What is your program supposed to do?","body":"What is your program supposed to do?"},{"owner":{"account_id":20144674,"reputation":11,"user_id":14773496,"display_name":"Adeeb Graissy"},"score":0,"creation_date":1617039152,"post_id":66855124,"comment_id":118184555,"body_markdown":"I enter a time ,for example \nwhat hour: 10\nwhat minute : 30\ndelay time : 45\nthe program should print out the new time, which is : 11:15","body":"I enter a time ,for example  what hour: 10 what minute : 30 delay time : 45 the program should print out the new time, which is : 11:15"},{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":0,"creation_date":1617055054,"post_id":66855124,"comment_id":118190541,"body_markdown":"So can you write a formula how to calculate that on a paper? What about if the new time crosses midnight? What if the delay is longer than 24 hours?","body":"So can you write a formula how to calculate that on a paper? What about if the new time crosses midnight? What if the delay is longer than 24 hours?"},{"owner":{"account_id":20144674,"reputation":11,"user_id":14773496,"display_name":"Adeeb Graissy"},"score":0,"creation_date":1617093463,"post_id":66855124,"comment_id":118199835,"body_markdown":"the formula is what i dont know how to write.    all what you said is right but i dont know how to continue","body":"the formula is what i dont know how to write.    all what you said is right but i dont know how to continue"},{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":1,"creation_date":1617097319,"post_id":66855124,"comment_id":118201517,"body_markdown":"An hour has 60 minutes. You can convert everything to minutes, add the minutes together and then convert minutes back to hours + minutes. If you use `int` for operands, `x / y` will give you an integer divisor and `x % y` will give you the remainder.","body":"An hour has 60 minutes. You can convert everything to minutes, add the minutes together and then convert minutes back to hours + minutes. If you use <code>int</code> for operands, <code>x &#47; y</code> will give you an integer divisor and <code>x % y</code> will give you the remainder."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684617172,"creation_date":1684615902,"answer_id":76297312,"question_id":66855124,"body_markdown":"You could try adding this code to that missing section:\r\n        \r\n    // Calculate neue Ankunftszeit ist\r\n    int newMinutes = minuten + verspaetung;\r\n    int newHour = stunden + newMinutes / 60;\r\n    newMinutes = newMinutes % 60;\r\n    newHour = newHour % 24;\r\n\r\n... and then for that last line, append the result by concataening the *newHour* and *newMinutes* components, after formatting them as 2 digit String values:\r\n\r\n    // Display the result\r\n    System.out.println(&quot;Die neue Ankunftszeit istz: &quot; + \r\n\t    String.format(&quot;%02d&quot;, newHour) + &quot;:&quot; + String.format(&quot;%02d&quot;, newMinutes));\r\n","title":"i wrote an incomplete delay time Program, i need help to continue","body":"<p>You could try adding this code to that missing section:</p>\n<pre><code>// Calculate neue Ankunftszeit ist\nint newMinutes = minuten + verspaetung;\nint newHour = stunden + newMinutes / 60;\nnewMinutes = newMinutes % 60;\nnewHour = newHour % 24;\n</code></pre>\n<p>... and then for that last line, append the result by concataening the <em>newHour</em> and <em>newMinutes</em> components, after formatting them as 2 digit String values:</p>\n<pre><code>// Display the result\nSystem.out.println(&quot;Die neue Ankunftszeit istz: &quot; + \n    String.format(&quot;%02d&quot;, newHour) + &quot;:&quot; + String.format(&quot;%02d&quot;, newMinutes));\n</code></pre>\n"}],"owner":{"account_id":20144674,"reputation":11,"user_id":14773496,"display_name":"Adeeb Graissy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684617172,"creation_date":1617024567,"question_id":66855124,"body_markdown":"    package programmierAufgaben_Blatt2;\r\n    \r\n    import java.sql.Date;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Scanner;\r\n    \r\n    public class Aufgabe4 {\r\n    \t\r\n    \tpublic static void main(String[] args) throws ParseException {\r\n\r\n// Here i give which hour\r\n    \t\t\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Geben Sie bitte die Stunde ein (00-23): &quot;);\r\n    \t\tint stunden = s.nextInt();\r\n    \t\t\r\n    \t\tif (stunden &lt; 0 || stunden &gt; 23) {\r\n    \t\t\tSystem.out.println(&quot;Fehler : Geben Sie bitte eine Stunde im Bereich zwischen 00 und 23. &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\ts.nextLine();\r\n\r\n// Here i give which Minute\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Geben Sie bitte die Minuten ein (00-59): &quot;);\r\n    \t\tint minuten = s.nextInt();\r\n    \t\t\r\n    \t\tif (minuten &lt; 0 || minuten &gt; 59) {\r\n    \t\t\tSystem.out.println(&quot;Fehler : Geben Sie bitte eine Minute im Bereich zwischen 00 und 59. &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\ts.nextLine();\r\n\r\n// Here i give the delay time \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Geben Sie bitte die Verspaetung in Minuten ein (00-59): &quot;);\r\n    \t\tint verspaetung = s.nextInt();\r\n\r\n// i dont know what i should code here...\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n// Here is the result  \r\n   \t\t\r\n    \t\tSystem.out.println(&quot;Die neue Ankunftszeit ist: &quot;  );\r\n    \t}\r\n    }","title":"i wrote an incomplete delay time Program, i need help to continue","body":"<pre><code>package programmierAufgaben_Blatt2;\n\nimport java.sql.Date;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Scanner;\n\npublic class Aufgabe4 {\n    \n    public static void main(String[] args) throws ParseException {\n</code></pre>\n<p>// Here i give which hour</p>\n<pre><code>        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Geben Sie bitte die Stunde ein (00-23): &quot;);\n        int stunden = s.nextInt();\n        \n        if (stunden &lt; 0 || stunden &gt; 23) {\n            System.out.println(&quot;Fehler : Geben Sie bitte eine Stunde im Bereich zwischen 00 und 23. &quot;);\n        }\n        \n        s.nextLine();\n</code></pre>\n<p>// Here i give which Minute</p>\n<pre><code>        System.out.println(&quot;Geben Sie bitte die Minuten ein (00-59): &quot;);\n        int minuten = s.nextInt();\n        \n        if (minuten &lt; 0 || minuten &gt; 59) {\n            System.out.println(&quot;Fehler : Geben Sie bitte eine Minute im Bereich zwischen 00 und 59. &quot;);\n        }\n        \n        s.nextLine();\n</code></pre>\n<p>// Here i give the delay time</p>\n<pre><code>        System.out.println(&quot;Geben Sie bitte die Verspaetung in Minuten ein (00-59): &quot;);\n        int verspaetung = s.nextInt();\n</code></pre>\n<p>// i dont know what i should code here...</p>\n<p>// Here is the result</p>\n<pre><code>        System.out.println(&quot;Die neue Ankunftszeit ist: &quot;  );\n    }\n}\n</code></pre>\n"},{"tags":["java","android","spotify","keytool"],"answers":[{"tags":[],"owner":{"account_id":26703291,"reputation":53,"user_id":20309974,"display_name":"byraychen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684615005,"creation_date":1684615005,"answer_id":76297259,"question_id":76297248,"body_markdown":"I tried &quot;android&quot; for password and it worked.","title":"How to get application fingerprint for an android app","body":"<p>I tried &quot;android&quot; for password and it worked.</p>\n"}],"owner":{"account_id":26703291,"reputation":53,"user_id":20309974,"display_name":"byraychen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76297259,"answer_count":1,"score":0,"last_activity_date":1684615005,"creation_date":1684614810,"question_id":76297248,"body_markdown":"I&#39;m trying to use SpotifySDK and I&#39;m following their tutorial. Here they wanted me to get an application fingerprint using keytool, here https://developer.spotify.com/documentation/android/tutorials/application-fingerprints.\r\n\r\nI&#39;m using a bash terminal and I&#39;m typing this according to their tutorial:  &quot;C:\\Program Files\\Java\\jdk-20\\bin\\keytool.exe&quot; -alias androiddebugkey -keystore ~/.android/debug.keystore -list -v | grep SHA1\r\n\r\nIt&#39;s asking for a password which I don&#39;t know, I tried with random and &quot;changeit&quot; but it&#39;s returning nothing. How can I get this SHA fingerprint?","title":"How to get application fingerprint for an android app","body":"<p>I'm trying to use SpotifySDK and I'm following their tutorial. Here they wanted me to get an application fingerprint using keytool, here <a href=\"https://developer.spotify.com/documentation/android/tutorials/application-fingerprints\" rel=\"nofollow noreferrer\">https://developer.spotify.com/documentation/android/tutorials/application-fingerprints</a>.</p>\n<p>I'm using a bash terminal and I'm typing this according to their tutorial:  &quot;C:\\Program Files\\Java\\jdk-20\\bin\\keytool.exe&quot; -alias androiddebugkey -keystore ~/.android/debug.keystore -list -v | grep SHA1</p>\n<p>It's asking for a password which I don't know, I tried with random and &quot;changeit&quot; but it's returning nothing. How can I get this SHA fingerprint?</p>\n"},{"tags":["java","jakarta-ee","jersey"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1371535217,"post_id":17161285,"comment_id":24844785,"body_markdown":"Do you have all the required libs in your project? using maven?","body":"Do you have all the required libs in your project? using maven?"}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1371536141,"creation_date":1371535404,"answer_id":17161572,"question_id":17161285,"body_markdown":"It seems your missing few jars in your project.Try adding these to your project:\n\n\n&gt; **jersey-multipart.jar** \n&gt;\n&gt; **mimepull.jar**\n\nIf you are using maven, you can add this dependency:\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\nChange the version of jar if you need\n\n\n**Also make sure that the version of your jersey-multipart jar should be same as the version of jersey bundle jar**","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>It seems your missing few jars in your project.Try adding these to your project:</p>\n<blockquote>\n<p><strong>jersey-multipart.jar</strong></p>\n<p><strong>mimepull.jar</strong></p>\n</blockquote>\n<p>If you are using maven, you can add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Change the version of jar if you need</p>\n<p><strong>Also make sure that the version of your jersey-multipart jar should be same as the version of jersey bundle jar</strong></p>\n"},{"tags":[],"owner":{"account_id":5452381,"reputation":21,"user_id":4336792,"display_name":"user4336792"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418036413,"creation_date":1418032656,"answer_id":27355410,"question_id":17161285,"body_markdown":"Replace your `web.xml` with this code:\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;  org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>Replace your <code>web.xml</code> with this code:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;  org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1432913169,"creation_date":1432913169,"answer_id":30533427,"question_id":17161285,"body_markdown":"Forgetting to add `@POST` or `@Get` on top of the method name will also cause this error","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>Forgetting to add <code>@POST</code> or <code>@Get</code> on top of the method name will also cause this error</p>\n"},{"tags":[],"owner":{"account_id":1551551,"reputation":21,"user_id":1443818,"display_name":"JiLiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435819407,"creation_date":1435819088,"answer_id":31177184,"question_id":17161285,"body_markdown":"I met this problem because I did not have no parameter constructor in my class \r\n\r\n    @Path(&quot;/deviceconfigs&quot;)\r\n    public class DeviceConfigInterface extends ComInterfaceGen&lt;DeviceConfigApi&gt; {\r\n\t\tpublic DeviceConfigInterface(Class&lt;DeviceConfigApi&gt; type) {\r\n\t\t\tsuper(DeviceConfigApi.class);\r\n\t\t}\r\n    }.\r\n\r\nWhen I used no parameter constructor, the problem is solved.","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>I met this problem because I did not have no parameter constructor in my class </p>\n\n<pre><code>@Path(\"/deviceconfigs\")\npublic class DeviceConfigInterface extends ComInterfaceGen&lt;DeviceConfigApi&gt; {\n    public DeviceConfigInterface(Class&lt;DeviceConfigApi&gt; type) {\n        super(DeviceConfigApi.class);\n    }\n}.\n</code></pre>\n\n<p>When I used no parameter constructor, the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":130027,"reputation":26113,"user_id":328989,"accept_rate":79,"display_name":"Datageek"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1480126518,"creation_date":1445009033,"answer_id":33174105,"question_id":17161285,"body_markdown":"I have seen exactly the same error when using `@FormParam` (which expects `@POST`) with `@GET` parameters.\r\n\r\nHope it will help someone as it wasn&#39;t very intuitive to find out.","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>I have seen exactly the same error when using <code>@FormParam</code> (which expects <code>@POST</code>) with <code>@GET</code> parameters.</p>\n\n<p>Hope it will help someone as it wasn't very intuitive to find out.</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503305081,"creation_date":1486464624,"answer_id":42087883,"question_id":17161285,"body_markdown":"&gt; com.sun.jersey.spi.inject.Errors$ErrorMessagesException\r\n\r\noccured when I had two `@GET` methods with the same path but different query params.\r\n\r\nAlso it may happen if you rename your controller class, do `mvn install` without `mvn clean` and put war file to `/webapps` folder.\r\n\r\n","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<blockquote>\n  <p>com.sun.jersey.spi.inject.Errors$ErrorMessagesException</p>\n</blockquote>\n\n<p>occured when I had two <code>@GET</code> methods with the same path but different query params.</p>\n\n<p>Also it may happen if you rename your controller class, do <code>mvn install</code> without <code>mvn clean</code> and put war file to <code>/webapps</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":10342946,"reputation":70,"user_id":7628725,"display_name":"Abhi.P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492247970,"creation_date":1492247970,"answer_id":43424341,"question_id":17161285,"body_markdown":"I had a similar problem as I missed out to add a &quot;Consumes&quot; annotation for my POST method. Hope it helps someone.","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>I had a similar problem as I missed out to add a \"Consumes\" annotation for my POST method. Hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":1550350,"reputation":1733,"user_id":1442898,"accept_rate":0,"display_name":"Yergalem"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1493911864,"creation_date":1493911864,"answer_id":43787163,"question_id":17161285,"body_markdown":"It faced me the same error because having same @Path annotations with the same path names( strings).\r\n\r\n    @Path(&#39;samepath&#39;)   /// samepath cause Jersey Error at run time.\r\n    /* Method 1*/\r\n    \r\n    @Path(&#39;samepath&#39;)\r\n    /* Method 2 */","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>It faced me the same error because having same @Path annotations with the same path names( strings).</p>\n\n<pre><code>@Path('samepath')   /// samepath cause Jersey Error at run time.\n/* Method 1*/\n\n@Path('samepath')\n/* Method 2 */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2878496,"reputation":198,"user_id":2469871,"display_name":"Ajanthan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530760440,"creation_date":1530760440,"answer_id":51182895,"question_id":17161285,"body_markdown":"I know it&#39;s to late. But updating it here for future references. \r\nBetter check the  jar versions. \r\nI had the same issue. I was using the 1.16 version of jersey core and server, but this one i added with 1.18. It gave the same error. But then I realized and changed to 1.16 then worked fine. \r\n\r\nIt doesn&#39;t work with different versions.","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>I know it's to late. But updating it here for future references. \nBetter check the  jar versions. \nI had the same issue. I was using the 1.16 version of jersey core and server, but this one i added with 1.18. It gave the same error. But then I realized and changed to 1.16 then worked fine. </p>\n\n<p>It doesn't work with different versions.</p>\n"},{"tags":[],"owner":{"account_id":3465513,"reputation":498,"user_id":2901184,"display_name":"big data nerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587655765,"creation_date":1587655765,"answer_id":61391029,"question_id":17161285,"body_markdown":"There are multiple potential reasons therefore, just mentioning the most common ones\r\n\r\n - you are lacking some JAR files\r\n - you have multiple java methods with the same @Path annotation and the same HTTP methods (i.e. with different params or query params)\r\n - you have a web service method with an invalid response or request param type (i.e. a annotation class as parameter class or other weird stuff)","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>There are multiple potential reasons therefore, just mentioning the most common ones</p>\n\n<ul>\n<li>you are lacking some JAR files</li>\n<li>you have multiple java methods with the same @Path annotation and the same HTTP methods (i.e. with different params or query params)</li>\n<li>you have a web service method with an invalid response or request param type (i.e. a annotation class as parameter class or other weird stuff)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8853445,"reputation":3525,"user_id":6611915,"display_name":"Hasan Beheshti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588586802,"creation_date":1588586802,"answer_id":61589705,"question_id":17161285,"body_markdown":"Sometimes you specified @FormDataParam instead @QueryParam in GET method, in my case that was the problem.","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>Sometimes you specified @FormDataParam instead @QueryParam in GET method, in my case that was the problem.</p>\n"}],"owner":{"account_id":2268477,"reputation":33729,"user_id":2455259,"accept_rate":80,"display_name":"N Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59137,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":17161572,"answer_count":11,"score":23,"last_activity_date":1684611506,"creation_date":1371533948,"question_id":17161285,"body_markdown":"I am using the Jersey API for the web services. I am sending the multipart data from client to server. I am getting exception when web services start to execute.\r\n\r\n\t@POST\r\n\t@Path(&quot;uploadphoto&quot;)\r\n\t@Consumes(MediaType.MULTIPART_FORM_DATA)\r\n\t@Produces(&quot;text/plain&quot;)\r\n\tpublic String uploadNotices(@FormDataParam(&quot;file&quot;) InputStream uploadedInputStream, @FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetail) {\r\n\t\tString uploadedFileLocation = &quot;d:/&quot; + fileDetail.getFileName();\r\n\t\t// save it\r\n\t\ttry {\r\n\t\t\twriteToFile(uploadedInputStream, uploadedFileLocation);\r\n\t\t} catch(Exception e) {\r\n\t\t\treturn &quot;no&quot;;\r\n\t\t}\r\n\t\treturn &quot;yes&quot;;\r\n\t}\r\n\r\n\t// save uploaded file to new location\r\n\tprivate void writeToFile(InputStream uploadedInputStream, String uploadedFileLocation) throws Exception {\r\n\t\tOutputStream out = new FileOutputStream(new File(uploadedFileLocation));\r\n\t\tint read = 0;\r\n\t\tbyte[] bytes = new byte[1024];\r\n\r\n\t\tout = new FileOutputStream(new File(uploadedFileLocation));\r\n\t\twhile ((read = uploadedInputStream.read(bytes)) != -1) {\r\n\t\t\tout.write(bytes, 0, read);\r\n\t\t}\r\n\t\tout.flush();\r\n\t\tout.close();\r\n\t}\r\n\r\nStacktrace:\r\n\r\n\tSEVERE: The following errors and warnings have been detected with resource and/or provider classes:\r\n\t  SEVERE: Missing dependency for method public java.lang.String com.homebulletin.resources.NoticeResources.uploadNotices(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition) at parameter at index 0\r\n\t  SEVERE: Missing dependency for method public java.lang.String com.homebulletin.resources.NoticeResources.uploadNotices(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition) at parameter at index 1\r\n\t  SEVERE: Method, public java.lang.String com.homebulletin.resources.NoticeResources.uploadNotices(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition), annotated with POST of resource, class com.homebulletin.resources.NoticeResources, is not recognized as valid resource method.\r\n\tJun 18, 2013 10:55:17 AM org.apache.catalina.core.ApplicationContext log\r\n\tSEVERE: StandardWrapper.Throwable\r\n\tcom.sun.jersey.spi.inject.Errors$ErrorMessagesException\r\n\t\tat com.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\r\n\t\tat com.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\r\n\t\tat com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\r\n\t\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:765)\r\n\t\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:760)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:489)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:319)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:374)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:557)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:212)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1161)\r\n\t\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:806)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\r\n\t\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\r\n\t\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n\t\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\r\n\t\tat java.lang.Thread.run(Unknown Source)\r\n\r\n\tJun 18, 2013 10:55:17 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n\tSEVERE: Allocate exception for servlet Home Bulletin\r\n\tcom.sun.jersey.spi.inject.Errors$ErrorMessagesException\r\n\t\tat com.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\r\n\t\tat com.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\r\n\t\tat com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\r\n\t\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:765)\r\n\t\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:760)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:489)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:319)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:374)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:557)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:212)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1161)\r\n\t\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:806)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\r\n\t\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\r\n\t\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n\t\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\r\n\t\tat java.lang.Thread.run(Unknown Source)","title":"Exception :com.sun.jersey.spi.inject.Errors$ErrorMessagesException","body":"<p>I am using the Jersey API for the web services. I am sending the multipart data from client to server. I am getting exception when web services start to execute.</p>\n\n<pre><code>@POST\n@Path(\"uploadphoto\")\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(\"text/plain\")\npublic String uploadNotices(@FormDataParam(\"file\") InputStream uploadedInputStream, @FormDataParam(\"file\") FormDataContentDisposition fileDetail) {\n    String uploadedFileLocation = \"d:/\" + fileDetail.getFileName();\n    // save it\n    try {\n        writeToFile(uploadedInputStream, uploadedFileLocation);\n    } catch(Exception e) {\n        return \"no\";\n    }\n    return \"yes\";\n}\n\n// save uploaded file to new location\nprivate void writeToFile(InputStream uploadedInputStream, String uploadedFileLocation) throws Exception {\n    OutputStream out = new FileOutputStream(new File(uploadedFileLocation));\n    int read = 0;\n    byte[] bytes = new byte[1024];\n\n    out = new FileOutputStream(new File(uploadedFileLocation));\n    while ((read = uploadedInputStream.read(bytes)) != -1) {\n        out.write(bytes, 0, read);\n    }\n    out.flush();\n    out.close();\n}\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>SEVERE: The following errors and warnings have been detected with resource and/or provider classes:\n  SEVERE: Missing dependency for method public java.lang.String com.homebulletin.resources.NoticeResources.uploadNotices(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition) at parameter at index 0\n  SEVERE: Missing dependency for method public java.lang.String com.homebulletin.resources.NoticeResources.uploadNotices(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition) at parameter at index 1\n  SEVERE: Method, public java.lang.String com.homebulletin.resources.NoticeResources.uploadNotices(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition), annotated with POST of resource, class com.homebulletin.resources.NoticeResources, is not recognized as valid resource method.\nJun 18, 2013 10:55:17 AM org.apache.catalina.core.ApplicationContext log\nSEVERE: StandardWrapper.Throwable\ncom.sun.jersey.spi.inject.Errors$ErrorMessagesException\n    at com.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\n    at com.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\n    at com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:765)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:760)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:489)\n    at com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:319)\n    at com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:374)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:557)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:212)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1161)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:806)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n    at java.lang.Thread.run(Unknown Source)\n\nJun 18, 2013 10:55:17 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet Home Bulletin\ncom.sun.jersey.spi.inject.Errors$ErrorMessagesException\n    at com.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\n    at com.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\n    at com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:765)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:760)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:489)\n    at com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:319)\n    at com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:374)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:557)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:212)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1161)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:806)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:129)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","inheritance","spring-data-jpa"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1684577328,"post_id":76294528,"comment_id":134539543,"body_markdown":"Have you read the error message? `&#39;com.example.grademanagement_hamzarami.models.Student.modules&#39; is &#39;mappedBy&#39; a property named &#39;student&#39; which does not exist in the target entity &#39;com.example.grademanagement_hamzarami.models.Module&#39;`","body":"Have you read the error message? <code>&#39;com.example.grademanagement_hamzarami.models.Student.module&zwnj;&#8203;s&#39; is &#39;mappedBy&#39; a property named &#39;student&#39; which does not exist in the target entity &#39;com.example.grademanagement_hamzarami.models.Module&#39;</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684583577,"post_id":76294528,"comment_id":134540168,"body_markdown":"&quot;you are using jakarta&quot;..but (in Student): `import javax.persistence..` this is &quot;contradictory&quot; (to what i imagine under &quot;using jakarta&quot;)","body":"&quot;you are using jakarta&quot;..but (in Student): <code>import javax.persistence..</code> this is &quot;contradictory&quot; (to what i imagine under &quot;using jakarta&quot;)"},{"owner":{"account_id":24395364,"reputation":21,"user_id":18324810,"display_name":"Rami"},"score":0,"creation_date":1684590723,"post_id":76294528,"comment_id":134541053,"body_markdown":"@xerx593 I thought i could use both libraries in the same time but even I remove javax and use jakarta instead in all classes the error still the same.","body":"@xerx593 I thought i could use both libraries in the same time but even I remove javax and use jakarta instead in all classes the error still the same."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684582189,"creation_date":1684582189,"answer_id":76294985,"question_id":76294528,"body_markdown":"Your Module @Entity lacks a student field so your module table lacks this column.\r\n\r\nHowever, I suspect that your have a model problem.\r\n\r\nThe relationship between Student and Module is ManyToMany (aka associative), ie a Student can enrole in many Modules and a Module can be presented to many Students.\r\n\r\n[This][1] almost the same model if you substitute Course of Module. \r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-many-to-many","title":"I have &quot;User&quot; class and 2 classes &quot;Student&quot; and &quot;Teacher&quot; inherit from it, but when I run the spring boot app it creates only &quot;User&quot; table","body":"<p>Your Module @Entity lacks a student field so your module table lacks this column.</p>\n<p>However, I suspect that your have a model problem.</p>\n<p>The relationship between Student and Module is ManyToMany (aka associative), ie a Student can enrole in many Modules and a Module can be presented to many Students.</p>\n<p><a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">This</a> almost the same model if you substitute Course of Module.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684611341,"creation_date":1684593542,"answer_id":76295765,"question_id":76294528,"body_markdown":"Modify Student entity like this:\r\n\r\n    @JsonManagedReference\r\n    @ManyToMany(mappedBy = &quot;students&quot;)\r\n    private List&lt;Module&gt; modules;\r\n\r\nAnd also you should use Set instead of List for all the relations.\r\n\r\nEDIT: Each entity must have getters and setters for each and every field.","title":"I have &quot;User&quot; class and 2 classes &quot;Student&quot; and &quot;Teacher&quot; inherit from it, but when I run the spring boot app it creates only &quot;User&quot; table","body":"<p>Modify Student entity like this:</p>\n<pre><code>@JsonManagedReference\n@ManyToMany(mappedBy = &quot;students&quot;)\nprivate List&lt;Module&gt; modules;\n</code></pre>\n<p>And also you should use Set instead of List for all the relations.</p>\n<p>EDIT: Each entity must have getters and setters for each and every field.</p>\n"}],"owner":{"account_id":24395364,"reputation":21,"user_id":18324810,"display_name":"Rami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684611341,"creation_date":1684576146,"question_id":76294528,"body_markdown":"I&#39;am using jakarta and when I run the app the &quot;Student&quot; and &quot;Teacher&quot; tables didn&#39;t created and only the &quot;User&quot; table is created. What could be the problem ?\r\n\r\nUser class\r\n----------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import jakarta.persistence.*;\r\n\r\n    import java.io.Serializable;\r\n\r\n    @Entity\r\n    public class User implements Serializable {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false, updatable = false)\r\n        private Long id;\r\n        private String first_name;\r\n        private String last_name;\r\n\r\n\r\n        public User(String first_name, String last_name) {\r\n            this.first_name = first_name;\r\n            this.last_name = last_name;\r\n        }\r\n\r\n        public User() {}\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nStudent class\r\n-------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonManagedReference;\r\n    import jakarta.persistence.*;\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Set;\r\n\r\n\r\n    @Entity\r\n    public class Student extends User implements Serializable {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = jakarta.persistence.GenerationType.IDENTITY)\r\n        @Column(nullable = false, updatable = false)\r\n        private Long id;\r\n\r\n        private String first_name;\r\n        private String last_name;\r\n\r\n        @JsonManagedReference\r\n        @ManyToMany(mappedBy = &quot;students&quot;)\r\n    @JoinTable(\r\n            name = &quot;student_module&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;student_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;module_id&quot;))\r\n    private Set&lt;Module&gt; modules;\r\n\r\n        private double moyenneGenerale;\r\n\r\n\r\n        public Student(String first_name, String last_name) {\r\n            super(first_name, last_name);\r\n        }\r\n\r\n        public Student() {\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nModule class:\r\n-------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import jakarta.persistence.*;\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Set;\r\n\r\n    @Entity\r\n    public class Module implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false, updatable = false)\r\n        private Long id;\r\n\r\n        @OneToMany\r\n        private Set&lt;Subject&gt; subjects;\r\n\r\n        @ManyToMany(mappedBy = &quot;modules&quot;)\r\n        private Set&lt;Student&gt; students;\r\n\r\n\r\n        public Module(Set&lt;Subject&gt; subjects) {\r\n\r\n        }\r\n\r\n        public Module() {}\r\n\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public Set&lt;Subject&gt; getSubjects() {\r\n            return subjects;\r\n        }\r\n\r\n        public void setSubjects(Set&lt;Subject&gt; subjects) {\r\n            this.subjects = subjects;\r\n        }\r\n\r\n        public void calculMoyenne() {\r\n\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSubject class:\r\n--------------\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import jakarta.persistence.*;\r\n\r\n    @Entity\r\n    public class Subject {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false, updatable = false)\r\n        private Long id;\r\n        private String name;\r\n        private int coefficient;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;module_id&quot;)\r\n        private Module module;\r\n\r\n\r\n        public Subject(String name, int coefficient, Module module) {\r\n            this.name = name;\r\n            this.coefficient = coefficient;\r\n            this.module = module;\r\n        }\r\n\r\n        public Subject() {}\r\n\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public int getCoefficient() {\r\n            return coefficient;\r\n        }\r\n\r\n        public void setCoefficient(int coefficient) {\r\n            this.coefficient = coefficient;\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&gt; ERROR 7576 --- [           main]\r\n&gt; j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA\r\n&gt; EntityManagerFactory: Collection\r\n&gt; &#39;com.example.grademanagement_hamzarami.models.Student.modules&#39; is\r\n&gt; &#39;mappedBy&#39; a property named &#39;student&#39; which does not exist in the\r\n&gt; target entity &#39;com.example.grademanagement_hamzarami.models.Module&#39;\r\n\r\n\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class\r\n&gt; path resource\r\n&gt; [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\r\n&gt; Collection\r\n&gt; &#39;com.example.grademanagement_hamzarami.models.Student.modules&#39; is\r\n&gt; &#39;mappedBy&#39; a property named &#39;student&#39; which does not exist in the\r\n&gt; target entity &#39;com.example.grademanagement_hamzarami.models.Module&#39;","title":"I have &quot;User&quot; class and 2 classes &quot;Student&quot; and &quot;Teacher&quot; inherit from it, but when I run the spring boot app it creates only &quot;User&quot; table","body":"<p>I'am using jakarta and when I run the app the &quot;Student&quot; and &quot;Teacher&quot; tables didn't created and only the &quot;User&quot; table is created. What could be the problem ?</p>\n<h2>User class</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import jakarta.persistence.*;\n\nimport java.io.Serializable;\n\n@Entity\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n    private String first_name;\n    private String last_name;\n\n\n    public User(String first_name, String last_name) {\n        this.first_name = first_name;\n        this.last_name = last_name;\n    }\n\n    public User() {}\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Student class</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonManagedReference;\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.util.Set;\n\n\n@Entity\npublic class Student extends User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = jakarta.persistence.GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n\n    private String first_name;\n    private String last_name;\n\n    @JsonManagedReference\n    @ManyToMany(mappedBy = \"students\")\n@JoinTable(\n        name = \"student_module\",\n        joinColumns = @JoinColumn(name = \"student_id\"),\n        inverseJoinColumns = @JoinColumn(name = \"module_id\"))\nprivate Set&lt;Module&gt; modules;\n\n    private double moyenneGenerale;\n\n\n    public Student(String first_name, String last_name) {\n        super(first_name, last_name);\n    }\n\n    public Student() {\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Module class:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.util.Set;\n\n@Entity\npublic class Module implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n\n    @OneToMany\n    private Set&lt;Subject&gt; subjects;\n\n    @ManyToMany(mappedBy = \"modules\")\n    private Set&lt;Student&gt; students;\n\n\n    public Module(Set&lt;Subject&gt; subjects) {\n\n    }\n\n    public Module() {}\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public Set&lt;Subject&gt; getSubjects() {\n        return subjects;\n    }\n\n    public void setSubjects(Set&lt;Subject&gt; subjects) {\n        this.subjects = subjects;\n    }\n\n    public void calculMoyenne() {\n\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Subject class:</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\npublic class Subject {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n    private String name;\n    private int coefficient;\n\n    @ManyToOne\n    @JoinColumn(name = \"module_id\")\n    private Module module;\n\n\n    public Subject(String name, int coefficient, Module module) {\n        this.name = name;\n        this.coefficient = coefficient;\n        this.module = module;\n    }\n\n    public Subject() {}\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getCoefficient() {\n        return coefficient;\n    }\n\n    public void setCoefficient(int coefficient) {\n        this.coefficient = coefficient;\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<blockquote>\n<p>ERROR 7576 --- [           main]\nj.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA\nEntityManagerFactory: Collection\n'com.example.grademanagement_hamzarami.models.Student.modules' is\n'mappedBy' a property named 'student' which does not exist in the\ntarget entity 'com.example.grademanagement_hamzarami.models.Module'</p>\n</blockquote>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class\npath resource\n[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\nCollection\n'com.example.grademanagement_hamzarami.models.Student.modules' is\n'mappedBy' a property named 'student' which does not exist in the\ntarget entity 'com.example.grademanagement_hamzarami.models.Module'</p>\n</blockquote>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1380063480,"post_id":18993483,"comment_id":28058779,"body_markdown":"What? drjava is telling you something--what is it? Who says you&#39;re missing a variable? What does an empty parenthesis have to do with anything?","body":"What? drjava is telling you something--what is it? Who says you&#39;re missing a variable? What does an empty parenthesis have to do with anything?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380064329,"creation_date":1380063456,"answer_id":18993497,"question_id":18993483,"body_markdown":"&gt; I&#39;m in the final stages of testing before I release the alpha version of a program I am writing.\r\n\r\nYou&#39;re creating a professional application? Please do tell us more about this.\r\n_____\r\n&gt; I understand what drjava is telling me, that I&#39;m missing a variable, but I also don&#39;t understand because I never made a variable under the name &quot;()&quot;. I&#39;m not even sure you can set any type of variable to a open-close parenthesis. \r\n\r\nWhen posting questions here, if you have an error message from the compiler, please post the entire error message with your question. Don&#39;t paraphrase it. And indicate by obvious comment in your code, i.e., `// ****** error here *****` where the error is occurring.\r\n_______\r\n&gt; Anyways I was testing and while it works, it doesn&#39;t the way I want it to. I entered into the scanner &quot;Mr. B.&quot; without the quotes of course. The program did not print the B. I&#39;m thinking it might be the space in between Mr. and B, because other inputs with a space did the same.\r\n\r\nDon&#39;t use `Scanner#next()` which gets only the next token -- the next word before reaching whitespace (here, Mr.), and will not get the rest of the text on the line. Instead use `Scanner#nextLine()` which gets you the whole line. \r\n\r\nFor example:\r\n\r\n    Scanner ownersname = new Scanner(System.in);\r\n    // String sownersname = ownersname.next(); // *** not this ***\r\n    String sownersname = ownersname.nextLine(); // *** but rather this ***\r\n    System.out.println(sownersname + &quot;? That is a nice name.&quot;);\r\n________________\r\n&gt; I can not release a version of my program knowing there is a GIANT glitch in the code. \r\n\r\nSeriously, you&#39;re creating a professional application? I&#39;m not yet at that stage, which is why I ask.\r\n________\r\n&gt; I&#39;m wondering why, and I tried to fix it by changing ownersname.next(); to ownersname.nextLine and ownersname.next and ownersname.nextScanner and ownername.nextScanner. This is where the error comes in, when it says it can&#39;t find the variable until I change it back to it&#39;s original code, which is below.\r\n\r\nI&#39;d be curious to see your `nextLine()` method attempt, because that is the solution. Perhaps you were trying to call the method without using the method parenthesis. \r\n\r\nI also assume that you&#39;re familiar with the Java API and have looked up the Scanner entry for it. If you did, you would see right away that there is no `nextScanner()` method for this class. This is one reason I have to wonder about your making a professional application at your stage. Again, I don&#39;t feel that I&#39;m at the stage yet to create one yet, so please don&#39;t take this as an insult, just a curiosity. \r\n\r\n","title":"What can I change to make this code work properly?","body":"<blockquote>\n  <p>I'm in the final stages of testing before I release the alpha version of a program I am writing.</p>\n</blockquote>\n\n<p>You're creating a professional application? Please do tell us more about this.</p>\n\n<hr>\n\n<blockquote>\n  <p>I understand what drjava is telling me, that I'm missing a variable, but I also don't understand because I never made a variable under the name \"()\". I'm not even sure you can set any type of variable to a open-close parenthesis. </p>\n</blockquote>\n\n<p>When posting questions here, if you have an error message from the compiler, please post the entire error message with your question. Don't paraphrase it. And indicate by obvious comment in your code, i.e., <code>// ****** error here *****</code> where the error is occurring.</p>\n\n<hr>\n\n<blockquote>\n  <p>Anyways I was testing and while it works, it doesn't the way I want it to. I entered into the scanner \"Mr. B.\" without the quotes of course. The program did not print the B. I'm thinking it might be the space in between Mr. and B, because other inputs with a space did the same.</p>\n</blockquote>\n\n<p>Don't use <code>Scanner#next()</code> which gets only the next token -- the next word before reaching whitespace (here, Mr.), and will not get the rest of the text on the line. Instead use <code>Scanner#nextLine()</code> which gets you the whole line. </p>\n\n<p>For example:</p>\n\n<pre><code>Scanner ownersname = new Scanner(System.in);\n// String sownersname = ownersname.next(); // *** not this ***\nString sownersname = ownersname.nextLine(); // *** but rather this ***\nSystem.out.println(sownersname + \"? That is a nice name.\");\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I can not release a version of my program knowing there is a GIANT glitch in the code. </p>\n</blockquote>\n\n<p>Seriously, you're creating a professional application? I'm not yet at that stage, which is why I ask.</p>\n\n<hr>\n\n<blockquote>\n  <p>I'm wondering why, and I tried to fix it by changing ownersname.next(); to ownersname.nextLine and ownersname.next and ownersname.nextScanner and ownername.nextScanner. This is where the error comes in, when it says it can't find the variable until I change it back to it's original code, which is below.</p>\n</blockquote>\n\n<p>I'd be curious to see your <code>nextLine()</code> method attempt, because that is the solution. Perhaps you were trying to call the method without using the method parenthesis. </p>\n\n<p>I also assume that you're familiar with the Java API and have looked up the Scanner entry for it. If you did, you would see right away that there is no <code>nextScanner()</code> method for this class. This is one reason I have to wonder about your making a professional application at your stage. Again, I don't feel that I'm at the stage yet to create one yet, so please don't take this as an insult, just a curiosity. </p>\n"}],"owner":{"account_id":3348413,"reputation":1,"user_id":2813040,"display_name":"Nick Lane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684611153,"creation_date":1380063386,"question_id":18993483,"body_markdown":"I&#39;m in the final stages of testing before I release the alpha version of a program I am writing. This may be a silly question but I just can&#39;t seem to figure it out. I understand what drjava is telling me, that I&#39;m missing a variable, but I also don&#39;t understand because I never made a variable under the name &quot;()&quot;. I&#39;m not even sure you can set any type of variable to a open-close parenthesis. Anyways I was testing and while it works, it doesn&#39;t the way I want it to. I entered into the scanner &quot;Mr. B.&quot; without the quotes of course. The program did not print the B. I&#39;m thinking it might be the space in between Mr. and B, because other inputs with a space did the same. I can not release a version of my program knowing there is a GIANT glitch in the code. I&#39;m wondering why, and I tried to fix it by changing ownersname.next(); to ownersname.nextLine and ownersname.next and ownersname.nextScanner and ownername.nextScanner. This is where the error comes in, when it says it can&#39;t find the variable until I change it back to it&#39;s original code, which is below.\r\n\r\n    Scanner ownersname = new Scanner(System.in);\r\n       String sownersname = ownersname.next();\r\n       System.out.println(sownersname + &quot;? That is a nice name.&quot;);","title":"What can I change to make this code work properly?","body":"<p>I'm in the final stages of testing before I release the alpha version of a program I am writing. This may be a silly question but I just can't seem to figure it out. I understand what drjava is telling me, that I'm missing a variable, but I also don't understand because I never made a variable under the name \"()\". I'm not even sure you can set any type of variable to a open-close parenthesis. Anyways I was testing and while it works, it doesn't the way I want it to. I entered into the scanner \"Mr. B.\" without the quotes of course. The program did not print the B. I'm thinking it might be the space in between Mr. and B, because other inputs with a space did the same. I can not release a version of my program knowing there is a GIANT glitch in the code. I'm wondering why, and I tried to fix it by changing ownersname.next(); to ownersname.nextLine and ownersname.next and ownersname.nextScanner and ownername.nextScanner. This is where the error comes in, when it says it can't find the variable until I change it back to it's original code, which is below.</p>\n\n<pre><code>Scanner ownersname = new Scanner(System.in);\n   String sownersname = ownersname.next();\n   System.out.println(sownersname + \"? That is a nice name.\");\n</code></pre>\n"},{"tags":["java","iterator","doubly-linked-list","circular-list"],"answers":[{"tags":[],"owner":{"account_id":3140088,"reputation":271,"user_id":2655695,"display_name":"Dia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1381486461,"creation_date":1381486461,"answer_id":19315627,"question_id":19315256,"body_markdown":"I don&#39;t see where you assign values to `private DoubleLinkedNode&lt;E&gt; nextItem;` when you create iterator.\r\nI cannot see the whole code. So I assume that `nextItem` is null or its `next` field is null.","title":"Circular Doubly LinkedList ListIterator","body":"<p>I don't see where you assign values to <code>private DoubleLinkedNode&lt;E&gt; nextItem;</code> when you create iterator.\nI cannot see the whole code. So I assume that <code>nextItem</code> is null or its <code>next</code> field is null.</p>\n"}],"owner":{"account_id":3251805,"reputation":17,"user_id":2741844,"display_name":"Stickandjab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19315627,"answer_count":1,"score":0,"last_activity_date":1684609624,"creation_date":1381485272,"question_id":19315256,"body_markdown":"This is a homework question. I have a Double Linked Node class, Circular Double Linked List class which implements `Iterable`, and a Iterator class that implements Iterator. I understand the concept of an iterator where an implicit cursor sits between two nodes and on a call to `next()` it returns the node it just jumped over. I created a test class with a new list object. I then created an iterator and called next, I received the correct `No Such Element exception` but when I added some nodes to the list I received a `Null Pointer Exception` instead of it returning the last returned node. How can I correct this?\r\n\r\nMy Node class:\r\n\r\n    public class DoubleLinkedNode&lt;E&gt;{\r\n\tprivate E data;\r\n\t\r\n\tprivate DoubleLinkedNode&lt;E&gt; next;\r\n\t\r\n\tprivate DoubleLinkedNode&lt;E&gt; prev;\r\n\t\r\n\t\r\n\tpublic DoubleLinkedNode(E data, DoubleLinkedNode&lt;E&gt; next, DoubleLinkedNode&lt;E&gt; prev){\r\n\t\tthis.data = data;\r\n\t\tthis.next = next;\r\n\t\tthis.prev = prev;\r\n\t}\r\n\t/**\r\n\t * Used to construct a node that points to null for its prev and next.\r\n\t * @param data Data is a generic variable to be stored in the node.\r\n\t */\r\n\tpublic DoubleLinkedNode(E data){\r\n\t\tthis(data, null, null);\r\n\t} \r\n\t\r\n\r\n\t//getters\r\n\tpublic E getData(){\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\tpublic DoubleLinkedNode&lt;E&gt; getNext(){\r\n\t\treturn next;\r\n\t}\r\n\t\r\n\tpublic DoubleLinkedNode&lt;E&gt; getPrev(){\r\n\t\treturn prev;\r\n\t}\r\n\t//setters\r\n\tpublic void setData(E data){\r\n\t\tthis.data = data;\r\n\t}\r\n\t\r\n\tpublic void setNext(DoubleLinkedNode&lt;E&gt; next){\r\n\t\tthis.next = next;\r\n\t}\r\n\t\r\n\tpublic void setPrev(DoubleLinkedNode&lt;E&gt; prev){\r\n\t\tthis.prev = prev;\r\n\t}\r\n\t\r\n\t@Override public String toString(){\r\n\t\tif(data == null){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn data.toString();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nThe List class with the private inner Iterator class:\r\n\r\n    import java.util.Iterator;\r\n    import java.util.ListIterator;\r\n    import java.util.NoSuchElementException;\r\n\r\n\r\n    public class CircularDoubleLinkedList&lt;E&gt; implements Iterable&lt;E&gt;{\r\n\t\r\n\tprivate int size;\t\r\n\tprivate DoubleLinkedNode&lt;E&gt; head;\r\n\t\r\n\t\r\n\tpublic CircularDoubleLinkedList(){\r\n\t\tthis.head = null;\r\n\t\tthis.size = 0;\t\t\r\n\t}\t\t\r\n\t/**\r\n\t * Adds an item to the end of the list.\r\n\t * \r\n\t * @param data The Data that is to be stored in the node.\r\n\t */ \r\n\tpublic void add(E data){\t\r\n\t\tDoubleLinkedNode&lt;E&gt; newNode = new DoubleLinkedNode&lt;E&gt;(data);\r\n\t\tif(this.head == null){\r\n\t\t\tnewNode.setNext(newNode);\r\n\t\t\tnewNode.setPrev(newNode);\r\n\t\t\tthis.head = newNode;\r\n\t\t\tthis.size++;\r\n\t\t\t//if list is empty create a new node and insert\r\n\t\t}\r\n\t\telse{\r\n\t\t\tDoubleLinkedNode&lt;E&gt; temp = this.head.getPrev();\r\n\t\t\tthis.head.getPrev().setNext(newNode);\r\n\t\t\tthis.head.setPrev(newNode);\r\n\t\t\tnewNode.setPrev(temp);\r\n\t\t\tnewNode.setNext(this.head);\t\t\r\n\t\t\tthis.size++;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Which adds an item at the specified index.\r\n\t * \r\n\t * @param index The index in which the new Node is added. \r\n\t * @param data The data which is to be stored in the node.\r\n\t */\r\n\tpublic void add(int index, E data){\r\n\t\tint currIndex = 0;\r\n\t\tDoubleLinkedNode&lt;E&gt; currNode = this.head;\r\n\t\tDoubleLinkedNode&lt;E&gt; nextNode = this.head.getNext();\r\n\t\tDoubleLinkedNode&lt;E&gt; prevNode = this.head.getPrev();\r\n\t\tDoubleLinkedNode&lt;E&gt; newNode = new DoubleLinkedNode&lt;E&gt;(data);\r\n\t\tif(index == 0){\r\n\t\t\tprevNode.setNext(newNode);\r\n\t\t\tcurrNode.setPrev(newNode);\r\n\t\t\tnewNode.setPrev(prevNode);\r\n\t\t\tnewNode.setNext(currNode);\r\n\t\t\tthis.head = newNode;\r\n\t\t\tthis.size++;\t\r\n\t\t}\r\n\t\telse if (index &gt; 0){\t\t\r\n\t\t\twhile(currIndex != this.size){\r\n\t\t\t\tif(currIndex != index%size){\r\n\t\t\t\t\tcurrIndex++;\r\n\t\t\t\t\tcurrNode = currNode.getNext();\r\n\t\t\t\t\tnextNode = nextNode.getNext();\r\n\t\t\t\t\tprevNode = prevNode.getNext();\t\t\t\t\t\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\tnewNode.setPrev(prevNode);\r\n\t\t\t\t\tnewNode.setNext(currNode);\r\n\t\t\t\t\tprevNode.setNext(newNode);\r\n\t\t\t\t\tcurrNode.setPrev(newNode);\r\n\t\t\t\t\tcurrNode = newNode;\r\n\t\t\t\t\tthis.size++;\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\telse if (index &lt; 0){\r\n\t\t\twhile(currIndex != -this.size){\r\n\t\t\t\tif(currIndex != index%size){\r\n\t\t\t\t\tcurrIndex--;\r\n\t\t\t\t\tcurrNode = currNode.getPrev();\r\n\t\t\t\t\tprevNode = prevNode.getPrev();\r\n\t\t\t\t\tnextNode = nextNode.getPrev();\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\tnewNode.setNext(nextNode);\r\n\t\t\t\t\tnewNode.setPrev(currNode);\r\n\t\t\t\t\tcurrNode.setNext(newNode);\r\n\t\t\t\t\tnextNode.setPrev(newNode);\t\t\t\r\n\t\t\t\t\tcurrNode = newNode;\r\n\t\t\t\t\tthis.size++;\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Returns the data stored at the specified index.\r\n\t * \r\n\t * @param index The index determines the node whose data is returned.\r\n\t * @return Returns the data of the node at the index.\r\n\t */\r\n\tpublic E get(int index){//returns the data stored at the specified index\r\n\t\tint currIndex = 0;\r\n\t\tDoubleLinkedNode&lt;E&gt; currNode = this.head;\r\n\t\tE temp = null;\t\t\r\n\t\tif(index == 0){//zero case\t\t\t\r\n\t\t\ttemp = currNode.getData();\r\n\t\t}\r\n\t\telse if(index &gt; 0){//positive\t\t\t\r\n\t\t\twhile(currIndex != this.size){\r\n\t\t\t\tif(currIndex != index%size){\r\n\t\t\t\t\tcurrIndex++;\r\n\t\t\t\t\tcurrNode = currNode.getNext();\t\t\t\t\t\t\t\t\r\n\t\t\t\t}else{\t\t\t\t\t\t\t\t\r\n\t\t\t\t\ttemp = currNode.getData();\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t\telse if(index &lt; 0){//negative\t\t\r\n\t\t\twhile(currIndex != -this.size){\r\n\t\t\t\tif(currIndex != index%size){\r\n\t\t\t\t\tcurrIndex--;\r\n\t\t\t\t\tcurrNode = currNode.getPrev();\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\ttemp = currNode.getData();\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\t\r\n\t/**\r\n\t * Which removes and returns an item from the list.\r\n\t * \r\n\t * @param index Removes the node at the current index.\r\n\t * @return Returns the data of the removed node.\r\n\t */\r\n\tpublic E remove(int index){//which removes and returns an item from the list\r\n\t\tint currIndex = 0;\r\n\t\tDoubleLinkedNode&lt;E&gt; currNode = this.head;\r\n\t\tDoubleLinkedNode&lt;E&gt; nextNode = this.head.getNext();\r\n\t\tDoubleLinkedNode&lt;E&gt; prevNode = this.head.getPrev();\r\n\t\tE temp = null;\t\r\n\t\tif(index == 0){\r\n\t\t\ttemp = currNode.getData();\r\n\t\t\tprevNode.setNext(currNode.getNext());\r\n\t\t\tnextNode.setPrev(currNode.getPrev());\r\n\t\t\tthis.head = nextNode;\r\n\t\t\tsize--;\r\n\t\t}\r\n\t\telse if(index &gt; 0){//positive\t\t\t\r\n\t\t\twhile(currIndex != this.size){\r\n\t\t\t\tif(currIndex != index%size){\r\n\t\t\t\t\tcurrIndex++;\r\n\t\t\t\t\tcurrNode = currNode.getNext();\r\n\t\t\t\t\tnextNode = nextNode.getNext();\r\n\t\t\t\t\tprevNode = prevNode.getNext();\t\t\t\t\t\r\n\t\t\t\t}else{\t\t\t\t\t\t\t\t\r\n\t\t\t\t\ttemp = currNode.getData();\r\n\t\t\t\t\tprevNode.setNext(currNode.getNext());\r\n\t\t\t\t\tnextNode.setPrev(currNode.getPrev());\r\n\t\t\t\t\tcurrNode = nextNode;\r\n\t\t\t\t\tsize--;\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t\telse if(index &lt; 0){//negative\t\t\r\n\t\t\twhile(currIndex != -this.size){\r\n\t\t\t\tif(currIndex != index%size){\r\n\t\t\t\t\tcurrIndex--;\r\n\t\t\t\t\tcurrNode = currNode.getPrev();\r\n\t\t\t\t\tprevNode = prevNode.getPrev();\r\n\t\t\t\t\tnextNode = nextNode.getPrev();\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\ttemp = currNode.getData();\r\n\t\t\t\t\tprevNode.setNext(currNode.getNext());\r\n\t\t\t\t\tnextNode.setPrev(currNode.getPrev());\r\n\t\t\t\t\tcurrNode = prevNode;\r\n\t\t\t\t\tsize--;\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\treturn temp;\r\n\t} \r\n\t/**\r\n\t * Returns the size.\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic int size(){\r\n\t\treturn size;\r\n\t}\r\n\t@Override public String toString(){\r\n\t\tString str = &quot;[&quot;;\r\n\t\tint index = 0;\r\n\t    DoubleLinkedNode&lt;E&gt; curr = head;\r\n\t    if(size == 0){\r\n\t    \treturn &quot;There is no one here to kill.&quot;;\t    \t\r\n\t    }else{\t    \r\n\t    \twhile (index &lt;this.size) {\r\n\t    \t\tstr += curr.getData();  \r\n\t    \t\tcurr = curr.getNext();\r\n\t    \t\tindex++;\r\n\t    \t\t\tif (index&lt;this.size) {\r\n\t    \t\t\t\tstr += &quot;, &quot;;\r\n\t    \t\t\t}\r\n\t    \t}\r\n\t    \t\tstr += &quot;]&quot;;\r\n\t    }\r\n\t    return str;\r\n\t  }\t\r\n\t@Override\r\n\tpublic Iterator&lt;E&gt; iterator() {\r\n\r\n\t\treturn new CircularDoubleIterator();\r\n\t}\t\r\n\t// Iterator inner class begins\r\n\tprivate class CircularDoubleIterator implements ListIterator&lt;E&gt; {\r\n\t\t\r\n\t\tprivate DoubleLinkedNode&lt;E&gt; nextItem;//reference to next item\r\n\t\tprivate int index = 0;\r\n\t\tprivate DoubleLinkedNode&lt;E&gt; lastReturned;// the last node to be returned by prev() or next()\r\n\t\t\t\t\t\t\t\t\t\t\t\t// reset to null after a remove() or add()\r\n\r\n\t\t@Override\r\n\t\tpublic E next() {\r\n\t\t\tif(!hasNext()){\r\n\t\t\t\tthrow new NoSuchElementException(&quot;No such element.&quot;);\r\n\t\t\t}\r\n\t\t\telse{\r\n                                nextItem = head; //edited 11Sept13\r\n\t\t\t\tlastReturned = nextItem.getNext();\r\n\t\t\t\tnextItem = nextItem.getNext();\r\n                                head = nextItem; //edited 11Sept13\r\n\t\t\t\tindex++;\r\n\t\t\t\treturn lastReturned.getData();\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic E previous() {\r\n\t\t\tif(!hasPrevious()){\r\n\t\t\t\tthrow new NoSuchElementException(&quot;No such element.&quot;);\r\n\t\t\t}\r\n\t\t\telse{\t\t\r\n\t\t\t\r\n\t\t\tindex--;\r\n\t\t\t\r\n\t\t\treturn ;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int nextIndex() {\r\n\t\t\treturn index;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int previousIndex() {\r\n\t\t\treturn index-1;\r\n\t\t}\r\n\t\t@Override \r\n\t\tpublic boolean hasNext() {\t\r\n\t\t\treturn size != 0;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic boolean hasPrevious() {\t\t\r\n\t\t\treturn size!= 0;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void remove() {\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void set(E theData) {\r\n\t\t\tif(lastReturned == null){\r\n\t\t\t\tthrow new IllegalStateException();\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void add(E theData) {\r\n\t\t\tif(size == 0){\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(size != 0){\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t//Iterator inner class ends\r\n    }","title":"Circular Doubly LinkedList ListIterator","body":"<p>This is a homework question. I have a Double Linked Node class, Circular Double Linked List class which implements <code>Iterable</code>, and a Iterator class that implements Iterator. I understand the concept of an iterator where an implicit cursor sits between two nodes and on a call to <code>next()</code> it returns the node it just jumped over. I created a test class with a new list object. I then created an iterator and called next, I received the correct <code>No Such Element exception</code> but when I added some nodes to the list I received a <code>Null Pointer Exception</code> instead of it returning the last returned node. How can I correct this?</p>\n\n<p>My Node class:</p>\n\n<pre><code>public class DoubleLinkedNode&lt;E&gt;{\nprivate E data;\n\nprivate DoubleLinkedNode&lt;E&gt; next;\n\nprivate DoubleLinkedNode&lt;E&gt; prev;\n\n\npublic DoubleLinkedNode(E data, DoubleLinkedNode&lt;E&gt; next, DoubleLinkedNode&lt;E&gt; prev){\n    this.data = data;\n    this.next = next;\n    this.prev = prev;\n}\n/**\n * Used to construct a node that points to null for its prev and next.\n * @param data Data is a generic variable to be stored in the node.\n */\npublic DoubleLinkedNode(E data){\n    this(data, null, null);\n} \n\n\n//getters\npublic E getData(){\n    return data;\n}\n\npublic DoubleLinkedNode&lt;E&gt; getNext(){\n    return next;\n}\n\npublic DoubleLinkedNode&lt;E&gt; getPrev(){\n    return prev;\n}\n//setters\npublic void setData(E data){\n    this.data = data;\n}\n\npublic void setNext(DoubleLinkedNode&lt;E&gt; next){\n    this.next = next;\n}\n\npublic void setPrev(DoubleLinkedNode&lt;E&gt; prev){\n    this.prev = prev;\n}\n\n@Override public String toString(){\n    if(data == null){\n        return null;\n    }\n    else{\n        return data.toString();\n    }\n}\n\n}\n</code></pre>\n\n<p>The List class with the private inner Iterator class:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.ListIterator;\nimport java.util.NoSuchElementException;\n\n\npublic class CircularDoubleLinkedList&lt;E&gt; implements Iterable&lt;E&gt;{\n\nprivate int size;   \nprivate DoubleLinkedNode&lt;E&gt; head;\n\n\npublic CircularDoubleLinkedList(){\n    this.head = null;\n    this.size = 0;      \n}       \n/**\n * Adds an item to the end of the list.\n * \n * @param data The Data that is to be stored in the node.\n */ \npublic void add(E data){    \n    DoubleLinkedNode&lt;E&gt; newNode = new DoubleLinkedNode&lt;E&gt;(data);\n    if(this.head == null){\n        newNode.setNext(newNode);\n        newNode.setPrev(newNode);\n        this.head = newNode;\n        this.size++;\n        //if list is empty create a new node and insert\n    }\n    else{\n        DoubleLinkedNode&lt;E&gt; temp = this.head.getPrev();\n        this.head.getPrev().setNext(newNode);\n        this.head.setPrev(newNode);\n        newNode.setPrev(temp);\n        newNode.setNext(this.head);     \n        this.size++;\n    }\n}\n/**\n * Which adds an item at the specified index.\n * \n * @param index The index in which the new Node is added. \n * @param data The data which is to be stored in the node.\n */\npublic void add(int index, E data){\n    int currIndex = 0;\n    DoubleLinkedNode&lt;E&gt; currNode = this.head;\n    DoubleLinkedNode&lt;E&gt; nextNode = this.head.getNext();\n    DoubleLinkedNode&lt;E&gt; prevNode = this.head.getPrev();\n    DoubleLinkedNode&lt;E&gt; newNode = new DoubleLinkedNode&lt;E&gt;(data);\n    if(index == 0){\n        prevNode.setNext(newNode);\n        currNode.setPrev(newNode);\n        newNode.setPrev(prevNode);\n        newNode.setNext(currNode);\n        this.head = newNode;\n        this.size++;    \n    }\n    else if (index &gt; 0){        \n        while(currIndex != this.size){\n            if(currIndex != index%size){\n                currIndex++;\n                currNode = currNode.getNext();\n                nextNode = nextNode.getNext();\n                prevNode = prevNode.getNext();                  \n            }else{              \n                newNode.setPrev(prevNode);\n                newNode.setNext(currNode);\n                prevNode.setNext(newNode);\n                currNode.setPrev(newNode);\n                currNode = newNode;\n                this.size++;\n                break;                                      \n            }\n        }       \n    }\n    else if (index &lt; 0){\n        while(currIndex != -this.size){\n            if(currIndex != index%size){\n                currIndex--;\n                currNode = currNode.getPrev();\n                prevNode = prevNode.getPrev();\n                nextNode = nextNode.getPrev();\n            }else{              \n                newNode.setNext(nextNode);\n                newNode.setPrev(currNode);\n                currNode.setNext(newNode);\n                nextNode.setPrev(newNode);          \n                currNode = newNode;\n                this.size++;\n                break;                                      \n            }\n        }   \n    }\n}\n/**\n * Returns the data stored at the specified index.\n * \n * @param index The index determines the node whose data is returned.\n * @return Returns the data of the node at the index.\n */\npublic E get(int index){//returns the data stored at the specified index\n    int currIndex = 0;\n    DoubleLinkedNode&lt;E&gt; currNode = this.head;\n    E temp = null;      \n    if(index == 0){//zero case          \n        temp = currNode.getData();\n    }\n    else if(index &gt; 0){//positive           \n        while(currIndex != this.size){\n            if(currIndex != index%size){\n                currIndex++;\n                currNode = currNode.getNext();                              \n            }else{                              \n                temp = currNode.getData();\n                break;                                      \n            }\n        }   \n    }\n    else if(index &lt; 0){//negative       \n        while(currIndex != -this.size){\n            if(currIndex != index%size){\n                currIndex--;\n                currNode = currNode.getPrev();\n            }else{              \n                temp = currNode.getData();\n                break;                                      \n            }\n        }           \n    }\n    return temp;\n}   \n/**\n * Which removes and returns an item from the list.\n * \n * @param index Removes the node at the current index.\n * @return Returns the data of the removed node.\n */\npublic E remove(int index){//which removes and returns an item from the list\n    int currIndex = 0;\n    DoubleLinkedNode&lt;E&gt; currNode = this.head;\n    DoubleLinkedNode&lt;E&gt; nextNode = this.head.getNext();\n    DoubleLinkedNode&lt;E&gt; prevNode = this.head.getPrev();\n    E temp = null;  \n    if(index == 0){\n        temp = currNode.getData();\n        prevNode.setNext(currNode.getNext());\n        nextNode.setPrev(currNode.getPrev());\n        this.head = nextNode;\n        size--;\n    }\n    else if(index &gt; 0){//positive           \n        while(currIndex != this.size){\n            if(currIndex != index%size){\n                currIndex++;\n                currNode = currNode.getNext();\n                nextNode = nextNode.getNext();\n                prevNode = prevNode.getNext();                  \n            }else{                              \n                temp = currNode.getData();\n                prevNode.setNext(currNode.getNext());\n                nextNode.setPrev(currNode.getPrev());\n                currNode = nextNode;\n                size--;\n                break;                                      \n            }\n        }   \n    }\n    else if(index &lt; 0){//negative       \n        while(currIndex != -this.size){\n            if(currIndex != index%size){\n                currIndex--;\n                currNode = currNode.getPrev();\n                prevNode = prevNode.getPrev();\n                nextNode = nextNode.getPrev();\n            }else{              \n                temp = currNode.getData();\n                prevNode.setNext(currNode.getNext());\n                nextNode.setPrev(currNode.getPrev());\n                currNode = prevNode;\n                size--;\n                break;                                      \n            }\n        }           \n    }\n    return temp;\n} \n/**\n * Returns the size.\n * \n * @return\n */\npublic int size(){\n    return size;\n}\n@Override public String toString(){\n    String str = \"[\";\n    int index = 0;\n    DoubleLinkedNode&lt;E&gt; curr = head;\n    if(size == 0){\n        return \"There is no one here to kill.\";         \n    }else{      \n        while (index &lt;this.size) {\n            str += curr.getData();  \n            curr = curr.getNext();\n            index++;\n                if (index&lt;this.size) {\n                    str += \", \";\n                }\n        }\n            str += \"]\";\n    }\n    return str;\n  } \n@Override\npublic Iterator&lt;E&gt; iterator() {\n\n    return new CircularDoubleIterator();\n}   \n// Iterator inner class begins\nprivate class CircularDoubleIterator implements ListIterator&lt;E&gt; {\n\n    private DoubleLinkedNode&lt;E&gt; nextItem;//reference to next item\n    private int index = 0;\n    private DoubleLinkedNode&lt;E&gt; lastReturned;// the last node to be returned by prev() or next()\n                                            // reset to null after a remove() or add()\n\n    @Override\n    public E next() {\n        if(!hasNext()){\n            throw new NoSuchElementException(\"No such element.\");\n        }\n        else{\n                            nextItem = head; //edited 11Sept13\n            lastReturned = nextItem.getNext();\n            nextItem = nextItem.getNext();\n                            head = nextItem; //edited 11Sept13\n            index++;\n            return lastReturned.getData();\n\n\n        }\n    }\n\n    @Override\n    public E previous() {\n        if(!hasPrevious()){\n            throw new NoSuchElementException(\"No such element.\");\n        }\n        else{       \n\n        index--;\n\n        return ;\n        }\n    }\n\n    @Override\n    public int nextIndex() {\n        return index;\n    }\n\n    @Override\n    public int previousIndex() {\n        return index-1;\n    }\n    @Override \n    public boolean hasNext() {  \n        return size != 0;\n    }\n\n    @Override\n    public boolean hasPrevious() {      \n        return size!= 0;\n    }\n    @Override\n    public void remove() {\n    }\n\n    @Override\n    public void set(E theData) {\n        if(lastReturned == null){\n            throw new IllegalStateException();\n        }\n        else{\n        }\n\n    }\n\n    @Override\n    public void add(E theData) {\n        if(size == 0){              \n        }\n        else if(size != 0){\n        }\n\n    }\n\n}\n\n//Iterator inner class ends\n}\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1364127199,"post_id":15598297,"comment_id":22118802,"body_markdown":"If you read the introduction of the javadoc, the cursor is placed between items.","body":"If you read the introduction of the javadoc, the cursor is placed between items."},{"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"score":0,"creation_date":1364127254,"post_id":15598297,"comment_id":22118819,"body_markdown":"@assylias I am aware of that, thanks a lot for reminding it though.","body":"@assylias I am aware of that, thanks a lot for reminding it though."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1364127397,"post_id":15598297,"comment_id":22118862,"body_markdown":"let&#39;s say you cursor is before n-th element, `next` will return `n` and place the cursor after the n-th element. If you call `previous`, it will return `n` again and place the cursor before the n-th element, etc. So your assumption *I guess that it&#39;s due that after iterator.next() the &quot;cursor&quot; goes in the next position automatically after having returned the current element?* is correct.","body":"let&#39;s say you cursor is before n-th element, <code>next</code> will return <code>n</code> and place the cursor after the n-th element. If you call <code>previous</code>, it will return <code>n</code> again and place the cursor before the n-th element, etc. So your assumption <i>I guess that it&#39;s due that after iterator.next() the &quot;cursor&quot; goes in the next position automatically after having returned the current element?</i> is correct."},{"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"score":0,"creation_date":1364127744,"post_id":15598297,"comment_id":22118948,"body_markdown":"@assylias thanks a lot for confirming it. cheers!","body":"@assylias thanks a lot for confirming it. cheers!"}],"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1436,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1684609523,"creation_date":1364127077,"question_id":15598297,"body_markdown":"So by reading this from http://docs.oracle.com/javase/6/docs/api/java/util/ListIterator.html#next%28%29\r\n\r\n   \r\n\r\n \r\n\r\n*emphasized text*\r\n&gt; E next()\r\n&gt; \r\n&gt;     Returns the next element in the list. This method may be called repeatedly\r\n\r\n&gt; previous to go back and forth. (**Note that alternating calls to next\r\n&gt; and previous will return the same element repeatedly**.)\r\n\r\nI understand what they mean with \r\n\r\n&gt; **Note that alternating calls to next\r\n&gt; and previous will return the same element repeatedly**\r\n\r\nHowever I haven&#39;t found in the javadoc how it happens. I guess that it&#39;s due that after `iterator.next()` the &quot;cursor&quot; goes in the next position automatically after having returned the current element? Might be? So in that case a call to `iterator.previous()` would just return the same element and set back the cursor to where it was prior to calling `iterator.next()`. \r\n\r\n ","title":"ListIterator next and previous. Detail","body":"<p>So by reading this from <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ListIterator.html#next%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/ListIterator.html#next%28%29</a></p>\n\n<p><em>emphasized text</em></p>\n\n<blockquote>\n  <p>E next()</p>\n\n<pre><code>Returns the next element in the list. This method may be called repeatedly\n</code></pre>\n  \n  <p>previous to go back and forth. (<strong>Note that alternating calls to next\n  and previous will return the same element repeatedly</strong>.)</p>\n</blockquote>\n\n<p>I understand what they mean with </p>\n\n<blockquote>\n  <p><strong>Note that alternating calls to next\n  and previous will return the same element repeatedly</strong></p>\n</blockquote>\n\n<p>However I haven't found in the javadoc how it happens. I guess that it's due that after <code>iterator.next()</code> the \"cursor\" goes in the next position automatically after having returned the current element? Might be? So in that case a call to <code>iterator.previous()</code> would just return the same element and set back the cursor to where it was prior to calling <code>iterator.next()</code>. </p>\n"},{"tags":["java","ldap","apache-camel"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1684655153,"post_id":76296920,"comment_id":134546370,"body_markdown":"You have to escape the &#39;=&#39; sign with &#39;%3D&#39; , otherwise Camel will use it as separator for the component params:\n&quot;ldap:ldapConnection?base=ou%3Dusers,dc%3Dexample,...&quot;","body":"You have to escape the &#39;=&#39; sign with &#39;%3D&#39; , otherwise Camel will use it as separator for the component params: &quot;ldap:ldapConnection?base=ou%3Dusers,dc%3Dexample,...&quot;"}],"owner":{"account_id":4727511,"reputation":39,"user_id":3823987,"display_name":"RahulRaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684609474,"creation_date":1684609474,"question_id":76296920,"body_markdown":"I&#39;m currently working on an Apache Camel project and I&#39;m having trouble using the LDAP component for query operations. I&#39;m using Apache Camel version 3.20.4 and the Spring Boot starter.\r\n\r\nI have followed the documentation and configured the LDAP component in my code.\r\nBut it is giving me an error as &quot;Caused by: javax.naming.directory.InvalidSearchFilterException: Empty filter; remaining name &#39;ou=users,dc=example,dc=com&#39;&quot;. \r\n\r\nFollowing are maven dependencies \r\n\r\n 1. apache-camel-core- version 3.20.4 \r\n 2. apache-camel-ldap -version 3.20.4\r\n\r\nFollowing is code which I am trying\r\n\r\n```\r\n    public void configure() throws Exception {\r\n        getContext().setAllowUseOriginalMessage(true);\r\n        DirContext dirContext = createLdapConnection();\r\n        getContext().getRegistry().bind(&quot;ldapConnection&quot;, dirContext);\r\n\r\n\r\n        from(&quot;direct:start&quot;)\r\n                .log(&quot;LDAP Component Started&quot;)\r\n                .to(&quot;ldap:ldapConnection?base=ou=users,dc=example,dc=com&amp;scope=subtree&quot;)\r\n                .process(exchange -&gt; {\r\n                    String result = exchange.getIn().getBody(String.class);\r\n                    System.out.println(result);\r\n                });\r\n    }\r\n    private static DirContext createLdapConnection() throws NamingException {\r\n        Hashtable&lt;String, Object&gt; env = new Hashtable&lt;&gt;();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        env.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\r\n        env.put(Context.URL_PKG_PREFIXES, &quot;com.sun.jndi.url&quot;);\r\n        env.put(Context.REFERRAL, &quot;ignore&quot;);\r\n        env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n        env.put(Context.SECURITY_PRINCIPAL, &quot;uid=admin,ou=system&quot;);\r\n        env.put(Context.SECURITY_CREDENTIALS, &quot;password&quot;);\r\n        return new InitialDirContext(env);\r\n    }\r\n```\r\n\r\nI tried another \r\n\r\n```\r\n.to(&quot;ldap:ldapConnection?base=ou=users,dc=example,dc=com&amp;filter=(objectClass=inetOrgPerson)&quot;)\r\n```\r\n\r\nCould anyone please guide me on how to properly use the Apache Camel LDAP component or Spring LDAP for query operations? Are there any additional configuration settings or considerations that I might be missing? Any help would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n","title":"Apache Camel Ldap filter Operation is not working","body":"<p>I'm currently working on an Apache Camel project and I'm having trouble using the LDAP component for query operations. I'm using Apache Camel version 3.20.4 and the Spring Boot starter.</p>\n<p>I have followed the documentation and configured the LDAP component in my code.\nBut it is giving me an error as &quot;Caused by: javax.naming.directory.InvalidSearchFilterException: Empty filter; remaining name 'ou=users,dc=example,dc=com'&quot;.</p>\n<p>Following are maven dependencies</p>\n<ol>\n<li>apache-camel-core- version 3.20.4</li>\n<li>apache-camel-ldap -version 3.20.4</li>\n</ol>\n<p>Following is code which I am trying</p>\n<pre><code>    public void configure() throws Exception {\n        getContext().setAllowUseOriginalMessage(true);\n        DirContext dirContext = createLdapConnection();\n        getContext().getRegistry().bind(&quot;ldapConnection&quot;, dirContext);\n\n\n        from(&quot;direct:start&quot;)\n                .log(&quot;LDAP Component Started&quot;)\n                .to(&quot;ldap:ldapConnection?base=ou=users,dc=example,dc=com&amp;scope=subtree&quot;)\n                .process(exchange -&gt; {\n                    String result = exchange.getIn().getBody(String.class);\n                    System.out.println(result);\n                });\n    }\n    private static DirContext createLdapConnection() throws NamingException {\n        Hashtable&lt;String, Object&gt; env = new Hashtable&lt;&gt;();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n        env.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\n        env.put(Context.URL_PKG_PREFIXES, &quot;com.sun.jndi.url&quot;);\n        env.put(Context.REFERRAL, &quot;ignore&quot;);\n        env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n        env.put(Context.SECURITY_PRINCIPAL, &quot;uid=admin,ou=system&quot;);\n        env.put(Context.SECURITY_CREDENTIALS, &quot;password&quot;);\n        return new InitialDirContext(env);\n    }\n</code></pre>\n<p>I tried another</p>\n<pre><code>.to(&quot;ldap:ldapConnection?base=ou=users,dc=example,dc=com&amp;filter=(objectClass=inetOrgPerson)&quot;)\n</code></pre>\n<p>Could anyone please guide me on how to properly use the Apache Camel LDAP component or Spring LDAP for query operations? Are there any additional configuration settings or considerations that I might be missing? Any help would be greatly appreciated.</p>\n"},{"tags":["java","vb.net","try-catch","resume"],"answers":[{"tags":[],"owner":{"account_id":2233778,"reputation":4231,"user_id":1970746,"accept_rate":100,"display_name":"clav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366333500,"creation_date":1366333500,"answer_id":16095618,"question_id":16095539,"body_markdown":"Just put the code that you want to run regardless of any error after the catch block.\r\n\r\n    try {\r\n        // stuff that could cause error\r\n    } catch(Exception e) {\r\n        // handle error\r\n    }\r\n\r\n    // do stuff\r\n\r\nIf you&#39;re going to throw an exception from the catch block but you still want the &quot;do stuff&quot; code to run, you can put it in a finally block like this:\r\n\r\n    try {\r\n        // stuff that could cause error\r\n    } catch(Exception e) {\r\n        // throw exception here\r\n    } finally {\r\n      // do stuff that will run even when the exception is thrown\r\n    }","title":"Is there a java equivalent of vb on error/ resume next pattern?","body":"<p>Just put the code that you want to run regardless of any error after the catch block.</p>\n\n<pre><code>try {\n    // stuff that could cause error\n} catch(Exception e) {\n    // handle error\n}\n\n// do stuff\n</code></pre>\n\n<p>If you're going to throw an exception from the catch block but you still want the \"do stuff\" code to run, you can put it in a finally block like this:</p>\n\n<pre><code>try {\n    // stuff that could cause error\n} catch(Exception e) {\n    // throw exception here\n} finally {\n  // do stuff that will run even when the exception is thrown\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4907029,"reputation":1,"user_id":3953483,"display_name":"jad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408381654,"creation_date":1408379949,"answer_id":25368066,"question_id":16095539,"body_markdown":"There is no equivalent in Java, to VB resume statements; in VB depending on the error case, you can choose to resume at a particular label within your code, in order to re-run the code after fixing the error, similar to a goto statement; this is not possible in java, except when you&#39;re inside a loop, then you can use the continue to a defined label block.","title":"Is there a java equivalent of vb on error/ resume next pattern?","body":"<p>There is no equivalent in Java, to VB resume statements; in VB depending on the error case, you can choose to resume at a particular label within your code, in order to re-run the code after fixing the error, similar to a goto statement; this is not possible in java, except when you're inside a loop, then you can use the continue to a defined label block.</p>\n"}],"owner":{"account_id":1870907,"reputation":19164,"user_id":2079345,"accept_rate":72,"display_name":"chiliNUT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5037,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1684609466,"creation_date":1366332999,"question_id":16095539,"body_markdown":"In VB, for error catching there is \r\n\r\n    Public Sub MySub()\r\n        On Error GoTo Errr\r\n        &#39;do stuff\r\n    Errr:\r\n        &#39;handle error\r\n        Resume Next\r\n    End Sub\r\n\r\nwhich uses the magnificent Resume Next command. \r\n\r\nIn Java, you have a try catch block\r\n\r\n    try \r\n    {\r\n    //some code\r\n    }\r\n    catch (Exception e)\r\n    {\r\n    //handle error\r\n    }\r\n\r\nwhich seems to be equivalent to the VB error catching, but specifically without the Resume Next option, so Java just quits the entire code block after the error, instead of trying to run the rest of the code after the error. Is there any way to get the power of Resume Next in Java? Thanks!","title":"Is there a java equivalent of vb on error/ resume next pattern?","body":"<p>In VB, for error catching there is </p>\n\n<pre><code>Public Sub MySub()\n    On Error GoTo Errr\n    'do stuff\nErrr:\n    'handle error\n    Resume Next\nEnd Sub\n</code></pre>\n\n<p>which uses the magnificent Resume Next command. </p>\n\n<p>In Java, you have a try catch block</p>\n\n<pre><code>try \n{\n//some code\n}\ncatch (Exception e)\n{\n//handle error\n}\n</code></pre>\n\n<p>which seems to be equivalent to the VB error catching, but specifically without the Resume Next option, so Java just quits the entire code block after the error, instead of trying to run the rest of the code after the error. Is there any way to get the power of Resume Next in Java? Thanks!</p>\n"},{"tags":["java","bouncycastle","public-key","ecdsa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684504354,"post_id":76289621,"comment_id":134531147,"body_markdown":"What kind of compression is that? It doesn&#39;t seem to be gzip","body":"What kind of compression is that? It doesn&#39;t seem to be gzip"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684522735,"creation_date":1684511807,"answer_id":76290700,"question_id":76289621,"body_markdown":"One option is BouncyCastle and the following implementation:\r\n\r\n```java\r\nimport java.io.StringWriter;\r\nimport java.util.HexFormat;\r\nimport org.bouncycastle.asn1.x9.X9ObjectIdentifiers;\r\nimport org.bouncycastle.util.io.pem.PemObject;\r\nimport org.bouncycastle.util.io.pem.PemWriter;\r\nimport org.bouncycastle.asn1.sec.SECObjectIdentifiers;\r\nimport org.bouncycastle.asn1.x509.AlgorithmIdentifier;\r\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\n...\r\nbyte[] compressedKey = HexFormat.of().parseHex(&quot;03CD26952CFFB40A3C2B7E41BE80F02F8A21BA73958ED22276CC28D7BBAA1AA07A&quot;);\r\nAlgorithmIdentifier algId = new AlgorithmIdentifier(X9ObjectIdentifiers.id_ecPublicKey, SECObjectIdentifiers.secp256k1);\r\nSubjectPublicKeyInfo subjectPublicKeyInfo = new SubjectPublicKeyInfo(algId, compressedKey);\r\nStringWriter sw = new StringWriter(); \r\ntry (PemWriter pw = new PemWriter(sw)) {\r\n\tpw.writeObject (new PemObject (&quot;PUBLIC KEY&quot;, subjectPublicKeyInfo.getEncoded(&quot;DER&quot;)));  \r\n}\r\nSystem.out.println(sw.toString());\r\n```\r\n\r\nThis results e.g. for the compressed key:\r\n\r\n```none\r\n0252972572d465d016d4c501887b8df303eee3ed602c056b1eb09260dfa0da0ab2\r\n```\r\n\r\nin the following X.509/SPKI PEM key: \r\n\r\n```none\r\n-----BEGIN PUBLIC KEY-----\r\nMDYwEAYHKoZIzj0CAQYFK4EEAAoDIgACUpclctRl0BbUxQGIe43zA+7j7WAsBWse\r\nsJJg36DaCrI=\r\n-----END PUBLIC KEY-----\r\n```\r\n\r\nThe PEM key can be loaded with an ASN.1 parser, e.g. https://lapo.it/asn1js/. The encapsulated key corresponds to the compressed key.\r\n\r\n-----------\r\n\r\nNote that the import of an X.509/SPKI EC key with a compressed key is not always supported (e.g. JCA/JCE: *Invalid EC key / Only uncompressed point format supported*):\r\n\r\n```java\r\nSecurity.addProvider(new BouncyCastleProvider()); // Commenting out causes an exception: Invalid EC key / Only uncompressed point format supported\r\nString spkiDerWithCompressed = &quot;MDYwEAYHKoZIzj0CAQYFK4EEAAoDIgADzSaVLP+0CjwrfkG+gPAviiG6c5WO0iJ2zCjXu6oaoHo=&quot;;\r\nKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\nX509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(Base64.getDecoder().decode(spkiDerWithCompressed));\r\nPublicKey publicKey = (ECPublicKey) kf.generatePublic(keySpecX509);\r\nString spkiDerWithUncompressed = Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\nSystem.out.println(spkiDerWithUncompressed); // MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEzSaVLP+0CjwrfkG+gPAviiG6c5WO0iJ2zCjXu6oaoHr7WDbGHaR3hDq6+PtVm4+G5gWiYCWrh3fxe4ahjeW3Sw==\r\n``` \r\n\r\n-----------\r\n\r\nFor completeness: A conversion of the compressed key into an uncompressed key is possible with BouncyCastle, e.g.:\r\n\r\n```java\r\nimport org.bouncycastle.asn1.x9.X9ECParameters;\r\nimport org.bouncycastle.asn1.x9.ECNamedCurveTable;\r\nimport org.bouncycastle.math.ec.ECPoint;\r\n...\t    \r\nbyte[] compressedKey = HexFormat.of().parseHex(&quot;0252972572d465d016d4c501887b8df303eee3ed602c056b1eb09260dfa0da0ab2&quot;);\r\nX9ECParameters x9Params = ECNamedCurveTable.getByName(&quot;secp256k1&quot;);\r\nECPoint ecpoint = x9Params.getCurve().decodePoint(compressedKey);\r\nbyte[] uncompressedKey = ecpoint.getEncoded(false);\r\n```\r\n\r\nAn X.509/SPKI PEM key encapsulating the uncompressed key can be generated using the same code that was used for the compressed key.","title":"ECDSA public key compressed to pem format java","body":"<p>One option is BouncyCastle and the following implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.StringWriter;\nimport java.util.HexFormat;\nimport org.bouncycastle.asn1.x9.X9ObjectIdentifiers;\nimport org.bouncycastle.util.io.pem.PemObject;\nimport org.bouncycastle.util.io.pem.PemWriter;\nimport org.bouncycastle.asn1.sec.SECObjectIdentifiers;\nimport org.bouncycastle.asn1.x509.AlgorithmIdentifier;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\n...\nbyte[] compressedKey = HexFormat.of().parseHex(&quot;03CD26952CFFB40A3C2B7E41BE80F02F8A21BA73958ED22276CC28D7BBAA1AA07A&quot;);\nAlgorithmIdentifier algId = new AlgorithmIdentifier(X9ObjectIdentifiers.id_ecPublicKey, SECObjectIdentifiers.secp256k1);\nSubjectPublicKeyInfo subjectPublicKeyInfo = new SubjectPublicKeyInfo(algId, compressedKey);\nStringWriter sw = new StringWriter(); \ntry (PemWriter pw = new PemWriter(sw)) {\n    pw.writeObject (new PemObject (&quot;PUBLIC KEY&quot;, subjectPublicKeyInfo.getEncoded(&quot;DER&quot;)));  \n}\nSystem.out.println(sw.toString());\n</code></pre>\n<p>This results e.g. for the compressed key:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0252972572d465d016d4c501887b8df303eee3ed602c056b1eb09260dfa0da0ab2\n</code></pre>\n<p>in the following X.509/SPKI PEM key:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-----BEGIN PUBLIC KEY-----\nMDYwEAYHKoZIzj0CAQYFK4EEAAoDIgACUpclctRl0BbUxQGIe43zA+7j7WAsBWse\nsJJg36DaCrI=\n-----END PUBLIC KEY-----\n</code></pre>\n<p>The PEM key can be loaded with an ASN.1 parser, e.g. <a href=\"https://lapo.it/asn1js/\" rel=\"nofollow noreferrer\">https://lapo.it/asn1js/</a>. The encapsulated key corresponds to the compressed key.</p>\n<hr />\n<p>Note that the import of an X.509/SPKI EC key with a compressed key is not always supported (e.g. JCA/JCE: <em>Invalid EC key / Only uncompressed point format supported</em>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Security.addProvider(new BouncyCastleProvider()); // Commenting out causes an exception: Invalid EC key / Only uncompressed point format supported\nString spkiDerWithCompressed = &quot;MDYwEAYHKoZIzj0CAQYFK4EEAAoDIgADzSaVLP+0CjwrfkG+gPAviiG6c5WO0iJ2zCjXu6oaoHo=&quot;;\nKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\nX509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(Base64.getDecoder().decode(spkiDerWithCompressed));\nPublicKey publicKey = (ECPublicKey) kf.generatePublic(keySpecX509);\nString spkiDerWithUncompressed = Base64.getEncoder().encodeToString(publicKey.getEncoded());\nSystem.out.println(spkiDerWithUncompressed); // MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEzSaVLP+0CjwrfkG+gPAviiG6c5WO0iJ2zCjXu6oaoHr7WDbGHaR3hDq6+PtVm4+G5gWiYCWrh3fxe4ahjeW3Sw==\n</code></pre>\n<hr />\n<p>For completeness: A conversion of the compressed key into an uncompressed key is possible with BouncyCastle, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.asn1.x9.X9ECParameters;\nimport org.bouncycastle.asn1.x9.ECNamedCurveTable;\nimport org.bouncycastle.math.ec.ECPoint;\n...     \nbyte[] compressedKey = HexFormat.of().parseHex(&quot;0252972572d465d016d4c501887b8df303eee3ed602c056b1eb09260dfa0da0ab2&quot;);\nX9ECParameters x9Params = ECNamedCurveTable.getByName(&quot;secp256k1&quot;);\nECPoint ecpoint = x9Params.getCurve().decodePoint(compressedKey);\nbyte[] uncompressedKey = ecpoint.getEncoded(false);\n</code></pre>\n<p>An X.509/SPKI PEM key encapsulating the uncompressed key can be generated using the same code that was used for the compressed key.</p>\n"}],"owner":{"account_id":9091005,"reputation":153,"user_id":6766897,"display_name":"menakshisundaram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76290700,"answer_count":1,"score":0,"last_activity_date":1684608923,"creation_date":1684503414,"question_id":76289621,"body_markdown":"I have compressed public keys for `ECDSA` for curve `secp256k1`\r\n\r\n&gt; 0252972572d465d016d4c501887b8df303eee3ed602c056b1eb09260dfa0da0ab2\r\n&gt; 0318ed2e1ec629e2d3dae7be1103d4f911c24e0c80e70038f5eb5548245c475f50\r\n\r\nI need to convert these to pem format in same compressed way using java. I tried to write pem format using `SubjectPublicKeyInfo`. But it is not giving me expected results.","title":"ECDSA public key compressed to pem format java","body":"<p>I have compressed public keys for <code>ECDSA</code> for curve <code>secp256k1</code></p>\n<blockquote>\n<p>0252972572d465d016d4c501887b8df303eee3ed602c056b1eb09260dfa0da0ab2\n0318ed2e1ec629e2d3dae7be1103d4f911c24e0c80e70038f5eb5548245c475f50</p>\n</blockquote>\n<p>I need to convert these to pem format in same compressed way using java. I tried to write pem format using <code>SubjectPublicKeyInfo</code>. But it is not giving me expected results.</p>\n"},{"tags":["java","tcp","netty","ioexception"],"comments":[{"owner":{"account_id":986933,"reputation":2958,"user_id":1005206,"accept_rate":91,"display_name":"andreapier"},"score":8,"creation_date":1325088073,"post_id":8658118,"comment_id":10757920,"body_markdown":"I guess the wizard of the coast casted a spella gainst you so every single io operation you do will fail. Provide the code which cause the exception otherwise we will not be abel to help you","body":"I guess the wizard of the coast casted a spella gainst you so every single io operation you do will fail. Provide the code which cause the exception otherwise we will not be abel to help you"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1325088099,"post_id":8658118,"comment_id":10757925,"body_markdown":"Well, the client has rejected/closed the connection. You&#39;d need the client logs to see what was the cause.","body":"Well, the client has rejected/closed the connection. You&#39;d need the client logs to see what was the cause."},{"owner":{"account_id":159405,"reputation":1125,"user_id":378737,"accept_rate":100,"display_name":"WorM"},"score":1,"creation_date":1325088460,"post_id":8658118,"comment_id":10758037,"body_markdown":"@andreapier since, this exception seems to be network related, I can not provide the source code. thanks for the answer (and the joke) though","body":"@andreapier since, this exception seems to be network related, I can not provide the source code. thanks for the answer (and the joke) though"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1325088022,"creation_date":1325088022,"answer_id":8658179,"question_id":8658118,"body_markdown":"&gt; java.io.IOException: Connection reset by peer\r\n\r\nThe other side has abruptly aborted the connection in midst of a transaction. That can have many causes which are not controllable from the server side on. E.g. the enduser decided to shutdown the client or change the server abruptly while still interacting with your server, or the client program has crashed, or the enduser&#39;s internet connection went down, or the enduser&#39;s machine crashed, etc, etc.","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<blockquote>\n  <p>java.io.IOException: Connection reset by peer</p>\n</blockquote>\n\n<p>The other side has abruptly aborted the connection in midst of a transaction. That can have many causes which are not controllable from the server side on. E.g. the enduser decided to shutdown the client or change the server abruptly while still interacting with your server, or the client program has crashed, or the enduser's internet connection went down, or the enduser's machine crashed, etc, etc.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1562656045,"creation_date":1325148945,"answer_id":8665730,"question_id":8658118,"body_markdown":"To expand on BalusC&#39;s answer, any scenario where the sender continues to write after the peer has stopped reading and closed its socket will produce this exception, as will the peer closing while it still had unread data in its own socket receive buffer. In other words, an application protocol error. For example, if you write something to the peer that the peer doesn&#39;t understand, and then it closes its socket in protest, and you then continue to write, the peer&#39;s TCP stack will issue an RST, which results in this exception and message at the sender.","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<p>To expand on BalusC's answer, any scenario where the sender continues to write after the peer has stopped reading and closed its socket will produce this exception, as will the peer closing while it still had unread data in its own socket receive buffer. In other words, an application protocol error. For example, if you write something to the peer that the peer doesn't understand, and then it closes its socket in protest, and you then continue to write, the peer's TCP stack will issue an RST, which results in this exception and message at the sender.</p>\n"},{"tags":[],"owner":{"account_id":438803,"reputation":1501,"user_id":827310,"accept_rate":67,"display_name":"Ngoc Dao"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1684608828,"creation_date":1325261121,"answer_id":8681400,"question_id":8658118,"body_markdown":"java.io.IOException in Netty means your game server tries to send data to a client, but that client has closed connection to your server.\r\n\r\nAnd that exception is not the only one! There&#39;re several others. See [BadClientSilencer][1] in Xitrum. I had to add that to prevent those errors from messing my log file.\r\n\r\n  [1]: https://github.com/xitrum-framework/xitrum/blob/master/src/main/scala/xitrum/handler/inbound/BadClientSilencer.scala","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<p>java.io.IOException in Netty means your game server tries to send data to a client, but that client has closed connection to your server.</p>\n<p>And that exception is not the only one! There're several others. See <a href=\"https://github.com/xitrum-framework/xitrum/blob/master/src/main/scala/xitrum/handler/inbound/BadClientSilencer.scala\" rel=\"nofollow noreferrer\">BadClientSilencer</a> in Xitrum. I had to add that to prevent those errors from messing my log file.</p>\n"},{"tags":[],"owner":{"account_id":5583275,"reputation":61,"user_id":4424541,"display_name":"Appz"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1424517118,"creation_date":1424517118,"answer_id":28645076,"question_id":8658118,"body_markdown":"For me useful code witch help me was http://rox-xmlrpc.sourceforge.net/niotut/src/NioServer.java\r\n\r\n// The remote forcibly closed the connection, cancel\r\n\r\n// the selection key and close the channel.\r\n\r\n\r\n\r\n        private void read(SelectionKey key) throws IOException {\r\n        \t\tSocketChannel socketChannel = (SocketChannel) key.channel();\r\n        \r\n        \t\t// Clear out our read buffer so it&#39;s ready for new data\r\n        \t\tthis.readBuffer.clear();\r\n        \r\n        \t\t// Attempt to read off the channel\r\n        \t\tint numRead;\r\n        \t\ttry {\r\n        \t\t\tnumRead = socketChannel.read(this.readBuffer);\r\n        \t\t} catch (IOException e) {\r\n        \t\t\t// The remote forcibly closed the connection, cancel\r\n        \t\t\t// the selection key and close the channel.\r\n        \t\t\tkey.cancel();\r\n        \t\t\tsocketChannel.close();\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \r\n        \t\tif (numRead == -1) {\r\n        \t\t\t// Remote entity shut the socket down cleanly. Do the\r\n        \t\t\t// same from our end and cancel the channel.\r\n        \t\t\tkey.channel().close();\r\n        \t\t\tkey.cancel();\r\n        \t\t\treturn;\r\n        \t\t}\r\n    ...\r\n","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<p>For me useful code witch help me was <a href=\"http://rox-xmlrpc.sourceforge.net/niotut/src/NioServer.java\" rel=\"nofollow\">http://rox-xmlrpc.sourceforge.net/niotut/src/NioServer.java</a></p>\n\n<p>// The remote forcibly closed the connection, cancel</p>\n\n<p>// the selection key and close the channel.</p>\n\n<pre><code>    private void read(SelectionKey key) throws IOException {\n            SocketChannel socketChannel = (SocketChannel) key.channel();\n\n            // Clear out our read buffer so it's ready for new data\n            this.readBuffer.clear();\n\n            // Attempt to read off the channel\n            int numRead;\n            try {\n                numRead = socketChannel.read(this.readBuffer);\n            } catch (IOException e) {\n                // The remote forcibly closed the connection, cancel\n                // the selection key and close the channel.\n                key.cancel();\n                socketChannel.close();\n                return;\n            }\n\n            if (numRead == -1) {\n                // Remote entity shut the socket down cleanly. Do the\n                // same from our end and cancel the channel.\n                key.channel().close();\n                key.cancel();\n                return;\n            }\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6747989,"reputation":111,"user_id":5198984,"display_name":"Vimalkumar Natarajan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1441979824,"creation_date":1441979824,"answer_id":32525238,"question_id":8658118,"body_markdown":"There are lot of factors , first see whether server returns the result, then check between server and client.\r\n\r\nrectify them from server side first,then check the writing condition between server and client ! \r\n\r\nserver side rectify the time outs between the datalayer and server \r\nfrom client side rectify the time out and number of available connections ! \r\n\r\n","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<p>There are lot of factors , first see whether server returns the result, then check between server and client.</p>\n\n<p>rectify them from server side first,then check the writing condition between server and client ! </p>\n\n<p>server side rectify the time outs between the datalayer and server \nfrom client side rectify the time out and number of available connections ! </p>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547642044,"creation_date":1547642044,"answer_id":54217193,"question_id":8658118,"body_markdown":"&gt; java.io.IOException: Connection reset by peer\r\n\r\nIn my case, the problem was with PUT requests (GET and POST were passing successfully).\r\n\r\nCommunication went through VPN tunnel and ssh connection. And there was a firewall with default restrictions on PUT requests... PUT requests haven&#39;t been passing throughout, to the server... \r\n\r\nProblem was solved after exception was added to the firewall for my IP address.\r\n","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<blockquote>\n  <p>java.io.IOException: Connection reset by peer</p>\n</blockquote>\n\n<p>In my case, the problem was with PUT requests (GET and POST were passing successfully).</p>\n\n<p>Communication went through VPN tunnel and ssh connection. And there was a firewall with default restrictions on PUT requests... PUT requests haven't been passing throughout, to the server... </p>\n\n<p>Problem was solved after exception was added to the firewall for my IP address.</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1603996531,"creation_date":1603996531,"answer_id":64597246,"question_id":8658118,"body_markdown":"It can also mean that the server is completely inaccessible - I was getting this when trying to hit a server that was offline \r\n\r\nMy client was configured to connect to localhost:3000, but no server was running on that port.","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<p>It can also mean that the server is completely inaccessible - I was getting this when trying to hit a server that was offline</p>\n<p>My client was configured to connect to localhost:3000, but no server was running on that port.</p>\n"},{"tags":[],"owner":{"account_id":11181593,"reputation":1128,"user_id":8205497,"display_name":"Jason Landbridge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684580798,"creation_date":1684580798,"answer_id":76294881,"question_id":8658118,"body_markdown":"If this happens when using Rider, when building a Docker container. Make sure all you changes are pushed to git, delete your local repo and clone everything again to start from a fresh state. This might have to do with file permissions being messed up but this fixed it immediately for me","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<p>If this happens when using Rider, when building a Docker container. Make sure all you changes are pushed to git, delete your local repo and clone everything again to start from a fresh state. This might have to do with file permissions being messed up but this fixed it immediately for me</p>\n"}],"owner":{"account_id":159405,"reputation":1125,"user_id":378737,"accept_rate":100,"display_name":"WorM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270103,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":8658179,"answer_count":8,"score":86,"last_activity_date":1684608828,"creation_date":1325087764,"question_id":8658118,"body_markdown":"    ERROR GServerHandler  - java.io.IOException: Connection reset by peer\r\n    java.io.IOException: Connection reset by peer\r\n            at sun.nio.ch.FileDispatcher.read0(Native Method)\r\n            at sun.nio.ch.SocketDispatcher.read(Unknown Source)\r\n            at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)\r\n            at sun.nio.ch.IOUtil.read(Unknown Source)\r\n            at sun.nio.ch.SocketChannelImpl.read(Unknown Source)\r\n            at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:323)\r\n            at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\r\n            at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:202)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.lang.Thread.run(Unknown Source)\r\n\r\nThis log is from a game server implemented using netty. What can cause this exception ? ","title":"When is &quot;java.io.IOException:Connection reset by peer&quot; thrown?","body":"<pre><code>ERROR GServerHandler  - java.io.IOException: Connection reset by peer\njava.io.IOException: Connection reset by peer\n        at sun.nio.ch.FileDispatcher.read0(Native Method)\n        at sun.nio.ch.SocketDispatcher.read(Unknown Source)\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)\n        at sun.nio.ch.IOUtil.read(Unknown Source)\n        at sun.nio.ch.SocketChannelImpl.read(Unknown Source)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:323)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:202)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>This log is from a game server implemented using netty. What can cause this exception ? </p>\n"},{"tags":["java","jakarta-ee","annotations","unmarshalling"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1682960855,"post_id":76148682,"comment_id":134290888,"body_markdown":"This seems like a not great idea to use annotations.  Can you tell us your goal?  What will you use this annotation for?","body":"This seems like a not great idea to use annotations.  Can you tell us your goal?  What will you use this annotation for?"},{"owner":{"account_id":16113213,"reputation":68,"user_id":11630974,"display_name":"Silverlight777"},"score":0,"creation_date":1682961487,"post_id":76148682,"comment_id":134291003,"body_markdown":"This annotation is inside jakarta xml bind (so can&#39;t be changed) and the ultimate goal is to get rid of the copy-paste","body":"This annotation is inside jakarta xml bind (so can&#39;t be changed) and the ultimate goal is to get rid of the copy-paste"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682960814,"creation_date":1682960814,"answer_id":76148740,"question_id":76148682,"body_markdown":"An annotation can take a list of arguments.  However the arguments are not dynamic and can&#39;t be added to or changed once defined\r\n\r\n    @interface ClassInfo{\r\n       // Note use of array\r\n       String[] myList();\r\n    }\r\n    \r\n    @ClassInfo( myList = {&quot;Larry&quot;, &quot;Moe&quot;, &quot;Curly&quot;} )\r\n    public class MyClass {}\r\n\r\nThat list is static, you&#39;d have to define subtypes of `MyClass` (or something) to make a different `myList` on each sub-type.\r\n","title":"How to compose multiple annotations for reuse if they don&#39;t have @Target({ElementType.ANNOTATION_TYPE})","body":"<p>An annotation can take a list of arguments.  However the arguments are not dynamic and can't be added to or changed once defined</p>\n<pre><code>@interface ClassInfo{\n   // Note use of array\n   String[] myList();\n}\n\n@ClassInfo( myList = {&quot;Larry&quot;, &quot;Moe&quot;, &quot;Curly&quot;} )\npublic class MyClass {}\n</code></pre>\n<p>That list is static, you'd have to define subtypes of <code>MyClass</code> (or something) to make a different <code>myList</code> on each sub-type.</p>\n"}],"owner":{"account_id":16113213,"reputation":68,"user_id":11630974,"display_name":"Silverlight777"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684608338,"creation_date":1682960229,"question_id":76148682,"body_markdown":"I would like to reuse a bunch of the same annotations multiple times. But I can&#39;t just create another annotation by applying them because they lack `@Target({ElementType.ANNOTATION_TYPE})`.\r\nThis annotation is inside Jakarta XML Binding (so can&#39;t be changed) and the goal is to get rid of the copy-paste. \r\n\r\nI have an `operand`\r\n```java\r\n@XmlElements({\r\n        @XmlElement(name = &quot;element1&quot;, type = Element1.class),\r\n        @XmlElement(name = &quot;element2&quot;, type = Element2.class),\r\n        @XmlElement(name = &quot;element3&quot;, type = Element3.class)\r\n})\r\nprivate MyOperand operand;\r\n```\r\nbut another class has the same annotation on that field\r\n```java\r\n@XmlElements({\r\n        @XmlElement(name = &quot;element1&quot;, type = Element1.class),\r\n        @XmlElement(name = &quot;element2&quot;, type = Element2.class),\r\n        @XmlElement(name = &quot;element3&quot;, type = Element3.class)\r\n})\r\nprivate List&lt;MyOperand&gt; operands;\r\n```\r\n\r\nI made a base class with that field and annotations for at least two classes which both have `List&lt;MyOperand&gt;`.\r\n\r\nWhat is a better way?\r\n","title":"How to compose multiple annotations for reuse if they don&#39;t have @Target({ElementType.ANNOTATION_TYPE})","body":"<p>I would like to reuse a bunch of the same annotations multiple times. But I can't just create another annotation by applying them because they lack <code>@Target({ElementType.ANNOTATION_TYPE})</code>.\nThis annotation is inside Jakarta XML Binding (so can't be changed) and the goal is to get rid of the copy-paste.</p>\n<p>I have an <code>operand</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlElements({\n        @XmlElement(name = &quot;element1&quot;, type = Element1.class),\n        @XmlElement(name = &quot;element2&quot;, type = Element2.class),\n        @XmlElement(name = &quot;element3&quot;, type = Element3.class)\n})\nprivate MyOperand operand;\n</code></pre>\n<p>but another class has the same annotation on that field</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlElements({\n        @XmlElement(name = &quot;element1&quot;, type = Element1.class),\n        @XmlElement(name = &quot;element2&quot;, type = Element2.class),\n        @XmlElement(name = &quot;element3&quot;, type = Element3.class)\n})\nprivate List&lt;MyOperand&gt; operands;\n</code></pre>\n<p>I made a base class with that field and annotations for at least two classes which both have <code>List&lt;MyOperand&gt;</code>.</p>\n<p>What is a better way?</p>\n"},{"tags":["java","iterator","nodes"],"comments":[{"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"score":0,"creation_date":1446740950,"post_id":33549725,"comment_id":54879273,"body_markdown":"What is the code of nextInorder method ?","body":"What is the code of nextInorder method ?"},{"owner":{"account_id":6278362,"reputation":79,"user_id":4880320,"accept_rate":100,"display_name":"ssandoy"},"score":0,"creation_date":1446741182,"post_id":33549725,"comment_id":54879403,"body_markdown":"private static &lt;T&gt; Node&lt;T&gt; nextInorder(Node&lt;T&gt; p)\n  {\n      if(p.right != null) \n      {\n          p = p.right;\n          while(p.left != null)\n          {\n              p = p.left;\n          }\n          return p;\n      }\n      while(p != null)\n      {\n          if(p.parent != null &amp;&amp; p.parent.venstre == p)\n          {\n              return p.parent;\n          }\n           p = p.parent;\n      }\n      return p;\n  }","body":"private static &lt;T&gt; Node&lt;T&gt; nextInorder(Node&lt;T&gt; p)   {       if(p.right != null)        {           p = p.right;           while(p.left != null)           {               p = p.left;           }           return p;       }       while(p != null)       {           if(p.parent != null &amp;&amp; p.parent.venstre == p)           {               return p.parent;           }            p = p.parent;       }       return p;   }"}],"owner":{"account_id":6278362,"reputation":79,"user_id":4880320,"accept_rate":100,"display_name":"ssandoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684607991,"creation_date":1446740591,"question_id":33549725,"body_markdown":"I have some problems when it comes to the next()-method in my LeafNodeIterator-class. \r\nFirst of all a leaf node is a node with **no children** in a binary search tree.(Not sure if leafnode is the right english word for it...)\r\n\r\nIn the constructor I&#39;ve moved my pointer *p* to the first leafnode using this method:\r\n\r\n\r\n \r\n\r\n      private BladnodeIterator()  // constructor\r\n    {\r\n      if(root == null) return;\r\n      firstleafnode(root);\r\n    }\r\n    \r\n    private void firstleafnode(Node&lt;T&gt; p)\r\n    {\r\n        while(p != null)\r\n        {\r\n            if(p.left == null &amp;&amp; p.right == null)\r\n                return;\r\n            \r\n            p = nextInorder(p);\r\n        }\r\n    }\r\n\r\n\r\n    The &quot;nextInorder(p)&quot;-method just moves p to the next Node in Inorder-order.\r\n\r\nMy question when it comes to the next()-method, which is supposed to return a leafnode-value, and move p to the next leafnode(or null if there are no more leafnodes), is how to code it? Either way I try it I end up doing it wrong. \r\n\r\nMy apologies if the question or code is unclear.\r\n\r\nEDIT:\r\nThe code for the nextinorder-method:\r\n\r\n        private static &lt;T&gt; Node&lt;T&gt; nextInorder(Node&lt;T&gt; p)\r\n      {\r\n          if(p.right != null) \r\n          {\r\n              p = p.right;\r\n              while(p.left != null)\r\n              {\r\n                  p = p.left;\r\n              }\r\n              return p;\r\n          }\r\n          while(p != null)\r\n          {\r\n              if(p.parent != null &amp;&amp; p.parent.left == p)\r\n              {\r\n                  return p.parent;\r\n              }\r\n               p = p.parent;\r\n          }\r\n          return p;\r\n      }","title":"Getting the next leafnode in a binary search tree using an iterator","body":"<p>I have some problems when it comes to the next()-method in my LeafNodeIterator-class. \nFirst of all a leaf node is a node with <strong>no children</strong> in a binary search tree.(Not sure if leafnode is the right english word for it...)</p>\n\n<p>In the constructor I've moved my pointer <em>p</em> to the first leafnode using this method:</p>\n\n<pre><code>  private BladnodeIterator()  // constructor\n{\n  if(root == null) return;\n  firstleafnode(root);\n}\n\nprivate void firstleafnode(Node&lt;T&gt; p)\n{\n    while(p != null)\n    {\n        if(p.left == null &amp;&amp; p.right == null)\n            return;\n\n        p = nextInorder(p);\n    }\n}\n\n\nThe \"nextInorder(p)\"-method just moves p to the next Node in Inorder-order.\n</code></pre>\n\n<p>My question when it comes to the next()-method, which is supposed to return a leafnode-value, and move p to the next leafnode(or null if there are no more leafnodes), is how to code it? Either way I try it I end up doing it wrong. </p>\n\n<p>My apologies if the question or code is unclear.</p>\n\n<p>EDIT:\nThe code for the nextinorder-method:</p>\n\n<pre><code>    private static &lt;T&gt; Node&lt;T&gt; nextInorder(Node&lt;T&gt; p)\n  {\n      if(p.right != null) \n      {\n          p = p.right;\n          while(p.left != null)\n          {\n              p = p.left;\n          }\n          return p;\n      }\n      while(p != null)\n      {\n          if(p.parent != null &amp;&amp; p.parent.left == p)\n          {\n              return p.parent;\n          }\n           p = p.parent;\n      }\n      return p;\n  }\n</code></pre>\n"},{"tags":["java","java.util.scanner","whitespace"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1350785576,"post_id":12994342,"comment_id":17628133,"body_markdown":"Are you reading the data from a file or user input?","body":"Are you reading the data from a file or user input?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1350787509,"post_id":12994342,"comment_id":17628383,"body_markdown":"Exactly. The function of a scanner is to deliver you tokens and *ignore* the white space. If you need to process every character, you can&#39;t use an input mechanism that doesn&#39;t give them all to you. It sounds like you need to write yourself a fully fledged scanner of your own as in a hand-written compiler scanner. More details about your problem as opposed to the non-working solution will yield better answers.","body":"Exactly. The function of a scanner is to deliver you tokens and <i>ignore</i> the white space. If you need to process every character, you can&#39;t use an input mechanism that doesn&#39;t give them all to you. It sounds like you need to write yourself a fully fledged scanner of your own as in a hand-written compiler scanner. More details about your problem as opposed to the non-working solution will yield better answers."},{"owner":{"account_id":1855216,"reputation":25463,"user_id":1680957,"accept_rate":66,"display_name":"Aniket Inge"},"score":0,"creation_date":1350796222,"post_id":12994342,"comment_id":17629441,"body_markdown":"The function of a scanner is to deliver you tokens and IGNORE the delimiter(which is by default `space`).","body":"The function of a scanner is to deliver you tokens and IGNORE the delimiter(which is by default <code>space</code>)."},{"owner":{"account_id":1960808,"reputation":593,"user_id":1762453,"accept_rate":85,"display_name":"Codefun64"},"score":0,"creation_date":1350806916,"post_id":12994342,"comment_id":17630771,"body_markdown":"Updated with more info on my main task.","body":"Updated with more info on my main task."}],"answers":[{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498593217,"creation_date":1350795965,"answer_id":12995147,"question_id":12994342,"body_markdown":"Use a `BufferedReader` to read a line of input, then iterate the string in a `for` loop, working with each `char`.&lt;br&gt;\r\nYou can check whether a character is a whitespace by `Character.isWhitespace(char c)`.","title":"How to read whitespace with scanner.next()","body":"<p>Use a <code>BufferedReader</code> to read a line of input, then iterate the string in a <code>for</code> loop, working with each <code>char</code>.<br>\nYou can check whether a character is a whitespace by <code>Character.isWhitespace(char c)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1855216,"reputation":25463,"user_id":1680957,"accept_rate":66,"display_name":"Aniket Inge"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1350796530,"creation_date":1350796530,"answer_id":12995195,"question_id":12994342,"body_markdown":"    Scanner scanner = new Scanner(file).useDelimiter(&quot;&#39;&quot;)\r\n\r\nBut this is highly inefficient. The better way forward would be: to read character by character:\r\n\r\n    private static void readCharacters(Reader reader)\r\n            throws IOException {\r\n        int r;\r\n        while ((r = reader.read()) != -1) {\r\n            char ch = (char) r;\r\n            doSomethingWithChar(ch);\r\n        }\r\n    }\r\n\r\nAlso see &lt;a href=&quot;http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html&quot;&gt;HERE&lt;/a&gt;","title":"How to read whitespace with scanner.next()","body":"<pre><code>Scanner scanner = new Scanner(file).useDelimiter(\"'\")\n</code></pre>\n\n<p>But this is highly inefficient. The better way forward would be: to read character by character:</p>\n\n<pre><code>private static void readCharacters(Reader reader)\n        throws IOException {\n    int r;\n    while ((r = reader.read()) != -1) {\n        char ch = (char) r;\n        doSomethingWithChar(ch);\n    }\n}\n</code></pre>\n\n<p>Also see <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow\">HERE</a></p>\n"},{"tags":[],"owner":{"account_id":6692285,"reputation":330,"user_id":5161420,"display_name":"kaltu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456605108,"creation_date":1456605108,"answer_id":35675096,"question_id":12994342,"body_markdown":"Try `.useDelimiter(&quot;(\\\\b|\\\\B)&quot;)`\r\n\r\nIt will use boundaries of every characters as delimiter.\r\n\r\nThe following code will print exactly what user typed.\r\nNo character will be ignored, including whitespaces.\r\n\r\n    \r\n\tScanner charScanner = new Scanner( System.in ).useDelimiter( &quot;(\\\\b|\\\\B)&quot; ) ;\r\n\twhile( charScanner.hasNext() ) \r\n\t\tSystem.out.print( charScanner.next() ) ;","title":"How to read whitespace with scanner.next()","body":"<p>Try <code>.useDelimiter(\"(\\\\b|\\\\B)\")</code></p>\n\n<p>It will use boundaries of every characters as delimiter.</p>\n\n<p>The following code will print exactly what user typed.\nNo character will be ignored, including whitespaces.</p>\n\n<pre><code>Scanner charScanner = new Scanner( System.in ).useDelimiter( \"(\\\\b|\\\\B)\" ) ;\nwhile( charScanner.hasNext() ) \n    System.out.print( charScanner.next() ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10305618,"reputation":41,"user_id":7602946,"display_name":"Vallisha Mohan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487753005,"creation_date":1487744150,"answer_id":42384006,"question_id":12994342,"body_markdown":"instead of \r\n\r\n    scanner.next();\r\n\r\nuse\r\n\r\n    scanner.nextLine();\r\n\r\nThis way you solve the problem with delimiters.\r\n","title":"How to read whitespace with scanner.next()","body":"<p>instead of </p>\n\n<pre><code>scanner.next();\n</code></pre>\n\n<p>use</p>\n\n<pre><code>scanner.nextLine();\n</code></pre>\n\n<p>This way you solve the problem with delimiters.</p>\n"}],"owner":{"account_id":1960808,"reputation":593,"user_id":1762453,"accept_rate":85,"display_name":"Codefun64"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37728,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12995195,"answer_count":4,"score":4,"last_activity_date":1684607465,"creation_date":1350785369,"question_id":12994342,"body_markdown":"I have a scanner, and have set the delimiter to &quot;&quot;, but it still won&#39;t read whitespaces with the next() method. I know that nextline() works, but I need to examine every character in the input individually, including whitespace; it&#39;s for a complex data analysis problem. I&#39;m stumped, though. Google has turned up nothing.\r\n\r\nCan anyone help me with this? I&#39;m thinking of reversing the whitespace into a special character, then for the purposes of analyzing the character, reverse it back into a space, contained in a string... That seems way overkill though! Is there a more elegant way of doing this?\r\n\r\nEDIT: My main task is, take a String, and go over it character-by-character, multiple times, to examine the data for various tasks. You will have to examine it many times, one character at a time, and so I thought the scanner class would be my best bet since it can be easy to work with (for me at least). That&#39;s my task. Is there an easier way to go about this?","title":"How to read whitespace with scanner.next()","body":"<p>I have a scanner, and have set the delimiter to \"\", but it still won't read whitespaces with the next() method. I know that nextline() works, but I need to examine every character in the input individually, including whitespace; it's for a complex data analysis problem. I'm stumped, though. Google has turned up nothing.</p>\n\n<p>Can anyone help me with this? I'm thinking of reversing the whitespace into a special character, then for the purposes of analyzing the character, reverse it back into a space, contained in a string... That seems way overkill though! Is there a more elegant way of doing this?</p>\n\n<p>EDIT: My main task is, take a String, and go over it character-by-character, multiple times, to examine the data for various tasks. You will have to examine it many times, one character at a time, and so I thought the scanner class would be my best bet since it can be easy to work with (for me at least). That's my task. Is there an easier way to go about this?</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387625769,"creation_date":1387625769,"answer_id":20718551,"question_id":20718530,"body_markdown":"Just use `String#split()` with a suitable delimiter (it sounds like in this case you just need `&quot;[ \\\\n]+&quot;` (that&#39;s a space and a \\n) but you may want to tweak that a bit, for example you might want to split on all whitespace.\r\n\r\n\r\nThe reason for the empty entry in the list is because you are just scanning for a single character of whitespace. This gets matched twice when you have two line endings next to each other. You need to modify the regex so it matches more than one character.\r\n","title":"How to scan words in a text without newline character?","body":"<p>Just use <code>String#split()</code> with a suitable delimiter (it sounds like in this case you just need <code>\"[ \\\\n]+\"</code> (that's a space and a \\n) but you may want to tweak that a bit, for example you might want to split on all whitespace.</p>\n\n<p>The reason for the empty entry in the list is because you are just scanning for a single character of whitespace. This gets matched twice when you have two line endings next to each other. You need to modify the regex so it matches more than one character.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387625986,"creation_date":1387625986,"answer_id":20718590,"question_id":20718530,"body_markdown":"Your `+` appears to be in the wrong place. Try instead using `scan3.useDelimiter(&quot;[\\\\s\\\\n]+&quot;);` \r\n\r\nRegarding, \r\n&gt; As you might have noticed, I add the string &quot;STOP&quot; at the end in order to stop the loop because the condition scan3.HasNext() always returns &quot;true&quot;, is it the only way to proceed?\r\n\r\nWhat other way would you wish to proceed? What other stop condition do you propose to use? ","title":"How to scan words in a text without newline character?","body":"<p>Your <code>+</code> appears to be in the wrong place. Try instead using <code>scan3.useDelimiter(\"[\\\\s\\\\n]+\");</code> </p>\n\n<p>Regarding, </p>\n\n<blockquote>\n  <p>As you might have noticed, I add the string \"STOP\" at the end in order to stop the loop because the condition scan3.HasNext() always returns \"true\", is it the only way to proceed?</p>\n</blockquote>\n\n<p>What other way would you wish to proceed? What other stop condition do you propose to use? </p>\n"}],"owner":{"account_id":3759753,"reputation":1,"user_id":3125129,"display_name":"user3125129"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684607428,"creation_date":1387625615,"question_id":20718530,"body_markdown":"I have serious issues to understand how the scanner class works. Indeed, I would like from this input:\r\n\r\nAAAA BBBG GREZZ\r\n\r\nADFG GTRE\r\n\r\nFREZZ\r\n\r\nto have this ouput as an ArrayList:\r\n[AAAA, BBBG, GREZZ, ADFG, GTRE, FREZZ]\r\n\r\nMy code is the following:\r\n\r\n    System.out.println(&quot;list of words?&quot;);\r\n    Scanner scan3 = new Scanner(System.in);\r\n    scan3.useDelimiter(&quot;[\\\\s+\\\\n]&quot;);\r\n    ArrayList&lt;String&gt; test = new ArrayList&lt;String&gt;();\r\n    while(scan3.hasNext()){\r\n      String temp = scan3.next();\r\n      if(temp.equals(&quot;STOP&quot;)){\r\n         break;\r\n      }else{\r\n         test.add(temp);\r\n      }\r\n    }\r\n    System.out.println(test);\r\n\r\nMy input is:\r\n\r\nAAAA BBBG GREZZ\r\n\r\nADFG GTRE\r\n\r\nFREZZ STOP\r\n\r\nAnd my ouput is:\r\n[AAAA, BBBG, GREZZ, , ADFG, GTRE, , FREZZ]\r\n\r\nMy question is twofold:\r\n\r\n - Why do I have an empty element inserted in the list (which is I beleive related to the new line)?\r\n - As you might have noticed, I add the string &quot;STOP&quot; at the end in order to stop the loop because the condition scan3.HasNext() always returns &quot;true&quot;, is it the only way to proceed?\r\n\r\nMany thanks for your help.\r\n\r\n","title":"How to scan words in a text without newline character?","body":"<p>I have serious issues to understand how the scanner class works. Indeed, I would like from this input:</p>\n\n<p>AAAA BBBG GREZZ</p>\n\n<p>ADFG GTRE</p>\n\n<p>FREZZ</p>\n\n<p>to have this ouput as an ArrayList:\n[AAAA, BBBG, GREZZ, ADFG, GTRE, FREZZ]</p>\n\n<p>My code is the following:</p>\n\n<pre><code>System.out.println(\"list of words?\");\nScanner scan3 = new Scanner(System.in);\nscan3.useDelimiter(\"[\\\\s+\\\\n]\");\nArrayList&lt;String&gt; test = new ArrayList&lt;String&gt;();\nwhile(scan3.hasNext()){\n  String temp = scan3.next();\n  if(temp.equals(\"STOP\")){\n     break;\n  }else{\n     test.add(temp);\n  }\n}\nSystem.out.println(test);\n</code></pre>\n\n<p>My input is:</p>\n\n<p>AAAA BBBG GREZZ</p>\n\n<p>ADFG GTRE</p>\n\n<p>FREZZ STOP</p>\n\n<p>And my ouput is:\n[AAAA, BBBG, GREZZ, , ADFG, GTRE, , FREZZ]</p>\n\n<p>My question is twofold:</p>\n\n<ul>\n<li>Why do I have an empty element inserted in the list (which is I beleive related to the new line)?</li>\n<li>As you might have noticed, I add the string \"STOP\" at the end in order to stop the loop because the condition scan3.HasNext() always returns \"true\", is it the only way to proceed?</li>\n</ul>\n\n<p>Many thanks for your help.</p>\n"},{"tags":["java","file","java.util.scanner","inputmismatchexception"],"answers":[{"tags":[],"owner":{"account_id":5418821,"reputation":13,"user_id":4313186,"display_name":"Anastasia Smirnova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417466187,"creation_date":1417466187,"answer_id":27236822,"question_id":27221591,"body_markdown":"try adding \r\n  \r\n\r\n&gt; File filePath = new File(&quot;.txt&quot;);\r\n\r\n\r\nbefore Scanner file\r\n","title":"Input Mismatch scanner.next(string pattern) from file","body":"<p>try adding </p>\n\n<blockquote>\n  <p>File filePath = new File(\".txt\");</p>\n</blockquote>\n\n<p>before Scanner file</p>\n"}],"owner":{"account_id":5257162,"reputation":55,"user_id":4199727,"accept_rate":11,"display_name":"Marco Datola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684607290,"creation_date":1417407047,"question_id":27221591,"body_markdown":"I&#39;m having a problem while using a \r\n   Scanner file = new Scanner(filePath);\r\nmy file is organised as so\r\n\r\nQuestion x.y  \r\nAnswer1  \r\nAnswer2  \r\nAnswer3  \r\nAnswer4  \r\nHint: Hint to Question x.y Level z Genere t  \r\n\r\nI&#39;m quite new to java and in all of this project I&#39;ve used\r\n   .next(string pattern) \r\nto return a string that includes the parrtern and arrives to the end of the line but i continue to get mismatch exceptions.. i don&#39;t really get what\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\ndefines as token and for this reason i don&#39;t know how to handle it..\r\n\r\nmy code is\r\n\r\n    public Question getQuestion(String filePath)\r\n    {\r\n        ArrayList questions = new ArrayList();\r\n        \r\n        Scanner file = new Scanner(filePath);\r\n        String questionInFile = &quot;Question&quot;;\r\n        while(file.hasNextLine())\r\n            questions.add(questionInFile+file.next(questionInFile));\r\n        Random rg = new Random();\r\n        String Q = (String)questions.get(rg.nextInt(10)+1);\r\n        file.close();\r\n        ArrayList&lt;String&gt; answer=getAnswers(filePath, Q);\r\n        String correctAnswer=answer.get(0);\r\n        \r\n        return new Question(Q, answer, correctAnswer);\r\n        \r\n        \r\n    }","title":"Input Mismatch scanner.next(string pattern) from file","body":"<p>I'm having a problem while using a \n   Scanner file = new Scanner(filePath);\nmy file is organised as so</p>\n\n<p>Question x.y<br>\nAnswer1<br>\nAnswer2<br>\nAnswer3<br>\nAnswer4<br>\nHint: Hint to Question x.y Level z Genere t  </p>\n\n<p>I'm quite new to java and in all of this project I've used\n   .next(string pattern) \nto return a string that includes the parrtern and arrives to the end of the line but i continue to get mismatch exceptions.. i don't really get what\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a>\ndefines as token and for this reason i don't know how to handle it..</p>\n\n<p>my code is</p>\n\n<pre><code>public Question getQuestion(String filePath)\n{\n    ArrayList questions = new ArrayList();\n\n    Scanner file = new Scanner(filePath);\n    String questionInFile = \"Question\";\n    while(file.hasNextLine())\n        questions.add(questionInFile+file.next(questionInFile));\n    Random rg = new Random();\n    String Q = (String)questions.get(rg.nextInt(10)+1);\n    file.close();\n    ArrayList&lt;String&gt; answer=getAnswers(filePath, Q);\n    String correctAnswer=answer.get(0);\n\n    return new Question(Q, answer, correctAnswer);\n\n\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":51551,"reputation":11490,"user_id":154066,"accept_rate":77,"display_name":"mk."},"score":0,"creation_date":1426123672,"post_id":29000420,"comment_id":46248592,"body_markdown":"Put your variable defs right where you use them: `int year = input.nextInt()`. Don&#39;t stockpile them at the top.","body":"Put your variable defs right where you use them: <code>int year = input.nextInt()</code>. Don&#39;t stockpile them at the top."},{"owner":{"account_id":2767744,"reputation":655,"user_id":2383037,"accept_rate":100,"display_name":"lacraig2"},"score":0,"creation_date":1426123862,"post_id":29000420,"comment_id":46248639,"body_markdown":"@deafprogrammer24  I have a solution to your program. see if it works for you.","body":"@deafprogrammer24  I have a solution to your program. see if it works for you."}],"answers":[{"tags":[],"owner":{"account_id":2767744,"reputation":655,"user_id":2383037,"accept_rate":100,"display_name":"lacraig2"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426124049,"creation_date":1426123647,"answer_id":29000441,"question_id":29000420,"body_markdown":"Try:\r\n\r\n    input.nextLine();   //this is totally useless and just eats up the rest of the line\r\n\r\nafter nextInt() and before nextLine(). It works.\r\n\r\n**Problem:**\r\nIn your code it does exactly what you tell it to. It takes in the integer and then continues on to the nextLine(). This is the **same** line. The nextInt() doesn&#39;t automatically go onto the next line. As such you can use nextLine() to eat up the end line. \r\n\r\n**Solution:**\r\nsc.nextInt() eats up the integer, but not the new line. If you take the next line (same as nextInt()) it will go on to the real information on the next line and not skip a question.\r\n\r\n\r\nOutput:\r\n\r\n    Please enter the year of birth to add: 199\r\n    Please enter full name to add: 1234\r\n    Please enter a city to add: 1235123\r\n    Please enter the state to add: 1234123\r\n\r\nHope this helps.","title":"Java Scanner ignores the next questions by reading a string with spaces","body":"<p>Try:</p>\n\n<pre><code>input.nextLine();   //this is totally useless and just eats up the rest of the line\n</code></pre>\n\n<p>after nextInt() and before nextLine(). It works.</p>\n\n<p><strong>Problem:</strong>\nIn your code it does exactly what you tell it to. It takes in the integer and then continues on to the nextLine(). This is the <strong>same</strong> line. The nextInt() doesn't automatically go onto the next line. As such you can use nextLine() to eat up the end line. </p>\n\n<p><strong>Solution:</strong>\nsc.nextInt() eats up the integer, but not the new line. If you take the next line (same as nextInt()) it will go on to the real information on the next line and not skip a question.</p>\n\n<p>Output:</p>\n\n<pre><code>Please enter the year of birth to add: 199\nPlease enter full name to add: 1234\nPlease enter a city to add: 1235123\nPlease enter the state to add: 1234123\n</code></pre>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3571267,"reputation":33,"user_id":2981524,"accept_rate":43,"display_name":"deafprogrammer24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1426124439,"answer_count":1,"score":1,"last_activity_date":1684607224,"creation_date":1426123479,"question_id":29000420,"body_markdown":"I have a problem with a scanner. I want the program to read strings and an integer. I have two different situations. For example, my program asks the user to enter the year of birth, full name, and city. \r\n\r\n    Scanner input = new Scanner(System.in);\r\n    int year;\r\n    String name;\r\n    String city;\r\n    String state;\r\n\r\n    System.out.print(&quot;Please enter the year of birth to add: &quot;);\r\n    year = input.nextInt();\r\n   \r\n    System.out.print(&quot;Please enter full name to add: &quot;);\r\n    name = input.nextLine();\r\n    \r\n    System.out.print(&quot;Please enter a city to add: &quot;);\r\n    city = input.nextLine();\r\n    \r\n    System.out.println(&quot;Please enter the state to add: );\r\n    state = input.next();\r\n\r\nOutput:\r\n\r\n    Please enter the year of birth to add: 22\r\n    Please enter full name to add: Please enter a city to add: Denver\r\n\r\nThe first situation is the program skips the question and ask the next question. Without `nextLine`, it will receive an exception.\r\n\r\n   \r\nFor the second situation, supposed if the city has two or more spaces(ex. San Francisco, New York City...), will the `nextLine` help or not? It seems similar with the first situation. I know `nextLine` will read a string with spaces, but it still cause a problem otherwise. I could not solve this issue. \r\n","title":"Java Scanner ignores the next questions by reading a string with spaces","body":"<p>I have a problem with a scanner. I want the program to read strings and an integer. I have two different situations. For example, my program asks the user to enter the year of birth, full name, and city. </p>\n\n<pre><code>Scanner input = new Scanner(System.in);\nint year;\nString name;\nString city;\nString state;\n\nSystem.out.print(\"Please enter the year of birth to add: \");\nyear = input.nextInt();\n\nSystem.out.print(\"Please enter full name to add: \");\nname = input.nextLine();\n\nSystem.out.print(\"Please enter a city to add: \");\ncity = input.nextLine();\n\nSystem.out.println(\"Please enter the state to add: );\nstate = input.next();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Please enter the year of birth to add: 22\nPlease enter full name to add: Please enter a city to add: Denver\n</code></pre>\n\n<p>The first situation is the program skips the question and ask the next question. Without <code>nextLine</code>, it will receive an exception.</p>\n\n<p>For the second situation, supposed if the city has two or more spaces(ex. San Francisco, New York City...), will the <code>nextLine</code> help or not? It seems similar with the first situation. I know <code>nextLine</code> will read a string with spaces, but it still cause a problem otherwise. I could not solve this issue. </p>\n"},{"tags":["java","if-statement","iterator","java.util.scanner"],"comments":[{"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"score":0,"creation_date":1440253305,"post_id":32157022,"comment_id":52202359,"body_markdown":"It somehow, works for me. What is the error that you are getting?","body":"It somehow, works for me. What is the error that you are getting?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1440253973,"post_id":32157022,"comment_id":52202578,"body_markdown":"@MohitKanwar: there&#39;s no error message, but it **is** skipping a line. It automatically goes to the line that states that the password entered is not correct. Please check it and see. Also, why are folks down-voting a legitimate question?","body":"@MohitKanwar: there&#39;s no error message, but it <b>is</b> skipping a line. It automatically goes to the line that states that the password entered is not correct. Please check it and see. Also, why are folks down-voting a legitimate question?"},{"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"score":1,"creation_date":1440256750,"post_id":32157022,"comment_id":52203378,"body_markdown":"@HovercraftFullOfEels  Ohh. I missed it because the message sequence looked logical. Showing number of characters required for a password just after requesting to create one. :D  \nUnderstood the problem now.","body":"@HovercraftFullOfEels  Ohh. I missed it because the message sequence looked logical. Showing number of characters required for a password just after requesting to create one. :D   Understood the problem now."},{"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"score":0,"creation_date":1440257150,"post_id":32157022,"comment_id":52203486,"body_markdown":"@HovercraftFullOfEels   People are downvoting this question as the description is not very clear. I have tried to edit it, If it makes any better. Please approve.","body":"@HovercraftFullOfEels   People are downvoting this question as the description is not very clear. I have tried to edit it, If it makes any better. Please approve."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1440259238,"post_id":32157022,"comment_id":52204044,"body_markdown":"@MohitKanwar: so approved.","body":"@MohitKanwar: so approved."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440253048,"creation_date":1440253048,"answer_id":32157112,"question_id":32157022,"body_markdown":"This:\r\n\r\n    clavier.findWithinHorizon(&quot;.&quot;, 0).charAt(0);\r\n\r\nDoes not handle the End-Of-Line (EOL) token, and so it is swallowed in your next call to `clavier.nextLine()`, messing you up. One solution is to call `clavier.nextLine()` immediately after the line above\r\n\r\n    adult= clavier.findWithinHorizon(&quot;.&quot;, 0).charAt(0);\r\n    clavier.nextLine(); // to handle and dispose the EOL token\r\n\r\n or simply use nextLine in the code above:\r\n\r\n    adult = clavier.nextLine().charAt(0);","title":"The program skip clavier.nextLine","body":"<p>This:</p>\n\n<pre><code>clavier.findWithinHorizon(\".\", 0).charAt(0);\n</code></pre>\n\n<p>Does not handle the End-Of-Line (EOL) token, and so it is swallowed in your next call to <code>clavier.nextLine()</code>, messing you up. One solution is to call <code>clavier.nextLine()</code> immediately after the line above</p>\n\n<pre><code>adult= clavier.findWithinHorizon(\".\", 0).charAt(0);\nclavier.nextLine(); // to handle and dispose the EOL token\n</code></pre>\n\n<p>or simply use nextLine in the code above:</p>\n\n<pre><code>adult = clavier.nextLine().charAt(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440256348,"creation_date":1440256348,"answer_id":32157644,"question_id":32157022,"body_markdown":"The problem is with this line\r\n\r\n    clavier.findWithinHorizon(&quot;.&quot;, 0).charAt(0);\r\n\r\nAs per the documentation for this method\r\n\r\n&gt; &lt;p&gt;If horizon is &lt;code&gt;0&lt;/code&gt;, then the horizon is ignored and\r\n     * this method continues to search through the input looking for the\r\n     * specified pattern without bound. In this case it may buffer all of\r\n     * the input searching for the pattern.\r\n\r\nHence, instead of using that, you may use the following code.\r\nI have basically converted `char adult` to  `String adult` and used `nextLine()` method as in other cases of yours.\r\n\r\n   \r\n\r\n     import java.util.Scanner;\r\n    \r\n    class mmm {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner clavier = new Scanner(System.in);\r\n    \t\tString name;\r\n    \t\tString password;\r\n    \t\tString time;\r\n    \t\tString adult;\r\n    \r\n    \t\tSystem.out.println(&quot;Hello,create your username:\\t&quot;);\r\n    \t\tname = clavier.nextLine();\r\n    \t\tSystem.out.println(&quot;Welkom &quot; + name);\r\n    \r\n    \t\tSystem.out.println(&quot;Do you have more than 18 years? (Yes/No)&quot;);\r\n    \r\n    \t\t//adult = clavier.findWithinHorizon(&quot;.&quot;, 0).charAt(0);\r\n    \t\tadult = clavier.nextLine();\r\n    \t\tif (adult.equalsIgnoreCase(&quot;y&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;you are adult&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.exit(0);\r\n    \r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;create your password:\\t&quot;);\r\n    \r\n    \t\tpassword = clavier.nextLine();\r\n    \r\n    \t\twhile ((password.length() &lt; 6) || (password.length() &gt; 10)) {\r\n    \t\t\tSystem.out\r\n    \t\t\t\t\t.println(&quot;please create a password between 6 and 10 letters&quot;);\r\n    \t\t\tpassword = clavier.nextLine();\r\n    \t\t}\r\n    \r\n    \t\tString password2;\r\n    \t\tSystem.out.println(&quot;Please write your password again&quot;);\r\n    \t\tpassword2 = clavier.nextLine();\r\n    \t\twhile (!password2.equals(password)) {\r\n    \t\t\tSystem.out.println(&quot;your passwords aren&#39;t the same&quot;);\r\n    \t\t\tpassword2 = clavier.nextLine();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;acount create&quot;);\r\n    \r\n    \t}\r\n    }","title":"The program skip clavier.nextLine","body":"<p>The problem is with this line</p>\n\n<pre><code>clavier.findWithinHorizon(\".\", 0).charAt(0);\n</code></pre>\n\n<p>As per the documentation for this method</p>\n\n<blockquote>\n  <p><p>If horizon is <code>0</code>, then the horizon is ignored and\n       * this method continues to search through the input looking for the\n       * specified pattern without bound. In this case it may buffer all of\n       * the input searching for the pattern.</p>\n</blockquote>\n\n<p>Hence, instead of using that, you may use the following code.\nI have basically converted <code>char adult</code> to  <code>String adult</code> and used <code>nextLine()</code> method as in other cases of yours.</p>\n\n<pre><code> import java.util.Scanner;\n\nclass mmm {\n\n    public static void main(String[] args) {\n        Scanner clavier = new Scanner(System.in);\n        String name;\n        String password;\n        String time;\n        String adult;\n\n        System.out.println(\"Hello,create your username:\\t\");\n        name = clavier.nextLine();\n        System.out.println(\"Welkom \" + name);\n\n        System.out.println(\"Do you have more than 18 years? (Yes/No)\");\n\n        //adult = clavier.findWithinHorizon(\".\", 0).charAt(0);\n        adult = clavier.nextLine();\n        if (adult.equalsIgnoreCase(\"y\")) {\n            System.out.println(\"you are adult\");\n        } else {\n            System.exit(0);\n\n        }\n\n        System.out.println(\"create your password:\\t\");\n\n        password = clavier.nextLine();\n\n        while ((password.length() &lt; 6) || (password.length() &gt; 10)) {\n            System.out\n                    .println(\"please create a password between 6 and 10 letters\");\n            password = clavier.nextLine();\n        }\n\n        String password2;\n        System.out.println(\"Please write your password again\");\n        password2 = clavier.nextLine();\n        while (!password2.equals(password)) {\n            System.out.println(\"your passwords aren't the same\");\n            password2 = clavier.nextLine();\n        }\n        System.out.println(\"acount create\");\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6826566,"reputation":31,"user_id":5252117,"display_name":"paulpaul99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1684607211,"creation_date":1440252307,"question_id":32157022,"body_markdown":"While running the following code, and when I answer the question: Do you have more than 18years it directly say :  \r\n\r\n&gt; -you are a adult                             \r\n&gt; -create your password   \r\n&gt; -please create a password between 6 and 10 letters\r\n\r\nWhereas It should have stopped at create your password. waited for my input, and if that input length is out of range, the next message should be shown.\r\n\r\nBut it doesn&#39;t waits for my input and displays the next message.\r\n\r\nwhen I delete the question:\r\nDo you have more than 18 years? (Yes/No) \r\n\r\n\r\n\r\nthe program work perfectly.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class ScannerTest {\r\n        public static void main(String[] args) {\r\n            Scanner clavier = new Scanner(System.in);\r\n            String name;\r\n            String password;\r\n            String time;\r\n            char adult;\r\n            \r\n            System.out.println(&quot;Hello,create your username:\\t&quot;);\r\n            name = clavier.nextLine();\r\n            \r\n            System.out.println(&quot;Welkom &quot; + name);\r\n            System.out.println(&quot;Do you have more than 18 years? (Yes/No)&quot;);\r\n            adult = clavier.findWithinHorizon(&quot;.&quot;, 0).charAt(0);\r\n\r\n            if (adult == &#39;y&#39; || adult == &#39;Y&#39;) {\r\n                System.out.println(&quot;you are adult&quot;);\r\n            } else {\r\n                System.exit(0);\r\n            }\r\n            \r\n            System.out.println(&quot;create your password:\\t&quot;);\r\n            password = clavier.nextLine();\r\n            while ((password.length() &lt; 6) || (password.length() &gt; 10)) {\r\n                System.out.println(&quot;please create a password between 6 and 10 letters&quot;);\r\n                password = clavier.nextLine();\r\n            }\r\n            \r\n            String password2;\r\n            System.out.println(&quot;Please write your password again&quot;);\r\n            password2 = clavier.nextLine();\r\n            while (!password2.equals(password)) {\r\n                System.out.println(&quot;your passwords aren&#39;t the same&quot;);\r\n                password2 = clavier.nextLine();\r\n            }\r\n            System.out.println(&quot;acount create&quot;);\r\n        }\r\n    }","title":"The program skip clavier.nextLine","body":"<p>While running the following code, and when I answer the question: Do you have more than 18years it directly say :  </p>\n\n<blockquote>\n  <p>-you are a adult<br>\n  -create your password<br>\n  -please create a password between 6 and 10 letters</p>\n</blockquote>\n\n<p>Whereas It should have stopped at create your password. waited for my input, and if that input length is out of range, the next message should be shown.</p>\n\n<p>But it doesn't waits for my input and displays the next message.</p>\n\n<p>when I delete the question:\nDo you have more than 18 years? (Yes/No) </p>\n\n<p>the program work perfectly.</p>\n\n<pre><code>import java.util.Scanner;\n\nclass ScannerTest {\n    public static void main(String[] args) {\n        Scanner clavier = new Scanner(System.in);\n        String name;\n        String password;\n        String time;\n        char adult;\n\n        System.out.println(\"Hello,create your username:\\t\");\n        name = clavier.nextLine();\n\n        System.out.println(\"Welkom \" + name);\n        System.out.println(\"Do you have more than 18 years? (Yes/No)\");\n        adult = clavier.findWithinHorizon(\".\", 0).charAt(0);\n\n        if (adult == 'y' || adult == 'Y') {\n            System.out.println(\"you are adult\");\n        } else {\n            System.exit(0);\n        }\n\n        System.out.println(\"create your password:\\t\");\n        password = clavier.nextLine();\n        while ((password.length() &lt; 6) || (password.length() &gt; 10)) {\n            System.out.println(\"please create a password between 6 and 10 letters\");\n            password = clavier.nextLine();\n        }\n\n        String password2;\n        System.out.println(\"Please write your password again\");\n        password2 = clavier.nextLine();\n        while (!password2.equals(password)) {\n            System.out.println(\"your passwords aren't the same\");\n            password2 = clavier.nextLine();\n        }\n        System.out.println(\"acount create\");\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1476996127,"post_id":40164084,"comment_id":67597141,"body_markdown":"BTW you&#39;ve got an integer division issue - use `double Celsius = 5/9.0 * (fahrenheit-32);`","body":"BTW you&#39;ve got an integer division issue - use <code>double Celsius = 5&#47;9.0 * (fahrenheit-32);</code>"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1476995937,"creation_date":1476995937,"answer_id":40164113,"question_id":40164084,"body_markdown":"You&#39;e confusing `String` with `java.util.Scanner`. Parse the string returned from `showInputDialog`\r\n\r\n    fahrenheit = Double.parseDouble(input);","title":"nextDouble error symbol: method nextDouble","body":"<p>You'e confusing <code>String</code> with <code>java.util.Scanner</code>. Parse the string returned from <code>showInputDialog</code></p>\n\n<pre><code>fahrenheit = Double.parseDouble(input);\n</code></pre>\n"}],"owner":{"account_id":9482728,"reputation":47,"user_id":7050090,"display_name":"Waleed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40164113,"answer_count":1,"score":0,"last_activity_date":1684607082,"creation_date":1476995833,"question_id":40164084,"body_markdown":"symbol: method nextDouble\r\n\r\nnextDouble &quot;error&quot;\r\n\r\nCan any one help me to fix that ?\r\n\r\n        double fahrenheit;\r\n        \r\n        String input = JOptionPane.showInputDialog(null, &quot;Enter the Fahrenheit degre : &quot;);\r\n        \r\n        fahrenheit = input.nextDouble();\r\n        \r\n        double Celsius = 5/9 * (fahrenheit-32);\r\n        \r\n        JOptionPane.showMessageDialog(null, &quot; in Celsius : &quot; + Celsius);\r\n        ","title":"nextDouble error symbol: method nextDouble","body":"<p>symbol: method nextDouble</p>\n\n<p>nextDouble \"error\"</p>\n\n<p>Can any one help me to fix that ?</p>\n\n<pre><code>    double fahrenheit;\n\n    String input = JOptionPane.showInputDialog(null, \"Enter the Fahrenheit degre : \");\n\n    fahrenheit = input.nextDouble();\n\n    double Celsius = 5/9 * (fahrenheit-32);\n\n    JOptionPane.showMessageDialog(null, \" in Celsius : \" + Celsius);\n</code></pre>\n"},{"tags":["java","arraylist","compare","field"],"answers":[{"tags":[],"owner":{"account_id":5539,"reputation":43971,"user_id":8969,"accept_rate":67,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270271679,"creation_date":1270270997,"answer_id":2570279,"question_id":2570265,"body_markdown":"You&#39;re probably better off using a Map rather than a List, you can use the enum as the key and get the values out.\r\n\r\n    Map&lt;YourEnumType,ValueType&gt; map = new HashMap&lt;YourEnumType,ValueType&gt;();\r\n\r\n","title":"Help matching fields between two classes","body":"<p>You're probably better off using a Map rather than a List, you can use the enum as the key and get the values out.</p>\n\n<pre><code>Map&lt;YourEnumType,ValueType&gt; map = new HashMap&lt;YourEnumType,ValueType&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507195375,"creation_date":1270273879,"answer_id":2570374,"question_id":2570265,"body_markdown":"@Tom&#39;s recommendation to use `Map` is the preferred approach. Here&#39;s a trivial example that constructs such a `Map` for use by a static `lookup()` method.\r\n\r\n    private enum Season {\r\n\r\n        WINTER, SPRING, SUMMER, FALL;\r\n        private static Map&lt;String, Season&gt; map = new HashMap&lt;String, Season&gt;();\r\n        static {\r\n            for (Season s : Season.values()) {\r\n                map.put(s.name(), s);\r\n            }\r\n        }\r\n\r\n        public static Season lookup(String name) {\r\n            return map.get(name);\r\n        }\r\n    }\r\n\r\nNote that every `enum` type has two implicitly declared static [methods][1]:\r\n\r\n    public static E[] values();\r\n    public static E valueOf(String name);\r\n\r\nThe `values()` method returns an array that is handy for constructing the `Map`. Alternatively, the array may be searched directly. The methods are implicit; they will appear in the [`javadoc`][2] of your `enum` when it is generated.\r\n\r\nAddendum: As suggested by @Bert F, an [`EnumMap`][3] may be advantageous. See [*Effective Java Second Edition*][4], *Item 33: Use EnumMap instead of ordinal indexing*, for a compelling example of using [`EnumMap`][3] to associate `enum`s.\r\n\r\n[1]:http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9.3\r\n[2]:http://java.sun.com/javase/6/docs/technotes/tools/solaris/javadoc.html\r\n[3]:http://java.sun.com/javase/6/docs/api/java/util/EnumMap.html\r\n[4]:http://java.sun.com/docs/books/effective/","title":"Help matching fields between two classes","body":"<p>@Tom's recommendation to use <code>Map</code> is the preferred approach. Here's a trivial example that constructs such a <code>Map</code> for use by a static <code>lookup()</code> method.</p>\n\n<pre><code>private enum Season {\n\n    WINTER, SPRING, SUMMER, FALL;\n    private static Map&lt;String, Season&gt; map = new HashMap&lt;String, Season&gt;();\n    static {\n        for (Season s : Season.values()) {\n            map.put(s.name(), s);\n        }\n    }\n\n    public static Season lookup(String name) {\n        return map.get(name);\n    }\n}\n</code></pre>\n\n<p>Note that every <code>enum</code> type has two implicitly declared static <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9.3\" rel=\"nofollow noreferrer\">methods</a>:</p>\n\n<pre><code>public static E[] values();\npublic static E valueOf(String name);\n</code></pre>\n\n<p>The <code>values()</code> method returns an array that is handy for constructing the <code>Map</code>. Alternatively, the array may be searched directly. The methods are implicit; they will appear in the <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/solaris/javadoc.html\" rel=\"nofollow noreferrer\"><code>javadoc</code></a> of your <code>enum</code> when it is generated.</p>\n\n<p>Addendum: As suggested by @Bert F, an <a href=\"http://java.sun.com/javase/6/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a> may be advantageous. See <a href=\"http://java.sun.com/docs/books/effective/\" rel=\"nofollow noreferrer\"><em>Effective Java Second Edition</em></a>, <em>Item 33: Use EnumMap instead of ordinal indexing</em>, for a compelling example of using <a href=\"http://java.sun.com/javase/6/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a> to associate <code>enum</code>s.</p>\n"}],"owner":{"account_id":117712,"reputation":141,"user_id":308137,"accept_rate":12,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684606739,"creation_date":1270270494,"question_id":2570265,"body_markdown":"I&#39;m not too experienced with Java yet, and I&#39;m hoping someone can steer me in the right direction because right now I feel like I&#39;m just beating my head against a wall...\r\n\r\nThe first class is called MeasuredParams, and it&#39;s got 40+ numeric fields (height, weight, waistSize, wristSize - some int, but mostly double).  The second class is a statistical classifier called Classifier.  It&#39;s been trained on a subset of the MeasuredParams fields.  The names of the fields that the Classifier has been trained on is stored, in order, in an array called reqdFields.\r\n\r\nWhat I need to do is load a new array, toClassify, with the values stored in the fields from MeasuredParams that match the field list (including order) found in reqdFields.  I can make any changes necessary to the MeasuredParams class, but I&#39;m stuck with Classifier as it is.\r\n\r\nMy brute-force approach was to get rid of the fields in MeasuredParams and use an arrayList instead, and store the field names in an Enum object to act as an index pointer.  Then loop through the reqdFields list, one element at a time, and find the matching name in the Enum object to find the correct position in the arrayList.  Load the value stored at that positon into toClassify, and then continue on to the next element in reqdFields.\r\n\r\nI&#39;m not sure how exactly I would search through the Enum object - it would be a lot easier if the field names were stored in a second arrayList.  But then the index positions between the two would have to stay matched, and I&#39;m back to using an Enum.  I think.  I&#39;ve been running around in circles all afternoon, and I keep thinking there must be an easier way of doing it.  I&#39;m just stuck right now and can&#39;t see past what I&#39;ve started.\r\n\r\nAny help would be GREATLY appreciated.  Thanks so much!\r\n\r\nMichael\r\n\r\n\r\n","title":"Help matching fields between two classes","body":"<p>I'm not too experienced with Java yet, and I'm hoping someone can steer me in the right direction because right now I feel like I'm just beating my head against a wall...</p>\n\n<p>The first class is called MeasuredParams, and it's got 40+ numeric fields (height, weight, waistSize, wristSize - some int, but mostly double).  The second class is a statistical classifier called Classifier.  It's been trained on a subset of the MeasuredParams fields.  The names of the fields that the Classifier has been trained on is stored, in order, in an array called reqdFields.</p>\n\n<p>What I need to do is load a new array, toClassify, with the values stored in the fields from MeasuredParams that match the field list (including order) found in reqdFields.  I can make any changes necessary to the MeasuredParams class, but I'm stuck with Classifier as it is.</p>\n\n<p>My brute-force approach was to get rid of the fields in MeasuredParams and use an arrayList instead, and store the field names in an Enum object to act as an index pointer.  Then loop through the reqdFields list, one element at a time, and find the matching name in the Enum object to find the correct position in the arrayList.  Load the value stored at that positon into toClassify, and then continue on to the next element in reqdFields.</p>\n\n<p>I'm not sure how exactly I would search through the Enum object - it would be a lot easier if the field names were stored in a second arrayList.  But then the index positions between the two would have to stay matched, and I'm back to using an Enum.  I think.  I've been running around in circles all afternoon, and I keep thinking there must be an easier way of doing it.  I'm just stuck right now and can't see past what I've started.</p>\n\n<p>Any help would be GREATLY appreciated.  Thanks so much!</p>\n\n<p>Michael</p>\n"},{"tags":["java","overriding","abstract","implementation"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683247333,"creation_date":1683247333,"answer_id":76178165,"question_id":76178124,"body_markdown":"Make a map that maps specific types to specific implementations of a generalized `translate`. Assuming you&#39;re okay with getting a generics warning you end up `@SuppressWarnings` ignoring, you can just make the types work fine, too. A tricky aspect of all this is that types can still have subtypes, so you&#39;re sort of stuck having to loop through all supertypes with your map. Looks something like this:\r\n\r\n```\r\nprivate final Map translators = new HashMap&lt;&gt;(); // intentionally raw.\r\n\r\npublic &lt;E&gt; void register(Class&lt;E&gt; type, Function&lt;? super E, String&gt; translator) {\r\n  this.translators.put(type, translator);\r\n}\r\n\r\npublic String translate(Object o) {\r\n  Class&lt;?&gt; t = o.getClass(); // NPE intentional\r\n  while (t != null) {\r\n    Object translator = translators.get(t);\r\n    if (translator != null) {\r\n      return (String) ((Function) translator).apply(o);\r\n    }\r\n    t = t.getSuperclass();\r\n  }\r\n  throw new IllegalArgumentException(&quot;No translator available to translate &quot; + o.getClass()):\r\n}\r\n\r\nregister(Integer.class, Integer::toString);\r\nregister(InputStream.class, i -&gt; &quot;Hello, World!&quot;);\r\nregister(LocalDate.class, ld -&gt; myFancyDateFormatter.format(ld));\r\n\r\ntranslate(LocalDate.of(2022, 4, 1));\r\n```\r\n\r\nGenerics can&#39;t do the job of linking together the idea that every key in your `translators` map is related to a typevar in the associated value, hence you have to eat some generics warnings. The code cannot itself cause heap corruption and all the warnings-generating shenanigans are strictly limited to `private` aspects of this class, i.e. you `@SuppressWarnings` those away (and it is safe to do so), and it won&#39;t bother the rest of your code base.\r\n\r\nIf you want a default &#39;fallback&#39; translator, no problem! Simply add a translator for `Object`, e.g. `register(Object.class, Object::toString);`.\r\n\r\nNB: WARNING - do not use interface types. I suggest you add a check for this (check if the `Class&lt;E&gt; type` arg is an interface, and throw an `IllegalArgumentException`). Alternatively, you need to expand the code considerably and use recursion or a queue because any given type needs to add not just its superclass to the queue, but also all its interfaces (which can have multiple parent interfaces and so on. Fortunately you can&#39;t have loops in types so you won&#39;t have to worry about loops in such structures).\r\n\r\n","title":"How to make List logic reusable for various content classes","body":"<p>Make a map that maps specific types to specific implementations of a generalized <code>translate</code>. Assuming you're okay with getting a generics warning you end up <code>@SuppressWarnings</code> ignoring, you can just make the types work fine, too. A tricky aspect of all this is that types can still have subtypes, so you're sort of stuck having to loop through all supertypes with your map. Looks something like this:</p>\n<pre><code>private final Map translators = new HashMap&lt;&gt;(); // intentionally raw.\n\npublic &lt;E&gt; void register(Class&lt;E&gt; type, Function&lt;? super E, String&gt; translator) {\n  this.translators.put(type, translator);\n}\n\npublic String translate(Object o) {\n  Class&lt;?&gt; t = o.getClass(); // NPE intentional\n  while (t != null) {\n    Object translator = translators.get(t);\n    if (translator != null) {\n      return (String) ((Function) translator).apply(o);\n    }\n    t = t.getSuperclass();\n  }\n  throw new IllegalArgumentException(&quot;No translator available to translate &quot; + o.getClass()):\n}\n\nregister(Integer.class, Integer::toString);\nregister(InputStream.class, i -&gt; &quot;Hello, World!&quot;);\nregister(LocalDate.class, ld -&gt; myFancyDateFormatter.format(ld));\n\ntranslate(LocalDate.of(2022, 4, 1));\n</code></pre>\n<p>Generics can't do the job of linking together the idea that every key in your <code>translators</code> map is related to a typevar in the associated value, hence you have to eat some generics warnings. The code cannot itself cause heap corruption and all the warnings-generating shenanigans are strictly limited to <code>private</code> aspects of this class, i.e. you <code>@SuppressWarnings</code> those away (and it is safe to do so), and it won't bother the rest of your code base.</p>\n<p>If you want a default 'fallback' translator, no problem! Simply add a translator for <code>Object</code>, e.g. <code>register(Object.class, Object::toString);</code>.</p>\n<p>NB: WARNING - do not use interface types. I suggest you add a check for this (check if the <code>Class&lt;E&gt; type</code> arg is an interface, and throw an <code>IllegalArgumentException</code>). Alternatively, you need to expand the code considerably and use recursion or a queue because any given type needs to add not just its superclass to the queue, but also all its interfaces (which can have multiple parent interfaces and so on. Fortunately you can't have loops in types so you won't have to worry about loops in such structures).</p>\n"}],"owner":{"account_id":16113213,"reputation":68,"user_id":11630974,"display_name":"Silverlight777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76178165,"answer_count":1,"score":1,"last_activity_date":1684606731,"creation_date":1683246272,"question_id":76178124,"body_markdown":"I have a base abstract class with multiple `translate` functions of different types, which I want to be able to be overridden. \r\nI want to create a generic translator for a `List` of any of these types. It should look like this:\r\n```java\r\nprotected &lt;T&gt; String translate(final List&lt;T&gt; list) {\r\n    if (list == null) {\r\n        return &quot;&quot;;\r\n    }\r\n    return conditionWrapper(\r\n            list.stream()\r\n                    // function with the same name for multiple classes as input\r\n                    .map(this::translate)\r\n                    .collect(Collectors.toList())\r\n    );\r\n}\r\n```\r\nBut Java cannot resolve every `translate` possible here.\r\n\r\nThe best way I came up with is to make another function:\r\n```java\r\nprotected String translateHelper(final Object o) {\r\n    if (o instance of A) {\r\n        return translate((A) o);\r\n    } else if (o instance of B) {\r\n        return translate((B) o);\r\n    } else if ...\r\n    ...\r\n}\r\n```\r\nBut it would be a pain for performance or readability, as there are many classes.\r\n\r\nOr I can make all of these classes implement some interface:\r\n```java\r\nprotected interface Translatable {\r\n    String translate();\r\n}\r\n```\r\nBut then I will be forced to implement that method inside these classes.  \r\nSometimes you can&#39;t even change them, or it would be bad for changing them for a test case.\r\n\r\nI need these `translate` functions, so they can be overridden in subclasses, with every `translate` function of a class reusing the `.translate()` method.\r\n```java\r\nprotected &lt;T extends Translatable&gt; String translate(final List&lt;T&gt; list) {\r\n    if (list == null) {\r\n        return &quot;&quot;;\r\n    }\r\n    return conditionWrapper(\r\n            list.stream()\r\n                    .map(Translatable::translate)\r\n                    .collect(Collectors.toList())\r\n    );\r\n}\r\n\r\nprotected final class ArgumentTranslator implements Translatable {\r\n    final Argument argument;\r\n\r\n    public ArgumentTranslator(final Argument value) {\r\n        this.argument = value;\r\n    }\r\n\r\n    @Override\r\n    public String translate() {\r\n        return &quot;something&quot;;\r\n    }\r\n}\r\n\r\nprotected String translate(final Argument argument) {\r\n    return new ArgumentTranslator(argument).translate();\r\n}\r\n```\r\n\r\n`translate` for a list is called so (which can be simplified with other functions)\r\n```java\r\nthis.translate(\r\n        values.argument()\r\n                .stream()\r\n                .map(ArgumentTranslator::new)\r\n                .collect(Collectors.toList())\r\n)\r\n```\r\n\r\nWhat is better than such a bunch of `instanceof`s or boilerplate `translate`s?\r\n","title":"How to make List logic reusable for various content classes","body":"<p>I have a base abstract class with multiple <code>translate</code> functions of different types, which I want to be able to be overridden.\nI want to create a generic translator for a <code>List</code> of any of these types. It should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected &lt;T&gt; String translate(final List&lt;T&gt; list) {\n    if (list == null) {\n        return &quot;&quot;;\n    }\n    return conditionWrapper(\n            list.stream()\n                    // function with the same name for multiple classes as input\n                    .map(this::translate)\n                    .collect(Collectors.toList())\n    );\n}\n</code></pre>\n<p>But Java cannot resolve every <code>translate</code> possible here.</p>\n<p>The best way I came up with is to make another function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected String translateHelper(final Object o) {\n    if (o instance of A) {\n        return translate((A) o);\n    } else if (o instance of B) {\n        return translate((B) o);\n    } else if ...\n    ...\n}\n</code></pre>\n<p>But it would be a pain for performance or readability, as there are many classes.</p>\n<p>Or I can make all of these classes implement some interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected interface Translatable {\n    String translate();\n}\n</code></pre>\n<p>But then I will be forced to implement that method inside these classes.<br />\nSometimes you can't even change them, or it would be bad for changing them for a test case.</p>\n<p>I need these <code>translate</code> functions, so they can be overridden in subclasses, with every <code>translate</code> function of a class reusing the <code>.translate()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected &lt;T extends Translatable&gt; String translate(final List&lt;T&gt; list) {\n    if (list == null) {\n        return &quot;&quot;;\n    }\n    return conditionWrapper(\n            list.stream()\n                    .map(Translatable::translate)\n                    .collect(Collectors.toList())\n    );\n}\n\nprotected final class ArgumentTranslator implements Translatable {\n    final Argument argument;\n\n    public ArgumentTranslator(final Argument value) {\n        this.argument = value;\n    }\n\n    @Override\n    public String translate() {\n        return &quot;something&quot;;\n    }\n}\n\nprotected String translate(final Argument argument) {\n    return new ArgumentTranslator(argument).translate();\n}\n</code></pre>\n<p><code>translate</code> for a list is called so (which can be simplified with other functions)</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.translate(\n        values.argument()\n                .stream()\n                .map(ArgumentTranslator::new)\n                .collect(Collectors.toList())\n)\n</code></pre>\n<p>What is better than such a bunch of <code>instanceof</code>s or boilerplate <code>translate</code>s?</p>\n"},{"tags":["java","angular","spring-boot","rest","spring-data-jpa"],"owner":{"account_id":27192512,"reputation":11,"user_id":20726007,"display_name":"Nikola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684605157,"creation_date":1684594175,"question_id":76295812,"body_markdown":"My backend REST method works fine when I test it in Postman, but when I try to pass the arguments from the frontend I get a 415 &quot;Content-Type &#39;application/octet-stream&#39; is not supported.&quot; error.\r\n\r\nHere is my backend method:\r\n\r\n```\r\n@ResponseStatus(HttpStatus.CREATED)\r\n    @PostMapping\r\n    @Operation(summary = &quot;Publish a new message&quot;, security = @SecurityRequirement(name = &quot;apiKey&quot;))\r\n    public ResponseEntity&lt;ResponseMessage&gt; create (\r\n        @Valid @RequestPart MessageInquiryDto messageDto,\r\n        @RequestPart MultipartFile file\r\n    ) {\r\n        LOGGER.info(&quot;POST /api/v1/messages body: {}&quot;, messageDto);\r\n        messageMapper.messageToDetailedMessageDto(\r\n            messageService.publishMessage(file, messageMapper.messageInquiryDtoToMessage(messageDto)));\r\n        String message;\r\n        try {\r\n            storageService.save(file);\r\n\r\n            message = &quot;Uploaded file successfully: &quot; + file.getOriginalFilename();\r\n            return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n        } catch (Exception e) {\r\n            message = &quot;Did not upload file, but saved url to message: &quot; + file.getOriginalFilename() + &quot;. Error: &quot; + e.getMessage();\r\n            return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n        }\r\n}\r\n```\r\n\r\nThis is the create method in the Angular service layer:\r\n\r\n```\r\ncreateMessageService(message: Message, image: File): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n    const formData = new FormData();\r\n    formData.append(&#39;messageDto&#39;, JSON.stringify(message));\r\n    formData.append(&#39;file&#39;, image);\r\n    formData.forEach(file =&gt; console.log(&#39;File: &#39;, file));\r\n\r\n    const req = new HttpRequest(&#39;POST&#39;, this.messageBaseUri, formData, {\r\n      reportProgress: true,\r\n      // headers: new HttpHeaders().append(&#39;Accept&#39;, &#39;multipart/form-data&#39;),\r\n      responseType: &#39;json&#39;\r\n    });\r\n\r\n    return this.httpClient.request(req);\r\n}\r\n```\r\n\r\nI tried making it accept multipart/form-data, but then I get a 500 Internal Server Error.\r\n\r\nThis would be my logic in the news component:\r\n\r\n```\r\nprivate createMessage(message: Message) {\r\n    if (this.selectedFiles) {\r\n      console.log(this.selectedFiles.item(0));\r\n      const file: File | null = this.selectedFiles.item(0);\r\n      console.log(&#39;file:&#39;);\r\n      console.log(file);\r\n\r\n      if (file) {\r\n        this.currentFile = file;\r\n        this.messageService.createMessageService(this.currentMessage, this.currentFile).subscribe({\r\n          next: (event: any) =&gt; {\r\n            if (event instanceof HttpResponse) {\r\n              // this.message = event.body.message;\r\n              this.fileInfos = this.messageService.getFiles();\r\n            }\r\n          },\r\n          error: (err: any) =&gt; {\r\n            console.log(err);\r\n            this.currentFile = undefined;\r\n          }\r\n        });\r\n     }\r\n     this.selectedFiles = undefined;\r\n    }\r\n}\r\n\r\nselectFile(event: any): void {\r\n    console.log(event.target.files[0]);\r\n    this.selectedFiles = event.target.files;\r\n}\r\n```\r\n\r\n```\r\n&lt;div class=&quot;form-group d-flex flex-column&quot; *ngIf=&quot;!currentMessage.id&quot;&gt;\r\n            &lt;label class=&quot;form-label&quot;&gt;Upload Image&lt;/label&gt;\r\n            &lt;input type=&quot;file&quot; name=&quot;image&quot; class=&quot;form-control&quot; id=&quot;inputImage&quot; accept=&quot;image/*&quot;\r\n                   (change)=&quot;selectFile($event)&quot;&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;button type=&quot;button&quot; (click)=&quot;addMessage(messageForm); messageForm.valid &amp;&amp; modal.dismiss(&#39;add message&#39;)&quot; id=&quot;add-msg&quot; class=&quot;btn btn-success&quot; *ngIf=&quot;!currentMessage.id&quot;&gt;Add message&lt;/button&gt;\r\n```\r\n\r\nI hope you get the HTML code out of context, it shouldn&#39;t be a Problem.\r\nAny help would be appreciated.","title":"Getting 415 Error When Sending JSON and Multipartfile Together From Angular To Spring Boot","body":"<p>My backend REST method works fine when I test it in Postman, but when I try to pass the arguments from the frontend I get a 415 &quot;Content-Type 'application/octet-stream' is not supported.&quot; error.</p>\n<p>Here is my backend method:</p>\n<pre><code>@ResponseStatus(HttpStatus.CREATED)\n    @PostMapping\n    @Operation(summary = &quot;Publish a new message&quot;, security = @SecurityRequirement(name = &quot;apiKey&quot;))\n    public ResponseEntity&lt;ResponseMessage&gt; create (\n        @Valid @RequestPart MessageInquiryDto messageDto,\n        @RequestPart MultipartFile file\n    ) {\n        LOGGER.info(&quot;POST /api/v1/messages body: {}&quot;, messageDto);\n        messageMapper.messageToDetailedMessageDto(\n            messageService.publishMessage(file, messageMapper.messageInquiryDtoToMessage(messageDto)));\n        String message;\n        try {\n            storageService.save(file);\n\n            message = &quot;Uploaded file successfully: &quot; + file.getOriginalFilename();\n            return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n        } catch (Exception e) {\n            message = &quot;Did not upload file, but saved url to message: &quot; + file.getOriginalFilename() + &quot;. Error: &quot; + e.getMessage();\n            return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n        }\n}\n</code></pre>\n<p>This is the create method in the Angular service layer:</p>\n<pre><code>createMessageService(message: Message, image: File): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    const formData = new FormData();\n    formData.append('messageDto', JSON.stringify(message));\n    formData.append('file', image);\n    formData.forEach(file =&gt; console.log('File: ', file));\n\n    const req = new HttpRequest('POST', this.messageBaseUri, formData, {\n      reportProgress: true,\n      // headers: new HttpHeaders().append('Accept', 'multipart/form-data'),\n      responseType: 'json'\n    });\n\n    return this.httpClient.request(req);\n}\n</code></pre>\n<p>I tried making it accept multipart/form-data, but then I get a 500 Internal Server Error.</p>\n<p>This would be my logic in the news component:</p>\n<pre><code>private createMessage(message: Message) {\n    if (this.selectedFiles) {\n      console.log(this.selectedFiles.item(0));\n      const file: File | null = this.selectedFiles.item(0);\n      console.log('file:');\n      console.log(file);\n\n      if (file) {\n        this.currentFile = file;\n        this.messageService.createMessageService(this.currentMessage, this.currentFile).subscribe({\n          next: (event: any) =&gt; {\n            if (event instanceof HttpResponse) {\n              // this.message = event.body.message;\n              this.fileInfos = this.messageService.getFiles();\n            }\n          },\n          error: (err: any) =&gt; {\n            console.log(err);\n            this.currentFile = undefined;\n          }\n        });\n     }\n     this.selectedFiles = undefined;\n    }\n}\n\nselectFile(event: any): void {\n    console.log(event.target.files[0]);\n    this.selectedFiles = event.target.files;\n}\n</code></pre>\n<pre><code>&lt;div class=&quot;form-group d-flex flex-column&quot; *ngIf=&quot;!currentMessage.id&quot;&gt;\n            &lt;label class=&quot;form-label&quot;&gt;Upload Image&lt;/label&gt;\n            &lt;input type=&quot;file&quot; name=&quot;image&quot; class=&quot;form-control&quot; id=&quot;inputImage&quot; accept=&quot;image/*&quot;\n                   (change)=&quot;selectFile($event)&quot;&gt;\n&lt;/div&gt;\n\n&lt;button type=&quot;button&quot; (click)=&quot;addMessage(messageForm); messageForm.valid &amp;&amp; modal.dismiss('add message')&quot; id=&quot;add-msg&quot; class=&quot;btn btn-success&quot; *ngIf=&quot;!currentMessage.id&quot;&gt;Add message&lt;/button&gt;\n</code></pre>\n<p>I hope you get the HTML code out of context, it shouldn't be a Problem.\nAny help would be appreciated.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1439821506,"post_id":32052076,"comment_id":52004770,"body_markdown":"How do you authenticate your users? What is the AuthenticationProvider, and what is the Filter?","body":"How do you authenticate your users? What is the AuthenticationProvider, and what is the Filter?"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1439823231,"post_id":32052076,"comment_id":52005937,"body_markdown":"Ok, you a custom AuthenticationFilter not far from a UsernamePasswordAuthenticationFilter. It is common to use a DaoAuthenticationProvider with that. Did you configure `setForcePrincipalAsString(True) ` (or set `forcePrincipalAsString` to true) anywhere?","body":"Ok, you a custom AuthenticationFilter not far from a UsernamePasswordAuthenticationFilter. It is common to use a DaoAuthenticationProvider with that. Did you configure <code>setForcePrincipalAsString(True) </code> (or set <code>forcePrincipalAsString</code> to true) anywhere?"},{"owner":{"account_id":222663,"reputation":1366,"user_id":481421,"accept_rate":51,"display_name":"Leejoy"},"score":0,"creation_date":1439823696,"post_id":32052076,"comment_id":52006259,"body_markdown":"@SergeBallesta No I didn&#39;t use those methods","body":"@SergeBallesta No I didn&#39;t use those methods"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1439825370,"post_id":32052076,"comment_id":52007328,"body_markdown":"With the shown code and a default (or common) configuration, `SecurityContextHolder.getContext().getAuthentication().getPrincipal()` should return the `User` object provided by `MyUserDetailsService`. You should try to use a debugger to follow a full authentication request (after downloading sources for SpringSecurity)","body":"With the shown code and a default (or common) configuration, <code>SecurityContextHolder.getContext().getAuthentication().getPr&zwnj;&#8203;incipal()</code> should return the <code>User</code> object provided by <code>MyUserDetailsService</code>. You should try to use a debugger to follow a full authentication request (after downloading sources for SpringSecurity)"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1439825461,"post_id":32052076,"comment_id":52007401,"body_markdown":"Or do you have anything (a filter or ?) that would use the authentication object to set the request Principal to the user name ?","body":"Or do you have anything (a filter or ?) that would use the authentication object to set the request Principal to the user name ?"}],"answers":[{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1439820454,"creation_date":1439820454,"answer_id":32052526,"question_id":32052076,"body_markdown":"You just went one step foo far. `SecurityContextHolder.getContext().getAuthentication()` returns an `Authentication` object. **You** should know how you authenticated the user, and what can the the concrete class implementing `Authentication`. Assuming it is a subclass of `AbstractAuthenticationToken` (all Spring provided implementation are), and `getDetails()` returns a `UserDetails`, you can just use:\r\n\r\n    AbstractAuthenticationToken auth = (AbstractAuthenticationToken)\r\n        SecurityContextHolder.getContext().getAuthentication();\r\n    UserDetails details = (UserDetails) auth.getDetails();","title":"How to get the current logged in user object from spring security?","body":"<p>You just went one step foo far. <code>SecurityContextHolder.getContext().getAuthentication()</code> returns an <code>Authentication</code> object. <strong>You</strong> should know how you authenticated the user, and what can the the concrete class implementing <code>Authentication</code>. Assuming it is a subclass of <code>AbstractAuthenticationToken</code> (all Spring provided implementation are), and <code>getDetails()</code> returns a <code>UserDetails</code>, you can just use:</p>\n\n<pre><code>AbstractAuthenticationToken auth = (AbstractAuthenticationToken)\n    SecurityContextHolder.getContext().getAuthentication();\nUserDetails details = (UserDetails) auth.getDetails();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":936721,"reputation":12702,"user_id":965535,"accept_rate":0,"display_name":"Bassem Reda Zohdy"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1439821414,"creation_date":1439821414,"answer_id":32052882,"question_id":32052076,"body_markdown":"you can use it like \r\n\r\n    Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n    \r\n    if (principal instanceof UserDetails) {\r\n    String username = ((UserDetails)principal).getUsername();\r\n    } else {\r\n    String username = principal.toString();\r\n    }\r\n\r\nit is in spring security reference http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#obtaining-information-about-the-current-user","title":"How to get the current logged in user object from spring security?","body":"<p>you can use it like </p>\n\n<pre><code>Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\nif (principal instanceof UserDetails) {\nString username = ((UserDetails)principal).getUsername();\n} else {\nString username = principal.toString();\n}\n</code></pre>\n\n<p>it is in spring security reference <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#obtaining-information-about-the-current-user\" rel=\"noreferrer\">http://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/#obtaining-information-about-the-current-user</a></p>\n"},{"tags":[],"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1523882912,"creation_date":1461928274,"answer_id":36936819,"question_id":32052076,"body_markdown":"    SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\nReturns the current user object. This can be `User`, `UserDetails` or your *custom user* object. \r\nYou will need to cast the return object to `UserDetails` or your own  user object if it is a custom one.\r\n\r\nOR you can inject `Authentication` or `Principal` directly in to your controllers.\r\nPrinciple is your `UserDetails`/custom user object.\r\n\r\nNote: `UserDetails` is an interface","title":"How to get the current logged in user object from spring security?","body":"<pre><code>SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n\n<p>Returns the current user object. This can be <code>User</code>, <code>UserDetails</code> or your <em>custom user</em> object. \nYou will need to cast the return object to <code>UserDetails</code> or your own  user object if it is a custom one.</p>\n\n<p>OR you can inject <code>Authentication</code> or <code>Principal</code> directly in to your controllers.\nPrinciple is your <code>UserDetails</code>/custom user object.</p>\n\n<p>Note: <code>UserDetails</code> is an interface</p>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1597840747,"creation_date":1541745607,"answer_id":53220968,"question_id":32052076,"body_markdown":"You can simply inject the Authentication Interface to your Controller and get the username of the logged in user, like below:\r\n     \r\n```java\r\n    @GetMapping(value = &quot;/username&quot;)\r\n    @ResponseBody\r\n    public String currentUserName(Authentication authentication) {\r\n    \r\n        if (authentication != null)\r\n            return authentication.getName();\r\n        else\r\n            return &quot;&quot;;\r\n    }\r\n```\r\n\r\n\r\n","title":"How to get the current logged in user object from spring security?","body":"<p>You can simply inject the Authentication Interface to your Controller and get the username of the logged in user, like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/username&quot;)\n    @ResponseBody\n    public String currentUserName(Authentication authentication) {\n    \n        if (authentication != null)\n            return authentication.getName();\n        else\n            return &quot;&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519922,"reputation":10415,"user_id":2190498,"accept_rate":30,"display_name":"ttulka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599737496,"creation_date":1599737169,"answer_id":63828702,"question_id":32052076,"body_markdown":"Since version 5.2 you can use [CurrentSecurityContext](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/annotation/CurrentSecurityContext.html) annotation to get the current user authentication:\r\n\r\n    @GetMapping(&quot;/authentication&quot;)\r\n    public Object authentication(@CurrentSecurityContext(expression=&quot;authentication&quot;)\r\n                                 Authentication authentication) {\r\n        return authentication.getDetails();\r\n    }\r\n\r\nor even:\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello(@CurrentSecurityContext(expression=&quot;authentication.name&quot;)\r\n                        String username) {\r\n        return &quot;Hello, &quot; + username + &quot;!&quot;;\r\n    }","title":"How to get the current logged in user object from spring security?","body":"<p>Since version 5.2 you can use <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/annotation/CurrentSecurityContext.html\" rel=\"noreferrer\">CurrentSecurityContext</a> annotation to get the current user authentication:</p>\n<pre><code>@GetMapping(&quot;/authentication&quot;)\npublic Object authentication(@CurrentSecurityContext(expression=&quot;authentication&quot;)\n                             Authentication authentication) {\n    return authentication.getDetails();\n}\n</code></pre>\n<p>or even:</p>\n<pre><code>@GetMapping(&quot;/hello&quot;)\npublic String hello(@CurrentSecurityContext(expression=&quot;authentication.name&quot;)\n                    String username) {\n    return &quot;Hello, &quot; + username + &quot;!&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18711989,"reputation":11,"user_id":13641883,"display_name":"jainneel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601241342,"creation_date":1601237391,"answer_id":64092861,"question_id":32052076,"body_markdown":"You can get current login user via: \r\n\r\n 1)  `@Authenticationprincipal`\r\n\r\n 2)  `SecurityContextHolder.getContext().getAuthentication().getPrinciple()`\r\n\r\n ","title":"How to get the current logged in user object from spring security?","body":"<p>You can get current login user via:</p>\n<ol>\n<li><p><code>@Authenticationprincipal</code></p>\n</li>\n<li><p><code>SecurityContextHolder.getContext().getAuthentication().getPrinciple()</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19836317,"reputation":161,"user_id":14529896,"display_name":"Khalid Tamine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606868977,"creation_date":1606852711,"answer_id":65097650,"question_id":32052076,"body_markdown":"If you want to get all the attributes of your current user , first go to the class that implements `UserDetails` , more likely its called `UserPrincipal` and write a get method for each attribute like : `getAge()`, seconde go to you HTML  file and write this \r\n \r\n\r\n    &lt;span th:text=&quot;${#request.userPrincipal.principal.age}&gt; &lt;/span&gt;\r\n\r\n \r\nAnd by the way you dont need to add any ModelAttribute in your controller \r\nHope it fix the problem , and you can ask me","title":"How to get the current logged in user object from spring security?","body":"<p>If you want to get all the attributes of your current user , first go to the class that implements <code>UserDetails</code> , more likely its called <code>UserPrincipal</code> and write a get method for each attribute like : <code>getAge()</code>, seconde go to you HTML  file and write this</p>\n<pre><code>&lt;span th:text=&quot;${#request.userPrincipal.principal.age}&gt; &lt;/span&gt;\n</code></pre>\n<p>And by the way you dont need to add any ModelAttribute in your controller\nHope it fix the problem , and you can ask me</p>\n"},{"tags":[],"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1607592805,"creation_date":1607592805,"answer_id":65231879,"question_id":32052076,"body_markdown":"This may be a good article to read.\r\nThe article shows how to get the user information in a Spring application, starting with the common static access mechanism, followed by several better ways to inject the principal.\r\n\r\nhttps://www.baeldung.com/get-user-in-spring-security ","title":"How to get the current logged in user object from spring security?","body":"<p>This may be a good article to read.\nThe article shows how to get the user information in a Spring application, starting with the common static access mechanism, followed by several better ways to inject the principal.</p>\n<p><a href=\"https://www.baeldung.com/get-user-in-spring-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/get-user-in-spring-security</a></p>\n"},{"tags":[],"owner":{"account_id":20880550,"reputation":21,"user_id":15338392,"display_name":"osama mussawir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614979945,"creation_date":1614978979,"answer_id":66499732,"question_id":32052076,"body_markdown":"\r\nyou need to downcast principal to its implemented class, then you can extract context object which you set in securityContext.\r\n\r\n     AbstractAuthenticationToken a = (AbstractAuthenticationToken) request.getUserPrincipal();\r\n     UserContext context = (UserContext) a.getPrincipal();","title":"How to get the current logged in user object from spring security?","body":"<p>you need to downcast principal to its implemented class, then you can extract context object which you set in securityContext.</p>\n<pre><code> AbstractAuthenticationToken a = (AbstractAuthenticationToken) request.getUserPrincipal();\n UserContext context = (UserContext) a.getPrincipal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617383855,"creation_date":1616521159,"answer_id":66768445,"question_id":32052076,"body_markdown":"I solved this problem by using `SecurityContextHolder` and `Authentication.getName()` :\r\n      \r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n            \r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    \r\n    String login = authentication.getName();\r\n    \r\n    User user = usersService.getUserByLogin(login);","title":"How to get the current logged in user object from spring security?","body":"<p>I solved this problem by using <code>SecurityContextHolder</code> and <code>Authentication.getName()</code> :</p>\n<pre><code>import org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\n        \nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\nString login = authentication.getName();\n\nUser user = usersService.getUserByLogin(login);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330754,"reputation":860,"user_id":12553922,"display_name":"Anis KCHAOU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669578490,"creation_date":1635843412,"answer_id":69807650,"question_id":32052076,"body_markdown":"This solution worked for me with spring boot 2.5 \r\n\r\nFirst, define a `User` `Principal` class\r\n\r\n    public class UserPrincipal implements UserDetails {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate User user;\r\n    \r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n        // other methods ....\r\n    }\r\n\r\nSecond, define a `User` class:\r\n\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tLong id;\r\n    \tString username;\r\n    \tString password;\r\n        //getters ans setters ...\r\n    }\r\n\r\nThird, define a `UserAuth` class: \r\n\r\n     public class UserAuth {\r\n        \r\n         public String getUsername()\r\n         {\r\n             UserPrincipal principal \r\n                 = (UserPrincipal)SecurityContextHolder\r\n                     .getContext()\r\n                     .getAuthentication()\r\n                     .getPrincipal();\r\n             return principal.getUser().getUsername();\r\n        }\r\n    }\r\n\r\nFinally, you can auto-wire the `UserAuth` class as needed.","title":"How to get the current logged in user object from spring security?","body":"<p>This solution worked for me with spring boot 2.5</p>\n<p>First, define a <code>User</code> <code>Principal</code> class</p>\n<pre><code>public class UserPrincipal implements UserDetails {\n\n    private static final long serialVersionUID = 1L;\n    private User user;\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n    // other methods ....\n}\n</code></pre>\n<p>Second, define a <code>User</code> class:</p>\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n    String username;\n    String password;\n    //getters ans setters ...\n}\n</code></pre>\n<p>Third, define a <code>UserAuth</code> class:</p>\n<pre><code> public class UserAuth {\n    \n     public String getUsername()\n     {\n         UserPrincipal principal \n             = (UserPrincipal)SecurityContextHolder\n                 .getContext()\n                 .getAuthentication()\n                 .getPrincipal();\n         return principal.getUser().getUsername();\n    }\n}\n</code></pre>\n<p>Finally, you can auto-wire the <code>UserAuth</code> class as needed.</p>\n"},{"tags":[],"owner":{"account_id":12322042,"reputation":139,"user_id":8991081,"display_name":"Akshay Sardhara"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641828438,"creation_date":1641824874,"answer_id":70653961,"question_id":32052076,"body_markdown":"So almost every answer seems correct and feasible, kudos to all contributors, but to remove boilerplate code, could be useful and easy:\r\nmake an Interface and its implementation that will contain all utility methods, and then simply `@Autowire` that.\r\n\r\n\r\n    public interface AuthHelper {\r\n        Authentication getAuthentication();\r\n        public String getName();\r\n        public UserDetails getUserDetails()\r\n    }\r\n    @Component\r\n    public class AuthHelperImpl implements AuthHelper {\r\n    \r\n        @Override\r\n        public Authentication getAuthentication() {\r\n            return SecurityContextHolder.getContext().getAuthentication();\r\n        }\r\n    \tpublic String getName() {\r\n    \t\treturn getAuthentication().getName();\r\n    \t}\r\n    \tpublic UserDetails getUserDetails() {\r\n    \t\treturn (UserDetails) getAuthentication().getPrincipal();\r\n    \t}\r\n    //and more utilities you need\r\n    //you can also cast with UserPrincipal\r\n    }\r\n\r\nnow, at controllers:\r\n\r\n    @Controller\r\n    public class DemoController {\r\n        @Autowired\r\n        private AuthHelper authHelper;\r\n    \r\n        @RequestMapping(value = &quot;/username&quot;, method = RequestMethod.GET)\r\n        @ResponseBody\r\n        public String currentUserNameSimple() {\r\n            return authHelper.getName;\r\n        }\r\n    }\r\n\r\n","title":"How to get the current logged in user object from spring security?","body":"<p>So almost every answer seems correct and feasible, kudos to all contributors, but to remove boilerplate code, could be useful and easy:\nmake an Interface and its implementation that will contain all utility methods, and then simply <code>@Autowire</code> that.</p>\n<pre><code>public interface AuthHelper {\n    Authentication getAuthentication();\n    public String getName();\n    public UserDetails getUserDetails()\n}\n@Component\npublic class AuthHelperImpl implements AuthHelper {\n\n    @Override\n    public Authentication getAuthentication() {\n        return SecurityContextHolder.getContext().getAuthentication();\n    }\n    public String getName() {\n        return getAuthentication().getName();\n    }\n    public UserDetails getUserDetails() {\n        return (UserDetails) getAuthentication().getPrincipal();\n    }\n//and more utilities you need\n//you can also cast with UserPrincipal\n}\n</code></pre>\n<p>now, at controllers:</p>\n<pre><code>@Controller\npublic class DemoController {\n    @Autowired\n    private AuthHelper authHelper;\n\n    @RequestMapping(value = &quot;/username&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public String currentUserNameSimple() {\n        return authHelper.getName;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13795405,"reputation":51,"user_id":9956744,"display_name":"4teen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684604731,"creation_date":1684604182,"answer_id":76296548,"question_id":32052076,"body_markdown":"\r\n\r\n    public class User implements UserDetails {\r\n    \r\n        private String firstname;\r\n        private String lastname;\r\n    \r\n    }\r\n\r\nassuming you have a custom user implementing UserDetails class\r\n    \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    class UsersController {\r\n    \r\n        @GetMapping\r\n        public User fetchUser(@AuthenticationPrincipal User user) {\r\n            return user;\r\n        }\r\n    }","title":"How to get the current logged in user object from spring security?","body":"<pre><code>public class User implements UserDetails {\n\n    private String firstname;\n    private String lastname;\n\n}\n</code></pre>\n<p>assuming you have a custom user implementing UserDetails class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\nclass UsersController {\n\n    @GetMapping\n    public User fetchUser(@AuthenticationPrincipal User user) {\n        return user;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":222663,"reputation":1366,"user_id":481421,"accept_rate":51,"display_name":"Leejoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173138,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":13,"score":54,"last_activity_date":1684604731,"creation_date":1439819187,"question_id":32052076,"body_markdown":"I am using Spring security version 3.1.4.RELEASE.\r\nHow can I access the current logged in user object?\r\n\r\n    SecurityContextHolder.getContext().getAuthentication().getPrincipal()\r\n\r\nreturns user name, not user object. So how can I use the returned Username and get the UserDetails object?\r\n\r\nI have tried the following code:\r\n\r\n    public UserDetails getLoggedInUser(){\r\n\r\n\t\tfinal Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tif (auth != null &amp;&amp; auth.isAuthenticated() &amp;&amp; !(auth instanceof AnonymousAuthenticationToken))\r\n\t\t{\r\n\t\t\tif(auth.getDetails() !=null)\r\n\t\t\t\tSystem.out.println(auth.getDetails().getClass());\r\n\t\t\tif( auth.getDetails() instanceof UserDetails)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;UserDetails&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;!UserDetails&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nFollowing is the result:\r\n\r\n    [2015-08-17 19:44:46.738] INFO  http-bio-8443-exec-423   System.out    class org.springframework.security.web.authentication.WebAuthenticationDetails \r\n    [2015-08-17 19:44:46.738] INFO  http-bio-8443-exec-423   System.out    !UserDetails\r\n\r\nAuthenticationFilter class as follows:\r\n\r\n\tpublic class CustomUsernamePasswordAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\r\n\t\tpublic static final String SPRING_SECURITY_FORM_USERNAME_KEY = &quot;j_username&quot;;\r\n\t\tpublic static final String SPRING_SECURITY_FORM_PASSWORD_KEY = &quot;j_password&quot;;\r\n\t\tpublic static final String SPRING_SECURITY_LAST_USERNAME_KEY = &quot;SPRING_SECURITY_LAST_USERNAME&quot;;\r\n\t\tprivate String usernameParameter = SPRING_SECURITY_FORM_USERNAME_KEY;\r\n\t\tprivate String passwordParameter = SPRING_SECURITY_FORM_PASSWORD_KEY;\r\n\t\tprivate boolean postOnly = true;\r\n\r\n\t\tpublic CustomUsernamePasswordAuthenticationFilter() {\r\n\t\t\tsuper(&quot;/j_spring_security_check&quot;);\r\n\t\t}\r\n\r\n\t\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n\t\t\tif (postOnly &amp;&amp; !request.getMethod().equals(&quot;POST&quot;)) {\r\n\t\t\t\tthrow new AuthenticationServiceException(&quot;Authentication method not supported: &quot; + request.getMethod());\r\n\t\t\t}\r\n\r\n\t\t\tString username = obtainUsername(request);\r\n\t\t\tString password = obtainPassword(request);\r\n\t\t\tif (username == null) {\r\n\t\t\t\tusername = &quot;&quot;;\r\n\t\t\t}\r\n\t\t\tif (password == null) {\r\n\t\t\t\tpassword = &quot;&quot;;\r\n\t\t\t}\r\n\t\t\tusername = username.trim();\r\n\t\t\tUsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(username, password);\r\n\r\n\t\t\t// Allow subclasses to set the &quot;details&quot; property\r\n\t\t\tsetDetails(request, authRequest);\r\n\t\t\tif(this.getAuthenticationManager()==null){\r\n\t\t\t\tlogger.info(&quot;Authentication manager is null.&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tlogger.info(&quot;Authentication manager was &quot;+this.getAuthenticationManager().getClass().getName()); \r\n\t\t\t}\r\n\t\t\treturn this.getAuthenticationManager().authenticate(authRequest);\r\n\t\t}\r\n\r\n\t\tprotected String obtainPassword(HttpServletRequest request) {\r\n\t\t\treturn request.getParameter(passwordParameter);\r\n\t\t}\r\n\r\n\t\tprotected String obtainUsername(HttpServletRequest request) {\r\n\t\t\treturn request.getParameter(usernameParameter);\r\n\t\t}\r\n\r\n\t\tprotected void setDetails(HttpServletRequest request, UsernamePasswordAuthenticationToken authRequest) {\r\n\t\t\tauthRequest.setDetails(authenticationDetailsSource.buildDetails(request));\r\n\t\t}\r\n\r\n\t\tpublic void setUsernameParameter(String usernameParameter) {\r\n\t\t\tthis.usernameParameter = usernameParameter;\r\n\t\t}\r\n\r\n\t\tpublic void setPasswordParameter(String passwordParameter) {\r\n\t\t\tthis.passwordParameter = passwordParameter;\r\n\t\t}\r\n\r\n\t\tpublic void setPostOnly(boolean postOnly) {\r\n\t\t\tthis.postOnly = postOnly;\r\n\t\t}\r\n\r\n\t\tpublic final String getUsernameParameter() {\r\n\t\t\treturn usernameParameter;\r\n\t\t}\r\n\r\n\t\tpublic final String getPasswordParameter() {\r\n\t\t\treturn passwordParameter;\r\n\t\t}\r\n\t}\r\n\r\n\r\nAuthenticationProvider as follows:\r\n\r\n\t@Component\r\n\tpublic class CustomAuthenticationProvider extends AbstractUserDetailsAuthenticationProvider {\r\n\t\tprivate MyUserDetailsService userDetailsService;\r\n\r\n\t\tpublic MyUserDetailsService getUserDetailsService() {\r\n\t\t\treturn userDetailsService;\r\n\t\t}\r\n\r\n\t\tpublic void setUserDetailsService(MyUserDetailsService userDetailsService) {\r\n\t\t\tthis.userDetailsService = userDetailsService;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void additionalAuthenticationChecks(UserDetails arg0,\r\n\t\t\t\tUsernamePasswordAuthenticationToken arg1)\r\n\t\t\t\tthrows AuthenticationException {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected UserDetails retrieveUser(String arg0,\r\n\t\t\t\tUsernamePasswordAuthenticationToken arg1)\r\n\t\t\t\tthrows AuthenticationException {\r\n\t\t\treturn userDetailsService.loadUserByUsername(arg0);\r\n\t\t}\r\n\t}\r\n\r\nUserDetails class as follows:\r\n\r\n    \tpublic class MyUserDetailsService implements UserDetailsService {\t\t\r\n\t\tprivate final Map&lt;String, UserDetails&gt; usersList;\r\n\t\t\r\n\t\tpublic MyUserDetailsService() {\r\n\t\t\tCollection&lt;GrantedAuthority&gt; authorityList;\r\n\t\t\tfinal SimpleGrantedAuthority supervisorAuthority = new SimpleGrantedAuthority(&quot;supervisor&quot;);\r\n\t\t\tfinal SimpleGrantedAuthority userAuthority = new SimpleGrantedAuthority(&quot;user&quot;);\r\n\t\t\tusersList = new TreeMap&lt;String, UserDetails&gt;();\r\n\r\n\t\t\tauthorityList = new ArrayList&lt;GrantedAuthority&gt;();\r\n\t\t\tauthorityList.add(supervisorAuthority);\r\n\t\t\tauthorityList.add(userAuthority);\r\n\t\t\tusersList.put(&quot;admin&quot;, new User(&quot;admin&quot;, &quot;admin&quot;, authorityList));\r\n\r\n\t\t\tauthorityList = new ArrayList&lt;GrantedAuthority&gt;();\r\n\t\t\tauthorityList.add(userAuthority);\r\n\t\t\tusersList.put(&quot;peter&quot;, new User(&quot;peter&quot;, &quot;password123&quot;, authorityList));\r\n\r\n\t\t\t//probably don&#39;t use this in production\r\n\t\t\tfor(Map.Entry&lt;String, UserDetails&gt; user : usersList.entrySet()){\r\n\t\t\t\tlogger.info(user.getValue().toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic UserDetails loadUserByUsername(String username)throws UsernameNotFoundException {\r\n\t\t\tUserDetails ud = usersList.get(username);\r\n\t\t\tif (ud != null) {\r\n\t\t\t\tlogger.info(&quot;loadUserByUsername: found match, returning &quot;\r\n\t\t\t\t\t\t+ ud.getUsername() + &quot;:&quot; + ud.getPassword() + &quot;:&quot;\r\n\t\t\t\t\t\t+ ud.getAuthorities().toString());\r\n\t\t\t\treturn new User(ud.getUsername(), ud.getPassword(),\r\n\t\t\t\t\t\tud.getAuthorities());\r\n\t\t\t}\r\n\r\n\t\t\tlogger.info(&quot;loadUserByUsername: did not find match, throwing UsernameNotFoundException&quot;);\r\n\t\t\tthrow new UsernameNotFoundException(username);\r\n\t\t}\r\n\t}","title":"How to get the current logged in user object from spring security?","body":"<p>I am using Spring security version 3.1.4.RELEASE.\nHow can I access the current logged in user object?</p>\n<pre><code>SecurityContextHolder.getContext().getAuthentication().getPrincipal()\n</code></pre>\n<p>returns user name, not user object. So how can I use the returned Username and get the UserDetails object?</p>\n<p>I have tried the following code:</p>\n<pre><code>public UserDetails getLoggedInUser(){\n\n    final Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n    if (auth != null &amp;&amp; auth.isAuthenticated() &amp;&amp; !(auth instanceof AnonymousAuthenticationToken))\n    {\n        if(auth.getDetails() !=null)\n            System.out.println(auth.getDetails().getClass());\n        if( auth.getDetails() instanceof UserDetails)\n        {\n            System.out.println(&quot;UserDetails&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;!UserDetails&quot;);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Following is the result:</p>\n<pre><code>[2015-08-17 19:44:46.738] INFO  http-bio-8443-exec-423   System.out    class org.springframework.security.web.authentication.WebAuthenticationDetails \n[2015-08-17 19:44:46.738] INFO  http-bio-8443-exec-423   System.out    !UserDetails\n</code></pre>\n<p>AuthenticationFilter class as follows:</p>\n<pre><code>public class CustomUsernamePasswordAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\n    public static final String SPRING_SECURITY_FORM_USERNAME_KEY = &quot;j_username&quot;;\n    public static final String SPRING_SECURITY_FORM_PASSWORD_KEY = &quot;j_password&quot;;\n    public static final String SPRING_SECURITY_LAST_USERNAME_KEY = &quot;SPRING_SECURITY_LAST_USERNAME&quot;;\n    private String usernameParameter = SPRING_SECURITY_FORM_USERNAME_KEY;\n    private String passwordParameter = SPRING_SECURITY_FORM_PASSWORD_KEY;\n    private boolean postOnly = true;\n\n    public CustomUsernamePasswordAuthenticationFilter() {\n        super(&quot;/j_spring_security_check&quot;);\n    }\n\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        if (postOnly &amp;&amp; !request.getMethod().equals(&quot;POST&quot;)) {\n            throw new AuthenticationServiceException(&quot;Authentication method not supported: &quot; + request.getMethod());\n        }\n\n        String username = obtainUsername(request);\n        String password = obtainPassword(request);\n        if (username == null) {\n            username = &quot;&quot;;\n        }\n        if (password == null) {\n            password = &quot;&quot;;\n        }\n        username = username.trim();\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(username, password);\n\n        // Allow subclasses to set the &quot;details&quot; property\n        setDetails(request, authRequest);\n        if(this.getAuthenticationManager()==null){\n            logger.info(&quot;Authentication manager is null.&quot;);\n        } else {\n            logger.info(&quot;Authentication manager was &quot;+this.getAuthenticationManager().getClass().getName()); \n        }\n        return this.getAuthenticationManager().authenticate(authRequest);\n    }\n\n    protected String obtainPassword(HttpServletRequest request) {\n        return request.getParameter(passwordParameter);\n    }\n\n    protected String obtainUsername(HttpServletRequest request) {\n        return request.getParameter(usernameParameter);\n    }\n\n    protected void setDetails(HttpServletRequest request, UsernamePasswordAuthenticationToken authRequest) {\n        authRequest.setDetails(authenticationDetailsSource.buildDetails(request));\n    }\n\n    public void setUsernameParameter(String usernameParameter) {\n        this.usernameParameter = usernameParameter;\n    }\n\n    public void setPasswordParameter(String passwordParameter) {\n        this.passwordParameter = passwordParameter;\n    }\n\n    public void setPostOnly(boolean postOnly) {\n        this.postOnly = postOnly;\n    }\n\n    public final String getUsernameParameter() {\n        return usernameParameter;\n    }\n\n    public final String getPasswordParameter() {\n        return passwordParameter;\n    }\n}\n</code></pre>\n<p>AuthenticationProvider as follows:</p>\n<pre><code>@Component\npublic class CustomAuthenticationProvider extends AbstractUserDetailsAuthenticationProvider {\n    private MyUserDetailsService userDetailsService;\n\n    public MyUserDetailsService getUserDetailsService() {\n        return userDetailsService;\n    }\n\n    public void setUserDetailsService(MyUserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Override\n    protected void additionalAuthenticationChecks(UserDetails arg0,\n            UsernamePasswordAuthenticationToken arg1)\n            throws AuthenticationException {\n\n    }\n\n    @Override\n    protected UserDetails retrieveUser(String arg0,\n            UsernamePasswordAuthenticationToken arg1)\n            throws AuthenticationException {\n        return userDetailsService.loadUserByUsername(arg0);\n    }\n}\n</code></pre>\n<p>UserDetails class as follows:</p>\n<pre><code>    public class MyUserDetailsService implements UserDetailsService {       \n    private final Map&lt;String, UserDetails&gt; usersList;\n    \n    public MyUserDetailsService() {\n        Collection&lt;GrantedAuthority&gt; authorityList;\n        final SimpleGrantedAuthority supervisorAuthority = new SimpleGrantedAuthority(&quot;supervisor&quot;);\n        final SimpleGrantedAuthority userAuthority = new SimpleGrantedAuthority(&quot;user&quot;);\n        usersList = new TreeMap&lt;String, UserDetails&gt;();\n\n        authorityList = new ArrayList&lt;GrantedAuthority&gt;();\n        authorityList.add(supervisorAuthority);\n        authorityList.add(userAuthority);\n        usersList.put(&quot;admin&quot;, new User(&quot;admin&quot;, &quot;admin&quot;, authorityList));\n\n        authorityList = new ArrayList&lt;GrantedAuthority&gt;();\n        authorityList.add(userAuthority);\n        usersList.put(&quot;peter&quot;, new User(&quot;peter&quot;, &quot;password123&quot;, authorityList));\n\n        //probably don't use this in production\n        for(Map.Entry&lt;String, UserDetails&gt; user : usersList.entrySet()){\n            logger.info(user.getValue().toString());\n        }\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username)throws UsernameNotFoundException {\n        UserDetails ud = usersList.get(username);\n        if (ud != null) {\n            logger.info(&quot;loadUserByUsername: found match, returning &quot;\n                    + ud.getUsername() + &quot;:&quot; + ud.getPassword() + &quot;:&quot;\n                    + ud.getAuthorities().toString());\n            return new User(ud.getUsername(), ud.getPassword(),\n                    ud.getAuthorities());\n        }\n\n        logger.info(&quot;loadUserByUsername: did not find match, throwing UsernameNotFoundException&quot;);\n        throw new UsernameNotFoundException(username);\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","mysql","database","phpmyadmin"],"owner":{"account_id":8829573,"reputation":13,"user_id":15208072,"display_name":"Ethan Carlton "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684603573,"creation_date":1684603573,"question_id":76296503,"body_markdown":"I am trying to make an event driven database and application interaction. Basically what I want is the database to tell the application that something has changed in the database, and I&#39;ll implement an action listener in my application.\r\n\r\nI want the database to generate an exception after a &#39;student&#39; has been inserted, but the exception is generated before the data for the new &#39;student&#39; is actually inserted, so before the statement.executeUpdate(newStudent) method. Making the insertion unsuccessful. Here is my SQL code:\r\n\r\n```\r\nDELIMITER $$\r\nCREATE TRIGGER after_insert_trigger\r\nAFTER INSERT ON student\r\nFOR EACH ROW\r\nBEGIN\r\n    -- Trigger logic here:\r\n    -- Perform actions or operations when the trigger fires\r\n    SIGNAL SQLSTATE &#39;45000&#39; SET MESSAGE_TEXT = &#39;New data added to student table&#39;;\r\nEND$$\r\nDELIMITER ;\r\n```\r\n\r\njava code:  \r\n\r\n```\r\npublic void addStudent() {\r\n    try {\r\n        statement = connection.createStatement();\r\n\r\n        int id = 3;\r\n        String name = &quot;Johnny&quot;;\r\n        int age = 21;\r\n\r\n        String newStudent = &quot;INSERT INTO student (id, name, age) VALUES (&quot; + id + &quot;, &#39;&quot; + name + &quot;&#39;, &quot; + age + &quot;)&quot;;\r\n\r\n        statement.executeUpdate(newStudent);\r\n        System.out.println(name + &quot; inserted&quot;);\r\n\r\n        statement.close();\r\n    } catch (Exception e) {\r\n        handleException(e);\r\n    }\r\n}\r\n```\r\n\r\nAlso are there any better ways to implement an event driven database-application communication model?","title":"How do I make my trigger send an exception after the executeUpdate() method instead of before?","body":"<p>I am trying to make an event driven database and application interaction. Basically what I want is the database to tell the application that something has changed in the database, and I'll implement an action listener in my application.</p>\n<p>I want the database to generate an exception after a 'student' has been inserted, but the exception is generated before the data for the new 'student' is actually inserted, so before the statement.executeUpdate(newStudent) method. Making the insertion unsuccessful. Here is my SQL code:</p>\n<pre><code>DELIMITER $$\nCREATE TRIGGER after_insert_trigger\nAFTER INSERT ON student\nFOR EACH ROW\nBEGIN\n    -- Trigger logic here:\n    -- Perform actions or operations when the trigger fires\n    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'New data added to student table';\nEND$$\nDELIMITER ;\n</code></pre>\n<p>java code:</p>\n<pre><code>public void addStudent() {\n    try {\n        statement = connection.createStatement();\n\n        int id = 3;\n        String name = &quot;Johnny&quot;;\n        int age = 21;\n\n        String newStudent = &quot;INSERT INTO student (id, name, age) VALUES (&quot; + id + &quot;, '&quot; + name + &quot;', &quot; + age + &quot;)&quot;;\n\n        statement.executeUpdate(newStudent);\n        System.out.println(name + &quot; inserted&quot;);\n\n        statement.close();\n    } catch (Exception e) {\n        handleException(e);\n    }\n}\n</code></pre>\n<p>Also are there any better ways to implement an event driven database-application communication model?</p>\n"},{"tags":["java","nullpointerexception","microservices","dto"],"comments":[{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1576260383,"post_id":59326842,"comment_id":104854821,"body_markdown":"as you said just add @JsonInclude(Include.NON_NULL) at the DTO level.","body":"as you said just add @JsonInclude(Include.NON_NULL) at the DTO level."},{"owner":{"account_id":8360373,"reputation":107,"user_id":6278975,"accept_rate":40,"display_name":"Tom Jacob"},"score":0,"creation_date":1576499874,"post_id":59326842,"comment_id":104908079,"body_markdown":"@dassum adding  `@JsonInclude(JsonInclude.Include.NON_NULL)` does nothing","body":"@dassum adding  <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> does nothing"},{"owner":{"account_id":8809729,"reputation":2507,"user_id":6583134,"display_name":"Lemmy"},"score":0,"creation_date":1576508697,"post_id":59326842,"comment_id":104912673,"body_markdown":"can you share your DTO? Where did you put @JsonInclude(Include.NON_NULL)?","body":"can you share your DTO? Where did you put @JsonInclude(Include.NON_NULL)?"},{"owner":{"account_id":8360373,"reputation":107,"user_id":6278975,"accept_rate":40,"display_name":"Tom Jacob"},"score":0,"creation_date":1576511905,"post_id":59326842,"comment_id":104914313,"body_markdown":"@Lemmy I have updated the question","body":"@Lemmy I have updated the question"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1576512655,"post_id":59326842,"comment_id":104914707,"body_markdown":"`but where condition 2 is not met empty object fields are returned.` What is condition 2? There are no empty objects here.","body":"<code>but where condition 2 is not met empty object fields are returned.</code> What is condition 2? There are no empty objects here."},{"owner":{"account_id":8360373,"reputation":107,"user_id":6278975,"accept_rate":40,"display_name":"Tom Jacob"},"score":1,"creation_date":1576512915,"post_id":59326842,"comment_id":104914822,"body_markdown":"fields &quot;creditId&quot; and after are from different microservice. Within my controller (which as of yet are not displayed) contains optional fields, where you are able to provide parameters on which filtered result will be given. So if you enter parameters creditMode(profileCredit) 0 and username(profile) you should be returned data depending on what you requested @ChristopherSchneider","body":"fields &quot;creditId&quot; and after are from different microservice. Within my controller (which as of yet are not displayed) contains optional fields, where you are able to provide parameters on which filtered result will be given. So if you enter parameters creditMode(profileCredit) 0 and username(profile) you should be returned data depending on what you requested @ChristopherSchneider"},{"owner":{"account_id":8360373,"reputation":107,"user_id":6278975,"accept_rate":40,"display_name":"Tom Jacob"},"score":0,"creation_date":1576513071,"post_id":59326842,"comment_id":104914890,"body_markdown":"`if (theCreditDto != null)\n            theDTO.setCredit(theCreditDto);\n        else if (theCreditDto == null){\n            theDTO = null;\n        }` To get null I added this @ChristopherSchneider","body":"<code>if (theCreditDto != null)             theDTO.setCredit(theCreditDto);         else if (theCreditDto == null){             theDTO = null;         }</code> To get null I added this @ChristopherSchneider"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1576513393,"post_id":59326842,"comment_id":104915045,"body_markdown":"Again, there are no empty objects here. There are `int` values that are zero, if that&#39;s what you&#39;re talking about. `int` is not an object. `0` is the default value on an `int`. If these values are nullable, they need to be `Integer`.","body":"Again, there are no empty objects here. There are <code>int</code> values that are zero, if that&#39;s what you&#39;re talking about. <code>int</code> is not an object. <code>0</code> is the default value on an <code>int</code>. If these values are nullable, they need to be <code>Integer</code>."},{"owner":{"account_id":8360373,"reputation":107,"user_id":6278975,"accept_rate":40,"display_name":"Tom Jacob"},"score":0,"creation_date":1576514198,"post_id":59326842,"comment_id":104915444,"body_markdown":"I have updated from abstract `double` and primitive `int` to `Double` and `Integer`, now those fields don&#39;t show up whatsoever if they don&#39;t meet the condition. Well spotted @ChristopherSchneider","body":"I have updated from abstract <code>double</code> and primitive <code>int</code> to <code>Double</code> and <code>Integer</code>, now those fields don&#39;t show up whatsoever if they don&#39;t meet the condition. Well spotted @ChristopherSchneider"}],"answers":[{"tags":[],"owner":{"account_id":12842997,"reputation":557,"user_id":9290421,"display_name":"Lv007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576598656,"creation_date":1576598356,"answer_id":59377886,"question_id":59326842,"body_markdown":"Your &quot;objects&quot; which are elements can&#39;t be directly removed from a Page. What you can do is, get the content from the page, that will be a list and then remove the the element from the list according to your condition , then create a new Page with the data fields required for a Page.\r\n\r\nInstead of \r\n\r\n \r\n\r\n        @Override\r\n    public Page&lt;ProfileCreditDTO&gt; findProfileBySelectedParameters(String username, Integer gender, Integer profileType, Integer orientation, Boolean online, Double profileCredit, Integer creditMode, Double creditTotal, Pageable pageable) {\r\n        Page&lt;Profile&gt; searchData= profileRepository.findByAllParameters(username, gender, profileType, orientation, online, pageable);\r\n        Page&lt;ProfileCreditDTO&gt; searchProfileData=null;\r\n        if(searchData != null)\r\n            searchProfileData = searchData.map(x -&gt; this.convertProfileToProfileCreditDTO(x, profileCredit, creditMode, creditTotal));\r\n        return searchProfileData;\r\n    }\r\ntry\r\n\r\n       @Override\r\n    public Page&lt;ProfileCreditDTO&gt; findProfileBySelectedParameters(String username, Integer gender, Integer profileType, Integer orientation, Boolean online, Double profileCredit, Integer creditMode, Double creditTotal, Pageable pageable) {\r\n        Page&lt;Profile&gt; searchData= profileRepository.findByAllParameters(username, gender, profileType, orientation, online, pageable);\r\n        Page&lt;ProfileCreditDTO&gt; searchProfileData=null;\r\n        if(searchData != null)\r\n            searchProfileData = searchData.map(x -&gt; this.convertProfileToProfileCreditDTO(x, profileCredit, creditMode, creditTotal));\r\n\r\n        List modifiedAppList = searchProfileData.getContent().stream().filter(v -&gt; v !=null).collect(Collectors.toList()); //Will filter your search result and put it into a list\r\n\r\n        Page&lt;ProfileCreditDTO&gt; filteredList = new PageImpl&lt;&gt;(modifiedAppList, new PageRequest(0, searchProfileData.getSize()), searchProfileData.getTotalElements()); //Will put your filtered list back into page\r\n        \r\n        return  filteredList; //Returns filtered result\r\n\r\n    }\r\n\r\n\r\nGot the answer for this question from https://stackoverflow.com/questions/51401929/spring-data-rest-how-to-remove-an-element-from-a-page only amended the code and bit of the wording, as answer was already spot on ;)\r\n\r\n","title":"Java Spring doesn&#39;t return DTO objects if null?","body":"<p>Your \"objects\" which are elements can't be directly removed from a Page. What you can do is, get the content from the page, that will be a list and then remove the the element from the list according to your condition , then create a new Page with the data fields required for a Page.</p>\n\n<p>Instead of </p>\n\n<pre><code>    @Override\npublic Page&lt;ProfileCreditDTO&gt; findProfileBySelectedParameters(String username, Integer gender, Integer profileType, Integer orientation, Boolean online, Double profileCredit, Integer creditMode, Double creditTotal, Pageable pageable) {\n    Page&lt;Profile&gt; searchData= profileRepository.findByAllParameters(username, gender, profileType, orientation, online, pageable);\n    Page&lt;ProfileCreditDTO&gt; searchProfileData=null;\n    if(searchData != null)\n        searchProfileData = searchData.map(x -&gt; this.convertProfileToProfileCreditDTO(x, profileCredit, creditMode, creditTotal));\n    return searchProfileData;\n}\n</code></pre>\n\n<p>try</p>\n\n<pre><code>   @Override\npublic Page&lt;ProfileCreditDTO&gt; findProfileBySelectedParameters(String username, Integer gender, Integer profileType, Integer orientation, Boolean online, Double profileCredit, Integer creditMode, Double creditTotal, Pageable pageable) {\n    Page&lt;Profile&gt; searchData= profileRepository.findByAllParameters(username, gender, profileType, orientation, online, pageable);\n    Page&lt;ProfileCreditDTO&gt; searchProfileData=null;\n    if(searchData != null)\n        searchProfileData = searchData.map(x -&gt; this.convertProfileToProfileCreditDTO(x, profileCredit, creditMode, creditTotal));\n\n    List modifiedAppList = searchProfileData.getContent().stream().filter(v -&gt; v !=null).collect(Collectors.toList()); //Will filter your search result and put it into a list\n\n    Page&lt;ProfileCreditDTO&gt; filteredList = new PageImpl&lt;&gt;(modifiedAppList, new PageRequest(0, searchProfileData.getSize()), searchProfileData.getTotalElements()); //Will put your filtered list back into page\n\n    return  filteredList; //Returns filtered result\n\n}\n</code></pre>\n\n<p>Got the answer for this question from <a href=\"https://stackoverflow.com/questions/51401929/spring-data-rest-how-to-remove-an-element-from-a-page\">Spring Data Rest - How to remove an element from a Page?</a> only amended the code and bit of the wording, as answer was already spot on ;)</p>\n"},{"tags":[],"owner":{"account_id":17431320,"reputation":1167,"user_id":12635249,"display_name":"hexhad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623416550,"creation_date":1623416550,"answer_id":67937527,"question_id":59326842,"body_markdown":"**add this**\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)","title":"Java Spring doesn&#39;t return DTO objects if null?","body":"<p><strong>add this</strong></p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n"}],"owner":{"account_id":8360373,"reputation":107,"user_id":6278975,"accept_rate":40,"display_name":"Tom Jacob"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59377886,"answer_count":2,"score":1,"last_activity_date":1684603544,"creation_date":1576256181,"question_id":59326842,"body_markdown":"I have a Java implementation Override method which returns DTO object results from 2 microservices depending on entered parameters.\r\n\r\nI am able to get filtered search results however where the 2nd service conditions were not met I receive &#39;null&#39; I would want to achieve a results where null objects are not returned whatsoever.How am I able to return results which meet all specified parameters?\r\n\r\nBelow I have provided screenshot of response I receive using &quot;Swagger&quot; and the code snipped which does all the magic.\r\n\r\nWould I require to use ObjectMapper or something like `@JsonInclude(Include.NON_NULL)`, however can I use it within service implantation and with DTO objects?\r\n\r\nAny further suggestions or idea bouncing would be appreciated.\r\n\r\nI have further build on my previous question https://stackoverflow.com/questions/59304182/java-pass-variable-into-mapped-dto-method\r\n\r\nSwagger response:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nCode snippet:\r\n\r\n        @Override\r\n    public Page&lt;ProfileCreditDTO&gt; findProfileBySelectedParameters(String username, Integer gender, Integer profileType, Integer orientation, Boolean online, Double profileCredit, Integer creditMode, Double creditTotal, Pageable pageable) {\r\n        Page&lt;Profile&gt; searchData= profileRepository.findByAllParameters(username, gender, profileType, orientation, online, pageable);\r\n        Page&lt;ProfileCreditDTO&gt; searchProfileData=null;\r\n        if(searchData != null)\r\n            searchProfileData = searchData.map(x -&gt; this.convertProfileToProfileCreditDTO(x, profileCredit, creditMode, creditTotal));\r\n        return searchProfileData;\r\n    }\r\n\r\n\r\n    public ProfileCreditDTO convertProfileToProfileCreditDTO(final Profile theProfile, Double profileCredit, Integer creditMode, Double creditTotal)  {\r\n        if(theProfile == null)\r\n            return null;\r\n        ProfileCreditDTO theDTO= new ProfileCreditDTO();\r\n        theDTO.setProfile(theProfile);\r\n        CreditDTO theCreditDto = profileCreditClient.findClientByProfileId(theProfile.getId(), profileCredit, creditMode, creditTotal);\r\n        log.error(String.valueOf(theCreditDto));\r\n        if (theCreditDto != null)\r\n            theDTO.setCredit(theCreditDto);\r\n        else {\r\n            return null;\r\n        }\r\n\r\n        return theDTO;\r\n    }\r\n\r\n**Updated**\r\n\r\nI have tried adding `@JsonInclude(Include.NON_NULL)` into ProfileCredit DTO still nothing, also have added same thing into CreditDTO.\r\n\r\nProfileCredit DTO:\r\n\r\n   \r\n\r\n     @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ProfileCreditDTO {\r\n        // profile fields\r\n        private Long profileId;\r\n        @Size(min = 2, max = 50)\r\n        private String username;\r\n        private Integer gender;\r\n        private Integer profileType;\r\n        private Integer orientation;\r\n        private boolean online;\r\n    \r\n    \r\n        // Credit fields\r\n        private Long creditId;\r\n        @Column(unique = true)\r\n        private Double profileCredit;  //X\r\n        private Integer creditMode;\r\n        private Integer creditCheck;\r\n    private Double creditTotal;\r\n\r\n    /**\r\n     * set the profile derived data\r\n     * @param profile\r\n     */\r\n    public void setProfile(final Profile profile){\r\n        this.setProfileId(profile.getId());\r\n        this.setUsername(profile.getUsername());\r\n        this.setGender(profile.getGender());\r\n        this.setProfileType(profile.getProfileType());\r\n        this.setOrientation(profile.getOrientation());\r\n        this.setOnline(profile.isOnline());\r\n    }\r\n\r\n    /**\r\n     * Set the credit aspect\r\n     * @param credit\r\n     */\r\n    public void setCredit(final CreditDTO credit){\r\n        this.setCreditId(credit.getId());\r\n        this.setProfileId(credit.getProfileId());\r\n        this.setProfileCredit(credit.getProfileCredit());\r\n        this.setCreditMode(credit.getCreditMode());\r\n        this.setCreditTotal(credit.getCreditTotal());\r\n\r\n    }\r\n\r\nWhen I don&#39;t specify `return null;` within implementation, the response looks like this. As you can see all objects gets returned which meets condition 1 but where condition 2 is not met empty object fields are returned.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9dS2m.png\r\n  [2]: https://i.stack.imgur.com/JZXfK.png","title":"Java Spring doesn&#39;t return DTO objects if null?","body":"<p>I have a Java implementation Override method which returns DTO object results from 2 microservices depending on entered parameters.</p>\n<p>I am able to get filtered search results however where the 2nd service conditions were not met I receive 'null' I would want to achieve a results where null objects are not returned whatsoever.How am I able to return results which meet all specified parameters?</p>\n<p>Below I have provided screenshot of response I receive using &quot;Swagger&quot; and the code snipped which does all the magic.</p>\n<p>Would I require to use ObjectMapper or something like <code>@JsonInclude(Include.NON_NULL)</code>, however can I use it within service implantation and with DTO objects?</p>\n<p>Any further suggestions or idea bouncing would be appreciated.</p>\n<p>I have further build on my previous question <a href=\"https://stackoverflow.com/questions/59304182/java-pass-variable-into-mapped-dto-method\">Java pass variable into mapped DTO method?</a></p>\n<p>Swagger response:</p>\n<p><a href=\"https://i.stack.imgur.com/9dS2m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9dS2m.png\" alt=\"enter image description here\" /></a></p>\n<p>Code snippet:</p>\n<pre><code>    @Override\npublic Page&lt;ProfileCreditDTO&gt; findProfileBySelectedParameters(String username, Integer gender, Integer profileType, Integer orientation, Boolean online, Double profileCredit, Integer creditMode, Double creditTotal, Pageable pageable) {\n    Page&lt;Profile&gt; searchData= profileRepository.findByAllParameters(username, gender, profileType, orientation, online, pageable);\n    Page&lt;ProfileCreditDTO&gt; searchProfileData=null;\n    if(searchData != null)\n        searchProfileData = searchData.map(x -&gt; this.convertProfileToProfileCreditDTO(x, profileCredit, creditMode, creditTotal));\n    return searchProfileData;\n}\n\n\npublic ProfileCreditDTO convertProfileToProfileCreditDTO(final Profile theProfile, Double profileCredit, Integer creditMode, Double creditTotal)  {\n    if(theProfile == null)\n        return null;\n    ProfileCreditDTO theDTO= new ProfileCreditDTO();\n    theDTO.setProfile(theProfile);\n    CreditDTO theCreditDto = profileCreditClient.findClientByProfileId(theProfile.getId(), profileCredit, creditMode, creditTotal);\n    log.error(String.valueOf(theCreditDto));\n    if (theCreditDto != null)\n        theDTO.setCredit(theCreditDto);\n    else {\n        return null;\n    }\n\n    return theDTO;\n}\n</code></pre>\n<p><strong>Updated</strong></p>\n<p>I have tried adding <code>@JsonInclude(Include.NON_NULL)</code> into ProfileCredit DTO still nothing, also have added same thing into CreditDTO.</p>\n<p>ProfileCredit DTO:</p>\n<pre><code> @Data\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ProfileCreditDTO {\n    // profile fields\n    private Long profileId;\n    @Size(min = 2, max = 50)\n    private String username;\n    private Integer gender;\n    private Integer profileType;\n    private Integer orientation;\n    private boolean online;\n\n\n    // Credit fields\n    private Long creditId;\n    @Column(unique = true)\n    private Double profileCredit;  //X\n    private Integer creditMode;\n    private Integer creditCheck;\nprivate Double creditTotal;\n\n/**\n * set the profile derived data\n * @param profile\n */\npublic void setProfile(final Profile profile){\n    this.setProfileId(profile.getId());\n    this.setUsername(profile.getUsername());\n    this.setGender(profile.getGender());\n    this.setProfileType(profile.getProfileType());\n    this.setOrientation(profile.getOrientation());\n    this.setOnline(profile.isOnline());\n}\n\n/**\n * Set the credit aspect\n * @param credit\n */\npublic void setCredit(final CreditDTO credit){\n    this.setCreditId(credit.getId());\n    this.setProfileId(credit.getProfileId());\n    this.setProfileCredit(credit.getProfileCredit());\n    this.setCreditMode(credit.getCreditMode());\n    this.setCreditTotal(credit.getCreditTotal());\n\n}\n</code></pre>\n<p>When I don't specify <code>return null;</code> within implementation, the response looks like this. As you can see all objects gets returned which meets condition 1 but where condition 2 is not met empty object fields are returned.</p>\n<p><a href=\"https://i.stack.imgur.com/JZXfK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZXfK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist","concurrency","hashmap","iterator"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1469156625,"post_id":38517447,"comment_id":64431249,"body_markdown":"Shouldn&#39;t that be: `for(Iterator&lt;DifferentObject&gt; it=HP.get(k).iterator();it.hasNext();){`? What is iterator in this context?","body":"Shouldn&#39;t that be: <code>for(Iterator&lt;DifferentObject&gt; it=HP.get(k).iterator();it.hasNext();){</code>? What is iterator in this context?"},{"owner":{"account_id":6340671,"reputation":31,"user_id":4922679,"display_name":"Luchingador"},"score":0,"creation_date":1469159225,"post_id":38517447,"comment_id":64431772,"body_markdown":"an ArrayList&lt;&gt; Iterator? of a custom object, is a truck class not much in it, id, capacity.","body":"an ArrayList&lt;&gt; Iterator? of a custom object, is a truck class not much in it, id, capacity."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1469159906,"post_id":38517447,"comment_id":64431924,"body_markdown":"You&#39;ve got a simple typographical error in your for loop as noted in my comment above.","body":"You&#39;ve got a simple typographical error in your for loop as noted in my comment above."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1469159922,"post_id":38517447,"comment_id":64431933,"body_markdown":"It should be `it.hasNext()` not `iterator.hasNext()`","body":"It should be <code>it.hasNext()</code> not <code>iterator.hasNext()</code>"},{"owner":{"account_id":6340671,"reputation":31,"user_id":4922679,"display_name":"Luchingador"},"score":0,"creation_date":1469191327,"post_id":38517447,"comment_id":64447573,"body_markdown":"ah yes, that is a error i did coping the code here, is not present on the code itself, the class is quite large and theres a lot of context nessesary to understant the hole class, but my point is, that really is the same code right?","body":"ah yes, that is a error i did coping the code here, is not present on the code itself, the class is quite large and theres a lot of context nessesary to understant the hole class, but my point is, that really is the same code right?"},{"owner":{"account_id":6340671,"reputation":31,"user_id":4922679,"display_name":"Luchingador"},"score":0,"creation_date":1469191671,"post_id":38517447,"comment_id":64447845,"body_markdown":"Sorry for responding to my self, i think i found the error but i still cant make much sense of it.","body":"Sorry for responding to my self, i think i found the error but i still cant make much sense of it."}],"owner":{"account_id":6340671,"reputation":31,"user_id":4922679,"display_name":"Luchingador"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1469157572,"answer_count":0,"score":2,"last_activity_date":1684603272,"creation_date":1469156315,"question_id":38517447,"body_markdown":"So i was working on a simple Java code\r\n\r\ni have this: \r\n\r\n    HashMap&lt;ObjectKey,ArrayList&lt;DifferentObject&gt;&gt; HP;\r\n\r\nSo i used it how i wanted and it worked heres the first code:\r\n\r\n    FillHashMap(HP);\r\n    for(ObjectKey k:HP.keySet()){\r\n        ArrayList&lt;DifferentObject&gt; temp=HP.get(k);\r\n        for(Iterator&lt;DifferentObject&gt; it=temp.iterator(); it.hasNext();){\r\n            if(it.hasNext()){\r\n                DifferentObject OB=iterator.next();\r\n                if(OB.Data&lt;OtherData &amp;&amp; OB.Time&lt;CurrentTime){\r\n                    it.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\nAnd it works like a charm, so i went out to clean my code a bit make it more presentable and now it looks like this:\r\n\r\n    FillHashMap(HP);\r\n    for(Object k:HP.keySet()){\r\n      for(Iterator&lt;DifferentObject&gt; it=HP.get(k).iterator();it.hasNext();){\r\n          DifferentObject OB=it.next(); (*)\r\n          if(Condition(OB)){\r\n               it.remove();\r\n          }\r\n    }      \r\n    }\r\n\r\nAnd then i get the ConcurrentModificationException on the line with the (*)\r\nThe other method that changes HP is FillHashMap and its already over by the time it reaches the for-each cycle, it really is the same code right?\r\n\r\nThen why is giving me the error now?\r\n\r\nAny remote help or suggestion would be apreciated. Thank you.\r\n\r\nEDIT: So i went back to FillHashMap method:\r\n\r\n    FillHashMap(HashMap HP){\r\n       Differentobject x=new DifferentObject(); \r\n       for(iterator over hashmap){\r\n           ArrayList&lt;Different Object&gt; temp= HP.get(k);\r\n           temp.SetSomething(int a);\r\n           temp.add(x)\r\n       }\r\n   }\r\n\r\n   \r\n\r\nif i comment the temp.add the error is gone, offcourse the program is not doing what is suppoused to do anymore, but at least now i now where it is.\r\n\r\nBy the time the loop of the 2 bit of code executes, FillHashMap should be over, but i guess its not.\r\n","title":"ConcurrentModificationException on Iterator.next() but just 1 of the same code","body":"<p>So i was working on a simple Java code</p>\n\n<p>i have this: </p>\n\n<pre><code>HashMap&lt;ObjectKey,ArrayList&lt;DifferentObject&gt;&gt; HP;\n</code></pre>\n\n<p>So i used it how i wanted and it worked heres the first code:</p>\n\n<pre><code>FillHashMap(HP);\nfor(ObjectKey k:HP.keySet()){\n    ArrayList&lt;DifferentObject&gt; temp=HP.get(k);\n    for(Iterator&lt;DifferentObject&gt; it=temp.iterator(); it.hasNext();){\n        if(it.hasNext()){\n            DifferentObject OB=iterator.next();\n            if(OB.Data&lt;OtherData &amp;&amp; OB.Time&lt;CurrentTime){\n                it.remove();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And it works like a charm, so i went out to clean my code a bit make it more presentable and now it looks like this:</p>\n\n<pre><code>FillHashMap(HP);\nfor(Object k:HP.keySet()){\n  for(Iterator&lt;DifferentObject&gt; it=HP.get(k).iterator();it.hasNext();){\n      DifferentObject OB=it.next(); (*)\n      if(Condition(OB)){\n           it.remove();\n      }\n}      \n}\n</code></pre>\n\n<p>And then i get the ConcurrentModificationException on the line with the (*)\nThe other method that changes HP is FillHashMap and its already over by the time it reaches the for-each cycle, it really is the same code right?</p>\n\n<p>Then why is giving me the error now?</p>\n\n<p>Any remote help or suggestion would be apreciated. Thank you.</p>\n\n<p>EDIT: So i went back to FillHashMap method:</p>\n\n<pre><code>FillHashMap(HashMap HP){\n   Differentobject x=new DifferentObject(); \n   for(iterator over hashmap){\n       ArrayList&lt;Different Object&gt; temp= HP.get(k);\n       temp.SetSomething(int a);\n       temp.add(x)\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>if i comment the temp.add the error is gone, offcourse the program is not doing what is suppoused to do anymore, but at least now i now where it is.</p>\n\n<p>By the time the loop of the 2 bit of code executes, FillHashMap should be over, but i guess its not.</p>\n"},{"tags":["java","string","java.util.scanner","drjava"],"comments":[{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":0,"creation_date":1480048352,"post_id":40797756,"comment_id":68817296,"body_markdown":"can you show the input format ?","body":"can you show the input format ?"},{"owner":{"account_id":1194548,"reputation":4590,"user_id":1166537,"accept_rate":100,"display_name":"Raghav"},"score":0,"creation_date":1480048373,"post_id":40797756,"comment_id":68817300,"body_markdown":"Add `scan.useDelimiter(System.getProperty(&quot;line.separator&quot;));`","body":"Add <code>scan.useDelimiter(System.getProperty(&quot;line.separator&quot;));</code>"},{"owner":{"display_name":"user3458225"},"score":0,"creation_date":1480048693,"post_id":40797756,"comment_id":68817371,"body_markdown":"my recommendation would be to just make one call to  String p = scan.nextLine(); for each line. Then analyze the string and break it into the components you need.","body":"my recommendation would be to just make one call to  String p = scan.nextLine(); for each line. Then analyze the string and break it into the components you need."}],"answers":[{"tags":[],"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1480048831,"creation_date":1480048831,"answer_id":40797848,"question_id":40797756,"body_markdown":"You should use `nextLine` and then convert it to your expected types.\r\n\r\nIn above scenario read the line then cast it to an integer, because `next` and `nextInt` just read the input before a whitespace occurred. So when you are calling `nextInt` it will just consume the number and leave the `newLine` character which will be consumed in `nextLine`.\r\n\r\nFrom the question, it looks like this is how you are going to read inputs input.\r\n\r\n 1. First integer.\r\n 2. Second a string line. \r\n 3. Third line will have two words separated by space.\r\n\r\nThis is what your code should be.\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        int x = Integer.parseInt(scan.nextLine()); //read line and then cast to integer\r\n        System.out.println(&quot;p&quot;);\r\n        String p = scan.nextLine();\r\n        System.out.println(&quot;q m&quot;);\r\n        String[] linesParts = scan.nextLine().split(&quot; &quot;); // read the whole line and then split it.\r\n        String q = linesParts[0];\r\n        String m = linesParts[1];","title":"Scanner for string does not work in Java","body":"<p>You should use <code>nextLine</code> and then convert it to your expected types.</p>\n\n<p>In above scenario read the line then cast it to an integer, because <code>next</code> and <code>nextInt</code> just read the input before a whitespace occurred. So when you are calling <code>nextInt</code> it will just consume the number and leave the <code>newLine</code> character which will be consumed in <code>nextLine</code>.</p>\n\n<p>From the question, it looks like this is how you are going to read inputs input.</p>\n\n<ol>\n<li>First integer.</li>\n<li>Second a string line. </li>\n<li>Third line will have two words separated by space.</li>\n</ol>\n\n<p>This is what your code should be.</p>\n\n<pre><code>    Scanner scan = new Scanner(System.in);\n    int x = Integer.parseInt(scan.nextLine()); //read line and then cast to integer\n    System.out.println(\"p\");\n    String p = scan.nextLine();\n    System.out.println(\"q m\");\n    String[] linesParts = scan.nextLine().split(\" \"); // read the whole line and then split it.\n    String q = linesParts[0];\n    String m = linesParts[1];\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3458225"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1480051691,"creation_date":1480051126,"answer_id":40798170,"question_id":40797756,"body_markdown":"   This is the solution to the problem I&#39;d use. The above comment by Tahir Hussain Mirwould likely be the cause of the problem \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class app {\r\n\tpublic static void main(String[] args) {\r\n\t\t// declare scanner\r\n\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\t// what ever number you need, it could be calculated\r\n\t\tint numberOfInputLines = 3;\r\n\r\n\t\t// the list of the lines entered\r\n\t\tArrayList&lt;String[]&gt; list = new&lt;String[]&gt; ArrayList();\r\n\r\n\t\t// add each line to the list\r\n\t\tfor (int i = 0; i &lt; numberOfInputLines; i++) {\r\n\t\t\t// get entire line as a single string\r\n\t\t\tString input = scan.nextLine();\r\n\t\t\t// split the line into tokens, and store the array in the array list\r\n\t\t\tString[] result = input.split(&quot;\\\\s&quot;);\r\n\t\t\tlist.add(result);\r\n\r\n\t\t}\r\n\r\n\t\t// iterate through each line\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\r\n\t\t\t// iterate through the line\r\n\t\t\tfor (int j = 0; j &lt; list.get(i).length; j++) {\r\n\t\t\t\tif (isInteger(list.get(i)[j]) == true) {\r\n\t\t\t\t\t// do what you want if the input is an int\r\n\t\t\t\t\t//to show it works\r\n\t\t\t\t\tSystem.out.println(&quot;int: &quot; + list.get(i)[j]);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// do what you want if a the token inputed is a string\r\n\t\t\t\t\t//to show it works\r\n\t\t\t\t\tSystem.out.println(&quot;String: &quot; + list.get(i)[j]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// greasy way to check if is an int\r\n\tprivate static boolean isInteger(String s) {\r\n\t\ttry {\r\n\t\t\tInteger.parseInt(s);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\treturn false;\r\n\t\t} catch (NullPointerException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// only got here if we didn&#39;t return false\r\n\t\treturn true;\r\n\t}\r\n\r\n    }\r\n\r\n","title":"Scanner for string does not work in Java","body":"<p>This is the solution to the problem I'd use. The above comment by Tahir Hussain Mirwould likely be the cause of the problem </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class app {\npublic static void main(String[] args) {\n    // declare scanner\n    Scanner scan = new Scanner(System.in);\n\n    // what ever number you need, it could be calculated\n    int numberOfInputLines = 3;\n\n    // the list of the lines entered\n    ArrayList&lt;String[]&gt; list = new&lt;String[]&gt; ArrayList();\n\n    // add each line to the list\n    for (int i = 0; i &lt; numberOfInputLines; i++) {\n        // get entire line as a single string\n        String input = scan.nextLine();\n        // split the line into tokens, and store the array in the array list\n        String[] result = input.split(\"\\\\s\");\n        list.add(result);\n\n    }\n\n    // iterate through each line\n    for (int i = 0; i &lt; list.size(); i++) {\n\n        // iterate through the line\n        for (int j = 0; j &lt; list.get(i).length; j++) {\n            if (isInteger(list.get(i)[j]) == true) {\n                // do what you want if the input is an int\n                //to show it works\n                System.out.println(\"int: \" + list.get(i)[j]);\n\n            } else {\n                // do what you want if a the token inputed is a string\n                //to show it works\n                System.out.println(\"String: \" + list.get(i)[j]);\n\n            }\n\n        }\n\n    }\n\n}\n\n// greasy way to check if is an int\nprivate static boolean isInteger(String s) {\n    try {\n        Integer.parseInt(s);\n    } catch (NumberFormatException e) {\n        return false;\n    } catch (NullPointerException e) {\n        return false;\n    }\n    // only got here if we didn't return false\n    return true;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1480051315,"creation_date":1480051315,"answer_id":40798201,"question_id":40797756,"body_markdown":"Before using them, try to check the doc&#39;s.\r\n&lt;br&gt;\r\n&lt;b&gt;Reason :&lt;/b&gt;&lt;br&gt;\r\n\r\n&gt; &lt;b&gt;Scanner.nextLine :&lt;/b&gt;  The java.util.Scanner.nextLine() method advances this scanner past the current line and returns the input that was skipped. This method returns the rest of the current line, excluding any line separator at the end. The position is set to the beginning of the next line.Since this method continues to search through the input looking for a line separator, it may buffer all of the input searching for the line to skip if no line separators are present.\r\n\r\nWhile, this is not Applicable to &lt;b&gt;Scanner.nextInt&lt;/b&gt;\r\n&lt;br&gt;\r\n\r\nHence, the Scanner.nextInt method does not consume the last newline character of your input, and thus that newline is consumed in the next call to Scanner.nextLine.\r\n\r\nBasic &lt;b&gt;Solution&lt;/b&gt; would be to use blank Scanner.nextLine after Scanner.nextInt just to consume rest of that line including newline.\r\n\r\n&lt;b&gt;For Example&lt;/b&gt;\r\n\r\n    int myVal1 = input.nextInt();\r\n    input.nextLine(); \r\n    String myStr1 = input.nextLine();","title":"Scanner for string does not work in Java","body":"<p>Before using them, try to check the doc's.\n<br>\n<b>Reason :</b><br></p>\n\n<blockquote>\n  <p><b>Scanner.nextLine :</b>  The java.util.Scanner.nextLine() method advances this scanner past the current line and returns the input that was skipped. This method returns the rest of the current line, excluding any line separator at the end. The position is set to the beginning of the next line.Since this method continues to search through the input looking for a line separator, it may buffer all of the input searching for the line to skip if no line separators are present.</p>\n</blockquote>\n\n<p>While, this is not Applicable to <b>Scanner.nextInt</b>\n<br></p>\n\n<p>Hence, the Scanner.nextInt method does not consume the last newline character of your input, and thus that newline is consumed in the next call to Scanner.nextLine.</p>\n\n<p>Basic <b>Solution</b> would be to use blank Scanner.nextLine after Scanner.nextInt just to consume rest of that line including newline.</p>\n\n<p><b>For Example</b></p>\n\n<pre><code>int myVal1 = input.nextInt();\ninput.nextLine(); \nString myStr1 = input.nextLine();\n</code></pre>\n"}],"owner":{"account_id":6632232,"reputation":321,"user_id":5120572,"display_name":"2apreety18"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3917,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"closed_date":1480111986,"accepted_answer_id":40798201,"answer_count":3,"score":4,"last_activity_date":1684603201,"creation_date":1480048236,"question_id":40797756,"body_markdown":"When I use scan.nextLine(), input boxes don&#39;t work properly. If it&#39;s scan.next() ,works perfectly.But Why? Ain&#39;t I supposed to use scan.nextLine() for string?  \r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class Test{\r\n    public static void main(String[] args){\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        int x = scan.nextInt();\r\n        System.out.println(&quot;p&quot;);\r\n        String p = scan.nextLine();\r\n        System.out.println(&quot;q&quot;);\r\n        String q = scan.next();\r\n        System.out.println(&quot;m&quot;);\r\n        String m = scan.next();\r\n        }  \r\n    }","title":"Scanner for string does not work in Java","body":"<p>When I use scan.nextLine(), input boxes don't work properly. If it's scan.next() ,works perfectly.But Why? Ain't I supposed to use scan.nextLine() for string?  </p>\n\n<pre><code>import java.util.Scanner;\npublic class Test{\npublic static void main(String[] args){\n\n    Scanner scan = new Scanner(System.in);\n    int x = scan.nextInt();\n    System.out.println(\"p\");\n    String p = scan.nextLine();\n    System.out.println(\"q\");\n    String q = scan.next();\n    System.out.println(\"m\");\n    String m = scan.next();\n    }  \n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":10071457,"reputation":86,"user_id":7444877,"display_name":"Kevin B&#246;ckler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1484990595,"creation_date":1484990595,"answer_id":41777668,"question_id":41777613,"body_markdown":"[Scanner-API](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html) says \r\n\r\n&gt; The next() and hasNext() methods and their primitive-type companion\r\n&gt; methods (such as nextInt() and hasNextInt()) first skip any input that\r\n&gt; matches the delimiter pattern, and then attempt to return the next\r\n&gt; token. Both hasNext and next methods may block waiting for further\r\n&gt; input. Whether a hasNext method blocks has no connection to whether or\r\n&gt; not its associated next method will block.\r\n\r\nSo you will step into your while-body when one line has been entered.\r\n\r\nWrite something like\r\n\r\n    String next = &quot;&quot;;\r\n    while (!next.equals(&quot;quit&quot;)) {\r\n        System.out.println(&quot;Type anything other than quit to keep inputting. &quot;);\r\n        next = sc.nextLine();\r\n    }","title":"Why does my scanner hasNext(&quot;string&quot;) method prompt for input?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner-API</a> says </p>\n\n<blockquote>\n  <p>The next() and hasNext() methods and their primitive-type companion\n  methods (such as nextInt() and hasNextInt()) first skip any input that\n  matches the delimiter pattern, and then attempt to return the next\n  token. Both hasNext and next methods may block waiting for further\n  input. Whether a hasNext method blocks has no connection to whether or\n  not its associated next method will block.</p>\n</blockquote>\n\n<p>So you will step into your while-body when one line has been entered.</p>\n\n<p>Write something like</p>\n\n<pre><code>String next = \"\";\nwhile (!next.equals(\"quit\")) {\n    System.out.println(\"Type anything other than quit to keep inputting. \");\n    next = sc.nextLine();\n}\n</code></pre>\n"}],"owner":{"account_id":8410048,"reputation":13,"user_id":6312304,"accept_rate":60,"display_name":"csDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41777668,"answer_count":1,"score":1,"last_activity_date":1684603146,"creation_date":1484990166,"question_id":41777613,"body_markdown":"I realize that hasNext() is used to check if there is going to be a next input, but my hasNext prompts for an input for some reason. This is my code:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n\t\t\r\n\twhile (!sc.hasNext(&quot;quit&quot;)) {\r\n\t\tSystem.out.println(&quot;Type anything other than quit to keep inputting. &quot;);\r\n\t\tsc.nextLine();\r\n\t}\r\n\r\nWhat my program does right off the bat is it makes me type something (before the prompt to type), and then the prompt to &quot;type anything other than quit&quot; pops up and the program works properly. However, I don&#39;t want that first blank input. Why does this pop up and how do I fix it? ","title":"Why does my scanner hasNext(&quot;string&quot;) method prompt for input?","body":"<p>I realize that hasNext() is used to check if there is going to be a next input, but my hasNext prompts for an input for some reason. This is my code:</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\n\nwhile (!sc.hasNext(\"quit\")) {\n    System.out.println(\"Type anything other than quit to keep inputting. \");\n    sc.nextLine();\n}\n</code></pre>\n\n<p>What my program does right off the bat is it makes me type something (before the prompt to type), and then the prompt to \"type anything other than quit\" pops up and the program works properly. However, I don't want that first blank input. Why does this pop up and how do I fix it? </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1578393062,"post_id":59624003,"comment_id":105415306,"body_markdown":"Did you stop the existing gradle daemons after modifying `gradle.properties`?","body":"Did you stop the existing gradle daemons after modifying <code>gradle.properties</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1684602855,"creation_date":1578399023,"answer_id":59628176,"question_id":59624003,"body_markdown":"I add `gradle.properties` file in my root project dir,and add this config:\r\n\r\n\r\n    org.gradle.jvmargs=-Xmx4096M\r\n\r\n\r\nworks. From the error message we can know the Daemon JVM spcace exhausted. This is the Gradle [official docuemnt][1] about this config:\r\n\r\n\r\n&gt; Specifies the JVM arguments used for the Gradle Daemon. The setting is\r\n&gt; particularly useful for configuring JVM memory settings for build\r\n&gt; performance. This does not affect the JVM settings for the Gradle\r\n&gt; client VM. The default is -Xmx512m &quot;-XX:MaxMetaspaceSize=256m&quot;.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html","title":"Daemon is stopping immediately JVM garbage collector thrashing and after running out of JVM memory","body":"<p>I add <code>gradle.properties</code> file in my root project dir,and add this config:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4096M\n</code></pre>\n<p>works. From the error message we can know the Daemon JVM spcace exhausted. This is the Gradle <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"noreferrer\">official docuemnt</a> about this config:</p>\n<blockquote>\n<p>Specifies the JVM arguments used for the Gradle Daemon. The setting is\nparticularly useful for configuring JVM memory settings for build\nperformance. This does not affect the JVM settings for the Gradle\nclient VM. The default is -Xmx512m &quot;-XX:MaxMetaspaceSize=256m&quot;.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15691200,"reputation":2099,"user_id":11322237,"display_name":"Gabriel Arghire"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1616485402,"creation_date":1616485402,"answer_id":66759059,"question_id":59624003,"body_markdown":"Maybe it will help other users as well.\r\n\r\nI received, somewhat, this error when I did a `gradlew clean` on the `android` directory and forgot to go back with `cd ..` and I run the command of starting the app inside `android` directory when it shouldn&#39;t.\r\n\r\nThe solution is to go back from `android` directory and run the start command in the root directory of your app.","title":"Daemon is stopping immediately JVM garbage collector thrashing and after running out of JVM memory","body":"<p>Maybe it will help other users as well.</p>\n<p>I received, somewhat, this error when I did a <code>gradlew clean</code> on the <code>android</code> directory and forgot to go back with <code>cd ..</code> and I run the command of starting the app inside <code>android</code> directory when it shouldn't.</p>\n<p>The solution is to go back from <code>android</code> directory and run the start command in the root directory of your app.</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666282739,"creation_date":1666282739,"answer_id":74143183,"question_id":59624003,"body_markdown":"Note that if you can&#39;t modify the `gradle.properties` file for whatever reason (e.g. I modified a `gitlab-ci.yml` file&#39;s script for a CICD pipeline issue that couldn&#39;t be reproduced locally), you can use a command line flag (with a `-D` prefix) as referenced in the &quot;official document&quot; above by @Dolphin.\r\n\r\n```\r\n-Dorg.gradle.jvmargs=-Xmx4096M\r\n```\r\n","title":"Daemon is stopping immediately JVM garbage collector thrashing and after running out of JVM memory","body":"<p>Note that if you can't modify the <code>gradle.properties</code> file for whatever reason (e.g. I modified a <code>gitlab-ci.yml</code> file's script for a CICD pipeline issue that couldn't be reproduced locally), you can use a command line flag (with a <code>-D</code> prefix) as referenced in the &quot;official document&quot; above by @Dolphin.</p>\n<pre><code>-Dorg.gradle.jvmargs=-Xmx4096M\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30710,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":59628176,"answer_count":3,"score":30,"last_activity_date":1684602855,"creation_date":1578382337,"question_id":59624003,"body_markdown":"When I build multi module java project using gradle 6.0,when I add &gt;30 modules.Throw this error:\r\n\r\n\r\n\r\n    Gradle Daemon started in 2 s 267 ms\r\n\r\n    &gt; Configure project :soa-misc\r\n    &quot;/opt/dabai/tools/jdk1.8.0_211/jre/lib/ext/&quot;\r\n    null\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Daemon will be stopped at the end of the build after running out of JVM memory\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Expiring Daemon because JVM heap space is exhausted\r\n    Daemon is stopping immediately JVM garbage collector thrashing and after running out of JVM memory\r\n\r\n\r\nWhat I am tried to add parameter in my `$HOME/.gradle/gradle.properties`:\r\n\r\n    org.gradle.jvmargs=-Xmx8096m -XX:MaxPermSize=8096m -XX:+HeapDumpOnOutOfMemoryError\r\n\r\n\r\nBut the problem not solved,what should I do to fix?\r\n","title":"Daemon is stopping immediately JVM garbage collector thrashing and after running out of JVM memory","body":"<p>When I build multi module java project using gradle 6.0,when I add >30 modules.Throw this error:</p>\n\n<pre><code>Gradle Daemon started in 2 s 267 ms\n\n&gt; Configure project :soa-misc\n\"/opt/dabai/tools/jdk1.8.0_211/jre/lib/ext/\"\nnull\nExpiring Daemon because JVM heap space is exhausted\nDaemon will be stopped at the end of the build after running out of JVM memory\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nExpiring Daemon because JVM heap space is exhausted\nDaemon is stopping immediately JVM garbage collector thrashing and after running out of JVM memory\n</code></pre>\n\n<p>What I am tried to add parameter in my <code>$HOME/.gradle/gradle.properties</code>:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx8096m -XX:MaxPermSize=8096m -XX:+HeapDumpOnOutOfMemoryError\n</code></pre>\n\n<p>But the problem not solved,what should I do to fix?</p>\n"},{"tags":["java","spring","hsqldb","spring-jdbc"],"comments":[{"owner":{"account_id":2850838,"reputation":1053,"user_id":2452417,"accept_rate":100,"display_name":"Azim"},"score":0,"creation_date":1468742307,"post_id":38415734,"comment_id":64244926,"body_markdown":"Better if you can share your SQL script which creates MYDB.\nSELECT * FROM ALBUM instead of SELECT * FROM MYDB.ALBUM.\nThe problem could be with the username and password. By default the password is empty with username as &quot;sa&quot;, case insensitive.","body":"Better if you can share your SQL script which creates MYDB. SELECT * FROM ALBUM instead of SELECT * FROM MYDB.ALBUM. The problem could be with the username and password. By default the password is empty with username as &quot;sa&quot;, case insensitive."}],"answers":[{"tags":[],"owner":{"account_id":2453753,"reputation":2564,"user_id":2139422,"display_name":"Arthur Noseda"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1468708746,"creation_date":1468708746,"answer_id":38416286,"question_id":38415734,"body_markdown":"`user lacks privilege or object not found` can have multiple causes, the most obvious being you&#39;re accessing a table that does not exist. A less evident reason is that, when you run your code, the connection to a file database URL actually can create a DB. The scenario you&#39;re experiencing might be you&#39;ve set up a DB using HSQL Database Manager, added tables and rows, but it&#39;s not this specific instance your Java code is using. You may want to check that you don&#39;t have multiple copies of these files: `mydb.log`, `mydb.lck`, `mydb.properties`, etc in your workspace. In the case your Java code did create those files, the location depends on how you run your program. In a Maven project run inside Netbeans for example, the files are stored alongside the pom.xml.","title":"HSQL database user lacks privilege or object not found error","body":"<p><code>user lacks privilege or object not found</code> can have multiple causes, the most obvious being you're accessing a table that does not exist. A less evident reason is that, when you run your code, the connection to a file database URL actually can create a DB. The scenario you're experiencing might be you've set up a DB using HSQL Database Manager, added tables and rows, but it's not this specific instance your Java code is using. You may want to check that you don't have multiple copies of these files: <code>mydb.log</code>, <code>mydb.lck</code>, <code>mydb.properties</code>, etc in your workspace. In the case your Java code did create those files, the location depends on how you run your program. In a Maven project run inside Netbeans for example, the files are stored alongside the pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":2061884,"reputation":3338,"user_id":1838233,"display_name":"Arigion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510299229,"creation_date":1510299229,"answer_id":47217777,"question_id":38415734,"body_markdown":"I had the error `user lacks privilege or object not found` while trying to create a table in an empty in-memory database.\r\nI used `spring.datasource.schema` and the problem was that I missed a semicolon in my SQL file after the &quot;CREATE TABLE&quot;-Statement (which was followed by &quot;CREATE INDEX&quot;).","title":"HSQL database user lacks privilege or object not found error","body":"<p>I had the error <code>user lacks privilege or object not found</code> while trying to create a table in an empty in-memory database.\nI used <code>spring.datasource.schema</code> and the problem was that I missed a semicolon in my SQL file after the \"CREATE TABLE\"-Statement (which was followed by \"CREATE INDEX\").</p>\n"},{"tags":[],"owner":{"account_id":320407,"reputation":14632,"user_id":638670,"accept_rate":82,"display_name":"Abbas Gadhia"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1512980848,"creation_date":1512980848,"answer_id":47748914,"question_id":38415734,"body_markdown":"If you&#39;ve tried all the other answers on this question, then it is most likely that you are facing a case-sensitivity issue.\r\n\r\nHSQLDB is case-sensitive by default. If you don&#39;t specify the double quotes around the name of a schema or column or table, then it will by default convert that to uppercase. If your object has been created in uppercase, then you are in luck. If it is in lowercase, then you will have to surround your object name with double quotes.\r\n\r\nFor example:\r\n\r\n    CREATE MEMORY TABLE &quot;t1&quot;(&quot;product_id&quot; INTEGER NOT NULL)\r\n\r\nTo select from this table you will have to use the following query\r\n\r\n    select &quot;product_id&quot; from &quot;t1&quot;\r\n\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>If you've tried all the other answers on this question, then it is most likely that you are facing a case-sensitivity issue.</p>\n\n<p>HSQLDB is case-sensitive by default. If you don't specify the double quotes around the name of a schema or column or table, then it will by default convert that to uppercase. If your object has been created in uppercase, then you are in luck. If it is in lowercase, then you will have to surround your object name with double quotes.</p>\n\n<p>For example:</p>\n\n<pre><code>CREATE MEMORY TABLE \"t1\"(\"product_id\" INTEGER NOT NULL)\n</code></pre>\n\n<p>To select from this table you will have to use the following query</p>\n\n<pre><code>select \"product_id\" from \"t1\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2454325,"reputation":812,"user_id":2139884,"accept_rate":83,"display_name":"Nirmal Mangal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528647341,"creation_date":1528647341,"answer_id":50785663,"question_id":38415734,"body_markdown":"I had similar issue with the error &#39;`org.hsqldb.HsqlException: user lacks privilege or object not found: DAYS_BETWEEN`&#39; turned out `DAYS_BETWEEN` is not recognized by hsqldb as a function. use DATEDIFF instead.\r\n\r\n    DATEDIFF ( &lt;datetime value expr 1&gt;, &lt;datetime value expr 2&gt; )","title":"HSQL database user lacks privilege or object not found error","body":"<p>I had similar issue with the error '<code>org.hsqldb.HsqlException: user lacks privilege or object not found: DAYS_BETWEEN</code>' turned out <code>DAYS_BETWEEN</code> is not recognized by hsqldb as a function. use DATEDIFF instead.</p>\n\n<pre><code>DATEDIFF ( &lt;datetime value expr 1&gt;, &lt;datetime value expr 2&gt; )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440150,"reputation":891,"user_id":829560,"display_name":"Damien MIRAS"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1559599134,"creation_date":1531818085,"answer_id":51377244,"question_id":38415734,"body_markdown":"As said by a previous response there is many possible causes. One of them is that the table isn&#39;t created because of syntax incompatibility. **If specific DB vendor syntax or specific capability is used,  HSQLDB will not recognize it**. Then while the creation code is executed you could see that the table is not created for this syntax reason. For exemple if the entity is annoted with `@Column(columnDefinition = &quot;TEXT&quot;)` the creation of the table will fail.\r\n\r\n**There is a work around** which tell to HSQLDB to be in a compatible mode\r\nfor pgsl you should append your connection url with that \r\n\r\n    &quot;spring.datasource.url=jdbc:hsqldb:mem:testdb;sql.syntax_pgs=true&quot;\r\n\r\nand for **mysql** with \r\n\r\n    &quot;spring.datasource.url=jdbc:hsqldb:mem:testdb;sql.syntax_mys=true&quot;\r\n\r\n**oracle** \r\n\r\n    &quot;spring.datasource.url=jdbc:hsqldb:mem:testdb;sql.syntax_ora=true&quot; \r\n\r\nnote there is variant depending on your configuration \r\nit could be `hibernate.connection.url=` or `spring.datasource.url=`\r\nfor those who don&#39;t use the hibernate schema creation but a SQL script you should use this kind of syntax in your script\r\n\r\n    SET DATABASE SQL SYNTAX ORA TRUE;\r\n\r\nIt will also fix issues due to vendor specific syntax in SQL request such as **array_agg** for **posgresql**\r\n\r\n**Nota bene** : The the problem occurs very early when the code parse the model to create the schema and then is hidden in many lines of logs, then the unitTested code crash with a confusing and obscure exception &quot;user lacks privilege or object not found error&quot; which does not point the real problem at all. So make sure to read all the trace from the beginning and fix all possible issues","title":"HSQL database user lacks privilege or object not found error","body":"<p>As said by a previous response there is many possible causes. One of them is that the table isn't created because of syntax incompatibility. <strong>If specific DB vendor syntax or specific capability is used,  HSQLDB will not recognize it</strong>. Then while the creation code is executed you could see that the table is not created for this syntax reason. For exemple if the entity is annoted with <code>@Column(columnDefinition = \"TEXT\")</code> the creation of the table will fail.</p>\n\n<p><strong>There is a work around</strong> which tell to HSQLDB to be in a compatible mode\nfor pgsl you should append your connection url with that </p>\n\n<pre><code>\"spring.datasource.url=jdbc:hsqldb:mem:testdb;sql.syntax_pgs=true\"\n</code></pre>\n\n<p>and for <strong>mysql</strong> with </p>\n\n<pre><code>\"spring.datasource.url=jdbc:hsqldb:mem:testdb;sql.syntax_mys=true\"\n</code></pre>\n\n<p><strong>oracle</strong> </p>\n\n<pre><code>\"spring.datasource.url=jdbc:hsqldb:mem:testdb;sql.syntax_ora=true\" \n</code></pre>\n\n<p>note there is variant depending on your configuration \nit could be <code>hibernate.connection.url=</code> or <code>spring.datasource.url=</code>\nfor those who don't use the hibernate schema creation but a SQL script you should use this kind of syntax in your script</p>\n\n<pre><code>SET DATABASE SQL SYNTAX ORA TRUE;\n</code></pre>\n\n<p>It will also fix issues due to vendor specific syntax in SQL request such as <strong>array_agg</strong> for <strong>posgresql</strong></p>\n\n<p><strong>Nota bene</strong> : The the problem occurs very early when the code parse the model to create the schema and then is hidden in many lines of logs, then the unitTested code crash with a confusing and obscure exception \"user lacks privilege or object not found error\" which does not point the real problem at all. So make sure to read all the trace from the beginning and fix all possible issues</p>\n"},{"tags":[],"owner":{"account_id":9002938,"reputation":186,"user_id":6710870,"display_name":"LCM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535330662,"creation_date":1535330662,"answer_id":52031333,"question_id":38415734,"body_markdown":"When running a HSWLDB server. for example your java config file has:\r\n\r\n  \r\n  \r\n  \r\n `hsql.jdbc.url = jdbc:hsqldb:hsql://localhost:9005/YOURDB;sql.enforce_strict_size=true;hsqldb.tx=mvcc `\r\n\r\n\r\ncheck to make sure that your set a `server.dbname.#`. for example my server.properties file:\r\n\r\n        server.database.0=eventsdb \r\n        server.dbname.0=eventsdb \r\n        server.port=9005\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>When running a HSWLDB server. for example your java config file has:</p>\n\n<p><code>hsql.jdbc.url = jdbc:hsqldb:hsql://localhost:9005/YOURDB;sql.enforce_strict_size=true;hsqldb.tx=mvcc</code></p>\n\n<p>check to make sure that your set a <code>server.dbname.#</code>. for example my server.properties file:</p>\n\n<pre><code>    server.database.0=eventsdb \n    server.dbname.0=eventsdb \n    server.port=9005\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6561862,"reputation":596,"user_id":5230044,"accept_rate":100,"display_name":"cammando"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551023620,"creation_date":1551023620,"answer_id":54853660,"question_id":38415734,"body_markdown":"I was inserting the data in hsql db using following script \r\n\r\n    INSERT INTO Greeting (text) VALUES (&quot;Hello World&quot;);\r\n\r\nI was getting issue related to the **Hello World** object not found and HSQL database user lacks privilege or object not found error\r\n\r\n\r\nwhich I changed into the below script \r\n\r\n    INSERT INTO Greeting (text) VALUES (&#39;Hello World&#39;);\r\n\r\nAnd now it is working fine.","title":"HSQL database user lacks privilege or object not found error","body":"<p>I was inserting the data in hsql db using following script </p>\n\n<pre><code>INSERT INTO Greeting (text) VALUES (\"Hello World\");\n</code></pre>\n\n<p>I was getting issue related to the <strong>Hello World</strong> object not found and HSQL database user lacks privilege or object not found error</p>\n\n<p>which I changed into the below script </p>\n\n<pre><code>INSERT INTO Greeting (text) VALUES ('Hello World');\n</code></pre>\n\n<p>And now it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":10687424,"reputation":150,"user_id":7867526,"display_name":"batristio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554738799,"creation_date":1554738799,"answer_id":55577296,"question_id":38415734,"body_markdown":"I bumped into kind of the same problem recently. We are running a grails application and someone inserted a SQL script into the BootStrap file (that&#39;s the entry point for grails). That script was supposed to be run only in the production environment, however because of bad logic it was running in test as well. So the error I got was:   \r\n\r\n    User lacks privilege or object not found:\r\n\r\nwithout any more clarification...\r\n\r\nI just had to make sure the script was not run in the test environment and it fixed the problem for me, though it took me 3 hours to figure it out. I know it is very, very specific issue but still if I can save someone a couple of hours of code digging that would be great.","title":"HSQL database user lacks privilege or object not found error","body":"<p>I bumped into kind of the same problem recently. We are running a grails application and someone inserted a SQL script into the BootStrap file (that's the entry point for grails). That script was supposed to be run only in the production environment, however because of bad logic it was running in test as well. So the error I got was:   </p>\n\n<pre><code>User lacks privilege or object not found:\n</code></pre>\n\n<p>without any more clarification...</p>\n\n<p>I just had to make sure the script was not run in the test environment and it fixed the problem for me, though it took me 3 hours to figure it out. I know it is very, very specific issue but still if I can save someone a couple of hours of code digging that would be great.</p>\n"},{"tags":[],"owner":{"account_id":12902534,"reputation":176,"user_id":10034223,"display_name":"Eduardo Mior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558376955,"creation_date":1558376955,"answer_id":56226338,"question_id":38415734,"body_markdown":"I was having the same mistake. In my case I was forgetting to put the apas in the strings.\r\n\r\nI was doing `String test = &quot;inputTest&quot;;`\r\n\r\nThe correct one is `String test = &quot;&#39;inputTest&#39;&quot;;`\r\n\r\nThe error was occurring when I was trying to put something in the database\r\n\r\n    connection.createStatement.execute(&quot;INSERT INTO tableTest values(&quot; + test +&quot;)&quot;;\r\n\r\nIn my case, just put the quotation marks `&#39;` to correct the error.","title":"HSQL database user lacks privilege or object not found error","body":"<p>I was having the same mistake. In my case I was forgetting to put the apas in the strings.</p>\n\n<p>I was doing <code>String test = \"inputTest\";</code></p>\n\n<p>The correct one is <code>String test = \"'inputTest'\";</code></p>\n\n<p>The error was occurring when I was trying to put something in the database</p>\n\n<pre><code>connection.createStatement.execute(\"INSERT INTO tableTest values(\" + test +\")\";\n</code></pre>\n\n<p>In my case, just put the quotation marks <code>'</code> to correct the error.</p>\n"},{"tags":[],"owner":{"account_id":4001886,"reputation":1833,"user_id":4118434,"display_name":"R.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563798899,"creation_date":1563798899,"answer_id":57146183,"question_id":38415734,"body_markdown":"In my case the error occured because i did NOT put the TABLE_NAME into double quotes &quot;TABLE_NAME&quot; and had the oracle schema prefix.\r\n\r\nNot working:\r\n\r\n    SELECT * FROM FOOSCHEMA.BAR_TABLE\r\n\r\nWorking:\r\n\r\n    SELECT * FROM &quot;BAR_TABLE&quot;\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>In my case the error occured because i did NOT put the TABLE_NAME into double quotes \"TABLE_NAME\" and had the oracle schema prefix.</p>\n\n<p>Not working:</p>\n\n<pre><code>SELECT * FROM FOOSCHEMA.BAR_TABLE\n</code></pre>\n\n<p>Working:</p>\n\n<pre><code>SELECT * FROM \"BAR_TABLE\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7814532,"reputation":931,"user_id":5909698,"display_name":"Chidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567420579,"creation_date":1567420579,"answer_id":57755468,"question_id":38415734,"body_markdown":"had this issue with concatenating variables in insert statement. this worked\r\n\r\n    // var1, var3, var4 are String variables\r\n    // var2 and var5 are Integer variables\r\n    result = statement.executeUpdate(&quot;INSERT INTO newTable VALUES (&#39;&quot;+var1+&quot;&#39;,&quot;+var2+&quot;,&#39;&quot;+var3+&quot;&#39;,&#39;&quot;+var4+&quot;&#39;,&quot;+var5 +&quot;)&quot;);","title":"HSQL database user lacks privilege or object not found error","body":"<p>had this issue with concatenating variables in insert statement. this worked</p>\n\n<pre><code>// var1, var3, var4 are String variables\n// var2 and var5 are Integer variables\nresult = statement.executeUpdate(\"INSERT INTO newTable VALUES ('\"+var1+\"',\"+var2+\",'\"+var3+\"','\"+var4+\"',\"+var5 +\")\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574703262,"creation_date":1574703262,"answer_id":59037264,"question_id":38415734,"body_markdown":"In my case the issue was caused by the absence (I&#39;d commented it out by mistake) of the following line in `persistence.xml`:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\r\nwhich prevented Hibernate from emitting the DDL to create the required schema elements...\r\n\r\n(different Hibernate wrappers will have different mechanisms to specify properties; I&#39;m using JPA here)","title":"HSQL database user lacks privilege or object not found error","body":"<p>In my case the issue was caused by the absence (I'd commented it out by mistake) of the following line in <code>persistence.xml</code>:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n</code></pre>\n\n<p>which prevented Hibernate from emitting the DDL to create the required schema elements...</p>\n\n<p>(different Hibernate wrappers will have different mechanisms to specify properties; I'm using JPA here)</p>\n"},{"tags":[],"owner":{"account_id":14262778,"reputation":1,"user_id":10302971,"display_name":"Oleg Fedoruk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577971696,"creation_date":1577971696,"answer_id":59564179,"question_id":38415734,"body_markdown":"I had this error while trying to run my application without specifying the &quot;Path&quot; field in Intellij IDEA data source (database) properties. Everything else was configured correctly.\r\n\r\nI was able to run scripts in IDEA database console and they executed correctly, but without giving a path to the IDEA, it was unable to identify where to connect, which caused errors. \r\n\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>I had this error while trying to run my application without specifying the \"Path\" field in Intellij IDEA data source (database) properties. Everything else was configured correctly.</p>\n\n<p>I was able to run scripts in IDEA database console and they executed correctly, but without giving a path to the IDEA, it was unable to identify where to connect, which caused errors. </p>\n"},{"tags":[],"owner":{"account_id":2180236,"reputation":425,"user_id":1929905,"accept_rate":53,"display_name":"user1929905"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581892434,"creation_date":1581892434,"answer_id":60253833,"question_id":38415734,"body_markdown":"You have to run the Database in server mode and connect.Otherwise it wont connect from external application and give error similar to user lacks privilege.\r\nAlso change the url of database in spring configuration file accordingly when running DB in server mode.\r\n\r\nSample command to run DB in server mode\r\n$java -cp lib/hsqldb.jar org.hsqldb.server.Server --database.0 file:data/mydb --dbname.0 Test\r\n\r\nFormat of URL in configuration file\r\njdbc:hsqldb:hsql://localhost/Test\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>You have to run the Database in server mode and connect.Otherwise it wont connect from external application and give error similar to user lacks privilege.\nAlso change the url of database in spring configuration file accordingly when running DB in server mode.</p>\n\n<p>Sample command to run DB in server mode\n$java -cp lib/hsqldb.jar org.hsqldb.server.Server --database.0 file:data/mydb --dbname.0 Test</p>\n\n<p>Format of URL in configuration file\njdbc:hsqldb:hsql://localhost/Test</p>\n"},{"tags":[],"owner":{"account_id":19006136,"reputation":11,"user_id":13872849,"display_name":"Anil Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593986192,"creation_date":1593978739,"answer_id":62745660,"question_id":38415734,"body_markdown":"Add these two extra properties:\r\n\r\n```\r\nspring.jpa.hibernate.naming.implicit-strategy=\r\norg.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n\r\nspring.jpa.hibernate.naming.physical-strategy=\r\norg.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```","title":"HSQL database user lacks privilege or object not found error","body":"<p>Add these two extra properties:</p>\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=\norg.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n\nspring.jpa.hibernate.naming.physical-strategy=\norg.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15658999,"reputation":1,"user_id":11298368,"display_name":"Matteoo37"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617058971,"creation_date":1617058971,"answer_id":66862725,"question_id":38415734,"body_markdown":"In my case, one of the columns had the name &#39;key&#39; with the missing @Column(name = &quot;key&quot;) annotation so that in the logs you could see the query that created the table but in fact it was not there. So be careful with column names","title":"HSQL database user lacks privilege or object not found error","body":"<p>In my case, one of the columns had the name 'key' with the missing @Column(name = &quot;key&quot;) annotation so that in the logs you could see the query that created the table but in fact it was not there. So be careful with column names</p>\n"},{"tags":[],"owner":{"account_id":157961,"reputation":589,"user_id":376254,"display_name":"johnbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622741440,"creation_date":1622741440,"answer_id":67826112,"question_id":38415734,"body_markdown":"For what it&#39;s worth - I had this same problem.  I had a column named &#39;TYPE&#39;, which I renamed to &#39;XTYPE&#39; and a column named ORDER which I renamed to &#39;XORDER&#39; and the problem went away.","title":"HSQL database user lacks privilege or object not found error","body":"<p>For what it's worth - I had this same problem.  I had a column named 'TYPE', which I renamed to 'XTYPE' and a column named ORDER which I renamed to 'XORDER' and the problem went away.</p>\n"},{"tags":[],"owner":{"account_id":6671432,"reputation":304,"user_id":5147466,"accept_rate":38,"display_name":"Venkata Rahul S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626119583,"creation_date":1626119583,"answer_id":68353216,"question_id":38415734,"body_markdown":"Yet another reason could be a misspelt field name. If your actual table has an id column named albumid and you&#39;d used album_id, then too this could occur. \r\n\r\nAs another anwer remarked, case differences in field names too need to be taken care of.","title":"HSQL database user lacks privilege or object not found error","body":"<p>Yet another reason could be a misspelt field name. If your actual table has an id column named albumid and you'd used album_id, then too this could occur.</p>\n<p>As another anwer remarked, case differences in field names too need to be taken care of.</p>\n"},{"tags":[],"owner":{"account_id":473240,"reputation":2298,"user_id":882222,"accept_rate":74,"display_name":"soumitra chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630507912,"creation_date":1630507502,"answer_id":69015982,"question_id":38415734,"body_markdown":"I faced the same issue and found there was more than one PersistenceUnit (ReadOnly and ReadWrite) , So the tables in HSQLDDB created using a schema from one persistence unit resulted in exception(HSQL database user lacks privilege or object not found error) being thrown when accessed from other persistence unit .It happens when tables are created from one session in JPA and accessed from another session\r\n\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>I faced the same issue and found there was more than one PersistenceUnit (ReadOnly and ReadWrite) , So the tables in HSQLDDB created using a schema from one persistence unit resulted in exception(HSQL database user lacks privilege or object not found error) being thrown when accessed from other persistence unit .It happens when tables are created from one session in JPA and accessed from another session</p>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652432227,"creation_date":1652432227,"answer_id":72226924,"question_id":38415734,"body_markdown":"In my case the table `MY_TABLE` was in the schema `SOME_SCHEMA`. So calling select/insert etc. directly didn&#39;t work. To fix: \r\n\r\n 1. add file `schema.sql` to the `resources` folder\r\n 2. in this file add the line `CREATE SCHEMA YOUR_SCHEMA_NAME;`","title":"HSQL database user lacks privilege or object not found error","body":"<p>In my case the table <code>MY_TABLE</code> was in the schema <code>SOME_SCHEMA</code>. So calling select/insert etc. directly didn't work. To fix:</p>\n<ol>\n<li>add file <code>schema.sql</code> to the <code>resources</code> folder</li>\n<li>in this file add the line <code>CREATE SCHEMA YOUR_SCHEMA_NAME;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3288999,"reputation":107,"user_id":2767718,"display_name":"Rudolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684602676,"creation_date":1684602676,"answer_id":76296441,"question_id":38415734,"body_markdown":"Had the same problem. In my case when setting up the database.\r\n\r\nIf I created the database via a SQL client the creation succeeded, but when I tried to create the same SQL DDL from Java I got this weird error, which is not really helpful.\r\n\r\nI decided to split up the SQL DDL statements into separate CREATE statements and did this the trick. Now all tables and indices were created without any problems.\r\n\r\nBTW it does not matter if I use executeUpdate(DDL) or execute(DDL). Both fail with the same error message, unless I split those statements up.\r\n\r\nINSERTing multiple statements works without any problems. I do not understand this inconsistent behaviour.","title":"HSQL database user lacks privilege or object not found error","body":"<p>Had the same problem. In my case when setting up the database.</p>\n<p>If I created the database via a SQL client the creation succeeded, but when I tried to create the same SQL DDL from Java I got this weird error, which is not really helpful.</p>\n<p>I decided to split up the SQL DDL statements into separate CREATE statements and did this the trick. Now all tables and indices were created without any problems.</p>\n<p>BTW it does not matter if I use executeUpdate(DDL) or execute(DDL). Both fail with the same error message, unless I split those statements up.</p>\n<p>INSERTing multiple statements works without any problems. I do not understand this inconsistent behaviour.</p>\n"}],"owner":{"account_id":1682747,"reputation":1799,"user_id":1546657,"accept_rate":50,"display_name":"Raju Boddupalli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129752,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":21,"score":46,"last_activity_date":1684602676,"creation_date":1468703971,"question_id":38415734,"body_markdown":"I am trying to use **hsqldb-2.3.4** to connect from Spring applicastion.\r\n\r\nI created data base using the following details\r\n\r\n    Type : HSQL Database Engine Standalone\r\n    Driver: org.hsqldb.jdbcDriver\r\n    URL: jdbc:hsqldb:file:mydb\r\n    UserName: SA\r\n    Password: SA\r\n\r\nI created a table named **ALBUM** under &quot;MYDB&quot; schema\r\n\r\n\r\nIn spring configuration file:\r\n\r\n    &lt;bean id=&quot;jdbcTemplate&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;dbcpDataSource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;dbcpDataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;org.hsqldb.jdbcDriver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:hsqldb:file:mydb&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;SA&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;SA&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nAnd in my spring controller I am doing `jdbcTemplate.query(&quot;SELECT * FROM MYDB.ALBUM&quot;, new AlbumRowMapper());`\r\n\r\nAnd It gives me exception:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT * FROM MYDB.ALBUM]; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: ALBUM\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n\r\nIf I execute same query through SQL editor of hsqldb it executes fine.  Can you please help me with this.\r\n\r\n","title":"HSQL database user lacks privilege or object not found error","body":"<p>I am trying to use <strong>hsqldb-2.3.4</strong> to connect from Spring applicastion.</p>\n\n<p>I created data base using the following details</p>\n\n<pre><code>Type : HSQL Database Engine Standalone\nDriver: org.hsqldb.jdbcDriver\nURL: jdbc:hsqldb:file:mydb\nUserName: SA\nPassword: SA\n</code></pre>\n\n<p>I created a table named <strong>ALBUM</strong> under \"MYDB\" schema</p>\n\n<p>In spring configuration file:</p>\n\n<pre><code>&lt;bean id=\"jdbcTemplate\"\n    class=\"org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate\"&gt;\n    &lt;constructor-arg ref=\"dbcpDataSource\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"dbcpDataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.hsqldb.jdbcDriver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:hsqldb:file:mydb\" /&gt;\n    &lt;property name=\"username\" value=\"SA\" /&gt;\n    &lt;property name=\"password\" value=\"SA\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And in my spring controller I am doing <code>jdbcTemplate.query(\"SELECT * FROM MYDB.ALBUM\", new AlbumRowMapper());</code></p>\n\n<p>And It gives me exception:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT * FROM MYDB.ALBUM]; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: ALBUM\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n\n<p>If I execute same query through SQL editor of hsqldb it executes fine.  Can you please help me with this.</p>\n"},{"tags":["java","spring","spring-batch","spring-batch-tasklet","spring-batch-stream"],"comments":[{"owner":{"account_id":7901122,"reputation":53,"user_id":5968119,"display_name":"chandranshu"},"score":0,"creation_date":1585302445,"post_id":60883344,"comment_id":107717064,"body_markdown":"now It&#39;s more clear. Thanks @Mahmoud Ben Hassine .","body":"now It&#39;s more clear. Thanks @Mahmoud Ben Hassine ."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585525008,"creation_date":1585525008,"answer_id":60922099,"question_id":60883344,"body_markdown":"Since you are using the reader in a multi-threaded step, a thread could have closed the current file while another thread is trying to read from that file at the same time. You need to synchronize access to your reader with a `SynchronizedItemStreamReader`:\r\n\r\n    @Bean\r\n    public SynchronizedItemStreamReader&lt;Customer&gt; multiResourceItemReader() {\r\n    \tSystem.out.println(&quot;In multiResourceItemReader&quot;);\r\n    \tMultiResourceItemReader&lt;Customer&gt; reader = new MultiResourceItemReader&lt;&gt;();\r\n    \treader.setDelegate(customerItemReader());\r\n    \treader.setResources(inputFiles);\r\n    \t\r\n    \tSynchronizedItemStreamReader&lt;Customer&gt; synchronizedItemStreamReader = new SynchronizedItemStreamReader&lt;&gt;();\r\n    \tsynchronizedItemStreamReader.setDelegate(reader);\r\n    \treturn synchronizedItemStreamReader;\r\n    }","title":"can we process the multiple files sequentially using spring Batch while multiple threads used to process individual files data..?","body":"<p>Since you are using the reader in a multi-threaded step, a thread could have closed the current file while another thread is trying to read from that file at the same time. You need to synchronize access to your reader with a <code>SynchronizedItemStreamReader</code>:</p>\n\n<pre><code>@Bean\npublic SynchronizedItemStreamReader&lt;Customer&gt; multiResourceItemReader() {\n    System.out.println(\"In multiResourceItemReader\");\n    MultiResourceItemReader&lt;Customer&gt; reader = new MultiResourceItemReader&lt;&gt;();\n    reader.setDelegate(customerItemReader());\n    reader.setResources(inputFiles);\n\n    SynchronizedItemStreamReader&lt;Customer&gt; synchronizedItemStreamReader = new SynchronizedItemStreamReader&lt;&gt;();\n    synchronizedItemStreamReader.setDelegate(reader);\n    return synchronizedItemStreamReader;\n}\n</code></pre>\n"}],"owner":{"account_id":7901122,"reputation":53,"user_id":5968119,"display_name":"chandranshu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3841,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60922099,"answer_count":1,"score":5,"last_activity_date":1684601728,"creation_date":1585301753,"question_id":60883344,"body_markdown":"I want to process multiple files sequentially and each file needs to be processed with the help of multiple threads so used the spring batch   FlatFileItemReader and TaskExecutor and it seems to be working fine for me. As mentioned in the requirement we have to process multiple files,  so along with FlatFileItemReader, I am using MultiResourceItemReader which will take a number of files and process one by one where I am facing issues. Can someone help me what is the cause of exception? What is the approach to fix it..?\r\n\r\n    org.springframework.batch.item.ReaderNotOpenException: Reader must be open before it can be read.\r\n\t   at org.springframework.batch.item.file.FlatFileItemReader.readLine(FlatFileItemReader.java:195) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n\t   at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:173) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n\t   at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:88) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n\t   at org.springframework.batch.item.file.MultiResourceItemReader.readFromDelegate(MultiResourceItemReader.java:140) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\r\n\t   at org.springframework.batch.item.file.MultiResourceItemReader.readNextItem(MultiResourceItemReader.java:119)\r\n\r\n\r\ncustomer2.csv\r\n\r\n    200,Zoe,Nelson,1973-01-12 17:19:30\r\n    201,Vivian,Love,1951-10-31 08:57:08\r\n    202,Charde,Lang,1967-02-23 12:24:26\r\n\r\ncustomer3.csv\r\n\r\n    400,Amelia,Osborn,1972-05-09 09:21:22\r\n    401,Gemma,Finch,1989-09-25 23:00:59\r\n    402,Orli,Slater,1959-03-30 15:54:32\r\n    403,Donovan,Beasley,1986-06-18 14:50:30\r\n\r\ncustomer4.csv\r\n\r\n    600,Zelenia,Henson,1982-07-03 03:28:39\r\n    601,Thomas,Mathews,1954-11-21 20:34:03\r\n    602,Kevyn,Whitney,1984-09-21 06:24:25\r\n    603,Marny,Leon,1984-06-10 21:32:09\r\n    604,Jarrod,Gay,1960-06-22 19:11:04\r\n\r\ncustomer5.csv\r\n\r\n    800,Imogene,Lee,1966-10-19 17:53:44\r\n    801,Mira,Franks,1964-03-08 09:47:43\r\n    802,Silas,Dixon,1953-04-11 01:37:51\r\n    803,Paloma,Daniels,1962-06-14 17:01:02\r\n\r\n\r\nMy code:\r\n\r\n\r\n    @Bean\r\n\tpublic MultiResourceItemReader&lt;Customer&gt; multiResourceItemReader() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;In multiResourceItemReader&quot;);\r\n\t\tMultiResourceItemReader&lt;Customer&gt; reader = new MultiResourceItemReader&lt;&gt;();\r\n\t\treader.setDelegate(customerItemReader());\r\n\t\treader.setResources(inputFiles);\r\n\t\treturn reader;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic FlatFileItemReader&lt;Customer&gt; customerItemReader() {\r\n\t\tFlatFileItemReader&lt;Customer&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n\t\tDefaultLineMapper&lt;Customer&gt; customerLineMapper = new DefaultLineMapper&lt;&gt;();\r\n\t\tDelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();\r\n\t\ttokenizer.setNames(new String[] {&quot;id&quot;, &quot;firstName&quot;, &quot;lastName&quot;, &quot;birthdate&quot;});\r\n\t\tcustomerLineMapper.setLineTokenizer(tokenizer);\r\n\t\tcustomerLineMapper.setFieldSetMapper(new CustomerFieldSetMapper());\r\n\t\tcustomerLineMapper.afterPropertiesSet();\r\n\t\treader.setLineMapper(customerLineMapper);\r\n\t\treturn reader;\r\n\t}\r\n\t\r\n\t\r\nbellow snippet working fine while using below :\r\n\t\r\n\t@Bean\r\n\tpublic Step step1() {\r\n\t\treturn stepBuilderFactory.get(&quot;step1&quot;)\r\n\t\t\t\t.&lt;Customer, Customer&gt;chunk(100).\r\n\t\t\t\treader(customerItemReader())\r\n\t\t\t\t.writer(customerItemWriter()).taskExecutor(taskExecutor()).throttleLimit(10)\r\n\t\t\t\t.build();\r\n\t}\r\n\t}\r\n\t\r\nbellow snippet is not working getting  above mentioned exception\r\n\t\r\n\t@Bean\r\n\tpublic Step step1() {\r\n\t\treturn stepBuilderFactory.get(&quot;step1&quot;)\r\n\t\t\t\t.&lt;Customer, Customer&gt;chunk(100).\r\n\t\t\t\treader(multiResourceItemReader())\r\n\t\t\t\t.writer(customerItemWriter()).taskExecutor(taskExecutor()).throttleLimit(10)\r\n\t\t\t\t.build();\r\n\t}","title":"can we process the multiple files sequentially using spring Batch while multiple threads used to process individual files data..?","body":"<p>I want to process multiple files sequentially and each file needs to be processed with the help of multiple threads so used the spring batch   FlatFileItemReader and TaskExecutor and it seems to be working fine for me. As mentioned in the requirement we have to process multiple files,  so along with FlatFileItemReader, I am using MultiResourceItemReader which will take a number of files and process one by one where I am facing issues. Can someone help me what is the cause of exception? What is the approach to fix it..?</p>\n\n<pre><code>org.springframework.batch.item.ReaderNotOpenException: Reader must be open before it can be read.\n   at org.springframework.batch.item.file.FlatFileItemReader.readLine(FlatFileItemReader.java:195) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n   at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:173) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n   at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:88) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n   at org.springframework.batch.item.file.MultiResourceItemReader.readFromDelegate(MultiResourceItemReader.java:140) ~[spring-batch-infrastructure-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n   at org.springframework.batch.item.file.MultiResourceItemReader.readNextItem(MultiResourceItemReader.java:119)\n</code></pre>\n\n<p>customer2.csv</p>\n\n<pre><code>200,Zoe,Nelson,1973-01-12 17:19:30\n201,Vivian,Love,1951-10-31 08:57:08\n202,Charde,Lang,1967-02-23 12:24:26\n</code></pre>\n\n<p>customer3.csv</p>\n\n<pre><code>400,Amelia,Osborn,1972-05-09 09:21:22\n401,Gemma,Finch,1989-09-25 23:00:59\n402,Orli,Slater,1959-03-30 15:54:32\n403,Donovan,Beasley,1986-06-18 14:50:30\n</code></pre>\n\n<p>customer4.csv</p>\n\n<pre><code>600,Zelenia,Henson,1982-07-03 03:28:39\n601,Thomas,Mathews,1954-11-21 20:34:03\n602,Kevyn,Whitney,1984-09-21 06:24:25\n603,Marny,Leon,1984-06-10 21:32:09\n604,Jarrod,Gay,1960-06-22 19:11:04\n</code></pre>\n\n<p>customer5.csv</p>\n\n<pre><code>800,Imogene,Lee,1966-10-19 17:53:44\n801,Mira,Franks,1964-03-08 09:47:43\n802,Silas,Dixon,1953-04-11 01:37:51\n803,Paloma,Daniels,1962-06-14 17:01:02\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>@Bean\npublic MultiResourceItemReader&lt;Customer&gt; multiResourceItemReader() {\n\n    System.out.println(\"In multiResourceItemReader\");\n    MultiResourceItemReader&lt;Customer&gt; reader = new MultiResourceItemReader&lt;&gt;();\n    reader.setDelegate(customerItemReader());\n    reader.setResources(inputFiles);\n    return reader;\n}\n\n@Bean\npublic FlatFileItemReader&lt;Customer&gt; customerItemReader() {\n    FlatFileItemReader&lt;Customer&gt; reader = new FlatFileItemReader&lt;&gt;();\n    DefaultLineMapper&lt;Customer&gt; customerLineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();\n    tokenizer.setNames(new String[] {\"id\", \"firstName\", \"lastName\", \"birthdate\"});\n    customerLineMapper.setLineTokenizer(tokenizer);\n    customerLineMapper.setFieldSetMapper(new CustomerFieldSetMapper());\n    customerLineMapper.afterPropertiesSet();\n    reader.setLineMapper(customerLineMapper);\n    return reader;\n}\n</code></pre>\n\n<p>bellow snippet working fine while using below :</p>\n\n<pre><code>@Bean\npublic Step step1() {\n    return stepBuilderFactory.get(\"step1\")\n            .&lt;Customer, Customer&gt;chunk(100).\n            reader(customerItemReader())\n            .writer(customerItemWriter()).taskExecutor(taskExecutor()).throttleLimit(10)\n            .build();\n}\n}\n</code></pre>\n\n<p>bellow snippet is not working getting  above mentioned exception</p>\n\n<pre><code>@Bean\npublic Step step1() {\n    return stepBuilderFactory.get(\"step1\")\n            .&lt;Customer, Customer&gt;chunk(100).\n            reader(multiResourceItemReader())\n            .writer(customerItemWriter()).taskExecutor(taskExecutor()).throttleLimit(10)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","cmd","console"],"comments":[{"owner":{"account_id":6850954,"reputation":81,"user_id":5268156,"accept_rate":83,"display_name":"Nolan Kr"},"score":0,"creation_date":1479225794,"post_id":40614353,"comment_id":68462798,"body_markdown":"tbh this is my friend&#39;s code so I&#39;m kinda confused too ... sorry in advanced to whatever will be commented towards how he coded it. I&#39;m just helping him but I too am not too knowledgeable in Java xD","body":"tbh this is my friend&#39;s code so I&#39;m kinda confused too ... sorry in advanced to whatever will be commented towards how he coded it. I&#39;m just helping him but I too am not too knowledgeable in Java xD"},{"owner":{"account_id":7777024,"reputation":2482,"user_id":5884788,"display_name":"bradimus"},"score":1,"creation_date":1479225805,"post_id":40614353,"comment_id":68462800,"body_markdown":"Your last `i++` when adding to the list make `j=i` start after the last item in the `while` loop for case 2.","body":"Your last <code>i++</code> when adding to the list make <code>j=i</code> start after the last item in the <code>while</code> loop for case 2."},{"owner":{"account_id":5117111,"reputation":2006,"user_id":4101876,"accept_rate":64,"display_name":"mdewit"},"score":0,"creation_date":1479225837,"post_id":40614353,"comment_id":68462825,"body_markdown":"In your Pos class, which of these lines are line 69?","body":"In your Pos class, which of these lines are line 69?"},{"owner":{"account_id":6850954,"reputation":81,"user_id":5268156,"accept_rate":83,"display_name":"Nolan Kr"},"score":0,"creation_date":1479226066,"post_id":40614353,"comment_id":68462986,"body_markdown":"line 69 would be total=total+prod[j].prodTotal; @mdewit","body":"line 69 would be total=total+prod[j].prodTotal; @mdewit"},{"owner":{"account_id":5117111,"reputation":2006,"user_id":4101876,"accept_rate":64,"display_name":"mdewit"},"score":0,"creation_date":1479226175,"post_id":40614353,"comment_id":68463077,"body_markdown":"Edit: bradimus is right. You will be accessing an uninitialised product on this line: total=total+prod[j].prodTotal. This due to j having been set to i, after i has been incremented. So basically you are trying to access the element after the one that you allocated with prod[i] = new Product (pname,price,quant,ptotal);","body":"Edit: bradimus is right. You will be accessing an uninitialised product on this line: total=total+prod[j].prodTotal. This due to j having been set to i, after i has been incremented. So basically you are trying to access the element after the one that you allocated with prod[i] = new Product (pname,price,quant,ptotal);"},{"owner":{"account_id":6850954,"reputation":81,"user_id":5268156,"accept_rate":83,"display_name":"Nolan Kr"},"score":0,"creation_date":1479226238,"post_id":40614353,"comment_id":68463119,"body_markdown":"oh my god i didn&#39;t see his comment. i&#39;m so sorry. it&#39;s pretty late here and my eyes are burning. let me change it real quick","body":"oh my god i didn&#39;t see his comment. i&#39;m so sorry. it&#39;s pretty late here and my eyes are burning. let me change it real quick"},{"owner":{"account_id":4850694,"reputation":110,"user_id":3913053,"accept_rate":100,"display_name":"endkugelfang"},"score":0,"creation_date":1479226469,"post_id":40614353,"comment_id":68463260,"body_markdown":"The problem is that you are initialize j with two (value of i) in your second case. After it you want to get the second element of your array (total=total+prod[j].prodTotal;)  --&gt; Nullpointer because an array starts counting at zero and not one! Just change your line to:  total=total+prod[j-1].prodTotal; and it should work for your described case.","body":"The problem is that you are initialize j with two (value of i) in your second case. After it you want to get the second element of your array (total=total+prod[j].prodTotal;)  --&gt; Nullpointer because an array starts counting at zero and not one! Just change your line to:  total=total+prod[j-1].prodTotal; and it should work for your described case."},{"owner":{"account_id":6850954,"reputation":81,"user_id":5268156,"accept_rate":83,"display_name":"Nolan Kr"},"score":0,"creation_date":1479226985,"post_id":40614353,"comment_id":68463646,"body_markdown":"OMG @endkugelfang thank you so much. And the other guys too mdewit and bradimus. I get it now xD oh dear... I&#39;m really sorry for not getting it directly in the first place. I&#39;m still a student with low knowledge of these things but I&#39;m trying to work my way to the top hehe. Thanks guys!","body":"OMG @endkugelfang thank you so much. And the other guys too mdewit and bradimus. I get it now xD oh dear... I&#39;m really sorry for not getting it directly in the first place. I&#39;m still a student with low knowledge of these things but I&#39;m trying to work my way to the top hehe. Thanks guys!"},{"owner":{"account_id":6850954,"reputation":81,"user_id":5268156,"accept_rate":83,"display_name":"Nolan Kr"},"score":0,"creation_date":1479227316,"post_id":40614353,"comment_id":68463868,"body_markdown":"so the only problem I have now is math. Since #2 adds all the total, it would then add again all totals when I input another product. \n\ne.g.\nI press &#39;1&#39; and input. Total of 1 is 500. I press &#39;2&#39; and see all total as 500. I press &#39;1&#39; again and Total of this &#39;1&#39; is 600. I press &#39;2&#39; then all total becomes 500+500(another 500 huhu because it&#39;s running the equation again i think) + 600 which makes it 1600 when the answer is supposed to be 500+600 = 1100 ------ i&#39;ll try to solve it. thanks again guys!! :D &lt;3","body":"so the only problem I have now is math. Since #2 adds all the total, it would then add again all totals when I input another product.   e.g. I press &#39;1&#39; and input. Total of 1 is 500. I press &#39;2&#39; and see all total as 500. I press &#39;1&#39; again and Total of this &#39;1&#39; is 600. I press &#39;2&#39; then all total becomes 500+500(another 500 huhu because it&#39;s running the equation again i think) + 600 which makes it 1600 when the answer is supposed to be 500+600 = 1100 ------ i&#39;ll try to solve it. thanks again guys!! :D &lt;3"}],"owner":{"account_id":6850954,"reputation":81,"user_id":5268156,"accept_rate":83,"display_name":"Nolan Kr"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1479225930,"answer_count":0,"score":1,"last_activity_date":1684601552,"creation_date":1479225627,"question_id":40614353,"body_markdown":"I&#39;m very new to java and I know I&#39;m learning this in a very bad way. So, I&#39;ve understood a bit like how to print and stuff (I&#39;m so sorry I&#39;m totally new to java). Anyways, I&#39;m creating a POS (Point of Sale) system.\r\n\r\nSo in my current code when you run this in cmd/console\r\n\r\nYou will see 2 choices (1 &amp; 0)\r\nbut it has actually 3 choices,(1,2 &amp; 0).\r\n\r\n1- Add Item to List\r\n\r\n2- Total of everything (need to add items first [1])\r\n\r\n0- Exit\r\n\r\nAfter adding a product/item to the list, it would loop back to the transaction part (1,2 &amp; 0) part. Everything was ok until I inputted &quot;2&quot;\r\nwhich then placed me with an error of:\r\n\r\n    &#39;Exception in thread &quot;main&quot; java.lang.NullPointException at Pos.main(Pos.java:69)&#39;\r\n\r\nwhile my friend who I was chatting with at Facebook used this online compiler and it says this:\r\n\r\n    &#39;java.util.Scanner.throwFor(Scanner.java:862)\r\n    \tat java.util.Scanner.next(Scanner.java:1485)\r\n    \tat java.util.Scanner.nextInt(Scanner.java:2117)\r\n    \tat java.util.Scanner.nextInt(Scanner.java:2076)\r\n    \tat Pos.main(Pos.java:47)&#39;\r\n\r\n(the main reason why I placed so many imports)\r\n\r\nplease help a rookie out :--(\r\n\r\nI&#39;ve been searching around stackoverflow and google but nothing seems to work or maybe my knowledge level is just too low to understand those.\r\n\r\nanyways, my current goal is for when i press &#39;2&#39; it will get the total of all totals from the items at the transaction area that i&#39;ve added. So basically pressing &#39;1&#39; at the transaction area means you&#39;re ordering something. And when I press &#39;2&#39; then there goes your bill (total) or something like that.\r\n\r\n    import java.*;\r\n    import java.util.*;\r\n    import java.util.Scanner;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    \r\n    class Product {\r\n          private String prodName;\r\n    \t  private double prodPrice;\r\n    \t  private int quantity;\r\n    \t  public double prodTotal;\r\n      \r\n            \r\n      // constructor\r\n          public Product(String prodName, double prodPrice,int quantity,double prodTotal) {\r\n          this.prodName = prodName;\r\n          this.prodPrice = prodPrice;\r\n    \t  this.quantity = quantity;\r\n    \t  this.prodTotal = prodTotal;\r\n       }\r\n    \r\n           // getter\r\n           public String getprodName() { return prodName; }\r\n           public double getprodPrice() { return prodPrice; }\r\n    \t   public int getquantity() { return quantity; }\r\n    \t   public double getprodTotal() { return prodTotal; }\r\n    \t   \r\n           // setter\r\n    \r\n           public void setprodName(String prodName) { this.prodName = prodName; }\r\n           public void setprodPrice(double prodPrice) { this.prodPrice = prodPrice; }\r\n    \t   public void setquantity(int quantity) {this.quantity = quantity; }\r\n    \t   public void setprodTotal(double prodTotal) {this.prodTotal = prodTotal; }\r\n        }\r\n    public class Pos{\r\n    \t\t\r\n    \t\t\r\n    \t\tpublic static void main (String args[])\r\n    \t\t{\r\n    \t\t\r\n    \t\tString pname;\r\n    \t\tdouble price;\r\n    \t\tint quant,choice,j,i=0;\r\n    \t\tdouble ptotal, total=0;\r\n    \t\t\r\n            Product[] prod = new Product[100];\r\n    \t\t\r\n    \t\tdo{\r\n    \t\t\tSystem.out.println(&quot;\\n1 - Add Item to List\\n0 - Exit\\n&quot;);\r\n    \t\t\tScanner inputReader= new Scanner( System.in );\r\n    \t\t\tchoice=inputReader.nextInt();\r\n    \t\t\tswitch(choice){\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter product name: &quot;);\r\n    \t\t\t\t\tpname = inputReader.next();\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter price: &quot;);\r\n    \t\t\t\t\tprice = inputReader.nextDouble();\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter quantity: &quot;);\r\n    \t\t\t\t\tquant = inputReader.nextInt();\r\n    \t\t\t\t\tptotal = price*quant;\r\n    \t\t\t\t\tptotal = Math.round(ptotal * 100.0) / 100.0;\r\n    \t\t\t\t\tSystem.out.println(&quot;\\nProduct: &quot;+pname+&quot;\\tPrice: P&quot;+price+&quot;\\tQuantity: &quot;+quant+&quot;\\tTotal: P&quot;+ptotal);\r\n    \t\t\t\t\tprod[i] = new Product (pname,price,quant,ptotal);\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\tj=i;\r\n    \t\t\t\t\twhile(j&gt;0){\r\n    \t\t\t\t\t\ttotal=total+prod[j].prodTotal;\r\n    \t\t\t\t\t\tj--;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(&quot;Overall Total: &quot;+total);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\tcase 0:\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t}while(choice!=0);\r\n    \t\t//System.out.println(&quot;\\nProduct: &quot;+prodName+&quot;\\tPrice: &quot;+prodPrice+&quot;\\tQuantity: &quot;+quantity);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}","title":"java.lang.NullPointException and POS system java console","body":"<p>I'm very new to java and I know I'm learning this in a very bad way. So, I've understood a bit like how to print and stuff (I'm so sorry I'm totally new to java). Anyways, I'm creating a POS (Point of Sale) system.</p>\n\n<p>So in my current code when you run this in cmd/console</p>\n\n<p>You will see 2 choices (1 &amp; 0)\nbut it has actually 3 choices,(1,2 &amp; 0).</p>\n\n<p>1- Add Item to List</p>\n\n<p>2- Total of everything (need to add items first [1])</p>\n\n<p>0- Exit</p>\n\n<p>After adding a product/item to the list, it would loop back to the transaction part (1,2 &amp; 0) part. Everything was ok until I inputted \"2\"\nwhich then placed me with an error of:</p>\n\n<pre><code>'Exception in thread \"main\" java.lang.NullPointException at Pos.main(Pos.java:69)'\n</code></pre>\n\n<p>while my friend who I was chatting with at Facebook used this online compiler and it says this:</p>\n\n<pre><code>'java.util.Scanner.throwFor(Scanner.java:862)\n    at java.util.Scanner.next(Scanner.java:1485)\n    at java.util.Scanner.nextInt(Scanner.java:2117)\n    at java.util.Scanner.nextInt(Scanner.java:2076)\n    at Pos.main(Pos.java:47)'\n</code></pre>\n\n<p>(the main reason why I placed so many imports)</p>\n\n<p>please help a rookie out :--(</p>\n\n<p>I've been searching around stackoverflow and google but nothing seems to work or maybe my knowledge level is just too low to understand those.</p>\n\n<p>anyways, my current goal is for when i press '2' it will get the total of all totals from the items at the transaction area that i've added. So basically pressing '1' at the transaction area means you're ordering something. And when I press '2' then there goes your bill (total) or something like that.</p>\n\n<pre><code>import java.*;\nimport java.util.*;\nimport java.util.Scanner;\nimport java.lang.*;\nimport java.io.*;\n\nclass Product {\n      private String prodName;\n      private double prodPrice;\n      private int quantity;\n      public double prodTotal;\n\n\n  // constructor\n      public Product(String prodName, double prodPrice,int quantity,double prodTotal) {\n      this.prodName = prodName;\n      this.prodPrice = prodPrice;\n      this.quantity = quantity;\n      this.prodTotal = prodTotal;\n   }\n\n       // getter\n       public String getprodName() { return prodName; }\n       public double getprodPrice() { return prodPrice; }\n       public int getquantity() { return quantity; }\n       public double getprodTotal() { return prodTotal; }\n\n       // setter\n\n       public void setprodName(String prodName) { this.prodName = prodName; }\n       public void setprodPrice(double prodPrice) { this.prodPrice = prodPrice; }\n       public void setquantity(int quantity) {this.quantity = quantity; }\n       public void setprodTotal(double prodTotal) {this.prodTotal = prodTotal; }\n    }\npublic class Pos{\n\n\n        public static void main (String args[])\n        {\n\n        String pname;\n        double price;\n        int quant,choice,j,i=0;\n        double ptotal, total=0;\n\n        Product[] prod = new Product[100];\n\n        do{\n            System.out.println(\"\\n1 - Add Item to List\\n0 - Exit\\n\");\n            Scanner inputReader= new Scanner( System.in );\n            choice=inputReader.nextInt();\n            switch(choice){\n                case 1:\n                    System.out.println(\"Enter product name: \");\n                    pname = inputReader.next();\n                    System.out.println(\"Enter price: \");\n                    price = inputReader.nextDouble();\n                    System.out.println(\"Enter quantity: \");\n                    quant = inputReader.nextInt();\n                    ptotal = price*quant;\n                    ptotal = Math.round(ptotal * 100.0) / 100.0;\n                    System.out.println(\"\\nProduct: \"+pname+\"\\tPrice: P\"+price+\"\\tQuantity: \"+quant+\"\\tTotal: P\"+ptotal);\n                    prod[i] = new Product (pname,price,quant,ptotal);\n                    i++;\n                        break;\n                case 2:\n                    j=i;\n                    while(j&gt;0){\n                        total=total+prod[j].prodTotal;\n                        j--;\n                    }\n                    System.out.println(\"Overall Total: \"+total);\n                        break;\n                case 0:\n                    break;\n                    }\n        }while(choice!=0);\n        //System.out.println(\"\\nProduct: \"+prodName+\"\\tPrice: \"+prodPrice+\"\\tQuantity: \"+quantity);\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","android","android-activity","push-notification","onclick"],"answers":[{"tags":[],"owner":{"account_id":5010669,"reputation":1562,"user_id":4027042,"accept_rate":20,"display_name":"Ajay Venugopal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488197269,"creation_date":1488197269,"answer_id":42485438,"question_id":42479611,"body_markdown":"You have to add an extra parameter in the message content for identifying the type. Then create notification manager with different activity based on that type value.\r\n\r\nex:\r\n\r\n    switch (type){\r\n    case 1:\r\n    \r\n     notification manager for activity A\r\n    \r\n    break:\r\n    \r\n    case 2:\r\n    \r\n     notification manager for activity B\r\n    \r\n    break:\r\n    \r\n    }","title":"how i can go on particular activity after clicking on notification","body":"<p>You have to add an extra parameter in the message content for identifying the type. Then create notification manager with different activity based on that type value.</p>\n\n<p>ex:</p>\n\n<pre><code>switch (type){\ncase 1:\n\n notification manager for activity A\n\nbreak:\n\ncase 2:\n\n notification manager for activity B\n\nbreak:\n\n}\n</code></pre>\n"}],"owner":{"account_id":10220010,"reputation":1,"user_id":7544473,"display_name":"Rahul Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684601407,"creation_date":1488178924,"question_id":42479611,"body_markdown":"i want my application should give me notification and on clicking on notification another activity should open  like whatsapp notifications    \r\nthis is my code c an anyone help?????   \r\n    \r\n     public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n            @Override\r\n            public void onMessageReceived(RemoteMessage remoteMessage) {\r\n                //    sendNotification(remoteMessage.getNotification().getBody());\r\n                //Bundle bundle=new Bundle();\r\n                //bundle.putString(&quot;msgBody&quot;,remoteMessage.getNotification().getBody());\r\n                //intent use for start this activity after click on notification\r\n                Intent intent = new Intent(getApplicationContext(),Secondactivity.class);\r\n                String valu=remoteMessage.getNotification().getBody();\r\n                intent.putExtra(&quot;notificationmessage&quot;,valu);\r\n    **strong text**            //here we are telling system after clicking you have to come on mainactivity\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                //here we are giving rights to main activity.FLAG_ONE_SHOT useful to indicate this pending intent can use only once\r\n                PendingIntent pendingintent=PendingIntent.getActivity(this,0,intent,PendingIntent.FLAG_ONE_SHOT);\r\n                //notificationcompat useful for creating notification layout\r\n                NotificationCompat.Builder notificationbuilder=new  NotificationCompat.Builder(this);\r\n                notificationbuilder.setContentText(remoteMessage.getNotification().getBody());\r\n                notificationbuilder.setContentTitle(&quot;FCM NOTIFICATION&quot;);\r\n                notificationbuilder.setSmallIcon(R.mipmap.ic_launcher);\r\n                notificationbuilder.setAutoCancel(true);\r\n                notificationbuilder.setContentIntent(pendingintent);\r\n        \r\n                NotificationManager notificationManager= (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                notificationManager.notify(0,notificationbuilder.build());\r\n        \r\n            }","title":"how i can go on particular activity after clicking on notification","body":"<p>i want my application should give me notification and on clicking on notification another activity should open  like whatsapp notifications<br>\nthis is my code c an anyone help?????   </p>\n\n<pre><code> public class MyFirebaseMessagingService extends FirebaseMessagingService {\n        @Override\n        public void onMessageReceived(RemoteMessage remoteMessage) {\n            //    sendNotification(remoteMessage.getNotification().getBody());\n            //Bundle bundle=new Bundle();\n            //bundle.putString(\"msgBody\",remoteMessage.getNotification().getBody());\n            //intent use for start this activity after click on notification\n            Intent intent = new Intent(getApplicationContext(),Secondactivity.class);\n            String valu=remoteMessage.getNotification().getBody();\n            intent.putExtra(\"notificationmessage\",valu);\n**strong text**            //here we are telling system after clicking you have to come on mainactivity\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            //here we are giving rights to main activity.FLAG_ONE_SHOT useful to indicate this pending intent can use only once\n            PendingIntent pendingintent=PendingIntent.getActivity(this,0,intent,PendingIntent.FLAG_ONE_SHOT);\n            //notificationcompat useful for creating notification layout\n            NotificationCompat.Builder notificationbuilder=new  NotificationCompat.Builder(this);\n            notificationbuilder.setContentText(remoteMessage.getNotification().getBody());\n            notificationbuilder.setContentTitle(\"FCM NOTIFICATION\");\n            notificationbuilder.setSmallIcon(R.mipmap.ic_launcher);\n            notificationbuilder.setAutoCancel(true);\n            notificationbuilder.setContentIntent(pendingintent);\n\n            NotificationManager notificationManager= (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            notificationManager.notify(0,notificationbuilder.build());\n\n        }\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1532771272,"post_id":51570022,"comment_id":90106294,"body_markdown":"What is the exact question/problem? (Have you noticed that you&#39;re calling `scrollableResults.next()` where you probably shouldn&#39;t?)","body":"What is the exact question/problem? (Have you noticed that you&#39;re calling <code>scrollableResults.next()</code> where you probably shouldn&#39;t?)"},{"owner":{"account_id":5752444,"reputation":1381,"user_id":4541646,"accept_rate":62,"display_name":"sparkhee93"},"score":0,"creation_date":1532792744,"post_id":51570022,"comment_id":90111635,"body_markdown":"@ernest_k I updated it to be more clear about my question. I&#39;m just unsure how to implement this.","body":"@ernest_k I updated it to be more clear about my question. I&#39;m just unsure how to implement this."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1532794254,"post_id":51570022,"comment_id":90112023,"body_markdown":"I probably didn&#39;t fully understand what you&#39;re aiming at. But it sounds like this *might* be a case where &quot;preparing&quot; the next element should be a separate step. The pattern that is occasionally used here: 1. define a `private T next;`. 2. Implement `hasNext` as `next!=null`. 3. create a method `prepareNext` that will compute the next element to be returned. 4. In the constructor, do `this.next=prepareNext()`. 5. In `next`, do `T result=next; this.next=prepareNext(); return result;`. If you think that this can solve your issue, I&#39;ll try to convert this into an answer.","body":"I probably didn&#39;t fully understand what you&#39;re aiming at. But it sounds like this <i>might</i> be a case where &quot;preparing&quot; the next element should be a separate step. The pattern that is occasionally used here: 1. define a <code>private T next;</code>. 2. Implement <code>hasNext</code> as <code>next!=null</code>. 3. create a method <code>prepareNext</code> that will compute the next element to be returned. 4. In the constructor, do <code>this.next=prepareNext()</code>. 5. In <code>next</code>, do <code>T result=next; this.next=prepareNext(); return result;</code>. If you think that this can solve your issue, I&#39;ll try to convert this into an answer."}],"owner":{"account_id":5752444,"reputation":1381,"user_id":4541646,"accept_rate":62,"display_name":"sparkhee93"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684601279,"creation_date":1532770707,"question_id":51570022,"body_markdown":"I need to override iterator&#39;s `next()` function in my wrapper class so that each time I call `next()`, it will iterate through the `ScrollableResults`, add details, and ultimately return the unique record. \r\n\r\nBecause of how things are already set in place, each record with the same sequence number should be exactly the same *except* for the detail name and detail value. I need to add these details to the same record (that&#39;s what `record.addDetail(name, value)` does) and ultimately return that unique record. Here&#39;s a breakdown of what needs to happen for my custom `next()`:\r\n\r\n 1. Iterate through `scrollableResults`, adding detail name and detail value to the unique record (it can add to either unique ones).\r\n \r\n 2. Once the cursor comes across a different sequence number, it should break out of the loop and return the unique record/object.\r\n 3. Once returned, the next call to `next()` will start the process all over again except the cursor will pick up where it left off and `previousSequence` should also pick up where it left off.\r\n\r\n**Wrapper.java:**\r\n\r\n    public class Wrapper&lt;T&gt; implements Iterable&lt;T&gt;, AutoCloseable {\r\n    \r\n        private ScrollableResults scrollableResults;\r\n        private Session session;\r\n    \r\n        public Wrapper(ScrollableResults scrollableResults, Session session) {\r\n            this.scrollableResults = scrollableResults;\r\n            this.session = session;\r\n        }\r\n    \r\n        public Iterator&lt;T&gt; iterator() { return new WrapperIterator(); }\r\n    \r\n        @Override\r\n        public void close() {\r\n            scrollableResults.close();\r\n        }\r\n    \r\n        public class WrapperIterator implements Iterator&lt;T&gt; {\r\n    \r\n            private Integer previousSequence;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                boolean hasNext = scrollableResults.next();\r\n                return hasNext;\r\n            }\r\n\r\n            /**\r\n             * This next() method should return the next UNIQUE record.\r\n             * But before returning the unique record, it should add all the appropriate details to the respective record.\r\n             */\r\n            @Override\r\n            public T next() {\r\n                boolean hasNext = scrollableResults.next();\r\n                if (!hasNext) {\r\n                    throw new NoSuchElementException();\r\n                }\r\n                // For previousSequence, first result needs to be retrieved explicitly\r\n                Object[] row = (Object[]) scrollableResults.get();\r\n                Record record = (Record) row[0];\r\n                Integer currentSequence = previousSequence = record.getSequence();\r\n                String detailName = (String) row[1];\r\n                String detailValue = (String) row[2];\r\n                record = setDetails(record, detailName, detailValue);\r\n    \r\n                Object[] mainRow = row;\r\n    \r\n                // First one should always be unique since it&#39;s starting a new set of records of same sequence.\r\n                while(scrollableResults.next()) {\r\n                     // Get record\r\n                    row = (Object[]) scrollableResults.get();\r\n                    record = (Record) row[0];\r\n                    // Update current sequence\r\n                    currentSequence = record.getSequence();\r\n                    // If current sequence is different from previous sequence, break\r\n                    // First result needs to be accounted for\r\n                    if(!currentSequence.equals(previousSequence)) {\r\n                        previousSequence = currentSequence;\r\n                        session.evict(row);\r\n                        return (T) row;\r\n                    }\r\n                    // Add detail\r\n                    detailName = (String) row[1];\r\n                    detailValue = (String) row[2];\r\n                    record = setDetails(record, detailName, detailValue);\r\n                }\r\n                previousSequence = currentSequence;\r\n                return (T) mainRow;\r\n            }\r\n        \r\n            private Record setDetails(Record record, String detailName, String detailValue) {\r\n                record.addDetail(detailName, detailValue);\r\n                return record;\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve been trying to implement this and this is as far as I got. My current approach traverses and puts in details just fine but **my problem is in returning the right row. Since current sequence needs to be checked with the previous sequence, I can&#39;t return the very last record before the new sequence record since the cursor will be already past it.**\r\n\r\nAny recommendation on how I could fix this? Anything would be greatly appreciated!\r\n\r\n***NOTE:** The iterator **CANNOT** traverse backwards. The scroll mode has been set to FORWARD_ONLY due to PSQL bug of the scroll mode needing to be FORWARD_ONLY.*","title":"Find next unique element using next() for an iterable","body":"<p>I need to override iterator's <code>next()</code> function in my wrapper class so that each time I call <code>next()</code>, it will iterate through the <code>ScrollableResults</code>, add details, and ultimately return the unique record. </p>\n\n<p>Because of how things are already set in place, each record with the same sequence number should be exactly the same <em>except</em> for the detail name and detail value. I need to add these details to the same record (that's what <code>record.addDetail(name, value)</code> does) and ultimately return that unique record. Here's a breakdown of what needs to happen for my custom <code>next()</code>:</p>\n\n<ol>\n<li><p>Iterate through <code>scrollableResults</code>, adding detail name and detail value to the unique record (it can add to either unique ones).</p></li>\n<li><p>Once the cursor comes across a different sequence number, it should break out of the loop and return the unique record/object.</p></li>\n<li>Once returned, the next call to <code>next()</code> will start the process all over again except the cursor will pick up where it left off and <code>previousSequence</code> should also pick up where it left off.</li>\n</ol>\n\n<p><strong>Wrapper.java:</strong></p>\n\n<pre><code>public class Wrapper&lt;T&gt; implements Iterable&lt;T&gt;, AutoCloseable {\n\n    private ScrollableResults scrollableResults;\n    private Session session;\n\n    public Wrapper(ScrollableResults scrollableResults, Session session) {\n        this.scrollableResults = scrollableResults;\n        this.session = session;\n    }\n\n    public Iterator&lt;T&gt; iterator() { return new WrapperIterator(); }\n\n    @Override\n    public void close() {\n        scrollableResults.close();\n    }\n\n    public class WrapperIterator implements Iterator&lt;T&gt; {\n\n        private Integer previousSequence;\n\n        @Override\n        public boolean hasNext() {\n            boolean hasNext = scrollableResults.next();\n            return hasNext;\n        }\n\n        /**\n         * This next() method should return the next UNIQUE record.\n         * But before returning the unique record, it should add all the appropriate details to the respective record.\n         */\n        @Override\n        public T next() {\n            boolean hasNext = scrollableResults.next();\n            if (!hasNext) {\n                throw new NoSuchElementException();\n            }\n            // For previousSequence, first result needs to be retrieved explicitly\n            Object[] row = (Object[]) scrollableResults.get();\n            Record record = (Record) row[0];\n            Integer currentSequence = previousSequence = record.getSequence();\n            String detailName = (String) row[1];\n            String detailValue = (String) row[2];\n            record = setDetails(record, detailName, detailValue);\n\n            Object[] mainRow = row;\n\n            // First one should always be unique since it's starting a new set of records of same sequence.\n            while(scrollableResults.next()) {\n                 // Get record\n                row = (Object[]) scrollableResults.get();\n                record = (Record) row[0];\n                // Update current sequence\n                currentSequence = record.getSequence();\n                // If current sequence is different from previous sequence, break\n                // First result needs to be accounted for\n                if(!currentSequence.equals(previousSequence)) {\n                    previousSequence = currentSequence;\n                    session.evict(row);\n                    return (T) row;\n                }\n                // Add detail\n                detailName = (String) row[1];\n                detailValue = (String) row[2];\n                record = setDetails(record, detailName, detailValue);\n            }\n            previousSequence = currentSequence;\n            return (T) mainRow;\n        }\n\n        private Record setDetails(Record record, String detailName, String detailValue) {\n            record.addDetail(detailName, detailValue);\n            return record;\n        }\n    }\n}\n</code></pre>\n\n<p>I've been trying to implement this and this is as far as I got. My current approach traverses and puts in details just fine but <strong>my problem is in returning the right row. Since current sequence needs to be checked with the previous sequence, I can't return the very last record before the new sequence record since the cursor will be already past it.</strong></p>\n\n<p>Any recommendation on how I could fix this? Anything would be greatly appreciated!</p>\n\n<p><strong><em>NOTE:</strong> The iterator <strong>CANNOT</strong> traverse backwards. The scroll mode has been set to FORWARD_ONLY due to PSQL bug of the scroll mode needing to be FORWARD_ONLY.</em></p>\n"},{"tags":["java","gradle","intellij-idea","forge"],"comments":[{"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"score":0,"creation_date":1640663522,"post_id":70456950,"comment_id":124627427,"body_markdown":"still looking for a solution that could work with gradle 3.0","body":"still looking for a solution that could work with gradle 3.0"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1640701816,"post_id":70456950,"comment_id":124637133,"body_markdown":"Does it work fine from command line outside IDE?","body":"Does it work fine from command line outside IDE?"},{"owner":{"account_id":7793343,"reputation":869,"user_id":5895454,"display_name":"Dr. Roger Webster"},"score":0,"creation_date":1673957436,"post_id":70456950,"comment_id":132607873,"body_markdown":"When it says &quot;Cannot use connection to Gradle distribution &#39;xxxx&#39; as it has been stopped&quot; I simply closed the project, quit android studio, and then relaunched Android Studio and opened the project and it worked, i.e., Gradle was not stopped and I could continue.","body":"When it says &quot;Cannot use connection to Gradle distribution &#39;xxxx&#39; as it has been stopped&quot; I simply closed the project, quit android studio, and then relaunched Android Studio and opened the project and it worked, i.e., Gradle was not stopped and I could continue."}],"answers":[{"tags":[],"owner":{"account_id":7793343,"reputation":869,"user_id":5895454,"display_name":"Dr. Roger Webster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673957511,"creation_date":1673957511,"answer_id":75146234,"question_id":70456950,"body_markdown":"When it says &quot;Cannot use connection to Gradle distribution &#39;xxxx&#39; as it has been stopped&quot; I simply closed the project, quit android studio, and then relaunched Android Studio and opened the project and it worked, i.e., Gradle was not stopped and I could continue.","title":"Cannot use connection to Gradle distribution &#39;xxxx&#39; as it has been stopped","body":"<p>When it says &quot;Cannot use connection to Gradle distribution 'xxxx' as it has been stopped&quot; I simply closed the project, quit android studio, and then relaunched Android Studio and opened the project and it worked, i.e., Gradle was not stopped and I could continue.</p>\n"},{"tags":[],"owner":{"account_id":5748373,"reputation":1514,"user_id":4538920,"accept_rate":0,"display_name":"Ahmed Shendy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684600487,"creation_date":1684600487,"answer_id":76296255,"question_id":70456950,"body_markdown":"I just clicked **Reload Gradle Project** as shown in the picture and the issue is gone.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AUfOT.png","title":"Cannot use connection to Gradle distribution &#39;xxxx&#39; as it has been stopped","body":"<p>I just clicked <strong>Reload Gradle Project</strong> as shown in the picture and the issue is gone.</p>\n<p><a href=\"https://i.stack.imgur.com/AUfOT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AUfOT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3960,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1684600487,"creation_date":1640224338,"question_id":70456950,"body_markdown":"so I have never had this happen before, I am trying to load a gradle project in IntelliJ idea, but I keep getting this following error.\r\n\r\n    Cannot use connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-3.0-bin.zip&#39; as it has been stopped.\r\n\r\nHere is the logs of the gradle process\r\n\r\n    Download https://services.gradle.org/distributions/gradle-3.0-bin.zip finished, took 14 s 732 ms (69.3 MB)\r\n    7:49:01 AM: Execution finished &#39;wrapper&#39;.\r\n\r\nCould not find anything on google that was useful.","title":"Cannot use connection to Gradle distribution &#39;xxxx&#39; as it has been stopped","body":"<p>so I have never had this happen before, I am trying to load a gradle project in IntelliJ idea, but I keep getting this following error.</p>\n<pre><code>Cannot use connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-3.0-bin.zip' as it has been stopped.\n</code></pre>\n<p>Here is the logs of the gradle process</p>\n<pre><code>Download https://services.gradle.org/distributions/gradle-3.0-bin.zip finished, took 14 s 732 ms (69.3 MB)\n7:49:01 AM: Execution finished 'wrapper'.\n</code></pre>\n<p>Could not find anything on google that was useful.</p>\n"},{"tags":["java","android","arrays","random"],"comments":[{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1514468849,"post_id":48008622,"comment_id":82985425,"body_markdown":"what is the problem with the code that you have ?","body":"what is the problem with the code that you have ?"}],"answers":[{"tags":[],"owner":{"account_id":3986378,"reputation":6528,"user_id":3286819,"display_name":"Xavier Rubio Jansana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514468931,"creation_date":1514468931,"answer_id":48008674,"question_id":48008622,"body_markdown":"You need to set a [completion listener][1]:\r\n\r\n    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n        void onCompletion(MediaPlayer mp) {\r\n            // Play next song\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer.html#setOnCompletionListener(android.media.MediaPlayer.OnCompletionListener)","title":"How to play next random song of the array of songs","body":"<p>You need to set a <a href=\"https://developer.android.com/reference/android/media/MediaPlayer.html#setOnCompletionListener(android.media.MediaPlayer.OnCompletionListener)\" rel=\"nofollow noreferrer\">completion listener</a>:</p>\n\n<pre><code>mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n    void onCompletion(MediaPlayer mp) {\n        // Play next song\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3008894,"reputation":175,"user_id":2552798,"display_name":"Abhay Tomar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1514886617,"creation_date":1514469083,"answer_id":48008716,"question_id":48008622,"body_markdown":"Try this, You need to implement `MediaPlayer.OnCompletionListener` interface\r\nin your activity\r\n\r\n    public class MainActivity extends AppCompatActivity implements MediaPlayer.OnCompletionListener {\r\n        private MediaPlayer mediaPlayer;\r\n        private int songs[];\r\n        private int randomSong;\r\n        private Random random = new Random();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mediaPlayer.setOnCompletionListener(this);\r\n            songs = new int[]{\r\n                    R.raw.track1,\r\n                    R.raw.track2,\r\n                    R.raw.track3,\r\n                    R.raw.track4,\r\n                    R.raw.track5,\r\n                    R.raw.track6,\r\n                    R.raw.track7,\r\n                    R.raw.track8,\r\n                    R.raw.track9,\r\n                    R.raw.track10,\r\n                    R.raw.track11,\r\n                    R.raw.track12,\r\n                    R.raw.track13,\r\n                    R.raw.track14,\r\n                    R.raw.track15,\r\n                    R.raw.track16,\r\n                    R.raw.track17,\r\n            };\r\n    \r\n    \r\n            randomSong = getRandom(songs);\r\n            mediaPlayer = MediaPlayer.create(this, songs[randomSong]);\r\n            mediaPlayer.start();\r\n        }\r\n    \r\n        @Override\r\n        public void onCompletion(MediaPlayer mediaPlayer) {\r\n            randomSong = getRandom(songs);\r\n            mediaPlayer = MediaPlayer.create(this, songs[randomSong]);\r\n            mediaPlayer.start();\r\n        }\r\n    \r\n        public int getRandom(int[] array) {\r\n            return random.nextInt(array.length);\r\n        }\r\n    }","title":"How to play next random song of the array of songs","body":"<p>Try this, You need to implement <code>MediaPlayer.OnCompletionListener</code> interface\nin your activity</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements MediaPlayer.OnCompletionListener {\n    private MediaPlayer mediaPlayer;\n    private int songs[];\n    private int randomSong;\n    private Random random = new Random();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mediaPlayer.setOnCompletionListener(this);\n        songs = new int[]{\n                R.raw.track1,\n                R.raw.track2,\n                R.raw.track3,\n                R.raw.track4,\n                R.raw.track5,\n                R.raw.track6,\n                R.raw.track7,\n                R.raw.track8,\n                R.raw.track9,\n                R.raw.track10,\n                R.raw.track11,\n                R.raw.track12,\n                R.raw.track13,\n                R.raw.track14,\n                R.raw.track15,\n                R.raw.track16,\n                R.raw.track17,\n        };\n\n\n        randomSong = getRandom(songs);\n        mediaPlayer = MediaPlayer.create(this, songs[randomSong]);\n        mediaPlayer.start();\n    }\n\n    @Override\n    public void onCompletion(MediaPlayer mediaPlayer) {\n        randomSong = getRandom(songs);\n        mediaPlayer = MediaPlayer.create(this, songs[randomSong]);\n        mediaPlayer.start();\n    }\n\n    public int getRandom(int[] array) {\n        return random.nextInt(array.length);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761650,"reputation":2950,"user_id":2378429,"display_name":"O.O.Balance"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514469123,"creation_date":1514469123,"answer_id":48008726,"question_id":48008622,"body_markdown":"You can use a listener to run a callback when the song has finished playing:\r\n\r\n    setOnCompletionListener(MediaPlayer.OnCompletionListener listener)\r\n\r\nAlso, to ensure randomness, I strongly recommend not using a new `Random` object each time you need a random number. Rather, declare a variable `random` and use that for all your randomness needs.","title":"How to play next random song of the array of songs","body":"<p>You can use a listener to run a callback when the song has finished playing:</p>\n\n<pre><code>setOnCompletionListener(MediaPlayer.OnCompletionListener listener)\n</code></pre>\n\n<p>Also, to ensure randomness, I strongly recommend not using a new <code>Random</code> object each time you need a random number. Rather, declare a variable <code>random</code> and use that for all your randomness needs.</p>\n"}],"owner":{"account_id":11612190,"reputation":1763,"user_id":9078384,"accept_rate":86,"display_name":"djalmafreestyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1515742733,"accepted_answer_id":48008716,"answer_count":3,"score":0,"last_activity_date":1684600444,"creation_date":1514468676,"question_id":48008622,"body_markdown":"I have an array of songs, My app play songs randomly when an activity is open but when the song is finished I would like to play another random song from the array, does anyone can help with it?\r\n\r\n    public MediaPlayer mediaPlayer;\r\n    private int songs[];\r\n\r\n&lt;br&gt;\r\n\r\n    songs = new int[] {\r\n        R.raw.track1,\r\n        R.raw.track2,\r\n        R.raw.track3,\r\n        R.raw.track4,\r\n        R.raw.track5,\r\n        R.raw.track6,\r\n        R.raw.track7,\r\n        R.raw.track8,\r\n        R.raw.track9,\r\n        R.raw.track10,\r\n        R.raw.track11,\r\n        R.raw.track12,\r\n        R.raw.track13,\r\n        R.raw.track14,\r\n        R.raw.track15,\r\n        R.raw.track16,\r\n        R.raw.track17,\r\n    };\r\n\r\n\r\n    int randomSong =  new Random().nextInt(songs.length);\r\n    mediaPlayer = MediaPlayer.create(this, songs[randomSong]);\r\n    mediaPlayer.start();","title":"How to play next random song of the array of songs","body":"<p>I have an array of songs, My app play songs randomly when an activity is open but when the song is finished I would like to play another random song from the array, does anyone can help with it?</p>\n\n<pre><code>public MediaPlayer mediaPlayer;\nprivate int songs[];\n</code></pre>\n\n<p><br></p>\n\n<pre><code>songs = new int[] {\n    R.raw.track1,\n    R.raw.track2,\n    R.raw.track3,\n    R.raw.track4,\n    R.raw.track5,\n    R.raw.track6,\n    R.raw.track7,\n    R.raw.track8,\n    R.raw.track9,\n    R.raw.track10,\n    R.raw.track11,\n    R.raw.track12,\n    R.raw.track13,\n    R.raw.track14,\n    R.raw.track15,\n    R.raw.track16,\n    R.raw.track17,\n};\n\n\nint randomSong =  new Random().nextInt(songs.length);\nmediaPlayer = MediaPlayer.create(this, songs[randomSong]);\nmediaPlayer.start();\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684600275,"creation_date":1684599885,"question_id":76296211,"body_markdown":"I have layout of a recycler view adapter where it shows lot of colors in grid view , basically what i want is that when the view is clicked i want to zoom it out little bit and give it some shadow against all the other views as shown in below image , i appreciate your help in advance .\r\n\r\n\r\n * This is example image \r\n\r\n  [![enter image description here][1]][1]\r\n  \r\n * Layout item\r\n\r\n```\r\n\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/colorView&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_margin=&quot;0dp&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n```\r\n\r\n * My adapter class \r\n\r\n```\r\n\r\n  public class SwatchedAdapter extends RecyclerView.Adapter&lt;SwatchedAdapter.ViewHolder&gt; {\r\n    \r\n    private final ArrayList&lt;ColorsModel&gt; colorsList;\r\n\r\n    public SwatchedAdapter(ArrayList&lt;ColorsModel&gt; colorsList){\r\n        this.colorsList = colorsList;\r\n    }\r\n\r\n    static class ViewHolder extends RecyclerView.ViewHolder {\r\n        private View view;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            view = itemView.findViewById(R.id.colorView);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.color_palette_item,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        ColorsModel model = colorsList.get(position);\r\n        holder.view.setBackgroundColor(Color.parseColor(model.getHexColor()));\r\n        holder.view.setOnClickListener(v -&gt; {\r\n            v.setScaleX(0.6f);\r\n            v.setScaleY(0.6f);\r\n            if(listener != null){\r\n                if(holder.getAdapterPosition() != RecyclerView.NO_POSITION){\r\n                    listener.onPicked(model.getHexColor());\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return colorsList.size();\r\n    }\r\n\r\n\r\n    private OnColorPickListener listener;\r\n    public interface OnColorPickListener {\r\n        void onPicked(String hexColor);\r\n    }\r\n    public void onItemClick(OnColorPickListener listener){\r\n        this.listener = listener;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e6cUr.png","title":"give a view some elevation and shadow once clicked","body":"<p>I have layout of a recycler view adapter where it shows lot of colors in grid view , basically what i want is that when the view is clicked i want to zoom it out little bit and give it some shadow against all the other views as shown in below image , i appreciate your help in advance .</p>\n<ul>\n<li>This is example image</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/e6cUr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6cUr.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Layout item</li>\n</ul>\n<pre><code>\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/colorView&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_margin=&quot;0dp&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n</code></pre>\n<ul>\n<li>My adapter class</li>\n</ul>\n<pre><code>\n  public class SwatchedAdapter extends RecyclerView.Adapter&lt;SwatchedAdapter.ViewHolder&gt; {\n    \n    private final ArrayList&lt;ColorsModel&gt; colorsList;\n\n    public SwatchedAdapter(ArrayList&lt;ColorsModel&gt; colorsList){\n        this.colorsList = colorsList;\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n        private View view;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            view = itemView.findViewById(R.id.colorView);\n        }\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.color_palette_item,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        ColorsModel model = colorsList.get(position);\n        holder.view.setBackgroundColor(Color.parseColor(model.getHexColor()));\n        holder.view.setOnClickListener(v -&gt; {\n            v.setScaleX(0.6f);\n            v.setScaleY(0.6f);\n            if(listener != null){\n                if(holder.getAdapterPosition() != RecyclerView.NO_POSITION){\n                    listener.onPicked(model.getHexColor());\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return colorsList.size();\n    }\n\n\n    private OnColorPickListener listener;\n    public interface OnColorPickListener {\n        void onPicked(String hexColor);\n    }\n    public void onItemClick(OnColorPickListener listener){\n        this.listener = listener;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","ghostscript","ghost4j"],"answers":[{"tags":[],"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506955864,"creation_date":1506955864,"answer_id":46528008,"question_id":46526296,"body_markdown":"Sounds like you have a 32/64-bit problem. Presumably previously you were using a 32-bit OS and 32-bit Java etc.\r\n\r\nNow you are using a 64-bit Java which needs a 64-bit DLL (presumably because it is itself 64-bit). But whatever framework you are using has a fixed name and is looking for the 32-bit library. If you want to fix that you&#39;ll need to change whatever it is that has the fixed name, presumably ghost4j.\r\n\r\nThis isn&#39;t a Ghostscript question and I can&#39;t tell you how to change Ghost4j I&#39;m afraid. You could use a 32-bit Java installation or, as you&#39;ve already done, simply rename the DLL.\r\n","title":"Java &amp; Ghostscript (ghost4j and gsdll32.dll)","body":"<p>Sounds like you have a 32/64-bit problem. Presumably previously you were using a 32-bit OS and 32-bit Java etc.</p>\n\n<p>Now you are using a 64-bit Java which needs a 64-bit DLL (presumably because it is itself 64-bit). But whatever framework you are using has a fixed name and is looking for the 32-bit library. If you want to fix that you'll need to change whatever it is that has the fixed name, presumably ghost4j.</p>\n\n<p>This isn't a Ghostscript question and I can't tell you how to change Ghost4j I'm afraid. You could use a 32-bit Java installation or, as you've already done, simply rename the DLL.</p>\n"}],"owner":{"account_id":11900326,"reputation":1,"user_id":8708483,"display_name":"Piotr B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684599327,"creation_date":1506950342,"question_id":46526296,"body_markdown":"I have a project in which I use: ghost4j (0.3.3) and gsdll32.dll.\r\n\r\nBut new Operation System (Win 10) are 64 and Swing Application (Java 1.6) return error Unable to load library &#39;gsdll32&#39;.\r\n\r\nI downloaded file gsdll64 and if I changed the name to gsdll32 everything works properly.\r\nNotwithstanding, I want to use file with right name (gsdll64).\r\n\r\nI tried to change version of ghost4j, unfortunately it still evokes gsdll32.\r\n\r\nP.S. Sorry for my English\r\n\r\nSomebody can help me?","title":"Java &amp; Ghostscript (ghost4j and gsdll32.dll)","body":"<p>I have a project in which I use: ghost4j (0.3.3) and gsdll32.dll.</p>\n<p>But new Operation System (Win 10) are 64 and Swing Application (Java 1.6) return error Unable to load library 'gsdll32'.</p>\n<p>I downloaded file gsdll64 and if I changed the name to gsdll32 everything works properly.\nNotwithstanding, I want to use file with right name (gsdll64).</p>\n<p>I tried to change version of ghost4j, unfortunately it still evokes gsdll32.</p>\n<p>P.S. Sorry for my English</p>\n<p>Somebody can help me?</p>\n"},{"tags":["java","swing","chess"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684598778,"creation_date":1684585024,"answer_id":76295186,"question_id":76295163,"body_markdown":"You&#39;re falling into a common trap for programmers who are new to creating event-driven programs: you&#39;re coding this as if it were a linear console program, for example one that uses Scanner based on System.in and println, using a while loop to allow the code to do repetitive action, when this will simply not work in GUI coding. Instead, you should wait for user input by listening for user *events* such as ActionListeners to listen for button presses, or MouseListeners for mouse actions, and you should remove the while loop. Instead of a while loop, base the program&#39;s response to the user&#39;s input on the ***state*** of the program, the values held by key state fields. The key paradigms to use are:\r\n* Event-driven programming, and\r\n* The State Design Pattern\r\n\r\nSo here, those fields could be something like:\r\n\r\n* `private boolean whitesTurn;` -- if true listen for white to make moves. If false, ignore white&#39;s input\r\n* `private ChessCell firstClick;` this could hold the cell that gets the first click. If null, then the player hasn&#39;t made a first click yet, but if it isn&#39;t null and holds a viable chess board cell (however your define it), then a first click has been made and the next click may be on the second location\r\n\r\nFor a example, please see the code below. Note however that for the sake of brevity, this example does not use M-V-C -- Model-View-Controller, which I do recommend that you use.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.*;\r\n\r\npublic class TestChess {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n\r\n            private void createAndShowGUI() {\r\n                JFrame frame = new JFrame(&quot;Simple Chess&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.add(new GameBoardPanel());\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n```\r\nclass GameBoardPanel extends JPanel {\r\n    public static final String WHITE = &quot;WHITE&quot;;\r\n    public static final String BLACK = &quot;BLACK&quot;;\r\n    public static final int ROWS = 8;\r\n    public static final int COLS = 8;\r\n    private JPanel[][] board = new JPanel[ROWS][COLS];\r\n    private JPanel boardPanel = new JPanel(new GridLayout(ROWS, COLS));\r\n    private JLabel whitePiece;\r\n    private JLabel blackPiece;\r\n    private JLabel statusLabel = new JLabel(WHITE);\r\n    private boolean isWhiteTurn = true;\r\n    private ChessCellPanel firstSelectedCell = null;\r\n\r\n    public GameBoardPanel() {\r\n        whitePiece = new JLabel(createIcon(new Color(240, 240, 240)));\r\n        blackPiece = new JLabel(createIcon(new Color(20, 20, 20)));\r\n\r\n        setLayout(new GridLayout(ROWS, COLS));\r\n        MyMouse myMouse = new MyMouse();\r\n        for (int row = 0; row &lt; ROWS; row++) {\r\n            for (int col = 0; col &lt; COLS; col++) {\r\n                ChessCellPanel cellPanel = new ChessCellPanel(row, col);\r\n                cellPanel.addMouseListener(myMouse);\r\n                boardPanel.add(cellPanel);\r\n                board[row][col] = cellPanel;\r\n            }\r\n        }\r\n\r\n        addPiece(ROWS - 1, COLS - 1, whitePiece);\r\n        addPiece(0, 0, blackPiece);\r\n\r\n        JPanel statusPanel = new JPanel();\r\n        statusPanel.add(new JLabel(&quot;Turn: &quot;));\r\n        statusPanel.add(statusLabel);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(boardPanel);\r\n        add(statusPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    private class MyMouse extends MouseAdapter {\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            ChessCellPanel cellPanel = (ChessCellPanel) e.getSource();\r\n            if (cellPanel.getComponents().length &gt; 0 &amp;&amp; firstSelectedCell == null) {\r\n                JLabel piece = (JLabel) cellPanel.getComponent(0);\r\n                if (piece == (isWhiteTurn ? whitePiece : blackPiece)) {\r\n                    firstSelectedCell = cellPanel;\r\n                    cellPanel.setBackground(Color.YELLOW);\r\n                }\r\n            } else if (firstSelectedCell != null) {\r\n                if (cellPanel == firstSelectedCell) {\r\n                    firstSelectedCell.setBackground(cellPanel.getCellColor());\r\n                    firstSelectedCell = null;\r\n                } else {\r\n                    cellPanel.removeAll();\r\n                    cellPanel.add(firstSelectedCell.getComponent(0));\r\n                    firstSelectedCell.removeAll();\r\n                    firstSelectedCell.setBackground(firstSelectedCell.getCellColor());\r\n                    firstSelectedCell = null;\r\n                    isWhiteTurn = !isWhiteTurn;\r\n                    statusLabel.setText(isWhiteTurn ? WHITE : BLACK);\r\n                }\r\n                boardPanel.revalidate();\r\n                boardPanel.repaint();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void addPiece(int i, int j, JLabel piece) {\r\n        ChessCellPanel cellPanel = (ChessCellPanel) board[i][j];\r\n        cellPanel.add(piece);\r\n    }\r\n\r\n    private Icon createIcon(Color color) {\r\n        int width = ChessCellPanel.CELL_SIZE - 20;\r\n        int height = ChessCellPanel.CELL_SIZE - 20;\r\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2d = img.createGraphics();\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2d.setColor(color);\r\n        g2d.fillOval(4, 4, width - 8, height - 8);\r\n        g2d.setStroke(new BasicStroke(3f));\r\n        g2d.setColor(Color.BLACK);\r\n        g2d.drawOval(4, 4, width - 8, height - 8);\r\n        g2d.dispose();\r\n        return new ImageIcon(img);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nclass ChessCellPanel extends JPanel {\r\n    public static final int CELL_SIZE = 100;\r\n    private static final Color LIGHT_COLOR = new Color(240, 217, 181);\r\n    private static final Color DARK_COLOR = new Color(181, 136, 99);\r\n    private int row;\r\n    private int col;\r\n    private Color cellColor;\r\n\r\n    public ChessCellPanel(int row, int col) {\r\n        this.row = row;\r\n        this.col = col;\r\n        this.cellColor = (row + col) % 2 == 0 ? LIGHT_COLOR : DARK_COLOR;\r\n        setBackground(cellColor);\r\n        setLayout(new GridBagLayout());\r\n    }\r\n\r\n    public int getRow() {\r\n        return row;\r\n    }\r\n\r\n    public int getCol() {\r\n        return col;\r\n    }\r\n\r\n    public Color getCellColor() {\r\n        return cellColor;\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(CELL_SIZE, CELL_SIZE);\r\n    }\r\n}\r\n```\r\n______________________________\r\n\r\nThe key to this example is in the MouseListener (actually a MouseAdapter) which does the following:\r\n\r\n1. Gets the JPanel that was clicked\r\n2. Checks \r\n   * if the JPanel holds a component, a JLabel \r\n   * also if the key state variable, `firstSelectedCell` is null, if no chess piece has been selected\r\n3. If the cell holds a piece and first selected cell is null, then  \r\n   * checks the &quot;color&quot; of the piece and whose turn it is. \r\n   * If color and turn match, it then sets the `firstSelectedCell` state field with this cell\r\n   * Show that the cell has been selected (here set its background color)\r\n4. Otherwise, if firstSelectedCell isn&#39;t null, then, \r\n   * a chess piece has already been selected\r\n   * this is now the *second* mouse press\r\n5. If the cell for the second press is the same as the first press, oops\r\n6. Otherwise we&#39;re good:\r\n   * remove the chess piece from the first cell\r\n   * move it to the second cell\r\n   * reset firstSelectedCell to null\r\n   * toggle `isWhiteTurn`\r\n   * Change status label to show that it is white&#39;s turn\r\n7. Tell the layout managers to re-layout components, and request that the chess board be re-painted\r\n\r\n```\r\n@Override\r\npublic void mousePressed(MouseEvent e) {\r\n\tChessCellPanel cellPanel = (ChessCellPanel) e.getSource(); //1\r\n\t\r\n\t// 2\r\n\tif (cellPanel.getComponents().length &gt; 0 &amp;&amp; firstSelectedCell == null) {\r\n\t\t// 3\r\n\t\tJLabel piece = (JLabel) cellPanel.getComponent(0);\r\n\t\tif (piece == (isWhiteTurn ? whitePiece : blackPiece)) {\r\n\t\t\tfirstSelectedCell = cellPanel;\r\n\t\t\tcellPanel.setBackground(Color.YELLOW);\r\n\t\t}\r\n\t} else if (firstSelectedCell != null) {\r\n\t\t// 4\r\n\t\tif (cellPanel == firstSelectedCell) {\r\n\t\t\t// 5\r\n\t\t\tfirstSelectedCell.setBackground(cellPanel.getCellColor());\r\n\t\t\tfirstSelectedCell = null;\r\n\t\t} else {\r\n\t\t\t// 6\r\n\t\t\tcellPanel.removeAll();\r\n\t\t\tcellPanel.add(firstSelectedCell.getComponent(0));\r\n\t\t\tfirstSelectedCell.removeAll();\r\n\t\t\tfirstSelectedCell.setBackground(firstSelectedCell.getCellColor());\r\n\t\t\tfirstSelectedCell = null;\r\n\t\t\tisWhiteTurn = !isWhiteTurn;\r\n\t\t\tstatusLabel.setText(isWhiteTurn ? WHITE : BLACK);\r\n\t\t}\r\n        // 7\r\n\t\tboardPanel.revalidate();\r\n\t\tboardPanel.repaint();\r\n\t}\r\n}\r\n```\t\t\r\n","title":"Wait for user mouse click in each while loop iteration","body":"<p>You're falling into a common trap for programmers who are new to creating event-driven programs: you're coding this as if it were a linear console program, for example one that uses Scanner based on System.in and println, using a while loop to allow the code to do repetitive action, when this will simply not work in GUI coding. Instead, you should wait for user input by listening for user <em>events</em> such as ActionListeners to listen for button presses, or MouseListeners for mouse actions, and you should remove the while loop. Instead of a while loop, base the program's response to the user's input on the <em><strong>state</strong></em> of the program, the values held by key state fields. The key paradigms to use are:</p>\n<ul>\n<li>Event-driven programming, and</li>\n<li>The State Design Pattern</li>\n</ul>\n<p>So here, those fields could be something like:</p>\n<ul>\n<li><code>private boolean whitesTurn;</code> -- if true listen for white to make moves. If false, ignore white's input</li>\n<li><code>private ChessCell firstClick;</code> this could hold the cell that gets the first click. If null, then the player hasn't made a first click yet, but if it isn't null and holds a viable chess board cell (however your define it), then a first click has been made and the next click may be on the second location</li>\n</ul>\n<p>For a example, please see the code below. Note however that for the sake of brevity, this example does not use M-V-C -- Model-View-Controller, which I do recommend that you use.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport javax.swing.*;\n\npublic class TestChess {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n\n            private void createAndShowGUI() {\n                JFrame frame = new JFrame(&quot;Simple Chess&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new GameBoardPanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<pre><code>class GameBoardPanel extends JPanel {\n    public static final String WHITE = &quot;WHITE&quot;;\n    public static final String BLACK = &quot;BLACK&quot;;\n    public static final int ROWS = 8;\n    public static final int COLS = 8;\n    private JPanel[][] board = new JPanel[ROWS][COLS];\n    private JPanel boardPanel = new JPanel(new GridLayout(ROWS, COLS));\n    private JLabel whitePiece;\n    private JLabel blackPiece;\n    private JLabel statusLabel = new JLabel(WHITE);\n    private boolean isWhiteTurn = true;\n    private ChessCellPanel firstSelectedCell = null;\n\n    public GameBoardPanel() {\n        whitePiece = new JLabel(createIcon(new Color(240, 240, 240)));\n        blackPiece = new JLabel(createIcon(new Color(20, 20, 20)));\n\n        setLayout(new GridLayout(ROWS, COLS));\n        MyMouse myMouse = new MyMouse();\n        for (int row = 0; row &lt; ROWS; row++) {\n            for (int col = 0; col &lt; COLS; col++) {\n                ChessCellPanel cellPanel = new ChessCellPanel(row, col);\n                cellPanel.addMouseListener(myMouse);\n                boardPanel.add(cellPanel);\n                board[row][col] = cellPanel;\n            }\n        }\n\n        addPiece(ROWS - 1, COLS - 1, whitePiece);\n        addPiece(0, 0, blackPiece);\n\n        JPanel statusPanel = new JPanel();\n        statusPanel.add(new JLabel(&quot;Turn: &quot;));\n        statusPanel.add(statusLabel);\n\n        setLayout(new BorderLayout());\n        add(boardPanel);\n        add(statusPanel, BorderLayout.PAGE_END);\n    }\n\n    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            ChessCellPanel cellPanel = (ChessCellPanel) e.getSource();\n            if (cellPanel.getComponents().length &gt; 0 &amp;&amp; firstSelectedCell == null) {\n                JLabel piece = (JLabel) cellPanel.getComponent(0);\n                if (piece == (isWhiteTurn ? whitePiece : blackPiece)) {\n                    firstSelectedCell = cellPanel;\n                    cellPanel.setBackground(Color.YELLOW);\n                }\n            } else if (firstSelectedCell != null) {\n                if (cellPanel == firstSelectedCell) {\n                    firstSelectedCell.setBackground(cellPanel.getCellColor());\n                    firstSelectedCell = null;\n                } else {\n                    cellPanel.removeAll();\n                    cellPanel.add(firstSelectedCell.getComponent(0));\n                    firstSelectedCell.removeAll();\n                    firstSelectedCell.setBackground(firstSelectedCell.getCellColor());\n                    firstSelectedCell = null;\n                    isWhiteTurn = !isWhiteTurn;\n                    statusLabel.setText(isWhiteTurn ? WHITE : BLACK);\n                }\n                boardPanel.revalidate();\n                boardPanel.repaint();\n            }\n        }\n    }\n\n    private void addPiece(int i, int j, JLabel piece) {\n        ChessCellPanel cellPanel = (ChessCellPanel) board[i][j];\n        cellPanel.add(piece);\n    }\n\n    private Icon createIcon(Color color) {\n        int width = ChessCellPanel.CELL_SIZE - 20;\n        int height = ChessCellPanel.CELL_SIZE - 20;\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = img.createGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(color);\n        g2d.fillOval(4, 4, width - 8, height - 8);\n        g2d.setStroke(new BasicStroke(3f));\n        g2d.setColor(Color.BLACK);\n        g2d.drawOval(4, 4, width - 8, height - 8);\n        g2d.dispose();\n        return new ImageIcon(img);\n    }\n\n}\n</code></pre>\n<pre><code>class ChessCellPanel extends JPanel {\n    public static final int CELL_SIZE = 100;\n    private static final Color LIGHT_COLOR = new Color(240, 217, 181);\n    private static final Color DARK_COLOR = new Color(181, 136, 99);\n    private int row;\n    private int col;\n    private Color cellColor;\n\n    public ChessCellPanel(int row, int col) {\n        this.row = row;\n        this.col = col;\n        this.cellColor = (row + col) % 2 == 0 ? LIGHT_COLOR : DARK_COLOR;\n        setBackground(cellColor);\n        setLayout(new GridBagLayout());\n    }\n\n    public int getRow() {\n        return row;\n    }\n\n    public int getCol() {\n        return col;\n    }\n\n    public Color getCellColor() {\n        return cellColor;\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(CELL_SIZE, CELL_SIZE);\n    }\n}\n</code></pre>\n<hr />\n<p>The key to this example is in the MouseListener (actually a MouseAdapter) which does the following:</p>\n<ol>\n<li>Gets the JPanel that was clicked</li>\n<li>Checks\n<ul>\n<li>if the JPanel holds a component, a JLabel</li>\n<li>also if the key state variable, <code>firstSelectedCell</code> is null, if no chess piece has been selected</li>\n</ul>\n</li>\n<li>If the cell holds a piece and first selected cell is null, then\n<ul>\n<li>checks the &quot;color&quot; of the piece and whose turn it is.</li>\n<li>If color and turn match, it then sets the <code>firstSelectedCell</code> state field with this cell</li>\n<li>Show that the cell has been selected (here set its background color)</li>\n</ul>\n</li>\n<li>Otherwise, if firstSelectedCell isn't null, then,\n<ul>\n<li>a chess piece has already been selected</li>\n<li>this is now the <em>second</em> mouse press</li>\n</ul>\n</li>\n<li>If the cell for the second press is the same as the first press, oops</li>\n<li>Otherwise we're good:\n<ul>\n<li>remove the chess piece from the first cell</li>\n<li>move it to the second cell</li>\n<li>reset firstSelectedCell to null</li>\n<li>toggle <code>isWhiteTurn</code></li>\n<li>Change status label to show that it is white's turn</li>\n</ul>\n</li>\n<li>Tell the layout managers to re-layout components, and request that the chess board be re-painted</li>\n</ol>\n<pre><code>@Override\npublic void mousePressed(MouseEvent e) {\n    ChessCellPanel cellPanel = (ChessCellPanel) e.getSource(); //1\n    \n    // 2\n    if (cellPanel.getComponents().length &gt; 0 &amp;&amp; firstSelectedCell == null) {\n        // 3\n        JLabel piece = (JLabel) cellPanel.getComponent(0);\n        if (piece == (isWhiteTurn ? whitePiece : blackPiece)) {\n            firstSelectedCell = cellPanel;\n            cellPanel.setBackground(Color.YELLOW);\n        }\n    } else if (firstSelectedCell != null) {\n        // 4\n        if (cellPanel == firstSelectedCell) {\n            // 5\n            firstSelectedCell.setBackground(cellPanel.getCellColor());\n            firstSelectedCell = null;\n        } else {\n            // 6\n            cellPanel.removeAll();\n            cellPanel.add(firstSelectedCell.getComponent(0));\n            firstSelectedCell.removeAll();\n            firstSelectedCell.setBackground(firstSelectedCell.getCellColor());\n            firstSelectedCell = null;\n            isWhiteTurn = !isWhiteTurn;\n            statusLabel.setText(isWhiteTurn ? WHITE : BLACK);\n        }\n        // 7\n        boardPanel.revalidate();\n        boardPanel.repaint();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76295186,"answer_count":1,"score":0,"last_activity_date":1684598778,"creation_date":1684584599,"question_id":76295163,"body_markdown":"I am trying to build a chess game with a GUI interface using Java&#39;s Swing library. When I start the game, a window with the chess board opens.\r\n\r\nWhat I&#39;m stuck on, is that each time, I want to wait for the current player to make a move, and not run the while loop infinitely, since this is not very efficient.\r\n\r\nHere&#39;s the code and explanation afterwards:\r\n\r\n\r\n```\r\nprivate void startGame()\r\n{\r\n    while (!board.terminalBoard())\r\n    {\r\n        Move movePlayed = null;\r\n\r\n        // whilist making the move returns false, meaning we cant do it...\r\n        while (canMakeMove(movePlayed))\r\n        {\r\n            // TODO: Implement the getting move here\r\n        }\r\n        \r\n        // If move is okay, make it\r\n        board.movePiece(movePlayed.getStart(), movePlayed.getEnd());\r\n    \r\n        // Repaint the chessboard\r\n        chessboard.loadImages(board);\r\n        chessboard.repaintBoard();\r\n\r\n        currColor ^= Piece.BLACK;\r\n    }\r\n}\r\n```\r\n\r\nIn the inner while loop, while the move the was played by the user is invalid, it iterates again and should wait for another move.\r\nWhat I do not understand is how I can wait for the player to make a move.\r\n\r\nIn my case, a player can make a move by clicking 2 times on the board - source square and destination square. And then my function checks if it is valid.\r\n\r\nHow do I wait for the user to click 2 times on the Java Swing window?\r\n\r\n----------------------------------------------------------------------\r\n\r\nEdited code:\r\nThe thing is, if i remove the thread.sleep like you said, the app does not respond to my clicks.\r\n```\r\nprivate void startGame()\r\n    {\r\n        while (!board.terminalBoard())\r\n        {\r\n            Move movePlayed = chessboard.getMove(board);\r\n\r\n            // whilist making the move returns false, meaning we cant do it...\r\n            if(canMakeMove(movePlayed))\r\n            {\r\n                // If move is okay, make it\r\n                board.movePiece(movePlayed.getStart(), movePlayed.getEnd());\r\n            \r\n                // Repaint the chessboard\r\n                chessboard.loadImages(board);\r\n                chessboard.repaintBoard();\r\n\r\n                currColor ^= Piece.BLACK;\r\n            }\r\n\r\n            /* try {\r\n                Thread.sleep(1);\r\n            } catch (InterruptedException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } */\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Wait for user mouse click in each while loop iteration","body":"<p>I am trying to build a chess game with a GUI interface using Java's Swing library. When I start the game, a window with the chess board opens.</p>\n<p>What I'm stuck on, is that each time, I want to wait for the current player to make a move, and not run the while loop infinitely, since this is not very efficient.</p>\n<p>Here's the code and explanation afterwards:</p>\n<pre><code>private void startGame()\n{\n    while (!board.terminalBoard())\n    {\n        Move movePlayed = null;\n\n        // whilist making the move returns false, meaning we cant do it...\n        while (canMakeMove(movePlayed))\n        {\n            // TODO: Implement the getting move here\n        }\n        \n        // If move is okay, make it\n        board.movePiece(movePlayed.getStart(), movePlayed.getEnd());\n    \n        // Repaint the chessboard\n        chessboard.loadImages(board);\n        chessboard.repaintBoard();\n\n        currColor ^= Piece.BLACK;\n    }\n}\n</code></pre>\n<p>In the inner while loop, while the move the was played by the user is invalid, it iterates again and should wait for another move.\nWhat I do not understand is how I can wait for the player to make a move.</p>\n<p>In my case, a player can make a move by clicking 2 times on the board - source square and destination square. And then my function checks if it is valid.</p>\n<p>How do I wait for the user to click 2 times on the Java Swing window?</p>\n<hr />\n<p>Edited code:\nThe thing is, if i remove the thread.sleep like you said, the app does not respond to my clicks.</p>\n<pre><code>private void startGame()\n    {\n        while (!board.terminalBoard())\n        {\n            Move movePlayed = chessboard.getMove(board);\n\n            // whilist making the move returns false, meaning we cant do it...\n            if(canMakeMove(movePlayed))\n            {\n                // If move is okay, make it\n                board.movePiece(movePlayed.getStart(), movePlayed.getEnd());\n            \n                // Repaint the chessboard\n                chessboard.loadImages(board);\n                chessboard.repaintBoard();\n\n                currColor ^= Piece.BLACK;\n            }\n\n            /* try {\n                Thread.sleep(1);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } */\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","location","sms"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676974453,"post_id":75518801,"comment_id":133240486,"body_markdown":"What is the problem exactly? Cant you determine lat,lon? Or cant you send them? Or cant you receive them?","body":"What is the problem exactly? Cant you determine lat,lon? Or cant you send them? Or cant you receive them?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676974570,"post_id":75518801,"comment_id":133240515,"body_markdown":"`keep return 0,0 in latitude and longitude ` Whic function are you calling that returns 0,0?","body":"<code>keep return 0,0 in latitude and longitude </code> Whic function are you calling that returns 0,0?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676974632,"post_id":75518801,"comment_id":133240535,"body_markdown":"`But the longitude and latitude return 0,0 in my URL. ` Sooy, but i do not understand that sentence.","body":"<code>But the longitude and latitude return 0,0 in my URL. </code> Sooy, but i do not understand that sentence."},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676975059,"post_id":75518801,"comment_id":133240674,"body_markdown":"my app is about sending an sms with an url (with longitude and latitude). I call the methode `onSuccess` . The sms sent but the logitude and latitude are 0. This the url that has sent : **http://maps.google.com/maps?saddr=0.0,0.0**","body":"my app is about sending an sms with an url (with longitude and latitude). I call the methode <code>onSuccess</code> . The sms sent but the logitude and latitude are 0. This the url that has sent : <b><a href=\"http://maps.google.com/maps?saddr=0.0,0.0\" rel=\"nofollow noreferrer\">maps.google.com/maps?saddr=0.0,0.0</a></b>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676975404,"post_id":75518801,"comment_id":133240785,"body_markdown":"`smsBody.append(Uri.parse(uri));` Why mess around with Uri? Better: `smsBody.append(uri);` And sorry uri is no uri but an url.","body":"<code>smsBody.append(Uri.parse(uri));</code> Why mess around with Uri? Better: <code>smsBody.append(uri);</code> And sorry uri is no uri but an url."},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676976735,"post_id":75518801,"comment_id":133241170,"body_markdown":"i did that but it&#39;s still the same.","body":"i did that but it&#39;s still the same."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676976899,"post_id":75518801,"comment_id":133241222,"body_markdown":"So you send `saddr=0.0,0.0 `. Why? Also i had three questions in my first comment. You could answer them one by one as now i dont know what&#39;s happening.","body":"So you send <code>saddr=0.0,0.0 </code>. Why? Also i had three questions in my first comment. You could answer them one by one as now i dont know what&#39;s happening."},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676977258,"post_id":75518801,"comment_id":133241329,"body_markdown":"the ptoblem is i don&#39;t get my current location (lon and lat)","body":"the ptoblem is i don&#39;t get my current location (lon and lat)"},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676977301,"post_id":75518801,"comment_id":133241339,"body_markdown":"yes i cant dtermine lat and lon it keep give 0 in lat and lon","body":"yes i cant dtermine lat and lon it keep give 0 in lat and lon"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676977348,"post_id":75518801,"comment_id":133241353,"body_markdown":"Well then why talking abouty sending an sms? You will not send an sms if you cannot get your location we think. So change your post. Remove the snms stuff and tell your app cannot determine location. As it is now you blame the sms thing. Very confusing.","body":"Well then why talking abouty sending an sms? You will not send an sms if you cannot get your location we think. So change your post. Remove the snms stuff and tell your app cannot determine location. As it is now you blame the sms thing. Very confusing."},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676977362,"post_id":75518801,"comment_id":133241356,"body_markdown":"When i sent SMS this is the URL that i get :  maps.google.com/maps?saddr=0.0,0.0","body":"When i sent SMS this is the URL that i get :  maps.google.com/maps?saddr=0.0,0.0"},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676977398,"post_id":75518801,"comment_id":133241365,"body_markdown":"i should get the current lon and lat in my URL but instead i get 0.0 , 0.0","body":"i should get the current lon and lat in my URL but instead i get 0.0 , 0.0"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676977451,"post_id":75518801,"comment_id":133241379,"body_markdown":"If you get 0.0,0.0 then you sent 0.0,0.0. Check for null&#39;s before sending an sms.","body":"If you get 0.0,0.0 then you sent 0.0,0.0. Check for null&#39;s before sending an sms."},{"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"score":0,"creation_date":1676977689,"post_id":75518801,"comment_id":133241437,"body_markdown":"how i can sheck for null&#39;s","body":"how i can sheck for null&#39;s"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676977805,"post_id":75518801,"comment_id":133241468,"body_markdown":"if ( currentLocation.getLatitude() == 0) ...","body":"if ( currentLocation.getLatitude() == 0) ..."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676977866,"post_id":75518801,"comment_id":133241485,"body_markdown":"`double lat = object.getLatitude(); double lng = object.getLongitude();` You are not using those values. After that you call onSuccess() where you use other variables.","body":"<code>double lat = object.getLatitude(); double lng = object.getLongitude();</code> You are not using those values. After that you call onSuccess() where you use other variables."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676982260,"creation_date":1676982260,"answer_id":75520494,"question_id":75518801,"body_markdown":"You are creating an instance of `Location` yourself:\r\n\r\n```java\r\nLocation object = new Location(&quot;service Provider&quot;);\r\n```\r\n\r\nThat will have a location of 0,0 because you did not tell it where the location is.\r\n\r\nIf you are expecting to actually get the device location, you cannot create the instance of `Location` yourself, as you are doing. You need to [use `LocationManager`](https://developer.android.com/reference/android/location/LocationManager) to obtain the `Location`.","title":"URL - send current location via SMS keep return 0,0 in latitude and longitude - Android Studio","body":"<p>You are creating an instance of <code>Location</code> yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Location object = new Location(&quot;service Provider&quot;);\n</code></pre>\n<p>That will have a location of 0,0 because you did not tell it where the location is.</p>\n<p>If you are expecting to actually get the device location, you cannot create the instance of <code>Location</code> yourself, as you are doing. You need to <a href=\"https://developer.android.com/reference/android/location/LocationManager\" rel=\"nofollow noreferrer\">use <code>LocationManager</code></a> to obtain the <code>Location</code>.</p>\n"}],"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75520494,"answer_count":1,"score":0,"last_activity_date":1684597930,"creation_date":1676973245,"question_id":75518801,"body_markdown":"I am trying to get longitude and latitude and send it via SMS to saved contact. But the longitude and latitude return 0,0 in my URL.\r\nHow can I fix that? I tried some solution that I found here but it doesn&#39;t work for me.\r\n\r\nThis is my code:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // check for runtime permissions\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_DENIED) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.SEND_SMS, Manifest.permission.READ_CONTACTS}, 100);\r\n            }\r\n        }\r\n\r\n        // this is a special permission required only by devices using\r\n        // Android Q and above. The Access Background Permission is responsible\r\n        // for populating the dialog with &quot;ALLOW ALL THE TIME&quot; option\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            requestPermissions(new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION}, 100);\r\n        }\r\n\r\n\r\n\r\n        button1 = findViewById(R.id.Button1);\r\n        listView = (ListView) findViewById(R.id.ListView);\r\n        db = new DbHelper(this);\r\n        list = db.getAllContacts();\r\n        customAdapter = new CustomAdapter(this, list);\r\n        listView.setAdapter(customAdapter);\r\n        send = findViewById(R.id.send);\r\n\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // calling of getContacts()\r\n                if (db.count() != 5) {\r\n                    Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\r\n                    startActivityForResult(intent, PICK_CONTACT);\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;Can&#39;t Add more than 5 Contacts&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        send.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Location object = new Location(&quot;service Provider&quot;);\r\n                double lat = object.getLatitude(); double lng = object.getLongitude();\r\n                onSuccess(object);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void onSuccess(Location currentLocation) {\r\n\r\n        String uri = &quot;http://maps.google.com/maps?saddr=&quot; + currentLocation.getLatitude()+&quot;,&quot;+currentLocation.getLongitude();\r\n        StringBuffer smsBody = new StringBuffer();\r\n        smsBody.append(Uri.parse(uri));\r\n            // get the SMSManager\r\n            SmsManager smsManager = SmsManager.getDefault();\r\n\r\n            // get the list of all the contacts in Database\r\n            DbHelper db = new DbHelper(MainActivity.this);\r\n            List&lt;ContactModel&gt; list = db.getAllContacts();\r\n\r\n            // send SMS to each contact\r\n            for (ContactModel c : list) {\r\n                String message = &quot;Hey, &quot; + c.getName() + &quot;I am in DANGER, i need help. Please urgently reach me out. Here are my coordinates.\\n &quot; + uri;\r\n                smsManager.sendTextMessage(c.getPhoneNo(), null, message, null, null);\r\n            }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 100) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                Toast.makeText(this, &quot;Permissions Denied!\\n Can&#39;t use the App!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // get the contact from the PhoneBook of device\r\n        switch (requestCode) {\r\n            case (PICK_CONTACT):\r\n                if (resultCode == Activity.RESULT_OK) {\r\n\r\n                    Uri contactData = data.getData();\r\n                    Cursor c = managedQuery(contactData, null, null, null, null);\r\n                    if (c.moveToFirst()) {\r\n\r\n                        String id = c.getString(c.getColumnIndexOrThrow(ContactsContract.Contacts._ID));\r\n                        String hasPhone = c.getString(c.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));\r\n                        String phone = null;\r\n                        try {\r\n                            if (hasPhone.equalsIgnoreCase(&quot;1&quot;)) {\r\n                                Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = &quot; + id, null, null);\r\n                                phones.moveToFirst();\r\n                                phone = phones.getString(phones.getColumnIndex(&quot;data1&quot;));\r\n                            }\r\n                            String name = c.getString(c.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\r\n                            db.addcontact(new ContactModel(0, name, phone));\r\n                            list = db.getAllContacts();\r\n                            customAdapter.refresh(list);\r\n                        } catch (Exception ex) {\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\nAnd I am using Oreo version for Android. And for manifest: SEND_SMS , INTERNET , ACCESS_COARSE_LOCATION , ACCESS_FINE_LOCATION , READ_CONTACTS.","title":"URL - send current location via SMS keep return 0,0 in latitude and longitude - Android Studio","body":"<p>I am trying to get longitude and latitude and send it via SMS to saved contact. But the longitude and latitude return 0,0 in my URL.\nHow can I fix that? I tried some solution that I found here but it doesn't work for me.</p>\n<p>This is my code:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // check for runtime permissions\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_DENIED) {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.SEND_SMS, Manifest.permission.READ_CONTACTS}, 100);\n        }\n    }\n\n    // this is a special permission required only by devices using\n    // Android Q and above. The Access Background Permission is responsible\n    // for populating the dialog with &quot;ALLOW ALL THE TIME&quot; option\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        requestPermissions(new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION}, 100);\n    }\n\n\n\n    button1 = findViewById(R.id.Button1);\n    listView = (ListView) findViewById(R.id.ListView);\n    db = new DbHelper(this);\n    list = db.getAllContacts();\n    customAdapter = new CustomAdapter(this, list);\n    listView.setAdapter(customAdapter);\n    send = findViewById(R.id.send);\n\n    button1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // calling of getContacts()\n            if (db.count() != 5) {\n                Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\n                startActivityForResult(intent, PICK_CONTACT);\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Can't Add more than 5 Contacts&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n    send.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Location object = new Location(&quot;service Provider&quot;);\n            double lat = object.getLatitude(); double lng = object.getLongitude();\n            onSuccess(object);\n        }\n    });\n\n}\n\npublic void onSuccess(Location currentLocation) {\n\n    String uri = &quot;http://maps.google.com/maps?saddr=&quot; + currentLocation.getLatitude()+&quot;,&quot;+currentLocation.getLongitude();\n    StringBuffer smsBody = new StringBuffer();\n    smsBody.append(Uri.parse(uri));\n        // get the SMSManager\n        SmsManager smsManager = SmsManager.getDefault();\n\n        // get the list of all the contacts in Database\n        DbHelper db = new DbHelper(MainActivity.this);\n        List&lt;ContactModel&gt; list = db.getAllContacts();\n\n        // send SMS to each contact\n        for (ContactModel c : list) {\n            String message = &quot;Hey, &quot; + c.getName() + &quot;I am in DANGER, i need help. Please urgently reach me out. Here are my coordinates.\\n &quot; + uri;\n            smsManager.sendTextMessage(c.getPhoneNo(), null, message, null, null);\n        }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 100) {\n        if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n            Toast.makeText(this, &quot;Permissions Denied!\\n Can't use the App!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    // get the contact from the PhoneBook of device\n    switch (requestCode) {\n        case (PICK_CONTACT):\n            if (resultCode == Activity.RESULT_OK) {\n\n                Uri contactData = data.getData();\n                Cursor c = managedQuery(contactData, null, null, null, null);\n                if (c.moveToFirst()) {\n\n                    String id = c.getString(c.getColumnIndexOrThrow(ContactsContract.Contacts._ID));\n                    String hasPhone = c.getString(c.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));\n                    String phone = null;\n                    try {\n                        if (hasPhone.equalsIgnoreCase(&quot;1&quot;)) {\n                            Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = &quot; + id, null, null);\n                            phones.moveToFirst();\n                            phone = phones.getString(phones.getColumnIndex(&quot;data1&quot;));\n                        }\n                        String name = c.getString(c.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n                        db.addcontact(new ContactModel(0, name, phone));\n                        list = db.getAllContacts();\n                        customAdapter.refresh(list);\n                    } catch (Exception ex) {\n                    }\n                }\n            }\n            break;\n    }\n}\n</code></pre>\n<p>And I am using Oreo version for Android. And for manifest: SEND_SMS , INTERNET , ACCESS_COARSE_LOCATION , ACCESS_FINE_LOCATION , READ_CONTACTS.</p>\n"},{"tags":["java","floor-division"],"comments":[{"owner":{"account_id":3615958,"reputation":201,"user_id":3015812,"display_name":"HammerN&#39;Songs"},"score":4,"creation_date":1545259536,"post_id":53860132,"comment_id":94568385,"body_markdown":"Note, though, (if you&#39;ve been using python3.x) that in Java, dividing two integers will always use floor division.","body":"Note, though, (if you&#39;ve been using python3.x) that in Java, dividing two integers will always use floor division."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1545259642,"post_id":53860132,"comment_id":94568418,"body_markdown":"Java int division is not quite the same as Python&#39;s floor division. `//` rounds towards negative infinity. Java int division rounds towards zero. But `5 / 2` in Java will give you 2, if that is what you&#39;re after.","body":"Java int division is not quite the same as Python&#39;s floor division. <code>&#47;&#47;</code> rounds towards negative infinity. Java int division rounds towards zero. But <code>5 &#47; 2</code> in Java will give you 2, if that is what you&#39;re after."},{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":2,"creation_date":1572186860,"post_id":53860132,"comment_id":103475268,"body_markdown":"You are looking for `Math.floorDiv()`.","body":"You are looking for <code>Math.floorDiv()</code>."}],"answers":[{"tags":[],"owner":{"account_id":12942494,"reputation":1439,"user_id":9357839,"display_name":"A J"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1582183473,"creation_date":1545260499,"answer_id":53860353,"question_id":53860132,"body_markdown":"You can do\r\n\r\n    double val = 5 / 2;\r\n    int answer = Math.floor(val);\r\n\r\nOR\r\n\r\n    int answer = Math.floorDiv(5, 2);\r\n\r\nIf you were to call `System.out.println(answer);` the output would be\r\n\r\n&gt; 2","title":"Java - How to do floor division?","body":"<p>You can do</p>\n\n<pre><code>double val = 5 / 2;\nint answer = Math.floor(val);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>int answer = Math.floorDiv(5, 2);\n</code></pre>\n\n<p>If you were to call <code>System.out.println(answer);</code> the output would be</p>\n\n<blockquote>\n  <p>2</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15628405,"reputation":167,"user_id":11275369,"display_name":"Deniz Can Tufekci"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581676743,"creation_date":1581676743,"answer_id":60224666,"question_id":53860132,"body_markdown":"You can easily use Math.floorDiv() method.\r\nFor example:\r\n\r\n    int a = 15, b = 2; \r\n    System.out.println(Math.floorDiv(a, b));\r\n    // Expected output: 7\r\n\r\n","title":"Java - How to do floor division?","body":"<p>You can easily use Math.floorDiv() method.\nFor example:</p>\n\n<pre><code>int a = 15, b = 2; \nSystem.out.println(Math.floorDiv(a, b));\n// Expected output: 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20271400,"reputation":29,"user_id":14867477,"display_name":"Gonzalinho"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1653757903,"creation_date":1653757903,"answer_id":72417682,"question_id":53860132,"body_markdown":"If you&#39;re using integers in the division and you cast the solution to another integer (by storing the result in another integer variable), the division is already a floor division:\r\n\r\n```\r\nint a = 5;\r\nint b = 2;\r\nint c = 5/2;\r\nSystem.out.println(c);\r\n&gt;&gt; 2\r\n```\r\n\r\nAs khelwood stated, it also works with negative values but the rounding is done towards 0. For example, -1.7 would be rounded to -1.","title":"Java - How to do floor division?","body":"<p>If you're using integers in the division and you cast the solution to another integer (by storing the result in another integer variable), the division is already a floor division:</p>\n<pre><code>int a = 5;\nint b = 2;\nint c = 5/2;\nSystem.out.println(c);\n&gt;&gt; 2\n</code></pre>\n<p>As khelwood stated, it also works with negative values but the rounding is done towards 0. For example, -1.7 would be rounded to -1.</p>\n"},{"tags":[],"owner":{"display_name":"user19921349"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674836174,"creation_date":1674835853,"answer_id":75260612,"question_id":53860132,"body_markdown":"use floorDiv()\r\n\r\n    int x = 10;\r\n    int y = 3;\r\n    System.out.println(Math.floorDiv(x,y));","title":"Java - How to do floor division?","body":"<p>use floorDiv()</p>\n<pre><code>int x = 10;\nint y = 3;\nSystem.out.println(Math.floorDiv(x,y));\n</code></pre>\n"}],"owner":{"display_name":"user10654536"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59024,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"accepted_answer_id":53860353,"answer_count":4,"score":18,"last_activity_date":1684596288,"creation_date":1545259020,"question_id":53860132,"body_markdown":"I know that in Python you can do floor division like this:\r\n\r\n    5 // 2 #2\r\n\r\nThe `//` is used for something totally different in Java. Is there any way to do floor division in Java?","title":"Java - How to do floor division?","body":"<p>I know that in Python you can do floor division like this:</p>\n<pre><code>5 // 2 #2\n</code></pre>\n<p>The <code>//</code> is used for something totally different in Java. Is there any way to do floor division in Java?</p>\n"},{"tags":["java","methods","linked-list"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1684528431,"post_id":76292056,"comment_id":134535731,"body_markdown":"To merge the 2 lists into a new one, loop through them, comparing elements and only add the greater of the 2 to the new list. Repeat until you&#39;ve gone to the end of each list. Be sure to handle the case of different length lists. Note: sort the lists _first_.","body":"To merge the 2 lists into a new one, loop through them, comparing elements and only add the greater of the 2 to the new list. Repeat until you&#39;ve gone to the end of each list. Be sure to handle the case of different length lists. Note: sort the lists <i>first</i>."}],"answers":[{"tags":[],"owner":{"account_id":18895971,"reputation":1,"user_id":13785152,"display_name":"Devarshi Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684527159,"creation_date":1684526967,"answer_id":76292171,"question_id":76292056,"body_markdown":"It&#39;s simple,\r\nIn Case your&#39;s input is sorted Linked List then use merge algo (not merge sort, just merge algo) to sort two Linked List.\r\n\r\n&gt; https://www.geeksforgeeks.org/merge-two-sorted-linked-lists/\r\n\r\nMerge algo sorts two list(in your case) to an single list in O(m+n) time complexity. What You are doing will take O(mlogm + nlogn + m + n)\r\n\r\nHence use merge algo and be efficient.\r\n\r\nHappy Coding :)\r\n\r\n\r\n\r\nAnd leet Code is a platform that let&#39;s you practice from basics.\r\nThey want to teach pointer and merge algo with this question.","title":"Using built in LinkedList in java instead of defining ListNode","body":"<p>It's simple,\nIn Case your's input is sorted Linked List then use merge algo (not merge sort, just merge algo) to sort two Linked List.</p>\n<blockquote>\n<p><a href=\"https://www.geeksforgeeks.org/merge-two-sorted-linked-lists/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/merge-two-sorted-linked-lists/</a></p>\n</blockquote>\n<p>Merge algo sorts two list(in your case) to an single list in O(m+n) time complexity. What You are doing will take O(mlogm + nlogn + m + n)</p>\n<p>Hence use merge algo and be efficient.</p>\n<p>Happy Coding :)</p>\n<p>And leet Code is a platform that let's you practice from basics.\nThey want to teach pointer and merge algo with this question.</p>\n"}],"owner":{"account_id":28002067,"reputation":1,"user_id":21386103,"display_name":"user21386103"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684594582,"creation_date":1684525784,"question_id":76292056,"body_markdown":"I want to merge two sorted linked-lists (21 leetcode) but I don&#39;t want to define ListNode. I need to use LinkedList which is defined in Java and I think its methods are enough for solving any problem about it. ( I am very new in leetcode and I don&#39;t know why ListNode is defined at the top of the code in leetcode, when we already have it in Java). Anyway, I created two linked lists and sorted them. Now I need to create another node as tempNode and currentNode for merging these two sorted linked lists. Would you please help me with that?\r\n \r\n\r\n    ListNode temp_Node= new ListNode(0);\r\n\r\n    ListNode current_Node= temp_Node;\r\n     \r\nAlso I dont know how to use val like\r\n    \r\n```java\r\nwhile (list1 != null &amp;&amp; list2 != null) {\r\n    if (list1.val &lt; list2.val) {\r\n        current_Node.next = list1;\r\n        list1 = list1.next;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWould you please help me? Here is my code.\r\n\r\n    \r\n\r\n    package MergeTwoSortedLists;\r\n    \r\n         import java.util.ArrayList;\r\n         import java.util.Arrays;\r\n         import java.util.Collections;\r\n         import java.util.Comparator;\r\n         import java.util.LinkedList;\r\n         import java.util.Scanner;\r\n    \r\n         public class Driver\r\n         {\r\n             public static void main(String[] args)\r\n            {\r\n              Scanner scanner= new Scanner(System.in);\r\n              String str1= scanner.nextLine();\r\n              String str2= scanner.nextLine();\r\n           \r\n              String[] str_arr1=str1.split(&quot; &quot;);;\r\n              String[] str_arr2=str2.split(&quot; &quot;);`\r\n              LinkedList&lt;String&gt; lnk_List3= new LinkedList&lt;String&gt;();\r\n              LinkedList&lt;String&gt; lnk_List4= new LinkedList&lt;String&gt;();\r\n              for (int i=0; i&lt;str_arr1.length; i++) {\r\n        \t     lnk_List3.add(str_arr1[i]);\r\n              }\r\n              for(int i=0; i&lt;str_arr2.length; i++) {\r\n        \t    lnk_List4.add(str_arr2[i]);\r\n              }\r\n              Collections.sort(lnk_List1);\r\n              Collections.sort(lnk_List2);\r\n           }\r\n         }\r\n\r\nThank you.","title":"Using built in LinkedList in java instead of defining ListNode","body":"<p>I want to merge two sorted linked-lists (21 leetcode) but I don't want to define ListNode. I need to use LinkedList which is defined in Java and I think its methods are enough for solving any problem about it. ( I am very new in leetcode and I don't know why ListNode is defined at the top of the code in leetcode, when we already have it in Java). Anyway, I created two linked lists and sorted them. Now I need to create another node as tempNode and currentNode for merging these two sorted linked lists. Would you please help me with that?</p>\n<pre><code>ListNode temp_Node= new ListNode(0);\n\nListNode current_Node= temp_Node;\n \n</code></pre>\n<p>Also I dont know how to use val like</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (list1 != null &amp;&amp; list2 != null) {\n    if (list1.val &lt; list2.val) {\n        current_Node.next = list1;\n        list1 = list1.next;\n    }\n}\n</code></pre>\n<p>Would you please help me? Here is my code.</p>\n<pre><code>package MergeTwoSortedLists;\n\n     import java.util.ArrayList;\n     import java.util.Arrays;\n     import java.util.Collections;\n     import java.util.Comparator;\n     import java.util.LinkedList;\n     import java.util.Scanner;\n\n     public class Driver\n     {\n         public static void main(String[] args)\n        {\n          Scanner scanner= new Scanner(System.in);\n          String str1= scanner.nextLine();\n          String str2= scanner.nextLine();\n       \n          String[] str_arr1=str1.split(&quot; &quot;);;\n          String[] str_arr2=str2.split(&quot; &quot;);`\n          LinkedList&lt;String&gt; lnk_List3= new LinkedList&lt;String&gt;();\n          LinkedList&lt;String&gt; lnk_List4= new LinkedList&lt;String&gt;();\n          for (int i=0; i&lt;str_arr1.length; i++) {\n             lnk_List3.add(str_arr1[i]);\n          }\n          for(int i=0; i&lt;str_arr2.length; i++) {\n            lnk_List4.add(str_arr2[i]);\n          }\n          Collections.sort(lnk_List1);\n          Collections.sort(lnk_List2);\n       }\n     }\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","cloud-foundry"],"comments":[{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":2,"creation_date":1471453508,"post_id":39002090,"comment_id":65356590,"body_markdown":"which container are you using ? Jetty, tomcat, nginx, undertow... ?","body":"which container are you using ? Jetty, tomcat, nginx, undertow... ?"},{"owner":{"account_id":3071587,"reputation":1561,"user_id":2602114,"display_name":"duyetpt"},"score":1,"creation_date":1663490122,"post_id":39002090,"comment_id":130248327,"body_markdown":"correct answer is `server.tomcat.threads.max` as @Couper comment below","body":"correct answer is <code>server.tomcat.threads.max</code> as @Couper comment below"}],"answers":[{"tags":[],"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1684594492,"creation_date":1471452592,"answer_id":39002238,"question_id":39002090,"body_markdown":"This setting is derived from the embedded container (tomcat, jetty...).\r\n\r\n**Tomcat&#39;s number of threads**\r\n\r\nYou may specify this property in your application.properties\r\n\r\n    server.tomcat.threads.max=400\r\n\r\n\r\nYou say you counted 20 threads, however according to this [other stackoverflow question/answer][1], the default number of thread should be 200 with tomcat, since server.tomcat.max-threads&#39;s default value is 0. See [tomcat&#39;s documentation][2]:\r\n\r\n&gt; The maximum number of request processing threads to be created by this Connector, which therefore determines the maximum number of simultaneous requests that can be handled. If not specified, this attribute is set to 200. If an executor is associated with this connector, this attribute is ignored as the connector will execute tasks using the executor rather than an internal thread pool.\r\n\r\nAlso, the property for:\r\n\r\n* **undertow**: `server.undertow.worker-threads`\r\n\r\n* **jetty**: `server.jetty.acceptors`\r\n\r\nYou&#39;ll find the list of properties in [Spring&#39;s documentation][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25399400/maximum-client-request-thread-pool-size-in-spring\r\n  [2]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html\r\n  [3]: http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"Spring Boot - Limit on number of connections created","body":"<p>This setting is derived from the embedded container (tomcat, jetty...).</p>\n<p><strong>Tomcat's number of threads</strong></p>\n<p>You may specify this property in your application.properties</p>\n<pre><code>server.tomcat.threads.max=400\n</code></pre>\n<p>You say you counted 20 threads, however according to this <a href=\"https://stackoverflow.com/questions/25399400/maximum-client-request-thread-pool-size-in-spring\">other stackoverflow question/answer</a>, the default number of thread should be 200 with tomcat, since server.tomcat.max-threads's default value is 0. See <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html\" rel=\"nofollow noreferrer\">tomcat's documentation</a>:</p>\n<blockquote>\n<p>The maximum number of request processing threads to be created by this Connector, which therefore determines the maximum number of simultaneous requests that can be handled. If not specified, this attribute is set to 200. If an executor is associated with this connector, this attribute is ignored as the connector will execute tasks using the executor rather than an internal thread pool.</p>\n</blockquote>\n<p>Also, the property for:</p>\n<ul>\n<li><p><strong>undertow</strong>: <code>server.undertow.worker-threads</code></p>\n</li>\n<li><p><strong>jetty</strong>: <code>server.jetty.acceptors</code></p>\n</li>\n</ul>\n<p>You'll find the list of properties in <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">Spring's documentation</a></p>\n"},{"tags":[],"owner":{"account_id":456808,"reputation":749,"user_id":855757,"accept_rate":50,"display_name":"Derek"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1525102634,"creation_date":1525102634,"answer_id":50103782,"question_id":39002090,"body_markdown":"While the accepted answer is very useful, I recently experienced what I believe to be the same problem as the original poster. This is the only search result I could find that directly correlated with my experience, so I thought I&#39;d add my solution in case it helps someone.\r\n\r\nIn my case, the observed concurrency limit of 20 was imposed by the default setting of 20 for the`maxConcurrentStreamExecution` property in `org.apache.coyote.http2.Http2Protocol`.\r\n\r\nIf you&#39;re experiencing this problem and you&#39;re using HTTP/2, there&#39;s a good chance that increasing `maxConcurrentStreamExecution` will help.\r\n\r\nYou can find more info in the [Tomcat Configuration Reference][1], which actually states that this should be set to 200 by default (not 20). You can definitely see the default setting of 20 in `org.apache.coyote.http2.Http2Protocol`, though, so I&#39;m not sure if this is a typo or just something that presents itself differently in the embedded version of Tomcat.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/http2.html","title":"Spring Boot - Limit on number of connections created","body":"<p>While the accepted answer is very useful, I recently experienced what I believe to be the same problem as the original poster. This is the only search result I could find that directly correlated with my experience, so I thought I'd add my solution in case it helps someone.</p>\n\n<p>In my case, the observed concurrency limit of 20 was imposed by the default setting of 20 for the<code>maxConcurrentStreamExecution</code> property in <code>org.apache.coyote.http2.Http2Protocol</code>.</p>\n\n<p>If you're experiencing this problem and you're using HTTP/2, there's a good chance that increasing <code>maxConcurrentStreamExecution</code> will help.</p>\n\n<p>You can find more info in the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http2.html\" rel=\"noreferrer\">Tomcat Configuration Reference</a>, which actually states that this should be set to 200 by default (not 20). You can definitely see the default setting of 20 in <code>org.apache.coyote.http2.Http2Protocol</code>, though, so I'm not sure if this is a typo or just something that presents itself differently in the embedded version of Tomcat.</p>\n"},{"tags":[],"owner":{"account_id":4604139,"reputation":23,"user_id":3734091,"display_name":"oshilan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1535012828,"creation_date":1535012828,"answer_id":51981349,"question_id":39002090,"body_markdown":"Increase `maxConcurrentStreamExecution` (set 200) for HTTP/2 in Spring Boot 2:\r\n\r\n    @Bean\r\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; containerCustomizer() {\r\n        return new WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;() {\r\n            @Override\r\n            public void customize(TomcatServletWebServerFactory factory) {\r\n                factory.addConnectorCustomizers(new TomcatConnectorCustomizer() {\r\n                    @Override\r\n                    public void customize(Connector connector) {\r\n                        Arrays.stream(connector.getProtocolHandler().findUpgradeProtocols())\r\n                            .filter(upgradeProtocol -&gt; upgradeProtocol instanceof Http2Protocol)\r\n                            .map(upgradeProtocol -&gt; (Http2Protocol) upgradeProtocol)\r\n                            .forEach(http2Protocol -&gt; http2Protocol.setMaxConcurrentStreamExecution(200));\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }","title":"Spring Boot - Limit on number of connections created","body":"<p>Increase <code>maxConcurrentStreamExecution</code> (set 200) for HTTP/2 in Spring Boot 2:</p>\n\n<pre><code>@Bean\npublic WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; containerCustomizer() {\n    return new WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;() {\n        @Override\n        public void customize(TomcatServletWebServerFactory factory) {\n            factory.addConnectorCustomizers(new TomcatConnectorCustomizer() {\n                @Override\n                public void customize(Connector connector) {\n                    Arrays.stream(connector.getProtocolHandler().findUpgradeProtocols())\n                        .filter(upgradeProtocol -&gt; upgradeProtocol instanceof Http2Protocol)\n                        .map(upgradeProtocol -&gt; (Http2Protocol) upgradeProtocol)\n                        .forEach(http2Protocol -&gt; http2Protocol.setMaxConcurrentStreamExecution(200));\n                }\n            });\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3041527,"reputation":1728,"user_id":2578409,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1557821671,"creation_date":1557821671,"answer_id":56125838,"question_id":39002090,"body_markdown":"Maybe, you can have a look at the [springboot&#39;s config](https://docs.spring.io/spring-boot/docs/2.0.9.RELEASE/reference/htmlsingle/#common-application-properties)\r\n\r\n```shell\r\nserver.tomcat.accept-count=100 # Maximum queue length for incoming connection requests when all possible request processing threads are in use.\r\nserver.tomcat.additional-tld-skip-patterns= # Comma-separated list of additional patterns that match jars to ignore for TLD scanning.\r\nserver.tomcat.background-processor-delay=10s # Delay between the invocation of backgroundProcess methods. If a duration suffix is not specified, seconds will be used.\r\nserver.tomcat.basedir= # Tomcat base directory. If not specified, a temporary directory is used.\r\nserver.tomcat.max-connections=10000 # Maximum number of connections that the server accepts and processes at any given time.\r\nserver.tomcat.max-http-header-size=0 # Maximum size in bytes of the HTTP message header.\r\nserver.tomcat.max-http-post-size=2097152 # Maximum size in bytes of the HTTP post content.\r\nserver.tomcat.max-threads=200 # Maximum amount of worker threads.\r\nserver.tomcat.min-spare-threads=10 # Minimum amount of worker threads.\r\nserver.tomcat.port-header=X-Forwarded-Port # Name of the HTTP header used to override the original port value.\r\nserver.tomcat.protocol-header= # Header that holds the incoming protocol, usually named &quot;X-Forwarded-Proto&quot;.\r\nserver.tomcat.protocol-header-https-value=https # Value of the protocol header indicating whether the incoming request uses SSL.\r\nserver.tomcat.redirect-context-root=true # Whether requests to the context root should be redirected by appending a / to the path.\r\nserver.tomcat.remote-ip-header= # Name of the HTTP header from which the remote IP is extracted. For instance, `X-FORWARDED-FOR`.\r\nserver.tomcat.resource.cache-ttl= # Time-to-live of the static resource cache.\r\nserver.tomcat.uri-encoding=UTF-8 # Character encoding to use to decode the URI.\r\nserver.tomcat.use-relative-redirects= # Whether HTTP 1.1 and later location headers generated by a call to sendRedirect will use relative or absolute redirects.\r\n\r\n```","title":"Spring Boot - Limit on number of connections created","body":"<p>Maybe, you can have a look at the <a href=\"https://docs.spring.io/spring-boot/docs/2.0.9.RELEASE/reference/htmlsingle/#common-application-properties\" rel=\"noreferrer\">springboot's config</a></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>server.tomcat.accept-count=100 # Maximum queue length for incoming connection requests when all possible request processing threads are in use.\nserver.tomcat.additional-tld-skip-patterns= # Comma-separated list of additional patterns that match jars to ignore for TLD scanning.\nserver.tomcat.background-processor-delay=10s # Delay between the invocation of backgroundProcess methods. If a duration suffix is not specified, seconds will be used.\nserver.tomcat.basedir= # Tomcat base directory. If not specified, a temporary directory is used.\nserver.tomcat.max-connections=10000 # Maximum number of connections that the server accepts and processes at any given time.\nserver.tomcat.max-http-header-size=0 # Maximum size in bytes of the HTTP message header.\nserver.tomcat.max-http-post-size=2097152 # Maximum size in bytes of the HTTP post content.\nserver.tomcat.max-threads=200 # Maximum amount of worker threads.\nserver.tomcat.min-spare-threads=10 # Minimum amount of worker threads.\nserver.tomcat.port-header=X-Forwarded-Port # Name of the HTTP header used to override the original port value.\nserver.tomcat.protocol-header= # Header that holds the incoming protocol, usually named \"X-Forwarded-Proto\".\nserver.tomcat.protocol-header-https-value=https # Value of the protocol header indicating whether the incoming request uses SSL.\nserver.tomcat.redirect-context-root=true # Whether requests to the context root should be redirected by appending a / to the path.\nserver.tomcat.remote-ip-header= # Name of the HTTP header from which the remote IP is extracted. For instance, `X-FORWARDED-FOR`.\nserver.tomcat.resource.cache-ttl= # Time-to-live of the static resource cache.\nserver.tomcat.uri-encoding=UTF-8 # Character encoding to use to decode the URI.\nserver.tomcat.use-relative-redirects= # Whether HTTP 1.1 and later location headers generated by a call to sendRedirect will use relative or absolute redirects.\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585933010,"creation_date":1565207245,"answer_id":57401400,"question_id":39002090,"body_markdown":"If you have actuator you can see the metrics\r\n\r\n/actuator/metrics/tomcat.threads.config.max\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;tomcat.threads.config.max&quot;,\r\n      &quot;description&quot;: null,\r\n      &quot;baseUnit&quot;: null,\r\n      &quot;measurements&quot;: [{\r\n        &quot;statistic&quot;: &quot;VALUE&quot;,\r\n        &quot;value&quot;: 200.0\r\n      }],\r\n      &quot;availableTags&quot;: [{\r\n        &quot;tag&quot;: &quot;name&quot;,\r\n        &quot;values&quot;: [&quot;http-nio-8080&quot;]\r\n      }]\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe actual value tomcat decided to create?\r\n/actuator/metrics/tomcat.threads.current\r\n\r\nyou may see 10 there depending on the load\r\n\r\nspring boot never seems to fully use max-threads\r\nyou can however start with more\r\n\r\n    server:\r\n       tomcat:\r\n         min-spare-threads: 40\r\n","title":"Spring Boot - Limit on number of connections created","body":"<p>If you have actuator you can see the metrics</p>\n\n<p>/actuator/metrics/tomcat.threads.config.max</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"name\": \"tomcat.threads.config.max\",\n  \"description\": null,\n  \"baseUnit\": null,\n  \"measurements\": [{\n    \"statistic\": \"VALUE\",\n    \"value\": 200.0\n  }],\n  \"availableTags\": [{\n    \"tag\": \"name\",\n    \"values\": [\"http-nio-8080\"]\n  }]\n}\n</code></pre>\n\n\n\n<p>The actual value tomcat decided to create?\n/actuator/metrics/tomcat.threads.current</p>\n\n<p>you may see 10 there depending on the load</p>\n\n<p>spring boot never seems to fully use max-threads\nyou can however start with more</p>\n\n<pre><code>server:\n   tomcat:\n     min-spare-threads: 40\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172805,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":39002238,"answer_count":5,"score":76,"last_activity_date":1684594492,"creation_date":1471452134,"question_id":39002090,"body_markdown":"I developed a microservice using Spring Boot. I was performance testing the  service by stubbing the backend calls. When I looked at the thread count , I see that the maximum number of threads that created to the service is 20 at any point in time even though the number of calls made is much higher. Are there any limitations with respect to number of calls that can be made to a microservice developed using Spring Boot. Please can you guide in what steps I need to follow to troubleshoot / increase the number of connections accepted by the service?","title":"Spring Boot - Limit on number of connections created","body":"<p>I developed a microservice using Spring Boot. I was performance testing the  service by stubbing the backend calls. When I looked at the thread count , I see that the maximum number of threads that created to the service is 20 at any point in time even though the number of calls made is much higher. Are there any limitations with respect to number of calls that can be made to a microservice developed using Spring Boot. Please can you guide in what steps I need to follow to troubleshoot / increase the number of connections accepted by the service?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684522616,"post_id":76291622,"comment_id":134534831,"body_markdown":"In Java, a `byte` is signed, so it&#39;s range is from -128 to 127.","body":"In Java, a <code>byte</code> is signed, so it&#39;s range is from -128 to 127."},{"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"score":0,"creation_date":1684594277,"post_id":76291622,"comment_id":134541467,"body_markdown":"Have you tried stepping through this with a debugger yet?","body":"Have you tried stepping through this with a debugger yet?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684560714,"creation_date":1684525950,"answer_id":76292070,"question_id":76291622,"body_markdown":"In Java, a `byte` value is signed, so its range is from -128 to 127.  \r\nAs opposed to a range of 0 to 255.\r\n\r\nThere are two approaches you can take.  I&#39;ll demonstrate both.\r\n\r\nAs a solution, you can reduce your check value, on line 13, of `count &lt; 255` to 127.  \r\nFor added persistence, you can use `Byte.MAX_VALUE`.\r\n\r\n```java\r\nif (nextByte == currentByte &amp;&amp; count &lt; 127) {\r\n    count++;\r\n} else {\r\n    os.write((byte) count);\r\n    os.write((byte) currentByte);\r\n    count = 1;\r\n}\r\n```\r\n\r\nOr, you can bit-mask your `count` value in the `decompression` method.\r\n\r\n```java\r\ncount = currentByte &amp; 0xff;\r\n```\r\n\r\nThis will return positive values for negative `byte` values.  \r\nFor example.\r\n\r\n```java\r\n-1 &amp; 0xff == 255\r\n```\r\n\r\nAdditionally, as a recommendation, you can reduce both your `compress` and `decompress` methods.\r\n\r\nPlace the `compress` contents within a try-finally block.  \r\nThat way, you can close your streams in the event of an `IOException` occurring.  \r\nAnd, increase the scope of `nextByte`, by bringing its declaration outside of the `while` loop.\r\n\r\n```java\r\npublic static void compress(InputStream is, OutputStream os) throws IOException {\r\n    try {\r\n        int currentByte = is.read();\r\n        int nextByte;\r\n        int count = 1;\r\n        while (currentByte != -1) {\r\n            nextByte = is.read();\r\n            if (nextByte == currentByte &amp;&amp; count &lt; 255)\r\n                count++;\r\n            else {\r\n                os.write((byte) count);\r\n                os.write((byte) currentByte);\r\n                count = 1;\r\n            }\r\n            currentByte = nextByte;\r\n        }\r\n    } finally {\r\n        os.flush();\r\n        is.close();\r\n        os.close();\r\n    }\r\n}\r\n```\r\n\r\nAs for the `decompress` method, same situation, place the contents within a try-finally block.  \r\nYour `currentByte` assignment can be placed within the `while` condition statement.  \r\nAnd, you can utilize the `Arrays.fill` method to populate the `bytes` array.\r\n\r\n```java\r\npublic static void decompress(InputStream is, OutputStream os) throws IOException {\r\n    try {\r\n        int currentByte;\r\n        int count, value;\r\n        byte[] bytes;\r\n        while ((currentByte = is.read()) != -1) {\r\n            count = currentByte &amp; 0xff;\r\n            value = is.read();\r\n            bytes = new byte[count];\r\n            Arrays.fill(bytes, (byte) value);\r\n            os.write(bytes);\r\n        }\r\n    } finally {\r\n        os.flush();\r\n        is.close();\r\n        os.close();\r\n    }\r\n}\r\n```\r\n\r\nAs an added measure, just to demonstrate what&#39;s happening when assigning a value greater than 127 to a `byte`.  \r\nConsider the following, we&#39;ll start at 125 and increment by 1, 4 times, to get to 129.\r\n\r\n```java\r\nbyte value;\r\nString binary;\r\nfor (int count = 1; count &lt; 5; count++) {\r\n    value = (byte) (125 + count);\r\n    System.out.printf(&quot;+%d, &quot;, count);\r\n    System.out.printf(&quot;value= %4d, &quot;, value);\r\n    binary = &quot;%8s&quot;.formatted(Integer.toBinaryString(value));\r\n    binary = binary.substring(binary.length() - 8);\r\n    System.out.printf(&quot;%s%n&quot;, binary);\r\n}\r\n```\r\n```none\r\n+1, value=  126,  1111110\r\n+2, value=  127,  1111111\r\n+3, value= -128, 10000000\r\n+4, value= -127, 10000001\r\n```","title":"Problem with RLE program. (Run-Length Encoding)","body":"<p>In Java, a <code>byte</code> value is signed, so its range is from -128 to 127.<br />\nAs opposed to a range of 0 to 255.</p>\n<p>There are two approaches you can take.  I'll demonstrate both.</p>\n<p>As a solution, you can reduce your check value, on line 13, of <code>count &lt; 255</code> to 127.<br />\nFor added persistence, you can use <code>Byte.MAX_VALUE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (nextByte == currentByte &amp;&amp; count &lt; 127) {\n    count++;\n} else {\n    os.write((byte) count);\n    os.write((byte) currentByte);\n    count = 1;\n}\n</code></pre>\n<p>Or, you can bit-mask your <code>count</code> value in the <code>decompression</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>count = currentByte &amp; 0xff;\n</code></pre>\n<p>This will return positive values for negative <code>byte</code> values.<br />\nFor example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>-1 &amp; 0xff == 255\n</code></pre>\n<p>Additionally, as a recommendation, you can reduce both your <code>compress</code> and <code>decompress</code> methods.</p>\n<p>Place the <code>compress</code> contents within a try-finally block.<br />\nThat way, you can close your streams in the event of an <code>IOException</code> occurring.<br />\nAnd, increase the scope of <code>nextByte</code>, by bringing its declaration outside of the <code>while</code> loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void compress(InputStream is, OutputStream os) throws IOException {\n    try {\n        int currentByte = is.read();\n        int nextByte;\n        int count = 1;\n        while (currentByte != -1) {\n            nextByte = is.read();\n            if (nextByte == currentByte &amp;&amp; count &lt; 255)\n                count++;\n            else {\n                os.write((byte) count);\n                os.write((byte) currentByte);\n                count = 1;\n            }\n            currentByte = nextByte;\n        }\n    } finally {\n        os.flush();\n        is.close();\n        os.close();\n    }\n}\n</code></pre>\n<p>As for the <code>decompress</code> method, same situation, place the contents within a try-finally block.<br />\nYour <code>currentByte</code> assignment can be placed within the <code>while</code> condition statement.<br />\nAnd, you can utilize the <code>Arrays.fill</code> method to populate the <code>bytes</code> array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void decompress(InputStream is, OutputStream os) throws IOException {\n    try {\n        int currentByte;\n        int count, value;\n        byte[] bytes;\n        while ((currentByte = is.read()) != -1) {\n            count = currentByte &amp; 0xff;\n            value = is.read();\n            bytes = new byte[count];\n            Arrays.fill(bytes, (byte) value);\n            os.write(bytes);\n        }\n    } finally {\n        os.flush();\n        is.close();\n        os.close();\n    }\n}\n</code></pre>\n<p>As an added measure, just to demonstrate what's happening when assigning a value greater than 127 to a <code>byte</code>.<br />\nConsider the following, we'll start at 125 and increment by 1, 4 times, to get to 129.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte value;\nString binary;\nfor (int count = 1; count &lt; 5; count++) {\n    value = (byte) (125 + count);\n    System.out.printf(&quot;+%d, &quot;, count);\n    System.out.printf(&quot;value= %4d, &quot;, value);\n    binary = &quot;%8s&quot;.formatted(Integer.toBinaryString(value));\n    binary = binary.substring(binary.length() - 8);\n    System.out.printf(&quot;%s%n&quot;, binary);\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>+1, value=  126,  1111110\n+2, value=  127,  1111111\n+3, value= -128, 10000000\n+4, value= -127, 10000001\n</code></pre>\n"}],"owner":{"account_id":28635876,"reputation":11,"user_id":21926050,"display_name":"David Legasa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76292070,"answer_count":1,"score":-2,"last_activity_date":1684593997,"creation_date":1684520607,"question_id":76291622,"body_markdown":"How can I make the test work? I don&#39;t encounter the error in my code. Java is new to me and I am just learning it. I know that the issue is related to the array, but I don&#39;t know how to fix it.\r\n\r\nError of decompress:  \r\n\r\n&gt; &quot;array lengths differed, expected.length=2 actual.length=5; arrays\r\n&gt; first differed at element [2]; &quot;\r\n\r\nError of compress:\r\n\r\n&gt; &quot;array lengths differed, expected.length=3 actual.length=2; arrays\r\n&gt; first differed at element [0]; &quot;\r\n\r\n\r\nThe code:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\npublic class RLE {\r\n    public static void compress(InputStream is, OutputStream os) throws IOException {\r\n        int currentByte = is.read();\r\n        int count = 1;\r\n\r\n        while (currentByte != -1) {\r\n            int nextByte = is.read();\r\n\r\n            if (nextByte == currentByte &amp;&amp; count &lt; 255) {\r\n                count++;\r\n            } else {\r\n                os.write((byte) count);\r\n                os.write((byte) currentByte);\r\n                count = 1;\r\n            }\r\n\r\n            currentByte = nextByte;\r\n        }\r\n\r\n        os.flush();\r\n        is.close(); \r\n        os.close(); \r\n    }\r\n\r\n    public static void decompress(InputStream is, OutputStream os) throws IOException {\r\n        int currentByte = is.read();\r\n\r\n        while (currentByte != -1) {\r\n            int count = currentByte;\r\n            int value = is.read();\r\n\r\n            byte[] bytes = new byte[count];\r\n            for (int i = 0; i &lt; count; i++) {\r\n                bytes[i] = (byte) value;\r\n            }\r\n\r\n            os.write(bytes);\r\n            currentByte = is.read();\r\n        }\r\n\r\n        os.flush();\r\n        is.close(); \r\n        os.close(); \r\n    }\r\n}\r\n```\r\n\r\nThe test:\r\n\r\n\r\n```\r\nimport java.io.*;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\npublic class RLETest {\r\n\r\n    private void test1(byte[] expected, byte[] input) throws Exception {\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        RLE.compress(new ByteArrayInputStream(input), bos);\r\n        assertArrayEquals(expected, bos.toByteArray());\r\n    }\r\n\r\n    private void test2(byte[] expected, byte[] input) throws Exception {\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        RLE.decompress(new ByteArrayInputStream(input), bos);\r\n        assertArrayEquals(expected, bos.toByteArray());\r\n    }\r\n\r\n    @org.junit.Test\r\n    public void compress() throws Exception {\r\n        test1(new byte[]{1,1,4}, new byte[]{1,1,1,1,1,1});\r\n        test1(new byte[]{1,1,0}, new byte[]{1,1});\r\n        test1(new byte[]{1,2,3}, new byte[]{1,2,3});\r\n        test1(new byte[]{1, 1, 0, 2, 2, 0, 3, 3, 0}, new byte[]{1, 1, 2, 2, 3, 3});\r\n        test1(new byte[]{1, 2, 3, 3, 1, 4}, new byte[]{1, 2, 3, 3, 3, 4});\r\n        test1(new byte[]{1,2,3,3,0}, new byte[]{1, 2, 3, 3});\r\n\r\n        byte[]ar;\r\n\r\n        ar = new byte[260];\r\n        for (int i = 0; i &lt; ar.length; i++) {\r\n            ar[i] = 100;\r\n        }\r\n\r\n        test1(new byte[]{100,100,(byte) 255, 100, 100, 1}, ar);\r\n\r\n        ar = new byte[550];\r\n        for (int i = 0; i &lt; ar.length; i++) {\r\n            ar[i] = 100;\r\n        }\r\n\r\n        test1(new byte[]{100,100,(byte) 255, 100, 100, (byte) 255, 100, 100, 34}, ar);\r\n    }\r\n\r\n    @org.junit.Test\r\n    public void decompress() throws Exception {\r\n        test2(new byte[]{5,5}, new byte[]{5,5,0});\r\n        test2(new byte[]{1,2,3}, new byte[]{1,2,3});\r\n        test2(new byte[]{1,2,2,3}, new byte[]{1,2,2,0,3});\r\n        test2(new byte[]{1,2,3,3,3,3}, new byte[]{1,2,3,3,2});\r\n        test2(new byte[]{5}, new byte[]{5});\r\n        test2(new byte[]{1,1,2,2,3,3,4,4}, new byte[]{1,1,0,2,2,0,3,3,0,4,4,0});\r\n\r\n        byte[]ar;\r\n\r\n        ar = new byte[202];\r\n        for (int i = 0; i &lt; ar.length; i++) {\r\n            ar[i] = 55;\r\n        }\r\n\r\n        test2(ar, new byte[]{55,55,(byte)200});\r\n\r\n        ar = new byte[259];\r\n        for (int i = 0; i &lt; ar.length; i++) {\r\n            ar[i] = 55;\r\n        }\r\n\r\n        test2(ar, new byte[]{55,55,(byte)255, 55, 55, 0});\r\n    }\r\n\r\n}\r\n```","title":"Problem with RLE program. (Run-Length Encoding)","body":"<p>How can I make the test work? I don't encounter the error in my code. Java is new to me and I am just learning it. I know that the issue is related to the array, but I don't know how to fix it.</p>\n<p>Error of decompress:</p>\n<blockquote>\n<p>&quot;array lengths differed, expected.length=2 actual.length=5; arrays\nfirst differed at element [2]; &quot;</p>\n</blockquote>\n<p>Error of compress:</p>\n<blockquote>\n<p>&quot;array lengths differed, expected.length=3 actual.length=2; arrays\nfirst differed at element [0]; &quot;</p>\n</blockquote>\n<p>The code:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class RLE {\n    public static void compress(InputStream is, OutputStream os) throws IOException {\n        int currentByte = is.read();\n        int count = 1;\n\n        while (currentByte != -1) {\n            int nextByte = is.read();\n\n            if (nextByte == currentByte &amp;&amp; count &lt; 255) {\n                count++;\n            } else {\n                os.write((byte) count);\n                os.write((byte) currentByte);\n                count = 1;\n            }\n\n            currentByte = nextByte;\n        }\n\n        os.flush();\n        is.close(); \n        os.close(); \n    }\n\n    public static void decompress(InputStream is, OutputStream os) throws IOException {\n        int currentByte = is.read();\n\n        while (currentByte != -1) {\n            int count = currentByte;\n            int value = is.read();\n\n            byte[] bytes = new byte[count];\n            for (int i = 0; i &lt; count; i++) {\n                bytes[i] = (byte) value;\n            }\n\n            os.write(bytes);\n            currentByte = is.read();\n        }\n\n        os.flush();\n        is.close(); \n        os.close(); \n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>import java.io.*;\n\nimport static org.junit.Assert.*;\n\npublic class RLETest {\n\n    private void test1(byte[] expected, byte[] input) throws Exception {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        RLE.compress(new ByteArrayInputStream(input), bos);\n        assertArrayEquals(expected, bos.toByteArray());\n    }\n\n    private void test2(byte[] expected, byte[] input) throws Exception {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        RLE.decompress(new ByteArrayInputStream(input), bos);\n        assertArrayEquals(expected, bos.toByteArray());\n    }\n\n    @org.junit.Test\n    public void compress() throws Exception {\n        test1(new byte[]{1,1,4}, new byte[]{1,1,1,1,1,1});\n        test1(new byte[]{1,1,0}, new byte[]{1,1});\n        test1(new byte[]{1,2,3}, new byte[]{1,2,3});\n        test1(new byte[]{1, 1, 0, 2, 2, 0, 3, 3, 0}, new byte[]{1, 1, 2, 2, 3, 3});\n        test1(new byte[]{1, 2, 3, 3, 1, 4}, new byte[]{1, 2, 3, 3, 3, 4});\n        test1(new byte[]{1,2,3,3,0}, new byte[]{1, 2, 3, 3});\n\n        byte[]ar;\n\n        ar = new byte[260];\n        for (int i = 0; i &lt; ar.length; i++) {\n            ar[i] = 100;\n        }\n\n        test1(new byte[]{100,100,(byte) 255, 100, 100, 1}, ar);\n\n        ar = new byte[550];\n        for (int i = 0; i &lt; ar.length; i++) {\n            ar[i] = 100;\n        }\n\n        test1(new byte[]{100,100,(byte) 255, 100, 100, (byte) 255, 100, 100, 34}, ar);\n    }\n\n    @org.junit.Test\n    public void decompress() throws Exception {\n        test2(new byte[]{5,5}, new byte[]{5,5,0});\n        test2(new byte[]{1,2,3}, new byte[]{1,2,3});\n        test2(new byte[]{1,2,2,3}, new byte[]{1,2,2,0,3});\n        test2(new byte[]{1,2,3,3,3,3}, new byte[]{1,2,3,3,2});\n        test2(new byte[]{5}, new byte[]{5});\n        test2(new byte[]{1,1,2,2,3,3,4,4}, new byte[]{1,1,0,2,2,0,3,3,0,4,4,0});\n\n        byte[]ar;\n\n        ar = new byte[202];\n        for (int i = 0; i &lt; ar.length; i++) {\n            ar[i] = 55;\n        }\n\n        test2(ar, new byte[]{55,55,(byte)200});\n\n        ar = new byte[259];\n        for (int i = 0; i &lt; ar.length; i++) {\n            ar[i] = 55;\n        }\n\n        test2(ar, new byte[]{55,55,(byte)255, 55, 55, 0});\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maze"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1684532635,"post_id":76292452,"comment_id":134536344,"body_markdown":"Read [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684533704,"post_id":76292452,"comment_id":134536455,"body_markdown":"Look out for line separators","body":"Look out for line separators"},{"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"score":1,"creation_date":1684533759,"post_id":76292452,"comment_id":134536466,"body_markdown":"How is [1, 2] the correct output for the given input? Can you please provide the problem link?","body":"How is [1, 2] the correct output for the given input? Can you please provide the problem link?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684539965,"post_id":76292452,"comment_id":134537067,"body_markdown":"Don&#39;t use a BufferedReader; use a Scanner.","body":"Don&#39;t use a BufferedReader; use a Scanner."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684537467,"creation_date":1684537467,"answer_id":76292880,"question_id":76292452,"body_markdown":"    public static char[][] readMaze(Path file) throws IOException {\r\n        return Files.lines(file).map(String::toCharArray).toArray(char[][]::new);\r\n    }\r\n\r\nwill read your maze without needing any header. Just store the maze itself.\r\n\r\nYour problem arises from reading the line separators. These are present, as not consumed by `readLine` calls","title":"What is causing missing characters and incorrect starting location when creating a maze from a text file?","body":"<pre><code>public static char[][] readMaze(Path file) throws IOException {\n    return Files.lines(file).map(String::toCharArray).toArray(char[][]::new);\n}\n</code></pre>\n<p>will read your maze without needing any header. Just store the maze itself.</p>\n<p>Your problem arises from reading the line separators. These are present, as not consumed by <code>readLine</code> calls</p>\n"},{"tags":[],"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684538456,"creation_date":1684538456,"answer_id":76292933,"question_id":76292452,"body_markdown":"Your problem seems to be in the logic related to reading the file and storing it in the map.\r\n\r\nYou can simply read the text file and store all the lines. \r\n\r\nThen, total row = number of lines\r\n\r\nAnd total column = size of first line\r\n\r\nIn this way, you won&#39;t have to open the file multiple times.\r\n\r\n\r\nAbout reading each line to store in the char array =&gt;\r\n\r\nAs your input contains spaces and newlines, it would be better to use ```reader.readline()``` instead of ```reader.read()```.\r\n\r\nRead more about read() and readLine() from below:\r\n\r\nhttps://stackoverflow.com/questions/43190995/bufferedreader-read-not-working\r\n\r\nhttps://stackoverflow.com/questions/34446847/bufferedreader-will-not-read-final-line-of-input\r\n\r\n\r\nHowever, you can also use simpler logic like below sample code to read the file and store it:\r\n\r\n```\r\nprivate static char[][] getMapFromFile() throws IOException {\r\n\r\n    List &lt; String &gt; allLines = Files.readAllLines(Paths.get(filePath));\r\n    int totalRows = allLines.size();\r\n    int totalColumns = allLines.get(0).length();\r\n\r\n    char[][] map = new char[totalRows][totalColumns];\r\n\r\n    for (int i = 0; i &lt; totalRows; i++) {\r\n        String currentLine = allLines.get(i);\r\n        for (int j = 0; j &lt; totalColumns; j++) {\r\n            map[i][j] = currentLine.charAt(j);\r\n        }\r\n    }\r\n    return map;\r\n}\r\n```","title":"What is causing missing characters and incorrect starting location when creating a maze from a text file?","body":"<p>Your problem seems to be in the logic related to reading the file and storing it in the map.</p>\n<p>You can simply read the text file and store all the lines.</p>\n<p>Then, total row = number of lines</p>\n<p>And total column = size of first line</p>\n<p>In this way, you won't have to open the file multiple times.</p>\n<p>About reading each line to store in the char array =&gt;</p>\n<p>As your input contains spaces and newlines, it would be better to use <code>reader.readline()</code> instead of <code>reader.read()</code>.</p>\n<p>Read more about read() and readLine() from below:</p>\n<p><a href=\"https://stackoverflow.com/questions/43190995/bufferedreader-read-not-working\">BufferedReader read() not working</a></p>\n<p><a href=\"https://stackoverflow.com/questions/34446847/bufferedreader-will-not-read-final-line-of-input\">BufferedReader will not read final line of input</a></p>\n<p>However, you can also use simpler logic like below sample code to read the file and store it:</p>\n<pre><code>private static char[][] getMapFromFile() throws IOException {\n\n    List &lt; String &gt; allLines = Files.readAllLines(Paths.get(filePath));\n    int totalRows = allLines.size();\n    int totalColumns = allLines.get(0).length();\n\n    char[][] map = new char[totalRows][totalColumns];\n\n    for (int i = 0; i &lt; totalRows; i++) {\n        String currentLine = allLines.get(i);\n        for (int j = 0; j &lt; totalColumns; j++) {\n            map[i][j] = currentLine.charAt(j);\n        }\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684541577,"creation_date":1684539923,"answer_id":76293005,"question_id":76292452,"body_markdown":"I was able to produce the correct map, and `[1, 2]` as a starting-point with the following code; adapted from yours.\r\n\r\nI created a `Maze` class, with a `map` method to populate the `map`, `rows`, and `columns` fields.  \r\nAdditionally, I created a `startingPoint` method to return an `int[]` of the starting point row and column indices.  \r\nFinally, I created an overridden `toString` method for printing the maze.\r\n\r\nYou can utilize `Arrays.binarySearch` to find `X`.\r\n\r\n```java\r\nclass Maze {\r\n    File file;\r\n    char[][] map;\r\n    int rows, columns;\r\n\r\n    Maze(String path) throws IOException {\r\n        file = new File(path);\r\n        map();\r\n    }\r\n\r\n    void map() throws IOException {\r\n        StringBuilder string = new StringBuilder();\r\n        String line;\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n            String newline = System.lineSeparator();\r\n            rows = 0;\r\n            while ((line = reader.readLine()) != null) {\r\n                if (rows++ != 0) string.append(newline);\r\n                string.append(line);\r\n                columns = line.length();\r\n            }\r\n        }\r\n        BufferedReader reader = new BufferedReader(new StringReader(string.toString()));\r\n        map = new char[rows][columns];\r\n        int index = 0;\r\n        while ((line = reader.readLine()) != null)\r\n            map[index++] = line.toCharArray();\r\n    }\r\n\r\n    int[] startPoint() {\r\n        int index = 0;\r\n        int column;\r\n        for (char[] row : map) {\r\n            if ((column = Arrays.binarySearch(row, &#39;X&#39;)) &gt; 0)\r\n                return new int[] { index, column };\r\n            index++;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder string = new StringBuilder();\r\n        String newline = System.lineSeparator();\r\n        for (char[] row : map)\r\n            string.append(row).append(newline);\r\n        return string.toString();\r\n    }\r\n}\r\n```\r\n\r\n```none\r\n11111\r\n1 X 1\r\n1 1 1\r\n1   1\r\n111 1\r\n\r\n[1, 2]\r\n```","title":"What is causing missing characters and incorrect starting location when creating a maze from a text file?","body":"<p>I was able to produce the correct map, and <code>[1, 2]</code> as a starting-point with the following code; adapted from yours.</p>\n<p>I created a <code>Maze</code> class, with a <code>map</code> method to populate the <code>map</code>, <code>rows</code>, and <code>columns</code> fields.<br />\nAdditionally, I created a <code>startingPoint</code> method to return an <code>int[]</code> of the starting point row and column indices.<br />\nFinally, I created an overridden <code>toString</code> method for printing the maze.</p>\n<p>You can utilize <code>Arrays.binarySearch</code> to find <code>X</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Maze {\n    File file;\n    char[][] map;\n    int rows, columns;\n\n    Maze(String path) throws IOException {\n        file = new File(path);\n        map();\n    }\n\n    void map() throws IOException {\n        StringBuilder string = new StringBuilder();\n        String line;\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n            String newline = System.lineSeparator();\n            rows = 0;\n            while ((line = reader.readLine()) != null) {\n                if (rows++ != 0) string.append(newline);\n                string.append(line);\n                columns = line.length();\n            }\n        }\n        BufferedReader reader = new BufferedReader(new StringReader(string.toString()));\n        map = new char[rows][columns];\n        int index = 0;\n        while ((line = reader.readLine()) != null)\n            map[index++] = line.toCharArray();\n    }\n\n    int[] startPoint() {\n        int index = 0;\n        int column;\n        for (char[] row : map) {\n            if ((column = Arrays.binarySearch(row, 'X')) &gt; 0)\n                return new int[] { index, column };\n            index++;\n        }\n        return null;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder string = new StringBuilder();\n        String newline = System.lineSeparator();\n        for (char[] row : map)\n            string.append(row).append(newline);\n        return string.toString();\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>11111\n1 X 1\n1 1 1\n1   1\n111 1\n\n[1, 2]\n</code></pre>\n"}],"owner":{"account_id":22283711,"reputation":17,"user_id":16511725,"display_name":"ErikVM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76293005,"answer_count":3,"score":-2,"last_activity_date":1684593798,"creation_date":1684530784,"question_id":76292452,"body_markdown":"I&#39;m converting a text file into a two dimensional char array and getting indexes of specific chars. \r\n\r\nI have this task where I need to read the map which is text file, and find the shortest route out. So far I converted the text file into a char array, but if I&#39;m printing out the map on console, some of the chars are missing. For some reason I don&#39;t understand, I&#39;m not getting correct location for the starting point. \r\n\r\nMy idea to use same logic I found about binary maze. If you read this and think I&#39;m doing something completely stupid, then please let me know.\r\n\r\nFirst, I created two methods to get how many rows and columns there are in the map:\r\n```\r\nprivate static int getRowsOfTheMap() throws IOException {\r\n    int rows = 0;\r\n    BufferedReader reader = getReader(filePath);\r\n    while (reader.readLine() != null) rows++;\r\n    reader.close();\r\n    return rows;\r\n}\r\n\r\nprivate static int getColumnsOfTheMap() throws IOException {\r\n    BufferedReader reader = getReader(filePath);\r\n    String firstRow = reader.readLine();\r\n\r\n    return firstRow.length();\r\n}\r\n```\r\n\r\nThen, I created a method to get the map as 2D char array:\r\n\r\n```\r\nprivate static char[][] getMapFromFile() throws IOException {\r\n\r\n    char[][] map = new char[getRowsOfTheMap()][getColumnsOfTheMap()];\r\n\r\n    BufferedReader reader = getReader(filePath);\r\n\r\n    for (int i = 0; i &lt; map.length; i++) {\r\n        for (int j = 0; j &lt; map[0].length; j++) {\r\n            map[i][j] = (char) reader.read();\r\n        }\r\n    }\r\n    return map;\r\n}\r\n```\r\nAnd method for getting starting point:\r\n\r\n```\r\nprivate static int[] getStartingPoint(char[][] map) {\r\n    int[] startingPoint = {\r\n        -1,\r\n        -1\r\n    };\r\n    for (int i = 0; i &lt; map.length; i++) {\r\n        for (int j = 0; j &lt; map[i].length; j++) {\r\n            if (map[i][j] == &#39;X&#39;) {\r\n                startingPoint[0] = i;\r\n                startingPoint[1] = j;\r\n            }\r\n        }\r\n    }\r\n    return startingPoint;\r\n}\r\n```\r\n\r\n\r\nMap from the text file and map output.\r\n\r\n[![The map from the text file:][1]][1] [![Map after I converted it into char array][2]][2]\r\n\r\nAnd with location expected is [1,2] actual is [1,3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yucpc.png\r\n  [2]: https://i.stack.imgur.com/xV1wE.png","title":"What is causing missing characters and incorrect starting location when creating a maze from a text file?","body":"<p>I'm converting a text file into a two dimensional char array and getting indexes of specific chars.</p>\n<p>I have this task where I need to read the map which is text file, and find the shortest route out. So far I converted the text file into a char array, but if I'm printing out the map on console, some of the chars are missing. For some reason I don't understand, I'm not getting correct location for the starting point.</p>\n<p>My idea to use same logic I found about binary maze. If you read this and think I'm doing something completely stupid, then please let me know.</p>\n<p>First, I created two methods to get how many rows and columns there are in the map:</p>\n<pre><code>private static int getRowsOfTheMap() throws IOException {\n    int rows = 0;\n    BufferedReader reader = getReader(filePath);\n    while (reader.readLine() != null) rows++;\n    reader.close();\n    return rows;\n}\n\nprivate static int getColumnsOfTheMap() throws IOException {\n    BufferedReader reader = getReader(filePath);\n    String firstRow = reader.readLine();\n\n    return firstRow.length();\n}\n</code></pre>\n<p>Then, I created a method to get the map as 2D char array:</p>\n<pre><code>private static char[][] getMapFromFile() throws IOException {\n\n    char[][] map = new char[getRowsOfTheMap()][getColumnsOfTheMap()];\n\n    BufferedReader reader = getReader(filePath);\n\n    for (int i = 0; i &lt; map.length; i++) {\n        for (int j = 0; j &lt; map[0].length; j++) {\n            map[i][j] = (char) reader.read();\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>And method for getting starting point:</p>\n<pre><code>private static int[] getStartingPoint(char[][] map) {\n    int[] startingPoint = {\n        -1,\n        -1\n    };\n    for (int i = 0; i &lt; map.length; i++) {\n        for (int j = 0; j &lt; map[i].length; j++) {\n            if (map[i][j] == 'X') {\n                startingPoint[0] = i;\n                startingPoint[1] = j;\n            }\n        }\n    }\n    return startingPoint;\n}\n</code></pre>\n<p>Map from the text file and map output.</p>\n<p><a href=\"https://i.stack.imgur.com/Yucpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yucpc.png\" alt=\"The map from the text file:\" /></a> <a href=\"https://i.stack.imgur.com/xV1wE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xV1wE.png\" alt=\"Map after I converted it into char array\" /></a></p>\n<p>And with location expected is [1,2] actual is [1,3]</p>\n"},{"tags":["java","spring","download","ioexception"],"answers":[{"tags":[],"owner":{"account_id":15412804,"reputation":1,"user_id":11119117,"display_name":"Gianpio Benincasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588783711,"creation_date":1588783711,"answer_id":61640663,"question_id":57707115,"body_markdown":"I had the same problem, thinking it was the response timeout I modified the implementation, replacing \r\n&gt; OutputStream responseOutPutStream = response.getOutputStream();\r\n\r\nwith\r\n\r\n&gt; try (PrintWriter pw = response.getWriter()) {\r\n&gt; // your logic here\r\n&gt; }\r\n\r\nthis way it works.\r\n","title":"How to fix java.io.IOException: An existing connection was forcibly closed by the remote host when downloading a file","body":"<p>I had the same problem, thinking it was the response timeout I modified the implementation, replacing </p>\n\n<blockquote>\n  <p>OutputStream responseOutPutStream = response.getOutputStream();</p>\n</blockquote>\n\n<p>with</p>\n\n<blockquote>\n  <p>try (PrintWriter pw = response.getWriter()) {\n  // your logic here\n  }</p>\n</blockquote>\n\n<p>this way it works.</p>\n"}],"owner":{"account_id":7254047,"reputation":467,"user_id":5533359,"accept_rate":67,"display_name":"HMD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5922,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1684593758,"creation_date":1567070878,"question_id":57707115,"body_markdown":"I&#39;m trying to download a file in my application, but following exception is thrown:\r\n\r\n&gt; org.apache.catalina.connector.ClientAbortException:\r\n&gt; java.io.IOException: An existing connection was forcibly closed by the\r\n&gt; remote host\r\n\r\nI&#39;ve read most of related questions on SO, specially [this one][1], but none helped me to get through this exception.\r\n\r\nCode:\r\n\r\n    response.setContentType(mimeType);\r\n    response.setContentLength((int) file.length());\r\n    response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;&quot;);\r\n    \r\n    InputStream inputStream = new FileInputStream(file);\r\n    OutputStream responseOutPutStream = response.getOutputStream();\r\n    \r\n    byte buffer[] = new byte[32 * 1024];\r\n    int bytes;\r\n    while ((bytes = inputStream.read(buffer)) != -1) {\r\n        responseOutPutStream.write(buffer, 0, bytes);\r\n    }\r\n    responseOutPutStream.flush();\r\n    inputStream.close();\r\n    responseOutPutStream.close();\r\n\r\n`mimeType`is `application/octet-stream`\r\n\r\nalso, I implemented this code using `FileCopyUtils.copy(inputStream, responseOutPutStream);` but same result.\r\n\r\n\r\nThe request is sent from *ExtJS* application using `&lt;a&gt;` tag.\r\n\r\nWe tried to send a **Get** request via *Ajax*, but that didn&#39;t solve to problem.\r\n\r\nThere&#39;s almost 2 days since i&#39;m searching and debugging, couldn&#39;t find any way to solve this problem.\r\n\r\n  [1]: https://stackoverflow.com/questions/45482585/java-io-ioexception-an-existing-connection-was-forcibly-closed-by-the-remote-ho\r\n\r\nhow to fix this?\r\n\r\nBest Regards\r\n\r\n-----------------------------\r\n\r\n**EDIT:**\r\n\r\nmore information: I use Spring Boot as underlying framework and the code above is called in a controller class (annotated with `@Controller` annotation)","title":"How to fix java.io.IOException: An existing connection was forcibly closed by the remote host when downloading a file","body":"<p>I'm trying to download a file in my application, but following exception is thrown:</p>\n\n<blockquote>\n  <p>org.apache.catalina.connector.ClientAbortException:\n  java.io.IOException: An existing connection was forcibly closed by the\n  remote host</p>\n</blockquote>\n\n<p>I've read most of related questions on SO, specially <a href=\"https://stackoverflow.com/questions/45482585/java-io-ioexception-an-existing-connection-was-forcibly-closed-by-the-remote-ho\">this one</a>, but none helped me to get through this exception.</p>\n\n<p>Code:</p>\n\n<pre><code>response.setContentType(mimeType);\nresponse.setContentLength((int) file.length());\nresponse.addHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + file.getName() + \"\\\"\");\n\nInputStream inputStream = new FileInputStream(file);\nOutputStream responseOutPutStream = response.getOutputStream();\n\nbyte buffer[] = new byte[32 * 1024];\nint bytes;\nwhile ((bytes = inputStream.read(buffer)) != -1) {\n    responseOutPutStream.write(buffer, 0, bytes);\n}\nresponseOutPutStream.flush();\ninputStream.close();\nresponseOutPutStream.close();\n</code></pre>\n\n<p><code>mimeType</code>is <code>application/octet-stream</code></p>\n\n<p>also, I implemented this code using <code>FileCopyUtils.copy(inputStream, responseOutPutStream);</code> but same result.</p>\n\n<p>The request is sent from <em>ExtJS</em> application using <code>&lt;a&gt;</code> tag.</p>\n\n<p>We tried to send a <strong>Get</strong> request via <em>Ajax</em>, but that didn't solve to problem.</p>\n\n<p>There's almost 2 days since i'm searching and debugging, couldn't find any way to solve this problem.</p>\n\n<p>how to fix this?</p>\n\n<p>Best Regards</p>\n\n<hr>\n\n<p><strong>EDIT:</strong></p>\n\n<p>more information: I use Spring Boot as underlying framework and the code above is called in a controller class (annotated with <code>@Controller</code> annotation)</p>\n"},{"tags":["java","mongodb","web","morphia"],"answers":[{"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684592609,"creation_date":1684592609,"answer_id":76295702,"question_id":76295646,"body_markdown":"If your MongoDB query is returning the correct number of documents, but they are all identical, it could be due to a couple of reasons:\r\n\r\n1) Query criteria: Ensure that your query criteria are correctly specified to retrieve the desired documents. If your query is too broad or missing specific conditions, it might return multiple identical documents that match the criteria. Double-check your query filters and make sure they are correctly defined.\r\n\r\n2) Mapping configuration: Verify that your mapping configuration with Morphia is accurate. Morphia is an Object Document Mapping (ODM) library for MongoDB, and it helps map Java objects to MongoDB documents. Ensure that your entity classes are properly annotated with the correct annotations and that the mapping is correctly configured. In particular, pay attention to any field or property that might be causing duplicate values across documents.\r\n\r\n3) Data integrity: Check the data in your MongoDB collection to ensure that it doesn&#39;t contain duplicate documents with the same values. It&#39;s possible that the issue is not related to the query or mapping but rather to the data itself. Review your data insertion process and ensure that you&#39;re not unintentionally inserting duplicate documents.\r\n\r\n4) Unique indexes: Consider adding unique indexes to relevant fields in your MongoDB collection. Unique indexes enforce uniqueness for a particular field or combination of fields, preventing duplicate values from being inserted. By adding unique indexes, you can ensure that duplicate documents with the same values are not stored in your collection.\r\n\r\nBy investigating these aspects, you should be able to identify and address the issue of receiving identical documents in your MongoDB query results.","title":"Morphia/MongoDB retrieves query with identical elements","body":"<p>If your MongoDB query is returning the correct number of documents, but they are all identical, it could be due to a couple of reasons:</p>\n<ol>\n<li><p>Query criteria: Ensure that your query criteria are correctly specified to retrieve the desired documents. If your query is too broad or missing specific conditions, it might return multiple identical documents that match the criteria. Double-check your query filters and make sure they are correctly defined.</p>\n</li>\n<li><p>Mapping configuration: Verify that your mapping configuration with Morphia is accurate. Morphia is an Object Document Mapping (ODM) library for MongoDB, and it helps map Java objects to MongoDB documents. Ensure that your entity classes are properly annotated with the correct annotations and that the mapping is correctly configured. In particular, pay attention to any field or property that might be causing duplicate values across documents.</p>\n</li>\n<li><p>Data integrity: Check the data in your MongoDB collection to ensure that it doesn't contain duplicate documents with the same values. It's possible that the issue is not related to the query or mapping but rather to the data itself. Review your data insertion process and ensure that you're not unintentionally inserting duplicate documents.</p>\n</li>\n<li><p>Unique indexes: Consider adding unique indexes to relevant fields in your MongoDB collection. Unique indexes enforce uniqueness for a particular field or combination of fields, preventing duplicate values from being inserted. By adding unique indexes, you can ensure that duplicate documents with the same values are not stored in your collection.</p>\n</li>\n</ol>\n<p>By investigating these aspects, you should be able to identify and address the issue of receiving identical documents in your MongoDB query results.</p>\n"}],"owner":{"account_id":28642734,"reputation":1,"user_id":21931498,"display_name":"CarloS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684592609,"creation_date":1684591750,"question_id":76295646,"body_markdown":"im working on a social media backend in java. I decide to work with MongoDB and morphia for the contant management. Everytime i open up a query for finding documents it finds the right amount of documents but the query is full of the identical document. Can anybody help? \r\n\r\nIve searched everywhere for a solution but this seems like its not very popular","title":"Morphia/MongoDB retrieves query with identical elements","body":"<p>im working on a social media backend in java. I decide to work with MongoDB and morphia for the contant management. Everytime i open up a query for finding documents it finds the right amount of documents but the query is full of the identical document. Can anybody help?</p>\n<p>Ive searched everywhere for a solution but this seems like its not very popular</p>\n"},{"tags":["java","api-design","idempotent"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684798771,"post_id":76295696,"comment_id":134566569,"body_markdown":"I am not sure how you are using &quot;[idempotent](https://developer.mozilla.org/en-US/docs/Glossary/Idempotent)&quot; in this question. `POST` operations are not idempotent (if implemented strictly).","body":"I am not sure how you are using &quot;<a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Idempotent\" rel=\"nofollow noreferrer\">idempotent</a>&quot; in this question. <code>POST</code> operations are not idempotent (if implemented strictly)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684798839,"post_id":76295696,"comment_id":134566582,"body_markdown":"Perhaps you should put that word aside and instead consider what functionality you need. Do you need to track changes - for example, for audit purposes? If so, then by all means track each change separately (by having multiple entries, with a timestamp). Otherwise, there is no need to have multiple entries - you only need the current state of each entry. People may use `POST` operations (e.g in HTML form submissions) to also cover what are (strictly speaking) `PUT` operations, as well as `POST` operations.","body":"Perhaps you should put that word aside and instead consider what functionality you need. Do you need to track changes - for example, for audit purposes? If so, then by all means track each change separately (by having multiple entries, with a timestamp). Otherwise, there is no need to have multiple entries - you only need the current state of each entry. People may use <code>POST</code> operations (e.g in HTML form submissions) to also cover what are (strictly speaking) <code>PUT</code> operations, as well as <code>POST</code> operations."}],"owner":{"account_id":9959075,"reputation":185,"user_id":7368968,"accept_rate":80,"display_name":"Deepayan Ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684592586,"creation_date":1684592586,"question_id":76295696,"body_markdown":"I am new to designing APIs and seeking guidance from all. I read about idempotency and I want to understand whether it is always required or it depends on the whether we are okay with having duplicate resources?\r\n\r\nI am designing a multi-page form where a customer will input information in multiple pages and can navigate between pages using Previous/Next buttons. The final page will have multiple file input fields and against each the customer will upload a file. After successful upload, he/she will submit the form.\r\n\r\nTo model this flow I have created a class `CustomerInfo` which holds all the information entered by the customer. For the file upload part, `CustomerInfo` has a list of document ids. When a file is uploaded, the API uploads the document to s3 and creates an entry into a table which holds information regarding the document like document type and generates a new document id. This document id is also the key of the S3 object. I store this document id in `CustomerInfo` object.\r\n\r\n**So does the API handling the document upload need to be idempotent? Is it okay to have multiple entries? Or, Should it create one single entry in the table and for request with same customerId and documentType, it should overwrite the previous document in S3 and update that same table record and not create a new record?**\r\n\r\nLets think of a scenario where for one input field, the customer uploads a file and then re-uploads another file, or the first upload failed and the customer reties the upload, then multiple entries will be created in the document table but it does not matter to me if I have duplicate records, as long as I am able to store the final document id correctly on the `CustomerInfo` object. Or, in this case also, do I need to implement some kind of idempotency so that only one document id is generated for a particular customer and document type and in case of re-uploads and retries, I overwrite this one entry?","title":"Should all POST APIs be idempotent or it depends on use-case?","body":"<p>I am new to designing APIs and seeking guidance from all. I read about idempotency and I want to understand whether it is always required or it depends on the whether we are okay with having duplicate resources?</p>\n<p>I am designing a multi-page form where a customer will input information in multiple pages and can navigate between pages using Previous/Next buttons. The final page will have multiple file input fields and against each the customer will upload a file. After successful upload, he/she will submit the form.</p>\n<p>To model this flow I have created a class <code>CustomerInfo</code> which holds all the information entered by the customer. For the file upload part, <code>CustomerInfo</code> has a list of document ids. When a file is uploaded, the API uploads the document to s3 and creates an entry into a table which holds information regarding the document like document type and generates a new document id. This document id is also the key of the S3 object. I store this document id in <code>CustomerInfo</code> object.</p>\n<p><strong>So does the API handling the document upload need to be idempotent? Is it okay to have multiple entries? Or, Should it create one single entry in the table and for request with same customerId and documentType, it should overwrite the previous document in S3 and update that same table record and not create a new record?</strong></p>\n<p>Lets think of a scenario where for one input field, the customer uploads a file and then re-uploads another file, or the first upload failed and the customer reties the upload, then multiple entries will be created in the document table but it does not matter to me if I have duplicate records, as long as I am able to store the final document id correctly on the <code>CustomerInfo</code> object. Or, in this case also, do I need to implement some kind of idempotency so that only one document id is generated for a particular customer and document type and in case of re-uploads and retries, I overwrite this one entry?</p>\n"},{"tags":["java","spring-boot","arraylist","hashset","modelmapper"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1684593156,"post_id":76295691,"comment_id":134541339,"body_markdown":"place `@lombok.EqualsAndHashCode.Exclude` over set fields, or replace `@Data` with `@Getter` and `@Setter` an implement reliable `#equals` and `#hashCode` methods.","body":"place <code>@lombok.EqualsAndHashCode.Exclude</code> over set fields, or replace <code>@Data</code> with <code>@Getter</code> and <code>@Setter</code> an implement reliable <code>#equals</code> and <code>#hashCode</code> methods."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1684597610,"post_id":76295691,"comment_id":134541862,"body_markdown":"Placing lombok.EqualsAndHashCode.Exclude worked for me. Can somebody explain why this issue occurs and how lombok.EqualsAndHashCode.Exclude works here? Thank You.","body":"Placing lombok.EqualsAndHashCode.Exclude worked for me. Can somebody explain why this issue occurs and how lombok.EqualsAndHashCode.Exclude works here? Thank You."}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684592516,"creation_date":1684592516,"question_id":76295691,"body_markdown":"I am working on a Spring Boot Project. I have 3 entities-\r\n```\r\n@Entity\r\n@Data\r\npublic class Author {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;Author_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name=&quot;First_name&quot;,nullable = false)\r\n    private String firstName;\r\n    @Column(name=&quot;Last_name&quot;,nullable = false)\r\n    private String lastName;\r\n    @Column(name=&quot;Mobile_number&quot;,nullable = false, unique = true,length = 10)\r\n    private long mobileNo;\r\n\r\n    @ManyToMany(mappedBy = &quot;authors&quot;,fetch = FetchType.EAGER)\r\n    // List&lt;Book&gt; books=new ArrayList&lt;&gt;();\r\n    private Set&lt;Book&gt; books=new HashSet&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.ayushsingh.demojpa.entity;\r\n\r\nimport java.sql.Date;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.JoinTable;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.ManyToOne;\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Data\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;Book_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;Book_name&quot;,nullable = false, unique = true)\r\n    private String bookName;\r\n\r\n    @Column(name = &quot;Publication_date&quot;,nullable = false)\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\r\n    private Date publishDate;\r\n\r\n    @Column(name = &quot;ISBN&quot;,nullable = false, unique = true)\r\n    private String isbn;\r\n\r\n    @ManyToOne \r\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\r\n    private Publication publication;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;Book_Author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;Book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;Author_id&quot;))\r\n    // private List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\r\n    private Set&lt;Author&gt; authors=new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\npackage com.ayushsingh.demojpa.entity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Data\r\npublic class Publication {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name=&quot;Publication_name&quot;,nullable = false,unique = true)\r\n    private String name;\r\n\r\n    @Column(name=&quot;Registration_number&quot;,nullable = false, unique = true)\r\n    private String regNumber;\r\n\r\n    @OneToMany(mappedBy = &quot;publication&quot;,cascade={CascadeType.REFRESH,CascadeType.PERSIST,CascadeType.MERGE,CascadeType.DETACH})\r\n    // List&lt;Book&gt; books=new ArrayList&lt;&gt;();\r\n    private Set&lt;Book&gt; books=new HashSet&lt;&gt;();\r\n}\r\n\r\n```\r\nDTO Classes-\r\n```\r\npackage com.ayushsingh.demojpa.dto;\r\n\r\nimport java.sql.Date;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class BookDto {\r\n\r\n    private int id;\r\n\r\n    private String bookName;\r\n\r\n    private Date publishDate;\r\n\r\n    private String isbn;\r\n\r\n  \r\n    private PublicationDto publication;\r\n\r\n   \r\n    // private List&lt;AuthorDto&gt; authors = new ArrayList&lt;&gt;();\r\n        private Set&lt;AuthorDto&gt; authors=new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\npackage com.ayushsingh.demojpa.dto;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class AuthorDto {\r\n\r\n    private int id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private long mobileNo;\r\n    // List&lt;BookDto&gt; books=new ArrayList&lt;&gt;();\r\n    // Set&lt;BookDto&gt; books=new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\npackage com.ayushsingh.demojpa.dto;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n\r\nimport com.ayushsingh.demojpa.entity.Book;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class PublicationDto {\r\n\r\n    private int id;\r\n    private String name;\r\n\r\n    private String regNumber;\r\n    // List&lt;BookDto&gt; books=new ArrayList&lt;&gt;();\r\n    // HashSet&lt;BookDto&gt; books=new HashSet&lt;&gt;();\r\n}  \r\n```\r\nWhen using Model Mapper, I get error when converting the entities to dtos. But, with List everything works fine.\r\n```\r\n023-05-20T19:28:57.369+05:30 ERROR 8632 --- [nio-8086-exec-6] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: force initializing collection loading   \r\n2023-05-20T19:28:57.388+05:30 ERROR 8632 --- [nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.hibernate.AssertionFailure: force initializing collection loading] with root cause  \r\n\r\norg.hibernate.AssertionFailure: force initializing collection loading\r\n        at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:811) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n        at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1003) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n        at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:989) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n```\r\nPlease help me resolve this error. Please note- When using List/ArrayList, everything works fine with the same code. Problem arises with HashSet.","title":"ModelMapper error-org.hibernate.AssertionFailure: force initializing collection loading: Spring Boot and JPA","body":"<p>I am working on a Spring Boot Project. I have 3 entities-</p>\n<pre><code>@Entity\n@Data\npublic class Author {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;Author_id&quot;)\n    private int id;\n\n    @Column(name=&quot;First_name&quot;,nullable = false)\n    private String firstName;\n    @Column(name=&quot;Last_name&quot;,nullable = false)\n    private String lastName;\n    @Column(name=&quot;Mobile_number&quot;,nullable = false, unique = true,length = 10)\n    private long mobileNo;\n\n    @ManyToMany(mappedBy = &quot;authors&quot;,fetch = FetchType.EAGER)\n    // List&lt;Book&gt; books=new ArrayList&lt;&gt;();\n    private Set&lt;Book&gt; books=new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<pre><code>package com.ayushsingh.demojpa.entity;\n\nimport java.sql.Date;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.ManyToOne;\nimport lombok.Data;\n\n@Entity\n@Data\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;Book_id&quot;)\n    private int id;\n\n    @Column(name = &quot;Book_name&quot;,nullable = false, unique = true)\n    private String bookName;\n\n    @Column(name = &quot;Publication_date&quot;,nullable = false)\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\n    private Date publishDate;\n\n    @Column(name = &quot;ISBN&quot;,nullable = false, unique = true)\n    private String isbn;\n\n    @ManyToOne \n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\n    private Publication publication;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;Book_Author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;Book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;Author_id&quot;))\n    // private List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\n    private Set&lt;Author&gt; authors=new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>package com.ayushsingh.demojpa.entity;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport lombok.Data;\n\n@Entity\n@Data\npublic class Publication {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name=&quot;Publication_name&quot;,nullable = false,unique = true)\n    private String name;\n\n    @Column(name=&quot;Registration_number&quot;,nullable = false, unique = true)\n    private String regNumber;\n\n    @OneToMany(mappedBy = &quot;publication&quot;,cascade={CascadeType.REFRESH,CascadeType.PERSIST,CascadeType.MERGE,CascadeType.DETACH})\n    // List&lt;Book&gt; books=new ArrayList&lt;&gt;();\n    private Set&lt;Book&gt; books=new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<p>DTO Classes-</p>\n<pre><code>package com.ayushsingh.demojpa.dto;\n\nimport java.sql.Date;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\n\nimport lombok.Data;\n\n@Data\npublic class BookDto {\n\n    private int id;\n\n    private String bookName;\n\n    private Date publishDate;\n\n    private String isbn;\n\n  \n    private PublicationDto publication;\n\n   \n    // private List&lt;AuthorDto&gt; authors = new ArrayList&lt;&gt;();\n        private Set&lt;AuthorDto&gt; authors=new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>package com.ayushsingh.demojpa.dto;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\nimport lombok.Data;\n\n@Data\npublic class AuthorDto {\n\n    private int id;\n    private String firstName;\n    private String lastName;\n    private long mobileNo;\n    // List&lt;BookDto&gt; books=new ArrayList&lt;&gt;();\n    // Set&lt;BookDto&gt; books=new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>package com.ayushsingh.demojpa.dto;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\n\nimport com.ayushsingh.demojpa.entity.Book;\n\nimport lombok.Data;\n\n@Data\npublic class PublicationDto {\n\n    private int id;\n    private String name;\n\n    private String regNumber;\n    // List&lt;BookDto&gt; books=new ArrayList&lt;&gt;();\n    // HashSet&lt;BookDto&gt; books=new HashSet&lt;&gt;();\n}  \n</code></pre>\n<p>When using Model Mapper, I get error when converting the entities to dtos. But, with List everything works fine.</p>\n<pre><code>023-05-20T19:28:57.369+05:30 ERROR 8632 --- [nio-8086-exec-6] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: force initializing collection loading   \n2023-05-20T19:28:57.388+05:30 ERROR 8632 --- [nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.hibernate.AssertionFailure: force initializing collection loading] with root cause  \n\norg.hibernate.AssertionFailure: force initializing collection loading\n        at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:811) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n        at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1003) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n        at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:989) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n</code></pre>\n<p>Please help me resolve this error. Please note- When using List/ArrayList, everything works fine with the same code. Problem arises with HashSet.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"answers":[{"tags":[],"owner":{"account_id":28642459,"reputation":1,"user_id":21931285,"display_name":"Anirudh Srivathsavan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684592387,"creation_date":1684592387,"answer_id":76295684,"question_id":76295411,"body_markdown":"``` \r\n\r\nconfigurations.all {\r\n        resolutionStrategy {\r\n            eachDependency {\r\n                if ((requested.group == &quot;org.jetbrains.kotlin&quot;) &amp;&amp; (requested.name.startsWith(&quot;kotlin-stdlib&quot;))) {\r\n                    useVersion(&quot;1.6.10&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n ```\r\n\r\nthis fixed the issue","title":"Duplicate Class error in my kotlin file, How can i fix this?","body":"<pre><code>\nconfigurations.all {\n        resolutionStrategy {\n            eachDependency {\n                if ((requested.group == &quot;org.jetbrains.kotlin&quot;) &amp;&amp; (requested.name.startsWith(&quot;kotlin-stdlib&quot;))) {\n                    useVersion(&quot;1.6.10&quot;)\n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>this fixed the issue</p>\n"}],"owner":{"account_id":28642459,"reputation":1,"user_id":21931285,"display_name":"Anirudh Srivathsavan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684592387,"creation_date":1684588433,"question_id":76295411,"body_markdown":"I was trying to create a multi activity app with firebase auth and database, but during build, i kept encountering Duplicate Class error\r\n\r\nThis is my error log\r\n\r\n```\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.io.path.DirectoryEntriesReader found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.FileVisitorBuilder found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.FileVisitorImpl found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.LinkFollowing found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathNode found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathTreeWalk found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathTreeWalkKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathWalkOption found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n\r\n```\r\n\r\nthis is my build.gradle file\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.gpsmeasurementapp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.gpsmeasurementapp&quot;\r\n        minSdk 30\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n    }\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.7.1&#39;\r\n    implementation &#39;androidx.compose.ui:ui&#39;\r\n    implementation &#39;androidx.compose.ui:ui-graphics&#39;\r\n    implementation &#39;androidx.compose.ui:ui-tooling-preview&#39;\r\n    implementation &#39;androidx.compose.material3:material3&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:22.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:22.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.0.0&#39;)\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database-ktx&#39;\r\n    androidTestImplementation &#39;androidx.compose.ui:ui-test-junit4&#39;\r\n    debugImplementation &#39;androidx.compose.ui:ui-tooling&#39;\r\n    debugImplementation &#39;androidx.compose.ui:ui-test-manifest&#39;\r\n    def nav_version = &quot;2.5.3&quot;\r\n    implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\r\n\r\n}\r\n```\r\n\r\nI have tried removing duplicate dependencies but the problem persists \r\nI have added `android.enableJetifier=true` as i saw it in another question but the same errors are shown","title":"Duplicate Class error in my kotlin file, How can i fix this?","body":"<p>I was trying to create a multi activity app with firebase auth and database, but during build, i kept encountering Duplicate Class error</p>\n<p>This is my error log</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.io.path.DirectoryEntriesReader found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilder found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorImpl found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.LinkFollowing found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathNode found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalkKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathWalkOption found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\n\n</code></pre>\n<p>this is my build.gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.gpsmeasurementapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.gpsmeasurementapp&quot;\n        minSdk 30\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.6.1'\n    implementation 'androidx.activity:activity-compose:1.7.1'\n    implementation 'androidx.compose.ui:ui'\n    implementation 'androidx.compose.ui:ui-graphics'\n    implementation 'androidx.compose.ui:ui-tooling-preview'\n    implementation 'androidx.compose.material3:material3'\n    implementation 'com.google.firebase:firebase-auth-ktx:22.0.0'\n    implementation 'com.google.firebase:firebase-auth:22.0.0'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation platform('androidx.compose:compose-bom:2022.10.00')\n    implementation platform('com.google.firebase:firebase-bom:32.0.0')\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.google.firebase:firebase-database-ktx'\n    androidTestImplementation 'androidx.compose.ui:ui-test-junit4'\n    debugImplementation 'androidx.compose.ui:ui-tooling'\n    debugImplementation 'androidx.compose.ui:ui-test-manifest'\n    def nav_version = &quot;2.5.3&quot;\n    implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\n\n}\n</code></pre>\n<p>I have tried removing duplicate dependencies but the problem persists\nI have added <code>android.enableJetifier=true</code> as i saw it in another question but the same errors are shown</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684590893,"creation_date":1684590893,"answer_id":76295592,"question_id":75416778,"body_markdown":"This issue was resolved by disabling OpenTelemetry for the application. Obviously, we wanted to be able to collect metrics for the deployed application, but this was a temporary fix. \r\nWe resolved the OTel issue by upgrading the OTel Java Agent to v1.22. thehttps://stackoverflow.com/questions/75746779/conflicts-between-springboot-jersey-and-splunk-otel-collector","title":"Spring Boot Actuator - Error creating bean with name &#39;processorMetrics&#39;","body":"<p>This issue was resolved by disabling OpenTelemetry for the application. Obviously, we wanted to be able to collect metrics for the deployed application, but this was a temporary fix.\nWe resolved the OTel issue by upgrading the OTel Java Agent to v1.22. thehttps://stackoverflow.com/questions/75746779/conflicts-between-springboot-jersey-and-splunk-otel-collector</p>\n"}],"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76295592,"answer_count":1,"score":2,"last_activity_date":1684590893,"creation_date":1676068798,"question_id":75416778,"body_markdown":"I am trying to run a Spring boot application on a Kubernetes cluster. Locally, the application runs and is available. I can hit endpoints on the local version. However, when deployed, the endpoints are not reachable. \r\n\r\nJava 17\r\n\r\nSpring Boot 3.0.2\r\n\r\nspring-boot-starter-actuator 3.0.2\r\n\r\nThere is not a clear reason why the endpoints are not available. The only error I&#39;m seeing in the logs is regarding metrics. \r\n```\r\n{&quot;app&quot;:&quot;MyApi&quot;,&quot;ts&quot;:&quot;2023-02-10T22:25:49.141+00:00&quot;,&quot;logger&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;method&quot;:&quot;reportFailure&quot;,&quot;file&quot;:&quot;SpringApplication.java&quot;,&quot;line&quot;:820,&quot;thread&quot;:&quot;main&quot;,&quot;stack&quot;:&quot;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processorMetrics&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/SystemMetricsAutoConfiguration.class]: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method &#39;processorMetrics&#39; threw exception with message: null\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\\n\\tat com.mystuff.sync.myapi.MyApiApplication.main(MyApiApplication.java:12)\\n\\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java)\\n\\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\t... 3 frames truncated\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method &#39;processorMetrics&#39; threw exception with message: null\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\t... 27 common frames omitted\\nCaused by: java.lang.NullPointerException: null\\n\\tat java.util.Objects.requireNonNull(Objects.java:208)\\n\\tat sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:263)\\n\\tat java.nio.file.Path.of(Path.java:147)\\n\\tat java.nio.file.Paths.get(Paths.java:69)\\n\\tat jdk.internal.platform.CgroupUtil.lambda$readStringValue$1(CgroupUtil.java:67)\\n\\tat java.security.AccessController.doPrivileged(AccessController.java:569)\\n\\tat jdk.internal.platform.CgroupUtil.readStringValue(CgroupUtil.java...&quot;,&quot;msg&quot;:&quot;Application run failed&quot;}\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processorMetrics&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/SystemMetricsAutoConfiguration.class]: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method &#39;processorMetrics&#39; threw exception with message: null\r\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n    at com.mystuff.sync.myapi.MyApiApplication.main(MyApiApplication.java:12)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method &#39;processorMetrics&#39; threw exception with message: null\r\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    ... 27 more\r\nCaused by: java.lang.NullPointerException\r\n    at java.base/java.util.Objects.requireNonNull(Objects.java:208)\r\n```\r\nIs there a way to disable collection of metrics? I have seen posts regarding this, and setting `management.endpoint.metrics.enabled=false` for spring-boot-actuator, but this has had no effect.","title":"Spring Boot Actuator - Error creating bean with name &#39;processorMetrics&#39;","body":"<p>I am trying to run a Spring boot application on a Kubernetes cluster. Locally, the application runs and is available. I can hit endpoints on the local version. However, when deployed, the endpoints are not reachable.</p>\n<p>Java 17</p>\n<p>Spring Boot 3.0.2</p>\n<p>spring-boot-starter-actuator 3.0.2</p>\n<p>There is not a clear reason why the endpoints are not available. The only error I'm seeing in the logs is regarding metrics.</p>\n<pre><code>{&quot;app&quot;:&quot;MyApi&quot;,&quot;ts&quot;:&quot;2023-02-10T22:25:49.141+00:00&quot;,&quot;logger&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;method&quot;:&quot;reportFailure&quot;,&quot;file&quot;:&quot;SpringApplication.java&quot;,&quot;line&quot;:820,&quot;thread&quot;:&quot;main&quot;,&quot;stack&quot;:&quot;org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processorMetrics' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/SystemMetricsAutoConfiguration.class]: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method 'processorMetrics' threw exception with message: null\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\\n\\tat com.mystuff.sync.myapi.MyApiApplication.main(MyApiApplication.java:12)\\n\\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java)\\n\\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\t... 3 frames truncated\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method 'processorMetrics' threw exception with message: null\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\t... 27 common frames omitted\\nCaused by: java.lang.NullPointerException: null\\n\\tat java.util.Objects.requireNonNull(Objects.java:208)\\n\\tat sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:263)\\n\\tat java.nio.file.Path.of(Path.java:147)\\n\\tat java.nio.file.Paths.get(Paths.java:69)\\n\\tat jdk.internal.platform.CgroupUtil.lambda$readStringValue$1(CgroupUtil.java:67)\\n\\tat java.security.AccessController.doPrivileged(AccessController.java:569)\\n\\tat jdk.internal.platform.CgroupUtil.readStringValue(CgroupUtil.java...&quot;,&quot;msg&quot;:&quot;Application run failed&quot;}\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processorMetrics' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/SystemMetricsAutoConfiguration.class]: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method 'processorMetrics' threw exception with message: null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at com.mystuff.sync.myapi.MyApiApplication.main(MyApiApplication.java:12)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.binder.system.ProcessorMetrics]: Factory method 'processorMetrics' threw exception with message: null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 27 more\nCaused by: java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:208)\n</code></pre>\n<p>Is there a way to disable collection of metrics? I have seen posts regarding this, and setting <code>management.endpoint.metrics.enabled=false</code> for spring-boot-actuator, but this has had no effect.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3202785,"reputation":26,"user_id":2704528,"display_name":"DaGunMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684590626,"creation_date":1684590626,"answer_id":76295567,"question_id":76286393,"body_markdown":"Since you&#39;re using spring-boot and it&#39;s fairly simple to create database functionality with spring data https://spring.io/guides/gs/accessing-data-jpa/ I&#39;d suggest to create either a special &#39;getByParentId&#39; and/or &#39;deleteByParentId&#39; and call the methods seperate from code.","title":"How can I cascade create and remove entities with bidirectional self-reference in Hibernate and Spring Boot?","body":"<p>Since you're using spring-boot and it's fairly simple to create database functionality with spring data <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-jpa/</a> I'd suggest to create either a special 'getByParentId' and/or 'deleteByParentId' and call the methods seperate from code.</p>\n"}],"owner":{"account_id":13344891,"reputation":1,"user_id":9635163,"display_name":"Fedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684590626,"creation_date":1684476359,"question_id":76286393,"body_markdown":"I&#39;m trying to cascade create and delete entity with bidirectional self reference, but it&#39;s not working.\r\n\r\n- When cascade type is ALL - entity is creating but not removing;\r\n\r\n- When cascade type is REMOVE - entity is removing but not creating;\r\n\r\n- Can&#39;t use fetch = Lazy because I need to validate all fields before removing, and anyway I need to get all child fields;\r\n\r\nUsing Spring 3 and Postgresql\r\n\r\n**Entity:**\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;field&quot;)\r\npublic class Field {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    @JdbcTypeCode(SqlTypes.BIGINT)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parent_field_id&quot;)\r\n    private Field parentField;\r\n\r\n    @OneToMany(mappedBy = &quot;parentField&quot;, fetch = FetchType.EAGER, cascade =  CascadeType., orphanRemoval = true)\r\n    private Set&lt;Field&gt; childFields = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n**Test code:**\r\n\r\n```\r\nfinal Field firstLevel = createField(&quot;firstLevel&quot;);\r\nfinal Field secondLevel = createField(&quot;secondLevel&quot;);\r\nsecondLevel.setParentField(firstLevel);\r\nfirstLevel.getChildFields().add(secondLevel);\r\n\r\nfinal Field thirdLevel = createField(&quot;thirdLevel&quot;);\r\nthirdLevel.setParentField(secondLevel);\r\nsecondLevel.getChildFields().add(thirdLevel);\r\nfieldRepo.save(firstLevel);\r\n\r\n// Checking child fields saved\r\nfinal Field filedWithChild = fieldRepo.findById(1L).get();\r\nfiledWithChild.getChildFields().forEach(field -&gt; Assert.isTrue(field.getId() != null));\r\n\r\n// Trying to remove second level\r\nlog.info(&quot;Prepare to delete&quot;);\r\nfieldRepo.deleteById(2L);\r\nfinal Optional&lt;Field&gt; byId = fieldRepo.findById(2L);\r\nAssert.isTrue(byId.isEmpty(),&quot;Second level was not removed&quot;);\r\n```\r\n\r\n**The logs show that after the deletion there is no sql delete request itself**\r\n\r\n```\r\n2023-05-19T10:56:55.109+05:00  INFO 31018 --- [  restartedMain] c.e.springbatchtest.app.SpringBatch      : Prepare to delete\r\n2023-05-19T10:56:55.110+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\r\nHibernate: select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\r\n2023-05-19T10:56:55.112+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\n2023-05-19T10:56:55.114+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\n2023-05-19T10:56:55.120+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\r\nHibernate: select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\r\n2023-05-19T10:56:55.122+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\n2023-05-19T10:56:55.124+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\r\n```","title":"How can I cascade create and remove entities with bidirectional self-reference in Hibernate and Spring Boot?","body":"<p>I'm trying to cascade create and delete entity with bidirectional self reference, but it's not working.</p>\n<ul>\n<li><p>When cascade type is ALL - entity is creating but not removing;</p>\n</li>\n<li><p>When cascade type is REMOVE - entity is removing but not creating;</p>\n</li>\n<li><p>Can't use fetch = Lazy because I need to validate all fields before removing, and anyway I need to get all child fields;</p>\n</li>\n</ul>\n<p>Using Spring 3 and Postgresql</p>\n<p><strong>Entity:</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;field&quot;)\npublic class Field {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    @JdbcTypeCode(SqlTypes.BIGINT)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_field_id&quot;)\n    private Field parentField;\n\n    @OneToMany(mappedBy = &quot;parentField&quot;, fetch = FetchType.EAGER, cascade =  CascadeType., orphanRemoval = true)\n    private Set&lt;Field&gt; childFields = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>Test code:</strong></p>\n<pre><code>final Field firstLevel = createField(&quot;firstLevel&quot;);\nfinal Field secondLevel = createField(&quot;secondLevel&quot;);\nsecondLevel.setParentField(firstLevel);\nfirstLevel.getChildFields().add(secondLevel);\n\nfinal Field thirdLevel = createField(&quot;thirdLevel&quot;);\nthirdLevel.setParentField(secondLevel);\nsecondLevel.getChildFields().add(thirdLevel);\nfieldRepo.save(firstLevel);\n\n// Checking child fields saved\nfinal Field filedWithChild = fieldRepo.findById(1L).get();\nfiledWithChild.getChildFields().forEach(field -&gt; Assert.isTrue(field.getId() != null));\n\n// Trying to remove second level\nlog.info(&quot;Prepare to delete&quot;);\nfieldRepo.deleteById(2L);\nfinal Optional&lt;Field&gt; byId = fieldRepo.findById(2L);\nAssert.isTrue(byId.isEmpty(),&quot;Second level was not removed&quot;);\n</code></pre>\n<p><strong>The logs show that after the deletion there is no sql delete request itself</strong></p>\n<pre><code>2023-05-19T10:56:55.109+05:00  INFO 31018 --- [  restartedMain] c.e.springbatchtest.app.SpringBatch      : Prepare to delete\n2023-05-19T10:56:55.110+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\nHibernate: select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\n2023-05-19T10:56:55.112+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\n2023-05-19T10:56:55.114+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\n2023-05-19T10:56:55.120+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\nHibernate: select f1_0.id,c1_0.parent_field_id,c1_0.id,c1_0.name,f1_0.name,p1_0.id,p1_0.name,p1_0.parent_field_id from field f1_0 left join field c1_0 on f1_0.id=c1_0.parent_field_id left join field p1_0 on p1_0.id=f1_0.parent_field_id where f1_0.id=?\n2023-05-19T10:56:55.122+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\n2023-05-19T10:56:55.124+05:00 DEBUG 31018 --- [  restartedMain] org.hibernate.SQL                        : select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\nHibernate: select c1_0.parent_field_id,c1_0.id,c1_0.name from field c1_0 where c1_0.parent_field_id=?\n</code></pre>\n"},{"tags":["java","android","android-notifications"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1684587058,"post_id":76295296,"comment_id":134540588,"body_markdown":"That will depend entirely on your definition of &quot;the app is closed&quot;. `AlarmManager` is designed for use when your process is not running, and so that part should work fine. However, there will times when your app is in a state where your alarms get cancelled, such as when the user clicks &quot;Force Stop&quot; in the Settings app&#39;s page for your app. Depending on the device manufacturer, other user actions may also cancel your alarms.","body":"That will depend entirely on your definition of &quot;the app is closed&quot;. <code>AlarmManager</code> is designed for use when your process is not running, and so that part should work fine. However, there will times when your app is in a state where your alarms get cancelled, such as when the user clicks &quot;Force Stop&quot; in the Settings app&#39;s page for your app. Depending on the device manufacturer, other user actions may also cancel your alarms."},{"owner":{"account_id":18604248,"reputation":11,"user_id":13558293,"display_name":"Rumiz"},"score":0,"creation_date":1684588288,"post_id":76295296,"comment_id":134540746,"body_markdown":"Thank you for your response @CommonsWare. The code I provided does not show a notification when I exit the app or when the app is closed. But when I start the app, it suddenly shows the notification.","body":"Thank you for your response @CommonsWare. The code I provided does not show a notification when I exit the app or when the app is closed. But when I start the app, it suddenly shows the notification."}],"answers":[{"tags":[],"owner":{"account_id":7072599,"reputation":874,"user_id":5422725,"display_name":"Eugene Troyanskii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684590624,"creation_date":1684590624,"answer_id":76295566,"question_id":76295296,"body_markdown":"Actually, this method should work. I made the same feature in my project. But after comparing our approach I see a few differences. Instead `alarmManager.setExact` use `alarmManager.setRepeating` as you need this Push to repeat. **Also, there is no guarantee that Push will be sent exactly in a specific second.** It could be later. Just wait some time. Here is my working example for sending Push every weekend. Maybe you find something useful for you.\r\n\r\n\r\n    private void initLocalPushNotificationBroadcast() {\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n        Intent intent = new Intent(this, AlarmReceiver.class);\r\n        PendingIntent broadcast = PendingIntent.getBroadcast(this, 11100, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        long time = Utils.getStartCurrentWeekInMilliseconds(1) - Utils.MILLISECONDS_IN_15_HOUR;\r\n        alarmManager.setRepeating(\r\n                AlarmManager.RTC_WAKEUP,\r\n                time,\r\n                AlarmManager.INTERVAL_DAY * 7,\r\n                broadcast);\r\n    }\r\n\r\n\r\n    public static long getStartCurrentWeekInMilliseconds(int offsetFromCurrentWeek) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTimeZone(TIME_ZONE);\r\n        cal.set(Calendar.HOUR_OF_DAY, 0);\r\n        cal.clear(Calendar.MINUTE);\r\n        cal.clear(Calendar.SECOND);\r\n        cal.clear(Calendar.MILLISECOND);\r\n        // get start of this week in milliseconds\r\n        cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n        // start of the week\r\n        cal.add(Calendar.WEEK_OF_YEAR, offsetFromCurrentWeek);\r\n        return cal.getTimeInMillis();\r\n    }\r\n\r\nCall `initLocalPushNotificationBroadcast` in `onCreate` method in Application class.\r\n\r\nAnd here is AlarmReceiver:\r\n\r\n    class AlarmReceiver : BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context, intent: Intent?) {\r\n\r\n        val resultIntent = Intent(context, RankingActivity::class.java)\r\n        resultIntent.putExtra(WEEKLY_PERFORMANCE_EVENT, true)\r\n        resultIntent.putExtra(MainActivity.PN_RECEIVED_DATE, System.currentTimeMillis())\r\n        val backIntent = Intent(context, MainActivity::class.java)\r\n        backIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK)\r\n        val pendingIntent = PendingIntent.getActivities(context, 0, arrayOf(backIntent, resultIntent), PendingIntent.FLAG_ONE_SHOT or PendingIntent.FLAG_IMMUTABLE)\r\n\r\n        val builder = Notification.Builder(context)\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            builder.setChannelId(channelId)\r\n        }\r\n        val notification = builder.setContentTitle(&quot;Weekly performance&quot;)\r\n            .setContentText(&quot;Content.&quot;)\r\n            .setAutoCancel(true)\r\n            .setSmallIcon(R.mipmap.ic_launcher)\r\n            .setContentIntent(pendingIntent)\r\n            .build()\r\n\r\n        val notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val channel = NotificationChannel(\r\n                channelId,\r\n                &quot;Weekly performance&quot;,\r\n                IMPORTANCE_DEFAULT\r\n            )\r\n            notificationManager.createNotificationChannel(channel)\r\n        }\r\n\r\n        notificationManager.notify(KSConfig.PUSH_ACTION.LOCAL_WEEKLY_PERFORMANCE, notification)\r\n    }\r\n\r\n    companion object {\r\n        val channelId = MyFMessagingService.NOTIFICATION_CHANNEL_ID + KSConfig.PUSH_ACTION.LOCAL_WEEKLY_PERFORMANCE\r\n    }\r\n\r\n    }","title":"Implementing Notifications in an Offline Android App without relying on Server","body":"<p>Actually, this method should work. I made the same feature in my project. But after comparing our approach I see a few differences. Instead <code>alarmManager.setExact</code> use <code>alarmManager.setRepeating</code> as you need this Push to repeat. <strong>Also, there is no guarantee that Push will be sent exactly in a specific second.</strong> It could be later. Just wait some time. Here is my working example for sending Push every weekend. Maybe you find something useful for you.</p>\n<pre><code>private void initLocalPushNotificationBroadcast() {\n    AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n    Intent intent = new Intent(this, AlarmReceiver.class);\n    PendingIntent broadcast = PendingIntent.getBroadcast(this, 11100, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n    long time = Utils.getStartCurrentWeekInMilliseconds(1) - Utils.MILLISECONDS_IN_15_HOUR;\n    alarmManager.setRepeating(\n            AlarmManager.RTC_WAKEUP,\n            time,\n            AlarmManager.INTERVAL_DAY * 7,\n            broadcast);\n}\n\n\npublic static long getStartCurrentWeekInMilliseconds(int offsetFromCurrentWeek) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTimeZone(TIME_ZONE);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.clear(Calendar.MINUTE);\n    cal.clear(Calendar.SECOND);\n    cal.clear(Calendar.MILLISECOND);\n    // get start of this week in milliseconds\n    cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n    // start of the week\n    cal.add(Calendar.WEEK_OF_YEAR, offsetFromCurrentWeek);\n    return cal.getTimeInMillis();\n}\n</code></pre>\n<p>Call <code>initLocalPushNotificationBroadcast</code> in <code>onCreate</code> method in Application class.</p>\n<p>And here is AlarmReceiver:</p>\n<pre><code>class AlarmReceiver : BroadcastReceiver() {\n\noverride fun onReceive(context: Context, intent: Intent?) {\n\n    val resultIntent = Intent(context, RankingActivity::class.java)\n    resultIntent.putExtra(WEEKLY_PERFORMANCE_EVENT, true)\n    resultIntent.putExtra(MainActivity.PN_RECEIVED_DATE, System.currentTimeMillis())\n    val backIntent = Intent(context, MainActivity::class.java)\n    backIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK)\n    val pendingIntent = PendingIntent.getActivities(context, 0, arrayOf(backIntent, resultIntent), PendingIntent.FLAG_ONE_SHOT or PendingIntent.FLAG_IMMUTABLE)\n\n    val builder = Notification.Builder(context)\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        builder.setChannelId(channelId)\n    }\n    val notification = builder.setContentTitle(&quot;Weekly performance&quot;)\n        .setContentText(&quot;Content.&quot;)\n        .setAutoCancel(true)\n        .setSmallIcon(R.mipmap.ic_launcher)\n        .setContentIntent(pendingIntent)\n        .build()\n\n    val notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        val channel = NotificationChannel(\n            channelId,\n            &quot;Weekly performance&quot;,\n            IMPORTANCE_DEFAULT\n        )\n        notificationManager.createNotificationChannel(channel)\n    }\n\n    notificationManager.notify(KSConfig.PUSH_ACTION.LOCAL_WEEKLY_PERFORMANCE, notification)\n}\n\ncompanion object {\n    val channelId = MyFMessagingService.NOTIFICATION_CHANNEL_ID + KSConfig.PUSH_ACTION.LOCAL_WEEKLY_PERFORMANCE\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":18604248,"reputation":11,"user_id":13558293,"display_name":"Rumiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684590624,"creation_date":1684586710,"question_id":76295296,"body_markdown":"I am new to Android development, and I&#39;m unsure if it&#39;s possible or not. I have an Android yoga app that operates offline without relying on a server. Every weekend, I need to show my users only a few notifications sentences stored within the app. I am looking for a way to achieve this without relying on a server for implementation.\r\n\r\nI am trying with this method, but it only works when the app is opened. and does not work when the app is closed. Is there any way for it to work even when the app is closed?\r\n\r\n\\`\r\n\r\n    // setting up the notification \r\n    // Set the desired date and time for the notification \r\n    \r\n    Calendar calendar = Calendar.getInstance(); \r\n    calendar.set(Calendar.YEAR, 2023); \r\n    calendar.set(Calendar.MONTH, Calendar.MAY); \r\n    calendar.set(Calendar.DAY_OF_MONTH, 20); \r\n    calendar.set(Calendar.HOUR_OF_DAY, 11); \r\n    calendar.set(Calendar.MINUTE, 1); \r\n    calendar.set(Calendar.SECOND, 0);\r\n    \r\n    // Create a new PendingIntent for the BroadcastReceiver\r\n    Intent intent = new Intent(this, AlarmReceiver.class);\r\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n            this,\r\n            0,\r\n            intent,\r\n            PendingIntent.FLAG_IMMUTABLE\r\n    );\r\n    \r\n    \r\n    // Get the AlarmManager and schedule the alarm\r\n    AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n    alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);`\r\n\r\n**AlarmReceiver.java**\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver { \r\n    \r\n    \r\n    \r\n        @Override \r\n        public void onReceive(Context context, Intent intent) { \r\n            // Handle the alarm trigger here, show the notification \r\n            showNotification(context); \r\n        }\r\n    \r\n    \r\n        private void showNotification(Context context) {\r\n            // Create the notification channel (if not already created)\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel channel = new NotificationChannel(\r\n                        &quot;channel_id&quot;,\r\n                        &quot;Channel Name&quot;,\r\n                        NotificationManager.IMPORTANCE_DEFAULT\r\n                );\r\n                NotificationManager notificationManager = context.getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n        \r\n            // Create the notification\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;channel_id&quot;)\r\n                    .setContentTitle(&quot;Yoga App&quot;)\r\n                    .setContentText(&quot;Take a moment for yourself and unwind with a soothing yoga session in our app today&quot;)\r\n                    .setSmallIcon(R.drawable.ic_launcher)\r\n                    .setAutoCancel(true);\r\n        \r\n            NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n            notificationManager.notify(0, builder.build());\r\n    }}`\r\n\r\nI tried this method but it only worked when the app is open. Is there any way that it can work even when the app is closed?","title":"Implementing Notifications in an Offline Android App without relying on Server","body":"<p>I am new to Android development, and I'm unsure if it's possible or not. I have an Android yoga app that operates offline without relying on a server. Every weekend, I need to show my users only a few notifications sentences stored within the app. I am looking for a way to achieve this without relying on a server for implementation.</p>\n<p>I am trying with this method, but it only works when the app is opened. and does not work when the app is closed. Is there any way for it to work even when the app is closed?</p>\n<p>`</p>\n<pre><code>// setting up the notification \n// Set the desired date and time for the notification \n\nCalendar calendar = Calendar.getInstance(); \ncalendar.set(Calendar.YEAR, 2023); \ncalendar.set(Calendar.MONTH, Calendar.MAY); \ncalendar.set(Calendar.DAY_OF_MONTH, 20); \ncalendar.set(Calendar.HOUR_OF_DAY, 11); \ncalendar.set(Calendar.MINUTE, 1); \ncalendar.set(Calendar.SECOND, 0);\n\n// Create a new PendingIntent for the BroadcastReceiver\nIntent intent = new Intent(this, AlarmReceiver.class);\nPendingIntent pendingIntent = PendingIntent.getBroadcast(\n        this,\n        0,\n        intent,\n        PendingIntent.FLAG_IMMUTABLE\n);\n\n\n// Get the AlarmManager and schedule the alarm\nAlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\nalarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);`\n</code></pre>\n<p><strong>AlarmReceiver.java</strong></p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver { \n\n\n\n    @Override \n    public void onReceive(Context context, Intent intent) { \n        // Handle the alarm trigger here, show the notification \n        showNotification(context); \n    }\n\n\n    private void showNotification(Context context) {\n        // Create the notification channel (if not already created)\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    &quot;channel_id&quot;,\n                    &quot;Channel Name&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT\n            );\n            NotificationManager notificationManager = context.getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    \n        // Create the notification\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;channel_id&quot;)\n                .setContentTitle(&quot;Yoga App&quot;)\n                .setContentText(&quot;Take a moment for yourself and unwind with a soothing yoga session in our app today&quot;)\n                .setSmallIcon(R.drawable.ic_launcher)\n                .setAutoCancel(true);\n    \n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n        notificationManager.notify(0, builder.build());\n}}`\n</code></pre>\n<p>I tried this method but it only worked when the app is open. Is there any way that it can work even when the app is closed?</p>\n"},{"tags":["java","arrays","swing","intellij-idea","jtable"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684555548,"post_id":76293415,"comment_id":134537895,"body_markdown":"I&#39;m trying to understand the logic, it does not appear that you&#39;ll need the nested for-loops.  Each subsequent loop is only iterating once.","body":"I&#39;m trying to understand the logic, it does not appear that you&#39;ll need the nested for-loops.  Each subsequent loop is only iterating once."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684590029,"post_id":76293415,"comment_id":134540990,"body_markdown":"*I first read the information from a file to an ArrayList*  - The DefaultTableModel use a Vector of Vectors to hold the data. So currently your code would have 3 references to the data: 1) the ArrayList, 2) the Array and 3) the Vectors. No need for 3 copies. Instead, create a custom `CourseTableModel` that uses the ArrayList to hold the data. See the example from [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) on how to create the custom model.","body":"<i>I first read the information from a file to an ArrayList</i>  - The DefaultTableModel use a Vector of Vectors to hold the data. So currently your code would have 3 references to the data: 1) the ArrayList, 2) the Array and 3) the Vectors. No need for 3 copies. Instead, create a custom <code>CourseTableModel</code> that uses the ArrayList to hold the data. See the example from <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> on how to create the custom model."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684556004,"creation_date":1684556004,"answer_id":76293490,"question_id":76293415,"body_markdown":"You don&#39;t need the nested for-loops.\r\n\r\nWhat you can do is iterate once, for each item in `listOfCourses`, setting each secondary index to the according column.\r\n\r\nI changed `i` to `row` for clarity.\r\n\r\n```java\r\nObject[][] data = new Object[listOfCourses.size()][5];\r\nfor (int row = 0; row &lt; listOfCourses.size(); row++) {\r\n    data[row][0] = yearInWord(listOfCourses.get(row).getYear());\r\n    data[row][1] = termInWord(listOfCourses.get(row).getTerm());\r\n    data[row][2] = listOfCourses.get(row).getCourseCode();\r\n    data[row][3] = listOfCourses.get(row).getCourseName();\r\n    data[row][4] = listOfCourses.get(row).getUnits();\r\n}\r\n```","title":"Array won&#39;t appear in JTable","body":"<p>You don't need the nested for-loops.</p>\n<p>What you can do is iterate once, for each item in <code>listOfCourses</code>, setting each secondary index to the according column.</p>\n<p>I changed <code>i</code> to <code>row</code> for clarity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[][] data = new Object[listOfCourses.size()][5];\nfor (int row = 0; row &lt; listOfCourses.size(); row++) {\n    data[row][0] = yearInWord(listOfCourses.get(row).getYear());\n    data[row][1] = termInWord(listOfCourses.get(row).getTerm());\n    data[row][2] = listOfCourses.get(row).getCourseCode();\n    data[row][3] = listOfCourses.get(row).getCourseName();\n    data[row][4] = listOfCourses.get(row).getUnits();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9664937,"reputation":69,"user_id":7171710,"display_name":"Abned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684560887,"creation_date":1684560887,"answer_id":76293671,"question_id":76293415,"body_markdown":"I&#39;ve reproduce your code as I understood like this:\r\n```\r\npackage answer;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\nimport java.awt.event.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass MyAnswer extends JFrame {\r\n\r\n    public MyAnswer() {\r\n        super(&quot;Stackoverflow answer&quot;);\r\n        WindowListener l = new WindowAdapter() {\r\n            public void windowClosing(WindowEvent e) {\r\n                System.exit(0);\r\n            }\r\n        };\r\n\r\n        getContentPane()\r\n                .add(createTable());\r\n\r\n        addWindowListener(l);\r\n        setSize(800, 800);\r\n        setVisible(true);\r\n    }\r\n\r\n    public JTable createTable() {\r\n        final List&lt;Course&gt; listOfCourses = getCourses();\r\n        Object[][] data = new Object[listOfCourses.size()][5];\r\n        for (int i = 0; i &lt; listOfCourses.size(); i++) {\r\n            for (int j = 0; j &lt; 1; j++) {\r\n                data[i][j] = yearInWord(listOfCourses.get(i).getYear());\r\n                for (int k = 1; k &lt; 2; k++) {\r\n                    data[i][k] = termInWord(listOfCourses.get(i).getTerm());\r\n                    for (int l = 2; l &lt; 3; l++) {\r\n                        data[i][l] = listOfCourses.get(i).getCourseCode();\r\n                        for (int m = 3; m &lt; 4; m++) {\r\n                            data[i][m] = listOfCourses.get(i).getCourseName();\r\n                            for (int n = 4; n &lt; 5; n++) {\r\n                                data[i][n] = listOfCourses.get(i).getUnits();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        JTable myTable = new JTable(\r\n                new DefaultTableModel(data, new String[] { &quot;Year&quot;, &quot;Term&quot;, &quot;Course No.&quot;, &quot;Course Title&quot;, &quot;Units&quot; }));\r\n        myTable.setSize(700, 400);\r\n        return myTable;\r\n    }\r\n\r\n    private String yearInWord(int year) {\r\n        return year + &quot;&quot;;\r\n    }\r\n\r\n    private String termInWord(int term) {\r\n        return term + &quot;&quot;;\r\n    }\r\n\r\n    public List&lt;Course&gt; getCourses() {\r\n        final List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\r\n        courses.add(new Course(1, 1, &quot;CFE 101&quot;, &quot;GOD&#39;S JOURNEY WITH HIS PEOPLE&quot;, 3));\r\n        courses.add(new Course(1, 2, &quot;CFE 102&quot;, &quot;CHRISTIAN MORALITY IN OUR TIMES&quot;, 2));\r\n        courses.add(new Course(1, 3, &quot;CFE 102&quot;, &quot;CATHOLIC FOUNDATION OF MISSION&quot;, 1));\r\n        return courses;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new MyAnswer();\r\n    }\r\n}\r\n```\r\nAnd **Course** class is like this:\r\n```\r\npackage answer;\r\n\r\npublic class Course {\r\n    private final int year;\r\n    private final int term;\r\n    private final String courseCode;\r\n    private final String courseName;\r\n    private final int units;\r\n\r\n    public Course(int year, int term, String courseCode, String courseName, int units) {\r\n        this.year = year;\r\n        this.term = term;\r\n        this.courseCode = courseCode;\r\n        this.courseName = courseName;\r\n        this.units = units;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public int getTerm() {\r\n        return term;\r\n    }\r\n\r\n    public String getCourseCode() {\r\n        return courseCode;\r\n    }\r\n\r\n    public String getCourseName() {\r\n        return courseName;\r\n    }\r\n\r\n    public int getUnits() {\r\n        return units;\r\n    }\r\n    \r\n    public Object[] getDefaultModel() {\r\n        return new String[] {\r\n            this.year + &quot;&quot;,\r\n            this.term + &quot;&quot;,\r\n            this.courseCode,\r\n            this.courseCode,\r\n            this.units + &quot;&quot;\r\n        };\r\n    }\r\n}\r\n```\r\nSo, I&#39;ve the result as expected:\r\n[![my answer screenshoot][1]][1]\r\n\r\nTo debug your code, please let us know all your code. How you read the file? How your course class look like? Can you upload your file content?\r\n\r\nAnyway, your code need to be refactored. All nested loop is not necessary because your loop step is always 1. Then, your code should be like:\r\n```\r\nObject[][] data = new Object[listOfCourses.size()][5];\r\nfor (int row = 0; row &lt; data.length; row++) {\r\n    data[row][0] = yearInWord(listOfCourses.get(row).getYear());\r\n    data[row][1] = termInWord(listOfCourses.get(row).getTerm());\r\n    data[row][2] = listOfCourses.get(row).getCourseCode();\r\n    data[row][3] = listOfCourses.get(row).getCourseName();\r\n    data[row][4] = listOfCourses.get(row).getUnits();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cGPd9.png","title":"Array won&#39;t appear in JTable","body":"<p>I've reproduce your code as I understood like this:</p>\n<pre><code>package answer;\n\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\n\nimport java.awt.event.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\nclass MyAnswer extends JFrame {\n\n    public MyAnswer() {\n        super(&quot;Stackoverflow answer&quot;);\n        WindowListener l = new WindowAdapter() {\n            public void windowClosing(WindowEvent e) {\n                System.exit(0);\n            }\n        };\n\n        getContentPane()\n                .add(createTable());\n\n        addWindowListener(l);\n        setSize(800, 800);\n        setVisible(true);\n    }\n\n    public JTable createTable() {\n        final List&lt;Course&gt; listOfCourses = getCourses();\n        Object[][] data = new Object[listOfCourses.size()][5];\n        for (int i = 0; i &lt; listOfCourses.size(); i++) {\n            for (int j = 0; j &lt; 1; j++) {\n                data[i][j] = yearInWord(listOfCourses.get(i).getYear());\n                for (int k = 1; k &lt; 2; k++) {\n                    data[i][k] = termInWord(listOfCourses.get(i).getTerm());\n                    for (int l = 2; l &lt; 3; l++) {\n                        data[i][l] = listOfCourses.get(i).getCourseCode();\n                        for (int m = 3; m &lt; 4; m++) {\n                            data[i][m] = listOfCourses.get(i).getCourseName();\n                            for (int n = 4; n &lt; 5; n++) {\n                                data[i][n] = listOfCourses.get(i).getUnits();\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        JTable myTable = new JTable(\n                new DefaultTableModel(data, new String[] { &quot;Year&quot;, &quot;Term&quot;, &quot;Course No.&quot;, &quot;Course Title&quot;, &quot;Units&quot; }));\n        myTable.setSize(700, 400);\n        return myTable;\n    }\n\n    private String yearInWord(int year) {\n        return year + &quot;&quot;;\n    }\n\n    private String termInWord(int term) {\n        return term + &quot;&quot;;\n    }\n\n    public List&lt;Course&gt; getCourses() {\n        final List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\n        courses.add(new Course(1, 1, &quot;CFE 101&quot;, &quot;GOD'S JOURNEY WITH HIS PEOPLE&quot;, 3));\n        courses.add(new Course(1, 2, &quot;CFE 102&quot;, &quot;CHRISTIAN MORALITY IN OUR TIMES&quot;, 2));\n        courses.add(new Course(1, 3, &quot;CFE 102&quot;, &quot;CATHOLIC FOUNDATION OF MISSION&quot;, 1));\n        return courses;\n    }\n\n    public static void main(String[] args) {\n        new MyAnswer();\n    }\n}\n</code></pre>\n<p>And <strong>Course</strong> class is like this:</p>\n<pre><code>package answer;\n\npublic class Course {\n    private final int year;\n    private final int term;\n    private final String courseCode;\n    private final String courseName;\n    private final int units;\n\n    public Course(int year, int term, String courseCode, String courseName, int units) {\n        this.year = year;\n        this.term = term;\n        this.courseCode = courseCode;\n        this.courseName = courseName;\n        this.units = units;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public int getTerm() {\n        return term;\n    }\n\n    public String getCourseCode() {\n        return courseCode;\n    }\n\n    public String getCourseName() {\n        return courseName;\n    }\n\n    public int getUnits() {\n        return units;\n    }\n    \n    public Object[] getDefaultModel() {\n        return new String[] {\n            this.year + &quot;&quot;,\n            this.term + &quot;&quot;,\n            this.courseCode,\n            this.courseCode,\n            this.units + &quot;&quot;\n        };\n    }\n}\n</code></pre>\n<p>So, I've the result as expected:\n<a href=\"https://i.stack.imgur.com/cGPd9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cGPd9.png\" alt=\"my answer screenshoot\" /></a></p>\n<p>To debug your code, please let us know all your code. How you read the file? How your course class look like? Can you upload your file content?</p>\n<p>Anyway, your code need to be refactored. All nested loop is not necessary because your loop step is always 1. Then, your code should be like:</p>\n<pre><code>Object[][] data = new Object[listOfCourses.size()][5];\nfor (int row = 0; row &lt; data.length; row++) {\n    data[row][0] = yearInWord(listOfCourses.get(row).getYear());\n    data[row][1] = termInWord(listOfCourses.get(row).getTerm());\n    data[row][2] = listOfCourses.get(row).getCourseCode();\n    data[row][3] = listOfCourses.get(row).getCourseName();\n    data[row][4] = listOfCourses.get(row).getUnits();\n}\n</code></pre>\n"}],"owner":{"account_id":28640020,"reputation":1,"user_id":21929324,"display_name":"Sheryn C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684590150,"creation_date":1684553763,"question_id":76293415,"body_markdown":"Using IntelliJ IDEA, I used the Swing UI Designer to design a program that would display student information through a table. The problem is that the data won&#39;t appear on my JTable. What I did was first read the information from a file to an ArrayList and then to make it appear on the JTable I put all the information from the ArrayList to a multidimensional array. I tried testing it on a separate program and the elements are there. It just won&#39;t appear on my JTable for this program.\r\n\r\n```java\r\nObject[][] data = new Object[listOfCourses.size()][5];\r\nfor (int i = 0; i &lt; listOfCourses.size(); i++) {\r\n    for (int j = 0; j &lt; 1; j++) {\r\n        data[i][j] = yearInWord(listOfCourses.get(i).getYear());\r\n        for (int k = 1; k &lt; 2; k++) {\r\n            data[i][k] = termInWord(listOfCourses.get(i).getTerm());\r\n            for (int l = 2; l &lt; 3; l++) {\r\n                data[i][l] = listOfCourses.get(i).getCourseCode();\r\n                for (int m = 3; m &lt; 4; m++) {\r\n                    data[i][m] = listOfCourses.get(i).getCourseName();\r\n                    for (int n = 4; n &lt; 5; n++) {\r\n                        data[i][n] = listOfCourses.get(i).getUnits();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\ncourseTable.setModel(new DefaultTableModel(data, new String[]{&quot;Year&quot;, &quot;Term&quot;, &quot;Course No.&quot;, &quot;Course Title&quot;, &quot;Units&quot;}));\r\n```\r\n\r\nI have tried checking if the elements of the array are read by using println in another program. So the elements are in the array but they just won&#39;t appear in my JTable. I have also tried manually making an array such as \r\n\r\n```java\r\nObject[][] trial = {\r\n    { yearInWord(1), termInWord(1), &quot;CFE 101&quot;, &quot;GOD&#39;S JOURNEY WITH HIS PEOPLE&quot;, 3 },\r\n    { yearInWord(1), termInWord(2), &quot;CFE 102&quot;, &quot;CHRISTIAN MORALITY IN OUR TIMES&quot;, 2 },\r\n    { yearInWord(1), termInWord(3), &quot;CFE 103&quot;, &quot;CATHOLIC FOUNDATION OF MISSION&quot;, 1 }\r\n};\r\n```\r\n\r\nand then replacing data with trial in the setModel line of code then it was able to show the contents of the trial array. Since there are many Courses in my listOfCourses, I can&#39;t just manually encode each of them. ","title":"Array won&#39;t appear in JTable","body":"<p>Using IntelliJ IDEA, I used the Swing UI Designer to design a program that would display student information through a table. The problem is that the data won't appear on my JTable. What I did was first read the information from a file to an ArrayList and then to make it appear on the JTable I put all the information from the ArrayList to a multidimensional array. I tried testing it on a separate program and the elements are there. It just won't appear on my JTable for this program.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[][] data = new Object[listOfCourses.size()][5];\nfor (int i = 0; i &lt; listOfCourses.size(); i++) {\n    for (int j = 0; j &lt; 1; j++) {\n        data[i][j] = yearInWord(listOfCourses.get(i).getYear());\n        for (int k = 1; k &lt; 2; k++) {\n            data[i][k] = termInWord(listOfCourses.get(i).getTerm());\n            for (int l = 2; l &lt; 3; l++) {\n                data[i][l] = listOfCourses.get(i).getCourseCode();\n                for (int m = 3; m &lt; 4; m++) {\n                    data[i][m] = listOfCourses.get(i).getCourseName();\n                    for (int n = 4; n &lt; 5; n++) {\n                        data[i][n] = listOfCourses.get(i).getUnits();\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>courseTable.setModel(new DefaultTableModel(data, new String[]{&quot;Year&quot;, &quot;Term&quot;, &quot;Course No.&quot;, &quot;Course Title&quot;, &quot;Units&quot;}));\n</code></pre>\n<p>I have tried checking if the elements of the array are read by using println in another program. So the elements are in the array but they just won't appear in my JTable. I have also tried manually making an array such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[][] trial = {\n    { yearInWord(1), termInWord(1), &quot;CFE 101&quot;, &quot;GOD'S JOURNEY WITH HIS PEOPLE&quot;, 3 },\n    { yearInWord(1), termInWord(2), &quot;CFE 102&quot;, &quot;CHRISTIAN MORALITY IN OUR TIMES&quot;, 2 },\n    { yearInWord(1), termInWord(3), &quot;CFE 103&quot;, &quot;CATHOLIC FOUNDATION OF MISSION&quot;, 1 }\n};\n</code></pre>\n<p>and then replacing data with trial in the setModel line of code then it was able to show the contents of the trial array. Since there are many Courses in my listOfCourses, I can't just manually encode each of them.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1474018533,"post_id":39528162,"comment_id":66371048,"body_markdown":"You need to compile all classes on the classpath with the `-cp` argument to `javac`","body":"You need to compile all classes on the classpath with the <code>-cp</code> argument to <code>javac</code>"}],"answers":[{"tags":[],"owner":{"account_id":973980,"reputation":53285,"user_id":995862,"accept_rate":89,"display_name":"Kurt Peek"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1474018700,"creation_date":1474018700,"answer_id":39528241,"question_id":39528162,"body_markdown":"Following the examples on http://algs4.cs.princeton.edu/code/, I appended `-algs4` to both the `javac` and `java` commands. Now it seems to work:\r\n\r\n    kurt@kurt-ThinkPad:~/algs4/PercolationTest$ javac-algs4 PercolationTest.java\r\n    kurt@kurt-ThinkPad:~/algs4/PercolationTest$ java-algs4 PercolationTest\r\n    Hello, world!\r\n\r\n","title":"In Coursera Algorithms I course, &quot;error: package edu.princeton.cs.algs4 does not exist&quot;","body":"<p>Following the examples on <a href=\"http://algs4.cs.princeton.edu/code/\" rel=\"noreferrer\">http://algs4.cs.princeton.edu/code/</a>, I appended <code>-algs4</code> to both the <code>javac</code> and <code>java</code> commands. Now it seems to work:</p>\n\n<pre><code>kurt@kurt-ThinkPad:~/algs4/PercolationTest$ javac-algs4 PercolationTest.java\nkurt@kurt-ThinkPad:~/algs4/PercolationTest$ java-algs4 PercolationTest\nHello, world!\n</code></pre>\n"}],"owner":{"account_id":973980,"reputation":53285,"user_id":995862,"accept_rate":89,"display_name":"Kurt Peek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12022,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39528241,"answer_count":1,"score":1,"last_activity_date":1684589693,"creation_date":1474018473,"question_id":39528162,"body_markdown":"I&#39;m trying to complete the first assignment of the Coursera course [Algorithms I][1]. As I&#39;m using Linux, I followed the instructions on http://algs4.cs.princeton.edu/linux/ and created a `~/algs4` directory. The test programs seem to work; for example, the command\r\n\r\n    kurt@kurt-ThinkPad:~$ java-algs4 edu.princeton.cs.algs4.StdDraw\r\n\r\ngenerates the image below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNext, I&#39;m trying to run a test program in a subdirectory of `~/algs4`:\r\n\r\n    import edu.princeton.cs.algs4.In;\r\n    import edu.princeton.cs.algs4.StdDraw;\r\n    \r\n    public class PercolationTest {\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, world!&quot;);\r\n      }\r\n    }\r\n\r\nHowever, if I try to compile this I get the following errors:\r\n\r\n    kurt@kurt-ThinkPad:~/algs4/PercolationTest$ javac PercolationTest.java\r\n    PercolationTest.java:3: error: package edu.princeton.cs.algs4 does not exist\r\n    import edu.princeton.cs.algs4.In;\r\n                                 ^\r\n    PercolationTest.java:4: error: package edu.princeton.cs.algs4 does not exist\r\n    import edu.princeton.cs.algs4.StdDraw;\r\n                                 ^\r\n    2 errors\r\n\r\nThis way of importing does seem consistent with what is explained on http://algs4.cs.princeton.edu/code/, so I&#39;m having trouble seeing what I did wrong. Any ideas?\r\n\r\n  [1]: https://www.coursera.org/learn/introduction-to-algorithms\r\n  [2]: http://i.stack.imgur.com/6qUUR.png","title":"In Coursera Algorithms I course, &quot;error: package edu.princeton.cs.algs4 does not exist&quot;","body":"<p>I'm trying to complete the first assignment of the Coursera course <a href=\"https://www.coursera.org/learn/introduction-to-algorithms\" rel=\"nofollow noreferrer\">Algorithms I</a>. As I'm using Linux, I followed the instructions on <a href=\"http://algs4.cs.princeton.edu/linux/\" rel=\"nofollow noreferrer\">http://algs4.cs.princeton.edu/linux/</a> and created a <code>~/algs4</code> directory. The test programs seem to work; for example, the command</p>\n\n<pre><code>kurt@kurt-ThinkPad:~$ java-algs4 edu.princeton.cs.algs4.StdDraw\n</code></pre>\n\n<p>generates the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6qUUR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6qUUR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Next, I'm trying to run a test program in a subdirectory of <code>~/algs4</code>:</p>\n\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdDraw;\n\npublic class PercolationTest {\n  public static void main(String[] args) {\n    System.out.println(\"Hello, world!\");\n  }\n}\n</code></pre>\n\n<p>However, if I try to compile this I get the following errors:</p>\n\n<pre><code>kurt@kurt-ThinkPad:~/algs4/PercolationTest$ javac PercolationTest.java\nPercolationTest.java:3: error: package edu.princeton.cs.algs4 does not exist\nimport edu.princeton.cs.algs4.In;\n                             ^\nPercolationTest.java:4: error: package edu.princeton.cs.algs4 does not exist\nimport edu.princeton.cs.algs4.StdDraw;\n                             ^\n2 errors\n</code></pre>\n\n<p>This way of importing does seem consistent with what is explained on <a href=\"http://algs4.cs.princeton.edu/code/\" rel=\"nofollow noreferrer\">http://algs4.cs.princeton.edu/code/</a>, so I'm having trouble seeing what I did wrong. Any ideas?</p>\n"},{"tags":["python","java","multithreading","fastapi","project-loom"],"answers":[{"tags":[],"owner":{"account_id":1695637,"reputation":4441,"user_id":1557060,"accept_rate":100,"display_name":"JarroVGIT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658172604,"creation_date":1658172604,"answer_id":73027651,"question_id":73026698,"body_markdown":"FastAPI is a fast framework, and you can quickly (and easily) create API backends in it. To be honest, if you are a Java developer, I would recommend Quarkus or something for building a REST API, not FastAPI. FastAPI is a fantastic tool, absolutely great if you are already in the Python ecosystem. \r\n\r\nWhen it goes about multithreading; Java is &#39;real&#39; multithreading where as Python is very much not. Java threads will run concurrently; two tasks can and will be executed at the same time. In Python, within one Python process, this is (nearly) impossible. The reason for this is GIL (google it, there is ton&#39;s of stuff out there on how it works). The result is; even if you use &#39;real&#39; threads in Python, code is still not executed concurrently but rather serially, where the interpreter (big difference to Java) is jumping from one call stack to another constantly. \r\n\r\nAs to what you refer to as &#39;logical threads&#39;, I think you mean the asynchronous capability of Python. This is basically the same as using threads (not really, but on an abstract level they are very similar); tasks are not run concurrently. There is just one thread that constantly switches between tasks. Tasks will yield back control to the event loop (the object that coordinates tasks and decides what is executed in which order), and another task is further executed until that task yields control, etc. It is basically the same kind of execution pattern as with threads within Python.\r\n\r\nComparing a Python framework to a Java framework is just weird in my opinion. They are both useful and cool, but not really competitors. ","title":"Java&#39;s Spring Boot vs Python&#39;s FastApi: Threads","body":"<p>FastAPI is a fast framework, and you can quickly (and easily) create API backends in it. To be honest, if you are a Java developer, I would recommend Quarkus or something for building a REST API, not FastAPI. FastAPI is a fantastic tool, absolutely great if you are already in the Python ecosystem.</p>\n<p>When it goes about multithreading; Java is 'real' multithreading where as Python is very much not. Java threads will run concurrently; two tasks can and will be executed at the same time. In Python, within one Python process, this is (nearly) impossible. The reason for this is GIL (google it, there is ton's of stuff out there on how it works). The result is; even if you use 'real' threads in Python, code is still not executed concurrently but rather serially, where the interpreter (big difference to Java) is jumping from one call stack to another constantly.</p>\n<p>As to what you refer to as 'logical threads', I think you mean the asynchronous capability of Python. This is basically the same as using threads (not really, but on an abstract level they are very similar); tasks are not run concurrently. There is just one thread that constantly switches between tasks. Tasks will yield back control to the event loop (the object that coordinates tasks and decides what is executed in which order), and another task is further executed until that task yields control, etc. It is basically the same kind of execution pattern as with threads within Python.</p>\n<p>Comparing a Python framework to a Java framework is just weird in my opinion. They are both useful and cool, but not really competitors.</p>\n"},{"tags":[],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659299086,"creation_date":1659298663,"answer_id":73186628,"question_id":73026698,"body_markdown":"The issues with Java threads in the question are addressed by the project Loom, which is planned for inclusion in a future Jdk. It is very well explained here https://www.baeldung.com/openjdk-project-loom :\r\n\r\n&gt; Presently, Java relies on OS implementations for both the continuation [of threads] and the scheduler [for threads].\r\n&gt;\r\n&gt; Now, in order to suspend a continuation, it&#39;s required to store the entire call-stack. And similarly, retrieve the call-stack on resumption. Since the OS implementation of continuations includes the native call stack along with Java&#39;s call stack, it results in a heavy footprint.\r\n&gt;\r\n&gt;A bigger problem, though, is the use of OS scheduler. Since the scheduler runs in kernel mode, there&#39;s no differentiation between threads. And it treats every CPU request in the same manner. (...)\r\n&gt;For example, consider an application thread which performs some action on the requests and then passes on the data to another thread for further processing. Here, it would be better to schedule both these threads on the same CPU. But since the [OS] scheduler is agnostic to the thread requesting the CPU, this is impossible to guarantee.\r\n\r\nThe question really boils down to https://stackoverflow.com/q/9964899/838494 ","title":"Java&#39;s Spring Boot vs Python&#39;s FastApi: Threads","body":"<p>The issues with Java threads in the question are addressed by the project Loom, which is planned for inclusion in a future Jdk. It is very well explained here <a href=\"https://www.baeldung.com/openjdk-project-loom\" rel=\"noreferrer\">https://www.baeldung.com/openjdk-project-loom</a> :</p>\n<blockquote>\n<p>Presently, Java relies on OS implementations for both the continuation [of threads] and the scheduler [for threads].</p>\n<p>Now, in order to suspend a continuation, it's required to store the entire call-stack. And similarly, retrieve the call-stack on resumption. Since the OS implementation of continuations includes the native call stack along with Java's call stack, it results in a heavy footprint.</p>\n<p>A bigger problem, though, is the use of OS scheduler. Since the scheduler runs in kernel mode, there's no differentiation between threads. And it treats every CPU request in the same manner. (...)\nFor example, consider an application thread which performs some action on the requests and then passes on the data to another thread for further processing. Here, it would be better to schedule both these threads on the same CPU. But since the [OS] scheduler is agnostic to the thread requesting the CPU, this is impossible to guarantee.</p>\n</blockquote>\n<p>The question really boils down to <a href=\"https://stackoverflow.com/q/9964899/838494\">Why are OS threads considered expensive?</a></p>\n"},{"tags":[],"owner":{"account_id":19888427,"reputation":337,"user_id":14570999,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660778631,"creation_date":1660778631,"answer_id":73395887,"question_id":73026698,"body_markdown":"It very much depends on what your threads are doing.\r\nImagine that your request is calling some external endpoint. Most of the time your java thread (which is heavy) is just doing nothing.\r\nIs it a problem? Depends. In java ecosystem threads are not created on the fly, that problem is solved in any decent framework with threadpools.\r\n\r\nBut still thread stack size occupies memory. If you would have 1000 threads (or 1000 concurent requests) in a thread pool waiting for IO operation your memory might go beyond 1GB easily.\r\n\r\nFor such particular scenario some async / await abstraction could utilise memory much better. Whether all task would be executed faster is a different story and depends on many factors.\r\n\r\nSo truly you need to go deeper, what scaling you are talking about? memory? or speed of execution of all operations (which usually also involve some cpu).\r\n\r\nNot neglectable pros of java is that requests handled by threads can run in parallel and utilize many processors while in python this is simply **not** possible.\r\n\r\n\r\nFastAPI and their async await model is easy to use, cuts developer off from threading model and from thinking about concurrency. Unfortunately it also means smaller control in case this is needed.\r\n\r\nJust calling async method in python is not making any code execution faster. In the end under the hood there is one event loop that runs on one Cpu only.\r\n\r\nDepending on the usecase it&#39;s good enough and efficient or just the opposite.\r\n\r\nUsually people from Python ecosystem are hyped against heavy java and just use argument that it&#39;s faster / lighter without seeing other cons.\r\n\r\nHere also a link to tease you a bit with typical webapp performance comparison across few frameworks (in web / rest scenarios)\r\n\r\nhttps://www.travisluong.com/fastapi-vs-fastify-vs-spring-boot-vs-gin-benchmark/\r\n\r\n\r\n\r\n\r\n","title":"Java&#39;s Spring Boot vs Python&#39;s FastApi: Threads","body":"<p>It very much depends on what your threads are doing.\nImagine that your request is calling some external endpoint. Most of the time your java thread (which is heavy) is just doing nothing.\nIs it a problem? Depends. In java ecosystem threads are not created on the fly, that problem is solved in any decent framework with threadpools.</p>\n<p>But still thread stack size occupies memory. If you would have 1000 threads (or 1000 concurent requests) in a thread pool waiting for IO operation your memory might go beyond 1GB easily.</p>\n<p>For such particular scenario some async / await abstraction could utilise memory much better. Whether all task would be executed faster is a different story and depends on many factors.</p>\n<p>So truly you need to go deeper, what scaling you are talking about? memory? or speed of execution of all operations (which usually also involve some cpu).</p>\n<p>Not neglectable pros of java is that requests handled by threads can run in parallel and utilize many processors while in python this is simply <strong>not</strong> possible.</p>\n<p>FastAPI and their async await model is easy to use, cuts developer off from threading model and from thinking about concurrency. Unfortunately it also means smaller control in case this is needed.</p>\n<p>Just calling async method in python is not making any code execution faster. In the end under the hood there is one event loop that runs on one Cpu only.</p>\n<p>Depending on the usecase it's good enough and efficient or just the opposite.</p>\n<p>Usually people from Python ecosystem are hyped against heavy java and just use argument that it's faster / lighter without seeing other cons.</p>\n<p>Here also a link to tease you a bit with typical webapp performance comparison across few frameworks (in web / rest scenarios)</p>\n<p><a href=\"https://www.travisluong.com/fastapi-vs-fastify-vs-spring-boot-vs-gin-benchmark/\" rel=\"nofollow noreferrer\">https://www.travisluong.com/fastapi-vs-fastify-vs-spring-boot-vs-gin-benchmark/</a></p>\n"}],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10725,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73186628,"answer_count":3,"score":2,"last_activity_date":1684589489,"creation_date":1658167385,"question_id":73026698,"body_markdown":"I&#39;m a Java Spring boot developer and I develop 3-tier crud applications. I talked to a guy who seemed knowledgeable on the subject, but I didn&#39;t get his contact details. He was advocating for Python&#39;s FastApi, because horizontally it scales better than Spring boot. One of the reasons he mentioned is that FastApi is single-threaded. When the thread encounters a database lookup (or other work the can be done asyncly), it picks up other work to later return to the current work when the database results have come in. In Java, when you have many requests pending, the thread pool may get exhausted.\r\n\r\nI don&#39;t understand this reasoning a 100%. Let me play the devil&#39;s advocate. When the Python program encounters an async call, it must somehow store the program pointer somewhere, to remember where it needs to continue later. I know that that place where the program pointer is stored is not at all a thread, but I have to give it some name, so let&#39;s call it a &quot;logical thread&quot;. In Python , you can have many logical threads that are waiting. In Java, you can have a thread pool with many real threads that are waiting. To me, the only difference seems to be that Java&#39;s threads are managed at the operating system level, whereas Python&#39;s &quot;logical threads&quot; are managed by Python or FastApi. Why are real threads that are waiting in a thread pool so much more expensive than logical threads that are waiting? If most of my threads are waiting, why can&#39;t I just increase the thread pool size to avoid exhaustion?","title":"Java&#39;s Spring Boot vs Python&#39;s FastApi: Threads","body":"<p>I'm a Java Spring boot developer and I develop 3-tier crud applications. I talked to a guy who seemed knowledgeable on the subject, but I didn't get his contact details. He was advocating for Python's FastApi, because horizontally it scales better than Spring boot. One of the reasons he mentioned is that FastApi is single-threaded. When the thread encounters a database lookup (or other work the can be done asyncly), it picks up other work to later return to the current work when the database results have come in. In Java, when you have many requests pending, the thread pool may get exhausted.</p>\n<p>I don't understand this reasoning a 100%. Let me play the devil's advocate. When the Python program encounters an async call, it must somehow store the program pointer somewhere, to remember where it needs to continue later. I know that that place where the program pointer is stored is not at all a thread, but I have to give it some name, so let's call it a &quot;logical thread&quot;. In Python , you can have many logical threads that are waiting. In Java, you can have a thread pool with many real threads that are waiting. To me, the only difference seems to be that Java's threads are managed at the operating system level, whereas Python's &quot;logical threads&quot; are managed by Python or FastApi. Why are real threads that are waiting in a thread pool so much more expensive than logical threads that are waiting? If most of my threads are waiting, why can't I just increase the thread pool size to avoid exhaustion?</p>\n"},{"tags":["java","rest","web-services","response"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1684071340,"post_id":76245811,"comment_id":134459936,"body_markdown":"Create a new `class ContractResult { Contract contract; MappingJacksonValue mappingJacksonValue }`, then return that.","body":"Create a new <code>class ContractResult { Contract contract; MappingJacksonValue mappingJacksonValue }</code>, then return that."},{"owner":{"account_id":28554266,"reputation":57,"user_id":21858714,"display_name":"Xcape9797"},"score":1,"creation_date":1684071605,"post_id":76245811,"comment_id":134459963,"body_markdown":"Why not try to return them in a map(or array)?","body":"Why not try to return them in a map(or array)?"}],"owner":{"account_id":28199754,"reputation":1,"user_id":21553751,"display_name":"rakshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684598295,"answer_count":0,"score":0,"last_activity_date":1684589224,"creation_date":1684038621,"question_id":76245811,"body_markdown":"below i mentioned is  my Restcontroller class \r\n i want to return a multiple object , how to do?\r\n```\r\n// Saving the Data\r\n    @PostMapping(&quot;/buyContractRequest&quot;)\r\n    public ResponseEntity&lt;Contract&gt; saveOneContract(@RequestBody Contract contract) {\r\n\r\n        try {\r\n            contract.setOrderId(UUID.randomUUID().toString());\r\n            Date date = new Date();\r\n            contract.setTimestamp(date);\r\n            Contract save = contractService.saveOne(contract);\r\n    \r\n              MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(save);\r\n\r\n             SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.filterOutAllExcept\r\n                                               (&quot;buyerId&quot;,&quot;timestamp&quot;,&quot;category&quot;,&quot;orderId&quot;);\r\n            FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;ContractFilter&quot;,filter);\r\n            mappingJacksonValue.setFilters(filters);\r\n\r\n            return ResponseEntity.of(Optional.of(save,mappingJacksonValue));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n```\r\nin above example i am trying to return mappingJacksonValue and save also multiple i want to return ","title":"how to return a multiple objects","body":"<p>below i mentioned is  my Restcontroller class\ni want to return a multiple object , how to do?</p>\n<pre><code>// Saving the Data\n    @PostMapping(&quot;/buyContractRequest&quot;)\n    public ResponseEntity&lt;Contract&gt; saveOneContract(@RequestBody Contract contract) {\n\n        try {\n            contract.setOrderId(UUID.randomUUID().toString());\n            Date date = new Date();\n            contract.setTimestamp(date);\n            Contract save = contractService.saveOne(contract);\n    \n              MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(save);\n\n             SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.filterOutAllExcept\n                                               (&quot;buyerId&quot;,&quot;timestamp&quot;,&quot;category&quot;,&quot;orderId&quot;);\n            FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;ContractFilter&quot;,filter);\n            mappingJacksonValue.setFilters(filters);\n\n            return ResponseEntity.of(Optional.of(save,mappingJacksonValue));\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n</code></pre>\n<p>in above example i am trying to return mappingJacksonValue and save also multiple i want to return</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1587736503,"post_id":61405182,"comment_id":108634383,"body_markdown":"Try using the [ReactiveSecurityContextHolder](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/ReactiveSecurityContextHolder.html)","body":"Try using the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/ReactiveSecurityContextHolder.html\" rel=\"nofollow noreferrer\">ReactiveSecurityContextHolder</a>"},{"owner":{"account_id":3963245,"reputation":618,"user_id":3269869,"accept_rate":80,"display_name":"VostanAzatyan"},"score":0,"creation_date":1587740623,"post_id":61405182,"comment_id":108636862,"body_markdown":"Hi, @EleftheriaStein-Kousathana, Thanks for your response, actually I tried that in the first place however if you check the ServletBearerExchangeFilterFunction implementation you will see that it uses exactly ReactiveSecurityContextHolder. And it is still empty.","body":"Hi, @EleftheriaStein-Kousathana, Thanks for your response, actually I tried that in the first place however if you check the ServletBearerExchangeFilterFunction implementation you will see that it uses exactly ReactiveSecurityContextHolder. And it is still empty."},{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1588007261,"post_id":61405182,"comment_id":108728106,"body_markdown":"`@AuthenticationPrincipal` uses the `ReactiveSecurityContextHolder`, and my understanding is that that is working as expected. It may be helpful to take a look at this [github issue](https://github.com/spring-projects/spring-security/issues/5207). If you are able to reproduce this behaviour in a minimal sample, then I could help with debugging.","body":"<code>@AuthenticationPrincipal</code> uses the <code>ReactiveSecurityContextHolder</code>, and my understanding is that that is working as expected. It may be helpful to take a look at this <a href=\"https://github.com/spring-projects/spring-security/issues/5207\" rel=\"nofollow noreferrer\">github issue</a>. If you are able to reproduce this behaviour in a minimal sample, then I could help with debugging."},{"owner":{"account_id":3963245,"reputation":618,"user_id":3269869,"accept_rate":80,"display_name":"VostanAzatyan"},"score":0,"creation_date":1588010907,"post_id":61405182,"comment_id":108730058,"body_markdown":"@EleftheriaStein-Kousathana, So now I know the &quot;issue&quot; if I can call it issue, \n\nI am configuring my Security in above-mentioned way. \n```\n.oauth2ResourceServer()\n .jwt(); \n```\nSo the problem here is that Spring-Security assumes that you are going stateless when you are a ResourceServer and they use UNconfigurable NoOpServerSecurityContextRepository which is just Mono.empty(). What is for me interesting if I can somehow still keep using same setup and get a benefit of `ServletBearerExchangeFilterFunction`.","body":"@EleftheriaStein-Kousathana, So now I know the &quot;issue&quot; if I can call it issue,   I am configuring my Security in above-mentioned way.  ``` .oauth2ResourceServer()  .jwt();  ``` So the problem here is that Spring-Security assumes that you are going stateless when you are a ResourceServer and they use UNconfigurable NoOpServerSecurityContextRepository which is just Mono.empty(). What is for me interesting if I can somehow still keep using same setup and get a benefit of <code>ServletBearerExchangeFilterFunction</code>."}],"answers":[{"tags":[],"owner":{"account_id":21441031,"reputation":11,"user_id":15795585,"display_name":"Michalis Marolachakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684588593,"creation_date":1684588562,"answer_id":76295427,"question_id":61405182,"body_markdown":"You have to use the ReactiveSecurityContextHolder and chain it to the response of your Rest controller.\r\n\r\nYour RestController needs to return a Mono or Flux for that as well.\r\n\r\ne.g.\r\n\r\n    return ReactiveSecurityContextHolder.getContext()\r\n        .map { securityContext -&gt; securityContext.authentication }\r\n        .map { authentication -&gt; authentication.principal }","title":"WebFluxSecurity does not add Authentication to SecurityContext","body":"<p>You have to use the ReactiveSecurityContextHolder and chain it to the response of your Rest controller.</p>\n<p>Your RestController needs to return a Mono or Flux for that as well.</p>\n<p>e.g.</p>\n<pre><code>return ReactiveSecurityContextHolder.getContext()\n    .map { securityContext -&gt; securityContext.authentication }\n    .map { authentication -&gt; authentication.principal }\n</code></pre>\n"}],"owner":{"account_id":3963245,"reputation":618,"user_id":3269869,"accept_rate":80,"display_name":"VostanAzatyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1684588593,"creation_date":1587720508,"question_id":61405182,"body_markdown":"I have this strange issue with Spring Cloud Security with the reactive stack. I setup Spring Cloud Gateway and at the same time, I made it be a RsourceServer so all incoming requests will have JWT granted from Firebase in this case. Here are some snapshots from my configuration.\r\n\r\n`application.yml` Set JWK and Issuer, to tell spring security how JWT&#39;s should be validated.\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: https://www.googleapis.com/service_accounts/v1/jwk/securetoken@system.gserviceaccount.com\r\n          issuer-uri: https://securetoken.google.com/${project_name}\r\n```\r\n\r\n`SecurityConfig`\r\n\r\n\r\n```\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfig {\r\n    \r\n      @Bean\r\n      public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        // @formatter:off\r\n        http\r\n            .csrf().disable()\r\n            .authorizeExchange()\r\n            .pathMatchers(&quot;/public&quot;).permitAll()\r\n            .anyExchange().authenticated().and()\r\n            .oauth2ResourceServer()\r\n            .jwt();\r\n        return http.build();\r\n        // @formatter:on\r\n      }\r\n    }\r\n```\r\n\r\nand finally the controller\r\n\r\n`TestController` just for test purposes I created Controller to check if security context is set or not.\r\n\r\n```\r\n@RestController\r\n@Slf4j\r\npublic class TestController {\r\n\r\n  @GetMapping(&quot;/public&quot;)\r\n  public String getPublic() {\r\n    if (SecurityContextHolder.getContext().getAuthentication() != null) {\r\n      throw new IllegalStateException(&quot;Public API should not have any AuthContext&quot;);\r\n    }\r\n\r\n    return &quot;All shiny you got your PUBLIC data!&quot;;\r\n  }\r\n\r\n  @GetMapping(&quot;/private&quot;)\r\n  public String getPrivate(@AuthenticationPrincipal Jwt jwt) {\r\n    log.info(jwt.getTokenValue());    //in here jwt present as should be\r\n    if (SecurityContextHolder.getContext().getAuthentication() == null) {\r\n      throw new IllegalStateException(&quot;Oops.... Private API should have AuthContext&quot;);\r\n    }\r\n\r\n    return &quot;All shiny you got your PRIVATE data!&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nSo I am super frustrated and hope someone can help me out here. according to all Spring Security docs, I dug into it seems to me that I should have my security context saved when JWT is valid.\r\n\r\nThe main purpose is to be able to use `ServletBearerExchangeFilterFunction` Which tries to get Authentication and token out of it and pass it downstream to other services in WebClient.\r\nHowever, it is NULL. \r\n\r\n[Bearer Token Propagation][1] here it is clearly written that SecurityContext should be valid at that point already.\r\n\r\nAny suggestions would be appreciated a lot.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#bearer-token-propagation","title":"WebFluxSecurity does not add Authentication to SecurityContext","body":"<p>I have this strange issue with Spring Cloud Security with the reactive stack. I setup Spring Cloud Gateway and at the same time, I made it be a RsourceServer so all incoming requests will have JWT granted from Firebase in this case. Here are some snapshots from my configuration.</p>\n\n<p><code>application.yml</code> Set JWK and Issuer, to tell spring security how JWT's should be validated.</p>\n\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: https://www.googleapis.com/service_accounts/v1/jwk/securetoken@system.gserviceaccount.com\n          issuer-uri: https://securetoken.google.com/${project_name}\n</code></pre>\n\n<p><code>SecurityConfig</code></p>\n\n<pre><code>    @EnableWebFluxSecurity\n    public class SecurityConfig {\n\n      @Bean\n      public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        // @formatter:off\n        http\n            .csrf().disable()\n            .authorizeExchange()\n            .pathMatchers(\"/public\").permitAll()\n            .anyExchange().authenticated().and()\n            .oauth2ResourceServer()\n            .jwt();\n        return http.build();\n        // @formatter:on\n      }\n    }\n</code></pre>\n\n<p>and finally the controller</p>\n\n<p><code>TestController</code> just for test purposes I created Controller to check if security context is set or not.</p>\n\n<pre><code>@RestController\n@Slf4j\npublic class TestController {\n\n  @GetMapping(\"/public\")\n  public String getPublic() {\n    if (SecurityContextHolder.getContext().getAuthentication() != null) {\n      throw new IllegalStateException(\"Public API should not have any AuthContext\");\n    }\n\n    return \"All shiny you got your PUBLIC data!\";\n  }\n\n  @GetMapping(\"/private\")\n  public String getPrivate(@AuthenticationPrincipal Jwt jwt) {\n    log.info(jwt.getTokenValue());    //in here jwt present as should be\n    if (SecurityContextHolder.getContext().getAuthentication() == null) {\n      throw new IllegalStateException(\"Oops.... Private API should have AuthContext\");\n    }\n\n    return \"All shiny you got your PRIVATE data!\";\n  }\n\n}\n</code></pre>\n\n<p>So I am super frustrated and hope someone can help me out here. according to all Spring Security docs, I dug into it seems to me that I should have my security context saved when JWT is valid.</p>\n\n<p>The main purpose is to be able to use <code>ServletBearerExchangeFilterFunction</code> Which tries to get Authentication and token out of it and pass it downstream to other services in WebClient.\nHowever, it is NULL. </p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#bearer-token-propagation\" rel=\"noreferrer\">Bearer Token Propagation</a> here it is clearly written that SecurityContext should be valid at that point already.</p>\n\n<p>Any suggestions would be appreciated a lot.</p>\n"},{"tags":["java","minecraft","porting","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684587898,"creation_date":1684523898,"answer_id":76291906,"question_id":76291771,"body_markdown":"The only method you are calling with 3 arguments is:\r\n\r\n    structurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\r\n\r\nSo, it looks like the method `getStructureAt` has changed.\r\n\r\nAnd when reading this: https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.18.2/net/minecraft/world/level/StructureFeatureManager.html\r\n\r\nThe **new** `getStructureAt` is:\r\n\r\n    StructureStart getStructureAt(BlockPos p_207786_, ConfiguredStructureFeature&lt;?,?&gt; p_207787_)\r\n\r\n(no more second boolean argument)\r\n\r\nSo, you need to change the call :\r\n\r\n\r\n    //from:\r\n    structurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\r\n    //to\r\n    structurePos = level.structureFeatureManager().getStructureAt(pos, structure);\r\n\r\nCheers!","title":"Porting a Minecraft MOD from 1.17.1 to 1.18.2 Structure Changes","body":"<p>The only method you are calling with 3 arguments is:</p>\n<pre><code>structurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\n</code></pre>\n<p>So, it looks like the method <code>getStructureAt</code> has changed.</p>\n<p>And when reading this: <a href=\"https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.18.2/net/minecraft/world/level/StructureFeatureManager.html\" rel=\"nofollow noreferrer\">https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.18.2/net/minecraft/world/level/StructureFeatureManager.html</a></p>\n<p>The <strong>new</strong> <code>getStructureAt</code> is:</p>\n<pre><code>StructureStart getStructureAt(BlockPos p_207786_, ConfiguredStructureFeature&lt;?,?&gt; p_207787_)\n</code></pre>\n<p>(no more second boolean argument)</p>\n<p>So, you need to change the call :</p>\n<pre><code>//from:\nstructurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\n//to\nstructurePos = level.structureFeatureManager().getStructureAt(pos, structure);\n</code></pre>\n<p>Cheers!</p>\n"}],"owner":{"account_id":21284018,"reputation":1,"user_id":15661988,"display_name":"arizona440"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684587898,"creation_date":1684522328,"question_id":76291771,"body_markdown":"As the title states I&#39;m trying to port a mod from 1.17.1 to 1.18.2. Haven&#39;t coded in a few years and I&#39;m currently stuck with this final issue.\r\n\r\n```java\r\nprivate boolean isTower(ServerLevel level, BlockPos pos) {\r\n  LOGGER.info(&quot;Checking for tower...&quot;);\r\n  StructureFeature&lt;?&gt; structure;\r\n  StructureStart structurePos;\r\n\r\n  for (String s : Arrays.asList(&quot;tower&quot;, &quot;ice_tower&quot;, &quot;jungle_tower&quot;, &quot;derelict_tower&quot;, &quot;derelict_grass_tower&quot;, &quot;ocean_tower&quot;, &quot;ocean_warm_tower&quot;)) {\r\n    structure = ForgeRegistries.STRUCTURE_FEATURES.getValue(ResourceLocation.tryParse(TOWERS_MODID + &quot;:&quot; + s));\r\n    if (structure == null) {\r\n      continue;\r\n  }\r\n  structurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\r\n  if (structurePos.isValid()) {\r\n    // Manhattan distance without Y coord\r\n    float f = (float) Math.abs(pos.getX() - structurePos.getLocatePos().getX());\r\n    float f1 = (float) Math.abs(pos.getZ() - structurePos.getLocatePos().getZ());\r\n    if (f + f1 &lt;= 30) {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe error being &quot;Expected 2 arguments but found 3&quot; because of the code below.\r\n\r\n```java\r\nstructurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\r\nif (structurePos.isValid()) {\r\n  // Manhattan distance without Y coord\r\n  float f = (float) Math.abs(pos.getX() - structurePos.getLocatePos().getX());\r\n  float f1 = (float) Math.abs(pos.getZ() - structurePos.getLocatePos().getZ());\r\n  if (f + f1 &lt;= 30) {\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\nHas anyone run into this or does anyone know what exactly to change in the code above in order to resolve the issue?\r\n\r\nI already looked into the changes between:\r\n\r\n* https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.17.1/net/minecraft/world/level/levelgen/structure/StructureStart.html\r\n* https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.18.2/net/minecraft/world/level/levelgen/structure/StructureStart.html\r\n\r\nbut I haven&#39;t been able to figure it out.\r\n","title":"Porting a Minecraft MOD from 1.17.1 to 1.18.2 Structure Changes","body":"<p>As the title states I'm trying to port a mod from 1.17.1 to 1.18.2. Haven't coded in a few years and I'm currently stuck with this final issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isTower(ServerLevel level, BlockPos pos) {\n  LOGGER.info(&quot;Checking for tower...&quot;);\n  StructureFeature&lt;?&gt; structure;\n  StructureStart structurePos;\n\n  for (String s : Arrays.asList(&quot;tower&quot;, &quot;ice_tower&quot;, &quot;jungle_tower&quot;, &quot;derelict_tower&quot;, &quot;derelict_grass_tower&quot;, &quot;ocean_tower&quot;, &quot;ocean_warm_tower&quot;)) {\n    structure = ForgeRegistries.STRUCTURE_FEATURES.getValue(ResourceLocation.tryParse(TOWERS_MODID + &quot;:&quot; + s));\n    if (structure == null) {\n      continue;\n  }\n  structurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\n  if (structurePos.isValid()) {\n    // Manhattan distance without Y coord\n    float f = (float) Math.abs(pos.getX() - structurePos.getLocatePos().getX());\n    float f1 = (float) Math.abs(pos.getZ() - structurePos.getLocatePos().getZ());\n    if (f + f1 &lt;= 30) {\n      return true;\n    }\n  }\n}\n</code></pre>\n<p>The error being &quot;Expected 2 arguments but found 3&quot; because of the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>structurePos = level.structureFeatureManager().getStructureAt(pos, false, structure);\nif (structurePos.isValid()) {\n  // Manhattan distance without Y coord\n  float f = (float) Math.abs(pos.getX() - structurePos.getLocatePos().getX());\n  float f1 = (float) Math.abs(pos.getZ() - structurePos.getLocatePos().getZ());\n  if (f + f1 &lt;= 30) {\n    return true;\n  }\n}\n</code></pre>\n<p>Has anyone run into this or does anyone know what exactly to change in the code above in order to resolve the issue?</p>\n<p>I already looked into the changes between:</p>\n<ul>\n<li><a href=\"https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.17.1/net/minecraft/world/level/levelgen/structure/StructureStart.html\" rel=\"nofollow noreferrer\">https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.17.1/net/minecraft/world/level/levelgen/structure/StructureStart.html</a></li>\n<li><a href=\"https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.18.2/net/minecraft/world/level/levelgen/structure/StructureStart.html\" rel=\"nofollow noreferrer\">https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.18.2/net/minecraft/world/level/levelgen/structure/StructureStart.html</a></li>\n</ul>\n<p>but I haven't been able to figure it out.</p>\n"},{"tags":["java","unit-testing","generics","mockito"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":4,"creation_date":1383068296,"post_id":19665273,"comment_id":29203724,"body_markdown":"Do you even need to mock it? Maybe you can just use a `HashMap`.","body":"Do you even need to mock it? Maybe you can just use a <code>HashMap</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":11,"creation_date":1383068373,"post_id":19665273,"comment_id":29203765,"body_markdown":"Don&#39;t mock it.  A map is a value object - I can&#39;t imagine any case where you&#39;d want to stub its logic.  Just use a real map.","body":"Don&#39;t mock it.  A map is a value object - I can&#39;t imagine any case where you&#39;d want to stub its logic.  Just use a real map."},{"owner":{"account_id":916395,"reputation":553,"user_id":949110,"accept_rate":89,"display_name":"user949110"},"score":0,"creation_date":1383069846,"post_id":19665273,"comment_id":29204579,"body_markdown":"yeah i could use a real map, no problem. was just curious if it could be done.","body":"yeah i could use a real map, no problem. was just curious if it could be done."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1383074585,"post_id":19665273,"comment_id":29207271,"body_markdown":"@DavidWallace You should make that an answer so the OP can accept it (and I can upvote it).","body":"@DavidWallace You should make that an answer so the OP can accept it (and I can upvote it)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1383074679,"post_id":19665273,"comment_id":29207321,"body_markdown":"Yeah, @user949110, it can probably be done.  There&#39;s no real point.","body":"Yeah, @user949110, it can probably be done.  There&#39;s no real point."},{"owner":{"account_id":916395,"reputation":553,"user_id":949110,"accept_rate":89,"display_name":"user949110"},"score":0,"creation_date":1383085229,"post_id":19665273,"comment_id":29212776,"body_markdown":"@DavidWallace ok, suppose I have a class which has this map as a field. and suppose there is no getter for the map or the getter doesn&#39;t serve a purpose because the class has some logic based on what the map has. And I need to mock that class in a test. in such a case you would need to mock the map as well, wouldn&#39;t you?","body":"@DavidWallace ok, suppose I have a class which has this map as a field. and suppose there is no getter for the map or the getter doesn&#39;t serve a purpose because the class has some logic based on what the map has. And I need to mock that class in a test. in such a case you would need to mock the map as well, wouldn&#39;t you?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1383085372,"post_id":19665273,"comment_id":29212838,"body_markdown":"I don&#39;t see why.  If you mock the class, then surely there won&#39;t be a map any more?","body":"I don&#39;t see why.  If you mock the class, then surely there won&#39;t be a map any more?"},{"owner":{"account_id":916395,"reputation":553,"user_id":949110,"accept_rate":89,"display_name":"user949110"},"score":1,"creation_date":1383086285,"post_id":19665273,"comment_id":29213193,"body_markdown":"the reason for mocking this class was to verify 2 method calls which were conditioned on what the map has. but you are right no point mocking a map. when you need something like that, you know there&#39;s something wrong with your design. thanks for the help","body":"the reason for mocking this class was to verify 2 method calls which were conditioned on what the map has. but you are right no point mocking a map. when you need something like that, you know there&#39;s something wrong with your design. thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383778915,"creation_date":1383778915,"answer_id":19824671,"question_id":19665273,"body_markdown":"If you only want verification of the Map.get() method, then you can use a real Map, and you can create a spy of it. Then you can pass the spy instead of the original object to the tested code, and then you can examine all calls to the map. (see http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#13). You do not have to stub anything on the spy. A good example is here (in the question): https://stackoverflow.com/q/3692469/337621","title":"mocking a parametrized map in mockito","body":"<p>If you only want verification of the Map.get() method, then you can use a real Map, and you can create a spy of it. Then you can pass the spy instead of the original object to the tested code, and then you can examine all calls to the map. (see <a href=\"http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#13\" rel=\"nofollow noreferrer\">http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#13</a>). You do not have to stub anything on the spy. A good example is here (in the question): <a href=\"https://stackoverflow.com/q/3692469/337621\">Is it a right case for Mockito spy?</a></p>\n"}],"owner":{"account_id":916395,"reputation":553,"user_id":949110,"accept_rate":89,"display_name":"user949110"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684587630,"creation_date":1383067938,"question_id":19665273,"body_markdown":"I have a map that looks like this `Map&lt;String, Class&lt;? extends TypeA&gt;&gt; differentTypesOfA;` &lt;br/&gt;I have different subclasses of TypeA \r\n\r\n`Class TypeB implements TypeA {..}` &lt;br/&gt;\r\n`Class TypeC implements TypeA {..}`\r\nand so on\r\n\r\nI put them into the map somewhere `differentTypesOfA.put(&quot;TypeB&quot;,TypeB.class)` &lt;br/&gt;\r\n\r\nNow I am trying to mock this map with \r\n\r\n`@Mock Map&lt;String, Class&lt;? extends TypeA&gt;&gt; differentTypesOfAMock;` and then &lt;br/&gt;\r\n`.. setup() {`\r\n`when(differentTypesOfAMock.get(anyString()).thenReturn(TypeB.class);`&lt;br/&gt;\r\n`}`\r\n\r\nThis of course doesn&#39;t work but I can&#39;t figure out a nice way of mocking this map either. Can someone help?","title":"mocking a parametrized map in mockito","body":"<p>I have a map that looks like this <code>Map&lt;String, Class&lt;? extends TypeA&gt;&gt; differentTypesOfA;</code> <br/>I have different subclasses of TypeA </p>\n\n<p><code>Class TypeB implements TypeA {..}</code> <br/>\n<code>Class TypeC implements TypeA {..}</code>\nand so on</p>\n\n<p>I put them into the map somewhere <code>differentTypesOfA.put(\"TypeB\",TypeB.class)</code> <br/></p>\n\n<p>Now I am trying to mock this map with </p>\n\n<p><code>@Mock Map&lt;String, Class&lt;? extends TypeA&gt;&gt; differentTypesOfAMock;</code> and then <br/>\n<code>.. setup() {</code>\n<code>when(differentTypesOfAMock.get(anyString()).thenReturn(TypeB.class);</code><br/>\n<code>}</code></p>\n\n<p>This of course doesn't work but I can't figure out a nice way of mocking this map either. Can someone help?</p>\n"},{"tags":["java","performance","sqlite","jdbc","resultset"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1567393130,"post_id":57750779,"comment_id":101939003,"body_markdown":"You didn&#39;t mention anything about your environment. This is a perfect place to use a profiler to determine exactly where the time is going.","body":"You didn&#39;t mention anything about your environment. This is a perfect place to use a profiler to determine exactly where the time is going."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1567395596,"post_id":57750779,"comment_id":101939327,"body_markdown":"Probably because the first *N-1* results were already sent and the final one required an extra request and send. Investigate your fetch sizes.","body":"Probably because the first <i>N-1</i> results were already sent and the final one required an extra request and send. Investigate your fetch sizes."},{"owner":{"account_id":10025643,"reputation":11,"user_id":7413887,"display_name":"Michzor"},"score":0,"creation_date":1567424324,"post_id":57750779,"comment_id":101948915,"body_markdown":"@Gene I got myself a profiler and the outcome oft the profiling is that\n\n\nJDBC3ResultSet.java:74 org.sqlite.core.NativeDB.step(long)\n\n\ntakes up all the time. I can&#39;t navigate further into the method. I&#39;m going to try and research what this is all about. Thanks for your input.","body":"@Gene I got myself a profiler and the outcome oft the profiling is that   JDBC3ResultSet.java:74 org.sqlite.core.NativeDB.step(long)   takes up all the time. I can&#39;t navigate further into the method. I&#39;m going to try and research what this is all about. Thanks for your input."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1567567741,"post_id":57750779,"comment_id":101996496,"body_markdown":"@user207421 I thought about that, too. But given what the OP is doing, 1.5 seconds is far from normal.","body":"@user207421 I thought about that, too. But given what the OP is doing, 1.5 seconds is far from normal."}],"answers":[{"tags":[],"owner":{"account_id":10025643,"reputation":11,"user_id":7413887,"display_name":"Michzor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1572552465,"creation_date":1567455914,"answer_id":57762362,"question_id":57750779,"body_markdown":"I actually solved the problem but I am not 100% sure why it&#39;s solved now. The database I was querying had many millions of entries and was always accessed by a single column (timestamp). I indexed timestamp and the performance issues vanished completely. I still don&#39;t know why the .next()-method behaved the way it did. ","title":"Why does the last &quot;ResultSet.next()&quot;-iteration take way more time than the previous iterations?","body":"<p>I actually solved the problem but I am not 100% sure why it's solved now. The database I was querying had many millions of entries and was always accessed by a single column (timestamp). I indexed timestamp and the performance issues vanished completely. I still don't know why the .next()-method behaved the way it did. </p>\n"}],"owner":{"account_id":10025643,"reputation":11,"user_id":7413887,"display_name":"Michzor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57762362,"answer_count":1,"score":0,"last_activity_date":1684587170,"creation_date":1567390514,"question_id":57750779,"body_markdown":"The last iteration of my &quot;while(res.next())&quot;-loop takes 1.5 seconds whereas the previous iterations only take around ~0,003 milliseconds. I&#39;m very confused.\r\n\r\nI&#39;m getting a ResultSet from my SQLite database with a common JDBC query. The ResultSet is not huge, it&#39;s always 4 columns wide and between 0 and 100 rows long. Then I want to save the ResultSet-data in POJOs and store those POJOs in an ArrayList. I use the usual iteration-method where you simply put up a  &quot;while(res.next())&quot;-loop and iterate over the entire ResultSet. I recognized a bottleneck in my code and could narrow it down to the while(res.next())-loop. I started debugging and also measuring execution-times in my code and it turns out that the last .next()-call, which should return false so that the loop stops, takes a very long time.\r\n\r\n```java\r\n    ArrayList&lt;Trade&gt; trades = new ArrayList&lt;&gt;();\r\n    try\r\n    {\r\n      Statement statement = connector.getConnection().createStatement();\r\n      statement.setFetchSize(1337);\r\n\r\n      ResultSet res = statement.executeQuery(&quot;SELECT * FROM trades WHERE timestamp &gt;= 0 AND timestamp &lt; 1337;&quot;);\r\n      res.setFetchSize(1337);\r\n\r\n      int numberOfTrades = 0;\r\n      long startTime = System.nanoTime();\r\n      while(res.next())\r\n      {\r\n        long addObjectTime = System.nanoTime();\r\n        trades.add(new Trade(res.getLong(&quot;id&quot;),res.getLong(&quot;timestamp&quot;),res.getDouble(&quot;price&quot;),res.getDouble(&quot;amount&quot;)));\r\n        numberOfTrades++;\r\n        System.out.println(&quot;Added trade to list within &quot;+(System.nanoTime()-addObjectTime)+&quot;ns.&quot;);\r\n      }\r\n      System.out.println(&quot;List-creation completed within &quot;+(System.nanoTime()-startTime)+&quot;ns.&quot;);\r\n      System.out.println(&quot;Number of trades: &quot;+numberOfTrades);\r\n    } catch (SQLException e)\r\n    {\r\n      e.printStackTrace();\r\n    }\r\n```\r\n\r\nThat&#39;s my code. As you can see I already tried playing around with various fetchSizes as other people mentioned in performance-threads concerning the .next()-method. I tried everything I could but the outcome of it all looks still like this:\r\n\r\n    Added trade to list within 46000ns.\r\n    Added trade to list within 3200ns.\r\n    Added trade to list within 2400ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 4500ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 3100ns.\r\n    Added trade to list within 2400ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2400ns.\r\n    Added trade to list within 2400ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2200ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 2300ns.\r\n    Added trade to list within 11100ns.\r\n    List-creation completed within 1548543200ns.\r\n    Number of trades: 22\r\n\r\nAdding a POJO to my ArrayList with the data from the ResultSet usually takes between 2-5 microseconds. So all in all, the loop shouldn&#39;t take much longer than all the execution-times for adding trades combined right? In my example that would be 0,1073 milliseconds. Instead the loop takes a total of more than 1,5 seconds which would be 10,000x the amount that I&#39;d expect. I actually have zero clue what&#39;s happening here. And this is a severe problem for my program because the code-fragment is executed about 100,000 times, so 150,000 seconds would be 40 hours of performance-loss :(","title":"Why does the last &quot;ResultSet.next()&quot;-iteration take way more time than the previous iterations?","body":"<p>The last iteration of my \"while(res.next())\"-loop takes 1.5 seconds whereas the previous iterations only take around ~0,003 milliseconds. I'm very confused.</p>\n\n<p>I'm getting a ResultSet from my SQLite database with a common JDBC query. The ResultSet is not huge, it's always 4 columns wide and between 0 and 100 rows long. Then I want to save the ResultSet-data in POJOs and store those POJOs in an ArrayList. I use the usual iteration-method where you simply put up a  \"while(res.next())\"-loop and iterate over the entire ResultSet. I recognized a bottleneck in my code and could narrow it down to the while(res.next())-loop. I started debugging and also measuring execution-times in my code and it turns out that the last .next()-call, which should return false so that the loop stops, takes a very long time.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    ArrayList&lt;Trade&gt; trades = new ArrayList&lt;&gt;();\n    try\n    {\n      Statement statement = connector.getConnection().createStatement();\n      statement.setFetchSize(1337);\n\n      ResultSet res = statement.executeQuery(\"SELECT * FROM trades WHERE timestamp &gt;= 0 AND timestamp &lt; 1337;\");\n      res.setFetchSize(1337);\n\n      int numberOfTrades = 0;\n      long startTime = System.nanoTime();\n      while(res.next())\n      {\n        long addObjectTime = System.nanoTime();\n        trades.add(new Trade(res.getLong(\"id\"),res.getLong(\"timestamp\"),res.getDouble(\"price\"),res.getDouble(\"amount\")));\n        numberOfTrades++;\n        System.out.println(\"Added trade to list within \"+(System.nanoTime()-addObjectTime)+\"ns.\");\n      }\n      System.out.println(\"List-creation completed within \"+(System.nanoTime()-startTime)+\"ns.\");\n      System.out.println(\"Number of trades: \"+numberOfTrades);\n    } catch (SQLException e)\n    {\n      e.printStackTrace();\n    }\n</code></pre>\n\n<p>That's my code. As you can see I already tried playing around with various fetchSizes as other people mentioned in performance-threads concerning the .next()-method. I tried everything I could but the outcome of it all looks still like this:</p>\n\n<pre><code>Added trade to list within 46000ns.\nAdded trade to list within 3200ns.\nAdded trade to list within 2400ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 4500ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 3100ns.\nAdded trade to list within 2400ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2400ns.\nAdded trade to list within 2400ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2200ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 2300ns.\nAdded trade to list within 11100ns.\nList-creation completed within 1548543200ns.\nNumber of trades: 22\n</code></pre>\n\n<p>Adding a POJO to my ArrayList with the data from the ResultSet usually takes between 2-5 microseconds. So all in all, the loop shouldn't take much longer than all the execution-times for adding trades combined right? In my example that would be 0,1073 milliseconds. Instead the loop takes a total of more than 1,5 seconds which would be 10,000x the amount that I'd expect. I actually have zero clue what's happening here. And this is a severe problem for my program because the code-fragment is executed about 100,000 times, so 150,000 seconds would be 40 hours of performance-loss :(</p>\n"},{"tags":["java","sql","spring","datetime","jpa"],"comments":[{"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"score":0,"creation_date":1684586690,"post_id":76295244,"comment_id":134540544,"body_markdown":"You can use another way for data-time storage if you want to use current date-time then don&#39;t use default current date-time value, Instead you can set value of that field at save time into service layer or any layer whenever you are writing logic of save record, So try this solution once hope it works!!","body":"You can use another way for data-time storage if you want to use current date-time then don&#39;t use default current date-time value, Instead you can set value of that field at save time into service layer or any layer whenever you are writing logic of save record, So try this solution once hope it works!!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684607632,"post_id":76295244,"comment_id":134543083,"body_markdown":"What database engine and version? And *exactly* what is the data type of your column? Voting to close as lacking debugging info.","body":"What database engine and version? And <i>exactly</i> what is the data type of your column? Voting to close as lacking debugging info."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684607882,"post_id":76295244,"comment_id":134543121,"body_markdown":"I cannot imagine a scenario where calling `LocalDateTime.now` is the right thing to do. That class cannot represent a moment, a specific point on the timeline. `LocalDateTime` contains a date and time-of-day but lacks the context of a time zone or offset-from-UTC.","body":"I cannot imagine a scenario where calling <code>LocalDateTime.now</code> is the right thing to do. That class cannot represent a moment, a specific point on the timeline. <code>LocalDateTime</code> contains a date and time-of-day but lacks the context of a time zone or offset-from-UTC."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684607917,"post_id":76295244,"comment_id":134543126,"body_markdown":"Both of the `Date` classes are terribly flawed. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Both of the <code>Date</code> classes are terribly flawed. They were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684587048,"creation_date":1684587048,"answer_id":76295316,"question_id":76295244,"body_markdown":"It looks like the timezone where the application is executing is probably UTC-7. Then it converts it to UTC to get the date, which causes the date time to be displayed with +7 hours:\r\n``` lang-java\r\n      Date in = Date.from(ldt.toInstant(ZoneOffset.UTC));\r\n```\r\nThen the date is correct, it is just expressed in UTC because that line is converting explicitly to it. \r\n\r\nIf it is not what you expect then convert to a Date using the local timezone. It is not clear why you are using java.time classes just to get the current date time if you are not really interested in converting to UTC timezone. A simple `Date in=new Date()`","title":"Different time &amp; date from the database and what shown at my web page using Spring MVC","body":"<p>It looks like the timezone where the application is executing is probably UTC-7. Then it converts it to UTC to get the date, which causes the date time to be displayed with +7 hours:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      Date in = Date.from(ldt.toInstant(ZoneOffset.UTC));\n</code></pre>\n<p>Then the date is correct, it is just expressed in UTC because that line is converting explicitly to it.</p>\n<p>If it is not what you expect then convert to a Date using the local timezone. It is not clear why you are using java.time classes just to get the current date time if you are not really interested in converting to UTC timezone. A simple <code>Date in=new Date()</code></p>\n"}],"owner":{"account_id":22186584,"reputation":33,"user_id":16429395,"display_name":"Danu Pratama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684587048,"creation_date":1684585795,"question_id":76295244,"body_markdown":"I have some issue about my date &amp; time that I&#39;ve stored at the database (using SQL) it&#39;s different when I show it at my web page. There&#39;s different at date &amp; time it self.\r\n\r\nFor example :\r\n\r\n**Stored in DB** : 2023-05-20 18:12:48 (Right Date &amp; Time)\r\n\r\n**At Web Page** : 2023-05-21 01:12:48.0 (Wrong Date &amp; Time)\r\n\r\nI&#39;ve set the default date &amp; time based on right now time, so when the user click the button they will save the date &amp; time by the time when they click at it. \r\n\r\nThe date &amp; time that stored in database it&#39;s the right one. But when I show it at the web page, it&#39;s comes out different (wrong date &amp; time at the page).\r\n\r\nThis&#39;s the entities table :\r\n\r\n    @Entity\r\n    @Table(name = &quot;attendance_check_in&quot;)\r\n    \r\n    public class AttendanceCheckIn {\r\n    \r\n         @Column(name = &quot;check_in&quot;)\r\n         @Temporal(TemporalType.TIMESTAMP)\r\n         private Date checkIn;\r\n\r\n         //getter &amp; setter//\r\n\r\nI&#39;am using SQL database and using Spring. Here&#39;s my controller that handle the save request to the database : \r\n\r\n    @RequestMapping(value = &quot;/attendance-input&quot;, method = RequestMethod.POST)\r\n     public String inputAttendance(Model model, AttendanceCheckIn attendanceIn, Authentication auth) throws ParseException {\r\n\r\n          model.addAttribute(&quot;attendanceIn&quot;, new AttendanceCheckIn());\r\n          LocalDateTime ldt = LocalDateTime.now();\r\n          Date in = Date.from(ldt.toInstant(ZoneOffset.UTC));\r\n          attendanceIn.setCheckIn(in);\r\n          attendanceInServ.save(attendanceIn);\r\n\r\n          return &quot;redirect:/attendance&quot;;\r\n     }\r\n\r\nSo, basically I&#39;ve set the default value for date &amp; time as right now time. So when the button clicked it&#39;s store the value, and the value that stored in database is right as what I want. This is the date &amp; time that saved in database :\r\n\r\n[![value stored in database][1]][1]\r\n\r\nBut when I see the value that render on the web page, this what I get : \r\n[![value showed at web page][2]][2]\r\n\r\nI checked my controller that handle request to show the data from the database :\r\n\r\n     @RequestMapping(value = &quot;/attendance&quot;, method = RequestMethod.GET)\r\n     public String attendancePage(Model model) \r\n\r\n          model.addAttribute(&quot;attendanceIn&quot;, new AttendanceCheckIn());\r\n          //Attendance Check In\r\n          model.addAttribute(&quot;getAllAttendanceIn&quot;, attInServices.getAll());\r\n\r\n          return &quot;Attendance&quot;;\r\n     }\r\n\r\nAnd, this from table at my web page that using thymeleaf &amp; bootstrap data tables :\r\n\r\n    &lt;table id=&quot;attIn-table&quot; \r\n           class=&quot;table table-bordered&quot; \r\n           width=&quot;100%&quot; \r\n           cellspacing=&quot;0&quot;&gt;\r\n\r\n         &lt;thead&gt;\r\n            &lt;tr&gt;\r\n               &lt;td&gt;Date &amp; Time&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n         &lt;/thead&gt;\r\n         &lt;tbody&gt;\r\n            &lt;tr th:each=&quot;as : ${getAllAttendanceIn}&quot;&gt;\r\n               &lt;td th:text=&quot;${as.checkIn}&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n         &lt;/tbody&gt;\r\n     &lt;/table&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/ORQf2.png\r\n  [2]: https://i.stack.imgur.com/Ou6sK.png\r\n\r\nCan someone told me what happened and how to solve this? Many Thanks","title":"Different time &amp; date from the database and what shown at my web page using Spring MVC","body":"<p>I have some issue about my date &amp; time that I've stored at the database (using SQL) it's different when I show it at my web page. There's different at date &amp; time it self.</p>\n<p>For example :</p>\n<p><strong>Stored in DB</strong> : 2023-05-20 18:12:48 (Right Date &amp; Time)</p>\n<p><strong>At Web Page</strong> : 2023-05-21 01:12:48.0 (Wrong Date &amp; Time)</p>\n<p>I've set the default date &amp; time based on right now time, so when the user click the button they will save the date &amp; time by the time when they click at it.</p>\n<p>The date &amp; time that stored in database it's the right one. But when I show it at the web page, it's comes out different (wrong date &amp; time at the page).</p>\n<p>This's the entities table :</p>\n<pre><code>@Entity\n@Table(name = &quot;attendance_check_in&quot;)\n\npublic class AttendanceCheckIn {\n\n     @Column(name = &quot;check_in&quot;)\n     @Temporal(TemporalType.TIMESTAMP)\n     private Date checkIn;\n\n     //getter &amp; setter//\n</code></pre>\n<p>I'am using SQL database and using Spring. Here's my controller that handle the save request to the database :</p>\n<pre><code>@RequestMapping(value = &quot;/attendance-input&quot;, method = RequestMethod.POST)\n public String inputAttendance(Model model, AttendanceCheckIn attendanceIn, Authentication auth) throws ParseException {\n\n      model.addAttribute(&quot;attendanceIn&quot;, new AttendanceCheckIn());\n      LocalDateTime ldt = LocalDateTime.now();\n      Date in = Date.from(ldt.toInstant(ZoneOffset.UTC));\n      attendanceIn.setCheckIn(in);\n      attendanceInServ.save(attendanceIn);\n\n      return &quot;redirect:/attendance&quot;;\n }\n</code></pre>\n<p>So, basically I've set the default value for date &amp; time as right now time. So when the button clicked it's store the value, and the value that stored in database is right as what I want. This is the date &amp; time that saved in database :</p>\n<p><a href=\"https://i.stack.imgur.com/ORQf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ORQf2.png\" alt=\"value stored in database\" /></a></p>\n<p>But when I see the value that render on the web page, this what I get :\n<a href=\"https://i.stack.imgur.com/Ou6sK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ou6sK.png\" alt=\"value showed at web page\" /></a></p>\n<p>I checked my controller that handle request to show the data from the database :</p>\n<pre><code> @RequestMapping(value = &quot;/attendance&quot;, method = RequestMethod.GET)\n public String attendancePage(Model model) \n\n      model.addAttribute(&quot;attendanceIn&quot;, new AttendanceCheckIn());\n      //Attendance Check In\n      model.addAttribute(&quot;getAllAttendanceIn&quot;, attInServices.getAll());\n\n      return &quot;Attendance&quot;;\n }\n</code></pre>\n<p>And, this from table at my web page that using thymeleaf &amp; bootstrap data tables :</p>\n<pre><code>&lt;table id=&quot;attIn-table&quot; \n       class=&quot;table table-bordered&quot; \n       width=&quot;100%&quot; \n       cellspacing=&quot;0&quot;&gt;\n\n     &lt;thead&gt;\n        &lt;tr&gt;\n           &lt;td&gt;Date &amp; Time&lt;/td&gt;\n        &lt;/tr&gt;\n     &lt;/thead&gt;\n     &lt;tbody&gt;\n        &lt;tr th:each=&quot;as : ${getAllAttendanceIn}&quot;&gt;\n           &lt;td th:text=&quot;${as.checkIn}&quot;&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n     &lt;/tbody&gt;\n &lt;/table&gt;\n</code></pre>\n<p>Can someone told me what happened and how to solve this? Many Thanks</p>\n"},{"tags":["java","selenium-webdriver","web-testing","getattribute"],"answers":[{"tags":[],"owner":{"account_id":21917004,"reputation":38,"user_id":16200770,"display_name":"Santhosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684334837,"creation_date":1684334837,"answer_id":76273391,"question_id":76250004,"body_markdown":"Wait until the element is found and find the element using xpath and get the value\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//input[@id=&#39;2033323&#39;]&quot;)));\r\n    driver.findElement(By.xpath(&quot;//input[@id=&#39;2033323&#39;]&quot;).getAttribute(&quot;value&quot;));\r\n\r\n","title":"Cannot get value from Textbox using Selenium WebDriver","body":"<p>Wait until the element is found and find the element using xpath and get the value</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//input[@id='2033323']&quot;)));\ndriver.findElement(By.xpath(&quot;//input[@id='2033323']&quot;).getAttribute(&quot;value&quot;));\n</code></pre>\n"}],"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684586607,"creation_date":1684104991,"question_id":76250004,"body_markdown":"I am unable to get the data from the textbox using Selenium WebDriver.\r\nHere how the textbox element code looks like\r\n\r\n    &lt;input aria-invalid=&quot;false&quot; disabled=&quot;&quot; id=&quot;2033323&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input\r\n    MuiOutlinedInput-input Mui-disabled Mui-disabled&quot; value=&quot;104&quot; style=&quot;padding: 5px 7px;&quot;&gt;\r\n\r\nI see &quot;104&quot; in the textbox on UI and in my test I need to check, that this value is displayed. \r\nThe id is unique, so I tried both By.xpath(&quot;//*[@id=&#39;2033323&#39;]&quot;) and By.id(&quot;2033323&quot;) to create the locator.\r\n\r\nI can get values from e.g. &quot;type&quot; attribute via\r\n\r\n    driver.findElement(By.id(&quot;2033323&quot;)).getAttribute(&quot;type&quot;));\r\n\r\nBut I get empty result if I try to get value from &quot;value&quot; attribute via\r\n\r\n    driver.findElement(By.id(&quot;2033323&quot;)).getAttribute(&quot;value&quot;));\r\n    or\r\n    driver.findElement(By.id(&quot;2033323&quot;)).getCssValue(&quot;value&quot;));\r\n\r\nand .getText() is not suitable as there is no simple text there .\r\n\r\nI even tried \r\n\r\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n    String temperature = (String)(jsExecutor.executeScript(&quot;return document.getElementById(&#39;2033323&#39;).value&quot;));\r\n\r\nand get an empty result.","title":"Cannot get value from Textbox using Selenium WebDriver","body":"<p>I am unable to get the data from the textbox using Selenium WebDriver.\nHere how the textbox element code looks like</p>\n<pre><code>&lt;input aria-invalid=&quot;false&quot; disabled=&quot;&quot; id=&quot;2033323&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input\nMuiOutlinedInput-input Mui-disabled Mui-disabled&quot; value=&quot;104&quot; style=&quot;padding: 5px 7px;&quot;&gt;\n</code></pre>\n<p>I see &quot;104&quot; in the textbox on UI and in my test I need to check, that this value is displayed.\nThe id is unique, so I tried both By.xpath(&quot;//*[@id='2033323']&quot;) and By.id(&quot;2033323&quot;) to create the locator.</p>\n<p>I can get values from e.g. &quot;type&quot; attribute via</p>\n<pre><code>driver.findElement(By.id(&quot;2033323&quot;)).getAttribute(&quot;type&quot;));\n</code></pre>\n<p>But I get empty result if I try to get value from &quot;value&quot; attribute via</p>\n<pre><code>driver.findElement(By.id(&quot;2033323&quot;)).getAttribute(&quot;value&quot;));\nor\ndriver.findElement(By.id(&quot;2033323&quot;)).getCssValue(&quot;value&quot;));\n</code></pre>\n<p>and .getText() is not suitable as there is no simple text there .</p>\n<p>I even tried</p>\n<pre><code>JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\nString temperature = (String)(jsExecutor.executeScript(&quot;return document.getElementById('2033323').value&quot;));\n</code></pre>\n<p>and get an empty result.</p>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1684410355,"post_id":76278483,"comment_id":134515223,"body_markdown":"GroovyShell should work","body":"GroovyShell should work"}],"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684585985,"creation_date":1684393472,"question_id":76278483,"body_markdown":"I have a little groovy script that just generates a small report about a special aspect of the source code. It is NOT required in the build process and it shall NOT be part of the resulting jar file. It&#39;s just a little script that will be run manually from time to time to get some special information.\r\n\r\nLet&#39;s say the script is to be found here (outside of the `src` folder): `./misc/groovy-scripts/generate-special-report.groovy` and it contains only `println &quot;Special report generated&quot;` (too keep things simple here).\r\nHow can I run this groovy script from a gradle task, without having to provide an extra/additional groovy installation on the system?\r\n\r\nAnswers, ideas, tips and hints must not 100% satisfy the above mentioned requirements, I&#39;m happy about any help/solution.\r\nBut I hope there&#39;s an alternative solution to this one here:\r\nhttps://stackoverflow.com/questions/17360719/running-groovy-scripts-from-gradle\r\n\r\n---\r\n[Edit] Maybe `GroovyShell` or `GroovyScriptEngine` is what I&#39;m looking for as described in some comments here: https://stackoverflow.com/questions/2360513/run-groovy-script-from-within-gradle\r\nI&#39;m going to give that a try.","title":"How to run a groovy script from a grade task interpreted, not compiled?","body":"<p>I have a little groovy script that just generates a small report about a special aspect of the source code. It is NOT required in the build process and it shall NOT be part of the resulting jar file. It's just a little script that will be run manually from time to time to get some special information.</p>\n<p>Let's say the script is to be found here (outside of the <code>src</code> folder): <code>./misc/groovy-scripts/generate-special-report.groovy</code> and it contains only <code>println &quot;Special report generated&quot;</code> (too keep things simple here).\nHow can I run this groovy script from a gradle task, without having to provide an extra/additional groovy installation on the system?</p>\n<p>Answers, ideas, tips and hints must not 100% satisfy the above mentioned requirements, I'm happy about any help/solution.\nBut I hope there's an alternative solution to this one here:\n<a href=\"https://stackoverflow.com/questions/17360719/running-groovy-scripts-from-gradle\">Running Groovy scripts from Gradle</a></p>\n<hr />\n<p>[Edit] Maybe <code>GroovyShell</code> or <code>GroovyScriptEngine</code> is what I'm looking for as described in some comments here: <a href=\"https://stackoverflow.com/questions/2360513/run-groovy-script-from-within-gradle\">Run groovy script from within gradle</a>\nI'm going to give that a try.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1684583245,"post_id":76295045,"comment_id":134540120,"body_markdown":"Please post code as formatted text.","body":"Please post code as formatted text."},{"owner":{"account_id":16011204,"reputation":61,"user_id":11555299,"display_name":"aiden021"},"score":1,"creation_date":1684583492,"post_id":76295045,"comment_id":134540157,"body_markdown":"I did @DaveNewton","body":"I did @DaveNewton"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684584396,"post_id":76295045,"comment_id":134540271,"body_markdown":"the `/` in `.jsp/` seems strange.. (tiny, but could explain the issue)","body":"the <code>&#47;</code> in <code>.jsp&#47;</code> seems strange.. (tiny, but could explain the issue)"},{"owner":{"account_id":16011204,"reputation":61,"user_id":11555299,"display_name":"aiden021"},"score":0,"creation_date":1684584958,"post_id":76295045,"comment_id":134540323,"body_markdown":"yes I added that later , it wasn&#39;t there at first but even before I add that the error remained @xerx593","body":"yes I added that later , it wasn&#39;t there at first but even before I add that the error remained @xerx593"}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684585898,"creation_date":1684585898,"answer_id":76295251,"question_id":76295045,"body_markdown":"Modify below line and after that check hope it works!!\r\n\r\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;","title":"&quot;404 not found error&quot; MVC model with tomcat","body":"<p>Modify below line and after that check hope it works!!</p>\n<pre><code>&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":16011204,"reputation":61,"user_id":11555299,"display_name":"aiden021"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684585898,"creation_date":1684583065,"question_id":76295045,"body_markdown":"I&#39;m trying the MVC model with spring and my goal is to show the home page, I tried different ways to solve the problem but the problem still exists \r\n\r\nHere is the error : \r\n\r\n     HTTP Status 404 – Not Found\r\n    Type Status Report\r\n    \r\n    Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n    \r\n    Apache Tomcat/10.1.8\r\n\r\nand here is my project structure and related files (will update the post if feather information is need ) \r\nI think the url mapping is right and there should be no problem with case sensitive \r\n \r\nHomeController.java\r\n\r\n    package com.mystore.controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    public class HomeController {\r\n        @RequestMapping(&quot;/&quot;)\r\n        public String home(){\r\n            return &quot;home&quot;;\r\n        }\r\n    }\r\n\r\n dispatcher-serverlet.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.mystore&quot; /&gt;\r\n    \r\n        &lt;mvc:annotation-driven /&gt;\r\n    \r\n        &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            \r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp/&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nweb.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nand here is the project structure :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mtt59.png","title":"&quot;404 not found error&quot; MVC model with tomcat","body":"<p>I'm trying the MVC model with spring and my goal is to show the home page, I tried different ways to solve the problem but the problem still exists</p>\n<p>Here is the error :</p>\n<pre><code> HTTP Status 404 – Not Found\nType Status Report\n\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\n\nApache Tomcat/10.1.8\n</code></pre>\n<p>and here is my project structure and related files (will update the post if feather information is need )\nI think the url mapping is right and there should be no problem with case sensitive</p>\n<p>HomeController.java</p>\n<pre><code>package com.mystore.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HomeController {\n    @RequestMapping(&quot;/&quot;)\n    public String home(){\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n<p>dispatcher-serverlet.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.mystore&quot; /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        \n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp/&quot; /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>and here is the project structure :\n<a href=\"https://i.stack.imgur.com/mtt59.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mtt59.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase-authentication","email-verification"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1684543252,"post_id":76292910,"comment_id":134537303,"body_markdown":"Did you see https://stackoverflow.com/questions/75843597/send-oobcode-instead-of-link-for-password-reset?","body":"Did you see <a href=\"https://stackoverflow.com/questions/75843597/send-oobcode-instead-of-link-for-password-reset\" title=\"send oobcode instead of link for password reset\">stackoverflow.com/questions/75843597/&hellip;</a>?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684570473,"post_id":76292910,"comment_id":134538919,"body_markdown":"Did Frank&#39;s recommendation help? And maybe, this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword).","body":"Did Frank&#39;s recommendation help? And maybe, this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"score":0,"creation_date":1684580795,"post_id":76292910,"comment_id":134539860,"body_markdown":"Hello, I saw those threads but it didn&#39;t work for me.","body":"Hello, I saw those threads but it didn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":3039160,"reputation":644,"user_id":2576595,"display_name":"Quimbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684540032,"creation_date":1684538669,"answer_id":76292943,"question_id":76292910,"body_markdown":"If you want to run the password reset method on the user login page without accessing Firestore directly, you can leverage Firebase Authentication&#39;s built-in functionality for password reset:\r\n\r\n\r\n```java\r\nString emailAddress = &quot;user@example.com&quot;;\r\nFirebaseAuth.getInstance().sendPasswordResetEmail(emailAddress)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    // Password reset email sent successfully\r\n                    // You can show a success message to the user\r\n                } else {\r\n                    // Password reset email failed to send\r\n                    // You can show an error message to the user\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nIf you want to send a verification code instead of a password reset link, you can modify the approach slightly.\r\n\r\n    String recipientEmail = &quot;user@example.com&quot;;\r\n    String verificationCode = &quot;123456&quot;; // Replace with your generated verification code\r\n    \r\n    Properties properties = new Properties();\r\n    properties.put(&quot;mail.smtp.host&quot;, &quot;your_smtp_host&quot;);\r\n    properties.put(&quot;mail.smtp.port&quot;, &quot;your_smtp_port&quot;);\r\n    // Set other mail properties as needed\r\n    \r\n    Session session = Session.getInstance(properties, null);\r\n    try {\r\n        MimeMessage message = new MimeMessage(session);\r\n        message.setFrom(new InternetAddress(&quot;your_sender_email&quot;));\r\n        message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipientEmail));\r\n        message.setSubject(&quot;Verification Code&quot;);\r\n        message.setText(&quot;Your verification code is: &quot; + verificationCode);\r\n    \r\n        Transport.send(message);\r\n    } catch (MessagingException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\nOnce the user receives the verification code via email, they can enter it in your app&#39;s interface.\r\n\r\nOn the client-side, retrieve the verification code entered by the user.\r\n\r\nMake a request to Firestore to fetch the user&#39;s document based on their email address.\r\n\r\nCompare the verification code entered by the user with the one stored in Firestore. If they match, you can proceed with the verification process.\r\n\r\nNote: Ensure you have appropriate security measures in place to prevent abuse or brute-force attempts. It uses the JavaMail library for sending emails.","title":"Email verification with code without using verification link with firebase auth","body":"<p>If you want to run the password reset method on the user login page without accessing Firestore directly, you can leverage Firebase Authentication's built-in functionality for password reset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String emailAddress = &quot;user@example.com&quot;;\nFirebaseAuth.getInstance().sendPasswordResetEmail(emailAddress)\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n                    // Password reset email sent successfully\n                    // You can show a success message to the user\n                } else {\n                    // Password reset email failed to send\n                    // You can show an error message to the user\n                }\n            }\n        });\n</code></pre>\n<p>If you want to send a verification code instead of a password reset link, you can modify the approach slightly.</p>\n<pre><code>String recipientEmail = &quot;user@example.com&quot;;\nString verificationCode = &quot;123456&quot;; // Replace with your generated verification code\n\nProperties properties = new Properties();\nproperties.put(&quot;mail.smtp.host&quot;, &quot;your_smtp_host&quot;);\nproperties.put(&quot;mail.smtp.port&quot;, &quot;your_smtp_port&quot;);\n// Set other mail properties as needed\n\nSession session = Session.getInstance(properties, null);\ntry {\n    MimeMessage message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(&quot;your_sender_email&quot;));\n    message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipientEmail));\n    message.setSubject(&quot;Verification Code&quot;);\n    message.setText(&quot;Your verification code is: &quot; + verificationCode);\n\n    Transport.send(message);\n} catch (MessagingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Once the user receives the verification code via email, they can enter it in your app's interface.</p>\n<p>On the client-side, retrieve the verification code entered by the user.</p>\n<p>Make a request to Firestore to fetch the user's document based on their email address.</p>\n<p>Compare the verification code entered by the user with the one stored in Firestore. If they match, you can proceed with the verification process.</p>\n<p>Note: Ensure you have appropriate security measures in place to prevent abuse or brute-force attempts. It uses the JavaMail library for sending emails.</p>\n"}],"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684584579,"creation_date":1684538056,"question_id":76292910,"body_markdown":"I am using firebase auth for user login in my android app.\r\nMy problem is sending a link for email verification and password reset.\r\n\r\nThe links in the mails sent to the government agency e-mail addresses used by some of my users are rendered unclickable by the firewall.\r\nFirestore rules are set to be accessible to logged in users.\r\nHow can I run password reset method on user login page, I can&#39;t access firestore because user is not logged in.\r\n\r\nBy storing a randomly generated code under the user in Firestore, I also email it and prevent the user from seeing the data in the application when he logs in, without verifying the code.\r\n\r\n_My users java codes;_\r\n\r\n```\r\npublic class Persons implements Serializable {\r\n    private String person_name;\r\n    private String person_phone;\r\n    private String person_city;\r\n    private String person_district;\r\n    private boolean email_verification;\r\n    private int verification_code;\r\n    private Authorization person_authorization;\r\n\r\n    constructors...\r\n    getter and setter methods...\r\n}\r\n```\r\n\r\n\r\n![My users firesote db](https://i.stack.imgur.com/36OQL.png)\r\n\r\n\r\n_My firestore rules;_\r\n\r\n```\r\nrules_version = &#39;2&#39;;\r\nservice cloud.firestore {\r\n  match /databases/{database}/documents {\r\n    match /{document=**} {\r\n      allow read, write: if request.auth != null;\r\n    }\r\n  }\r\n}\r\n```","title":"Email verification with code without using verification link with firebase auth","body":"<p>I am using firebase auth for user login in my android app.\nMy problem is sending a link for email verification and password reset.</p>\n<p>The links in the mails sent to the government agency e-mail addresses used by some of my users are rendered unclickable by the firewall.\nFirestore rules are set to be accessible to logged in users.\nHow can I run password reset method on user login page, I can't access firestore because user is not logged in.</p>\n<p>By storing a randomly generated code under the user in Firestore, I also email it and prevent the user from seeing the data in the application when he logs in, without verifying the code.</p>\n<p><em>My users java codes;</em></p>\n<pre><code>public class Persons implements Serializable {\n    private String person_name;\n    private String person_phone;\n    private String person_city;\n    private String person_district;\n    private boolean email_verification;\n    private int verification_code;\n    private Authorization person_authorization;\n\n    constructors...\n    getter and setter methods...\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/36OQL.png\" alt=\"My users firesote db\" /></p>\n<p><em>My firestore rules;</em></p>\n<pre><code>rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-dialogfragment","android-gridview","android-adapterview"],"owner":{"account_id":17493243,"reputation":1,"user_id":12684948,"display_name":"Jormungand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684584340,"creation_date":1684584340,"question_id":76295141,"body_markdown":"I create a DialogFragment which contains various filters to customize searches on app, but the gridView with the various category doesn&#39;t work at all. I tried a lot of different code and search everything on internet, but none of them solve my problem. Hope someone can help me.\r\n\r\n**This is the Grid Adapter**\r\n\r\n```\r\npublic class GridFilterAdapter extends BaseAdapter {\r\n\r\n    Context context;\r\n    String[] category;\r\n\r\n    LayoutInflater inflater;\r\n\r\n    public GridFilterAdapter(Context context, String[] category){\r\n        this.context = context;\r\n        this.category = category;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return this.category.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n        View view;\r\n        if (convertView == null) {\r\n            view = LayoutInflater.from(context).inflate(R.layout.column_filter, parent);\r\n            Log.w(&quot;IO&quot;, &quot;controllo l&#39;inflate nell&#39;if&quot;);\r\n            /*view = inflater.inflate(R.layout.column_filter, parent);\r\n            Log.w(&quot;IO&quot;, &quot;controllo convertView nell&#39;if&quot;);*/\r\n        } else{\r\n            view = convertView;\r\n        }\r\n\r\n        TextView text = view.findViewById(R.id.crossfit_filter);\r\n        text.setText(category[position]);\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n**This is my FragmentDialog**\r\n\r\n```\r\npublic class FilterFragment extends DialogFragment {\r\n\r\n    FragmentFilterBinding binding;\r\n\r\n    public static String TAG = &quot;Filtri ricerca&quot;;\r\n    public FilterFragment() {\r\n        // Required empty public constructor\r\n    }\r\n    \r\n\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View view = inflater.inflate(R.layout.fragment_filter,null);\r\n        binding = FragmentFilterBinding.inflate(getLayoutInflater());\r\n        DisplayMetrics metrics = getResources().getDisplayMetrics();\r\n        int width = metrics.widthPixels;\r\n        view.setMinimumWidth((6 * width)/7);\r\n        builder.setView(view);\r\n        String[] item = {\r\n                &quot;Crossfit&quot;,\r\n                &quot;Boxe&quot;,\r\n                &quot;Running&quot;,\r\n                &quot;Body Building&quot;\r\n        };\r\n\r\n        binding.gridtab.setAdapter(new GridFilterAdapter(getContext(), item));\r\n        binding.gridtab.setOnItemClickListener(new AdapterView.OnItemClickListener(){\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,long id){\r\n                Toast.makeText(getContext(),&quot;Ho percepito il click su &quot; + item[position], Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        return builder.create();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_filter, container, false);\r\n\r\n        return v;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**And these are the xml file of the DialogFragment, fragment_filter.xml**\r\n\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:minHeight=&quot;450dp&quot;\r\n    android:minWidth=&quot;1000dp&quot;\r\n    tools:context=&quot;.FilterFragment&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;@dimen/leftMargin_title&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:id=&quot;@+id/filter_title&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:text=&quot;FILTRI PER LA RICERCA&quot;\r\n            android:fontFamily=&quot;@font/encode_sans_medium&quot;\r\n            android:layout_marginStart=&quot;35dp&quot;\r\n            android:layout_marginEnd=&quot;35dp&quot;\r\n            android:layout_marginBottom=&quot;@dimen/topMargin_title&quot;\r\n            android:layout_gravity=&quot;center_horizontal|center_vertical&quot;\r\n            android:layout_marginTop=&quot;@dimen/topMargin_title&quot;\r\n            android:textColor=&quot;#3b3b3b&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;View\r\n        android:id=&quot;@+id/filter_divider&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;3dp&quot;\r\n        android:background=&quot;@drawable/filter_btn_gradient&quot;\r\n        android:layout_below=&quot;@id/filter_title&quot;\r\n        /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/cityFilter&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/filter_divider&quot;\r\n\r\n        android:layout_marginStart=&quot;@dimen/leftMargin_title&quot;\r\n        android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\r\n        android:layout_marginEnd=&quot;@dimen/leftMargin_title&quot;\r\n        android:layout_marginBottom=&quot;@dimen/leftMargin_title&quot;\r\n\r\n        android:fontFamily=&quot;@font/encode_sans_semibold&quot;\r\n        android:text=&quot;Filtra per citt&#224;&quot;\r\n        android:textColor=&quot;#212121&quot;\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/search_city&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/input_white_bck&quot;\r\n        android:layout_below=&quot;@id/cityFilter&quot;\r\n\r\n        android:hint=&quot;Citt&#224;&quot;\r\n        android:textColorHint=&quot;#803b3b3b&quot;\r\n        android:textSize=&quot;19sp&quot;\r\n        android:fontFamily=&quot;@font/encode_sans_medium&quot;\r\n\r\n        android:paddingStart=&quot;@dimen/topMargin_title&quot;\r\n        android:paddingEnd=&quot;@dimen/topMargin_title&quot;\r\n        android:paddingBottom=&quot;15dp&quot;\r\n        android:paddingTop=&quot;15dp&quot;\r\n\r\n        android:layout_marginEnd=&quot;@dimen/topMargin_title&quot;\r\n        android:layout_marginStart=&quot;@dimen/topMargin_title&quot;\r\n        android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\r\n        /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title_evaluation_filter&quot;\r\n            android:layout_below=&quot;@id/search_city&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:text=&quot;Filtra per recensione&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:fontFamily=&quot;@font/encode_sans_semibold&quot;\r\n            android:textColor=&quot;#212121&quot;\r\n            android:layout_marginStart=&quot;@dimen/leftMargin_title&quot;\r\n            android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\r\n            android:layout_marginEnd=&quot;@dimen/leftMargin_title&quot;\r\n            android:layout_marginBottom=&quot;@dimen/leftMargin_title&quot;\r\n            /&gt;\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spinner_evaluation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/title_evaluation_filter&quot;\r\n        android:entries=&quot;@array/evaluation&quot;\r\n\r\n        android:layout_marginStart=&quot;@dimen/topMargin_title&quot;\r\n        android:layout_marginEnd=&quot;@dimen/topMargin_title&quot;\r\n\r\n        android:padding=&quot;20dp&quot;\r\n        android:background=&quot;@drawable/input_white_bck&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/title_category&quot;\r\n        android:layout_below=&quot;@id/spinner_evaluation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\r\n        android:text=&quot;Categoria di sport&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:fontFamily=&quot;@font/encode_sans_semibold&quot;\r\n        android:textColor=&quot;#212121&quot;\r\n        android:layout_marginStart=&quot;@dimen/leftMargin_title&quot;\r\n        android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\r\n        android:layout_marginEnd=&quot;@dimen/leftMargin_title&quot;\r\n        android:layout_marginBottom=&quot;@dimen/leftMargin_title&quot;\r\n        /&gt;\r\n    &lt;GridView\r\n        android:id=&quot;@+id/gridtab&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@id/title_category&quot;\r\n\r\n        android:numColumns=&quot;5&quot;\r\n        &gt;\r\n\r\n    &lt;/GridView&gt;\r\n\r\n\r\n\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n**and xml for the Grid&#39;s items, column_filter.xml**\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/crossfit_filter&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/category_selector&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:paddingTop=&quot;@dimen/topMargin_title&quot;\r\n        android:paddingBottom=&quot;@dimen/topMargin_title&quot;\r\n        android:paddingStart=&quot;20dp&quot;\r\n        android:paddingEnd=&quot;20dp&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:fontFamily=&quot;@font/encode_sans_medium&quot;\r\n        android:layout_marginEnd=&quot;@dimen/topMargin_title&quot;\r\n        android:text=&quot;Rose&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```","title":"Android GridView doesn&#39;t show any data in fragment","body":"<p>I create a DialogFragment which contains various filters to customize searches on app, but the gridView with the various category doesn't work at all. I tried a lot of different code and search everything on internet, but none of them solve my problem. Hope someone can help me.</p>\n<p><strong>This is the Grid Adapter</strong></p>\n<pre><code>public class GridFilterAdapter extends BaseAdapter {\n\n    Context context;\n    String[] category;\n\n    LayoutInflater inflater;\n\n    public GridFilterAdapter(Context context, String[] category){\n        this.context = context;\n        this.category = category;\n    }\n\n    @Override\n    public int getCount() {\n        return this.category.length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int position) {\n\n        return 0;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        View view;\n        if (convertView == null) {\n            view = LayoutInflater.from(context).inflate(R.layout.column_filter, parent);\n            Log.w(&quot;IO&quot;, &quot;controllo l'inflate nell'if&quot;);\n            /*view = inflater.inflate(R.layout.column_filter, parent);\n            Log.w(&quot;IO&quot;, &quot;controllo convertView nell'if&quot;);*/\n        } else{\n            view = convertView;\n        }\n\n        TextView text = view.findViewById(R.id.crossfit_filter);\n        text.setText(category[position]);\n        return view;\n    }\n}\n</code></pre>\n<p><strong>This is my FragmentDialog</strong></p>\n<pre><code>public class FilterFragment extends DialogFragment {\n\n    FragmentFilterBinding binding;\n\n    public static String TAG = &quot;Filtri ricerca&quot;;\n    public FilterFragment() {\n        // Required empty public constructor\n    }\n    \n\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.fragment_filter,null);\n        binding = FragmentFilterBinding.inflate(getLayoutInflater());\n        DisplayMetrics metrics = getResources().getDisplayMetrics();\n        int width = metrics.widthPixels;\n        view.setMinimumWidth((6 * width)/7);\n        builder.setView(view);\n        String[] item = {\n                &quot;Crossfit&quot;,\n                &quot;Boxe&quot;,\n                &quot;Running&quot;,\n                &quot;Body Building&quot;\n        };\n\n        binding.gridtab.setAdapter(new GridFilterAdapter(getContext(), item));\n        binding.gridtab.setOnItemClickListener(new AdapterView.OnItemClickListener(){\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,long id){\n                Toast.makeText(getContext(),&quot;Ho percepito il click su &quot; + item[position], Toast.LENGTH_SHORT).show();\n            }\n        });\n        return builder.create();\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_filter, container, false);\n\n        return v;\n    }\n\n}\n</code></pre>\n<p><strong>And these are the xml file of the DialogFragment, fragment_filter.xml</strong></p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:minHeight=&quot;450dp&quot;\n    android:minWidth=&quot;1000dp&quot;\n    tools:context=&quot;.FilterFragment&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;@dimen/leftMargin_title&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:id=&quot;@+id/filter_title&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textSize=&quot;25sp&quot;\n            android:text=&quot;FILTRI PER LA RICERCA&quot;\n            android:fontFamily=&quot;@font/encode_sans_medium&quot;\n            android:layout_marginStart=&quot;35dp&quot;\n            android:layout_marginEnd=&quot;35dp&quot;\n            android:layout_marginBottom=&quot;@dimen/topMargin_title&quot;\n            android:layout_gravity=&quot;center_horizontal|center_vertical&quot;\n            android:layout_marginTop=&quot;@dimen/topMargin_title&quot;\n            android:textColor=&quot;#3b3b3b&quot;/&gt;\n    &lt;/LinearLayout&gt;\n    &lt;View\n        android:id=&quot;@+id/filter_divider&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;3dp&quot;\n        android:background=&quot;@drawable/filter_btn_gradient&quot;\n        android:layout_below=&quot;@id/filter_title&quot;\n        /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/cityFilter&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/filter_divider&quot;\n\n        android:layout_marginStart=&quot;@dimen/leftMargin_title&quot;\n        android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\n        android:layout_marginEnd=&quot;@dimen/leftMargin_title&quot;\n        android:layout_marginBottom=&quot;@dimen/leftMargin_title&quot;\n\n        android:fontFamily=&quot;@font/encode_sans_semibold&quot;\n        android:text=&quot;Filtra per città&quot;\n        android:textColor=&quot;#212121&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/search_city&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/input_white_bck&quot;\n        android:layout_below=&quot;@id/cityFilter&quot;\n\n        android:hint=&quot;Città&quot;\n        android:textColorHint=&quot;#803b3b3b&quot;\n        android:textSize=&quot;19sp&quot;\n        android:fontFamily=&quot;@font/encode_sans_medium&quot;\n\n        android:paddingStart=&quot;@dimen/topMargin_title&quot;\n        android:paddingEnd=&quot;@dimen/topMargin_title&quot;\n        android:paddingBottom=&quot;15dp&quot;\n        android:paddingTop=&quot;15dp&quot;\n\n        android:layout_marginEnd=&quot;@dimen/topMargin_title&quot;\n        android:layout_marginStart=&quot;@dimen/topMargin_title&quot;\n        android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\n        /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/title_evaluation_filter&quot;\n            android:layout_below=&quot;@id/search_city&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            android:text=&quot;Filtra per recensione&quot;\n            android:textSize=&quot;20sp&quot;\n            android:fontFamily=&quot;@font/encode_sans_semibold&quot;\n            android:textColor=&quot;#212121&quot;\n            android:layout_marginStart=&quot;@dimen/leftMargin_title&quot;\n            android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\n            android:layout_marginEnd=&quot;@dimen/leftMargin_title&quot;\n            android:layout_marginBottom=&quot;@dimen/leftMargin_title&quot;\n            /&gt;\n    &lt;Spinner\n        android:id=&quot;@+id/spinner_evaluation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/title_evaluation_filter&quot;\n        android:entries=&quot;@array/evaluation&quot;\n\n        android:layout_marginStart=&quot;@dimen/topMargin_title&quot;\n        android:layout_marginEnd=&quot;@dimen/topMargin_title&quot;\n\n        android:padding=&quot;20dp&quot;\n        android:background=&quot;@drawable/input_white_bck&quot;\n        /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/title_category&quot;\n        android:layout_below=&quot;@id/spinner_evaluation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n        android:text=&quot;Categoria di sport&quot;\n        android:textSize=&quot;20sp&quot;\n        android:fontFamily=&quot;@font/encode_sans_semibold&quot;\n        android:textColor=&quot;#212121&quot;\n        android:layout_marginStart=&quot;@dimen/leftMargin_title&quot;\n        android:layout_marginTop=&quot;@dimen/leftMargin_title&quot;\n        android:layout_marginEnd=&quot;@dimen/leftMargin_title&quot;\n        android:layout_marginBottom=&quot;@dimen/leftMargin_title&quot;\n        /&gt;\n    &lt;GridView\n        android:id=&quot;@+id/gridtab&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_below=&quot;@id/title_category&quot;\n\n        android:numColumns=&quot;5&quot;\n        &gt;\n\n    &lt;/GridView&gt;\n\n\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>and xml for the Grid's items, column_filter.xml</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/crossfit_filter&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/category_selector&quot;\n        android:textSize=&quot;20sp&quot;\n        android:paddingTop=&quot;@dimen/topMargin_title&quot;\n        android:paddingBottom=&quot;@dimen/topMargin_title&quot;\n        android:paddingStart=&quot;20dp&quot;\n        android:paddingEnd=&quot;20dp&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:fontFamily=&quot;@font/encode_sans_medium&quot;\n        android:layout_marginEnd=&quot;@dimen/topMargin_title&quot;\n        android:text=&quot;Rose&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","excel","excel-2010","business-objects"],"comments":[{"owner":{"account_id":3755548,"reputation":8177,"user_id":3165737,"accept_rate":91,"display_name":"DocZer&#248;"},"score":0,"creation_date":1451650453,"post_id":34543733,"comment_id":56854782,"body_markdown":"This is unrelated to the Java installed locally, as AAO is .NET technology. The only place where Java comes into play here, is on the server. Thus, you can dismiss the JRE installation from the equation. Best would be to enable debug logging in AAO&#39;s properties and use something like [Fiddler](http://www.telerik.com/fiddler) to debug the HTTP calls between your client and the server to see what&#39;s happening. Also, `dswsbobje` debugging (on the server) might help clarify the issue.","body":"This is unrelated to the Java installed locally, as AAO is .NET technology. The only place where Java comes into play here, is on the server. Thus, you can dismiss the JRE installation from the equation. Best would be to enable debug logging in AAO&#39;s properties and use something like <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> to debug the HTTP calls between your client and the server to see what&#39;s happening. Also, <code>dswsbobje</code> debugging (on the server) might help clarify the issue."},{"owner":{"account_id":3849123,"reputation":133,"user_id":3189700,"accept_rate":94,"display_name":"vbalearner"},"score":0,"creation_date":1451724864,"post_id":34543733,"comment_id":56871799,"body_markdown":"I am not sure how to do the &quot;dswsbobje&quot; debugging on the server.  Could you please let me know in detail (step by step)?  Thanks","body":"I am not sure how to do the &quot;dswsbobje&quot; debugging on the server.  Could you please let me know in detail (step by step)?  Thanks"},{"owner":{"account_id":3755548,"reputation":8177,"user_id":3165737,"accept_rate":91,"display_name":"DocZer&#248;"},"score":0,"creation_date":1451743441,"post_id":34543733,"comment_id":56877054,"body_markdown":"Have a look at SAP note [1668106](https://service.sap.com/sap/support/notes/1668106) on how to set up logging for `dswsbobje`. The note is for XI3 but it applies to BI4 as well. You&#39;ll need an SAP Support account to access the note though.","body":"Have a look at SAP note <a href=\"https://service.sap.com/sap/support/notes/1668106\" rel=\"nofollow noreferrer\">1668106</a> on how to set up logging for <code>dswsbobje</code>. The note is for XI3 but it applies to BI4 as well. You&#39;ll need an SAP Support account to access the note though."}],"owner":{"account_id":3849123,"reputation":133,"user_id":3189700,"accept_rate":94,"display_name":"vbalearner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4660,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684584006,"creation_date":1451552065,"question_id":34543733,"body_markdown":"In our company we have started using SAP BusinessObjects Analysis Edition for Microsoft Office (Version: 2.1.1.10239) for Microsoft Office 2010. But from past few days I have started getting the following error message while logging into Analysis Edition for Microsoft Office:\r\n\r\n&gt; constructor exception (Error: WSE 99999) \r\n\r\nWhen I contacted our Tech support, they were saying that ***&quot;It is an error in the Java code that handles the connection between your AAO Add-in in Excel and the BOE server (Web Service)&quot;*** \r\n\r\nI have reinstalled Java 8 Update 66 and also reinstalled Analysis Edition for Microsoft Office, but still I am getting that error.  I am  also attaching error screenshot for your reference.\r\n\r\nPlease help me to fix this problem.\r\n \r\nI have tried all possible options before posting this question here. I have been trying to fix this from past 4 days and I couldn&#39;t succeed :(\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1yCal.png","title":"constructor exception (Error: WSE 99999) in SAP BusinessObjects Analysis Edition for Microsoft Office","body":"<p>In our company we have started using SAP BusinessObjects Analysis Edition for Microsoft Office (Version: 2.1.1.10239) for Microsoft Office 2010. But from past few days I have started getting the following error message while logging into Analysis Edition for Microsoft Office:</p>\n<blockquote>\n<p>constructor exception (Error: WSE 99999)</p>\n</blockquote>\n<p>When I contacted our Tech support, they were saying that <em><strong>&quot;It is an error in the Java code that handles the connection between your AAO Add-in in Excel and the BOE server (Web Service)&quot;</strong></em></p>\n<p>I have reinstalled Java 8 Update 66 and also reinstalled Analysis Edition for Microsoft Office, but still I am getting that error.  I am  also attaching error screenshot for your reference.</p>\n<p>Please help me to fix this problem.</p>\n<p>I have tried all possible options before posting this question here. I have been trying to fix this from past 4 days and I couldn't succeed :(</p>\n<p><a href=\"https://i.stack.imgur.com/1yCal.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1yCal.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684581429,"creation_date":1684581062,"answer_id":76294902,"question_id":76294270,"body_markdown":"Remove `@Transactional` in `CountryServiceImpl`. Since the QuestServiceImpl class has `@Transactional` on the save() method, the method will execute within a single transaction, including the `countryService.save()` invoke.","title":"when saving the entity , I get Attempting to save one or more entities that have a non-nullable association with an unsaved transient entity","body":"<p>Remove <code>@Transactional</code> in <code>CountryServiceImpl</code>. Since the QuestServiceImpl class has <code>@Transactional</code> on the save() method, the method will execute within a single transaction, including the <code>countryService.save()</code> invoke.</p>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684583828,"creation_date":1684572183,"question_id":76294270,"body_markdown":"Java 17 Spring + Hibernate\r\n\r\nThere are two entities\r\n\t\r\n    @Entity\r\n    public class Quest {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        \r\n        private String name;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(nullable = false)\r\n        private Country country;\r\n    \r\n    }\r\n    \t\r\n    @Entity\r\n    public class Country {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        private String name;\r\n    }\r\n\r\nI save entities separately in order to perform checks on the Country entity before that and possibly change the Quest entity.\r\nHere is the class of the service in which the entities are saved.\r\nI save the Country entity first so that the corresponding entry has already been created in the country table.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class QuestServiceImpl implements QuestService {\r\n    \r\n        private final QuestRepository questRepository;\r\n    \r\n        private final CountryService countryService;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Quest save(Quest quest) {\r\n    \t\r\n    \t\tvar country = quest.getCountry().getName();\r\n    \t\t// Checks are performed here before saving\r\n    \t\tcountryService.save(getCountry(country));\r\n            return questRepository.save(quest);\r\n        }\r\n    \r\n        Country getCountry(String name) {\r\n         ...\r\n            return country;\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CountryServiceImpl implements CountryService {\r\n    \r\n        private final CountryRepository countryRepository;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Country save(Country country) {\r\n            return countryRepository.save(country);\r\n        }\r\n    \r\n    }\r\n\r\nAs a result, I get an error\r\n\r\n    HHH000437: Attempting to save one or more entities that have a non-nullable association with an unsaved transient entity. The unsaved transient entity must be saved in an operation prior to saving these dependent entities.\r\n\r\nI understand that the problem is that all the code is executed within a single transaction.\r\nBut my CountryServiceImpl#save method is also marked as @Transactional.\r\nHow do I fix this?\r\n\r\n\r\nIf I remove @Transactional in CountryServiceImpl, I still get the same error. But in this case, the data is written to the Country table. But they are still not written to the Quest table. The same thing happens if I remove @Transactional in both services.","title":"when saving the entity , I get Attempting to save one or more entities that have a non-nullable association with an unsaved transient entity","body":"<p>Java 17 Spring + Hibernate</p>\n<p>There are two entities</p>\n<pre><code>@Entity\npublic class Quest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String name;\n\n    @ManyToOne\n    @JoinColumn(nullable = false)\n    private Country country;\n\n}\n    \n@Entity\npublic class Country {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String name;\n}\n</code></pre>\n<p>I save entities separately in order to perform checks on the Country entity before that and possibly change the Quest entity.\nHere is the class of the service in which the entities are saved.\nI save the Country entity first so that the corresponding entry has already been created in the country table.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class QuestServiceImpl implements QuestService {\n\n    private final QuestRepository questRepository;\n\n    private final CountryService countryService;\n\n    @Override\n    @Transactional\n    public Quest save(Quest quest) {\n    \n        var country = quest.getCountry().getName();\n        // Checks are performed here before saving\n        countryService.save(getCountry(country));\n        return questRepository.save(quest);\n    }\n\n    Country getCountry(String name) {\n     ...\n        return country;\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class CountryServiceImpl implements CountryService {\n\n    private final CountryRepository countryRepository;\n\n    @Override\n    @Transactional\n    public Country save(Country country) {\n        return countryRepository.save(country);\n    }\n\n}\n</code></pre>\n<p>As a result, I get an error</p>\n<pre><code>HHH000437: Attempting to save one or more entities that have a non-nullable association with an unsaved transient entity. The unsaved transient entity must be saved in an operation prior to saving these dependent entities.\n</code></pre>\n<p>I understand that the problem is that all the code is executed within a single transaction.\nBut my CountryServiceImpl#save method is also marked as @Transactional.\nHow do I fix this?</p>\n<p>If I remove @Transactional in CountryServiceImpl, I still get the same error. But in this case, the data is written to the Country table. But they are still not written to the Quest table. The same thing happens if I remove @Transactional in both services.</p>\n"},{"tags":["java","nullpointerexception","business-objects","webi"],"answers":[{"tags":[],"owner":{"account_id":3755548,"reputation":8177,"user_id":3165737,"accept_rate":91,"display_name":"DocZer&#248;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1480658980,"creation_date":1454264382,"answer_id":35117518,"question_id":35060334,"body_markdown":"First of all, your server and client should **always** be on the same version. Using a different version on the client than on the server is not supported.\r\n\r\nThe error message is referring to an error in the underlying XML representation of the Web Intelligence document.\r\n\r\nYou&#39;ll have to test if you can replicate the issue using the 4.1 version of the Web Intelligence Rich Client (so without any SP installed).","title":"Webi Rich Client Null pointer exception error","body":"<p>First of all, your server and client should <strong>always</strong> be on the same version. Using a different version on the client than on the server is not supported.</p>\n\n<p>The error message is referring to an error in the underlying XML representation of the Web Intelligence document.</p>\n\n<p>You'll have to test if you can replicate the issue using the 4.1 version of the Web Intelligence Rich Client (so without any SP installed).</p>\n"}],"owner":{"account_id":4119003,"reputation":25,"user_id":3379884,"display_name":"Adraa06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35117518,"answer_count":1,"score":2,"last_activity_date":1684583796,"creation_date":1453980636,"question_id":35060334,"body_markdown":"I&#39;m trying to create a new Webi document based on a duplicate old one that we have been migrated from BOXI 3.1. I make my changes (filters, expressions) without any problem. When I save it (in different folders) and try to reopen it, I get the following error : \r\n\r\nAn error has occurred\r\n\r\n&gt; java.lang.NullPointerException\r\n    at com.sap.webi.ui.action.PageSizeAction.onUpdateUI(PageSizeAction.java:278) \r\n\r\nAnd the document is damaged for good ! but I can open other documents.\r\n\r\n**I&#39;m on SAP BI 4.1 platform SP3, the server is on 4.1 but native version.**\r\n\r\nI noticed that **.glf** is created before getting the error that has the following content : \r\n\r\n&gt; |527A5B9C76094BE390D9B582D003D7CE0|2016 01 27 11:25:58.876|+0000|Error| |&gt;=|E| |TraceLog| 9504|  38|OpenDocTask-5515057-1| |0|0|0|0|-|-|-|-|-|-||||||||||com.sap.sl.sdk.parser.xml.ServerObjectParser||Unknown data type &quot;error&quot;\r\n|527A5B9C76094BE390D9B582D003D7CE1|2016 01 27 11:26:00.636|+0000|Error| |&gt;=|E| |TraceLog| 9504|  38|OpenDocTask-5515057-1| ||||||||||||||||||||com.sap.webi.client.toolkit.document.DocumentInstanceWrapper||initRebeanNavigationState - getNavigationState \r\njava.lang.IndexOutOfBoundsException: only START_TAG can have attributes END_DOCUMENT seen ...&lt;/METHODRETURN&gt;... @16:16\r\n\r\n**ETC**\r\n\r\n&gt; |527A5B9C76094BE390D9B582D003D7CE2|2016 01 27 11:26:03.146|+0000|Error| |&gt;=|E| |TraceLog| 9504|  16|AWT-EventQueue-0| ||||||||||||||||||||com.sap.webi.client.toolkit.document.DocumentInstanceWrapper||initRebeanNavigationState - getNavigationState \r\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    \tat java.util.ArrayList.rangeCheck(Unknown Source)\r\n    \tat java.util.ArrayList.get(Unknown Source)\r\n\r\nPlease can anybody help me? \r\n\r\nThanks a lot,\r\n\r\nRegards,\r\nAdraa\r\n","title":"Webi Rich Client Null pointer exception error","body":"<p>I'm trying to create a new Webi document based on a duplicate old one that we have been migrated from BOXI 3.1. I make my changes (filters, expressions) without any problem. When I save it (in different folders) and try to reopen it, I get the following error :</p>\n<p>An error has occurred</p>\n<blockquote>\n<p>java.lang.NullPointerException\nat com.sap.webi.ui.action.PageSizeAction.onUpdateUI(PageSizeAction.java:278)</p>\n</blockquote>\n<p>And the document is damaged for good ! but I can open other documents.</p>\n<p><strong>I'm on SAP BI 4.1 platform SP3, the server is on 4.1 but native version.</strong></p>\n<p>I noticed that <strong>.glf</strong> is created before getting the error that has the following content :</p>\n<blockquote>\n<p>|527A5B9C76094BE390D9B582D003D7CE0|2016 01 27 11:25:58.876|+0000|Error| |&gt;=|E| |TraceLog| 9504|  38|OpenDocTask-5515057-1| |0|0|0|0|-|-|-|-|-|-||||||||||com.sap.sl.sdk.parser.xml.ServerObjectParser||Unknown data type &quot;error&quot;\n|527A5B9C76094BE390D9B582D003D7CE1|2016 01 27 11:26:00.636|+0000|Error| |&gt;=|E| |TraceLog| 9504|  38|OpenDocTask-5515057-1| ||||||||||||||||||||com.sap.webi.client.toolkit.document.DocumentInstanceWrapper||initRebeanNavigationState - getNavigationState\njava.lang.IndexOutOfBoundsException: only START_TAG can have attributes END_DOCUMENT seen ...... @16:16</p>\n</blockquote>\n<p><strong>ETC</strong></p>\n<blockquote>\n<p>|527A5B9C76094BE390D9B582D003D7CE2|2016 01 27 11:26:03.146|+0000|Error| |&gt;=|E| |TraceLog| 9504|  16|AWT-EventQueue-0| ||||||||||||||||||||com.sap.webi.client.toolkit.document.DocumentInstanceWrapper||initRebeanNavigationState - getNavigationState\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\nat java.util.ArrayList.rangeCheck(Unknown Source)\nat java.util.ArrayList.get(Unknown Source)</p>\n</blockquote>\n<p>Please can anybody help me?</p>\n<p>Thanks a lot,</p>\n<p>Regards,\nAdraa</p>\n"},{"tags":["java","garbage-collection","java-mission-control","zgc","shenandoah"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684587350,"post_id":76295073,"comment_id":134540626,"body_markdown":"What exactly are you trying to compare? Note that Java GC algorithms are very complex with lots of nuances. They may not provide comparable metrics in this way.","body":"What exactly are you trying to compare? Note that Java GC algorithms are very complex with lots of nuances. They may not provide comparable metrics in this way."},{"owner":{"account_id":13817020,"reputation":446,"user_id":9973390,"display_name":"Peybro"},"score":0,"creation_date":1684589477,"post_id":76295073,"comment_id":134540920,"body_markdown":"I would like to compare the times each GC is active and how often it gets revoked","body":"I would like to compare the times each GC is active and how often it gets revoked"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684592690,"post_id":76295073,"comment_id":134541275,"body_markdown":"Do you mean *invoked*?","body":"Do you mean <i>invoked</i>?"},{"owner":{"account_id":13817020,"reputation":446,"user_id":9973390,"display_name":"Peybro"},"score":0,"creation_date":1684618873,"post_id":76295073,"comment_id":134544288,"body_markdown":"Yes of course! My fault","body":"Yes of course! My fault"}],"owner":{"account_id":13817020,"reputation":446,"user_id":9973390,"display_name":"Peybro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684583407,"creation_date":1684583407,"question_id":76295073,"body_markdown":"When using Serial, Parallel or G1 GCs I can directly see their Collection Counts and accumulated times. However when using ZGC and ShenandoahGC it shows two different Counts and Times for each - for Pause and for Cycles.\r\n\r\nWhich one of these is the right one for comparing the GC between each other?","title":"What do GC Pause and GC Cycles mean in JDK Misson Control using ZGC and ShenandoahGC?","body":"<p>When using Serial, Parallel or G1 GCs I can directly see their Collection Counts and accumulated times. However when using ZGC and ShenandoahGC it shows two different Counts and Times for each - for Pause and for Cycles.</p>\n<p>Which one of these is the right one for comparing the GC between each other?</p>\n"},{"tags":["java","algorithm","math","precision","modulo"],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471810151,"creation_date":1471810151,"answer_id":39068415,"question_id":39068283,"body_markdown":"This is a problem:\r\n\r\n    double op1 = Math.pow(10,L*K);\r\n\r\nfor example, when `n = 20`, `L*K = 40`, and `op1 = 10000000000000000303786028427003666890752`. As for why, the usual floating point business: it&#39;s the closest it could get. There is no `double` with a value of exactly 1E40.\r\n\r\n`op1` won&#39;t print like that (you&#39;ll see 1E40 and think all is fine), but it will convert like that. Then you&#39;re going to use `BigDecimal` which is fine (though odd), it already went wrong before that.\r\n\r\nI assume you used `BigDecimal` *because* you converted from a `double`, otherwise you would have used `BigInteger`. Just use `BigInteger.pow` instead of `Math.pow` and it may work (it fixes this issue, if there&#39;s anything else I haven&#39;t noticed but I can&#39;t promise it will work).\r\n\r\n`Math.pow(10,L)` on the other hand shouldn&#39;t be a problem, because `L` is low enough .. for now. You might as well change that too and have it work for large `L` though.","title":"Modulus of a N number concatenaded N times","body":"<p>This is a problem:</p>\n\n<pre><code>double op1 = Math.pow(10,L*K);\n</code></pre>\n\n<p>for example, when <code>n = 20</code>, <code>L*K = 40</code>, and <code>op1 = 10000000000000000303786028427003666890752</code>. As for why, the usual floating point business: it's the closest it could get. There is no <code>double</code> with a value of exactly 1E40.</p>\n\n<p><code>op1</code> won't print like that (you'll see 1E40 and think all is fine), but it will convert like that. Then you're going to use <code>BigDecimal</code> which is fine (though odd), it already went wrong before that.</p>\n\n<p>I assume you used <code>BigDecimal</code> <em>because</em> you converted from a <code>double</code>, otherwise you would have used <code>BigInteger</code>. Just use <code>BigInteger.pow</code> instead of <code>Math.pow</code> and it may work (it fixes this issue, if there's anything else I haven't noticed but I can't promise it will work).</p>\n\n<p><code>Math.pow(10,L)</code> on the other hand shouldn't be a problem, because <code>L</code> is low enough .. for now. You might as well change that too and have it work for large <code>L</code> though.</p>\n"},{"tags":[],"owner":{"account_id":1295893,"reputation":61,"user_id":1246965,"display_name":"prunesquallor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471810743,"creation_date":1471810182,"answer_id":39068417,"question_id":39068283,"body_markdown":"`double op1 = Math.pow(10,L*K)`\r\n\r\nThis here will overflow for large values of n. Double.MAX_VALUE ~ 1.7*10^308 (i.e.) for L*K &gt; 308, it will overflow.\r\n\r\nEdit: double will fail to accurately represent much smaller values as harold mentioned in his answer.","title":"Modulus of a N number concatenaded N times","body":"<p><code>double op1 = Math.pow(10,L*K)</code></p>\n\n<p>This here will overflow for large values of n. Double.MAX_VALUE ~ 1.7*10^308 (i.e.) for L*K > 308, it will overflow.</p>\n\n<p>Edit: double will fail to accurately represent much smaller values as harold mentioned in his answer.</p>\n"},{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471816772,"creation_date":1471814182,"answer_id":39068944,"question_id":39068283,"body_markdown":"**Use math!** A good interviewer wants you to use your brain and *solve* a problem, not brute-force things with crappy code.\n\nIn this case, he probably wanted you to use the equalities\n\n1. ab mod n = [(a mod n)(b mod n)] mod n\n\n2. (a + b) mod n = [(a mod n) + (b mod n)] mod n\n\nand the fact that e.g. concatenating a four digit number three times is the same as `xyzu * 100010001` and the latter can be further broken down into `10000^0+10000^1+10000^2`.\n\nNow in your case, the base number x and the number of repetitions y is the same, and both are rather big. But the modulus n is small. Let D be the next power of 10 larger than x.\n\nThus D mod n isn&#39;t actually D, but less than 2017. And instead of computing D^y, you can actually compute ((D mod n)^y) mod n, and if you do this in a for loop it will eventually (after at most 2017 steps) *cycle* or become 0. You can therefore compute this term in at most 2017 iterations. So the complexity of this smart approach is O(n) where n is the modulo term, whereas the naive approach will require O(x*y) memory.\n\nWith these tricks, you should be able to do this *without* BigInteger, and *much* faster.\n\n  [1]: https://en.m.wikipedia.org/wiki/Fermat%27s_little_theorem","title":"Modulus of a N number concatenaded N times","body":"<p><strong>Use math!</strong> A good interviewer wants you to use your brain and <em>solve</em> a problem, not brute-force things with crappy code.</p>\n\n<p>In this case, he probably wanted you to use the equalities</p>\n\n<ol>\n<li><p>ab mod n = [(a mod n)(b mod n)] mod n</p></li>\n<li><p>(a + b) mod n = [(a mod n) + (b mod n)] mod n</p></li>\n</ol>\n\n<p>and the fact that e.g. concatenating a four digit number three times is the same as <code>xyzu * 100010001</code> and the latter can be further broken down into <code>10000^0+10000^1+10000^2</code>.</p>\n\n<p>Now in your case, the base number x and the number of repetitions y is the same, and both are rather big. But the modulus n is small. Let D be the next power of 10 larger than x.</p>\n\n<p>Thus D mod n isn't actually D, but less than 2017. And instead of computing D^y, you can actually compute ((D mod n)^y) mod n, and if you do this in a for loop it will eventually (after at most 2017 steps) <em>cycle</em> or become 0. You can therefore compute this term in at most 2017 iterations. So the complexity of this smart approach is O(n) where n is the modulo term, whereas the naive approach will require O(x*y) memory.</p>\n\n<p>With these tricks, you should be able to do this <em>without</em> BigInteger, and <em>much</em> faster.</p>\n"},{"tags":[],"owner":{"account_id":8918408,"reputation":3806,"user_id":6656050,"display_name":"Jeremy Kahan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1471857349,"creation_date":1471857349,"answer_id":39075580,"question_id":39068283,"body_markdown":"I laid this all out in the comments on https://stackoverflow.com/questions/38988665/java-puzzle-whats-the-correct-answer#comment65349106_38988665, but you can take what @Anony-Mousse and others above say and work with it.\r\n\r\nOne key is to find 10^17 mod 2017 up front. Wolfram Alpha gets that right, anyway at 599, but on other platforms you may need to look at it as ((10^9 mod 2017)*(10^8 mod 2017))mod 2017 to get the 599. You also need that 58184241583791680 mod 2017 is 2005 (again Wolfram gets this right, but lesser platforms may falter if you do not break it up into something like (((581842415 mod 2017)*(10^8 mod 2017) mod 2017)+83791680)mod 2017.\r\n\r\nSo at each step of the (58184241583791680 but no fear) process you are taking your current number and multiplying it by 10^17 (to move it over to make room for the concatenation) and adding 58184241583791680. But we can do this all mod 2017. In the language of sequences a sub 1 = 2005 and a sub (n+1)=((a sub n)*599+2005) mod 2017.\r\nThat is the key step in your for loop. I did the first 4040 or so terms in R (got to love that you can just lay them out on screen interactively and pore over them -- the language is growing on me), though it really would have sufficed to do about half that (the good old Pigeonhole principle at work). And they do not cycle until you actually get all the way out to a sub 2017 which is 2005 again. So is a sub 4033.\r\n\r\nIn general a sub n = a sub (n mod 2016). You want a sub 58184241583791680. 58184241583791680 mod 2016 is 224 says Wolfram Alpha [again on a lesser platform you may need to break it up into (((581842415 mod 2016)*(10^8 mod 2016) mod 2016)+83791680)mod 2016], so you want a sub 224.\r\n\r\nIf people want to check themselves or me, I got on R that that was 465. But as was pointed out above, the process is what the question is really interested in.","title":"Modulus of a N number concatenaded N times","body":"<p>I laid this all out in the comments on <a href=\"https://stackoverflow.com/questions/38988665/java-puzzle-whats-the-correct-answer#comment65349106_38988665\">https://stackoverflow.com/questions/38988665/java-puzzle-whats-the-correct-answer#comment65349106_38988665</a>, but you can take what @Anony-Mousse and others above say and work with it.</p>\n\n<p>One key is to find 10^17 mod 2017 up front. Wolfram Alpha gets that right, anyway at 599, but on other platforms you may need to look at it as ((10^9 mod 2017)<em>(10^8 mod 2017))mod 2017 to get the 599. You also need that 58184241583791680 mod 2017 is 2005 (again Wolfram gets this right, but lesser platforms may falter if you do not break it up into something like (((581842415 mod 2017)</em>(10^8 mod 2017) mod 2017)+83791680)mod 2017.</p>\n\n<p>So at each step of the (58184241583791680 but no fear) process you are taking your current number and multiplying it by 10^17 (to move it over to make room for the concatenation) and adding 58184241583791680. But we can do this all mod 2017. In the language of sequences a sub 1 = 2005 and a sub (n+1)=((a sub n)*599+2005) mod 2017.\nThat is the key step in your for loop. I did the first 4040 or so terms in R (got to love that you can just lay them out on screen interactively and pore over them -- the language is growing on me), though it really would have sufficed to do about half that (the good old Pigeonhole principle at work). And they do not cycle until you actually get all the way out to a sub 2017 which is 2005 again. So is a sub 4033.</p>\n\n<p>In general a sub n = a sub (n mod 2016). You want a sub 58184241583791680. 58184241583791680 mod 2016 is 224 says Wolfram Alpha [again on a lesser platform you may need to break it up into (((581842415 mod 2016)*(10^8 mod 2016) mod 2016)+83791680)mod 2016], so you want a sub 224.</p>\n\n<p>If people want to check themselves or me, I got on R that that was 465. But as was pointed out above, the process is what the question is really interested in.</p>\n"},{"tags":[],"owner":{"account_id":17112863,"reputation":1,"user_id":12383189,"display_name":"jonathan Martinez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573915696,"creation_date":1573913249,"answer_id":58891539,"question_id":39068283,"body_markdown":"    import java.math.BigInteger;\r\n    class Puzzle {\r\n\r\n        final static BigInteger M = new BigInteger(&quot;2017&quot;);\r\n        private static BigInteger compute(long n) {\r\n             String s = &quot;&quot;;\r\n             String a = new BigInteger(n+&quot;&quot;).mod(M)+&quot;&quot;;\r\n\r\n             for (long i = 0; i &lt; Integer.parseInt(a); i++) {\r\n                  s = s + a ;\r\n                  s = new BigInteger(s).mod(M)+&quot;&quot;;\r\n             }\r\n             return new BigInteger(s.toString()).mod(M);\r\n\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n\r\n           for (long n : new long[] { 1L, 2L, 5L, 10L, 20L, 58184241583791680L }) {\r\n               System.out.println(&quot;&quot; + n + &quot;: &quot; + compute(n));\r\n           }\r\n\r\n        }\r\n    }\r\n\r\n\r\n","title":"Modulus of a N number concatenaded N times","body":"<pre><code>import java.math.BigInteger;\nclass Puzzle {\n\n    final static BigInteger M = new BigInteger(\"2017\");\n    private static BigInteger compute(long n) {\n         String s = \"\";\n         String a = new BigInteger(n+\"\").mod(M)+\"\";\n\n         for (long i = 0; i &lt; Integer.parseInt(a); i++) {\n              s = s + a ;\n              s = new BigInteger(s).mod(M)+\"\";\n         }\n         return new BigInteger(s.toString()).mod(M);\n\n    }\n\n    public static void main(String args[]) {\n\n       for (long n : new long[] { 1L, 2L, 5L, 10L, 20L, 58184241583791680L }) {\n           System.out.println(\"\" + n + \": \" + compute(n));\n       }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18379653,"reputation":1,"user_id":16800714,"display_name":"Parag Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684582543,"creation_date":1684582543,"answer_id":76295016,"question_id":39068283,"body_markdown":"You can actually do it in **log(n)** time.\r\nwhich is faster than any of the methods explained above.\r\n\r\nthings you would need in your toolbox:\r\n 1. **power(a, b)** with some modulo (it would be always right if the modulo is prime which is in your case)\r\n 2. knowledge that in **a%x + b%x == (a+b)%x similary for multiplication.**\r\n 3. calculating inverse modulo\r\n\r\n**if you don&#39;t know any of these methods you can google it.**\r\n\r\nnow to the solution:\r\n\r\nfirst let your given num be 1234\r\nthen we need to calculate 1234 1234 1234 ... 1234 times \r\n\r\nit is equal to &lt;b&gt;1234 + 10^4 * 1234 + 10^8 * 1234 + 10^12 * 1234 ... 10^(4* 1233) * 1234&lt;/b&gt;\r\n\r\n**we get GP**\r\n\r\n== &lt;b&gt;1234*(10^(4*1234) - 1)/(10^4 - 1)&lt;/b&gt;\r\n\r\nreplace 1234 with x and 4 (number of digits in N ) with y\r\n\r\nwe get &lt;b&gt;x*(10^(x*y) -1 )/(10^y - 1 )&lt;/b&gt;\r\n\r\nthis power and inverse functions take only log(n) time\r\n\r\nnow our answer is **x * (power(10, x*y) -1 ) * inverse(power(10, y) - 1)**;\r\nmodulo all this and you get your answer\r\n\r\ni might have made some mistakes, pardon those.\r\nthis might be a heafty read if you don&#39;t know the above requirements.\r\n","title":"Modulus of a N number concatenaded N times","body":"<p>You can actually do it in <strong>log(n)</strong> time.\nwhich is faster than any of the methods explained above.</p>\n<p>things you would need in your toolbox:</p>\n<ol>\n<li><strong>power(a, b)</strong> with some modulo (it would be always right if the modulo is prime which is in your case)</li>\n<li>knowledge that in <strong>a%x + b%x == (a+b)%x similary for multiplication.</strong></li>\n<li>calculating inverse modulo</li>\n</ol>\n<p><strong>if you don't know any of these methods you can google it.</strong></p>\n<p>now to the solution:</p>\n<p>first let your given num be 1234\nthen we need to calculate 1234 1234 1234 ... 1234 times</p>\n<p>it is equal to <b>1234 + 10^4 * 1234 + 10^8 * 1234 + 10^12 * 1234 ... 10^(4* 1233) * 1234</b></p>\n<p><strong>we get GP</strong></p>\n<p>== <b>1234*(10^(4*1234) - 1)/(10^4 - 1)</b></p>\n<p>replace 1234 with x and 4 (number of digits in N ) with y</p>\n<p>we get <b>x*(10^(x*y) -1 )/(10^y - 1 )</b></p>\n<p>this power and inverse functions take only log(n) time</p>\n<p>now our answer is <strong>x * (power(10, x*y) -1 ) * inverse(power(10, y) - 1)</strong>;\nmodulo all this and you get your answer</p>\n<p>i might have made some mistakes, pardon those.\nthis might be a heafty read if you don't know the above requirements.</p>\n"}],"owner":{"account_id":1013620,"reputation":1824,"user_id":1025691,"display_name":"Orejano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1988,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":39075580,"answer_count":6,"score":1,"last_activity_date":1684582543,"creation_date":1471809008,"question_id":39068283,"body_markdown":"I had the following scenario today on an Interview for a Developer Job, this was one of the questions, and only one I fail to answer.\r\n\r\nConcatenate the number N N times and then calculate his Modulus by 2017.\r\n\r\nFor example: for N=5 the number will be 55555 and the result will be Mod(55555,2017) = 1096 for N=10 the number will be 10101010101010101010 and the result Mod(10101010101010101010,2017) = 1197\r\n\r\nNow the Number I had to calculate was 58184241583791680. The only hint I got was that the result of 58184241583791680 concatenated 58184241583791680 times modulus 2017 is a 4 digit number.\r\n\r\nI posted [this question][1] on math.stackexchange and I got a mathematical approach to this problem, other than brute force.\r\n\r\nI wrote the following code in JAVA\r\n\r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger;\r\n    import java.math.MathContext;\r\n\r\n    public class Puzzle {\r\n        final static BigInteger M = new BigInteger(&quot;2017&quot;);\r\n\r\n    public static void main(String [ ] args) {\r\n        for (long n : new long[] { 1L, 2L, 5L, 10L, 20L }) { \r\n            System.out.println(n + &quot; --&gt; &quot; + bruteForce(n) + &quot; --- &quot; + formulaV2(n));\r\n        }\r\n    }\r\n\r\n\r\n    private static BigInteger bruteForce(long n) {\r\n        String s = &quot;&quot;;\r\n        for (long i = 0; i &lt; n; i++) {\r\n            s = s + n;\r\n        }\r\n        return new BigInteger(s.toString()).mod(M);\r\n    }\r\n\r\n    private static BigInteger formulaV2(long n) {\r\n        String aux = String.valueOf(n);\r\n        long L = aux.length();\r\n        long K = n;           \r\n\r\n        double op1 = Math.pow(10,L*K);\r\n        BigDecimal minus1 = new BigDecimal(1);\r\n        BigDecimal p1 = new BigDecimal(op1).subtract(minus1);\r\n\r\n        double op2 = Math.pow(10,L);\r\n        BigDecimal p2 = new BigDecimal(op2).subtract(minus1).pow(-1,MathContext.DECIMAL64);\r\n\r\n        BigDecimal R = new BigDecimal(n).multiply(p1).multiply(p2);\r\n        R = R.setScale(0,BigDecimal.ROUND_UP);\r\n        BigInteger ret = R.toBigInteger();\r\n        return ret.mod(M);\r\n    }\r\n    }\r\n\r\n\r\nI&#39;m using BigInteger and BigDecimal because I want to get the value of really big numbers (16+ digits).\r\n\r\nThe bruteForce method will simply concatenate the number inside a loop, and the formulaV2 method will use the formula from the question asked in the math forum.\r\n\r\nbruteForce method is just for validation.\r\n\r\nHowever the formula method works well for N&lt;10 but no for N&gt;=10. At N=10 I&#39;m getting incorrect results.\r\n\r\nThe coding seems to be consistent (to me at least, maybe there is something I&#39;m missing) with the formula provided, and the formula is correct (I checked in Wolfram Alpha).\r\n\r\nMy guess is that I have precision problems, maybe BigDecimal is not the proper object in this case?.\r\n\r\n  [1]: https://math.stackexchange.com/questions/1897693/get-the-modulus-of-a-number-n-concatenated-n-times\r\n","title":"Modulus of a N number concatenaded N times","body":"<p>I had the following scenario today on an Interview for a Developer Job, this was one of the questions, and only one I fail to answer.</p>\n\n<p>Concatenate the number N N times and then calculate his Modulus by 2017.</p>\n\n<p>For example: for N=5 the number will be 55555 and the result will be Mod(55555,2017) = 1096 for N=10 the number will be 10101010101010101010 and the result Mod(10101010101010101010,2017) = 1197</p>\n\n<p>Now the Number I had to calculate was 58184241583791680. The only hint I got was that the result of 58184241583791680 concatenated 58184241583791680 times modulus 2017 is a 4 digit number.</p>\n\n<p>I posted <a href=\"https://math.stackexchange.com/questions/1897693/get-the-modulus-of-a-number-n-concatenated-n-times\">this question</a> on math.stackexchange and I got a mathematical approach to this problem, other than brute force.</p>\n\n<p>I wrote the following code in JAVA</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.math.MathContext;\n\npublic class Puzzle {\n    final static BigInteger M = new BigInteger(\"2017\");\n\npublic static void main(String [ ] args) {\n    for (long n : new long[] { 1L, 2L, 5L, 10L, 20L }) { \n        System.out.println(n + \" --&gt; \" + bruteForce(n) + \" --- \" + formulaV2(n));\n    }\n}\n\n\nprivate static BigInteger bruteForce(long n) {\n    String s = \"\";\n    for (long i = 0; i &lt; n; i++) {\n        s = s + n;\n    }\n    return new BigInteger(s.toString()).mod(M);\n}\n\nprivate static BigInteger formulaV2(long n) {\n    String aux = String.valueOf(n);\n    long L = aux.length();\n    long K = n;           \n\n    double op1 = Math.pow(10,L*K);\n    BigDecimal minus1 = new BigDecimal(1);\n    BigDecimal p1 = new BigDecimal(op1).subtract(minus1);\n\n    double op2 = Math.pow(10,L);\n    BigDecimal p2 = new BigDecimal(op2).subtract(minus1).pow(-1,MathContext.DECIMAL64);\n\n    BigDecimal R = new BigDecimal(n).multiply(p1).multiply(p2);\n    R = R.setScale(0,BigDecimal.ROUND_UP);\n    BigInteger ret = R.toBigInteger();\n    return ret.mod(M);\n}\n}\n</code></pre>\n\n<p>I'm using BigInteger and BigDecimal because I want to get the value of really big numbers (16+ digits).</p>\n\n<p>The bruteForce method will simply concatenate the number inside a loop, and the formulaV2 method will use the formula from the question asked in the math forum.</p>\n\n<p>bruteForce method is just for validation.</p>\n\n<p>However the formula method works well for N&lt;10 but no for N>=10. At N=10 I'm getting incorrect results.</p>\n\n<p>The coding seems to be consistent (to me at least, maybe there is something I'm missing) with the formula provided, and the formula is correct (I checked in Wolfram Alpha).</p>\n\n<p>My guess is that I have precision problems, maybe BigDecimal is not the proper object in this case?.</p>\n"},{"tags":["java","tcp","ip","serversocket"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677756474,"post_id":75614738,"comment_id":133402509,"body_markdown":"I don&#39;t get it. The buffer in your first sample code is empty - why?","body":"I don&#39;t get it. The buffer in your first sample code is empty - why?"},{"owner":{"account_id":22135656,"reputation":11,"user_id":16386503,"display_name":"oswin122"},"score":0,"creation_date":1677756771,"post_id":75614738,"comment_id":133402603,"body_markdown":"Because the content of the buffer does not matter in this problem, it could also be filled with random numbers etc.. The point is that as soon as it reaches a certain size, the client says that is received 0 bytes.","body":"Because the content of the buffer does not matter in this problem, it could also be filled with random numbers etc.. The point is that as soon as it reaches a certain size, the client says that is received 0 bytes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677757400,"post_id":75614738,"comment_id":133402761,"body_markdown":"You&#39;re also going to corrupt your output as you&#39;re writing a *binary* value (the length) with a `Writer`. `Writer`s are for `String`s","body":"You&#39;re also going to corrupt your output as you&#39;re writing a <i>binary</i> value (the length) with a <code>Writer</code>. <code>Writer</code>s are for <code>String</code>s"},{"owner":{"account_id":22135656,"reputation":11,"user_id":16386503,"display_name":"oswin122"},"score":0,"creation_date":1677757749,"post_id":75614738,"comment_id":133402860,"body_markdown":"I am sending the expected size as a Integer string (with a new line at the end), and I know this is not the best solution, but why should that be speed dependent? Meaning sometimes it works, sometimes it does not.","body":"I am sending the expected size as a Integer string (with a new line at the end), and I know this is not the best solution, but why should that be speed dependent? Meaning sometimes it works, sometimes it does not."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677761683,"post_id":75614738,"comment_id":133403929,"body_markdown":"Actually you&#39;re writing an `int`. You might get away with it here but really it should be done in a proper stringified way. But you really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Actually you&#39;re writing an <code>int</code>. You might get away with it here but really it should be done in a proper stringified way. But you really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":22135656,"reputation":11,"user_id":16386503,"display_name":"oswin122"},"score":0,"creation_date":1677766748,"post_id":75614738,"comment_id":133405562,"body_markdown":"I&#39;ve tested it and adjusted my question, the given programs should be a minimal reproducible example. (If the described behavior does not work, then increase the size of the buffer that is sent by the server)","body":"I&#39;ve tested it and adjusted my question, the given programs should be a minimal reproducible example. (If the described behavior does not work, then increase the size of the buffer that is sent by the server)"}],"owner":{"account_id":22135656,"reputation":11,"user_id":16386503,"display_name":"oswin122"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684581443,"creation_date":1677756034,"question_id":75614738,"body_markdown":"While I was trying to send an Image (it&#39;s Bytes) and some other data over the Network via a Java ServerSocket, I found an interesting inconsistency in the code. \r\n\r\nI ran the same server- and client code several times, and sometimes they both deadlocked (because I had a more complex protocol between them than just sending an image), sometimes they worked fine.\r\n\r\nAfter simplifying it more and more, I found out that these programs will have a different outcome, depending on the delay I put between 2 instructions on the server side and the size of the buffer that is sent: \r\n\r\nThe server main methode:\r\n```\r\nServerSocket serverSocket = new ServerSocket(4999);\r\nSocket clientSocket = serverSocket.accept();\r\n\t\t\r\nOutputStream outStream = clientSocket.getOutputStream();\r\nPrintWriter outWriter = new PrintWriter(outStream, true);\r\n\t\t\r\nbyte buf[] = new byte[2000]; // buffer size of 2000 as an example\r\n\t\t\r\nSystem.out.println(&quot;sending: &quot; + buf.length + &quot; bytes&quot;);\r\n\r\noutWriter.println(buf.length);\r\n// If I put a delay here, for example 1000 System.out.println(1) statements, the client receives the buffer correctly, if not the client receives 0 bytes\r\noutStream.write(buf);\r\n\r\nclientSocket.close();\r\nserverSocket.close();\r\n```\r\n\r\nThe client main methode:\r\n```\r\nSocket clientSocket = new Socket(InetAddress.getByName(&quot;&lt;address of the server&gt;&quot;), 4999);\r\nBufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\r\nint len = Integer.valueOf(in.readLine());\r\nSystem.out.println(&quot;expected length: &quot; + len);\r\n\t\t\r\nbyte[] receiveBuf = clientSocket.getInputStream().readNBytes(len);\r\nSystem.out.println(&quot;received buffer length: &quot; + receiveBuf.length);\r\n/* \r\n At this point, the receiveBuf.length should be the expected size,\r\n but as soon as the server sends a to large buffer or the delay\r\n between the two send statements in the server is to small, the client prints that\r\n it received an incorrect number of bytes (always  less then the expected).\r\n\r\n With a buffer size of 20000 bytes I got the client to output that it received\r\n 11808 bytes, which is 20000 - 2^13...\r\n*/\r\n\t\t\r\nclientSocket.close();\r\n```\r\nNow my problem is, that (if I researched correctly) this transaction uses TCP/IP, which means that in contrast to UDP, the data should always be correctly sent and received, no matter how slow or fast a device is, or how much delay you put in between instructions.\r\nBut, although the client does receive the correct length of the buffer (line 4 in client), it receives a buffer with a length that is less then the expected size(outputted by the client line 8), as soon as the length of the array that was sent by the server is to long (in my case around: size &gt; 1443 bytes) or the delay between the two send statements in the server is to small(which should not matter in theory...). \r\n\r\nThings I have to mention: The exact number of bytes that the server has to send, so that the client says it received a wrong number of bytes may vary with the client speed (slow Pc, fast Pc), but 2000 bytes should already be enough (with that i could reproduce it on every device I have (Laptop, VM, Pc)). The error does not appear, if server and client are the same device!\r\n\r\nSo my question is: How can the result (and integrity) of this TCP transaction depend on the execution speed of the program on the server side and size of the buffer that is sent?\r\n\r\n**PS:** By execution speed, I mean the optional added `System.out.println()` statements in the server program, which sometimes somehow determine whether the client receives the buffer successfully or not.\r\n\r\n\r\n**Edit:**\r\nJust by running the server on my pc, and the client on my Laptop while varying the sent buffer size and repeating each for 3 times, I got these outputs:\r\n\r\n*server: &quot;sending: 2000 bytes&quot;*\r\n*client: &quot;expected length: 2000&quot; &quot;received buffer length: 0(first try, 2000 second try, 0 third try)&quot;*\r\n\r\n*server: &quot;sending: 8192 bytes&quot;*\r\n*client: &quot;expected length: 8192&quot; &quot;received buffer length: 6(first try, 0 second try, 8192 third try)&quot;*\r\n\r\n*server: &quot;sending: 20000 bytes&quot;*\r\n*client: &quot;expected length: 20000&quot; &quot;received buffer length: 11808(first try, 11808 second try, 11808 third try)&quot;*\r\n\r\n*server: &quot;sending: 100000 bytes&quot;*\r\n*client: &quot;expected length: 100000&quot; &quot;received buffer length: 91808(first try, 91808 second try, 91808 third try)&quot;*\r\n\r\n*server: &quot;sending: 1000000 bytes&quot;*\r\n*client: &quot;expected length: 1000000&quot; &quot;received buffer length: 998540(first try, 1000000 second try, 991808 third try)&quot;*","title":"A client of a Java ServerSocket does not/inconsistently receive a given number of bytes","body":"<p>While I was trying to send an Image (it's Bytes) and some other data over the Network via a Java ServerSocket, I found an interesting inconsistency in the code.</p>\n<p>I ran the same server- and client code several times, and sometimes they both deadlocked (because I had a more complex protocol between them than just sending an image), sometimes they worked fine.</p>\n<p>After simplifying it more and more, I found out that these programs will have a different outcome, depending on the delay I put between 2 instructions on the server side and the size of the buffer that is sent:</p>\n<p>The server main methode:</p>\n<pre><code>ServerSocket serverSocket = new ServerSocket(4999);\nSocket clientSocket = serverSocket.accept();\n        \nOutputStream outStream = clientSocket.getOutputStream();\nPrintWriter outWriter = new PrintWriter(outStream, true);\n        \nbyte buf[] = new byte[2000]; // buffer size of 2000 as an example\n        \nSystem.out.println(&quot;sending: &quot; + buf.length + &quot; bytes&quot;);\n\noutWriter.println(buf.length);\n// If I put a delay here, for example 1000 System.out.println(1) statements, the client receives the buffer correctly, if not the client receives 0 bytes\noutStream.write(buf);\n\nclientSocket.close();\nserverSocket.close();\n</code></pre>\n<p>The client main methode:</p>\n<pre><code>Socket clientSocket = new Socket(InetAddress.getByName(&quot;&lt;address of the server&gt;&quot;), 4999);\nBufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\nint len = Integer.valueOf(in.readLine());\nSystem.out.println(&quot;expected length: &quot; + len);\n        \nbyte[] receiveBuf = clientSocket.getInputStream().readNBytes(len);\nSystem.out.println(&quot;received buffer length: &quot; + receiveBuf.length);\n/* \n At this point, the receiveBuf.length should be the expected size,\n but as soon as the server sends a to large buffer or the delay\n between the two send statements in the server is to small, the client prints that\n it received an incorrect number of bytes (always  less then the expected).\n\n With a buffer size of 20000 bytes I got the client to output that it received\n 11808 bytes, which is 20000 - 2^13...\n*/\n        \nclientSocket.close();\n</code></pre>\n<p>Now my problem is, that (if I researched correctly) this transaction uses TCP/IP, which means that in contrast to UDP, the data should always be correctly sent and received, no matter how slow or fast a device is, or how much delay you put in between instructions.\nBut, although the client does receive the correct length of the buffer (line 4 in client), it receives a buffer with a length that is less then the expected size(outputted by the client line 8), as soon as the length of the array that was sent by the server is to long (in my case around: size &gt; 1443 bytes) or the delay between the two send statements in the server is to small(which should not matter in theory...).</p>\n<p>Things I have to mention: The exact number of bytes that the server has to send, so that the client says it received a wrong number of bytes may vary with the client speed (slow Pc, fast Pc), but 2000 bytes should already be enough (with that i could reproduce it on every device I have (Laptop, VM, Pc)). The error does not appear, if server and client are the same device!</p>\n<p>So my question is: How can the result (and integrity) of this TCP transaction depend on the execution speed of the program on the server side and size of the buffer that is sent?</p>\n<p><strong>PS:</strong> By execution speed, I mean the optional added <code>System.out.println()</code> statements in the server program, which sometimes somehow determine whether the client receives the buffer successfully or not.</p>\n<p><strong>Edit:</strong>\nJust by running the server on my pc, and the client on my Laptop while varying the sent buffer size and repeating each for 3 times, I got these outputs:</p>\n<p><em>server: &quot;sending: 2000 bytes&quot;</em>\n<em>client: &quot;expected length: 2000&quot; &quot;received buffer length: 0(first try, 2000 second try, 0 third try)&quot;</em></p>\n<p><em>server: &quot;sending: 8192 bytes&quot;</em>\n<em>client: &quot;expected length: 8192&quot; &quot;received buffer length: 6(first try, 0 second try, 8192 third try)&quot;</em></p>\n<p><em>server: &quot;sending: 20000 bytes&quot;</em>\n<em>client: &quot;expected length: 20000&quot; &quot;received buffer length: 11808(first try, 11808 second try, 11808 third try)&quot;</em></p>\n<p><em>server: &quot;sending: 100000 bytes&quot;</em>\n<em>client: &quot;expected length: 100000&quot; &quot;received buffer length: 91808(first try, 91808 second try, 91808 third try)&quot;</em></p>\n<p><em>server: &quot;sending: 1000000 bytes&quot;</em>\n<em>client: &quot;expected length: 1000000&quot; &quot;received buffer length: 998540(first try, 1000000 second try, 991808 third try)&quot;</em></p>\n"},{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1642493550,"post_id":70752187,"comment_id":125078337,"body_markdown":"Use Gson or Jackson to parse the received String. These libraries also provide methods to parse Json from an `InputStream` which is provided by every http client.","body":"Use Gson or Jackson to parse the received String. These libraries also provide methods to parse Json from an <code>InputStream</code> which is provided by every http client."}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642493687,"creation_date":1642493687,"answer_id":70752256,"question_id":70752187,"body_markdown":"You can use [gson package](https://mvnrepository.com/artifact/com.google.code.gson/gson/2.8.9) to map the string to your UserDto class like the following:\r\n```\r\nString result;  // JSON String of the class &quot;UserDto&quot;.\r\nUserDto userDto = gson.fromJson(result, UserDto.class);\r\nreturn userDto;\r\n```\r\n[jackson](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.13.1) is also an option but I prefer gson as its really simple to map with.","title":"How to convert HttpResponse to Class in Java with HttpClient?","body":"<p>You can use <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson/2.8.9\" rel=\"nofollow noreferrer\">gson package</a> to map the string to your UserDto class like the following:</p>\n<pre><code>String result;  // JSON String of the class &quot;UserDto&quot;.\nUserDto userDto = gson.fromJson(result, UserDto.class);\nreturn userDto;\n</code></pre>\n<p><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.13.1\" rel=\"nofollow noreferrer\">jackson</a> is also an option but I prefer gson as its really simple to map with.</p>\n"},{"tags":[],"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684580732,"creation_date":1684580732,"answer_id":76294878,"question_id":70752187,"body_markdown":"**GSON** can be use to convert a UserDTO to USER class\r\n\r\n\r\nEnsure that you have the Gson library added to your project. If you are using Maven, you can include the following dependency in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nImport the Gson library into your Java class:\r\n\r\n    import com.google.gson.Gson;\r\n\r\nCreate an instance of the Gson class:\r\n\r\n    Gson gson = new Gson();\r\n\r\nUse the Gson instance to convert the UserDTO to a JSON string:\r\n\r\n    String json = gson.toJson(userDTO);\r\n\r\nAssuming your UserDTO object is named userDTO, the toJson() method will convert the UserDTO object to a JSON string representation.\r\n\r\nConvert the JSON string back to a User entity object:\r\n\r\n\r\n    User user = gson.fromJson(json, User.class);\r\n\r\nThis **fromJson**() method parses the JSON string and converts it into a User object of the specified class, which in this case is the User entity class.\r\nMake sure your User entity class has matching field names and types with the UserDTO class to ensure a successful conversion.\r\nBy using Gson, you can easily convert between JSON and Java objects, simplifying the process of converting a UserDTO to a User entity class.\r\n\r\n\r\n","title":"How to convert HttpResponse to Class in Java with HttpClient?","body":"<p><strong>GSON</strong> can be use to convert a UserDTO to USER class</p>\n<p>Ensure that you have the Gson library added to your project. If you are using Maven, you can include the following dependency in your pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Import the Gson library into your Java class:</p>\n<pre><code>import com.google.gson.Gson;\n</code></pre>\n<p>Create an instance of the Gson class:</p>\n<pre><code>Gson gson = new Gson();\n</code></pre>\n<p>Use the Gson instance to convert the UserDTO to a JSON string:</p>\n<pre><code>String json = gson.toJson(userDTO);\n</code></pre>\n<p>Assuming your UserDTO object is named userDTO, the toJson() method will convert the UserDTO object to a JSON string representation.</p>\n<p>Convert the JSON string back to a User entity object:</p>\n<pre><code>User user = gson.fromJson(json, User.class);\n</code></pre>\n<p>This <strong>fromJson</strong>() method parses the JSON string and converts it into a User object of the specified class, which in this case is the User entity class.\nMake sure your User entity class has matching field names and types with the UserDTO class to ensure a successful conversion.\nBy using Gson, you can easily convert between JSON and Java objects, simplifying the process of converting a UserDTO to a User entity class.</p>\n"}],"owner":{"account_id":19618347,"reputation":75,"user_id":14359328,"display_name":"LeTest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2085,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70752256,"answer_count":2,"score":2,"last_activity_date":1684580732,"creation_date":1642493361,"question_id":70752187,"body_markdown":"I am using the Java HttpClient (java.net.http) and I am sending a GET request.\r\n\r\nThe response I get is a JSON String of the class &quot;UserDto&quot;.\r\n\r\n    HttpResponse&lt;String&gt; send = httpClient.send(accept, HttpResponse.BodyHandlers.ofString());\r\n\r\nI don&#39;t want to receive my response as a string but convert it directly into a &quot;UserDto&quot; object.","title":"How to convert HttpResponse to Class in Java with HttpClient?","body":"<p>I am using the Java HttpClient (java.net.http) and I am sending a GET request.</p>\n<p>The response I get is a JSON String of the class &quot;UserDto&quot;.</p>\n<pre><code>HttpResponse&lt;String&gt; send = httpClient.send(accept, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>I don't want to receive my response as a string but convert it directly into a &quot;UserDto&quot; object.</p>\n"},{"tags":["java","jsp","servlets","jdbc"],"comments":[{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376096150,"post_id":18157290,"comment_id":26597887,"body_markdown":"@BalusC I just added more code above, showing how the error is actually generated in my real code.  Can you show me how to fix the problem in my real code, show in the edit above?","body":"@BalusC I just added more code above, showing how the error is actually generated in my real code.  Can you show me how to fix the problem in my real code, show in the edit above?"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376096705,"post_id":18157290,"comment_id":26597977,"body_markdown":"@BalusC The datasource is created in web.xml.  I added the code at the end of my original posting above, just now.  Does this answer your question?  In the doGet method, everything works fine when I comment out the creation/use of the second DAO.  The problem comes when I try to create two different classes which each extend DAO in the same doGet method.  Creating and using one of those classes works fine.  Can you show how to get past this problem?","body":"@BalusC The datasource is created in web.xml.  I added the code at the end of my original posting above, just now.  Does this answer your question?  In the doGet method, everything works fine when I comment out the creation/use of the second DAO.  The problem comes when I try to create two different classes which each extend DAO in the same doGet method.  Creating and using one of those classes works fine.  Can you show how to get past this problem?"}],"answers":[{"tags":[],"owner":{"account_id":438331,"reputation":13843,"user_id":826532,"accept_rate":82,"display_name":"JustDanyul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376097053,"creation_date":1376095003,"answer_id":18157515,"question_id":18157290,"body_markdown":"I suspect that the code where it &quot;runs fine&quot; in, is code actually running in an application server. The example you are posting, which just runs a `static void main()` method, wont get any resources which has been defined in web.xml.\r\n\r\nI am guessing that you use JDNI to setup the initial datasource. And then using something like\r\n\r\n    @Resource(name=&quot;jdbc/mydb&quot;)\r\n    private DataSource dataSource;\r\n\r\nto set up your connection. Right?\r\n\r\nEDIT:\r\n\r\nAfter seeing your code, it seems like your data source is newer initialised at all. Just putting a &lt;resource-ref&gt; element into your web.xml will not do it alone. You will also need to actually configure the dataSource, you know, specify the driver, username, password, uri etc etc etc.\r\n\r\nI&#39;m guessing the find() method of the DAO that works, isn&#39;t actually using the dataSource. What you have shown so far, doesn&#39;t insigunate that your have a initialised dataSource at all. \r\n\r\nJust to give you an idea, I liked a tutorial on how you would do this with Tomcat and JDNI. (Or even better, use spring-jdbc).\r\n\r\nhttp://www.mkyong.com/tomcat/how-to-configure-mysql-datasource-in-tomcat-6/","title":"javax.sql.datasource getconnection returns null","body":"<p>I suspect that the code where it \"runs fine\" in, is code actually running in an application server. The example you are posting, which just runs a <code>static void main()</code> method, wont get any resources which has been defined in web.xml.</p>\n\n<p>I am guessing that you use JDNI to setup the initial datasource. And then using something like</p>\n\n<pre><code>@Resource(name=\"jdbc/mydb\")\nprivate DataSource dataSource;\n</code></pre>\n\n<p>to set up your connection. Right?</p>\n\n<p>EDIT:</p>\n\n<p>After seeing your code, it seems like your data source is newer initialised at all. Just putting a  element into your web.xml will not do it alone. You will also need to actually configure the dataSource, you know, specify the driver, username, password, uri etc etc etc.</p>\n\n<p>I'm guessing the find() method of the DAO that works, isn't actually using the dataSource. What you have shown so far, doesn't insigunate that your have a initialised dataSource at all. </p>\n\n<p>Just to give you an idea, I liked a tutorial on how you would do this with Tomcat and JDNI. (Or even better, use spring-jdbc).</p>\n\n<p><a href=\"http://www.mkyong.com/tomcat/how-to-configure-mysql-datasource-in-tomcat-6/\" rel=\"nofollow\">http://www.mkyong.com/tomcat/how-to-configure-mysql-datasource-in-tomcat-6/</a></p>\n"},{"tags":[],"owner":{"account_id":3552570,"reputation":21,"user_id":2967093,"display_name":"GuillermoEstevez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383870836,"creation_date":1383869612,"answer_id":19849354,"question_id":18157290,"body_markdown":"Use dataSource as `&lt;javax.sql.DataSource&gt;` instance, rather than an instance of `&lt;javax.activation.DataSource&gt;`.\r\n\r\nIn short, you should replace the statement `&lt;import javax.activation.DataSource;&gt;` by this other `&lt;import javax.sql.DataSource;&gt;`.\r\n","title":"javax.sql.datasource getconnection returns null","body":"<p>Use dataSource as <code>&lt;javax.sql.DataSource&gt;</code> instance, rather than an instance of <code>&lt;javax.activation.DataSource&gt;</code>.</p>\n\n<p>In short, you should replace the statement <code>&lt;import javax.activation.DataSource;&gt;</code> by this other <code>&lt;import javax.sql.DataSource;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3552570,"reputation":21,"user_id":2967093,"display_name":"GuillermoEstevez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383871022,"creation_date":1383869919,"answer_id":19849413,"question_id":18157290,"body_markdown":"Use dataSource as javax.sql.DataSource instance, rather than an instance of javax.activation.DataSource. In short, you should replace the statement:\r\n    \r\n    import javax.activation.DataSource; \r\n\r\nby this other: \r\n\r\n    import javax.sql.DataSource;","title":"javax.sql.datasource getconnection returns null","body":"<p>Use dataSource as javax.sql.DataSource instance, rather than an instance of javax.activation.DataSource. In short, you should replace the statement:</p>\n\n<pre><code>import javax.activation.DataSource; \n</code></pre>\n\n<p>by this other: </p>\n\n<pre><code>import javax.sql.DataSource;\n</code></pre>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16157,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":18157515,"answer_count":3,"score":1,"last_activity_date":1684579908,"creation_date":1376092378,"question_id":18157290,"body_markdown":"How can I fix the code below so that it does not throw an error?  \r\n  \r\nThe following line of code is giving me a null pointer exception:  \r\n  \r\n    return dataSource.getConnection();\r\n\r\nNote that dataSource is an instance of javax.sql.DataSource which is specified in web.xml, and which works fine when called by other code.  \r\n  \r\nHere is the actual method in DataAccessObject.java where the null pointer is occurring:  \r\n  \r\n    protected static Connection getConnection(){  \r\n      try {\r\n         return dataSource.getConnection();  //\r\n      } catch (SQLException e) {\r\n         throw new RuntimeException(e);\r\n      }\r\n    }\r\n\r\nThe preceding method is being called by this line of code:  \r\n  \r\n    connection = getConnection();  \r\n  \r\nWhich is located in the following method in a class called CourseSummaryDAO as follows:  \r\n  \r\n    public List&lt;CourseSummary&gt; findAll(Long sid) {\r\n        LinkedList&lt;CourseSummary&gt; coursesummaries = new LinkedList&lt;CourseSummary&gt;();\r\n        ResultSet rs = null;\r\n        PreparedStatement statement = null;\r\n        Connection connection = null;\r\n        try {\r\n            connection = getConnection(); //\r\n            String sql = &quot;select * from coursetotals where spid=?&quot;;\r\n            statement = connection.prepareStatement(sql);\r\n            statement.setLong(1, sid);\r\n            rs = statement.executeQuery();\r\n            //for every row, call read method to extract column \r\n            //values and place them in a coursesummary instance\r\n            while (rs.next()) {\r\n                CourseSummary coursesummary = read(&quot;findAll&quot;, rs);\r\n                coursesummaries.add(coursesummary);\r\n            }\r\n            return coursesummaries;\r\n         }catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n         } \r\n         finally {\r\n            close(rs, statement, connection);\r\n        }\r\n     }  \r\n  \r\nTo recreate this simply, I created the following TestCourseSummaries class:  \r\n  \r\n    public class TestCourseSummaries {\r\n        public static void main(String[] args) {\r\n        Long id = new Long(1002);\r\n        CourseSummaryDAO myCSDAO = new CourseSummaryDAO();\r\n        List&lt;CourseSummary&gt; coursesummaries = myCSDAO.findAll(id);\r\n        for(int i = 0;i&lt;coursesummaries.size();i++){\r\n        System.out.println(&quot;type, numunits are: &quot;+coursesummaries.get(i).getCourseType()+&quot;,&quot;+coursesummaries.get(i).getNumUnits());\r\n        }\r\n    }\r\n    }  \r\n  \r\nEdit\r\n---\r\n  \r\nTo address JustDanyul&#39;s question, I am enclosing the code that calls in my application, and the underlying DataAccessObject code which is extended by the two DAO objects in the calling code:  \r\n  \r\nHere is the code in my application which triggers the error.  See there are two classes that each extended DataAccessObject.  Perhaps they are conflicting with each other, causing the second one not to get the database connection?  \r\n   \r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) \r\n    throws ServletException, IOException {  \r\n       String idString = req.getParameter(&quot;id&quot;);\r\n       Long id = new Long(idString);\r\n       ThisObj thisobj = new ThisDAO().find(id);\r\n       req.setAttribute(&quot;thisobj&quot;, thisobj);\r\n       ThoseObjDAO myThoseDAO = new ThoseObjDAO();\r\n       List&lt;ThoseObj&gt; thoseobjects = myThoseObjDAO.findAll(id);\r\n       req.setAttribute(&quot;thoseobjects&quot;, thoseobjects);\r\n       jsp.forward(req, resp);\r\n    }\r\n  \r\nAnd here is the code for the DataAccessObject class which is extended by the two DAO classes in the calling code:  \r\n  \r\n    public class DataAccessObject {\r\n    private static DataSource dataSource;\r\n    private static Object idLock = new Object();\r\n\r\n    public static void setDataSource(DataSource dataSource) {\r\n       DataAccessObject.dataSource = dataSource;\r\n    }\r\n\r\n    protected static Connection getConnection() {\r\n       try {return dataSource.getConnection();}\r\n       catch (SQLException e) {throw new RuntimeException(e);}\r\n    }\r\n\r\n    protected static void close(Statement statement, Connection connection) {\r\n       close(null, statement, connection);\r\n    }\r\n\r\n    protected static void close(ResultSet rs, Statement statement, Connection connection) {\r\n       try {\r\n          if (rs != null) rs.close();\r\n          if (statement != null) statement.close();\r\n          if (connection != null) connection.close();\r\n       } catch (SQLException e) {throw new RuntimeException(e);}\r\n    }\r\n\r\n    protected static Long getUniqueId() {\r\n       ResultSet rs = null;\r\n       PreparedStatement statement = null;\r\n       Connection connection = null;\r\n       try {\r\n          connection = getConnection();\r\n          synchronized (idLock) {\r\n             statement = connection.prepareStatement(&quot;select next_value from sequence&quot;);\r\n             rs = statement.executeQuery();\r\n             rs.first();\r\n             long id = rs.getLong(1);\r\n             statement.close();\r\n             statement = connection.prepareStatement(&quot;update sequence set next_value = ?&quot;);\r\n             statement.setLong(1, id + 1);\r\n             statement.executeUpdate();\r\n             statement.close();\r\n             return new Long(id);\r\n          }\r\n       }\r\n       catch (SQLException e) {throw new RuntimeException(e);}\r\n       finally{close(rs, statement, connection);}\r\n    }\r\n    }  \r\n  \r\nThe data source is created in web.xml, as follows:  \r\n  \r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;dataSource&lt;/description&gt;\r\n        &lt;res-ref-name&gt;datasource&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n","title":"javax.sql.datasource getconnection returns null","body":"<p>How can I fix the code below so that it does not throw an error?</p>\n<p>The following line of code is giving me a null pointer exception:</p>\n<pre><code>return dataSource.getConnection();\n</code></pre>\n<p>Note that dataSource is an instance of javax.sql.DataSource which is specified in web.xml, and which works fine when called by other code.</p>\n<p>Here is the actual method in DataAccessObject.java where the null pointer is occurring:</p>\n<pre><code>protected static Connection getConnection(){  \n  try {\n     return dataSource.getConnection();  //\n  } catch (SQLException e) {\n     throw new RuntimeException(e);\n  }\n}\n</code></pre>\n<p>The preceding method is being called by this line of code:</p>\n<pre><code>connection = getConnection();  \n</code></pre>\n<p>Which is located in the following method in a class called CourseSummaryDAO as follows:</p>\n<pre><code>public List&lt;CourseSummary&gt; findAll(Long sid) {\n    LinkedList&lt;CourseSummary&gt; coursesummaries = new LinkedList&lt;CourseSummary&gt;();\n    ResultSet rs = null;\n    PreparedStatement statement = null;\n    Connection connection = null;\n    try {\n        connection = getConnection(); //\n        String sql = &quot;select * from coursetotals where spid=?&quot;;\n        statement = connection.prepareStatement(sql);\n        statement.setLong(1, sid);\n        rs = statement.executeQuery();\n        //for every row, call read method to extract column \n        //values and place them in a coursesummary instance\n        while (rs.next()) {\n            CourseSummary coursesummary = read(&quot;findAll&quot;, rs);\n            coursesummaries.add(coursesummary);\n        }\n        return coursesummaries;\n     }catch (SQLException e) {\n        throw new RuntimeException(e);\n     } \n     finally {\n        close(rs, statement, connection);\n    }\n }  \n</code></pre>\n<p>To recreate this simply, I created the following TestCourseSummaries class:</p>\n<pre><code>public class TestCourseSummaries {\n    public static void main(String[] args) {\n    Long id = new Long(1002);\n    CourseSummaryDAO myCSDAO = new CourseSummaryDAO();\n    List&lt;CourseSummary&gt; coursesummaries = myCSDAO.findAll(id);\n    for(int i = 0;i&lt;coursesummaries.size();i++){\n    System.out.println(&quot;type, numunits are: &quot;+coursesummaries.get(i).getCourseType()+&quot;,&quot;+coursesummaries.get(i).getNumUnits());\n    }\n}\n}  \n</code></pre>\n<h2>Edit</h2>\n<p>To address JustDanyul's question, I am enclosing the code that calls in my application, and the underlying DataAccessObject code which is extended by the two DAO objects in the calling code:</p>\n<p>Here is the code in my application which triggers the error.  See there are two classes that each extended DataAccessObject.  Perhaps they are conflicting with each other, causing the second one not to get the database connection?</p>\n<pre><code>protected void doGet(HttpServletRequest req, HttpServletResponse resp) \nthrows ServletException, IOException {  \n   String idString = req.getParameter(&quot;id&quot;);\n   Long id = new Long(idString);\n   ThisObj thisobj = new ThisDAO().find(id);\n   req.setAttribute(&quot;thisobj&quot;, thisobj);\n   ThoseObjDAO myThoseDAO = new ThoseObjDAO();\n   List&lt;ThoseObj&gt; thoseobjects = myThoseObjDAO.findAll(id);\n   req.setAttribute(&quot;thoseobjects&quot;, thoseobjects);\n   jsp.forward(req, resp);\n}\n</code></pre>\n<p>And here is the code for the DataAccessObject class which is extended by the two DAO classes in the calling code:</p>\n<pre><code>public class DataAccessObject {\nprivate static DataSource dataSource;\nprivate static Object idLock = new Object();\n\npublic static void setDataSource(DataSource dataSource) {\n   DataAccessObject.dataSource = dataSource;\n}\n\nprotected static Connection getConnection() {\n   try {return dataSource.getConnection();}\n   catch (SQLException e) {throw new RuntimeException(e);}\n}\n\nprotected static void close(Statement statement, Connection connection) {\n   close(null, statement, connection);\n}\n\nprotected static void close(ResultSet rs, Statement statement, Connection connection) {\n   try {\n      if (rs != null) rs.close();\n      if (statement != null) statement.close();\n      if (connection != null) connection.close();\n   } catch (SQLException e) {throw new RuntimeException(e);}\n}\n\nprotected static Long getUniqueId() {\n   ResultSet rs = null;\n   PreparedStatement statement = null;\n   Connection connection = null;\n   try {\n      connection = getConnection();\n      synchronized (idLock) {\n         statement = connection.prepareStatement(&quot;select next_value from sequence&quot;);\n         rs = statement.executeQuery();\n         rs.first();\n         long id = rs.getLong(1);\n         statement.close();\n         statement = connection.prepareStatement(&quot;update sequence set next_value = ?&quot;);\n         statement.setLong(1, id + 1);\n         statement.executeUpdate();\n         statement.close();\n         return new Long(id);\n      }\n   }\n   catch (SQLException e) {throw new RuntimeException(e);}\n   finally{close(rs, statement, connection);}\n}\n}  \n</code></pre>\n<p>The data source is created in web.xml, as follows:</p>\n<pre><code>&lt;resource-ref&gt;\n    &lt;description&gt;dataSource&lt;/description&gt;\n    &lt;res-ref-name&gt;datasource&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n"},{"tags":["java","android","android-layout","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":2213801,"reputation":1418,"user_id":1954960,"accept_rate":83,"display_name":"Zafer Celaloglu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1567880489,"creation_date":1567880061,"answer_id":57836332,"question_id":57836099,"body_markdown":"add below dependency:\r\n\r\n    dependencies {\r\n        // https://mvnrepository.com/artifact/com.google.android.material/material\r\n        implementation &quot;com.google.android.material:material:1.0.0&quot;\r\n    }\r\n\r\nand use `com.google.android.material.bottomnavigation.BottomNavigationView` instead\r\n","title":"How to solve Error inflating class android.support.design.widget.BottomNavigationView?","body":"<p>add below dependency:</p>\n\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/com.google.android.material/material\n    implementation \"com.google.android.material:material:1.0.0\"\n}\n</code></pre>\n\n<p>and use <code>com.google.android.material.bottomnavigation.BottomNavigationView</code> instead</p>\n"},{"tags":[],"owner":{"account_id":9573471,"reputation":1102,"user_id":7110428,"display_name":"Nidheesh MT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567921299,"creation_date":1567921299,"answer_id":57839458,"question_id":57836099,"body_markdown":"You cannot mix both support and androidx libraries together in the same project, there will surely be conflicts unless you&#39;re using Jetpack tool. Migrate your support libraries to androidx \r\n\r\nAlso References in an Androidx layout file should all be androidx artifacts and not otherwise.\r\n\r\nHence tag like this:\r\n\r\n      &lt;android.support.design.widget.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:background=&quot;@color/purpleBae&quot;\r\n        app:itemIconTint=&quot;@android:color/white&quot;\r\n        app:itemTextColor=&quot;@android:color/white&quot;\r\n        app:menu=&quot;@menu/home_menu&quot; /&gt;\r\n\r\n\r\n\r\n\r\n\r\nShould be:\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n      android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:background=&quot;@color/purpleBae&quot;\r\n        app:itemIconTint=&quot;@android:color/white&quot;\r\n        app:itemTextColor=&quot;@android:color/white&quot;\r\n        app:menu=&quot;@menu/home_menu&quot; /&gt;\r\n","title":"How to solve Error inflating class android.support.design.widget.BottomNavigationView?","body":"<p>You cannot mix both support and androidx libraries together in the same project, there will surely be conflicts unless you're using Jetpack tool. Migrate your support libraries to androidx </p>\n\n<p>Also References in an Androidx layout file should all be androidx artifacts and not otherwise.</p>\n\n<p>Hence tag like this:</p>\n\n<pre><code>  &lt;android.support.design.widget.BottomNavigationView\n    android:id=\"@+id/bottom_navigation\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:background=\"@color/purpleBae\"\n    app:itemIconTint=\"@android:color/white\"\n    app:itemTextColor=\"@android:color/white\"\n    app:menu=\"@menu/home_menu\" /&gt;\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n  android:id=\"@+id/bottom_navigation\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:background=\"@color/purpleBae\"\n    app:itemIconTint=\"@android:color/white\"\n    app:itemTextColor=\"@android:color/white\"\n    app:menu=\"@menu/home_menu\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":16597047,"reputation":117,"user_id":11993676,"display_name":"lilin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":57836332,"answer_count":2,"score":1,"last_activity_date":1684579027,"creation_date":1567878403,"question_id":57836099,"body_markdown":"I&#39;m trying to implement the method Bottom Navigation view but when i run my code i get this error\r\n\r\nCaused by: android.view.InflateException: Binary XML file line #19: Binary XML file line #19: Error inflating class android.support.design.widget.BottomNavigationView\r\n     Caused by: android.view.InflateException: Binary XML file line #19: Error inflating class android.support.design.widget.BottomNavigationView\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.support.design.widget.BottomNavigationView&quot; on path: DexPathList[\r\n\r\nwhat should i do to solve this problems?\r\n\r\nactivity_home layout\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    app:layout_behavior=&quot;android:.support.design.widget.BottomSheetBehaviour&quot;\r\n    tools:context=&quot;.HomeActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/fragment_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/bottom_navigation&quot;&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;android.support.design.widget.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:background=&quot;@color/purpleBae&quot;\r\n        app:itemIconTint=&quot;@android:color/white&quot;\r\n        app:itemTextColor=&quot;@android:color/white&quot;\r\n        app:menu=&quot;@menu/home_menu&quot; /&gt;\r\n    \r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nbuild.gradle(Module app)\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.gerobokgoapp&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    packagingOptions {\r\n        // Exclude file to avoid\r\n        // Error: Duplicate files during packaging of APK\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/ASL2.0&#39;\r\n        exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n    }\r\n\r\n    compileOptions {\r\n        incremental true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n\r\n    //add libraries\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:17.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:21.0.0&#39;\r\n    implementation &#39;com.jakewharton:butterknife:10.1.0&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.1.0&#39;\r\n    implementation &#39;com.facebook.android:account-kit-sdk:4.39.0&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    testImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n}\r\n```","title":"How to solve Error inflating class android.support.design.widget.BottomNavigationView?","body":"<p>I'm trying to implement the method Bottom Navigation view but when i run my code i get this error</p>\n\n<p>Caused by: android.view.InflateException: Binary XML file line #19: Binary XML file line #19: Error inflating class android.support.design.widget.BottomNavigationView\n     Caused by: android.view.InflateException: Binary XML file line #19: Error inflating class android.support.design.widget.BottomNavigationView\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.design.widget.BottomNavigationView\" on path: DexPathList[</p>\n\n<p>what should i do to solve this problems?</p>\n\n<p>activity_home layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white\"\n    app:layout_behavior=\"android:.support.design.widget.BottomSheetBehaviour\"\n    tools:context=\".HomeActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/fragment_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@+id/bottom_navigation\"&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/bottom_navigation\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@color/purpleBae\"\n        app:itemIconTint=\"@android:color/white\"\n        app:itemTextColor=\"@android:color/white\"\n        app:menu=\"@menu/home_menu\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>build.gradle(Module app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.gerobokgoapp\"\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    packagingOptions {\n        // Exclude file to avoid\n        // Error: Duplicate files during packaging of APK\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/services/javax.annotation.processing.Processor'\n    }\n\n    compileOptions {\n        incremental true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n\n    //add libraries\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.google.android.gms:play-services-auth:17.0.0'\n    implementation 'com.google.firebase:firebase-firestore:21.0.0'\n    implementation 'com.jakewharton:butterknife:10.1.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.1.0'\n    implementation 'com.facebook.android:account-kit-sdk:4.39.0'\n\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    testImplementation 'androidx.test.ext:junit:1.1.1'\n}\n</code></pre>\n"},{"tags":["java","azure","azure-sql-database"],"comments":[{"owner":{"account_id":408473,"reputation":11188,"user_id":779158,"accept_rate":90,"display_name":"rahularyansharma"},"score":0,"creation_date":1684581157,"post_id":76294723,"comment_id":134539901,"body_markdown":"You almost checked all options by using parameterized query as well connection pooling so there could be two more things you can check , one is just look for a right batch size by experimenting the batch size and second thing by default JDBC commit each individual statement. you can disable that auto commit and they give it a try. Thanks also you can look into this https://stackoverflow.com/questions/3784197/efficient-way-to-do-batch-inserts-with-jdbc","body":"You almost checked all options by using parameterized query as well connection pooling so there could be two more things you can check , one is just look for a right batch size by experimenting the batch size and second thing by default JDBC commit each individual statement. you can disable that auto commit and they give it a try. Thanks also you can look into this <a href=\"https://stackoverflow.com/questions/3784197/efficient-way-to-do-batch-inserts-with-jdbc\" title=\"efficient way to do batch inserts with jdbc\">stackoverflow.com/questions/3784197/&hellip;</a>"}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684578620,"creation_date":1684578620,"question_id":76294723,"body_markdown":"I am going through this [Doc][1], to improve the performance of my insert query in Azure SQL, it says  Bulk Copy API does not support `Date` field is there any way via which i can improve my inserts in Azure SQL. I heavy write requirements. \r\n\r\nBelow is the code i am using:\r\n\r\n       public void saveAllJdbc(List&lt;JdbcDetail&gt; jdbcDetails){\r\n\r\n           String sql = String.format(&quot;INSERT INTO %s  VALUES (?, ?, ?,?)&quot;, &quot;my-table&quot;);\r\n    \r\n           try (Connection connection = hikariDataSource.getConnection();\r\n                 PreparedStatement statement = connection.prepareStatement(sql);\r\n            ){\r\n                int counter = 0;\r\n\r\n                for (JdbcDetail row : jdbcDetails) {\r\n                    statement.clearParameters();\r\n                    statement.setInt(1, row.getQuantity());\r\n                    statement.setDate(2, Date.valueOf(row.getDate()));\r\n                    statement.setFloat(3, row.getId());\r\n                    statement.setInt(4, row.getNum());\r\n                  \r\n                    statement.addBatch();\r\n                    if ((counter + 1) % 10000 == 0) {\r\n                       statement.executeBatch();\r\n                      statement.clearBatch();\r\n                    }\r\n    \r\n                    counter++;\r\n                }\r\n    \r\n           } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver16","title":"Azure SQL JDBC Use Bulk Insert","body":"<p>I am going through this <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver16\" rel=\"nofollow noreferrer\">Doc</a>, to improve the performance of my insert query in Azure SQL, it says  Bulk Copy API does not support <code>Date</code> field is there any way via which i can improve my inserts in Azure SQL. I heavy write requirements.</p>\n<p>Below is the code i am using:</p>\n<pre><code>   public void saveAllJdbc(List&lt;JdbcDetail&gt; jdbcDetails){\n\n       String sql = String.format(&quot;INSERT INTO %s  VALUES (?, ?, ?,?)&quot;, &quot;my-table&quot;);\n\n       try (Connection connection = hikariDataSource.getConnection();\n             PreparedStatement statement = connection.prepareStatement(sql);\n        ){\n            int counter = 0;\n\n            for (JdbcDetail row : jdbcDetails) {\n                statement.clearParameters();\n                statement.setInt(1, row.getQuantity());\n                statement.setDate(2, Date.valueOf(row.getDate()));\n                statement.setFloat(3, row.getId());\n                statement.setInt(4, row.getNum());\n              \n                statement.addBatch();\n                if ((counter + 1) % 10000 == 0) {\n                   statement.executeBatch();\n                  statement.clearBatch();\n                }\n\n                counter++;\n            }\n\n       } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9571,"page":421,"page_size":100}
